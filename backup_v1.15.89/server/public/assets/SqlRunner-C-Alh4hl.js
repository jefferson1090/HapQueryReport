import{B as Ue,p as So,c as Tn,g as I0,k as gI,b as LI,s as DI,r as _e,j as X,a as xI,T as PI,u as MI,E as vI,P as Mf,d as Ba,X as aE,e as UI,M as yI,S as vf,f as Uf,h as yf,D as wf,i as wI,m as FI,l as BI,n as bI,F as GI}from"./index-CvgOkeG5.js";var yo={};yo.version="0.18.5";var N0=1252,HI=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],p0=function(r){HI.indexOf(r)!=-1&&(N0=r)};function kI(){p0(1252)}var Xs=function(r){p0(r)};function YI(){Xs(1200),kI()}var ba=function(e){return String.fromCharCode(e)},Ff=function(e){return String.fromCharCode(e)},wo,gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ks(r){for(var e="",t=0,i=0,n=0,s=0,a=0,o=0,l=0,E=0;E<r.length;)t=r.charCodeAt(E++),s=t>>2,i=r.charCodeAt(E++),a=(t&3)<<4|i>>4,n=r.charCodeAt(E++),o=(i&15)<<2|n>>6,l=n&63,isNaN(i)?o=l=64:isNaN(n)&&(l=64),e+=gi.charAt(s)+gi.charAt(a)+gi.charAt(o)+gi.charAt(l);return e}function Ti(r){var e="",t=0,i=0,n=0,s=0,a=0,o=0,l=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var E=0;E<r.length;)s=gi.indexOf(r.charAt(E++)),a=gi.indexOf(r.charAt(E++)),t=s<<2|a>>4,e+=String.fromCharCode(t),o=gi.indexOf(r.charAt(E++)),i=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(i)),l=gi.indexOf(r.charAt(E++)),n=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(n));return e}var Ve=(function(){return typeof Ue<"u"&&typeof So<"u"&&typeof So.versions<"u"&&!!So.versions.node})(),di=(function(){if(typeof Ue<"u"){var r=!Ue.from;if(!r)try{Ue.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Ue(e,t):new Ue(e)}:Ue.from.bind(Ue)}return function(){}})();function nn(r){return Ve?Ue.alloc?Ue.alloc(r):new Ue(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function Bf(r){return Ve?Ue.allocUnsafe?Ue.allocUnsafe(r):new Ue(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var vr=function(e){return Ve?di(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Cl(r){if(typeof ArrayBuffer>"u")return vr(r);for(var e=new ArrayBuffer(r.length),t=new Uint8Array(e),i=0;i!=r.length;++i)t[i]=r.charCodeAt(i)&255;return e}function Aa(r){if(Array.isArray(r))return r.map(function(i){return String.fromCharCode(i)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function VI(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}var vt=Ve?function(r){return Ue.concat(r.map(function(e){return Ue.isBuffer(e)?e:di(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var i=new Uint8Array(t),n=0;for(e=0,t=0;e<r.length;t+=n,++e)if(n=r[e].length,r[e]instanceof Uint8Array)i.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";i.set(new Uint8Array(r[e]),t)}return i}return[].concat.apply([],r.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function WI(r){for(var e=[],t=0,i=r.length+250,n=nn(r.length+255),s=0;s<r.length;++s){var a=r.charCodeAt(s);if(a<128)n[t++]=a;else if(a<2048)n[t++]=192|a>>6&31,n[t++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=r.charCodeAt(++s)&1023;n[t++]=240|a>>8&7,n[t++]=128|a>>2&63,n[t++]=128|o>>6&15|(a&3)<<4,n[t++]=128|o&63}else n[t++]=224|a>>12&15,n[t++]=128|a>>6&63,n[t++]=128|a&63;t>i&&(e.push(n.slice(0,t)),t=0,n=nn(65535),i=65530)}return e.push(n.slice(0,t)),vt(e)}var Ms=/\u0000/g,Ga=/[\u0001-\u0006]/g;function Bn(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function Ur(r,e){var t=""+r;return t.length>=e?t:at("0",e-t.length)+t}function Dc(r,e){var t=""+r;return t.length>=e?t:at(" ",e-t.length)+t}function Fo(r,e){var t=""+r;return t.length>=e?t:t+at(" ",e-t.length)}function XI(r,e){var t=""+Math.round(r);return t.length>=e?t:at("0",e-t.length)+t}function KI(r,e){var t=""+r;return t.length>=e?t:at("0",e-t.length)+t}var bf=Math.pow(2,32);function pn(r,e){if(r>bf||r<-bf)return XI(r,e);var t=Math.round(r);return KI(t,e)}function Bo(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var Gf=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],oE=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function $I(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',r}var ot={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},Hf={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},JI={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function bo(r,e,t){for(var i=r<0?-1:1,n=r*i,s=0,a=1,o=0,l=1,E=0,h=0,c=Math.floor(n);E<e&&(c=Math.floor(n),o=c*a+s,h=c*E+l,!(n-c<5e-8));)n=1/(n-c),s=a,a=o,l=E,E=h;if(h>e&&(E>e?(h=l,o=s):(h=E,o=a)),!t)return[0,i*o,h];var f=Math.floor(i*o/h);return[f,i*o-f*h,h]}function Ha(r,e,t){if(r>2958465||r<0)return null;var i=r|0,n=Math.floor(86400*(r-i)),s=0,a=[],o={D:i,T:n,u:86400*(r-i)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(i+=1462),o.u>.9999&&(o.u=0,++n==86400&&(o.T=n=0,++i,++o.D)),i===60)a=t?[1317,10,29]:[1900,2,29],s=3;else if(i===0)a=t?[1317,8,29]:[1900,1,0],s=6;else{i>60&&--i;var l=new Date(1900,0,1);l.setDate(l.getDate()+i-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),i<60&&(s=(s+6)%7),t&&(s=tN(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=n%60,n=Math.floor(n/60),o.M=n%60,n=Math.floor(n/60),o.H=n,o.q=s,o}var m0=new Date(1899,11,31,0,0,0),zI=m0.getTime(),qI=new Date(1900,2,1,0,0,0);function C0(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=qI&&(t+=1440*60*1e3),(t-(zI+(r.getTimezoneOffset()-m0.getTimezoneOffset())*6e4))/(1440*60*1e3)}function xc(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function QI(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function jI(r){var e=r<0?12:11,t=xc(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function ZI(r){var e=xc(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function eN(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=jI(r):e===10?t=r.toFixed(10).substr(0,12):t=ZI(r),xc(QI(t.toUpperCase()))}function Ih(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):eN(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return vi(14,C0(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function tN(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function rN(r,e,t,i){var n="",s=0,a=0,o=t.y,l,E=0;switch(r){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,E=2;break;default:l=o%1e4,E=4;break}break;case 109:switch(e.length){case 1:case 2:l=t.m,E=e.length;break;case 3:return oE[t.m-1][1];case 5:return oE[t.m-1][0];default:return oE[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=t.d,E=e.length;break;case 3:return Gf[t.q][0];default:return Gf[t.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(t.H+11)%12,E=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=t.H,E=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=t.M,E=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Ur(t.S,e.length):(i>=2?a=i===3?1e3:100:a=i===1?10:1,s=Math.round(a*(t.S+t.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(n=Ur(s,2+i),e==="ss"?n.substr(0,2):"."+n.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=t.D*24+t.H;break;case"[m]":case"[mm]":l=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":l=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}E=e.length===3?1:2;break;case 101:l=o,E=1;break}var h=E>0?Ur(l,E):"";return h}function Li(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,i=r.substr(0,t);t!=r.length;t+=e)i+=(i.length>0?",":"")+r.substr(t,e);return i}var _0=/%/g;function iN(r,e,t){var i=e.replace(_0,""),n=e.length-i.length;return Ei(r,i,t*Math.pow(10,2*n))+at("%",n)}function nN(r,e,t){for(var i=e.length-1;e.charCodeAt(i-1)===44;)--i;return Ei(r,e.substr(0,i),t/Math.pow(10,3*(e.length-i)))}function g0(r,e){var t,i=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+g0(r,-e);var n=r.indexOf(".");n===-1&&(n=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%n;if(s<0&&(s+=n),t=(e/Math.pow(10,s)).toPrecision(i+1+(n+s)%n),t.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,n)+"."+t.substr(2+n),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,E,h){return l+E+h.substr(0,(n+s)%n)+"."+h.substr(s)+"E"})}else t=e.toExponential(i);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var L0=/# (\?+)( ?)\/( ?)(\d+)/;function sN(r,e,t){var i=parseInt(r[4],10),n=Math.round(e*i),s=Math.floor(n/i),a=n-s*i,o=i;return t+(s===0?"":""+s)+" "+(a===0?at(" ",r[1].length+1+r[4].length):Dc(a,r[1].length)+r[2]+"/"+r[3]+Ur(o,r[4].length))}function aN(r,e,t){return t+(e===0?"":""+e)+at(" ",r[1].length+2+r[4].length)}var D0=/^#*0*\.([0#]+)/,x0=/\).*[0#]/,P0=/\(###\) ###\\?-####/;function Xt(r){for(var e="",t,i=0;i!=r.length;++i)switch(t=r.charCodeAt(i)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function kf(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function Yf(r,e){var t=r-Math.floor(r),i=Math.pow(10,e);return e<(""+Math.round(t*i)).length?0:Math.round(t*i)}function oN(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function lN(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function Rr(r,e,t){if(r.charCodeAt(0)===40&&!e.match(x0)){var i=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Rr("n",i,t):"("+Rr("n",i,-t)+")"}if(e.charCodeAt(e.length-1)===44)return nN(r,e,t);if(e.indexOf("%")!==-1)return iN(r,e,t);if(e.indexOf("E")!==-1)return g0(e,t);if(e.charCodeAt(0)===36)return"$"+Rr(r,e.substr(e.charAt(1)==" "?2:1),t);var n,s,a,o,l=Math.abs(t),E=t<0?"-":"";if(e.match(/^00+$/))return E+pn(l,e.length);if(e.match(/^[#?]+$/))return n=pn(t,0),n==="0"&&(n=""),n.length>e.length?n:Xt(e.substr(0,e.length-n.length))+n;if(s=e.match(L0))return sN(s,l,E);if(e.match(/^#+0+$/))return E+pn(l,e.length-e.indexOf("0"));if(s=e.match(D0))return n=kf(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Xt(s[1])).replace(/\.$/,"."+Xt(s[1])).replace(/\.(\d*)$/,function(A,u){return"."+u+at("0",Xt(s[1]).length-u.length)}),e.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return E+kf(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return E+Li(pn(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Rr(r,e,-t):Li(""+(Math.floor(t)+oN(t,s[1].length)))+"."+Ur(Yf(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Rr(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Bn(Rr(r,e.replace(/[\\-]/g,""),t)),a=0,Bn(Bn(e.replace(/\\/g,"")).replace(/[0#]/g,function(A){return a<n.length?n.charAt(a++):A==="0"?"0":""}));if(e.match(P0))return n=Rr(r,"##########",t),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=bo(l,Math.pow(10,a)-1,!1),n=""+E,h=Ei("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),n+=h+s[2]+"/"+s[3],h=Fo(o[2],a),h.length<s[4].length&&(h=Xt(s[4].substr(s[4].length-h.length))+h),n+=h,n;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=bo(l,Math.pow(10,a)-1,!0),E+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Dc(o[1],a)+s[2]+"/"+s[3]+Fo(o[2],a):at(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return n=pn(t,0),e.length<=n.length?n:Xt(e.substr(0,e.length-n.length))+n;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){n=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=n.indexOf(".");var c=e.indexOf(".")-a,f=e.length-n.length-c;return Xt(e.substr(0,c)+n+e.substr(e.length-f))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=Yf(t,s[1].length),t<0?"-"+Rr(r,e,-t):Li(lN(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?Ur(0,3-A.length):"")+A})+"."+Ur(a,s[1].length);switch(e){case"###,##0.00":return Rr(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var T=Li(pn(l,0));return T!=="0"?E+T:"";case"###,###.00":return Rr(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Rr(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function EN(r,e,t){for(var i=e.length-1;e.charCodeAt(i-1)===44;)--i;return Ei(r,e.substr(0,i),t/Math.pow(10,3*(e.length-i)))}function hN(r,e,t){var i=e.replace(_0,""),n=e.length-i.length;return Ei(r,i,t*Math.pow(10,2*n))+at("%",n)}function M0(r,e){var t,i=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+M0(r,-e);var n=r.indexOf(".");n===-1&&(n=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%n;if(s<0&&(s+=n),t=(e/Math.pow(10,s)).toPrecision(i+1+(n+s)%n),!t.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,E,h){return l+E+h.substr(0,(n+s)%n)+"."+h.substr(s)+"E"})}else t=e.toExponential(i);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Wr(r,e,t){if(r.charCodeAt(0)===40&&!e.match(x0)){var i=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Wr("n",i,t):"("+Wr("n",i,-t)+")"}if(e.charCodeAt(e.length-1)===44)return EN(r,e,t);if(e.indexOf("%")!==-1)return hN(r,e,t);if(e.indexOf("E")!==-1)return M0(e,t);if(e.charCodeAt(0)===36)return"$"+Wr(r,e.substr(e.charAt(1)==" "?2:1),t);var n,s,a,o,l=Math.abs(t),E=t<0?"-":"";if(e.match(/^00+$/))return E+Ur(l,e.length);if(e.match(/^[#?]+$/))return n=""+t,t===0&&(n=""),n.length>e.length?n:Xt(e.substr(0,e.length-n.length))+n;if(s=e.match(L0))return aN(s,l,E);if(e.match(/^#+0+$/))return E+Ur(l,e.length-e.indexOf("0"));if(s=e.match(D0))return n=(""+t).replace(/^([^\.]+)$/,"$1."+Xt(s[1])).replace(/\.$/,"."+Xt(s[1])),n=n.replace(/\.(\d*)$/,function(A,u){return"."+u+at("0",Xt(s[1]).length-u.length)}),e.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return E+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return E+Li(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Wr(r,e,-t):Li(""+t)+"."+at("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Wr(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Bn(Wr(r,e.replace(/[\\-]/g,""),t)),a=0,Bn(Bn(e.replace(/\\/g,"")).replace(/[0#]/g,function(A){return a<n.length?n.charAt(a++):A==="0"?"0":""}));if(e.match(P0))return n=Wr(r,"##########",t),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=bo(l,Math.pow(10,a)-1,!1),n=""+E,h=Ei("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),n+=h+s[2]+"/"+s[3],h=Fo(o[2],a),h.length<s[4].length&&(h=Xt(s[4].substr(s[4].length-h.length))+h),n+=h,n;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=bo(l,Math.pow(10,a)-1,!0),E+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Dc(o[1],a)+s[2]+"/"+s[3]+Fo(o[2],a):at(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return n=""+t,e.length<=n.length?n:Xt(e.substr(0,e.length-n.length))+n;if(s=e.match(/^([#0]+)\.([#0]+)$/)){n=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=n.indexOf(".");var c=e.indexOf(".")-a,f=e.length-n.length-c;return Xt(e.substr(0,c)+n+e.substr(e.length-f))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Wr(r,e,-t):Li(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?Ur(0,3-A.length):"")+A})+"."+Ur(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var T=Li(""+l);return T!=="0"?E+T:"";default:if(e.match(/\.[0#?]*$/))return Wr(r,e.slice(0,e.lastIndexOf(".")),t)+Xt(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ei(r,e,t){return(t|0)===t?Wr(r,e,t):Rr(r,e,t)}function cN(r){for(var e=[],t=!1,i=0,n=0;i<r.length;++i)switch(r.charCodeAt(i)){case 34:t=!t;break;case 95:case 42:case 92:++i;break;case 59:e[e.length]=r.substr(n,i-n),n=i+1}if(e[e.length]=r.substr(n),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var v0=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function U0(r){for(var e=0,t="",i="";e<r.length;)switch(t=r.charAt(e)){case"G":Bo(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(i=t;r.charAt(e++)!=="]"&&e<r.length;)i+=r.charAt(e);if(i.match(v0))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function fN(r,e,t,i){for(var n=[],s="",a=0,o="",l="t",E,h,c,f="H";a<r.length;)switch(o=r.charAt(a)){case"G":if(!Bo(r,a))throw new Error("unrecognized character "+o+" in "+r);n[n.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(c=r.charCodeAt(++a))!==34&&a<r.length;)s+=String.fromCharCode(c);n[n.length]={t:"t",v:s},++a;break;case"\\":var T=r.charAt(++a),A=T==="("||T===")"?T:"t";n[n.length]={t:A,v:T},++a;break;case"_":n[n.length]={t:"t",v:" "},a+=2;break;case"@":n[n.length]={t:"T",v:e},++a;break;case"B":case"b":if(r.charAt(a+1)==="1"||r.charAt(a+1)==="2"){if(E==null&&(E=Ha(e,t,r.charAt(a+1)==="2"),E==null))return"";n[n.length]={t:"X",v:r.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||E==null&&(E=Ha(e,t),E==null))return"";for(s=o;++a<r.length&&r.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=f),n[n.length]={t:o,v:s},l=o;break;case"A":case"a":case"上":var u={t:o,v:o};if(E==null&&(E=Ha(e,t)),r.substr(a,3).toUpperCase()==="A/P"?(E!=null&&(u.v=E.H>=12?"P":"A"),u.t="T",f="h",a+=3):r.substr(a,5).toUpperCase()==="AM/PM"?(E!=null&&(u.v=E.H>=12?"PM":"AM"),u.t="T",a+=5,f="h"):r.substr(a,5).toUpperCase()==="上午/下午"?(E!=null&&(u.v=E.H>=12?"下午":"上午"),u.t="T",a+=5,f="h"):(u.t="t",++a),E==null&&u.t==="T")return"";n[n.length]=u,l=o;break;case"[":for(s=o;r.charAt(a++)!=="]"&&a<r.length;)s+=r.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(v0)){if(E==null&&(E=Ha(e,t),E==null))return"";n[n.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",U0(r)||(n[n.length]={t:"t",v:s}));break;case".":if(E!=null){for(s=o;++a<r.length&&(o=r.charAt(a))==="0";)s+=o;n[n.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<r.length&&"0#?.,E+-%".indexOf(o=r.charAt(a))>-1;)s+=o;n[n.length]={t:"n",v:s};break;case"?":for(s=o;r.charAt(++a)===o;)s+=o;n[n.length]={t:o,v:s},l=o;break;case"*":++a,(r.charAt(a)==" "||r.charAt(a)=="*")&&++a;break;case"(":case")":n[n.length]={t:i===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<r.length&&"0123456789".indexOf(r.charAt(++a))>-1;)s+=r.charAt(a);n[n.length]={t:"D",v:s};break;case" ":n[n.length]={t:o,v:o},++a;break;case"$":n[n.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+r);n[n.length]={t:"t",v:o},++a;break}var R=0,d=0,O;for(a=n.length-1,l="t";a>=0;--a)switch(n[a].t){case"h":case"H":n[a].t=f,l="h",R<1&&(R=1);break;case"s":(O=n[a].v.match(/\.0+$/))&&(d=Math.max(d,O[0].length-1)),R<3&&(R=3);case"d":case"y":case"M":case"e":l=n[a].t;break;case"m":l==="s"&&(n[a].t="M",R<2&&(R=2));break;case"X":break;case"Z":R<1&&n[a].v.match(/[Hh]/)&&(R=1),R<2&&n[a].v.match(/[Mm]/)&&(R=2),R<3&&n[a].v.match(/[Ss]/)&&(R=3)}switch(R){case 0:break;case 1:E.u>=.5&&(E.u=0,++E.S),E.S>=60&&(E.S=0,++E.M),E.M>=60&&(E.M=0,++E.H);break;case 2:E.u>=.5&&(E.u=0,++E.S),E.S>=60&&(E.S=0,++E.M);break}var I="",L;for(a=0;a<n.length;++a)switch(n[a].t){case"t":case"T":case" ":case"D":break;case"X":n[a].v="",n[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[a].v=rN(n[a].t.charCodeAt(0),n[a].v,E,d),n[a].t="t";break;case"n":case"?":for(L=a+1;n[L]!=null&&((o=n[L].t)==="?"||o==="D"||(o===" "||o==="t")&&n[L+1]!=null&&(n[L+1].t==="?"||n[L+1].t==="t"&&n[L+1].v==="/")||n[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(n[L].v==="/"||n[L].v===" "&&n[L+1]!=null&&n[L+1].t=="?"));)n[a].v+=n[L].v,n[L]={v:"",t:";"},++L;I+=n[a].v,a=L-1;break;case"G":n[a].t="t",n[a].v=Ih(e,t);break}var D="",U,_;if(I.length>0){I.charCodeAt(0)==40?(U=e<0&&I.charCodeAt(0)===45?-e:e,_=Ei("n",I,U)):(U=e<0&&i>1?-e:e,_=Ei("n",I,U),U<0&&n[0]&&n[0].t=="t"&&(_=_.substr(1),n[0].v="-"+n[0].v)),L=_.length-1;var y=n.length;for(a=0;a<n.length;++a)if(n[a]!=null&&n[a].t!="t"&&n[a].v.indexOf(".")>-1){y=a;break}var P=n.length;if(y===n.length&&_.indexOf("E")===-1){for(a=n.length-1;a>=0;--a)n[a]==null||"n?".indexOf(n[a].t)===-1||(L>=n[a].v.length-1?(L-=n[a].v.length,n[a].v=_.substr(L+1,n[a].v.length)):L<0?n[a].v="":(n[a].v=_.substr(0,L+1),L=-1),n[a].t="t",P=a);L>=0&&P<n.length&&(n[P].v=_.substr(0,L+1)+n[P].v)}else if(y!==n.length&&_.indexOf("E")===-1){for(L=_.indexOf(".")-1,a=y;a>=0;--a)if(!(n[a]==null||"n?".indexOf(n[a].t)===-1)){for(h=n[a].v.indexOf(".")>-1&&a===y?n[a].v.indexOf(".")-1:n[a].v.length-1,D=n[a].v.substr(h+1);h>=0;--h)L>=0&&(n[a].v.charAt(h)==="0"||n[a].v.charAt(h)==="#")&&(D=_.charAt(L--)+D);n[a].v=D,n[a].t="t",P=a}for(L>=0&&P<n.length&&(n[P].v=_.substr(0,L+1)+n[P].v),L=_.indexOf(".")+1,a=y;a<n.length;++a)if(!(n[a]==null||"n?(".indexOf(n[a].t)===-1&&a!==y)){for(h=n[a].v.indexOf(".")>-1&&a===y?n[a].v.indexOf(".")+1:0,D=n[a].v.substr(0,h);h<n[a].v.length;++h)L<_.length&&(D+=_.charAt(L++));n[a].v=D,n[a].t="t",P=a}}}for(a=0;a<n.length;++a)n[a]!=null&&"n?".indexOf(n[a].t)>-1&&(U=i>1&&e<0&&a>0&&n[a-1].v==="-"?-e:e,n[a].v=Ei(n[a].t,n[a].v,U),n[a].t="t");var Y="";for(a=0;a!==n.length;++a)n[a]!=null&&(Y+=n[a].v);return Y}var Vf=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Wf(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function TN(r,e){var t=cN(r),i=t.length,n=t[i-1].indexOf("@");if(i<4&&n>-1&&--i,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||n>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=n>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=n>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=n>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[i,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var a=t[0].match(Vf),o=t[1].match(Vf);return Wf(e,a)?[i,t[0]]:Wf(e,o)?[i,t[1]]:[i,t[a!=null&&o!=null?2:1]]}return[i,s]}function vi(r,e,t){t==null&&(t={});var i="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?i=t.dateNF:i=r;break;case"number":r==14&&t.dateNF?i=t.dateNF:i=(t.table!=null?t.table:ot)[r],i==null&&(i=t.table&&t.table[Hf[r]]||ot[Hf[r]]),i==null&&(i=JI[r]||"General");break}if(Bo(i,0))return Ih(e,t);e instanceof Date&&(e=C0(e,t.date1904));var n=TN(i,e);if(Bo(n[1]))return Ih(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return fN(n[1],e,t,n[0])}function y0(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(ot[t]==null){e<0&&(e=t);continue}if(ot[t]==r){e=t;break}}e<0&&(e=391)}return ot[e]=r,e}function _l(r){for(var e=0;e!=392;++e)r[e]!==void 0&&y0(r[e],e)}function gl(){ot=$I()}var w0=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function uN(r){var e=typeof r=="number"?ot[r]:r;return e=e.replace(w0,"(\\d+)"),new RegExp("^"+e+"$")}function AN(r,e,t){var i=-1,n=-1,s=-1,a=-1,o=-1,l=-1;(e.match(w0)||[]).forEach(function(c,f){var T=parseInt(t[f+1],10);switch(c.toLowerCase().charAt(0)){case"y":i=T;break;case"d":s=T;break;case"h":a=T;break;case"s":l=T;break;case"m":a>=0?o=T:n=T;break}}),l>=0&&o==-1&&n>=0&&(o=n,n=-1);var E=(""+(i>=0?i:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);E.length==7&&(E="0"+E),E.length==8&&(E="20"+E);var h=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?E:i==-1&&n==-1&&s==-1?h:E+"T"+h}var RN=(function(){var r={};r.version="1.2.0";function e(){for(var _=0,y=new Array(256),P=0;P!=256;++P)_=P,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,y[P]=_;return typeof Int32Array<"u"?new Int32Array(y):y}var t=e();function i(_){var y=0,P=0,Y=0,G=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Y=0;Y!=256;++Y)G[Y]=_[Y];for(Y=0;Y!=256;++Y)for(P=_[Y],y=256+Y;y<4096;y+=256)P=G[y]=P>>>8^_[P&255];var b=[];for(Y=1;Y!=16;++Y)b[Y-1]=typeof Int32Array<"u"?G.subarray(Y*256,Y*256+256):G.slice(Y*256,Y*256+256);return b}var n=i(t),s=n[0],a=n[1],o=n[2],l=n[3],E=n[4],h=n[5],c=n[6],f=n[7],T=n[8],A=n[9],u=n[10],R=n[11],d=n[12],O=n[13],I=n[14];function L(_,y){for(var P=y^-1,Y=0,G=_.length;Y<G;)P=P>>>8^t[(P^_.charCodeAt(Y++))&255];return~P}function D(_,y){for(var P=y^-1,Y=_.length-15,G=0;G<Y;)P=I[_[G++]^P&255]^O[_[G++]^P>>8&255]^d[_[G++]^P>>16&255]^R[_[G++]^P>>>24]^u[_[G++]]^A[_[G++]]^T[_[G++]]^f[_[G++]]^c[_[G++]]^h[_[G++]]^E[_[G++]]^l[_[G++]]^o[_[G++]]^a[_[G++]]^s[_[G++]]^t[_[G++]];for(Y+=15;G<Y;)P=P>>>8^t[(P^_[G++])&255];return~P}function U(_,y){for(var P=y^-1,Y=0,G=_.length,b=0,Q=0;Y<G;)b=_.charCodeAt(Y++),b<128?P=P>>>8^t[(P^b)&255]:b<2048?(P=P>>>8^t[(P^(192|b>>6&31))&255],P=P>>>8^t[(P^(128|b&63))&255]):b>=55296&&b<57344?(b=(b&1023)+64,Q=_.charCodeAt(Y++)&1023,P=P>>>8^t[(P^(240|b>>8&7))&255],P=P>>>8^t[(P^(128|b>>2&63))&255],P=P>>>8^t[(P^(128|Q>>6&15|(b&3)<<4))&255],P=P>>>8^t[(P^(128|Q&63))&255]):(P=P>>>8^t[(P^(224|b>>12&15))&255],P=P>>>8^t[(P^(128|b>>6&63))&255],P=P>>>8^t[(P^(128|b&63))&255]);return~P}return r.table=t,r.bstr=L,r.buf=D,r.str=U,r})(),ze=(function(){var e={};e.version="1.2.1";function t(S,m){for(var N=S.split("/"),p=m.split("/"),C=0,g=0,B=Math.min(N.length,p.length);C<B;++C){if(g=N[C].length-p[C].length)return g;if(N[C]!=p[C])return N[C]<p[C]?-1:1}return N.length-p.length}function i(S){if(S.charAt(S.length-1)=="/")return S.slice(0,-1).indexOf("/")===-1?S:i(S.slice(0,-1));var m=S.lastIndexOf("/");return m===-1?S:S.slice(0,m+1)}function n(S){if(S.charAt(S.length-1)=="/")return n(S.slice(0,-1));var m=S.lastIndexOf("/");return m===-1?S:S.slice(m+1)}function s(S,m){typeof m=="string"&&(m=new Date(m));var N=m.getHours();N=N<<6|m.getMinutes(),N=N<<5|m.getSeconds()>>>1,S.write_shift(2,N);var p=m.getFullYear()-1980;p=p<<4|m.getMonth()+1,p=p<<5|m.getDate(),S.write_shift(2,p)}function a(S){var m=S.read_shift(2)&65535,N=S.read_shift(2)&65535,p=new Date,C=N&31;N>>>=5;var g=N&15;N>>>=4,p.setMilliseconds(0),p.setFullYear(N+1980),p.setMonth(g-1),p.setDate(C);var B=m&31;m>>>=5;var J=m&63;return m>>>=6,p.setHours(m),p.setMinutes(J),p.setSeconds(B<<1),p}function o(S){hr(S,0);for(var m={},N=0;S.l<=S.length-4;){var p=S.read_shift(2),C=S.read_shift(2),g=S.l+C,B={};switch(p){case 21589:N=S.read_shift(1),N&1&&(B.mtime=S.read_shift(4)),C>5&&(N&2&&(B.atime=S.read_shift(4)),N&4&&(B.ctime=S.read_shift(4))),B.mtime&&(B.mt=new Date(B.mtime*1e3));break}S.l=g,m[p]=B}return m}var l;function E(){return l||(l={})}function h(S,m){if(S[0]==80&&S[1]==75)return zl(S,m);if((S[0]|32)==109&&(S[1]|32)==105)return rE(S,m);if(S.length<512)throw new Error("CFB file size "+S.length+" < 512");var N=3,p=512,C=0,g=0,B=0,J=0,F=0,H=[],V=S.slice(0,512);hr(V,0);var re=c(V);switch(N=re[0],N){case 3:p=512;break;case 4:p=4096;break;case 0:if(re[1]==0)return zl(S,m);default:throw new Error("Major Version: Expected 3 or 4 saw "+N)}p!==512&&(V=S.slice(0,p),hr(V,28));var le=S.slice(0,p);f(V,N);var Se=V.read_shift(4,"i");if(N===3&&Se!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Se);V.l+=4,B=V.read_shift(4,"i"),V.l+=4,V.chk("00100000","Mini Stream Cutoff Size: "),J=V.read_shift(4,"i"),C=V.read_shift(4,"i"),F=V.read_shift(4,"i"),g=V.read_shift(4,"i");for(var ie=-1,ue=0;ue<109&&(ie=V.read_shift(4,"i"),!(ie<0));++ue)H[ue]=ie;var Pe=T(S,p);R(F,g,Pe,p,H);var nt=O(Pe,B,H,p);nt[B].name="!Directory",C>0&&J!==Q&&(nt[J].name="!MiniFAT"),nt[H[0]].name="!FAT",nt.fat_addrs=H,nt.ssz=p;var st={},bt=[],Rs=[],Ss=[];I(B,nt,Pe,bt,C,st,Rs,J),A(Rs,Ss,bt),bt.shift();var ds={FileIndex:Rs,FullPaths:Ss};return m&&m.raw&&(ds.raw={header:le,sectors:Pe}),ds}function c(S){if(S[S.l]==80&&S[S.l+1]==75)return[0,0];S.chk(ae,"Header Signature: "),S.l+=16;var m=S.read_shift(2,"u");return[S.read_shift(2,"u"),m]}function f(S,m){var N=9;switch(S.l+=2,N=S.read_shift(2)){case 9:if(m!=3)throw new Error("Sector Shift: Expected 9 saw "+N);break;case 12:if(m!=4)throw new Error("Sector Shift: Expected 12 saw "+N);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+N)}S.chk("0600","Mini Sector Shift: "),S.chk("000000000000","Reserved: ")}function T(S,m){for(var N=Math.ceil(S.length/m)-1,p=[],C=1;C<N;++C)p[C-1]=S.slice(C*m,(C+1)*m);return p[N-1]=S.slice(N*m),p}function A(S,m,N){for(var p=0,C=0,g=0,B=0,J=0,F=N.length,H=[],V=[];p<F;++p)H[p]=V[p]=p,m[p]=N[p];for(;J<V.length;++J)p=V[J],C=S[p].L,g=S[p].R,B=S[p].C,H[p]===p&&(C!==-1&&H[C]!==C&&(H[p]=H[C]),g!==-1&&H[g]!==g&&(H[p]=H[g])),B!==-1&&(H[B]=p),C!==-1&&p!=H[p]&&(H[C]=H[p],V.lastIndexOf(C)<J&&V.push(C)),g!==-1&&p!=H[p]&&(H[g]=H[p],V.lastIndexOf(g)<J&&V.push(g));for(p=1;p<F;++p)H[p]===p&&(g!==-1&&H[g]!==g?H[p]=H[g]:C!==-1&&H[C]!==C&&(H[p]=H[C]));for(p=1;p<F;++p)if(S[p].type!==0){if(J=p,J!=H[J])do J=H[J],m[p]=m[J]+"/"+m[p];while(J!==0&&H[J]!==-1&&J!=H[J]);H[p]=-1}for(m[0]+="/",p=1;p<F;++p)S[p].type!==2&&(m[p]+="/")}function u(S,m,N){for(var p=S.start,C=S.size,g=[],B=p;N&&C>0&&B>=0;)g.push(m.slice(B*b,B*b+b)),C-=b,B=zi(N,B*4);return g.length===0?z(0):vt(g).slice(0,S.size)}function R(S,m,N,p,C){var g=Q;if(S===Q){if(m!==0)throw new Error("DIFAT chain shorter than expected")}else if(S!==-1){var B=N[S],J=(p>>>2)-1;if(!B)return;for(var F=0;F<J&&(g=zi(B,F*4))!==Q;++F)C.push(g);R(zi(B,p-4),m-1,N,p,C)}}function d(S,m,N,p,C){var g=[],B=[];C||(C=[]);var J=p-1,F=0,H=0;for(F=m;F>=0;){C[F]=!0,g[g.length]=F,B.push(S[F]);var V=N[Math.floor(F*4/p)];if(H=F*4&J,p<4+H)throw new Error("FAT boundary crossed: "+F+" 4 "+p);if(!S[V])break;F=zi(S[V],H)}return{nodes:g,data:jf([B])}}function O(S,m,N,p){var C=S.length,g=[],B=[],J=[],F=[],H=p-1,V=0,re=0,le=0,Se=0;for(V=0;V<C;++V)if(J=[],le=V+m,le>=C&&(le-=C),!B[le]){F=[];var ie=[];for(re=le;re>=0;){ie[re]=!0,B[re]=!0,J[J.length]=re,F.push(S[re]);var ue=N[Math.floor(re*4/p)];if(Se=re*4&H,p<4+Se)throw new Error("FAT boundary crossed: "+re+" 4 "+p);if(!S[ue]||(re=zi(S[ue],Se),ie[re]))break}g[le]={nodes:J,data:jf([F])}}return g}function I(S,m,N,p,C,g,B,J){for(var F=0,H=p.length?2:0,V=m[S].data,re=0,le=0,Se;re<V.length;re+=128){var ie=V.slice(re,re+128);hr(ie,64),le=ie.read_shift(2),Se=yc(ie,0,le-H),p.push(Se);var ue={name:Se,type:ie.read_shift(1),color:ie.read_shift(1),L:ie.read_shift(4,"i"),R:ie.read_shift(4,"i"),C:ie.read_shift(4,"i"),clsid:ie.read_shift(16),state:ie.read_shift(4,"i"),start:0,size:0},Pe=ie.read_shift(2)+ie.read_shift(2)+ie.read_shift(2)+ie.read_shift(2);Pe!==0&&(ue.ct=L(ie,ie.l-8));var nt=ie.read_shift(2)+ie.read_shift(2)+ie.read_shift(2)+ie.read_shift(2);nt!==0&&(ue.mt=L(ie,ie.l-8)),ue.start=ie.read_shift(4,"i"),ue.size=ie.read_shift(4,"i"),ue.size<0&&ue.start<0&&(ue.size=ue.type=0,ue.start=Q,ue.name=""),ue.type===5?(F=ue.start,C>0&&F!==Q&&(m[F].name="!StreamData")):ue.size>=4096?(ue.storage="fat",m[ue.start]===void 0&&(m[ue.start]=d(N,ue.start,m.fat_addrs,m.ssz)),m[ue.start].name=ue.name,ue.content=m[ue.start].data.slice(0,ue.size)):(ue.storage="minifat",ue.size<0?ue.size=0:F!==Q&&ue.start!==Q&&m[F]&&(ue.content=u(ue,m[F].data,(m[J]||{}).data))),ue.content&&hr(ue.content,0),g[Se]=ue,B.push(ue)}}function L(S,m){return new Date((fr(S,m+4)/1e7*Math.pow(2,32)+fr(S,m)/1e7-11644473600)*1e3)}function D(S,m){return E(),h(l.readFileSync(S),m)}function U(S,m){var N=m&&m.type;switch(N||Ve&&Ue.isBuffer(S)&&(N="buffer"),N||"base64"){case"file":return D(S,m);case"base64":return h(vr(Ti(S)),m);case"binary":return h(vr(S),m)}return h(S,m)}function _(S,m){var N=m||{},p=N.root||"Root Entry";if(S.FullPaths||(S.FullPaths=[]),S.FileIndex||(S.FileIndex=[]),S.FullPaths.length!==S.FileIndex.length)throw new Error("inconsistent CFB structure");S.FullPaths.length===0&&(S.FullPaths[0]=p+"/",S.FileIndex[0]={name:p,type:5}),N.CLSID&&(S.FileIndex[0].clsid=N.CLSID),y(S)}function y(S){var m="Sh33tJ5";if(!ze.find(S,"/"+m)){var N=z(4);N[0]=55,N[1]=N[3]=50,N[2]=54,S.FileIndex.push({name:m,type:2,content:N,size:4,L:69,R:69,C:69}),S.FullPaths.push(S.FullPaths[0]+m),P(S)}}function P(S,m){_(S);for(var N=!1,p=!1,C=S.FullPaths.length-1;C>=0;--C){var g=S.FileIndex[C];switch(g.type){case 0:p?N=!0:(S.FileIndex.pop(),S.FullPaths.pop());break;case 1:case 2:case 5:p=!0,isNaN(g.R*g.L*g.C)&&(N=!0),g.R>-1&&g.L>-1&&g.R==g.L&&(N=!0);break;default:N=!0;break}}if(!(!N&&!m)){var B=new Date(1987,1,19),J=0,F=Object.create?Object.create(null):{},H=[];for(C=0;C<S.FullPaths.length;++C)F[S.FullPaths[C]]=!0,S.FileIndex[C].type!==0&&H.push([S.FullPaths[C],S.FileIndex[C]]);for(C=0;C<H.length;++C){var V=i(H[C][0]);p=F[V],p||(H.push([V,{name:n(V).replace("/",""),type:1,clsid:Me,ct:B,mt:B,content:null}]),F[V]=!0)}for(H.sort(function(Se,ie){return t(Se[0],ie[0])}),S.FullPaths=[],S.FileIndex=[],C=0;C<H.length;++C)S.FullPaths[C]=H[C][0],S.FileIndex[C]=H[C][1];for(C=0;C<H.length;++C){var re=S.FileIndex[C],le=S.FullPaths[C];if(re.name=n(le).replace("/",""),re.L=re.R=re.C=-(re.color=1),re.size=re.content?re.content.length:0,re.start=0,re.clsid=re.clsid||Me,C===0)re.C=H.length>1?1:-1,re.size=0,re.type=5;else if(le.slice(-1)=="/"){for(J=C+1;J<H.length&&i(S.FullPaths[J])!=le;++J);for(re.C=J>=H.length?-1:J,J=C+1;J<H.length&&i(S.FullPaths[J])!=i(le);++J);re.R=J>=H.length?-1:J,re.type=1}else i(S.FullPaths[C+1]||"")==i(le)&&(re.R=C+1),re.type=2}}}function Y(S,m){var N=m||{};if(N.fileType=="mad")return iE(S,N);switch(P(S),N.fileType){case"zip":return ql(S,N)}var p=(function(Se){for(var ie=0,ue=0,Pe=0;Pe<Se.FileIndex.length;++Pe){var nt=Se.FileIndex[Pe];if(nt.content){var st=nt.content.length;st>0&&(st<4096?ie+=st+63>>6:ue+=st+511>>9)}}for(var bt=Se.FullPaths.length+3>>2,Rs=ie+7>>3,Ss=ie+127>>7,ds=Rs+ue+bt+Ss,Vi=ds+127>>7,sE=Vi<=109?0:Math.ceil((Vi-109)/127);ds+Vi+sE+127>>7>Vi;)sE=++Vi<=109?0:Math.ceil((Vi-109)/127);var ni=[1,sE,Vi,Ss,bt,ue,ie,0];return Se.FileIndex[0].size=ie<<6,ni[7]=(Se.FileIndex[0].start=ni[0]+ni[1]+ni[2]+ni[3]+ni[4]+ni[5])+(ni[6]+7>>3),ni})(S),C=z(p[7]<<9),g=0,B=0;{for(g=0;g<8;++g)C.write_shift(1,oe[g]);for(g=0;g<8;++g)C.write_shift(2,0);for(C.write_shift(2,62),C.write_shift(2,3),C.write_shift(2,65534),C.write_shift(2,9),C.write_shift(2,6),g=0;g<3;++g)C.write_shift(2,0);for(C.write_shift(4,0),C.write_shift(4,p[2]),C.write_shift(4,p[0]+p[1]+p[2]+p[3]-1),C.write_shift(4,0),C.write_shift(4,4096),C.write_shift(4,p[3]?p[0]+p[1]+p[2]-1:Q),C.write_shift(4,p[3]),C.write_shift(-4,p[1]?p[0]-1:Q),C.write_shift(4,p[1]),g=0;g<109;++g)C.write_shift(-4,g<p[2]?p[1]+g:-1)}if(p[1])for(B=0;B<p[1];++B){for(;g<236+B*127;++g)C.write_shift(-4,g<p[2]?p[1]+g:-1);C.write_shift(-4,B===p[1]-1?Q:B+1)}var J=function(Se){for(B+=Se;g<B-1;++g)C.write_shift(-4,g+1);Se&&(++g,C.write_shift(-4,Q))};for(B=g=0,B+=p[1];g<B;++g)C.write_shift(-4,xe.DIFSECT);for(B+=p[2];g<B;++g)C.write_shift(-4,xe.FATSECT);J(p[3]),J(p[4]);for(var F=0,H=0,V=S.FileIndex[0];F<S.FileIndex.length;++F)V=S.FileIndex[F],V.content&&(H=V.content.length,!(H<4096)&&(V.start=B,J(H+511>>9)));for(J(p[6]+7>>3);C.l&511;)C.write_shift(-4,xe.ENDOFCHAIN);for(B=g=0,F=0;F<S.FileIndex.length;++F)V=S.FileIndex[F],V.content&&(H=V.content.length,!(!H||H>=4096)&&(V.start=B,J(H+63>>6)));for(;C.l&511;)C.write_shift(-4,xe.ENDOFCHAIN);for(g=0;g<p[4]<<2;++g){var re=S.FullPaths[g];if(!re||re.length===0){for(F=0;F<17;++F)C.write_shift(4,0);for(F=0;F<3;++F)C.write_shift(4,-1);for(F=0;F<12;++F)C.write_shift(4,0);continue}V=S.FileIndex[g],g===0&&(V.start=V.size?V.start-1:Q);var le=g===0&&N.root||V.name;if(H=2*(le.length+1),C.write_shift(64,le,"utf16le"),C.write_shift(2,H),C.write_shift(1,V.type),C.write_shift(1,V.color),C.write_shift(-4,V.L),C.write_shift(-4,V.R),C.write_shift(-4,V.C),V.clsid)C.write_shift(16,V.clsid,"hex");else for(F=0;F<4;++F)C.write_shift(4,0);C.write_shift(4,V.state||0),C.write_shift(4,0),C.write_shift(4,0),C.write_shift(4,0),C.write_shift(4,0),C.write_shift(4,V.start),C.write_shift(4,V.size),C.write_shift(4,0)}for(g=1;g<S.FileIndex.length;++g)if(V=S.FileIndex[g],V.size>=4096)if(C.l=V.start+1<<9,Ve&&Ue.isBuffer(V.content))V.content.copy(C,C.l,0,V.size),C.l+=V.size+511&-512;else{for(F=0;F<V.size;++F)C.write_shift(1,V.content[F]);for(;F&511;++F)C.write_shift(1,0)}for(g=1;g<S.FileIndex.length;++g)if(V=S.FileIndex[g],V.size>0&&V.size<4096)if(Ve&&Ue.isBuffer(V.content))V.content.copy(C,C.l,0,V.size),C.l+=V.size+63&-64;else{for(F=0;F<V.size;++F)C.write_shift(1,V.content[F]);for(;F&63;++F)C.write_shift(1,0)}if(Ve)C.l=C.length;else for(;C.l<C.length;)C.write_shift(1,0);return C}function G(S,m){var N=S.FullPaths.map(function(F){return F.toUpperCase()}),p=N.map(function(F){var H=F.split("/");return H[H.length-(F.slice(-1)=="/"?2:1)]}),C=!1;m.charCodeAt(0)===47?(C=!0,m=N[0].slice(0,-1)+m):C=m.indexOf("/")!==-1;var g=m.toUpperCase(),B=C===!0?N.indexOf(g):p.indexOf(g);if(B!==-1)return S.FileIndex[B];var J=!g.match(Ga);for(g=g.replace(Ms,""),J&&(g=g.replace(Ga,"!")),B=0;B<N.length;++B)if((J?N[B].replace(Ga,"!"):N[B]).replace(Ms,"")==g||(J?p[B].replace(Ga,"!"):p[B]).replace(Ms,"")==g)return S.FileIndex[B];return null}var b=64,Q=-2,ae="d0cf11e0a1b11ae1",oe=[208,207,17,224,161,177,26,225],Me="00000000000000000000000000000000",xe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Q,FREESECT:-1,HEADER_SIGNATURE:ae,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Me,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Be(S,m,N){E();var p=Y(S,N);l.writeFileSync(m,p)}function me(S){for(var m=new Array(S.length),N=0;N<S.length;++N)m[N]=String.fromCharCode(S[N]);return m.join("")}function ge(S,m){var N=Y(S,m);switch(m&&m.type||"buffer"){case"file":return E(),l.writeFileSync(m.filename,N),N;case"binary":return typeof N=="string"?N:me(N);case"base64":return Ks(typeof N=="string"?N:me(N));case"buffer":if(Ve)return Ue.isBuffer(N)?N:di(N);case"array":return typeof N=="string"?vr(N):N}return N}var De;function x(S){try{var m=S.InflateRaw,N=new m;if(N._processChunk(new Uint8Array([3,0]),N._finishFlushFlag),N.bytesRead)De=S;else throw new Error("zlib does not expose bytesRead")}catch(p){console.error("cannot use native zlib: "+(p.message||p))}}function w(S,m){if(!De)return wa(S,m);var N=De.InflateRaw,p=new N,C=p._processChunk(S.slice(S.l),p._finishFlushFlag);return S.l+=p.bytesRead,C}function v(S){return De?De.deflateRawSync(S):Ma(S)}var M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function pe(S){var m=(S<<1|S<<11)&139536|(S<<5|S<<15)&558144;return(m>>16|m>>8|m)&255}for(var Ie=typeof Uint8Array<"u",ce=Ie?new Uint8Array(256):[],We=0;We<256;++We)ce[We]=pe(We);function we(S,m){var N=ce[S&255];return m<=8?N>>>8-m:(N=N<<8|ce[S>>8&255],m<=16?N>>>16-m:(N=N<<8|ce[S>>16&255],N>>>24-m))}function Ot(S,m){var N=m&7,p=m>>>3;return(S[p]|(N<=6?0:S[p+1]<<8))>>>N&3}function Ge(S,m){var N=m&7,p=m>>>3;return(S[p]|(N<=5?0:S[p+1]<<8))>>>N&7}function Lr(S,m){var N=m&7,p=m>>>3;return(S[p]|(N<=4?0:S[p+1]<<8))>>>N&15}function Qe(S,m){var N=m&7,p=m>>>3;return(S[p]|(N<=3?0:S[p+1]<<8))>>>N&31}function de(S,m){var N=m&7,p=m>>>3;return(S[p]|(N<=1?0:S[p+1]<<8))>>>N&127}function Dt(S,m,N){var p=m&7,C=m>>>3,g=(1<<N)-1,B=S[C]>>>p;return N<8-p||(B|=S[C+1]<<8-p,N<16-p)||(B|=S[C+2]<<16-p,N<24-p)||(B|=S[C+3]<<24-p),B&g}function Dr(S,m,N){var p=m&7,C=m>>>3;return p<=5?S[C]|=(N&7)<<p:(S[C]|=N<<p&255,S[C+1]=(N&7)>>8-p),m+3}function Ar(S,m,N){var p=m&7,C=m>>>3;return N=(N&1)<<p,S[C]|=N,m+1}function Ii(S,m,N){var p=m&7,C=m>>>3;return N<<=p,S[C]|=N&255,N>>>=8,S[C+1]=N,m+8}function cs(S,m,N){var p=m&7,C=m>>>3;return N<<=p,S[C]|=N&255,N>>>=8,S[C+1]=N&255,S[C+2]=N>>>8,m+16}function Pa(S,m){var N=S.length,p=2*N>m?2*N:m+5,C=0;if(N>=m)return S;if(Ve){var g=Bf(p);if(S.copy)S.copy(g);else for(;C<S.length;++C)g[C]=S[C];return g}else if(Ie){var B=new Uint8Array(p);if(B.set)B.set(S);else for(;C<N;++C)B[C]=S[C];return B}return S.length=p,S}function Wt(S){for(var m=new Array(S),N=0;N<S;++N)m[N]=0;return m}function ki(S,m,N){var p=1,C=0,g=0,B=0,J=0,F=S.length,H=Ie?new Uint16Array(32):Wt(32);for(g=0;g<32;++g)H[g]=0;for(g=F;g<N;++g)S[g]=0;F=S.length;var V=Ie?new Uint16Array(F):Wt(F);for(g=0;g<F;++g)H[C=S[g]]++,p<C&&(p=C),V[g]=0;for(H[0]=0,g=1;g<=p;++g)H[g+16]=J=J+H[g-1]<<1;for(g=0;g<F;++g)J=S[g],J!=0&&(V[g]=H[J+16]++);var re=0;for(g=0;g<F;++g)if(re=S[g],re!=0)for(J=we(V[g],p)>>p-re,B=(1<<p+4-re)-1;B>=0;--B)m[J|B<<re]=re&15|g<<4;return p}var fs=Ie?new Uint16Array(512):Wt(512),Ts=Ie?new Uint16Array(32):Wt(32);if(!Ie){for(var ii=0;ii<512;++ii)fs[ii]=0;for(ii=0;ii<32;++ii)Ts[ii]=0}(function(){for(var S=[],m=0;m<32;m++)S.push(5);ki(S,Ts,32);var N=[];for(m=0;m<=143;m++)N.push(8);for(;m<=255;m++)N.push(9);for(;m<=279;m++)N.push(7);for(;m<=287;m++)N.push(8);ki(N,fs,288)})();var Kl=(function(){for(var m=Ie?new Uint8Array(32768):[],N=0,p=0;N<Oe.length-1;++N)for(;p<Oe[N+1];++p)m[p]=N;for(;p<32768;++p)m[p]=29;var C=Ie?new Uint8Array(259):[];for(N=0,p=0;N<Z.length-1;++N)for(;p<Z[N+1];++p)C[p]=N;function g(J,F){for(var H=0;H<J.length;){var V=Math.min(65535,J.length-H),re=H+V==J.length;for(F.write_shift(1,+re),F.write_shift(2,V),F.write_shift(2,~V&65535);V-- >0;)F[F.l++]=J[H++]}return F.l}function B(J,F){for(var H=0,V=0,re=Ie?new Uint16Array(32768):[];V<J.length;){var le=Math.min(65535,J.length-V);if(le<10){for(H=Dr(F,H,+(V+le==J.length)),H&7&&(H+=8-(H&7)),F.l=H/8|0,F.write_shift(2,le),F.write_shift(2,~le&65535);le-- >0;)F[F.l++]=J[V++];H=F.l*8;continue}H=Dr(F,H,+(V+le==J.length)+2);for(var Se=0;le-- >0;){var ie=J[V];Se=(Se<<5^ie)&32767;var ue=-1,Pe=0;if((ue=re[Se])&&(ue|=V&-32768,ue>V&&(ue-=32768),ue<V))for(;J[ue+Pe]==J[V+Pe]&&Pe<250;)++Pe;if(Pe>2){ie=C[Pe],ie<=22?H=Ii(F,H,ce[ie+1]>>1)-1:(Ii(F,H,3),H+=5,Ii(F,H,ce[ie-23]>>5),H+=3);var nt=ie<8?0:ie-4>>2;nt>0&&(cs(F,H,Pe-Z[ie]),H+=nt),ie=m[V-ue],H=Ii(F,H,ce[ie]>>3),H-=3;var st=ie<4?0:ie-2>>1;st>0&&(cs(F,H,V-ue-Oe[ie]),H+=st);for(var bt=0;bt<Pe;++bt)re[Se]=V&32767,Se=(Se<<5^J[V])&32767,++V;le-=Pe-1}else ie<=143?ie=ie+48:H=Ar(F,H,1),H=Ii(F,H,ce[ie]),re[Se]=V&32767,++V}H=Ii(F,H,0)-1}return F.l=(H+7)/8|0,F.l}return function(F,H){return F.length<8?g(F,H):B(F,H)}})();function Ma(S){var m=z(50+Math.floor(S.length*1.1)),N=Kl(S,m);return m.slice(0,N)}var va=Ie?new Uint16Array(32768):Wt(32768),xr=Ie?new Uint16Array(32768):Wt(32768),Ua=Ie?new Uint16Array(128):Wt(128),ya=1,us=1;function $l(S,m){var N=Qe(S,m)+257;m+=5;var p=Qe(S,m)+1;m+=5;var C=Lr(S,m)+4;m+=4;for(var g=0,B=Ie?new Uint8Array(19):Wt(19),J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F=1,H=Ie?new Uint8Array(8):Wt(8),V=Ie?new Uint8Array(8):Wt(8),re=B.length,le=0;le<C;++le)B[M[le]]=g=Ge(S,m),F<g&&(F=g),H[g]++,m+=3;var Se=0;for(H[0]=0,le=1;le<=F;++le)V[le]=Se=Se+H[le-1]<<1;for(le=0;le<re;++le)(Se=B[le])!=0&&(J[le]=V[Se]++);var ie=0;for(le=0;le<re;++le)if(ie=B[le],ie!=0){Se=ce[J[le]]>>8-ie;for(var ue=(1<<7-ie)-1;ue>=0;--ue)Ua[Se|ue<<ie]=ie&7|le<<3}var Pe=[];for(F=1;Pe.length<N+p;)switch(Se=Ua[de(S,m)],m+=Se&7,Se>>>=3){case 16:for(g=3+Ot(S,m),m+=2,Se=Pe[Pe.length-1];g-- >0;)Pe.push(Se);break;case 17:for(g=3+Ge(S,m),m+=3;g-- >0;)Pe.push(0);break;case 18:for(g=11+de(S,m),m+=7;g-- >0;)Pe.push(0);break;default:Pe.push(Se),F<Se&&(F=Se);break}var nt=Pe.slice(0,N),st=Pe.slice(N);for(le=N;le<286;++le)nt[le]=0;for(le=p;le<30;++le)st[le]=0;return ya=ki(nt,va,286),us=ki(st,xr,30),m}function Jl(S,m){if(S[0]==3&&!(S[1]&3))return[nn(m),2];for(var N=0,p=0,C=Bf(m||1<<18),g=0,B=C.length>>>0,J=0,F=0;(p&1)==0;){if(p=Ge(S,N),N+=3,p>>>1)p>>1==1?(J=9,F=5):(N=$l(S,N),J=ya,F=us);else{N&7&&(N+=8-(N&7));var H=S[N>>>3]|S[(N>>>3)+1]<<8;if(N+=32,H>0)for(!m&&B<g+H&&(C=Pa(C,g+H),B=C.length);H-- >0;)C[g++]=S[N>>>3],N+=8;continue}for(;;){!m&&B<g+32767&&(C=Pa(C,g+32767),B=C.length);var V=Dt(S,N,J),re=p>>>1==1?fs[V]:va[V];if(N+=re&15,re>>>=4,(re>>>8&255)===0)C[g++]=re;else{if(re==256)break;re-=257;var le=re<8?0:re-4>>2;le>5&&(le=0);var Se=g+Z[re];le>0&&(Se+=Dt(S,N,le),N+=le),V=Dt(S,N,F),re=p>>>1==1?Ts[V]:xr[V],N+=re&15,re>>>=4;var ie=re<4?0:re-2>>1,ue=Oe[re];for(ie>0&&(ue+=Dt(S,N,ie),N+=ie),!m&&B<Se&&(C=Pa(C,Se+100),B=C.length);g<Se;)C[g]=C[g-ue],++g}}}return m?[C,N+7>>>3]:[C.slice(0,g),N+7>>>3]}function wa(S,m){var N=S.slice(S.l||0),p=Jl(N,m);return S.l+=p[1],p[0]}function Fa(S,m){if(S)typeof console<"u"&&console.error(m);else throw new Error(m)}function zl(S,m){var N=S;hr(N,0);var p=[],C=[],g={FileIndex:p,FullPaths:C};_(g,{root:m.root});for(var B=N.length-4;(N[B]!=80||N[B+1]!=75||N[B+2]!=5||N[B+3]!=6)&&B>=0;)--B;N.l=B+4,N.l+=4;var J=N.read_shift(2);N.l+=6;var F=N.read_shift(4);for(N.l=F,B=0;B<J;++B){N.l+=20;var H=N.read_shift(4),V=N.read_shift(4),re=N.read_shift(2),le=N.read_shift(2),Se=N.read_shift(2);N.l+=8;var ie=N.read_shift(4),ue=o(N.slice(N.l+re,N.l+re+le));N.l+=re+le+Se;var Pe=N.l;N.l=ie+4,As(N,H,V,g,ue),N.l=Pe}return g}function As(S,m,N,p,C){S.l+=2;var g=S.read_shift(2),B=S.read_shift(2),J=a(S);if(g&8257)throw new Error("Unsupported ZIP encryption");for(var F=S.read_shift(4),H=S.read_shift(4),V=S.read_shift(4),re=S.read_shift(2),le=S.read_shift(2),Se="",ie=0;ie<re;++ie)Se+=String.fromCharCode(S[S.l++]);if(le){var ue=o(S.slice(S.l,S.l+le));(ue[21589]||{}).mt&&(J=ue[21589].mt),((C||{})[21589]||{}).mt&&(J=C[21589].mt)}S.l+=le;var Pe=S.slice(S.l,S.l+H);switch(B){case 8:Pe=w(S,V);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+B)}var nt=!1;g&8&&(F=S.read_shift(4),F==134695760&&(F=S.read_shift(4),nt=!0),H=S.read_shift(4),V=S.read_shift(4)),H!=m&&Fa(nt,"Bad compressed size: "+m+" != "+H),V!=N&&Fa(nt,"Bad uncompressed size: "+N+" != "+V),Nn(p,Se,Pe,{unsafe:!0,mt:J})}function ql(S,m){var N=m||{},p=[],C=[],g=z(1),B=N.compression?8:0,J=0,F=0,H=0,V=0,re=0,le=S.FullPaths[0],Se=le,ie=S.FileIndex[0],ue=[],Pe=0;for(F=1;F<S.FullPaths.length;++F)if(Se=S.FullPaths[F].slice(le.length),ie=S.FileIndex[F],!(!ie.size||!ie.content||Se=="Sh33tJ5")){var nt=V,st=z(Se.length);for(H=0;H<Se.length;++H)st.write_shift(1,Se.charCodeAt(H)&127);st=st.slice(0,st.l),ue[re]=RN.buf(ie.content,0);var bt=ie.content;B==8&&(bt=v(bt)),g=z(30),g.write_shift(4,67324752),g.write_shift(2,20),g.write_shift(2,J),g.write_shift(2,B),ie.mt?s(g,ie.mt):g.write_shift(4,0),g.write_shift(-4,ue[re]),g.write_shift(4,bt.length),g.write_shift(4,ie.content.length),g.write_shift(2,st.length),g.write_shift(2,0),V+=g.length,p.push(g),V+=st.length,p.push(st),V+=bt.length,p.push(bt),g=z(46),g.write_shift(4,33639248),g.write_shift(2,0),g.write_shift(2,20),g.write_shift(2,J),g.write_shift(2,B),g.write_shift(4,0),g.write_shift(-4,ue[re]),g.write_shift(4,bt.length),g.write_shift(4,ie.content.length),g.write_shift(2,st.length),g.write_shift(2,0),g.write_shift(2,0),g.write_shift(2,0),g.write_shift(2,0),g.write_shift(4,0),g.write_shift(4,nt),Pe+=g.l,C.push(g),Pe+=st.length,C.push(st),++re}return g=z(22),g.write_shift(4,101010256),g.write_shift(2,0),g.write_shift(2,0),g.write_shift(2,re),g.write_shift(2,re),g.write_shift(4,Pe),g.write_shift(4,V),g.write_shift(2,0),vt([vt(p),vt(C),g])}var Yi={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ql(S,m){if(S.ctype)return S.ctype;var N=S.name||"",p=N.match(/\.([^\.]+)$/);return p&&Yi[p[1]]||m&&(p=(N=m).match(/[\.\\]([^\.\\])+$/),p&&Yi[p[1]])?Yi[p[1]]:"application/octet-stream"}function jl(S){for(var m=Ks(S),N=[],p=0;p<m.length;p+=76)N.push(m.slice(p,p+76));return N.join(`\r
`)+`\r
`}function Zl(S){var m=S.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(H){var V=H.charCodeAt(0).toString(16).toUpperCase();return"="+(V.length==1?"0"+V:V)});m=m.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),m.charAt(0)==`
`&&(m="=0D"+m.slice(1)),m=m.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var N=[],p=m.split(`\r
`),C=0;C<p.length;++C){var g=p[C];if(g.length==0){N.push("");continue}for(var B=0;B<g.length;){var J=76,F=g.slice(B,B+J);F.charAt(J-1)=="="?J--:F.charAt(J-2)=="="?J-=2:F.charAt(J-3)=="="&&(J-=3),F=g.slice(B,B+J),B+=J,B<g.length&&(F+="="),N.push(F)}}return N.join(`\r
`)}function eE(S){for(var m=[],N=0;N<S.length;++N){for(var p=S[N];N<=S.length&&p.charAt(p.length-1)=="=";)p=p.slice(0,p.length-1)+S[++N];m.push(p)}for(var C=0;C<m.length;++C)m[C]=m[C].replace(/[=][0-9A-Fa-f]{2}/g,function(g){return String.fromCharCode(parseInt(g.slice(1),16))});return vr(m.join(`\r
`))}function tE(S,m,N){for(var p="",C="",g="",B,J=0;J<10;++J){var F=m[J];if(!F||F.match(/^\s*$/))break;var H=F.match(/^(.*?):\s*([^\s].*)$/);if(H)switch(H[1].toLowerCase()){case"content-location":p=H[2].trim();break;case"content-type":g=H[2].trim();break;case"content-transfer-encoding":C=H[2].trim();break}}switch(++J,C.toLowerCase()){case"base64":B=vr(Ti(m.slice(J).join("")));break;case"quoted-printable":B=eE(m.slice(J));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+C)}var V=Nn(S,p.slice(N.length),B,{unsafe:!0});g&&(V.ctype=g)}function rE(S,m){if(me(S.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var N=m&&m.root||"",p=(Ve&&Ue.isBuffer(S)?S.toString("binary"):me(S)).split(`\r
`),C=0,g="";for(C=0;C<p.length;++C)if(g=p[C],!!/^Content-Location:/i.test(g)&&(g=g.slice(g.indexOf("file")),N||(N=g.slice(0,g.lastIndexOf("/")+1)),g.slice(0,N.length)!=N))for(;N.length>0&&(N=N.slice(0,N.length-1),N=N.slice(0,N.lastIndexOf("/")+1),g.slice(0,N.length)!=N););var B=(p[1]||"").match(/boundary="(.*?)"/);if(!B)throw new Error("MAD cannot find boundary");var J="--"+(B[1]||""),F=[],H=[],V={FileIndex:F,FullPaths:H};_(V);var re,le=0;for(C=0;C<p.length;++C){var Se=p[C];Se!==J&&Se!==J+"--"||(le++&&tE(V,p.slice(re,C),N),re=C)}return V}function iE(S,m){var N=m||{},p=N.boundary||"SheetJS";p="------="+p;for(var C=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+p.slice(2)+'"',"","",""],g=S.FullPaths[0],B=g,J=S.FileIndex[0],F=1;F<S.FullPaths.length;++F)if(B=S.FullPaths[F].slice(g.length),J=S.FileIndex[F],!(!J.size||!J.content||B=="Sh33tJ5")){B=B.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Pe){return"_x"+Pe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Pe){return"_u"+Pe.charCodeAt(0).toString(16)+"_"});for(var H=J.content,V=Ve&&Ue.isBuffer(H)?H.toString("binary"):me(H),re=0,le=Math.min(1024,V.length),Se=0,ie=0;ie<=le;++ie)(Se=V.charCodeAt(ie))>=32&&Se<128&&++re;var ue=re>=le*4/5;C.push(p),C.push("Content-Location: "+(N.root||"file:///C:/SheetJS/")+B),C.push("Content-Transfer-Encoding: "+(ue?"quoted-printable":"base64")),C.push("Content-Type: "+Ql(J,B)),C.push(""),C.push(ue?Zl(V):jl(V))}return C.push(p+`--\r
`),C.join(`\r
`)}function nE(S){var m={};return _(m,S),m}function Nn(S,m,N,p){var C=p&&p.unsafe;C||_(S);var g=!C&&ze.find(S,m);if(!g){var B=S.FullPaths[0];m.slice(0,B.length)==B?B=m:(B.slice(-1)!="/"&&(B+="/"),B=(B+m).replace("//","/")),g={name:n(m),type:2},S.FileIndex.push(g),S.FullPaths.push(B),C||ze.utils.cfb_gc(S)}return g.content=N,g.size=N?N.length:0,p&&(p.CLSID&&(g.clsid=p.CLSID),p.mt&&(g.mt=p.mt),p.ct&&(g.ct=p.ct)),g}function K(S,m){_(S);var N=ze.find(S,m);if(N){for(var p=0;p<S.FileIndex.length;++p)if(S.FileIndex[p]==N)return S.FileIndex.splice(p,1),S.FullPaths.splice(p,1),!0}return!1}function he(S,m,N){_(S);var p=ze.find(S,m);if(p){for(var C=0;C<S.FileIndex.length;++C)if(S.FileIndex[C]==p)return S.FileIndex[C].name=n(N),S.FullPaths[C]=N,!0}return!1}function Re(S){P(S,!0)}return e.find=G,e.read=U,e.parse=h,e.write=ge,e.writeFile=Be,e.utils={cfb_new:nE,cfb_add:Nn,cfb_del:K,cfb_mov:he,cfb_gc:Re,ReadShift:Us,CheckField:Z0,prep_blob:hr,bconcat:vt,use_zlib:x,_deflateRaw:Ma,_inflateRaw:wa,consts:xe},e})();function SN(r){return typeof r=="string"?Cl(r):Array.isArray(r)?VI(r):r}function Ra(r,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=Cl(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(r,e)}var i=t=="utf8"?Js(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(i,r);if(typeof Blob<"u"){var n=new Blob([SN(i)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,r);if(typeof saveAs<"u")return saveAs(n,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:r,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=r,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(r);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=Aa(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+r)}function Ft(r){for(var e=Object.keys(r),t=[],i=0;i<e.length;++i)Object.prototype.hasOwnProperty.call(r,e[i])&&t.push(e[i]);return t}function Xf(r,e){for(var t=[],i=Ft(r),n=0;n!==i.length;++n)t[r[i[n]][e]]==null&&(t[r[i[n]][e]]=i[n]);return t}function Pc(r){for(var e=[],t=Ft(r),i=0;i!==t.length;++i)e[r[t[i]]]=t[i];return e}function Ll(r){for(var e=[],t=Ft(r),i=0;i!==t.length;++i)e[r[t[i]]]=parseInt(t[i],10);return e}function dN(r){for(var e=[],t=Ft(r),i=0;i!==t.length;++i)e[r[t[i]]]==null&&(e[r[t[i]]]=[]),e[r[t[i]]].push(t[i]);return e}var Go=new Date(1899,11,30,0,0,0);function ir(r,e){var t=r.getTime(),i=Go.getTime()+(r.getTimezoneOffset()-Go.getTimezoneOffset())*6e4;return(t-i)/(1440*60*1e3)}var F0=new Date,ON=Go.getTime()+(F0.getTimezoneOffset()-Go.getTimezoneOffset())*6e4,Kf=F0.getTimezoneOffset();function B0(r){var e=new Date;return e.setTime(r*24*60*60*1e3+ON),e.getTimezoneOffset()!==Kf&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Kf)*6e4),e}var $f=new Date("2017-02-19T19:06:09.000Z"),b0=isNaN($f.getFullYear())?new Date("2/19/17"):$f,IN=b0.getFullYear()==2017;function zt(r,e){var t=new Date(r);if(IN)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(b0.getFullYear()==1917&&!isNaN(t.getFullYear())){var i=t.getFullYear();return r.indexOf(""+i)>-1||t.setFullYear(t.getFullYear()+100),t}var n=r.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return r.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Dl(r,e){if(Ve&&Ue.isBuffer(r))return r.toString("binary");if(typeof TextDecoder<"u")try{var t={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return t[s]||s})}catch{}for(var i=[],n=0;n!=r.length;++n)i.push(String.fromCharCode(r[n]));return i.join("")}function nr(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=nr(r[t]));return e}function at(r,e){for(var t="";t.length<e;)t+=r;return t}function hi(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,i=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(i))||(i=i.replace(/[(](.*)[)]/,function(n,s){return t=-t,s}),!isNaN(e=Number(i)))?e/t:e}var NN=["january","february","march","april","may","june","july","august","september","october","november","december"];function $s(r){var e=new Date(r),t=new Date(NaN),i=e.getYear(),n=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var a=r.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&NN.indexOf(a)==-1)return t}else if(a.match(/[a-z]/))return t;return i<0||i>8099?t:(n>0||s>1)&&i!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}function ye(r,e,t){if(r.FullPaths){if(typeof t=="string"){var i;return Ve?i=di(t):i=WI(t),ze.utils.cfb_add(r,e,i)}ze.utils.cfb_add(r,e,t)}else r.file(e,t)}function Mc(){return ze.utils.cfb_new()}var ut=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,pN={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},vc=Pc(pN),Uc=/[&<>'"]/g,mN=/[\u0000-\u0008\u000b-\u001f]/g;function $e(r){var e=r+"";return e.replace(Uc,function(t){return vc[t]}).replace(mN,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Jf(r){return $e(r).replace(/ /g,"_x0020_")}var G0=/[\u0000-\u001f]/g;function CN(r){var e=r+"";return e.replace(Uc,function(t){return vc[t]}).replace(/\n/g,"<br/>").replace(G0,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function _N(r){var e=r+"";return e.replace(Uc,function(t){return vc[t]}).replace(G0,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function gN(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function LN(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function lE(r){for(var e="",t=0,i=0,n=0,s=0,a=0,o=0;t<r.length;){if(i=r.charCodeAt(t++),i<128){e+=String.fromCharCode(i);continue}if(n=r.charCodeAt(t++),i>191&&i<224){a=(i&31)<<6,a|=n&63,e+=String.fromCharCode(a);continue}if(s=r.charCodeAt(t++),i<240){e+=String.fromCharCode((i&15)<<12|(n&63)<<6|s&63);continue}a=r.charCodeAt(t++),o=((i&7)<<18|(n&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function zf(r){var e=nn(2*r.length),t,i,n=1,s=0,a=0,o;for(i=0;i<r.length;i+=n)n=1,(o=r.charCodeAt(i))<128?t=o:o<224?(t=(o&31)*64+(r.charCodeAt(i+1)&63),n=2):o<240?(t=(o&15)*4096+(r.charCodeAt(i+1)&63)*64+(r.charCodeAt(i+2)&63),n=3):(n=4,t=(o&7)*262144+(r.charCodeAt(i+1)&63)*4096+(r.charCodeAt(i+2)&63)*64+(r.charCodeAt(i+3)&63),t-=65536,a=55296+(t>>>10&1023),t=56320+(t&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function qf(r){return di(r,"binary").toString("utf8")}var ka="foo bar bazâð£",vs=Ve&&(qf(ka)==lE(ka)&&qf||zf(ka)==lE(ka)&&zf)||lE,Js=Ve?function(r){return di(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,i=0,n=0;t<r.length;)switch(i=r.charCodeAt(t++),!0){case i<128:e.push(String.fromCharCode(i));break;case i<2048:e.push(String.fromCharCode(192+(i>>6))),e.push(String.fromCharCode(128+(i&63)));break;case(i>=55296&&i<57344):i-=55296,n=r.charCodeAt(t++)-56320+(i<<10),e.push(String.fromCharCode(240+(n>>18&7))),e.push(String.fromCharCode(144+(n>>12&63))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)));break;default:e.push(String.fromCharCode(224+(i>>12))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)))}return e.join("")},DN=(function(){var r=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var i=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<r.length;++n)i=i.replace(r[n][0],r[n][1]);return i}})(),H0=/(^\s|\s$|\n)/;function Ut(r,e){return"<"+r+(e.match(H0)?' xml:space="preserve"':"")+">"+e+"</"+r+">"}function zs(r){return Ft(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function ne(r,e,t){return"<"+r+(t!=null?zs(t):"")+(e!=null?(e.match(H0)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function Nh(r,e){try{return r.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function xN(r,e){switch(typeof r){case"string":var t=ne("vt:lpwstr",$e(r));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return ne((r|0)==r?"vt:i4":"vt:r8",$e(String(r)));case"boolean":return ne("vt:bool",r?"true":"false")}if(r instanceof Date)return ne("vt:filetime",Nh(r));throw new Error("Unable to serialize "+r)}var mt={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},is=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],cr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function PN(r,e){for(var t=1-2*(r[e+7]>>>7),i=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),n=r[e+6]&15,s=5;s>=0;--s)n=n*256+r[e+s];return i==2047?n==0?t*(1/0):NaN:(i==0?i=-1022:(i-=1023,n+=Math.pow(2,52)),t*Math.pow(2,i-52)*n)}function MN(r,e,t){var i=(e<0||1/e==-1/0?1:0)<<7,n=0,s=0,a=i?-e:e;isFinite(a)?a==0?n=s=0:(n=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-n),n<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?n=-1022:(s-=Math.pow(2,52),n+=1023)):(n=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)r[t+o]=s&255;r[t+6]=(n&15)<<4|s&15,r[t+7]=n>>4|i}var Qf=function(r){for(var e=[],t=10240,i=0;i<r[0].length;++i)if(r[0][i])for(var n=0,s=r[0][i].length;n<s;n+=t)e.push.apply(e,r[0][i].slice(n,n+t));return e},jf=Ve?function(r){return r[0].length>0&&Ue.isBuffer(r[0][0])?Ue.concat(r[0].map(function(e){return Ue.isBuffer(e)?e:di(e)})):Qf(r)}:Qf,Zf=function(r,e,t){for(var i=[],n=e;n<t;n+=2)i.push(String.fromCharCode(gs(r,n)));return i.join("").replace(Ms,"")},yc=Ve?function(r,e,t){return Ue.isBuffer(r)?r.toString("utf16le",e,t).replace(Ms,""):Zf(r,e,t)}:Zf,eT=function(r,e,t){for(var i=[],n=e;n<e+t;++n)i.push(("0"+r[n].toString(16)).slice(-2));return i.join("")},k0=Ve?function(r,e,t){return Ue.isBuffer(r)?r.toString("hex",e,e+t):eT(r,e,t)}:eT,tT=function(r,e,t){for(var i=[],n=e;n<t;n++)i.push(String.fromCharCode(xn(r,n)));return i.join("")},Sa=Ve?function(e,t,i){return Ue.isBuffer(e)?e.toString("utf8",t,i):tT(e,t,i)}:tT,Y0=function(r,e){var t=fr(r,e);return t>0?Sa(r,e+4,e+4+t-1):""},V0=Y0,W0=function(r,e){var t=fr(r,e);return t>0?Sa(r,e+4,e+4+t-1):""},X0=W0,K0=function(r,e){var t=2*fr(r,e);return t>0?Sa(r,e+4,e+4+t-1):""},$0=K0,J0=function(e,t){var i=fr(e,t);return i>0?yc(e,t+4,t+4+i):""},z0=J0,q0=function(r,e){var t=fr(r,e);return t>0?Sa(r,e+4,e+4+t):""},Q0=q0,j0=function(r,e){return PN(r,e)},Ho=j0,wc=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ve&&(V0=function(e,t){if(!Ue.isBuffer(e))return Y0(e,t);var i=e.readUInt32LE(t);return i>0?e.toString("utf8",t+4,t+4+i-1):""},X0=function(e,t){if(!Ue.isBuffer(e))return W0(e,t);var i=e.readUInt32LE(t);return i>0?e.toString("utf8",t+4,t+4+i-1):""},$0=function(e,t){if(!Ue.isBuffer(e))return K0(e,t);var i=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+i-1)},z0=function(e,t){if(!Ue.isBuffer(e))return J0(e,t);var i=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+i)},Q0=function(e,t){if(!Ue.isBuffer(e))return q0(e,t);var i=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+i)},Ho=function(e,t){return Ue.isBuffer(e)?e.readDoubleLE(t):j0(e,t)},wc=function(e){return Ue.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var xn=function(r,e){return r[e]},gs=function(r,e){return r[e+1]*256+r[e]},vN=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},fr=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},zi=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},UN=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function Us(r,e){var t="",i,n,s=[],a,o,l,E;switch(e){case"dbcs":if(E=this.l,Ve&&Ue.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(l=0;l<r;++l)t+=String.fromCharCode(gs(this,E)),E+=2;r*=2;break;case"utf8":t=Sa(this,this.l,this.l+r);break;case"utf16le":r*=2,t=yc(this,this.l,this.l+r);break;case"wstr":return Us.call(this,r,"dbcs");case"lpstr-ansi":t=V0(this,this.l),r=4+fr(this,this.l);break;case"lpstr-cp":t=X0(this,this.l),r=4+fr(this,this.l);break;case"lpwstr":t=$0(this,this.l),r=4+2*fr(this,this.l);break;case"lpp4":r=4+fr(this,this.l),t=z0(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+fr(this,this.l),t=Q0(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(a=xn(this,this.l+r++))!==0;)s.push(ba(a));t=s.join("");break;case"_wstr":for(r=0,t="";(a=gs(this,this.l+r))!==0;)s.push(ba(a)),r+=2;r+=2,t=s.join("");break;case"dbcs-cont":for(t="",E=this.l,l=0;l<r;++l){if(this.lens&&this.lens.indexOf(E)!==-1)return a=xn(this,E),this.l=E+1,o=Us.call(this,r-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(ba(gs(this,E))),E+=2}t=s.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",E=this.l,l=0;l!=r;++l){if(this.lens&&this.lens.indexOf(E)!==-1)return a=xn(this,E),this.l=E+1,o=Us.call(this,r-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(ba(xn(this,E))),E+=1}t=s.join("");break;default:switch(r){case 1:return i=xn(this,this.l),this.l++,i;case 2:return i=(e==="i"?vN:gs)(this,this.l),this.l+=2,i;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(i=(r>0?zi:UN)(this,this.l),this.l+=4,i):(n=fr(this,this.l),this.l+=4,n);case 8:case-8:if(e==="f")return r==8?n=Ho(this,this.l):n=Ho([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;r=8;case 16:t=k0(this,this.l,r);break}}return this.l+=r,t}var yN=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},wN=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},FN=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function BN(r,e,t){var i=0,n=0;if(t==="dbcs"){for(n=0;n!=e.length;++n)FN(this,e.charCodeAt(n),this.l+2*n);i=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=e.length;++n)this[this.l+n]=e.charCodeAt(n)&255;i=e.length}else if(t==="hex"){for(;n<r;++n)this[this.l++]=parseInt(e.slice(2*n,2*n+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+r,this.length);for(n=0;n<Math.min(e.length,r);++n){var a=e.charCodeAt(n);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(r){case 1:i=1,this[this.l]=e&255;break;case 2:i=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:i=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:i=4,yN(this,e,this.l);break;case 8:if(i=8,t==="f"){MN(this,e,this.l);break}case 16:break;case-4:i=4,wN(this,e,this.l);break}return this.l+=i,this}function Z0(r,e){var t=k0(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function hr(r,e){r.l=e,r.read_shift=Us,r.chk=Z0,r.write_shift=BN}function Zr(r,e){r.l+=e}function z(r){var e=nn(r);return hr(e,0),e}function rr(){var r=[],e=Ve?256:2048,t=function(E){var h=z(E);return hr(h,0),h},i=t(e),n=function(){i&&(i.length>i.l&&(i=i.slice(0,i.l),i.l=i.length),i.length>0&&r.push(i),i=null)},s=function(E){return i&&E<i.length-i.l?i:(n(),i=t(Math.max(E+1,e)))},a=function(){return n(),vt(r)},o=function(E){n(),i=E,i.l==null&&(i.l=i.length),s(e)};return{next:s,push:o,end:a,_bufs:r}}function te(r,e,t,i){var n=+e,s;if(!isNaN(n)){i||(i=PL[n].p||(t||[]).length||0),s=1+(n>=128?1:0)+1,i>=128&&++s,i>=16384&&++s,i>=2097152&&++s;var a=r.next(s);n<=127?a.write_shift(1,n):(a.write_shift(1,(n&127)+128),a.write_shift(1,n>>7));for(var o=0;o!=4;++o)if(i>=128)a.write_shift(1,(i&127)+128),i>>=7;else{a.write_shift(1,i);break}i>0&&wc(t)&&r.push(t)}}function ys(r,e,t){var i=nr(r);if(e.s?(i.cRel&&(i.c+=e.s.c),i.rRel&&(i.r+=e.s.r)):(i.cRel&&(i.c+=e.c),i.rRel&&(i.r+=e.r)),!t||t.biff<12){for(;i.c>=256;)i.c-=256;for(;i.r>=65536;)i.r-=65536}return i}function rT(r,e,t){var i=nr(r);return i.s=ys(i.s,e.s,t),i.e=ys(i.e,e.s,t),i}function ws(r,e){if(r.cRel&&r.c<0)for(r=nr(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=nr(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=Je(r);return!r.cRel&&r.cRel!=null&&(t=HN(t)),!r.rRel&&r.rRel!=null&&(t=bN(t)),t}function EE(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+kt(r.s.c)+":"+(r.e.cRel?"":"$")+kt(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+wt(r.s.r)+":"+(r.e.rRel?"":"$")+wt(r.e.r):ws(r.s,e.biff)+":"+ws(r.e,e.biff)}function Fc(r){return parseInt(GN(r),10)-1}function wt(r){return""+(r+1)}function bN(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function GN(r){return r.replace(/\$(\d+)$/,"$1")}function Bc(r){for(var e=kN(r),t=0,i=0;i!==e.length;++i)t=26*t+e.charCodeAt(i)-64;return t-1}function kt(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function HN(r){return r.replace(/^([A-Z])/,"$$$1")}function kN(r){return r.replace(/^\$([A-Z])/,"$1")}function YN(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function _t(r){for(var e=0,t=0,i=0;i<r.length;++i){var n=r.charCodeAt(i);n>=48&&n<=57?e=10*e+(n-48):n>=65&&n<=90&&(t=26*t+(n-64))}return{c:t-1,r:e-1}}function Je(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function ur(r){var e=r.indexOf(":");return e==-1?{s:_t(r),e:_t(r)}:{s:_t(r.slice(0,e)),e:_t(r.slice(e+1))}}function Tt(r,e){return typeof e>"u"||typeof e=="number"?Tt(r.s,r.e):(typeof r!="string"&&(r=Je(r)),typeof e!="string"&&(e=Je(e)),r==e?r:r+":"+e)}function rt(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,i=0,n=0,s=r.length;for(t=0;i<s&&!((n=r.charCodeAt(i)-64)<1||n>26);++i)t=26*t+n;for(e.s.c=--t,t=0;i<s&&!((n=r.charCodeAt(i)-48)<0||n>9);++i)t=10*t+n;if(e.s.r=--t,i===s||n!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++i,t=0;i!=s&&!((n=r.charCodeAt(i)-64)<1||n>26);++i)t=26*t+n;for(e.e.c=--t,t=0;i!=s&&!((n=r.charCodeAt(i)-48)<0||n>9);++i)t=10*t+n;return e.e.r=--t,e}function iT(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=vi(r.z,t?ir(e):e)}catch{}try{return r.w=vi((r.XF||{}).numFmtId||(t?14:0),t?ir(e):e)}catch{return""+e}}function ui(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?da[r.v]||r.v:e==null?iT(r,r.v):iT(r,e))}function un(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",i={};return i[t]=r,{SheetNames:[t],Sheets:i}}function eR(r,e,t){var i=t||{},n=r?Array.isArray(r):i.dense,s=r||(n?[]:{}),a=0,o=0;if(s&&i.origin!=null){if(typeof i.origin=="number")a=i.origin;else{var l=typeof i.origin=="string"?_t(i.origin):i.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var E={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=rt(s["!ref"]);E.s.c=h.s.c,E.s.r=h.s.r,E.e.c=Math.max(E.e.c,h.e.c),E.e.r=Math.max(E.e.r,h.e.r),a==-1&&(E.e.r=a=h.e.r+1)}for(var c=0;c!=e.length;++c)if(e[c]){if(!Array.isArray(e[c]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=e[c].length;++f)if(!(typeof e[c][f]>"u")){var T={v:e[c][f]},A=a+c,u=o+f;if(E.s.r>A&&(E.s.r=A),E.s.c>u&&(E.s.c=u),E.e.r<A&&(E.e.r=A),E.e.c<u&&(E.e.c=u),e[c][f]&&typeof e[c][f]=="object"&&!Array.isArray(e[c][f])&&!(e[c][f]instanceof Date))T=e[c][f];else if(Array.isArray(T.v)&&(T.f=e[c][f][1],T.v=T.v[0]),T.v===null)if(T.f)T.t="n";else if(i.nullError)T.t="e",T.v=0;else if(i.sheetStubs)T.t="z";else continue;else typeof T.v=="number"?T.t="n":typeof T.v=="boolean"?T.t="b":T.v instanceof Date?(T.z=i.dateNF||ot[14],i.cellDates?(T.t="d",T.w=vi(T.z,ir(T.v))):(T.t="n",T.v=ir(T.v),T.w=vi(T.z,T.v))):T.t="s";if(n)s[A]||(s[A]=[]),s[A][u]&&s[A][u].z&&(T.z=s[A][u].z),s[A][u]=T;else{var R=Je({c:u,r:A});s[R]&&s[R].z&&(T.z=s[R].z),s[R]=T}}}return E.s.c<1e7&&(s["!ref"]=Tt(E)),s}function ns(r,e){return eR(null,r,e)}function VN(r){return r.read_shift(4,"i")}function wr(r,e){return e||(e=z(4)),e.write_shift(4,r),e}function Yt(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function gt(r,e){var t=!1;return e==null&&(t=!0,e=z(4+2*r.length)),e.write_shift(4,r.length),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}function WN(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function XN(r,e){return e||(e=z(4)),e.write_shift(2,0),e.write_shift(2,0),e}function bc(r,e){var t=r.l,i=r.read_shift(1),n=Yt(r),s=[],a={t:n,h:n};if((i&1)!==0){for(var o=r.read_shift(4),l=0;l!=o;++l)s.push(WN(r));a.r=s}else a.r=[{ich:0,ifnt:0}];return r.l=t+e,a}function KN(r,e){var t=!1;return e==null&&(t=!0,e=z(15+4*r.t.length)),e.write_shift(1,0),gt(r.t,e),t?e.slice(0,e.l):e}var $N=bc;function JN(r,e){var t=!1;return e==null&&(t=!0,e=z(23+4*r.t.length)),e.write_shift(1,1),gt(r.t,e),e.write_shift(4,1),XN({},e),t?e.slice(0,e.l):e}function _r(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function An(r,e){return e==null&&(e=z(8)),e.write_shift(-4,r.c),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}function Rn(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}function Sn(r,e){return e==null&&(e=z(4)),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}var zN=Yt,tR=gt;function Gc(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}function ko(r,e){var t=!1;return e==null&&(t=!0,e=z(127)),e.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}var qN=Yt,ph=Gc,Hc=ko;function rR(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,i=e[0]&2;r.l+=4;var n=i===0?Ho([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):zi(e,0)>>2;return t?n/100:n}function iR(r,e){e==null&&(e=z(4));var t=0,i=0,n=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?i=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(i=1,t=1),i)e.write_shift(-4,((t?n:r)<<2)+(t+2));else throw new Error("unsupported RkNumber "+r)}function nR(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}function QN(r,e){return e||(e=z(16)),e.write_shift(4,r.s.r),e.write_shift(4,r.e.r),e.write_shift(4,r.s.c),e.write_shift(4,r.e.c),e}var dn=nR,ss=QN;function as(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function sn(r,e){return(e||z(8)).write_shift(8,r,"f")}function jN(r){var e={},t=r.read_shift(1),i=t>>>1,n=r.read_shift(1),s=r.read_shift(2,"i"),a=r.read_shift(1),o=r.read_shift(1),l=r.read_shift(1);switch(r.l++,i){case 0:e.auto=1;break;case 1:e.index=n;var E=op[n];E&&(e.rgb=uT(E));break;case 2:e.rgb=uT([a,o,l]);break;case 3:e.theme=n;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Yo(r,e){if(e||(e=z(8)),!r||r.auto)return e.write_shift(4,0),e.write_shift(4,0),e;r.index!=null?(e.write_shift(1,2),e.write_shift(1,r.index)):r.theme!=null?(e.write_shift(1,6),e.write_shift(1,r.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=r.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!r.rgb||r.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var i=r.rgb||"FFFFFF";typeof i=="number"&&(i=("000000"+i.toString(16)).slice(-6)),e.write_shift(1,parseInt(i.slice(0,2),16)),e.write_shift(1,parseInt(i.slice(2,4),16)),e.write_shift(1,parseInt(i.slice(4,6),16)),e.write_shift(1,255)}return e}function ZN(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function ep(r,e){e||(e=z(2));var t=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var sR=2,lr=3,Ya=11,Vo=19,Va=64,tp=65,rp=71,ip=4108,np=4126,Mt=80,nT={1:{n:"CodePage",t:sR},2:{n:"Category",t:Mt},3:{n:"PresentationFormat",t:Mt},4:{n:"ByteCount",t:lr},5:{n:"LineCount",t:lr},6:{n:"ParagraphCount",t:lr},7:{n:"SlideCount",t:lr},8:{n:"NoteCount",t:lr},9:{n:"HiddenCount",t:lr},10:{n:"MultimediaClipCount",t:lr},11:{n:"ScaleCrop",t:Ya},12:{n:"HeadingPairs",t:ip},13:{n:"TitlesOfParts",t:np},14:{n:"Manager",t:Mt},15:{n:"Company",t:Mt},16:{n:"LinksUpToDate",t:Ya},17:{n:"CharacterCount",t:lr},19:{n:"SharedDoc",t:Ya},22:{n:"HyperlinksChanged",t:Ya},23:{n:"AppVersion",t:lr,p:"version"},24:{n:"DigSig",t:tp},26:{n:"ContentType",t:Mt},27:{n:"ContentStatus",t:Mt},28:{n:"Language",t:Mt},29:{n:"Version",t:Mt},255:{},2147483648:{n:"Locale",t:Vo},2147483651:{n:"Behavior",t:Vo},1919054434:{}},sT={1:{n:"CodePage",t:sR},2:{n:"Title",t:Mt},3:{n:"Subject",t:Mt},4:{n:"Author",t:Mt},5:{n:"Keywords",t:Mt},6:{n:"Comments",t:Mt},7:{n:"Template",t:Mt},8:{n:"LastAuthor",t:Mt},9:{n:"RevNumber",t:Mt},10:{n:"EditTime",t:Va},11:{n:"LastPrinted",t:Va},12:{n:"CreatedDate",t:Va},13:{n:"ModifiedDate",t:Va},14:{n:"PageCount",t:lr},15:{n:"WordCount",t:lr},16:{n:"CharCount",t:lr},17:{n:"Thumbnail",t:rp},18:{n:"Application",t:Mt},19:{n:"DocSecurity",t:lr},255:{},2147483648:{n:"Locale",t:Vo},2147483651:{n:"Behavior",t:Vo},1919054434:{}};function sp(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var ap=sp([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),op=nr(ap),da={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},lp={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Wa={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function aR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function oR(r,e){var t=dN(lp),i=[],n;i[i.length]=ut,i[i.length]=ne("Types",null,{xmlns:mt.CT,"xmlns:xsd":mt.xsd,"xmlns:xsi":mt.xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return ne("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){r[l]&&r[l].length>0&&(n=r[l][0],i[i.length]=ne("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:Wa[l][e.bookType]||Wa[l].xlsx}))},a=function(l){(r[l]||[]).forEach(function(E){i[i.length]=ne("Override",null,{PartName:(E[0]=="/"?"":"/")+E,ContentType:Wa[l][e.bookType]||Wa[l].xlsx})})},o=function(l){(r[l]||[]).forEach(function(E){i[i.length]=ne("Override",null,{PartName:(E[0]=="/"?"":"/")+E,ContentType:t[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var Ye={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function lR(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function bn(r){var e=[ut,ne("Relationships",null,{xmlns:mt.RELS})];return Ft(r["!id"]).forEach(function(t){e[e.length]=ne("Relationship",null,r["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Ke(r,e,t,i,n,s){if(n||(n={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),e<0)for(e=r["!idx"];r["!id"]["rId"+e];++e);if(r["!idx"]=e+1,n.Id="rId"+e,n.Type=i,n.Target=t,[Ye.HLINK,Ye.XPATH,Ye.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),r["!id"][n.Id])throw new Error("Cannot rewrite rId "+e);return r["!id"][n.Id]=n,r[("/"+n.Target).replace("//","/")]=n,e}function Ep(r){var e=[ut];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<r.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+r[t][0]+'" manifest:media-type="'+r[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function aT(r,e,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function hp(r,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function cp(r){var e=[ut];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=r.length;++t)e.push(aT(r[t][0],r[t][1])),e.push(hp("",r[t][0]));return e.push(aT("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function ER(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+yo.version+"</meta:generator></office:meta></office:document-meta>"}var en=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function hE(r,e,t,i,n){n[r]!=null||e==null||e===""||(n[r]=e,e=$e(e),i[i.length]=t?ne(r,e,t):Ut(r,e))}function hR(r,e){var t=e||{},i=[ut,ne("cp:coreProperties",null,{"xmlns:cp":mt.CORE_PROPS,"xmlns:dc":mt.dc,"xmlns:dcterms":mt.dcterms,"xmlns:dcmitype":mt.dcmitype,"xmlns:xsi":mt.xsi})],n={};if(!r&&!t.Props)return i.join("");r&&(r.CreatedDate!=null&&hE("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:Nh(r.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},i,n),r.ModifiedDate!=null&&hE("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:Nh(r.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},i,n));for(var s=0;s!=en.length;++s){var a=en[s],o=t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:r?r[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&hE(a[0],o,null,i,n)}return i.length>2&&(i[i.length]="</cp:coreProperties>",i[1]=i[1].replace("/>",">")),i.join("")}var Gn=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],cR=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function fR(r){var e=[],t=ne;return r||(r={}),r.Application="SheetJS",e[e.length]=ut,e[e.length]=ne("Properties",null,{xmlns:mt.EXT_PROPS,"xmlns:vt":mt.vt}),Gn.forEach(function(i){if(r[i[1]]!==void 0){var n;switch(i[2]){case"string":n=$e(String(r[i[1]]));break;case"bool":n=r[i[1]]?"true":"false";break}n!==void 0&&(e[e.length]=t(i[0],n))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",r.SheetNames.map(function(i){return"<vt:lpstr>"+$e(i)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function TR(r){var e=[ut,ne("Properties",null,{xmlns:mt.CUST_PROPS,"xmlns:vt":mt.vt})];if(!r)return e.join("");var t=1;return Ft(r).forEach(function(n){++t,e[e.length]=ne("property",xN(r[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:$e(n)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var oT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function fp(r,e){var t=[];return Ft(oT).map(function(i){for(var n=0;n<en.length;++n)if(en[n][1]==i)return en[n];for(n=0;n<Gn.length;++n)if(Gn[n][1]==i)return Gn[n];throw i}).forEach(function(i){if(r[i[1]]!=null){var n=e&&e.Props&&e.Props[i[1]]!=null?e.Props[i[1]]:r[i[1]];switch(i[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),t.push(Ut(oT[i[1]]||i[1],n))}}),ne("DocumentProperties",t.join(""),{xmlns:cr.o})}function Tp(r,e){var t=["Worksheets","SheetNames"],i="CustomDocumentProperties",n=[];return r&&Ft(r).forEach(function(s){if(Object.prototype.hasOwnProperty.call(r,s)){for(var a=0;a<en.length;++a)if(s==en[a][1])return;for(a=0;a<Gn.length;++a)if(s==Gn[a][1])return;for(a=0;a<t.length;++a)if(s==t[a])return;var o=r[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),n.push(ne(Jf(s),o,{"dt:dt":l}))}}),e&&Ft(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(r&&Object.prototype.hasOwnProperty.call(r,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),n.push(ne(Jf(s),a,{"dt:dt":o}))}}),"<"+i+' xmlns="'+cr.o+'">'+n.join("")+"</"+i+">"}function up(r){var e=typeof r=="string"?new Date(Date.parse(r)):r,t=e.getTime()/1e3+11644473600,i=t%Math.pow(2,32),n=(t-i)/Math.pow(2,32);i*=1e7,n*=1e7;var s=i/Math.pow(2,32)|0;s>0&&(i=i%Math.pow(2,32),n+=s);var a=z(8);return a.write_shift(4,i),a.write_shift(4,n),a}function lT(r,e){var t=z(4),i=z(4);switch(t.write_shift(4,r==80?31:r),r){case 3:i.write_shift(-4,e);break;case 5:i=z(8),i.write_shift(8,e,"f");break;case 11:i.write_shift(4,e?1:0);break;case 64:i=up(e);break;case 31:case 80:for(i=z(4+2*(e.length+1)+(e.length%2?0:2)),i.write_shift(4,e.length+1),i.write_shift(0,e,"dbcs");i.l!=i.length;)i.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}return vt([t,i])}var uR=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Ap(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function ET(r,e,t){var i=z(8),n=[],s=[],a=8,o=0,l=z(8),E=z(8);if(l.write_shift(4,2),l.write_shift(4,1200),E.write_shift(4,1),s.push(l),n.push(E),a+=8+l.length,!e){E=z(8),E.write_shift(4,0),n.unshift(E);var h=[z(4)];for(h[0].write_shift(4,r.length),o=0;o<r.length;++o){var c=r[o][0];for(l=z(8+2*(c.length+1)+(c.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,c.length+1),l.write_shift(0,c,"dbcs");l.l!=l.length;)l.write_shift(1,0);h.push(l)}l=vt(h),s.unshift(l),a+=8+l.length}for(o=0;o<r.length;++o)if(!(e&&!e[r[o][0]])&&!(uR.indexOf(r[o][0])>-1||cR.indexOf(r[o][0])>-1)&&r[o][1]!=null){var f=r[o][1],T=0;if(e){T=+e[r[o][0]];var A=t[T];if(A.p=="version"&&typeof f=="string"){var u=f.split(".");f=(+u[0]<<16)+(+u[1]||0)}l=lT(A.t,f)}else{var R=Ap(f);R==-1&&(R=31,f=String(f)),l=lT(R,f)}s.push(l),E=z(8),E.write_shift(4,e?T:2+o),n.push(E),a+=8+l.length}var d=8*(s.length+1);for(o=0;o<s.length;++o)n[o].write_shift(4,d),d+=s[o].length;return i.write_shift(4,a),i.write_shift(4,s.length),vt([i].concat(n).concat(s))}function hT(r,e,t,i,n,s){var a=z(n?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,ze.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,n?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,n?68:48);var l=ET(r,t,i);if(o.push(l),n){var E=ET(n,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(E)}return vt(o)}function Rp(r,e){e||(e=z(r));for(var t=0;t<r;++t)e.write_shift(1,0);return e}function Sp(r,e){return r.read_shift(e)===1}function Kt(r,e){return e||(e=z(2)),e.write_shift(2,+!!r),e}function AR(r){return r.read_shift(2,"u")}function Sr(r,e){return e||(e=z(2)),e.write_shift(2,r),e}function RR(r,e,t){return t||(t=z(2)),t.write_shift(1,e=="e"?+r:+!!r),t.write_shift(1,e=="e"?1:0),t}function SR(r,e,t){var i=r.read_shift(t&&t.biff>=12?2:1),n="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=r.read_shift(1);s&&(n="dbcs-cont")}else t.biff==12&&(n="wstr");t.biff>=2&&t.biff<=5&&(n="cpstr");var a=i?r.read_shift(i,n):"";return a}function dp(r){var e=r.t||"",t=z(3);t.write_shift(2,e.length),t.write_shift(1,1);var i=z(2*e.length);i.write_shift(2*e.length,e,"utf16le");var n=[t,i];return vt(n)}function Op(r,e,t){var i;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var n=r.read_shift(1);return n===0?i=r.read_shift(e,"sbcs-cont"):i=r.read_shift(e,"dbcs-cont"),i}function Ip(r,e,t){var i=r.read_shift(t&&t.biff==2?1:2);return i===0?(r.l++,""):Op(r,i,t)}function Np(r,e,t){if(t.biff>5)return Ip(r,e,t);var i=r.read_shift(1);return i===0?(r.l++,""):r.read_shift(i,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function dR(r,e,t){return t||(t=z(3+2*r.length)),t.write_shift(2,r.length),t.write_shift(1,1),t.write_shift(31,r,"utf16le"),t}function cT(r,e){e||(e=z(6+r.length*2)),e.write_shift(4,1+r.length);for(var t=0;t<r.length;++t)e.write_shift(2,r.charCodeAt(t));return e.write_shift(2,0),e}function pp(r){var e=z(512),t=0,i=r.Target;i.slice(0,7)=="file://"&&(i=i.slice(7));var n=i.indexOf("#"),s=n>-1?31:23;switch(i.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(t=0;t<a.length;++t)e.write_shift(4,a[t]);if(s==28)i=i.slice(1),cT(i,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<a.length;++t)e.write_shift(1,parseInt(a[t],16));var o=n>-1?i.slice(0,n):i;for(e.write_shift(4,2*(o.length+1)),t=0;t<o.length;++t)e.write_shift(2,o.charCodeAt(t));e.write_shift(2,0),s&8&&cT(n>-1?i.slice(n+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<a.length;++t)e.write_shift(1,parseInt(a[t],16));for(var l=0;i.slice(l*3,l*3+3)=="../"||i.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,i.length-3*l+1),t=0;t<i.length-3*l;++t)e.write_shift(1,i.charCodeAt(t+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function an(r,e,t,i){return i||(i=z(6)),i.write_shift(2,r),i.write_shift(2,e),i.write_shift(2,t||0),i}function mp(r,e,t){var i=t.biff>8?4:2,n=r.read_shift(i),s=r.read_shift(i,"i"),a=r.read_shift(i,"i");return[n,s,a]}function Cp(r){var e=r.read_shift(2),t=r.read_shift(2),i=r.read_shift(2),n=r.read_shift(2);return{s:{c:i,r:e},e:{c:n,r:t}}}function IR(r,e){return e||(e=z(8)),e.write_shift(2,r.s.r),e.write_shift(2,r.e.r),e.write_shift(2,r.s.c),e.write_shift(2,r.e.c),e}function kc(r,e,t){var i=1536,n=16;switch(t.bookType){case"biff8":break;case"biff5":i=1280,n=8;break;case"biff4":i=4,n=6;break;case"biff3":i=3,n=6;break;case"biff2":i=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=z(n);return s.write_shift(2,i),s.write_shift(2,e),n>4&&s.write_shift(2,29282),n>6&&s.write_shift(2,1997),n>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function _p(r,e){var t=!e||e.biff==8,i=z(t?112:54);for(i.write_shift(e.biff==8?2:1,7),t&&i.write_shift(1,0),i.write_shift(4,859007059),i.write_shift(4,5458548|(t?0:536870912));i.l<i.length;)i.write_shift(1,t?0:32);return i}function gp(r,e){var t=!e||e.biff>=8?2:1,i=z(8+t*r.name.length);i.write_shift(4,r.pos),i.write_shift(1,r.hs||0),i.write_shift(1,r.dt),i.write_shift(1,r.name.length),e.biff>=8&&i.write_shift(1,1),i.write_shift(t*r.name.length,r.name,e.biff<8?"sbcs":"utf16le");var n=i.slice(0,i.l);return n.l=i.l,n}function Lp(r,e){var t=z(8);t.write_shift(4,r.Count),t.write_shift(4,r.Unique);for(var i=[],n=0;n<r.length;++n)i[n]=dp(r[n]);var s=vt([t].concat(i));return s.parts=[t.length].concat(i.map(function(a){return a.length})),s}function Dp(){var r=z(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function xp(r){var e=z(18),t=1718;return r&&r.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function Pp(r,e){var t=r.name||"Arial",i=e&&e.biff==5,n=i?15+t.length:16+2*t.length,s=z(n);return s.write_shift(2,r.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),i||s.write_shift(1,1),s.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le"),s}function Mp(r,e,t,i){var n=z(10);return an(r,e,i,n),n.write_shift(4,t),n}function vp(r,e,t,i,n){var s=!n||n.biff==8,a=z(8+ +s+(1+s)*t.length);return an(r,e,i,a),a.write_shift(2,t.length),s&&a.write_shift(1,1),a.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),a}function Up(r,e,t,i){var n=t&&t.biff==5;i||(i=z(n?3+e.length:5+2*e.length)),i.write_shift(2,r),i.write_shift(n?1:2,e.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*e.length,e,n?"sbcs":"utf16le");var s=i.length>i.l?i.slice(0,i.l):i;return s.l==null&&(s.l=s.length),s}function yp(r,e){var t=e.biff==8||!e.biff?4:2,i=z(2*t+6);return i.write_shift(t,r.s.r),i.write_shift(t,r.e.r+1),i.write_shift(2,r.s.c),i.write_shift(2,r.e.c+1),i.write_shift(2,0),i}function fT(r,e,t,i){var n=t&&t.biff==5;i||(i=z(n?16:20)),i.write_shift(2,0),r.style?(i.write_shift(2,r.numFmtId||0),i.write_shift(2,65524)):(i.write_shift(2,r.numFmtId||0),i.write_shift(2,e<<4));var s=0;return r.numFmtId>0&&n&&(s|=1024),i.write_shift(4,s),i.write_shift(4,0),n||i.write_shift(4,0),i.write_shift(2,0),i}function wp(r){var e=z(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function Fp(r,e,t,i,n,s){var a=z(8);return an(r,e,i,a),RR(t,s,a),a}function Bp(r,e,t,i){var n=z(14);return an(r,e,i,n),sn(t,n),n}function bp(r,e,t){if(t.biff<8)return Gp(r,e,t);for(var i=[],n=r.l+e,s=r.read_shift(t.biff>8?4:2);s--!==0;)i.push(mp(r,t.biff>8?12:6,t));if(r.l!=n)throw new Error("Bad ExternSheet: "+r.l+" != "+n);return i}function Gp(r,e,t){r[r.l+1]==3&&r[r.l]++;var i=SR(r,e,t);return i.charCodeAt(0)==3?i.slice(1):i}function Hp(r){var e=z(2+r.length*8);e.write_shift(2,r.length);for(var t=0;t<r.length;++t)IR(r[t],e);return e}function kp(r){var e=z(24),t=_t(r[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var i="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)e.write_shift(1,parseInt(i[n],16));return vt([e,pp(r[1])])}function Yp(r){var e=r[1].Tooltip,t=z(10+2*(e.length+1));t.write_shift(2,2048);var i=_t(r[0]);t.write_shift(2,i.r),t.write_shift(2,i.r),t.write_shift(2,i.c),t.write_shift(2,i.c);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function Vp(r){return r||(r=z(4)),r.write_shift(2,1),r.write_shift(2,1),r}function Wp(r,e,t){if(!t.cellStyles)return Zr(r,e);var i=t&&t.biff>=12?4:2,n=r.read_shift(i),s=r.read_shift(i),a=r.read_shift(i),o=r.read_shift(i),l=r.read_shift(2);i==2&&(r.l+=2);var E={s:n,e:s,w:a,ixfe:o,flags:l};return(t.biff>=5||!t.biff)&&(E.level=l>>8&7),E}function Xp(r,e){var t=z(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,r.width*256),t.write_shift(2,0);var i=0;return r.hidden&&(i|=1),t.write_shift(1,i),i=r.level||0,t.write_shift(1,i),t.write_shift(2,0),t}function Kp(r){for(var e=z(2*r),t=0;t<r;++t)e.write_shift(2,t+1);return e}function $p(r,e,t){var i=z(15);return Ia(i,r,e),i.write_shift(8,t,"f"),i}function Jp(r,e,t){var i=z(9);return Ia(i,r,e),i.write_shift(2,t),i}var zp=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Pc({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,l){var E=[],h=nn(1);switch(l.type){case"base64":h=vr(Ti(o));break;case"binary":h=vr(o);break;case"buffer":case"array":h=o;break}hr(h,0);var c=h.read_shift(1),f=!!(c&136),T=!1,A=!1;switch(c){case 2:break;case 3:break;case 48:T=!0,f=!0;break;case 49:T=!0,f=!0;break;case 131:break;case 139:break;case 140:A=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+c.toString(16))}var u=0,R=521;c==2&&(u=h.read_shift(2)),h.l+=3,c!=2&&(u=h.read_shift(4)),u>1048576&&(u=1e6),c!=2&&(R=h.read_shift(2));var d=h.read_shift(2),O=l.codepage||1252;c!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(O=r[h[h.l]]),h.l+=1,h.l+=2),A&&(h.l+=36);for(var I=[],L={},D=Math.min(h.length,c==2?521:R-10-(T?264:0)),U=A?32:11;h.l<D&&h[h.l]!=13;)switch(L={},L.name=wo.utils.decode(O,h.slice(h.l,h.l+U)).replace(/[\u0000\r\n].*$/g,""),h.l+=U,L.type=String.fromCharCode(h.read_shift(1)),c!=2&&!A&&(L.offset=h.read_shift(4)),L.len=h.read_shift(1),c==2&&(L.offset=h.read_shift(2)),L.dec=h.read_shift(1),L.name.length&&I.push(L),c!=2&&(h.l+=A?13:14),L.type){case"B":(!T||L.len!=8)&&l.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+L.type)}if(h[h.l]!==13&&(h.l=R-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=R;var _=0,y=0;for(E[0]=[],y=0;y!=I.length;++y)E[0][y]=I[y].name;for(;u-- >0;){if(h[h.l]===42){h.l+=d;continue}for(++h.l,E[++_]=[],y=0,y=0;y!=I.length;++y){var P=h.slice(h.l,h.l+I[y].len);h.l+=I[y].len,hr(P,0);var Y=wo.utils.decode(O,P);switch(I[y].type){case"C":Y.trim().length&&(E[_][y]=Y.replace(/\s+$/,""));break;case"D":Y.length===8?E[_][y]=new Date(+Y.slice(0,4),+Y.slice(4,6)-1,+Y.slice(6,8)):E[_][y]=Y;break;case"F":E[_][y]=parseFloat(Y.trim());break;case"+":case"I":E[_][y]=A?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(Y.trim().toUpperCase()){case"Y":case"T":E[_][y]=!0;break;case"N":case"F":E[_][y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Y+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+c.toString(16));E[_][y]="##MEMO##"+(A?parseInt(Y.trim(),10):P.read_shift(4));break;case"N":Y=Y.replace(/\u0000/g,"").trim(),Y&&Y!="."&&(E[_][y]=+Y||0);break;case"@":E[_][y]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":E[_][y]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":E[_][y]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":E[_][y]=-P.read_shift(-8,"f");break;case"B":if(T&&I[y].len==8){E[_][y]=P.read_shift(8,"f");break}case"G":case"P":P.l+=I[y].len;break;case"0":if(I[y].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+I[y].type)}}}if(c!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return l&&l.sheetRows&&(E=E.slice(0,l.sheetRows)),l.DBF=I,E}function i(o,l){var E=l||{};E.dateNF||(E.dateNF="yyyymmdd");var h=ns(t(o,E),E);return h["!cols"]=E.DBF.map(function(c){return{wch:c.len,DBF:c}}),delete E.DBF,h}function n(o,l){try{return un(i(o,l),l)}catch(E){if(l&&l.WTF)throw E}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var E=l||{};if(+E.codepage>=0&&Xs(+E.codepage),E.type=="string")throw new Error("Cannot write DBF to JS string");var h=rr(),c=Jo(o,{header:1,raw:!0,cellDates:!0}),f=c[0],T=c.slice(1),A=o["!cols"]||[],u=0,R=0,d=0,O=1;for(u=0;u<f.length;++u){if(((A[u]||{}).DBF||{}).name){f[u]=A[u].DBF.name,++d;continue}if(f[u]!=null){if(++d,typeof f[u]=="number"&&(f[u]=f[u].toString(10)),typeof f[u]!="string")throw new Error("DBF Invalid column name "+f[u]+" |"+typeof f[u]+"|");if(f.indexOf(f[u])!==u){for(R=0;R<1024;++R)if(f.indexOf(f[u]+"_"+R)==-1){f[u]+="_"+R;break}}}}var I=rt(o["!ref"]),L=[],D=[],U=[];for(u=0;u<=I.e.c-I.s.c;++u){var _="",y="",P=0,Y=[];for(R=0;R<T.length;++R)T[R][u]!=null&&Y.push(T[R][u]);if(Y.length==0||f[u]==null){L[u]="?";continue}for(R=0;R<Y.length;++R){switch(typeof Y[R]){case"number":y="B";break;case"string":y="C";break;case"boolean":y="L";break;case"object":y=Y[R]instanceof Date?"D":"C";break;default:y="C"}P=Math.max(P,String(Y[R]).length),_=_&&_!=y?"C":y}P>250&&(P=250),y=((A[u]||{}).DBF||{}).type,y=="C"&&A[u].DBF.len>P&&(P=A[u].DBF.len),_=="B"&&y=="N"&&(_="N",U[u]=A[u].DBF.dec,P=A[u].DBF.len),D[u]=_=="C"||y=="N"?P:s[_]||0,O+=D[u],L[u]=_}var G=h.next(32);for(G.write_shift(4,318902576),G.write_shift(4,T.length),G.write_shift(2,296+32*d),G.write_shift(2,O),u=0;u<4;++u)G.write_shift(4,0);for(G.write_shift(4,0|(+e[N0]||3)<<8),u=0,R=0;u<f.length;++u)if(f[u]!=null){var b=h.next(32),Q=(f[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);b.write_shift(1,Q,"sbcs"),b.write_shift(1,L[u]=="?"?"C":L[u],"sbcs"),b.write_shift(4,R),b.write_shift(1,D[u]||s[L[u]]||0),b.write_shift(1,U[u]||0),b.write_shift(1,2),b.write_shift(4,0),b.write_shift(1,0),b.write_shift(4,0),b.write_shift(4,0),R+=D[u]||s[L[u]]||0}var ae=h.next(264);for(ae.write_shift(4,13),u=0;u<65;++u)ae.write_shift(4,0);for(u=0;u<T.length;++u){var oe=h.next(O);for(oe.write_shift(1,0),R=0;R<f.length;++R)if(f[R]!=null)switch(L[R]){case"L":oe.write_shift(1,T[u][R]==null?63:T[u][R]?84:70);break;case"B":oe.write_shift(8,T[u][R]||0,"f");break;case"N":var Me="0";for(typeof T[u][R]=="number"&&(Me=T[u][R].toFixed(U[R]||0)),d=0;d<D[R]-Me.length;++d)oe.write_shift(1,32);oe.write_shift(1,Me,"sbcs");break;case"D":T[u][R]?(oe.write_shift(4,("0000"+T[u][R].getFullYear()).slice(-4),"sbcs"),oe.write_shift(2,("00"+(T[u][R].getMonth()+1)).slice(-2),"sbcs"),oe.write_shift(2,("00"+T[u][R].getDate()).slice(-2),"sbcs")):oe.write_shift(8,"00000000","sbcs");break;case"C":var xe=String(T[u][R]!=null?T[u][R]:"").slice(0,D[R]);for(oe.write_shift(1,xe,"sbcs"),d=0;d<D[R]-xe.length;++d)oe.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:n,to_sheet:i,from_sheet:a}})(),qp=(function(){var r={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ft(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(f,T){var A=r[T];return typeof A=="number"?Ff(A):A},i=function(f,T,A){var u=T.charCodeAt(0)-32<<4|A.charCodeAt(0)-48;return u==59?f:Ff(u)};r["|"]=254;function n(f,T){switch(T.type){case"base64":return s(Ti(f),T);case"binary":return s(f,T);case"buffer":return s(Ve&&Ue.isBuffer(f)?f.toString("binary"):Aa(f),T);case"array":return s(Dl(f),T)}throw new Error("Unrecognized type "+T.type)}function s(f,T){var A=f.split(/[\n\r]+/),u=-1,R=-1,d=0,O=0,I=[],L=[],D=null,U={},_=[],y=[],P=[],Y=0,G;for(+T.codepage>=0&&Xs(+T.codepage);d!==A.length;++d){Y=0;var b=A[d].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,i).replace(e,t),Q=b.replace(/;;/g,"\0").split(";").map(function(M){return M.replace(/\u0000/g,";")}),ae=Q[0],oe;if(b.length>0)switch(ae){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Q[1].charAt(0)=="P"&&L.push(b.slice(3).replace(/;;/g,";"));break;case"C":var Me=!1,xe=!1,Be=!1,me=!1,ge=-1,De=-1;for(O=1;O<Q.length;++O)switch(Q[O].charAt(0)){case"A":break;case"X":R=parseInt(Q[O].slice(1))-1,xe=!0;break;case"Y":for(u=parseInt(Q[O].slice(1))-1,xe||(R=0),G=I.length;G<=u;++G)I[G]=[];break;case"K":oe=Q[O].slice(1),oe.charAt(0)==='"'?oe=oe.slice(1,oe.length-1):oe==="TRUE"?oe=!0:oe==="FALSE"?oe=!1:isNaN(hi(oe))?isNaN($s(oe).getDate())||(oe=zt(oe)):(oe=hi(oe),D!==null&&U0(D)&&(oe=B0(oe))),Me=!0;break;case"E":me=!0;var x=Jm(Q[O].slice(1),{r:u,c:R});I[u][R]=[I[u][R],x];break;case"S":Be=!0,I[u][R]=[I[u][R],"S5S"];break;case"G":break;case"R":ge=parseInt(Q[O].slice(1))-1;break;case"C":De=parseInt(Q[O].slice(1))-1;break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+b)}if(Me&&(I[u][R]&&I[u][R].length==2?I[u][R][0]=oe:I[u][R]=oe,D=null),Be){if(me)throw new Error("SYLK shared formula cannot have own formula");var w=ge>-1&&I[ge][De];if(!w||!w[1])throw new Error("SYLK shared formula cannot find base");I[u][R][1]=zm(w[1],{r:u-ge,c:R-De})}break;case"F":var v=0;for(O=1;O<Q.length;++O)switch(Q[O].charAt(0)){case"X":R=parseInt(Q[O].slice(1))-1,++v;break;case"Y":for(u=parseInt(Q[O].slice(1))-1,G=I.length;G<=u;++G)I[G]=[];break;case"M":Y=parseInt(Q[O].slice(1))/20;break;case"F":break;case"G":break;case"P":D=L[parseInt(Q[O].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=Q[O].slice(1).split(" "),G=parseInt(P[0],10);G<=parseInt(P[1],10);++G)Y=parseInt(P[2],10),y[G-1]=Y===0?{hidden:!0}:{wch:Y},Yc(y[G-1]);break;case"C":R=parseInt(Q[O].slice(1))-1,y[R]||(y[R]={});break;case"R":u=parseInt(Q[O].slice(1))-1,_[u]||(_[u]={}),Y>0?(_[u].hpt=Y,_[u].hpx=_R(Y)):Y===0&&(_[u].hidden=!0);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+b)}v<1&&(D=null);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+b)}}return _.length>0&&(U["!rows"]=_),y.length>0&&(U["!cols"]=y),T&&T.sheetRows&&(I=I.slice(0,T.sheetRows)),[I,U]}function a(f,T){var A=n(f,T),u=A[0],R=A[1],d=ns(u,T);return Ft(R).forEach(function(O){d[O]=R[O]}),d}function o(f,T){return un(a(f,T),T)}function l(f,T,A,u){var R="C;Y"+(A+1)+";X"+(u+1)+";K";switch(f.t){case"n":R+=f.v||0,f.f&&!f.F&&(R+=";E"+Wc(f.f,{r:A,c:u}));break;case"b":R+=f.v?"TRUE":"FALSE";break;case"e":R+=f.w||f.v;break;case"d":R+='"'+(f.w||f.v)+'"';break;case"s":R+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return R}function E(f,T){T.forEach(function(A,u){var R="F;W"+(u+1)+" "+(u+1)+" ";A.hidden?R+="0":(typeof A.width=="number"&&!A.wpx&&(A.wpx=Wo(A.width)),typeof A.wpx=="number"&&!A.wch&&(A.wch=Xo(A.wpx)),typeof A.wch=="number"&&(R+=Math.round(A.wch))),R.charAt(R.length-1)!=" "&&f.push(R)})}function h(f,T){T.forEach(function(A,u){var R="F;";A.hidden?R+="M0;":A.hpt?R+="M"+20*A.hpt+";":A.hpx&&(R+="M"+20*Ko(A.hpx)+";"),R.length>2&&f.push(R+"R"+(u+1))})}function c(f,T){var A=["ID;PWXL;N;E"],u=[],R=rt(f["!ref"]),d,O=Array.isArray(f),I=`\r
`;A.push("P;PGeneral"),A.push("F;P0;DG0G8;M255"),f["!cols"]&&E(A,f["!cols"]),f["!rows"]&&h(A,f["!rows"]),A.push("B;Y"+(R.e.r-R.s.r+1)+";X"+(R.e.c-R.s.c+1)+";D"+[R.s.c,R.s.r,R.e.c,R.e.r].join(" "));for(var L=R.s.r;L<=R.e.r;++L)for(var D=R.s.c;D<=R.e.c;++D){var U=Je({r:L,c:D});d=O?(f[L]||[])[D]:f[U],!(!d||d.v==null&&(!d.f||d.F))&&u.push(l(d,f,L,D))}return A.join(I)+I+u.join(I)+I+"E"+I}return{to_workbook:o,to_sheet:a,from_sheet:c}})(),Qp=(function(){function r(s,a){switch(a.type){case"base64":return e(Ti(s),a);case"binary":return e(s,a);case"buffer":return e(Ve&&Ue.isBuffer(s)?s.toString("binary"):Aa(s),a);case"array":return e(Dl(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,E=-1,h=0,c=[];h!==o.length;++h){if(o[h].trim()==="BOT"){c[++l]=[],E=0;continue}if(!(l<0)){var f=o[h].trim().split(","),T=f[0],A=f[1];++h;for(var u=o[h]||"";(u.match(/["]/g)||[]).length&1&&h<o.length-1;)u+=`
`+o[++h];switch(u=u.trim(),+T){case-1:if(u==="BOT"){c[++l]=[],E=0;continue}else if(u!=="EOD")throw new Error("Unrecognized DIF special command "+u);break;case 0:u==="TRUE"?c[l][E]=!0:u==="FALSE"?c[l][E]=!1:isNaN(hi(A))?isNaN($s(A).getDate())?c[l][E]=A:c[l][E]=zt(A):c[l][E]=hi(A),++E;break;case 1:u=u.slice(1,u.length-1),u=u.replace(/""/g,'"'),u&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),c[l][E++]=u!==""?u:null;break}if(u==="EOD")break}}return a&&a.sheetRows&&(c=c.slice(0,a.sheetRows)),c}function t(s,a){return ns(r(s,a),a)}function i(s,a){return un(t(s,a),a)}var n=(function(){var s=function(l,E,h,c,f){l.push(E),l.push(h+","+c),l.push('"'+f.replace(/"/g,'""')+'"')},a=function(l,E,h,c){l.push(E+","+h),l.push(E==1?'"'+c.replace(/"/g,'""')+'"':c)};return function(l){var E=[],h=rt(l["!ref"]),c,f=Array.isArray(l);s(E,"TABLE",0,1,"sheetjs"),s(E,"VECTORS",0,h.e.r-h.s.r+1,""),s(E,"TUPLES",0,h.e.c-h.s.c+1,""),s(E,"DATA",0,0,"");for(var T=h.s.r;T<=h.e.r;++T){a(E,-1,0,"BOT");for(var A=h.s.c;A<=h.e.c;++A){var u=Je({r:T,c:A});if(c=f?(l[T]||[])[A]:l[u],!c){a(E,1,0,"");continue}switch(c.t){case"n":var R=c.w;!R&&c.v!=null&&(R=c.v),R==null?c.f&&!c.F?a(E,1,0,"="+c.f):a(E,1,0,""):a(E,0,R,"V");break;case"b":a(E,0,c.v?1:0,c.v?"TRUE":"FALSE");break;case"s":a(E,1,0,isNaN(c.v)?c.v:'="'+c.v+'"');break;case"d":c.w||(c.w=vi(c.z||ot[14],ir(zt(c.v)))),a(E,0,c.w,"V");break;default:a(E,1,0,"")}}}a(E,-1,0,"EOD");var d=`\r
`,O=E.join(d);return O}})();return{to_workbook:i,to_sheet:t,from_sheet:n}})(),NR=(function(){function r(c){return c.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(c){return c.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(c,f){for(var T=c.split(`
`),A=-1,u=-1,R=0,d=[];R!==T.length;++R){var O=T[R].trim().split(":");if(O[0]==="cell"){var I=_t(O[1]);if(d.length<=I.r)for(A=d.length;A<=I.r;++A)d[A]||(d[A]=[]);switch(A=I.r,u=I.c,O[2]){case"t":d[A][u]=r(O[3]);break;case"v":d[A][u]=+O[3];break;case"vtf":var L=O[O.length-1];case"vtc":switch(O[3]){case"nl":d[A][u]=!!+O[4];break;default:d[A][u]=+O[4];break}O[2]=="vtf"&&(d[A][u]=[d[A][u],L])}}}return f&&f.sheetRows&&(d=d.slice(0,f.sheetRows)),d}function i(c,f){return ns(t(c,f),f)}function n(c,f){return un(i(c,f),f)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function E(c){if(!c||!c["!ref"])return"";for(var f=[],T=[],A,u="",R=ur(c["!ref"]),d=Array.isArray(c),O=R.s.r;O<=R.e.r;++O)for(var I=R.s.c;I<=R.e.c;++I)if(u=Je({r:O,c:I}),A=d?(c[O]||[])[I]:c[u],!(!A||A.v==null||A.t==="z")){switch(T=["cell",u,"t"],A.t){case"s":case"str":T.push(e(A.v));break;case"n":A.f?(T[2]="vtf",T[3]="n",T[4]=A.v,T[5]=e(A.f)):(T[2]="v",T[3]=A.v);break;case"b":T[2]="vt"+(A.f?"f":"c"),T[3]="nl",T[4]=A.v?"1":"0",T[5]=e(A.f||(A.v?"TRUE":"FALSE"));break;case"d":var L=ir(zt(A.v));T[2]="vtc",T[3]="nd",T[4]=""+L,T[5]=A.w||vi(A.z||ot[14],L);break;case"e":continue}f.push(T.join(":"))}return f.push("sheet:c:"+(R.e.c-R.s.c+1)+":r:"+(R.e.r-R.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function h(c){return[s,a,o,a,E(c),l].join(`
`)}return{to_workbook:n,to_sheet:i,from_sheet:h}})(),jp=(function(){function r(h,c,f,T,A){A.raw?c[f][T]=h:h===""||(h==="TRUE"?c[f][T]=!0:h==="FALSE"?c[f][T]=!1:isNaN(hi(h))?isNaN($s(h).getDate())?c[f][T]=h:c[f][T]=zt(h):c[f][T]=hi(h))}function e(h,c){var f=c||{},T=[];if(!h||h.length===0)return T;for(var A=h.split(/[\r\n]/),u=A.length-1;u>=0&&A[u].length===0;)--u;for(var R=10,d=0,O=0;O<=u;++O)d=A[O].indexOf(" "),d==-1?d=A[O].length:d++,R=Math.max(R,d);for(O=0;O<=u;++O){T[O]=[];var I=0;for(r(A[O].slice(0,R).trim(),T,O,I,f),I=1;I<=(A[O].length-R)/10+1;++I)r(A[O].slice(R+(I-1)*10,R+I*10).trim(),T,O,I,f)}return f.sheetRows&&(T=T.slice(0,f.sheetRows)),T}var t={44:",",9:"	",59:";",124:"|"},i={44:3,9:2,59:1,124:0};function n(h){for(var c={},f=!1,T=0,A=0;T<h.length;++T)(A=h.charCodeAt(T))==34?f=!f:!f&&A in t&&(c[A]=(c[A]||0)+1);A=[];for(T in c)Object.prototype.hasOwnProperty.call(c,T)&&A.push([c[T],T]);if(!A.length){c=i;for(T in c)Object.prototype.hasOwnProperty.call(c,T)&&A.push([c[T],T])}return A.sort(function(u,R){return u[0]-R[0]||i[u[1]]-i[R[1]]}),t[A.pop()[1]]||44}function s(h,c){var f=c||{},T="",A=f.dense?[]:{},u={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(T=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(T=h.charAt(4),h=h.slice(6)):T=n(h.slice(0,1024)):f&&f.FS?T=f.FS:T=n(h.slice(0,1024));var R=0,d=0,O=0,I=0,L=0,D=T.charCodeAt(0),U=!1,_=0,y=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var P=f.dateNF!=null?uN(f.dateNF):null;function Y(){var G=h.slice(I,L),b={};if(G.charAt(0)=='"'&&G.charAt(G.length-1)=='"'&&(G=G.slice(1,-1).replace(/""/g,'"')),G.length===0)b.t="z";else if(f.raw)b.t="s",b.v=G;else if(G.trim().length===0)b.t="s",b.v=G;else if(G.charCodeAt(0)==61)G.charCodeAt(1)==34&&G.charCodeAt(G.length-1)==34?(b.t="s",b.v=G.slice(2,-1).replace(/""/g,'"')):qm(G)?(b.t="n",b.f=G.slice(1)):(b.t="s",b.v=G);else if(G=="TRUE")b.t="b",b.v=!0;else if(G=="FALSE")b.t="b",b.v=!1;else if(!isNaN(O=hi(G)))b.t="n",f.cellText!==!1&&(b.w=G),b.v=O;else if(!isNaN($s(G).getDate())||P&&G.match(P)){b.z=f.dateNF||ot[14];var Q=0;P&&G.match(P)&&(G=AN(G,f.dateNF,G.match(P)||[]),Q=1),f.cellDates?(b.t="d",b.v=zt(G,Q)):(b.t="n",b.v=ir(zt(G,Q))),f.cellText!==!1&&(b.w=vi(b.z,b.v instanceof Date?ir(b.v):b.v)),f.cellNF||delete b.z}else b.t="s",b.v=G;if(b.t=="z"||(f.dense?(A[R]||(A[R]=[]),A[R][d]=b):A[Je({c:d,r:R})]=b),I=L+1,y=h.charCodeAt(I),u.e.c<d&&(u.e.c=d),u.e.r<R&&(u.e.r=R),_==D)++d;else if(d=0,++R,f.sheetRows&&f.sheetRows<=R)return!0}e:for(;L<h.length;++L)switch(_=h.charCodeAt(L)){case 34:y===34&&(U=!U);break;case D:case 10:case 13:if(!U&&Y())break e;break}return L-I>0&&Y(),A["!ref"]=Tt(u),A}function a(h,c){return!(c&&c.PRN)||c.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?s(h,c):ns(e(h,c),c)}function o(h,c){var f="",T=c.type=="string"?[0,0,0,0]:h1(h,c);switch(c.type){case"base64":f=Ti(h);break;case"binary":f=h;break;case"buffer":c.codepage==65001?f=h.toString("utf8"):c.codepage&&typeof wo<"u"||(f=Ve&&Ue.isBuffer(h)?h.toString("binary"):Aa(h));break;case"array":f=Dl(h);break;case"string":f=h;break;default:throw new Error("Unrecognized type "+c.type)}return T[0]==239&&T[1]==187&&T[2]==191?f=vs(f.slice(3)):c.type!="string"&&c.type!="buffer"&&c.codepage==65001?f=vs(f):c.type=="binary"&&typeof wo<"u",f.slice(0,19)=="socialcalc:version:"?NR.to_sheet(c.type=="string"?f:vs(f),c):a(f,c)}function l(h,c){return un(o(h,c),c)}function E(h){for(var c=[],f=rt(h["!ref"]),T,A=Array.isArray(h),u=f.s.r;u<=f.e.r;++u){for(var R=[],d=f.s.c;d<=f.e.c;++d){var O=Je({r:u,c:d});if(T=A?(h[u]||[])[d]:h[O],!T||T.v==null){R.push("          ");continue}for(var I=(T.w||(ui(T),T.w)||"").slice(0,10);I.length<10;)I+=" ";R.push(I+(d===0?" ":""))}c.push(R.join(""))}return c.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:E}})(),TT=(function(){function r(x,w,v){if(x){hr(x,x.l||0);for(var M=v.Enum||ge;x.l<x.length;){var Z=x.read_shift(2),Oe=M[Z]||M[65535],pe=x.read_shift(2),Ie=x.l+pe,ce=Oe.f&&Oe.f(x,pe,v);if(x.l=Ie,w(ce,Oe,Z))return}}}function e(x,w){switch(w.type){case"base64":return t(vr(Ti(x)),w);case"binary":return t(vr(x),w);case"buffer":case"array":return t(x,w)}throw"Unsupported type "+w.type}function t(x,w){if(!x)return x;var v=w||{},M=v.dense?[]:{},Z="Sheet1",Oe="",pe=0,Ie={},ce=[],We=[],we={s:{r:0,c:0},e:{r:0,c:0}},Ot=v.sheetRows||0;if(x[2]==0&&(x[3]==8||x[3]==9)&&x.length>=16&&x[14]==5&&x[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(x[2]==2)v.Enum=ge,r(x,function(de,Dt,Dr){switch(Dr){case 0:v.vers=de,de>=4096&&(v.qpro=!0);break;case 6:we=de;break;case 204:de&&(Oe=de);break;case 222:Oe=de;break;case 15:case 51:v.qpro||(de[1].v=de[1].v.slice(1));case 13:case 14:case 16:Dr==14&&(de[2]&112)==112&&(de[2]&15)>1&&(de[2]&15)<15&&(de[1].z=v.dateNF||ot[14],v.cellDates&&(de[1].t="d",de[1].v=B0(de[1].v))),v.qpro&&de[3]>pe&&(M["!ref"]=Tt(we),Ie[Z]=M,ce.push(Z),M=v.dense?[]:{},we={s:{r:0,c:0},e:{r:0,c:0}},pe=de[3],Z=Oe||"Sheet"+(pe+1),Oe="");var Ar=v.dense?(M[de[0].r]||[])[de[0].c]:M[Je(de[0])];if(Ar){Ar.t=de[1].t,Ar.v=de[1].v,de[1].z!=null&&(Ar.z=de[1].z),de[1].f!=null&&(Ar.f=de[1].f);break}v.dense?(M[de[0].r]||(M[de[0].r]=[]),M[de[0].r][de[0].c]=de[1]):M[Je(de[0])]=de[1];break}},v);else if(x[2]==26||x[2]==14)v.Enum=De,x[2]==14&&(v.qpro=!0,x.l=0),r(x,function(de,Dt,Dr){switch(Dr){case 204:Z=de;break;case 22:de[1].v=de[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(de[3]>pe&&(M["!ref"]=Tt(we),Ie[Z]=M,ce.push(Z),M=v.dense?[]:{},we={s:{r:0,c:0},e:{r:0,c:0}},pe=de[3],Z="Sheet"+(pe+1)),Ot>0&&de[0].r>=Ot)break;v.dense?(M[de[0].r]||(M[de[0].r]=[]),M[de[0].r][de[0].c]=de[1]):M[Je(de[0])]=de[1],we.e.c<de[0].c&&(we.e.c=de[0].c),we.e.r<de[0].r&&(we.e.r=de[0].r);break;case 27:de[14e3]&&(We[de[14e3][0]]=de[14e3][1]);break;case 1537:We[de[0]]=de[1],de[0]==pe&&(Z=de[1]);break}},v);else throw new Error("Unrecognized LOTUS BOF "+x[2]);if(M["!ref"]=Tt(we),Ie[Oe||Z]=M,ce.push(Oe||Z),!We.length)return{SheetNames:ce,Sheets:Ie};for(var Ge={},Lr=[],Qe=0;Qe<We.length;++Qe)Ie[ce[Qe]]?(Lr.push(We[Qe]||ce[Qe]),Ge[We[Qe]]=Ie[We[Qe]]||Ie[ce[Qe]]):(Lr.push(We[Qe]),Ge[We[Qe]]={"!ref":"A1"});return{SheetNames:Lr,Sheets:Ge}}function i(x,w){var v=w||{};if(+v.codepage>=0&&Xs(+v.codepage),v.type=="string")throw new Error("Cannot write WK1 to JS string");var M=rr(),Z=rt(x["!ref"]),Oe=Array.isArray(x),pe=[];se(M,0,s(1030)),se(M,6,l(Z));for(var Ie=Math.min(Z.e.r,8191),ce=Z.s.r;ce<=Ie;++ce)for(var We=wt(ce),we=Z.s.c;we<=Z.e.c;++we){ce===Z.s.r&&(pe[we]=kt(we));var Ot=pe[we]+We,Ge=Oe?(x[ce]||[])[we]:x[Ot];if(!(!Ge||Ge.t=="z"))if(Ge.t=="n")(Ge.v|0)==Ge.v&&Ge.v>=-32768&&Ge.v<=32767?se(M,13,T(ce,we,Ge.v)):se(M,14,u(ce,we,Ge.v));else{var Lr=ui(Ge);se(M,15,c(ce,we,Lr.slice(0,239)))}}return se(M,1),M.end()}function n(x,w){var v=w||{};if(+v.codepage>=0&&Xs(+v.codepage),v.type=="string")throw new Error("Cannot write WK3 to JS string");var M=rr();se(M,0,a(x));for(var Z=0,Oe=0;Z<x.SheetNames.length;++Z)(x.Sheets[x.SheetNames[Z]]||{})["!ref"]&&se(M,27,me(x.SheetNames[Z],Oe++));var pe=0;for(Z=0;Z<x.SheetNames.length;++Z){var Ie=x.Sheets[x.SheetNames[Z]];if(!(!Ie||!Ie["!ref"])){for(var ce=rt(Ie["!ref"]),We=Array.isArray(Ie),we=[],Ot=Math.min(ce.e.r,8191),Ge=ce.s.r;Ge<=Ot;++Ge)for(var Lr=wt(Ge),Qe=ce.s.c;Qe<=ce.e.c;++Qe){Ge===ce.s.r&&(we[Qe]=kt(Qe));var de=we[Qe]+Lr,Dt=We?(Ie[Ge]||[])[Qe]:Ie[de];if(!(!Dt||Dt.t=="z"))if(Dt.t=="n")se(M,23,Y(Ge,Qe,pe,Dt.v));else{var Dr=ui(Dt);se(M,22,_(Ge,Qe,pe,Dr.slice(0,239)))}}++pe}}return se(M,1),M.end()}function s(x){var w=z(2);return w.write_shift(2,x),w}function a(x){var w=z(26);w.write_shift(2,4096),w.write_shift(2,4),w.write_shift(4,0);for(var v=0,M=0,Z=0,Oe=0;Oe<x.SheetNames.length;++Oe){var pe=x.SheetNames[Oe],Ie=x.Sheets[pe];if(!(!Ie||!Ie["!ref"])){++Z;var ce=ur(Ie["!ref"]);v<ce.e.r&&(v=ce.e.r),M<ce.e.c&&(M=ce.e.c)}}return v>8191&&(v=8191),w.write_shift(2,v),w.write_shift(1,Z),w.write_shift(1,M),w.write_shift(2,0),w.write_shift(2,0),w.write_shift(1,1),w.write_shift(1,2),w.write_shift(4,0),w.write_shift(4,0),w}function o(x,w,v){var M={s:{c:0,r:0},e:{c:0,r:0}};return w==8&&v.qpro?(M.s.c=x.read_shift(1),x.l++,M.s.r=x.read_shift(2),M.e.c=x.read_shift(1),x.l++,M.e.r=x.read_shift(2),M):(M.s.c=x.read_shift(2),M.s.r=x.read_shift(2),w==12&&v.qpro&&(x.l+=2),M.e.c=x.read_shift(2),M.e.r=x.read_shift(2),w==12&&v.qpro&&(x.l+=2),M.s.c==65535&&(M.s.c=M.e.c=M.s.r=M.e.r=0),M)}function l(x){var w=z(8);return w.write_shift(2,x.s.c),w.write_shift(2,x.s.r),w.write_shift(2,x.e.c),w.write_shift(2,x.e.r),w}function E(x,w,v){var M=[{c:0,r:0},{t:"n",v:0},0,0];return v.qpro&&v.vers!=20768?(M[0].c=x.read_shift(1),M[3]=x.read_shift(1),M[0].r=x.read_shift(2),x.l+=2):(M[2]=x.read_shift(1),M[0].c=x.read_shift(2),M[0].r=x.read_shift(2)),M}function h(x,w,v){var M=x.l+w,Z=E(x,w,v);if(Z[1].t="s",v.vers==20768){x.l++;var Oe=x.read_shift(1);return Z[1].v=x.read_shift(Oe,"utf8"),Z}return v.qpro&&x.l++,Z[1].v=x.read_shift(M-x.l,"cstr"),Z}function c(x,w,v){var M=z(7+v.length);M.write_shift(1,255),M.write_shift(2,w),M.write_shift(2,x),M.write_shift(1,39);for(var Z=0;Z<M.length;++Z){var Oe=v.charCodeAt(Z);M.write_shift(1,Oe>=128?95:Oe)}return M.write_shift(1,0),M}function f(x,w,v){var M=E(x,w,v);return M[1].v=x.read_shift(2,"i"),M}function T(x,w,v){var M=z(7);return M.write_shift(1,255),M.write_shift(2,w),M.write_shift(2,x),M.write_shift(2,v,"i"),M}function A(x,w,v){var M=E(x,w,v);return M[1].v=x.read_shift(8,"f"),M}function u(x,w,v){var M=z(13);return M.write_shift(1,255),M.write_shift(2,w),M.write_shift(2,x),M.write_shift(8,v,"f"),M}function R(x,w,v){var M=x.l+w,Z=E(x,w,v);if(Z[1].v=x.read_shift(8,"f"),v.qpro)x.l=M;else{var Oe=x.read_shift(2);L(x.slice(x.l,x.l+Oe),Z),x.l+=Oe}return Z}function d(x,w,v){var M=w&32768;return w&=-32769,w=(M?x:0)+(w>=8192?w-16384:w),(M?"":"$")+(v?kt(w):wt(w))}var O={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},I=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function L(x,w){hr(x,0);for(var v=[],M=0,Z="",Oe="",pe="",Ie="";x.l<x.length;){var ce=x[x.l++];switch(ce){case 0:v.push(x.read_shift(8,"f"));break;case 1:Oe=d(w[0].c,x.read_shift(2),!0),Z=d(w[0].r,x.read_shift(2),!1),v.push(Oe+Z);break;case 2:{var We=d(w[0].c,x.read_shift(2),!0),we=d(w[0].r,x.read_shift(2),!1);Oe=d(w[0].c,x.read_shift(2),!0),Z=d(w[0].r,x.read_shift(2),!1),v.push(We+we+":"+Oe+Z)}break;case 3:if(x.l<x.length){console.error("WK1 premature formula end");return}break;case 4:v.push("("+v.pop()+")");break;case 5:v.push(x.read_shift(2));break;case 6:{for(var Ot="";ce=x[x.l++];)Ot+=String.fromCharCode(ce);v.push('"'+Ot.replace(/"/g,'""')+'"')}break;case 8:v.push("-"+v.pop());break;case 23:v.push("+"+v.pop());break;case 22:v.push("NOT("+v.pop()+")");break;case 20:case 21:Ie=v.pop(),pe=v.pop(),v.push(["AND","OR"][ce-20]+"("+pe+","+Ie+")");break;default:if(ce<32&&I[ce])Ie=v.pop(),pe=v.pop(),v.push(pe+I[ce]+Ie);else if(O[ce]){if(M=O[ce][1],M==69&&(M=x[x.l++]),M>v.length){console.error("WK1 bad formula parse 0x"+ce.toString(16)+":|"+v.join("|")+"|");return}var Ge=v.slice(-M);v.length-=M,v.push(O[ce][0]+"("+Ge.join(",")+")")}else return ce<=7?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=24?console.error("WK1 unsupported op "+ce.toString(16)):ce<=30?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=115?console.error("WK1 unsupported function opcode "+ce.toString(16)):console.error("WK1 unrecognized opcode "+ce.toString(16))}}v.length==1?w[1].f=""+v[0]:console.error("WK1 bad formula parse |"+v.join("|")+"|")}function D(x){var w=[{c:0,r:0},{t:"n",v:0},0];return w[0].r=x.read_shift(2),w[3]=x[x.l++],w[0].c=x[x.l++],w}function U(x,w){var v=D(x);return v[1].t="s",v[1].v=x.read_shift(w-4,"cstr"),v}function _(x,w,v,M){var Z=z(6+M.length);Z.write_shift(2,x),Z.write_shift(1,v),Z.write_shift(1,w),Z.write_shift(1,39);for(var Oe=0;Oe<M.length;++Oe){var pe=M.charCodeAt(Oe);Z.write_shift(1,pe>=128?95:pe)}return Z.write_shift(1,0),Z}function y(x,w){var v=D(x);v[1].v=x.read_shift(2);var M=v[1].v>>1;if(v[1].v&1)switch(M&7){case 0:M=(M>>3)*5e3;break;case 1:M=(M>>3)*500;break;case 2:M=(M>>3)/20;break;case 3:M=(M>>3)/200;break;case 4:M=(M>>3)/2e3;break;case 5:M=(M>>3)/2e4;break;case 6:M=(M>>3)/16;break;case 7:M=(M>>3)/64;break}return v[1].v=M,v}function P(x,w){var v=D(x),M=x.read_shift(4),Z=x.read_shift(4),Oe=x.read_shift(2);if(Oe==65535)return M===0&&Z===3221225472?(v[1].t="e",v[1].v=15):M===0&&Z===3489660928?(v[1].t="e",v[1].v=42):v[1].v=0,v;var pe=Oe&32768;return Oe=(Oe&32767)-16446,v[1].v=(1-pe*2)*(Z*Math.pow(2,Oe+32)+M*Math.pow(2,Oe)),v}function Y(x,w,v,M){var Z=z(14);if(Z.write_shift(2,x),Z.write_shift(1,v),Z.write_shift(1,w),M==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var Oe=0,pe=0,Ie=0,ce=0;return M<0&&(Oe=1,M=-M),pe=Math.log2(M)|0,M/=Math.pow(2,pe-31),ce=M>>>0,(ce&2147483648)==0&&(M/=2,++pe,ce=M>>>0),M-=ce,ce|=2147483648,ce>>>=0,M*=Math.pow(2,32),Ie=M>>>0,Z.write_shift(4,Ie),Z.write_shift(4,ce),pe+=16383+(Oe?32768:0),Z.write_shift(2,pe),Z}function G(x,w){var v=P(x);return x.l+=w-14,v}function b(x,w){var v=D(x),M=x.read_shift(4);return v[1].v=M>>6,v}function Q(x,w){var v=D(x),M=x.read_shift(8,"f");return v[1].v=M,v}function ae(x,w){var v=Q(x);return x.l+=w-10,v}function oe(x,w){return x[x.l+w-1]==0?x.read_shift(w,"cstr"):""}function Me(x,w){var v=x[x.l++];v>w-1&&(v=w-1);for(var M="";M.length<v;)M+=String.fromCharCode(x[x.l++]);return M}function xe(x,w,v){if(!(!v.qpro||w<21)){var M=x.read_shift(1);x.l+=17,x.l+=1,x.l+=2;var Z=x.read_shift(w-21,"cstr");return[M,Z]}}function Be(x,w){for(var v={},M=x.l+w;x.l<M;){var Z=x.read_shift(2);if(Z==14e3){for(v[Z]=[0,""],v[Z][0]=x.read_shift(2);x[x.l];)v[Z][1]+=String.fromCharCode(x[x.l]),x.l++;x.l++}}return v}function me(x,w){var v=z(5+x.length);v.write_shift(2,14e3),v.write_shift(2,w);for(var M=0;M<x.length;++M){var Z=x.charCodeAt(M);v[v.l++]=Z>127?95:Z}return v[v.l++]=0,v}var ge={0:{n:"BOF",f:AR},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:A},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:R},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:oe},222:{n:"SHEETNAMELP",f:Me},65535:{n:""}},De={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:U},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:y},25:{n:"FORMULA19",f:G},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Be},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:b},38:{n:"??"},39:{n:"NUMBER27",f:Q},40:{n:"FORMULA28",f:ae},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:oe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:xe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:i,book_to_wk3:n,to_workbook:e}})(),Zp=/^\s|\s$|[\t\n\r]/;function pR(r,e){if(!e.bookSST)return"";var t=[ut];t[t.length]=ne("sst",null,{xmlns:is[0],count:r.Count,uniqueCount:r.Unique});for(var i=0;i!=r.length;++i)if(r[i]!=null){var n=r[i],s="<si>";n.r?s+=n.r:(s+="<t",n.t||(n.t=""),n.t.match(Zp)&&(s+=' xml:space="preserve"'),s+=">"+$e(n.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function em(r){return[r.read_shift(4),r.read_shift(4)]}function tm(r,e){return e||(e=z(8)),e.write_shift(4,r.Count),e.write_shift(4,r.Unique),e}var rm=KN;function im(r){var e=rr();te(e,159,tm(r));for(var t=0;t<r.length;++t)te(e,19,rm(r[t]));return te(e,160),e.end()}function nm(r){for(var e=[],t=r.split(""),i=0;i<t.length;++i)e[i]=t[i].charCodeAt(0);return e}function mR(r){var e=0,t,i=nm(r),n=i.length+1,s,a,o,l,E;for(t=nn(n),t[0]=i.length,s=1;s!=n;++s)t[s]=i[s-1];for(s=n-1;s>=0;--s)a=t[s],o=(e&16384)===0?0:1,l=e<<1&32767,E=o|l,e=E^a;return e^52811}var sm=(function(){function r(n,s){switch(s.type){case"base64":return e(Ti(n),s);case"binary":return e(n,s);case"buffer":return e(Ve&&Ue.isBuffer(n)?n.toString("binary"):Aa(n),s);case"array":return e(Dl(n),s)}throw new Error("Unrecognized type "+s.type)}function e(n,s){var a=s||{},o=a.dense?[]:{},l=n.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var E={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(h,c){Array.isArray(o)&&(o[c]=[]);for(var f=/\\\w+\b/g,T=0,A,u=-1;A=f.exec(h);){switch(A[0]){case"\\cell":var R=h.slice(T,f.lastIndex-A[0].length);if(R[0]==" "&&(R=R.slice(1)),++u,R.length){var d={v:R,t:"s"};Array.isArray(o)?o[c][u]=d:o[Je({r:c,c:u})]=d}break}T=f.lastIndex}u>E.e.c&&(E.e.c=u)}),o["!ref"]=Tt(E),o}function t(n,s){return un(r(n,s),s)}function i(n){for(var s=["{\\rtf1\\ansi"],a=rt(n["!ref"]),o,l=Array.isArray(n),E=a.s.r;E<=a.e.r;++E){s.push("\\trowd\\trautofit1");for(var h=a.s.c;h<=a.e.c;++h)s.push("\\cellx"+(h+1));for(s.push("\\pard\\intbl"),h=a.s.c;h<=a.e.c;++h){var c=Je({r:E,c:h});o=l?(n[E]||[])[h]:n[c],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(ui(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:i}})();function uT(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}var am=6,ci=am;function Wo(r){return Math.floor((r+Math.round(128/ci)/256)*ci)}function Xo(r){return Math.floor((r-5)/ci*100+.5)/100}function mh(r){return Math.round((r*ci+5)/ci*256)/256}function Yc(r){r.width?(r.wpx=Wo(r.width),r.wch=Xo(r.wpx),r.MDW=ci):r.wpx?(r.wch=Xo(r.wpx),r.width=mh(r.wch),r.MDW=ci):typeof r.wch=="number"&&(r.width=mh(r.wch),r.wpx=Wo(r.width),r.MDW=ci),r.customWidth&&delete r.customWidth}var om=96,CR=om;function Ko(r){return r*96/CR}function _R(r){return r*CR/96}function lm(r){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var i=t[0];i<=t[1];++i)r[i]!=null&&(e[e.length]=ne("numFmt",null,{numFmtId:i,formatCode:$e(r[i])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ne("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Em(r){var e=[];return e[e.length]=ne("cellXfs",null),r.forEach(function(t){e[e.length]=ne("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ne("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function gR(r,e){var t=[ut,ne("styleSheet",null,{xmlns:is[0],"xmlns:vt":mt.vt})],i;return r.SSF&&(i=lm(r.SSF))!=null&&(t[t.length]=i),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(i=Em(e.cellXfs))&&(t[t.length]=i),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function hm(r,e){var t=r.read_shift(2),i=Yt(r);return[t,i]}function cm(r,e,t){t||(t=z(6+4*e.length)),t.write_shift(2,r),gt(e,t);var i=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),i}function fm(r,e,t){var i={};i.sz=r.read_shift(2)/20;var n=ZN(r);n.fItalic&&(i.italic=1),n.fCondense&&(i.condense=1),n.fExtend&&(i.extend=1),n.fShadow&&(i.shadow=1),n.fOutline&&(i.outline=1),n.fStrikeout&&(i.strike=1);var s=r.read_shift(2);switch(s===700&&(i.bold=1),r.read_shift(2)){case 1:i.vertAlign="superscript";break;case 2:i.vertAlign="subscript";break}var a=r.read_shift(1);a!=0&&(i.underline=a);var o=r.read_shift(1);o>0&&(i.family=o);var l=r.read_shift(1);switch(l>0&&(i.charset=l),r.l++,i.color=jN(r),r.read_shift(1)){case 1:i.scheme="major";break;case 2:i.scheme="minor";break}return i.name=Yt(r),i}function Tm(r,e){e||(e=z(153)),e.write_shift(2,r.sz*20),ep(r,e),e.write_shift(2,r.bold?700:400);var t=0;r.vertAlign=="superscript"?t=1:r.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,r.underline||0),e.write_shift(1,r.family||0),e.write_shift(1,r.charset||0),e.write_shift(1,0),Yo(r.color,e);var i=0;return i=2,e.write_shift(1,i),gt(r.name,e),e.length>e.l?e.slice(0,e.l):e}var um=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],cE,Am=Zr;function AT(r,e){e||(e=z(84)),cE||(cE=Pc(um));var t=cE[r.patternType];t==null&&(t=40),e.write_shift(4,t);var i=0;if(t!=40)for(Yo({auto:1},e),Yo({auto:1},e);i<12;++i)e.write_shift(4,0);else{for(;i<4;++i)e.write_shift(4,0);for(;i<12;++i)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Rm(r,e){var t=r.l+e,i=r.read_shift(2),n=r.read_shift(2);return r.l=t,{ixfe:i,numFmtId:n}}function LR(r,e,t){t||(t=z(16)),t.write_shift(2,e||0),t.write_shift(2,r.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var i=0;return t.write_shift(1,i),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Os(r,e){return e||(e=z(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Sm=Zr;function dm(r,e){return e||(e=z(51)),e.write_shift(1,0),Os(null,e),Os(null,e),Os(null,e),Os(null,e),Os(null,e),e.length>e.l?e.slice(0,e.l):e}function Om(r,e){return e||(e=z(52)),e.write_shift(4,r.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),ko(r.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Im(r,e,t){var i=z(2052);return i.write_shift(4,r),ko(e,i),ko(t,i),i.length>i.l?i.slice(0,i.l):i}function Nm(r,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var n=i[0];n<=i[1];++n)e[n]!=null&&++t}),t!=0&&(te(r,615,wr(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var n=i[0];n<=i[1];++n)e[n]!=null&&te(r,44,cm(n,e[n]))}),te(r,616))}}function pm(r){var e=1;te(r,611,wr(e)),te(r,43,Tm({sz:12,color:{theme:1},name:"Calibri",family:2})),te(r,612)}function mm(r){var e=2;te(r,603,wr(e)),te(r,45,AT({patternType:"none"})),te(r,45,AT({patternType:"gray125"})),te(r,604)}function Cm(r){var e=1;te(r,613,wr(e)),te(r,46,dm()),te(r,614)}function _m(r){var e=1;te(r,626,wr(e)),te(r,47,LR({numFmtId:0},65535)),te(r,627)}function gm(r,e){te(r,617,wr(e.length)),e.forEach(function(t){te(r,47,LR(t,0))}),te(r,618)}function Lm(r){var e=1;te(r,619,wr(e)),te(r,48,Om({xfId:0,name:"Normal"})),te(r,620)}function Dm(r){var e=0;te(r,505,wr(e)),te(r,506)}function xm(r){var e=0;te(r,508,Im(e,"TableStyleMedium9","PivotStyleMedium4")),te(r,509)}function Pm(r,e){var t=rr();return te(t,278),Nm(t,r.SSF),pm(t),mm(t),Cm(t),_m(t),gm(t,e.cellXfs),Lm(t),Dm(t),xm(t),te(t,279),t.end()}function DR(r,e){if(e&&e.themeXLSX)return e.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var t=[ut];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Mm(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:Yt(r)}}function vm(r){var e=z(12+2*r.name.length);return e.write_shift(4,r.flags),e.write_shift(4,r.version),gt(r.name,e),e.slice(0,e.l)}function Um(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function ym(r){var e=z(4+8*r.length);e.write_shift(4,r.length);for(var t=0;t<r.length;++t)e.write_shift(4,r[t][0]),e.write_shift(4,r[t][1]);return e}function wm(r,e){var t=z(8+2*e.length);return t.write_shift(4,r),gt(e,t),t.slice(0,t.l)}function Fm(r){return r.l+=4,r.read_shift(4)!=0}function Bm(r,e){var t=z(8);return t.write_shift(4,r),t.write_shift(4,1),t}function bm(){var r=rr();return te(r,332),te(r,334,wr(1)),te(r,335,vm({name:"XLDAPR",version:12e4,flags:3496657072})),te(r,336),te(r,339,wm(1,"XLDAPR")),te(r,52),te(r,35,wr(514)),te(r,4096,wr(0)),te(r,4097,Sr(1)),te(r,36),te(r,53),te(r,340),te(r,337,Bm(1)),te(r,51,ym([[1,0]])),te(r,338),te(r,333),r.end()}function xR(){var r=[ut];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function Gm(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=Je(t);var i=r.read_shift(1);return i&2&&(e.l="1"),i&8&&(e.a="1"),e}var vn=1024;function PR(r,e){for(var t=[21600,21600],i=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),n=[ne("xml",null,{"xmlns:v":cr.v,"xmlns:o":cr.o,"xmlns:x":cr.x,"xmlns:mv":cr.mv}).replace(/\/>/,">"),ne("o:shapelayout",ne("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),ne("v:shapetype",[ne("v:stroke",null,{joinstyle:"miter"}),ne("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:i})];vn<r*1e3;)vn+=1e3;return e.forEach(function(s){var a=_t(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?ne("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,E=ne("v:fill",l,o),h={on:"t",obscured:"t"};++vn,n=n.concat(["<v:shape"+zs({id:"_x0000_s"+vn,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",E,ne("v:shadow",null,h),ne("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ut("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),Ut("x:AutoFill","False"),Ut("x:Row",String(a.r)),Ut("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function MR(r){var e=[ut,ne("comments",null,{xmlns:is[0]})],t=[];return e.push("<authors>"),r.forEach(function(i){i[1].forEach(function(n){var s=$e(n.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),n.T&&n.ID&&t.indexOf("tc="+n.ID)==-1&&(t.push("tc="+n.ID),e.push("<author>tc="+n.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),r.forEach(function(i){var n=0,s=[];if(i[1][0]&&i[1][0].T&&i[1][0].ID?n=t.indexOf("tc="+i[1][0].ID):i[1].forEach(function(l){l.a&&(n=t.indexOf($e(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+i[0]+'" authorId="'+n+'"><text>'),s.length<=1)e.push(Ut("t",$e(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(Ut("t",$e(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Hm(r,e,t){var i=[ut,ne("ThreadedComments",null,{xmlns:mt.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(n){var s="";(n[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),i.push(ne("threadedComment",Ut("text",a.t||""),l))})}),i.push("</ThreadedComments>"),i.join("")}function km(r){var e=[ut,ne("personList",null,{xmlns:mt.TCMNT,"xmlns:x":is[0]}).replace(/[\/]>/,">")];return r.forEach(function(t,i){e.push(ne("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+i).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Ym(r){var e={};e.iauthor=r.read_shift(4);var t=dn(r);return e.rfx=t.s,e.ref=Je(t.s),r.l+=16,e}function Vm(r,e){return e==null&&(e=z(36)),e.write_shift(4,r[1].iauthor),ss(r[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Wm=Yt;function Xm(r){return gt(r.slice(0,54))}function Km(r){var e=rr(),t=[];return te(e,628),te(e,630),r.forEach(function(i){i[1].forEach(function(n){t.indexOf(n.a)>-1||(t.push(n.a.slice(0,54)),te(e,632,Xm(n.a)))})}),te(e,631),te(e,633),r.forEach(function(i){i[1].forEach(function(n){n.iauthor=t.indexOf(n.a);var s={s:_t(i[0]),e:_t(i[0])};te(e,635,Vm([s,n])),n.t&&n.t.length>0&&te(e,637,JN(n)),te(e,636),delete n.iauthor})}),te(e,634),te(e,629),e.end()}function $m(r,e){e.FullPaths.forEach(function(t,i){if(i!=0){var n=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&ze.utils.cfb_add(r,n,e.FileIndex[i].content)}})}var vR=["xlsb","xlsm","xlam","biff8","xla"],Jm=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(i,n,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var E=s.length>0?parseInt(s,10)|0:0,h=a.length>0?parseInt(a,10)|0:0;return o?h+=e.c:--h,l?E+=e.r:--E,n+(o?"":"$")+kt(h)+(l?"":"$")+wt(E)}return function(n,s){return e=s,n.replace(r,t)}})(),Vc=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Wc=(function(){return function(e,t){return e.replace(Vc,function(i,n,s,a,o,l){var E=Bc(a)-(s?0:t.c),h=Fc(l)-(o?0:t.r),c=h==0?"":o?h+1:"["+h+"]",f=E==0?"":s?E+1:"["+E+"]";return n+"R"+c+"C"+f})}})();function zm(r,e){return r.replace(Vc,function(t,i,n,s,a,o){return i+(n=="$"?n+s:kt(Bc(s)+e.c))+(a=="$"?a+o:wt(Fc(o)+e.r))})}function qm(r){return r.length!=1}function ht(r){r.l+=1}function Ui(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function UR(r,e,t){var i=2;if(t){if(t.biff>=2&&t.biff<=5)return yR(r);t.biff==12&&(i=4)}var n=r.read_shift(i),s=r.read_shift(i),a=Ui(r),o=Ui(r);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function yR(r){var e=Ui(r),t=Ui(r),i=r.read_shift(1),n=r.read_shift(1);return{s:{r:e[0],c:i,cRel:e[1],rRel:e[2]},e:{r:t[0],c:n,cRel:t[1],rRel:t[2]}}}function Qm(r,e,t){if(t.biff<8)return yR(r);var i=r.read_shift(t.biff==12?4:2),n=r.read_shift(t.biff==12?4:2),s=Ui(r),a=Ui(r);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:n,c:a[0],cRel:a[1],rRel:a[2]}}}function wR(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return jm(r);var i=r.read_shift(t&&t.biff==12?4:2),n=Ui(r);return{r:i,c:n[0],cRel:n[1],rRel:n[2]}}function jm(r){var e=Ui(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function Zm(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function eC(r,e,t){var i=t&&t.biff?t.biff:8;if(i>=2&&i<=5)return tC(r);var n=r.read_shift(i>=12?4:2),s=r.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;n>524287;)n-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:n,c:s,cRel:a,rRel:o}}function tC(r){var e=r.read_shift(2),t=r.read_shift(1),i=(e&32768)>>15,n=(e&16384)>>14;return e&=16383,i==1&&e>=8192&&(e=e-16384),n==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:n,rRel:i}}function rC(r,e,t){var i=(r[r.l++]&96)>>5,n=UR(r,t.biff>=2&&t.biff<=5?6:8,t);return[i,n]}function iC(r,e,t){var i=(r[r.l++]&96)>>5,n=r.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}var a=UR(r,s,t);return[i,n,a]}function nC(r,e,t){var i=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[i]}function sC(r,e,t){var i=(r[r.l++]&96)>>5,n=r.read_shift(2),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}return r.l+=s,[i,n]}function aC(r,e,t){var i=(r[r.l++]&96)>>5,n=Qm(r,e-1,t);return[i,n]}function oC(r,e,t){var i=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[i]}function RT(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function lC(r,e,t){r.l+=2;for(var i=r.read_shift(t&&t.biff==2?1:2),n=[],s=0;s<=i;++s)n.push(r.read_shift(t&&t.biff==2?1:2));return n}function EC(r,e,t){var i=r[r.l+1]&255?1:0;return r.l+=2,[i,r.read_shift(t&&t.biff==2?1:2)]}function hC(r,e,t){var i=r[r.l+1]&255?1:0;return r.l+=2,[i,r.read_shift(t&&t.biff==2?1:2)]}function cC(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function fC(r,e,t){var i=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[i]}function FR(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function TC(r){return r.read_shift(2),FR(r)}function uC(r){return r.read_shift(2),FR(r)}function AC(r,e,t){var i=(r[r.l]&96)>>5;r.l+=1;var n=wR(r,0,t);return[i,n]}function RC(r,e,t){var i=(r[r.l]&96)>>5;r.l+=1;var n=eC(r,0,t);return[i,n]}function SC(r,e,t){var i=(r[r.l]&96)>>5;r.l+=1;var n=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var s=wR(r,0,t);return[i,n,s]}function dC(r,e,t){var i=(r[r.l]&96)>>5;r.l+=1;var n=r.read_shift(t&&t.biff<=3?1:2);return[d_[n],GR[n],i]}function OC(r,e,t){var i=r[r.l++],n=r.read_shift(1),s=t&&t.biff<=3?[i==88?-1:0,r.read_shift(1)]:IC(r);return[n,(s[0]===0?GR:S_)[s[1]]]}function IC(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function NC(r,e,t){r.l+=t&&t.biff==2?3:4}function pC(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var i=r.read_shift(2),n=r.read_shift(t&&t.biff==2?1:2);return[i,n]}function mC(r){return r.l++,da[r.read_shift(1)]}function CC(r){return r.l++,r.read_shift(2)}function _C(r){return r.l++,r.read_shift(1)!==0}function gC(r){return r.l++,as(r)}function LC(r,e,t){return r.l++,SR(r,e-1,t)}function DC(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Sp(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=da[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=as(r);break;case 2:t[1]=Np(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function xC(r,e,t){for(var i=r.read_shift(t.biff==12?4:2),n=[],s=0;s!=i;++s)n.push((t.biff==12?dn:Cp)(r));return n}function PC(r,e,t){var i=0,n=0;t.biff==12?(i=r.read_shift(4),n=r.read_shift(4)):(n=1+r.read_shift(1),i=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--i,--n==0&&(n=256));for(var s=0,a=[];s!=i&&(a[s]=[]);++s)for(var o=0;o!=n;++o)a[s][o]=DC(r,t.biff);return a}function MC(r,e,t){var i=r.read_shift(1)>>>5&3,n=!t||t.biff>=8?4:2,s=r.read_shift(n);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[i,0,s]}function vC(r,e,t){if(t.biff==5)return UC(r);var i=r.read_shift(1)>>>5&3,n=r.read_shift(2),s=r.read_shift(4);return[i,n,s]}function UC(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var i=r.read_shift(2);return r.l+=12,[e,t,i]}function yC(r,e,t){var i=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var n=r.read_shift(t&&t.biff==2?1:2);return[i,n]}function wC(r,e,t){var i=r.read_shift(1)>>>5&3,n=r.read_shift(t&&t.biff==2?1:2);return[i,n]}function FC(r,e,t){var i=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[i]}function BC(r,e,t){var i=(r[r.l++]&96)>>5,n=r.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return r.l+=s,[i,n]}var bC=Zr,GC=Zr,HC=Zr;function Oa(r,e,t){return r.l+=2,[Zm(r)]}function Xc(r){return r.l+=6,[]}var kC=Oa,YC=Xc,VC=Xc,WC=Oa;function BR(r){return r.l+=2,[AR(r),r.read_shift(2)&1]}var XC=Oa,KC=BR,$C=Xc,JC=Oa,zC=Oa,qC=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function QC(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),i=r.read_shift(4),n=r.read_shift(2),s=r.read_shift(2),a=qC[t>>2&31];return{ixti:e,coltype:t&3,rt:a,idx:i,c:n,C:s}}function jC(r){return r.l+=2,[r.read_shift(4)]}function ZC(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function e_(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function t_(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function r_(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function i_(r){return r.l+=4,[0,0]}var ST={1:{n:"PtgExp",f:pC},2:{n:"PtgTbl",f:HC},3:{n:"PtgAdd",f:ht},4:{n:"PtgSub",f:ht},5:{n:"PtgMul",f:ht},6:{n:"PtgDiv",f:ht},7:{n:"PtgPower",f:ht},8:{n:"PtgConcat",f:ht},9:{n:"PtgLt",f:ht},10:{n:"PtgLe",f:ht},11:{n:"PtgEq",f:ht},12:{n:"PtgGe",f:ht},13:{n:"PtgGt",f:ht},14:{n:"PtgNe",f:ht},15:{n:"PtgIsect",f:ht},16:{n:"PtgUnion",f:ht},17:{n:"PtgRange",f:ht},18:{n:"PtgUplus",f:ht},19:{n:"PtgUminus",f:ht},20:{n:"PtgPercent",f:ht},21:{n:"PtgParen",f:ht},22:{n:"PtgMissArg",f:ht},23:{n:"PtgStr",f:LC},26:{n:"PtgSheet",f:ZC},27:{n:"PtgEndSheet",f:e_},28:{n:"PtgErr",f:mC},29:{n:"PtgBool",f:_C},30:{n:"PtgInt",f:CC},31:{n:"PtgNum",f:gC},32:{n:"PtgArray",f:oC},33:{n:"PtgFunc",f:dC},34:{n:"PtgFuncVar",f:OC},35:{n:"PtgName",f:MC},36:{n:"PtgRef",f:AC},37:{n:"PtgArea",f:rC},38:{n:"PtgMemArea",f:yC},39:{n:"PtgMemErr",f:bC},40:{n:"PtgMemNoMem",f:GC},41:{n:"PtgMemFunc",f:wC},42:{n:"PtgRefErr",f:FC},43:{n:"PtgAreaErr",f:nC},44:{n:"PtgRefN",f:RC},45:{n:"PtgAreaN",f:aC},46:{n:"PtgMemAreaN",f:t_},47:{n:"PtgMemNoMemN",f:r_},57:{n:"PtgNameX",f:vC},58:{n:"PtgRef3d",f:SC},59:{n:"PtgArea3d",f:iC},60:{n:"PtgRefErr3d",f:BC},61:{n:"PtgAreaErr3d",f:sC},255:{}},n_={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},s_={1:{n:"PtgElfLel",f:BR},2:{n:"PtgElfRw",f:JC},3:{n:"PtgElfCol",f:kC},6:{n:"PtgElfRwV",f:zC},7:{n:"PtgElfColV",f:WC},10:{n:"PtgElfRadical",f:XC},11:{n:"PtgElfRadicalS",f:$C},13:{n:"PtgElfColS",f:YC},15:{n:"PtgElfColSV",f:VC},16:{n:"PtgElfRadicalLel",f:KC},25:{n:"PtgList",f:QC},29:{n:"PtgSxName",f:jC},255:{}},a_={0:{n:"PtgAttrNoop",f:i_},1:{n:"PtgAttrSemi",f:fC},2:{n:"PtgAttrIf",f:hC},4:{n:"PtgAttrChoose",f:lC},8:{n:"PtgAttrGoto",f:EC},16:{n:"PtgAttrSum",f:NC},32:{n:"PtgAttrBaxcel",f:RT},33:{n:"PtgAttrBaxcel",f:RT},64:{n:"PtgAttrSpace",f:TC},65:{n:"PtgAttrSpaceSemi",f:uC},128:{n:"PtgAttrIfError",f:cC},255:{}};function o_(r,e,t,i){if(i.biff<8)return Zr(r,e);for(var n=r.l+e,s=[],a=0;a!==t.length;++a)switch(t[a][0]){case"PtgArray":t[a][1]=PC(r,0,i),s.push(t[a][1]);break;case"PtgMemArea":t[a][2]=xC(r,t[a][1],i),s.push(t[a][2]);break;case"PtgExp":i&&i.biff==12&&(t[a][1][1]=r.read_shift(4),s.push(t[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[a][0]}return e=n-r.l,e!==0&&s.push(Zr(r,e)),s}function l_(r,e,t){for(var i=r.l+e,n,s,a=[];i!=r.l;)e=i-r.l,s=r[r.l],n=ST[s]||ST[n_[s]],(s===24||s===25)&&(n=(s===24?s_:a_)[r[r.l+1]]),!n||!n.f?Zr(r,e):a.push([n.n,n.f(r,e,t)]);return a}function E_(r){for(var e=[],t=0;t<r.length;++t){for(var i=r[t],n=[],s=0;s<i.length;++s){var a=i[s];if(a)switch(a[0]){case 2:n.push('"'+a[1].replace(/"/g,'""')+'"');break;default:n.push(a[1])}else n.push("")}e.push(n.join(","))}return e.join(";")}var h_={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function c_(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function bR(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var i=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!i)return"SH33TJSERR1";var n="";if(t.biff>8)switch(r[i[0]][0]){case 357:return n=i[1]==-1?"#REF":r.SheetNames[i[1]],i[1]==i[2]?n:n+":"+r.SheetNames[i[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[i[0]][0];case 355:default:return"SH33TJSSRC"+r[i[0]][0]}switch(r[i[0]][0][0]){case 1025:return n=i[1]==-1?"#REF":r.SheetNames[i[1]]||"SH33TJSERR3",i[1]==i[2]?n:n+":"+r.SheetNames[i[2]];case 14849:return r[i[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return r[i[0]][0][3]?(n=i[1]==-1?"#REF":r[i[0]][0][3][i[1]]||"SH33TJSERR4",i[1]==i[2]?n:n+":"+r[i[0]][0][3][i[2]]):"SH33TJSERR2"}}function dT(r,e,t){var i=bR(r,e,t);return i=="#REF"?i:c_(i,t)}function $n(r,e,t,i,n){var s=n&&n.biff||8,a={s:{c:0,r:0}},o=[],l,E,h,c=0,f=0,T,A="";if(!r[0]||!r[0][0])return"";for(var u=-1,R="",d=0,O=r[0].length;d<O;++d){var I=r[0][d];switch(I[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),E=o.pop(),u>=0){switch(r[0][u][1][0]){case 0:R=at(" ",r[0][u][1][1]);break;case 1:R=at("\r",r[0][u][1][1]);break;default:if(R="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][u][1][0])}E=E+R,u=-1}o.push(E+h_[I[0]]+l);break;case"PtgIsect":l=o.pop(),E=o.pop(),o.push(E+" "+l);break;case"PtgUnion":l=o.pop(),E=o.pop(),o.push(E+","+l);break;case"PtgRange":l=o.pop(),E=o.pop(),o.push(E+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=ys(I[1][1],a,n),o.push(ws(h,s));break;case"PtgRefN":h=t?ys(I[1][1],t,n):I[1][1],o.push(ws(h,s));break;case"PtgRef3d":c=I[1][1],h=ys(I[1][2],a,n),A=dT(i,c,n),o.push(A+"!"+ws(h,s));break;case"PtgFunc":case"PtgFuncVar":var L=I[1][0],D=I[1][1];L||(L=0),L&=127;var U=L==0?[]:o.slice(-L);o.length-=L,D==="User"&&(D=U.shift()),o.push(D+"("+U.join(",")+")");break;case"PtgBool":o.push(I[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(I[1]);break;case"PtgNum":o.push(String(I[1]));break;case"PtgStr":o.push('"'+I[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(I[1]);break;case"PtgAreaN":T=rT(I[1][1],t?{s:t}:a,n),o.push(EE(T,n));break;case"PtgArea":T=rT(I[1][1],a,n),o.push(EE(T,n));break;case"PtgArea3d":c=I[1][1],T=I[1][2],A=dT(i,c,n),o.push(A+"!"+EE(T,n));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=I[1][2];var _=(i.names||[])[f-1]||(i[0]||[])[f],y=_?_.Name:"SH33TJSNAME"+String(f);y&&y.slice(0,6)=="_xlfn."&&!n.xlfn&&(y=y.slice(6)),o.push(y);break;case"PtgNameX":var P=I[1][1];f=I[1][2];var Y;if(n.biff<=5)P<0&&(P=-P),i[P]&&(Y=i[P][f]);else{var G="";if(((i[P]||[])[0]||[])[0]==14849||(((i[P]||[])[0]||[])[0]==1025?i[P][f]&&i[P][f].itab>0&&(G=i.SheetNames[i[P][f].itab-1]+"!"):G=i.SheetNames[f-1]+"!"),i[P]&&i[P][f])G+=i[P][f].Name;else if(i[0]&&i[0][f])G+=i[0][f].Name;else{var b=(bR(i,P,n)||"").split(";;");b[f-1]?G=b[f-1]:G+="SH33TJSERRX"}o.push(G);break}Y||(Y={Name:"SH33TJSERRY"}),o.push(Y.Name);break;case"PtgParen":var Q="(",ae=")";if(u>=0){switch(R="",r[0][u][1][0]){case 2:Q=at(" ",r[0][u][1][1])+Q;break;case 3:Q=at("\r",r[0][u][1][1])+Q;break;case 4:ae=at(" ",r[0][u][1][1])+ae;break;case 5:ae=at("\r",r[0][u][1][1])+ae;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][u][1][0])}u=-1}o.push(Q+o.pop()+ae);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:I[1][1],r:I[1][0]};var oe={c:t.c,r:t.r};if(i.sharedf[Je(h)]){var Me=i.sharedf[Je(h)];o.push($n(Me,a,oe,i,n))}else{var xe=!1;for(l=0;l!=i.arrayf.length;++l)if(E=i.arrayf[l],!(h.c<E[0].s.c||h.c>E[0].e.c)&&!(h.r<E[0].s.r||h.r>E[0].e.r)){o.push($n(E[1],a,oe,i,n)),xe=!0;break}xe||o.push(I[1])}break;case"PtgArray":o.push("{"+E_(I[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":u=d;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+I[1].idx+"[#"+I[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(I));default:throw new Error("Unrecognized Formula Token: "+String(I))}var Be=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&u>=0&&Be.indexOf(r[0][d][0])==-1){I=r[0][u];var me=!0;switch(I[1][0]){case 4:me=!1;case 0:R=at(" ",I[1][1]);break;case 5:me=!1;case 1:R=at("\r",I[1][1]);break;default:if(R="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+I[1][0])}o.push((me?R:"")+o.pop()+(me?"":R)),u=-1}}if(o.length>1&&n.WTF)throw new Error("bad formula stack");return o[0]}function f_(r){if(r==null){var e=z(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof r=="number")return sn(r);return sn(0)}function T_(r,e,t,i,n){var s=an(e,t,n),a=f_(r.v),o=z(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var E=z(r.bf.length),h=0;h<r.bf.length;++h)E[h]=r.bf[h];var c=vt([s,a,o,E]);return c}function xl(r,e,t){var i=r.read_shift(4),n=l_(r,i,t),s=r.read_shift(4),a=s>0?o_(r,s,n,t):null;return[n,a]}var u_=xl,Pl=xl,A_=xl,R_=xl,S_={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},GR={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},d_={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function O_(r){var e="of:="+r.replace(Vc,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function I_(r){return r.replace(/\./,"!")}var Fs=typeof Map<"u";function Kc(r,e,t){var i=0,n=r.length;if(t){if(Fs?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=Fs?t.get(e):t[e];i<s.length;++i)if(r[s[i]].t===e)return r.Count++,s[i]}}else for(;i<n;++i)if(r[i].t===e)return r.Count++,i;return r[n]={t:e},r.Count++,r.Unique++,t&&(Fs?(t.has(e)||t.set(e,[]),t.get(e).push(n)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(n))),n}function Ml(r,e){var t={min:r+1,max:r+1},i=-1;return e.MDW&&(ci=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?i=Xo(e.wpx):e.wch!=null&&(i=e.wch),i>-1?(t.width=mh(i),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function HR(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function Gi(r,e,t){var i=t.revssf[e.z!=null?e.z:"General"],n=60,s=r.length;if(i==null&&t.ssf){for(;n<392;++n)if(t.ssf[n]==null){y0(e.z,n),t.ssf[n]=e.z,t.revssf[e.z]=i=n;break}}for(n=0;n!=s;++n)if(r[n].numFmtId===i)return n;return r[s]={numFmtId:i,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function N_(r,e,t){if(r&&r["!ref"]){var i=rt(r["!ref"]);if(i.e.c<i.s.c||i.e.r<i.s.r)throw new Error("Bad range ("+t+"): "+r["!ref"])}}function p_(r){if(r.length===0)return"";for(var e='<mergeCells count="'+r.length+'">',t=0;t!=r.length;++t)e+='<mergeCell ref="'+Tt(r[t])+'"/>';return e+"</mergeCells>"}function m_(r,e,t,i,n){var s=!1,a={},o=null;if(i.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[t];try{e.Workbook&&(l=e.Workbook.Sheets[t].CodeName||l)}catch{}s=!0,a.codeName=Js($e(l))}if(r&&r["!outline"]){var E={summaryBelow:1,summaryRight:1};r["!outline"].above&&(E.summaryBelow=0),r["!outline"].left&&(E.summaryRight=0),o=(o||"")+ne("outlinePr",null,E)}!s&&!o||(n[n.length]=ne("sheetPr",o,a))}var C_=["objects","scenarios","selectLockedCells","selectUnlockedCells"],__=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function g_(r){var e={sheet:1};return C_.forEach(function(t){r[t]!=null&&r[t]&&(e[t]="1")}),__.forEach(function(t){r[t]!=null&&!r[t]&&(e[t]="0")}),r.password&&(e.password=mR(r.password).toString(16).toUpperCase()),ne("sheetProtection",null,e)}function L_(r){return HR(r),ne("pageMargins",null,r)}function D_(r,e){for(var t=["<cols>"],i,n=0;n!=e.length;++n)(i=e[n])&&(t[t.length]=ne("col",null,Ml(n,i)));return t[t.length]="</cols>",t.join("")}function x_(r,e,t,i){var n=typeof r.ref=="string"?r.ref:Tt(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,a=ur(n);a.s.r==a.e.r&&(a.e.r=ur(e["!ref"]).e.r,n=Tt(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==i){l.Ref="'"+t.SheetNames[i]+"'!"+n;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+t.SheetNames[i]+"'!"+n}),ne("autoFilter",null,{ref:n})}function P_(r,e,t,i){var n={workbookViewId:"0"};return(((i||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=i.Workbook.Views[0].RTL?"1":"0"),ne("sheetViews",ne("sheetView",null,n),{})}function M_(r,e,t,i){if(r.c&&t["!comments"].push([e,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var n="",s=r.t,a=r.v;if(r.t!=="z")switch(r.t){case"b":n=r.v?"1":"0";break;case"n":n=""+r.v;break;case"e":n=da[r.v];break;case"d":i&&i.cellDates?n=zt(r.v,-1).toISOString():(r=nr(r),r.t="n",n=""+(r.v=ir(zt(r.v)))),typeof r.z>"u"&&(r.z=ot[14]);break;default:n=r.v;break}var o=Ut("v",$e(n)),l={r:e},E=Gi(i.cellXfs,r,i);switch(E!==0&&(l.s=E),r.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(i&&i.bookSST){o=Ut("v",""+Kc(i.Strings,r.v,i.revStrings)),l.t="s";break}l.t="str";break}if(r.t!=s&&(r.t=s,r.v=a),typeof r.f=="string"&&r.f){var h=r.F&&r.F.slice(0,e.length)==e?{t:"array",ref:r.F}:null;o=ne("f",$e(r.f),h)+(r.v!=null?o:"")}return r.l&&t["!links"].push([e,r.l]),r.D&&(l.cm=1),ne("c",o,l)}function v_(r,e,t,i){var n=[],s=[],a=rt(r["!ref"]),o="",l,E="",h=[],c=0,f=0,T=r["!rows"],A=Array.isArray(r),u={r:E},R,d=-1;for(f=a.s.c;f<=a.e.c;++f)h[f]=kt(f);for(c=a.s.r;c<=a.e.r;++c){for(s=[],E=wt(c),f=a.s.c;f<=a.e.c;++f){l=h[f]+E;var O=A?(r[c]||[])[f]:r[l];O!==void 0&&(o=M_(O,l,r,e))!=null&&s.push(o)}(s.length>0||T&&T[c])&&(u={r:E},T&&T[c]&&(R=T[c],R.hidden&&(u.hidden=1),d=-1,R.hpx?d=Ko(R.hpx):R.hpt&&(d=R.hpt),d>-1&&(u.ht=d,u.customHeight=1),R.level&&(u.outlineLevel=R.level)),n[n.length]=ne("row",s.join(""),u))}if(T)for(;c<T.length;++c)T&&T[c]&&(u={r:c+1},R=T[c],R.hidden&&(u.hidden=1),d=-1,R.hpx?d=Ko(R.hpx):R.hpt&&(d=R.hpt),d>-1&&(u.ht=d,u.customHeight=1),R.level&&(u.outlineLevel=R.level),n[n.length]=ne("row","",u));return n.join("")}function kR(r,e,t,i){var n=[ut,ne("worksheet",null,{xmlns:is[0],"xmlns:r":mt.r})],s=t.SheetNames[r],a=0,o="",l=t.Sheets[s];l==null&&(l={});var E=l["!ref"]||"A1",h=rt(E);if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+E+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),E=Tt(h)}i||(i={}),l["!comments"]=[];var c=[];m_(l,t,r,e,n),n[n.length]=ne("dimension",null,{ref:E}),n[n.length]=P_(l,e,r,t),e.sheetFormat&&(n[n.length]=ne("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(n[n.length]=D_(l,l["!cols"])),n[a=n.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=v_(l,e),o.length>0&&(n[n.length]=o)),n.length>a+1&&(n[n.length]="</sheetData>",n[a]=n[a].replace("/>",">")),l["!protect"]&&(n[n.length]=g_(l["!protect"])),l["!autofilter"]!=null&&(n[n.length]=x_(l["!autofilter"],l,t,r)),l["!merges"]!=null&&l["!merges"].length>0&&(n[n.length]=p_(l["!merges"]));var f=-1,T,A=-1;return l["!links"].length>0&&(n[n.length]="<hyperlinks>",l["!links"].forEach(function(u){u[1].Target&&(T={ref:u[0]},u[1].Target.charAt(0)!="#"&&(A=Ke(i,-1,$e(u[1].Target).replace(/#.*$/,""),Ye.HLINK),T["r:id"]="rId"+A),(f=u[1].Target.indexOf("#"))>-1&&(T.location=$e(u[1].Target.slice(f+1))),u[1].Tooltip&&(T.tooltip=$e(u[1].Tooltip)),n[n.length]=ne("hyperlink",null,T))}),n[n.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(n[n.length]=L_(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(n[n.length]=Ut("ignoredErrors",ne("ignoredError",null,{numberStoredAsText:1,sqref:E}))),c.length>0&&(A=Ke(i,-1,"../drawings/drawing"+(r+1)+".xml",Ye.DRAW),n[n.length]=ne("drawing",null,{"r:id":"rId"+A}),l["!drawing"]=c),l["!comments"].length>0&&(A=Ke(i,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Ye.VML),n[n.length]=ne("legacyDrawing",null,{"r:id":"rId"+A}),l["!legacy"]=A),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function U_(r,e){var t={},i=r.l+e;t.r=r.read_shift(4),r.l+=4;var n=r.read_shift(2);r.l+=1;var s=r.read_shift(1);return r.l=i,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=n/20),t}function y_(r,e,t){var i=z(145),n=(t["!rows"]||[])[r]||{};i.write_shift(4,r),i.write_shift(4,0);var s=320;n.hpx?s=Ko(n.hpx)*20:n.hpt&&(s=n.hpt*20),i.write_shift(2,s),i.write_shift(1,0);var a=0;n.level&&(a|=n.level),n.hidden&&(a|=16),(n.hpx||n.hpt)&&(a|=32),i.write_shift(1,a),i.write_shift(1,0);var o=0,l=i.l;i.l+=4;for(var E={r,c:0},h=0;h<16;++h)if(!(e.s.c>h+1<<10||e.e.c<h<<10)){for(var c=-1,f=-1,T=h<<10;T<h+1<<10;++T){E.c=T;var A=Array.isArray(t)?(t[E.r]||[])[E.c]:t[Je(E)];A&&(c<0&&(c=T),f=T)}c<0||(++o,i.write_shift(4,c),i.write_shift(4,f))}var u=i.l;return i.l=l,i.write_shift(4,o),i.l=u,i.length>i.l?i.slice(0,i.l):i}function w_(r,e,t,i){var n=y_(i,t,e);(n.length>17||(e["!rows"]||[])[i])&&te(r,0,n)}var F_=dn,B_=ss;function b_(){}function G_(r,e){var t={},i=r[r.l];return++r.l,t.above=!(i&64),t.left=!(i&128),r.l+=18,t.name=zN(r),t}function H_(r,e,t){t==null&&(t=z(84+4*r.length));var i=192;e&&(e.above&&(i&=-65),e.left&&(i&=-129)),t.write_shift(1,i);for(var n=1;n<3;++n)t.write_shift(1,0);return Yo({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),tR(r,t),t.slice(0,t.l)}function k_(r){var e=_r(r);return[e]}function Y_(r,e,t){return t==null&&(t=z(8)),An(e,t)}function V_(r){var e=Rn(r);return[e]}function W_(r,e,t){return t==null&&(t=z(4)),Sn(e,t)}function X_(r){var e=_r(r),t=r.read_shift(1);return[e,t,"b"]}function K_(r,e,t){return t==null&&(t=z(9)),An(e,t),t.write_shift(1,r.v?1:0),t}function $_(r){var e=Rn(r),t=r.read_shift(1);return[e,t,"b"]}function J_(r,e,t){return t==null&&(t=z(5)),Sn(e,t),t.write_shift(1,r.v?1:0),t}function z_(r){var e=_r(r),t=r.read_shift(1);return[e,t,"e"]}function q_(r,e,t){return t==null&&(t=z(9)),An(e,t),t.write_shift(1,r.v),t}function Q_(r){var e=Rn(r),t=r.read_shift(1);return[e,t,"e"]}function j_(r,e,t){return t==null&&(t=z(8)),Sn(e,t),t.write_shift(1,r.v),t.write_shift(2,0),t.write_shift(1,0),t}function Z_(r){var e=_r(r),t=r.read_shift(4);return[e,t,"s"]}function eg(r,e,t){return t==null&&(t=z(12)),An(e,t),t.write_shift(4,e.v),t}function tg(r){var e=Rn(r),t=r.read_shift(4);return[e,t,"s"]}function rg(r,e,t){return t==null&&(t=z(8)),Sn(e,t),t.write_shift(4,e.v),t}function ig(r){var e=_r(r),t=as(r);return[e,t,"n"]}function ng(r,e,t){return t==null&&(t=z(16)),An(e,t),sn(r.v,t),t}function sg(r){var e=Rn(r),t=as(r);return[e,t,"n"]}function ag(r,e,t){return t==null&&(t=z(12)),Sn(e,t),sn(r.v,t),t}function og(r){var e=_r(r),t=rR(r);return[e,t,"n"]}function lg(r,e,t){return t==null&&(t=z(12)),An(e,t),iR(r.v,t),t}function Eg(r){var e=Rn(r),t=rR(r);return[e,t,"n"]}function hg(r,e,t){return t==null&&(t=z(8)),Sn(e,t),iR(r.v,t),t}function cg(r){var e=_r(r),t=bc(r);return[e,t,"is"]}function fg(r){var e=_r(r),t=Yt(r);return[e,t,"str"]}function Tg(r,e,t){return t==null&&(t=z(12+4*r.v.length)),An(e,t),gt(r.v,t),t.length>t.l?t.slice(0,t.l):t}function ug(r){var e=Rn(r),t=Yt(r);return[e,t,"str"]}function Ag(r,e,t){return t==null&&(t=z(8+4*r.v.length)),Sn(e,t),gt(r.v,t),t.length>t.l?t.slice(0,t.l):t}function Rg(r,e,t){var i=r.l+e,n=_r(r);n.r=t["!row"];var s=r.read_shift(1),a=[n,s,"b"];if(t.cellFormula){r.l+=2;var o=Pl(r,i-r.l,t);a[3]=$n(o,null,n,t.supbooks,t)}else r.l=i;return a}function Sg(r,e,t){var i=r.l+e,n=_r(r);n.r=t["!row"];var s=r.read_shift(1),a=[n,s,"e"];if(t.cellFormula){r.l+=2;var o=Pl(r,i-r.l,t);a[3]=$n(o,null,n,t.supbooks,t)}else r.l=i;return a}function dg(r,e,t){var i=r.l+e,n=_r(r);n.r=t["!row"];var s=as(r),a=[n,s,"n"];if(t.cellFormula){r.l+=2;var o=Pl(r,i-r.l,t);a[3]=$n(o,null,n,t.supbooks,t)}else r.l=i;return a}function Og(r,e,t){var i=r.l+e,n=_r(r);n.r=t["!row"];var s=Yt(r),a=[n,s,"str"];if(t.cellFormula){r.l+=2;var o=Pl(r,i-r.l,t);a[3]=$n(o,null,n,t.supbooks,t)}else r.l=i;return a}var Ig=dn,Ng=ss;function pg(r,e){return e==null&&(e=z(4)),e.write_shift(4,r),e}function mg(r,e){var t=r.l+e,i=dn(r),n=Gc(r),s=Yt(r),a=Yt(r),o=Yt(r);r.l=t;var l={rfx:i,relId:n,loc:s,display:o};return a&&(l.Tooltip=a),l}function Cg(r,e){var t=z(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));ss({s:_t(r[0]),e:_t(r[0])},t),Hc("rId"+e,t);var i=r[1].Target.indexOf("#"),n=i==-1?"":r[1].Target.slice(i+1);return gt(n||"",t),gt(r[1].Tooltip||"",t),gt("",t),t.slice(0,t.l)}function _g(){}function gg(r,e,t){var i=r.l+e,n=nR(r),s=r.read_shift(1),a=[n];if(a[2]=s,t.cellFormula){var o=u_(r,i-r.l,t);a[1]=o}else r.l=i;return a}function Lg(r,e,t){var i=r.l+e,n=dn(r),s=[n];if(t.cellFormula){var a=R_(r,i-r.l,t);s[1]=a,r.l=i}else r.l=i;return s}function Dg(r,e,t){t==null&&(t=z(18));var i=Ml(r,e);t.write_shift(-4,r),t.write_shift(-4,r),t.write_shift(4,(i.width||10)*256),t.write_shift(4,0);var n=0;return e.hidden&&(n|=1),typeof i.width=="number"&&(n|=2),e.level&&(n|=e.level<<8),t.write_shift(2,n),t}var YR=["left","right","top","bottom","header","footer"];function xg(r){var e={};return YR.forEach(function(t){e[t]=as(r)}),e}function Pg(r,e){return e==null&&(e=z(48)),HR(r),YR.forEach(function(t){sn(r[t],e)}),e}function Mg(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function vg(r,e,t){t==null&&(t=z(30));var i=924;return(((e||{}).Views||[])[0]||{}).RTL&&(i|=32),t.write_shift(2,i),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function Ug(r){var e=z(24);return e.write_shift(4,4),e.write_shift(4,1),ss(r,e),e}function yg(r,e){return e==null&&(e=z(66)),e.write_shift(2,r.password?mR(r.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,r[t[0]]!=null&&!r[t[0]]?1:0):e.write_shift(4,r[t[0]]!=null&&r[t[0]]?0:1)}),e}function wg(){}function Fg(){}function Bg(r,e,t,i,n,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=nr(e),e.z=e.z||ot[14],e.v=ir(zt(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r:t,c:i};switch(l.s=Gi(n.cellXfs,e,n),e.l&&s["!links"].push([Je(l),e.l]),e.c&&s["!comments"].push([Je(l),e.c]),e.t){case"s":case"str":return n.bookSST?(o=Kc(n.Strings,e.v,n.revStrings),l.t="s",l.v=o,a?te(r,18,rg(e,l)):te(r,7,eg(e,l))):(l.t="str",a?te(r,17,Ag(e,l)):te(r,6,Tg(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?te(r,13,hg(e,l)):te(r,2,lg(e,l)):a?te(r,16,ag(e,l)):te(r,5,ng(e,l)),!0;case"b":return l.t="b",a?te(r,15,J_(e,l)):te(r,4,K_(e,l)),!0;case"e":return l.t="e",a?te(r,14,j_(e,l)):te(r,3,q_(e,l)),!0}return a?te(r,12,W_(e,l)):te(r,1,Y_(e,l)),!0}function bg(r,e,t,i){var n=rt(e["!ref"]||"A1"),s,a="",o=[];te(r,145);var l=Array.isArray(e),E=n.e.r;e["!rows"]&&(E=Math.max(n.e.r,e["!rows"].length-1));for(var h=n.s.r;h<=E;++h){a=wt(h),w_(r,e,n,h);var c=!1;if(h<=n.e.r)for(var f=n.s.c;f<=n.e.c;++f){h===n.s.r&&(o[f]=kt(f)),s=o[f]+a;var T=l?(e[h]||[])[f]:e[s];if(!T){c=!1;continue}c=Bg(r,T,h,f,i,e,c)}}te(r,146)}function Gg(r,e){!e||!e["!merges"]||(te(r,177,pg(e["!merges"].length)),e["!merges"].forEach(function(t){te(r,176,Ng(t))}),te(r,178))}function Hg(r,e){!e||!e["!cols"]||(te(r,390),e["!cols"].forEach(function(t,i){t&&te(r,60,Dg(i,t))}),te(r,391))}function kg(r,e){!e||!e["!ref"]||(te(r,648),te(r,649,Ug(rt(e["!ref"]))),te(r,650))}function Yg(r,e,t){e["!links"].forEach(function(i){if(i[1].Target){var n=Ke(t,-1,i[1].Target.replace(/#.*$/,""),Ye.HLINK);te(r,494,Cg(i,n))}}),delete e["!links"]}function Vg(r,e,t,i){if(e["!comments"].length>0){var n=Ke(i,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Ye.VML);te(r,551,Hc("rId"+n)),e["!legacy"]=n}}function Wg(r,e,t,i){if(e["!autofilter"]){var n=e["!autofilter"],s=typeof n.ref=="string"?n.ref:Tt(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var a=t.Workbook.Names,o=ur(s);o.s.r==o.e.r&&(o.e.r=ur(e["!ref"]).e.r,s=Tt(o));for(var l=0;l<a.length;++l){var E=a[l];if(E.Name=="_xlnm._FilterDatabase"&&E.Sheet==i){E.Ref="'"+t.SheetNames[i]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+t.SheetNames[i]+"'!"+s}),te(r,161,ss(rt(s))),te(r,162)}}function Xg(r,e,t){te(r,133),te(r,137,vg(e,t)),te(r,138),te(r,134)}function Kg(r,e){e["!protect"]&&te(r,535,yg(e["!protect"]))}function $g(r,e,t,i){var n=rr(),s=t.SheetNames[r],a=t.Sheets[s]||{},o=s;try{t&&t.Workbook&&(o=t.Workbook.Sheets[r].CodeName||o)}catch{}var l=rt(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],te(n,129),(t.vbaraw||a["!outline"])&&te(n,147,H_(o,a["!outline"])),te(n,148,B_(l)),Xg(n,a,t.Workbook),Hg(n,a),bg(n,a,r,e),Kg(n,a),Wg(n,a,t,r),Gg(n,a),Yg(n,a,i),a["!margins"]&&te(n,476,Pg(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&kg(n,a),Vg(n,a,r,i),te(n,130),n.end()}function Jg(r,e){r.l+=10;var t=Yt(r);return{name:t}}var zg=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function qg(r){return!r.Workbook||!r.Workbook.WBProps?"false":LN(r.Workbook.WBProps.date1904)?"true":"false"}var Qg="][*?/\\".split("");function VR(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return Qg.forEach(function(i){if(r.indexOf(i)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function jg(r,e,t){r.forEach(function(i,n){VR(i);for(var s=0;s<n;++s)if(i==r[s])throw new Error("Duplicate Sheet Name: "+i);if(t){var a=e&&e[n]&&e[n].CodeName||i;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function Zg(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var e=r.Workbook&&r.Workbook.Sheets||[];jg(r.SheetNames,e,!!r.vbaraw);for(var t=0;t<r.SheetNames.length;++t)N_(r.Sheets[r.SheetNames[t]],r.SheetNames[t],t)}function WR(r){var e=[ut];e[e.length]=ne("workbook",null,{xmlns:is[0],"xmlns:r":mt.r});var t=r.Workbook&&(r.Workbook.Names||[]).length>0,i={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(zg.forEach(function(o){r.Workbook.WBProps[o[0]]!=null&&r.Workbook.WBProps[o[0]]!=o[1]&&(i[o[0]]=r.Workbook.WBProps[o[0]])}),r.Workbook.WBProps.CodeName&&(i.codeName=r.Workbook.WBProps.CodeName,delete i.CodeName)),e[e.length]=ne("workbookPr",null,i);var n=r.Workbook&&r.Workbook.Sheets||[],s=0;if(n&&n[0]&&n[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=r.SheetNames.length&&!(!n[s]||!n[s].Hidden);++s);s==r.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=r.SheetNames.length;++s){var a={name:$e(r.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),n[s])switch(n[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=ne("sheet",null,a)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=ne("definedName",$e(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function eL(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=ph(r),t.name=Yt(r),t}function tL(r,e){return e||(e=z(127)),e.write_shift(4,r.Hidden),e.write_shift(4,r.iTabID),Hc(r.strRelID,e),gt(r.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function rL(r,e){var t={},i=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var n=e>8?Yt(r):"";return n.length>0&&(t.CodeName=n),t.autoCompressPictures=!!(i&65536),t.backupFile=!!(i&64),t.checkCompatibility=!!(i&4096),t.date1904=!!(i&1),t.filterPrivacy=!!(i&8),t.hidePivotFieldList=!!(i&1024),t.promptedSolutions=!!(i&16),t.publishItems=!!(i&2048),t.refreshAllConnections=!!(i&262144),t.saveExternalLinkValues=!!(i&128),t.showBorderUnselectedTables=!!(i&4),t.showInkAnnotation=!!(i&32),t.showObjects=["all","placeholders","none"][i>>13&3],t.showPivotChartFilter=!!(i&32768),t.updateLinks=["userSet","never","always"][i>>8&3],t}function iL(r,e){e||(e=z(72));var t=0;return r&&r.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),tR(r&&r.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function nL(r,e,t){var i=r.l+e;r.l+=4,r.l+=1;var n=r.read_shift(4),s=qN(r),a=A_(r,0,t),o=Gc(r);r.l=i;var l={Name:s,Ptg:a};return n<268435455&&(l.Sheet=n),o&&(l.Comment=o),l}function sL(r,e){te(r,143);for(var t=0;t!=e.SheetNames.length;++t){var i=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,n={Hidden:i,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};te(r,156,tL(n))}te(r,144)}function aL(r,e){e||(e=z(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return gt("SheetJS",e),gt(yo.version,e),gt(yo.version,e),gt("7262",e),e.length>e.l?e.slice(0,e.l):e}function oL(r,e){e||(e=z(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,r),e.write_shift(4,r);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function lL(r,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,i=0,n=-1,s=-1;i<t.length;++i)!t[i]||!t[i].Hidden&&n==-1?n=i:t[i].Hidden==1&&s==-1&&(s=i);s>n||(te(r,135),te(r,158,oL(n)),te(r,136))}}function EL(r,e){var t=rr();return te(t,131),te(t,128,aL()),te(t,153,iL(r.Workbook&&r.Workbook.WBProps||null)),lL(t,r),sL(t,r),te(t,132),t.end()}function hL(r,e,t){return(e.slice(-4)===".bin"?EL:WR)(r)}function cL(r,e,t,i,n){return(e.slice(-4)===".bin"?$g:kR)(r,t,i,n)}function fL(r,e,t){return(e.slice(-4)===".bin"?Pm:gR)(r,t)}function TL(r,e,t){return(e.slice(-4)===".bin"?im:pR)(r,t)}function uL(r,e,t){return(e.slice(-4)===".bin"?Km:MR)(r)}function AL(r){return(r.slice(-4)===".bin"?bm:xR)()}function RL(r,e){var t=[];return r.Props&&t.push(fp(r.Props,e)),r.Custprops&&t.push(Tp(r.Props,r.Custprops)),t.join("")}function SL(){return""}function dL(r,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(i,n){var s=[];s.push(ne("NumberFormat",null,{"ss:Format":$e(ot[i.numFmtId])}));var a={"ss:ID":"s"+(21+n)};t.push(ne("Style",s.join(""),a))}),ne("Styles",t.join(""))}function XR(r){return ne("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+Wc(r.Ref,{r:0,c:0})})}function OL(r){if(!((r||{}).Workbook||{}).Names)return"";for(var e=r.Workbook.Names,t=[],i=0;i<e.length;++i){var n=e[i];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||t.push(XR(n)))}return ne("Names",t.join(""))}function IL(r,e,t,i){if(!r||!((i||{}).Workbook||{}).Names)return"";for(var n=i.Workbook.Names,s=[],a=0;a<n.length;++a){var o=n[a];o.Sheet==t&&(o.Name.match(/^_xlfn\./)||s.push(XR(o)))}return s.join("")}function NL(r,e,t,i){if(!r)return"";var n=[];if(r["!margins"]&&(n.push("<PageSetup>"),r["!margins"].header&&n.push(ne("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&n.push(ne("Footer",null,{"x:Margin":r["!margins"].footer})),n.push(ne("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),n.push("</PageSetup>")),i&&i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[t])if(i.Workbook.Sheets[t].Hidden)n.push(ne("Visible",i.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(i.Workbook.Sheets[s]&&!i.Workbook.Sheets[s].Hidden);++s);s==t&&n.push("<Selected/>")}return((((i||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),r["!protect"]&&(n.push(Ut("ProtectContents","True")),r["!protect"].objects&&n.push(Ut("ProtectObjects","True")),r["!protect"].scenarios&&n.push(Ut("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?n.push(Ut("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&n.push(Ut("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){r["!protect"][a[0]]&&n.push("<"+a[1]+"/>")})),n.length==0?"":ne("WorksheetOptions",n.join(""),{xmlns:cr.x})}function pL(r){return r.map(function(e){var t=gN(e.t||""),i=ne("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return ne("Comment",i,{"ss:Author":e.a})}).join("")}function mL(r,e,t,i,n,s,a){if(!r||r.v==null&&r.f==null)return"";var o={};if(r.f&&(o["ss:Formula"]="="+$e(Wc(r.f,a))),r.F&&r.F.slice(0,e.length)==e){var l=_t(r.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(r.l&&r.l.Target&&(o["ss:HRef"]=$e(r.l.Target),r.l.Tooltip&&(o["x:HRefScreenTip"]=$e(r.l.Tooltip))),t["!merges"])for(var E=t["!merges"],h=0;h!=E.length;++h)E[h].s.c!=a.c||E[h].s.r!=a.r||(E[h].e.c>E[h].s.c&&(o["ss:MergeAcross"]=E[h].e.c-E[h].s.c),E[h].e.r>E[h].s.r&&(o["ss:MergeDown"]=E[h].e.r-E[h].s.r));var c="",f="";switch(r.t){case"z":if(!i.sheetStubs)return"";break;case"n":c="Number",f=String(r.v);break;case"b":c="Boolean",f=r.v?"1":"0";break;case"e":c="Error",f=da[r.v];break;case"d":c="DateTime",f=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||ot[14]);break;case"s":c="String",f=_N(r.v||"");break}var T=Gi(i.cellXfs,r,i);o["ss:StyleID"]="s"+(21+T),o["ss:Index"]=a.c+1;var A=r.v!=null?f:"",u=r.t=="z"?"":'<Data ss:Type="'+c+'">'+A+"</Data>";return(r.c||[]).length>0&&(u+=pL(r.c)),ne("Cell",u,o)}function CL(r,e){var t='<Row ss:Index="'+(r+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=_R(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function _L(r,e,t,i){if(!r["!ref"])return"";var n=rt(r["!ref"]),s=r["!merges"]||[],a=0,o=[];r["!cols"]&&r["!cols"].forEach(function(R,d){Yc(R);var O=!!R.width,I=Ml(d,R),L={"ss:Index":d+1};O&&(L["ss:Width"]=Wo(I.width)),R.hidden&&(L["ss:Hidden"]="1"),o.push(ne("Column",null,L))});for(var l=Array.isArray(r),E=n.s.r;E<=n.e.r;++E){for(var h=[CL(E,(r["!rows"]||[])[E])],c=n.s.c;c<=n.e.c;++c){var f=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>c)&&!(s[a].s.r>E)&&!(s[a].e.c<c)&&!(s[a].e.r<E)){(s[a].s.c!=c||s[a].s.r!=E)&&(f=!0);break}if(!f){var T={r:E,c},A=Je(T),u=l?(r[E]||[])[c]:r[A];h.push(mL(u,A,r,e,t,i,T))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function gL(r,e,t){var i=[],n=t.SheetNames[r],s=t.Sheets[n],a=s?IL(s,e,r,t):"";return a.length>0&&i.push("<Names>"+a+"</Names>"),a=s?_L(s,e,r,t):"",a.length>0&&i.push("<Table>"+a+"</Table>"),i.push(NL(s,e,r,t)),i.join("")}function LL(r,e){e||(e={}),r.SSF||(r.SSF=nr(ot)),r.SSF&&(gl(),_l(r.SSF),e.revssf=Ll(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF,e.cellXfs=[],Gi(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(RL(r,e)),t.push(SL()),t.push(""),t.push("");for(var i=0;i<r.SheetNames.length;++i)t.push(ne("Worksheet",gL(i,e,r),{"ss:Name":$e(r.SheetNames[i])}));return t[2]=dL(r,e),t[3]=OL(r),ut+ne("Workbook",t.join(""),{xmlns:cr.ss,"xmlns:o":cr.o,"xmlns:x":cr.x,"xmlns:ss":cr.ss,"xmlns:dt":cr.dt,"xmlns:html":cr.html})}var fE={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function DL(r,e){var t=[],i=[],n=[],s=0,a,o=Xf(nT,"n"),l=Xf(sT,"n");if(r.Props)for(a=Ft(r.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?t:Object.prototype.hasOwnProperty.call(l,a[s])?i:n).push([a[s],r.Props[a[s]]]);if(r.Custprops)for(a=Ft(r.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(r.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?t:Object.prototype.hasOwnProperty.call(l,a[s])?i:n).push([a[s],r.Custprops[a[s]]]);var E=[];for(s=0;s<n.length;++s)uR.indexOf(n[s][0])>-1||cR.indexOf(n[s][0])>-1||n[s][1]!=null&&E.push(n[s]);i.length&&ze.utils.cfb_add(e,"/SummaryInformation",hT(i,fE.SI,l,sT)),(t.length||E.length)&&ze.utils.cfb_add(e,"/DocumentSummaryInformation",hT(t,fE.DSI,o,nT,E.length?E:null,fE.UDI))}function xL(r,e){var t=e||{},i=ze.utils.cfb_new({root:"R"}),n="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":n="/Workbook",t.biff=8;break;case"biff5":n="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return ze.utils.cfb_add(i,n,KR(r,t)),t.biff==8&&(r.Props||r.Custprops)&&DL(r,i),t.biff==8&&r.vbaraw&&$m(i,ze.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),i}var PL={0:{f:U_},1:{f:k_},2:{f:og},3:{f:z_},4:{f:X_},5:{f:ig},6:{f:fg},7:{f:Z_},8:{f:Og},9:{f:dg},10:{f:Rg},11:{f:Sg},12:{f:V_},13:{f:Eg},14:{f:Q_},15:{f:$_},16:{f:sg},17:{f:ug},18:{f:tg},19:{f:bc},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:nL},40:{},42:{},43:{f:fm},44:{f:hm},45:{f:Am},46:{f:Sm},47:{f:Rm},48:{},49:{f:VN},50:{},51:{f:Um},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Wp},62:{f:cg},63:{f:Gm},64:{f:wg},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Zr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Mg},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:G_},148:{f:F_,p:16},151:{f:_g},152:{},153:{f:rL},154:{},155:{},156:{f:eL},157:{},158:{},159:{T:1,f:em},160:{T:-1},161:{T:1,f:dn},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Ig},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Mm},336:{T:-1},337:{f:Fm,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:ph},357:{},358:{},359:{},360:{T:1},361:{},362:{f:bp},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:gg},427:{f:Lg},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:xg},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:b_},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:mg},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:ph},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Wm},633:{T:1},634:{T:-1},635:{T:1,f:Ym},636:{T:-1},637:{f:$N},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Jg},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Fg},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function se(r,e,t,i){var n=e;if(!isNaN(n)){var s=i||(t||[]).length||0,a=r.next(4);a.write_shift(2,n),a.write_shift(2,s),s>0&&wc(t)&&r.push(t)}}function ML(r,e,t,i){var n=(t||[]).length||0;if(n<=8224)return se(r,e,t,n);var s=e;if(!isNaN(s)){for(var a=t.parts||[],o=0,l=0,E=0;E+(a[o]||8224)<=8224;)E+=a[o]||8224,o++;var h=r.next(4);for(h.write_shift(2,s),h.write_shift(2,E),r.push(t.slice(l,l+E)),l+=E;l<n;){for(h=r.next(4),h.write_shift(2,60),E=0;E+(a[o]||8224)<=8224;)E+=a[o]||8224,o++;h.write_shift(2,E),r.push(t.slice(l,l+E)),l+=E}}}function Ia(r,e,t){return r||(r=z(7)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,0),r.write_shift(1,0),r}function vL(r,e,t,i){var n=z(9);return Ia(n,r,e),RR(t,i||"b",n),n}function UL(r,e,t){var i=z(8+2*t.length);return Ia(i,r,e),i.write_shift(1,t.length),i.write_shift(t.length,t,"sbcs"),i.l<i.length?i.slice(0,i.l):i}function yL(r,e,t,i){if(e.v!=null)switch(e.t){case"d":case"n":var n=e.t=="d"?ir(zt(e.v)):e.v;n==(n|0)&&n>=0&&n<65536?se(r,2,Jp(t,i,n)):se(r,3,$p(t,i,n));return;case"b":case"e":se(r,5,vL(t,i,e.v,e.t));return;case"s":case"str":se(r,4,UL(t,i,(e.v||"").slice(0,255)));return}se(r,1,Ia(null,t,i))}function wL(r,e,t,i){var n=Array.isArray(e),s=rt(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(i.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Tt(s)}for(var E=s.s.r;E<=s.e.r;++E){o=wt(E);for(var h=s.s.c;h<=s.e.c;++h){E===s.s.r&&(l[h]=kt(h)),a=l[h]+o;var c=n?(e[E]||[])[h]:e[a];c&&yL(r,c,E,h)}}}function FL(r,e){for(var t=e||{},i=rr(),n=0,s=0;s<r.SheetNames.length;++s)r.SheetNames[s]==t.sheet&&(n=s);if(n==0&&t.sheet&&r.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return se(i,t.biff==4?1033:t.biff==3?521:9,kc(r,16,t)),wL(i,r.Sheets[r.SheetNames[n]],n,t),se(i,10),i.end()}function BL(r,e,t){se(r,49,Pp({sz:12,name:"Arial"},t))}function bL(r,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var n=i[0];n<=i[1];++n)e[n]!=null&&se(r,1054,Up(n,e[n],t))})}function GL(r,e){var t=z(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),se(r,2151,t),t=z(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),IR(rt(e["!ref"]||"A1"),t),t.write_shift(4,4),se(r,2152,t)}function HL(r,e){for(var t=0;t<16;++t)se(r,224,fT({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(i){se(r,224,fT(i,0,e))})}function kL(r,e){for(var t=0;t<e["!links"].length;++t){var i=e["!links"][t];se(r,440,kp(i)),i[1].Tooltip&&se(r,2048,Yp(i))}delete e["!links"]}function YL(r,e){if(e){var t=0;e.forEach(function(i,n){++t<=256&&i&&se(r,125,Xp(Ml(n,i),n))})}}function VL(r,e,t,i,n){var s=16+Gi(n.cellXfs,e,n);if(e.v==null&&!e.bf){se(r,513,an(t,i,s));return}if(e.bf)se(r,6,T_(e,t,i,n,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?ir(zt(e.v)):e.v;se(r,515,Bp(t,i,a,s));break;case"b":case"e":se(r,517,Fp(t,i,e.v,s,n,e.t));break;case"s":case"str":if(n.bookSST){var o=Kc(n.Strings,e.v,n.revStrings);se(r,253,Mp(t,i,o,s))}else se(r,516,vp(t,i,(e.v||"").slice(0,255),s,n));break;default:se(r,513,an(t,i,s))}}function WL(r,e,t){var i=rr(),n=t.SheetNames[r],s=t.Sheets[n]||{},a=(t||{}).Workbook||{},o=(a.Sheets||[])[r]||{},l=Array.isArray(s),E=e.biff==8,h,c="",f=[],T=rt(s["!ref"]||"A1"),A=E?65536:16384;if(T.e.c>255||T.e.r>=A){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");T.e.c=Math.min(T.e.c,255),T.e.r=Math.min(T.e.c,A-1)}se(i,2057,kc(t,16,e)),se(i,13,Sr(1)),se(i,12,Sr(100)),se(i,15,Kt(!0)),se(i,17,Kt(!1)),se(i,16,sn(.001)),se(i,95,Kt(!0)),se(i,42,Kt(!1)),se(i,43,Kt(!1)),se(i,130,Sr(1)),se(i,128,wp()),se(i,131,Kt(!1)),se(i,132,Kt(!1)),E&&YL(i,s["!cols"]),se(i,512,yp(T,e)),E&&(s["!links"]=[]);for(var u=T.s.r;u<=T.e.r;++u){c=wt(u);for(var R=T.s.c;R<=T.e.c;++R){u===T.s.r&&(f[R]=kt(R)),h=f[R]+c;var d=l?(s[u]||[])[R]:s[h];d&&(VL(i,d,u,R,e),E&&d.l&&s["!links"].push([h,d.l]))}}var O=o.CodeName||o.name||n;return E&&se(i,574,xp((a.Views||[])[0])),E&&(s["!merges"]||[]).length&&se(i,229,Hp(s["!merges"])),E&&kL(i,s),se(i,442,dR(O)),E&&GL(i,s),se(i,10),i.end()}function XL(r,e,t){var i=rr(),n=(r||{}).Workbook||{},s=n.Sheets||[],a=n.WBProps||{},o=t.biff==8,l=t.biff==5;if(se(i,2057,kc(r,5,t)),t.bookType=="xla"&&se(i,135),se(i,225,o?Sr(1200):null),se(i,193,Rp(2)),l&&se(i,191),l&&se(i,192),se(i,226),se(i,92,_p("SheetJS",t)),se(i,66,Sr(o?1200:1252)),o&&se(i,353,Sr(0)),o&&se(i,448),se(i,317,Kp(r.SheetNames.length)),o&&r.vbaraw&&se(i,211),o&&r.vbaraw){var E=a.CodeName||"ThisWorkbook";se(i,442,dR(E))}se(i,156,Sr(17)),se(i,25,Kt(!1)),se(i,18,Kt(!1)),se(i,19,Sr(0)),o&&se(i,431,Kt(!1)),o&&se(i,444,Sr(0)),se(i,61,Dp()),se(i,64,Kt(!1)),se(i,141,Sr(0)),se(i,34,Kt(qg(r)=="true")),se(i,14,Kt(!0)),o&&se(i,439,Kt(!1)),se(i,218,Sr(0)),BL(i,r,t),bL(i,r.SSF,t),HL(i,t),o&&se(i,352,Kt(!1));var h=i.end(),c=rr();o&&se(c,140,Vp()),o&&t.Strings&&ML(c,252,Lp(t.Strings)),se(c,10);var f=c.end(),T=rr(),A=0,u=0;for(u=0;u<r.SheetNames.length;++u)A+=(o?12:11)+(o?2:1)*r.SheetNames[u].length;var R=h.length+A+f.length;for(u=0;u<r.SheetNames.length;++u){var d=s[u]||{};se(T,133,gp({pos:R,hs:d.Hidden||0,dt:0,name:r.SheetNames[u]},t)),R+=e[u].length}var O=T.end();if(A!=O.length)throw new Error("BS8 "+A+" != "+O.length);var I=[];return h.length&&I.push(h),O.length&&I.push(O),f.length&&I.push(f),vt(I)}function KL(r,e){var t=e||{},i=[];r&&!r.SSF&&(r.SSF=nr(ot)),r&&r.SSF&&(gl(),_l(r.SSF),t.revssf=Ll(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,$c(t),t.cellXfs=[],Gi(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var n=0;n<r.SheetNames.length;++n)i[i.length]=WL(n,t,r);return i.unshift(XL(r,i,t)),vt(i)}function KR(r,e){for(var t=0;t<=r.SheetNames.length;++t){var i=r.Sheets[r.SheetNames[t]];if(!(!i||!i["!ref"])){var n=ur(i["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return KL(r,e);case 4:case 3:case 2:return FL(r,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function $L(r,e,t,i){for(var n=r["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,E=0;E<n.length;++E)if(!(n[E].s.r>t||n[E].s.c>a)&&!(n[E].e.r<t||n[E].e.c<a)){if(n[E].s.r<t||n[E].s.c<a){o=-1;break}o=n[E].e.r-n[E].s.r+1,l=n[E].e.c-n[E].s.c+1;break}if(!(o<0)){var h=Je({r:t,c:a}),c=i.dense?(r[t]||[])[a]:r[h],f=c&&c.v!=null&&(c.h||CN(c.w||(ui(c),c.w)||""))||"",T={};o>1&&(T.rowspan=o),l>1&&(T.colspan=l),i.editable?f='<span contenteditable="true">'+f+"</span>":c&&(T["data-t"]=c&&c.t||"z",c.v!=null&&(T["data-v"]=c.v),c.z!=null&&(T["data-z"]=c.z),c.l&&(c.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+c.l.Target+'">'+f+"</a>")),T.id=(i.id||"sjs")+"-"+h,s.push(ne("td",f,T))}}var A="<tr>";return A+s.join("")+"</tr>"}var JL='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',zL="</body></html>";function qL(r,e,t){var i=[];return i.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function $R(r,e){var t=e||{},i=t.header!=null?t.header:JL,n=t.footer!=null?t.footer:zL,s=[i],a=ur(r["!ref"]);t.dense=Array.isArray(r),s.push(qL(r,a,t));for(var o=a.s.r;o<=a.e.r;++o)s.push($L(r,a,o,t));return s.push("</table>"+n),s.join("")}function JR(r,e,t){var i=t||{},n=0,s=0;if(i.origin!=null)if(typeof i.origin=="number")n=i.origin;else{var a=typeof i.origin=="string"?_t(i.origin):i.origin;n=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(i.sheetRows||1e7,o.length),E={s:{r:0,c:0},e:{r:n,c:s}};if(r["!ref"]){var h=ur(r["!ref"]);E.s.r=Math.min(E.s.r,h.s.r),E.s.c=Math.min(E.s.c,h.s.c),E.e.r=Math.max(E.e.r,h.e.r),E.e.c=Math.max(E.e.c,h.e.c),n==-1&&(E.e.r=n=h.e.r+1)}var c=[],f=0,T=r["!rows"]||(r["!rows"]=[]),A=0,u=0,R=0,d=0,O=0,I=0;for(r["!cols"]||(r["!cols"]=[]);A<o.length&&u<l;++A){var L=o[A];if(OT(L)){if(i.display)continue;T[u]={hidden:!0}}var D=L.children;for(R=d=0;R<D.length;++R){var U=D[R];if(!(i.display&&OT(U))){var _=U.hasAttribute("data-v")?U.getAttribute("data-v"):U.hasAttribute("v")?U.getAttribute("v"):DN(U.innerHTML),y=U.getAttribute("data-z")||U.getAttribute("z");for(f=0;f<c.length;++f){var P=c[f];P.s.c==d+s&&P.s.r<u+n&&u+n<=P.e.r&&(d=P.e.c+1-s,f=-1)}I=+U.getAttribute("colspan")||1,((O=+U.getAttribute("rowspan")||1)>1||I>1)&&c.push({s:{r:u+n,c:d+s},e:{r:u+n+(O||1)-1,c:d+s+(I||1)-1}});var Y={t:"s",v:_},G=U.getAttribute("data-t")||U.getAttribute("t")||"";_!=null&&(_.length==0?Y.t=G||"z":i.raw||_.trim().length==0||G=="s"||(_==="TRUE"?Y={t:"b",v:!0}:_==="FALSE"?Y={t:"b",v:!1}:isNaN(hi(_))?isNaN($s(_).getDate())||(Y={t:"d",v:zt(_)},i.cellDates||(Y={t:"n",v:ir(Y.v)}),Y.z=i.dateNF||ot[14]):Y={t:"n",v:hi(_)})),Y.z===void 0&&y!=null&&(Y.z=y);var b="",Q=U.getElementsByTagName("A");if(Q&&Q.length)for(var ae=0;ae<Q.length&&!(Q[ae].hasAttribute("href")&&(b=Q[ae].getAttribute("href"),b.charAt(0)!="#"));++ae);b&&b.charAt(0)!="#"&&(Y.l={Target:b}),i.dense?(r[u+n]||(r[u+n]=[]),r[u+n][d+s]=Y):r[Je({c:d+s,r:u+n})]=Y,E.e.c<d+s&&(E.e.c=d+s),d+=I}}++u}return c.length&&(r["!merges"]=(r["!merges"]||[]).concat(c)),E.e.r=Math.max(E.e.r,u-1+n),r["!ref"]=Tt(E),u>=l&&(r["!fullref"]=Tt((E.e.r=o.length-A+u-1+n,E))),r}function zR(r,e){var t=e||{},i=t.dense?[]:{};return JR(i,r,e)}function QL(r,e){return un(zR(r,e),e)}function OT(r){var e="",t=jL(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function jL(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var ZL=(function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+zs({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return ut+e}})(),IT=(function(){var r=function(s){return $e(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,i=function(s,a,o){var l=[];l.push('      <table:table table:name="'+$e(a.SheetNames[o])+`" table:style-name="ta1">
`);var E=0,h=0,c=ur(s["!ref"]||"A1"),f=s["!merges"]||[],T=0,A=Array.isArray(s);if(s["!cols"])for(h=0;h<=c.e.c;++h)l.push("        <table:table-column"+(s["!cols"][h]?' table:style-name="co'+s["!cols"][h].ods+'"':"")+`></table:table-column>
`);var u="",R=s["!rows"]||[];for(E=0;E<c.s.r;++E)u=R[E]?' table:style-name="ro'+R[E].ods+'"':"",l.push("        <table:table-row"+u+`></table:table-row>
`);for(;E<=c.e.r;++E){for(u=R[E]?' table:style-name="ro'+R[E].ods+'"':"",l.push("        <table:table-row"+u+`>
`),h=0;h<c.s.c;++h)l.push(e);for(;h<=c.e.c;++h){var d=!1,O={},I="";for(T=0;T!=f.length;++T)if(!(f[T].s.c>h)&&!(f[T].s.r>E)&&!(f[T].e.c<h)&&!(f[T].e.r<E)){(f[T].s.c!=h||f[T].s.r!=E)&&(d=!0),O["table:number-columns-spanned"]=f[T].e.c-f[T].s.c+1,O["table:number-rows-spanned"]=f[T].e.r-f[T].s.r+1;break}if(d){l.push(t);continue}var L=Je({r:E,c:h}),D=A?(s[E]||[])[h]:s[L];if(D&&D.f&&(O["table:formula"]=$e(O_(D.f)),D.F&&D.F.slice(0,L.length)==L)){var U=ur(D.F);O["table:number-matrix-columns-spanned"]=U.e.c-U.s.c+1,O["table:number-matrix-rows-spanned"]=U.e.r-U.s.r+1}if(!D){l.push(e);continue}switch(D.t){case"b":I=D.v?"TRUE":"FALSE",O["office:value-type"]="boolean",O["office:boolean-value"]=D.v?"true":"false";break;case"n":I=D.w||String(D.v||0),O["office:value-type"]="float",O["office:value"]=D.v||0;break;case"s":case"str":I=D.v==null?"":D.v,O["office:value-type"]="string";break;case"d":I=D.w||zt(D.v).toISOString(),O["office:value-type"]="date",O["office:date-value"]=zt(D.v).toISOString(),O["table:style-name"]="ce1";break;default:l.push(e);continue}var _=r(I);if(D.l&&D.l.Target){var y=D.l.Target;y=y.charAt(0)=="#"?"#"+I_(y.slice(1)):y,y.charAt(0)!="#"&&!y.match(/^\w+:/)&&(y="../"+y),_=ne("text:a",_,{"xlink:href":y.replace(/&/g,"&amp;")})}l.push("          "+ne("table:table-cell",ne("text:p",_,{}),O)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},n=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(E){return a.Sheets[E]}).forEach(function(E){if(E&&E["!cols"]){for(var h=0;h<E["!cols"].length;++h)if(E["!cols"][h]){var c=E["!cols"][h];if(c.width==null&&c.wpx==null&&c.wch==null)continue;Yc(c),c.ods=o;var f=E["!cols"][h].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(E){return a.Sheets[E]}).forEach(function(E){if(E&&E["!rows"]){for(var h=0;h<E["!rows"].length;++h)if(E["!rows"][h]){E["!rows"][h].ods=l;var c=E["!rows"][h].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+c+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[ut],E=zs({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=zs({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+E+h+`>
`),l.push(ER().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+E+`>
`),n(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var c=0;c!=a.SheetNames.length;++c)l.push(i(a.Sheets[a.SheetNames[c]],a,c));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function qR(r,e){if(e.bookType=="fods")return IT(r,e);var t=Mc(),i="",n=[],s=[];return i="mimetype",ye(t,i,"application/vnd.oasis.opendocument.spreadsheet"),i="content.xml",ye(t,i,IT(r,e)),n.push([i,"text/xml"]),s.push([i,"ContentFile"]),i="styles.xml",ye(t,i,ZL(r,e)),n.push([i,"text/xml"]),s.push([i,"StylesFile"]),i="meta.xml",ye(t,i,ut+ER()),n.push([i,"text/xml"]),s.push([i,"MetadataFile"]),i="manifest.rdf",ye(t,i,cp(s)),n.push([i,"application/rdf+xml"]),i="META-INF/manifest.xml",ye(t,i,Ep(n)),t}function $o(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function e1(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):vr(Js(r))}function t1(r,e){e:for(var t=0;t<=r.length-e.length;++t){for(var i=0;i<e.length;++i)if(r[t+i]!=e[i])continue e;return!0}return!1}function yi(r){var e=r.reduce(function(n,s){return n+s.length},0),t=new Uint8Array(e),i=0;return r.forEach(function(n){t.set(n,i),i+=n.length}),t}function r1(r,e,t){var i=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,n=t/Math.pow(10,i-6176);r[e+15]|=i>>7,r[e+14]|=(i&127)<<1;for(var s=0;n>=1;++s,n/=256)r[e+s]=n&255;r[e+15]|=t>=0?0:128}function qs(r,e){var t=e?e[0]:0,i=r[t]&127;e:if(r[t++]>=128&&(i|=(r[t]&127)<<7,r[t++]<128||(i|=(r[t]&127)<<14,r[t++]<128)||(i|=(r[t]&127)<<21,r[t++]<128)||(i+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(i+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(i+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),i}function Xe(r){var e=new Uint8Array(7);e[0]=r&127;var t=1;e:if(r>127){if(e[t-1]|=128,e[t]=r>>7&127,++t,r<=16383||(e[t-1]|=128,e[t]=r>>14&127,++t,r<=2097151)||(e[t-1]|=128,e[t]=r>>21&127,++t,r<=268435455)||(e[t-1]|=128,e[t]=r/256>>>21&127,++t,r<=34359738367)||(e[t-1]|=128,e[t]=r/65536>>>21&127,++t,r<=4398046511103))break e;e[t-1]|=128,e[t]=r/16777216>>>21&127,++t}return e.slice(0,t)}function Hn(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function Rt(r){for(var e=[],t=[0];t[0]<r.length;){var i=t[0],n=qs(r,t),s=n&7;n=Math.floor(n/8);var a=0,o;if(n==0)break;switch(s){case 0:{for(var l=t[0];r[t[0]++]>=128;);o=r.slice(l,t[0])}break;case 5:a=4,o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 1:a=8,o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 2:a=qs(r,t),o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(n," at offset ").concat(i))}var E={data:o,type:s};e[n]==null?e[n]=[E]:e[n].push(E)}return e}function xt(r){var e=[];return r.forEach(function(t,i){t.forEach(function(n){n.data&&(e.push(Xe(i*8+n.type)),n.type==2&&e.push(Xe(n.data.length)),e.push(n.data))})}),yi(e)}function Pr(r){for(var e,t=[],i=[0];i[0]<r.length;){var n=qs(r,i),s=Rt(r.slice(i[0],i[0]+n));i[0]+=n;var a={id:Hn(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Rt(o.data),E=Hn(l[3][0].data);a.messages.push({meta:l,data:r.slice(i[0],i[0]+E)}),i[0]+=E}),(e=s[3])!=null&&e[0]&&(a.merge=Hn(s[3][0].data)>>>0>0),t.push(a)}return t}function mn(r){var e=[];return r.forEach(function(t){var i=[];i[1]=[{data:Xe(t.id),type:0}],i[2]=[],t.merge!=null&&(i[3]=[{data:Xe(+!!t.merge),type:0}]);var n=[];t.messages.forEach(function(a){n.push(a.data),a.meta[3]=[{type:0,data:Xe(a.data.length)}],i[2].push({data:xt(a.meta),type:2})});var s=xt(i);e.push(Xe(s.length)),e.push(s),n.forEach(function(a){return e.push(a)})}),yi(e)}function i1(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],i=qs(e,t),n=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var a=e[t[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[t[0]],o>1&&(a|=e[t[0]+1]<<8),o>2&&(a|=e[t[0]+2]<<16),o>3&&(a|=e[t[0]+3]<<24),a>>>=0,a++,t[0]+=o}n.push(e.slice(t[0],t[0]+a)),t[0]+=a;continue}else{var l=0,E=0;if(s==1?(E=(e[t[0]]>>2&7)+4,l=(e[t[0]++]&224)<<3,l|=e[t[0]++]):(E=(e[t[0]++]>>2)+1,s==2?(l=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(l=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),n=[yi(n)],l==0)throw new Error("Invalid offset 0");if(l>n[0].length)throw new Error("Invalid offset beyond length");if(E>=l)for(n.push(n[0].slice(-l)),E-=l;E>=n[n.length-1].length;)n.push(n[n.length-1]),E-=n[n.length-1].length;n.push(n[0].slice(-l,-l+E))}}var h=yi(n);if(h.length!=i)throw new Error("Unexpected length: ".concat(h.length," != ").concat(i));return h}function Mr(r){for(var e=[],t=0;t<r.length;){var i=r[t++],n=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(i1(i,r.slice(t,t+n))),t+=n}if(t!==r.length)throw new Error("data is not a valid framed stream!");return yi(e)}function Cn(r){for(var e=[],t=0;t<r.length;){var i=Math.min(r.length-t,268435455),n=new Uint8Array(4);e.push(n);var s=Xe(i),a=s.length;e.push(s),i<=60?(a++,e.push(new Uint8Array([i-1<<2]))):i<=256?(a+=2,e.push(new Uint8Array([240,i-1&255]))):i<=65536?(a+=3,e.push(new Uint8Array([244,i-1&255,i-1>>8&255]))):i<=16777216?(a+=4,e.push(new Uint8Array([248,i-1&255,i-1>>8&255,i-1>>16&255]))):i<=4294967296&&(a+=5,e.push(new Uint8Array([252,i-1&255,i-1>>8&255,i-1>>16&255,i-1>>>24&255]))),e.push(r.slice(t,t+i)),a+=i,n[0]=0,n[1]=a&255,n[2]=a>>8&255,n[3]=a>>16&255,t+=i}return yi(e)}function TE(r,e){var t=new Uint8Array(32),i=$o(t),n=12,s=0;switch(t[0]=5,r.t){case"n":t[1]=2,r1(t,n,r.v),s|=1,n+=16;break;case"b":t[1]=6,i.setFloat64(n,r.v?1:0,!0),s|=2,n+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[1]=3,i.setUint32(n,e.indexOf(r.v),!0),s|=8,n+=4;break;default:throw"unsupported cell type "+r.t}return i.setUint32(8,s,!0),t.slice(0,n)}function uE(r,e){var t=new Uint8Array(32),i=$o(t),n=12,s=0;switch(t[0]=3,r.t){case"n":t[2]=2,i.setFloat64(n,r.v,!0),s|=32,n+=8;break;case"b":t[2]=6,i.setFloat64(n,r.v?1:0,!0),s|=32,n+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[2]=3,i.setUint32(n,e.indexOf(r.v),!0),s|=16,n+=4;break;default:throw"unsupported cell type "+r.t}return i.setUint32(4,s,!0),t.slice(0,n)}function Ni(r){var e=Rt(r);return qs(e[1][0].data)}function n1(r,e,t){var i,n,s,a;if(!((i=r[6])!=null&&i[0])||!((n=r[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=r[8])==null?void 0:s[0])==null?void 0:a.data)&&Hn(r[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,E=$o(r[7][0].data),h=0,c=[],f=$o(r[4][0].data),T=0,A=[],u=0;u<e.length;++u){if(e[u]==null){E.setUint16(u*2,65535,!0),f.setUint16(u*2,65535);continue}E.setUint16(u*2,h,!0),f.setUint16(u*2,T,!0);var R,d;switch(typeof e[u]){case"string":R=TE({t:"s",v:e[u]},t),d=uE({t:"s",v:e[u]},t);break;case"number":R=TE({t:"n",v:e[u]},t),d=uE({t:"n",v:e[u]},t);break;case"boolean":R=TE({t:"b",v:e[u]},t),d=uE({t:"b",v:e[u]},t);break;default:throw new Error("Unsupported value "+e[u])}c.push(R),h+=R.length,A.push(d),T+=d.length,++l}for(r[2][0].data=Xe(l);u<r[7][0].data.length/2;++u)E.setUint16(u*2,65535,!0),f.setUint16(u*2,65535,!0);return r[6][0].data=yi(c),r[3][0].data=yi(A),l}function s1(r,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var i=ur(t["!ref"]);i.s.r=i.s.c=0;var n=!1;i.e.c>9&&(n=!0,i.e.c=9),i.e.r>49&&(n=!0,i.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Tt(i)));var s=Jo(t,{range:i,header:1}),a=["~Sh33tJ5~"];s.forEach(function(w){return w.forEach(function(v){typeof v=="string"&&a.push(v)})});var o={},l=[],E=ze.read(e.numbers,{type:"base64"});E.FileIndex.map(function(w,v){return[w,E.FullPaths[v]]}).forEach(function(w){var v=w[0],M=w[1];if(v.type==2&&v.name.match(/\.iwa/)){var Z=v.content,Oe=Mr(Z),pe=Pr(Oe);pe.forEach(function(Ie){l.push(Ie.id),o[Ie.id]={deps:[],location:M,type:Hn(Ie.messages[0].meta[1][0].data)}})}}),l.sort(function(w,v){return w-v});var h=l.filter(function(w){return w>1}).map(function(w){return[w,Xe(w)]});E.FileIndex.map(function(w,v){return[w,E.FullPaths[v]]}).forEach(function(w){var v=w[0];if(w[1],!!v.name.match(/\.iwa/)){var M=Pr(Mr(v.content));M.forEach(function(Z){Z.messages.forEach(function(Oe){h.forEach(function(pe){Z.messages.some(function(Ie){return Hn(Ie.meta[1][0].data)!=11006&&t1(Ie.data,pe[1])})&&o[pe[0]].deps.push(Z.id)})})})}});for(var c=ze.find(E,o[1].location),f=Pr(Mr(c.content)),T,A=0;A<f.length;++A){var u=f[A];u.id==1&&(T=u)}var R=Ni(Rt(T.messages[0].data)[1][0].data);for(c=ze.find(E,o[R].location),f=Pr(Mr(c.content)),A=0;A<f.length;++A)u=f[A],u.id==R&&(T=u);for(R=Ni(Rt(T.messages[0].data)[2][0].data),c=ze.find(E,o[R].location),f=Pr(Mr(c.content)),A=0;A<f.length;++A)u=f[A],u.id==R&&(T=u);for(R=Ni(Rt(T.messages[0].data)[2][0].data),c=ze.find(E,o[R].location),f=Pr(Mr(c.content)),A=0;A<f.length;++A)u=f[A],u.id==R&&(T=u);var d=Rt(T.messages[0].data);{d[6][0].data=Xe(i.e.r+1),d[7][0].data=Xe(i.e.c+1);var O=Ni(d[46][0].data),I=ze.find(E,o[O].location),L=Pr(Mr(I.content));{for(var D=0;D<L.length&&L[D].id!=O;++D);if(L[D].id!=O)throw"Bad ColumnRowUIDMapArchive";var U=Rt(L[D].messages[0].data);U[1]=[],U[2]=[],U[3]=[];for(var _=0;_<=i.e.c;++_){var y=[];y[1]=y[2]=[{type:0,data:Xe(_+420690)}],U[1].push({type:2,data:xt(y)}),U[2].push({type:0,data:Xe(_)}),U[3].push({type:0,data:Xe(_)})}U[4]=[],U[5]=[],U[6]=[];for(var P=0;P<=i.e.r;++P)y=[],y[1]=y[2]=[{type:0,data:Xe(P+726270)}],U[4].push({type:2,data:xt(y)}),U[5].push({type:0,data:Xe(P)}),U[6].push({type:0,data:Xe(P)});L[D].messages[0].data=xt(U)}I.content=Cn(mn(L)),I.size=I.content.length,delete d[46];var Y=Rt(d[4][0].data);{Y[7][0].data=Xe(i.e.r+1);var G=Rt(Y[1][0].data),b=Ni(G[2][0].data);I=ze.find(E,o[b].location),L=Pr(Mr(I.content));{if(L[0].id!=b)throw"Bad HeaderStorageBucket";var Q=Rt(L[0].messages[0].data);for(P=0;P<s.length;++P){var ae=Rt(Q[2][0].data);ae[1][0].data=Xe(P),ae[4][0].data=Xe(s[P].length),Q[2][P]={type:Q[2][0].type,data:xt(ae)}}L[0].messages[0].data=xt(Q)}I.content=Cn(mn(L)),I.size=I.content.length;var oe=Ni(Y[2][0].data);I=ze.find(E,o[oe].location),L=Pr(Mr(I.content));{if(L[0].id!=oe)throw"Bad HeaderStorageBucket";for(Q=Rt(L[0].messages[0].data),_=0;_<=i.e.c;++_)ae=Rt(Q[2][0].data),ae[1][0].data=Xe(_),ae[4][0].data=Xe(i.e.r+1),Q[2][_]={type:Q[2][0].type,data:xt(ae)};L[0].messages[0].data=xt(Q)}I.content=Cn(mn(L)),I.size=I.content.length;var Me=Ni(Y[4][0].data);(function(){for(var w=ze.find(E,o[Me].location),v=Pr(Mr(w.content)),M,Z=0;Z<v.length;++Z){var Oe=v[Z];Oe.id==Me&&(M=Oe)}var pe=Rt(M.messages[0].data);{pe[3]=[];var Ie=[];a.forEach(function(we,Ot){Ie[1]=[{type:0,data:Xe(Ot)}],Ie[2]=[{type:0,data:Xe(1)}],Ie[3]=[{type:2,data:e1(we)}],pe[3].push({type:2,data:xt(Ie)})})}M.messages[0].data=xt(pe);var ce=mn(v),We=Cn(ce);w.content=We,w.size=w.content.length})();var xe=Rt(Y[3][0].data);{var Be=xe[1][0];delete xe[2];var me=Rt(Be.data);{var ge=Ni(me[2][0].data);(function(){for(var w=ze.find(E,o[ge].location),v=Pr(Mr(w.content)),M,Z=0;Z<v.length;++Z){var Oe=v[Z];Oe.id==ge&&(M=Oe)}var pe=Rt(M.messages[0].data);{delete pe[6],delete xe[7];var Ie=new Uint8Array(pe[5][0].data);pe[5]=[];for(var ce=0,We=0;We<=i.e.r;++We){var we=Rt(Ie);ce+=n1(we,s[We],a),we[1][0].data=Xe(We),pe[5].push({data:xt(we),type:2})}pe[1]=[{type:0,data:Xe(i.e.c+1)}],pe[2]=[{type:0,data:Xe(i.e.r+1)}],pe[3]=[{type:0,data:Xe(ce)}],pe[4]=[{type:0,data:Xe(i.e.r+1)}]}M.messages[0].data=xt(pe);var Ot=mn(v),Ge=Cn(Ot);w.content=Ge,w.size=w.content.length})()}Be.data=xt(me)}Y[3][0].data=xt(xe)}d[4][0].data=xt(Y)}T.messages[0].data=xt(d);var De=mn(f),x=Cn(De);return c.content=x,c.size=c.content.length,E}function a1(r){return function(t){for(var i=0;i!=r.length;++i){var n=r[i];t[n[0]]===void 0&&(t[n[0]]=n[1]),n[2]==="n"&&(t[n[0]]=Number(t[n[0]]))}}}function $c(r){a1([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function o1(r,e){return e.bookType=="ods"?qR(r,e):e.bookType=="numbers"?s1(r,e):e.bookType=="xlsb"?l1(r,e):E1(r,e)}function l1(r,e){vn=1024,r&&!r.SSF&&(r.SSF=nr(ot)),r&&r.SSF&&(gl(),_l(r.SSF),e.revssf=Ll(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Fs?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",i=vR.indexOf(e.bookType)>-1,n=aR();$c(e=e||{});var s=Mc(),a="",o=0;if(e.cellXfs=[],Gi(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),a="docProps/core.xml",ye(s,a,hR(r.Props,e)),n.coreprops.push(a),Ke(e.rels,2,a,Ye.CORE_PROPS),a="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var l=[],E=0;E<r.SheetNames.length;++E)(r.Workbook.Sheets[E]||{}).Hidden!=2&&l.push(r.SheetNames[E]);r.Props.SheetNames=l}for(r.Props.Worksheets=r.Props.SheetNames.length,ye(s,a,fR(r.Props)),n.extprops.push(a),Ke(e.rels,3,a,Ye.EXT_PROPS),r.Custprops!==r.Props&&Ft(r.Custprops||{}).length>0&&(a="docProps/custom.xml",ye(s,a,TR(r.Custprops)),n.custprops.push(a),Ke(e.rels,4,a,Ye.CUST_PROPS)),o=1;o<=r.SheetNames.length;++o){var h={"!id":{}},c=r.Sheets[r.SheetNames[o-1]],f=(c||{})["!type"]||"sheet";switch(f){case"chart":default:a="xl/worksheets/sheet"+o+"."+t,ye(s,a,cL(o-1,a,e,r,h)),n.sheets.push(a),Ke(e.wbrels,-1,"worksheets/sheet"+o+"."+t,Ye.WS[0])}if(c){var T=c["!comments"],A=!1,u="";T&&T.length>0&&(u="xl/comments"+o+"."+t,ye(s,u,uL(T,u)),n.comments.push(u),Ke(h,-1,"../comments"+o+"."+t,Ye.CMNT),A=!0),c["!legacy"]&&A&&ye(s,"xl/drawings/vmlDrawing"+o+".vml",PR(o,c["!comments"])),delete c["!comments"],delete c["!legacy"]}h["!id"].rId1&&ye(s,lR(a),bn(h))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+t,ye(s,a,TL(e.Strings,a,e)),n.strs.push(a),Ke(e.wbrels,-1,"sharedStrings."+t,Ye.SST)),a="xl/workbook."+t,ye(s,a,hL(r,a)),n.workbooks.push(a),Ke(e.rels,1,a,Ye.WB),a="xl/theme/theme1.xml",ye(s,a,DR(r.Themes,e)),n.themes.push(a),Ke(e.wbrels,-1,"theme/theme1.xml",Ye.THEME),a="xl/styles."+t,ye(s,a,fL(r,a,e)),n.styles.push(a),Ke(e.wbrels,-1,"styles."+t,Ye.STY),r.vbaraw&&i&&(a="xl/vbaProject.bin",ye(s,a,r.vbaraw),n.vba.push(a),Ke(e.wbrels,-1,"vbaProject.bin",Ye.VBA)),a="xl/metadata."+t,ye(s,a,AL(a)),n.metadata.push(a),Ke(e.wbrels,-1,"metadata."+t,Ye.XLMETA),ye(s,"[Content_Types].xml",oR(n,e)),ye(s,"_rels/.rels",bn(e.rels)),ye(s,"xl/_rels/workbook."+t+".rels",bn(e.wbrels)),delete e.revssf,delete e.ssf,s}function E1(r,e){vn=1024,r&&!r.SSF&&(r.SSF=nr(ot)),r&&r.SSF&&(gl(),_l(r.SSF),e.revssf=Ll(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Fs?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",i=vR.indexOf(e.bookType)>-1,n=aR();$c(e=e||{});var s=Mc(),a="",o=0;if(e.cellXfs=[],Gi(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),a="docProps/core.xml",ye(s,a,hR(r.Props,e)),n.coreprops.push(a),Ke(e.rels,2,a,Ye.CORE_PROPS),a="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var l=[],E=0;E<r.SheetNames.length;++E)(r.Workbook.Sheets[E]||{}).Hidden!=2&&l.push(r.SheetNames[E]);r.Props.SheetNames=l}r.Props.Worksheets=r.Props.SheetNames.length,ye(s,a,fR(r.Props)),n.extprops.push(a),Ke(e.rels,3,a,Ye.EXT_PROPS),r.Custprops!==r.Props&&Ft(r.Custprops||{}).length>0&&(a="docProps/custom.xml",ye(s,a,TR(r.Custprops)),n.custprops.push(a),Ke(e.rels,4,a,Ye.CUST_PROPS));var h=["SheetJ5"];for(e.tcid=0,o=1;o<=r.SheetNames.length;++o){var c={"!id":{}},f=r.Sheets[r.SheetNames[o-1]],T=(f||{})["!type"]||"sheet";switch(T){case"chart":default:a="xl/worksheets/sheet"+o+"."+t,ye(s,a,kR(o-1,e,r,c)),n.sheets.push(a),Ke(e.wbrels,-1,"worksheets/sheet"+o+"."+t,Ye.WS[0])}if(f){var A=f["!comments"],u=!1,R="";if(A&&A.length>0){var d=!1;A.forEach(function(O){O[1].forEach(function(I){I.T==!0&&(d=!0)})}),d&&(R="xl/threadedComments/threadedComment"+o+"."+t,ye(s,R,Hm(A,h,e)),n.threadedcomments.push(R),Ke(c,-1,"../threadedComments/threadedComment"+o+"."+t,Ye.TCMNT)),R="xl/comments"+o+"."+t,ye(s,R,MR(A)),n.comments.push(R),Ke(c,-1,"../comments"+o+"."+t,Ye.CMNT),u=!0}f["!legacy"]&&u&&ye(s,"xl/drawings/vmlDrawing"+o+".vml",PR(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}c["!id"].rId1&&ye(s,lR(a),bn(c))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+t,ye(s,a,pR(e.Strings,e)),n.strs.push(a),Ke(e.wbrels,-1,"sharedStrings."+t,Ye.SST)),a="xl/workbook."+t,ye(s,a,WR(r)),n.workbooks.push(a),Ke(e.rels,1,a,Ye.WB),a="xl/theme/theme1.xml",ye(s,a,DR(r.Themes,e)),n.themes.push(a),Ke(e.wbrels,-1,"theme/theme1.xml",Ye.THEME),a="xl/styles."+t,ye(s,a,gR(r,e)),n.styles.push(a),Ke(e.wbrels,-1,"styles."+t,Ye.STY),r.vbaraw&&i&&(a="xl/vbaProject.bin",ye(s,a,r.vbaraw),n.vba.push(a),Ke(e.wbrels,-1,"vbaProject.bin",Ye.VBA)),a="xl/metadata."+t,ye(s,a,xR()),n.metadata.push(a),Ke(e.wbrels,-1,"metadata."+t,Ye.XLMETA),h.length>1&&(a="xl/persons/person.xml",ye(s,a,km(h)),n.people.push(a),Ke(e.wbrels,-1,"persons/person.xml",Ye.PEOPLE)),ye(s,"[Content_Types].xml",oR(n,e)),ye(s,"_rels/.rels",bn(e.rels)),ye(s,"xl/_rels/workbook."+t+".rels",bn(e.wbrels)),delete e.revssf,delete e.ssf,s}function h1(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=Ti(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function QR(r,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Ra(e.file,ze.write(r,{type:Ve?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return ze.write(r,e)}function c1(r,e){var t=nr(e||{}),i=o1(r,t);return f1(i,t)}function f1(r,e){var t={},i=Ve?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=i;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=i;break;default:throw new Error("Unrecognized type "+e.type)}var n=r.FullPaths?ze.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):r.generate(t);if(typeof Deno<"u"&&typeof n=="string"){if(e.type=="binary"||e.type=="base64")return n;n=new Uint8Array(Cl(n))}return e.password&&typeof encrypt_agile<"u"?QR(encrypt_agile(n,e.password),e):e.type==="file"?Ra(e.file,n):e.type=="string"?vs(n):n}function T1(r,e){var t=e||{},i=xL(r,t);return QR(i,t)}function Xr(r,e,t){t||(t="");var i=t+r;switch(e.type){case"base64":return Ks(Js(i));case"binary":return Js(i);case"string":return r;case"file":return Ra(e.file,i,"utf8");case"buffer":return Ve?di(i,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(i):Xr(i,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function u1(r,e){switch(e.type){case"base64":return Ks(r);case"binary":return r;case"string":return r;case"file":return Ra(e.file,r,"binary");case"buffer":return Ve?di(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Xa(r,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",i=0;i<r.length;++i)t+=String.fromCharCode(r[i]);return e.type=="base64"?Ks(t):e.type=="string"?vs(t):t;case"file":return Ra(e.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+e.type)}}function jR(r,e){YI(),Zg(r);var t=nr(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var i=jR(r,t);return t.type="array",Cl(i)}var n=0;if(t.sheet&&(typeof t.sheet=="number"?n=t.sheet:n=r.SheetNames.indexOf(t.sheet),!r.SheetNames[n]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Xr(LL(r,t),t);case"slk":case"sylk":return Xr(qp.from_sheet(r.Sheets[r.SheetNames[n]],t),t);case"htm":case"html":return Xr($R(r.Sheets[r.SheetNames[n]],t),t);case"txt":return u1(ZR(r.Sheets[r.SheetNames[n]],t),t);case"csv":return Xr(Jc(r.Sheets[r.SheetNames[n]],t),t,"\uFEFF");case"dif":return Xr(Qp.from_sheet(r.Sheets[r.SheetNames[n]],t),t);case"dbf":return Xa(zp.from_sheet(r.Sheets[r.SheetNames[n]],t),t);case"prn":return Xr(jp.from_sheet(r.Sheets[r.SheetNames[n]],t),t);case"rtf":return Xr(sm.from_sheet(r.Sheets[r.SheetNames[n]],t),t);case"eth":return Xr(NR.from_sheet(r.Sheets[r.SheetNames[n]],t),t);case"fods":return Xr(qR(r,t),t);case"wk1":return Xa(TT.sheet_to_wk1(r.Sheets[r.SheetNames[n]],t),t);case"wk3":return Xa(TT.book_to_wk3(r,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),Xa(KR(r,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),T1(r,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return c1(r,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function A1(r,e,t,i,n,s,a,o){var l=wt(t),E=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),c=!0,f=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:t,enumerable:!1})}catch{f.__rowNum__=t}else f.__rowNum__=t;if(!a||r[t])for(var T=e.s.c;T<=e.e.c;++T){var A=a?r[t][T]:r[i[T]+l];if(A===void 0||A.t===void 0){if(E===void 0)continue;s[T]!=null&&(f[s[T]]=E);continue}var u=A.v;switch(A.t){case"z":if(u==null)break;continue;case"e":u=u==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+A.t)}if(s[T]!=null){if(u==null)if(A.t=="e"&&u===null)f[s[T]]=null;else if(E!==void 0)f[s[T]]=E;else if(h&&u===null)f[s[T]]=null;else continue;else f[s[T]]=h&&(A.t!=="n"||A.t==="n"&&o.rawNumbers!==!1)?u:ui(A,u,o);u!=null&&(c=!1)}}return{row:f,isempty:c}}function Jo(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},i=0,n=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},E=e||{},h=E.range!=null?E.range:r["!ref"];switch(E.header===1?i=1:E.header==="A"?i=2:Array.isArray(E.header)?i=3:E.header==null&&(i=0),typeof h){case"string":l=rt(h);break;case"number":l=rt(r["!ref"]),l.s.r=h;break;default:l=h}i>0&&(n=0);var c=wt(l.s.r),f=[],T=[],A=0,u=0,R=Array.isArray(r),d=l.s.r,O=0,I={};R&&!r[d]&&(r[d]=[]);var L=E.skipHidden&&r["!cols"]||[],D=E.skipHidden&&r["!rows"]||[];for(O=l.s.c;O<=l.e.c;++O)if(!(L[O]||{}).hidden)switch(f[O]=kt(O),t=R?r[d][O]:r[f[O]+c],i){case 1:s[O]=O-l.s.c;break;case 2:s[O]=f[O];break;case 3:s[O]=E.header[O-l.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=a=ui(t,null,E),u=I[a]||0,!u)I[a]=1;else{do o=a+"_"+u++;while(I[o]);I[a]=u,I[o]=1}s[O]=o}for(d=l.s.r+n;d<=l.e.r;++d)if(!(D[d]||{}).hidden){var U=A1(r,l,d,f,i,s,R,E);(U.isempty===!1||(i===1?E.blankrows!==!1:E.blankrows))&&(T[A++]=U.row)}return T.length=A,T}var NT=/"/g;function R1(r,e,t,i,n,s,a,o){for(var l=!0,E=[],h="",c=wt(t),f=e.s.c;f<=e.e.c;++f)if(i[f]){var T=o.dense?(r[t]||[])[f]:r[i[f]+c];if(T==null)h="";else if(T.v!=null){l=!1,h=""+(o.rawNumbers&&T.t=="n"?T.v:ui(T,null,o));for(var A=0,u=0;A!==h.length;++A)if((u=h.charCodeAt(A))===n||u===s||u===34||o.forceQuotes){h='"'+h.replace(NT,'""')+'"';break}h=="ID"&&(h='"ID"')}else T.f!=null&&!T.F?(l=!1,h="="+T.f,h.indexOf(",")>=0&&(h='"'+h.replace(NT,'""')+'"')):h="";E.push(h)}return o.blankrows===!1&&l?null:E.join(a)}function Jc(r,e){var t=[],i=e??{};if(r==null||r["!ref"]==null)return"";var n=rt(r["!ref"]),s=i.FS!==void 0?i.FS:",",a=s.charCodeAt(0),o=i.RS!==void 0?i.RS:`
`,l=o.charCodeAt(0),E=new RegExp((s=="|"?"\\|":s)+"+$"),h="",c=[];i.dense=Array.isArray(r);for(var f=i.skipHidden&&r["!cols"]||[],T=i.skipHidden&&r["!rows"]||[],A=n.s.c;A<=n.e.c;++A)(f[A]||{}).hidden||(c[A]=kt(A));for(var u=0,R=n.s.r;R<=n.e.r;++R)(T[R]||{}).hidden||(h=R1(r,n,R,c,a,l,s,i),h!=null&&(i.strip&&(h=h.replace(E,"")),(h||i.blankrows!==!1)&&t.push((u++?o:"")+h)));return delete i.dense,t.join("")}function ZR(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=Jc(r,e);return t}function S1(r){var e="",t,i="";if(r==null||r["!ref"]==null)return[];var n=rt(r["!ref"]),s="",a=[],o,l=[],E=Array.isArray(r);for(o=n.s.c;o<=n.e.c;++o)a[o]=kt(o);for(var h=n.s.r;h<=n.e.r;++h)for(s=wt(h),o=n.s.c;o<=n.e.c;++o)if(e=a[o]+s,t=E?(r[h]||[])[o]:r[e],i="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;i=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)i=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)i=""+t.v;else if(t.t=="b")i=t.v?"TRUE":"FALSE";else if(t.w!==void 0)i="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?i="'"+t.v:i=""+t.v}}l[l.length]=e+"="+i}return l}function eS(r,e,t){var i=t||{},n=+!i.skipHeader,s=r||{},a=0,o=0;if(s&&i.origin!=null)if(typeof i.origin=="number")a=i.origin;else{var l=typeof i.origin=="string"?_t(i.origin):i.origin;a=l.r,o=l.c}var E,h={s:{c:0,r:0},e:{c:o,r:a+e.length-1+n}};if(s["!ref"]){var c=rt(s["!ref"]);h.e.c=Math.max(h.e.c,c.e.c),h.e.r=Math.max(h.e.r,c.e.r),a==-1&&(a=c.e.r+1,h.e.r=a+e.length-1+n)}else a==-1&&(a=0,h.e.r=e.length-1+n);var f=i.header||[],T=0;e.forEach(function(u,R){Ft(u).forEach(function(d){(T=f.indexOf(d))==-1&&(f[T=f.length]=d);var O=u[d],I="z",L="",D=Je({c:o+T,r:a+R+n});E=Qs(s,D),O&&typeof O=="object"&&!(O instanceof Date)?s[D]=O:(typeof O=="number"?I="n":typeof O=="boolean"?I="b":typeof O=="string"?I="s":O instanceof Date?(I="d",i.cellDates||(I="n",O=ir(O)),L=i.dateNF||ot[14]):O===null&&i.nullError&&(I="e",O=0),E?(E.t=I,E.v=O,delete E.w,delete E.R,L&&(E.z=L)):s[D]=E={t:I,v:O},L&&(E.z=L))})}),h.e.c=Math.max(h.e.c,o+f.length-1);var A=wt(a);if(n)for(T=0;T<f.length;++T)s[kt(T+o)+A]={t:"s",v:f[T]};return s["!ref"]=Tt(h),s}function d1(r,e){return eS(null,r,e)}function Qs(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var i=_t(e);return r[i.r]||(r[i.r]=[]),r[i.r][i.c]||(r[i.r][i.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?Qs(r,Je(e)):Qs(r,Je({r:e,c:t||0}))}function O1(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function I1(){return{SheetNames:[],Sheets:{}}}function N1(r,e,t,i){var n=1;if(!t)for(;n<=65535&&r.SheetNames.indexOf(t="Sheet"+n)!=-1;++n,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(i&&r.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);n=s&&+s[2]||0;var a=s&&s[1]||t;for(++n;n<=65535&&r.SheetNames.indexOf(t=a+n)!=-1;++n);}if(VR(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function p1(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var i=O1(r,e);switch(r.Workbook.Sheets[i]||(r.Workbook.Sheets[i]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[i].Hidden=t}function m1(r,e){return r.z=e,r}function tS(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function C1(r,e,t){return tS(r,"#"+e,t)}function _1(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function g1(r,e,t,i){for(var n=typeof e!="string"?e:rt(e),s=typeof e=="string"?e:Tt(e),a=n.s.r;a<=n.e.r;++a)for(var o=n.s.c;o<=n.e.c;++o){var l=Qs(r,a,o);l.t="n",l.F=s,delete l.v,a==n.s.r&&o==n.s.c&&(l.f=t,i&&(l.D=!0))}return r}var Is={encode_col:kt,encode_row:wt,encode_cell:Je,encode_range:Tt,decode_col:Bc,decode_row:Fc,split_cell:YN,decode_cell:_t,decode_range:ur,format_cell:ui,sheet_add_aoa:eR,sheet_add_json:eS,sheet_add_dom:JR,aoa_to_sheet:ns,json_to_sheet:d1,table_to_sheet:zR,table_to_book:QL,sheet_to_csv:Jc,sheet_to_txt:ZR,sheet_to_json:Jo,sheet_to_html:$R,sheet_to_formulae:S1,sheet_to_row_object_array:Jo,sheet_get_cell:Qs,book_new:I1,book_append_sheet:N1,book_set_sheet_visibility:p1,cell_set_number_format:m1,cell_set_hyperlink:tS,cell_set_internal_link:C1,cell_add_comment:_1,sheet_set_array_formula:g1,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const L1=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],D1=Tn("database",L1);const x1=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],P1=Tn("folder-open",x1);const M1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],v1=Tn("panel-right-close",M1);const U1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],y1=Tn("panel-right-open",U1);const w1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],F1=Tn("play",w1);const B1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],b1=Tn("square",B1);const G1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],H1=Tn("zap",G1),k=r=>r.flatMap(k1),k1=r=>Oo(V1(r)).map(Y1),Y1=r=>r.replace(/ +/g," ").trim(),V1=r=>({type:"mandatory_block",items:zc(r,0)[0]}),zc=(r,e,t)=>{const i=[];for(;r[e];){const[n,s]=W1(r,e);if(i.push(n),e=s,r[e]==="|")e++;else if(r[e]==="}"||r[e]==="]"){if(t!==r[e])throw new Error(`Unbalanced parenthesis in: ${r}`);return e++,[i,e]}else if(e===r.length){if(t)throw new Error(`Unbalanced parenthesis in: ${r}`);return[i,e]}else throw new Error(`Unexpected "${r[e]}"`)}return[i,e]},W1=(r,e)=>{const t=[];for(;;){const[i,n]=X1(r,e);if(i)t.push(i),e=n;else break}return t.length===1?[t[0],e]:[{type:"concatenation",items:t},e]},X1=(r,e)=>{if(r[e]==="{")return K1(r,e+1);if(r[e]==="[")return $1(r,e+1);{let t="";for(;r[e]&&/[A-Za-z0-9_ ]/.test(r[e]);)t+=r[e],e++;return[t,e]}},K1=(r,e)=>{const[t,i]=zc(r,e,"}");return[{type:"mandatory_block",items:t},i]},$1=(r,e)=>{const[t,i]=zc(r,e,"]");return[{type:"optional_block",items:t},i]},Oo=r=>{if(typeof r=="string")return[r];if(r.type==="concatenation")return r.items.map(Oo).reduce(J1,[""]);if(r.type==="mandatory_block")return r.items.flatMap(Oo);if(r.type==="optional_block")return["",...r.items.flatMap(Oo)];throw new Error(`Unknown node type: ${r}`)},J1=(r,e)=>{const t=[];for(const i of r)for(const n of e)t.push(i+n);return t};var ee;(function(r){r.QUOTED_IDENTIFIER="QUOTED_IDENTIFIER",r.IDENTIFIER="IDENTIFIER",r.STRING="STRING",r.VARIABLE="VARIABLE",r.RESERVED_DATA_TYPE="RESERVED_DATA_TYPE",r.RESERVED_PARAMETERIZED_DATA_TYPE="RESERVED_PARAMETERIZED_DATA_TYPE",r.RESERVED_KEYWORD="RESERVED_KEYWORD",r.RESERVED_FUNCTION_NAME="RESERVED_FUNCTION_NAME",r.RESERVED_KEYWORD_PHRASE="RESERVED_KEYWORD_PHRASE",r.RESERVED_DATA_TYPE_PHRASE="RESERVED_DATA_TYPE_PHRASE",r.RESERVED_SET_OPERATION="RESERVED_SET_OPERATION",r.RESERVED_CLAUSE="RESERVED_CLAUSE",r.RESERVED_SELECT="RESERVED_SELECT",r.RESERVED_JOIN="RESERVED_JOIN",r.ARRAY_IDENTIFIER="ARRAY_IDENTIFIER",r.ARRAY_KEYWORD="ARRAY_KEYWORD",r.CASE="CASE",r.END="END",r.WHEN="WHEN",r.ELSE="ELSE",r.THEN="THEN",r.LIMIT="LIMIT",r.BETWEEN="BETWEEN",r.AND="AND",r.OR="OR",r.XOR="XOR",r.OPERATOR="OPERATOR",r.COMMA="COMMA",r.ASTERISK="ASTERISK",r.PROPERTY_ACCESS_OPERATOR="PROPERTY_ACCESS_OPERATOR",r.OPEN_PAREN="OPEN_PAREN",r.CLOSE_PAREN="CLOSE_PAREN",r.LINE_COMMENT="LINE_COMMENT",r.BLOCK_COMMENT="BLOCK_COMMENT",r.DISABLE_COMMENT="DISABLE_COMMENT",r.NUMBER="NUMBER",r.NAMED_PARAMETER="NAMED_PARAMETER",r.QUOTED_PARAMETER="QUOTED_PARAMETER",r.NUMBERED_PARAMETER="NUMBERED_PARAMETER",r.POSITIONAL_PARAMETER="POSITIONAL_PARAMETER",r.CUSTOM_PARAMETER="CUSTOM_PARAMETER",r.DELIMITER="DELIMITER",r.EOF="EOF"})(ee=ee||(ee={}));const rS=r=>({type:ee.EOF,raw:"«EOF»",text:"«EOF»",start:r}),Jn=rS(1/0),_n=r=>e=>e.type===r.type&&e.text===r.text,on={ARRAY:_n({text:"ARRAY",type:ee.RESERVED_DATA_TYPE}),BY:_n({text:"BY",type:ee.RESERVED_KEYWORD}),SET:_n({text:"SET",type:ee.RESERVED_CLAUSE}),STRUCT:_n({text:"STRUCT",type:ee.RESERVED_DATA_TYPE}),WINDOW:_n({text:"WINDOW",type:ee.RESERVED_CLAUSE}),VALUES:_n({text:"VALUES",type:ee.RESERVED_CLAUSE})},iS=r=>r===ee.RESERVED_DATA_TYPE||r===ee.RESERVED_KEYWORD||r===ee.RESERVED_FUNCTION_NAME||r===ee.RESERVED_KEYWORD_PHRASE||r===ee.RESERVED_DATA_TYPE_PHRASE||r===ee.RESERVED_CLAUSE||r===ee.RESERVED_SELECT||r===ee.RESERVED_SET_OPERATION||r===ee.RESERVED_JOIN||r===ee.ARRAY_KEYWORD||r===ee.CASE||r===ee.END||r===ee.WHEN||r===ee.ELSE||r===ee.THEN||r===ee.LIMIT||r===ee.BETWEEN||r===ee.AND||r===ee.OR||r===ee.XOR,z1=r=>r===ee.AND||r===ee.OR||r===ee.XOR,q1=["KEYS.NEW_KEYSET","KEYS.ADD_KEY_FROM_RAW_BYTES","AEAD.DECRYPT_BYTES","AEAD.DECRYPT_STRING","AEAD.ENCRYPT","KEYS.KEYSET_CHAIN","KEYS.KEYSET_FROM_JSON","KEYS.KEYSET_TO_JSON","KEYS.ROTATE_KEYSET","KEYS.KEYSET_LENGTH","ANY_VALUE","ARRAY_AGG","AVG","CORR","COUNT","COUNTIF","COVAR_POP","COVAR_SAMP","MAX","MIN","ST_CLUSTERDBSCAN","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","VAR_POP","VAR_SAMP","ANY_VALUE","ARRAY_AGG","ARRAY_CONCAT_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","COUNT","COUNTIF","LOGICAL_AND","LOGICAL_OR","MAX","MIN","STRING_AGG","SUM","APPROX_COUNT_DISTINCT","APPROX_QUANTILES","APPROX_TOP_COUNT","APPROX_TOP_SUM","ARRAY_CONCAT","ARRAY_LENGTH","ARRAY_TO_STRING","GENERATE_ARRAY","GENERATE_DATE_ARRAY","GENERATE_TIMESTAMP_ARRAY","ARRAY_REVERSE","OFFSET","SAFE_OFFSET","ORDINAL","SAFE_ORDINAL","BIT_COUNT","PARSE_BIGNUMERIC","PARSE_NUMERIC","SAFE_CAST","CURRENT_DATE","EXTRACT","DATE","DATE_ADD","DATE_SUB","DATE_DIFF","DATE_TRUNC","DATE_FROM_UNIX_DATE","FORMAT_DATE","LAST_DAY","PARSE_DATE","UNIX_DATE","CURRENT_DATETIME","DATETIME","EXTRACT","DATETIME_ADD","DATETIME_SUB","DATETIME_DIFF","DATETIME_TRUNC","FORMAT_DATETIME","LAST_DAY","PARSE_DATETIME","ERROR","EXTERNAL_QUERY","S2_CELLIDFROMPOINT","S2_COVERINGCELLIDS","ST_ANGLE","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_AZIMUTH","ST_BOUNDARY","ST_BOUNDINGBOX","ST_BUFFER","ST_BUFFERWITHTOLERANCE","ST_CENTROID","ST_CENTROID_AGG","ST_CLOSESTPOINT","ST_CLUSTERDBSCAN","ST_CONTAINS","ST_CONVEXHULL","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DUMP","ST_DWITHIN","ST_ENDPOINT","ST_EQUALS","ST_EXTENT","ST_EXTERIORRING","ST_GEOGFROM","ST_GEOGFROMGEOJSON","ST_GEOGFROMTEXT","ST_GEOGFROMWKB","ST_GEOGPOINT","ST_GEOGPOINTFROMGEOHASH","ST_GEOHASH","ST_GEOMETRYTYPE","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_INTERSECTSBOX","ST_ISCOLLECTION","ST_ISEMPTY","ST_LENGTH","ST_MAKELINE","ST_MAKEPOLYGON","ST_MAKEPOLYGONORIENTED","ST_MAXDISTANCE","ST_NPOINTS","ST_NUMGEOMETRIES","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SIMPLIFY","ST_SNAPTOGRID","ST_STARTPOINT","ST_TOUCHES","ST_UNION","ST_UNION_AGG","ST_WITHIN","ST_X","ST_Y","FARM_FINGERPRINT","MD5","SHA1","SHA256","SHA512","HLL_COUNT.INIT","HLL_COUNT.MERGE","HLL_COUNT.MERGE_PARTIAL","HLL_COUNT.EXTRACT","MAKE_INTERVAL","EXTRACT","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","JSON_EXTRACT","JSON_QUERY","JSON_EXTRACT_SCALAR","JSON_VALUE","JSON_EXTRACT_ARRAY","JSON_QUERY_ARRAY","JSON_EXTRACT_STRING_ARRAY","JSON_VALUE_ARRAY","TO_JSON_STRING","ABS","SIGN","IS_INF","IS_NAN","IEEE_DIVIDE","RAND","SQRT","POW","POWER","EXP","LN","LOG","LOG10","GREATEST","LEAST","DIV","SAFE_DIVIDE","SAFE_MULTIPLY","SAFE_NEGATE","SAFE_ADD","SAFE_SUBTRACT","MOD","ROUND","TRUNC","CEIL","CEILING","FLOOR","COS","COSH","ACOS","ACOSH","SIN","SINH","ASIN","ASINH","TAN","TANH","ATAN","ATANH","ATAN2","RANGE_BUCKET","FIRST_VALUE","LAST_VALUE","NTH_VALUE","LEAD","LAG","PERCENTILE_CONT","PERCENTILE_DISC","NET.IP_FROM_STRING","NET.SAFE_IP_FROM_STRING","NET.IP_TO_STRING","NET.IP_NET_MASK","NET.IP_TRUNC","NET.IPV4_FROM_INT64","NET.IPV4_TO_INT64","NET.HOST","NET.PUBLIC_SUFFIX","NET.REG_DOMAIN","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","NTILE","ROW_NUMBER","SESSION_USER","CORR","COVAR_POP","COVAR_SAMP","STDDEV_POP","STDDEV_SAMP","STDDEV","VAR_POP","VAR_SAMP","VARIANCE","ASCII","BYTE_LENGTH","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CODE_POINTS_TO_BYTES","CODE_POINTS_TO_STRING","CONCAT","CONTAINS_SUBSTR","ENDS_WITH","FORMAT","FROM_BASE32","FROM_BASE64","FROM_HEX","INITCAP","INSTR","LEFT","LENGTH","LPAD","LOWER","LTRIM","NORMALIZE","NORMALIZE_AND_CASEFOLD","OCTET_LENGTH","REGEXP_CONTAINS","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","REPEAT","REVERSE","RIGHT","RPAD","RTRIM","SAFE_CONVERT_BYTES_TO_STRING","SOUNDEX","SPLIT","STARTS_WITH","STRPOS","SUBSTR","SUBSTRING","TO_BASE32","TO_BASE64","TO_CODE_POINTS","TO_HEX","TRANSLATE","TRIM","UNICODE","UPPER","CURRENT_TIME","TIME","EXTRACT","TIME_ADD","TIME_SUB","TIME_DIFF","TIME_TRUNC","FORMAT_TIME","PARSE_TIME","CURRENT_TIMESTAMP","EXTRACT","STRING","TIMESTAMP","TIMESTAMP_ADD","TIMESTAMP_SUB","TIMESTAMP_DIFF","TIMESTAMP_TRUNC","FORMAT_TIMESTAMP","PARSE_TIMESTAMP","TIMESTAMP_SECONDS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UNIX_SECONDS","UNIX_MILLIS","UNIX_MICROS","GENERATE_UUID","COALESCE","IF","IFNULL","NULLIF","AVG","BIT_AND","BIT_OR","BIT_XOR","CORR","COUNT","COVAR_POP","COVAR_SAMP","EXACT_COUNT_DISTINCT","FIRST","GROUP_CONCAT","GROUP_CONCAT_UNQUOTED","LAST","MAX","MIN","NEST","NTH","QUANTILES","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","TOP","UNIQUE","VARIANCE","VAR_POP","VAR_SAMP","BIT_COUNT","BOOLEAN","BYTES","CAST","FLOAT","HEX_STRING","INTEGER","STRING","COALESCE","GREATEST","IFNULL","IS_INF","IS_NAN","IS_EXPLICITLY_DEFINED","LEAST","NVL","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE","DATE_ADD","DATEDIFF","DAY","DAYOFWEEK","DAYOFYEAR","FORMAT_UTC_USEC","HOUR","MINUTE","MONTH","MSEC_TO_TIMESTAMP","NOW","PARSE_UTC_USEC","QUARTER","SEC_TO_TIMESTAMP","SECOND","STRFTIME_UTC_USEC","TIME","TIMESTAMP","TIMESTAMP_TO_MSEC","TIMESTAMP_TO_SEC","TIMESTAMP_TO_USEC","USEC_TO_TIMESTAMP","UTC_USEC_TO_DAY","UTC_USEC_TO_HOUR","UTC_USEC_TO_MONTH","UTC_USEC_TO_WEEK","UTC_USEC_TO_YEAR","WEEK","YEAR","FORMAT_IP","PARSE_IP","FORMAT_PACKED_IP","PARSE_PACKED_IP","JSON_EXTRACT","JSON_EXTRACT_SCALAR","ABS","ACOS","ACOSH","ASIN","ASINH","ATAN","ATANH","ATAN2","CEIL","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG2","LOG10","PI","POW","RADIANS","RAND","ROUND","SIN","SINH","SQRT","TAN","TANH","REGEXP_MATCH","REGEXP_EXTRACT","REGEXP_REPLACE","CONCAT","INSTR","LEFT","LENGTH","LOWER","LPAD","LTRIM","REPLACE","RIGHT","RPAD","RTRIM","SPLIT","SUBSTR","UPPER","TABLE_DATE_RANGE","TABLE_DATE_RANGE_STRICT","TABLE_QUERY","HOST","DOMAIN","TLD","AVG","COUNT","MAX","MIN","STDDEV","SUM","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","CURRENT_USER","EVERY","FROM_BASE64","HASH","FARM_FINGERPRINT","IF","POSITION","SHA1","SOME","TO_BASE64","BQ.JOBS.CANCEL","BQ.REFRESH_MATERIALIZED_VIEW","OPTIONS","PIVOT","UNPIVOT"],Q1=["ALL","AND","ANY","AS","ASC","ASSERT_ROWS_MODIFIED","AT","BETWEEN","BY","CASE","CAST","COLLATE","CONTAINS","CREATE","CROSS","CUBE","CURRENT","DEFAULT","DEFINE","DESC","DISTINCT","ELSE","END","ENUM","ESCAPE","EXCEPT","EXCLUDE","EXISTS","EXTRACT","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","GROUP","GROUPING","GROUPS","HASH","HAVING","IF","IGNORE","IN","INNER","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LIMIT","LOOKUP","MERGE","NATURAL","NEW","NO","NOT","NULL","NULLS","OF","ON","OR","ORDER","OUTER","OVER","PARTITION","PRECEDING","PROTO","RANGE","RECURSIVE","RESPECT","RIGHT","ROLLUP","ROWS","SELECT","SET","SOME","TABLE","TABLESAMPLE","THEN","TO","TREAT","TRUE","UNBOUNDED","UNION","UNNEST","USING","WHEN","WHERE","WINDOW","WITH","WITHIN","SAFE","LIKE","COPY","CLONE","IN","OUT","INOUT","RETURNS","LANGUAGE","CASCADE","RESTRICT","DETERMINISTIC"],j1=["ARRAY","BOOL","BYTES","DATE","DATETIME","GEOGRAPHY","INTERVAL","INT64","INT","SMALLINT","INTEGER","BIGINT","TINYINT","BYTEINT","NUMERIC","DECIMAL","BIGNUMERIC","BIGDECIMAL","FLOAT64","STRING","STRUCT","TIME","TIMEZONE"],Z1=k(["SELECT [ALL | DISTINCT] [AS STRUCT | AS VALUE]"]),eD=k(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","OMIT RECORD IF","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY SOURCE | BY TARGET] [THEN]","UPDATE SET","CLUSTER BY","FOR SYSTEM_TIME AS OF","WITH CONNECTION","WITH PARTITION COLUMNS","REMOTE WITH CONNECTION"]),pT=k(["CREATE [OR REPLACE] [TEMP|TEMPORARY|SNAPSHOT|EXTERNAL] TABLE [IF NOT EXISTS]"]),AE=k(["CREATE [OR REPLACE] [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE [FROM]","DROP [SNAPSHOT | EXTERNAL] TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME TO","ALTER COLUMN [IF EXISTS]","SET DEFAULT COLLATE","SET OPTIONS","DROP NOT NULL","SET DATA TYPE","ALTER SCHEMA [IF EXISTS]","ALTER [MATERIALIZED] VIEW [IF EXISTS]","ALTER BI_CAPACITY","TRUNCATE TABLE","CREATE SCHEMA [IF NOT EXISTS]","DEFAULT COLLATE","CREATE [OR REPLACE] [TEMP|TEMPORARY|TABLE] FUNCTION [IF NOT EXISTS]","CREATE [OR REPLACE] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] ROW ACCESS POLICY [IF NOT EXISTS]","GRANT TO","FILTER USING","CREATE CAPACITY","AS JSON","CREATE RESERVATION","CREATE ASSIGNMENT","CREATE SEARCH INDEX [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","DROP [MATERIALIZED] VIEW [IF EXISTS]","DROP [TABLE] FUNCTION [IF EXISTS]","DROP PROCEDURE [IF EXISTS]","DROP ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","DROP CAPACITY [IF EXISTS]","DROP RESERVATION [IF EXISTS]","DROP ASSIGNMENT [IF EXISTS]","DROP SEARCH INDEX [IF EXISTS]","DROP [IF EXISTS]","GRANT","REVOKE","DECLARE","EXECUTE IMMEDIATE","LOOP","END LOOP","REPEAT","END REPEAT","WHILE","END WHILE","BREAK","LEAVE","CONTINUE","ITERATE","FOR","END FOR","BEGIN","BEGIN TRANSACTION","COMMIT TRANSACTION","ROLLBACK TRANSACTION","RAISE","RETURN","CALL","ASSERT","EXPORT DATA"]),tD=k(["UNION {ALL | DISTINCT}","EXCEPT DISTINCT","INTERSECT DISTINCT"]),rD=k(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),iD=k(["TABLESAMPLE SYSTEM","ANY TYPE","ALL COLUMNS","NOT DETERMINISTIC","{ROWS | RANGE} BETWEEN","IS [NOT] DISTINCT FROM"]),nD=k([]),sD={name:"bigquery",tokenizerOptions:{reservedSelect:Z1,reservedClauses:[...eD,...AE,...pT],reservedSetOperations:tD,reservedJoins:rD,reservedKeywordPhrases:iD,reservedDataTypePhrases:nD,reservedKeywords:Q1,reservedDataTypes:j1,reservedFunctionNames:q1,extraParens:["[]"],stringTypes:[{quote:'""".."""',prefixes:["R","B","RB","BR"]},{quote:"'''..'''",prefixes:["R","B","RB","BR"]},'""-bs',"''-bs",{quote:'""-raw',prefixes:["R","B","RB","BR"],requirePrefix:!0},{quote:"''-raw",prefixes:["R","B","RB","BR"],requirePrefix:!0}],identTypes:["``"],identChars:{dashes:!0},paramTypes:{positional:!0,named:["@"],quoted:["@"]},variableTypes:[{regex:String.raw`@@\w+`}],lineCommentTypes:["--","#"],operators:["&","|","^","~",">>","<<","||","=>"],postProcess:aD},formatOptions:{onelineClauses:[...pT,...AE],tabularOnelineClauses:AE}};function aD(r){return oD(lD(r))}function oD(r){let e=Jn;return r.map(t=>t.text==="OFFSET"&&e.text==="["?(e=t,Object.assign(Object.assign({},t),{type:ee.RESERVED_FUNCTION_NAME})):(e=t,t))}function lD(r){var e;const t=[];for(let i=0;i<r.length;i++){const n=r[i];if((on.ARRAY(n)||on.STRUCT(n))&&((e=r[i+1])===null||e===void 0?void 0:e.text)==="<"){const s=ED(r,i+1),a=r.slice(i,s+1);t.push({type:ee.IDENTIFIER,raw:a.map(mT("raw")).join(""),text:a.map(mT("text")).join(""),start:n.start}),i=s}else t.push(n)}return t}const mT=r=>e=>e.type===ee.IDENTIFIER||e.type===ee.COMMA?e[r]+" ":e[r];function ED(r,e){let t=0;for(let i=e;i<r.length;i++){const n=r[i];if(n.text==="<"?t++:n.text===">"?t--:n.text===">>"&&(t-=2),t===0)return i}return r.length-1}const hD=["ARRAY_AGG","AVG","CORRELATION","COUNT","COUNT_BIG","COVARIANCE","COVARIANCE_SAMP","CUME_DIST","GROUPING","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_ICPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_SAMP","SUM","VARIANCE","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","AGE","ARRAY_DELETE","ARRAY_FIRST","ARRAY_LAST","ARRAY_NEXT","ARRAY_PRIOR","ASCII","ASCII_STR","ASIN","ATAN","ATAN2","ATANH","BITAND","BITANDNOT","BITOR","BITXOR","BITNOT","BPCHAR","BSON_TO_JSON","BTRIM","CARDINALITY","CEILING","CEIL","CHARACTER_LENGTH","CHR","COALESCE","COLLATION_KEY","COLLATION_KEY_BIT","COMPARE_DECFLOAT","CONCAT","COS","COSH","COT","CURSOR_ROWCOUNT","DATAPARTITIONNUM","DATE_PART","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFWEEK_ISO","DAYOFYEAR","DAYS","DAYS_BETWEEN","DAYS_TO_END_OF_MONTH","DBPARTITIONNUM","DECFLOAT","DECFLOAT_FORMAT","DECODE","DECRYPT_BIN","DECRYPT_CHAR","DEGREES","DEREF","DIFFERENCE","DIGITS","DOUBLE_PRECISION","EMPTY_BLOB","EMPTY_CLOB","EMPTY_DBCLOB","EMPTY_NCLOB","ENCRYPT","EVENT_MON_STATE","EXP","EXTRACT","FIRST_DAY","FLOOR","FROM_UTC_TIMESTAMP","GENERATE_UNIQUE","GETHINT","GREATEST","HASH","HASH4","HASH8","HASHEDVALUE","HEX","HEXTORAW","HOUR","HOURS_BETWEEN","IDENTITY_VAL_LOCAL","IFNULL","INITCAP","INSERT","INSTR","INSTR2","INSTR4","INSTRB","INTNAND","INTNOR","INTNXOR","INTNNOT","ISNULL","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_VALUE","JULIAN_DAY","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LENGTH2","LENGTH4","LENGTHB","LN","LOCATE","LOCATE_IN_STRING","LOG10","LONG_VARCHAR","LONG_VARGRAPHIC","LOWER","LPAD","LTRIM","MAX","MAX_CARDINALITY","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MINUTES_BETWEEN","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MULTIPLY_ALT","NEXT_DAY","NEXT_MONTH","NEXT_QUARTER","NEXT_WEEK","NEXT_YEAR","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARAMETER","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","QUOTE_IDENT","QUOTE_LITERAL","RADIANS","RAISE_ERROR","RAND","RANDOM","RAWTOHEX","REC2XML","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_MATCH_COUNT","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RID_BIT","RIGHT","ROUND","ROUND_TIMESTAMP","RPAD","RTRIM","SECLABEL","SECLABEL_BY_NAME","SECLABEL_TO_CHAR","SECOND","SECONDS_BETWEEN","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTR2","SUBSTR4","SUBSTRB","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","THIS_MONTH","THIS_QUARTER","THIS_WEEK","THIS_YEAR","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF","TIMEZONE","TO_CHAR","TO_CLOB","TO_DATE","TO_HEX","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_UTC_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM","TRIM_ARRAY","TRUNC_TIMESTAMP","TRUNCATE","TRUNC","TYPE_ID","TYPE_NAME","TYPE_SCHEMA","UCASE","UNICODE_STR","UPPER","VALUE","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT","VARCHAR_FORMAT_BIT","VERIFY_GROUP_FOR_USER","VERIFY_ROLE_FOR_USER","VERIFY_TRUSTED_CONTEXT_ROLE_FOR_USER","WEEK","WEEK_ISO","WEEKS_BETWEEN","WIDTH_BUCKET","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLQUERY","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XMLXSROBJECTID","XSLTRANSFORM","YEAR","YEARS_BETWEEN","YMD_BETWEEN","BASE_TABLE","JSON_TABLE","UNNEST","XMLTABLE","RANK","DENSE_RANK","NTILE","LAG","LEAD","ROW_NUMBER","FIRST_VALUE","LAST_VALUE","NTH_VALUE","RATIO_TO_REPORT","CAST"],cD=["ACTIVATE","ADD","AFTER","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","AS","ASENSITIVE","ASSOCIATE","ASUTIME","AT","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","BEFORE","BEGIN","BETWEEN","BINARY","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CHECK","CLONE","CLOSE","CLUSTER","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","COUNT","COUNT_BIG","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST1","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GRAPHIC","GROUP","HANDLER","HASH","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IMPORT","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INTEGRITY","INTERSECT","INTO","IS","ISNULL","ISOBID","ISOLATION","ITERATE","JAR","JAVA","JOIN","KEEP","KEY","LABEL","LANGUAGE","LAST3","LATERAL","LC_CTYPE","LEAVE","LEFT","LIKE","LIMIT","LINKTYPE","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LOOP","MAINTAINED","MATERIALIZED","MAXVALUE","MICROSECOND","MICROSECONDS","MINUTE","MINUTES","MINVALUE","MODE","MODIFIES","MONTH","MONTHS","NAN","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT2","NOTNULL","NULL","NULLS","NUMPARTS","OBID","OF","OFF","OFFSET","OLD","OLD_TABLE","ON","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","OR","ORDER","OUT","OUTER","OVER","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENT","PIECESIZE","PLAN","POSITION","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STOGROUP","STORES","STYLE","SUBSTRING","SUMMARY","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESPACE","THEN","TO","TRANSACTION","TRIGGER","TRIM","TRUNCATE","TYPE","UNDO","UNION","UNIQUE","UNTIL","UPDATE","USAGE","USER","USING","VALIDPROC","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],fD=["ARRAY","BIGINT","BINARY","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATE","DATETIME","DBCLOB","DEC","DECIMAL","DOUBLE","DOUBLE PRECISION","FLOAT","FLOAT4","FLOAT8","GRAPHIC","INT","INT2","INT4","INT8","INTEGER","INTERVAL","LONG VARCHAR","LONG VARGRAPHIC","NCHAR","NCHR","NCLOB","NVARCHAR","NUMERIC","SMALLINT","REAL","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC"],TD=k(["SELECT [ALL | DISTINCT]"]),uD=k(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH NEXT","FOR UPDATE [OF]","FOR {READ | FETCH} ONLY","FOR {RR | CS | UR | RS} [USE AND KEEP {SHARE | UPDATE | EXCLUSIVE} LOCKS]","WAIT FOR OUTCOME","SKIP LOCKED DATA","INTO","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT"]),CT=k(["CREATE [GLOBAL TEMPORARY | EXTERNAL] TABLE [IF NOT EXISTS]"]),RE=k(["CREATE [OR REPLACE] VIEW","UPDATE","WHERE CURRENT OF","WITH {RR | RS | CS | UR}","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME COLUMN","ALTER [COLUMN]","SET DATA TYPE","SET NOT NULL","DROP {DEFAULT | GENERATED | NOT NULL}","TRUNCATE [TABLE]","ALLOCATE","ALTER AUDIT POLICY","ALTER BUFFERPOOL","ALTER DATABASE PARTITION GROUP","ALTER DATABASE","ALTER EVENT MONITOR","ALTER FUNCTION","ALTER HISTOGRAM TEMPLATE","ALTER INDEX","ALTER MASK","ALTER METHOD","ALTER MODULE","ALTER NICKNAME","ALTER PACKAGE","ALTER PERMISSION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SECURITY LABEL COMPONENT","ALTER SECURITY POLICY","ALTER SEQUENCE","ALTER SERVER","ALTER SERVICE CLASS","ALTER STOGROUP","ALTER TABLESPACE","ALTER THRESHOLD","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER TYPE","ALTER USAGE LIST","ALTER USER MAPPING","ALTER VIEW","ALTER WORK ACTION SET","ALTER WORK CLASS SET","ALTER WORKLOAD","ALTER WRAPPER","ALTER XSROBJECT","ALTER STOGROUP","ALTER TABLESPACE","ALTER TRIGGER","ALTER TRUSTED CONTEXT","ALTER VIEW","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","AUDIT","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON","COMMIT [WORK]","CONNECT","CREATE [OR REPLACE] [PUBLIC] ALIAS","CREATE AUDIT POLICY","CREATE BUFFERPOOL","CREATE DATABASE PARTITION GROUP","CREATE EVENT MONITOR","CREATE [OR REPLACE] FUNCTION","CREATE FUNCTION MAPPING","CREATE HISTOGRAM TEMPLATE","CREATE [UNIQUE] INDEX","CREATE INDEX EXTENSION","CREATE [OR REPLACE] MASK","CREATE [SPECIFIC] METHOD","CREATE [OR REPLACE] MODULE","CREATE [OR REPLACE] NICKNAME","CREATE [OR REPLACE] PERMISSION","CREATE [OR REPLACE] PROCEDURE","CREATE ROLE","CREATE SCHEMA","CREATE SECURITY LABEL [COMPONENT]","CREATE SECURITY POLICY","CREATE [OR REPLACE] SEQUENCE","CREATE SERVICE CLASS","CREATE SERVER","CREATE STOGROUP","CREATE SYNONYM","CREATE [LARGE | REGULAR | {SYSTEM | USER} TEMPORARY] TABLESPACE","CREATE THRESHOLD","CREATE {TRANSFORM | TRANSFORMS} FOR","CREATE [OR REPLACE] TRIGGER","CREATE TRUSTED CONTEXT","CREATE [OR REPLACE] TYPE","CREATE TYPE MAPPING","CREATE USAGE LIST","CREATE USER MAPPING FOR","CREATE [OR REPLACE] VARIABLE","CREATE WORK ACTION SET","CREATE WORK CLASS SET","CREATE WORKLOAD","CREATE WRAPPER","DECLARE","DECLARE GLOBAL TEMPORARY TABLE","DESCRIBE [INPUT | OUTPUT]","DISCONNECT","DROP [PUBLIC] ALIAS","DROP AUDIT POLICY","DROP BUFFERPOOL","DROP DATABASE PARTITION GROUP","DROP EVENT MONITOR","DROP [SPECIFIC] FUNCTION","DROP FUNCTION MAPPING","DROP HISTOGRAM TEMPLATE","DROP INDEX [EXTENSION]","DROP MASK","DROP [SPECIFIC] METHOD","DROP MODULE","DROP NICKNAME","DROP PACKAGE","DROP PERMISSION","DROP [SPECIFIC] PROCEDURE","DROP ROLE","DROP SCHEMA","DROP SECURITY LABEL [COMPONENT]","DROP SECURITY POLICY","DROP SEQUENCE","DROP SERVER","DROP SERVICE CLASS","DROP STOGROUP","DROP TABLE HIERARCHY","DROP {TABLESPACE | TABLESPACES}","DROP {TRANSFORM | TRANSFORMS}","DROP THRESHOLD","DROP TRIGGER","DROP TRUSTED CONTEXT","DROP TYPE [MAPPING]","DROP USAGE LIST","DROP USER MAPPING FOR","DROP VARIABLE","DROP VIEW [HIERARCHY]","DROP WORK {ACTION | CLASS} SET","DROP WORKLOAD","DROP WRAPPER","DROP XSROBJECT","END DECLARE SECTION","EXECUTE [IMMEDIATE]","EXPLAIN {PLAN [SECTION] | ALL}","FETCH [FROM]","FLUSH {BUFFERPOOL | BUFFERPOOLS} ALL","FLUSH EVENT MONITOR","FLUSH FEDERATED CACHE","FLUSH OPTIMIZATION PROFILE CACHE","FLUSH PACKAGE CACHE [DYNAMIC]","FLUSH AUTHENTICATION CACHE [FOR ALL]","FREE LOCATOR","GET DIAGNOSTICS","GOTO","GRANT","INCLUDE","ITERATE","LEAVE","LOCK TABLE","LOOP","OPEN","PIPE","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX | STOGROUP | TABLESPACE]","REPEAT","RESIGNAL","RETURN","REVOKE","ROLLBACK [WORK] [TO SAVEPOINT]","SAVEPOINT","SET COMPILATION ENVIRONMENT","SET CONNECTION","SET CURRENT","SET ENCRYPTION PASSWORD","SET EVENT MONITOR STATE","SET INTEGRITY","SET PASSTHRU","SET PATH","SET ROLE","SET SCHEMA","SET SERVER OPTION","SET {SESSION AUTHORIZATION | SESSION_USER}","SET USAGE LIST","SIGNAL","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}","WHILE"]),AD=k(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),RD=k(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN"]),SD=k(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),dD=k([]),OD={name:"db2",tokenizerOptions:{reservedSelect:TD,reservedClauses:[...uD,...CT,...RE],reservedSetOperations:AD,reservedJoins:RD,reservedKeywordPhrases:SD,reservedDataTypePhrases:dD,reservedKeywords:cD,reservedDataTypes:fD,reservedFunctionNames:hD,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N","U&"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","%","|","&","^","~","¬=","¬>","¬<","!>","!<","^=","^>","^<","||","->","=>"]},formatOptions:{onelineClauses:[...CT,...RE],tabularOnelineClauses:RE}},ID=["ARRAY_AGG","AVG","CORR","CORRELATION","COUNT","COUNT_BIG","COVAR_POP","COVARIANCE","COVAR","COVAR_SAMP","COVARIANCE_SAMP","EVERY","GROUPING","JSON_ARRAYAGG","JSON_OBJECTAGG","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","SOME","STDDEV_POP","STDDEV","STDDEV_SAMP","SUM","VAR_POP","VARIANCE","VAR","VAR_SAMP","VARIANCE_SAMP","XMLAGG","XMLGROUP","ABS","ABSVAL","ACOS","ADD_DAYS","ADD_HOURS","ADD_MINUTES","ADD_MONTHS","ADD_SECONDS","ADD_YEARS","ANTILOG","ARRAY_MAX_CARDINALITY","ARRAY_TRIM","ASCII","ASIN","ATAN","ATAN2","ATANH","BASE64_DECODE","BASE64_ENCODE","BIT_LENGTH","BITAND","BITANDNOT","BITNOT","BITOR","BITXOR","BSON_TO_JSON","CARDINALITY","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","COALESCE","COMPARE_DECFLOAT","CONCAT","CONTAINS","COS","COSH","COT","CURDATE","CURTIME","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK_ISO","DAYOFWEEK","DAYOFYEAR","DAYS","DBPARTITIONNAME","DBPARTITIONNUM","DECFLOAT_FORMAT","DECFLOAT_SORTKEY","DECRYPT_BINARY","DECRYPT_BIT","DECRYPT_CHAR","DECRYPT_DB","DEGREES","DIFFERENCE","DIGITS","DLCOMMENT","DLLINKTYPE","DLURLCOMPLETE","DLURLPATH","DLURLPATHONLY","DLURLSCHEME","DLURLSERVER","DLVALUE","DOUBLE_PRECISION","DOUBLE","ENCRPYT","ENCRYPT_AES","ENCRYPT_AES256","ENCRYPT_RC2","ENCRYPT_TDES","EXP","EXTRACT","FIRST_DAY","FLOOR","GENERATE_UNIQUE","GET_BLOB_FROM_FILE","GET_CLOB_FROM_FILE","GET_DBCLOB_FROM_FILE","GET_XML_FILE","GETHINT","GREATEST","HASH_MD5","HASH_ROW","HASH_SHA1","HASH_SHA256","HASH_SHA512","HASH_VALUES","HASHED_VALUE","HEX","HEXTORAW","HOUR","HTML_ENTITY_DECODE","HTML_ENTITY_ENCODE","HTTP_DELETE_BLOB","HTTP_DELETE","HTTP_GET_BLOB","HTTP_GET","HTTP_PATCH_BLOB","HTTP_PATCH","HTTP_POST_BLOB","HTTP_POST","HTTP_PUT_BLOB","HTTP_PUT","IDENTITY_VAL_LOCAL","IFNULL","INSERT","INSTR","INTERPRET","ISFALSE","ISNOTFALSE","ISNOTTRUE","ISTRUE","JSON_ARRAY","JSON_OBJECT","JSON_QUERY","JSON_TO_BSON","JSON_UPDATE","JSON_VALUE","JULIAN_DAY","LAND","LAST_DAY","LCASE","LEAST","LEFT","LENGTH","LN","LNOT","LOCATE_IN_STRING","LOCATE","LOG10","LOR","LOWER","LPAD","LTRIM","MAX_CARDINALITY","MAX","MICROSECOND","MIDNIGHT_SECONDS","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","MQREAD","MQREADCLOB","MQRECEIVE","MQRECEIVECLOB","MQSEND","MULTIPLY_ALT","NEXT_DAY","NORMALIZE_DECFLOAT","NOW","NULLIF","NVL","OCTET_LENGTH","OVERLAY","PI","POSITION","POSSTR","POW","POWER","QUANTIZE","QUARTER","RADIANS","RAISE_ERROR","RANDOM","RAND","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","RID","RIGHT","ROUND_TIMESTAMP","ROUND","RPAD","RRN","RTRIM","SCORE","SECOND","SIGN","SIN","SINH","SOUNDEX","SPACE","SQRT","STRIP","STRLEFT","STRPOS","STRRIGHT","SUBSTR","SUBSTRING","TABLE_NAME","TABLE_SCHEMA","TAN","TANH","TIMESTAMP_FORMAT","TIMESTAMP_ISO","TIMESTAMPDIFF_BIG","TIMESTAMPDIFF","TO_CHAR","TO_CLOB","TO_DATE","TO_NUMBER","TO_TIMESTAMP","TOTALORDER","TRANSLATE","TRIM_ARRAY","TRIM","TRUNC_TIMESTAMP","TRUNC","TRUNCATE","UCASE","UPPER","URL_DECODE","URL_ENCODE","VALUE","VARBINARY_FORMAT","VARCHAR_BIT_FORMAT","VARCHAR_FORMAT_BINARY","VARCHAR_FORMAT","VERIFY_GROUP_FOR_USER","WEEK_ISO","WEEK","WRAP","XMLATTRIBUTES","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTEXT","XMLVALIDATE","XOR","XSLTRANSFORM","YEAR","ZONED","BASE_TABLE","HTTP_DELETE_BLOB_VERBOSE","HTTP_DELETE_VERBOSE","HTTP_GET_BLOB_VERBOSE","HTTP_GET_VERBOSE","HTTP_PATCH_BLOB_VERBOSE","HTTP_PATCH_VERBOSE","HTTP_POST_BLOB_VERBOSE","HTTP_POST_VERBOSE","HTTP_PUT_BLOB_VERBOSE","HTTP_PUT_VERBOSE","JSON_TABLE","MQREADALL","MQREADALLCLOB","MQRECEIVEALL","MQRECEIVEALLCLOB","XMLTABLE","UNPACK","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","RATIO_TO_REPORT","ROW_NUMBER","CAST"],ND=["ABSENT","ACCORDING","ACCTNG","ACTION","ACTIVATE","ADD","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","AND","ANY","APPEND","APPLNAME","ARRAY","ARRAY_AGG","ARRAY_TRIM","AS","ASC","ASENSITIVE","ASSOCIATE","ATOMIC","ATTACH","ATTRIBUTES","AUTHORIZATION","AUTONOMOUS","BEFORE","BEGIN","BETWEEN","BIND","BSON","BUFFERPOOL","BY","CACHE","CALL","CALLED","CARDINALITY","CASE","CAST","CHECK","CL","CLOSE","CLUSTER","COLLECT","COLLECTION","COLUMN","COMMENT","COMMIT","COMPACT","COMPARISONS","COMPRESS","CONCAT","CONCURRENT","CONDITION","CONNECT","CONNECT_BY_ROOT","CONNECTION","CONSTANT","CONSTRAINT","CONTAINS","CONTENT","CONTINUE","COPY","COUNT","COUNT_BIG","CREATE","CREATEIN","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_PATH","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","CURSOR","CYCLE","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEACTIVATE","DEALLOCATE","DECLARE","DEFAULT","DEFAULTS","DEFER","DEFINE","DEFINITION","DELETE","DELETING","DENSE_RANK","DENSERANK","DESC","DESCRIBE","DESCRIPTOR","DETACH","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DROP","DYNAMIC","EACH","ELSE","ELSEIF","EMPTY","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ENFORCED","ERROR","ESCAPE","EVERY","EXCEPT","EXCEPTION","EXCLUDING","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTEND","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FINAL","FIRST_VALUE","FOR","FOREIGN","FORMAT","FREE","FREEPAGE","FROM","FULL","FUNCTION","GBPCACHE","GENERAL","GENERATED","GET","GLOBAL","GO","GOTO","GRANT","GROUP","HANDLER","HASH","HASH_ROW","HASHED_VALUE","HAVING","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IGNORE","IMMEDIATE","IMPLICITLY","IN","INCLUDE","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDEXBP","INDICATOR","INF","INFINITY","INHERIT","INLINE","INNER","INOUT","INSENSITIVE","INSERT","INSERTING","INTEGRITY","INTERPRET","INTERSECT","INTO","IS","ISNULL","ISOLATION","ITERATE","JAVA","JOIN","JSON","JSON_ARRAY","JSON_ARRAYAGG","JSON_EXISTS","JSON_OBJECT","JSON_OBJECTAGG","JSON_QUERY","JSON_TABLE","JSON_VALUE","KEEP","KEY","KEYS","LABEL","LAG","LANGUAGE","LAST_VALUE","LATERAL","LEAD","LEAVE","LEFT","LEVEL2","LIKE","LIMIT","LINKTYPE","LISTAGG","LOCAL","LOCALDATE","LOCALTIME","LOCALTIMESTAMP","LOCATION","LOCATOR","LOCK","LOCKSIZE","LOG","LOGGED","LOOP","MAINTAINED","MASK","MATCHED","MATERIALIZED","MAXVALUE","MERGE","MICROSECOND","MICROSECONDS","MINPCTUSED","MINUTE","MINUTES","MINVALUE","MIRROR","MIXED","MODE","MODIFIES","MONTH","MONTHS","NAMESPACE","NAN","NATIONAL","NCHAR","NCLOB","NESTED","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZED","NOT","NOTNULL","NTH_VALUE","NTILE","NULL","NULLS","NVARCHAR","OBID","OBJECT","OF","OFF","OFFSET","OLD","OLD_TABLE","OMIT","ON","ONLY","OPEN","OPTIMIZE","OPTION","OR","ORDER","ORDINALITY","ORGANIZE","OUT","OUTER","OVER","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGE","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSING","PASSWORD","PATH","PCTFREE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PERIOD","PERMISSION","PIECESIZE","PIPE","PLAN","POSITION","PREPARE","PREVVAL","PRIMARY","PRIOR","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PROGRAMID","QUERY","RANGE","RANK","RATIO_TO_REPORT","RCDFMT","READ","READS","RECOVERY","REFERENCES","REFERENCING","REFRESH","REGEXP_LIKE","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNING","RETURNS","REVOKE","RID","RIGHT","ROLLBACK","ROLLUP","ROUTINE","ROW","ROW_NUMBER","ROWNUMBER","ROWS","RRN","RUN","SAVEPOINT","SBCS","SCALAR","SCHEMA","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURED","SELECT","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SET","SIGNAL","SIMPLE","SKIP","SNAN","SOME","SOURCE","SPECIFIC","SQL","SQLID","SQLIND_DEFAULT","SQLIND_UNASSIGNED","STACKED","START","STARTING","STATEMENT","STATIC","STOGROUP","SUBSTRING","SUMMARY","SYNONYM","SYSTEM_TIME","SYSTEM_USER","TABLE","TABLESPACE","TABLESPACES","TAG","THEN","THREADSAFE","TO","TRANSACTION","TRANSFER","TRIGGER","TRIM","TRIM_ARRAY","TRUE","TRUNCATE","TRY_CAST","TYPE","UNDO","UNION","UNIQUE","UNIT","UNKNOWN","UNNEST","UNTIL","UPDATE","UPDATING","URI","USAGE","USE","USER","USERID","USING","VALUE","VALUES","VARIABLE","VARIANT","VCAT","VERSION","VERSIONING","VIEW","VOLATILE","WAIT","WHEN","WHENEVER","WHERE","WHILE","WITH","WITHIN","WITHOUT","WRAPPED","WRAPPER","WRITE","WRKSTNNAME","XMLAGG","XMLATTRIBUTES","XMLCAST","XMLCOMMENT","XMLCONCAT","XMLDOCUMENT","XMLELEMENT","XMLFOREST","XMLGROUP","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROW","XMLSERIALIZE","XMLTABLE","XMLTEXT","XMLVALIDATE","XSLTRANSFORM","XSROBJECT","YEAR","YEARS","YES","ZONE"],pD=["ARRAY","BIGINT","BINARY","BIT","BLOB","BOOLEAN","CCSID","CHAR","CHARACTER","CLOB","DATA","DATALINK","DATE","DBCLOB","DECFLOAT","DECIMAL","DEC","DOUBLE","DOUBLE PRECISION","FLOAT","GRAPHIC","INT","INTEGER","LONG","NUMERIC","REAL","ROWID","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR","VARGRAPHIC","XML"],mD=k(["SELECT [ALL | DISTINCT]"]),CD=k(["WITH [RECURSIVE]","INTO","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY [INPUT SEQUENCE]","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","FOR READ ONLY","OPTIMIZE FOR","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","DELETE","INSERT","FOR SYSTEM NAME"]),_T=k(["CREATE [OR REPLACE] TABLE"]),SE=k(["CREATE [OR REPLACE] [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","WITH {NC | RR | RS | CS | UR}","DELETE FROM","DROP TABLE","ALTER TABLE","ADD [COLUMN]","ALTER [COLUMN]","DROP [COLUMN]","SET DATA TYPE","SET {GENERATED ALWAYS | GENERATED BY DEFAULT}","SET NOT NULL","SET {NOT HIDDEN | IMPLICITLY HIDDEN}","SET FIELDPROC","DROP {DEFAULT | NOT NULL | GENERATED | IDENTITY | ROW CHANGE TIMESTAMP | FIELDPROC}","TRUNCATE [TABLE]","SET [CURRENT] SCHEMA","SET CURRENT_SCHEMA","ALLOCATE CURSOR","ALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL] SQL","ALTER [SPECIFIC] {FUNCTION | PROCEDURE}","ALTER {MASK | PERMISSION | SEQUENCE | TRIGGER}","ASSOCIATE [RESULT SET] {LOCATOR | LOCATORS}","BEGIN DECLARE SECTION","CALL","CLOSE","COMMENT ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PARAMETER | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","COMMENT ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON PARAMETER SPECIFIC {FUNCTION | PROCEDURE | ROUTINE}","COMMENT ON [TABLE FUNCTION] RETURN COLUMN","COMMENT ON [TABLE FUNCTION] RETURN COLUMN SPECIFIC [PROCEDURE | ROUTINE]","COMMIT [WORK] [HOLD]","CONNECT [TO | RESET] USER","CREATE [OR REPLACE] {ALIAS | FUNCTION | MASK | PERMISSION | PROCEDURE | SEQUENCE | TRIGGER | VARIABLE}","CREATE [ENCODED VECTOR] INDEX","CREATE UNIQUE [WHERE NOT NULL] INDEX","CREATE SCHEMA","CREATE TYPE","DEALLOCATE [SQL] DESCRIPTOR [LOCAL | GLOBAL]","DECLARE CURSOR","DECLARE GLOBAL TEMPORARY TABLE","DECLARE","DESCRIBE CURSOR","DESCRIBE INPUT","DESCRIBE [OUTPUT]","DESCRIBE {PROCEDURE | ROUTINE}","DESCRIBE TABLE","DISCONNECT ALL [SQL]","DISCONNECT [CURRENT]","DROP {ALIAS | INDEX | MASK | PACKAGE | PERMISSION | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT} [IF EXISTS]","DROP [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE} [IF EXISTS]","END DECLARE SECTION","EXECUTE [IMMEDIATE]","FREE LOCATOR","GET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","GET [CURRENT | STACKED] DIAGNOSTICS","GRANT {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","HOLD LOCATOR","INCLUDE","LABEL ON {ALIAS | COLUMN | CONSTRAINT | INDEX | MASK | PACKAGE | PERMISSION | SEQUENCE | TABLE | TRIGGER | VARIABLE | XSROBJECT}","LABEL ON [SPECIFIC] {FUNCTION | PROCEDURE | ROUTINE}","LOCK TABLE","OPEN","PREPARE","REFRESH TABLE","RELEASE","RELEASE [TO] SAVEPOINT","RENAME [TABLE | INDEX] TO","REVOKE {ALL [PRIVILEGES] | ALTER | EXECUTE} ON {FUNCTION | PROCEDURE | ROUTINE | PACKAGE | SCHEMA | SEQUENCE | TABLE | TYPE | VARIABLE | XSROBJECT}","ROLLBACK [WORK] [HOLD | TO SAVEPOINT]","SAVEPOINT","SET CONNECTION","SET CURRENT {DEBUG MODE | DECFLOAT ROUNDING MODE | DEGREE | IMPLICIT XMLPARSE OPTION | TEMPORAL SYSTEM_TIME}","SET [SQL] DESCRIPTOR [LOCAL | GLOBAL]","SET ENCRYPTION PASSWORD","SET OPTION","SET {[CURRENT [FUNCTION]] PATH | CURRENT_PATH}","SET RESULT SETS [WITH RETURN [TO CALLER | TO CLIENT]]","SET SESSION AUTHORIZATION","SET SESSION_USER","SET TRANSACTION","SIGNAL SQLSTATE [VALUE]","TAG","TRANSFER OWNERSHIP OF","WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}"]),_D=k(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),gD=k(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT | RIGHT] EXCEPTION JOIN","{INNER | CROSS} JOIN"]),LD=k(["ON DELETE","ON UPDATE","SET NULL","{ROWS | RANGE} BETWEEN"]),DD=k([]),xD={name:"db2i",tokenizerOptions:{reservedSelect:mD,reservedClauses:[...CD,..._T,...SE],reservedSetOperations:_D,reservedJoins:gD,reservedKeywordPhrases:LD,reservedDataTypePhrases:DD,reservedKeywords:ND,reservedDataTypes:pD,reservedFunctionNames:ID,nestedBlockComments:!0,extraParens:["[]"],stringTypes:[{quote:"''-qq",prefixes:["G","N"]},{quote:"''-raw",prefixes:["X","BX","GX","UX"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{first:"@#$",rest:"@#$"},paramTypes:{positional:!0,named:[":"]},paramChars:{first:"@#$",rest:"@#$"},operators:["**","¬=","¬>","¬<","!>","!<","||","=>"]},formatOptions:{onelineClauses:[..._T,...SE],tabularOnelineClauses:SE}},PD=["ABS","ACOS","ADD","ADD_PARQUET_KEY","AGE","AGGREGATE","ALIAS","ALL_PROFILING_OUTPUT","ANY_VALUE","APPLY","APPROX_COUNT_DISTINCT","APPROX_QUANTILE","ARBITRARY","ARGMAX","ARGMIN","ARG_MAX","ARG_MAX_NULL","ARG_MIN","ARG_MIN_NULL","ARRAY_AGG","ARRAY_AGGR","ARRAY_AGGREGATE","ARRAY_APPEND","ARRAY_APPLY","ARRAY_CAT","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COSINE_SIMILARITY","ARRAY_CROSS_PRODUCT","ARRAY_DISTANCE","ARRAY_DISTINCT","ARRAY_DOT_PRODUCT","ARRAY_EXTRACT","ARRAY_FILTER","ARRAY_GRADE_UP","ARRAY_HAS","ARRAY_HAS_ALL","ARRAY_HAS_ANY","ARRAY_INDEXOF","ARRAY_INNER_PRODUCT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_POP_BACK","ARRAY_POP_FRONT","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUSH_BACK","ARRAY_PUSH_FRONT","ARRAY_REDUCE","ARRAY_RESIZE","ARRAY_REVERSE","ARRAY_REVERSE_SORT","ARRAY_SELECT","ARRAY_SLICE","ARRAY_SORT","ARRAY_TO_JSON","ARRAY_TO_STRING","ARRAY_TRANSFORM","ARRAY_UNIQUE","ARRAY_VALUE","ARRAY_WHERE","ARRAY_ZIP","ARROW_SCAN","ARROW_SCAN_DUMB","ASCII","ASIN","ATAN","ATAN2","AVG","BASE64","BIN","BITSTRING","BITSTRING_AGG","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_POSITION","BIT_XOR","BOOL_AND","BOOL_OR","CARDINALITY","CBRT","CEIL","CEILING","CENTURY","CHECKPOINT","CHR","COLLATIONS","COL_DESCRIPTION","COMBINE","CONCAT","CONCAT_WS","CONSTANT_OR_NULL","CONTAINS","COPY_DATABASE","CORR","COS","COT","COUNT","COUNT_IF","COUNT_STAR","COVAR_POP","COVAR_SAMP","CREATE_SORT_KEY","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_DATE","CURRENT_LOCALTIME","CURRENT_LOCALTIMESTAMP","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SETTING","CURRENT_USER","CURRVAL","DAMERAU_LEVENSHTEIN","DATABASE_LIST","DATABASE_SIZE","DATEDIFF","DATEPART","DATESUB","DATETRUNC","DATE_ADD","DATE_DIFF","DATE_PART","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECADE","DECODE","DEGREES","DISABLE_CHECKPOINT_ON_SHUTDOWN","DISABLE_OBJECT_CACHE","DISABLE_OPTIMIZER","DISABLE_PRINT_PROGRESS_BAR","DISABLE_PROFILE","DISABLE_PROFILING","DISABLE_PROGRESS_BAR","DISABLE_VERIFICATION","DISABLE_VERIFY_EXTERNAL","DISABLE_VERIFY_FETCH_ROW","DISABLE_VERIFY_PARALLELISM","DISABLE_VERIFY_SERIALIZER","DIVIDE","DUCKDB_COLUMNS","DUCKDB_CONSTRAINTS","DUCKDB_DATABASES","DUCKDB_DEPENDENCIES","DUCKDB_EXTENSIONS","DUCKDB_FUNCTIONS","DUCKDB_INDEXES","DUCKDB_KEYWORDS","DUCKDB_MEMORY","DUCKDB_OPTIMIZERS","DUCKDB_SCHEMAS","DUCKDB_SECRETS","DUCKDB_SEQUENCES","DUCKDB_SETTINGS","DUCKDB_TABLES","DUCKDB_TEMPORARY_FILES","DUCKDB_TYPES","DUCKDB_VIEWS","EDIT","EDITDIST3","ELEMENT_AT","ENABLE_CHECKPOINT_ON_SHUTDOWN","ENABLE_OBJECT_CACHE","ENABLE_OPTIMIZER","ENABLE_PRINT_PROGRESS_BAR","ENABLE_PROFILE","ENABLE_PROFILING","ENABLE_PROGRESS_BAR","ENABLE_VERIFICATION","ENCODE","ENDS_WITH","ENTROPY","ENUM_CODE","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","ENUM_RANGE_BOUNDARY","EPOCH","EPOCH_MS","EPOCH_NS","EPOCH_US","ERA","ERROR","EVEN","EXP","FACTORIAL","FAVG","FDIV","FILTER","FINALIZE","FIRST","FLATTEN","FLOOR","FMOD","FORCE_CHECKPOINT","FORMAT","FORMATREADABLEDECIMALSIZE","FORMATREADABLESIZE","FORMAT_BYTES","FORMAT_PG_TYPE","FORMAT_TYPE","FROM_BASE64","FROM_BINARY","FROM_HEX","FROM_JSON","FROM_JSON_STRICT","FSUM","FUNCTIONS","GAMMA","GCD","GENERATE_SERIES","GENERATE_SUBSCRIPTS","GEN_RANDOM_UUID","GEOMEAN","GEOMETRIC_MEAN","GETENV","GET_BIT","GET_BLOCK_SIZE","GET_CURRENT_TIME","GET_CURRENT_TIMESTAMP","GLOB","GRADE_UP","GREATEST","GREATEST_COMMON_DIVISOR","GROUP_CONCAT","HAMMING","HASH","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HEX","HISTOGRAM","HOUR","ICU_CALENDAR_NAMES","ICU_SORT_KEY","ILIKE_ESCAPE","IMPORT_DATABASE","INDEX_SCAN","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","INSTR","IN_SEARCH_PATH","ISFINITE","ISINF","ISNAN","ISODOW","ISOYEAR","JACCARD","JARO_SIMILARITY","JARO_WINKLER_SIMILARITY","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_CONTAINS","JSON_DESERIALIZE_SQL","JSON_EXECUTE_SERIALIZED_SQL","JSON_EXTRACT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_EXTRACT_STRING","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_GROUP_STRUCTURE","JSON_KEYS","JSON_MERGE_PATCH","JSON_OBJECT","JSON_QUOTE","JSON_SERIALIZE_PLAN","JSON_SERIALIZE_SQL","JSON_STRUCTURE","JSON_TRANSFORM","JSON_TRANSFORM_STRICT","JSON_TYPE","JSON_VALID","JULIAN","KAHAN_SUM","KURTOSIS","KURTOSIS_POP","LAST","LAST_DAY","LCASE","LCM","LEAST","LEAST_COMMON_MULTIPLE","LEFT","LEFT_GRAPHEME","LEN","LENGTH","LENGTH_GRAPHEME","LEVENSHTEIN","LGAMMA","LIKE_ESCAPE","LIST","LISTAGG","LIST_AGGR","LIST_AGGREGATE","LIST_ANY_VALUE","LIST_APPEND","LIST_APPLY","LIST_APPROX_COUNT_DISTINCT","LIST_AVG","LIST_BIT_AND","LIST_BIT_OR","LIST_BIT_XOR","LIST_BOOL_AND","LIST_BOOL_OR","LIST_CAT","LIST_CONCAT","LIST_CONTAINS","LIST_COSINE_SIMILARITY","LIST_COUNT","LIST_DISTANCE","LIST_DISTINCT","LIST_DOT_PRODUCT","LIST_ELEMENT","LIST_ENTROPY","LIST_EXTRACT","LIST_FILTER","LIST_FIRST","LIST_GRADE_UP","LIST_HAS","LIST_HAS_ALL","LIST_HAS_ANY","LIST_HISTOGRAM","LIST_INDEXOF","LIST_INNER_PRODUCT","LIST_INTERSECT","LIST_KURTOSIS","LIST_KURTOSIS_POP","LIST_LAST","LIST_MAD","LIST_MAX","LIST_MEDIAN","LIST_MIN","LIST_MODE","LIST_PACK","LIST_POSITION","LIST_PREPEND","LIST_PRODUCT","LIST_REDUCE","LIST_RESIZE","LIST_REVERSE","LIST_REVERSE_SORT","LIST_SELECT","LIST_SEM","LIST_SKEWNESS","LIST_SLICE","LIST_SORT","LIST_STDDEV_POP","LIST_STDDEV_SAMP","LIST_STRING_AGG","LIST_SUM","LIST_TRANSFORM","LIST_UNIQUE","LIST_VALUE","LIST_VAR_POP","LIST_VAR_SAMP","LIST_WHERE","LIST_ZIP","LN","LOG","LOG10","LOG2","LOWER","LPAD","LSMODE","LTRIM","MAD","MAKE_DATE","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","MAP","MAP_CONCAT","MAP_ENTRIES","MAP_EXTRACT","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","MAX","MAX_BY","MD5","MD5_NUMBER","MD5_NUMBER_LOWER","MD5_NUMBER_UPPER","MEAN","MEDIAN","METADATA_INFO","MICROSECOND","MILLENNIUM","MILLISECOND","MIN","MINUTE","MIN_BY","MISMATCHES","MOD","MODE","MONTH","MONTHNAME","MULTIPLY","NEXTAFTER","NEXTVAL","NFC_NORMALIZE","NOT_ILIKE_ESCAPE","NOT_LIKE_ESCAPE","NOW","NULLIF","OBJ_DESCRIPTION","OCTET_LENGTH","ORD","PARQUET_FILE_METADATA","PARQUET_KV_METADATA","PARQUET_METADATA","PARQUET_SCAN","PARQUET_SCHEMA","PARSE_DIRNAME","PARSE_DIRPATH","PARSE_FILENAME","PARSE_PATH","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONVERSION_IS_VISIBLE","PG_FUNCTION_IS_VISIBLE","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IS_OTHER_TEMP_SCHEMA","PG_MY_TEMP_SCHEMA","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_POSTMASTER_START_TIME","PG_SIZE_PRETTY","PG_TABLE_IS_VISIBLE","PG_TIMEZONE_NAMES","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PI","PLATFORM","POSITION","POW","POWER","PRAGMA_COLLATIONS","PRAGMA_DATABASE_SIZE","PRAGMA_METADATA_INFO","PRAGMA_PLATFORM","PRAGMA_SHOW","PRAGMA_STORAGE_INFO","PRAGMA_TABLE_INFO","PRAGMA_USER_AGENT","PRAGMA_VERSION","PREFIX","PRINTF","PRODUCT","QUANTILE","QUANTILE_CONT","QUANTILE_DISC","QUARTER","RADIANS","RANDOM","RANGE","READFILE","READ_BLOB","READ_CSV","READ_CSV_AUTO","READ_JSON","READ_JSON_AUTO","READ_JSON_OBJECTS","READ_JSON_OBJECTS_AUTO","READ_NDJSON","READ_NDJSON_AUTO","READ_NDJSON_OBJECTS","READ_PARQUET","READ_TEXT","REDUCE","REGEXP_ESCAPE","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_FULL_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REPEAT","REPEAT_ROW","REPLACE","RESERVOIR_QUANTILE","REVERSE","RIGHT","RIGHT_GRAPHEME","ROUND","ROUNDBANKERS","ROUND_EVEN","ROW","ROW_TO_JSON","RPAD","RTRIM","SECOND","SEM","SEQ_SCAN","SESSION_USER","SETSEED","SET_BIT","SHA256","SHA3","SHELL_ADD_SCHEMA","SHELL_ESCAPE_CRNL","SHELL_IDQUOTE","SHELL_MODULE_SCHEMA","SHELL_PUTSNL","SHOBJ_DESCRIPTION","SHOW","SHOW_DATABASES","SHOW_TABLES","SHOW_TABLES_EXPANDED","SIGN","SIGNBIT","SIN","SKEWNESS","SNIFF_CSV","SPLIT","SPLIT_PART","SQL_AUTO_COMPLETE","SQRT","STARTS_WITH","STATS","STDDEV","STDDEV_POP","STDDEV_SAMP","STORAGE_INFO","STRFTIME","STRING_AGG","STRING_SPLIT","STRING_SPLIT_REGEX","STRING_TO_ARRAY","STRIP_ACCENTS","STRLEN","STRPOS","STRPTIME","STRUCT_EXTRACT","STRUCT_INSERT","STRUCT_PACK","STR_SPLIT","STR_SPLIT_REGEX","SUBSTR","SUBSTRING","SUBSTRING_GRAPHEME","SUBTRACT","SUFFIX","SUM","SUMKAHAN","SUMMARY","SUM_NO_OVERFLOW","TABLE_INFO","TAN","TEST_ALL_TYPES","TEST_VECTOR_TYPES","TIMEZONE","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIME_BUCKET","TODAY","TO_BASE","TO_BASE64","TO_BINARY","TO_CENTURIES","TO_DAYS","TO_DECADES","TO_HEX","TO_HOURS","TO_JSON","TO_MICROSECONDS","TO_MILLENNIA","TO_MILLISECONDS","TO_MINUTES","TO_MONTHS","TO_SECONDS","TO_TIMESTAMP","TO_WEEKS","TO_YEARS","TRANSACTION_TIMESTAMP","TRANSLATE","TRIM","TRUNC","TRY_STRPTIME","TXID_CURRENT","TYPEOF","UCASE","UNBIN","UNHEX","UNICODE","UNION_EXTRACT","UNION_TAG","UNION_VALUE","UNNEST","UNPIVOT_LIST","UPPER","USER","USER_AGENT","UUID","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_TYPE","VERIFY_EXTERNAL","VERIFY_FETCH_ROW","VERIFY_PARALLELISM","VERIFY_SERIALIZER","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","WHICH_SECRET","WRITEFILE","XOR","YEAR","YEARWEEK","CAST","COALESCE","RANK","ROW_NUMBER"],MD=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ATTACH","ASYMMETRIC","BOTH","CASE","CAST","CHECK","COLLATE","COLUMN","CONSTRAINT","CREATE","DEFAULT","DEFERRABLE","DESC","DESCRIBE","DETACH","DISTINCT","DO","ELSE","END","EXCEPT","FALSE","FETCH","FOR","FOREIGN","FROM","GRANT","GROUP","HAVING","IN","INITIALLY","INTERSECT","INTO","IS","LATERAL","LEADING","LIMIT","NOT","NULL","OFFSET","ON","ONLY","OR","ORDER","PIVOT","PIVOT_LONGER","PIVOT_WIDER","PLACING","PRIMARY","REFERENCES","RETURNING","SELECT","SHOW","SOME","SUMMARIZE","SYMMETRIC","TABLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","UNPIVOT","USING","VARIADIC","WHEN","WHERE","WINDOW","WITH"],vD=["ARRAY","BIGINT","BINARY","BIT","BITSTRING","BLOB","BOOL","BOOLEAN","BPCHAR","BYTEA","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE","ENUM","FLOAT","FLOAT4","FLOAT8","GUID","HUGEINT","INET","INT","INT1","INT128","INT16","INT2","INT32","INT4","INT64","INT8","INTEGER","INTEGRAL","INTERVAL","JSON","LIST","LOGICAL","LONG","MAP","NUMERIC","NVARCHAR","OID","REAL","ROW","SHORT","SIGNED","SMALLINT","STRING","STRUCT","TEXT","TIME","TIMESTAMP_MS","TIMESTAMP_NS","TIMESTAMP_S","TIMESTAMP_US","TIMESTAMP","TIMESTAMPTZ","TIMETZ","TINYINT","UBIGINT","UHUGEINT","UINT128","UINT16","UINT32","UINT64","UINT8","UINTEGER","UNION","USMALLINT","UTINYINT","UUID","VARBINARY","VARCHAR"],UD=k(["SELECT [ALL | DISTINCT]"]),yD=k(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL]","HAVING","WINDOW","PARTITION BY","ORDER BY [ALL]","LIMIT","OFFSET","USING SAMPLE","QUALIFY","INSERT [OR REPLACE] INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),gT=k(["CREATE [OR REPLACE] [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),dE=k(["UPDATE","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","TRUNCATE","ALTER TABLE","ADD [COLUMN] [IF NOT EXISTS]","ADD PRIMARY KEY","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","RENAME [COLUMN]","RENAME TO","SET [DATA] TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","CREATE [OR REPLACE] [TEMPORARY | TEMP] {MACRO | FUNCTION}","DROP MACRO [TABLE] [IF EXISTS]","DROP FUNCTION [IF EXISTS]","CREATE [UNIQUE] INDEX [IF NOT EXISTS]","DROP INDEX [IF EXISTS]","CREATE [OR REPLACE] SCHEMA [IF NOT EXISTS]","DROP SCHEMA [IF EXISTS]","CREATE [OR REPLACE] [PERSISTENT | TEMPORARY] SECRET [IF NOT EXISTS]","DROP [PERSISTENT | TEMPORARY] SECRET [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] SEQUENCE","DROP SEQUENCE [IF EXISTS]","CREATE [OR REPLACE] [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","DROP VIEW [IF EXISTS]","ALTER VIEW","CREATE TYPE","DROP TYPE [IF EXISTS]","ANALYZE","ATTACH [DATABASE] [IF NOT EXISTS]","DETACH [DATABASE] [IF EXISTS]","CALL","[FORCE] CHECKPOINT","COMMENT ON [TABLE | COLUMN | VIEW | INDEX | SEQUENCE | TYPE | MACRO | MACRO TABLE]","COPY [FROM DATABASE]","DESCRIBE","EXPORT DATABASE","IMPORT DATABASE","INSTALL","LOAD","PIVOT","PIVOT_WIDER","UNPIVOT","EXPLAIN [ANALYZE]","SET {LOCAL | SESSION | GLOBAL}","RESET [LOCAL | SESSION | GLOBAL]","{SET | RESET} VARIABLE","SUMMARIZE","BEGIN TRANSACTION","ROLLBACK","COMMIT","ABORT","USE","VACUUM [ANALYZE]","PREPARE","EXECUTE","DEALLOCATE [PREPARE]"]),wD=k(["UNION [ALL | BY NAME]","EXCEPT [ALL]","INTERSECT [ALL]"]),FD=k(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{NATURAL | ASOF} [INNER] JOIN","{NATURAL | ASOF} {LEFT | RIGHT | FULL} [OUTER] JOIN","POSITIONAL JOIN","ANTI JOIN","SEMI JOIN"]),BD=k(["{ROWS | RANGE | GROUPS} BETWEEN","SIMILAR TO","IS [NOT] DISTINCT FROM"]),bD=k(["TIMESTAMP WITH TIME ZONE"]),GD={name:"duckdb",tokenizerOptions:{reservedSelect:UD,reservedClauses:[...yD,...gT,...dE],reservedSetOperations:wD,reservedJoins:FD,reservedKeywordPhrases:BD,reservedDataTypePhrases:bD,supportsXor:!0,reservedKeywords:MD,reservedDataTypes:vD,reservedFunctionNames:PD,nestedBlockComments:!0,extraParens:["[]","{}"],underscoresInNumbers:!0,stringTypes:["$$","''-qq",{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:['""-qq'],identChars:{rest:"$"},paramTypes:{positional:!0,numbered:["$"],quoted:["$"]},operators:["//","%","**","^","!","&","|","~","<<",">>","::","==","->","->>",":",":=","=>","~~","!~~","~~*","!~~*","~~~","~","!~","~*","!~*","^@","||",">>=","<<="]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...gT,...dE],tabularOnelineClauses:dE}},HD=["ABS","ACOS","ASIN","ATAN","BIN","BROUND","CBRT","CEIL","CEILING","CONV","COS","DEGREES","EXP","FACTORIAL","FLOOR","GREATEST","HEX","LEAST","LN","LOG","LOG10","LOG2","NEGATIVE","PI","PMOD","POSITIVE","POW","POWER","RADIANS","RAND","ROUND","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIN","SQRT","TAN","UNHEX","WIDTH_BUCKET","ARRAY_CONTAINS","MAP_KEYS","MAP_VALUES","SIZE","SORT_ARRAY","BINARY","CAST","ADD_MONTHS","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","QUARTER","SECOND","TIMESTAMP","TO_DATE","TO_UTC_TIMESTAMP","TRUNC","UNIX_TIMESTAMP","WEEKOFYEAR","YEAR","ASSERT_TRUE","COALESCE","IF","ISNOTNULL","ISNULL","NULLIF","NVL","ASCII","BASE64","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONTEXT_NGRAMS","DECODE","ELT","ENCODE","FIELD","FIND_IN_SET","FORMAT_NUMBER","GET_JSON_OBJECT","IN_FILE","INITCAP","INSTR","LCASE","LENGTH","LEVENSHTEIN","LOCATE","LOWER","LPAD","LTRIM","NGRAMS","OCTET_LENGTH","PARSE_URL","PRINTF","QUOTE","REGEXP_EXTRACT","REGEXP_REPLACE","REPEAT","REVERSE","RPAD","RTRIM","SENTENCES","SOUNDEX","SPACE","SPLIT","STR_TO_MAP","SUBSTR","SUBSTRING","TRANSLATE","TRIM","UCASE","UNBASE64","UPPER","MASK","MASK_FIRST_N","MASK_HASH","MASK_LAST_N","MASK_SHOW_FIRST_N","MASK_SHOW_LAST_N","AES_DECRYPT","AES_ENCRYPT","CRC32","CURRENT_DATABASE","CURRENT_USER","HASH","JAVA_METHOD","LOGGED_IN_USER","MD5","REFLECT","SHA","SHA1","SHA2","SURROGATE_KEY","VERSION","AVG","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COVAR_POP","COVAR_SAMP","HISTOGRAM_NUMERIC","MAX","MIN","NTILE","PERCENTILE","PERCENTILE_APPROX","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","EXPLODE","INLINE","JSON_TUPLE","PARSE_URL_TUPLE","POSEXPLODE","STACK","LEAD","LAG","FIRST_VALUE","LAST_VALUE","RANK","ROW_NUMBER","DENSE_RANK","CUME_DIST","PERCENT_RANK","NTILE"],kD=["ADD","ADMIN","AFTER","ANALYZE","ARCHIVE","ASC","BEFORE","BUCKET","BUCKETS","CASCADE","CHANGE","CLUSTER","CLUSTERED","CLUSTERSTATUS","COLLECTION","COLUMNS","COMMENT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONTINUE","DATA","DATABASES","DATETIME","DAY","DBPROPERTIES","DEFERRED","DEFINED","DELIMITED","DEPENDENCY","DESC","DIRECTORIES","DIRECTORY","DISABLE","DISTRIBUTE","ELEM_TYPE","ENABLE","ESCAPED","EXCLUSIVE","EXPLAIN","EXPORT","FIELDS","FILE","FILEFORMAT","FIRST","FORMAT","FORMATTED","FUNCTIONS","HOLD_DDLTIME","HOUR","IDXPROPERTIES","IGNORE","INDEX","INDEXES","INPATH","INPUTDRIVER","INPUTFORMAT","ITEMS","JAR","KEYS","KEY_TYPE","LIMIT","LINES","LOAD","LOCATION","LOCK","LOCKS","LOGICAL","LONG","MAPJOIN","MATERIALIZED","METADATA","MINUS","MINUTE","MONTH","MSCK","NOSCAN","NO_DROP","OFFLINE","OPTION","OUTPUTDRIVER","OUTPUTFORMAT","OVERWRITE","OWNER","PARTITIONED","PARTITIONS","PLUS","PRETTY","PRINCIPALS","PROTECTION","PURGE","READ","READONLY","REBUILD","RECORDREADER","RECORDWRITER","RELOAD","RENAME","REPAIR","REPLACE","REPLICATION","RESTRICT","REWRITE","ROLE","ROLES","SCHEMA","SCHEMAS","SECOND","SEMI","SERDE","SERDEPROPERTIES","SERVER","SETS","SHARED","SHOW","SHOW_DATABASE","SKEWED","SORT","SORTED","SSL","STATISTICS","STORED","STREAMTABLE","STRING","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","TINYINT","TOUCH","TRANSACTIONS","UNARCHIVE","UNDO","UNIONTYPE","UNLOCK","UNSET","UNSIGNED","URI","USE","UTC","UTCTIMESTAMP","VALUE_TYPE","VIEW","WHILE","YEAR","AUTOCOMMIT","ISOLATION","LEVEL","OFFSET","SNAPSHOT","TRANSACTION","WORK","WRITE","ABORT","KEY","LAST","NORELY","NOVALIDATE","NULLS","RELY","VALIDATE","DETAIL","DOW","EXPRESSION","OPERATOR","QUARTER","SUMMARY","VECTORIZATION","WEEK","YEARS","MONTHS","WEEKS","DAYS","HOURS","MINUTES","SECONDS","TIMESTAMPTZ","ZONE","ALL","ALTER","AND","AS","AUTHORIZATION","BETWEEN","BOTH","BY","CASE","CAST","COLUMN","CONF","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIMESTAMP","CURSOR","DATABASE","DELETE","DESCRIBE","DISTINCT","DROP","ELSE","END","EXCHANGE","EXISTS","EXTENDED","EXTERNAL","FALSE","FETCH","FOLLOWING","FOR","FROM","FULL","FUNCTION","GRANT","GROUP","GROUPING","HAVING","IF","IMPORT","IN","INNER","INSERT","INTERSECT","INTO","IS","JOIN","LATERAL","LEFT","LESS","LIKE","LOCAL","MACRO","MORE","NONE","NOT","NULL","OF","ON","OR","ORDER","OUT","OUTER","OVER","PARTIALSCAN","PARTITION","PERCENT","PRECEDING","PRESERVE","PROCEDURE","RANGE","READS","REDUCE","REVOKE","RIGHT","ROLLUP","ROW","ROWS","SELECT","SET","TABLE","TABLESAMPLE","THEN","TO","TRANSFORM","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNION","UNIQUEJOIN","UPDATE","USER","USING","UTC_TMESTAMP","VALUES","WHEN","WHERE","WINDOW","WITH","COMMIT","ONLY","REGEXP","RLIKE","ROLLBACK","START","CACHE","CONSTRAINT","FOREIGN","PRIMARY","REFERENCES","DAYOFWEEK","EXTRACT","FLOOR","VIEWS","TIME","SYNC","TEXTFILE","SEQUENCEFILE","ORC","CSV","TSV","PARQUET","AVRO","RCFILE","JSONFILE","INPUTFORMAT","OUTPUTFORMAT"],YD=["ARRAY","BIGINT","BINARY","BOOLEAN","CHAR","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MAP","NUMERIC","PRECISION","SMALLINT","STRUCT","TIMESTAMP","VARCHAR"],VD=k(["SELECT [ALL | DISTINCT]"]),WD=k(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT INTO [TABLE]","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED [THEN]","UPDATE SET","INSERT [VALUES]","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),LT=k(["CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]"]),OE=k(["CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","RENAME TO","TRUNCATE [TABLE]","ALTER","CREATE","USE","DESCRIBE","DROP","FETCH","SHOW","STORED AS","STORED BY","ROW FORMAT"]),XD=k(["UNION [ALL | DISTINCT]"]),KD=k(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","LEFT SEMI JOIN"]),$D=k(["{ROWS | RANGE} BETWEEN"]),JD=k([]),zD={name:"hive",tokenizerOptions:{reservedSelect:VD,reservedClauses:[...WD,...LT,...OE],reservedSetOperations:XD,reservedJoins:KD,reservedKeywordPhrases:$D,reservedDataTypePhrases:JD,reservedKeywords:kD,reservedDataTypes:YD,reservedFunctionNames:HD,extraParens:["[]"],stringTypes:['""-bs',"''-bs"],identTypes:["``"],variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||"]},formatOptions:{onelineClauses:[...LT,...OE],tabularOnelineClauses:OE}};function vl(r){return r.map((e,t)=>{const i=r[t+1]||Jn;if(on.SET(e)&&i.text==="(")return Object.assign(Object.assign({},e),{type:ee.RESERVED_FUNCTION_NAME});const n=r[t-1]||Jn;return on.VALUES(e)&&n.text==="="?Object.assign(Object.assign({},e),{type:ee.RESERVED_FUNCTION_NAME}):e})}const qD=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DELETE_DOMAIN_ID","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO_DOMAIN_IDS","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERAL","GRANT","GROUP","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IGNORE_DOMAIN_IDS","IGNORE_SERVER_IDS","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MASTER_HEARTBEAT_PERIOD","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OFFSET","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PAGE_CHECKSUM","PARSE_VCOL_EXPR","PARTITION","POSITION","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","READ_WRITE","RECURSIVE","REF_SYSTEM_ID","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","RETURNING","REVOKE","RIGHT","RLIKE","ROW_NUMBER","ROWS","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SLOW","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_AUTO_RECALC","STATS_PERSISTENT","STATS_SAMPLE_PAGES","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],QD=["BIGINT","BINARY","BIT","BLOB","CHAR BYTE","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],jD=["ADDDATE","ADD_MONTHS","BIT_AND","BIT_OR","BIT_XOR","CAST","COUNT","CUME_DIST","CURDATE","CURTIME","DATE_ADD","DATE_SUB","DATE_FORMAT","DECODE","DENSE_RANK","EXTRACT","FIRST_VALUE","GROUP_CONCAT","JSON_ARRAYAGG","JSON_OBJECTAGG","LAG","LEAD","MAX","MEDIAN","MID","MIN","NOW","NTH_VALUE","NTILE","POSITION","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","ROW_NUMBER","SESSION_USER","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUBDATE","SUBSTR","SUBSTRING","SUM","SYSTEM_USER","TRIM","TRIM_ORACLE","VARIANCE","VAR_POP","VAR_SAMP","ABS","ACOS","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ASIN","ATAN","ATAN2","BENCHMARK","BIN","BINLOG_GTID_POS","BIT_COUNT","BIT_LENGTH","CEIL","CEILING","CHARACTER_LENGTH","CHAR_LENGTH","CHR","COERCIBILITY","COLUMN_CHECK","COLUMN_EXISTS","COLUMN_LIST","COLUMN_JSON","COMPRESS","CONCAT","CONCAT_OPERATOR_ORACLE","CONCAT_WS","CONNECTION_ID","CONV","CONVERT_TZ","COS","COT","CRC32","DATEDIFF","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEGREES","DECODE_HISTOGRAM","DECODE_ORACLE","DES_DECRYPT","DES_ENCRYPT","ELT","ENCODE","ENCRYPT","EXP","EXPORT_SET","EXTRACTVALUE","FIELD","FIND_IN_SET","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GET_LOCK","GREATEST","HEX","IFNULL","INSTR","ISNULL","IS_FREE_LOCK","IS_USED_LOCK","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_COMPACT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_DETAILED","JSON_EXISTS","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_LOOSE","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_QUERY","JSON_QUOTE","JSON_OBJECT","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_SEARCH","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAST_DAY","LAST_INSERT_ID","LCASE","LEAST","LENGTH","LENGTHB","LN","LOAD_FILE","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LPAD_ORACLE","LTRIM","LTRIM_ORACLE","MAKEDATE","MAKETIME","MAKE_SET","MASTER_GTID_WAIT","MASTER_POS_WAIT","MD5","MONTHNAME","NAME_CONST","NVL","NVL2","OCT","OCTET_LENGTH","ORD","PERIOD_ADD","PERIOD_DIFF","PI","POW","POWER","QUOTE","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","RADIANS","RAND","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPLACE_ORACLE","REVERSE","ROUND","RPAD","RPAD_ORACLE","RTRIM","RTRIM_ORACLE","SEC_TO_TIME","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SPACE","SQRT","STRCMP","STR_TO_DATE","SUBSTR_ORACLE","SUBSTRING_INDEX","SUBTIME","SYS_GUID","TAN","TIMEDIFF","TIME_FORMAT","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_SECONDS","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UUID","UUID_SHORT","VERSION","WEEKDAY","WEEKOFYEAR","WSREP_LAST_WRITTEN_GTID","WSREP_LAST_SEEN_GTID","WSREP_SYNC_WAIT_UPTO_GTID","YEARWEEK","COALESCE","NULLIF"],ZD=k(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),ex=k(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET","RETURNING"]),DT=k(["CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS]"]),IE=k(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] [IGNORE] TABLE [IF EXISTS]","ADD [COLUMN] [IF NOT EXISTS]","{CHANGE | MODIFY} [COLUMN] [IF EXISTS]","DROP [COLUMN] [IF EXISTS]","RENAME [TO]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","SET {VISIBLE | INVISIBLE}","TRUNCATE [TABLE]","ALTER DATABASE","ALTER DATABASE COMMENT","ALTER EVENT","ALTER FUNCTION","ALTER PROCEDURE","ALTER SCHEMA","ALTER SCHEMA COMMENT","ALTER SEQUENCE","ALTER SERVER","ALTER USER","ALTER VIEW","ANALYZE","ANALYZE TABLE","BACKUP LOCK","BACKUP STAGE","BACKUP UNLOCK","BEGIN","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHECK TABLE","CHECK VIEW","CHECKSUM TABLE","COMMIT","CREATE AGGREGATE FUNCTION","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE INDEX","CREATE PROCEDURE","CREATE ROLE","CREATE SEQUENCE","CREATE SERVER","CREATE SPATIAL INDEX","CREATE TRIGGER","CREATE UNIQUE INDEX","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP INDEX","DROP PREPARE","DROP PROCEDURE","DROP ROLE","DROP SEQUENCE","DROP SERVER","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GET DIAGNOSTICS","GET DIAGNOSTICS CONDITION","GRANT","HANDLER","HELP","INSTALL PLUGIN","INSTALL SONAME","KILL","LOAD DATA INFILE","LOAD INDEX INTO CACHE","LOAD XML INFILE","LOCK TABLE","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","PURGE MASTER LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","REPAIR VIEW","RESET MASTER","RESET QUERY CACHE","RESET REPLICA","RESET SLAVE","RESIGNAL","REVOKE","ROLLBACK","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET GLOBAL TRANSACTION","SET NAMES","SET PASSWORD","SET ROLE","SET STATEMENT","SET TRANSACTION","SHOW","SHOW ALL REPLICAS STATUS","SHOW ALL SLAVES STATUS","SHOW AUTHORS","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW BINLOG STATUS","SHOW CHARACTER SET","SHOW CLIENT_STATISTICS","SHOW COLLATION","SHOW COLUMNS","SHOW CONTRIBUTORS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PACKAGE","SHOW CREATE PACKAGE BODY","SHOW CREATE PROCEDURE","SHOW CREATE SEQUENCE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINE INNODB STATUS","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW EXPLAIN","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW INDEXES","SHOW INDEX_STATISTICS","SHOW KEYS","SHOW LOCALES","SHOW MASTER LOGS","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PACKAGE BODY CODE","SHOW PACKAGE BODY STATUS","SHOW PACKAGE STATUS","SHOW PLUGINS","SHOW PLUGINS SONAME","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW QUERY_RESPONSE_TIME","SHOW RELAYLOG EVENTS","SHOW REPLICA","SHOW REPLICA HOSTS","SHOW REPLICA STATUS","SHOW SCHEMAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW SLAVE STATUS","SHOW STATUS","SHOW STORAGE ENGINES","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW USER_STATISTICS","SHOW VARIABLES","SHOW WARNINGS","SHOW WSREP_MEMBERSHIP","SHOW WSREP_STATUS","SHUTDOWN","SIGNAL","START ALL REPLICAS","START ALL SLAVES","START REPLICA","START SLAVE","START TRANSACTION","STOP ALL REPLICAS","STOP ALL SLAVES","STOP REPLICA","STOP SLAVE","UNINSTALL PLUGIN","UNINSTALL SONAME","UNLOCK TABLE","USE","XA BEGIN","XA COMMIT","XA END","XA PREPARE","XA RECOVER","XA ROLLBACK","XA START"]),tx=k(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]","MINUS [ALL | DISTINCT]"]),rx=k(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),ix=k(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),nx=k([]),sx={name:"mariadb",tokenizerOptions:{reservedSelect:ZD,reservedClauses:[...ex,...DT,...IE],reservedSetOperations:tx,reservedJoins:rx,reservedKeywordPhrases:ix,reservedDataTypePhrases:nx,supportsXor:!0,reservedKeywords:qD,reservedDataTypes:QD,reservedFunctionNames:jD,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","&&","||","!","*.*"],postProcess:vl},formatOptions:{onelineClauses:[...DT,...IE],tabularOnelineClauses:IE}},ax=["ACCESSIBLE","ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CUBE","CUME_DIST","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DENSE_RANK","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","EMPTY","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FIRST_VALUE","FOR","FORCE","FOREIGN","FROM","FULLTEXT","FUNCTION","GENERATED","GET","GRANT","GROUP","GROUPING","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","INTERSECT","INTERVAL","INTO","IO_AFTER_GTIDS","IO_BEFORE_GTIDS","IS","ITERATE","JOIN","JSON_TABLE","KEY","KEYS","KILL","LAG","LAST_VALUE","LATERAL","LEAD","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOOP","LOW_PRIORITY","MASTER_BIND","MASTER_SSL_VERIFY_SERVER_CERT","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NOT","NO_WRITE_TO_BINLOG","NTH_VALUE","NTILE","NULL","OF","ON","OPTIMIZE","OPTIMIZER_COSTS","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PERCENT_RANK","PRIMARY","PROCEDURE","PURGE","RANGE","RANK","READ","READS","READ_WRITE","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESIGNAL","RESTRICT","RETURN","REVOKE","RIGHT","RLIKE","ROW","ROWS","ROW_NUMBER","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STORED","STRAIGHT_JOIN","SYSTEM","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNDO","UNION","UNIQUE","UNLOCK","UNSIGNED","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],ox=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],lx=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BINARY","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","CAN_ACCESS_COLUMN","CAN_ACCESS_DATABASE","CAN_ACCESS_TABLE","CAN_ACCESS_USER","CAN_ACCESS_VIEW","CAST","CEIL","CEILING","CHAR","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DEFAULT","DEGREES","DENSE_RANK","DIV","ELT","EXP","EXPORT_SET","EXTRACT","EXTRACTVALUE","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_PICO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOMCOLLECTION","GEOMETRYCOLLECTION","GET_DD_COLUMN_PRIVILEGES","GET_DD_CREATE_OPTIONS","GET_DD_INDEX_SUB_PART_LENGTH","GET_FORMAT","GET_LOCK","GREATEST","GROUP_CONCAT","GROUPING","GTID_SUBSET","GTID_SUBTRACT","HEX","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INSERT","INSTR","INTERNAL_AUTO_INCREMENT","INTERNAL_AVG_ROW_LENGTH","INTERNAL_CHECK_TIME","INTERNAL_CHECKSUM","INTERNAL_DATA_FREE","INTERNAL_DATA_LENGTH","INTERNAL_DD_CHAR_LENGTH","INTERNAL_GET_COMMENT_OR_ERROR","INTERNAL_GET_ENABLED_ROLE_JSON","INTERNAL_GET_HOSTNAME","INTERNAL_GET_USERNAME","INTERNAL_GET_VIEW_WARNING_OR_ERROR","INTERNAL_INDEX_COLUMN_CARDINALITY","INTERNAL_INDEX_LENGTH","INTERNAL_IS_ENABLED_ROLE","INTERNAL_IS_MANDATORY_ROLE","INTERNAL_KEYS_DISABLED","INTERNAL_MAX_DATA_LENGTH","INTERNAL_TABLE_ROWS","INTERNAL_UPDATE_TIME","INTERVAL","IS","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS NOT","IS NOT NULL","IS NULL","IS_USED_LOCK","IS_UUID","ISNULL","JSON_ARRAY","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_ARRAYAGG","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SCHEMA_VALID","JSON_SCHEMA_VALIDATION_REPORT","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TABLE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","JSON_VALUE","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LINESTRING","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MATCH","MAX","MBRCONTAINS","MBRCOVEREDBY","MBRCOVERS","MBRDISJOINT","MBREQUALS","MBRINTERSECTS","MBROVERLAPS","MBRTOUCHES","MBRWITHIN","MD5","MEMBER OF","MICROSECOND","MID","MIN","MINUTE","MOD","MONTH","MONTHNAME","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NAME_CONST","NOT","NOT IN","NOT LIKE","NOT REGEXP","NOW","NTH_VALUE","NTILE","NULLIF","OCT","OCTET_LENGTH","ORD","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","POINT","POLYGON","POSITION","POW","POWER","PS_CURRENT_THREAD_ID","PS_THREAD_ID","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROLES_GRAPHML","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SHA1","SHA2","SIGN","SIN","SLEEP","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","ST_AREA","ST_ASBINARY","ST_ASGEOJSON","ST_ASTEXT","ST_BUFFER","ST_BUFFER_STRATEGY","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_CONVEXHULL","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DISTANCE_SPHERE","ST_ENDPOINT","ST_ENVELOPE","ST_EQUALS","ST_EXTERIORRING","ST_FRECHETDISTANCE","ST_GEOHASH","ST_GEOMCOLLFROMTEXT","ST_GEOMCOLLFROMWKB","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMGEOJSON","ST_GEOMFROMTEXT","ST_GEOMFROMWKB","ST_HAUSDORFFDISTANCE","ST_INTERIORRINGN","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISSIMPLE","ST_ISVALID","ST_LATFROMGEOHASH","ST_LATITUDE","ST_LENGTH","ST_LINEFROMTEXT","ST_LINEFROMWKB","ST_LINEINTERPOLATEPOINT","ST_LINEINTERPOLATEPOINTS","ST_LONGFROMGEOHASH","ST_LONGITUDE","ST_MAKEENVELOPE","ST_MLINEFROMTEXT","ST_MLINEFROMWKB","ST_MPOINTFROMTEXT","ST_MPOINTFROMWKB","ST_MPOLYFROMTEXT","ST_MPOLYFROMWKB","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINTATDISTANCE","ST_POINTFROMGEOHASH","ST_POINTFROMTEXT","ST_POINTFROMWKB","ST_POINTN","ST_POLYFROMTEXT","ST_POLYFROMWKB","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SWAPXY","ST_SYMDIFFERENCE","ST_TOUCHES","ST_TRANSFORM","ST_UNION","ST_VALIDATE","ST_WITHIN","ST_X","ST_Y","STATEMENT_DIGEST","STATEMENT_DIGEST_TEXT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRIM","TRUNCATE","UCASE","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VALUES","VAR_POP","VAR_SAMP","VARIANCE","VERSION","WAIT_FOR_EXECUTED_GTID_SET","WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"],Ex=k(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),hx=k(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),xT=k(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),NE=k(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER EVENT","ALTER FUNCTION","ALTER INSTANCE","ALTER LOGFILE GROUP","ALTER PROCEDURE","ALTER RESOURCE GROUP","ALTER SERVER","ALTER TABLESPACE","ALTER USER","ALTER VIEW","ANALYZE TABLE","BINLOG","CACHE INDEX","CALL","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK TABLE","CHECKSUM TABLE","CLONE","COMMIT","CREATE DATABASE","CREATE EVENT","CREATE FUNCTION","CREATE FUNCTION","CREATE INDEX","CREATE LOGFILE GROUP","CREATE PROCEDURE","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SERVER","CREATE SPATIAL REFERENCE SYSTEM","CREATE TABLESPACE","CREATE TRIGGER","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP EVENT","DROP FUNCTION","DROP FUNCTION","DROP INDEX","DROP LOGFILE GROUP","DROP PROCEDURE","DROP RESOURCE GROUP","DROP ROLE","DROP SERVER","DROP SPATIAL REFERENCE SYSTEM","DROP TABLESPACE","DROP TRIGGER","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","GRANT","HANDLER","HELP","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE EVENT","SHOW CREATE FUNCTION","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE TRIGGER","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SOURCE_POS_WAIT","START GROUP_REPLICATION","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP REPLICA","STOP SLAVE","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),cx=k(["UNION [ALL | DISTINCT]"]),fx=k(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),Tx=k(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),ux=k([]),Ax={name:"mysql",tokenizerOptions:{reservedSelect:Ex,reservedClauses:[...hx,...xT,...NE],reservedSetOperations:cx,reservedJoins:fx,reservedKeywordPhrases:Tx,reservedDataTypePhrases:ux,supportsXor:!0,reservedKeywords:ax,reservedDataTypes:ox,reservedFunctionNames:lx,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:vl},formatOptions:{onelineClauses:[...xT,...NE],tabularOnelineClauses:NE}},Rx=["ADD","ALL","ALTER","ANALYZE","AND","ARRAY","AS","ASC","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DISTINCT","DISTINCTROW","DIV","DOUBLE","DROP","DUAL","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","FALSE","FETCH","FOR","FORCE","FOREIGN","FROM","FULLTEXT","GENERATED","GRANT","GROUP","GROUPS","HAVING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","ILIKE","IN","INDEX","INFILE","INNER","INOUT","INSERT","INTERSECT","INTERVAL","INTO","IS","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINEAR","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LONG","LOW_PRIORITY","MATCH","MAXVALUE","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","NATURAL","NOT","NO_WRITE_TO_BINLOG","NULL","OF","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PARTITION","PRIMARY","PROCEDURE","RANGE","READ","RECURSIVE","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","REVOKE","RIGHT","RLIKE","ROW","ROWS","SECOND_MICROSECOND","SELECT","SET","SHOW","SPATIAL","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","SQL_BIG_RESULT","SQL_CALC_FOUND_ROWS","SQL_SMALL_RESULT","SSL","STARTING","STATS_EXTENDED","STORED","STRAIGHT_JOIN","TABLE","TABLESAMPLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","TiDB_CURRENT_TSO","UNION","UNIQUE","UNLOCK","UNSIGNED","UNTIL","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","VALUES","VIRTUAL","WHEN","WHERE","WHILE","WINDOW","WITH","WRITE","XOR","YEAR_MONTH","ZEROFILL"],Sx=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","CHARACTER","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","VARCHARACTER","VARYING","YEAR"],dx=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","ASCII","ASIN","ATAN","ATAN2","AVG","BENCHMARK","BIN","BIN_TO_UUID","BIT_AND","BIT_COUNT","BIT_LENGTH","BIT_OR","BIT_XOR","BITAND","BITNEG","BITOR","BITXOR","CASE","CAST","CEIL","CEILING","CHAR_FUNC","CHAR_LENGTH","CHARACTER_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COMPRESS","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CRC32","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_RESOURCE_GROUP","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATE_FORMAT","DATE_SUB","DATEDIFF","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT_FUNC","DEGREES","DENSE_RANK","DES_DECRYPT","DES_ENCRYPT","DIV","ELT","ENCODE","ENCRYPT","EQ","EXP","EXPORT_SET","EXTRACT","FIELD","FIND_IN_SET","FIRST_VALUE","FLOOR","FORMAT","FORMAT_BYTES","FORMAT_NANO_TIME","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GE","GET_FORMAT","GET_LOCK","GETPARAM","GREATEST","GROUP_CONCAT","GROUPING","GT","HEX","HOUR","IF","IFNULL","ILIKE","INET6_ATON","INET6_NTOA","INET_ATON","INET_NTOA","INSERT_FUNC","INSTR","INTDIV","INTERVAL","IS_FREE_LOCK","IS_IPV4","IS_IPV4_COMPAT","IS_IPV4_MAPPED","IS_IPV6","IS_USED_LOCK","IS_UUID","ISFALSE","ISNULL","ISTRUE","JSON_ARRAY","JSON_ARRAYAGG","JSON_ARRAY_APPEND","JSON_ARRAY_INSERT","JSON_CONTAINS","JSON_CONTAINS_PATH","JSON_DEPTH","JSON_EXTRACT","JSON_INSERT","JSON_KEYS","JSON_LENGTH","JSON_MEMBEROF","JSON_MERGE","JSON_MERGE_PATCH","JSON_MERGE_PRESERVE","JSON_OBJECT","JSON_OBJECTAGG","JSON_OVERLAPS","JSON_PRETTY","JSON_QUOTE","JSON_REMOVE","JSON_REPLACE","JSON_SEARCH","JSON_SET","JSON_STORAGE_FREE","JSON_STORAGE_SIZE","JSON_TYPE","JSON_UNQUOTE","JSON_VALID","LAG","LAST_DAY","LAST_INSERT_ID","LAST_VALUE","LASTVAL","LCASE","LE","LEAD","LEAST","LEFT","LEFTSHIFT","LENGTH","LIKE","LN","LOAD_FILE","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LOWER","LPAD","LT","LTRIM","MAKE_SET","MAKEDATE","MAKETIME","MASTER_POS_WAIT","MAX","MD5","MICROSECOND","MID","MIN","MINUS","MINUTE","MOD","MONTH","MONTHNAME","MUL","NAME_CONST","NE","NEXTVAL","NOT","NOW","NTH_VALUE","NTILE","NULLEQ","OCT","OCTET_LENGTH","OLD_PASSWORD","ORD","PASSWORD_FUNC","PERCENT_RANK","PERIOD_ADD","PERIOD_DIFF","PI","PLUS","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANDOM_BYTES","RANK","REGEXP","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","RELEASE_ALL_LOCKS","RELEASE_LOCK","REPEAT","REPLACE","REVERSE","RIGHT","RIGHTSHIFT","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCHEMA","SEC_TO_TIME","SECOND","SESSION_USER","SETVAL","SETVAR","SHA","SHA1","SHA2","SIGN","SIN","SLEEP","SM3","SPACE","SQRT","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","STRCMP","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUBTIME","SUM","SYSDATE","SYSTEM_USER","TAN","TIDB_BOUNDED_STALENESS","TIDB_CURRENT_TSO","TIDB_DECODE_BINARY_PLAN","TIDB_DECODE_KEY","TIDB_DECODE_PLAN","TIDB_DECODE_SQL_DIGESTS","TIDB_ENCODE_SQL_DIGEST","TIDB_IS_DDL_OWNER","TIDB_PARSE_TSO","TIDB_PARSE_TSO_LOGICAL","TIDB_ROW_CHECKSUM","TIDB_SHARD","TIDB_VERSION","TIME","TIME_FORMAT","TIME_TO_SEC","TIMEDIFF","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TO_BASE64","TO_DAYS","TO_SECONDS","TRANSLATE","TRIM","TRUNCATE","UCASE","UNARYMINUS","UNCOMPRESS","UNCOMPRESSED_LENGTH","UNHEX","UNIX_TIMESTAMP","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","UUID_SHORT","UUID_TO_BIN","VALIDATE_PASSWORD_STRENGTH","VAR_POP","VAR_SAMP","VARIANCE","VERSION","VITESS_HASH","WEEK","WEEKDAY","WEEKOFYEAR","WEIGHT_STRING","YEAR","YEARWEEK"],Ox=k(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),Ix=k(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE] [INTO]","REPLACE [LOW_PRIORITY | DELAYED] [INTO]","VALUES","ON DUPLICATE KEY UPDATE","SET"]),PT=k(["CREATE [TEMPORARY] TABLE [IF NOT EXISTS]"]),pE=k(["CREATE [OR REPLACE] [SQL SECURITY DEFINER | SQL SECURITY INVOKER] VIEW [IF NOT EXISTS]","UPDATE [LOW_PRIORITY] [IGNORE]","DELETE [LOW_PRIORITY] [QUICK] [IGNORE] FROM","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","{CHANGE | MODIFY} [COLUMN]","DROP [COLUMN]","RENAME [TO | AS]","RENAME COLUMN","ALTER [COLUMN]","{SET | DROP} DEFAULT","TRUNCATE [TABLE]","ALTER DATABASE","ALTER INSTANCE","ALTER RESOURCE GROUP","ALTER SEQUENCE","ALTER USER","ALTER VIEW","ANALYZE TABLE","CHECK TABLE","CHECKSUM TABLE","COMMIT","CREATE DATABASE","CREATE INDEX","CREATE RESOURCE GROUP","CREATE ROLE","CREATE SEQUENCE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DROP DATABASE","DROP INDEX","DROP RESOURCE GROUP","DROP ROLE","DROP TABLESPACE","DROP USER","DROP VIEW","EXPLAIN","FLUSH","GRANT","IMPORT TABLE","INSTALL COMPONENT","INSTALL PLUGIN","KILL","LOAD DATA","LOCK INSTANCE FOR BACKUP","LOCK TABLES","OPTIMIZE TABLE","PREPARE","RELEASE SAVEPOINT","RENAME TABLE","RENAME USER","REPAIR TABLE","RESET","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW BINARY LOGS","SHOW BINLOG EVENTS","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW EVENTS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW TRIGGERS","SHOW VARIABLES","SHOW WARNINGS","TABLE","UNINSTALL COMPONENT","UNINSTALL PLUGIN","UNLOCK INSTANCE","UNLOCK TABLES","USE"]),Nx=k(["UNION [ALL | DISTINCT]"]),px=k(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),mx=k(["ON {UPDATE | DELETE} [SET NULL]","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),Cx=k([]),_x={name:"tidb",tokenizerOptions:{reservedSelect:Ox,reservedClauses:[...Ix,...PT,...pE],reservedSetOperations:Nx,reservedJoins:px,reservedKeywordPhrases:mx,reservedDataTypePhrases:Cx,supportsXor:!0,reservedKeywords:Rx,reservedDataTypes:Sx,reservedFunctionNames:dx,stringTypes:['""-qq-bs',{quote:"''-qq-bs",prefixes:["N"]},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_.$]+"},{quote:'""-qq-bs',prefixes:["@"],requirePrefix:!0},{quote:"''-qq-bs",prefixes:["@"],requirePrefix:!0},{quote:"``",prefixes:["@"],requirePrefix:!0}],paramTypes:{positional:!0},lineCommentTypes:["--","#"],operators:["%",":=","&","|","^","~","<<",">>","<=>","->","->>","&&","||","!","*.*"],postProcess:vl},formatOptions:{onelineClauses:[...PT,...pE],tabularOnelineClauses:pE}},gx=["ABORT","ABS","ACOS","ADVISOR","ARRAY_AGG","ARRAY_AGG","ARRAY_APPEND","ARRAY_AVG","ARRAY_BINARY_SEARCH","ARRAY_CONCAT","ARRAY_CONTAINS","ARRAY_COUNT","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_FLATTEN","ARRAY_IFNULL","ARRAY_INSERT","ARRAY_INTERSECT","ARRAY_LENGTH","ARRAY_MAX","ARRAY_MIN","ARRAY_MOVE","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_PUT","ARRAY_RANGE","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_REPLACE","ARRAY_REVERSE","ARRAY_SORT","ARRAY_STAR","ARRAY_SUM","ARRAY_SYMDIFF","ARRAY_SYMDIFF1","ARRAY_SYMDIFFN","ARRAY_UNION","ASIN","ATAN","ATAN2","AVG","BASE64","BASE64_DECODE","BASE64_ENCODE","BITAND ","BITCLEAR ","BITNOT ","BITOR ","BITSET ","BITSHIFT ","BITTEST ","BITXOR ","CEIL","CLOCK_LOCAL","CLOCK_MILLIS","CLOCK_STR","CLOCK_TZ","CLOCK_UTC","COALESCE","CONCAT","CONCAT2","CONTAINS","CONTAINS_TOKEN","CONTAINS_TOKEN_LIKE","CONTAINS_TOKEN_REGEXP","COS","COUNT","COUNT","COUNTN","CUME_DIST","CURL","DATE_ADD_MILLIS","DATE_ADD_STR","DATE_DIFF_MILLIS","DATE_DIFF_STR","DATE_FORMAT_STR","DATE_PART_MILLIS","DATE_PART_STR","DATE_RANGE_MILLIS","DATE_RANGE_STR","DATE_TRUNC_MILLIS","DATE_TRUNC_STR","DECODE","DECODE_JSON","DEGREES","DENSE_RANK","DURATION_TO_STR","ENCODED_SIZE","ENCODE_JSON","EXP","FIRST_VALUE","FLOOR","GREATEST","HAS_TOKEN","IFINF","IFMISSING","IFMISSINGORNULL","IFNAN","IFNANORINF","IFNULL","INITCAP","ISARRAY","ISATOM","ISBITSET","ISBOOLEAN","ISNUMBER","ISOBJECT","ISSTRING","LAG","LAST_VALUE","LEAD","LEAST","LENGTH","LN","LOG","LOWER","LTRIM","MAX","MEAN","MEDIAN","META","MILLIS","MILLIS_TO_LOCAL","MILLIS_TO_STR","MILLIS_TO_TZ","MILLIS_TO_UTC","MILLIS_TO_ZONE_NAME","MIN","MISSINGIF","NANIF","NEGINFIF","NOW_LOCAL","NOW_MILLIS","NOW_STR","NOW_TZ","NOW_UTC","NTH_VALUE","NTILE","NULLIF","NVL","NVL2","OBJECT_ADD","OBJECT_CONCAT","OBJECT_INNER_PAIRS","OBJECT_INNER_VALUES","OBJECT_LENGTH","OBJECT_NAMES","OBJECT_PAIRS","OBJECT_PUT","OBJECT_REMOVE","OBJECT_RENAME","OBJECT_REPLACE","OBJECT_UNWRAP","OBJECT_VALUES","PAIRS","PERCENT_RANK","PI","POLY_LENGTH","POSINFIF","POSITION","POWER","RADIANS","RANDOM","RANK","RATIO_TO_REPORT","REGEXP_CONTAINS","REGEXP_LIKE","REGEXP_MATCHES","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGEX_CONTAINS","REGEX_LIKE","REGEX_MATCHES","REGEX_POSITION","REGEX_REPLACE","REGEX_SPLIT","REPEAT","REPLACE","REVERSE","ROUND","ROW_NUMBER","RTRIM","SEARCH","SEARCH_META","SEARCH_SCORE","SIGN","SIN","SPLIT","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DURATION","STR_TO_MILLIS","STR_TO_TZ","STR_TO_UTC","STR_TO_ZONE_NAME","SUBSTR","SUFFIXES","SUM","TAN","TITLE","TOARRAY","TOATOM","TOBOOLEAN","TOKENS","TOKENS","TONUMBER","TOOBJECT","TOSTRING","TRIM","TRUNC","UPPER","UUID","VARIANCE","VARIANCE_POP","VARIANCE_SAMP","VAR_POP","VAR_SAMP","WEEKDAY_MILLIS","WEEKDAY_STR","CAST"],Lx=["ADVISE","ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","AT","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","COMMITTED","CONNECT","CONTINUE","CORRELATED","COVER","CREATE","CURRENT","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FILTER","FIRST","FLATTEN","FLUSH","FOLLOWING","FOR","FORCE","FROM","FTS","FUNCTION","GOLANG","GRANT","GROUP","GROUPS","GSI","HASH","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","ISOLATION","JAVASCRIPT","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LANGUAGE","LAST","LEFT","LET","LETTING","LEVEL","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MINUS","MISSING","NAMESPACE","NEST","NL","NO","NOT","NTH_VALUE","NULL","NULLS","NUMBER","OBJECT","OFFSET","ON","OPTION","OPTIONS","OR","ORDER","OTHERS","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PRECEDING","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROBE","PROCEDURE","PUBLIC","RANGE","RAW","REALM","REDUCE","RENAME","RESPECT","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","ROW","ROWS","SATISFIES","SAVEPOINT","SCHEMA","SCOPE","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TIES","TO","TRAN","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNBOUNDED","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WORK","XOR"],Dx=[],xx=k(["SELECT [ALL | DISTINCT]"]),Px=k(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET","MERGE INTO","WHEN [NOT] MATCHED THEN","UPDATE SET","INSERT","NEST","UNNEST","RETURNING"]),MT=k(["UPDATE","DELETE FROM","SET SCHEMA","ADVISE","ALTER INDEX","BEGIN TRANSACTION","BUILD INDEX","COMMIT TRANSACTION","CREATE COLLECTION","CREATE FUNCTION","CREATE INDEX","CREATE PRIMARY INDEX","CREATE SCOPE","DROP COLLECTION","DROP FUNCTION","DROP INDEX","DROP PRIMARY INDEX","DROP SCOPE","EXECUTE","EXECUTE FUNCTION","EXPLAIN","GRANT","INFER","PREPARE","REVOKE","ROLLBACK TRANSACTION","SAVEPOINT","SET TRANSACTION","UPDATE STATISTICS","UPSERT","LET","SET CURRENT SCHEMA","SHOW","USE [PRIMARY] KEYS"]),Mx=k(["UNION [ALL]","EXCEPT [ALL]","INTERSECT [ALL]"]),vx=k(["JOIN","{LEFT | RIGHT} [OUTER] JOIN","INNER JOIN"]),Ux=k(["{ROWS | RANGE | GROUPS} BETWEEN"]),yx=k([]),wx={name:"n1ql",tokenizerOptions:{reservedSelect:xx,reservedClauses:[...Px,...MT],reservedSetOperations:Mx,reservedJoins:vx,reservedKeywordPhrases:Ux,reservedDataTypePhrases:yx,supportsXor:!0,reservedKeywords:Lx,reservedDataTypes:Dx,reservedFunctionNames:gx,stringTypes:['""-bs',"''-bs"],identTypes:["``"],extraParens:["[]","{}"],paramTypes:{positional:!0,numbered:["$"],named:["$"]},lineCommentTypes:["#","--"],operators:["%","==",":","||"]},formatOptions:{onelineClauses:MT}},Fx=["ADD","AGENT","AGGREGATE","ALL","ALTER","AND","ANY","ARROW","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BEGIN","BETWEEN","BLOCK","BODY","BOTH","BOUND","BULK","BY","BYTE","CALL","CALLING","CASCADE","CASE","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOSE","CLUSTER","CLUSTERS","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONVERT","COUNT","CRASH","CREATE","CURRENT","CURSOR","CUSTOMDATUM","DANGLING","DATA","DAY","DECLARE","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DISTINCT","DROP","DURATION","ELEMENT","ELSE","ELSIF","EMPTY","END","ESCAPE","EXCEPT","EXCEPTION","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FINAL","FIXED","FOR","FORALL","FORCE","FORM","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HAVING","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSERT","INSTANTIABLE","INTERFACE","INTERSECT","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMIT","LIMITED","LOCAL","LOCK","LOOP","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MOD","MODE","MODIFY","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NEW","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","OR","ORACLE","ORADATA","ORDER","OVERLAPS","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARTITION","PASCAL","PIPE","PIPELINED","PRAGMA","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","READ","RECORD","REF","REFERENCE","REM","REMAINDER","RENAME","RESOURCE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELECT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SET","SHARE","SHORT","SIZE","SIZE_T","SOME","SPARSE","SQL","SQLCODE","SQLDATA","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUM","SYNONYM","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSAC","TRANSACTIONAL","TRUSTED","TYPE","UB1","UB2","UB4","UNDER","UNION","UNIQUE","UNSIGNED","UNTRUSTED","UPDATE","USE","USING","VALIST","VALUE","VALUES","VARIABLE","VARIANCE","VARRAY","VIEW","VIEWS","VOID","WHEN","WHERE","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],Bx=["ARRAY","BFILE_BASE","BINARY","BLOB_BASE","CHAR VARYING","CHAR_BASE","CHAR","CHARACTER VARYING","CHARACTER","CLOB_BASE","DATE_BASE","DATE","DECIMAL","DOUBLE","FLOAT","INT","INTERVAL DAY","INTERVAL YEAR","LONG","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR VARYING","NCHAR","NCHAR","NUMBER_BASE","NUMBER","NUMBERIC","NVARCHAR","PRECISION","RAW","TIMESTAMP","UROWID","VARCHAR","VARCHAR2"],bx=["ABS","ACOS","ASIN","ATAN","ATAN2","BITAND","CEIL","COS","COSH","EXP","FLOOR","LN","LOG","MOD","NANVL","POWER","REMAINDER","ROUND","SIGN","SIN","SINH","SQRT","TAN","TANH","TRUNC","WIDTH_BUCKET","CHR","CONCAT","INITCAP","LOWER","LPAD","LTRIM","NLS_INITCAP","NLS_LOWER","NLSSORT","NLS_UPPER","REGEXP_REPLACE","REGEXP_SUBSTR","REPLACE","RPAD","RTRIM","SOUNDEX","SUBSTR","TRANSLATE","TREAT","TRIM","UPPER","NLS_CHARSET_DECL_LEN","NLS_CHARSET_ID","NLS_CHARSET_NAME","ASCII","INSTR","LENGTH","REGEXP_INSTR","ADD_MONTHS","CURRENT_DATE","CURRENT_TIMESTAMP","DBTIMEZONE","EXTRACT","FROM_TZ","LAST_DAY","LOCALTIMESTAMP","MONTHS_BETWEEN","NEW_TIME","NEXT_DAY","NUMTODSINTERVAL","NUMTOYMINTERVAL","ROUND","SESSIONTIMEZONE","SYS_EXTRACT_UTC","SYSDATE","SYSTIMESTAMP","TO_CHAR","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_DSINTERVAL","TO_YMINTERVAL","TRUNC","TZ_OFFSET","GREATEST","LEAST","ASCIISTR","BIN_TO_NUM","CAST","CHARTOROWID","COMPOSE","CONVERT","DECOMPOSE","HEXTORAW","NUMTODSINTERVAL","NUMTOYMINTERVAL","RAWTOHEX","RAWTONHEX","ROWIDTOCHAR","ROWIDTONCHAR","SCN_TO_TIMESTAMP","TIMESTAMP_TO_SCN","TO_BINARY_DOUBLE","TO_BINARY_FLOAT","TO_CHAR","TO_CLOB","TO_DATE","TO_DSINTERVAL","TO_LOB","TO_MULTI_BYTE","TO_NCHAR","TO_NCLOB","TO_NUMBER","TO_DSINTERVAL","TO_SINGLE_BYTE","TO_TIMESTAMP","TO_TIMESTAMP_TZ","TO_YMINTERVAL","TO_YMINTERVAL","TRANSLATE","UNISTR","BFILENAME","EMPTY_BLOB,","EMPTY_CLOB","CARDINALITY","COLLECT","POWERMULTISET","POWERMULTISET_BY_CARDINALITY","SET","SYS_CONNECT_BY_PATH","CLUSTER_ID","CLUSTER_PROBABILITY","CLUSTER_SET","FEATURE_ID","FEATURE_SET","FEATURE_VALUE","PREDICTION","PREDICTION_COST","PREDICTION_DETAILS","PREDICTION_PROBABILITY","PREDICTION_SET","APPENDCHILDXML","DELETEXML","DEPTH","EXTRACT","EXISTSNODE","EXTRACTVALUE","INSERTCHILDXML","INSERTXMLBEFORE","PATH","SYS_DBURIGEN","SYS_XMLAGG","SYS_XMLGEN","UPDATEXML","XMLAGG","XMLCDATA","XMLCOLATTVAL","XMLCOMMENT","XMLCONCAT","XMLFOREST","XMLPARSE","XMLPI","XMLQUERY","XMLROOT","XMLSEQUENCE","XMLSERIALIZE","XMLTABLE","XMLTRANSFORM","DECODE","DUMP","ORA_HASH","VSIZE","COALESCE","LNNVL","NULLIF","NVL","NVL2","SYS_CONTEXT","SYS_GUID","SYS_TYPEID","UID","USER","USERENV","AVG","COLLECT","CORR","CORR_S","CORR_K","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","FIRST","GROUP_ID","GROUPING","GROUPING_ID","LAST","MAX","MEDIAN","MIN","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANK","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","STATS_BINOMIAL_TEST","STATS_CROSSTAB","STATS_F_TEST","STATS_KS_TEST","STATS_MODE","STATS_MW_TEST","STATS_ONE_WAY_ANOVA","STATS_T_TEST_ONE","STATS_T_TEST_PAIRED","STATS_T_TEST_INDEP","STATS_T_TEST_INDEPU","STATS_WSR_TEST","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTILE","RATIO_TO_REPORT","ROW_NUMBER","DEREF","MAKE_REF","REF","REFTOHEX","VALUE","CV","ITERATION_NUMBER","PRESENTNNV","PRESENTV","PREVIOUS"],Gx=k(["SELECT [ALL | DISTINCT | UNIQUE]"]),Hx=k(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER [SIBLINGS] BY","OFFSET","FETCH {FIRST | NEXT}","FOR UPDATE [OF]","INSERT [INTO | ALL INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [THEN]","UPDATE SET","RETURNING"]),vT=k(["CREATE [GLOBAL TEMPORARY | PRIVATE TEMPORARY | SHARDED | DUPLICATED | IMMUTABLE BLOCKCHAIN | BLOCKCHAIN | IMMUTABLE] TABLE"]),mE=k(["CREATE [OR REPLACE] [NO FORCE | FORCE] [EDITIONING | EDITIONABLE | EDITIONABLE EDITIONING | NONEDITIONABLE] VIEW","CREATE MATERIALIZED VIEW","UPDATE [ONLY]","DELETE FROM [ONLY]","DROP TABLE","ALTER TABLE","ADD","DROP {COLUMN | UNUSED COLUMNS | COLUMNS CONTINUE}","MODIFY","RENAME TO","RENAME COLUMN","TRUNCATE TABLE","SET SCHEMA","BEGIN","CONNECT BY","DECLARE","EXCEPT","EXCEPTION","LOOP","START WITH"]),kx=k(["UNION [ALL]","MINUS","INTERSECT"]),Yx=k(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | OUTER} APPLY"]),Vx=k(["ON {UPDATE | DELETE} [SET NULL]","ON COMMIT","{ROWS | RANGE} BETWEEN"]),Wx=k([]),Xx={name:"plsql",tokenizerOptions:{reservedSelect:Gx,reservedClauses:[...Hx,...vT,...mE],reservedSetOperations:kx,reservedJoins:Yx,reservedKeywordPhrases:Vx,reservedDataTypePhrases:Wx,supportsXor:!0,reservedKeywords:Fx,reservedDataTypes:Bx,reservedFunctionNames:bx,stringTypes:[{quote:"''-qq",prefixes:["N"]},{quote:"q''",prefixes:["N"]}],identTypes:['""-qq'],identChars:{rest:"$#"},variableTypes:[{regex:"&{1,2}[A-Za-z][A-Za-z0-9_$#]*"}],paramTypes:{numbered:[":"],named:[":"]},operators:["**",":=","%","~=","^=",">>","<<","=>","@","||"],postProcess:Kx},formatOptions:{alwaysDenseOperators:["@"],onelineClauses:[...vT,...mE],tabularOnelineClauses:mE}};function Kx(r){let e=Jn;return r.map(t=>on.SET(t)&&on.BY(e)?Object.assign(Object.assign({},t),{type:ee.RESERVED_KEYWORD}):(iS(t.type)&&(e=t),t))}const $x=["ABS","ACOS","ACOSD","ACOSH","ASIN","ASIND","ASINH","ATAN","ATAN2","ATAN2D","ATAND","ATANH","CBRT","CEIL","CEILING","COS","COSD","COSH","COT","COTD","DEGREES","DIV","EXP","FACTORIAL","FLOOR","GCD","LCM","LN","LOG","LOG10","MIN_SCALE","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SCALE","SETSEED","SIGN","SIN","SIND","SINH","SQRT","TAN","TAND","TANH","TRIM_SCALE","TRUNC","WIDTH_BUCKET","ABS","ASCII","BIT_LENGTH","BTRIM","CHARACTER_LENGTH","CHAR_LENGTH","CHR","CONCAT","CONCAT_WS","FORMAT","INITCAP","LEFT","LENGTH","LOWER","LPAD","LTRIM","MD5","NORMALIZE","OCTET_LENGTH","OVERLAY","PARSE_IDENT","PG_CLIENT_ENCODING","POSITION","QUOTE_IDENT","QUOTE_LITERAL","QUOTE_NULLABLE","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","REPEAT","REPLACE","REVERSE","RIGHT","RPAD","RTRIM","SPLIT_PART","SPRINTF","STARTS_WITH","STRING_AGG","STRING_TO_ARRAY","STRING_TO_TABLE","STRPOS","SUBSTR","SUBSTRING","TO_ASCII","TO_HEX","TRANSLATE","TRIM","UNISTR","UPPER","BIT_COUNT","BIT_LENGTH","BTRIM","CONVERT","CONVERT_FROM","CONVERT_TO","DECODE","ENCODE","GET_BIT","GET_BYTE","LENGTH","LTRIM","MD5","OCTET_LENGTH","OVERLAY","POSITION","RTRIM","SET_BIT","SET_BYTE","SHA224","SHA256","SHA384","SHA512","STRING_AGG","SUBSTR","SUBSTRING","TRIM","BIT_COUNT","BIT_LENGTH","GET_BIT","LENGTH","OCTET_LENGTH","OVERLAY","POSITION","SET_BIT","SUBSTRING","REGEXP_MATCH","REGEXP_MATCHES","REGEXP_REPLACE","REGEXP_SPLIT_TO_ARRAY","REGEXP_SPLIT_TO_TABLE","TO_CHAR","TO_DATE","TO_NUMBER","TO_TIMESTAMP","CLOCK_TIMESTAMP","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_BIN","DATE_PART","DATE_TRUNC","EXTRACT","ISFINITE","JUSTIFY_DAYS","JUSTIFY_HOURS","JUSTIFY_INTERVAL","LOCALTIME","LOCALTIMESTAMP","MAKE_DATE","MAKE_INTERVAL","MAKE_TIME","MAKE_TIMESTAMP","MAKE_TIMESTAMPTZ","NOW","PG_SLEEP","PG_SLEEP_FOR","PG_SLEEP_UNTIL","STATEMENT_TIMESTAMP","TIMEOFDAY","TO_TIMESTAMP","TRANSACTION_TIMESTAMP","ENUM_FIRST","ENUM_LAST","ENUM_RANGE","AREA","BOUND_BOX","BOX","CENTER","CIRCLE","DIAGONAL","DIAMETER","HEIGHT","ISCLOSED","ISOPEN","LENGTH","LINE","LSEG","NPOINTS","PATH","PCLOSE","POINT","POLYGON","POPEN","RADIUS","SLOPE","WIDTH","ABBREV","BROADCAST","FAMILY","HOST","HOSTMASK","INET_MERGE","INET_SAME_FAMILY","MACADDR8_SET7BIT","MASKLEN","NETMASK","NETWORK","SET_MASKLEN","TRUNC","ARRAY_TO_TSVECTOR","GET_CURRENT_TS_CONFIG","JSONB_TO_TSVECTOR","JSON_TO_TSVECTOR","LENGTH","NUMNODE","PHRASETO_TSQUERY","PLAINTO_TSQUERY","QUERYTREE","SETWEIGHT","STRIP","TO_TSQUERY","TO_TSVECTOR","TSQUERY_PHRASE","TSVECTOR_TO_ARRAY","TS_DEBUG","TS_DELETE","TS_FILTER","TS_HEADLINE","TS_LEXIZE","TS_PARSE","TS_RANK","TS_RANK_CD","TS_REWRITE","TS_STAT","TS_TOKEN_TYPE","WEBSEARCH_TO_TSQUERY","GEN_RANDOM_UUID","CURSOR_TO_XML","CURSOR_TO_XMLSCHEMA","DATABASE_TO_XML","DATABASE_TO_XMLSCHEMA","DATABASE_TO_XML_AND_XMLSCHEMA","NEXTVAL","QUERY_TO_XML","QUERY_TO_XMLSCHEMA","QUERY_TO_XML_AND_XMLSCHEMA","SCHEMA_TO_XML","SCHEMA_TO_XMLSCHEMA","SCHEMA_TO_XML_AND_XMLSCHEMA","STRING","TABLE_TO_XML","TABLE_TO_XMLSCHEMA","TABLE_TO_XML_AND_XMLSCHEMA","XMLAGG","XMLCOMMENT","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE","XML_IS_WELL_FORMED","XML_IS_WELL_FORMED_CONTENT","XML_IS_WELL_FORMED_DOCUMENT","XPATH","XPATH_EXISTS","ARRAY_TO_JSON","JSONB_AGG","JSONB_ARRAY_ELEMENTS","JSONB_ARRAY_ELEMENTS_TEXT","JSONB_ARRAY_LENGTH","JSONB_BUILD_ARRAY","JSONB_BUILD_OBJECT","JSONB_EACH","JSONB_EACH_TEXT","JSONB_EXTRACT_PATH","JSONB_EXTRACT_PATH_TEXT","JSONB_INSERT","JSONB_OBJECT","JSONB_OBJECT_AGG","JSONB_OBJECT_KEYS","JSONB_PATH_EXISTS","JSONB_PATH_EXISTS_TZ","JSONB_PATH_MATCH","JSONB_PATH_MATCH_TZ","JSONB_PATH_QUERY","JSONB_PATH_QUERY_ARRAY","JSONB_PATH_QUERY_ARRAY_TZ","JSONB_PATH_QUERY_FIRST","JSONB_PATH_QUERY_FIRST_TZ","JSONB_PATH_QUERY_TZ","JSONB_POPULATE_RECORD","JSONB_POPULATE_RECORDSET","JSONB_PRETTY","JSONB_SET","JSONB_SET_LAX","JSONB_STRIP_NULLS","JSONB_TO_RECORD","JSONB_TO_RECORDSET","JSONB_TYPEOF","JSON_AGG","JSON_ARRAY_ELEMENTS","JSON_ARRAY_ELEMENTS_TEXT","JSON_ARRAY_LENGTH","JSON_BUILD_ARRAY","JSON_BUILD_OBJECT","JSON_EACH","JSON_EACH_TEXT","JSON_EXTRACT_PATH","JSON_EXTRACT_PATH_TEXT","JSON_OBJECT","JSON_OBJECT_AGG","JSON_OBJECT_KEYS","JSON_POPULATE_RECORD","JSON_POPULATE_RECORDSET","JSON_STRIP_NULLS","JSON_TO_RECORD","JSON_TO_RECORDSET","JSON_TYPEOF","ROW_TO_JSON","TO_JSON","TO_JSONB","TO_TIMESTAMP","CURRVAL","LASTVAL","NEXTVAL","SETVAL","COALESCE","GREATEST","LEAST","NULLIF","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_DIMS","ARRAY_FILL","ARRAY_LENGTH","ARRAY_LOWER","ARRAY_NDIMS","ARRAY_POSITION","ARRAY_POSITIONS","ARRAY_PREPEND","ARRAY_REMOVE","ARRAY_REPLACE","ARRAY_TO_STRING","ARRAY_UPPER","CARDINALITY","STRING_TO_ARRAY","TRIM_ARRAY","UNNEST","ISEMPTY","LOWER","LOWER_INC","LOWER_INF","MULTIRANGE","RANGE_MERGE","UPPER","UPPER_INC","UPPER_INF","ARRAY_AGG","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COALESCE","CORR","COUNT","COVAR_POP","COVAR_SAMP","CUME_DIST","DENSE_RANK","EVERY","GROUPING","JSONB_AGG","JSONB_OBJECT_AGG","JSON_AGG","JSON_OBJECT_AGG","MAX","MIN","MODE","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","RANGE_AGG","RANGE_INTERSECT_AGG","RANK","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","STDDEV","STDDEV_POP","STDDEV_SAMP","STRING_AGG","SUM","TO_JSON","TO_JSONB","VARIANCE","VAR_POP","VAR_SAMP","XMLAGG","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAG","LAST_VALUE","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","GENERATE_SERIES","GENERATE_SUBSCRIPTS","ACLDEFAULT","ACLEXPLODE","COL_DESCRIPTION","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_QUERY","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","FORMAT_TYPE","HAS_ANY_COLUMN_PRIVILEGE","HAS_COLUMN_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE","HAS_FUNCTION_PRIVILEGE","HAS_LANGUAGE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_SEQUENCE_PRIVILEGE","HAS_SERVER_PRIVILEGE","HAS_TABLESPACE_PRIVILEGE","HAS_TABLE_PRIVILEGE","HAS_TYPE_PRIVILEGE","INET_CLIENT_ADDR","INET_CLIENT_PORT","INET_SERVER_ADDR","INET_SERVER_PORT","MAKEACLITEM","OBJ_DESCRIPTION","PG_BACKEND_PID","PG_BLOCKING_PIDS","PG_COLLATION_IS_VISIBLE","PG_CONF_LOAD_TIME","PG_CONTROL_CHECKPOINT","PG_CONTROL_INIT","PG_CONTROL_SYSTEM","PG_CONVERSION_IS_VISIBLE","PG_CURRENT_LOGFILE","PG_CURRENT_SNAPSHOT","PG_CURRENT_XACT_ID","PG_CURRENT_XACT_ID_IF_ASSIGNED","PG_DESCRIBE_OBJECT","PG_FUNCTION_IS_VISIBLE","PG_GET_CATALOG_FOREIGN_KEYS","PG_GET_CONSTRAINTDEF","PG_GET_EXPR","PG_GET_FUNCTIONDEF","PG_GET_FUNCTION_ARGUMENTS","PG_GET_FUNCTION_IDENTITY_ARGUMENTS","PG_GET_FUNCTION_RESULT","PG_GET_INDEXDEF","PG_GET_KEYWORDS","PG_GET_OBJECT_ADDRESS","PG_GET_OWNED_SEQUENCE","PG_GET_RULEDEF","PG_GET_SERIAL_SEQUENCE","PG_GET_STATISTICSOBJDEF","PG_GET_TRIGGERDEF","PG_GET_USERBYID","PG_GET_VIEWDEF","PG_HAS_ROLE","PG_IDENTIFY_OBJECT","PG_IDENTIFY_OBJECT_AS_ADDRESS","PG_INDEXAM_HAS_PROPERTY","PG_INDEX_COLUMN_HAS_PROPERTY","PG_INDEX_HAS_PROPERTY","PG_IS_OTHER_TEMP_SCHEMA","PG_JIT_AVAILABLE","PG_LAST_COMMITTED_XACT","PG_LISTENING_CHANNELS","PG_MY_TEMP_SCHEMA","PG_NOTIFICATION_QUEUE_USAGE","PG_OPCLASS_IS_VISIBLE","PG_OPERATOR_IS_VISIBLE","PG_OPFAMILY_IS_VISIBLE","PG_OPTIONS_TO_TABLE","PG_POSTMASTER_START_TIME","PG_SAFE_SNAPSHOT_BLOCKING_PIDS","PG_SNAPSHOT_XIP","PG_SNAPSHOT_XMAX","PG_SNAPSHOT_XMIN","PG_STATISTICS_OBJ_IS_VISIBLE","PG_TABLESPACE_DATABASES","PG_TABLESPACE_LOCATION","PG_TABLE_IS_VISIBLE","PG_TRIGGER_DEPTH","PG_TS_CONFIG_IS_VISIBLE","PG_TS_DICT_IS_VISIBLE","PG_TS_PARSER_IS_VISIBLE","PG_TS_TEMPLATE_IS_VISIBLE","PG_TYPEOF","PG_TYPE_IS_VISIBLE","PG_VISIBLE_IN_SNAPSHOT","PG_XACT_COMMIT_TIMESTAMP","PG_XACT_COMMIT_TIMESTAMP_ORIGIN","PG_XACT_STATUS","PQSERVERVERSION","ROW_SECURITY_ACTIVE","SESSION_USER","SHOBJ_DESCRIPTION","TO_REGCLASS","TO_REGCOLLATION","TO_REGNAMESPACE","TO_REGOPER","TO_REGOPERATOR","TO_REGPROC","TO_REGPROCEDURE","TO_REGROLE","TO_REGTYPE","TXID_CURRENT","TXID_CURRENT_IF_ASSIGNED","TXID_CURRENT_SNAPSHOT","TXID_SNAPSHOT_XIP","TXID_SNAPSHOT_XMAX","TXID_SNAPSHOT_XMIN","TXID_STATUS","TXID_VISIBLE_IN_SNAPSHOT","USER","VERSION","BRIN_DESUMMARIZE_RANGE","BRIN_SUMMARIZE_NEW_VALUES","BRIN_SUMMARIZE_RANGE","CONVERT_FROM","CURRENT_SETTING","GIN_CLEAN_PENDING_LIST","PG_ADVISORY_LOCK","PG_ADVISORY_LOCK_SHARED","PG_ADVISORY_UNLOCK","PG_ADVISORY_UNLOCK_ALL","PG_ADVISORY_UNLOCK_SHARED","PG_ADVISORY_XACT_LOCK","PG_ADVISORY_XACT_LOCK_SHARED","PG_BACKUP_START_TIME","PG_CANCEL_BACKEND","PG_COLLATION_ACTUAL_VERSION","PG_COLUMN_COMPRESSION","PG_COLUMN_SIZE","PG_COPY_LOGICAL_REPLICATION_SLOT","PG_COPY_PHYSICAL_REPLICATION_SLOT","PG_CREATE_LOGICAL_REPLICATION_SLOT","PG_CREATE_PHYSICAL_REPLICATION_SLOT","PG_CREATE_RESTORE_POINT","PG_CURRENT_WAL_FLUSH_LSN","PG_CURRENT_WAL_INSERT_LSN","PG_CURRENT_WAL_LSN","PG_DATABASE_SIZE","PG_DROP_REPLICATION_SLOT","PG_EXPORT_SNAPSHOT","PG_FILENODE_RELATION","PG_GET_WAL_REPLAY_PAUSE_STATE","PG_IMPORT_SYSTEM_COLLATIONS","PG_INDEXES_SIZE","PG_IS_IN_BACKUP","PG_IS_IN_RECOVERY","PG_IS_WAL_REPLAY_PAUSED","PG_LAST_WAL_RECEIVE_LSN","PG_LAST_WAL_REPLAY_LSN","PG_LAST_XACT_REPLAY_TIMESTAMP","PG_LOGICAL_EMIT_MESSAGE","PG_LOGICAL_SLOT_GET_BINARY_CHANGES","PG_LOGICAL_SLOT_GET_CHANGES","PG_LOGICAL_SLOT_PEEK_BINARY_CHANGES","PG_LOGICAL_SLOT_PEEK_CHANGES","PG_LOG_BACKEND_MEMORY_CONTEXTS","PG_LS_ARCHIVE_STATUSDIR","PG_LS_DIR","PG_LS_LOGDIR","PG_LS_TMPDIR","PG_LS_WALDIR","PG_PARTITION_ANCESTORS","PG_PARTITION_ROOT","PG_PARTITION_TREE","PG_PROMOTE","PG_READ_BINARY_FILE","PG_READ_FILE","PG_RELATION_FILENODE","PG_RELATION_FILEPATH","PG_RELATION_SIZE","PG_RELOAD_CONF","PG_REPLICATION_ORIGIN_ADVANCE","PG_REPLICATION_ORIGIN_CREATE","PG_REPLICATION_ORIGIN_DROP","PG_REPLICATION_ORIGIN_OID","PG_REPLICATION_ORIGIN_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_IS_SETUP","PG_REPLICATION_ORIGIN_SESSION_PROGRESS","PG_REPLICATION_ORIGIN_SESSION_RESET","PG_REPLICATION_ORIGIN_SESSION_SETUP","PG_REPLICATION_ORIGIN_XACT_RESET","PG_REPLICATION_ORIGIN_XACT_SETUP","PG_REPLICATION_SLOT_ADVANCE","PG_ROTATE_LOGFILE","PG_SIZE_BYTES","PG_SIZE_PRETTY","PG_START_BACKUP","PG_STAT_FILE","PG_STOP_BACKUP","PG_SWITCH_WAL","PG_TABLESPACE_SIZE","PG_TABLE_SIZE","PG_TERMINATE_BACKEND","PG_TOTAL_RELATION_SIZE","PG_TRY_ADVISORY_LOCK","PG_TRY_ADVISORY_LOCK_SHARED","PG_TRY_ADVISORY_XACT_LOCK","PG_TRY_ADVISORY_XACT_LOCK_SHARED","PG_WALFILE_NAME","PG_WALFILE_NAME_OFFSET","PG_WAL_LSN_DIFF","PG_WAL_REPLAY_PAUSE","PG_WAL_REPLAY_RESUME","SET_CONFIG","SUPPRESS_REDUNDANT_UPDATES_TRIGGER","TSVECTOR_UPDATE_TRIGGER","TSVECTOR_UPDATE_TRIGGER_COLUMN","PG_EVENT_TRIGGER_DDL_COMMANDS","PG_EVENT_TRIGGER_DROPPED_OBJECTS","PG_EVENT_TRIGGER_TABLE_REWRITE_OID","PG_EVENT_TRIGGER_TABLE_REWRITE_REASON","PG_GET_OBJECT_ADDRESS","PG_MCV_LIST_ITEMS","CAST"],Jx=["ALL","ANALYSE","ANALYZE","AND","ANY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BETWEEN","BINARY","BOTH","CASE","CAST","CHECK","COLLATE","COLLATION","COLUMN","CONCURRENTLY","CONSTRAINT","CREATE","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DAY","DEFAULT","DEFERRABLE","DESC","DISTINCT","DO","ELSE","END","EXCEPT","EXISTS","FALSE","FETCH","FILTER","FOR","FOREIGN","FREEZE","FROM","FULL","GRANT","GROUP","HAVING","HOUR","ILIKE","IN","INITIALLY","INNER","INOUT","INTERSECT","INTO","IS","ISNULL","JOIN","LATERAL","LEADING","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","MINUTE","MONTH","NATURAL","NOT","NOTNULL","NULL","NULLIF","OFFSET","ON","ONLY","OR","ORDER","OUT","OUTER","OVER","OVERLAPS","PLACING","PRIMARY","REFERENCES","RETURNING","RIGHT","ROW","SECOND","SELECT","SESSION_USER","SIMILAR","SOME","SYMMETRIC","TABLE","TABLESAMPLE","THEN","TO","TRAILING","TRUE","UNION","UNIQUE","USER","USING","VALUES","VARIADIC","VERBOSE","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","YEAR"],zx=["ARRAY","BIGINT","BIT","BIT VARYING","BOOL","BOOLEAN","CHAR","CHARACTER","CHARACTER VARYING","DECIMAL","DEC","DOUBLE","ENUM","FLOAT","INT","INTEGER","INTERVAL","NCHAR","NUMERIC","JSON","JSONB","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TIMESTAMPTZ","UUID","VARCHAR","XML","ZONE"],qx=k(["SELECT [ALL | DISTINCT]"]),Qx=k(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","FOR {UPDATE | NO KEY UPDATE | SHARE | KEY SHARE} [OF]","INSERT INTO","VALUES","DEFAULT VALUES","SET","RETURNING"]),UT=k(["CREATE [GLOBAL | LOCAL] [TEMPORARY | TEMP | UNLOGGED] TABLE [IF NOT EXISTS]"]),CE=k(["CREATE [OR REPLACE] [TEMP | TEMPORARY] [RECURSIVE] VIEW","CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]","UPDATE [ONLY]","WHERE CURRENT OF","ON CONFLICT","DELETE FROM [ONLY]","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS] [ONLY]","ALTER TABLE ALL IN TABLESPACE","RENAME [COLUMN]","RENAME TO","ADD [COLUMN] [IF NOT EXISTS]","DROP [COLUMN] [IF EXISTS]","ALTER [COLUMN]","SET DATA TYPE","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","TRUNCATE [TABLE] [ONLY]","SET SCHEMA","AFTER","ABORT","ALTER AGGREGATE","ALTER COLLATION","ALTER CONVERSION","ALTER DATABASE","ALTER DEFAULT PRIVILEGES","ALTER DOMAIN","ALTER EVENT TRIGGER","ALTER EXTENSION","ALTER FOREIGN DATA WRAPPER","ALTER FOREIGN TABLE","ALTER FUNCTION","ALTER GROUP","ALTER INDEX","ALTER LANGUAGE","ALTER LARGE OBJECT","ALTER MATERIALIZED VIEW","ALTER OPERATOR","ALTER OPERATOR CLASS","ALTER OPERATOR FAMILY","ALTER POLICY","ALTER PROCEDURE","ALTER PUBLICATION","ALTER ROLE","ALTER ROUTINE","ALTER RULE","ALTER SCHEMA","ALTER SEQUENCE","ALTER SERVER","ALTER STATISTICS","ALTER SUBSCRIPTION","ALTER SYSTEM","ALTER TABLESPACE","ALTER TEXT SEARCH CONFIGURATION","ALTER TEXT SEARCH DICTIONARY","ALTER TEXT SEARCH PARSER","ALTER TEXT SEARCH TEMPLATE","ALTER TRIGGER","ALTER TYPE","ALTER USER","ALTER USER MAPPING","ALTER VIEW","ANALYZE","BEGIN","CALL","CHECKPOINT","CLOSE","CLUSTER","COMMIT","COMMIT PREPARED","COPY","CREATE ACCESS METHOD","CREATE [OR REPLACE] AGGREGATE","CREATE CAST","CREATE COLLATION","CREATE [DEFAULT] CONVERSION","CREATE DATABASE","CREATE DOMAIN","CREATE EVENT TRIGGER","CREATE EXTENSION","CREATE FOREIGN DATA WRAPPER","CREATE FOREIGN TABLE","CREATE [OR REPLACE] FUNCTION","CREATE GROUP","CREATE [UNIQUE] INDEX","CREATE [OR REPLACE] [TRUSTED] [PROCEDURAL] LANGUAGE","CREATE OPERATOR","CREATE OPERATOR CLASS","CREATE OPERATOR FAMILY","CREATE POLICY","CREATE [OR REPLACE] PROCEDURE","CREATE PUBLICATION","CREATE ROLE","CREATE [OR REPLACE] RULE","CREATE SCHEMA [AUTHORIZATION]","CREATE [TEMPORARY | TEMP | UNLOGGED] SEQUENCE","CREATE SERVER","CREATE STATISTICS","CREATE SUBSCRIPTION","CREATE TABLESPACE","CREATE TEXT SEARCH CONFIGURATION","CREATE TEXT SEARCH DICTIONARY","CREATE TEXT SEARCH PARSER","CREATE TEXT SEARCH TEMPLATE","CREATE [OR REPLACE] TRANSFORM","CREATE [OR REPLACE] [CONSTRAINT] TRIGGER","CREATE TYPE","CREATE USER","CREATE USER MAPPING","DEALLOCATE","DECLARE","DISCARD","DROP ACCESS METHOD","DROP AGGREGATE","DROP CAST","DROP COLLATION","DROP CONVERSION","DROP DATABASE","DROP DOMAIN","DROP EVENT TRIGGER","DROP EXTENSION","DROP FOREIGN DATA WRAPPER","DROP FOREIGN TABLE","DROP FUNCTION","DROP GROUP","DROP IDENTITY","DROP INDEX","DROP LANGUAGE","DROP MATERIALIZED VIEW [IF EXISTS]","DROP OPERATOR","DROP OPERATOR CLASS","DROP OPERATOR FAMILY","DROP OWNED","DROP POLICY","DROP PROCEDURE","DROP PUBLICATION","DROP ROLE","DROP ROUTINE","DROP RULE","DROP SCHEMA","DROP SEQUENCE","DROP SERVER","DROP STATISTICS","DROP SUBSCRIPTION","DROP TABLESPACE","DROP TEXT SEARCH CONFIGURATION","DROP TEXT SEARCH DICTIONARY","DROP TEXT SEARCH PARSER","DROP TEXT SEARCH TEMPLATE","DROP TRANSFORM","DROP TRIGGER","DROP TYPE","DROP USER","DROP USER MAPPING","DROP VIEW","EXECUTE","EXPLAIN","FETCH","GRANT","IMPORT FOREIGN SCHEMA","LISTEN","LOAD","LOCK","MOVE","NOTIFY","OVERRIDING SYSTEM VALUE","PREPARE","PREPARE TRANSACTION","REASSIGN OWNED","REFRESH MATERIALIZED VIEW","REINDEX","RELEASE SAVEPOINT","RESET [ALL|ROLE|SESSION AUTHORIZATION]","REVOKE","ROLLBACK","ROLLBACK PREPARED","ROLLBACK TO SAVEPOINT","SAVEPOINT","SECURITY LABEL","SELECT INTO","SET CONSTRAINTS","SET ROLE","SET SESSION AUTHORIZATION","SET TRANSACTION","SHOW","START TRANSACTION","UNLISTEN","VACUUM"]),jx=k(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),Zx=k(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),eP=k(["PRIMARY KEY","GENERATED {ALWAYS | BY DEFAULT} AS IDENTITY","ON {UPDATE | DELETE} [NO ACTION | RESTRICT | CASCADE | SET NULL | SET DEFAULT]","DO {NOTHING | UPDATE}","AS MATERIALIZED","{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM","NULLS {FIRST | LAST}","WITH ORDINALITY"]),tP=k(["[TIMESTAMP | TIME] {WITH | WITHOUT} TIME ZONE"]),rP={name:"postgresql",tokenizerOptions:{reservedSelect:qx,reservedClauses:[...Qx,...UT,...CE],reservedSetOperations:jx,reservedJoins:Zx,reservedKeywordPhrases:eP,reservedDataTypePhrases:tP,reservedKeywords:Jx,reservedDataTypes:zx,reservedFunctionNames:$x,nestedBlockComments:!0,extraParens:["[]"],underscoresInNumbers:!0,stringTypes:["$$",{quote:"''-qq",prefixes:["U&"]},{quote:"''-qq-bs",prefixes:["E"],requirePrefix:!0},{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:[{quote:'""-qq',prefixes:["U&"]}],identChars:{rest:"$"},paramTypes:{numbered:["$"]},operators:["%","^","|/","||/","@",":=","&","|","#","~","<<",">>","~>~","~<~","~>=~","~<=~","@-@","@@","##","<->","&&","&<","&>","<<|","&<|","|>>","|&>","<^","^>","?#","?-","?|","?-|","?||","@>","<@","~=","?","@?","?&","->","->>","#>","#>>","#-","=>",">>=","<<=","~~","~~*","!~~","!~~*","~","~*","!~","!~*","-|-","||","@@@","!!","^@","<%","%>","<<%","%>>","<<->","<->>","<<<->","<->>>","::",":","<#>","<=>","<+>","<~>","<%>"],operatorKeyword:!0},formatOptions:{alwaysDenseOperators:["::",":"],onelineClauses:[...UT,...CE],tabularOnelineClauses:CE}},iP=["ANY_VALUE","APPROXIMATE PERCENTILE_DISC","AVG","COUNT","LISTAGG","MAX","MEDIAN","MIN","PERCENTILE_CONT","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","array_concat","array_flatten","get_array_length","split_to_array","subarray","BIT_AND","BIT_OR","BOOL_AND","BOOL_OR","COALESCE","DECODE","GREATEST","LEAST","NVL","NVL2","NULLIF","ADD_MONTHS","AT TIME ZONE","CONVERT_TIMEZONE","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATE_CMP","DATE_CMP_TIMESTAMP","DATE_CMP_TIMESTAMPTZ","DATE_PART_YEAR","DATEADD","DATEDIFF","DATE_PART","DATE_TRUNC","EXTRACT","GETDATE","INTERVAL_CMP","LAST_DAY","MONTHS_BETWEEN","NEXT_DAY","SYSDATE","TIMEOFDAY","TIMESTAMP_CMP","TIMESTAMP_CMP_DATE","TIMESTAMP_CMP_TIMESTAMPTZ","TIMESTAMPTZ_CMP","TIMESTAMPTZ_CMP_DATE","TIMESTAMPTZ_CMP_TIMESTAMP","TIMEZONE","TO_TIMESTAMP","TRUNC","AddBBox","DropBBox","GeometryType","ST_AddPoint","ST_Angle","ST_Area","ST_AsBinary","ST_AsEWKB","ST_AsEWKT","ST_AsGeoJSON","ST_AsText","ST_Azimuth","ST_Boundary","ST_Collect","ST_Contains","ST_ContainsProperly","ST_ConvexHull","ST_CoveredBy","ST_Covers","ST_Crosses","ST_Dimension","ST_Disjoint","ST_Distance","ST_DistanceSphere","ST_DWithin","ST_EndPoint","ST_Envelope","ST_Equals","ST_ExteriorRing","ST_Force2D","ST_Force3D","ST_Force3DM","ST_Force3DZ","ST_Force4D","ST_GeometryN","ST_GeometryType","ST_GeomFromEWKB","ST_GeomFromEWKT","ST_GeomFromText","ST_GeomFromWKB","ST_InteriorRingN","ST_Intersects","ST_IsPolygonCCW","ST_IsPolygonCW","ST_IsClosed","ST_IsCollection","ST_IsEmpty","ST_IsSimple","ST_IsValid","ST_Length","ST_LengthSphere","ST_Length2D","ST_LineFromMultiPoint","ST_LineInterpolatePoint","ST_M","ST_MakeEnvelope","ST_MakeLine","ST_MakePoint","ST_MakePolygon","ST_MemSize","ST_MMax","ST_MMin","ST_Multi","ST_NDims","ST_NPoints","ST_NRings","ST_NumGeometries","ST_NumInteriorRings","ST_NumPoints","ST_Perimeter","ST_Perimeter2D","ST_Point","ST_PointN","ST_Points","ST_Polygon","ST_RemovePoint","ST_Reverse","ST_SetPoint","ST_SetSRID","ST_Simplify","ST_SRID","ST_StartPoint","ST_Touches","ST_Within","ST_X","ST_XMax","ST_XMin","ST_Y","ST_YMax","ST_YMin","ST_Z","ST_ZMax","ST_ZMin","SupportsBBox","CHECKSUM","FUNC_SHA1","FNV_HASH","MD5","SHA","SHA1","SHA2","HLL","HLL_CREATE_SKETCH","HLL_CARDINALITY","HLL_COMBINE","IS_VALID_JSON","IS_VALID_JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_EXTRACT_ARRAY_ELEMENT_TEXT","JSON_EXTRACT_PATH_TEXT","JSON_PARSE","JSON_SERIALIZE","ABS","ACOS","ASIN","ATAN","ATAN2","CBRT","CEILING","CEIL","COS","COT","DEGREES","DEXP","DLOG1","DLOG10","EXP","FLOOR","LN","LOG","MOD","PI","POWER","RADIANS","RANDOM","ROUND","SIN","SIGN","SQRT","TAN","TO_HEX","TRUNC","EXPLAIN_MODEL","ASCII","BPCHARCMP","BTRIM","BTTEXT_PATTERN_CMP","CHAR_LENGTH","CHARACTER_LENGTH","CHARINDEX","CHR","COLLATE","CONCAT","CRC32","DIFFERENCE","INITCAP","LEFT","RIGHT","LEN","LENGTH","LOWER","LPAD","RPAD","LTRIM","OCTETINDEX","OCTET_LENGTH","POSITION","QUOTE_IDENT","QUOTE_LITERAL","REGEXP_COUNT","REGEXP_INSTR","REGEXP_REPLACE","REGEXP_SUBSTR","REPEAT","REPLACE","REPLICATE","REVERSE","RTRIM","SOUNDEX","SPLIT_PART","STRPOS","STRTOL","SUBSTRING","TEXTLEN","TRANSLATE","TRIM","UPPER","decimal_precision","decimal_scale","is_array","is_bigint","is_boolean","is_char","is_decimal","is_float","is_integer","is_object","is_scalar","is_smallint","is_varchar","json_typeof","AVG","COUNT","CUME_DIST","DENSE_RANK","FIRST_VALUE","LAST_VALUE","LAG","LEAD","LISTAGG","MAX","MEDIAN","MIN","NTH_VALUE","NTILE","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","RANK","RATIO_TO_REPORT","ROW_NUMBER","STDDEV_SAMP","STDDEV_POP","SUM","VAR_SAMP","VAR_POP","CAST","CONVERT","TO_CHAR","TO_DATE","TO_NUMBER","TEXT_TO_INT_ALT","TEXT_TO_NUMERIC_ALT","CHANGE_QUERY_PRIORITY","CHANGE_SESSION_PRIORITY","CHANGE_USER_PRIORITY","CURRENT_SETTING","PG_CANCEL_BACKEND","PG_TERMINATE_BACKEND","REBOOT_CLUSTER","SET_CONFIG","CURRENT_AWS_ACCOUNT","CURRENT_DATABASE","CURRENT_NAMESPACE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_USER","CURRENT_USER_ID","HAS_ASSUMEROLE_PRIVILEGE","HAS_DATABASE_PRIVILEGE","HAS_SCHEMA_PRIVILEGE","HAS_TABLE_PRIVILEGE","PG_BACKEND_PID","PG_GET_COLS","PG_GET_GRANTEE_BY_IAM_ROLE","PG_GET_IAM_ROLE_BY_USER","PG_GET_LATE_BINDING_VIEW_COLS","PG_LAST_COPY_COUNT","PG_LAST_COPY_ID","PG_LAST_UNLOAD_ID","PG_LAST_QUERY_ID","PG_LAST_UNLOAD_COUNT","SESSION_USER","SLICE_NUM","USER","VERSION"],nP=["AES128","AES256","ALL","ALLOWOVERWRITE","ANY","AS","ASC","AUTHORIZATION","BACKUP","BETWEEN","BINARY","BOTH","CHECK","COLUMN","CONSTRAINT","CREATE","CROSS","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DESC","DISABLE","DISTINCT","DO","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","EXPLICIT","FALSE","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GROUP","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INTO","IS","ISNULL","LANGUAGE","LEADING","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","MINUS","NATURAL","NEW","NOT","NOTNULL","NULL","NULLS","OFF","OFFLINE","OFFSET","OID","OLD","ON","ONLY","OPEN","ORDER","OUTER","OVERLAPS","PARALLEL","PARTITION","PERCENT","PERMISSIONS","PLACING","PRIMARY","RECOVER","REFERENCES","REJECTLOG","RESORT","RESPECT","RESTORE","SIMILAR","SNAPSHOT","SOME","SYSTEM","TABLE","TAG","TDES","THEN","TIMESTAMP","TO","TOP","TRAILING","TRUE","UNIQUE","USING","VERBOSE","WALLET","WITHOUT","ACCEPTANYDATE","ACCEPTINVCHARS","BLANKSASNULL","DATEFORMAT","EMPTYASNULL","ENCODING","ESCAPE","EXPLICIT_IDS","FILLRECORD","IGNOREBLANKLINES","IGNOREHEADER","REMOVEQUOTES","ROUNDEC","TIMEFORMAT","TRIMBLANKS","TRUNCATECOLUMNS","COMPROWS","COMPUPDATE","MAXERROR","NOLOAD","STATUPDATE","FORMAT","CSV","DELIMITER","FIXEDWIDTH","SHAPEFILE","AVRO","JSON","PARQUET","ORC","ACCESS_KEY_ID","CREDENTIALS","ENCRYPTED","IAM_ROLE","MASTER_SYMMETRIC_KEY","SECRET_ACCESS_KEY","SESSION_TOKEN","BZIP2","GZIP","LZOP","ZSTD","MANIFEST","READRATIO","REGION","SSH","RAW","AZ64","BYTEDICT","DELTA","DELTA32K","LZO","MOSTLY8","MOSTLY16","MOSTLY32","RUNLENGTH","TEXT255","TEXT32K","CATALOG_ROLE","SECRET_ARN","EXTERNAL","AUTO","EVEN","KEY","PREDICATE","COMPRESSION"],sP=["ARRAY","BIGINT","BPCHAR","CHAR","CHARACTER VARYING","CHARACTER","DECIMAL","INT","INT2","INT4","INT8","INTEGER","NCHAR","NUMERIC","NVARCHAR","SMALLINT","TEXT","VARBYTE","VARCHAR"],aP=k(["SELECT [ALL | DISTINCT]"]),oP=k(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","QUALIFY","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT INTO","VALUES","SET"]),yT=k(["CREATE [TEMPORARY | TEMP | LOCAL TEMPORARY | LOCAL TEMP] TABLE [IF NOT EXISTS]"]),_E=k(["CREATE [OR REPLACE | MATERIALIZED] VIEW","UPDATE","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ALTER TABLE APPEND","ADD [COLUMN]","DROP [COLUMN]","RENAME TO","RENAME COLUMN","ALTER COLUMN","TYPE","ENCODE","TRUNCATE [TABLE]","ABORT","ALTER DATABASE","ALTER DATASHARE","ALTER DEFAULT PRIVILEGES","ALTER GROUP","ALTER MATERIALIZED VIEW","ALTER PROCEDURE","ALTER SCHEMA","ALTER USER","ANALYSE","ANALYZE","ANALYSE COMPRESSION","ANALYZE COMPRESSION","BEGIN","CALL","CANCEL","CLOSE","COMMIT","COPY","CREATE DATABASE","CREATE DATASHARE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL SCHEMA","CREATE EXTERNAL TABLE","CREATE FUNCTION","CREATE GROUP","CREATE LIBRARY","CREATE MODEL","CREATE PROCEDURE","CREATE SCHEMA","CREATE USER","DEALLOCATE","DECLARE","DESC DATASHARE","DROP DATABASE","DROP DATASHARE","DROP FUNCTION","DROP GROUP","DROP LIBRARY","DROP MODEL","DROP MATERIALIZED VIEW","DROP PROCEDURE","DROP SCHEMA","DROP USER","DROP VIEW","DROP","EXECUTE","EXPLAIN","FETCH","GRANT","LOCK","PREPARE","REFRESH MATERIALIZED VIEW","RESET","REVOKE","ROLLBACK","SELECT INTO","SET SESSION AUTHORIZATION","SET SESSION CHARACTERISTICS","SHOW","SHOW EXTERNAL TABLE","SHOW MODEL","SHOW DATASHARES","SHOW PROCEDURE","SHOW TABLE","SHOW VIEW","START TRANSACTION","UNLOAD","VACUUM"]),lP=k(["UNION [ALL]","EXCEPT","INTERSECT","MINUS"]),EP=k(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),hP=k(["NULL AS","DATA CATALOG","HIVE METASTORE","{ROWS | RANGE} BETWEEN"]),cP=k([]),fP={name:"redshift",tokenizerOptions:{reservedSelect:aP,reservedClauses:[...oP,...yT,..._E],reservedSetOperations:lP,reservedJoins:EP,reservedKeywordPhrases:hP,reservedDataTypePhrases:cP,reservedKeywords:nP,reservedDataTypes:sP,reservedFunctionNames:iP,extraParens:["[]"],stringTypes:["''-qq"],identTypes:['""-qq'],identChars:{first:"#"},paramTypes:{numbered:["$"]},operators:["^","%","@","|/","||/","&","|","~","<<",">>","||","::"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...yT,..._E],tabularOnelineClauses:_E}},TP=["ADD","AFTER","ALL","ALTER","ANALYZE","AND","ANTI","ANY","ARCHIVE","AS","ASC","AT","AUTHORIZATION","BETWEEN","BOTH","BUCKET","BUCKETS","BY","CACHE","CASCADE","CAST","CHANGE","CHECK","CLEAR","CLUSTER","CLUSTERED","CODEGEN","COLLATE","COLLECTION","COLUMN","COLUMNS","COMMENT","COMMIT","COMPACT","COMPACTIONS","COMPUTE","CONCATENATE","CONSTRAINT","COST","CREATE","CROSS","CUBE","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATA","DATABASE","DATABASES","DAY","DBPROPERTIES","DEFINED","DELETE","DELIMITED","DESC","DESCRIBE","DFS","DIRECTORIES","DIRECTORY","DISTINCT","DISTRIBUTE","DIV","DROP","ESCAPE","ESCAPED","EXCEPT","EXCHANGE","EXISTS","EXPORT","EXTENDED","EXTERNAL","EXTRACT","FALSE","FETCH","FIELDS","FILTER","FILEFORMAT","FIRST","FIRST_VALUE","FOLLOWING","FOR","FOREIGN","FORMAT","FORMATTED","FULL","FUNCTION","FUNCTIONS","GLOBAL","GRANT","GROUP","GROUPING","HOUR","IF","IGNORE","IMPORT","IN","INDEX","INDEXES","INNER","INPATH","INPUTFORMAT","INTERSECT","INTO","IS","ITEMS","KEYS","LAST","LAST_VALUE","LATERAL","LAZY","LEADING","LEFT","LIKE","LINES","LIST","LOCAL","LOCATION","LOCK","LOCKS","LOGICAL","MACRO","MATCHED","MERGE","MINUTE","MONTH","MSCK","NAMESPACE","NAMESPACES","NATURAL","NO","NOT","NULL","NULLS","OF","ONLY","OPTION","OPTIONS","OR","ORDER","OUT","OUTER","OUTPUTFORMAT","OVER","OVERLAPS","OVERLAY","OVERWRITE","OWNER","PARTITION","PARTITIONED","PARTITIONS","PERCENT","PLACING","POSITION","PRECEDING","PRIMARY","PRINCIPALS","PROPERTIES","PURGE","QUERY","RANGE","RECORDREADER","RECORDWRITER","RECOVER","REDUCE","REFERENCES","RENAME","REPAIR","REPLACE","RESPECT","RESTRICT","REVOKE","RIGHT","RLIKE","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","SCHEMA","SECOND","SELECT","SEMI","SEPARATED","SERDE","SERDEPROPERTIES","SESSION_USER","SETS","SHOW","SKEWED","SOME","SORT","SORTED","START","STATISTICS","STORED","STRATIFY","SUBSTR","SUBSTRING","TABLE","TABLES","TBLPROPERTIES","TEMPORARY","TERMINATED","THEN","TO","TOUCH","TRAILING","TRANSACTION","TRANSACTIONS","TRIM","TRUE","TRUNCATE","UNARCHIVE","UNBOUNDED","UNCACHE","UNIQUE","UNKNOWN","UNLOCK","UNSET","USE","USER","USING","VIEW","WINDOW","YEAR","ANALYSE","ARRAY_ZIP","COALESCE","CONTAINS","CONVERT","DAYS","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DECODE","DEFAULT","DISTINCTROW","ENCODE","EXPLODE","EXPLODE_OUTER","FIXED","GREATEST","GROUP_CONCAT","HOURS","HOUR_MINUTE","HOUR_SECOND","IFNULL","LEAST","LEVEL","MINUTE_SECOND","NULLIF","OFFSET","ON","OPTIMIZE","REGEXP","SEPARATOR","SIZE","TYPE","TYPES","UNSIGNED","VARIABLES","YEAR_MONTH"],uP=["ARRAY","BIGINT","BINARY","BOOLEAN","BYTE","CHAR","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","LONG","MAP","NUMERIC","REAL","SHORT","SMALLINT","STRING","STRUCT","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TINYINT","VARCHAR"],AP=["APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","AVG","BIT_AND","BIT_OR","BIT_XOR","BOOL_AND","BOOL_OR","COLLECT_LIST","COLLECT_SET","CORR","COUNT","COUNT","COUNT","COUNT_IF","COUNT_MIN_SKETCH","COVAR_POP","COVAR_SAMP","EVERY","FIRST","FIRST_VALUE","GROUPING","GROUPING_ID","KURTOSIS","LAST","LAST_VALUE","MAX","MAX_BY","MEAN","MIN","MIN_BY","PERCENTILE","PERCENTILE","PERCENTILE_APPROX","SKEWNESS","STD","STDDEV","STDDEV_POP","STDDEV_SAMP","SUM","VAR_POP","VAR_SAMP","VARIANCE","CUME_DIST","DENSE_RANK","LAG","LEAD","NTH_VALUE","NTILE","PERCENT_RANK","RANK","ROW_NUMBER","ARRAY","ARRAY_CONTAINS","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_REPEAT","ARRAY_UNION","ARRAYS_OVERLAP","ARRAYS_ZIP","FLATTEN","SEQUENCE","SHUFFLE","SLICE","SORT_ARRAY","ELEMENT_AT","ELEMENT_AT","MAP_CONCAT","MAP_ENTRIES","MAP_FROM_ARRAYS","MAP_FROM_ENTRIES","MAP_KEYS","MAP_VALUES","STR_TO_MAP","ADD_MONTHS","CURRENT_DATE","CURRENT_DATE","CURRENT_TIMESTAMP","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","DATE_ADD","DATE_FORMAT","DATE_FROM_UNIX_DATE","DATE_PART","DATE_SUB","DATE_TRUNC","DATEDIFF","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","EXTRACT","FROM_UNIXTIME","FROM_UTC_TIMESTAMP","HOUR","LAST_DAY","MAKE_DATE","MAKE_DT_INTERVAL","MAKE_INTERVAL","MAKE_TIMESTAMP","MAKE_YM_INTERVAL","MINUTE","MONTH","MONTHS_BETWEEN","NEXT_DAY","NOW","QUARTER","SECOND","SESSION_WINDOW","TIMESTAMP_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_SECONDS","TO_DATE","TO_TIMESTAMP","TO_UNIX_TIMESTAMP","TO_UTC_TIMESTAMP","TRUNC","UNIX_DATE","UNIX_MICROS","UNIX_MILLIS","UNIX_SECONDS","UNIX_TIMESTAMP","WEEKDAY","WEEKOFYEAR","WINDOW","YEAR","FROM_JSON","GET_JSON_OBJECT","JSON_ARRAY_LENGTH","JSON_OBJECT_KEYS","JSON_TUPLE","SCHEMA_OF_JSON","TO_JSON","ABS","ACOS","ACOSH","AGGREGATE","ARRAY_SORT","ASCII","ASIN","ASINH","ASSERT_TRUE","ATAN","ATAN2","ATANH","BASE64","BIN","BIT_COUNT","BIT_GET","BIT_LENGTH","BROUND","BTRIM","CARDINALITY","CBRT","CEIL","CEILING","CHAR_LENGTH","CHARACTER_LENGTH","CHR","CONCAT","CONCAT_WS","CONV","COS","COSH","COT","CRC32","CURRENT_CATALOG","CURRENT_DATABASE","CURRENT_USER","DEGREES","ELT","EXP","EXPM1","FACTORIAL","FIND_IN_SET","FLOOR","FORALL","FORMAT_NUMBER","FORMAT_STRING","FROM_CSV","GETBIT","HASH","HEX","HYPOT","INITCAP","INLINE","INLINE_OUTER","INPUT_FILE_BLOCK_LENGTH","INPUT_FILE_BLOCK_START","INPUT_FILE_NAME","INSTR","ISNAN","ISNOTNULL","ISNULL","JAVA_METHOD","LCASE","LEFT","LENGTH","LEVENSHTEIN","LN","LOCATE","LOG","LOG10","LOG1P","LOG2","LOWER","LPAD","LTRIM","MAP_FILTER","MAP_ZIP_WITH","MD5","MOD","MONOTONICALLY_INCREASING_ID","NAMED_STRUCT","NANVL","NEGATIVE","NVL","NVL2","OCTET_LENGTH","OVERLAY","PARSE_URL","PI","PMOD","POSEXPLODE","POSEXPLODE_OUTER","POSITION","POSITIVE","POW","POWER","PRINTF","RADIANS","RAISE_ERROR","RAND","RANDN","RANDOM","REFLECT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_REPLACE","REPEAT","REPLACE","REVERSE","RIGHT","RINT","ROUND","RPAD","RTRIM","SCHEMA_OF_CSV","SENTENCES","SHA","SHA1","SHA2","SHIFTLEFT","SHIFTRIGHT","SHIFTRIGHTUNSIGNED","SIGN","SIGNUM","SIN","SINH","SOUNDEX","SPACE","SPARK_PARTITION_ID","SPLIT","SQRT","STACK","SUBSTR","SUBSTRING","SUBSTRING_INDEX","TAN","TANH","TO_CSV","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRY_ADD","TRY_DIVIDE","TYPEOF","UCASE","UNBASE64","UNHEX","UPPER","UUID","VERSION","WIDTH_BUCKET","XPATH","XPATH_BOOLEAN","XPATH_DOUBLE","XPATH_FLOAT","XPATH_INT","XPATH_LONG","XPATH_NUMBER","XPATH_SHORT","XPATH_STRING","XXHASH64","ZIP_WITH","CAST","COALESCE","NULLIF"],RP=k(["SELECT [ALL | DISTINCT]"]),SP=k(["WITH","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","SORT BY","CLUSTER BY","DISTRIBUTE BY","LIMIT","INSERT [INTO | OVERWRITE] [TABLE]","VALUES","INSERT OVERWRITE [LOCAL] DIRECTORY","LOAD DATA [LOCAL] INPATH","[OVERWRITE] INTO TABLE"]),wT=k(["CREATE [EXTERNAL] TABLE [IF NOT EXISTS]"]),gE=k(["CREATE [OR REPLACE] [GLOBAL TEMPORARY | TEMPORARY] VIEW [IF NOT EXISTS]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD COLUMNS","DROP {COLUMN | COLUMNS}","RENAME TO","RENAME COLUMN","ALTER COLUMN","TRUNCATE TABLE","LATERAL VIEW","ALTER DATABASE","ALTER VIEW","CREATE DATABASE","CREATE FUNCTION","DROP DATABASE","DROP FUNCTION","DROP VIEW","REPAIR TABLE","USE DATABASE","TABLESAMPLE","PIVOT","TRANSFORM","EXPLAIN","ADD FILE","ADD JAR","ANALYZE TABLE","CACHE TABLE","CLEAR CACHE","DESCRIBE DATABASE","DESCRIBE FUNCTION","DESCRIBE QUERY","DESCRIBE TABLE","LIST FILE","LIST JAR","REFRESH","REFRESH TABLE","REFRESH FUNCTION","RESET","SHOW COLUMNS","SHOW CREATE TABLE","SHOW DATABASES","SHOW FUNCTIONS","SHOW PARTITIONS","SHOW TABLE EXTENDED","SHOW TABLES","SHOW TBLPROPERTIES","SHOW VIEWS","UNCACHE TABLE"]),dP=k(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),OP=k(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN","[LEFT] {ANTI | SEMI} JOIN","NATURAL [LEFT] {ANTI | SEMI} JOIN"]),IP=k(["ON DELETE","ON UPDATE","CURRENT ROW","{ROWS | RANGE} BETWEEN"]),NP=k([]),pP={name:"spark",tokenizerOptions:{reservedSelect:RP,reservedClauses:[...SP,...wT,...gE],reservedSetOperations:dP,reservedJoins:OP,reservedKeywordPhrases:IP,reservedDataTypePhrases:NP,supportsXor:!0,reservedKeywords:TP,reservedDataTypes:uP,reservedFunctionNames:AP,extraParens:["[]"],stringTypes:["''-bs",'""-bs',{quote:"''-raw",prefixes:["R","X"],requirePrefix:!0},{quote:'""-raw',prefixes:["R","X"],requirePrefix:!0}],identTypes:["``"],identChars:{allowFirstCharNumber:!0},variableTypes:[{quote:"{}",prefixes:["$"],requirePrefix:!0}],operators:["%","~","^","|","&","<=>","==","!","||","->"],postProcess:mP},formatOptions:{onelineClauses:[...wT,...gE],tabularOnelineClauses:gE}};function mP(r){return r.map((e,t)=>{const i=r[t-1]||Jn,n=r[t+1]||Jn;return on.WINDOW(e)&&n.type===ee.OPEN_PAREN?Object.assign(Object.assign({},e),{type:ee.RESERVED_FUNCTION_NAME}):e.text==="ITEMS"&&e.type===ee.RESERVED_KEYWORD&&!(i.text==="COLLECTION"&&n.text==="TERMINATED")?Object.assign(Object.assign({},e),{type:ee.IDENTIFIER,text:e.raw}):e})}const CP=["ABS","CHANGES","CHAR","COALESCE","FORMAT","GLOB","HEX","IFNULL","IIF","INSTR","LAST_INSERT_ROWID","LENGTH","LIKE","LIKELIHOOD","LIKELY","LOAD_EXTENSION","LOWER","LTRIM","NULLIF","PRINTF","QUOTE","RANDOM","RANDOMBLOB","REPLACE","ROUND","RTRIM","SIGN","SOUNDEX","SQLITE_COMPILEOPTION_GET","SQLITE_COMPILEOPTION_USED","SQLITE_OFFSET","SQLITE_SOURCE_ID","SQLITE_VERSION","SUBSTR","SUBSTRING","TOTAL_CHANGES","TRIM","TYPEOF","UNICODE","UNLIKELY","UPPER","ZEROBLOB","AVG","COUNT","GROUP_CONCAT","MAX","MIN","SUM","TOTAL","DATE","TIME","DATETIME","JULIANDAY","UNIXEPOCH","STRFTIME","row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","ACOS","ACOSH","ASIN","ASINH","ATAN","ATAN2","ATANH","CEIL","CEILING","COS","COSH","DEGREES","EXP","FLOOR","LN","LOG","LOG","LOG10","LOG2","MOD","PI","POW","POWER","RADIANS","SIN","SINH","SQRT","TAN","TANH","TRUNC","JSON","JSON_ARRAY","JSON_ARRAY_LENGTH","JSON_ARRAY_LENGTH","JSON_EXTRACT","JSON_INSERT","JSON_OBJECT","JSON_PATCH","JSON_REMOVE","JSON_REPLACE","JSON_SET","JSON_TYPE","JSON_TYPE","JSON_VALID","JSON_QUOTE","JSON_GROUP_ARRAY","JSON_GROUP_OBJECT","JSON_EACH","JSON_TREE","CAST"],_P=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","AND","ARE","ALWAYS","ANALYZE","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DO","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUDE","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FILTER","FIRST","FOLLOWING","FOR","FOREIGN","FROM","FULL","GENERATED","GLOB","GROUP","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LAST","LEFT","LIKE","LIMIT","MATCH","MATERIALIZED","NATURAL","NO","NOT","NOTHING","NOTNULL","NULL","NULLS","OF","OFFSET","ON","ONLY","OPEN","OR","ORDER","OTHERS","OUTER","OVER","PARTITION","PLAN","PRAGMA","PRECEDING","PRIMARY","QUERY","RAISE","RANGE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RETURNING","RIGHT","ROLLBACK","ROW","ROWS","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TIES","TO","TRANSACTION","TRIGGER","UNBOUNDED","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WINDOW","WITH","WITHOUT"],gP=["ANY","ARRAY","BLOB","CHARACTER","DECIMAL","INT","INTEGER","NATIVE CHARACTER","NCHAR","NUMERIC","NVARCHAR","REAL","TEXT","VARCHAR","VARYING CHARACTER"],LP=k(["SELECT [ALL | DISTINCT]"]),DP=k(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK] INTO","REPLACE INTO","VALUES","SET","RETURNING"]),FT=k(["CREATE [TEMPORARY | TEMP] TABLE [IF NOT EXISTS]"]),LE=k(["CREATE [TEMPORARY | TEMP] VIEW [IF NOT EXISTS]","UPDATE [OR ABORT | OR FAIL | OR IGNORE | OR REPLACE | OR ROLLBACK]","ON CONFLICT","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD [COLUMN]","DROP [COLUMN]","RENAME [COLUMN]","RENAME TO","SET SCHEMA"]),xP=k(["UNION [ALL]","EXCEPT","INTERSECT"]),PP=k(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),MP=k(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE | GROUPS} BETWEEN","DO UPDATE"]),vP=k([]),UP={name:"sqlite",tokenizerOptions:{reservedSelect:LP,reservedClauses:[...DP,...FT,...LE],reservedSetOperations:xP,reservedJoins:PP,reservedKeywordPhrases:MP,reservedDataTypePhrases:vP,reservedKeywords:_P,reservedDataTypes:gP,reservedFunctionNames:CP,stringTypes:["''-qq",{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``","[]"],paramTypes:{positional:!0,numbered:["?"],named:[":","@","$"]},operators:["%","~","&","|","<<",">>","==","->","->>","||"]},formatOptions:{onelineClauses:[...FT,...LE],tabularOnelineClauses:LE}},yP=["GROUPING","RANK","DENSE_RANK","PERCENT_RANK","CUME_DIST","ROW_NUMBER","POSITION","OCCURRENCES_REGEX","POSITION_REGEX","EXTRACT","CHAR_LENGTH","CHARACTER_LENGTH","OCTET_LENGTH","CARDINALITY","ABS","MOD","LN","EXP","POWER","SQRT","FLOOR","CEIL","CEILING","WIDTH_BUCKET","SUBSTRING","SUBSTRING_REGEX","UPPER","LOWER","CONVERT","TRANSLATE","TRANSLATE_REGEX","TRIM","OVERLAY","NORMALIZE","SPECIFICTYPE","CURRENT_DATE","CURRENT_TIME","LOCALTIME","CURRENT_TIMESTAMP","LOCALTIMESTAMP","COUNT","AVG","MAX","MIN","SUM","STDDEV_POP","STDDEV_SAMP","VAR_SAMP","VAR_POP","COLLECT","FUSION","INTERSECTION","COVAR_POP","COVAR_SAMP","CORR","REGR_SLOPE","REGR_INTERCEPT","REGR_COUNT","REGR_R2","REGR_AVGX","REGR_AVGY","REGR_SXX","REGR_SYY","REGR_SXY","PERCENTILE_CONT","PERCENTILE_DISC","CAST","COALESCE","NULLIF","ROUND","SIN","COS","TAN","ASIN","ACOS","ATAN"],wP=["ALL","ALLOCATE","ALTER","ANY","ARE","AS","ASC","ASENSITIVE","ASYMMETRIC","AT","ATOMIC","AUTHORIZATION","BEGIN","BETWEEN","BOTH","BY","CALL","CALLED","CASCADED","CAST","CHECK","CLOSE","COALESCE","COLLATE","COLUMN","COMMIT","CONDITION","CONNECT","CONSTRAINT","CORRESPONDING","CREATE","CROSS","CUBE","CURRENT","CURRENT_CATALOG","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DEALLOCATE","DAY","DECLARE","DEFAULT","DELETE","DEREF","DESC","DESCRIBE","DETERMINISTIC","DISCONNECT","DISTINCT","DROP","DYNAMIC","EACH","ELEMENT","END-EXEC","ESCAPE","EVERY","EXCEPT","EXEC","EXECUTE","EXISTS","EXTERNAL","FALSE","FETCH","FILTER","FOR","FOREIGN","FREE","FROM","FULL","FUNCTION","GET","GLOBAL","GRANT","GROUP","HAVING","HOLD","HOUR","IDENTITY","IN","INDICATOR","INNER","INOUT","INSENSITIVE","INSERT","INTERSECT","INTO","IS","LANGUAGE","LARGE","LATERAL","LEADING","LEFT","LIKE","LIKE_REGEX","LOCAL","MATCH","MEMBER","MERGE","METHOD","MINUTE","MODIFIES","MODULE","MONTH","NATURAL","NEW","NO","NONE","NOT","NULL","NULLIF","OF","OLD","ON","ONLY","OPEN","ORDER","OUT","OUTER","OVER","OVERLAPS","PARAMETER","PARTITION","PRECISION","PREPARE","PRIMARY","PROCEDURE","RANGE","READS","REAL","RECURSIVE","REF","REFERENCES","REFERENCING","RELEASE","RESULT","RETURN","RETURNS","REVOKE","RIGHT","ROLLBACK","ROLLUP","ROW","ROWS","SAVEPOINT","SCOPE","SCROLL","SEARCH","SECOND","SELECT","SENSITIVE","SESSION_USER","SET","SIMILAR","SOME","SPECIFIC","SQL","SQLEXCEPTION","SQLSTATE","SQLWARNING","START","STATIC","SUBMULTISET","SYMMETRIC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","THEN","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSLATION","TREAT","TRIGGER","TRUE","UESCAPE","UNION","UNIQUE","UNKNOWN","UNNEST","UPDATE","USER","USING","VALUE","VALUES","WHENEVER","WINDOW","WITHIN","WITHOUT","YEAR"],FP=["ARRAY","BIGINT","BINARY LARGE OBJECT","BINARY VARYING","BINARY","BLOB","BOOLEAN","CHAR LARGE OBJECT","CHAR VARYING","CHAR","CHARACTER LARGE OBJECT","CHARACTER VARYING","CHARACTER","CLOB","DATE","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","INTERVAL","MULTISET","NATIONAL CHAR VARYING","NATIONAL CHAR","NATIONAL CHARACTER LARGE OBJECT","NATIONAL CHARACTER VARYING","NATIONAL CHARACTER","NCHAR LARGE OBJECT","NCHAR VARYING","NCHAR","NCLOB","NUMERIC","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"],BP=k(["SELECT [ALL | DISTINCT]"]),bP=k(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET"]),BT=k(["CREATE [GLOBAL TEMPORARY | LOCAL TEMPORARY] TABLE"]),DE=k(["CREATE [RECURSIVE] VIEW","UPDATE","WHERE CURRENT OF","DELETE FROM","DROP TABLE","ALTER TABLE","ADD COLUMN","DROP [COLUMN]","RENAME COLUMN","RENAME TO","ALTER [COLUMN]","{SET | DROP} DEFAULT","ADD SCOPE","DROP SCOPE {CASCADE | RESTRICT}","RESTART WITH","TRUNCATE TABLE","SET SCHEMA"]),GP=k(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),HP=k(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),kP=k(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),YP=k([]),VP={name:"sql",tokenizerOptions:{reservedSelect:BP,reservedClauses:[...bP,...BT,...DE],reservedSetOperations:GP,reservedJoins:HP,reservedKeywordPhrases:kP,reservedDataTypePhrases:YP,reservedKeywords:wP,reservedDataTypes:FP,reservedFunctionNames:yP,stringTypes:[{quote:"''-qq-bs",prefixes:["N","U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq',"``"],paramTypes:{positional:!0},operators:["||"]},formatOptions:{onelineClauses:[...BT,...DE],tabularOnelineClauses:DE}},WP=["ABS","ACOS","ALL_MATCH","ANY_MATCH","APPROX_DISTINCT","APPROX_MOST_FREQUENT","APPROX_PERCENTILE","APPROX_SET","ARBITRARY","ARRAYS_OVERLAP","ARRAY_AGG","ARRAY_DISTINCT","ARRAY_EXCEPT","ARRAY_INTERSECT","ARRAY_JOIN","ARRAY_MAX","ARRAY_MIN","ARRAY_POSITION","ARRAY_REMOVE","ARRAY_SORT","ARRAY_UNION","ASIN","ATAN","ATAN2","AT_TIMEZONE","AVG","BAR","BETA_CDF","BING_TILE","BING_TILES_AROUND","BING_TILE_AT","BING_TILE_COORDINATES","BING_TILE_POLYGON","BING_TILE_QUADKEY","BING_TILE_ZOOM_LEVEL","BITWISE_AND","BITWISE_AND_AGG","BITWISE_LEFT_SHIFT","BITWISE_NOT","BITWISE_OR","BITWISE_OR_AGG","BITWISE_RIGHT_SHIFT","BITWISE_RIGHT_SHIFT_ARITHMETIC","BITWISE_XOR","BIT_COUNT","BOOL_AND","BOOL_OR","CARDINALITY","CAST","CBRT","CEIL","CEILING","CHAR2HEXINT","CHECKSUM","CHR","CLASSIFY","COALESCE","CODEPOINT","COLOR","COMBINATIONS","CONCAT","CONCAT_WS","CONTAINS","CONTAINS_SEQUENCE","CONVEX_HULL_AGG","CORR","COS","COSH","COSINE_SIMILARITY","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CRC32","CUME_DIST","CURRENT_CATALOG","CURRENT_DATE","CURRENT_GROUPS","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_USER","DATE","DATE_ADD","DATE_DIFF","DATE_FORMAT","DATE_PARSE","DATE_TRUNC","DAY","DAY_OF_MONTH","DAY_OF_WEEK","DAY_OF_YEAR","DEGREES","DENSE_RANK","DOW","DOY","E","ELEMENT_AT","EMPTY_APPROX_SET","EVALUATE_CLASSIFIER_PREDICTIONS","EVERY","EXP","EXTRACT","FEATURES","FILTER","FIRST_VALUE","FLATTEN","FLOOR","FORMAT","FORMAT_DATETIME","FORMAT_NUMBER","FROM_BASE","FROM_BASE32","FROM_BASE64","FROM_BASE64URL","FROM_BIG_ENDIAN_32","FROM_BIG_ENDIAN_64","FROM_ENCODED_POLYLINE","FROM_GEOJSON_GEOMETRY","FROM_HEX","FROM_IEEE754_32","FROM_IEEE754_64","FROM_ISO8601_DATE","FROM_ISO8601_TIMESTAMP","FROM_ISO8601_TIMESTAMP_NANOS","FROM_UNIXTIME","FROM_UNIXTIME_NANOS","FROM_UTF8","GEOMETRIC_MEAN","GEOMETRY_FROM_HADOOP_SHAPE","GEOMETRY_INVALID_REASON","GEOMETRY_NEAREST_POINTS","GEOMETRY_TO_BING_TILES","GEOMETRY_UNION","GEOMETRY_UNION_AGG","GREATEST","GREAT_CIRCLE_DISTANCE","HAMMING_DISTANCE","HASH_COUNTS","HISTOGRAM","HMAC_MD5","HMAC_SHA1","HMAC_SHA256","HMAC_SHA512","HOUR","HUMAN_READABLE_SECONDS","IF","INDEX","INFINITY","INTERSECTION_CARDINALITY","INVERSE_BETA_CDF","INVERSE_NORMAL_CDF","IS_FINITE","IS_INFINITE","IS_JSON_SCALAR","IS_NAN","JACCARD_INDEX","JSON_ARRAY_CONTAINS","JSON_ARRAY_GET","JSON_ARRAY_LENGTH","JSON_EXISTS","JSON_EXTRACT","JSON_EXTRACT_SCALAR","JSON_FORMAT","JSON_PARSE","JSON_QUERY","JSON_SIZE","JSON_VALUE","KURTOSIS","LAG","LAST_DAY_OF_MONTH","LAST_VALUE","LEAD","LEARN_CLASSIFIER","LEARN_LIBSVM_CLASSIFIER","LEARN_LIBSVM_REGRESSOR","LEARN_REGRESSOR","LEAST","LENGTH","LEVENSHTEIN_DISTANCE","LINE_INTERPOLATE_POINT","LINE_INTERPOLATE_POINTS","LINE_LOCATE_POINT","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOG10","LOG2","LOWER","LPAD","LTRIM","LUHN_CHECK","MAKE_SET_DIGEST","MAP","MAP_AGG","MAP_CONCAT","MAP_ENTRIES","MAP_FILTER","MAP_FROM_ENTRIES","MAP_KEYS","MAP_UNION","MAP_VALUES","MAP_ZIP_WITH","MAX","MAX_BY","MD5","MERGE","MERGE_SET_DIGEST","MILLISECOND","MIN","MINUTE","MIN_BY","MOD","MONTH","MULTIMAP_AGG","MULTIMAP_FROM_ENTRIES","MURMUR3","NAN","NGRAMS","NONE_MATCH","NORMALIZE","NORMAL_CDF","NOW","NTH_VALUE","NTILE","NULLIF","NUMERIC_HISTOGRAM","OBJECTID","OBJECTID_TIMESTAMP","PARSE_DATA_SIZE","PARSE_DATETIME","PARSE_DURATION","PERCENT_RANK","PI","POSITION","POW","POWER","QDIGEST_AGG","QUARTER","RADIANS","RAND","RANDOM","RANK","REDUCE","REDUCE_AGG","REGEXP_COUNT","REGEXP_EXTRACT","REGEXP_EXTRACT_ALL","REGEXP_LIKE","REGEXP_POSITION","REGEXP_REPLACE","REGEXP_SPLIT","REGRESS","REGR_INTERCEPT","REGR_SLOPE","RENDER","REPEAT","REPLACE","REVERSE","RGB","ROUND","ROW_NUMBER","RPAD","RTRIM","SECOND","SEQUENCE","SHA1","SHA256","SHA512","SHUFFLE","SIGN","SIMPLIFY_GEOMETRY","SIN","SKEWNESS","SLICE","SOUNDEX","SPATIAL_PARTITIONING","SPATIAL_PARTITIONS","SPLIT","SPLIT_PART","SPLIT_TO_MAP","SPLIT_TO_MULTIMAP","SPOOKY_HASH_V2_32","SPOOKY_HASH_V2_64","SQRT","STARTS_WITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRPOS","ST_AREA","ST_ASBINARY","ST_ASTEXT","ST_BOUNDARY","ST_BUFFER","ST_CENTROID","ST_CONTAINS","ST_CONVEXHULL","ST_COORDDIM","ST_CROSSES","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_ENDPOINT","ST_ENVELOPE","ST_ENVELOPEASPTS","ST_EQUALS","ST_EXTERIORRING","ST_GEOMETRIES","ST_GEOMETRYFROMTEXT","ST_GEOMETRYN","ST_GEOMETRYTYPE","ST_GEOMFROMBINARY","ST_INTERIORRINGN","ST_INTERIORRINGS","ST_INTERSECTION","ST_INTERSECTS","ST_ISCLOSED","ST_ISEMPTY","ST_ISRING","ST_ISSIMPLE","ST_ISVALID","ST_LENGTH","ST_LINEFROMTEXT","ST_LINESTRING","ST_MULTIPOINT","ST_NUMGEOMETRIES","ST_NUMINTERIORRING","ST_NUMPOINTS","ST_OVERLAPS","ST_POINT","ST_POINTN","ST_POINTS","ST_POLYGON","ST_RELATE","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_TOUCHES","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","SUBSTR","SUBSTRING","SUM","TAN","TANH","TDIGEST_AGG","TIMESTAMP_OBJECTID","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO_BASE","TO_BASE32","TO_BASE64","TO_BASE64URL","TO_BIG_ENDIAN_32","TO_BIG_ENDIAN_64","TO_CHAR","TO_DATE","TO_ENCODED_POLYLINE","TO_GEOJSON_GEOMETRY","TO_GEOMETRY","TO_HEX","TO_IEEE754_32","TO_IEEE754_64","TO_ISO8601","TO_MILLISECONDS","TO_SPHERICAL_GEOGRAPHY","TO_TIMESTAMP","TO_UNIXTIME","TO_UTF8","TRANSFORM","TRANSFORM_KEYS","TRANSFORM_VALUES","TRANSLATE","TRIM","TRIM_ARRAY","TRUNCATE","TRY","TRY_CAST","TYPEOF","UPPER","URL_DECODE","URL_ENCODE","URL_EXTRACT_FRAGMENT","URL_EXTRACT_HOST","URL_EXTRACT_PARAMETER","URL_EXTRACT_PATH","URL_EXTRACT_PORT","URL_EXTRACT_PROTOCOL","URL_EXTRACT_QUERY","UUID","VALUES_AT_QUANTILES","VALUE_AT_QUANTILE","VARIANCE","VAR_POP","VAR_SAMP","VERSION","WEEK","WEEK_OF_YEAR","WIDTH_BUCKET","WILSON_INTERVAL_LOWER","WILSON_INTERVAL_UPPER","WITH_TIMEZONE","WORD_STEM","XXHASH64","YEAR","YEAR_OF_WEEK","YOW","ZIP","ZIP_WITH","CLASSIFIER","FIRST","LAST","MATCH_NUMBER","NEXT","PERMUTE","PREV"],XP=["ABSENT","ADD","ADMIN","AFTER","ALL","ALTER","ANALYZE","AND","ANY","AS","ASC","AT","AUTHORIZATION","BERNOULLI","BETWEEN","BOTH","BY","CALL","CASCADE","CASE","CATALOGS","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","CONDITIONAL","CONSTRAINT","COPARTITION","CREATE","CROSS","CUBE","CURRENT","CURRENT_PATH","CURRENT_ROLE","DATA","DEALLOCATE","DEFAULT","DEFINE","DEFINER","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DISTINCT","DISTRIBUTED","DOUBLE","DROP","ELSE","EMPTY","ENCODING","END","ERROR","ESCAPE","EXCEPT","EXCLUDING","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FINAL","FIRST","FOLLOWING","FOR","FROM","FULL","FUNCTIONS","GRANT","GRANTED","GRANTS","GRAPHVIZ","GROUP","GROUPING","GROUPS","HAVING","IGNORE","IN","INCLUDING","INITIAL","INNER","INPUT","INSERT","INTERSECT","INTERVAL","INTO","INVOKER","IO","IS","ISOLATION","JOIN","JSON","JSON_ARRAY","JSON_OBJECT","KEEP","KEY","KEYS","LAST","LATERAL","LEADING","LEFT","LEVEL","LIKE","LIMIT","LOCAL","LOGICAL","MATCH","MATCHED","MATCHES","MATCH_RECOGNIZE","MATERIALIZED","MEASURES","NATURAL","NEXT","NFC","NFD","NFKC","NFKD","NO","NONE","NOT","NULL","NULLS","OBJECT","OF","OFFSET","OMIT","ON","ONE","ONLY","OPTION","OR","ORDER","ORDINALITY","OUTER","OUTPUT","OVER","OVERFLOW","PARTITION","PARTITIONS","PASSING","PAST","PATH","PATTERN","PER","PERMUTE","PRECEDING","PRECISION","PREPARE","PRIVILEGES","PROPERTIES","PRUNE","QUOTES","RANGE","READ","RECURSIVE","REFRESH","RENAME","REPEATABLE","RESET","RESPECT","RESTRICT","RETURNING","REVOKE","RIGHT","ROLE","ROLES","ROLLBACK","ROLLUP","ROW","ROWS","RUNNING","SCALAR","SCHEMA","SCHEMAS","SECURITY","SEEK","SELECT","SERIALIZABLE","SESSION","SET","SETS","SHOW","SKIP","SOME","START","STATS","STRING","SUBSET","SYSTEM","TABLE","TABLES","TABLESAMPLE","TEXT","THEN","TIES","TIME","TIMESTAMP","TO","TRAILING","TRANSACTION","TRUE","TYPE","UESCAPE","UNBOUNDED","UNCOMMITTED","UNCONDITIONAL","UNION","UNIQUE","UNKNOWN","UNMATCHED","UNNEST","UPDATE","USE","USER","USING","UTF16","UTF32","UTF8","VALIDATE","VALUE","VALUES","VERBOSE","VIEW","WHEN","WHERE","WINDOW","WITH","WITHIN","WITHOUT","WORK","WRAPPER","WRITE","ZONE"],KP=["BIGINT","INT","INTEGER","SMALLINT","TINYINT","BOOLEAN","DATE","DECIMAL","REAL","DOUBLE","HYPERLOGLOG","QDIGEST","TDIGEST","P4HYPERLOGLOG","INTERVAL","TIMESTAMP","TIME","VARBINARY","VARCHAR","CHAR","ROW","ARRAY","MAP","JSON","JSON2016","IPADDRESS","GEOMETRY","UUID","SETDIGEST","JONIREGEXP","RE2JREGEXP","LIKEPATTERN","COLOR","CODEPOINTS","FUNCTION","JSONPATH"],$P=k(["SELECT [ALL | DISTINCT]"]),JP=k(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY [ALL | DISTINCT]","HAVING","WINDOW","PARTITION BY","ORDER BY","LIMIT","OFFSET","FETCH {FIRST | NEXT}","INSERT INTO","VALUES","SET","MATCH_RECOGNIZE","MEASURES","ONE ROW PER MATCH","ALL ROWS PER MATCH","AFTER MATCH","PATTERN","SUBSET","DEFINE"]),bT=k(["CREATE TABLE [IF NOT EXISTS]"]),xE=k(["CREATE [OR REPLACE] [MATERIALIZED] VIEW","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","ADD COLUMN [IF NOT EXISTS]","DROP COLUMN [IF EXISTS]","RENAME COLUMN [IF EXISTS]","RENAME TO","SET AUTHORIZATION [USER | ROLE]","SET PROPERTIES","EXECUTE","TRUNCATE TABLE","ALTER SCHEMA","ALTER MATERIALIZED VIEW","ALTER VIEW","CREATE SCHEMA","CREATE ROLE","DROP SCHEMA","DROP MATERIALIZED VIEW","DROP VIEW","DROP ROLE","EXPLAIN","ANALYZE","EXPLAIN ANALYZE","EXPLAIN ANALYZE VERBOSE","USE","DESCRIBE INPUT","DESCRIBE OUTPUT","REFRESH MATERIALIZED VIEW","RESET SESSION","SET SESSION","SET PATH","SET TIME ZONE","SHOW GRANTS","SHOW CREATE TABLE","SHOW CREATE SCHEMA","SHOW CREATE VIEW","SHOW CREATE MATERIALIZED VIEW","SHOW TABLES","SHOW SCHEMAS","SHOW CATALOGS","SHOW COLUMNS","SHOW STATS FOR","SHOW ROLES","SHOW CURRENT ROLES","SHOW ROLE GRANTS","SHOW FUNCTIONS","SHOW SESSION"]),zP=k(["UNION [ALL | DISTINCT]","EXCEPT [ALL | DISTINCT]","INTERSECT [ALL | DISTINCT]"]),qP=k(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL [INNER] JOIN","NATURAL {LEFT | RIGHT | FULL} [OUTER] JOIN"]),QP=k(["{ROWS | RANGE | GROUPS} BETWEEN","IS [NOT] DISTINCT FROM"]),jP=k([]),ZP={name:"trino",tokenizerOptions:{reservedSelect:$P,reservedClauses:[...JP,...bT,...xE],reservedSetOperations:zP,reservedJoins:qP,reservedKeywordPhrases:QP,reservedDataTypePhrases:jP,reservedKeywords:XP,reservedDataTypes:KP,reservedFunctionNames:WP,extraParens:["[]","{}"],stringTypes:[{quote:"''-qq",prefixes:["U&"]},{quote:"''-raw",prefixes:["X"],requirePrefix:!0}],identTypes:['""-qq'],paramTypes:{positional:!0},operators:["%","->","=>",":","||","|","^","$"]},formatOptions:{onelineClauses:[...bT,...xE],tabularOnelineClauses:xE}},eM=["APPROX_COUNT_DISTINCT","AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","STDEV","STDEVP","SUM","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","Collation - COLLATIONPROPERTY","Collation - TERTIARY_WEIGHTS","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","@@CURSOR_ROWS","@@FETCH_STATUS","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","@@DATEFIRST","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TIMEZONE_ID","DATEADD","DATEDIFF","DATEDIFF_BIG","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","JSON","ISJSON","JSON_VALUE","JSON_QUERY","JSON_MODIFY","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","CHOOSE","GREATEST","IIF","LEAST","@@PROCID","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FILEPROPERTYEX","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","NEXT VALUE FOR","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","DATABASE_PRINCIPAL_ID","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHARINDEX","CONCAT","CONCAT_WS","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STRING_AGG","STRING_ESCAPE","STUFF","SUBSTRING","TRANSLATE","TRIM","UNICODE","UPPER","$PARTITION","@@ERROR","@@IDENTITY","@@PACK_RECEIVED","@@ROWCOUNT","@@TRANCOUNT","BINARY_CHECKSUM","CHECKSUM","COMPRESS","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","CURRENT_TRANSACTION_ID","DECOMPRESS","ERROR_LINE","ERROR_MESSAGE","ERROR_NUMBER","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GET_FILESTREAM_TRANSACTION_CONTEXT","GETANSINULL","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","SESSION_CONTEXT","XACT_STATE","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACK_SENT","@@PACKET_ERRORS","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","COALESCE","NULLIF"],tM=["ADD","ALL","ALTER","AND","ANY","AS","ASC","AUTHORIZATION","BACKUP","BEGIN","BETWEEN","BREAK","BROWSE","BULK","BY","CASCADE","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLUMN","COMMIT","COMPUTE","CONSTRAINT","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DBCC","DEALLOCATE","DECLARE","DEFAULT","DELETE","DENY","DESC","DISK","DISTINCT","DISTRIBUTED","DROP","DUMP","ERRLVL","ESCAPE","EXEC","EXECUTE","EXISTS","EXIT","EXTERNAL","FETCH","FILE","FILLFACTOR","FOR","FOREIGN","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GOTO","GRANT","GROUP","HAVING","HOLDLOCK","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IN","INDEX","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KILL","LEFT","LIKE","LINENO","LOAD","MERGE","NOCHECK","NONCLUSTERED","NOT","NULL","NULLIF","OF","OFF","OFFSETS","ON","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OUTER","OVER","PERCENT","PIVOT","PLAN","PRIMARY","PRINT","PROC","PROCEDURE","PUBLIC","RAISERROR","READ","READTEXT","RECONFIGURE","REFERENCES","REPLICATION","RESTORE","RESTRICT","RETURN","REVERT","REVOKE","RIGHT","ROLLBACK","ROWCOUNT","ROWGUIDCOL","RULE","SAVE","SCHEMA","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION_USER","SET","SETUSER","SHUTDOWN","SOME","STATISTICS","SYSTEM_USER","TABLE","TABLESAMPLE","TEXTSIZE","THEN","TO","TOP","TRAN","TRANSACTION","TRIGGER","TRUNCATE","TRY_CONVERT","TSEQUAL","UNION","UNIQUE","UNPIVOT","UPDATE","UPDATETEXT","USE","USER","VALUES","VIEW","WAITFOR","WHERE","WHILE","WITH","WITHIN GROUP","WRITETEXT","$ACTION"],rM=["BINARY","BIT","CHAR","CHAR","CHARACTER","DATE","DATETIME2","DATETIMEOFFSET","DEC","DECIMAL","DOUBLE","FLOAT","INT","INTEGER","NATIONAL","NCHAR","NUMERIC","NVARCHAR","PRECISION","REAL","SMALLINT","TIME","TIMESTAMP","VARBINARY","VARCHAR"],iM=k(["SELECT [ALL | DISTINCT]"]),nM=k(["WITH","INTO","FROM","WHERE","GROUP BY","HAVING","WINDOW","PARTITION BY","ORDER BY","OFFSET","FETCH {FIRST | NEXT}","FOR {BROWSE | XML | JSON}","OPTION","INSERT [INTO]","VALUES","SET","MERGE [INTO]","WHEN [NOT] MATCHED [BY TARGET | BY SOURCE] [THEN]","UPDATE SET"]),GT=k(["CREATE TABLE"]),PE=k(["CREATE [OR ALTER] [MATERIALIZED] VIEW","UPDATE","WHERE CURRENT OF","DELETE [FROM]","DROP TABLE [IF EXISTS]","ALTER TABLE","ADD","DROP COLUMN [IF EXISTS]","ALTER COLUMN","TRUNCATE TABLE","CREATE [UNIQUE] [CLUSTERED] INDEX","CREATE DATABASE","ALTER DATABASE","DROP DATABASE [IF EXISTS]","CREATE [OR ALTER] [PARTITION] {FUNCTION | PROCEDURE | PROC}","ALTER [PARTITION] {FUNCTION | PROCEDURE | PROC}","DROP [PARTITION] {FUNCTION | PROCEDURE | PROC} [IF EXISTS]","GO","USE","ADD SENSITIVITY CLASSIFICATION","ADD SIGNATURE","AGGREGATE","ANSI_DEFAULTS","ANSI_NULLS","ANSI_NULL_DFLT_OFF","ANSI_NULL_DFLT_ON","ANSI_PADDING","ANSI_WARNINGS","APPLICATION ROLE","ARITHABORT","ARITHIGNORE","ASSEMBLY","ASYMMETRIC KEY","AUTHORIZATION","AVAILABILITY GROUP","BACKUP","BACKUP CERTIFICATE","BACKUP MASTER KEY","BACKUP SERVICE MASTER KEY","BEGIN CONVERSATION TIMER","BEGIN DIALOG CONVERSATION","BROKER PRIORITY","BULK INSERT","CERTIFICATE","CLOSE MASTER KEY","CLOSE SYMMETRIC KEY","COLUMN ENCRYPTION KEY","COLUMN MASTER KEY","COLUMNSTORE INDEX","CONCAT_NULL_YIELDS_NULL","CONTEXT_INFO","CONTRACT","CREDENTIAL","CRYPTOGRAPHIC PROVIDER","CURSOR_CLOSE_ON_COMMIT","DATABASE","DATABASE AUDIT SPECIFICATION","DATABASE ENCRYPTION KEY","DATABASE HADR","DATABASE SCOPED CONFIGURATION","DATABASE SCOPED CREDENTIAL","DATABASE SET","DATEFIRST","DATEFORMAT","DEADLOCK_PRIORITY","DENY","DENY XML","DISABLE TRIGGER","ENABLE TRIGGER","END CONVERSATION","ENDPOINT","EVENT NOTIFICATION","EVENT SESSION","EXECUTE AS","EXTERNAL DATA SOURCE","EXTERNAL FILE FORMAT","EXTERNAL LANGUAGE","EXTERNAL LIBRARY","EXTERNAL RESOURCE POOL","EXTERNAL TABLE","FIPS_FLAGGER","FMTONLY","FORCEPLAN","FULLTEXT CATALOG","FULLTEXT INDEX","FULLTEXT STOPLIST","GET CONVERSATION GROUP","GET_TRANSMISSION_STATUS","GRANT","GRANT XML","IDENTITY_INSERT","IMPLICIT_TRANSACTIONS","INDEX","LANGUAGE","LOCK_TIMEOUT","LOGIN","MASTER KEY","MESSAGE TYPE","MOVE CONVERSATION","NOCOUNT","NOEXEC","NUMERIC_ROUNDABORT","OFFSETS","OPEN MASTER KEY","OPEN SYMMETRIC KEY","PARSEONLY","PARTITION SCHEME","QUERY_GOVERNOR_COST_LIMIT","QUEUE","QUOTED_IDENTIFIER","RECEIVE","REMOTE SERVICE BINDING","REMOTE_PROC_TRANSACTIONS","RESOURCE GOVERNOR","RESOURCE POOL","RESTORE","RESTORE FILELISTONLY","RESTORE HEADERONLY","RESTORE LABELONLY","RESTORE MASTER KEY","RESTORE REWINDONLY","RESTORE SERVICE MASTER KEY","RESTORE VERIFYONLY","REVERT","REVOKE","REVOKE XML","ROLE","ROUTE","ROWCOUNT","RULE","SCHEMA","SEARCH PROPERTY LIST","SECURITY POLICY","SELECTIVE XML INDEX","SEND","SENSITIVITY CLASSIFICATION","SEQUENCE","SERVER AUDIT","SERVER AUDIT SPECIFICATION","SERVER CONFIGURATION","SERVER ROLE","SERVICE","SERVICE MASTER KEY","SETUSER","SHOWPLAN_ALL","SHOWPLAN_TEXT","SHOWPLAN_XML","SIGNATURE","SPATIAL INDEX","STATISTICS","STATISTICS IO","STATISTICS PROFILE","STATISTICS TIME","STATISTICS XML","SYMMETRIC KEY","SYNONYM","TABLE","TABLE IDENTITY","TEXTSIZE","TRANSACTION ISOLATION LEVEL","TRIGGER","TYPE","UPDATE STATISTICS","USER","WORKLOAD GROUP","XACT_ABORT","XML INDEX","XML SCHEMA COLLECTION"]),sM=k(["UNION [ALL]","EXCEPT","INTERSECT"]),aM=k(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","{CROSS | OUTER} APPLY"]),oM=k(["ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]","{ROWS | RANGE} BETWEEN"]),lM=k([]),EM={name:"transactsql",tokenizerOptions:{reservedSelect:iM,reservedClauses:[...nM,...GT,...PE],reservedSetOperations:sM,reservedJoins:aM,reservedKeywordPhrases:oM,reservedDataTypePhrases:lM,reservedKeywords:tM,reservedDataTypes:rM,reservedFunctionNames:eM,nestedBlockComments:!0,stringTypes:[{quote:"''-qq",prefixes:["N"]},"{}"],identTypes:['""-qq',"[]"],identChars:{first:"#@",rest:"#@$"},paramTypes:{named:["@"],quoted:["@"]},operators:["%","&","|","^","~","!<","!>","+=","-=","*=","/=","%=","|=","&=","^=","::",":"],propertyAccessOperators:[".."]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...GT,...PE],tabularOnelineClauses:PE}},hM=["ADD","ALL","ALTER","ANALYZE","AND","AS","ASC","ASENSITIVE","BEFORE","BETWEEN","_BINARY","BOTH","BY","CALL","CASCADE","CASE","CHANGE","CHECK","COLLATE","COLUMN","CONDITION","CONSTRAINT","CONTINUE","CONVERT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATABASES","DAY_HOUR","DAY_MICROSECOND","DAY_MINUTE","DAY_SECOND","DECLARE","DEFAULT","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DROP","DUAL","EACH","ELSE","ELSEIF","ENCLOSED","ESCAPED","EXCEPT","EXISTS","EXIT","EXPLAIN","EXTRA_JOIN","FALSE","FETCH","FOR","FORCE","FORCE_COMPILED_MODE","FORCE_INTERPRETER_MODE","FOREIGN","FROM","FULL","FULLTEXT","GRANT","GROUP","HAVING","HEARTBEAT_NO_LOGGING","HIGH_PRIORITY","HOUR_MICROSECOND","HOUR_MINUTE","HOUR_SECOND","IF","IGNORE","IN","INDEX","INFILE","INNER","INOUT","INSENSITIVE","INSERT","IN","_INTERNAL_DYNAMIC_TYPECAST","INTERSECT","INTERVAL","INTO","ITERATE","JOIN","KEY","KEYS","KILL","LEADING","LEAVE","LEFT","LIKE","LIMIT","LINES","LOAD","LOCALTIME","LOCALTIMESTAMP","LOCK","LOOP","LOW_PRIORITY","MATCH","MAXVALUE","MINUS","MINUTE_MICROSECOND","MINUTE_SECOND","MOD","MODIFIES","NATURAL","NO_QUERY_REWRITE","NOT","NO_WRITE_TO_BINLOG","NO_QUERY_REWRITE","NULL","ON","OPTIMIZE","OPTION","OPTIONALLY","OR","ORDER","OUT","OUTER","OUTFILE","OVER","PRIMARY","PROCEDURE","PURGE","RANGE","READ","READS","REFERENCES","REGEXP","RELEASE","RENAME","REPEAT","REPLACE","REQUIRE","RESTRICT","RETURN","REVOKE","RIGHT","RIGHT_ANTI_JOIN","RIGHT_SEMI_JOIN","RIGHT_STRAIGHT_JOIN","RLIKE","SCHEMA","SCHEMAS","SECOND_MICROSECOND","SELECT","SEMI_JOIN","SENSITIVE","SEPARATOR","SET","SHOW","SIGNAL","SPATIAL","SPECIFIC","SQL","SQL_BIG_RESULT","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQLEXCEPTION","SQL_NO_CACHE","SQL_NO_LOGGING","SQL_SMALL_RESULT","SQLSTATE","SQLWARNING","STRAIGHT_JOIN","TABLE","TERMINATED","THEN","TO","TRAILING","TRIGGER","TRUE","UNBOUNDED","UNDO","UNION","UNIQUE","UNLOCK","UPDATE","USAGE","USE","USING","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","_UTF8","VALUES","WHEN","WHERE","WHILE","WINDOW","WITH","WITHIN","WRITE","XOR","YEAR_MONTH","ZEROFILL"],cM=["BIGINT","BINARY","BIT","BLOB","CHAR","CHARACTER","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","FLOAT4","FLOAT8","INT","INT1","INT2","INT3","INT4","INT8","INTEGER","LONG","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MIDDLEINT","NATIONAL CHAR","NATIONAL VARCHAR","NUMERIC","PRECISION","REAL","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","UNSIGNED","VARBINARY","VARCHAR","VARCHARACTER","YEAR"],fM=["ABS","ACOS","ADDDATE","ADDTIME","AES_DECRYPT","AES_ENCRYPT","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_COUNT_DISTINCT_ACCUMULATE","APPROX_COUNT_DISTINCT_COMBINE","APPROX_COUNT_DISTINCT_ESTIMATE","APPROX_GEOGRAPHY_INTERSECTS","APPROX_PERCENTILE","ASCII","ASIN","ATAN","ATAN2","AVG","BIN","BINARY","BIT_AND","BIT_COUNT","BIT_OR","BIT_XOR","CAST","CEIL","CEILING","CHAR","CHARACTER_LENGTH","CHAR_LENGTH","CHARSET","COALESCE","COERCIBILITY","COLLATION","COLLECT","CONCAT","CONCAT_WS","CONNECTION_ID","CONV","CONVERT","CONVERT_TZ","COS","COT","COUNT","CUME_DIST","CURDATE","CURRENT_DATE","CURRENT_ROLE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURTIME","DATABASE","DATE","DATE_ADD","DATEDIFF","DATE_FORMAT","DATE_SUB","DATE_TRUNC","DAY","DAYNAME","DAYOFMONTH","DAYOFWEEK","DAYOFYEAR","DECODE","DEFAULT","DEGREES","DENSE_RANK","DIV","DOT_PRODUCT","ELT","EUCLIDEAN_DISTANCE","EXP","EXTRACT","FIELD","FIRST","FIRST_VALUE","FLOOR","FORMAT","FOUND_ROWS","FROM_BASE64","FROM_DAYS","FROM_UNIXTIME","GEOGRAPHY_AREA","GEOGRAPHY_CONTAINS","GEOGRAPHY_DISTANCE","GEOGRAPHY_INTERSECTS","GEOGRAPHY_LATITUDE","GEOGRAPHY_LENGTH","GEOGRAPHY_LONGITUDE","GEOGRAPHY_POINT","GEOGRAPHY_WITHIN_DISTANCE","GEOMETRY_AREA","GEOMETRY_CONTAINS","GEOMETRY_DISTANCE","GEOMETRY_FILTER","GEOMETRY_INTERSECTS","GEOMETRY_LENGTH","GEOMETRY_POINT","GEOMETRY_WITHIN_DISTANCE","GEOMETRY_X","GEOMETRY_Y","GREATEST","GROUPING","GROUP_CONCAT","HEX","HIGHLIGHT","HOUR","ICU_VERSION","IF","IFNULL","INET_ATON","INET_NTOA","INET6_ATON","INET6_NTOA","INITCAP","INSERT","INSTR","INTERVAL","IS","IS NULL","JSON_AGG","JSON_ARRAY_CONTAINS_DOUBLE","JSON_ARRAY_CONTAINS_JSON","JSON_ARRAY_CONTAINS_STRING","JSON_ARRAY_PUSH_DOUBLE","JSON_ARRAY_PUSH_JSON","JSON_ARRAY_PUSH_STRING","JSON_DELETE_KEY","JSON_EXTRACT_DOUBLE","JSON_EXTRACT_JSON","JSON_EXTRACT_STRING","JSON_EXTRACT_BIGINT","JSON_GET_TYPE","JSON_LENGTH","JSON_SET_DOUBLE","JSON_SET_JSON","JSON_SET_STRING","JSON_SPLICE_DOUBLE","JSON_SPLICE_JSON","JSON_SPLICE_STRING","LAG","LAST_DAY","LAST_VALUE","LCASE","LEAD","LEAST","LEFT","LENGTH","LIKE","LN","LOCALTIME","LOCALTIMESTAMP","LOCATE","LOG","LOG10","LOG2","LPAD","LTRIM","MATCH","MAX","MD5","MEDIAN","MICROSECOND","MIN","MINUTE","MOD","MONTH","MONTHNAME","MONTHS_BETWEEN","NOT","NOW","NTH_VALUE","NTILE","NULLIF","OCTET_LENGTH","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIVOT","POSITION","POW","POWER","QUARTER","QUOTE","RADIANS","RAND","RANK","REGEXP","REPEAT","REPLACE","REVERSE","RIGHT","RLIKE","ROUND","ROW_COUNT","ROW_NUMBER","RPAD","RTRIM","SCALAR","SCHEMA","SEC_TO_TIME","SHA1","SHA2","SIGMOID","SIGN","SIN","SLEEP","SPLIT","SOUNDEX","SOUNDS LIKE","SOURCE_POS_WAIT","SPACE","SQRT","STDDEV","STDDEV_POP","STDDEV_SAMP","STR_TO_DATE","SUBDATE","SUBSTR","SUBSTRING","SUBSTRING_INDEX","SUM","SYS_GUID","TAN","TIME","TIMEDIFF","TIME_BUCKET","TIME_FORMAT","TIMESTAMP","TIMESTAMPADD","TIMESTAMPDIFF","TIME_TO_SEC","TO_BASE64","TO_CHAR","TO_DAYS","TO_JSON","TO_NUMBER","TO_SECONDS","TO_TIMESTAMP","TRIM","TRUNC","TRUNCATE","UCASE","UNHEX","UNIX_TIMESTAMP","UPDATEXML","UPPER","UTC_DATE","UTC_TIME","UTC_TIMESTAMP","UUID","VALUES","VARIANCE","VAR_POP","VAR_SAMP","VECTOR_SUB","VERSION","WEEK","WEEKDAY","WEEKOFYEAR","YEAR"],TM=k(["SELECT [ALL | DISTINCT | DISTINCTROW]"]),uM=k(["WITH","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","LIMIT","OFFSET","INSERT [IGNORE] [INTO]","VALUES","REPLACE [INTO]","ON DUPLICATE KEY UPDATE","SET","CREATE [OR REPLACE] [TEMPORARY] PROCEDURE [IF NOT EXISTS]","CREATE [OR REPLACE] [EXTERNAL] FUNCTION"]),HT=k(["CREATE [ROWSTORE] [REFERENCE | TEMPORARY | GLOBAL TEMPORARY] TABLE [IF NOT EXISTS]"]),ME=k(["CREATE VIEW","UPDATE","DELETE [FROM]","DROP [TEMPORARY] TABLE [IF EXISTS]","ALTER [ONLINE] TABLE","ADD [COLUMN]","ADD [UNIQUE] {INDEX | KEY}","DROP [COLUMN]","MODIFY [COLUMN]","CHANGE","RENAME [TO | AS]","TRUNCATE [TABLE]","ADD AGGREGATOR","ADD LEAF","AGGREGATOR SET AS MASTER","ALTER DATABASE","ALTER PIPELINE","ALTER RESOURCE POOL","ALTER USER","ALTER VIEW","ANALYZE TABLE","ATTACH DATABASE","ATTACH LEAF","ATTACH LEAF ALL","BACKUP DATABASE","BINLOG","BOOTSTRAP AGGREGATOR","CACHE INDEX","CALL","CHANGE","CHANGE MASTER TO","CHANGE REPLICATION FILTER","CHANGE REPLICATION SOURCE TO","CHECK BLOB CHECKSUM","CHECK TABLE","CHECKSUM TABLE","CLEAR ORPHAN DATABASES","CLONE","COMMIT","CREATE DATABASE","CREATE GROUP","CREATE INDEX","CREATE LINK","CREATE MILESTONE","CREATE PIPELINE","CREATE RESOURCE POOL","CREATE ROLE","CREATE USER","DEALLOCATE PREPARE","DESCRIBE","DETACH DATABASE","DETACH PIPELINE","DROP DATABASE","DROP FUNCTION","DROP INDEX","DROP LINK","DROP PIPELINE","DROP PROCEDURE","DROP RESOURCE POOL","DROP ROLE","DROP USER","DROP VIEW","EXECUTE","EXPLAIN","FLUSH","FORCE","GRANT","HANDLER","HELP","KILL CONNECTION","KILLALL QUERIES","LOAD DATA","LOAD INDEX INTO CACHE","LOAD XML","LOCK INSTANCE FOR BACKUP","LOCK TABLES","MASTER_POS_WAIT","OPTIMIZE TABLE","PREPARE","PURGE BINARY LOGS","REBALANCE PARTITIONS","RELEASE SAVEPOINT","REMOVE AGGREGATOR","REMOVE LEAF","REPAIR TABLE","REPLACE","REPLICATE DATABASE","RESET","RESET MASTER","RESET PERSIST","RESET REPLICA","RESET SLAVE","RESTART","RESTORE DATABASE","RESTORE REDUNDANCY","REVOKE","ROLLBACK","ROLLBACK TO SAVEPOINT","SAVEPOINT","SET CHARACTER SET","SET DEFAULT ROLE","SET NAMES","SET PASSWORD","SET RESOURCE GROUP","SET ROLE","SET TRANSACTION","SHOW","SHOW CHARACTER SET","SHOW COLLATION","SHOW COLUMNS","SHOW CREATE DATABASE","SHOW CREATE FUNCTION","SHOW CREATE PIPELINE","SHOW CREATE PROCEDURE","SHOW CREATE TABLE","SHOW CREATE USER","SHOW CREATE VIEW","SHOW DATABASES","SHOW ENGINE","SHOW ENGINES","SHOW ERRORS","SHOW FUNCTION CODE","SHOW FUNCTION STATUS","SHOW GRANTS","SHOW INDEX","SHOW MASTER STATUS","SHOW OPEN TABLES","SHOW PLUGINS","SHOW PRIVILEGES","SHOW PROCEDURE CODE","SHOW PROCEDURE STATUS","SHOW PROCESSLIST","SHOW PROFILE","SHOW PROFILES","SHOW RELAYLOG EVENTS","SHOW REPLICA STATUS","SHOW REPLICAS","SHOW SLAVE","SHOW SLAVE HOSTS","SHOW STATUS","SHOW TABLE STATUS","SHOW TABLES","SHOW VARIABLES","SHOW WARNINGS","SHUTDOWN","SNAPSHOT DATABASE","SOURCE_POS_WAIT","START GROUP_REPLICATION","START PIPELINE","START REPLICA","START SLAVE","START TRANSACTION","STOP GROUP_REPLICATION","STOP PIPELINE","STOP REPLICA","STOP REPLICATING","STOP SLAVE","TEST PIPELINE","UNLOCK INSTANCE","UNLOCK TABLES","USE","XA","ITERATE","LEAVE","LOOP","REPEAT","RETURN","WHILE"]),AM=k(["UNION [ALL | DISTINCT]","EXCEPT","INTERSECT","MINUS"]),RM=k(["JOIN","{LEFT | RIGHT | FULL} [OUTER] JOIN","{INNER | CROSS} JOIN","NATURAL {LEFT | RIGHT} [OUTER] JOIN","STRAIGHT_JOIN"]),SM=k(["ON DELETE","ON UPDATE","CHARACTER SET","{ROWS | RANGE} BETWEEN","IDENTIFIED BY"]),dM=k([]),OM={name:"singlestoredb",tokenizerOptions:{reservedSelect:TM,reservedClauses:[...uM,...HT,...ME],reservedSetOperations:AM,reservedJoins:RM,reservedKeywordPhrases:SM,reservedDataTypePhrases:dM,reservedKeywords:hM,reservedDataTypes:cM,reservedFunctionNames:fM,stringTypes:['""-qq-bs',"''-qq-bs",{quote:"''-raw",prefixes:["B","X"],requirePrefix:!0}],identTypes:["``"],identChars:{first:"$",rest:"$",allowFirstCharNumber:!0},variableTypes:[{regex:"@@?[A-Za-z0-9_$]+"},{quote:"``",prefixes:["@"],requirePrefix:!0}],lineCommentTypes:["--","#"],operators:[":=","&","|","^","~","<<",">>","<=>","&&","||","::","::$","::%",":>","!:>","*.*"],postProcess:vl},formatOptions:{alwaysDenseOperators:["::","::$","::%"],onelineClauses:[...HT,...ME],tabularOnelineClauses:ME}},IM=["ABS","ACOS","ACOSH","ADD_MONTHS","ALL_USER_NAMES","ANY_VALUE","APPROX_COUNT_DISTINCT","APPROX_PERCENTILE","APPROX_PERCENTILE_ACCUMULATE","APPROX_PERCENTILE_COMBINE","APPROX_PERCENTILE_ESTIMATE","APPROX_TOP_K","APPROX_TOP_K_ACCUMULATE","APPROX_TOP_K_COMBINE","APPROX_TOP_K_ESTIMATE","APPROXIMATE_JACCARD_INDEX","APPROXIMATE_SIMILARITY","ARRAY_AGG","ARRAY_APPEND","ARRAY_CAT","ARRAY_COMPACT","ARRAY_CONSTRUCT","ARRAY_CONSTRUCT_COMPACT","ARRAY_CONTAINS","ARRAY_INSERT","ARRAY_INTERSECTION","ARRAY_POSITION","ARRAY_PREPEND","ARRAY_SIZE","ARRAY_SLICE","ARRAY_TO_STRING","ARRAY_UNION_AGG","ARRAY_UNIQUE_AGG","ARRAYS_OVERLAP","AS_ARRAY","AS_BINARY","AS_BOOLEAN","AS_CHAR","AS_VARCHAR","AS_DATE","AS_DECIMAL","AS_NUMBER","AS_DOUBLE","AS_REAL","AS_INTEGER","AS_OBJECT","AS_TIME","AS_TIMESTAMP_LTZ","AS_TIMESTAMP_NTZ","AS_TIMESTAMP_TZ","ASCII","ASIN","ASINH","ATAN","ATAN2","ATANH","AUTO_REFRESH_REGISTRATION_HISTORY","AUTOMATIC_CLUSTERING_HISTORY","AVG","BASE64_DECODE_BINARY","BASE64_DECODE_STRING","BASE64_ENCODE","BIT_LENGTH","BITAND","BITAND_AGG","BITMAP_BIT_POSITION","BITMAP_BUCKET_NUMBER","BITMAP_CONSTRUCT_AGG","BITMAP_COUNT","BITMAP_OR_AGG","BITNOT","BITOR","BITOR_AGG","BITSHIFTLEFT","BITSHIFTRIGHT","BITXOR","BITXOR_AGG","BOOLAND","BOOLAND_AGG","BOOLNOT","BOOLOR","BOOLOR_AGG","BOOLXOR","BOOLXOR_AGG","BUILD_SCOPED_FILE_URL","BUILD_STAGE_FILE_URL","CASE","CAST","CBRT","CEIL","CHARINDEX","CHECK_JSON","CHECK_XML","CHR","CHAR","COALESCE","COLLATE","COLLATION","COMPLETE_TASK_GRAPHS","COMPRESS","CONCAT","CONCAT_WS","CONDITIONAL_CHANGE_EVENT","CONDITIONAL_TRUE_EVENT","CONTAINS","CONVERT_TIMEZONE","COPY_HISTORY","CORR","COS","COSH","COT","COUNT","COUNT_IF","COVAR_POP","COVAR_SAMP","CUME_DIST","CURRENT_ACCOUNT","CURRENT_AVAILABLE_ROLES","CURRENT_CLIENT","CURRENT_DATABASE","CURRENT_DATE","CURRENT_IP_ADDRESS","CURRENT_REGION","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SCHEMAS","CURRENT_SECONDARY_ROLES","CURRENT_SESSION","CURRENT_STATEMENT","CURRENT_TASK_GRAPHS","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TRANSACTION","CURRENT_USER","CURRENT_VERSION","CURRENT_WAREHOUSE","DATA_TRANSFER_HISTORY","DATABASE_REFRESH_HISTORY","DATABASE_REFRESH_PROGRESS","DATABASE_REFRESH_PROGRESS_BY_JOB","DATABASE_STORAGE_USAGE_HISTORY","DATE_FROM_PARTS","DATE_PART","DATE_TRUNC","DATEADD","DATEDIFF","DAYNAME","DECODE","DECOMPRESS_BINARY","DECOMPRESS_STRING","DECRYPT","DECRYPT_RAW","DEGREES","DENSE_RANK","DIV0","EDITDISTANCE","ENCRYPT","ENCRYPT_RAW","ENDSWITH","EQUAL_NULL","EXP","EXPLAIN_JSON","EXTERNAL_FUNCTIONS_HISTORY","EXTERNAL_TABLE_FILES","EXTERNAL_TABLE_FILE_REGISTRATION_HISTORY","EXTRACT","EXTRACT_SEMANTIC_CATEGORIES","FACTORIAL","FILTER","FIRST_VALUE","FLATTEN","FLOOR","GENERATE_COLUMN_DESCRIPTION","GENERATOR","GET","GET_ABSOLUTE_PATH","GET_DDL","GET_IGNORE_CASE","GET_OBJECT_REFERENCES","GET_PATH","GET_PRESIGNED_URL","GET_RELATIVE_PATH","GET_STAGE_LOCATION","GETBIT","GREATEST","GREATEST_IGNORE_NULLS","GROUPING","GROUPING_ID","HASH","HASH_AGG","HAVERSINE","HEX_DECODE_BINARY","HEX_DECODE_STRING","HEX_ENCODE","HLL","HLL_ACCUMULATE","HLL_COMBINE","HLL_ESTIMATE","HLL_EXPORT","HLL_IMPORT","HOUR","MINUTE","SECOND","IDENTIFIER","IFF","IFNULL","ILIKE","ILIKE ANY","INFER_SCHEMA","INITCAP","INSERT","INVOKER_ROLE","INVOKER_SHARE","IS_ARRAY","IS_BINARY","IS_BOOLEAN","IS_CHAR","IS_VARCHAR","IS_DATE","IS_DATE_VALUE","IS_DECIMAL","IS_DOUBLE","IS_REAL","IS_GRANTED_TO_INVOKER_ROLE","IS_INTEGER","IS_NULL_VALUE","IS_OBJECT","IS_ROLE_IN_SESSION","IS_TIME","IS_TIMESTAMP_LTZ","IS_TIMESTAMP_NTZ","IS_TIMESTAMP_TZ","JAROWINKLER_SIMILARITY","JSON_EXTRACT_PATH_TEXT","KURTOSIS","LAG","LAST_DAY","LAST_QUERY_ID","LAST_TRANSACTION","LAST_VALUE","LEAD","LEAST","LEFT","LENGTH","LEN","LIKE","LIKE ALL","LIKE ANY","LISTAGG","LN","LOCALTIME","LOCALTIMESTAMP","LOG","LOGIN_HISTORY","LOGIN_HISTORY_BY_USER","LOWER","LPAD","LTRIM","MATERIALIZED_VIEW_REFRESH_HISTORY","MD5","MD5_HEX","MD5_BINARY","MD5_NUMBER — Obsoleted","MD5_NUMBER_LOWER64","MD5_NUMBER_UPPER64","MEDIAN","MIN","MAX","MINHASH","MINHASH_COMBINE","MOD","MODE","MONTHNAME","MONTHS_BETWEEN","NEXT_DAY","NORMAL","NTH_VALUE","NTILE","NULLIF","NULLIFZERO","NVL","NVL2","OBJECT_AGG","OBJECT_CONSTRUCT","OBJECT_CONSTRUCT_KEEP_NULL","OBJECT_DELETE","OBJECT_INSERT","OBJECT_KEYS","OBJECT_PICK","OCTET_LENGTH","PARSE_IP","PARSE_JSON","PARSE_URL","PARSE_XML","PERCENT_RANK","PERCENTILE_CONT","PERCENTILE_DISC","PI","PIPE_USAGE_HISTORY","POLICY_CONTEXT","POLICY_REFERENCES","POSITION","POW","POWER","PREVIOUS_DAY","QUERY_ACCELERATION_HISTORY","QUERY_HISTORY","QUERY_HISTORY_BY_SESSION","QUERY_HISTORY_BY_USER","QUERY_HISTORY_BY_WAREHOUSE","RADIANS","RANDOM","RANDSTR","RANK","RATIO_TO_REPORT","REGEXP","REGEXP_COUNT","REGEXP_INSTR","REGEXP_LIKE","REGEXP_REPLACE","REGEXP_SUBSTR","REGEXP_SUBSTR_ALL","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","REGR_VALX","REGR_VALY","REPEAT","REPLACE","REPLICATION_GROUP_REFRESH_HISTORY","REPLICATION_GROUP_REFRESH_PROGRESS","REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB","REPLICATION_GROUP_USAGE_HISTORY","REPLICATION_USAGE_HISTORY","REST_EVENT_HISTORY","RESULT_SCAN","REVERSE","RIGHT","RLIKE","ROUND","ROW_NUMBER","RPAD","RTRIM","RTRIMMED_LENGTH","SEARCH_OPTIMIZATION_HISTORY","SEQ1","SEQ2","SEQ4","SEQ8","SERVERLESS_TASK_HISTORY","SHA1","SHA1_HEX","SHA1_BINARY","SHA2","SHA2_HEX","SHA2_BINARY","SIGN","SIN","SINH","SKEW","SOUNDEX","SPACE","SPLIT","SPLIT_PART","SPLIT_TO_TABLE","SQRT","SQUARE","ST_AREA","ST_ASEWKB","ST_ASEWKT","ST_ASGEOJSON","ST_ASWKB","ST_ASBINARY","ST_ASWKT","ST_ASTEXT","ST_AZIMUTH","ST_CENTROID","ST_COLLECT","ST_CONTAINS","ST_COVEREDBY","ST_COVERS","ST_DIFFERENCE","ST_DIMENSION","ST_DISJOINT","ST_DISTANCE","ST_DWITHIN","ST_ENDPOINT","ST_ENVELOPE","ST_GEOGFROMGEOHASH","ST_GEOGPOINTFROMGEOHASH","ST_GEOGRAPHYFROMWKB","ST_GEOGRAPHYFROMWKT","ST_GEOHASH","ST_GEOMETRYFROMWKB","ST_GEOMETRYFROMWKT","ST_HAUSDORFFDISTANCE","ST_INTERSECTION","ST_INTERSECTS","ST_LENGTH","ST_MAKEGEOMPOINT","ST_GEOM_POINT","ST_MAKELINE","ST_MAKEPOINT","ST_POINT","ST_MAKEPOLYGON","ST_POLYGON","ST_NPOINTS","ST_NUMPOINTS","ST_PERIMETER","ST_POINTN","ST_SETSRID","ST_SIMPLIFY","ST_SRID","ST_STARTPOINT","ST_SYMDIFFERENCE","ST_UNION","ST_WITHIN","ST_X","ST_XMAX","ST_XMIN","ST_Y","ST_YMAX","ST_YMIN","STAGE_DIRECTORY_FILE_REGISTRATION_HISTORY","STAGE_STORAGE_USAGE_HISTORY","STARTSWITH","STDDEV","STDDEV_POP","STDDEV_SAMP","STRIP_NULL_VALUE","STRTOK","STRTOK_SPLIT_TO_TABLE","STRTOK_TO_ARRAY","SUBSTR","SUBSTRING","SUM","SYSDATE","SYSTEM$ABORT_SESSION","SYSTEM$ABORT_TRANSACTION","SYSTEM$AUTHORIZE_PRIVATELINK","SYSTEM$AUTHORIZE_STAGE_PRIVATELINK_ACCESS","SYSTEM$BEHAVIOR_CHANGE_BUNDLE_STATUS","SYSTEM$CANCEL_ALL_QUERIES","SYSTEM$CANCEL_QUERY","SYSTEM$CLUSTERING_DEPTH","SYSTEM$CLUSTERING_INFORMATION","SYSTEM$CLUSTERING_RATIO ","SYSTEM$CURRENT_USER_TASK_NAME","SYSTEM$DATABASE_REFRESH_HISTORY ","SYSTEM$DATABASE_REFRESH_PROGRESS","SYSTEM$DATABASE_REFRESH_PROGRESS_BY_JOB ","SYSTEM$DISABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$DISABLE_DATABASE_REPLICATION","SYSTEM$ENABLE_BEHAVIOR_CHANGE_BUNDLE","SYSTEM$ESTIMATE_QUERY_ACCELERATION","SYSTEM$ESTIMATE_SEARCH_OPTIMIZATION_COSTS","SYSTEM$EXPLAIN_JSON_TO_TEXT","SYSTEM$EXPLAIN_PLAN_JSON","SYSTEM$EXTERNAL_TABLE_PIPE_STATUS","SYSTEM$GENERATE_SAML_CSR","SYSTEM$GENERATE_SCIM_ACCESS_TOKEN","SYSTEM$GET_AWS_SNS_IAM_POLICY","SYSTEM$GET_PREDECESSOR_RETURN_VALUE","SYSTEM$GET_PRIVATELINK","SYSTEM$GET_PRIVATELINK_AUTHORIZED_ENDPOINTS","SYSTEM$GET_PRIVATELINK_CONFIG","SYSTEM$GET_SNOWFLAKE_PLATFORM_INFO","SYSTEM$GET_TAG","SYSTEM$GET_TAG_ALLOWED_VALUES","SYSTEM$GET_TAG_ON_CURRENT_COLUMN","SYSTEM$GET_TAG_ON_CURRENT_TABLE","SYSTEM$GLOBAL_ACCOUNT_SET_PARAMETER","SYSTEM$LAST_CHANGE_COMMIT_TIME","SYSTEM$LINK_ACCOUNT_OBJECTS_BY_NAME","SYSTEM$MIGRATE_SAML_IDP_REGISTRATION","SYSTEM$PIPE_FORCE_RESUME","SYSTEM$PIPE_STATUS","SYSTEM$REVOKE_PRIVATELINK","SYSTEM$REVOKE_STAGE_PRIVATELINK_ACCESS","SYSTEM$SET_RETURN_VALUE","SYSTEM$SHOW_OAUTH_CLIENT_SECRETS","SYSTEM$STREAM_GET_TABLE_TIMESTAMP","SYSTEM$STREAM_HAS_DATA","SYSTEM$TASK_DEPENDENTS_ENABLE","SYSTEM$TYPEOF","SYSTEM$USER_TASK_CANCEL_ONGOING_EXECUTIONS","SYSTEM$VERIFY_EXTERNAL_OAUTH_TOKEN","SYSTEM$WAIT","SYSTEM$WHITELIST","SYSTEM$WHITELIST_PRIVATELINK","TAG_REFERENCES","TAG_REFERENCES_ALL_COLUMNS","TAG_REFERENCES_WITH_LINEAGE","TAN","TANH","TASK_DEPENDENTS","TASK_HISTORY","TIME_FROM_PARTS","TIME_SLICE","TIMEADD","TIMEDIFF","TIMESTAMP_FROM_PARTS","TIMESTAMPADD","TIMESTAMPDIFF","TO_ARRAY","TO_BINARY","TO_BOOLEAN","TO_CHAR","TO_VARCHAR","TO_DATE","DATE","TO_DECIMAL","TO_NUMBER","TO_NUMERIC","TO_DOUBLE","TO_GEOGRAPHY","TO_GEOMETRY","TO_JSON","TO_OBJECT","TO_TIME","TIME","TO_TIMESTAMP","TO_TIMESTAMP_LTZ","TO_TIMESTAMP_NTZ","TO_TIMESTAMP_TZ","TO_VARIANT","TO_XML","TRANSLATE","TRIM","TRUNCATE","TRUNC","TRUNC","TRY_BASE64_DECODE_BINARY","TRY_BASE64_DECODE_STRING","TRY_CAST","TRY_HEX_DECODE_BINARY","TRY_HEX_DECODE_STRING","TRY_PARSE_JSON","TRY_TO_BINARY","TRY_TO_BOOLEAN","TRY_TO_DATE","TRY_TO_DECIMAL","TRY_TO_NUMBER","TRY_TO_NUMERIC","TRY_TO_DOUBLE","TRY_TO_GEOGRAPHY","TRY_TO_GEOMETRY","TRY_TO_TIME","TRY_TO_TIMESTAMP","TRY_TO_TIMESTAMP_LTZ","TRY_TO_TIMESTAMP_NTZ","TRY_TO_TIMESTAMP_TZ","TYPEOF","UNICODE","UNIFORM","UPPER","UUID_STRING","VALIDATE","VALIDATE_PIPE_LOAD","VAR_POP","VAR_SAMP","VARIANCE","VARIANCE_SAMP","VARIANCE_POP","WAREHOUSE_LOAD_HISTORY","WAREHOUSE_METERING_HISTORY","WIDTH_BUCKET","XMLGET","YEAR","YEAROFWEEK","YEAROFWEEKISO","DAY","DAYOFMONTH","DAYOFWEEK","DAYOFWEEKISO","DAYOFYEAR","WEEK","WEEK","WEEKOFYEAR","WEEKISO","MONTH","QUARTER","ZEROIFNULL","ZIPF"],NM=["ACCOUNT","ALL","ALTER","AND","ANY","AS","BETWEEN","BY","CASE","CAST","CHECK","COLUMN","CONNECT","CONNECTION","CONSTRAINT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","DATABASE","DELETE","DISTINCT","DROP","ELSE","EXISTS","FALSE","FOLLOWING","FOR","FROM","FULL","GRANT","GROUP","GSCLUSTER","HAVING","ILIKE","IN","INCREMENT","INNER","INSERT","INTERSECT","INTO","IS","ISSUE","JOIN","LATERAL","LEFT","LIKE","LOCALTIME","LOCALTIMESTAMP","MINUS","NATURAL","NOT","NULL","OF","ON","OR","ORDER","ORGANIZATION","QUALIFY","REGEXP","REVOKE","RIGHT","RLIKE","ROW","ROWS","SAMPLE","SCHEMA","SELECT","SET","SOME","START","TABLE","TABLESAMPLE","THEN","TO","TRIGGER","TRUE","TRY_CAST","UNION","UNIQUE","UPDATE","USING","VALUES","VIEW","WHEN","WHENEVER","WHERE","WITH","COMMENT"],pM=["NUMBER","DECIMAL","NUMERIC","INT","INTEGER","BIGINT","SMALLINT","TINYINT","BYTEINT","FLOAT","FLOAT4","FLOAT8","DOUBLE","DOUBLE PRECISION","REAL","VARCHAR","CHAR","CHARACTER","STRING","TEXT","BINARY","VARBINARY","BOOLEAN","DATE","DATETIME","TIME","TIMESTAMP","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP","TIMESTAMP_TZ","VARIANT","OBJECT","ARRAY","GEOGRAPHY","GEOMETRY"],mM=k(["SELECT [ALL | DISTINCT]"]),CM=k(["WITH [RECURSIVE]","FROM","WHERE","GROUP BY","HAVING","PARTITION BY","ORDER BY","QUALIFY","LIMIT","OFFSET","FETCH [FIRST | NEXT]","INSERT [OVERWRITE] [ALL INTO | INTO | ALL | FIRST]","{THEN | ELSE} INTO","VALUES","SET","CLUSTER BY","[WITH] {MASKING POLICY | TAG | ROW ACCESS POLICY}","COPY GRANTS","USING TEMPLATE","MERGE INTO","WHEN MATCHED [AND]","THEN {UPDATE SET | DELETE}","WHEN NOT MATCHED THEN INSERT"]),kT=k(["CREATE [OR REPLACE] [VOLATILE] TABLE [IF NOT EXISTS]","CREATE [OR REPLACE] [LOCAL | GLOBAL] {TEMP|TEMPORARY} TABLE [IF NOT EXISTS]"]),vE=k(["CREATE [OR REPLACE] [SECURE] [RECURSIVE] VIEW [IF NOT EXISTS]","UPDATE","DELETE FROM","DROP TABLE [IF EXISTS]","ALTER TABLE [IF EXISTS]","RENAME TO","SWAP WITH","[SUSPEND | RESUME] RECLUSTER","DROP CLUSTERING KEY","ADD [COLUMN]","RENAME COLUMN","{ALTER | MODIFY} [COLUMN]","DROP [COLUMN]","{ADD | ALTER | MODIFY | DROP} [CONSTRAINT]","RENAME CONSTRAINT","{ADD | DROP} SEARCH OPTIMIZATION","{SET | UNSET} TAG","{ADD | DROP} ROW ACCESS POLICY","DROP ALL ROW ACCESS POLICIES","{SET | DROP} DEFAULT","{SET | DROP} NOT NULL","SET DATA TYPE","UNSET COMMENT","{SET | UNSET} MASKING POLICY","TRUNCATE [TABLE] [IF EXISTS]","ALTER ACCOUNT","ALTER API INTEGRATION","ALTER CONNECTION","ALTER DATABASE","ALTER EXTERNAL TABLE","ALTER FAILOVER GROUP","ALTER FILE FORMAT","ALTER FUNCTION","ALTER INTEGRATION","ALTER MASKING POLICY","ALTER MATERIALIZED VIEW","ALTER NETWORK POLICY","ALTER NOTIFICATION INTEGRATION","ALTER PIPE","ALTER PROCEDURE","ALTER REPLICATION GROUP","ALTER RESOURCE MONITOR","ALTER ROLE","ALTER ROW ACCESS POLICY","ALTER SCHEMA","ALTER SECURITY INTEGRATION","ALTER SEQUENCE","ALTER SESSION","ALTER SESSION POLICY","ALTER SHARE","ALTER STAGE","ALTER STORAGE INTEGRATION","ALTER STREAM","ALTER TAG","ALTER TASK","ALTER USER","ALTER VIEW","ALTER WAREHOUSE","BEGIN","CALL","COMMIT","COPY INTO","CREATE ACCOUNT","CREATE API INTEGRATION","CREATE CONNECTION","CREATE DATABASE","CREATE EXTERNAL FUNCTION","CREATE EXTERNAL TABLE","CREATE FAILOVER GROUP","CREATE FILE FORMAT","CREATE FUNCTION","CREATE INTEGRATION","CREATE MANAGED ACCOUNT","CREATE MASKING POLICY","CREATE MATERIALIZED VIEW","CREATE NETWORK POLICY","CREATE NOTIFICATION INTEGRATION","CREATE PIPE","CREATE PROCEDURE","CREATE REPLICATION GROUP","CREATE RESOURCE MONITOR","CREATE ROLE","CREATE ROW ACCESS POLICY","CREATE SCHEMA","CREATE SECURITY INTEGRATION","CREATE SEQUENCE","CREATE SESSION POLICY","CREATE SHARE","CREATE STAGE","CREATE STORAGE INTEGRATION","CREATE STREAM","CREATE TAG","CREATE TASK","CREATE USER","CREATE WAREHOUSE","DELETE","DESCRIBE DATABASE","DESCRIBE EXTERNAL TABLE","DESCRIBE FILE FORMAT","DESCRIBE FUNCTION","DESCRIBE INTEGRATION","DESCRIBE MASKING POLICY","DESCRIBE MATERIALIZED VIEW","DESCRIBE NETWORK POLICY","DESCRIBE PIPE","DESCRIBE PROCEDURE","DESCRIBE RESULT","DESCRIBE ROW ACCESS POLICY","DESCRIBE SCHEMA","DESCRIBE SEQUENCE","DESCRIBE SESSION POLICY","DESCRIBE SHARE","DESCRIBE STAGE","DESCRIBE STREAM","DESCRIBE TABLE","DESCRIBE TASK","DESCRIBE TRANSACTION","DESCRIBE USER","DESCRIBE VIEW","DESCRIBE WAREHOUSE","DROP CONNECTION","DROP DATABASE","DROP EXTERNAL TABLE","DROP FAILOVER GROUP","DROP FILE FORMAT","DROP FUNCTION","DROP INTEGRATION","DROP MANAGED ACCOUNT","DROP MASKING POLICY","DROP MATERIALIZED VIEW","DROP NETWORK POLICY","DROP PIPE","DROP PROCEDURE","DROP REPLICATION GROUP","DROP RESOURCE MONITOR","DROP ROLE","DROP ROW ACCESS POLICY","DROP SCHEMA","DROP SEQUENCE","DROP SESSION POLICY","DROP SHARE","DROP STAGE","DROP STREAM","DROP TAG","DROP TASK","DROP USER","DROP VIEW","DROP WAREHOUSE","EXECUTE IMMEDIATE","EXECUTE TASK","EXPLAIN","GET","GRANT OWNERSHIP","GRANT ROLE","INSERT","LIST","MERGE","PUT","REMOVE","REVOKE ROLE","ROLLBACK","SHOW COLUMNS","SHOW CONNECTIONS","SHOW DATABASES","SHOW DATABASES IN FAILOVER GROUP","SHOW DATABASES IN REPLICATION GROUP","SHOW DELEGATED AUTHORIZATIONS","SHOW EXTERNAL FUNCTIONS","SHOW EXTERNAL TABLES","SHOW FAILOVER GROUPS","SHOW FILE FORMATS","SHOW FUNCTIONS","SHOW GLOBAL ACCOUNTS","SHOW GRANTS","SHOW INTEGRATIONS","SHOW LOCKS","SHOW MANAGED ACCOUNTS","SHOW MASKING POLICIES","SHOW MATERIALIZED VIEWS","SHOW NETWORK POLICIES","SHOW OBJECTS","SHOW ORGANIZATION ACCOUNTS","SHOW PARAMETERS","SHOW PIPES","SHOW PRIMARY KEYS","SHOW PROCEDURES","SHOW REGIONS","SHOW REPLICATION ACCOUNTS","SHOW REPLICATION DATABASES","SHOW REPLICATION GROUPS","SHOW RESOURCE MONITORS","SHOW ROLES","SHOW ROW ACCESS POLICIES","SHOW SCHEMAS","SHOW SEQUENCES","SHOW SESSION POLICIES","SHOW SHARES","SHOW SHARES IN FAILOVER GROUP","SHOW SHARES IN REPLICATION GROUP","SHOW STAGES","SHOW STREAMS","SHOW TABLES","SHOW TAGS","SHOW TASKS","SHOW TRANSACTIONS","SHOW USER FUNCTIONS","SHOW USERS","SHOW VARIABLES","SHOW VIEWS","SHOW WAREHOUSES","TRUNCATE MATERIALIZED VIEW","UNDROP DATABASE","UNDROP SCHEMA","UNDROP TABLE","UNDROP TAG","UNSET","USE DATABASE","USE ROLE","USE SCHEMA","USE SECONDARY ROLES","USE WAREHOUSE"]),_M=k(["UNION [ALL]","MINUS","EXCEPT","INTERSECT"]),gM=k(["[INNER] JOIN","[NATURAL] {LEFT | RIGHT | FULL} [OUTER] JOIN","{CROSS | NATURAL} JOIN"]),LM=k(["{ROWS | RANGE} BETWEEN","ON {UPDATE | DELETE} [SET NULL | SET DEFAULT]"]),DM=k([]),xM={name:"snowflake",tokenizerOptions:{reservedSelect:mM,reservedClauses:[...CM,...kT,...vE],reservedSetOperations:_M,reservedJoins:gM,reservedKeywordPhrases:LM,reservedDataTypePhrases:DM,reservedKeywords:NM,reservedDataTypes:pM,reservedFunctionNames:IM,stringTypes:["$$","''-qq-bs"],identTypes:['""-qq'],variableTypes:[{regex:"[$][1-9]\\d*"},{regex:"[$][_a-zA-Z][_a-zA-Z0-9$]*"}],extraParens:["[]"],identChars:{rest:"$"},lineCommentTypes:["--","//"],operators:["%","::","||","=>",":=","->"],propertyAccessOperators:[":"]},formatOptions:{alwaysDenseOperators:["::"],onelineClauses:[...kT,...vE],tabularOnelineClauses:vE}},PM=Object.freeze(Object.defineProperty({__proto__:null,bigquery:sD,db2:OD,db2i:xD,duckdb:GD,hive:zD,mariadb:sx,mysql:Ax,n1ql:wx,plsql:Xx,postgresql:rP,redshift:fP,singlestoredb:OM,snowflake:xM,spark:pP,sql:VP,sqlite:UP,tidb:_x,transactsql:EM,trino:ZP},Symbol.toStringTag,{value:"Module"})),Bs=r=>r[r.length-1],nS=r=>r.sort((e,t)=>t.length-e.length||e.localeCompare(t)),Io=r=>r.replace(/\s+/gu," "),UE=r=>/\n/.test(r),Fr=r=>r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&"),YT=/\s+/uy,On=r=>new RegExp(`(?:${r})`,"uy"),MM=r=>r.split("").map(e=>/ /gu.test(e)?"\\s+":`[${e.toUpperCase()}${e.toLowerCase()}]`).join(""),vM=r=>r+"(?:-"+r+")*",UM=({prefixes:r,requirePrefix:e})=>`(?:${r.map(MM).join("|")}${e?"":"|"})`,yM=r=>new RegExp(`(?:${r.map(Fr).join("|")}).*?(?=\r
|\r|
|$)`,"uy"),VT=(r,e=[])=>{const t=r==="open"?0:1,i=["()",...e].map(n=>n[t]);return On(i.map(Fr).join("|"))},WT=r=>On(`${nS(r).map(Fr).join("|")}`),wM=({rest:r,dashes:e})=>r||e?`(?![${r||""}${e?"-":""}])`:"",si=(r,e={})=>{if(r.length===0)return/^\b$/u;const t=wM(e),i=nS(r).map(Fr).join("|").replace(/ /gu,"\\s+");return new RegExp(`(?:${i})${t}\\b`,"iuy")},yE=(r,e)=>{if(!r.length)return;const t=r.map(Fr).join("|");return On(`(?:${t})(?:${e})`)},FM=()=>{const r={"<":">","[":"]","(":")","{":"}"},e="{left}(?:(?!{right}').)*?{right}",t=Object.entries(r).map(([a,o])=>e.replace(/{left}/g,Fr(a)).replace(/{right}/g,Fr(o))),i=Fr(Object.keys(r).join(""));return`[Qq]'(?:${String.raw`(?<tag>[^\s${i}])(?:(?!\k<tag>').)*?\k<tag>`}|${t.join("|")})'`},XT={"``":"(?:`[^`]*`)+","[]":String.raw`(?:\[[^\]]*\])(?:\][^\]]*\])*`,'""-qq':String.raw`(?:"[^"]*")+`,'""-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")`,'""-qq-bs':String.raw`(?:"[^"\\]*(?:\\.[^"\\]*)*")+`,'""-raw':String.raw`(?:"[^"]*")`,"''-qq":String.raw`(?:'[^']*')+`,"''-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')`,"''-qq-bs":String.raw`(?:'[^'\\]*(?:\\.[^'\\]*)*')+`,"''-raw":String.raw`(?:'[^']*')`,$$:String.raw`(?<tag>\$\w*\$)[\s\S]*?\k<tag>`,"'''..'''":String.raw`'''[^\\]*?(?:\\.[^\\]*?)*?'''`,'""".."""':String.raw`"""[^\\]*?(?:\\.[^\\]*?)*?"""`,"{}":String.raw`(?:\{[^\}]*\})`,"q''":FM()},sS=r=>typeof r=="string"?XT[r]:"regex"in r?r.regex:UM(r)+XT[r.quote],BM=r=>On(r.map(e=>"regex"in e?e.regex:sS(e)).join("|")),aS=r=>r.map(sS).join("|"),KT=r=>On(aS(r)),bM=(r={})=>On(oS(r)),oS=({first:r,rest:e,dashes:t,allowFirstCharNumber:i}={})=>{const n="\\p{Alphabetic}\\p{Mark}_",s="\\p{Decimal_Number}",a=Fr(r??""),o=Fr(e??""),l=i?`[${n}${s}${a}][${n}${s}${o}]*`:`[${n}${a}][${n}${s}${o}]*`;return t?vM(l):l};function lS(r,e){const t=r.slice(0,e).split(/\n/);return{line:t.length,col:t[t.length-1].length+1}}class GM{constructor(e,t){this.rules=e,this.dialectName=t,this.input="",this.index=0}tokenize(e){this.input=e,this.index=0;const t=[];let i;for(;this.index<this.input.length;){const n=this.getWhitespace();if(this.index<this.input.length){if(i=this.getNextToken(),!i)throw this.createParseError();t.push(Object.assign(Object.assign({},i),{precedingWhitespace:n}))}}return t}createParseError(){const e=this.input.slice(this.index,this.index+10),{line:t,col:i}=lS(this.input,this.index);return new Error(`Parse error: Unexpected "${e}" at line ${t} column ${i}.
${this.dialectInfo()}`)}dialectInfo(){return this.dialectName==="sql"?`This likely happens because you're using the default "sql" dialect.
If possible, please select a more specific dialect (like sqlite, postgresql, etc).`:`SQL dialect used: "${this.dialectName}".`}getWhitespace(){YT.lastIndex=this.index;const e=YT.exec(this.input);if(e)return this.index+=e[0].length,e[0]}getNextToken(){for(const e of this.rules){const t=this.match(e);if(t)return t}}match(e){e.regex.lastIndex=this.index;const t=e.regex.exec(this.input);if(t){const i=t[0],n={type:e.type,raw:i,text:e.text?e.text(i):i,start:this.index};return e.key&&(n.key=e.key(i)),this.index+=i.length,n}}}const $T=/\/\*/uy,HM=/[\s\S]/uy,kM=/\*\//uy;class YM{constructor(){this.lastIndex=0}exec(e){let t="",i,n=0;if(i=this.matchSection($T,e))t+=i,n++;else return null;for(;n>0;)if(i=this.matchSection($T,e))t+=i,n++;else if(i=this.matchSection(kM,e))t+=i,n--;else if(i=this.matchSection(HM,e))t+=i;else return null;return[t]}matchSection(e,t){e.lastIndex=this.lastIndex;const i=e.exec(t);return i&&(this.lastIndex+=i[0].length),i?i[0]:null}}class VM{constructor(e,t){this.cfg=e,this.dialectName=t,this.rulesBeforeParams=this.buildRulesBeforeParams(e),this.rulesAfterParams=this.buildRulesAfterParams(e)}tokenize(e,t){const i=[...this.rulesBeforeParams,...this.buildParamRules(this.cfg,t),...this.rulesAfterParams],n=new GM(i,this.dialectName).tokenize(e);return this.cfg.postProcess?this.cfg.postProcess(n):n}buildRulesBeforeParams(e){var t,i,n;return this.validRules([{type:ee.DISABLE_COMMENT,regex:/(\/\* *sql-formatter-disable *\*\/[\s\S]*?(?:\/\* *sql-formatter-enable *\*\/|$))/uy},{type:ee.BLOCK_COMMENT,regex:e.nestedBlockComments?new YM:/(\/\*[^]*?\*\/)/uy},{type:ee.LINE_COMMENT,regex:yM((t=e.lineCommentTypes)!==null&&t!==void 0?t:["--"])},{type:ee.QUOTED_IDENTIFIER,regex:KT(e.identTypes)},{type:ee.NUMBER,regex:e.underscoresInNumbers?/(?:0x[0-9a-fA-F_]+|0b[01_]+|(?:-\s*)?(?:[0-9_]*\.[0-9_]+|[0-9_]+(?:\.[0-9_]*)?)(?:[eE][-+]?[0-9_]+(?:\.[0-9_]+)?)?)(?![\w\p{Alphabetic}])/uy:/(?:0x[0-9a-fA-F]+|0b[01]+|(?:-\s*)?(?:[0-9]*\.[0-9]+|[0-9]+(?:\.[0-9]*)?)(?:[eE][-+]?[0-9]+(?:\.[0-9]+)?)?)(?![\w\p{Alphabetic}])/uy},{type:ee.RESERVED_KEYWORD_PHRASE,regex:si((i=e.reservedKeywordPhrases)!==null&&i!==void 0?i:[],e.identChars),text:At},{type:ee.RESERVED_DATA_TYPE_PHRASE,regex:si((n=e.reservedDataTypePhrases)!==null&&n!==void 0?n:[],e.identChars),text:At},{type:ee.CASE,regex:/CASE\b/iuy,text:At},{type:ee.END,regex:/END\b/iuy,text:At},{type:ee.BETWEEN,regex:/BETWEEN\b/iuy,text:At},{type:ee.LIMIT,regex:e.reservedClauses.includes("LIMIT")?/LIMIT\b/iuy:void 0,text:At},{type:ee.RESERVED_CLAUSE,regex:si(e.reservedClauses,e.identChars),text:At},{type:ee.RESERVED_SELECT,regex:si(e.reservedSelect,e.identChars),text:At},{type:ee.RESERVED_SET_OPERATION,regex:si(e.reservedSetOperations,e.identChars),text:At},{type:ee.WHEN,regex:/WHEN\b/iuy,text:At},{type:ee.ELSE,regex:/ELSE\b/iuy,text:At},{type:ee.THEN,regex:/THEN\b/iuy,text:At},{type:ee.RESERVED_JOIN,regex:si(e.reservedJoins,e.identChars),text:At},{type:ee.AND,regex:/AND\b/iuy,text:At},{type:ee.OR,regex:/OR\b/iuy,text:At},{type:ee.XOR,regex:e.supportsXor?/XOR\b/iuy:void 0,text:At},...e.operatorKeyword?[{type:ee.OPERATOR,regex:/OPERATOR *\([^)]+\)/iuy}]:[],{type:ee.RESERVED_FUNCTION_NAME,regex:si(e.reservedFunctionNames,e.identChars),text:At},{type:ee.RESERVED_DATA_TYPE,regex:si(e.reservedDataTypes,e.identChars),text:At},{type:ee.RESERVED_KEYWORD,regex:si(e.reservedKeywords,e.identChars),text:At}])}buildRulesAfterParams(e){var t,i;return this.validRules([{type:ee.VARIABLE,regex:e.variableTypes?BM(e.variableTypes):void 0},{type:ee.STRING,regex:KT(e.stringTypes)},{type:ee.IDENTIFIER,regex:bM(e.identChars)},{type:ee.DELIMITER,regex:/[;]/uy},{type:ee.COMMA,regex:/[,]/y},{type:ee.OPEN_PAREN,regex:VT("open",e.extraParens)},{type:ee.CLOSE_PAREN,regex:VT("close",e.extraParens)},{type:ee.OPERATOR,regex:WT(["+","-","/",">","<","=","<>","<=",">=","!=",...(t=e.operators)!==null&&t!==void 0?t:[]])},{type:ee.ASTERISK,regex:/[*]/uy},{type:ee.PROPERTY_ACCESS_OPERATOR,regex:WT([".",...(i=e.propertyAccessOperators)!==null&&i!==void 0?i:[]])}])}buildParamRules(e,t){var i,n,s,a,o;const l={named:t?.named||((i=e.paramTypes)===null||i===void 0?void 0:i.named)||[],quoted:t?.quoted||((n=e.paramTypes)===null||n===void 0?void 0:n.quoted)||[],numbered:t?.numbered||((s=e.paramTypes)===null||s===void 0?void 0:s.numbered)||[],positional:typeof t?.positional=="boolean"?t.positional:(a=e.paramTypes)===null||a===void 0?void 0:a.positional,custom:t?.custom||((o=e.paramTypes)===null||o===void 0?void 0:o.custom)||[]};return this.validRules([{type:ee.NAMED_PARAMETER,regex:yE(l.named,oS(e.paramChars||e.identChars)),key:E=>E.slice(1)},{type:ee.QUOTED_PARAMETER,regex:yE(l.quoted,aS(e.identTypes)),key:E=>(({tokenKey:h,quoteChar:c})=>h.replace(new RegExp(Fr("\\"+c),"gu"),c))({tokenKey:E.slice(2,-1),quoteChar:E.slice(-1)})},{type:ee.NUMBERED_PARAMETER,regex:yE(l.numbered,"[0-9]+"),key:E=>E.slice(1)},{type:ee.POSITIONAL_PARAMETER,regex:l.positional?/[?]/y:void 0},...l.custom.map(E=>{var h;return{type:ee.CUSTOM_PARAMETER,regex:On(E.regex),key:(h=E.key)!==null&&h!==void 0?h:(c=>c)}})])}validRules(e){return e.filter(t=>!!t.regex)}}const At=r=>Io(r.toUpperCase()),JT=new Map,WM=r=>{let e=JT.get(r);return e||(e=XM(r),JT.set(r,e)),e},XM=r=>({tokenizer:new VM(r.tokenizerOptions,r.name),formatOptions:KM(r.formatOptions)}),KM=r=>{var e;return{alwaysDenseOperators:r.alwaysDenseOperators||[],onelineClauses:Object.fromEntries(r.onelineClauses.map(t=>[t,!0])),tabularOnelineClauses:Object.fromEntries(((e=r.tabularOnelineClauses)!==null&&e!==void 0?e:r.onelineClauses).map(t=>[t,!0]))}};function $M(r){return r.indentStyle==="tabularLeft"||r.indentStyle==="tabularRight"?" ".repeat(10):r.useTabs?"	":" ".repeat(r.tabWidth)}function gn(r){return r.indentStyle==="tabularLeft"||r.indentStyle==="tabularRight"}class JM{constructor(e){this.params=e,this.index=0}get({key:e,text:t}){return this.params?e?this.params[e]:this.params[this.index++]:t}getPositionalParameterIndex(){return this.index}setPositionalParameterIndex(e){this.index=e}}var No={exports:{}},zM=No.exports,zT;function qM(){return zT||(zT=1,(function(r){(function(e,t){r.exports?r.exports=t():e.nearley=t()})(zM,function(){function e(E,h,c){return this.id=++e.highestId,this.name=E,this.symbols=h,this.postprocess=c,this}e.highestId=0,e.prototype.toString=function(E){var h=typeof E>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,E).map(l).join(" ")+" ● "+this.symbols.slice(E).map(l).join(" ");return this.name+" → "+h};function t(E,h,c,f){this.rule=E,this.dot=h,this.reference=c,this.data=[],this.wantedBy=f,this.isComplete=this.dot===E.symbols.length}t.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},t.prototype.nextState=function(E){var h=new t(this.rule,this.dot+1,this.reference,this.wantedBy);return h.left=this,h.right=E,h.isComplete&&(h.data=h.build(),h.right=void 0),h},t.prototype.build=function(){var E=[],h=this;do E.push(h.right.data),h=h.left;while(h.left);return E.reverse(),E},t.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,a.fail))};function i(E,h){this.grammar=E,this.index=h,this.states=[],this.wants={},this.scannable=[],this.completed={}}i.prototype.process=function(E){for(var h=this.states,c=this.wants,f=this.completed,T=0;T<h.length;T++){var A=h[T];if(A.isComplete){if(A.finish(),A.data!==a.fail){for(var u=A.wantedBy,R=u.length;R--;){var d=u[R];this.complete(d,A)}if(A.reference===this.index){var O=A.rule.name;(this.completed[O]=this.completed[O]||[]).push(A)}}}else{var O=A.rule.symbols[A.dot];if(typeof O!="string"){this.scannable.push(A);continue}if(c[O]){if(c[O].push(A),f.hasOwnProperty(O))for(var I=f[O],R=0;R<I.length;R++){var L=I[R];this.complete(A,L)}}else c[O]=[A],this.predict(O)}}},i.prototype.predict=function(E){for(var h=this.grammar.byName[E]||[],c=0;c<h.length;c++){var f=h[c],T=this.wants[E],A=new t(f,0,this.index,T);this.states.push(A)}},i.prototype.complete=function(E,h){var c=E.nextState(h);this.states.push(c)};function n(E,h){this.rules=E,this.start=h||this.rules[0].name;var c=this.byName={};this.rules.forEach(function(f){c.hasOwnProperty(f.name)||(c[f.name]=[]),c[f.name].push(f)})}n.fromCompiled=function(f,h){var c=f.Lexer;f.ParserStart&&(h=f.ParserStart,f=f.ParserRules);var f=f.map(function(A){return new e(A.name,A.symbols,A.postprocess)}),T=new n(f,h);return T.lexer=c,T};function s(){this.reset("")}s.prototype.reset=function(E,h){this.buffer=E,this.index=0,this.line=h?h.line:1,this.lastLineBreak=h?-h.col:0},s.prototype.next=function(){if(this.index<this.buffer.length){var E=this.buffer[this.index++];return E===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:E}}},s.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},s.prototype.formatError=function(E,h){var c=this.buffer;if(typeof c=="string"){var f=c.split(`
`).slice(Math.max(0,this.line-5),this.line),T=c.indexOf(`
`,this.index);T===-1&&(T=c.length);var A=this.index-this.lastLineBreak,u=String(this.line).length;return h+=" at line "+this.line+" col "+A+`:

`,h+=f.map(function(d,O){return R(this.line-f.length+O+1,u)+" "+d},this).join(`
`),h+=`
`+R("",u+A)+`^
`,h}else return h+" at index "+(this.index-1);function R(d,O){var I=String(d);return Array(O-I.length+1).join(" ")+I}};function a(E,h,c){if(E instanceof n)var f=E,c=h;else var f=n.fromCompiled(E,h);this.grammar=f,this.options={keepHistory:!1,lexer:f.lexer||new s};for(var T in c||{})this.options[T]=c[T];this.lexer=this.options.lexer,this.lexerState=void 0;var A=new i(f,0);this.table=[A],A.wants[f.start]=[],A.predict(f.start),A.process(),this.current=0}a.fail={},a.prototype.feed=function(E){var h=this.lexer;h.reset(E,this.lexerState);for(var c;;){try{if(c=h.next(),!c)break}catch(_){var u=new i(this.grammar,this.current+1);this.table.push(u);var f=new Error(this.reportLexerError(_));throw f.offset=this.current,f.token=_.token,f}var T=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var A=this.current+1,u=new i(this.grammar,A);this.table.push(u);for(var R=c.text!==void 0?c.text:c.value,d=h.constructor===s?c.value:c,O=T.scannable,I=O.length;I--;){var L=O[I],D=L.rule.symbols[L.dot];if(D.test?D.test(d):D.type?D.type===c.type:D.literal===R){var U=L.nextState({data:d,token:c,isToken:!0,reference:A-1});u.states.push(U)}}if(u.process(),u.states.length===0){var f=new Error(this.reportError(c));throw f.offset=this.current,f.token=c,f}this.options.keepHistory&&(T.lexerState=h.save()),this.current++}return T&&(this.lexerState=h.save()),this.results=this.finish(),this},a.prototype.reportLexerError=function(E){var h,c,f=E.token;return f?(h="input "+JSON.stringify(f.text[0])+" (lexer error)",c=this.lexer.formatError(f,"Syntax error")):(h="input (lexer error)",c=E.message),this.reportErrorCommon(c,h)},a.prototype.reportError=function(E){var h=(E.type?E.type+" token: ":"")+JSON.stringify(E.value!==void 0?E.value:E),c=this.lexer.formatError(E,"Syntax error");return this.reportErrorCommon(c,h)},a.prototype.reportErrorCommon=function(E,h){var c=[];c.push(E);var f=this.table.length-2,T=this.table[f],A=T.states.filter(function(R){var d=R.rule.symbols[R.dot];return d&&typeof d!="string"});if(A.length===0)c.push("Unexpected "+h+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(T.states,c);else{c.push("Unexpected "+h+`. Instead, I was expecting to see one of the following:
`);var u=A.map(function(R){return this.buildFirstStateStack(R,[])||[R]},this);u.forEach(function(R){var d=R[0],O=d.rule.symbols[d.dot],I=this.getSymbolDisplay(O);c.push("A "+I+" based on:"),this.displayStateStack(R,c)},this)}return c.push(""),c.join(`
`)},a.prototype.displayStateStack=function(E,h){for(var c,f=0,T=0;T<E.length;T++){var A=E[T],u=A.rule.toString(A.dot);u===c?f++:(f>0&&h.push("    ^ "+f+" more lines identical to this"),f=0,h.push("    "+u)),c=u}},a.prototype.getSymbolDisplay=function(E){return o(E)},a.prototype.buildFirstStateStack=function(E,h){if(h.indexOf(E)!==-1)return null;if(E.wantedBy.length===0)return[E];var c=E.wantedBy[0],f=[E].concat(h),T=this.buildFirstStateStack(c,f);return T===null?null:[E].concat(T)},a.prototype.save=function(){var E=this.table[this.current];return E.lexerState=this.lexerState,E},a.prototype.restore=function(E){var h=E.index;this.current=h,this.table[h]=E,this.table.splice(h+1),this.lexerState=E.lexerState,this.results=this.finish()},a.prototype.rewind=function(E){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[E])},a.prototype.finish=function(){var E=[],h=this.grammar.start,c=this.table[this.table.length-1];return c.states.forEach(function(f){f.rule.name===h&&f.dot===f.rule.symbols.length&&f.reference===0&&f.data!==a.fail&&E.push(f)}),E.map(function(f){return f.data})};function o(E){var h=typeof E;if(h==="string")return E;if(h==="object"){if(E.literal)return JSON.stringify(E.literal);if(E instanceof RegExp)return"character matching "+E;if(E.type)return E.type+" token";if(E.test)return"token matching "+String(E.test);throw new Error("Unknown symbol type: "+E)}}function l(E){var h=typeof E;if(h==="string")return E;if(h==="object"){if(E.literal)return JSON.stringify(E.literal);if(E instanceof RegExp)return E.toString();if(E.type)return"%"+E.type;if(E.test)return"<"+String(E.test)+">";throw new Error("Unknown symbol type: "+E)}}return{Parser:a,Grammar:n,Rule:e}})})(No)),No.exports}var QM=qM();const jM=I0(QM);function ZM(r){return r.map(ev).map(tv).map(rv).map(iv).map(nv)}const ev=(r,e,t)=>{if(iS(r.type)){const i=sv(t,e);if(i&&i.type===ee.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},r),{type:ee.IDENTIFIER,text:r.raw});const n=os(t,e);if(n&&n.type===ee.PROPERTY_ACCESS_OPERATOR)return Object.assign(Object.assign({},r),{type:ee.IDENTIFIER,text:r.raw})}return r},tv=(r,e,t)=>{if(r.type===ee.RESERVED_FUNCTION_NAME){const i=os(t,e);if(!i||!ES(i))return Object.assign(Object.assign({},r),{type:ee.IDENTIFIER,text:r.raw})}return r},rv=(r,e,t)=>{if(r.type===ee.RESERVED_DATA_TYPE){const i=os(t,e);if(i&&ES(i))return Object.assign(Object.assign({},r),{type:ee.RESERVED_PARAMETERIZED_DATA_TYPE})}return r},iv=(r,e,t)=>{if(r.type===ee.IDENTIFIER){const i=os(t,e);if(i&&hS(i))return Object.assign(Object.assign({},r),{type:ee.ARRAY_IDENTIFIER})}return r},nv=(r,e,t)=>{if(r.type===ee.RESERVED_DATA_TYPE){const i=os(t,e);if(i&&hS(i))return Object.assign(Object.assign({},r),{type:ee.ARRAY_KEYWORD})}return r},sv=(r,e)=>os(r,e,-1),os=(r,e,t=1)=>{let i=1;for(;r[e+i*t]&&av(r[e+i*t]);)i++;return r[e+i*t]},ES=r=>r.type===ee.OPEN_PAREN&&r.text==="(",hS=r=>r.type===ee.OPEN_PAREN&&r.text==="[",av=r=>r.type===ee.BLOCK_COMMENT||r.type===ee.LINE_COMMENT;class cS{constructor(e){this.tokenize=e,this.index=0,this.tokens=[],this.input=""}reset(e,t){this.input=e,this.index=0,this.tokens=this.tokenize(e)}next(){return this.tokens[this.index++]}save(){}formatError(e){const{line:t,col:i}=lS(this.input,e.start);return`Parse error at token: ${e.text} at line ${t} column ${i}`}has(e){return e in ee}}var Ne;(function(r){r.statement="statement",r.clause="clause",r.set_operation="set_operation",r.function_call="function_call",r.parameterized_data_type="parameterized_data_type",r.array_subscript="array_subscript",r.property_access="property_access",r.parenthesis="parenthesis",r.between_predicate="between_predicate",r.case_expression="case_expression",r.case_when="case_when",r.case_else="case_else",r.limit_clause="limit_clause",r.all_columns_asterisk="all_columns_asterisk",r.literal="literal",r.identifier="identifier",r.keyword="keyword",r.data_type="data_type",r.parameter="parameter",r.operator="operator",r.comma="comma",r.line_comment="line_comment",r.block_comment="block_comment",r.disable_comment="disable_comment"})(Ne=Ne||(Ne={}));function wE(r){return r[0]}const Le=new cS(r=>[]),Wi=([[r]])=>r,It=r=>({type:Ne.keyword,tokenType:r.type,text:r.text,raw:r.raw}),qT=r=>({type:Ne.data_type,text:r.text,raw:r.raw}),Nt=(r,{leading:e,trailing:t})=>(e?.length&&(r=Object.assign(Object.assign({},r),{leadingComments:e})),t?.length&&(r=Object.assign(Object.assign({},r),{trailingComments:t})),r),ov=(r,{leading:e,trailing:t})=>{if(e?.length){const[i,...n]=r;r=[Nt(i,{leading:e}),...n]}if(t?.length){const i=r.slice(0,-1),n=r[r.length-1];r=[...i,Nt(n,{trailing:t})]}return r},lv={Lexer:Le,ParserRules:[{name:"main$ebnf$1",symbols:[]},{name:"main$ebnf$1",symbols:["main$ebnf$1","statement"],postprocess:r=>r[0].concat([r[1]])},{name:"main",symbols:["main$ebnf$1"],postprocess:([r])=>{const e=r[r.length-1];return e&&!e.hasSemicolon?e.children.length>0?r:r.slice(0,-1):r}},{name:"statement$subexpression$1",symbols:[Le.has("DELIMITER")?{type:"DELIMITER"}:DELIMITER]},{name:"statement$subexpression$1",symbols:[Le.has("EOF")?{type:"EOF"}:EOF]},{name:"statement",symbols:["expressions_or_clauses","statement$subexpression$1"],postprocess:([r,[e]])=>({type:Ne.statement,children:r,hasSemicolon:e.type===ee.DELIMITER})},{name:"expressions_or_clauses$ebnf$1",symbols:[]},{name:"expressions_or_clauses$ebnf$1",symbols:["expressions_or_clauses$ebnf$1","free_form_sql"],postprocess:r=>r[0].concat([r[1]])},{name:"expressions_or_clauses$ebnf$2",symbols:[]},{name:"expressions_or_clauses$ebnf$2",symbols:["expressions_or_clauses$ebnf$2","clause"],postprocess:r=>r[0].concat([r[1]])},{name:"expressions_or_clauses",symbols:["expressions_or_clauses$ebnf$1","expressions_or_clauses$ebnf$2"],postprocess:([r,e])=>[...r,...e]},{name:"clause$subexpression$1",symbols:["limit_clause"]},{name:"clause$subexpression$1",symbols:["select_clause"]},{name:"clause$subexpression$1",symbols:["other_clause"]},{name:"clause$subexpression$1",symbols:["set_operation"]},{name:"clause",symbols:["clause$subexpression$1"],postprocess:Wi},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["free_form_sql"]},{name:"limit_clause$ebnf$1$subexpression$1$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1$ebnf$1","free_form_sql"],postprocess:r=>r[0].concat([r[1]])},{name:"limit_clause$ebnf$1$subexpression$1",symbols:[Le.has("COMMA")?{type:"COMMA"}:COMMA,"limit_clause$ebnf$1$subexpression$1$ebnf$1"]},{name:"limit_clause$ebnf$1",symbols:["limit_clause$ebnf$1$subexpression$1"],postprocess:wE},{name:"limit_clause$ebnf$1",symbols:[],postprocess:()=>null},{name:"limit_clause",symbols:[Le.has("LIMIT")?{type:"LIMIT"}:LIMIT,"_","expression_chain_","limit_clause$ebnf$1"],postprocess:([r,e,t,i])=>{if(i){const[n,s]=i;return{type:Ne.limit_clause,limitKw:Nt(It(r),{trailing:e}),offset:t,count:s}}else return{type:Ne.limit_clause,limitKw:Nt(It(r),{trailing:e}),count:t}}},{name:"select_clause$subexpression$1$ebnf$1",symbols:[]},{name:"select_clause$subexpression$1$ebnf$1",symbols:["select_clause$subexpression$1$ebnf$1","free_form_sql"],postprocess:r=>r[0].concat([r[1]])},{name:"select_clause$subexpression$1",symbols:["all_columns_asterisk","select_clause$subexpression$1$ebnf$1"]},{name:"select_clause$subexpression$1$ebnf$2",symbols:[]},{name:"select_clause$subexpression$1$ebnf$2",symbols:["select_clause$subexpression$1$ebnf$2","free_form_sql"],postprocess:r=>r[0].concat([r[1]])},{name:"select_clause$subexpression$1",symbols:["asteriskless_free_form_sql","select_clause$subexpression$1$ebnf$2"]},{name:"select_clause",symbols:[Le.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT,"select_clause$subexpression$1"],postprocess:([r,[e,t]])=>({type:Ne.clause,nameKw:It(r),children:[e,...t]})},{name:"select_clause",symbols:[Le.has("RESERVED_SELECT")?{type:"RESERVED_SELECT"}:RESERVED_SELECT],postprocess:([r])=>({type:Ne.clause,nameKw:It(r),children:[]})},{name:"all_columns_asterisk",symbols:[Le.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK],postprocess:()=>({type:Ne.all_columns_asterisk})},{name:"other_clause$ebnf$1",symbols:[]},{name:"other_clause$ebnf$1",symbols:["other_clause$ebnf$1","free_form_sql"],postprocess:r=>r[0].concat([r[1]])},{name:"other_clause",symbols:[Le.has("RESERVED_CLAUSE")?{type:"RESERVED_CLAUSE"}:RESERVED_CLAUSE,"other_clause$ebnf$1"],postprocess:([r,e])=>({type:Ne.clause,nameKw:It(r),children:e})},{name:"set_operation$ebnf$1",symbols:[]},{name:"set_operation$ebnf$1",symbols:["set_operation$ebnf$1","free_form_sql"],postprocess:r=>r[0].concat([r[1]])},{name:"set_operation",symbols:[Le.has("RESERVED_SET_OPERATION")?{type:"RESERVED_SET_OPERATION"}:RESERVED_SET_OPERATION,"set_operation$ebnf$1"],postprocess:([r,e])=>({type:Ne.set_operation,nameKw:It(r),children:e})},{name:"expression_chain_$ebnf$1",symbols:["expression_with_comments_"]},{name:"expression_chain_$ebnf$1",symbols:["expression_chain_$ebnf$1","expression_with_comments_"],postprocess:r=>r[0].concat([r[1]])},{name:"expression_chain_",symbols:["expression_chain_$ebnf$1"],postprocess:wE},{name:"expression_chain$ebnf$1",symbols:[]},{name:"expression_chain$ebnf$1",symbols:["expression_chain$ebnf$1","_expression_with_comments"],postprocess:r=>r[0].concat([r[1]])},{name:"expression_chain",symbols:["expression","expression_chain$ebnf$1"],postprocess:([r,e])=>[r,...e]},{name:"andless_expression_chain$ebnf$1",symbols:[]},{name:"andless_expression_chain$ebnf$1",symbols:["andless_expression_chain$ebnf$1","_andless_expression_with_comments"],postprocess:r=>r[0].concat([r[1]])},{name:"andless_expression_chain",symbols:["andless_expression","andless_expression_chain$ebnf$1"],postprocess:([r,e])=>[r,...e]},{name:"expression_with_comments_",symbols:["expression","_"],postprocess:([r,e])=>Nt(r,{trailing:e})},{name:"_expression_with_comments",symbols:["_","expression"],postprocess:([r,e])=>Nt(e,{leading:r})},{name:"_andless_expression_with_comments",symbols:["_","andless_expression"],postprocess:([r,e])=>Nt(e,{leading:r})},{name:"free_form_sql$subexpression$1",symbols:["asteriskless_free_form_sql"]},{name:"free_form_sql$subexpression$1",symbols:["asterisk"]},{name:"free_form_sql",symbols:["free_form_sql$subexpression$1"],postprocess:Wi},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["logic_operator"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comma"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["comment"]},{name:"asteriskless_free_form_sql$subexpression$1",symbols:["other_keyword"]},{name:"asteriskless_free_form_sql",symbols:["asteriskless_free_form_sql$subexpression$1"],postprocess:Wi},{name:"expression$subexpression$1",symbols:["andless_expression"]},{name:"expression$subexpression$1",symbols:["logic_operator"]},{name:"expression",symbols:["expression$subexpression$1"],postprocess:Wi},{name:"andless_expression$subexpression$1",symbols:["asteriskless_andless_expression"]},{name:"andless_expression$subexpression$1",symbols:["asterisk"]},{name:"andless_expression",symbols:["andless_expression$subexpression$1"],postprocess:Wi},{name:"asteriskless_andless_expression$subexpression$1",symbols:["atomic_expression"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["between_predicate"]},{name:"asteriskless_andless_expression$subexpression$1",symbols:["case_expression"]},{name:"asteriskless_andless_expression",symbols:["asteriskless_andless_expression$subexpression$1"],postprocess:Wi},{name:"atomic_expression$subexpression$1",symbols:["array_subscript"]},{name:"atomic_expression$subexpression$1",symbols:["function_call"]},{name:"atomic_expression$subexpression$1",symbols:["property_access"]},{name:"atomic_expression$subexpression$1",symbols:["parenthesis"]},{name:"atomic_expression$subexpression$1",symbols:["curly_braces"]},{name:"atomic_expression$subexpression$1",symbols:["square_brackets"]},{name:"atomic_expression$subexpression$1",symbols:["operator"]},{name:"atomic_expression$subexpression$1",symbols:["identifier"]},{name:"atomic_expression$subexpression$1",symbols:["parameter"]},{name:"atomic_expression$subexpression$1",symbols:["literal"]},{name:"atomic_expression$subexpression$1",symbols:["data_type"]},{name:"atomic_expression$subexpression$1",symbols:["keyword"]},{name:"atomic_expression",symbols:["atomic_expression$subexpression$1"],postprocess:Wi},{name:"array_subscript",symbols:[Le.has("ARRAY_IDENTIFIER")?{type:"ARRAY_IDENTIFIER"}:ARRAY_IDENTIFIER,"_","square_brackets"],postprocess:([r,e,t])=>({type:Ne.array_subscript,array:Nt({type:Ne.identifier,quoted:!1,text:r.text},{trailing:e}),parenthesis:t})},{name:"array_subscript",symbols:[Le.has("ARRAY_KEYWORD")?{type:"ARRAY_KEYWORD"}:ARRAY_KEYWORD,"_","square_brackets"],postprocess:([r,e,t])=>({type:Ne.array_subscript,array:Nt(It(r),{trailing:e}),parenthesis:t})},{name:"function_call",symbols:[Le.has("RESERVED_FUNCTION_NAME")?{type:"RESERVED_FUNCTION_NAME"}:RESERVED_FUNCTION_NAME,"_","parenthesis"],postprocess:([r,e,t])=>({type:Ne.function_call,nameKw:Nt(It(r),{trailing:e}),parenthesis:t})},{name:"parenthesis",symbols:[{literal:"("},"expressions_or_clauses",{literal:")"}],postprocess:([r,e,t])=>({type:Ne.parenthesis,children:e,openParen:"(",closeParen:")"})},{name:"curly_braces$ebnf$1",symbols:[]},{name:"curly_braces$ebnf$1",symbols:["curly_braces$ebnf$1","free_form_sql"],postprocess:r=>r[0].concat([r[1]])},{name:"curly_braces",symbols:[{literal:"{"},"curly_braces$ebnf$1",{literal:"}"}],postprocess:([r,e,t])=>({type:Ne.parenthesis,children:e,openParen:"{",closeParen:"}"})},{name:"square_brackets$ebnf$1",symbols:[]},{name:"square_brackets$ebnf$1",symbols:["square_brackets$ebnf$1","free_form_sql"],postprocess:r=>r[0].concat([r[1]])},{name:"square_brackets",symbols:[{literal:"["},"square_brackets$ebnf$1",{literal:"]"}],postprocess:([r,e,t])=>({type:Ne.parenthesis,children:e,openParen:"[",closeParen:"]"})},{name:"property_access$subexpression$1",symbols:["identifier"]},{name:"property_access$subexpression$1",symbols:["array_subscript"]},{name:"property_access$subexpression$1",symbols:["all_columns_asterisk"]},{name:"property_access$subexpression$1",symbols:["parameter"]},{name:"property_access",symbols:["atomic_expression","_",Le.has("PROPERTY_ACCESS_OPERATOR")?{type:"PROPERTY_ACCESS_OPERATOR"}:PROPERTY_ACCESS_OPERATOR,"_","property_access$subexpression$1"],postprocess:([r,e,t,i,[n]])=>({type:Ne.property_access,object:Nt(r,{trailing:e}),operator:t.text,property:Nt(n,{leading:i})})},{name:"between_predicate",symbols:[Le.has("BETWEEN")?{type:"BETWEEN"}:BETWEEN,"_","andless_expression_chain","_",Le.has("AND")?{type:"AND"}:AND,"_","andless_expression"],postprocess:([r,e,t,i,n,s,a])=>({type:Ne.between_predicate,betweenKw:It(r),expr1:ov(t,{leading:e,trailing:i}),andKw:It(n),expr2:[Nt(a,{leading:s})]})},{name:"case_expression$ebnf$1",symbols:["expression_chain_"],postprocess:wE},{name:"case_expression$ebnf$1",symbols:[],postprocess:()=>null},{name:"case_expression$ebnf$2",symbols:[]},{name:"case_expression$ebnf$2",symbols:["case_expression$ebnf$2","case_clause"],postprocess:r=>r[0].concat([r[1]])},{name:"case_expression",symbols:[Le.has("CASE")?{type:"CASE"}:CASE,"_","case_expression$ebnf$1","case_expression$ebnf$2",Le.has("END")?{type:"END"}:END],postprocess:([r,e,t,i,n])=>({type:Ne.case_expression,caseKw:Nt(It(r),{trailing:e}),endKw:It(n),expr:t||[],clauses:i})},{name:"case_clause",symbols:[Le.has("WHEN")?{type:"WHEN"}:WHEN,"_","expression_chain_",Le.has("THEN")?{type:"THEN"}:THEN,"_","expression_chain_"],postprocess:([r,e,t,i,n,s])=>({type:Ne.case_when,whenKw:Nt(It(r),{trailing:e}),thenKw:Nt(It(i),{trailing:n}),condition:t,result:s})},{name:"case_clause",symbols:[Le.has("ELSE")?{type:"ELSE"}:ELSE,"_","expression_chain_"],postprocess:([r,e,t])=>({type:Ne.case_else,elseKw:Nt(It(r),{trailing:e}),result:t})},{name:"comma$subexpression$1",symbols:[Le.has("COMMA")?{type:"COMMA"}:COMMA]},{name:"comma",symbols:["comma$subexpression$1"],postprocess:([[r]])=>({type:Ne.comma})},{name:"asterisk$subexpression$1",symbols:[Le.has("ASTERISK")?{type:"ASTERISK"}:ASTERISK]},{name:"asterisk",symbols:["asterisk$subexpression$1"],postprocess:([[r]])=>({type:Ne.operator,text:r.text})},{name:"operator$subexpression$1",symbols:[Le.has("OPERATOR")?{type:"OPERATOR"}:OPERATOR]},{name:"operator",symbols:["operator$subexpression$1"],postprocess:([[r]])=>({type:Ne.operator,text:r.text})},{name:"identifier$subexpression$1",symbols:[Le.has("IDENTIFIER")?{type:"IDENTIFIER"}:IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[Le.has("QUOTED_IDENTIFIER")?{type:"QUOTED_IDENTIFIER"}:QUOTED_IDENTIFIER]},{name:"identifier$subexpression$1",symbols:[Le.has("VARIABLE")?{type:"VARIABLE"}:VARIABLE]},{name:"identifier",symbols:["identifier$subexpression$1"],postprocess:([[r]])=>({type:Ne.identifier,quoted:r.type!=="IDENTIFIER",text:r.text})},{name:"parameter$subexpression$1",symbols:[Le.has("NAMED_PARAMETER")?{type:"NAMED_PARAMETER"}:NAMED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[Le.has("QUOTED_PARAMETER")?{type:"QUOTED_PARAMETER"}:QUOTED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[Le.has("NUMBERED_PARAMETER")?{type:"NUMBERED_PARAMETER"}:NUMBERED_PARAMETER]},{name:"parameter$subexpression$1",symbols:[Le.has("POSITIONAL_PARAMETER")?{type:"POSITIONAL_PARAMETER"}:POSITIONAL_PARAMETER]},{name:"parameter$subexpression$1",symbols:[Le.has("CUSTOM_PARAMETER")?{type:"CUSTOM_PARAMETER"}:CUSTOM_PARAMETER]},{name:"parameter",symbols:["parameter$subexpression$1"],postprocess:([[r]])=>({type:Ne.parameter,key:r.key,text:r.text})},{name:"literal$subexpression$1",symbols:[Le.has("NUMBER")?{type:"NUMBER"}:NUMBER]},{name:"literal$subexpression$1",symbols:[Le.has("STRING")?{type:"STRING"}:STRING]},{name:"literal",symbols:["literal$subexpression$1"],postprocess:([[r]])=>({type:Ne.literal,text:r.text})},{name:"keyword$subexpression$1",symbols:[Le.has("RESERVED_KEYWORD")?{type:"RESERVED_KEYWORD"}:RESERVED_KEYWORD]},{name:"keyword$subexpression$1",symbols:[Le.has("RESERVED_KEYWORD_PHRASE")?{type:"RESERVED_KEYWORD_PHRASE"}:RESERVED_KEYWORD_PHRASE]},{name:"keyword$subexpression$1",symbols:[Le.has("RESERVED_JOIN")?{type:"RESERVED_JOIN"}:RESERVED_JOIN]},{name:"keyword",symbols:["keyword$subexpression$1"],postprocess:([[r]])=>It(r)},{name:"data_type$subexpression$1",symbols:[Le.has("RESERVED_DATA_TYPE")?{type:"RESERVED_DATA_TYPE"}:RESERVED_DATA_TYPE]},{name:"data_type$subexpression$1",symbols:[Le.has("RESERVED_DATA_TYPE_PHRASE")?{type:"RESERVED_DATA_TYPE_PHRASE"}:RESERVED_DATA_TYPE_PHRASE]},{name:"data_type",symbols:["data_type$subexpression$1"],postprocess:([[r]])=>qT(r)},{name:"data_type",symbols:[Le.has("RESERVED_PARAMETERIZED_DATA_TYPE")?{type:"RESERVED_PARAMETERIZED_DATA_TYPE"}:RESERVED_PARAMETERIZED_DATA_TYPE,"_","parenthesis"],postprocess:([r,e,t])=>({type:Ne.parameterized_data_type,dataType:Nt(qT(r),{trailing:e}),parenthesis:t})},{name:"logic_operator$subexpression$1",symbols:[Le.has("AND")?{type:"AND"}:AND]},{name:"logic_operator$subexpression$1",symbols:[Le.has("OR")?{type:"OR"}:OR]},{name:"logic_operator$subexpression$1",symbols:[Le.has("XOR")?{type:"XOR"}:XOR]},{name:"logic_operator",symbols:["logic_operator$subexpression$1"],postprocess:([[r]])=>It(r)},{name:"other_keyword$subexpression$1",symbols:[Le.has("WHEN")?{type:"WHEN"}:WHEN]},{name:"other_keyword$subexpression$1",symbols:[Le.has("THEN")?{type:"THEN"}:THEN]},{name:"other_keyword$subexpression$1",symbols:[Le.has("ELSE")?{type:"ELSE"}:ELSE]},{name:"other_keyword$subexpression$1",symbols:[Le.has("END")?{type:"END"}:END]},{name:"other_keyword",symbols:["other_keyword$subexpression$1"],postprocess:([[r]])=>It(r)},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1","comment"],postprocess:r=>r[0].concat([r[1]])},{name:"_",symbols:["_$ebnf$1"],postprocess:([r])=>r},{name:"comment",symbols:[Le.has("LINE_COMMENT")?{type:"LINE_COMMENT"}:LINE_COMMENT],postprocess:([r])=>({type:Ne.line_comment,text:r.text,precedingWhitespace:r.precedingWhitespace})},{name:"comment",symbols:[Le.has("BLOCK_COMMENT")?{type:"BLOCK_COMMENT"}:BLOCK_COMMENT],postprocess:([r])=>({type:Ne.block_comment,text:r.text,precedingWhitespace:r.precedingWhitespace})},{name:"comment",symbols:[Le.has("DISABLE_COMMENT")?{type:"DISABLE_COMMENT"}:DISABLE_COMMENT],postprocess:([r])=>({type:Ne.disable_comment,text:r.text,precedingWhitespace:r.precedingWhitespace})}],ParserStart:"main"},{Parser:Ev,Grammar:hv}=jM;function cv(r){let e={};const t=new cS(n=>[...ZM(r.tokenize(n,e)),rS(n.length)]),i=new Ev(hv.fromCompiled(lv),{lexer:t});return{parse:(n,s)=>{e=s;const{results:a}=i.feed(n);if(a.length===1)return a[0];throw a.length===0?new Error("Parse error: Invalid SQL"):new Error(`Parse error: Ambiguous grammar
${JSON.stringify(a,void 0,2)}`)}}}var q;(function(r){r[r.SPACE=0]="SPACE",r[r.NO_SPACE=1]="NO_SPACE",r[r.NO_NEWLINE=2]="NO_NEWLINE",r[r.NEWLINE=3]="NEWLINE",r[r.MANDATORY_NEWLINE=4]="MANDATORY_NEWLINE",r[r.INDENT=5]="INDENT",r[r.SINGLE_INDENT=6]="SINGLE_INDENT"})(q=q||(q={}));class fS{constructor(e){this.indentation=e,this.items=[]}add(...e){for(const t of e)switch(t){case q.SPACE:this.items.push(q.SPACE);break;case q.NO_SPACE:this.trimHorizontalWhitespace();break;case q.NO_NEWLINE:this.trimWhitespace();break;case q.NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(q.NEWLINE);break;case q.MANDATORY_NEWLINE:this.trimHorizontalWhitespace(),this.addNewline(q.MANDATORY_NEWLINE);break;case q.INDENT:this.addIndentation();break;case q.SINGLE_INDENT:this.items.push(q.SINGLE_INDENT);break;default:this.items.push(t)}}trimHorizontalWhitespace(){for(;fv(Bs(this.items));)this.items.pop()}trimWhitespace(){for(;Tv(Bs(this.items));)this.items.pop()}addNewline(e){if(this.items.length>0)switch(Bs(this.items)){case q.NEWLINE:this.items.pop(),this.items.push(e);break;case q.MANDATORY_NEWLINE:break;default:this.items.push(e);break}}addIndentation(){for(let e=0;e<this.indentation.getLevel();e++)this.items.push(q.SINGLE_INDENT)}toString(){return this.items.map(e=>this.itemToString(e)).join("")}getLayoutItems(){return this.items}itemToString(e){switch(e){case q.SPACE:return" ";case q.NEWLINE:case q.MANDATORY_NEWLINE:return`
`;case q.SINGLE_INDENT:return this.indentation.getSingleIndent();default:return e}}}const fv=r=>r===q.SPACE||r===q.SINGLE_INDENT,Tv=r=>r===q.SPACE||r===q.SINGLE_INDENT||r===q.NEWLINE;function QT(r,e){if(e==="standard")return r;let t=[];return r.length>=10&&r.includes(" ")&&([r,...t]=r.split(" ")),e==="tabularLeft"?r=r.padEnd(9," "):r=r.padStart(9," "),r+["",...t].join(" ")}function jT(r){return z1(r)||r===ee.RESERVED_CLAUSE||r===ee.RESERVED_SELECT||r===ee.RESERVED_SET_OPERATION||r===ee.RESERVED_JOIN||r===ee.LIMIT}const FE="top-level",uv="block-level";class TS{constructor(e){this.indent=e,this.indentTypes=[]}getSingleIndent(){return this.indent}getLevel(){return this.indentTypes.length}increaseTopLevel(){this.indentTypes.push(FE)}increaseBlockLevel(){this.indentTypes.push(uv)}decreaseTopLevel(){this.indentTypes.length>0&&Bs(this.indentTypes)===FE&&this.indentTypes.pop()}decreaseBlockLevel(){for(;this.indentTypes.length>0&&this.indentTypes.pop()===FE;);}}class Av extends fS{constructor(e){super(new TS("")),this.expressionWidth=e,this.length=0,this.trailingSpace=!1}add(...e){if(e.forEach(t=>this.addToLength(t)),this.length>this.expressionWidth)throw new Ch;super.add(...e)}addToLength(e){if(typeof e=="string")this.length+=e.length,this.trailingSpace=!1;else{if(e===q.MANDATORY_NEWLINE||e===q.NEWLINE)throw new Ch;e===q.INDENT||e===q.SINGLE_INDENT||e===q.SPACE?this.trailingSpace||(this.length++,this.trailingSpace=!0):(e===q.NO_NEWLINE||e===q.NO_SPACE)&&this.trailingSpace&&(this.trailingSpace=!1,this.length--)}}}class Ch extends Error{}class zo{constructor({cfg:e,dialectCfg:t,params:i,layout:n,inline:s=!1}){this.inline=!1,this.nodes=[],this.index=-1,this.cfg=e,this.dialectCfg=t,this.inline=s,this.params=i,this.layout=n}format(e){for(this.nodes=e,this.index=0;this.index<this.nodes.length;this.index++)this.formatNode(this.nodes[this.index]);return this.layout}formatNode(e){this.formatComments(e.leadingComments),this.formatNodeWithoutComments(e),this.formatComments(e.trailingComments)}formatNodeWithoutComments(e){switch(e.type){case Ne.function_call:return this.formatFunctionCall(e);case Ne.parameterized_data_type:return this.formatParameterizedDataType(e);case Ne.array_subscript:return this.formatArraySubscript(e);case Ne.property_access:return this.formatPropertyAccess(e);case Ne.parenthesis:return this.formatParenthesis(e);case Ne.between_predicate:return this.formatBetweenPredicate(e);case Ne.case_expression:return this.formatCaseExpression(e);case Ne.case_when:return this.formatCaseWhen(e);case Ne.case_else:return this.formatCaseElse(e);case Ne.clause:return this.formatClause(e);case Ne.set_operation:return this.formatSetOperation(e);case Ne.limit_clause:return this.formatLimitClause(e);case Ne.all_columns_asterisk:return this.formatAllColumnsAsterisk(e);case Ne.literal:return this.formatLiteral(e);case Ne.identifier:return this.formatIdentifier(e);case Ne.parameter:return this.formatParameter(e);case Ne.operator:return this.formatOperator(e);case Ne.comma:return this.formatComma(e);case Ne.line_comment:return this.formatLineComment(e);case Ne.block_comment:return this.formatBlockComment(e);case Ne.disable_comment:return this.formatBlockComment(e);case Ne.data_type:return this.formatDataType(e);case Ne.keyword:return this.formatKeywordNode(e)}}formatFunctionCall(e){this.withComments(e.nameKw,()=>{this.layout.add(this.showFunctionKw(e.nameKw))}),this.formatNode(e.parenthesis)}formatParameterizedDataType(e){this.withComments(e.dataType,()=>{this.layout.add(this.showDataType(e.dataType))}),this.formatNode(e.parenthesis)}formatArraySubscript(e){let t;switch(e.array.type){case Ne.data_type:t=this.showDataType(e.array);break;case Ne.keyword:t=this.showKw(e.array);break;default:t=this.showIdentifier(e.array);break}this.withComments(e.array,()=>{this.layout.add(t)}),this.formatNode(e.parenthesis)}formatPropertyAccess(e){this.formatNode(e.object),this.layout.add(q.NO_SPACE,e.operator),this.formatNode(e.property)}formatParenthesis(e){const t=this.formatInlineExpression(e.children);t?(this.layout.add(e.openParen),this.layout.add(...t.getLayoutItems()),this.layout.add(q.NO_SPACE,e.closeParen,q.SPACE)):(this.layout.add(e.openParen,q.NEWLINE),gn(this.cfg)?(this.layout.add(q.INDENT),this.layout=this.formatSubExpression(e.children)):(this.layout.indentation.increaseBlockLevel(),this.layout.add(q.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseBlockLevel()),this.layout.add(q.NEWLINE,q.INDENT,e.closeParen,q.SPACE))}formatBetweenPredicate(e){this.layout.add(this.showKw(e.betweenKw),q.SPACE),this.layout=this.formatSubExpression(e.expr1),this.layout.add(q.NO_SPACE,q.SPACE,this.showNonTabularKw(e.andKw),q.SPACE),this.layout=this.formatSubExpression(e.expr2),this.layout.add(q.SPACE)}formatCaseExpression(e){this.formatNode(e.caseKw),this.layout.indentation.increaseBlockLevel(),this.layout=this.formatSubExpression(e.expr),this.layout=this.formatSubExpression(e.clauses),this.layout.indentation.decreaseBlockLevel(),this.layout.add(q.NEWLINE,q.INDENT),this.formatNode(e.endKw)}formatCaseWhen(e){this.layout.add(q.NEWLINE,q.INDENT),this.formatNode(e.whenKw),this.layout=this.formatSubExpression(e.condition),this.formatNode(e.thenKw),this.layout=this.formatSubExpression(e.result)}formatCaseElse(e){this.layout.add(q.NEWLINE,q.INDENT),this.formatNode(e.elseKw),this.layout=this.formatSubExpression(e.result)}formatClause(e){this.isOnelineClause(e)?this.formatClauseInOnelineStyle(e):gn(this.cfg)?this.formatClauseInTabularStyle(e):this.formatClauseInIndentedStyle(e)}isOnelineClause(e){return gn(this.cfg)?this.dialectCfg.tabularOnelineClauses[e.nameKw.text]:this.dialectCfg.onelineClauses[e.nameKw.text]}formatClauseInIndentedStyle(e){this.layout.add(q.NEWLINE,q.INDENT,this.showKw(e.nameKw),q.NEWLINE),this.layout.indentation.increaseTopLevel(),this.layout.add(q.INDENT),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatClauseInOnelineStyle(e){this.layout.add(q.NEWLINE,q.INDENT,this.showKw(e.nameKw),q.SPACE),this.layout=this.formatSubExpression(e.children)}formatClauseInTabularStyle(e){this.layout.add(q.NEWLINE,q.INDENT,this.showKw(e.nameKw),q.SPACE),this.layout.indentation.increaseTopLevel(),this.layout=this.formatSubExpression(e.children),this.layout.indentation.decreaseTopLevel()}formatSetOperation(e){this.layout.add(q.NEWLINE,q.INDENT,this.showKw(e.nameKw),q.NEWLINE),this.layout.add(q.INDENT),this.layout=this.formatSubExpression(e.children)}formatLimitClause(e){this.withComments(e.limitKw,()=>{this.layout.add(q.NEWLINE,q.INDENT,this.showKw(e.limitKw))}),this.layout.indentation.increaseTopLevel(),gn(this.cfg)?this.layout.add(q.SPACE):this.layout.add(q.NEWLINE,q.INDENT),e.offset?(this.layout=this.formatSubExpression(e.offset),this.layout.add(q.NO_SPACE,",",q.SPACE),this.layout=this.formatSubExpression(e.count)):this.layout=this.formatSubExpression(e.count),this.layout.indentation.decreaseTopLevel()}formatAllColumnsAsterisk(e){this.layout.add("*",q.SPACE)}formatLiteral(e){this.layout.add(e.text,q.SPACE)}formatIdentifier(e){this.layout.add(this.showIdentifier(e),q.SPACE)}formatParameter(e){this.layout.add(this.params.get(e),q.SPACE)}formatOperator({text:e}){this.cfg.denseOperators||this.dialectCfg.alwaysDenseOperators.includes(e)?this.layout.add(q.NO_SPACE,e):e===":"?this.layout.add(q.NO_SPACE,e,q.SPACE):this.layout.add(e,q.SPACE)}formatComma(e){this.inline?this.layout.add(q.NO_SPACE,",",q.SPACE):this.layout.add(q.NO_SPACE,",",q.NEWLINE,q.INDENT)}withComments(e,t){this.formatComments(e.leadingComments),t(),this.formatComments(e.trailingComments)}formatComments(e){e&&e.forEach(t=>{t.type===Ne.line_comment?this.formatLineComment(t):this.formatBlockComment(t)})}formatLineComment(e){UE(e.precedingWhitespace||"")?this.layout.add(q.NEWLINE,q.INDENT,e.text,q.MANDATORY_NEWLINE,q.INDENT):this.layout.getLayoutItems().length>0?this.layout.add(q.NO_NEWLINE,q.SPACE,e.text,q.MANDATORY_NEWLINE,q.INDENT):this.layout.add(e.text,q.MANDATORY_NEWLINE,q.INDENT)}formatBlockComment(e){e.type===Ne.block_comment&&this.isMultilineBlockComment(e)?(this.splitBlockComment(e.text).forEach(t=>{this.layout.add(q.NEWLINE,q.INDENT,t)}),this.layout.add(q.NEWLINE,q.INDENT)):this.layout.add(e.text,q.SPACE)}isMultilineBlockComment(e){return UE(e.text)||UE(e.precedingWhitespace||"")}isDocComment(e){const t=e.split(/\n/);return/^\/\*\*?$/.test(t[0])&&t.slice(1,t.length-1).every(i=>/^\s*\*/.test(i))&&/^\s*\*\/$/.test(Bs(t))}splitBlockComment(e){return this.isDocComment(e)?e.split(/\n/).map(t=>/^\s*\*/.test(t)?" "+t.replace(/^\s*/,""):t):e.split(/\n/).map(t=>t.replace(/^\s*/,""))}formatSubExpression(e){return new zo({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:this.layout,inline:this.inline}).format(e)}formatInlineExpression(e){const t=this.params.getPositionalParameterIndex();try{return new zo({cfg:this.cfg,dialectCfg:this.dialectCfg,params:this.params,layout:new Av(this.cfg.expressionWidth),inline:!0}).format(e)}catch(i){if(i instanceof Ch){this.params.setPositionalParameterIndex(t);return}else throw i}}formatKeywordNode(e){switch(e.tokenType){case ee.RESERVED_JOIN:return this.formatJoin(e);case ee.AND:case ee.OR:case ee.XOR:return this.formatLogicalOperator(e);default:return this.formatKeyword(e)}}formatJoin(e){gn(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(q.NEWLINE,q.INDENT,this.showKw(e),q.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(q.NEWLINE,q.INDENT,this.showKw(e),q.SPACE)}formatKeyword(e){this.layout.add(this.showKw(e),q.SPACE)}formatLogicalOperator(e){this.cfg.logicalOperatorNewline==="before"?gn(this.cfg)?(this.layout.indentation.decreaseTopLevel(),this.layout.add(q.NEWLINE,q.INDENT,this.showKw(e),q.SPACE),this.layout.indentation.increaseTopLevel()):this.layout.add(q.NEWLINE,q.INDENT,this.showKw(e),q.SPACE):this.layout.add(this.showKw(e),q.NEWLINE,q.INDENT)}formatDataType(e){this.layout.add(this.showDataType(e),q.SPACE)}showKw(e){return jT(e.tokenType)?QT(this.showNonTabularKw(e),this.cfg.indentStyle):this.showNonTabularKw(e)}showNonTabularKw(e){switch(this.cfg.keywordCase){case"preserve":return Io(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showFunctionKw(e){return jT(e.tokenType)?QT(this.showNonTabularFunctionKw(e),this.cfg.indentStyle):this.showNonTabularFunctionKw(e)}showNonTabularFunctionKw(e){switch(this.cfg.functionCase){case"preserve":return Io(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}showIdentifier(e){if(e.quoted)return e.text;switch(this.cfg.identifierCase){case"preserve":return e.text;case"upper":return e.text.toUpperCase();case"lower":return e.text.toLowerCase()}}showDataType(e){switch(this.cfg.dataTypeCase){case"preserve":return Io(e.raw);case"upper":return e.text;case"lower":return e.text.toLowerCase()}}}class Rv{constructor(e,t){this.dialect=e,this.cfg=t,this.params=new JM(this.cfg.params)}format(e){const t=this.parse(e);return this.formatAst(t).trimEnd()}parse(e){return cv(this.dialect.tokenizer).parse(e,this.cfg.paramTypes||{})}formatAst(e){return e.map(t=>this.formatStatement(t)).join(`
`.repeat(this.cfg.linesBetweenQueries+1))}formatStatement(e){const t=new zo({cfg:this.cfg,dialectCfg:this.dialect.formatOptions,params:this.params,layout:new fS(new TS($M(this.cfg)))}).format(e.children);return e.hasSemicolon&&(this.cfg.newlineBeforeSemicolon?t.add(q.NEWLINE,";"):t.add(q.NO_NEWLINE,";")),t.toString()}}class po extends Error{}function Sv(r){const e=["multilineLists","newlineBeforeOpenParen","newlineBeforeCloseParen","aliasAs","commaPosition","tabulateAlias"];for(const t of e)if(t in r)throw new po(`${t} config is no more supported.`);if(r.expressionWidth<=0)throw new po(`expressionWidth config must be positive number. Received ${r.expressionWidth} instead.`);if(r.params&&!dv(r.params)&&console.warn('WARNING: All "params" option values should be strings.'),r.paramTypes&&!Ov(r.paramTypes))throw new po("Empty regex given in custom paramTypes. That would result in matching infinite amount of parameters.");return r}function dv(r){return(r instanceof Array?r:Object.values(r)).every(t=>typeof t=="string")}function Ov(r){return r.custom&&Array.isArray(r.custom)?r.custom.every(e=>e.regex!==""):!0}var Iv=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t};const uS={bigquery:"bigquery",db2:"db2",db2i:"db2i",duckdb:"duckdb",hive:"hive",mariadb:"mariadb",mysql:"mysql",n1ql:"n1ql",plsql:"plsql",postgresql:"postgresql",redshift:"redshift",spark:"spark",sqlite:"sqlite",sql:"sql",tidb:"tidb",trino:"trino",transactsql:"transactsql",tsql:"transactsql",singlestoredb:"singlestoredb",snowflake:"snowflake"},Nv=Object.keys(uS),pv={tabWidth:2,useTabs:!1,keywordCase:"preserve",identifierCase:"preserve",dataTypeCase:"preserve",functionCase:"preserve",indentStyle:"standard",logicalOperatorNewline:"before",expressionWidth:50,linesBetweenQueries:1,denseOperators:!1,newlineBeforeSemicolon:!1},mv=(r,e={})=>{if(typeof e.language=="string"&&!Nv.includes(e.language))throw new po(`Unsupported SQL dialect: ${e.language}`);const t=uS[e.language||"sql"];return Cv(r,Object.assign(Object.assign({},e),{dialect:PM[t]}))},Cv=(r,e)=>{var{dialect:t}=e,i=Iv(e,["dialect"]);if(typeof r!="string")throw new Error("Invalid query argument. Expected string, instead got "+typeof r);const n=Sv(Object.assign(Object.assign({},pv),i));return new Rv(WM(t),n).format(r)};var BE={exports:{}},bE,ZT;function _v(){if(ZT)return bE;ZT=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return bE=r,bE}var GE,eu;function gv(){if(eu)return GE;eu=1;var r=_v();function e(){}function t(){}return t.resetWarningCache=e,GE=function(){function i(a,o,l,E,h,c){if(c!==r){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}i.isRequired=i;function n(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:n,element:i,elementType:i,instanceOf:n,node:i,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},GE}var tu;function Lv(){return tu||(tu=1,BE.exports=gv()()),BE.exports}var Dv=Lv();const pi=I0(Dv);function qo(){return qo=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},qo.apply(null,arguments)}function xv(r,e){if(r==null)return{};var t={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(e.indexOf(i)!==-1)continue;t[i]=r[i]}return t}let _h=[],AS=[];(()=>{let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<r.length;e++)(e%2?AS:_h).push(t=t+r[e])})();function Pv(r){if(r<768)return!1;for(let e=0,t=_h.length;;){let i=e+t>>1;if(r<_h[i])t=i;else if(r>=AS[i])e=i+1;else return!0;if(e==t)return!1}}function ru(r){return r>=127462&&r<=127487}const iu=8205;function Mv(r,e,t=!0,i=!0){return(t?RS:vv)(r,e,i)}function RS(r,e,t){if(e==r.length)return e;e&&SS(r.charCodeAt(e))&&dS(r.charCodeAt(e-1))&&e--;let i=HE(r,e);for(e+=nu(i);e<r.length;){let n=HE(r,e);if(i==iu||n==iu||t&&Pv(n))e+=nu(n),i=n;else if(ru(n)){let s=0,a=e-2;for(;a>=0&&ru(HE(r,a));)s++,a-=2;if(s%2==0)break;e+=2}else break}return e}function vv(r,e,t){for(;e>0;){let i=RS(r,e-2,t);if(i<e)return i;e--}return 0}function HE(r,e){let t=r.charCodeAt(e);if(!dS(t)||e+1==r.length)return t;let i=r.charCodeAt(e+1);return SS(i)?(t-55296<<10)+(i-56320)+65536:t}function SS(r){return r>=56320&&r<57344}function dS(r){return r>=55296&&r<56320}function nu(r){return r<65536?1:2}class ke{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=zn(this,e,t);let n=[];return this.decompose(0,e,n,2),i.length&&i.decompose(0,i.length,n,3),this.decompose(t,this.length,n,1),$r.from(n,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=zn(this,e,t);let i=[];return this.decompose(e,t,i,0),$r.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),n=new bs(this),s=new bs(e);for(let a=t,o=t;;){if(n.next(a),s.next(a),a=0,n.lineBreak!=s.lineBreak||n.done!=s.done||n.value!=s.value)return!1;if(o+=n.value.length,n.done||o>=i)return!0}}iter(e=1){return new bs(this,e)}iterRange(e,t=this.length){return new OS(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let n=this.line(e).from;i=this.iterRange(n,Math.max(n,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new IS(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?ke.empty:e.length<=32?new lt(e):$r.from(lt.split(e,[]))}}class lt extends ke{constructor(e,t=Uv(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,n){for(let s=0;;s++){let a=this.text[s],o=n+a.length;if((t?i:o)>=e)return new yv(n,o,i,a);n=o+1,i++}}decompose(e,t,i,n){let s=e<=0&&t>=this.length?this:new lt(su(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(n&1){let a=i.pop(),o=mo(s.text,a.text.slice(),0,s.length);if(o.length<=32)i.push(new lt(o,a.length+s.length));else{let l=o.length>>1;i.push(new lt(o.slice(0,l)),new lt(o.slice(l)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof lt))return super.replace(e,t,i);[e,t]=zn(this,e,t);let n=mo(this.text,mo(i.text,su(this.text,0,e)),t),s=this.length+i.length-(t-e);return n.length<=32?new lt(n,s):$r.from(lt.split(n,[]),s)}sliceString(e,t=this.length,i=`
`){[e,t]=zn(this,e,t);let n="";for(let s=0,a=0;s<=t&&a<this.text.length;a++){let o=this.text[a],l=s+o.length;s>e&&a&&(n+=i),e<l&&t>s&&(n+=o.slice(Math.max(0,e-s),t-s)),s=l+1}return n}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],n=-1;for(let s of e)i.push(s),n+=s.length+1,i.length==32&&(t.push(new lt(i,n)),i=[],n=-1);return n>-1&&t.push(new lt(i,n)),t}}class $r extends ke{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,n){for(let s=0;;s++){let a=this.children[s],o=n+a.length,l=i+a.lines-1;if((t?l:o)>=e)return a.lineInner(e,t,i,n);n=o+1,i=l+1}}decompose(e,t,i,n){for(let s=0,a=0;a<=t&&s<this.children.length;s++){let o=this.children[s],l=a+o.length;if(e<=l&&t>=a){let E=n&((a<=e?1:0)|(l>=t?2:0));a>=e&&l<=t&&!E?i.push(o):o.decompose(e-a,t-a,i,E)}a=l+1}}replace(e,t,i){if([e,t]=zn(this,e,t),i.lines<this.lines)for(let n=0,s=0;n<this.children.length;n++){let a=this.children[n],o=s+a.length;if(e>=s&&t<=o){let l=a.replace(e-s,t-s,i),E=this.lines-a.lines+l.lines;if(l.lines<E>>4&&l.lines>E>>6){let h=this.children.slice();return h[n]=l,new $r(h,this.length-(t-e)+i.length)}return super.replace(s,o,l)}s=o+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=zn(this,e,t);let n="";for(let s=0,a=0;s<this.children.length&&a<=t;s++){let o=this.children[s],l=a+o.length;a>e&&s&&(n+=i),e<l&&t>a&&(n+=o.sliceString(e-a,t-a,i)),a=l+1}return n}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof $r))return 0;let i=0,[n,s,a,o]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;n+=t,s+=t){if(n==a||s==o)return i;let l=this.children[n],E=e.children[s];if(l!=E)return i+l.scanIdentical(E,t);i+=l.length+1}}static from(e,t=e.reduce((i,n)=>i+n.length+1,-1)){let i=0;for(let T of e)i+=T.lines;if(i<32){let T=[];for(let A of e)A.flatten(T);return new lt(T,t)}let n=Math.max(32,i>>5),s=n<<1,a=n>>1,o=[],l=0,E=-1,h=[];function c(T){let A;if(T.lines>s&&T instanceof $r)for(let u of T.children)c(u);else T.lines>a&&(l>a||!l)?(f(),o.push(T)):T instanceof lt&&l&&(A=h[h.length-1])instanceof lt&&T.lines+A.lines<=32?(l+=T.lines,E+=T.length+1,h[h.length-1]=new lt(A.text.concat(T.text),A.length+1+T.length)):(l+T.lines>n&&f(),l+=T.lines,E+=T.length+1,h.push(T))}function f(){l!=0&&(o.push(h.length==1?h[0]:$r.from(h,E)),E=-1,l=h.length=0)}for(let T of e)c(T);return f(),o.length==1?o[0]:new $r(o,t)}}ke.empty=new lt([""],0);function Uv(r){let e=-1;for(let t of r)e+=t.length+1;return e}function mo(r,e,t=0,i=1e9){for(let n=0,s=0,a=!0;s<r.length&&n<=i;s++){let o=r[s],l=n+o.length;l>=t&&(l>i&&(o=o.slice(0,i-n)),n<t&&(o=o.slice(t-n)),a?(e[e.length-1]+=o,a=!1):e.push(o)),n=l+1}return e}function su(r,e,t){return mo(r,[""],e,t)}class bs{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof lt?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,n=this.nodes[i],s=this.offsets[i],a=s>>1,o=n instanceof lt?n.text.length:n.children.length;if(a==(t>0?o:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(n instanceof lt){let l=n.text[a+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=n.children[a+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof lt?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class OS{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new bs(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:n}=this.cursor.next(e);return this.pos+=(n.length+e)*t,this.value=n.length<=i?n:t<0?n.slice(n.length-i):n.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class IS{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:n}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(ke.prototype[Symbol.iterator]=function(){return this.iter()},bs.prototype[Symbol.iterator]=OS.prototype[Symbol.iterator]=IS.prototype[Symbol.iterator]=function(){return this});class yv{constructor(e,t,i,n){this.from=e,this.to=t,this.number=i,this.text=n}get length(){return this.to-this.from}}function zn(r,e,t){return e=Math.max(0,Math.min(r.length,e)),[e,Math.max(e,Math.min(r.length,t))]}function yt(r,e,t=!0,i=!0){return Mv(r,e,t,i)}function wv(r){return r>=56320&&r<57344}function Fv(r){return r>=55296&&r<56320}function jt(r,e){let t=r.charCodeAt(e);if(!Fv(t)||e+1==r.length)return t;let i=r.charCodeAt(e+1);return wv(i)?(t-55296<<10)+(i-56320)+65536:t}function qc(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function Jr(r){return r<65536?1:2}const gh=/\r\n?|\n/;var Jt=(function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r})(Jt||(Jt={}));class jr{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,n=0;t<this.sections.length;){let s=this.sections[t++],a=this.sections[t++];a<0?(e(i,n,s),n+=s):n+=a,i+=s}}iterChangedRanges(e,t=!1){Lh(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],n=this.sections[t++];n<0?e.push(i,n):e.push(n,i)}return new jr(e)}composeDesc(e){return this.empty?e:e.empty?this:NS(this,e)}mapDesc(e,t=!1){return e.empty?this:Dh(this,e,t)}mapPos(e,t=-1,i=Jt.Simple){let n=0,s=0;for(let a=0;a<this.sections.length;){let o=this.sections[a++],l=this.sections[a++],E=n+o;if(l<0){if(E>e)return s+(e-n);s+=o}else{if(i!=Jt.Simple&&E>=e&&(i==Jt.TrackDel&&n<e&&E>e||i==Jt.TrackBefore&&n<e||i==Jt.TrackAfter&&E>e))return null;if(E>e||E==e&&t<0&&!o)return e==n||t<0?s:s+l;s+=l}n=E}if(e>n)throw new RangeError(`Position ${e} is out of range for changeset of length ${n}`);return s}touchesRange(e,t=e){for(let i=0,n=0;i<this.sections.length&&n<=t;){let s=this.sections[i++],a=this.sections[i++],o=n+s;if(a>=0&&n<=t&&o>=e)return n<e&&o>t?"cover":!0;n=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],n=this.sections[t++];e+=(e?" ":"")+i+(n>=0?":"+n:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new jr(e)}static create(e){return new jr(e)}}class St extends jr{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Lh(this,(t,i,n,s,a)=>e=e.replace(n,n+(i-t),a),!1),e}mapDesc(e,t=!1){return Dh(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let n=0,s=0;n<t.length;n+=2){let a=t[n],o=t[n+1];if(o>=0){t[n]=o,t[n+1]=a;let l=n>>1;for(;i.length<l;)i.push(ke.empty);i.push(a?e.slice(s,s+a):ke.empty)}s+=a}return new St(t,i)}compose(e){return this.empty?e:e.empty?this:NS(this,e,!0)}map(e,t=!1){return e.empty?this:Dh(this,e,t,!0)}iterChanges(e,t=!1){Lh(this,e,t)}get desc(){return jr.create(this.sections)}filter(e){let t=[],i=[],n=[],s=new js(this);e:for(let a=0,o=0;;){let l=a==e.length?1e9:e[a++];for(;o<l||o==l&&s.len==0;){if(s.done)break e;let h=Math.min(s.len,l-o);Gt(n,h,-1);let c=s.ins==-1?-1:s.off==0?s.ins:0;Gt(t,h,c),c>0&&Di(i,t,s.text),s.forward(h),o+=h}let E=e[a++];for(;o<E;){if(s.done)break e;let h=Math.min(s.len,E-o);Gt(t,h,-1),Gt(n,h,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(h),o+=h}}return{changes:new St(t,i),filtered:jr.create(n)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],n=this.sections[t+1];n<0?e.push(i):n==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let n=[],s=[],a=0,o=null;function l(h=!1){if(!h&&!n.length)return;a<t&&Gt(n,t-a,-1);let c=new St(n,s);o=o?o.compose(c.map(o)):c,n=[],s=[],a=0}function E(h){if(Array.isArray(h))for(let c of h)E(c);else if(h instanceof St){if(h.length!=t)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${t})`);l(),o=o?o.compose(h.map(o)):h}else{let{from:c,to:f=c,insert:T}=h;if(c>f||c<0||f>t)throw new RangeError(`Invalid change range ${c} to ${f} (in doc of length ${t})`);let A=T?typeof T=="string"?ke.of(T.split(i||gh)):T:ke.empty,u=A.length;if(c==f&&u==0)return;c<a&&l(),c>a&&Gt(n,c-a,-1),Gt(n,f-c,u),Di(s,n,A),a=f}}return E(e),l(!o),o}static empty(e){return new St(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let n=0;n<e.length;n++){let s=e[n];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((a,o)=>o&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<n;)i.push(ke.empty);i[n]=ke.of(s.slice(1)),t.push(s[0],i[n].length)}}}return new St(t,i)}static createSet(e,t){return new St(e,t)}}function Gt(r,e,t,i=!1){if(e==0&&t<=0)return;let n=r.length-2;n>=0&&t<=0&&t==r[n+1]?r[n]+=e:n>=0&&e==0&&r[n]==0?r[n+1]+=t:i?(r[n]+=e,r[n+1]+=t):r.push(e,t)}function Di(r,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<r.length)r[r.length-1]=r[r.length-1].append(t);else{for(;r.length<i;)r.push(ke.empty);r.push(t)}}function Lh(r,e,t){let i=r.inserted;for(let n=0,s=0,a=0;a<r.sections.length;){let o=r.sections[a++],l=r.sections[a++];if(l<0)n+=o,s+=o;else{let E=n,h=s,c=ke.empty;for(;E+=o,h+=l,l&&i&&(c=c.append(i[a-2>>1])),!(t||a==r.sections.length||r.sections[a+1]<0);)o=r.sections[a++],l=r.sections[a++];e(n,E,s,h,c),n=E,s=h}}}function Dh(r,e,t,i=!1){let n=[],s=i?[]:null,a=new js(r),o=new js(e);for(let l=-1;;){if(a.done&&o.len||o.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&o.ins==-1){let E=Math.min(a.len,o.len);Gt(n,E,-1),a.forward(E),o.forward(E)}else if(o.ins>=0&&(a.ins<0||l==a.i||a.off==0&&(o.len<a.len||o.len==a.len&&!t))){let E=o.len;for(Gt(n,o.ins,-1);E;){let h=Math.min(a.len,E);a.ins>=0&&l<a.i&&a.len<=h&&(Gt(n,0,a.ins),s&&Di(s,n,a.text),l=a.i),a.forward(h),E-=h}o.next()}else if(a.ins>=0){let E=0,h=a.len;for(;h;)if(o.ins==-1){let c=Math.min(h,o.len);E+=c,h-=c,o.forward(c)}else if(o.ins==0&&o.len<h)h-=o.len,o.next();else break;Gt(n,E,l<a.i?a.ins:0),s&&l<a.i&&Di(s,n,a.text),l=a.i,a.forward(a.len-h)}else{if(a.done&&o.done)return s?St.createSet(n,s):jr.create(n);throw new Error("Mismatched change set lengths")}}}function NS(r,e,t=!1){let i=[],n=t?[]:null,s=new js(r),a=new js(e);for(let o=!1;;){if(s.done&&a.done)return n?St.createSet(i,n):jr.create(i);if(s.ins==0)Gt(i,s.len,0,o),s.next();else if(a.len==0&&!a.done)Gt(i,0,a.ins,o),n&&Di(n,i,a.text),a.next();else{if(s.done||a.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,a.len),E=i.length;if(s.ins==-1){let h=a.ins==-1?-1:a.off?0:a.ins;Gt(i,l,h,o),n&&h&&Di(n,i,a.text)}else a.ins==-1?(Gt(i,s.off?0:s.len,l,o),n&&Di(n,i,s.textBit(l))):(Gt(i,s.off?0:s.len,a.off?0:a.ins,o),n&&!a.off&&Di(n,i,a.text));o=(s.ins>l||a.ins>=0&&a.len>l)&&(o||i.length>E),s.forward2(l),a.forward(l)}}}}class js{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?ke.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?ke.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class ji{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,n;return this.empty?i=n=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),n=e.mapPos(this.to,-1)),i==this.from&&n==this.to?this:new ji(i,n,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return j.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return j.range(this.anchor,i)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return j.range(e.anchor,e.head)}static create(e,t,i){return new ji(e,t,i)}}class j{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:j.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let i=0;i<this.ranges.length;i++)if(!this.ranges[i].eq(e.ranges[i],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new j([this.main],0)}addRange(e,t=!0){return j.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,j.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new j(e.ranges.map(t=>ji.fromJSON(t)),e.main)}static single(e,t=e){return new j([j.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,n=0;n<e.length;n++){let s=e[n];if(s.empty?s.from<=i:s.from<i)return j.normalized(e.slice(),t);i=s.to}return new j(e,t)}static cursor(e,t=0,i,n){return ji.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(n??16777215)<<6)}static range(e,t,i,n){let s=(i??16777215)<<6|(n==null?7:Math.min(6,n));return t<e?ji.create(t,e,48|s):ji.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((n,s)=>n.from-s.from),t=e.indexOf(i);for(let n=1;n<e.length;n++){let s=e[n],a=e[n-1];if(s.empty?s.from<=a.to:s.from<a.to){let o=a.from,l=Math.max(s.to,a.to);n<=t&&t--,e.splice(--n,2,s.anchor>s.head?j.range(l,o):j.range(o,l))}}return new j(e,t)}}function pS(r,e){for(let t of r.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Qc=0;class Ae{constructor(e,t,i,n,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=n,this.id=Qc++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Ae(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:jc),!!e.static,e.enables)}of(e){return new Co([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Co(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Co(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function jc(r,e){return r==e||r.length==e.length&&r.every((t,i)=>t===e[i])}class Co{constructor(e,t,i,n){this.dependencies=e,this.facet=t,this.type=i,this.value=n,this.id=Qc++}dynamicSlot(e){var t;let i=this.value,n=this.facet.compareInput,s=this.id,a=e[s]>>1,o=this.type==2,l=!1,E=!1,h=[];for(let c of this.dependencies)c=="doc"?l=!0:c=="selection"?E=!0:(((t=e[c.id])!==null&&t!==void 0?t:1)&1)==0&&h.push(e[c.id]);return{create(c){return c.values[a]=i(c),1},update(c,f){if(l&&f.docChanged||E&&(f.docChanged||f.selection)||xh(c,h)){let T=i(c);if(o?!au(T,c.values[a],n):!n(T,c.values[a]))return c.values[a]=T,1}return 0},reconfigure:(c,f)=>{let T,A=f.config.address[s];if(A!=null){let u=jo(f,A);if(this.dependencies.every(R=>R instanceof Ae?f.facet(R)===c.facet(R):R instanceof Bt?f.field(R,!1)==c.field(R,!1):!0)||(o?au(T=i(c),u,n):n(T=i(c),u)))return c.values[a]=u,0}else T=i(c);return c.values[a]=T,1}}}}function au(r,e,t){if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(!t(r[i],e[i]))return!1;return!0}function xh(r,e){let t=!1;for(let i of e)Gs(r,i)&1&&(t=!0);return t}function Bv(r,e,t){let i=t.map(l=>r[l.id]),n=t.map(l=>l.type),s=i.filter(l=>!(l&1)),a=r[e.id]>>1;function o(l){let E=[];for(let h=0;h<i.length;h++){let c=jo(l,i[h]);if(n[h]==2)for(let f of c)E.push(f);else E.push(c)}return e.combine(E)}return{create(l){for(let E of i)Gs(l,E);return l.values[a]=o(l),1},update(l,E){if(!xh(l,s))return 0;let h=o(l);return e.compare(h,l.values[a])?0:(l.values[a]=h,1)},reconfigure(l,E){let h=xh(l,i),c=E.config.facets[e.id],f=E.facet(e);if(c&&!h&&jc(t,c))return l.values[a]=f,0;let T=o(l);return e.compare(T,f)?(l.values[a]=f,0):(l.values[a]=T,1)}}}const Ka=Ae.define({static:!0});class Bt{constructor(e,t,i,n,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=n,this.spec=s,this.provides=void 0}static define(e){let t=new Bt(Qc++,e.create,e.update,e.compare||((i,n)=>i===n),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Ka).find(i=>i.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,n)=>{let s=i.values[t],a=this.updateF(s,n);return this.compareF(s,a)?0:(i.values[t]=a,1)},reconfigure:(i,n)=>{let s=i.facet(Ka),a=n.facet(Ka),o;return(o=s.find(l=>l.field==this))&&o!=a.find(l=>l.field==this)?(i.values[t]=o.create(i),1):n.config.address[this.id]!=null?(i.values[t]=n.field(this),0):(i.values[t]=this.create(i),1)}}}init(e){return[this,Ka.of({field:this,create:e})]}get extension(){return this}}const qi={lowest:4,low:3,default:2,high:1,highest:0};function Ns(r){return e=>new mS(e,r)}const In={highest:Ns(qi.highest),high:Ns(qi.high),default:Ns(qi.default),low:Ns(qi.low),lowest:Ns(qi.lowest)};class mS{constructor(e,t){this.inner=e,this.prec=t}}class Ul{of(e){return new Ph(this,e)}reconfigure(e){return Ul.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Ph{constructor(e,t){this.compartment=e,this.inner=t}}class Qo{constructor(e,t,i,n,s,a){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=n,this.staticValues=s,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let n=[],s=Object.create(null),a=new Map;for(let f of bv(e,t,a))f instanceof Bt?n.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let o=Object.create(null),l=[],E=[];for(let f of n)o[f.id]=E.length<<1,E.push(T=>f.slot(T));let h=i?.config.facets;for(let f in s){let T=s[f],A=T[0].facet,u=h&&h[f]||[];if(T.every(R=>R.type==0))if(o[A.id]=l.length<<1|1,jc(u,T))l.push(i.facet(A));else{let R=A.combine(T.map(d=>d.value));l.push(i&&A.compare(R,i.facet(A))?i.facet(A):R)}else{for(let R of T)R.type==0?(o[R.id]=l.length<<1|1,l.push(R.value)):(o[R.id]=E.length<<1,E.push(d=>R.dynamicSlot(d)));o[A.id]=E.length<<1,E.push(R=>Bv(R,A,T))}}let c=E.map(f=>f(o));return new Qo(e,a,c,o,l,s)}}function bv(r,e,t){let i=[[],[],[],[],[]],n=new Map;function s(a,o){let l=n.get(a);if(l!=null){if(l<=o)return;let E=i[l].indexOf(a);E>-1&&i[l].splice(E,1),a instanceof Ph&&t.delete(a.compartment)}if(n.set(a,o),Array.isArray(a))for(let E of a)s(E,o);else if(a instanceof Ph){if(t.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let E=e.get(a.compartment)||a.inner;t.set(a.compartment,E),s(E,o)}else if(a instanceof mS)s(a.inner,a.prec);else if(a instanceof Bt)i[o].push(a),a.provides&&s(a.provides,o);else if(a instanceof Co)i[o].push(a),a.facet.extensions&&s(a.facet.extensions,qi.default);else{let E=a.extension;if(!E)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(E,o)}}return s(r,qi.default),i.reduce((a,o)=>a.concat(o))}function Gs(r,e){if(e&1)return 2;let t=e>>1,i=r.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;r.status[t]=4;let n=r.computeSlot(r,r.config.dynamicSlots[t]);return r.status[t]=2|n}function jo(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const CS=Ae.define(),Mh=Ae.define({combine:r=>r.some(e=>e),static:!0}),_S=Ae.define({combine:r=>r.length?r[0]:void 0,static:!0}),gS=Ae.define(),LS=Ae.define(),DS=Ae.define(),xS=Ae.define({combine:r=>r.length?r[0]:!1});class ti{constructor(e,t){this.type=e,this.value=t}static define(){return new Gv}}class Gv{of(e){return new ti(this,e)}}class Hv{constructor(e){this.map=e}of(e){return new ve(this,e)}}class ve{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new ve(this.type,t)}is(e){return this.type==e}static define(e={}){return new Hv(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let n of e){let s=n.map(t);s&&i.push(s)}return i}}ve.reconfigure=ve.define();ve.appendConfig=ve.define();class dt{constructor(e,t,i,n,s,a){this.startState=e,this.changes=t,this.selection=i,this.effects=n,this.annotations=s,this.scrollIntoView=a,this._doc=null,this._state=null,i&&pS(i,t.newLength),s.some(o=>o.type==dt.time)||(this.annotations=s.concat(dt.time.of(Date.now())))}static create(e,t,i,n,s,a){return new dt(e,t,i,n,s,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(dt.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}dt.time=ti.define();dt.userEvent=ti.define();dt.addToHistory=ti.define();dt.remote=ti.define();function kv(r,e){let t=[];for(let i=0,n=0;;){let s,a;if(i<r.length&&(n==e.length||e[n]>=r[i]))s=r[i++],a=r[i++];else if(n<e.length)s=e[n++],a=e[n++];else return t;!t.length||t[t.length-1]<s?t.push(s,a):t[t.length-1]<a&&(t[t.length-1]=a)}}function PS(r,e,t){var i;let n,s,a;return t?(n=e.changes,s=St.empty(e.changes.length),a=r.changes.compose(e.changes)):(n=e.changes.map(r.changes),s=r.changes.mapDesc(e.changes,!0),a=r.changes.compose(n)),{changes:a,selection:e.selection?e.selection.map(s):(i=r.selection)===null||i===void 0?void 0:i.map(n),effects:ve.mapEffects(r.effects,n).concat(ve.mapEffects(e.effects,s)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function vh(r,e,t){let i=e.selection,n=kn(e.annotations);return e.userEvent&&(n=n.concat(dt.userEvent.of(e.userEvent))),{changes:e.changes instanceof St?e.changes:St.of(e.changes||[],t,r.facet(_S)),selection:i&&(i instanceof j?i:j.single(i.anchor,i.head)),effects:kn(e.effects),annotations:n,scrollIntoView:!!e.scrollIntoView}}function MS(r,e,t){let i=vh(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let a=!!e[s].sequential;i=PS(i,vh(r,e[s],a?i.changes.newLength:r.doc.length),a)}let n=dt.create(r,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return Vv(t?Yv(n):n)}function Yv(r){let e=r.startState,t=!0;for(let n of e.facet(gS)){let s=n(r);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:kv(t,s))}if(t!==!0){let n,s;if(t===!1)s=r.changes.invertedDesc,n=St.empty(e.doc.length);else{let a=r.changes.filter(t);n=a.changes,s=a.filtered.mapDesc(a.changes).invertedDesc}r=dt.create(e,n,r.selection&&r.selection.map(s),ve.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let i=e.facet(LS);for(let n=i.length-1;n>=0;n--){let s=i[n](r);s instanceof dt?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof dt?r=s[0]:r=MS(e,kn(s),!1)}return r}function Vv(r){let e=r.startState,t=e.facet(DS),i=r;for(let n=t.length-1;n>=0;n--){let s=t[n](r);s&&Object.keys(s).length&&(i=PS(i,vh(e,s,r.changes.newLength),!0))}return i==r?r:dt.create(e,r.changes,r.selection,i.effects,i.annotations,i.scrollIntoView)}const Wv=[];function kn(r){return r==null?Wv:Array.isArray(r)?r:[r]}var it=(function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r})(it||(it={}));const Xv=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Uh;try{Uh=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Kv(r){if(Uh)return Uh.test(r);for(let e=0;e<r.length;e++){let t=r[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Xv.test(t)))return!0}return!1}function $v(r){return e=>{if(!/\S/.test(e))return it.Space;if(Kv(e))return it.Word;for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>-1)return it.Word;return it.Other}}class be{constructor(e,t,i,n,s,a){this.config=e,this.doc=t,this.selection=i,this.values=n,this.status=e.statusTemplate.slice(),this.computeSlot=s,a&&(a._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)Gs(this,o<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Gs(this,i),jo(this,i)}update(...e){return MS(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:n}=t;for(let o of e.effects)o.is(Ul.reconfigure)?(t&&(n=new Map,t.compartments.forEach((l,E)=>n.set(E,l)),t=null),n.set(o.value.compartment,o.value.extension)):o.is(ve.reconfigure)?(t=null,i=o.value):o.is(ve.appendConfig)&&(t=null,i=kn(i).concat(o.value));let s;t?s=e.startState.values.slice():(t=Qo.resolve(i,n,this),s=new be(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,E)=>E.reconfigure(l,this),null).values);let a=e.startState.facet(Mh)?e.newSelection:e.newSelection.asSingle();new be(t,e.newDoc,a,s,(o,l)=>l.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:j.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),n=this.changes(i.changes),s=[i.range],a=kn(i.effects);for(let o=1;o<t.ranges.length;o++){let l=e(t.ranges[o]),E=this.changes(l.changes),h=E.map(n);for(let f=0;f<o;f++)s[f]=s[f].map(h);let c=n.mapDesc(E,!0);s.push(l.range.map(c)),n=n.compose(h),a=ve.mapEffects(a,h).concat(ve.mapEffects(kn(l.effects),c))}return{changes:n,selection:j.create(s,t.mainIndex),effects:a}}changes(e=[]){return e instanceof St?e:St.of(e,this.doc.length,this.facet(be.lineSeparator))}toText(e){return ke.of(e.split(this.facet(be.lineSeparator)||gh))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Gs(this,t),jo(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let n=e[i];n instanceof Bt&&this.config.address[n.id]!=null&&(t[i]=n.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let a=i[s],o=e[s];n.push(a.init(l=>a.spec.fromJSON(o,l)))}}return be.create({doc:e.doc,selection:j.fromJSON(e.selection),extensions:t.extensions?n.concat([t.extensions]):n})}static create(e={}){let t=Qo.resolve(e.extensions||[],new Map),i=e.doc instanceof ke?e.doc:ke.of((e.doc||"").split(t.staticFacet(be.lineSeparator)||gh)),n=e.selection?e.selection instanceof j?e.selection:j.single(e.selection.anchor,e.selection.head):j.single(0);return pS(n,i.length),t.staticFacet(Mh)||(n=n.asSingle()),new be(t,i,n,t.dynamicSlots.map(()=>null),(s,a)=>a.create(s),null)}get tabSize(){return this.facet(be.tabSize)}get lineBreak(){return this.facet(be.lineSeparator)||`
`}get readOnly(){return this.facet(xS)}phrase(e,...t){for(let i of this.facet(be.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,n)=>{if(n=="$")return"$";let s=+(n||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let n=[];for(let s of this.facet(CS))for(let a of s(this,t,i))Object.prototype.hasOwnProperty.call(a,e)&&n.push(a[e]);return n}charCategorizer(e){return $v(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:n}=this.doc.lineAt(e),s=this.charCategorizer(e),a=e-i,o=e-i;for(;a>0;){let l=yt(t,a,!1);if(s(t.slice(l,a))!=it.Word)break;a=l}for(;o<n;){let l=yt(t,o);if(s(t.slice(o,l))!=it.Word)break;o=l}return a==o?null:j.range(a+i,o+i)}}be.allowMultipleSelections=Mh;be.tabSize=Ae.define({combine:r=>r.length?r[0]:4});be.lineSeparator=_S;be.readOnly=xS;be.phrases=Ae.define({compare(r,e){let t=Object.keys(r),i=Object.keys(e);return t.length==i.length&&t.every(n=>r[n]==e[n])}});be.languageData=CS;be.changeFilter=gS;be.transactionFilter=LS;be.transactionExtender=DS;Ul.reconfigure=ve.define();function ri(r,e,t={}){let i={};for(let n of r)for(let s of Object.keys(n)){let a=n[s],o=i[s];if(o===void 0)i[s]=a;else if(!(o===a||a===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](o,a);else throw new Error("Config merge conflict for field "+s)}for(let n in e)i[n]===void 0&&(i[n]=e[n]);return i}class ln{eq(e){return this==e}range(e,t=e){return yh.create(e,t,this)}}ln.prototype.startSide=ln.prototype.endSide=0;ln.prototype.point=!1;ln.prototype.mapMode=Jt.TrackDel;let yh=class vS{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new vS(e,t,i)}};function wh(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class Zc{constructor(e,t,i,n){this.from=e,this.to=t,this.value=i,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,n=0){let s=i?this.to:this.from;for(let a=n,o=s.length;;){if(a==o)return a;let l=a+o>>1,E=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==a)return E>=0?a:o;E>=0?o=l:a=l+1}}between(e,t,i,n){for(let s=this.findIndex(t,-1e9,!0),a=this.findIndex(i,1e9,!1,s);s<a;s++)if(n(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],n=[],s=[],a=-1,o=-1;for(let l=0;l<this.value.length;l++){let E=this.value[l],h=this.from[l]+e,c=this.to[l]+e,f,T;if(h==c){let A=t.mapPos(h,E.startSide,E.mapMode);if(A==null||(f=T=A,E.startSide!=E.endSide&&(T=t.mapPos(h,E.endSide),T<f)))continue}else if(f=t.mapPos(h,E.startSide),T=t.mapPos(c,E.endSide),f>T||f==T&&E.startSide>0&&E.endSide<=0)continue;(T-f||E.endSide-E.startSide)<0||(a<0&&(a=f),E.point&&(o=Math.max(o,T-f)),i.push(E),n.push(f-a),s.push(T-a))}return{mapped:i.length?new Zc(n,s,i,o):null,pos:a}}}class He{constructor(e,t,i,n){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=n}static create(e,t,i,n){return new He(e,t,i,n)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:n=0,filterTo:s=this.length}=e,a=e.filter;if(t.length==0&&!a)return this;if(i&&(t=t.slice().sort(wh)),this.isEmpty)return t.length?He.of(t):this;let o=new US(this,null,-1).goto(0),l=0,E=[],h=new Ai;for(;o.value||l<t.length;)if(l<t.length&&(o.from-t[l].from||o.startSide-t[l].value.startSide)>=0){let c=t[l++];h.addInner(c.from,c.to,c.value)||E.push(c)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(o.chunkIndex)<t[l].from)&&(!a||n>this.chunkEnd(o.chunkIndex)||s<this.chunkPos[o.chunkIndex])&&h.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!a||n>o.to||s<o.from||a(o.from,o.to,o.value))&&(h.addInner(o.from,o.to,o.value)||E.push(yh.create(o.from,o.to,o.value))),o.next());return h.finishInner(this.nextLayer.isEmpty&&!E.length?He.empty:this.nextLayer.update({add:E,filter:a,filterFrom:n,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],n=-1;for(let a=0;a<this.chunk.length;a++){let o=this.chunkPos[a],l=this.chunk[a],E=e.touchesRange(o,o+l.length);if(E===!1)n=Math.max(n,l.maxPoint),t.push(l),i.push(e.mapPos(o));else if(E===!0){let{mapped:h,pos:c}=l.map(o,e);h&&(n=Math.max(n,h.maxPoint),t.push(h),i.push(c))}}let s=this.nextLayer.map(e);return t.length==0?s:new He(i,t,s||He.empty,n)}between(e,t,i){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],a=this.chunk[n];if(t>=s&&e<=s+a.length&&a.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return Zs.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Zs.from(e).goto(t)}static compare(e,t,i,n,s=-1){let a=e.filter(c=>c.maxPoint>0||!c.isEmpty&&c.maxPoint>=s),o=t.filter(c=>c.maxPoint>0||!c.isEmpty&&c.maxPoint>=s),l=ou(a,o,i),E=new ps(a,l,s),h=new ps(o,l,s);i.iterGaps((c,f,T)=>lu(E,c,h,f,T,n)),i.empty&&i.length==0&&lu(E,0,h,0,0,n)}static eq(e,t,i=0,n){n==null&&(n=999999999);let s=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0),a=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(s.length!=a.length)return!1;if(!s.length)return!0;let o=ou(s,a),l=new ps(s,o,0).goto(i),E=new ps(a,o,0).goto(i);for(;;){if(l.to!=E.to||!Fh(l.active,E.active)||l.point&&(!E.point||!l.point.eq(E.point)))return!1;if(l.to>n)return!0;l.next(),E.next()}}static spans(e,t,i,n,s=-1){let a=new ps(e,null,s).goto(t),o=t,l=a.openStart;for(;;){let E=Math.min(a.to,i);if(a.point){let h=a.activeForPoint(a.to),c=a.pointFrom<t?h.length+1:a.point.startSide<0?h.length:Math.min(h.length,l);n.point(o,E,a.point,h,c,a.pointRank),l=Math.min(a.openEnd(E),h.length)}else E>o&&(n.span(o,E,a.active,l),l=a.openEnd(E));if(a.to>i)return l+(a.point&&a.to>i?1:0);o=a.to,a.next()}}static of(e,t=!1){let i=new Ai;for(let n of e instanceof yh?[e]:t?Jv(e):e)i.add(n.from,n.to,n.value);return i.finish()}static join(e){if(!e.length)return He.empty;let t=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let n=e[i];n!=He.empty;n=n.nextLayer)t=new He(n.chunkPos,n.chunk,t,Math.max(n.maxPoint,t.maxPoint));return t}}He.empty=new He([],[],null,-1);function Jv(r){if(r.length>1)for(let e=r[0],t=1;t<r.length;t++){let i=r[t];if(wh(e,i)>0)return r.slice().sort(wh);e=i}return r}He.empty.nextLayer=He.empty;class Ai{finishChunk(e){this.chunks.push(new Zc(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Ai)).add(e,t,i)}addInner(e,t,i){let n=e-this.lastTo||i.startSide-this.last.endSide;if(n<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return n<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(He.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=He.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function ou(r,e,t){let i=new Map;for(let s of r)for(let a=0;a<s.chunk.length;a++)s.chunk[a].maxPoint<=0&&i.set(s.chunk[a],s.chunkPos[a]);let n=new Set;for(let s of e)for(let a=0;a<s.chunk.length;a++){let o=i.get(s.chunk[a]);o!=null&&(t?t.mapPos(o):o)==s.chunkPos[a]&&!t?.touchesRange(o,o+s.chunk[a].length)&&n.add(s.chunk[a])}return n}class US{constructor(e,t,i,n=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<e||n.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Zs{constructor(e){this.heap=e}static from(e,t=null,i=-1){let n=[];for(let s=0;s<e.length;s++)for(let a=e[s];!a.isEmpty;a=a.nextLayer)a.maxPoint>=i&&n.push(new US(a,t,i,s));return n.length==1?n[0]:new Zs(n)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)kE(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)kE(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),kE(this.heap,0)}}}function kE(r,e){for(let t=r[e];;){let i=(e<<1)+1;if(i>=r.length)break;let n=r[i];if(i+1<r.length&&n.compare(r[i+1])>=0&&(n=r[i+1],i++),t.compare(n)<0)break;r[i]=t,r[e]=n,e=i}}class ps{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Zs.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){$a(this.active,e),$a(this.activeTo,e),$a(this.activeRank,e),this.minActive=Eu(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:n,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||n-this.activeTo[t])>0;)t++;Ja(this.active,t,i),Ja(this.activeTo,t,n),Ja(this.activeRank,t,s),e&&Ja(e,t,this.cursor.from),this.minActive=Eu(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>e){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),i&&$a(i,n)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let n=i.length-1;n>=0&&i[n]<e;n--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function lu(r,e,t,i,n,s){r.goto(e),t.goto(i);let a=i+n,o=i,l=i-e;for(;;){let E=r.to+l-t.to,h=E||r.endSide-t.endSide,c=h<0?r.to+l:t.to,f=Math.min(c,a);if(r.point||t.point?r.point&&t.point&&(r.point==t.point||r.point.eq(t.point))&&Fh(r.activeForPoint(r.to),t.activeForPoint(t.to))||s.comparePoint(o,f,r.point,t.point):f>o&&!Fh(r.active,t.active)&&s.compareRange(o,f,r.active,t.active),c>a)break;(E||r.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(c),o=c,h<=0&&r.next(),h>=0&&t.next()}}function Fh(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!=e[t]&&!r[t].eq(e[t]))return!1;return!0}function $a(r,e){for(let t=e,i=r.length-1;t<i;t++)r[t]=r[t+1];r.pop()}function Ja(r,e,t){for(let i=r.length-1;i>=e;i--)r[i+1]=r[i];r[e]=t}function Eu(r,e){let t=-1,i=1e9;for(let n=0;n<e.length;n++)(e[n]-i||r[n].endSide-r[t].endSide)<0&&(t=n,i=e[n]);return t}function ls(r,e,t=r.length){let i=0;for(let n=0;n<t&&n<r.length;)r.charCodeAt(n)==9?(i+=e-i%e,n++):(i++,n=yt(r,n));return i}function Bh(r,e,t,i){for(let n=0,s=0;;){if(s>=e)return n;if(n==r.length)break;s+=r.charCodeAt(n)==9?t-s%t:1,n=yt(r,n)}return i===!0?-1:r.length}const bh="ͼ",hu=typeof Symbol>"u"?"__"+bh:Symbol.for(bh),Gh=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class wi{constructor(e,t){this.rules=[];let{finish:i}=t||{};function n(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function s(a,o,l,E){let h=[],c=/^@(\w+)\b/.exec(a[0]),f=c&&c[1]=="keyframes";if(c&&o==null)return l.push(a[0]+";");for(let T in o){let A=o[T];if(/&/.test(T))s(T.split(/,\s*/).map(u=>a.map(R=>u.replace(/&/,R))).reduce((u,R)=>u.concat(R)),A,l);else if(A&&typeof A=="object"){if(!c)throw new RangeError("The value of a property ("+T+") should be a primitive value.");s(n(T),A,h,f)}else A!=null&&h.push(T.replace(/_.*/,"").replace(/[A-Z]/g,u=>"-"+u.toLowerCase())+": "+A+";")}(h.length||f)&&l.push((i&&!c&&!E?a.map(i):a).join(", ")+" {"+h.join(" ")+"}")}for(let a in e)s(n(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=cu[hu]||1;return cu[hu]=e+1,bh+e.toString(36)}static mount(e,t,i){let n=e[Gh],s=i&&i.nonce;n?s&&n.setNonce(s):n=new zv(e,s),n.mount(Array.isArray(t)?t:[t],e)}}let fu=new Map;class zv{constructor(e,t){let i=e.ownerDocument||e,n=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&n.CSSStyleSheet){let s=fu.get(i);if(s)return e[Gh]=s;this.sheet=new n.CSSStyleSheet,fu.set(i,this)}else this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[Gh]=this}mount(e,t){let i=this.sheet,n=0,s=0;for(let a=0;a<e.length;a++){let o=e[a],l=this.modules.indexOf(o);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,o),i)for(let E=0;E<o.rules.length;E++)i.insertRule(o.rules[E],n++)}else{for(;s<l;)n+=this.modules[s++].rules.length;n+=o.rules.length,s++}}if(i)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let a="";for(let l=0;l<this.modules.length;l++)a+=this.modules[l].getRules()+`
`;this.styleTag.textContent=a;let o=t.head||t;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}function je(){var r=arguments[0];typeof r=="string"&&(r=document.createElement(r));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i];typeof n=="string"?r.setAttribute(i,n):n!=null&&(r[i]=n)}e++}for(;e<arguments.length;e++)yS(r,arguments[e]);return r}function yS(r,e){if(typeof e=="string")r.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)r.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)yS(r,e[t]);else throw new RangeError("Unsupported child node: "+e)}let $t=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Hh=typeof document<"u"?document:{documentElement:{style:{}}};const kh=/Edge\/(\d+)/.exec($t.userAgent),wS=/MSIE \d/.test($t.userAgent),Yh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec($t.userAgent),yl=!!(wS||Yh||kh),Tu=!yl&&/gecko\/(\d+)/i.test($t.userAgent),YE=!yl&&/Chrome\/(\d+)/.exec($t.userAgent),qv="webkitFontSmoothing"in Hh.documentElement.style,Vh=!yl&&/Apple Computer/.test($t.vendor),uu=Vh&&(/Mobile\/\w+/.test($t.userAgent)||$t.maxTouchPoints>2);var fe={mac:uu||/Mac/.test($t.platform),windows:/Win/.test($t.platform),linux:/Linux|X11/.test($t.platform),ie:yl,ie_version:wS?Hh.documentMode||6:Yh?+Yh[1]:kh?+kh[1]:0,gecko:Tu,gecko_version:Tu?+(/Firefox\/(\d+)/.exec($t.userAgent)||[0,0])[1]:0,chrome:!!YE,chrome_version:YE?+YE[1]:0,ios:uu,android:/Android\b/.test($t.userAgent),webkit_version:qv?+(/\bAppleWebKit\/(\d+)/.exec($t.userAgent)||[0,0])[1]:0,safari:Vh,safari_version:Vh?+(/\bVersion\/(\d+(\.\d+)?)/.exec($t.userAgent)||[0,0])[1]:0,tabSize:Hh.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function ea(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function Wh(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function _o(r,e){if(!e.anchorNode)return!1;try{return Wh(r,e.anchorNode)}catch{return!1}}function qn(r){return r.nodeType==3?hn(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function Hs(r,e,t,i){return t?Au(r,e,t,i,-1)||Au(r,e,t,i,1):!1}function En(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function Zo(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}function Au(r,e,t,i,n){for(;;){if(r==t&&e==i)return!0;if(e==(n<0?0:ei(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;e=En(r)+(n<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[e+(n<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=n<0?ei(r):0}else return!1}}function ei(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Na(r,e){let t=e?r.left:r.right;return{left:t,right:t,top:r.top,bottom:r.bottom}}function Qv(r){let e=r.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function FS(r,e){let t=e.width/r.offsetWidth,i=e.height/r.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-r.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-r.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function jv(r,e,t,i,n,s,a,o){let l=r.ownerDocument,E=l.defaultView||window;for(let h=r,c=!1;h&&!c;)if(h.nodeType==1){let f,T=h==l.body,A=1,u=1;if(T)f=Qv(E);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(c=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let O=h.getBoundingClientRect();({scaleX:A,scaleY:u}=FS(h,O)),f={left:O.left,right:O.left+h.clientWidth*A,top:O.top,bottom:O.top+h.clientHeight*u}}let R=0,d=0;if(n=="nearest")e.top<f.top?(d=e.top-(f.top+a),t>0&&e.bottom>f.bottom+d&&(d=e.bottom-f.bottom+a)):e.bottom>f.bottom&&(d=e.bottom-f.bottom+a,t<0&&e.top-d<f.top&&(d=e.top-(f.top+a)));else{let O=e.bottom-e.top,I=f.bottom-f.top;d=(n=="center"&&O<=I?e.top+O/2-I/2:n=="start"||n=="center"&&t<0?e.top-a:e.bottom-I+a)-f.top}if(i=="nearest"?e.left<f.left?(R=e.left-(f.left+s),t>0&&e.right>f.right+R&&(R=e.right-f.right+s)):e.right>f.right&&(R=e.right-f.right+s,t<0&&e.left<f.left+R&&(R=e.left-(f.left+s))):R=(i=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:i=="start"==o?e.left-s:e.right-(f.right-f.left)+s)-f.left,R||d)if(T)E.scrollBy(R,d);else{let O=0,I=0;if(d){let L=h.scrollTop;h.scrollTop+=d/u,I=(h.scrollTop-L)*u}if(R){let L=h.scrollLeft;h.scrollLeft+=R/A,O=(h.scrollLeft-L)*A}e={left:e.left-O,top:e.top-I,right:e.right-O,bottom:e.bottom-I},O&&Math.abs(O-R)<1&&(i="nearest"),I&&Math.abs(I-d)<1&&(n="nearest")}if(T)break;(e.top<f.top||e.bottom>f.bottom||e.left<f.left||e.right>f.right)&&(e={left:Math.max(e.left,f.left),right:Math.min(e.right,f.right),top:Math.max(e.top,f.top),bottom:Math.min(e.bottom,f.bottom)}),h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function Zv(r){let e=r.ownerDocument,t,i;for(let n=r.parentNode;n&&!(n==e.body||t&&i);)if(n.nodeType==1)!i&&n.scrollHeight>n.clientHeight&&(i=n),!t&&n.scrollWidth>n.clientWidth&&(t=n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;return{x:t,y:i}}class eU{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?ei(t):0),i,Math.min(e.focusOffset,i?ei(i):0))}set(e,t,i,n){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=n}}let $i=null;fe.safari&&fe.safari_version>=26&&($i=!1);function BS(r){if(r.setActive)return r.setActive();if($i)return r.focus($i);let e=[];for(let t=r;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(r.focus($i==null?{get preventScroll(){return $i={preventScroll:!0},!0}}:void 0),!$i){$i=!1;for(let t=0;t<e.length;){let i=e[t++],n=e[t++],s=e[t++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let Ru;function hn(r,e,t=e){let i=Ru||(Ru=document.createRange());return i.setEnd(r,t),i.setStart(r,e),i}function Yn(r,e,t,i){let n={key:e,code:e,keyCode:t,which:t,cancelable:!0};i&&({altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey}=i);let s=new KeyboardEvent("keydown",n);s.synthetic=!0,r.dispatchEvent(s);let a=new KeyboardEvent("keyup",n);return a.synthetic=!0,r.dispatchEvent(a),s.defaultPrevented||a.defaultPrevented}function tU(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function bS(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function rU(r,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,ei(t));;)if(i){if(t.nodeType!=1)return!1;let n=t.childNodes[i-1];n.contentEditable=="false"?i--:(t=n,i=ei(t))}else{if(t==r)return!0;i=En(t),t=t.parentNode}}function GS(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}function HS(r,e){for(let t=r,i=e;;){if(t.nodeType==3&&i>0)return{node:t,offset:i};if(t.nodeType==1&&i>0){if(t.contentEditable=="false")return null;t=t.childNodes[i-1],i=ei(t)}else if(t.parentNode&&!Zo(t))i=En(t),t=t.parentNode;else return null}}function kS(r,e){for(let t=r,i=e;;){if(t.nodeType==3&&i<t.nodeValue.length)return{node:t,offset:i};if(t.nodeType==1&&i<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[i],i=0}else if(t.parentNode&&!Zo(t))i=En(t)+1,t=t.parentNode;else return null}}class Ht{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Ht(e.parentNode,En(e),t)}static after(e,t){return new Ht(e.parentNode,En(e)+1,t)}}const ef=[];class qe{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,n=null,s;for(let a of this.children){if(a.flags&7){if(!a.dom&&(s=n?n.nextSibling:i.firstChild)){let o=qe.get(s);(!o||!o.parent&&o.canReuseDOM(a))&&a.reuseDOM(s)}a.sync(e,t),a.flags&=-8}if(s=n?n.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&s!=a.dom&&(t.written=!0),a.dom.parentNode==i)for(;s&&s!=a.dom;)s=Su(s);else i.insertBefore(a.dom,s);n=a.dom}for(s=n?n.nextSibling:i.firstChild,s&&t&&t.node==i&&(t.written=!0);s;)s=Su(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let n=ei(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;n==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?n=-1:n=1),e=s}n<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!qe.get(i);)i=i.nextSibling;if(!i)return this.length;for(let n=0,s=0;;n++){let a=this.children[n];if(a.dom==i)return s;s+=a.length+a.breakAfter}}domBoundsAround(e,t,i=0){let n=-1,s=-1,a=-1,o=-1;for(let l=0,E=i,h=i;l<this.children.length;l++){let c=this.children[l],f=E+c.length;if(E<e&&f>t)return c.domBoundsAround(e,t,E);if(f>=e&&n==-1&&(n=l,s=E),E>t&&c.dom.parentNode==this.dom){a=l,o=h;break}h=f,E=f+c.breakAfter}return{from:s,to:o<0?i+this.length:o,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=ef){this.markDirty();for(let n=e;n<t;n++){let s=this.children[n];s.parent==this&&i.indexOf(s)<0&&s.destroy()}i.length<250?this.children.splice(e,t-e,...i):this.children=[].concat(this.children.slice(0,e),i,this.children.slice(t));for(let n=0;n<i.length;n++)i[n].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new YS(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,n,s,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}qe.prototype.breakAfter=0;function Su(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class YS{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function VS(r,e,t,i,n,s,a,o,l){let{children:E}=r,h=E.length?E[e]:null,c=s.length?s[s.length-1]:null,f=c?c.breakAfter:a;if(!(e==i&&h&&!a&&!f&&s.length<2&&h.merge(t,n,s.length?c:null,t==0,o,l))){if(i<E.length){let T=E[i];T&&(n<T.length||T.breakAfter&&c?.breakAfter)?(e==i&&(T=T.split(n),n=0),!f&&c&&T.merge(0,n,c,!0,0,l)?s[s.length-1]=T:((n||T.children.length&&!T.children[0].length)&&T.merge(0,n,null,!1,0,l),s.push(T))):T?.breakAfter&&(c?c.breakAfter=1:a=1),i++}for(h&&(h.breakAfter=a,t>0&&(!a&&s.length&&h.merge(t,h.length,s[0],!1,o,0)?h.breakAfter=s.shift().breakAfter:(t<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(t,h.length,null,!1,o,0),e++));e<i&&s.length;)if(E[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:o;else if(E[e].become(s[0]))e++,s.shift(),o=s.length?0:l;else break;!s.length&&e&&i<E.length&&!E[e-1].breakAfter&&E[i].merge(0,0,E[e-1],!1,o,l)&&e--,(e<i||s.length)&&r.replaceChildren(e,i,s)}}function WS(r,e,t,i,n,s){let a=r.childCursor(),{i:o,off:l}=a.findPos(t,1),{i:E,off:h}=a.findPos(e,-1),c=e-t;for(let f of i)c+=f.length;r.length+=c,VS(r,E,h,o,l,i,0,n,s)}const iU=256;class Br extends qe{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof Br)||this.length-(t-e)+i.length>iU||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Br(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Ht(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return nU(this.dom,e,t)}}class Ri extends qe{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let n of t)n.setParent(this)}setAttrs(e){if(bS(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,n,s,a){return i&&(!(i instanceof Ri&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&a<=0)?!1:(WS(this,e,t,i?i.children.slice():[],s-1,a-1),this.markDirty(),!0)}split(e){let t=[],i=0,n=-1,s=0;for(let o of this.children){let l=i+o.length;l>e&&t.push(i<e?o.split(e-i):o),n<0&&i>=e&&(n=s),i=l,s++}let a=this.length-e;return this.length=e,n>-1&&(this.children.length=n,this.markDirty()),new Ri(this.mark,t,a)}domAtPos(e){return XS(this,e)}coordsAt(e,t){return $S(this,e,t)}}function nU(r,e,t){let i=r.nodeValue.length;e>i&&(e=i);let n=e,s=e,a=0;e==0&&t<0||e==i&&t>=0?fe.chrome||fe.gecko||(e?(n--,a=1):s<i&&(s++,a=-1)):t<0?n--:s<i&&s++;let o=hn(r,n,s).getClientRects();if(!o.length)return null;let l=o[(a?a<0:t>=0)?0:o.length-1];return fe.safari&&!a&&l.width==0&&(l=Array.prototype.find.call(o,E=>E.width)||l),a?Na(l,a<0):l||null}class li extends qe{static create(e,t,i){return new li(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=li.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,i,n,s,a){return i&&(!(i instanceof li)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&a<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof li&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return ke.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,n=this.posAtStart;return i?i.slice(n,n+this.length):ke.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Ht.before(this.dom):Ht.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let n=this.dom.getClientRects(),s=null;if(!n.length)return null;let a=this.side?this.side<0:e>0;for(let o=a?n.length-1:0;s=n[o],!(e>0?o==0:o==n.length-1||s.top<s.bottom);o+=a?-1:1);return Na(s,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Qn extends qe{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Qn&&e.side==this.side}split(){return new Qn(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Ht.before(this.dom):Ht.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return ke.empty}get isHidden(){return!0}}Br.prototype.children=li.prototype.children=Qn.prototype.children=ef;function XS(r,e){let t=r.dom,{children:i}=r,n=0;for(let s=0;n<i.length;n++){let a=i[n],o=s+a.length;if(!(o==s&&a.getSide()<=0)){if(e>s&&e<o&&a.dom.parentNode==t)return a.domAtPos(e-s);if(e<=s)break;s=o}}for(let s=n;s>0;s--){let a=i[s-1];if(a.dom.parentNode==t)return a.domAtPos(a.length)}for(let s=n;s<i.length;s++){let a=i[s];if(a.dom.parentNode==t)return a.domAtPos(0)}return new Ht(t,0)}function KS(r,e,t){let i,{children:n}=r;t>0&&e instanceof Ri&&n.length&&(i=n[n.length-1])instanceof Ri&&i.mark.eq(e.mark)?KS(i,e.children[0],t-1):(n.push(e),e.setParent(r)),r.length+=e.length}function $S(r,e,t){let i=null,n=-1,s=null,a=-1;function o(E,h){for(let c=0,f=0;c<E.children.length&&f<=h;c++){let T=E.children[c],A=f+T.length;A>=h&&(T.children.length?o(T,h-f):(!s||s.isHidden&&(t>0||aU(s,T)))&&(A>h||f==A&&T.getSide()>0)?(s=T,a=h-f):(f<h||f==A&&T.getSide()<0&&!T.isHidden)&&(i=T,n=h-f)),f=A}}o(r,e);let l=(t<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?n:a),t):sU(r)}function sU(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let t=qn(e);return t[t.length-1]||null}function aU(r,e){let t=r.coordsAt(0,1),i=e.coordsAt(0,1);return t&&i&&i.top<t.bottom}function Xh(r,e){for(let t in r)t=="class"&&e.class?e.class+=" "+r.class:t=="style"&&e.style?e.style+=";"+r.style:e[t]=r[t];return e}const du=Object.create(null);function el(r,e,t){if(r==e)return!0;r||(r=du),e||(e=du);let i=Object.keys(r),n=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=n.length-(t&&n.indexOf(t)>-1?1:0))return!1;for(let s of i)if(s!=t&&(n.indexOf(s)==-1||r[s]!==e[s]))return!1;return!0}function Kh(r,e,t){let i=!1;if(e)for(let n in e)t&&n in t||(i=!0,n=="style"?r.style.cssText="":r.removeAttribute(n));if(t)for(let n in t)e&&e[n]==t[n]||(i=!0,n=="style"?r.style.cssText=t[n]:r.setAttribute(n,t[n]));return i}function oU(r){let e=Object.create(null);for(let t=0;t<r.attributes.length;t++){let i=r.attributes[t];e[i.name]=i.value}return e}class Oi{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var qt=(function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r})(qt||(qt={}));class Ce extends ln{constructor(e,t,i,n){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(e){return new pa(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Fi(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,n;if(e.isBlockGap)i=-5e8,n=4e8;else{let{start:s,end:a}=JS(e,t);i=(s?t?-3e8:-1:5e8)-1,n=(a?t?2e8:1:-6e8)+1}return new Fi(e,i,n,t,e.widget||null,!0)}static line(e){return new ma(e)}static set(e,t=!1){return He.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ce.none=He.empty;class pa extends Ce{constructor(e){let{start:t,end:i}=JS(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof pa&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&el(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}pa.prototype.point=!1;class ma extends Ce{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof ma&&this.spec.class==e.spec.class&&el(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}ma.prototype.mapMode=Jt.TrackBefore;ma.prototype.point=!0;class Fi extends Ce{constructor(e,t,i,n,s,a){super(t,i,s,e),this.block=n,this.isReplace=a,this.mapMode=n?t<=0?Jt.TrackBefore:Jt.TrackAfter:Jt.TrackDel}get type(){return this.startSide!=this.endSide?qt.WidgetRange:this.startSide<=0?qt.WidgetBefore:qt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Fi&&lU(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Fi.prototype.point=!0;function JS(r,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=r;return t==null&&(t=r.inclusive),i==null&&(i=r.inclusive),{start:t??e,end:i??e}}function lU(r,e){return r==e||!!(r&&e&&r.compare(e))}function go(r,e,t,i=0){let n=t.length-1;n>=0&&t[n]+i>=r?t[n]=Math.max(t[n],e):t.push(r,e)}class ct extends qe{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,n,s,a){if(i){if(!(i instanceof ct))return!1;this.dom||i.transferDOM(this)}return n&&this.setDeco(i?i.attrs:null),WS(this,e,t,i?i.children.slice():[],s,a),!0}split(e){let t=new ct;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:n}=this.childPos(e);n&&(t.append(this.children[i].split(n),0),this.children[i].merge(n,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){el(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){KS(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=Xh(t,this.attrs||{})),i&&(this.attrs=Xh({class:i},this.attrs||{}))}domAtPos(e){return XS(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(bS(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Kh(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let n=this.dom.lastChild;for(;n&&qe.get(n)instanceof Ri;)n=n.lastChild;if(!n||!this.length||n.nodeName!="BR"&&((i=qe.get(n))===null||i===void 0?void 0:i.isEditable)==!1&&(!fe.ios||!this.children.some(s=>s instanceof Br))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof Br)||/[^ -~]/.test(i.text))return null;let n=qn(i.dom);if(n.length!=1)return null;e+=n[0].width,t=n[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=$S(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:n}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-n.lineHeight)<2&&n.textHeight<s){let a=(s-n.textHeight)/2;return{top:i.top+a,bottom:i.bottom-a,left:i.left,right:i.left}}}return i}become(e){return e instanceof ct&&this.children.length==0&&e.children.length==0&&el(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let i=0,n=0;i<e.children.length;i++){let s=e.children[i],a=n+s.length;if(a>=t){if(s instanceof ct)return s;if(a>t)break}n=a+s.breakAfter}return null}}class fi extends qe{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,n,s,a){return i&&(!(i instanceof fi)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&a<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Ht.before(this.dom):Ht.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new fi(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return ef}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ke.empty}domBoundsAround(){return null}become(e){return e instanceof fi&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);return i||(this.widget instanceof $h?null:Na(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}}class $h extends Oi{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ks{constructor(e,t,i,n){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof fi&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ct),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(za(new Qn(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof fi)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:a,lineBreak:o,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=a,this.textOff=0}let n=Math.min(this.text.length-this.textOff,e),s=Math.min(n,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(za(new Br(this.text.slice(this.textOff,this.textOff+s)),t),i),this.atCursorPos=!0,this.textOff+=s,e-=s,i=n<=s?0:t.length}}span(e,t,i,n){this.buildText(t-e,i,n),this.pos=t,this.openStart<0&&(this.openStart=n)}point(e,t,i,n,s,a){if(this.disallowBlockEffectsFor[a]&&i instanceof Fi){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=t-e;if(i instanceof Fi)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new fi(i.widget||jn.block,o,i));else{let l=li.create(i.widget||jn.inline,o,o?0:i.startSide),E=this.atCursorPos&&!l.isEditable&&s<=n.length&&(e<t||i.startSide>0),h=!l.isEditable&&(e<t||s>n.length||i.startSide<=0),c=this.getLine();this.pendingBuffer==2&&!E&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(n),E&&(c.append(za(new Qn(1),n),s),s=n.length+Math.max(0,s-n.length)),c.append(za(l,n),s),this.atCursorPos=h,this.pendingBuffer=h?e<t||s>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,n,s){let a=new ks(e,t,i,s);return a.openEnd=He.spans(n,t,i,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function za(r,e){for(let t of e)r=new Ri(t,[r],r.length);return r}class jn extends Oi{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}jn.inline=new jn("span");jn.block=new jn("div");var tt=(function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r})(tt||(tt={}));const cn=tt.LTR,tf=tt.RTL;function zS(r){let e=[];for(let t=0;t<r.length;t++)e.push(1<<+r[t]);return e}const EU=zS("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),hU=zS("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Jh=Object.create(null),kr=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),t=r.charCodeAt(1);Jh[e]=t,Jh[t]=-e}function qS(r){return r<=247?EU[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?hU[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}const cU=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class xi{get dir(){return this.level%2?tf:cn}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,i,n){let s=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.from<=t&&o.to>=t){if(o.level==i)return a;(s<0||(n!=0?n<0?o.from<t:o.to>t:e[s].level>o.level))&&(s=a)}}if(s<0)throw new RangeError("Index out of range");return s}}function QS(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++){let i=r[t],n=e[t];if(i.from!=n.from||i.to!=n.to||i.direction!=n.direction||!QS(i.inner,n.inner))return!1}return!0}const Ze=[];function fU(r,e,t,i,n){for(let s=0;s<=i.length;s++){let a=s?i[s-1].to:e,o=s<i.length?i[s].from:t,l=s?256:n;for(let E=a,h=l,c=l;E<o;E++){let f=qS(r.charCodeAt(E));f==512?f=h:f==8&&c==4&&(f=16),Ze[E]=f==4?2:f,f&7&&(c=f),h=f}for(let E=a,h=l,c=l;E<o;E++){let f=Ze[E];if(f==128)E<o-1&&h==Ze[E+1]&&h&24?f=Ze[E]=h:Ze[E]=256;else if(f==64){let T=E+1;for(;T<o&&Ze[T]==64;)T++;let A=E&&h==8||T<t&&Ze[T]==8?c==1?1:8:256;for(let u=E;u<T;u++)Ze[u]=A;E=T-1}else f==8&&c==1&&(Ze[E]=1);h=f,f&7&&(c=f)}}}function TU(r,e,t,i,n){let s=n==1?2:1;for(let a=0,o=0,l=0;a<=i.length;a++){let E=a?i[a-1].to:e,h=a<i.length?i[a].from:t;for(let c=E,f,T,A;c<h;c++)if(T=Jh[f=r.charCodeAt(c)])if(T<0){for(let u=o-3;u>=0;u-=3)if(kr[u+1]==-T){let R=kr[u+2],d=R&2?n:R&4?R&1?s:n:0;d&&(Ze[c]=Ze[kr[u]]=d),o=u;break}}else{if(kr.length==189)break;kr[o++]=c,kr[o++]=f,kr[o++]=l}else if((A=Ze[c])==2||A==1){let u=A==n;l=u?0:1;for(let R=o-3;R>=0;R-=3){let d=kr[R+2];if(d&2)break;if(u)kr[R+2]|=2;else{if(d&4)break;kr[R+2]|=4}}}}}function uU(r,e,t,i){for(let n=0,s=i;n<=t.length;n++){let a=n?t[n-1].to:r,o=n<t.length?t[n].from:e;for(let l=a;l<o;){let E=Ze[l];if(E==256){let h=l+1;for(;;)if(h==o){if(n==t.length)break;h=t[n++].to,o=n<t.length?t[n].from:e}else if(Ze[h]==256)h++;else break;let c=s==1,f=(h<e?Ze[h]:i)==1,T=c==f?c?1:2:i;for(let A=h,u=n,R=u?t[u-1].to:r;A>l;)A==R&&(A=t[--u].from,R=u?t[u-1].to:r),Ze[--A]=T;l=h}else s=E,l++}}}function zh(r,e,t,i,n,s,a){let o=i%2?2:1;if(i%2==n%2)for(let l=e,E=0;l<t;){let h=!0,c=!1;if(E==s.length||l<s[E].from){let u=Ze[l];u!=o&&(h=!1,c=u==16)}let f=!h&&o==1?[]:null,T=h?i:i+1,A=l;e:for(;;)if(E<s.length&&A==s[E].from){if(c)break e;let u=s[E];if(!h)for(let R=u.to,d=E+1;;){if(R==t)break e;if(d<s.length&&s[d].from==R)R=s[d++].to;else{if(Ze[R]==o)break e;break}}if(E++,f)f.push(u);else{u.from>l&&a.push(new xi(l,u.from,T));let R=u.direction==cn!=!(T%2);qh(r,R?i+1:i,n,u.inner,u.from,u.to,a),l=u.to}A=u.to}else{if(A==t||(h?Ze[A]!=o:Ze[A]==o))break;A++}f?zh(r,l,A,i+1,n,f,a):l<A&&a.push(new xi(l,A,T)),l=A}else for(let l=t,E=s.length;l>e;){let h=!0,c=!1;if(!E||l>s[E-1].to){let u=Ze[l-1];u!=o&&(h=!1,c=u==16)}let f=!h&&o==1?[]:null,T=h?i:i+1,A=l;e:for(;;)if(E&&A==s[E-1].to){if(c)break e;let u=s[--E];if(!h)for(let R=u.from,d=E;;){if(R==e)break e;if(d&&s[d-1].to==R)R=s[--d].from;else{if(Ze[R-1]==o)break e;break}}if(f)f.push(u);else{u.to<l&&a.push(new xi(u.to,l,T));let R=u.direction==cn!=!(T%2);qh(r,R?i+1:i,n,u.inner,u.from,u.to,a),l=u.from}A=u.from}else{if(A==e||(h?Ze[A-1]!=o:Ze[A-1]==o))break;A--}f?zh(r,A,l,i+1,n,f,a):A<l&&a.push(new xi(A,l,T)),l=A}}function qh(r,e,t,i,n,s,a){let o=e%2?2:1;fU(r,n,s,i,o),TU(r,n,s,i,o),uU(n,s,i,o),zh(r,n,s,e,t,i,a)}function AU(r,e,t){if(!r)return[new xi(0,0,e==tf?1:0)];if(e==cn&&!t.length&&!cU.test(r))return jS(r.length);if(t.length)for(;r.length>Ze.length;)Ze[Ze.length]=256;let i=[],n=e==cn?0:1;return qh(r,n,n,t,0,r.length,i),i}function jS(r){return[new xi(0,r,0)]}let ZS="";function RU(r,e,t,i,n){var s;let a=i.head-r.from,o=xi.find(e,a,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc),l=e[o],E=l.side(n,t);if(a==E){let f=o+=n?1:-1;if(f<0||f>=e.length)return null;l=e[o=f],a=l.side(!n,t),E=l.side(n,t)}let h=yt(r.text,a,l.forward(n,t));(h<l.from||h>l.to)&&(h=E),ZS=r.text.slice(Math.min(a,h),Math.max(a,h));let c=o==(n?e.length-1:0)?null:e[o+(n?1:-1)];return c&&h==E&&c.level+(n?0:1)<l.level?j.cursor(c.side(!n,t)+r.from,c.forward(n,t)?1:-1,c.level):j.cursor(h+r.from,l.forward(n,t)?-1:1,l.level)}function SU(r,e,t){for(let i=e;i<t;i++){let n=qS(r.charCodeAt(i));if(n==1)return cn;if(n==2||n==4)return tf}return cn}const ed=Ae.define(),td=Ae.define(),rd=Ae.define(),id=Ae.define(),Qh=Ae.define(),nd=Ae.define(),sd=Ae.define(),rf=Ae.define(),nf=Ae.define(),ad=Ae.define({combine:r=>r.some(e=>e)}),od=Ae.define({combine:r=>r.some(e=>e)}),ld=Ae.define();class Vn{constructor(e,t="nearest",i="nearest",n=5,s=5,a=!1){this.range=e,this.y=t,this.x=i,this.yMargin=n,this.xMargin=s,this.isSnapshot=a}map(e){return e.empty?this:new Vn(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Vn(j.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const qa=ve.define({map:(r,e)=>r.map(e)}),Ed=ve.define();function er(r,e,t){let i=r.facet(id);i.length?i[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const oi=Ae.define({combine:r=>r.length?r[0]:!0});let dU=0;const Un=Ae.define({combine(r){return r.filter((e,t)=>{for(let i=0;i<t;i++)if(r[i].plugin==e.plugin)return!1;return!0})}});class Et{constructor(e,t,i,n,s){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=n,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(Un.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Un.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:i,eventObservers:n,provide:s,decorations:a}=t||{};return new Et(dU++,e,i,n,o=>{let l=[];return a&&l.push(ta.of(E=>{let h=E.plugin(o);return h?a(h):Ce.none})),s&&l.push(s(o)),l})}static fromClass(e,t){return Et.define((i,n)=>new e(i,n),t)}}class VE{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(er(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){er(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){er(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const hd=Ae.define(),sf=Ae.define(),ta=Ae.define(),cd=Ae.define(),Ca=Ae.define(),fd=Ae.define();function Ou(r,e){let t=r.state.facet(fd);if(!t.length)return t;let i=t.map(s=>s instanceof Function?s(r):s),n=[];return He.spans(i,e.from,e.to,{point(){},span(s,a,o,l){let E=s-e.from,h=a-e.from,c=n;for(let f=o.length-1;f>=0;f--,l--){let T=o[f].spec.bidiIsolate,A;if(T==null&&(T=SU(e.text,E,h)),l>0&&c.length&&(A=c[c.length-1]).to==E&&A.direction==T)A.to=h,c=A.inner;else{let u={from:E,to:h,direction:T,inner:[]};c.push(u),c=u.inner}}}}),n}const Td=Ae.define();function af(r){let e=0,t=0,i=0,n=0;for(let s of r.state.facet(Td)){let a=s(r);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(t=Math.max(t,a.right)),a.top!=null&&(i=Math.max(i,a.top)),a.bottom!=null&&(n=Math.max(n,a.bottom)))}return{left:e,right:t,top:i,bottom:n}}const Ls=Ae.define();class Nr{constructor(e,t,i,n){this.fromA=e,this.toA=t,this.fromB=i,this.toB=n}join(e){return new Nr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let n=e[t-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let n=0,s=0,a=0,o=0;;n++){let l=n==e.length?null:e[n],E=a-o,h=l?l.fromB:1e9;for(;s<t.length&&t[s]<h;){let c=t[s],f=t[s+1],T=Math.max(o,c),A=Math.min(h,f);if(T<=A&&new Nr(T+E,A+E,T,A).addToSet(i),f>h)break;s+=2}if(!l)return i;new Nr(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),a=l.toA,o=l.toB}}}class tl{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=St.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let n=[];this.changes.iterChangedRanges((s,a,o,l)=>n.push(new Nr(s,a,o,l))),this.changedRanges=n}static create(e,t,i){return new tl(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Iu extends qe{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Ce.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new ct],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Nr(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:E,toA:h})=>h<this.minWidthFrom||E>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let n=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?n=this.domChanged.newSel.head:!_U(e.changes,this.hasComposition)&&!e.selectionSet&&(n=e.state.selection.main.head));let s=n>-1?IU(this.view,e.changes,n):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:E,to:h}=this.hasComposition;i=new Nr(E,h,e.changes.mapPos(E,-1),e.changes.mapPos(h,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(fe.ie||fe.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,o=this.updateDeco(),l=mU(a,o,e.changes);return i=Nr.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:n}=this.view;n.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=fe.chrome||fe.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||n.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof fi&&a.widget instanceof $h&&s.push(a.dom);n.updateGaps(s)}updateChildren(e,t,i){let n=i?i.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let a=n.length-1;;a--){let o=a>=0?n[a]:null;if(!o)break;let{fromA:l,toA:E,fromB:h,toB:c}=o,f,T,A,u;if(i&&i.range.fromB<c&&i.range.toB>h){let L=ks.build(this.view.state.doc,h,i.range.fromB,this.decorations,this.dynamicDecorationMap),D=ks.build(this.view.state.doc,i.range.toB,c,this.decorations,this.dynamicDecorationMap);T=L.breakAtStart,A=L.openStart,u=D.openEnd;let U=this.compositionView(i);D.breakAtStart?U.breakAfter=1:D.content.length&&U.merge(U.length,U.length,D.content[0],!1,D.openStart,0)&&(U.breakAfter=D.content[0].breakAfter,D.content.shift()),L.content.length&&U.merge(0,0,L.content[L.content.length-1],!0,0,L.openEnd)&&L.content.pop(),f=L.content.concat(U).concat(D.content)}else({content:f,breakAtStart:T,openStart:A,openEnd:u}=ks.build(this.view.state.doc,h,c,this.decorations,this.dynamicDecorationMap));let{i:R,off:d}=s.findPos(E,1),{i:O,off:I}=s.findPos(l,-1);VS(this,O,I,R,d,f,T,A,u)}i&&this.fixCompositionDOM(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let i of t.effects)i.is(Ed)&&(this.editContextFormatting=i.value)}compositionView(e){let t=new Br(e.text.nodeValue);t.flags|=8;for(let{deco:n}of e.marks)t=new Ri(n,[t],t.length);let i=new ct;return i.append(t,0),i}fixCompositionDOM(e){let t=(s,a)=>{a.flags|=8|(a.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(a);let o=qe.get(s);o&&o!=a&&(o.dom=null),a.setDOM(s)},i=this.childPos(e.range.fromB,1),n=this.children[i.i];t(e.line,n);for(let s=e.marks.length-1;s>=-1;s--)i=n.childPos(i.off,1),n=n.children[i.i],t(s>=0?e.marks[s].node:e.text,n)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,n=i==this.dom,s=!n&&!(this.view.state.facet(oi)||this.dom.tabIndex>-1)&&_o(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(n||t||s))return;let a=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(o.anchor)),E=o.empty?l:this.moveToLine(this.domAtPos(o.head));if(fe.gecko&&o.empty&&!this.hasComposition&&OU(l)){let c=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(c,l.node.childNodes[l.offset]||null)),l=E=new Ht(c,0),a=!0}let h=this.view.observer.selectionRange;(a||!h.focusNode||(!Hs(l.node,l.offset,h.anchorNode,h.anchorOffset)||!Hs(E.node,E.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,o))&&(this.view.observer.ignore(()=>{fe.android&&fe.chrome&&this.dom.contains(h.focusNode)&&CU(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let c=ea(this.view.root);if(c)if(o.empty){if(fe.gecko){let f=NU(l.node,l.offset);if(f&&f!=3){let T=(f==1?HS:kS)(l.node,l.offset);T&&(l=new Ht(T.node,T.offset))}}c.collapse(l.node,l.offset),o.bidiLevel!=null&&c.caretBidiLevel!==void 0&&(c.caretBidiLevel=o.bidiLevel)}else if(c.extend){c.collapse(l.node,l.offset);try{c.extend(E.node,E.offset)}catch{}}else{let f=document.createRange();o.anchor>o.head&&([l,E]=[E,l]),f.setEnd(E.node,E.offset),f.setStart(l.node,l.offset),c.removeAllRanges(),c.addRange(f)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,E)),this.impreciseAnchor=l.precise?null:new Ht(h.anchorNode,h.anchorOffset),this.impreciseHead=E.precise?null:new Ht(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Hs(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=ea(e.root),{anchorNode:n,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let a=ct.find(this,t.head);if(!a)return;let o=a.posAtStart;if(t.head==o||t.head==o+a.length)return;let l=this.coordsAt(t.head,-1),E=this.coordsAt(t.head,1);if(!l||!E||l.bottom>E.top)return;let h=this.domAtPos(t.head+t.assoc);i.collapse(h.node,h.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let c=e.observer.selectionRange;e.docView.posFromDOM(c.anchorNode,c.anchorOffset)!=t.from&&i.collapse(n,s)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let n=e.offset;!i&&n<t.childNodes.length;n++){let s=qe.get(t.childNodes[n]);s instanceof ct&&(i=s.domAtPos(0))}for(let n=e.offset-1;!i&&n>=0;n--){let s=qe.get(t.childNodes[n]);s instanceof ct&&(i=s.domAtPos(s.length))}return i?new Ht(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=qe.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let n=this.children[t];if(i<n.length||n instanceof ct)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,n=0;for(let s=this.length,a=this.children.length-1;a>=0;a--){let o=this.children[a],l=s-o.breakAfter,E=l-o.length;if(l<e)break;if(E<=e&&(E<e||o.covers(-1))&&(l>e||o.covers(1))&&(!i||o instanceof ct&&!(i instanceof ct&&t>=0)))i=o,n=E;else if(i&&E==e&&l==e&&o instanceof fi&&Math.abs(t)<2){if(o.deco.startSide<0)break;a&&(i=null)}s=E}return i?i.coordsAt(e-n,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),n=this.children[t];if(!(n instanceof ct))return null;for(;n.children.length;){let{i:o,off:l}=n.childPos(i,1);for(;;o++){if(o==n.children.length)return null;if((n=n.children[o]).length)break}i=l}if(!(n instanceof Br))return null;let s=yt(n.text,i);if(s==i)return null;let a=hn(n.dom,i,s).getClientRects();for(let o=0;o<a.length;o++){let l=a[o];if(o==a.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:n}=e,s=this.view.contentDOM.clientWidth,a=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==tt.LTR;for(let E=0,h=0;h<this.children.length;h++){let c=this.children[h],f=E+c.length;if(f>n)break;if(E>=i){let T=c.dom.getBoundingClientRect();if(t.push(T.height),a){let A=c.dom.lastChild,u=A?qn(A):[];if(u.length){let R=u[u.length-1],d=l?R.right-T.left:T.right-R.left;d>o&&(o=d,this.minWidth=s,this.minWidthFrom=E,this.minWidthTo=f)}}}E=f+c.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?tt.RTL:tt.LTR}measureTextSize(){for(let s of this.children)if(s instanceof ct){let a=s.measureTextSize();if(a)return a}let e=document.createElement("div"),t,i,n;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=qn(e.firstChild)[0];t=e.getBoundingClientRect().height,i=s?s.width/27:7,n=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new YS(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,n=0;;n++){let s=n==t.viewports.length?null:t.viewports[n],a=s?s.from-1:this.length;if(a>i){let o=(t.lineBlockAt(a).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(Ce.replace({widget:new $h(o),block:!0,inclusive:!0,isBlockGap:!0}).range(i,a))}if(!s)break;i=s.to+1}return Ce.set(e)}updateDeco(){let e=1,t=this.view.state.facet(ta).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),i=!1,n=this.view.state.facet(cd).map((s,a)=>{let o=typeof s=="function";return o&&(i=!0),o?s(this.view):s});for(n.length&&(this.dynamicDecorationMap[e++]=i,t.push(He.join(n))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let E=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=E.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let E of this.view.state.facet(ld))try{if(E(this.view,e.range,e))return!0}catch(h){er(this.view.state,h,"scroll handler")}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),n;if(!i)return;!t.empty&&(n=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,n.left),top:Math.min(i.top,n.top),right:Math.max(i.right,n.right),bottom:Math.max(i.bottom,n.bottom)});let s=af(this.view),a={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom},{offsetWidth:o,offsetHeight:l}=this.view.scrollDOM;jv(this.view.scrollDOM,a,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==tt.LTR)}lineHasWidget(e){let{i:t}=this.childCursor().findPos(e);if(t==this.children.length)return!1;let i=n=>n instanceof li||n.children.some(i);return i(this.children[t])}}function OU(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}function ud(r,e){let t=r.observer.selectionRange;if(!t.focusNode)return null;let i=HS(t.focusNode,t.focusOffset),n=kS(t.focusNode,t.focusOffset),s=i||n;if(n&&i&&n.node!=i.node){let o=qe.get(n.node);if(!o||o instanceof Br&&o.text!=n.node.nodeValue)s=n;else if(r.docView.lastCompositionAfterCursor){let l=qe.get(i.node);!l||l instanceof Br&&l.text!=i.node.nodeValue||(s=n)}}if(r.docView.lastCompositionAfterCursor=s!=i,!s)return null;let a=e-s.offset;return{from:a,to:a+s.node.nodeValue.length,node:s.node}}function IU(r,e,t){let i=ud(r,t);if(!i)return null;let{node:n,from:s,to:a}=i,o=n.nodeValue;if(/[\n\r]/.test(o)||r.state.doc.sliceString(i.from,i.to)!=o)return null;let l=e.invertedDesc,E=new Nr(l.mapPos(s),l.mapPos(a),s,a),h=[];for(let c=n.parentNode;;c=c.parentNode){let f=qe.get(c);if(f instanceof Ri)h.push({node:c,deco:f.mark});else{if(f instanceof ct||c.nodeName=="DIV"&&c.parentNode==r.contentDOM)return{range:E,text:n,marks:h,line:c};if(c!=r.contentDOM)h.push({node:c,deco:new pa({inclusive:!0,attributes:oU(c),tagName:c.tagName.toLowerCase()})});else return null}}}function NU(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}let pU=class{constructor(){this.changes=[]}compareRange(e,t){go(e,t,this.changes)}comparePoint(e,t){go(e,t,this.changes)}boundChange(e){go(e,e,this.changes)}};function mU(r,e,t){let i=new pU;return He.compare(r,e,t,i),i.changes}function CU(r,e){for(let t=r;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function _U(r,e){let t=!1;return e&&r.iterChangedRanges((i,n)=>{i<e.to&&n>e.from&&(t=!0)}),t}function gU(r,e,t=1){let i=r.charCategorizer(e),n=r.doc.lineAt(e),s=e-n.from;if(n.length==0)return j.cursor(e);s==0?t=1:s==n.length&&(t=-1);let a=s,o=s;t<0?a=yt(n.text,s,!1):o=yt(n.text,s);let l=i(n.text.slice(a,o));for(;a>0;){let E=yt(n.text,a,!1);if(i(n.text.slice(E,a))!=l)break;a=E}for(;o<n.length;){let E=yt(n.text,o);if(i(n.text.slice(o,E))!=l)break;o=E}return j.range(a+n.from,o+n.from)}function LU(r,e){return e.left>r?e.left-r:Math.max(0,r-e.right)}function DU(r,e){return e.top>r?e.top-r:Math.max(0,r-e.bottom)}function WE(r,e){return r.top<e.bottom-1&&r.bottom>e.top+1}function Nu(r,e){return e<r.top?{top:e,left:r.left,right:r.right,bottom:r.bottom}:r}function pu(r,e){return e>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:e}:r}function jh(r,e,t){let i,n,s,a,o=!1,l,E,h,c;for(let A=r.firstChild;A;A=A.nextSibling){let u=qn(A);for(let R=0;R<u.length;R++){let d=u[R];n&&WE(n,d)&&(d=Nu(pu(d,n.bottom),n.top));let O=LU(e,d),I=DU(t,d);if(O==0&&I==0)return A.nodeType==3?mu(A,e,t):jh(A,e,t);(!i||a>I||a==I&&s>O)&&(i=A,n=d,s=O,a=I,o=O?e<d.left?R>0:R<u.length-1:!0),O==0?t>d.bottom&&(!h||h.bottom<d.bottom)?(l=A,h=d):t<d.top&&(!c||c.top>d.top)&&(E=A,c=d):h&&WE(h,d)?h=pu(h,d.bottom):c&&WE(c,d)&&(c=Nu(c,d.top))}}if(h&&h.bottom>=t?(i=l,n=h):c&&c.top<=t&&(i=E,n=c),!i)return{node:r,offset:0};let f=Math.max(n.left,Math.min(n.right,e));if(i.nodeType==3)return mu(i,f,t);if(o&&i.contentEditable!="false")return jh(i,f,t);let T=Array.prototype.indexOf.call(r.childNodes,i)+(e>=(n.left+n.right)/2?1:0);return{node:r,offset:T}}function mu(r,e,t){let i=r.nodeValue.length,n=-1,s=1e9,a=0;for(let o=0;o<i;o++){let l=hn(r,o,o+1).getClientRects();for(let E=0;E<l.length;E++){let h=l[E];if(h.top==h.bottom)continue;a||(a=e-h.left);let c=(h.top>t?h.top-t:t-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&c<s){let f=e>=(h.left+h.right)/2,T=f;if(fe.chrome||fe.gecko){let A=hn(r,o).getBoundingClientRect();Math.abs(A.left-h.right)<.1&&(T=!f)}if(c<=0)return{node:r,offset:o+(T?1:0)};n=o+(T?1:0),s=c}}}return{node:r,offset:n>-1?n:a>0?r.nodeValue.length:0}}function Ad(r,e,t,i=-1){var n,s;let a=r.contentDOM.getBoundingClientRect(),o=a.top+r.viewState.paddingTop,l,{docHeight:E}=r.viewState,{x:h,y:c}=e,f=c-o;if(f<0)return 0;if(f>E)return r.state.doc.length;for(let L=r.viewState.heightOracle.textHeight/2,D=!1;l=r.elementAtHeight(f),l.type!=qt.Text;)for(;f=i>0?l.bottom+L:l.top-L,!(f>=0&&f<=E);){if(D)return t?null:0;D=!0,i=-i}c=o+f;let T=l.from;if(T<r.viewport.from)return r.viewport.from==0?0:t?null:Cu(r,a,l,h,c);if(T>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:t?null:Cu(r,a,l,h,c);let A=r.dom.ownerDocument,u=r.root.elementFromPoint?r.root:A,R=u.elementFromPoint(h,c);R&&!r.contentDOM.contains(R)&&(R=null),R||(h=Math.max(a.left+1,Math.min(a.right-1,h)),R=u.elementFromPoint(h,c),R&&!r.contentDOM.contains(R)&&(R=null));let d,O=-1;if(R&&((n=r.docView.nearest(R))===null||n===void 0?void 0:n.isEditable)!=!1){if(A.caretPositionFromPoint){let L=A.caretPositionFromPoint(h,c);L&&({offsetNode:d,offset:O}=L)}else if(A.caretRangeFromPoint){let L=A.caretRangeFromPoint(h,c);L&&({startContainer:d,startOffset:O}=L)}d&&(!r.contentDOM.contains(d)||fe.safari&&xU(d,O,h)||fe.chrome&&PU(d,O,h))&&(d=void 0),d&&(O=Math.min(ei(d),O))}if(!d||!r.docView.dom.contains(d)){let L=ct.find(r.docView,T);if(!L)return f>l.top+l.height/2?l.to:l.from;({node:d,offset:O}=jh(L.dom,h,c))}let I=r.docView.nearest(d);if(!I)return null;if(I.isWidget&&((s=I.dom)===null||s===void 0?void 0:s.nodeType)==1){let L=I.dom.getBoundingClientRect();return e.y<L.top||e.y<=L.bottom&&e.x<=(L.left+L.right)/2?I.posAtStart:I.posAtEnd}else return I.localPosFromDOM(d,O)+I.posAtStart}function Cu(r,e,t,i,n){let s=Math.round((i-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&t.height>r.defaultLineHeight*1.5){let o=r.viewState.heightOracle.textHeight,l=Math.floor((n-t.top-(r.defaultLineHeight-o)*.5)/o);s+=l*r.viewState.heightOracle.lineLength}let a=r.state.sliceDoc(t.from,t.to);return t.from+Bh(a,s,r.state.tabSize)}function Rd(r,e,t){let i,n=r;if(r.nodeType!=3||e!=(i=r.nodeValue.length))return!1;for(;;){let s=n.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let a=n.parentNode;if(!a||a.nodeName=="DIV")break;n=a}}return hn(r,i-1,i).getBoundingClientRect().right>t}function xU(r,e,t){return Rd(r,e,t)}function PU(r,e,t){if(e!=0)return Rd(r,e,t);for(let n=r;;){let s=n.parentNode;if(!s||s.nodeType!=1||s.firstChild!=n)return!1;if(s.classList.contains("cm-line"))break;n=s}let i=r.nodeType==1?r.getBoundingClientRect():hn(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function Zh(r,e,t){let i=r.lineBlockAt(e);if(Array.isArray(i.type)){let n;for(let s of i.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!n||s.type==qt.Text&&(n.type!=s.type||(t<0?s.from<e:s.to>e)))&&(n=s)}}return n||i}return i}function MU(r,e,t,i){let n=Zh(r,e.head,e.assoc||-1),s=!i||n.type!=qt.Text||!(r.lineWrapping||n.widgetLineBreaks)?null:r.coordsAtPos(e.assoc<0&&e.head>n.from?e.head-1:e.head);if(s){let a=r.dom.getBoundingClientRect(),o=r.textDirectionAt(n.from),l=r.posAtCoords({x:t==(o==tt.LTR)?a.right-1:a.left+1,y:(s.top+s.bottom)/2});if(l!=null)return j.cursor(l,t?-1:1)}return j.cursor(t?n.to:n.from,t?-1:1)}function _u(r,e,t,i){let n=r.state.doc.lineAt(e.head),s=r.bidiSpans(n),a=r.textDirectionAt(n.from);for(let o=e,l=null;;){let E=RU(n,s,a,o,t),h=ZS;if(!E){if(n.number==(t?r.state.doc.lines:1))return o;h=`
`,n=r.state.doc.line(n.number+(t?1:-1)),s=r.bidiSpans(n),E=r.visualLineSide(n,!t)}if(l){if(!l(h))return o}else{if(!i)return E;l=i(h)}o=E}}function vU(r,e,t){let i=r.state.charCategorizer(e),n=i(t);return s=>{let a=i(s);return n==it.Space&&(n=a),n==a}}function UU(r,e,t,i){let n=e.head,s=t?1:-1;if(n==(t?r.state.doc.length:0))return j.cursor(n,e.assoc);let a=e.goalColumn,o,l=r.contentDOM.getBoundingClientRect(),E=r.coordsAtPos(n,e.assoc||-1),h=r.documentTop;if(E)a==null&&(a=E.left-l.left),o=s<0?E.top:E.bottom;else{let T=r.viewState.lineBlockAt(n);a==null&&(a=Math.min(l.right-l.left,r.defaultCharacterWidth*(n-T.from))),o=(s<0?T.top:T.bottom)+h}let c=l.left+a,f=i??r.viewState.heightOracle.textHeight>>1;for(let T=0;;T+=10){let A=o+(f+T)*s,u=Ad(r,{x:c,y:A},!1,s);if(A<l.top||A>l.bottom||(s<0?u<n:u>n)){let R=r.docView.coordsForChar(u),d=!R||A<R.top?-1:1;return j.cursor(u,d,void 0,a)}}}function Ys(r,e,t){for(;;){let i=0;for(let n of r)n.between(e-1,e+1,(s,a,o)=>{if(e>s&&e<a){let l=i||t||(e-s<a-e?-1:1);e=l<0?s:a,i=l}});if(!i)return e}}function Sd(r,e){let t=null;for(let i=0;i<e.ranges.length;i++){let n=e.ranges[i],s=null;if(n.empty){let a=Ys(r,n.from,0);a!=n.from&&(s=j.cursor(a,-1))}else{let a=Ys(r,n.from,-1),o=Ys(r,n.to,1);(a!=n.from||o!=n.to)&&(s=j.range(n.from==n.anchor?a:o,n.from==n.head?a:o))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?j.create(t,e.mainIndex):e}function XE(r,e,t){let i=Ys(r.state.facet(Ca).map(n=>n(r)),t.from,e.head>t.from?-1:1);return i==t.from?t:j.cursor(i,i<t.from?1:-1)}const Ds="￿";class yU{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(be.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ds}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let n=e;;){this.findPointBefore(i,n);let s=this.text.length;this.readNode(n);let a=n.nextSibling;if(a==t)break;let o=qe.get(n),l=qe.get(a);(o&&l?o.breakAfter:(o?o.breakAfter:Zo(n))||Zo(a)&&(n.nodeName!="BR"||n.cmIgnore)&&this.text.length>s)&&!FU(a,t)&&this.lineBreak(),n=a}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,a=1,o;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),a=this.lineSeparator.length):(o=n.exec(t))&&(s=o.index,a=o[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),a>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=a-1);i=s+a}}readNode(e){if(e.cmIgnore)return;let t=qe.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let n=i.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(wU(e,i.node,i.offset)?t:0))}}function wU(r,e,t){for(;;){if(!e||t<ei(e))return!1;if(e==r)return!0;t=En(e)+1,e=e.parentNode}}function FU(r,e){let t;for(;!(r==e||!r);r=r.nextSibling){let i=qe.get(r);if(!(i?.isWidget||r.cmIgnore))return!1;i&&(t||(t=[])).push(i)}if(t)for(let i of t){let n=i.overrideDOMText;if(n?.length)return!1}return!0}class gu{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class BU{constructor(e,t,i,n){this.typeOver=n,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let o=s||a?[]:GU(e),l=new yU(o,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=HU(o,this.bounds.from)}else{let o=e.observer.selectionRange,l=s&&s.node==o.focusNode&&s.offset==o.focusOffset||!Wh(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),E=a&&a.node==o.anchorNode&&a.offset==o.anchorOffset||!Wh(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),h=e.viewport;if((fe.ios||fe.chrome)&&e.state.selection.main.empty&&l!=E&&(h.from>0||h.to<e.state.doc.length)){let c=Math.min(l,E),f=Math.max(l,E),T=h.from-c,A=h.to-f;(T==0||T==1||c==0)&&(A==0||A==-1||f==e.state.doc.length)&&(l=0,E=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(j.range(E,l)):this.newSel=j.single(E,l)}}}function dd(r,e){let t,{newSel:i}=e,n=r.state.selection.main,s=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:o}=e.bounds,l=n.from,E=null;(s===8||fe.android&&e.text.length<o-a)&&(l=n.to,E="end");let h=Od(r.state.doc.sliceString(a,o,Ds),e.text,l-a,E);h&&(fe.chrome&&s==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==Ds+Ds&&h.toB--,t={from:a+h.from,to:a+h.toA,insert:ke.of(e.text.slice(h.from,h.toB).split(Ds))})}else i&&(!r.hasFocus&&r.state.facet(oi)||i.main.eq(n))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!n.empty&&i&&i.main.empty?t={from:n.from,to:n.to,insert:r.state.doc.slice(n.from,n.to)}:(fe.mac||fe.android)&&t&&t.from==t.to&&t.from==n.head-1&&/^\. ?$/.test(t.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=j.single(i.main.anchor-1,i.main.head-1)),t={from:t.from,to:t.to,insert:ke.of([t.insert.toString().replace("."," ")])}):t&&t.from>=n.from&&t.to<=n.to&&(t.from!=n.from||t.to!=n.to)&&n.to-n.from-(t.to-t.from)<=4?t={from:n.from,to:n.to,insert:r.state.doc.slice(n.from,t.from).append(t.insert).append(r.state.doc.slice(t.to,n.to))}:r.state.doc.lineAt(n.from).to<n.to&&r.docView.lineHasWidget(n.to)&&r.inputState.insertingTextAt>Date.now()-50?t={from:n.from,to:n.to,insert:r.state.toText(r.inputState.insertingText)}:fe.chrome&&t&&t.from==t.to&&t.from==n.head&&t.insert.toString()==`
 `&&r.lineWrapping&&(i&&(i=j.single(i.main.anchor-1,i.main.head-1)),t={from:n.from,to:n.to,insert:ke.of([" "])}),t)return of(r,t,i,s);if(i&&!i.main.eq(n)){let a=!1,o="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(a=!0),o=r.inputState.lastSelectionOrigin,o=="select.pointer"&&(i=Sd(r.state.facet(Ca).map(l=>l(r)),i))),r.dispatch({selection:i,scrollIntoView:a,userEvent:o}),!0}else return!1}function of(r,e,t,i=-1){if(fe.ios&&r.inputState.flushIOSKey(e))return!0;let n=r.state.selection.main;if(fe.android&&(e.to==n.to&&(e.from==n.from||e.from==n.from-1&&r.state.sliceDoc(e.from,n.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Yn(r.contentDOM,"Enter",13)||(e.from==n.from-1&&e.to==n.to&&e.insert.length==0||i==8&&e.insert.length<e.to-e.from&&e.to>n.head)&&Yn(r.contentDOM,"Backspace",8)||e.from==n.from&&e.to==n.to+1&&e.insert.length==0&&Yn(r.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let a,o=()=>a||(a=bU(r,e,t));return r.state.facet(nd).some(l=>l(r,e.from,e.to,s,o))||r.dispatch(o()),!0}function bU(r,e,t){let i,n=r.state,s=n.selection.main,a=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let l=e.from<s.from?-1:1,E=l<0?s.from:s.to,h=Ys(n.facet(Ca).map(c=>c(r)),E,l);e.from==h&&(a=h)}if(a>-1)i={changes:e,selection:j.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&r.inputState.composing<0){let l=s.from<e.from?n.sliceDoc(s.from,e.from):"",E=s.to>e.to?n.sliceDoc(e.to,s.to):"";i=n.replaceSelection(r.state.toText(l+e.insert.sliceString(0,void 0,r.state.lineBreak)+E))}else{let l=n.changes(e),E=t&&t.main.to<=l.newLength?t.main:void 0;if(n.selection.ranges.length>1&&(r.inputState.composing>=0||r.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let h=r.state.sliceDoc(e.from,e.to),c,f=t&&ud(r,t.main.head);if(f){let A=e.insert.length-(e.to-e.from);c={from:f.from,to:f.to-A}}else c=r.state.doc.lineAt(s.head);let T=s.to-e.to;i=n.changeByRange(A=>{if(A.from==s.from&&A.to==s.to)return{changes:l,range:E||A.map(l)};let u=A.to-T,R=u-h.length;if(r.state.sliceDoc(R,u)!=h||u>=c.from&&R<=c.to)return{range:A};let d=n.changes({from:R,to:u,insert:e.insert}),O=A.to-s.to;return{changes:d,range:E?j.range(Math.max(0,E.anchor+O),Math.max(0,E.head+O)):A.map(d)}})}else i={changes:l,selection:E&&n.selection.replaceRange(E)}}let o="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,o+=".compose",r.inputState.compositionFirstChange&&(o+=".start",r.inputState.compositionFirstChange=!1)),n.update(i,{userEvent:o,scrollIntoView:!0})}function Od(r,e,t,i){let n=Math.min(r.length,e.length),s=0;for(;s<n&&r.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==n&&r.length==e.length)return null;let a=r.length,o=e.length;for(;a>0&&o>0&&r.charCodeAt(a-1)==e.charCodeAt(o-1);)a--,o--;if(i=="end"){let l=Math.max(0,s-Math.min(a,o));t-=a+l-s}if(a<s&&r.length<e.length){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}else if(o<s){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}return{from:s,toA:a,toB:o}}function GU(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:n,focusOffset:s}=r.observer.selectionRange;return t&&(e.push(new gu(t,i)),(n!=t||s!=i)&&e.push(new gu(n,s))),e}function HU(r,e){if(r.length==0)return null;let t=r[0].pos,i=r.length==2?r[1].pos:t;return t>-1&&i>-1?j.single(t+e,i+e):null}class kU{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,fe.safari&&e.contentDOM.addEventListener("input",()=>null),fe.gecko&&iy(e.contentDOM.ownerDocument)}handleEvent(e){!zU(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let i=this.handlers[e];if(i){for(let n of i.observers)n(this.view,t);for(let n of i.handlers){if(t.defaultPrevented)break;if(n(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=YU(e),i=this.handlers,n=this.view.contentDOM;for(let s in t)if(s!="scroll"){let a=!t[s].handlers.length,o=i[s];o&&a!=!o.handlers.length&&(n.removeEventListener(s,this.handleEvent),o=null),o||n.addEventListener(s,this.handleEvent,{passive:a})}for(let s in i)s!="scroll"&&!t[s]&&n.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&Nd.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),fe.android&&fe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return fe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=Id.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||VU.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Yn(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:fe.safari&&!fe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Lu(r,e){return(t,i)=>{try{return e.call(r,i,t)}catch(n){er(t.state,n)}}}function YU(r){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of r){let n=i.spec,s=n&&n.plugin.domEventHandlers,a=n&&n.plugin.domEventObservers;if(s)for(let o in s){let l=s[o];l&&t(o).handlers.push(Lu(i.value,l))}if(a)for(let o in a){let l=a[o];l&&t(o).observers.push(Lu(i.value,l))}}for(let i in br)t(i).handlers.push(br[i]);for(let i in Cr)t(i).observers.push(Cr[i]);return e}const Id=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],VU="dthko",Nd=[16,17,18,20,91,92,224,225],Qa=6;function ja(r){return Math.max(0,r)*.7+8}function WU(r,e){return Math.max(Math.abs(r.clientX-e.clientX),Math.abs(r.clientY-e.clientY))}class XU{constructor(e,t,i,n){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=Zv(e.contentDOM),this.atoms=e.state.facet(Ca).map(a=>a(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(be.allowMultipleSelections)&&KU(e,t),this.dragging=JU(e,t)&&Cd(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&WU(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,i=0,n=0,s=0,a=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:n,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:o}=this.scrollParents.y.getBoundingClientRect());let l=af(this.view);e.clientX-l.left<=n+Qa?t=-ja(n-e.clientX):e.clientX+l.right>=a-Qa&&(t=ja(e.clientX-a)),e.clientY-l.top<=s+Qa?i=-ja(s-e.clientY):e.clientY+l.bottom>=o-Qa&&(i=ja(e.clientY-o)),this.setScrollSpeed(t,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,i=Sd(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function KU(r,e){let t=r.state.facet(ed);return t.length?t[0](e):fe.mac?e.metaKey:e.ctrlKey}function $U(r,e){let t=r.state.facet(td);return t.length?t[0](e):fe.mac?!e.altKey:!e.ctrlKey}function JU(r,e){let{main:t}=r.state.selection;if(t.empty)return!1;let i=ea(r.root);if(!i||i.rangeCount==0)return!0;let n=i.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let a=n[s];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function zU(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=r.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=qe.get(t))&&i.ignoreEvent(e))return!1;return!0}const br=Object.create(null),Cr=Object.create(null),pd=fe.ie&&fe.ie_version<15||fe.ios&&fe.webkit_version<604;function qU(r){let e=r.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.remove(),md(r,t.value)},50)}function wl(r,e,t){for(let i of r.facet(e))t=i(t,r);return t}function md(r,e){e=wl(r.state,rf,e);let{state:t}=r,i,n=1,s=t.toText(e),a=s.lines==t.selection.ranges.length;if(ec!=null&&t.selection.ranges.every(l=>l.empty)&&ec==s.toString()){let l=-1;i=t.changeByRange(E=>{let h=t.doc.lineAt(E.from);if(h.from==l)return{range:E};l=h.from;let c=t.toText((a?s.line(n++).text:e)+t.lineBreak);return{changes:{from:h.from,insert:c},range:j.cursor(E.from+c.length)}})}else a?i=t.changeByRange(l=>{let E=s.line(n++);return{changes:{from:l.from,to:l.to,insert:E.text},range:j.cursor(l.from+E.length)}}):i=t.replaceSelection(s);r.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Cr.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};br.keydown=(r,e)=>(r.inputState.setSelectionOrigin("select"),e.keyCode==27&&r.inputState.tabFocusMode!=0&&(r.inputState.tabFocusMode=Date.now()+2e3),!1);Cr.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};Cr.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};br.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of r.state.facet(rd))if(t=i(r,e),t)break;if(!t&&e.button==0&&(t=ZU(r,e)),t){let i=!r.hasFocus;r.inputState.startMouseSelection(new XU(r,e,t,i)),i&&r.observer.ignore(()=>{BS(r.contentDOM);let s=r.root.activeElement;s&&!s.contains(r.contentDOM)&&s.blur()});let n=r.inputState.mouseSelection;if(n)return n.start(e),n.dragging===!1}else r.inputState.setSelectionOrigin("select.pointer");return!1};function Du(r,e,t,i){if(i==1)return j.cursor(e,t);if(i==2)return gU(r.state,e,t);{let n=ct.find(r.docView,e),s=r.state.doc.lineAt(n?n.posAtEnd:e),a=n?n.posAtStart:s.from,o=n?n.posAtEnd:s.to;return o<r.state.doc.length&&o==s.to&&o++,j.range(a,o)}}let xu=(r,e,t)=>e>=t.top&&e<=t.bottom&&r>=t.left&&r<=t.right;function QU(r,e,t,i){let n=ct.find(r.docView,e);if(!n)return 1;let s=e-n.posAtStart;if(s==0)return 1;if(s==n.length)return-1;let a=n.coordsAt(s,-1);if(a&&xu(t,i,a))return-1;let o=n.coordsAt(s,1);return o&&xu(t,i,o)?1:a&&a.bottom>=i?-1:1}function Pu(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:QU(r,t,e.clientX,e.clientY)}}const jU=fe.ie&&fe.ie_version<=11;let Mu=null,vu=0,Uu=0;function Cd(r){if(!jU)return r.detail;let e=Mu,t=Uu;return Mu=r,Uu=Date.now(),vu=!e||t>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(vu+1)%3:1}function ZU(r,e){let t=Pu(r,e),i=Cd(e),n=r.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),n=n.map(s.changes))},get(s,a,o){let l=Pu(r,s),E,h=Du(r,l.pos,l.bias,i);if(t.pos!=l.pos&&!a){let c=Du(r,t.pos,t.bias,i),f=Math.min(c.from,h.from),T=Math.max(c.to,h.to);h=f<h.from?j.range(f,T):j.range(T,f)}return a?n.replaceRange(n.main.extend(h.from,h.to)):o&&i==1&&n.ranges.length>1&&(E=ey(n,l.pos))?E:o?n.addRange(h):j.create([h])}}}function ey(r,e){for(let t=0;t<r.ranges.length;t++){let{from:i,to:n}=r.ranges[t];if(i<=e&&n>=e)return j.create(r.ranges.slice(0,t).concat(r.ranges.slice(t+1)),r.mainIndex==t?0:r.mainIndex-(r.mainIndex>t?1:0))}return null}br.dragstart=(r,e)=>{let{selection:{main:t}}=r.state;if(e.target.draggable){let n=r.docView.nearest(e.target);if(n&&n.isWidget){let s=n.posAtStart,a=s+n.length;(s>=t.to||a<=t.from)&&(t=j.range(s,a))}}let{inputState:i}=r;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",wl(r.state,nf,r.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};br.dragend=r=>(r.inputState.draggedContent=null,!1);function yu(r,e,t,i){if(t=wl(r.state,rf,t),!t)return;let n=r.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=r.inputState,a=i&&s&&$U(r,e)?{from:s.from,to:s.to}:null,o={from:n,insert:t},l=r.state.changes(a?[a,o]:o);r.focus(),r.dispatch({changes:l,selection:{anchor:l.mapPos(n,-1),head:l.mapPos(n,1)},userEvent:a?"move.drop":"input.drop"}),r.inputState.draggedContent=null}br.drop=(r,e)=>{if(!e.dataTransfer)return!1;if(r.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),n=0,s=()=>{++n==t.length&&yu(r,e,i.filter(a=>a!=null).join(r.state.lineBreak),!1)};for(let a=0;a<t.length;a++){let o=new FileReader;o.onerror=s,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(i[a]=o.result),s()},o.readAsText(t[a])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return yu(r,e,i,!0),!0}return!1};br.paste=(r,e)=>{if(r.state.readOnly)return!0;r.observer.flush();let t=pd?null:e.clipboardData;return t?(md(r,t.getData("text/plain")||t.getData("text/uri-list")),!0):(qU(r),!1)};function ty(r,e){let t=r.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),r.focus()},50)}function ry(r){let e=[],t=[],i=!1;for(let n of r.selection.ranges)n.empty||(e.push(r.sliceDoc(n.from,n.to)),t.push(n));if(!e.length){let n=-1;for(let{from:s}of r.selection.ranges){let a=r.doc.lineAt(s);a.number>n&&(e.push(a.text),t.push({from:a.from,to:Math.min(r.doc.length,a.to+1)})),n=a.number}i=!0}return{text:wl(r,nf,e.join(r.lineBreak)),ranges:t,linewise:i}}let ec=null;br.copy=br.cut=(r,e)=>{let{text:t,ranges:i,linewise:n}=ry(r.state);if(!t&&!n)return!1;ec=n?t:null,e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=pd?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(ty(r,t),!1)};const _d=ti.define();function gd(r,e){let t=[];for(let i of r.facet(sd)){let n=i(r,e);n&&t.push(n)}return t.length?r.update({effects:t,annotations:_d.of(!0)}):null}function Ld(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let t=gd(r.state,e);t?r.dispatch(t):r.update([])}},10)}Cr.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),Ld(r)};Cr.blur=r=>{r.observer.clearSelectionRange(),Ld(r)};Cr.compositionstart=Cr.compositionupdate=r=>{r.observer.editContext||(r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0))};Cr.compositionend=r=>{r.observer.editContext||(r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,fe.chrome&&fe.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50))};Cr.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};br.beforeinput=(r,e)=>{var t,i;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(r.inputState.insertingText=e.data,r.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&r.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),a=e.getTargetRanges();if(s&&a.length){let o=a[0],l=r.posAtDOM(o.startContainer,o.startOffset),E=r.posAtDOM(o.endContainer,o.endOffset);return of(r,{from:l,to:E,insert:r.state.toText(s)},null),!0}}let n;if(fe.chrome&&fe.android&&(n=Id.find(s=>s.inputType==e.inputType))&&(r.observer.delayAndroidKey(n.key,n.keyCode),n.key=="Backspace"||n.key=="Delete")){let s=((i=window.visualViewport)===null||i===void 0?void 0:i.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>s+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return fe.ios&&e.inputType=="deleteContentForward"&&r.observer.flushSoon(),fe.safari&&e.inputType=="insertText"&&r.inputState.composing>=0&&setTimeout(()=>Cr.compositionend(r,e),20),!1};const wu=new Set;function iy(r){wu.has(r)||(wu.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}const Fu=["pre-wrap","normal","pre-line","break-spaces"];let Zn=!1;function Bu(){Zn=!1}class ny{constructor(e){this.lineWrapping=e,this.doc=ke.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Fu.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let n=e[i];n<0?i++:this.heightSamples[Math.floor(n*10)]||(t=!0,this.heightSamples[Math.floor(n*10)]=!0)}return t}refresh(e,t,i,n,s,a){let o=Fu.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=i,this.textHeight=n,this.lineLength=s,l){this.heightSamples={};for(let E=0;E<a.length;E++){let h=a[E];h<0?E++:this.heightSamples[Math.floor(h*10)]=!0}}return l}}class sy{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class zr{constructor(e,t,i,n,s){this.from=e,this.length=t,this.top=i,this.height=n,this._content=s}get type(){return typeof this._content=="number"?qt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Fi?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new zr(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var et=(function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r})(et||(et={}));const Lo=.001;class Qt{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Lo&&(Zn=!0),this.height=e)}replace(e,t,i){return Qt.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,n){let s=this,a=i.doc;for(let o=n.length-1;o>=0;o--){let{fromA:l,toA:E,fromB:h,toB:c}=n[o],f=s.lineAt(l,et.ByPosNoHeight,i.setDoc(t),0,0),T=f.to>=E?f:s.lineAt(E,et.ByPosNoHeight,i,0,0);for(c+=T.to-E,E=T.to;o>0&&f.from<=n[o-1].toA;)l=n[o-1].fromA,h=n[o-1].fromB,o--,l<f.from&&(f=s.lineAt(l,et.ByPosNoHeight,i,0,0));h+=f.from-l,l=f.from;let A=lf.build(i.setDoc(a),e,h,c);s=rl(s,s.replace(l,E,A))}return s.updateHeight(i,0)}static empty(){return new Er(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,n=0,s=0;for(;;)if(t==i)if(n>s*2){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),i+=1+o.break,n-=o.size}else if(s>n*2){let o=e[i];o.break?e.splice(i,1,o.left,null,o.right):e.splice(i,1,o.left,o.right),i+=2+o.break,s-=o.size}else break;else if(n<s){let o=e[t++];o&&(n+=o.size)}else{let o=e[--i];o&&(s+=o.size)}let a=0;return e[t-1]==null?(a=1,t--):e[t]==null&&(a=1,i++),new ay(Qt.of(e.slice(0,t)),a,Qt.of(e.slice(i)))}}function rl(r,e){return r==e?r:(r.constructor!=e.constructor&&(Zn=!0),e)}Qt.prototype.size=1;class Dd extends Qt{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,n){return new zr(n,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,n,s){return this.blockAt(0,i,n,s)}forEachLine(e,t,i,n,s,a){e<=s+this.length&&t>=s&&a(this.blockAt(0,i,n,s))}updateHeight(e,t=0,i=!1,n){return n&&n.from<=t&&n.more&&this.setHeight(n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Er extends Dd{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,n){return new zr(n,this.length,i,this.height,this.breaks)}replace(e,t,i){let n=i[0];return i.length==1&&(n instanceof Er||n instanceof Pt&&n.flags&4)&&Math.abs(this.length-n.length)<10?(n instanceof Pt?n=new Er(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):Qt.of(i)}updateHeight(e,t=0,i=!1,n){return n&&n.from<=t&&n.more?this.setHeight(n.heights[n.index++]):(i||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Pt extends Qt{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,n=e.doc.lineAt(t+this.length).number,s=n-i+1,a,o=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);a=l/s,this.length>s+1&&(o=(this.height-l)/(this.length-s-1))}else a=this.height/s;return{firstLine:i,lastLine:n,perLine:a,perChar:o}}blockAt(e,t,i,n){let{firstLine:s,lastLine:a,perLine:o,perChar:l}=this.heightMetrics(t,n);if(t.lineWrapping){let E=n+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length)),h=t.doc.lineAt(E),c=o+h.length*l,f=Math.max(i,e-c/2);return new zr(h.from,h.length,f,c,0)}else{let E=Math.max(0,Math.min(a-s,Math.floor((e-i)/o))),{from:h,length:c}=t.doc.line(s+E);return new zr(h,c,i+o*E,o,0)}}lineAt(e,t,i,n,s){if(t==et.ByHeight)return this.blockAt(e,i,n,s);if(t==et.ByPosNoHeight){let{from:T,to:A}=i.doc.lineAt(e);return new zr(T,A-T,0,0,0)}let{firstLine:a,perLine:o,perChar:l}=this.heightMetrics(i,s),E=i.doc.lineAt(e),h=o+E.length*l,c=E.number-a,f=n+o*c+l*(E.from-s-c);return new zr(E.from,E.length,Math.max(n,Math.min(f,n+this.height-h)),h,0)}forEachLine(e,t,i,n,s,a){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:o,perLine:l,perChar:E}=this.heightMetrics(i,s);for(let h=e,c=n;h<=t;){let f=i.doc.lineAt(h);if(h==e){let A=f.number-o;c+=l*A+E*(e-s-A)}let T=l+E*f.length;a(new zr(f.from,f.length,c,T,0)),c+=T,h=f.to+1}}replace(e,t,i){let n=this.length-t;if(n>0){let s=i[i.length-1];s instanceof Pt?i[i.length-1]=new Pt(s.length+n):i.push(null,new Pt(n-1))}if(e>0){let s=i[0];s instanceof Pt?i[0]=new Pt(e+s.length):i.unshift(new Pt(e-1),null)}return Qt.of(i)}decomposeLeft(e,t){t.push(new Pt(e-1),null)}decomposeRight(e,t){t.push(null,new Pt(this.length-e-1))}updateHeight(e,t=0,i=!1,n){let s=t+this.length;if(n&&n.from<=t+this.length&&n.more){let a=[],o=Math.max(t,n.from),l=-1;for(n.from>t&&a.push(new Pt(n.from-t-1).updateHeight(e,t));o<=s&&n.more;){let h=e.doc.lineAt(o).length;a.length&&a.push(null);let c=n.heights[n.index++];l==-1?l=c:Math.abs(c-l)>=Lo&&(l=-2);let f=new Er(h,c);f.outdated=!1,a.push(f),o+=h+1}o<=s&&a.push(null,new Pt(s-o).updateHeight(e,o));let E=Qt.of(a);return(l<0||Math.abs(E.height-this.height)>=Lo||Math.abs(l-this.heightMetrics(e,t).perLine)>=Lo)&&(Zn=!0),rl(this,E)}else(i||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class ay extends Qt{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,n){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,n):this.right.blockAt(e,t,s,n+this.left.length+this.break)}lineAt(e,t,i,n,s){let a=n+this.left.height,o=s+this.left.length+this.break,l=t==et.ByHeight?e<a:e<o,E=l?this.left.lineAt(e,t,i,n,s):this.right.lineAt(e,t,i,a,o);if(this.break||(l?E.to<o:E.from>o))return E;let h=t==et.ByPosNoHeight?et.ByPosNoHeight:et.ByPos;return l?E.join(this.right.lineAt(o,h,i,a,o)):this.left.lineAt(o,h,i,n,s).join(E)}forEachLine(e,t,i,n,s,a){let o=n+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,n,s,a),t>=l&&this.right.forEachLine(e,t,i,o,l,a);else{let E=this.lineAt(l,et.ByPos,i,n,s);e<E.from&&this.left.forEachLine(e,E.from-1,i,n,s,a),E.to>=e&&E.from<=t&&a(E),t>E.to&&this.right.forEachLine(E.to+1,t,i,o,l,a)}}replace(e,t,i){let n=this.left.length+this.break;if(t<n)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-n,t-n,i));let s=[];e>0&&this.decomposeLeft(e,s);let a=s.length;for(let o of i)s.push(o);if(e>0&&bu(s,a-1),t<this.length){let o=s.length;this.decomposeRight(t,s),bu(s,o)}return Qt.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,n=i+this.break;if(e>=n)return this.right.decomposeRight(e-n,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<n&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Qt.of(this.break?[e,null,t]:[e,t]):(this.left=rl(this.left,e),this.right=rl(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,n){let{left:s,right:a}=this,o=t+s.length+this.break,l=null;return n&&n.from<=t+s.length&&n.more?l=s=s.updateHeight(e,t,i,n):s.updateHeight(e,t,i),n&&n.from<=o+a.length&&n.more?l=a=a.updateHeight(e,o,i,n):a.updateHeight(e,o,i),l?this.balanced(s,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function bu(r,e){let t,i;r[e]==null&&(t=r[e-1])instanceof Pt&&(i=r[e+1])instanceof Pt&&r.splice(e-1,3,new Pt(t.length+1+i.length))}const oy=5;class lf{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Er?n.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Er(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;n<0&&(n=this.oracle.lineHeight);let a=t-e;i.block?this.addBlock(new Dd(a,n,i)):(a||s||n>=oy)&&this.addLineDeco(n,s,a)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Er(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new Pt(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Er)return e;let t=new Er(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let n=this.ensureLine();n.length+=i,n.collapsed+=i,n.widgetHeight=Math.max(n.widgetHeight,e),n.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Er)&&!this.isCovered?this.nodes.push(new Er(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let n of this.nodes)n instanceof Er&&n.updateHeight(this.oracle,i),i+=n?n.length:1;return this.nodes}static build(e,t,i,n){let s=new lf(i,e);return He.spans(t,i,n,s,0),s.finish(i)}}function ly(r,e,t){let i=new Ey;return He.compare(r,e,t,i,0),i.changes}class Ey{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,n){(e<t||i&&i.heightRelevant||n&&n.heightRelevant)&&go(e,t,this.changes,5)}}function hy(r,e){let t=r.getBoundingClientRect(),i=r.ownerDocument,n=i.defaultView||window,s=Math.max(0,t.left),a=Math.min(n.innerWidth,t.right),o=Math.max(0,t.top),l=Math.min(n.innerHeight,t.bottom);for(let E=r.parentNode;E&&E!=i.body;)if(E.nodeType==1){let h=E,c=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&c.overflow!="visible"){let f=h.getBoundingClientRect();s=Math.max(s,f.left),a=Math.min(a,f.right),o=Math.max(o,f.top),l=Math.min(E==r.parentNode?n.innerHeight:l,f.bottom)}E=c.position=="absolute"||c.position=="fixed"?h.offsetParent:h.parentNode}else if(E.nodeType==11)E=E.host;else break;return{left:s-t.left,right:Math.max(s,a)-t.left,top:o-(t.top+e),bottom:Math.max(o,l)-(t.top+e)}}function cy(r){let e=r.getBoundingClientRect(),t=r.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function fy(r,e){let t=r.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class KE{constructor(e,t,i,n){this.from=e,this.to=t,this.size=i,this.displaySize=n}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let n=e[i],s=t[i];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(e,t){return Ce.replace({widget:new Ty(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class Ty extends Oi{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Gu{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Hu,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=tt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(sf).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new ny(t),this.stateDeco=e.facet(ta).filter(i=>typeof i!="function"),this.heightMap=Qt.empty().applyChanges(this.stateDeco,ke.empty,this.heightOracle.setDoc(e.doc),[new Nr(0,0,0,e.doc.length)]);for(let i=0;i<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());i++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ce.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let n=i?t.head:t.anchor;if(!e.some(({from:s,to:a})=>n>=s&&n<=a)){let{from:s,to:a}=this.lineBlockAt(n);e.push(new Za(s,a))}}return this.viewports=e.sort((i,n)=>i.from-n.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Hu:new Ef(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(xs(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(ta).filter(h=>typeof h!="function");let n=e.changedRanges,s=Nr.extendWithRanges(n,ly(i,this.stateDeco,e?e.changes:St.empty(this.state.doc.length))),a=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Bu(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=a||Zn)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let E=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(E||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(od)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),n=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?tt.RTL:tt.LTR;let a=this.heightOracle.mustRefreshForWrapping(s),o=t.getBoundingClientRect(),l=a||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let E=0,h=0;if(o.width&&o.height){let{scaleX:L,scaleY:D}=FS(t,o);(L>.005&&Math.abs(this.scaleX-L)>.005||D>.005&&Math.abs(this.scaleY-D)>.005)&&(this.scaleX=L,this.scaleY=D,E|=16,a=l=!0)}let c=(parseInt(i.paddingTop)||0)*this.scaleY,f=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=c||this.paddingBottom!=f)&&(this.paddingTop=c,this.paddingBottom=f,E|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(n.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,E|=16);let T=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=T&&(this.scrollAnchorHeight=-1,this.scrollTop=T),this.scrolledToBottom=GS(e.scrollDOM);let A=(this.printing?fy:hy)(t,this.paddingTop),u=A.top-this.pixelViewport.top,R=A.bottom-this.pixelViewport.bottom;this.pixelViewport=A;let d=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(d!=this.inView&&(this.inView=d,d&&(l=!0)),!this.inView&&!this.scrollTarget&&!cy(e.dom))return 0;let O=o.width;if((this.contentDOMWidth!=O||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,E|=16),l){let L=e.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(L)&&(a=!0),a||n.lineWrapping&&Math.abs(O-this.contentDOMWidth)>n.charWidth){let{lineHeight:D,charWidth:U,textHeight:_}=e.docView.measureTextSize();a=D>0&&n.refresh(s,D,U,_,Math.max(5,O/U),L),a&&(e.docView.minWidth=0,E|=16)}u>0&&R>0?h=Math.max(u,R):u<0&&R<0&&(h=Math.min(u,R)),Bu();for(let D of this.viewports){let U=D.from==this.viewport.from?L:e.docView.measureVisibleLineHeights(D);this.heightMap=(a?Qt.empty().applyChanges(this.stateDeco,ke.empty,this.heightOracle,[new Nr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(n,0,a,new sy(D.from,U))}Zn&&(E|=2)}let I=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return I&&(E&2&&(E|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),E|=this.updateForViewport()),(E&2||I)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),E|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),E}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),n=this.heightMap,s=this.heightOracle,{visibleTop:a,visibleBottom:o}=this,l=new Za(n.lineAt(a-i*1e3,et.ByHeight,s,0,0).from,n.lineAt(o+(1-i)*1e3,et.ByHeight,s,0,0).to);if(t){let{head:E}=t.range;if(E<l.from||E>l.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),c=n.lineAt(E,et.ByPos,s,0,0),f;t.y=="center"?f=(c.top+c.bottom)/2-h/2:t.y=="start"||t.y=="nearest"&&E<l.from?f=c.top:f=c.bottom-h,l=new Za(n.lineAt(f-1e3/2,et.ByHeight,s,0,0).from,n.lineAt(f+h+1e3/2,et.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),n=t.mapPos(e.to,1);return new Za(this.heightMap.lineAt(i,et.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,et.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(e,et.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,et.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:o}=this;return(e==0||n<=a-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=o+Math.max(10,Math.min(i,250)))&&n>a-2*1e3&&s<o+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let n of e)t.touchesRange(n.from,n.to)||i.push(new KE(t.mapPos(n.from),t.mapPos(n.to),n.size,n.displaySize));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,n=i?1e4:2e3,s=n>>1,a=n<<1;if(this.defaultTextDirection!=tt.LTR&&!i)return[];let o=[],l=(h,c,f,T)=>{if(c-h<s)return;let A=this.state.selection.main,u=[A.from];A.empty||u.push(A.to);for(let d of u)if(d>h&&d<c){l(h,d-10,f,T),l(d+10,c,f,T);return}let R=Ay(e,d=>d.from>=f.from&&d.to<=f.to&&Math.abs(d.from-h)<s&&Math.abs(d.to-c)<s&&!u.some(O=>d.from<O&&d.to>O));if(!R){if(c<f.to&&t&&i&&t.visibleRanges.some(I=>I.from<=c&&I.to>=c)){let I=t.moveToLineBoundary(j.cursor(c),!1,!0).head;I>h&&(c=I)}let d=this.gapSize(f,h,c,T),O=i||d<2e6?d:2e6;R=new KE(h,c,d,O)}o.push(R)},E=h=>{if(h.length<a||h.type!=qt.Text)return;let c=uy(h.from,h.to,this.stateDeco);if(c.total<a)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,T,A;if(i){let u=n/this.heightOracle.lineLength*this.heightOracle.lineHeight,R,d;if(f!=null){let O=to(c,f),I=((this.visibleBottom-this.visibleTop)/2+u)/h.height;R=O-I,d=O+I}else R=(this.visibleTop-h.top-u)/h.height,d=(this.visibleBottom-h.top+u)/h.height;T=eo(c,R),A=eo(c,d)}else{let u=c.total*this.heightOracle.charWidth,R=n*this.heightOracle.charWidth,d=0;if(u>2e6)for(let U of e)U.from>=h.from&&U.from<h.to&&U.size!=U.displaySize&&U.from*this.heightOracle.charWidth+d<this.pixelViewport.left&&(d=U.size-U.displaySize);let O=this.pixelViewport.left+d,I=this.pixelViewport.right+d,L,D;if(f!=null){let U=to(c,f),_=((I-O)/2+R)/u;L=U-_,D=U+_}else L=(O-R)/u,D=(I+R)/u;T=eo(c,L),A=eo(c,D)}T>h.from&&l(h.from,T,h,c),A<h.to&&l(A,h.to,h,c)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(E):E(h);return o}gapSize(e,t,i,n){let s=to(n,i)-to(n,t);return this.heightOracle.lineWrapping?e.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(e){KE.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ce.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let i=[];He.spans(t,this.viewport.from,this.viewport.to,{span(s,a){i.push({from:s,to:a})},point(){}},20);let n=0;if(i.length!=this.visibleRanges.length)n=12;else for(let s=0;s<i.length&&!(n&8);s++){let a=this.visibleRanges[s],o=i[s];(a.from!=o.from||a.to!=o.to)&&(n|=4,e&&e.mapPos(a.from,-1)==o.from&&e.mapPos(a.to,1)==o.to||(n|=8))}return this.visibleRanges=i,n}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||xs(this.heightMap.lineAt(e,et.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||xs(this.heightMap.lineAt(this.scaler.fromDOM(e),et.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return xs(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Za{constructor(e,t){this.from=e,this.to=t}}function uy(r,e,t){let i=[],n=r,s=0;return He.spans(t,r,e,{span(){},point(a,o){a>n&&(i.push({from:n,to:a}),s+=a-n),n=o}},20),n<e&&(i.push({from:n,to:e}),s+=e-n),{total:s,ranges:i}}function eo({total:r,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(r*t);for(let n=0;;n++){let{from:s,to:a}=e[n],o=a-s;if(i<=o)return s+i;i-=o}}function to(r,e){let t=0;for(let{from:i,to:n}of r.ranges){if(e<=n){t+=e-i;break}t+=n-i}return t/r.total}function Ay(r,e){for(let t of r)if(e(t))return t}const Hu={toDOM(r){return r},fromDOM(r){return r},scale:1,eq(r){return r==this}};class Ef{constructor(e,t,i){let n=0,s=0,a=0;this.viewports=i.map(({from:o,to:l})=>{let E=t.lineAt(o,et.ByPos,e,0,0).top,h=t.lineAt(l,et.ByPos,e,0,0).bottom;return n+=h-E,{from:o,to:l,top:E,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(t.height-n);for(let o of this.viewports)o.domTop=a+(o.top-s)*this.scale,a=o.domBottom=o.domTop+(o.bottom-o.top),s=o.bottom}toDOM(e){for(let t=0,i=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return n+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,n=s.domBottom}}fromDOM(e){for(let t=0,i=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-n)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,n=s.domBottom}}eq(e){return e instanceof Ef?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,i)=>t.from==e.viewports[i].from&&t.to==e.viewports[i].to):!1}}function xs(r,e){if(e.scale==1)return r;let t=e.toDOM(r.top),i=e.toDOM(r.bottom);return new zr(r.from,r.length,t,i-t,Array.isArray(r._content)?r._content.map(n=>xs(n,e)):r._content)}const ro=Ae.define({combine:r=>r.join(" ")}),tc=Ae.define({combine:r=>r.indexOf(!0)>-1}),rc=wi.newName(),xd=wi.newName(),Pd=wi.newName(),Md={"&light":"."+xd,"&dark":"."+Pd};function ic(r,e,t){return new wi(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,n=>{if(n=="&")return r;if(!t||!t[n])throw new RangeError(`Unsupported selector: ${n}`);return t[n]}):r+" "+i}})}const Ry=ic("."+rc,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Md),Sy={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},$E=fe.ie&&fe.ie_version<=11;class dy{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new eU,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(fe.ie&&fe.ie_version<=11||fe.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&fe.android&&e.constructor.EDIT_CONTEXT!==!1&&!(fe.chrome&&fe.chrome_version<126)&&(this.editContext=new Iy(e),e.state.facet(oi)&&(e.contentDOM.editContext=this.editContext.editContext)),$E&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,n=this.selectionRange;if(i.state.facet(oi)?i.root.activeElement!=this.dom:!_o(this.dom,n))return;let s=n.anchorNode&&i.docView.nearest(n.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(fe.ie&&fe.ie_version<=11||fe.android&&fe.chrome)&&!i.state.selection.main.empty&&n.focusNode&&Hs(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=ea(e.root);if(!t)return!1;let i=fe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Oy(this.view,t)||t;if(!i||this.selectionRange.eq(i))return!1;let n=_o(this.dom,i);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&rU(this.dom,i)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(i),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Sy),$E&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),$E&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let n=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Yn(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(n)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,n=!1;for(let s of e){let a=this.readMutation(s);a&&(a.typeOver&&(n=!0),t==-1?{from:t,to:i}=a:(t=Math.min(a.from,t),i=Math.max(a.to,i)))}return{from:t,to:i,typeOver:n}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),n=this.selectionChanged&&_o(this.dom,this.selectionRange);if(e<0&&!n)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new BU(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,n=dd(this.view,t);return this.view.state==i&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),n}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=ku(t,e.previousSibling||e.target.previousSibling,-1),n=ku(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:n?t.posBefore(n):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(oi)!=e.state.facet(oi)&&(e.view.contentDOM.editContext=e.state.facet(oi)?this.editContext.editContext:null))}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function ku(r,e,t){for(;e;){let i=qe.get(e);if(i&&i.parent==r)return i;let n=e.parentNode;e=n!=r.dom?n:t>0?e.nextSibling:e.previousSibling}return null}function Yu(r,e){let t=e.startContainer,i=e.startOffset,n=e.endContainer,s=e.endOffset,a=r.docView.domAtPos(r.state.selection.main.anchor);return Hs(a.node,a.offset,n,s)&&([t,i,n,s]=[n,s,t,i]),{anchorNode:t,anchorOffset:i,focusNode:n,focusOffset:s}}function Oy(r,e){if(e.getComposedRanges){let n=e.getComposedRanges(r.root)[0];if(n)return Yu(r,n)}let t=null;function i(n){n.preventDefault(),n.stopImmediatePropagation(),t=n.getTargetRanges()[0]}return r.contentDOM.addEventListener("beforeinput",i,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",i,!0),t?Yu(r,t):null}class Iy{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=i=>{let n=e.state.selection.main,{anchor:s,head:a}=n,o=this.toEditorPos(i.updateRangeStart),l=this.toEditorPos(i.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i.updateRangeStart,editorBase:o,drifted:!1});let E=l-o>i.text.length;o==this.from&&s<this.from?o=s:l==this.to&&s>this.to&&(l=s);let h=Od(e.state.sliceDoc(o,l),i.text,(E?n.from:n.to)-o,E?"end":null);if(!h){let f=j.single(this.toEditorPos(i.selectionStart),this.toEditorPos(i.selectionEnd));f.main.eq(n)||e.dispatch({selection:f,userEvent:"select"});return}let c={from:h.from+o,to:h.toA+o,insert:ke.of(i.text.slice(h.from,h.toB).split(`
`))};if((fe.mac||fe.android)&&c.from==a-1&&/^\. ?$/.test(i.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:o,to:l,insert:ke.of([i.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let f=this.to-this.from+(c.to-c.from+c.insert.length);of(e,c,j.single(this.toEditorPos(i.selectionStart,f),this.toEditorPos(i.selectionEnd,f)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),c.from<c.to&&!c.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,i.updateRangeStart-1),Math.min(t.text.length,i.updateRangeStart+1)))&&this.handlers.compositionend(i)},this.handlers.characterboundsupdate=i=>{let n=[],s=null;for(let a=this.toEditorPos(i.rangeStart),o=this.toEditorPos(i.rangeEnd);a<o;a++){let l=e.coordsForChar(a);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,n.push(s)}t.updateCharacterBounds(i.rangeStart,n)},this.handlers.textformatupdate=i=>{let n=[];for(let s of i.getTextFormats()){let a=s.underlineStyle,o=s.underlineThickness;if(!/none/i.test(a)&&!/none/i.test(o)){let l=this.toEditorPos(s.rangeStart),E=this.toEditorPos(s.rangeEnd);if(l<E){let h=`text-decoration: underline ${/^[a-z]/.test(a)?a+" ":a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${/thin/i.test(o)?1:2}px`;n.push(Ce.mark({attributes:{style:h}}).range(l,E))}}}e.dispatch({effects:Ed.of(Ce.set(n))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:i}=this.composing;this.composing=null,i&&this.reset(e.state)}};for(let i in this.handlers)t.addEventListener(i,this.handlers[i]);this.measureReq={read:i=>{this.editContext.updateControlBounds(i.contentDOM.getBoundingClientRect());let n=ea(i.root);n&&n.rangeCount&&this.editContext.updateSelectionBounds(n.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,i=!1,n=this.pendingContextChange;return e.changes.iterChanges((s,a,o,l,E)=>{if(i)return;let h=E.length-(a-s);if(n&&a>=n.to)if(n.from==s&&n.to==a&&n.insert.eq(E)){n=this.pendingContextChange=null,t+=h,this.to+=h;return}else n=null,this.revertPending(e.state);if(s+=t,a+=t,a<=this.from)this.from+=h,this.to+=h;else if(s<this.to){if(s<this.from||a>this.to||this.to-this.from+E.length>3e4){i=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(a),E.toString()),this.to+=h}t+=h}),n&&!i&&this.revertPending(e.state),!i}update(e){let t=this.pendingContextChange,i=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(i.from,i.to)&&e.transactions.some(n=>!n.isUserEvent("input.type")&&n.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,i=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),n=this.toContextPos(t.head);(this.editContext.selectionStart!=i||this.editContext.selectionEnd!=n)&&this.editContext.updateSelection(i,n)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let i=this.composing;return i&&i.drifted?i.editorBase+(e-i.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Te{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(n=>n.forEach(s=>i(s,this)))||(n=>this.update(n)),this.dispatch=this.dispatch.bind(this),this._root=e.root||tU(e.parent)||document,this.viewState=new Gu(e.state||be.create(e)),e.scrollTo&&e.scrollTo.is(qa)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Un).map(n=>new VE(n));for(let n of this.plugins)n.update(this);this.observer=new dy(this),this.inputState=new kU(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Iu(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof dt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,n,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let a=this.hasFocus,o=0,l=null;e.some(f=>f.annotation(_d))?(this.inputState.notifiedFocused=a,o=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,l=gd(s,a),l||(o=1));let E=this.observer.delayedAndroidKey,h=null;if(E?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(be.phrases)!=this.state.facet(be.phrases))return this.setState(s);n=tl.create(this,s,e),n.flags|=o;let c=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(c&&(c=c.map(f.changes)),f.scrollIntoView){let{main:T}=f.state.selection;c=new Vn(T.empty?T:j.cursor(T.head,T.head>T.anchor?-1:1))}for(let T of f.effects)T.is(qa)&&(c=T.value.clip(this.state))}this.viewState.update(n,c),this.bidiCache=il.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),t=this.docView.update(n),this.state.facet(Ls)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(ro)!=n.state.facet(ro)&&(this.viewState.mustMeasureContent=!0),(t||i||c||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!n.empty)for(let f of this.state.facet(Qh))try{f(n)}catch(T){er(this.state,T,"update listener")}(l||h)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!dd(this,h)&&E.force&&Yn(this.contentDOM,E.key,E.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Gu(e),this.plugins=e.facet(Un).map(i=>new VE(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new Iu(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Un),i=e.state.facet(Un);if(t!=i){let n=[];for(let s of i){let a=t.indexOf(s);if(a<0)n.push(new VE(s));else{let o=this.plugins[a];o.mustUpdate=e,n.push(o)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=n,this.pluginMap.clear()}else for(let n of this.plugins)n.mustUpdate=e;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(i){er(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,n=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:a}=this.viewState;Math.abs(n-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(a<0)if(GS(i))s=-1,a=this.viewState.heightMap.height;else{let T=this.viewState.scrollAnchorAt(n);s=T.from,a=T.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let E=[];l&4||([this.measureRequests,E]=[E,this.measureRequests]);let h=E.map(T=>{try{return T.read(this)}catch(A){return er(this.state,A),Vu}}),c=tl.create(this,this.state,[]),f=!1;c.flags|=l,t?t.flags|=l:t=c,this.updateState=2,c.empty||(this.updatePlugins(c),this.inputState.update(c),this.updateAttrs(),f=this.docView.update(c),f&&this.docViewUpdate());for(let T=0;T<E.length;T++)if(h[T]!=Vu)try{let A=E[T];A.write&&A.write(h[T],this)}catch(A){er(this.state,A)}if(f&&this.docView.updateSelection(!0),!c.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let A=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-a;if(A>1||A<-1){n=n+A,i.scrollTop=n/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let o of this.state.facet(Qh))o(t)}get themeClasses(){return rc+" "+(this.state.facet(tc)?Pd:xd)+" "+this.state.facet(ro)}updateAttrs(){let e=Wu(this,hd,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(oi)?"true":"false",class:"cm-content",style:`${fe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),Wu(this,sf,t);let i=this.observer.ignore(()=>{let n=Kh(this.contentDOM,this.contentAttrs,t),s=Kh(this.dom,this.editorAttrs,e);return n||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let n of i.effects)if(n.is(Te.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=n.value}}mountStyles(){this.styleModules=this.state.facet(Ls);let e=this.state.facet(Te.cspNonce);wi.mount(this.root,this.styleModules.concat(Ry).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return XE(this,e,_u(this,e,t,i))}moveByGroup(e,t){return XE(this,e,_u(this,e,t,i=>vU(this,e.head,i)))}visualLineSide(e,t){let i=this.bidiSpans(e),n=this.textDirectionAt(e.from),s=i[t?i.length-1:0];return j.cursor(s.side(t,n)+e.from,s.forward(!t,n)?1:-1)}moveToLineBoundary(e,t,i=!0){return MU(this,e,t,i)}moveVertically(e,t,i){return XE(this,e,UU(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Ad(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(e),s=this.bidiSpans(n),a=s[xi.find(s,e-n.from,-1,t)];return Na(i,a.dir==tt.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(ad)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Ny)return jS(e.length);let t=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||QS(s.isolates,i=Ou(this,e))))return s.order;i||(i=Ou(this,e));let n=AU(e.text,t,i);return this.bidiCache.push(new il(e.from,e.to,t,i,!0,n)),n}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||fe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{BS(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return qa.of(new Vn(typeof e=="number"?j.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return qa.of(new Vn(j.cursor(i.from),"start","start",i.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Et.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Et.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=wi.newName(),n=[ro.of(i),Ls.of(ic(`.${i}`,e))];return t&&t.dark&&n.push(tc.of(!0)),n}static baseTheme(e){return In.lowest(Ls.of(ic("."+rc,e,Md)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),n=i&&qe.get(i)||qe.get(e);return((t=n?.rootView)===null||t===void 0?void 0:t.view)||null}}Te.styleModule=Ls;Te.inputHandler=nd;Te.clipboardInputFilter=rf;Te.clipboardOutputFilter=nf;Te.scrollHandler=ld;Te.focusChangeEffect=sd;Te.perLineTextDirection=ad;Te.exceptionSink=id;Te.updateListener=Qh;Te.editable=oi;Te.mouseSelectionStyle=rd;Te.dragMovesSelection=td;Te.clickAddsSelectionRange=ed;Te.decorations=ta;Te.outerDecorations=cd;Te.atomicRanges=Ca;Te.bidiIsolatedRanges=fd;Te.scrollMargins=Td;Te.darkTheme=tc;Te.cspNonce=Ae.define({combine:r=>r.length?r[0]:""});Te.contentAttributes=sf;Te.editorAttributes=hd;Te.lineWrapping=Te.contentAttributes.of({class:"cm-lineWrapping"});Te.announce=ve.define();const Ny=4096,Vu={};class il{constructor(e,t,i,n,s,a){this.from=e,this.to=t,this.dir=i,this.isolates=n,this.fresh=s,this.order=a}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let i=[],n=e.length?e[e.length-1].dir:tt.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let a=e[s];a.dir==n&&!t.touchesRange(a.from,a.to)&&i.push(new il(t.mapPos(a.from,1),t.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return i}}function Wu(r,e,t){for(let i=r.state.facet(e),n=i.length-1;n>=0;n--){let s=i[n],a=typeof s=="function"?s(r):s;a&&Xh(a,t)}return t}const py=fe.mac?"mac":fe.windows?"win":fe.linux?"linux":"key";function my(r,e){const t=r.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let n,s,a,o;for(let l=0;l<t.length-1;++l){const E=t[l];if(/^(cmd|meta|m)$/i.test(E))o=!0;else if(/^a(lt)?$/i.test(E))n=!0;else if(/^(c|ctrl|control)$/i.test(E))s=!0;else if(/^s(hift)?$/i.test(E))a=!0;else if(/^mod$/i.test(E))e=="mac"?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+E)}return n&&(i="Alt-"+i),s&&(i="Ctrl-"+i),o&&(i="Meta-"+i),a&&(i="Shift-"+i),i}function io(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}const Cy=In.default(Te.domEventHandlers({keydown(r,e){return Ud(vd(e.state),r,e,"editor")}})),Fl=Ae.define({enables:Cy}),Xu=new WeakMap;function vd(r){let e=r.facet(Fl),t=Xu.get(e);return t||Xu.set(e,t=Ly(e.reduce((i,n)=>i.concat(n),[]))),t}function _y(r,e,t){return Ud(vd(r.state),e,r,t)}let _i=null;const gy=4e3;function Ly(r,e=py){let t=Object.create(null),i=Object.create(null),n=(a,o)=>{let l=i[a];if(l==null)i[a]=o;else if(l!=o)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},s=(a,o,l,E,h)=>{var c,f;let T=t[a]||(t[a]=Object.create(null)),A=o.split(/ (?!$)/).map(d=>my(d,e));for(let d=1;d<A.length;d++){let O=A.slice(0,d).join(" ");n(O,!0),T[O]||(T[O]={preventDefault:!0,stopPropagation:!1,run:[I=>{let L=_i={view:I,prefix:O,scope:a};return setTimeout(()=>{_i==L&&(_i=null)},gy),!0}]})}let u=A.join(" ");n(u,!1);let R=T[u]||(T[u]={preventDefault:!1,stopPropagation:!1,run:((f=(c=T._any)===null||c===void 0?void 0:c.run)===null||f===void 0?void 0:f.slice())||[]});l&&R.run.push(l),E&&(R.preventDefault=!0),h&&(R.stopPropagation=!0)};for(let a of r){let o=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let E of o){let h=t[E]||(t[E]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:c}=a;for(let f in h)h[f].run.push(T=>c(T,nc))}let l=a[e]||a.key;if(l)for(let E of o)s(E,l,a.run,a.preventDefault,a.stopPropagation),a.shift&&s(E,"Shift-"+l,a.shift,a.preventDefault,a.stopPropagation)}return t}let nc=null;function Ud(r,e,t,i){nc=e;let n=gI(e),s=jt(n,0),a=Jr(s)==n.length&&n!=" ",o="",l=!1,E=!1,h=!1;_i&&_i.view==t&&_i.scope==i&&(o=_i.prefix+" ",Nd.indexOf(e.keyCode)<0&&(E=!0,_i=null));let c=new Set,f=R=>{if(R){for(let d of R.run)if(!c.has(d)&&(c.add(d),d(t)))return R.stopPropagation&&(h=!0),!0;R.preventDefault&&(R.stopPropagation&&(h=!0),E=!0)}return!1},T=r[i],A,u;return T&&(f(T[o+io(n,e,!a)])?l=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(fe.windows&&e.ctrlKey&&e.altKey)&&!(fe.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(A=LI[e.keyCode])&&A!=n?(f(T[o+io(A,e,!0)])||e.shiftKey&&(u=DI[e.keyCode])!=n&&u!=A&&f(T[o+io(u,e,!1)]))&&(l=!0):a&&e.shiftKey&&f(T[o+io(n,e,!0)])&&(l=!0),!l&&f(T._any)&&(l=!0)),E&&(l=!0),l&&h&&e.stopPropagation(),nc=null,l}class _a{constructor(e,t,i,n,s){this.className=e,this.left=t,this.top=i,this.width=n,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let n=e.coordsAtPos(i.head,i.assoc||1);if(!n)return[];let s=yd(e);return[new _a(t,n.left-s.left,n.top-s.top,null,n.bottom-n.top)]}else return Dy(e,t,i)}}function yd(r){let e=r.scrollDOM.getBoundingClientRect();return{left:(r.textDirection==tt.LTR?e.left:e.right-r.scrollDOM.clientWidth*r.scaleX)-r.scrollDOM.scrollLeft*r.scaleX,top:e.top-r.scrollDOM.scrollTop*r.scaleY}}function Ku(r,e,t,i){let n=r.coordsAtPos(e,t*2);if(!n)return i;let s=r.dom.getBoundingClientRect(),a=(n.top+n.bottom)/2,o=r.posAtCoords({x:s.left+1,y:a}),l=r.posAtCoords({x:s.right-1,y:a});return o==null||l==null?i:{from:Math.max(i.from,Math.min(o,l)),to:Math.min(i.to,Math.max(o,l))}}function Dy(r,e,t){if(t.to<=r.viewport.from||t.from>=r.viewport.to)return[];let i=Math.max(t.from,r.viewport.from),n=Math.min(t.to,r.viewport.to),s=r.textDirection==tt.LTR,a=r.contentDOM,o=a.getBoundingClientRect(),l=yd(r),E=a.querySelector(".cm-line"),h=E&&window.getComputedStyle(E),c=o.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),f=o.right-(h?parseInt(h.paddingRight):0),T=Zh(r,i,1),A=Zh(r,n,-1),u=T.type==qt.Text?T:null,R=A.type==qt.Text?A:null;if(u&&(r.lineWrapping||T.widgetLineBreaks)&&(u=Ku(r,i,1,u)),R&&(r.lineWrapping||A.widgetLineBreaks)&&(R=Ku(r,n,-1,R)),u&&R&&u.from==R.from&&u.to==R.to)return O(I(t.from,t.to,u));{let D=u?I(t.from,null,u):L(T,!1),U=R?I(null,t.to,R):L(A,!0),_=[];return(u||T).to<(R||A).from-(u&&R?1:0)||T.widgetLineBreaks>1&&D.bottom+r.defaultLineHeight/2<U.top?_.push(d(c,D.bottom,f,U.top)):D.bottom<U.top&&r.elementAtHeight((D.bottom+U.top)/2).type==qt.Text&&(D.bottom=U.top=(D.bottom+U.top)/2),O(D).concat(_).concat(O(U))}function d(D,U,_,y){return new _a(e,D-l.left,U-l.top,_-D,y-U)}function O({top:D,bottom:U,horizontal:_}){let y=[];for(let P=0;P<_.length;P+=2)y.push(d(_[P],D,_[P+1],U));return y}function I(D,U,_){let y=1e9,P=-1e9,Y=[];function G(ae,oe,Me,xe,Be){let me=r.coordsAtPos(ae,ae==_.to?-2:2),ge=r.coordsAtPos(Me,Me==_.from?2:-2);!me||!ge||(y=Math.min(me.top,ge.top,y),P=Math.max(me.bottom,ge.bottom,P),Be==tt.LTR?Y.push(s&&oe?c:me.left,s&&xe?f:ge.right):Y.push(!s&&xe?c:ge.left,!s&&oe?f:me.right))}let b=D??_.from,Q=U??_.to;for(let ae of r.visibleRanges)if(ae.to>b&&ae.from<Q)for(let oe=Math.max(ae.from,b),Me=Math.min(ae.to,Q);;){let xe=r.state.doc.lineAt(oe);for(let Be of r.bidiSpans(xe)){let me=Be.from+xe.from,ge=Be.to+xe.from;if(me>=Me)break;ge>oe&&G(Math.max(me,oe),D==null&&me<=b,Math.min(ge,Me),U==null&&ge>=Q,Be.dir)}if(oe=xe.to+1,oe>=Me)break}return Y.length==0&&G(b,D==null,Q,U==null,r.textDirection),{top:y,bottom:P,horizontal:Y}}function L(D,U){let _=o.top+(U?D.top:D.bottom);return{top:_,bottom:_,horizontal:[]}}}function xy(r,e){return r.constructor==e.constructor&&r.eq(e)}class Py{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Do)!=e.state.facet(Do)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(Do);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!xy(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let n of e)n.update&&t&&n.constructor&&this.drawn[i].constructor&&n.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(n.draw(),t);for(;t;){let n=t.nextSibling;t.remove(),t=n}this.drawn=e,fe.safari&&fe.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Do=Ae.define();function wd(r){return[Et.define(e=>new Py(e,r)),Do.of(r)]}const ra=Ae.define({combine(r){return ri(r,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function My(r={}){return[ra.of(r),vy,Uy,yy,od.of(!0)]}function Fd(r){return r.startState.facet(ra)!=r.state.facet(ra)}const vy=wd({above:!0,markers(r){let{state:e}=r,t=e.facet(ra),i=[];for(let n of e.selection.ranges){let s=n==e.selection.main;if(n.empty||t.drawRangeCursor){let a=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=n.empty?n:j.cursor(n.head,n.head>n.anchor?-1:1);for(let l of _a.forRange(r,a,o))i.push(l)}}return i},update(r,e){r.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=Fd(r);return t&&$u(r.state,e),r.docChanged||r.selectionSet||t},mount(r,e){$u(e.state,r)},class:"cm-cursorLayer"});function $u(r,e){e.style.animationDuration=r.facet(ra).cursorBlinkRate+"ms"}const Uy=wd({above:!1,markers(r){return r.state.selection.ranges.map(e=>e.empty?[]:_a.forRange(r,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(r,e){return r.docChanged||r.selectionSet||r.viewportChanged||Fd(r)},class:"cm-selectionLayer"}),yy=In.highest(Te.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),Bd=ve.define({map(r,e){return r==null?null:e.mapPos(r)}}),Ps=Bt.define({create(){return null},update(r,e){return r!=null&&(r=e.changes.mapPos(r)),e.effects.reduce((t,i)=>i.is(Bd)?i.value:t,r)}}),wy=Et.fromClass(class{constructor(r){this.view=r,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(r){var e;let t=r.state.field(Ps);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(r.startState.field(Ps)!=t||r.docChanged||r.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:r}=this,e=r.state.field(Ps),t=e!=null&&r.coordsAtPos(e);if(!t)return null;let i=r.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+r.scrollDOM.scrollLeft*r.scaleX,top:t.top-i.top+r.scrollDOM.scrollTop*r.scaleY,height:t.bottom-t.top}}drawCursor(r){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;r?(this.cursor.style.left=r.left/e+"px",this.cursor.style.top=r.top/t+"px",this.cursor.style.height=r.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(r){this.view.state.field(Ps)!=r&&this.view.dispatch({effects:Bd.of(r)})}},{eventObservers:{dragover(r){this.setDropPos(this.view.posAtCoords({x:r.clientX,y:r.clientY}))},dragleave(r){(r.target==this.view.contentDOM||!this.view.contentDOM.contains(r.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Fy(){return[Ps,wy]}function Ju(r,e,t,i,n){e.lastIndex=0;for(let s=r.iterRange(t,i),a=t,o;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;o=e.exec(s.value);)n(a+o.index,o)}function By(r,e){let t=r.visibleRanges;if(t.length==1&&t[0].from==r.viewport.from&&t[0].to==r.viewport.to)return t;let i=[];for(let{from:n,to:s}of t)n=Math.max(r.state.doc.lineAt(n).from,n-e),s=Math.min(r.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=n?i[i.length-1].to=s:i.push({from:n,to:s});return i}class by{constructor(e){const{regexp:t,decoration:i,decorate:n,boundary:s,maxLength:a=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,n)this.addMatch=(o,l,E,h)=>n(h,E,E+o[0].length,o,l);else if(typeof i=="function")this.addMatch=(o,l,E,h)=>{let c=i(o,l,E);c&&h(E,E+o[0].length,c)};else if(i)this.addMatch=(o,l,E,h)=>h(E,E+o[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=a}createDeco(e){let t=new Ai,i=t.add.bind(t);for(let{from:n,to:s}of By(e,this.maxLength))Ju(e.state.doc,this.regexp,n,s,(a,o)=>this.addMatch(o,e,a,i));return t.finish()}updateDeco(e,t){let i=1e9,n=-1;return e.docChanged&&e.changes.iterChanges((s,a,o,l)=>{l>=e.view.viewport.from&&o<=e.view.viewport.to&&(i=Math.min(o,i),n=Math.max(l,n))}),e.viewportMoved||n-i>1e3?this.createDeco(e.view):n>-1?this.updateRange(e.view,t.map(e.changes),i,n):t}updateRange(e,t,i,n){for(let s of e.visibleRanges){let a=Math.max(s.from,i),o=Math.min(s.to,n);if(o>=a){let l=e.state.doc.lineAt(a),E=l.to<o?e.state.doc.lineAt(o):l,h=Math.max(s.from,l.from),c=Math.min(s.to,E.to);if(this.boundary){for(;a>l.from;a--)if(this.boundary.test(l.text[a-1-l.from])){h=a;break}for(;o<E.to;o++)if(this.boundary.test(E.text[o-E.from])){c=o;break}}let f=[],T,A=(u,R,d)=>f.push(d.range(u,R));if(l==E)for(this.regexp.lastIndex=h-l.from;(T=this.regexp.exec(l.text))&&T.index<c-l.from;)this.addMatch(T,e,T.index+l.from,A);else Ju(e.state.doc,this.regexp,h,c,(u,R)=>this.addMatch(R,e,u,A));t=t.update({filterFrom:h,filterTo:c,filter:(u,R)=>u<h||R>c,add:f})}}return t}}const sc=/x/.unicode!=null?"gu":"g",Gy=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,sc),Hy={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let JE=null;function ky(){var r;if(JE==null&&typeof document<"u"&&document.body){let e=document.body.style;JE=((r=e.tabSize)!==null&&r!==void 0?r:e.MozTabSize)!=null}return JE||!1}const xo=Ae.define({combine(r){let e=ri(r,{render:null,specialChars:Gy,addSpecialChars:null});return(e.replaceTabs=!ky())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,sc)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,sc)),e}});function Yy(r={}){return[xo.of(r),Vy()]}let zu=null;function Vy(){return zu||(zu=Et.fromClass(class{constructor(r){this.view=r,this.decorations=Ce.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(r.state.facet(xo)),this.decorations=this.decorator.createDeco(r)}makeDecorator(r){return new by({regexp:r.specialChars,decoration:(e,t,i)=>{let{doc:n}=t.state,s=jt(e[0],0);if(s==9){let a=n.lineAt(i),o=t.state.tabSize,l=ls(a.text,o,i-a.from);return Ce.replace({widget:new $y((o-l%o)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Ce.replace({widget:new Ky(r,s)}))},boundary:r.replaceTabs?void 0:/[^]/})}update(r){let e=r.state.facet(xo);r.startState.facet(xo)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(r.view)):this.decorations=this.decorator.updateDeco(r,this.decorations)}},{decorations:r=>r.decorations}))}const Wy="•";function Xy(r){return r>=32?Wy:r==10?"␤":String.fromCharCode(9216+r)}class Ky extends Oi{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=Xy(this.code),i=e.state.phrase("Control character")+" "+(Hy[this.code]||"0x"+this.code.toString(16)),n=this.options.render&&this.options.render(this.code,i,t);if(n)return n;let s=document.createElement("span");return s.textContent=t,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class $y extends Oi{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Jy(){return qy}const zy=Ce.line({class:"cm-activeLine"}),qy=Et.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.docChanged||r.selectionSet)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=-1,t=[];for(let i of r.state.selection.ranges){let n=r.lineBlockAt(i.head);n.from>e&&(t.push(zy.range(n.from)),e=n.from)}return Ce.set(t)}},{decorations:r=>r.decorations});class Qy extends Oi{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?qn(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),n=Na(t[0],i.direction!="rtl"),s=parseInt(i.lineHeight);return n.bottom-n.top>s*1.5?{left:n.left,right:n.right,top:n.top,bottom:n.top+s}:n}ignoreEvent(){return!1}}function jy(r){let e=Et.fromClass(class{constructor(t){this.view=t,this.placeholder=r?Ce.set([Ce.widget({widget:new Qy(r),side:1}).range(0)]):Ce.none}get decorations(){return this.view.state.doc.length?Ce.none:this.placeholder}},{decorations:t=>t.decorations});return typeof r=="string"?[e,Te.contentAttributes.of({"aria-placeholder":r})]:e}const ac=2e3;function Zy(r,e,t){let i=Math.min(e.line,t.line),n=Math.max(e.line,t.line),s=[];if(e.off>ac||t.off>ac||e.col<0||t.col<0){let a=Math.min(e.off,t.off),o=Math.max(e.off,t.off);for(let l=i;l<=n;l++){let E=r.doc.line(l);E.length<=o&&s.push(j.range(E.from+a,E.to+o))}}else{let a=Math.min(e.col,t.col),o=Math.max(e.col,t.col);for(let l=i;l<=n;l++){let E=r.doc.line(l),h=Bh(E.text,a,r.tabSize,!0);if(h<0)s.push(j.cursor(E.to));else{let c=Bh(E.text,o,r.tabSize);s.push(j.range(E.from+h,E.from+c))}}}return s}function e2(r,e){let t=r.coordsAtPos(r.viewport.from);return t?Math.round(Math.abs((t.left-e)/r.defaultCharacterWidth)):-1}function qu(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1),i=r.state.doc.lineAt(t),n=t-i.from,s=n>ac?-1:n==i.length?e2(r,e.clientX):ls(i.text,r.state.tabSize,t-i.from);return{line:i.number,col:s,off:n}}function t2(r,e){let t=qu(r,e),i=r.state.selection;return t?{update(n){if(n.docChanged){let s=n.changes.mapPos(n.startState.doc.line(t.line).from),a=n.state.doc.lineAt(s);t={line:a.number,col:t.col,off:Math.min(t.off,a.length)},i=i.map(n.changes)}},get(n,s,a){let o=qu(r,n);if(!o)return i;let l=Zy(r.state,t,o);return l.length?a?j.create(l.concat(i.ranges)):j.create(l):i}}:null}function r2(r){let e=(t=>t.altKey&&t.button==0);return Te.mouseSelectionStyle.of((t,i)=>e(i)?t2(t,i):null)}const i2={Alt:[18,r=>!!r.altKey],Control:[17,r=>!!r.ctrlKey],Shift:[16,r=>!!r.shiftKey],Meta:[91,r=>!!r.metaKey]},n2={style:"cursor: crosshair"};function s2(r={}){let[e,t]=i2[r.key||"Alt"],i=Et.fromClass(class{constructor(n){this.view=n,this.isDown=!1}set(n){this.isDown!=n&&(this.isDown=n,this.view.update([]))}},{eventObservers:{keydown(n){this.set(n.keyCode==e||t(n))},keyup(n){(n.keyCode==e||!t(n))&&this.set(!1)},mousemove(n){this.set(t(n))}}});return[i,Te.contentAttributes.of(n=>{var s;return!((s=n.plugin(i))===null||s===void 0)&&s.isDown?n2:null})]}const no="-10000px";class bd{constructor(e,t,i,n){this.facet=t,this.createTooltipView=i,this.removeTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter(a=>a);let s=null;this.tooltipViews=this.tooltips.map(a=>s=i(a,s))}update(e,t){var i;let n=e.state.facet(this.facet),s=n.filter(l=>l);if(n===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let a=[],o=t?[]:null;for(let l=0;l<s.length;l++){let E=s[l],h=-1;if(E){for(let c=0;c<this.tooltips.length;c++){let f=this.tooltips[c];f&&f.create==E.create&&(h=c)}if(h<0)a[l]=this.createTooltipView(E,l?a[l-1]:null),o&&(o[l]=!!E.above);else{let c=a[l]=this.tooltipViews[h];o&&(o[l]=t[h]),c.update&&c.update(e)}}}for(let l of this.tooltipViews)a.indexOf(l)<0&&(this.removeTooltipView(l),(i=l.destroy)===null||i===void 0||i.call(l));return t&&(o.forEach((l,E)=>t[E]=l),t.length=o.length),this.input=n,this.tooltips=s,this.tooltipViews=a,!0}}function a2(r){let e=r.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const zE=Ae.define({combine:r=>{var e,t,i;return{position:fe.ios?"absolute":((e=r.find(n=>n.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=r.find(n=>n.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=r.find(n=>n.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||a2}}}),Qu=new WeakMap,hf=Et.fromClass(class{constructor(r){this.view=r,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(zE);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new bd(r,cf,(t,i)=>this.createTooltip(t,i),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(r,this.above);e&&this.observeIntersection();let t=e||r.geometryChanged,i=r.state.facet(zE);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let n of this.manager.tooltipViews)n.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let n of this.manager.tooltipViews)this.container.appendChild(n.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(r,e){let t=r.create(this.view),i=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),r.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let n=document.createElement("div");n.className="cm-tooltip-arrow",t.dom.appendChild(n)}return t.dom.style.position=this.position,t.dom.style.top=no,t.dom.style.left="0px",this.container.insertBefore(t.dom,i),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var r,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let i of this.manager.tooltipViews)i.dom.remove(),(r=i.destroy)===null||r===void 0||r.call(i);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(fe.safari){let a=s.getBoundingClientRect();t=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}else t=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(r=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:r,scaleY:e}=this.view.viewState);let i=this.view.scrollDOM.getBoundingClientRect(),n=af(this.view);return{visible:{left:i.left+n.left,top:i.top+n.top,right:i.right-n.right,bottom:i.bottom-n.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,a)=>{let o=this.manager.tooltipViews[a];return o.getCoords?o.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(zE).tooltipSpace(this.view),scaleX:r,scaleY:e,makeAbsolute:t}}writeMeasure(r){var e;if(r.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o of this.manager.tooltipViews)o.dom.style.position="absolute"}let{visible:t,space:i,scaleX:n,scaleY:s}=r,a=[];for(let o=0;o<this.manager.tooltips.length;o++){let l=this.manager.tooltips[o],E=this.manager.tooltipViews[o],{dom:h}=E,c=r.pos[o],f=r.size[o];if(!c||l.clip!==!1&&(c.bottom<=Math.max(t.top,i.top)||c.top>=Math.min(t.bottom,i.bottom)||c.right<Math.max(t.left,i.left)-.1||c.left>Math.min(t.right,i.right)+.1)){h.style.top=no;continue}let T=l.arrow?E.dom.querySelector(".cm-tooltip-arrow"):null,A=T?7:0,u=f.right-f.left,R=(e=Qu.get(E))!==null&&e!==void 0?e:f.bottom-f.top,d=E.offset||l2,O=this.view.textDirection==tt.LTR,I=f.width>i.right-i.left?O?i.left:i.right-f.width:O?Math.max(i.left,Math.min(c.left-(T?14:0)+d.x,i.right-u)):Math.min(Math.max(i.left,c.left-u+(T?14:0)-d.x),i.right-u),L=this.above[o];!l.strictSide&&(L?c.top-R-A-d.y<i.top:c.bottom+R+A+d.y>i.bottom)&&L==i.bottom-c.bottom>c.top-i.top&&(L=this.above[o]=!L);let D=(L?c.top-i.top:i.bottom-c.bottom)-A;if(D<R&&E.resize!==!1){if(D<this.view.defaultLineHeight){h.style.top=no;continue}Qu.set(E,R),h.style.height=(R=D)/s+"px"}else h.style.height&&(h.style.height="");let U=L?c.top-R-A-d.y:c.bottom+A+d.y,_=I+u;if(E.overlap!==!0)for(let y of a)y.left<_&&y.right>I&&y.top<U+R&&y.bottom>U&&(U=L?y.top-R-2-A:y.bottom+A+2);if(this.position=="absolute"?(h.style.top=(U-r.parent.top)/s+"px",ju(h,(I-r.parent.left)/n)):(h.style.top=U/s+"px",ju(h,I/n)),T){let y=c.left+(O?d.x:-d.x)-(I+14-7);T.style.left=y/n+"px"}E.overlap!==!0&&a.push({left:I,top:U,right:_,bottom:U+R}),h.classList.toggle("cm-tooltip-above",L),h.classList.toggle("cm-tooltip-below",!L),E.positioned&&E.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=no}},{eventObservers:{scroll(){this.maybeMeasure()}}});function ju(r,e){let t=parseInt(r.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(r.style.left=e+"px")}const o2=Te.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),l2={x:0,y:0},cf=Ae.define({enables:[hf,o2]}),nl=Ae.define({combine:r=>r.reduce((e,t)=>e.concat(t),[])});class Bl{static create(e){return new Bl(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new bd(e,nl,(t,i)=>this.createHostedView(t,i),t=>t.dom.remove())}createHostedView(e,t){let i=e.create(this.view);return i.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(i.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&i.mount&&i.mount(this.view),i}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let i of this.manager.tooltipViews){let n=i[e];if(n!==void 0){if(t===void 0)t=n;else if(t!==n)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const E2=cf.compute([nl],r=>{let e=r.facet(nl);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var i;return(i=t.end)!==null&&i!==void 0?i:t.pos})),create:Bl.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class h2{constructor(e,t,i,n,s){this.view=e,this.source=t,this.field=i,this.setHover=n,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.nearest(t.target);if(!i)return;let n,s=1;if(i instanceof li)n=i.posAtStart;else{if(n=e.posAtCoords(t),n==null)return;let o=e.coordsAtPos(n);if(!o||t.y<o.top||t.y>o.bottom||t.x<o.left-e.defaultCharacterWidth||t.x>o.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(n)).find(h=>h.from<=n&&h.to>=n),E=l&&l.dir==tt.RTL?-1:1;s=t.x<o.left?-E:E}let a=this.source(e,n,s);if(a?.then){let o=this.pending={pos:n};a.then(l=>{this.pending==o&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>er(e.state,l,"hover tooltip"))}else a&&!(Array.isArray(a)&&!a.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])})}get tooltip(){let e=this.view.plugin(hf),t=e?e.manager.tooltips.findIndex(i=>i.create==Bl.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,i;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:n,tooltip:s}=this;if(n.length&&s&&!c2(s.dom,e)||this.pending){let{pos:a}=n[0]||this.pending,o=(i=(t=n[0])===null||t===void 0?void 0:t.end)!==null&&i!==void 0?i:a;(a==o?this.view.posAtCoords(this.lastMove)!=a:!f2(this.view,a,o,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=i=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const so=4;function c2(r,e){let{left:t,right:i,top:n,bottom:s}=r.getBoundingClientRect(),a;if(a=r.querySelector(".cm-tooltip-arrow")){let o=a.getBoundingClientRect();n=Math.min(o.top,n),s=Math.max(o.bottom,s)}return e.clientX>=t-so&&e.clientX<=i+so&&e.clientY>=n-so&&e.clientY<=s+so}function f2(r,e,t,i,n,s){let a=r.scrollDOM.getBoundingClientRect(),o=r.documentTop+r.documentPadding.top+r.contentHeight;if(a.left>i||a.right<i||a.top>n||Math.min(a.bottom,o)<n)return!1;let l=r.posAtCoords({x:i,y:n},!1);return l>=e&&l<=t}function T2(r,e={}){let t=ve.define(),i=Bt.define({create(){return[]},update(n,s){if(n.length&&(e.hideOnChange&&(s.docChanged||s.selection)?n=[]:e.hideOn&&(n=n.filter(a=>!e.hideOn(s,a))),s.docChanged)){let a=[];for(let o of n){let l=s.changes.mapPos(o.pos,-1,Jt.TrackDel);if(l!=null){let E=Object.assign(Object.create(null),o);E.pos=l,E.end!=null&&(E.end=s.changes.mapPos(E.end)),a.push(E)}}n=a}for(let a of s.effects)a.is(t)&&(n=a.value),a.is(u2)&&(n=[]);return n},provide:n=>nl.from(n)});return{active:i,extension:[i,Et.define(n=>new h2(n,r,i,t,e.hoverTime||300)),E2]}}function Gd(r,e){let t=r.plugin(hf);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const u2=ve.define(),Zu=Ae.define({combine(r){let e,t;for(let i of r)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function ia(r,e){let t=r.plugin(Hd),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const Hd=Et.fromClass(class{constructor(r){this.input=r.state.facet(na),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(r));let e=r.state.facet(Zu);this.top=new ao(r,!0,e.topContainer),this.bottom=new ao(r,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(r){let e=r.state.facet(Zu);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new ao(r.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new ao(r.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=r.state.facet(na);if(t!=this.input){let i=t.filter(l=>l),n=[],s=[],a=[],o=[];for(let l of i){let E=this.specs.indexOf(l),h;E<0?(h=l(r.view),o.push(h)):(h=this.panels[E],h.update&&h.update(r)),n.push(h),(h.top?s:a).push(h)}this.specs=i,this.panels=n,this.top.sync(s),this.bottom.sync(a);for(let l of o)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(r)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:r=>Te.scrollMargins.of(e=>{let t=e.plugin(r);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class ao{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=eA(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=eA(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function eA(r){let e=r.nextSibling;return r.remove(),e}const na=Ae.define({enables:Hd});class Si extends ln{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Si.prototype.elementClass="";Si.prototype.toDOM=void 0;Si.prototype.mapMode=Jt.TrackBefore;Si.prototype.startSide=Si.prototype.endSide=-1;Si.prototype.point=!0;const Po=Ae.define(),A2=Ae.define(),R2={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>He.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Vs=Ae.define();function S2(r){return[kd(),Vs.of({...R2,...r})]}const tA=Ae.define({combine:r=>r.some(e=>e)});function kd(r){return[d2]}const d2=Et.fromClass(class{constructor(r){this.view=r,this.domAfter=null,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(Vs).map(e=>new iA(r,e)),this.fixed=!r.state.facet(tA);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(r){if(this.updateGutters(r)){let e=this.prevViewport,t=r.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}if(r.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(tA)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=He.iter(this.view.state.facet(Po),this.view.viewport.from),i=[],n=this.gutters.map(s=>new O2(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let a=!0;for(let o of s.type)if(o.type==qt.Text&&a){oc(t,i,o.from);for(let l of n)l.line(this.view,o,i);a=!1}else if(o.widget)for(let l of n)l.widget(this.view,o)}else if(s.type==qt.Text){oc(t,i,s.from);for(let a of n)a.line(this.view,s,i)}else if(s.widget)for(let a of n)a.widget(this.view,s);for(let s of n)s.finish();r&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(r){let e=r.startState.facet(Vs),t=r.state.facet(Vs),i=r.docChanged||r.heightChanged||r.viewportChanged||!He.eq(r.startState.facet(Po),r.state.facet(Po),r.view.viewport.from,r.view.viewport.to);if(e==t)for(let n of this.gutters)n.update(r)&&(i=!0);else{i=!0;let n=[];for(let s of t){let a=e.indexOf(s);a<0?n.push(new iA(this.view,s)):(this.gutters[a].update(r),n.push(this.gutters[a]))}for(let s of this.gutters)s.dom.remove(),n.indexOf(s)<0&&s.destroy();for(let s of n)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=n}return i}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:r=>Te.scrollMargins.of(e=>{let t=e.plugin(r);if(!t||t.gutters.length==0||!t.fixed)return null;let i=t.dom.offsetWidth*e.scaleX,n=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==tt.LTR?{left:i,right:n}:{right:i,left:n}})});function rA(r){return Array.isArray(r)?r:[r]}function oc(r,e,t){for(;r.value&&r.from<=t;)r.from==t&&e.push(r.value),r.next()}class O2{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=He.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:n}=this,s=(t.top-this.height)/e.scaleY,a=t.height/e.scaleY;if(this.i==n.elements.length){let o=new Yd(e,a,s,i);n.elements.push(o),n.dom.appendChild(o.dom)}else n.elements[this.i].update(e,a,s,i);this.height=t.bottom,this.i++}line(e,t,i){let n=[];oc(this.cursor,n,t.from),i.length&&(n=n.concat(i));let s=this.gutter.config.lineMarker(e,t,n);s&&n.unshift(s);let a=this.gutter;n.length==0&&!a.config.renderEmptyElements||this.addElement(e,t,n)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t),n=i?[i]:null;for(let s of e.state.facet(A2)){let a=s(e,t.widget,t);a&&(n||(n=[])).push(a)}n&&this.addElement(e,t,n)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class iA{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,n=>{let s=n.target,a;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();a=(l.top+l.bottom)/2}else a=n.clientY;let o=e.lineBlockAtHeight(a-e.documentTop);t.domEventHandlers[i](e,o,n)&&n.preventDefault()});this.markers=rA(t.markers(e)),t.initialSpacer&&(this.spacer=new Yd(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=rA(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}let i=e.view.viewport;return!He.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Yd{constructor(e,t,i,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,n)}update(e,t,i,n){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),I2(this.markers,n)||this.setMarkers(e,n)}setMarkers(e,t){let i="cm-gutterElement",n=this.dom.firstChild;for(let s=0,a=0;;){let o=a,l=s<t.length?t[s++]:null,E=!1;if(l){let h=l.elementClass;h&&(i+=" "+h);for(let c=a;c<this.markers.length;c++)if(this.markers[c].compare(l)){o=c,E=!0;break}}else o=this.markers.length;for(;a<o;){let h=this.markers[a++];if(h.toDOM){h.destroy(n);let c=n.nextSibling;n.remove(),n=c}}if(!l)break;l.toDOM&&(E?n=n.nextSibling:this.dom.insertBefore(l.toDOM(e),n)),E&&a++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function I2(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].compare(e[t]))return!1;return!0}const N2=Ae.define(),p2=Ae.define(),yn=Ae.define({combine(r){return ri(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let n in t){let s=i[n],a=t[n];i[n]=s?(o,l,E)=>s(o,l,E)||a(o,l,E):a}return i}})}});class qE extends Si{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function QE(r,e){return r.state.facet(yn).formatNumber(e,r.state)}const m2=Vs.compute([yn],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(N2)},lineMarker(e,t,i){return i.some(n=>n.toDOM)?null:new qE(QE(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,i)=>{for(let n of e.state.facet(p2)){let s=n(e,t,i);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(yn)!=e.state.facet(yn),initialSpacer(e){return new qE(QE(e,nA(e.state.doc.lines)))},updateSpacer(e,t){let i=QE(t.view,nA(t.view.state.doc.lines));return i==e.number?e:new qE(i)},domEventHandlers:r.facet(yn).domEventHandlers,side:"before"}));function C2(r={}){return[yn.of(r),kd(),m2]}function nA(r){let e=9;for(;e<r;)e=e*10+9;return e}const _2=new class extends Si{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},g2=Po.compute(["selection"],r=>{let e=[],t=-1;for(let i of r.selection.ranges){let n=r.doc.lineAt(i.head).from;n>t&&(t=n,e.push(_2.range(n)))}return He.of(e)});function L2(){return g2}const Vd=1024;let D2=0;class jE{constructor(e,t){this.from=e,this.to=t}}class Fe{constructor(e={}){this.id=D2++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=sr.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}Fe.closedBy=new Fe({deserialize:r=>r.split(" ")});Fe.openedBy=new Fe({deserialize:r=>r.split(" ")});Fe.group=new Fe({deserialize:r=>r.split(" ")});Fe.isolate=new Fe({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});Fe.contextHash=new Fe({perNode:!0});Fe.lookAhead=new Fe({perNode:!0});Fe.mounted=new Fe({perNode:!0});class sl{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[Fe.mounted.id]}}const x2=Object.create(null);class sr{constructor(e,t,i,n=0){this.name=e,this.props=t,this.id=i,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):x2,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new sr(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Fe.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let n of i.split(" "))t[n]=e[i];return i=>{for(let n=i.prop(Fe.group),s=-1;s<(n?n.length:0);s++){let a=t[s<0?i.name:n[s]];if(a)return a}}}}sr.none=new sr("",Object.create(null),0,8);class ff{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let n=null;for(let s of e){let a=s(i);if(a){n||(n=Object.assign({},i.props));let o=a[1],l=a[0];l.combine&&l.id in n&&(o=l.combine(n[l.id],o)),n[l.id]=o}}t.push(n?new sr(i.name,n,i.id,i.flags):i)}return new ff(t)}}const oo=new WeakMap,sA=new WeakMap;var pt;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(pt||(pt={}));class ft{constructor(e,t,i,n,s){if(this.type=e,this.children=t,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[a,o]of s)this.props[typeof a=="number"?a:a.id]=o}}toString(){let e=sl.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let n=i.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Ec(this.topNode,e)}cursorAt(e,t=0,i=0){let n=oo.get(this)||this.topNode,s=new Ec(n);return s.moveTo(e,t),oo.set(this,s._tree),s}get topNode(){return new pr(this,0,0,null)}resolve(e,t=0){let i=sa(oo.get(this)||this.topNode,e,t,!1);return oo.set(this,i),i}resolveInner(e,t=0){let i=sa(sA.get(this)||this.topNode,e,t,!0);return sA.set(this,i),i}resolveStack(e,t=0){return v2(this,e,t)}iterate(e){let{enter:t,leave:i,from:n=0,to:s=this.length}=e,a=e.mode||0,o=(a&pt.IncludeAnonymous)>0;for(let l=this.cursor(a|pt.IncludeAnonymous);;){let E=!1;if(l.from<=s&&l.to>=n&&(!o&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;E=!0}for(;E&&i&&(o||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;E=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Af(sr.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,n)=>new ft(this.type,t,i,n,this.propValues),e.makeTree||((t,i,n)=>new ft(sr.none,t,i,n)))}static build(e){return U2(e)}}ft.empty=new ft(sr.none,[],[],0);class Tf{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Tf(this.buffer,this.index)}}class Bi{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return sr.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],n=this.set.types[t],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let a=[];for(;e<i;)a.push(this.childString(e)),e=this.buffer[e+3];return s+"("+a.join(",")+")"}findChild(e,t,i,n,s){let{buffer:a}=this,o=-1;for(let l=e;l!=t&&!(Wd(s,n,a[l+1],a[l+2])&&(o=l,i>0));l=a[l+3]);return o}slice(e,t,i){let n=this.buffer,s=new Uint16Array(t-e),a=0;for(let o=e,l=0;o<t;){s[l++]=n[o++],s[l++]=n[o++]-i;let E=s[l++]=n[o++]-i;s[l++]=n[o++]-e,a=Math.max(a,E)}return new Bi(s,a,this.set)}}function Wd(r,e,t,i){switch(r){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function sa(r,e,t,i){for(var n;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let a=!i&&r instanceof pr&&r.index<0?null:r.parent;if(!a)return r;r=a}let s=i?0:pt.IgnoreOverlays;if(i)for(let a=r,o=a.parent;o;a=o,o=a.parent)a instanceof pr&&a.index<0&&((n=o.enter(e,t,s))===null||n===void 0?void 0:n.from)!=a.from&&(r=o);for(;;){let a=r.enter(e,t,s);if(!a)return r;r=a}}class Xd{cursor(e=0){return new Ec(this,e)}getChild(e,t=null,i=null){let n=aA(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return aA(this,e,t,i)}resolve(e,t=0){return sa(this,e,t,!1)}resolveInner(e,t=0){return sa(this,e,t,!0)}matchContext(e){return lc(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(i=t,t=n.prevSibling):t=n}return i}get node(){return this}get next(){return this.parent}}class pr extends Xd{constructor(e,t,i,n){super(),this._tree=e,this.from=t,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,n,s=0){for(let a=this;;){for(let{children:o,positions:l}=a._tree,E=t>0?o.length:-1;e!=E;e+=t){let h=o[e],c=l[e]+a.from;if(Wd(n,i,c,c+h.length)){if(h instanceof Bi){if(s&pt.ExcludeBuffers)continue;let f=h.findChild(0,h.buffer.length,t,i-c,n);if(f>-1)return new Pi(new P2(a,h,e,c),null,f)}else if(s&pt.IncludeAnonymous||!h.type.isAnonymous||uf(h)){let f;if(!(s&pt.IgnoreMounts)&&(f=sl.get(h))&&!f.overlay)return new pr(f.tree,c,e,a);let T=new pr(h,c,e,a);return s&pt.IncludeAnonymous||!T.type.isAnonymous?T:T.nextChild(t<0?h.children.length-1:0,t,i,n)}}}if(s&pt.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+t:e=t<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,i=0){let n;if(!(i&pt.IgnoreOverlays)&&(n=sl.get(this._tree))&&n.overlay){let s=e-this.from;for(let{from:a,to:o}of n.overlay)if((t>0?a<=s:a<s)&&(t<0?o>=s:o>s))return new pr(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function aA(r,e,t,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(t!=null){for(let a=!1;!a;)if(a=n.type.is(t),!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(e)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function lc(r,e,t=e.length-1){for(let i=r;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class P2{constructor(e,t,i,n){this.parent=e,this.buffer=t,this.index=i,this.start=n}}class Pi extends Xd{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new Pi(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,i=0){if(i&pt.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Pi(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Pi(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Pi(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let a=i.buffer[this.index+1];e.push(i.slice(n,s,a)),t.push(0)}return new ft(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Kd(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let a=r[s];(a.from>t.from||a.to<t.to)&&(t=a,e=s)}let i=t instanceof pr&&t.index<0?null:t.parent,n=r.slice();return i?n[e]=i:n.splice(e,1),new M2(n,t)}class M2{constructor(e,t){this.heads=e,this.node=t}get next(){return Kd(this.heads)}}function v2(r,e,t){let i=r.resolveInner(e,t),n=null;for(let s=i instanceof pr?i:i.context.parent;s;s=s.parent)if(s.index<0){let a=s.parent;(n||(n=[i])).push(a.resolve(e,t)),s=a}else{let a=sl.get(s.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let o=new pr(a.tree,a.overlay[0].from+s.from,-1,s);(n||(n=[i])).push(sa(o,e,t,!1))}}return n?Kd(n):i}class Ec{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof pr)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=i+n.buffer[e+1],this.to=i+n.buffer[e+2],!0}yield(e){return e?e instanceof pr?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&pt.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&pt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&pt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(t.findChild(n,this.index,-1,0,4))}else{let n=t.buffer[this.index+3];if(n<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=n)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,a=e<0?-1:i._tree.children.length;s!=a;s+=e){let o=i._tree.children[s];if(this.mode&pt.IncludeAnonymous||o instanceof Bi||!o.type.isAnonymous||uf(o))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let a=e;a;a=a._parent)if(a.index==n){if(n==this.index)return a;t=a,i=s+1;break e}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)t=new Pi(this.buffer,t,this.stack[n]);return this.bufferNode=new Pi(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&t&&t(this),n=this.type.isAnonymous,!i)return;if(this.nextSibling())break;this.parent(),i--,n=!0}}}matchContext(e){if(!this.buffer)return lc(this.node.parent,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return lc(this._tree,e,n);let a=i[t.buffer[this.stack[s]]];if(!a.isAnonymous){if(e[n]&&e[n]!=a.name)return!1;n--}}return!0}}function uf(r){return r.children.some(e=>e instanceof Bi||!e.type.isAnonymous||uf(e))}function U2(r){var e;let{buffer:t,nodeSet:i,maxBufferLength:n=Vd,reused:s=[],minRepeatType:a=i.types.length}=r,o=Array.isArray(t)?new Tf(t,t.length):t,l=i.types,E=0,h=0;function c(D,U,_,y,P,Y){let{id:G,start:b,end:Q,size:ae}=o,oe=h,Me=E;if(ae<0)if(o.next(),ae==-1){let De=s[G];_.push(De),y.push(b-D);return}else if(ae==-3){E=G;return}else if(ae==-4){h=G;return}else throw new RangeError(`Unrecognized record size: ${ae}`);let xe=l[G],Be,me,ge=b-D;if(Q-b<=n&&(me=R(o.pos-U,P))){let De=new Uint16Array(me.size-me.skip),x=o.pos-me.size,w=De.length;for(;o.pos>x;)w=d(me.start,De,w);Be=new Bi(De,Q-me.start,i),ge=me.start-D}else{let De=o.pos-ae;o.next();let x=[],w=[],v=G>=a?G:-1,M=0,Z=Q;for(;o.pos>De;)v>=0&&o.id==v&&o.size>=0?(o.end<=Z-n&&(A(x,w,b,M,o.end,Z,v,oe,Me),M=x.length,Z=o.end),o.next()):Y>2500?f(b,De,x,w):c(b,De,x,w,v,Y+1);if(v>=0&&M>0&&M<x.length&&A(x,w,b,M,b,Z,v,oe,Me),x.reverse(),w.reverse(),v>-1&&M>0){let Oe=T(xe,Me);Be=Af(xe,x,w,0,x.length,0,Q-b,Oe,Oe)}else Be=u(xe,x,w,Q-b,oe-Q,Me)}_.push(Be),y.push(ge)}function f(D,U,_,y){let P=[],Y=0,G=-1;for(;o.pos>U;){let{id:b,start:Q,end:ae,size:oe}=o;if(oe>4)o.next();else{if(G>-1&&Q<G)break;G<0&&(G=ae-n),P.push(b,Q,ae),Y++,o.next()}}if(Y){let b=new Uint16Array(Y*4),Q=P[P.length-2];for(let ae=P.length-3,oe=0;ae>=0;ae-=3)b[oe++]=P[ae],b[oe++]=P[ae+1]-Q,b[oe++]=P[ae+2]-Q,b[oe++]=oe;_.push(new Bi(b,P[2]-Q,i)),y.push(Q-D)}}function T(D,U){return(_,y,P)=>{let Y=0,G=_.length-1,b,Q;if(G>=0&&(b=_[G])instanceof ft){if(!G&&b.type==D&&b.length==P)return b;(Q=b.prop(Fe.lookAhead))&&(Y=y[G]+b.length+Q)}return u(D,_,y,P,Y,U)}}function A(D,U,_,y,P,Y,G,b,Q){let ae=[],oe=[];for(;D.length>y;)ae.push(D.pop()),oe.push(U.pop()+_-P);D.push(u(i.types[G],ae,oe,Y-P,b-Y,Q)),U.push(P-_)}function u(D,U,_,y,P,Y,G){if(Y){let b=[Fe.contextHash,Y];G=G?[b].concat(G):[b]}if(P>25){let b=[Fe.lookAhead,P];G=G?[b].concat(G):[b]}return new ft(D,U,_,y,G)}function R(D,U){let _=o.fork(),y=0,P=0,Y=0,G=_.end-n,b={size:0,start:0,skip:0};e:for(let Q=_.pos-D;_.pos>Q;){let ae=_.size;if(_.id==U&&ae>=0){b.size=y,b.start=P,b.skip=Y,Y+=4,y+=4,_.next();continue}let oe=_.pos-ae;if(ae<0||oe<Q||_.start<G)break;let Me=_.id>=a?4:0,xe=_.start;for(_.next();_.pos>oe;){if(_.size<0)if(_.size==-3||_.size==-4)Me+=4;else break e;else _.id>=a&&(Me+=4);_.next()}P=xe,y+=ae,Y+=Me}return(U<0||y==D)&&(b.size=y,b.start=P,b.skip=Y),b.size>4?b:void 0}function d(D,U,_){let{id:y,start:P,end:Y,size:G}=o;if(o.next(),G>=0&&y<a){let b=_;if(G>4){let Q=o.pos-(G-4);for(;o.pos>Q;)_=d(D,U,_)}U[--_]=b,U[--_]=Y-D,U[--_]=P-D,U[--_]=y}else G==-3?E=y:G==-4&&(h=y);return _}let O=[],I=[];for(;o.pos>0;)c(r.start||0,r.bufferStart||0,O,I,-1,0);let L=(e=r.length)!==null&&e!==void 0?e:O.length?I[0]+O[0].length:0;return new ft(l[r.topID],O.reverse(),I.reverse(),L)}const oA=new WeakMap;function Mo(r,e){if(!r.isAnonymous||e instanceof Bi||e.type!=r)return 1;let t=oA.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=r||!(i instanceof ft)){t=1;break}t+=Mo(r,i)}oA.set(e,t)}return t}function Af(r,e,t,i,n,s,a,o,l){let E=0;for(let A=i;A<n;A++)E+=Mo(r,e[A]);let h=Math.ceil(E*1.5/8),c=[],f=[];function T(A,u,R,d,O){for(let I=R;I<d;){let L=I,D=u[I],U=Mo(r,A[I]);for(I++;I<d;I++){let _=Mo(r,A[I]);if(U+_>=h)break;U+=_}if(I==L+1){if(U>h){let _=A[L];T(_.children,_.positions,0,_.children.length,u[L]+O);continue}c.push(A[L])}else{let _=u[I-1]+A[I-1].length-D;c.push(Af(r,A,u,L,I,D,_,null,l))}f.push(D+O-s)}}return T(e,t,i,n,0),(o||l)(c,f,a)}class tn{constructor(e,t,i,n,s=!1,a=!1){this.from=e,this.to=t,this.tree=i,this.offset=n,this.open=(s?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let n=[new tn(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&n.push(s);return n}static applyChanges(e,t,i=128){if(!t.length)return e;let n=[],s=1,a=e.length?e[0]:null;for(let o=0,l=0,E=0;;o++){let h=o<t.length?t[o]:null,c=h?h.fromA:1e9;if(c-l>=i)for(;a&&a.from<c;){let f=a;if(l>=f.from||c<=f.to||E){let T=Math.max(f.from,l)-E,A=Math.min(f.to,c)-E;f=T>=A?null:new tn(T,A,f.tree,f.offset+E,o>0,!!h)}if(f&&n.push(f),a.to>c)break;a=s<e.length?e[s++]:null}if(!h)break;l=h.toA,E=h.toA-h.toB}return n}}class $d{startParse(e,t,i){return typeof e=="string"&&(e=new y2(e)),i=i?i.length?i.map(n=>new jE(n.from,n.to)):[new jE(0,0)]:[new jE(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let n=this.startParse(e,t,i);for(;;){let s=n.advance();if(s)return s}}}class y2{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Fe({perNode:!0});let w2=0;class dr{constructor(e,t,i,n){this.name=e,this.set=t,this.base=i,this.modified=n,this.id=w2++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let i=typeof e=="string"?e:"?";if(e instanceof dr&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let n=new dr(i,[],null,[]);if(n.set.push(n),t)for(let s of t.set)n.set.push(s);return n}static defineModifier(e){let t=new al(e);return i=>i.modified.indexOf(t)>-1?i:al.get(i.base||i,i.modified.concat(t).sort((n,s)=>n.id-s.id))}}let F2=0;class al{constructor(e){this.name=e,this.instances=[],this.id=F2++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(o=>o.base==e&&B2(t,o.modified));if(i)return i;let n=[],s=new dr(e.name,n,e,t);for(let o of t)o.instances.push(s);let a=b2(t);for(let o of e.set)if(!o.modified.length)for(let l of a)n.push(al.get(o,l));return s}}function B2(r,e){return r.length==e.length&&r.every((t,i)=>t==e[i])}function b2(r){let e=[[]];for(let t=0;t<r.length;t++)for(let i=0,n=e.length;i<n;i++)e.push(e[i].concat(r[t]));return e.sort((t,i)=>i.length-t.length)}function Jd(r){let e=Object.create(null);for(let t in r){let i=r[t];Array.isArray(i)||(i=[i]);for(let n of t.split(" "))if(n){let s=[],a=2,o=n;for(let c=0;;){if(o=="..."&&c>0&&c+3==n.length){a=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!f)throw new RangeError("Invalid path: "+n);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),c+=f[0].length,c==n.length)break;let T=n[c++];if(c==n.length&&T=="!"){a=0;break}if(T!="/")throw new RangeError("Invalid path: "+n);o=n.slice(c)}let l=s.length-1,E=s[l];if(!E)throw new RangeError("Invalid path: "+n);let h=new aa(i,a,l>0?s.slice(0,l):null);e[E]=h.sort(e[E])}}return zd.add(e)}const zd=new Fe({combine(r,e){let t,i,n;for(;r||e;){if(!r||e&&r.depth>=e.depth?(n=e,e=e.next):(n=r,r=r.next),t&&t.mode==n.mode&&!n.context&&!t.context)continue;let s=new aa(n.tags,n.mode,n.context);t?t.next=s:i=s,t=s}return i}});class aa{constructor(e,t,i,n){this.tags=e,this.mode=t,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}aa.empty=new aa([],2,null);function qd(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let a of s.tag)t[a.id]=s.class;let{scope:i,all:n=null}=e||{};return{style:s=>{let a=n;for(let o of s)for(let l of o.set){let E=t[l.id];if(E){a=a?a+" "+E:E;break}}return a},scope:i}}function G2(r,e){let t=null;for(let i of r){let n=i.style(e);n&&(t=t?t+" "+n:n)}return t}function H2(r,e,t,i=0,n=r.length){let s=new k2(i,Array.isArray(e)?e:[e],t);s.highlightRange(r.cursor(),i,n,"",s.highlighters),s.flush(n)}class k2{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,n,s){let{type:a,from:o,to:l}=e;if(o>=i||l<=t)return;a.isTop&&(s=this.highlighters.filter(T=>!T.scope||T.scope(a)));let E=n,h=Y2(e)||aa.empty,c=G2(s,h.tags);if(c&&(E&&(E+=" "),E+=c,h.mode==1&&(n+=(n?" ":"")+c)),this.startSpan(Math.max(t,o),E),h.opaque)return;let f=e.tree&&e.tree.prop(Fe.mounted);if(f&&f.overlay){let T=e.node.enter(f.overlay[0].from+o,1),A=this.highlighters.filter(R=>!R.scope||R.scope(f.tree.type)),u=e.firstChild();for(let R=0,d=o;;R++){let O=R<f.overlay.length?f.overlay[R]:null,I=O?O.from+o:l,L=Math.max(t,d),D=Math.min(i,I);if(L<D&&u)for(;e.from<D&&(this.highlightRange(e,L,D,n,s),this.startSpan(Math.min(D,e.to),E),!(e.to>=I||!e.nextSibling())););if(!O||I>i)break;d=O.to+o,d>t&&(this.highlightRange(T.cursor(),Math.max(t,O.from+o),Math.min(i,d),"",A),this.startSpan(Math.min(i,d),E))}u&&e.parent()}else if(e.firstChild()){f&&(n="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,n,s),this.startSpan(Math.min(i,e.to),E)}while(e.nextSibling());e.parent()}}}function Y2(r){let e=r.type.prop(zd);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const Ee=dr.define,lo=Ee(),mi=Ee(),lA=Ee(mi),EA=Ee(mi),Ci=Ee(),Eo=Ee(Ci),ZE=Ee(Ci),Kr=Ee(),Xi=Ee(Kr),Yr=Ee(),Vr=Ee(),hc=Ee(),ms=Ee(hc),ho=Ee(),W={comment:lo,lineComment:Ee(lo),blockComment:Ee(lo),docComment:Ee(lo),name:mi,variableName:Ee(mi),typeName:lA,tagName:Ee(lA),propertyName:EA,attributeName:Ee(EA),className:Ee(mi),labelName:Ee(mi),namespace:Ee(mi),macroName:Ee(mi),literal:Ci,string:Eo,docString:Ee(Eo),character:Ee(Eo),attributeValue:Ee(Eo),number:ZE,integer:Ee(ZE),float:Ee(ZE),bool:Ee(Ci),regexp:Ee(Ci),escape:Ee(Ci),color:Ee(Ci),url:Ee(Ci),keyword:Yr,self:Ee(Yr),null:Ee(Yr),atom:Ee(Yr),unit:Ee(Yr),modifier:Ee(Yr),operatorKeyword:Ee(Yr),controlKeyword:Ee(Yr),definitionKeyword:Ee(Yr),moduleKeyword:Ee(Yr),operator:Vr,derefOperator:Ee(Vr),arithmeticOperator:Ee(Vr),logicOperator:Ee(Vr),bitwiseOperator:Ee(Vr),compareOperator:Ee(Vr),updateOperator:Ee(Vr),definitionOperator:Ee(Vr),typeOperator:Ee(Vr),controlOperator:Ee(Vr),punctuation:hc,separator:Ee(hc),bracket:ms,angleBracket:Ee(ms),squareBracket:Ee(ms),paren:Ee(ms),brace:Ee(ms),content:Kr,heading:Xi,heading1:Ee(Xi),heading2:Ee(Xi),heading3:Ee(Xi),heading4:Ee(Xi),heading5:Ee(Xi),heading6:Ee(Xi),contentSeparator:Ee(Kr),list:Ee(Kr),quote:Ee(Kr),emphasis:Ee(Kr),strong:Ee(Kr),link:Ee(Kr),monospace:Ee(Kr),strikethrough:Ee(Kr),inserted:Ee(),deleted:Ee(),changed:Ee(),invalid:Ee(),meta:ho,documentMeta:Ee(ho),annotation:Ee(ho),processingInstruction:Ee(ho),definition:dr.defineModifier("definition"),constant:dr.defineModifier("constant"),function:dr.defineModifier("function"),standard:dr.defineModifier("standard"),local:dr.defineModifier("local"),special:dr.defineModifier("special")};for(let r in W){let e=W[r];e instanceof dr&&(e.name=r)}qd([{tag:W.link,class:"tok-link"},{tag:W.heading,class:"tok-heading"},{tag:W.emphasis,class:"tok-emphasis"},{tag:W.strong,class:"tok-strong"},{tag:W.keyword,class:"tok-keyword"},{tag:W.atom,class:"tok-atom"},{tag:W.bool,class:"tok-bool"},{tag:W.url,class:"tok-url"},{tag:W.labelName,class:"tok-labelName"},{tag:W.inserted,class:"tok-inserted"},{tag:W.deleted,class:"tok-deleted"},{tag:W.literal,class:"tok-literal"},{tag:W.string,class:"tok-string"},{tag:W.number,class:"tok-number"},{tag:[W.regexp,W.escape,W.special(W.string)],class:"tok-string2"},{tag:W.variableName,class:"tok-variableName"},{tag:W.local(W.variableName),class:"tok-variableName tok-local"},{tag:W.definition(W.variableName),class:"tok-variableName tok-definition"},{tag:W.special(W.variableName),class:"tok-variableName2"},{tag:W.definition(W.propertyName),class:"tok-propertyName tok-definition"},{tag:W.typeName,class:"tok-typeName"},{tag:W.namespace,class:"tok-namespace"},{tag:W.className,class:"tok-className"},{tag:W.macroName,class:"tok-macroName"},{tag:W.propertyName,class:"tok-propertyName"},{tag:W.operator,class:"tok-operator"},{tag:W.comment,class:"tok-comment"},{tag:W.meta,class:"tok-meta"},{tag:W.invalid,class:"tok-invalid"},{tag:W.punctuation,class:"tok-punctuation"}]);var eh;const wn=new Fe;function V2(r){return Ae.define({combine:r?e=>e.concat(r):void 0})}const W2=new Fe;class yr{constructor(e,t,i=[],n=""){this.data=e,this.name=n,be.prototype.hasOwnProperty("tree")||Object.defineProperty(be.prototype,"tree",{get(){return Lt(this)}}),this.parser=t,this.extension=[bi.of(this),be.languageData.of((s,a,o)=>{let l=hA(s,a,o),E=l.type.prop(wn);if(!E)return[];let h=s.facet(E),c=l.type.prop(W2);if(c){let f=l.resolve(a-l.from,o);for(let T of c)if(T.test(f,s)){let A=s.facet(T.facet);return T.type=="replace"?A:A.concat(h)}}return h})].concat(i)}isActiveAt(e,t,i=-1){return hA(e,t,i).type.prop(wn)==this.data}findRegions(e){let t=e.facet(bi);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],n=(s,a)=>{if(s.prop(wn)==this.data){i.push({from:a,to:a+s.length});return}let o=s.prop(Fe.mounted);if(o){if(o.tree.prop(wn)==this.data){if(o.overlay)for(let l of o.overlay)i.push({from:l.from+a,to:l.to+a});else i.push({from:a,to:a+s.length});return}else if(o.overlay){let l=i.length;if(n(o.tree,o.overlay[0].from+a),i.length>l)return}}for(let l=0;l<s.children.length;l++){let E=s.children[l];E instanceof ft&&n(E,s.positions[l]+a)}};return n(Lt(e),0),i}get allowsNesting(){return!0}}yr.setState=ve.define();function hA(r,e,t){let i=r.facet(bi),n=Lt(r).topNode;if(!i||i.allowsNesting)for(let s=n;s;s=s.enter(e,t,pt.ExcludeBuffers))s.type.isTop&&(n=s);return n}class ol extends yr{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=V2(e.languageData);return new ol(t,e.parser.configure({props:[wn.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new ol(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Lt(r){let e=r.field(yr.state,!1);return e?e.tree:ft.empty}class X2{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let Cs=null;class ll{constructor(e,t,i=[],n,s,a,o,l){this.parser=e,this.state=t,this.fragments=i,this.tree=n,this.treeLen=s,this.viewport=a,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new ll(e,t,[],ft.empty,0,i,[],null)}startParse(){return this.parser.startParse(new X2(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=ft.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let n=Date.now()+e;e=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(tn.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(tn.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Cs;Cs=this;try{return e()}finally{Cs=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=cA(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:n,treeLen:s,viewport:a,skipped:o}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((E,h,c,f)=>l.push({fromA:E,toA:h,fromB:c,toB:f})),i=tn.applyChanges(i,l),n=ft.empty,s=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){o=[];for(let E of this.skipped){let h=e.mapPos(E.from,1),c=e.mapPos(E.to,-1);h<c&&o.push({from:h,to:c})}}}return new ll(this.parser,t,i,n,s,a,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:n,to:s}=this.skipped[i];n<e.to&&s>e.from&&(this.fragments=cA(this.fragments,n,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends $d{createParse(t,i,n){let s=n[0].from,a=n[n.length-1].to;return{parsedPos:s,advance(){let l=Cs;if(l){for(let E of n)l.tempSkipped.push(E);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=a,new ft(sr.none,[],[],a-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Cs}}function cA(r,e,t){return tn.applyChanges(r,[{fromA:e,toA:t,fromB:e,toB:t}])}class es{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new es(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=ll.create(e.facet(bi).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new es(i)}}yr.state=Bt.define({create:es.init,update(r,e){for(let t of e.effects)if(t.is(yr.setState))return t.value;return e.startState.facet(bi)!=e.state.facet(bi)?es.init(e.state):r.apply(e)}});let Qd=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Qd=r=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(r,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const th=typeof navigator<"u"&&(!((eh=navigator.scheduling)===null||eh===void 0)&&eh.isInputPending)?()=>navigator.scheduling.isInputPending():null,K2=Et.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(yr.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(yr.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Qd(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,s=i.field(yr.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!th?Math.max(25,e.timeRemaining()-5):1e9),o=s.context.treeLen<n&&i.doc.length>n+1e3,l=s.context.work(()=>th&&th()||Date.now()>a,n+(o?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:yr.setState.of(new es(s.context))})),this.chunkBudget>0&&!(l&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>er(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),bi=Ae.define({combine(r){return r.length?r[0]:null},enables:r=>[yr.state,K2,Te.contentAttributes.compute([r],e=>{let t=e.facet(r);return t&&t.name?{"data-language":t.name}:{}})]});class $2{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const J2=Ae.define(),bl=Ae.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function El(r){let e=r.facet(bl);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function oa(r,e){let t="",i=r.tabSize,n=r.facet(bl)[0];if(n=="	"){for(;e>=i;)t+="	",e-=i;n=" "}for(let s=0;s<e;s++)t+=n;return t}function Rf(r,e){r instanceof be&&(r=new Gl(r));for(let i of r.state.facet(J2)){let n=i(r,e);if(n!==void 0)return n}let t=Lt(r.state);return t.length>=e?z2(r,t,e):null}class Gl{constructor(e,t={}){this.state=e,this.options=t,this.unit=El(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:n,simulateDoubleBreak:s}=this.options;return n!=null&&n>=i.from&&n<=i.to?s&&n==e?{text:"",from:e}:(t<0?n<e:n<=e)?{text:i.text.slice(n-i.from),from:n}:{text:i.text.slice(0,n-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:n}=this.lineAt(e,t);return i.slice(e-n,Math.min(i.length,e+100-n))}column(e,t=1){let{text:i,from:n}=this.lineAt(e,t),s=this.countColumn(i,e-n),a=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return a>-1&&(s+=a-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return ls(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:n}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let a=s(n);if(a>-1)return a}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const jd=new Fe;function z2(r,e,t){let i=e.resolveStack(t),n=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(n!=i.node){let s=[];for(let a=n;a&&!(a.from<i.node.from||a.to>i.node.to||a.from==i.node.from&&a.type==i.node.type);a=a.parent)s.push(a);for(let a=s.length-1;a>=0;a--)i={node:s[a],next:i}}return Zd(i,r,t)}function Zd(r,e,t){for(let i=r;i;i=i.next){let n=Q2(i.node);if(n)return n(Sf.create(e,t,i))}return 0}function q2(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function Q2(r){let e=r.type.prop(jd);if(e)return e;let t=r.firstChild,i;if(t&&(i=t.type.prop(Fe.closedBy))){let n=r.lastChild,s=n&&i.indexOf(n.name)>-1;return a=>tw(a,!0,1,void 0,s&&!q2(a)?n.from:void 0)}return r.parent==null?j2:null}function j2(){return 0}class Sf extends Gl{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new Sf(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(Z2(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return Zd(this.context.next,this.base,this.pos)}}function Z2(r,e){for(let t=e;t;t=t.parent)if(r==t)return!0;return!1}function ew(r){let e=r.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let n=r.options.simulateBreak,s=r.state.doc.lineAt(t.from),a=n==null||n<=s.from?s.to:Math.min(s.to,n);for(let o=t.to;;){let l=e.childAfter(o);if(!l||l==i)return null;if(!l.type.isSkipped){if(l.from>=a)return null;let E=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+E}}o=l.to}}function tw(r,e,t,i,n){let s=r.textAfter,a=s.match(/^\s*/)[0].length,o=i&&s.slice(a,a+i.length)==i||n==r.pos+a,l=ew(r);return l?o?r.column(l.from):r.column(l.to):r.baseIndent+(o?0:r.unit*t)}function rw({except:r,units:e=1}={}){return t=>{let i=r&&r.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const iw=200;function nw(){return be.transactionFilter.of(r=>{if(!r.docChanged||!r.isUserEvent("input.type")&&!r.isUserEvent("input.complete"))return r;let e=r.startState.languageDataAt("indentOnInput",r.startState.selection.main.head);if(!e.length)return r;let t=r.newDoc,{head:i}=r.newSelection.main,n=t.lineAt(i);if(i>n.from+iw)return r;let s=t.sliceString(n.from,i);if(!e.some(E=>E.test(s)))return r;let{state:a}=r,o=-1,l=[];for(let{head:E}of a.selection.ranges){let h=a.doc.lineAt(E);if(h.from==o)continue;o=h.from;let c=Rf(a,h.from);if(c==null)continue;let f=/^\s*/.exec(h.text)[0],T=oa(a,c);f!=T&&l.push({from:h.from,to:h.from+f.length,insert:T})}return l.length?[r,{changes:l,sequential:!0}]:r})}const sw=Ae.define(),eO=new Fe;function aw(r,e,t){let i=Lt(r);if(i.length<t)return null;let n=i.resolveStack(t,1),s=null;for(let a=n;a;a=a.next){let o=a.node;if(o.to<=t||o.from>t)continue;if(s&&o.from<e)break;let l=o.type.prop(eO);if(l&&(o.to<i.length-50||i.length==r.doc.length||!ow(o))){let E=l(o,r);E&&E.from<=t&&E.from>=e&&E.to>t&&(s=E)}}return s}function ow(r){let e=r.lastChild;return e&&e.to==r.to&&e.type.isError}function hl(r,e,t){for(let i of r.facet(sw)){let n=i(r,e,t);if(n)return n}return aw(r,e,t)}function tO(r,e){let t=e.mapPos(r.from,1),i=e.mapPos(r.to,-1);return t>=i?void 0:{from:t,to:i}}const Hl=ve.define({map:tO}),ga=ve.define({map:tO});function rO(r){let e=[];for(let{head:t}of r.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(r.lineBlockAt(t));return e}const fn=Bt.define({create(){return Ce.none},update(r,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,i)=>r=fA(r,t,i)),r=r.map(e.changes);for(let t of e.effects)if(t.is(Hl)&&!lw(r,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(sO),n=i?Ce.replace({widget:new Aw(i(e.state,t.value))}):TA;r=r.update({add:[n.range(t.value.from,t.value.to)]})}else t.is(ga)&&(r=r.update({filter:(i,n)=>t.value.from!=i||t.value.to!=n,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(r=fA(r,e.selection.main.head)),r},provide:r=>Te.decorations.from(r),toJSON(r,e){let t=[];return r.between(0,e.doc.length,(i,n)=>{t.push(i,n)}),t},fromJSON(r){if(!Array.isArray(r)||r.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<r.length;){let i=r[t++],n=r[t++];if(typeof i!="number"||typeof n!="number")throw new RangeError("Invalid JSON for fold state");e.push(TA.range(i,n))}return Ce.set(e,!0)}});function fA(r,e,t=e){let i=!1;return r.between(e,t,(n,s)=>{n<t&&s>e&&(i=!0)}),i?r.update({filterFrom:e,filterTo:t,filter:(n,s)=>n>=t||s<=e}):r}function cl(r,e,t){var i;let n=null;return(i=r.field(fn,!1))===null||i===void 0||i.between(e,t,(s,a)=>{(!n||n.from>s)&&(n={from:s,to:a})}),n}function lw(r,e,t){let i=!1;return r.between(e,e,(n,s)=>{n==e&&s==t&&(i=!0)}),i}function iO(r,e){return r.field(fn,!1)?e:e.concat(ve.appendConfig.of(aO()))}const Ew=r=>{for(let e of rO(r)){let t=hl(r.state,e.from,e.to);if(t)return r.dispatch({effects:iO(r.state,[Hl.of(t),nO(r,t)])}),!0}return!1},hw=r=>{if(!r.state.field(fn,!1))return!1;let e=[];for(let t of rO(r)){let i=cl(r.state,t.from,t.to);i&&e.push(ga.of(i),nO(r,i,!1))}return e.length&&r.dispatch({effects:e}),e.length>0};function nO(r,e,t=!0){let i=r.state.doc.lineAt(e.from).number,n=r.state.doc.lineAt(e.to).number;return Te.announce.of(`${r.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${r.state.phrase("to")} ${n}.`)}const cw=r=>{let{state:e}=r,t=[];for(let i=0;i<e.doc.length;){let n=r.lineBlockAt(i),s=hl(e,n.from,n.to);s&&t.push(Hl.of(s)),i=(s?r.lineBlockAt(s.to):n).to+1}return t.length&&r.dispatch({effects:iO(r.state,t)}),!!t.length},fw=r=>{let e=r.state.field(fn,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,r.state.doc.length,(i,n)=>{t.push(ga.of({from:i,to:n}))}),r.dispatch({effects:t}),!0},Tw=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Ew},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:hw},{key:"Ctrl-Alt-[",run:cw},{key:"Ctrl-Alt-]",run:fw}],uw={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},sO=Ae.define({combine(r){return ri(r,uw)}});function aO(r){return[fn,dw]}function oO(r,e){let{state:t}=r,i=t.facet(sO),n=a=>{let o=r.lineBlockAt(r.posAtDOM(a.target)),l=cl(r.state,o.from,o.to);l&&r.dispatch({effects:ga.of(l)}),a.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(r,n,e);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=n,s}const TA=Ce.replace({widget:new class extends Oi{toDOM(r){return oO(r,null)}}});class Aw extends Oi{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return oO(e,this.value)}}const Rw={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class rh extends Si{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Sw(r={}){let e={...Rw,...r},t=new rh(e,!0),i=new rh(e,!1),n=Et.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(bi)!=a.state.facet(bi)||a.startState.field(fn,!1)!=a.state.field(fn,!1)||Lt(a.startState)!=Lt(a.state)||e.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let o=new Ai;for(let l of a.viewportLineBlocks){let E=cl(a.state,l.from,l.to)?i:hl(a.state,l.from,l.to)?t:null;E&&o.add(l.from,l.from,E)}return o.finish()}}),{domEventHandlers:s}=e;return[n,S2({class:"cm-foldGutter",markers(a){var o;return((o=a.plugin(n))===null||o===void 0?void 0:o.markers)||He.empty},initialSpacer(){return new rh(e,!1)},domEventHandlers:{...s,click:(a,o,l)=>{if(s.click&&s.click(a,o,l))return!0;let E=cl(a.state,o.from,o.to);if(E)return a.dispatch({effects:ga.of(E)}),!0;let h=hl(a.state,o.from,o.to);return h?(a.dispatch({effects:Hl.of(h)}),!0):!1}}}),aO()]}const dw=Te.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class La{constructor(e,t){this.specs=e;let i;function n(o){let l=wi.newName();return(i||(i=Object.create(null)))["."+l]=o,l}const s=typeof t.all=="string"?t.all:t.all?n(t.all):void 0,a=t.scope;this.scope=a instanceof yr?o=>o.prop(wn)==a.data:a?o=>o==a:void 0,this.style=qd(e.map(o=>({tag:o.tag,class:o.class||n(Object.assign({},o,{tag:null}))})),{all:s}).style,this.module=i?new wi(i):null,this.themeType=t.themeType}static define(e,t){return new La(e,t||{})}}const cc=Ae.define(),lO=Ae.define({combine(r){return r.length?[r[0]]:null}});function ih(r){let e=r.facet(cc);return e.length?e:r.facet(lO)}function EO(r,e){let t=[Iw],i;return r instanceof La&&(r.module&&t.push(Te.styleModule.of(r.module)),i=r.themeType),e?.fallback?t.push(lO.of(r)):i?t.push(cc.computeN([Te.darkTheme],n=>n.facet(Te.darkTheme)==(i=="dark")?[r]:[])):t.push(cc.of(r)),t}class Ow{constructor(e){this.markCache=Object.create(null),this.tree=Lt(e.state),this.decorations=this.buildDeco(e,ih(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Lt(e.state),i=ih(e.state),n=i!=ih(e.startState),{viewport:s}=e.view,a=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!n&&t.type==this.tree.type&&a>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(t!=this.tree||e.viewportChanged||n)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return Ce.none;let i=new Ai;for(let{from:n,to:s}of e.visibleRanges)H2(this.tree,t,(a,o,l)=>{i.add(a,o,this.markCache[l]||(this.markCache[l]=Ce.mark({class:l})))},n,s);return i.finish()}}const Iw=In.high(Et.fromClass(Ow,{decorations:r=>r.decorations})),Nw=La.define([{tag:W.meta,color:"#404740"},{tag:W.link,textDecoration:"underline"},{tag:W.heading,textDecoration:"underline",fontWeight:"bold"},{tag:W.emphasis,fontStyle:"italic"},{tag:W.strong,fontWeight:"bold"},{tag:W.strikethrough,textDecoration:"line-through"},{tag:W.keyword,color:"#708"},{tag:[W.atom,W.bool,W.url,W.contentSeparator,W.labelName],color:"#219"},{tag:[W.literal,W.inserted],color:"#164"},{tag:[W.string,W.deleted],color:"#a11"},{tag:[W.regexp,W.escape,W.special(W.string)],color:"#e40"},{tag:W.definition(W.variableName),color:"#00f"},{tag:W.local(W.variableName),color:"#30a"},{tag:[W.typeName,W.namespace],color:"#085"},{tag:W.className,color:"#167"},{tag:[W.special(W.variableName),W.macroName],color:"#256"},{tag:W.definition(W.propertyName),color:"#00c"},{tag:W.comment,color:"#940"},{tag:W.invalid,color:"#f00"}]),pw=Te.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),hO=1e4,cO="()[]{}",fO=Ae.define({combine(r){return ri(r,{afterCursor:!0,brackets:cO,maxScanDistance:hO,renderMatch:_w})}}),mw=Ce.mark({class:"cm-matchingBracket"}),Cw=Ce.mark({class:"cm-nonmatchingBracket"});function _w(r){let e=[],t=r.matched?mw:Cw;return e.push(t.range(r.start.from,r.start.to)),r.end&&e.push(t.range(r.end.from,r.end.to)),e}const gw=Bt.define({create(){return Ce.none},update(r,e){if(!e.docChanged&&!e.selection)return r;let t=[],i=e.state.facet(fO);for(let n of e.state.selection.ranges){if(!n.empty)continue;let s=qr(e.state,n.head,-1,i)||n.head>0&&qr(e.state,n.head-1,1,i)||i.afterCursor&&(qr(e.state,n.head,1,i)||n.head<e.state.doc.length&&qr(e.state,n.head+1,-1,i));s&&(t=t.concat(i.renderMatch(s,e.state)))}return Ce.set(t,!0)},provide:r=>Te.decorations.from(r)}),Lw=[gw,pw];function Dw(r={}){return[fO.of(r),Lw]}const xw=new Fe;function fc(r,e,t){let i=r.prop(e<0?Fe.openedBy:Fe.closedBy);if(i)return i;if(r.name.length==1){let n=t.indexOf(r.name);if(n>-1&&n%2==(e<0?1:0))return[t[n+e]]}return null}function Tc(r){let e=r.type.prop(xw);return e?e(r.node):r}function qr(r,e,t,i={}){let n=i.maxScanDistance||hO,s=i.brackets||cO,a=Lt(r),o=a.resolveInner(e,t);for(let l=o;l;l=l.parent){let E=fc(l.type,t,s);if(E&&l.from<l.to){let h=Tc(l);if(h&&(t>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return Pw(r,e,t,l,h,E,s)}}return Mw(r,e,t,a,o.type,n,s)}function Pw(r,e,t,i,n,s,a){let o=i.parent,l={from:n.from,to:n.to},E=0,h=o?.cursor();if(h&&(t<0?h.childBefore(i.from):h.childAfter(i.to)))do if(t<0?h.to<=i.from:h.from>=i.to){if(E==0&&s.indexOf(h.type.name)>-1&&h.from<h.to){let c=Tc(h);return{start:l,end:c?{from:c.from,to:c.to}:void 0,matched:!0}}else if(fc(h.type,t,a))E++;else if(fc(h.type,-t,a)){if(E==0){let c=Tc(h);return{start:l,end:c&&c.from<c.to?{from:c.from,to:c.to}:void 0,matched:!1}}E--}}while(t<0?h.prevSibling():h.nextSibling());return{start:l,matched:!1}}function Mw(r,e,t,i,n,s,a){let o=t<0?r.sliceDoc(e-1,e):r.sliceDoc(e,e+1),l=a.indexOf(o);if(l<0||l%2==0!=t>0)return null;let E={from:t<0?e-1:e,to:t>0?e+1:e},h=r.doc.iterRange(e,t>0?r.doc.length:0),c=0;for(let f=0;!h.next().done&&f<=s;){let T=h.value;t<0&&(f+=T.length);let A=e+f*t;for(let u=t>0?0:T.length-1,R=t>0?T.length:-1;u!=R;u+=t){let d=a.indexOf(T[u]);if(!(d<0||i.resolveInner(A+u,1).type!=n))if(d%2==0==t>0)c++;else{if(c==1)return{start:E,end:{from:A+u,to:A+u+1},matched:d>>1==l>>1};c--}}t>0&&(f+=T.length)}return h.done?{start:E,matched:!1}:null}const vw=Object.create(null),uA=[sr.none],AA=[],RA=Object.create(null),Uw=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Uw[r]=yw(vw,e);function nh(r,e){AA.indexOf(r)>-1||(AA.push(r),console.warn(e))}function yw(r,e){let t=[];for(let o of e.split(" ")){let l=[];for(let E of o.split(".")){let h=r[E]||W[E];h?typeof h=="function"?l.length?l=l.map(h):nh(E,`Modifier ${E} used at start of tag`):l.length?nh(E,`Tag ${E} used as modifier`):l=Array.isArray(h)?h:[h]:nh(E,`Unknown highlighting tag ${E}`)}for(let E of l)t.push(E)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),n=i+" "+t.map(o=>o.id),s=RA[n];if(s)return s.id;let a=RA[n]=sr.define({id:uA.length,name:i,props:[Jd({[i]:t})]});return uA.push(a),a.id}tt.RTL,tt.LTR;const ww=r=>{let{state:e}=r,t=e.doc.lineAt(e.selection.main.from),i=Of(r.state,t.from);return i.line?Fw(r):i.block?bw(r):!1};function df(r,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let n=r(e,t);return n?(i(t.update(n)),!0):!1}}const Fw=df(kw,0),Bw=df(TO,0),bw=df((r,e)=>TO(r,e,Hw(e)),0);function Of(r,e){let t=r.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const _s=50;function Gw(r,{open:e,close:t},i,n){let s=r.sliceDoc(i-_s,i),a=r.sliceDoc(n,n+_s),o=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(a)[0].length,E=s.length-o;if(s.slice(E-e.length,E)==e&&a.slice(l,l+t.length)==t)return{open:{pos:i-o,margin:o&&1},close:{pos:n+l,margin:l&&1}};let h,c;n-i<=2*_s?h=c=r.sliceDoc(i,n):(h=r.sliceDoc(i,i+_s),c=r.sliceDoc(n-_s,n));let f=/^\s*/.exec(h)[0].length,T=/\s*$/.exec(c)[0].length,A=c.length-T-t.length;return h.slice(f,f+e.length)==e&&c.slice(A,A+t.length)==t?{open:{pos:i+f+e.length,margin:/\s/.test(h.charAt(f+e.length))?1:0},close:{pos:n-T-t.length,margin:/\s/.test(c.charAt(A-1))?1:0}}:null}function Hw(r){let e=[];for(let t of r.selection.ranges){let i=r.doc.lineAt(t.from),n=t.to<=i.to?i:r.doc.lineAt(t.to);n.from>i.from&&n.from==t.to&&(n=t.to==i.to+1?i:r.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=n.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:n.to})}return e}function TO(r,e,t=e.selection.ranges){let i=t.map(s=>Of(e,s.from).block);if(!i.every(s=>s))return null;let n=t.map((s,a)=>Gw(e,i[a],s.from,s.to));if(r!=2&&!n.every(s=>s))return{changes:e.changes(t.map((s,a)=>n[a]?[]:[{from:s.from,insert:i[a].open+" "},{from:s.to,insert:" "+i[a].close}]))};if(r!=1&&n.some(s=>s)){let s=[];for(let a=0,o;a<n.length;a++)if(o=n[a]){let l=i[a],{open:E,close:h}=o;s.push({from:E.pos-l.open.length,to:E.pos+E.margin},{from:h.pos-h.margin,to:h.pos+l.close.length})}return{changes:s}}return null}function kw(r,e,t=e.selection.ranges){let i=[],n=-1;for(let{from:s,to:a}of t){let o=i.length,l=1e9,E=Of(e,s).line;if(E){for(let h=s;h<=a;){let c=e.doc.lineAt(h);if(c.from>n&&(s==a||a>c.from)){n=c.from;let f=/^\s*/.exec(c.text)[0].length,T=f==c.length,A=c.text.slice(f,f+E.length)==E?f:-1;f<c.text.length&&f<l&&(l=f),i.push({line:c,comment:A,token:E,indent:f,empty:T,single:!1})}h=c.to+1}if(l<1e9)for(let h=o;h<i.length;h++)i[h].indent<i[h].line.text.length&&(i[h].indent=l);i.length==o+1&&(i[o].single=!0)}}if(r!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:o,token:l,indent:E,empty:h,single:c}of i)(c||!h)&&s.push({from:o.from+E,insert:l+" "});let a=e.changes(s);return{changes:a,selection:e.selection.map(a,1)}}else if(r!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:a,comment:o,token:l}of i)if(o>=0){let E=a.from+o,h=E+l.length;a.text[h-a.from]==" "&&h++,s.push({from:E,to:h})}return{changes:s}}return null}const uc=ti.define(),Yw=ti.define(),Vw=Ae.define(),uO=Ae.define({combine(r){return ri(r,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,n)=>e(i,n)||t(i,n)})}}),AO=Bt.define({create(){return Qr.empty},update(r,e){let t=e.state.facet(uO),i=e.annotation(uc);if(i){let l=tr.fromTransaction(e,i.selection),E=i.side,h=E==0?r.undone:r.done;return l?h=fl(h,h.length,t.minDepth,l):h=dO(h,e.startState.selection),new Qr(E==0?i.rest:h,E==0?h:i.rest)}let n=e.annotation(Yw);if((n=="full"||n=="before")&&(r=r.isolate()),e.annotation(dt.addToHistory)===!1)return e.changes.empty?r:r.addMapping(e.changes.desc);let s=tr.fromTransaction(e),a=e.annotation(dt.time),o=e.annotation(dt.userEvent);return s?r=r.addChanges(s,a,o,t,e):e.selection&&(r=r.addSelection(e.startState.selection,a,o,t.newGroupDelay)),(n=="full"||n=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(e=>e.toJSON()),undone:r.undone.map(e=>e.toJSON())}},fromJSON(r){return new Qr(r.done.map(tr.fromJSON),r.undone.map(tr.fromJSON))}});function Ww(r={}){return[AO,uO.of(r),Te.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?RO:e.inputType=="historyRedo"?Ac:null;return i?(e.preventDefault(),i(t)):!1}})]}function kl(r,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let n=t.field(AO,!1);if(!n)return!1;let s=n.pop(r,t,e);return s?(i(s),!0):!1}}const RO=kl(0,!1),Ac=kl(1,!1),Xw=kl(0,!0),Kw=kl(1,!0);class tr{constructor(e,t,i,n,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=n,this.selectionsAfter=s}setSelAfter(e){return new tr(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(n=>n.toJSON())}}static fromJSON(e){return new tr(e.changes&&St.fromJSON(e.changes),[],e.mapped&&jr.fromJSON(e.mapped),e.startSelection&&j.fromJSON(e.startSelection),e.selectionsAfter.map(j.fromJSON))}static fromTransaction(e,t){let i=Or;for(let n of e.startState.facet(Vw)){let s=n(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new tr(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,Or)}static selection(e){return new tr(void 0,Or,void 0,void 0,e)}}function fl(r,e,t,i){let n=e+1>t+20?e-t-1:0,s=r.slice(n,e);return s.push(i),s}function $w(r,e){let t=[],i=!1;return r.iterChangedRanges((n,s)=>t.push(n,s)),e.iterChangedRanges((n,s,a,o)=>{for(let l=0;l<t.length;){let E=t[l++],h=t[l++];o>=E&&a<=h&&(i=!0)}}),i}function Jw(r,e){return r.ranges.length==e.ranges.length&&r.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function SO(r,e){return r.length?e.length?r.concat(e):r:e}const Or=[],zw=200;function dO(r,e){if(r.length){let t=r[r.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-zw));return i.length&&i[i.length-1].eq(e)?r:(i.push(e),fl(r,r.length-1,1e9,t.setSelAfter(i)))}else return[tr.selection([e])]}function qw(r){let e=r[r.length-1],t=r.slice();return t[r.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function sh(r,e){if(!r.length)return r;let t=r.length,i=Or;for(;t;){let n=Qw(r[t-1],e,i);if(n.changes&&!n.changes.empty||n.effects.length){let s=r.slice(0,t);return s[t-1]=n,s}else e=n.mapped,t--,i=n.selectionsAfter}return i.length?[tr.selection(i)]:Or}function Qw(r,e,t){let i=SO(r.selectionsAfter.length?r.selectionsAfter.map(o=>o.map(e)):Or,t);if(!r.changes)return tr.selection(i);let n=r.changes.map(e),s=e.mapDesc(r.changes,!0),a=r.mapped?r.mapped.composeDesc(s):s;return new tr(n,ve.mapEffects(r.effects,e),a,r.startSelection.map(s),i)}const jw=/^(input\.type|delete)($|\.)/;class Qr{constructor(e,t,i=0,n=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=n}isolate(){return this.prevTime?new Qr(this.done,this.undone):this}addChanges(e,t,i,n,s){let a=this.done,o=a[a.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!i||jw.test(i))&&(!o.selectionsAfter.length&&t-this.prevTime<n.newGroupDelay&&n.joinToEvent(s,$w(o.changes,e.changes))||i=="input.type.compose")?a=fl(a,a.length-1,n.minDepth,new tr(e.changes.compose(o.changes),SO(ve.mapEffects(e.effects,o.changes),o.effects),o.mapped,o.startSelection,Or)):a=fl(a,a.length,n.minDepth,e),new Qr(a,Or,t,i)}addSelection(e,t,i,n){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Or;return s.length>0&&t-this.prevTime<n&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&Jw(s[s.length-1],e)?this:new Qr(dO(this.done,e),this.undone,t,i)}addMapping(e){return new Qr(sh(this.done,e),sh(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let n=e==0?this.done:this.undone;if(n.length==0)return null;let s=n[n.length-1],a=s.selectionsAfter[0]||t.selection;if(i&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:uc.of({side:e,rest:qw(n),selection:a}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let o=n.length==1?Or:n.slice(0,n.length-1);return s.mapped&&(o=sh(o,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:uc.of({side:e,rest:o,selection:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Qr.empty=new Qr(Or,Or);const Zw=[{key:"Mod-z",run:RO,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Ac,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Ac,preventDefault:!0},{key:"Mod-u",run:Xw,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Kw,preventDefault:!0}];function Es(r,e){return j.create(r.ranges.map(e),r.mainIndex)}function Gr(r,e){return r.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Hr({state:r,dispatch:e},t){let i=Es(r.selection,t);return i.eq(r.selection,!0)?!1:(e(Gr(r,i)),!0)}function Yl(r,e){return j.cursor(e?r.to:r.from)}function OO(r,e){return Hr(r,t=>t.empty?r.moveByChar(t,e):Yl(t,e))}function Vt(r){return r.textDirectionAt(r.state.selection.main.head)==tt.LTR}const IO=r=>OO(r,!Vt(r)),NO=r=>OO(r,Vt(r));function pO(r,e){return Hr(r,t=>t.empty?r.moveByGroup(t,e):Yl(t,e))}const eF=r=>pO(r,!Vt(r)),tF=r=>pO(r,Vt(r));function rF(r,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(r.sliceDoc(e.from,e.to)))||e.firstChild}function Vl(r,e,t){let i=Lt(r).resolveInner(e.head),n=t?Fe.closedBy:Fe.openedBy;for(let l=e.head;;){let E=t?i.childAfter(l):i.childBefore(l);if(!E)break;rF(r,E,n)?i=E:l=t?E.to:E.from}let s=i.type.prop(n),a,o;return s&&(a=t?qr(r,i.from,1):qr(r,i.to,-1))&&a.matched?o=t?a.end.to:a.end.from:o=t?i.to:i.from,j.cursor(o,t?-1:1)}const iF=r=>Hr(r,e=>Vl(r.state,e,!Vt(r))),nF=r=>Hr(r,e=>Vl(r.state,e,Vt(r)));function mO(r,e){return Hr(r,t=>{if(!t.empty)return Yl(t,e);let i=r.moveVertically(t,e);return i.head!=t.head?i:r.moveToLineBoundary(t,e)})}const CO=r=>mO(r,!1),_O=r=>mO(r,!0);function gO(r){let e=r.scrollDOM.clientHeight<r.scrollDOM.scrollHeight-2,t=0,i=0,n;if(e){for(let s of r.state.facet(Te.scrollMargins)){let a=s(r);a?.top&&(t=Math.max(a?.top,t)),a?.bottom&&(i=Math.max(a?.bottom,i))}n=r.scrollDOM.clientHeight-t-i}else n=(r.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(r.defaultLineHeight,n-5)}}function LO(r,e){let t=gO(r),{state:i}=r,n=Es(i.selection,a=>a.empty?r.moveVertically(a,e,t.height):Yl(a,e));if(n.eq(i.selection))return!1;let s;if(t.selfScroll){let a=r.coordsAtPos(i.selection.main.head),o=r.scrollDOM.getBoundingClientRect(),l=o.top+t.marginTop,E=o.bottom-t.marginBottom;a&&a.top>l&&a.bottom<E&&(s=Te.scrollIntoView(n.main.head,{y:"start",yMargin:a.top-l}))}return r.dispatch(Gr(i,n),{effects:s}),!0}const SA=r=>LO(r,!1),Rc=r=>LO(r,!0);function Hi(r,e,t){let i=r.lineBlockAt(e.head),n=r.moveToLineBoundary(e,t);if(n.head==e.head&&n.head!=(t?i.to:i.from)&&(n=r.moveToLineBoundary(e,t,!1)),!t&&n.head==i.from&&i.length){let s=/^\s*/.exec(r.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(n=j.cursor(i.from+s))}return n}const sF=r=>Hr(r,e=>Hi(r,e,!0)),aF=r=>Hr(r,e=>Hi(r,e,!1)),oF=r=>Hr(r,e=>Hi(r,e,!Vt(r))),lF=r=>Hr(r,e=>Hi(r,e,Vt(r))),EF=r=>Hr(r,e=>j.cursor(r.lineBlockAt(e.head).from,1)),hF=r=>Hr(r,e=>j.cursor(r.lineBlockAt(e.head).to,-1));function cF(r,e,t){let i=!1,n=Es(r.selection,s=>{let a=qr(r,s.head,-1)||qr(r,s.head,1)||s.head>0&&qr(r,s.head-1,1)||s.head<r.doc.length&&qr(r,s.head+1,-1);if(!a||!a.end)return s;i=!0;let o=a.start.from==s.head?a.end.to:a.end.from;return j.cursor(o)});return i?(e(Gr(r,n)),!0):!1}const fF=({state:r,dispatch:e})=>cF(r,e);function gr(r,e){let t=Es(r.state.selection,i=>{let n=e(i);return j.range(i.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)});return t.eq(r.state.selection)?!1:(r.dispatch(Gr(r.state,t)),!0)}function DO(r,e){return gr(r,t=>r.moveByChar(t,e))}const xO=r=>DO(r,!Vt(r)),PO=r=>DO(r,Vt(r));function MO(r,e){return gr(r,t=>r.moveByGroup(t,e))}const TF=r=>MO(r,!Vt(r)),uF=r=>MO(r,Vt(r)),AF=r=>gr(r,e=>Vl(r.state,e,!Vt(r))),RF=r=>gr(r,e=>Vl(r.state,e,Vt(r)));function vO(r,e){return gr(r,t=>r.moveVertically(t,e))}const UO=r=>vO(r,!1),yO=r=>vO(r,!0);function wO(r,e){return gr(r,t=>r.moveVertically(t,e,gO(r).height))}const dA=r=>wO(r,!1),OA=r=>wO(r,!0),SF=r=>gr(r,e=>Hi(r,e,!0)),dF=r=>gr(r,e=>Hi(r,e,!1)),OF=r=>gr(r,e=>Hi(r,e,!Vt(r))),IF=r=>gr(r,e=>Hi(r,e,Vt(r))),NF=r=>gr(r,e=>j.cursor(r.lineBlockAt(e.head).from)),pF=r=>gr(r,e=>j.cursor(r.lineBlockAt(e.head).to)),IA=({state:r,dispatch:e})=>(e(Gr(r,{anchor:0})),!0),NA=({state:r,dispatch:e})=>(e(Gr(r,{anchor:r.doc.length})),!0),pA=({state:r,dispatch:e})=>(e(Gr(r,{anchor:r.selection.main.anchor,head:0})),!0),mA=({state:r,dispatch:e})=>(e(Gr(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),mF=({state:r,dispatch:e})=>(e(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),CF=({state:r,dispatch:e})=>{let t=Wl(r).map(({from:i,to:n})=>j.range(i,Math.min(n+1,r.doc.length)));return e(r.update({selection:j.create(t),userEvent:"select"})),!0},_F=({state:r,dispatch:e})=>{let t=Es(r.selection,i=>{let n=Lt(r),s=n.resolveStack(i.from,1);if(i.empty){let a=n.resolveStack(i.from,-1);a.node.from>=s.node.from&&a.node.to<=s.node.to&&(s=a)}for(let a=s;a;a=a.next){let{node:o}=a;if((o.from<i.from&&o.to>=i.to||o.to>i.to&&o.from<=i.from)&&a.next)return j.range(o.to,o.from)}return i});return t.eq(r.selection)?!1:(e(Gr(r,t)),!0)};function FO(r,e){let{state:t}=r,i=t.selection,n=t.selection.ranges.slice();for(let s of t.selection.ranges){let a=t.doc.lineAt(s.head);if(e?a.to<r.state.doc.length:a.from>0)for(let o=s;;){let l=r.moveVertically(o,e);if(l.head<a.from||l.head>a.to){n.some(E=>E.head==l.head)||n.push(l);break}else{if(l.head==o.head)break;o=l}}}return n.length==i.ranges.length?!1:(r.dispatch(Gr(t,j.create(n,n.length-1))),!0)}const gF=r=>FO(r,!1),LF=r=>FO(r,!0),DF=({state:r,dispatch:e})=>{let t=r.selection,i=null;return t.ranges.length>1?i=j.create([t.main]):t.main.empty||(i=j.create([j.cursor(t.main.head)])),i?(e(Gr(r,i)),!0):!1};function Da(r,e){if(r.state.readOnly)return!1;let t="delete.selection",{state:i}=r,n=i.changeByRange(s=>{let{from:a,to:o}=s;if(a==o){let l=e(s);l<a?(t="delete.backward",l=co(r,l,!1)):l>a&&(t="delete.forward",l=co(r,l,!0)),a=Math.min(a,l),o=Math.max(o,l)}else a=co(r,a,!1),o=co(r,o,!0);return a==o?{range:s}:{changes:{from:a,to:o},range:j.cursor(a,a<s.head?-1:1)}});return n.changes.empty?!1:(r.dispatch(i.update(n,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?Te.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function co(r,e,t){if(r instanceof Te)for(let i of r.state.facet(Te.atomicRanges).map(n=>n(r)))i.between(e,e,(n,s)=>{n<e&&s>e&&(e=t?s:n)});return e}const BO=(r,e,t)=>Da(r,i=>{let n=i.from,{state:s}=r,a=s.doc.lineAt(n),o,l;if(t&&!e&&n>a.from&&n<a.from+200&&!/[^ \t]/.test(o=a.text.slice(0,n-a.from))){if(o[o.length-1]=="	")return n-1;let E=ls(o,s.tabSize),h=E%El(s)||El(s);for(let c=0;c<h&&o[o.length-1-c]==" ";c++)n--;l=n}else l=yt(a.text,n-a.from,e,e)+a.from,l==n&&a.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(a.text.slice(l-a.from,n-a.from))&&(l=yt(a.text,l-a.from,!1,!1)+a.from);return l}),Sc=r=>BO(r,!1,!0),bO=r=>BO(r,!0,!1),GO=(r,e)=>Da(r,t=>{let i=t.head,{state:n}=r,s=n.doc.lineAt(i),a=n.charCategorizer(i);for(let o=null;;){if(i==(e?s.to:s.from)){i==t.head&&s.number!=(e?n.doc.lines:1)&&(i+=e?1:-1);break}let l=yt(s.text,i-s.from,e)+s.from,E=s.text.slice(Math.min(i,l)-s.from,Math.max(i,l)-s.from),h=a(E);if(o!=null&&h!=o)break;(E!=" "||i!=t.head)&&(o=h),i=l}return i}),HO=r=>GO(r,!1),xF=r=>GO(r,!0),PF=r=>Da(r,e=>{let t=r.lineBlockAt(e.head).to;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),MF=r=>Da(r,e=>{let t=r.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),vF=r=>Da(r,e=>{let t=r.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),UF=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:ke.of(["",""])},range:j.cursor(i.from)}));return e(r.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},yF=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(i=>{if(!i.empty||i.from==0||i.from==r.doc.length)return{range:i};let n=i.from,s=r.doc.lineAt(n),a=n==s.from?n-1:yt(s.text,n-s.from,!1)+s.from,o=n==s.to?n+1:yt(s.text,n-s.from,!0)+s.from;return{changes:{from:a,to:o,insert:r.doc.slice(n,o).append(r.doc.slice(a,n))},range:j.cursor(o)}});return t.changes.empty?!1:(e(r.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Wl(r){let e=[],t=-1;for(let i of r.selection.ranges){let n=r.doc.lineAt(i.from),s=r.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=r.doc.lineAt(i.to-1)),t>=n.number){let a=e[e.length-1];a.to=s.to,a.ranges.push(i)}else e.push({from:n.from,to:s.to,ranges:[i]});t=s.number+1}return e}function kO(r,e,t){if(r.readOnly)return!1;let i=[],n=[];for(let s of Wl(r)){if(t?s.to==r.doc.length:s.from==0)continue;let a=r.doc.lineAt(t?s.to+1:s.from-1),o=a.length+1;if(t){i.push({from:s.to,to:a.to},{from:s.from,insert:a.text+r.lineBreak});for(let l of s.ranges)n.push(j.range(Math.min(r.doc.length,l.anchor+o),Math.min(r.doc.length,l.head+o)))}else{i.push({from:a.from,to:s.from},{from:s.to,insert:r.lineBreak+a.text});for(let l of s.ranges)n.push(j.range(l.anchor-o,l.head-o))}}return i.length?(e(r.update({changes:i,scrollIntoView:!0,selection:j.create(n,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const wF=({state:r,dispatch:e})=>kO(r,e,!1),FF=({state:r,dispatch:e})=>kO(r,e,!0);function YO(r,e,t){if(r.readOnly)return!1;let i=[];for(let n of Wl(r))t?i.push({from:n.from,insert:r.doc.slice(n.from,n.to)+r.lineBreak}):i.push({from:n.to,insert:r.lineBreak+r.doc.slice(n.from,n.to)});return e(r.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const BF=({state:r,dispatch:e})=>YO(r,e,!1),bF=({state:r,dispatch:e})=>YO(r,e,!0),GF=r=>{if(r.state.readOnly)return!1;let{state:e}=r,t=e.changes(Wl(e).map(({from:n,to:s})=>(n>0?n--:s<e.doc.length&&s++,{from:n,to:s}))),i=Es(e.selection,n=>{let s;if(r.lineWrapping){let a=r.lineBlockAt(n.head),o=r.coordsAtPos(n.head,n.assoc||1);o&&(s=a.bottom+r.documentTop-o.bottom+r.defaultLineHeight/2)}return r.moveVertically(n,!0,s)}).map(t);return r.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function HF(r,e){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Lt(r).resolveInner(e),i=t.childBefore(e),n=t.childAfter(e),s;return i&&n&&i.to<=e&&n.from>=e&&(s=i.type.prop(Fe.closedBy))&&s.indexOf(n.name)>-1&&r.doc.lineAt(i.to).from==r.doc.lineAt(n.from).from&&!/\S/.test(r.sliceDoc(i.to,n.from))?{from:i.to,to:n.from}:null}const CA=VO(!1),kF=VO(!0);function VO(r){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(n=>{let{from:s,to:a}=n,o=e.doc.lineAt(s),l=!r&&s==a&&HF(e,s);r&&(s=a=(a<=o.to?o:e.doc.lineAt(a)).to);let E=new Gl(e,{simulateBreak:s,simulateDoubleBreak:!!l}),h=Rf(E,s);for(h==null&&(h=ls(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));a<o.to&&/\s/.test(o.text[a-o.from]);)a++;l?{from:s,to:a}=l:s>o.from&&s<o.from+100&&!/\S/.test(o.text.slice(0,s))&&(s=o.from);let c=["",oa(e,h)];return l&&c.push(oa(e,E.lineIndent(o.from,-1))),{changes:{from:s,to:a,insert:ke.of(c)},range:j.cursor(s+1+c[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function If(r,e){let t=-1;return r.changeByRange(i=>{let n=[];for(let a=i.from;a<=i.to;){let o=r.doc.lineAt(a);o.number>t&&(i.empty||i.to>o.from)&&(e(o,n,i),t=o.number),a=o.to+1}let s=r.changes(n);return{changes:n,range:j.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const YF=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=Object.create(null),i=new Gl(r,{overrideIndentation:s=>{let a=t[s];return a??-1}}),n=If(r,(s,a,o)=>{let l=Rf(i,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let E=/^\s*/.exec(s.text)[0],h=oa(r,l);(E!=h||o.from<s.from+E.length)&&(t[s.from]=l,a.push({from:s.from,to:s.from+E.length,insert:h}))});return n.changes.empty||e(r.update(n,{userEvent:"indent"})),!0},WO=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(If(r,(t,i)=>{i.push({from:t.from,insert:r.facet(bl)})}),{userEvent:"input.indent"})),!0),XO=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(If(r,(t,i)=>{let n=/^\s*/.exec(t.text)[0];if(!n)return;let s=ls(n,r.tabSize),a=0,o=oa(r,Math.max(0,s-El(r)));for(;a<n.length&&a<o.length&&n.charCodeAt(a)==o.charCodeAt(a);)a++;i.push({from:t.from+a,to:t.from+n.length,insert:o.slice(a)})}),{userEvent:"delete.dedent"})),!0),VF=r=>(r.setTabFocusMode(),!0),WF=[{key:"Ctrl-b",run:IO,shift:xO,preventDefault:!0},{key:"Ctrl-f",run:NO,shift:PO},{key:"Ctrl-p",run:CO,shift:UO},{key:"Ctrl-n",run:_O,shift:yO},{key:"Ctrl-a",run:EF,shift:NF},{key:"Ctrl-e",run:hF,shift:pF},{key:"Ctrl-d",run:bO},{key:"Ctrl-h",run:Sc},{key:"Ctrl-k",run:PF},{key:"Ctrl-Alt-h",run:HO},{key:"Ctrl-o",run:UF},{key:"Ctrl-t",run:yF},{key:"Ctrl-v",run:Rc}],XF=[{key:"ArrowLeft",run:IO,shift:xO,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:eF,shift:TF,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:oF,shift:OF,preventDefault:!0},{key:"ArrowRight",run:NO,shift:PO,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:tF,shift:uF,preventDefault:!0},{mac:"Cmd-ArrowRight",run:lF,shift:IF,preventDefault:!0},{key:"ArrowUp",run:CO,shift:UO,preventDefault:!0},{mac:"Cmd-ArrowUp",run:IA,shift:pA},{mac:"Ctrl-ArrowUp",run:SA,shift:dA},{key:"ArrowDown",run:_O,shift:yO,preventDefault:!0},{mac:"Cmd-ArrowDown",run:NA,shift:mA},{mac:"Ctrl-ArrowDown",run:Rc,shift:OA},{key:"PageUp",run:SA,shift:dA},{key:"PageDown",run:Rc,shift:OA},{key:"Home",run:aF,shift:dF,preventDefault:!0},{key:"Mod-Home",run:IA,shift:pA},{key:"End",run:sF,shift:SF,preventDefault:!0},{key:"Mod-End",run:NA,shift:mA},{key:"Enter",run:CA,shift:CA},{key:"Mod-a",run:mF},{key:"Backspace",run:Sc,shift:Sc,preventDefault:!0},{key:"Delete",run:bO,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:HO,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:xF,preventDefault:!0},{mac:"Mod-Backspace",run:MF,preventDefault:!0},{mac:"Mod-Delete",run:vF,preventDefault:!0}].concat(WF.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),KF=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:iF,shift:AF},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:nF,shift:RF},{key:"Alt-ArrowUp",run:wF},{key:"Shift-Alt-ArrowUp",run:BF},{key:"Alt-ArrowDown",run:FF},{key:"Shift-Alt-ArrowDown",run:bF},{key:"Mod-Alt-ArrowUp",run:gF},{key:"Mod-Alt-ArrowDown",run:LF},{key:"Escape",run:DF},{key:"Mod-Enter",run:kF},{key:"Alt-l",mac:"Ctrl-l",run:CF},{key:"Mod-i",run:_F,preventDefault:!0},{key:"Mod-[",run:XO},{key:"Mod-]",run:WO},{key:"Mod-Alt-\\",run:YF},{key:"Shift-Mod-k",run:GF},{key:"Shift-Mod-\\",run:fF},{key:"Mod-/",run:ww},{key:"Alt-A",run:Bw},{key:"Ctrl-m",mac:"Shift-Alt-m",run:VF}].concat(XF),$F={key:"Tab",run:WO,shift:XO},_A=typeof String.prototype.normalize=="function"?r=>r.normalize("NFKD"):r=>r;class ts{constructor(e,t,i=0,n=e.length,s,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,n),this.bufferStart=i,this.normalize=s?o=>s(_A(o)):_A,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return jt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=qc(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=Jr(e);let n=this.normalize(t);if(n.length)for(let s=0,a=i;;s++){let o=n.charCodeAt(s),l=this.match(o,a,this.bufferPos+this.bufferStart);if(s==n.length-1){if(l)return this.value=l,this;break}a==i&&s<t.length&&t.charCodeAt(s)==o&&a++}}}match(e,t,i){let n=null;for(let s=0;s<this.matches.length;s+=2){let a=this.matches[s],o=!1;this.query.charCodeAt(a)==e&&(a==this.query.length-1?n={from:this.matches[s+1],to:i}:(this.matches[s]++,o=!0)),o||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?n={from:t,to:i}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}typeof Symbol<"u"&&(ts.prototype[Symbol.iterator]=function(){return this});const KO={from:-1,to:-1,match:/.*/.exec("")},Nf="gm"+(/x/.unicode==null?"":"u");class $O{constructor(e,t,i,n=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=KO,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new JO(e,t,i,n,s);this.re=new RegExp(t,Nf+(i?.ignoreCase?"i":"")),this.test=i?.test,this.iter=e.iter();let a=e.lineAt(n);this.curLineStart=a.from,this.matchPos=Tl(e,n),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,n=i+t[0].length;if(this.matchPos=Tl(this.text,n+(i==n?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<n||i>this.value.to)&&(!this.test||this.test(i,n,t)))return this.value={from:i,to:n,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const ah=new WeakMap;class Wn{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let n=ah.get(e);if(!n||n.from>=i||n.to<=t){let o=new Wn(t,e.sliceString(t,i));return ah.set(e,o),o}if(n.from==t&&n.to==i)return n;let{text:s,from:a}=n;return a>t&&(s=e.sliceString(t,a)+s,a=t),n.to<i&&(s+=e.sliceString(n.to,i)),ah.set(e,new Wn(a,s)),new Wn(t,s.slice(t-a,i-a))}}class JO{constructor(e,t,i,n,s){this.text=e,this.to=s,this.done=!1,this.value=KO,this.matchPos=Tl(e,n),this.re=new RegExp(t,Nf+(i?.ignoreCase?"i":"")),this.test=i?.test,this.flat=Wn.get(e,n,this.chunkEnd(n+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,n=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,n,t)))return this.value={from:i,to:n,match:t},this.matchPos=Tl(this.text,n+(i==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Wn.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&($O.prototype[Symbol.iterator]=JO.prototype[Symbol.iterator]=function(){return this});function JF(r){try{return new RegExp(r,Nf),!0}catch{return!1}}function Tl(r,e){if(e>=r.length)return e;let t=r.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}function dc(r){let e=String(r.state.doc.lineAt(r.state.selection.main.head).number),t=je("input",{class:"cm-textfield",name:"line",value:e}),i=je("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),r.dispatch({effects:Ws.of(!1)}),r.focus()):s.keyCode==13&&(s.preventDefault(),n())},onsubmit:s=>{s.preventDefault(),n()}},je("label",r.state.phrase("Go to line"),": ",t)," ",je("button",{class:"cm-button",type:"submit"},r.state.phrase("go")),je("button",{name:"close",onclick:()=>{r.dispatch({effects:Ws.of(!1)}),r.focus()},"aria-label":r.state.phrase("close"),type:"button"},["×"]));function n(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:a}=r,o=a.doc.lineAt(a.selection.main.head),[,l,E,h,c]=s,f=h?+h.slice(1):0,T=E?+E:o.number;if(E&&c){let R=T/100;l&&(R=R*(l=="-"?-1:1)+o.number/a.doc.lines),T=Math.round(a.doc.lines*R)}else E&&l&&(T=T*(l=="-"?-1:1)+o.number);let A=a.doc.line(Math.max(1,Math.min(a.doc.lines,T))),u=j.cursor(A.from+Math.max(0,Math.min(f,A.length)));r.dispatch({effects:[Ws.of(!1),Te.scrollIntoView(u.from,{y:"center"})],selection:u}),r.focus()}return{dom:i}}const Ws=ve.define(),gA=Bt.define({create(){return!0},update(r,e){for(let t of e.effects)t.is(Ws)&&(r=t.value);return r},provide:r=>na.from(r,e=>e?dc:null)}),zF=r=>{let e=ia(r,dc);if(!e){let t=[Ws.of(!0)];r.state.field(gA,!1)==null&&t.push(ve.appendConfig.of([gA,qF])),r.dispatch({effects:t}),e=ia(r,dc)}return e&&e.dom.querySelector("input").select(),!0},qF=Te.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),QF={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},jF=Ae.define({combine(r){return ri(r,QF,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function ZF(r){return[nB,iB]}const eB=Ce.mark({class:"cm-selectionMatch"}),tB=Ce.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function LA(r,e,t,i){return(t==0||r(e.sliceDoc(t-1,t))!=it.Word)&&(i==e.doc.length||r(e.sliceDoc(i,i+1))!=it.Word)}function rB(r,e,t,i){return r(e.sliceDoc(t,t+1))==it.Word&&r(e.sliceDoc(i-1,i))==it.Word}const iB=Et.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.selectionSet||r.docChanged||r.viewportChanged)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=r.state.facet(jF),{state:t}=r,i=t.selection;if(i.ranges.length>1)return Ce.none;let n=i.main,s,a=null;if(n.empty){if(!e.highlightWordAroundCursor)return Ce.none;let l=t.wordAt(n.head);if(!l)return Ce.none;a=t.charCategorizer(n.head),s=t.sliceDoc(l.from,l.to)}else{let l=n.to-n.from;if(l<e.minSelectionLength||l>200)return Ce.none;if(e.wholeWords){if(s=t.sliceDoc(n.from,n.to),a=t.charCategorizer(n.head),!(LA(a,t,n.from,n.to)&&rB(a,t,n.from,n.to)))return Ce.none}else if(s=t.sliceDoc(n.from,n.to),!s)return Ce.none}let o=[];for(let l of r.visibleRanges){let E=new ts(t.doc,s,l.from,l.to);for(;!E.next().done;){let{from:h,to:c}=E.value;if((!a||LA(a,t,h,c))&&(n.empty&&h<=n.from&&c>=n.to?o.push(tB.range(h,c)):(h>=n.to||c<=n.from)&&o.push(eB.range(h,c)),o.length>e.maxMatches))return Ce.none}}return Ce.set(o)}},{decorations:r=>r.decorations}),nB=Te.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),sB=({state:r,dispatch:e})=>{let{selection:t}=r,i=j.create(t.ranges.map(n=>r.wordAt(n.head)||j.cursor(n.head)),t.mainIndex);return i.eq(t)?!1:(e(r.update({selection:i})),!0)};function aB(r,e){let{main:t,ranges:i}=r.selection,n=r.wordAt(t.head),s=n&&n.from==t.from&&n.to==t.to;for(let a=!1,o=new ts(r.doc,e,i[i.length-1].to);;)if(o.next(),o.done){if(a)return null;o=new ts(r.doc,e,0,Math.max(0,i[i.length-1].from-1)),a=!0}else{if(a&&i.some(l=>l.from==o.value.from))continue;if(s){let l=r.wordAt(o.value.from);if(!l||l.from!=o.value.from||l.to!=o.value.to)continue}return o.value}}const oB=({state:r,dispatch:e})=>{let{ranges:t}=r.selection;if(t.some(s=>s.from===s.to))return sB({state:r,dispatch:e});let i=r.sliceDoc(t[0].from,t[0].to);if(r.selection.ranges.some(s=>r.sliceDoc(s.from,s.to)!=i))return!1;let n=aB(r,i);return n?(e(r.update({selection:r.selection.addRange(j.range(n.from,n.to),!1),effects:Te.scrollIntoView(n.to)})),!0):!1},hs=Ae.define({combine(r){return ri(r,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new OB(e),scrollToMatch:e=>Te.scrollIntoView(e)})}});class zO{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||JF(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new cB(this):new EB(this)}getCursor(e,t=0,i){let n=e.doc?e:be.create({doc:e});return i==null&&(i=n.doc.length),this.regexp?Mn(this,n,t,i):Pn(this,n,t,i)}}class qO{constructor(e){this.spec=e}}function Pn(r,e,t,i){return new ts(e.doc,r.unquoted,t,i,r.caseSensitive?void 0:n=>n.toLowerCase(),r.wholeWord?lB(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function lB(r,e){return(t,i,n,s)=>((s>t||s+n.length<i)&&(s=Math.max(0,t-2),n=r.sliceString(s,Math.min(r.length,i+2))),(e(ul(n,t-s))!=it.Word||e(Al(n,t-s))!=it.Word)&&(e(Al(n,i-s))!=it.Word||e(ul(n,i-s))!=it.Word))}class EB extends qO{constructor(e){super(e)}nextMatch(e,t,i){let n=Pn(this.spec,e,i,e.doc.length).nextOverlapping();if(n.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);n=Pn(this.spec,e,0,s).nextOverlapping()}return n.done||n.value.from==t&&n.value.to==i?null:n.value}prevMatchInRange(e,t,i){for(let n=i;;){let s=Math.max(t,n-1e4-this.spec.unquoted.length),a=Pn(this.spec,e,s,n),o=null;for(;!a.nextOverlapping().done;)o=a.value;if(o)return o;if(s==t)return null;n-=1e4}}prevMatch(e,t,i){let n=this.prevMatchInRange(e,0,t);return n||(n=this.prevMatchInRange(e,Math.max(0,i-this.spec.unquoted.length),e.doc.length)),n&&(n.from!=t||n.to!=i)?n:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=Pn(this.spec,e,0,e.doc.length),n=[];for(;!i.next().done;){if(n.length>=t)return null;n.push(i.value)}return n}highlight(e,t,i,n){let s=Pn(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)n(s.value.from,s.value.to)}}function Mn(r,e,t,i){return new $O(e.doc,r.search,{ignoreCase:!r.caseSensitive,test:r.wholeWord?hB(e.charCategorizer(e.selection.main.head)):void 0},t,i)}function ul(r,e){return r.slice(yt(r,e,!1),e)}function Al(r,e){return r.slice(e,yt(r,e))}function hB(r){return(e,t,i)=>!i[0].length||(r(ul(i.input,i.index))!=it.Word||r(Al(i.input,i.index))!=it.Word)&&(r(Al(i.input,i.index+i[0].length))!=it.Word||r(ul(i.input,i.index+i[0].length))!=it.Word)}class cB extends qO{nextMatch(e,t,i){let n=Mn(this.spec,e,i,e.doc.length).next();return n.done&&(n=Mn(this.spec,e,0,t).next()),n.done?null:n.value}prevMatchInRange(e,t,i){for(let n=1;;n++){let s=Math.max(t,i-n*1e4),a=Mn(this.spec,e,s,i),o=null;for(;!a.next().done;)o=a.value;if(o&&(s==t||o.from>s+10))return o;if(s==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,i)=>{if(i=="&")return e.match[0];if(i=="$")return"$";for(let n=i.length;n>0;n--){let s=+i.slice(0,n);if(s>0&&s<e.match.length)return e.match[s]+i.slice(n)}return t})}matchAll(e,t){let i=Mn(this.spec,e,0,e.doc.length),n=[];for(;!i.next().done;){if(n.length>=t)return null;n.push(i.value)}return n}highlight(e,t,i,n){let s=Mn(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)n(s.value.from,s.value.to)}}const la=ve.define(),pf=ve.define(),Mi=Bt.define({create(r){return new oh(Oc(r).create(),null)},update(r,e){for(let t of e.effects)t.is(la)?r=new oh(t.value.create(),r.panel):t.is(pf)&&(r=new oh(r.query,t.value?mf:null));return r},provide:r=>na.from(r,e=>e.panel)});class oh{constructor(e,t){this.query=e,this.panel=t}}const fB=Ce.mark({class:"cm-searchMatch"}),TB=Ce.mark({class:"cm-searchMatch cm-searchMatch-selected"}),uB=Et.fromClass(class{constructor(r){this.view=r,this.decorations=this.highlight(r.state.field(Mi))}update(r){let e=r.state.field(Mi);(e!=r.startState.field(Mi)||r.docChanged||r.selectionSet||r.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:r,panel:e}){if(!e||!r.spec.valid)return Ce.none;let{view:t}=this,i=new Ai;for(let n=0,s=t.visibleRanges,a=s.length;n<a;n++){let{from:o,to:l}=s[n];for(;n<a-1&&l>s[n+1].from-500;)l=s[++n].to;r.highlight(t.state,o,l,(E,h)=>{let c=t.state.selection.ranges.some(f=>f.from==E&&f.to==h);i.add(E,h,c?TB:fB)})}return i.finish()}},{decorations:r=>r.decorations});function xa(r){return e=>{let t=e.state.field(Mi,!1);return t&&t.query.spec.valid?r(e,t):ZO(e)}}const Rl=xa((r,{query:e})=>{let{to:t}=r.state.selection.main,i=e.nextMatch(r.state,t,t);if(!i)return!1;let n=j.single(i.from,i.to),s=r.state.facet(hs);return r.dispatch({selection:n,effects:[Cf(r,i),s.scrollToMatch(n.main,r)],userEvent:"select.search"}),jO(r),!0}),Sl=xa((r,{query:e})=>{let{state:t}=r,{from:i}=t.selection.main,n=e.prevMatch(t,i,i);if(!n)return!1;let s=j.single(n.from,n.to),a=r.state.facet(hs);return r.dispatch({selection:s,effects:[Cf(r,n),a.scrollToMatch(s.main,r)],userEvent:"select.search"}),jO(r),!0}),AB=xa((r,{query:e})=>{let t=e.matchAll(r.state,1e3);return!t||!t.length?!1:(r.dispatch({selection:j.create(t.map(i=>j.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),RB=({state:r,dispatch:e})=>{let t=r.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:n}=t.main,s=[],a=0;for(let o=new ts(r.doc,r.sliceDoc(i,n));!o.next().done;){if(s.length>1e3)return!1;o.value.from==i&&(a=s.length),s.push(j.range(o.value.from,o.value.to))}return e(r.update({selection:j.create(s,a),userEvent:"select.search.matches"})),!0},DA=xa((r,{query:e})=>{let{state:t}=r,{from:i,to:n}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,i,i);if(!s)return!1;let a=s,o=[],l,E,h=[];a.from==i&&a.to==n&&(E=t.toText(e.getReplacement(a)),o.push({from:a.from,to:a.to,insert:E}),a=e.nextMatch(t,a.from,a.to),h.push(Te.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+".")));let c=r.state.changes(o);return a&&(l=j.single(a.from,a.to).map(c),h.push(Cf(r,a)),h.push(t.facet(hs).scrollToMatch(l.main,r))),r.dispatch({changes:c,selection:l,effects:h,userEvent:"input.replace"}),!0}),SB=xa((r,{query:e})=>{if(r.state.readOnly)return!1;let t=e.matchAll(r.state,1e9).map(n=>{let{from:s,to:a}=n;return{from:s,to:a,insert:e.getReplacement(n)}});if(!t.length)return!1;let i=r.state.phrase("replaced $ matches",t.length)+".";return r.dispatch({changes:t,effects:Te.announce.of(i),userEvent:"input.replace.all"}),!0});function mf(r){return r.state.facet(hs).createPanel(r)}function Oc(r,e){var t,i,n,s,a;let o=r.selection.main,l=o.empty||o.to>o.from+100?"":r.sliceDoc(o.from,o.to);if(e&&!l)return e;let E=r.facet(hs);return new zO({search:((t=e?.literal)!==null&&t!==void 0?t:E.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(i=e?.caseSensitive)!==null&&i!==void 0?i:E.caseSensitive,literal:(n=e?.literal)!==null&&n!==void 0?n:E.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:E.regexp,wholeWord:(a=e?.wholeWord)!==null&&a!==void 0?a:E.wholeWord})}function QO(r){let e=ia(r,mf);return e&&e.dom.querySelector("[main-field]")}function jO(r){let e=QO(r);e&&e==r.root.activeElement&&e.select()}const ZO=r=>{let e=r.state.field(Mi,!1);if(e&&e.panel){let t=QO(r);if(t&&t!=r.root.activeElement){let i=Oc(r.state,e.query.spec);i.valid&&r.dispatch({effects:la.of(i)}),t.focus(),t.select()}}else r.dispatch({effects:[pf.of(!0),e?la.of(Oc(r.state,e.query.spec)):ve.appendConfig.of(NB)]});return!0},eI=r=>{let e=r.state.field(Mi,!1);if(!e||!e.panel)return!1;let t=ia(r,mf);return t&&t.dom.contains(r.root.activeElement)&&r.focus(),r.dispatch({effects:pf.of(!1)}),!0},dB=[{key:"Mod-f",run:ZO,scope:"editor search-panel"},{key:"F3",run:Rl,shift:Sl,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Rl,shift:Sl,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:eI,scope:"editor search-panel"},{key:"Mod-Shift-l",run:RB},{key:"Mod-Alt-g",run:zF},{key:"Mod-d",run:oB,preventDefault:!0}];class OB{constructor(e){this.view=e;let t=this.query=e.state.field(Mi).query.spec;this.commit=this.commit.bind(this),this.searchField=je("input",{value:t.search,placeholder:ar(e,"Find"),"aria-label":ar(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=je("input",{value:t.replace,placeholder:ar(e,"Replace"),"aria-label":ar(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=je("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=je("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=je("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(n,s,a){return je("button",{class:"cm-button",name:n,onclick:s,type:"button"},a)}this.dom=je("div",{onkeydown:n=>this.keydown(n),class:"cm-search"},[this.searchField,i("next",()=>Rl(e),[ar(e,"next")]),i("prev",()=>Sl(e),[ar(e,"previous")]),i("select",()=>AB(e),[ar(e,"all")]),je("label",null,[this.caseField,ar(e,"match case")]),je("label",null,[this.reField,ar(e,"regexp")]),je("label",null,[this.wordField,ar(e,"by word")]),...e.state.readOnly?[]:[je("br"),this.replaceField,i("replace",()=>DA(e),[ar(e,"replace")]),i("replaceAll",()=>SB(e),[ar(e,"replace all")])],je("button",{name:"close",onclick:()=>eI(e),"aria-label":ar(e,"close"),type:"button"},["×"])])}commit(){let e=new zO({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:la.of(e)}))}keydown(e){_y(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Sl:Rl)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),DA(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(la)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(hs).top}}function ar(r,e){return r.state.phrase(e)}const fo=30,To=/[\s\.,:;?!]/;function Cf(r,{from:e,to:t}){let i=r.state.doc.lineAt(e),n=r.state.doc.lineAt(t).to,s=Math.max(i.from,e-fo),a=Math.min(n,t+fo),o=r.state.sliceDoc(s,a);if(s!=i.from){for(let l=0;l<fo;l++)if(!To.test(o[l+1])&&To.test(o[l])){o=o.slice(l);break}}if(a!=n){for(let l=o.length-1;l>o.length-fo;l--)if(!To.test(o[l-1])&&To.test(o[l])){o=o.slice(0,l);break}}return Te.announce.of(`${r.state.phrase("current match")}. ${o} ${r.state.phrase("on line")} ${i.number}.`)}const IB=Te.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),NB=[Mi,In.low(uB),IB];class tI{constructor(e,t,i,n){this.state=e,this.pos=t,this.explicit=i,this.view=n,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Lt(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),n=t.text.slice(i-t.from,this.pos-t.from),s=n.search(iI(e,!1));return s<0?null:{from:i+s,to:this.pos,text:n.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,i){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),i&&i.onDocChange&&(this.abortOnDocChange=!0))}}function xA(r){let e=Object.keys(r).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function pB(r){let e=Object.create(null),t=Object.create(null);for(let{label:n}of r){e[n[0]]=!0;for(let s=1;s<n.length;s++)t[n[s]]=!0}let i=xA(e)+xA(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function rI(r){let e=r.map(n=>typeof n=="string"?{label:n}:n),[t,i]=e.every(n=>/^\w+$/.test(n.label))?[/\w*$/,/\w+$/]:pB(e);return n=>{let s=n.matchBefore(i);return s||n.explicit?{from:s?s.from:n.pos,options:e,validFor:t}:null}}function mB(r,e){return t=>{for(let i=Lt(t.state).resolveInner(t.pos,-1);i;i=i.parent){if(r.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(t)}}class PA{constructor(e,t,i,n){this.completion=e,this.source=t,this.match=i,this.score=n}}function rn(r){return r.selection.main.from}function iI(r,e){var t;let{source:i}=r,n=e&&i[0]!="^",s=i[i.length-1]!="$";return!n&&!s?r:new RegExp(`${n?"^":""}(?:${i})${s?"$":""}`,(t=r.flags)!==null&&t!==void 0?t:r.ignoreCase?"i":"")}const nI=ti.define();function CB(r,e,t,i){let{main:n}=r.selection,s=t-n.from,a=i-n.from;return{...r.changeByRange(o=>{if(o!=n&&t!=i&&r.sliceDoc(o.from+s,o.from+a)!=r.sliceDoc(t,i))return{range:o};let l=r.toText(e);return{changes:{from:o.from+s,to:i==n.from?o.to:o.from+a,insert:l},range:j.cursor(o.from+s+l.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const MA=new WeakMap;function _B(r){if(!Array.isArray(r))return r;let e=MA.get(r);return e||MA.set(r,e=rI(r)),e}const dl=ve.define(),Ea=ve.define();class gB{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=jt(e,t),n=Jr(i);this.chars.push(i);let s=e.slice(t,t+n),a=s.toUpperCase();this.folded.push(jt(a==s?s.toLowerCase():a,0)),t+=n}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:n,precise:s,byWord:a}=this;if(t.length==1){let O=jt(e,0),I=Jr(O),L=I==e.length?0:-100;if(O!=t[0])if(O==i[0])L+=-200;else return null;return this.ret(L,[0,I])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,E=0;if(o<0){for(let O=0,I=Math.min(e.length,200);O<I&&E<l;){let L=jt(e,O);(L==t[E]||L==i[E])&&(n[E++]=O),O+=Jr(L)}if(E<l)return null}let h=0,c=0,f=!1,T=0,A=-1,u=-1,R=/[a-z]/.test(e),d=!0;for(let O=0,I=Math.min(e.length,200),L=0;O<I&&c<l;){let D=jt(e,O);o<0&&(h<l&&D==t[h]&&(s[h++]=O),T<l&&(D==t[T]||D==i[T]?(T==0&&(A=O),u=O+1,T++):T=0));let U,_=D<255?D>=48&&D<=57||D>=97&&D<=122?2:D>=65&&D<=90?1:0:(U=qc(D))!=U.toLowerCase()?1:U!=U.toUpperCase()?2:0;(!O||_==1&&R||L==0&&_!=0)&&(t[c]==D||i[c]==D&&(f=!0)?a[c++]=O:a.length&&(d=!1)),L=_,O+=Jr(D)}return c==l&&a[0]==0&&d?this.result(-100+(f?-200:0),a,e):T==l&&A==0?this.ret(-200-e.length+(u==e.length?0:-100),[0,u]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):T==l?this.ret(-900-e.length,[A,u]):c==l?this.result(-100+(f?-200:0)+-700+(d?0:-1100),a,e):t.length==2?null:this.result((n[0]?-700:0)+-200+-1100,n,e)}result(e,t,i){let n=[],s=0;for(let a of t){let o=a+(this.astral?Jr(jt(i,a)):1);s&&n[s-1]==a?n[s-1]=o:(n[s++]=a,n[s++]=o)}return this.ret(e-i.length,n)}}class LB{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),i=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return i==null?null:(this.matched=[0,t.length],this.score=i+(e.length==this.pattern.length?0:-100),this)}}const Ct=Ae.define({combine(r){return ri(r,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:DB,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>vA(e(i),t(i)),optionClass:(e,t)=>i=>vA(e(i),t(i)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function vA(r,e){return r?e?r+" "+e:r:e}function DB(r,e,t,i,n,s){let a=r.textDirection==tt.RTL,o=a,l=!1,E="top",h,c,f=e.left-n.left,T=n.right-e.right,A=i.right-i.left,u=i.bottom-i.top;if(o&&f<Math.min(A,T)?o=!1:!o&&T<Math.min(A,f)&&(o=!0),A<=(o?f:T))h=Math.max(n.top,Math.min(t.top,n.bottom-u))-e.top,c=Math.min(400,o?f:T);else{l=!0,c=Math.min(400,(a?e.right:n.right-e.left)-30);let O=n.bottom-e.bottom;O>=u||O>e.top?h=t.bottom-e.top:(E="bottom",h=e.bottom-t.top)}let R=(e.bottom-e.top)/s.offsetHeight,d=(e.right-e.left)/s.offsetWidth;return{style:`${E}: ${h/R}px; max-width: ${c/d}px`,class:"cm-completionInfo-"+(l?a?"left-narrow":"right-narrow":o?"left":"right")}}function xB(r){let e=r.addToOptions.slice();return r.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(n=>"cm-completionIcon-"+n)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,n,s){let a=document.createElement("span");a.className="cm-completionLabel";let o=t.displayLabel||t.label,l=0;for(let E=0;E<s.length;){let h=s[E++],c=s[E++];h>l&&a.appendChild(document.createTextNode(o.slice(l,h)));let f=a.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(o.slice(h,c))),f.className="cm-completionMatchedText",l=c}return l<o.length&&a.appendChild(document.createTextNode(o.slice(l))),a},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function lh(r,e,t){if(r<=t)return{from:0,to:r};if(e<0&&(e=0),e<=r>>1){let n=Math.floor(e/t);return{from:n*t,to:(n+1)*t}}let i=Math.floor((r-e)/t);return{from:r-(i+1)*t,to:r-i*t}}class PB{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let n=e.state.field(t),{options:s,selected:a}=n.open,o=e.state.facet(Ct);this.optionContent=xB(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=lh(s.length,a,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:E}=e.state.field(t).open;for(let h=l.target,c;h&&h!=this.dom;h=h.parentNode)if(h.nodeName=="LI"&&(c=/-(\d+)$/.exec(h.id))&&+c[1]<E.length){this.applyCompletion(e,E[+c[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let E=e.state.field(this.stateField,!1);E&&E.tooltip&&e.state.facet(Ct).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Ea.of(null)})}),this.showOptions(s,n.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),n=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=n){let{options:s,selected:a,disabled:o}=i.open;(!n.open||n.open.options!=s)&&(this.range=lh(s.length,a,e.state.facet(Ct).maxRenderedOptions),this.showOptions(s,i.id)),this.updateSel(),o!=((t=n.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=lh(t.options.length,t.selected,this.view.state.facet(Ct).maxRenderedOptions),this.showOptions(t.options,e.id));let i=this.updateSelectedOption(t.selected);if(i){this.destroyInfo();let{completion:n}=t.options[t.selected],{info:s}=n;if(!s)return;let a=typeof s=="string"?document.createTextNode(s):s(n);if(!a)return;"then"in a?a.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,n)}).catch(o=>er(this.view.state,o,"completion info")):(this.addInfoPane(a,n),i.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",i.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:n,destroy:s}=e;i.appendChild(n),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,n=this.range.from;i;i=i.nextSibling,n++)i.nodeName!="LI"||!i.id?n--:n==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&(i.removeAttribute("aria-selected"),i.removeAttribute("aria-describedby"));return t&&vB(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),n=e.getBoundingClientRect(),s=this.space;if(!s){let a=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return n.top>Math.min(s.bottom,t.bottom)-10||n.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(Ct).positionInfo(this.view,t,n,i,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const n=document.createElement("ul");n.id=t,n.setAttribute("role","listbox"),n.setAttribute("aria-expanded","true"),n.setAttribute("aria-label",this.view.state.phrase("Completions")),n.addEventListener("mousedown",a=>{a.target==n&&a.preventDefault()});let s=null;for(let a=i.from;a<i.to;a++){let{completion:o,match:l}=e[a],{section:E}=o;if(E){let f=typeof E=="string"?E:E.name;if(f!=s&&(a>i.from||i.from==0))if(s=f,typeof E!="string"&&E.header)n.appendChild(E.header(E));else{let T=n.appendChild(document.createElement("completion-section"));T.textContent=f}}const h=n.appendChild(document.createElement("li"));h.id=t+"-"+a,h.setAttribute("role","option");let c=this.optionClass(o);c&&(h.className=c);for(let f of this.optionContent){let T=f(o,this.view.state,this.view,l);T&&h.appendChild(T)}}return i.from&&n.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&n.classList.add("cm-completionListIncompleteBottom"),n}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function MB(r,e){return t=>new PB(t,r,e)}function vB(r,e){let t=r.getBoundingClientRect(),i=e.getBoundingClientRect(),n=t.height/r.offsetHeight;i.top<t.top?r.scrollTop-=(t.top-i.top)/n:i.bottom>t.bottom&&(r.scrollTop+=(i.bottom-t.bottom)/n)}function UA(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function UB(r,e){let t=[],i=null,n=null,s=h=>{t.push(h);let{section:c}=h.completion;if(c){i||(i=[]);let f=typeof c=="string"?c:c.name;i.some(T=>T.name==f)||i.push(typeof c=="string"?{name:f}:c)}},a=e.facet(Ct);for(let h of r)if(h.hasResult()){let c=h.result.getMatch;if(h.result.filter===!1)for(let f of h.result.options)s(new PA(f,h.source,c?c(f):[],1e9-t.length));else{let f=e.sliceDoc(h.from,h.to),T,A=a.filterStrict?new LB(f):new gB(f);for(let u of h.result.options)if(T=A.match(u.label)){let R=u.displayLabel?c?c(u,T.matched):[]:T.matched,d=T.score+(u.boost||0);if(s(new PA(u,h.source,R,d)),typeof u.section=="object"&&u.section.rank==="dynamic"){let{name:O}=u.section;n||(n=Object.create(null)),n[O]=Math.max(d,n[O]||-1e9)}}}}if(i){let h=Object.create(null),c=0,f=(T,A)=>(T.rank==="dynamic"&&A.rank==="dynamic"?n[A.name]-n[T.name]:0)||(typeof T.rank=="number"?T.rank:1e9)-(typeof A.rank=="number"?A.rank:1e9)||(T.name<A.name?-1:1);for(let T of i.sort(f))c-=1e5,h[T.name]=c;for(let T of t){let{section:A}=T.completion;A&&(T.score+=h[typeof A=="string"?A:A.name])}}let o=[],l=null,E=a.compareCompletions;for(let h of t.sort((c,f)=>f.score-c.score||E(c.completion,f.completion))){let c=h.completion;!l||l.label!=c.label||l.detail!=c.detail||l.type!=null&&c.type!=null&&l.type!=c.type||l.apply!=c.apply||l.boost!=c.boost?o.push(h):UA(h.completion)>UA(l)&&(o[o.length-1]=h),l=h.completion}return o}class Fn{constructor(e,t,i,n,s,a){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=n,this.selected=s,this.disabled=a}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Fn(this.options,yA(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,n,s,a){if(n&&!a&&e.some(E=>E.isPending))return n.setDisabled();let o=UB(e,t);if(!o.length)return n&&e.some(E=>E.isPending)?n.setDisabled():null;let l=t.facet(Ct).selectOnOpen?0:-1;if(n&&n.selected!=l&&n.selected!=-1){let E=n.options[n.selected].completion;for(let h=0;h<o.length;h++)if(o[h].completion==E){l=h;break}}return new Fn(o,yA(i,l),{pos:e.reduce((E,h)=>h.hasResult()?Math.min(E,h.from):E,1e8),create:GB,above:s.aboveCursor},n?n.timestamp:Date.now(),l,!1)}map(e){return new Fn(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Fn(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Ol{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new Ol(BB,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(Ct),s=(i.override||t.languageDataAt("autocomplete",rn(t)).map(_B)).map(l=>(this.active.find(h=>h.source==l)||new Ir(l,this.active.some(h=>h.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((l,E)=>l==this.active[E])&&(s=this.active);let a=this.open,o=e.effects.some(l=>l.is(_f));a&&e.docChanged&&(a=a.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!yB(s,this.active)||o?a=Fn.build(s,t,this.id,a,i,o):a&&a.disabled&&!s.some(l=>l.isPending)&&(a=null),!a&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new Ir(l.source,0):l));for(let l of e.effects)l.is(aI)&&(a=a&&a.setSelected(l.value,this.id));return s==this.active&&a==this.open?this:new Ol(s,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?wB:FB}}function yB(r,e){if(r==e)return!0;for(let t=0,i=0;;){for(;t<r.length&&!r[t].hasResult();)t++;for(;i<e.length&&!e[i].hasResult();)i++;let n=t==r.length,s=i==e.length;if(n||s)return n==s;if(r[t++].result!=e[i++].result)return!1}}const wB={"aria-autocomplete":"list"},FB={};function yA(r,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":r};return e>-1&&(t["aria-activedescendant"]=r+"-"+e),t}const BB=[];function sI(r,e){if(r.isUserEvent("input.complete")){let i=r.annotation(nI);if(i&&e.activateOnCompletion(i))return 12}let t=r.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:r.isUserEvent("delete.backward")?2:r.selection?8:r.docChanged?16:0}class Ir{constructor(e,t,i=!1){this.source=e,this.state=t,this.explicit=i}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let i=sI(e,t),n=this;(i&8||i&16&&this.touches(e))&&(n=new Ir(n.source,0)),i&4&&n.state==0&&(n=new Ir(this.source,1)),n=n.updateFor(e,i);for(let s of e.effects)if(s.is(dl))n=new Ir(n.source,1,s.value);else if(s.is(Ea))n=new Ir(n.source,0);else if(s.is(_f))for(let a of s.value)a.source==n.source&&(n=a);return n}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(rn(e.state))}}class Xn extends Ir{constructor(e,t,i,n,s,a){super(e,3,t),this.limit=i,this.result=n,this.from=s,this.to=a}hasResult(){return!0}updateFor(e,t){var i;if(!(t&3))return this.map(e.changes);let n=this.result;n.map&&!e.changes.empty&&(n=n.map(n,e.changes));let s=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),o=rn(e.state);if(o>a||!n||t&2&&(rn(e.startState)==this.from||o<this.limit))return new Ir(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return bB(n.validFor,e.state,s,a)?new Xn(this.source,this.explicit,l,n,s,a):n.update&&(n=n.update(n,s,a,new tI(e.state,o,!1)))?new Xn(this.source,this.explicit,l,n,n.from,(i=n.to)!==null&&i!==void 0?i:rn(e.state)):new Ir(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Xn(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Ir(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function bB(r,e,t,i){if(!r)return!1;let n=e.sliceDoc(t,i);return typeof r=="function"?r(n,t,i,e):iI(r,!0).test(n)}const _f=ve.define({map(r,e){return r.map(t=>t.map(e))}}),aI=ve.define(),Zt=Bt.define({create(){return Ol.start()},update(r,e){return r.update(e)},provide:r=>[cf.from(r,e=>e.tooltip),Te.contentAttributes.from(r,e=>e.attrs)]});function gf(r,e){const t=e.completion.apply||e.completion.label;let i=r.state.field(Zt).active.find(n=>n.source==e.source);return i instanceof Xn?(typeof t=="string"?r.dispatch({...CB(r.state,t,i.from,i.to),annotations:nI.of(e.completion)}):t(r,e.completion,i.from,i.to),!0):!1}const GB=MB(Zt,gf);function uo(r,e="option"){return t=>{let i=t.state.field(Zt,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(Ct).interactionDelay)return!1;let n=1,s;e=="page"&&(s=Gd(t,i.open.tooltip))&&(n=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:a}=i.open.options,o=i.open.selected>-1?i.open.selected+n*(r?1:-1):r?0:a-1;return o<0?o=e=="page"?0:a-1:o>=a&&(o=e=="page"?a-1:0),t.dispatch({effects:aI.of(o)}),!0}}const HB=r=>{let e=r.state.field(Zt,!1);return r.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<r.state.facet(Ct).interactionDelay?!1:gf(r,e.open.options[e.open.selected])},Eh=r=>r.state.field(Zt,!1)?(r.dispatch({effects:dl.of(!0)}),!0):!1,kB=r=>{let e=r.state.field(Zt,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(r.dispatch({effects:Ea.of(null)}),!0)};class YB{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const VB=50,WB=1e3,XB=Et.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of r.state.field(Zt).active)e.isPending&&this.startQuery(e)}update(r){let e=r.state.field(Zt),t=r.state.facet(Ct);if(!r.selectionSet&&!r.docChanged&&r.startState.field(Zt)==e)return;let i=r.transactions.some(s=>{let a=sI(s,t);return a&8||(s.selection||s.docChanged)&&!(a&3)});for(let s=0;s<this.running.length;s++){let a=this.running[s];if(i||a.context.abortOnDocChange&&r.docChanged||a.updates.length+r.transactions.length>VB&&Date.now()-a.time>WB){for(let o of a.context.abortListeners)try{o()}catch(l){er(this.view.state,l)}a.context.abortListeners=null,this.running.splice(s--,1)}else a.updates.push(...r.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),r.transactions.some(s=>s.effects.some(a=>a.is(dl)))&&(this.pendingStart=!0);let n=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(a=>a.active.source==s.source))?setTimeout(()=>this.startUpdate(),n):-1,this.composing!=0)for(let s of r.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:r}=this.view,e=r.field(Zt);for(let t of e.active)t.isPending&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ct).updateSyncTime))}startQuery(r){let{state:e}=this.view,t=rn(e),i=new tI(e,t,r.explicit,this.view),n=new YB(r,i);this.running.push(n),Promise.resolve(r.source(i)).then(s=>{n.context.aborted||(n.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Ea.of(null)}),er(this.view.state,s)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ct).updateSyncTime))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Ct),i=this.view.state.field(Zt);for(let n=0;n<this.running.length;n++){let s=this.running[n];if(s.done===void 0)continue;if(this.running.splice(n--,1),s.done){let o=rn(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(o,s.done.from+(s.active.explicit?0:1)),E=new Xn(s.active.source,s.active.explicit,l,s.done,s.done.from,(r=s.done.to)!==null&&r!==void 0?r:o);for(let h of s.updates)E=E.update(h,t);if(E.hasResult()){e.push(E);continue}}let a=i.active.find(o=>o.source==s.active.source);if(a&&a.isPending)if(s.done==null){let o=new Ir(s.active.source,0);for(let l of s.updates)o=o.update(l,t);o.isPending||e.push(o)}else this.startQuery(a)}(e.length||i.open&&i.open.disabled)&&this.view.dispatch({effects:_f.of(e)})}},{eventHandlers:{blur(r){let e=this.view.state.field(Zt,!1);if(e&&e.tooltip&&this.view.state.facet(Ct).closeOnBlur){let t=e.open&&Gd(this.view,e.open.tooltip);(!t||!t.dom.contains(r.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Ea.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:dl.of(!1)}),20),this.composing=0}}}),KB=typeof navigator=="object"&&/Win/.test(navigator.platform),$B=In.highest(Te.domEventHandlers({keydown(r,e){let t=e.state.field(Zt,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||r.key.length>1||r.ctrlKey&&!(KB&&r.altKey)||r.metaKey)return!1;let i=t.open.options[t.open.selected],n=t.active.find(a=>a.source==i.source),s=i.completion.commitCharacters||n.result.commitCharacters;return s&&s.indexOf(r.key)>-1&&gf(e,i),!1}})),JB=Te.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),ha={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Zi=ve.define({map(r,e){let t=e.mapPos(r,-1,Jt.TrackAfter);return t??void 0}}),Lf=new class extends ln{};Lf.startSide=1;Lf.endSide=-1;const oI=Bt.define({create(){return He.empty},update(r,e){if(r=r.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);r=r.update({filter:i=>i>=t.from&&i<=t.to})}for(let t of e.effects)t.is(Zi)&&(r=r.update({add:[Lf.range(t.value,t.value+1)]}));return r}});function zB(){return[QB,oI]}const hh="()[]{}<>«»»«［］｛｝";function lI(r){for(let e=0;e<hh.length;e+=2)if(hh.charCodeAt(e)==r)return hh.charAt(e+1);return qc(r<128?r:r+1)}function EI(r,e){return r.languageDataAt("closeBrackets",e)[0]||ha}const qB=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),QB=Te.inputHandler.of((r,e,t,i)=>{if((qB?r.composing:r.compositionStarted)||r.state.readOnly)return!1;let n=r.state.selection.main;if(i.length>2||i.length==2&&Jr(jt(i,0))==1||e!=n.from||t!=n.to)return!1;let s=eb(r.state,i);return s?(r.dispatch(s),!0):!1}),jB=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let i=EI(r,r.selection.main.head).brackets||ha.brackets,n=null,s=r.changeByRange(a=>{if(a.empty){let o=tb(r.doc,a.head);for(let l of i)if(l==o&&Xl(r.doc,a.head)==lI(jt(l,0)))return{changes:{from:a.head-l.length,to:a.head+l.length},range:j.cursor(a.head-l.length)}}return{range:n=a}});return n||e(r.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!n},ZB=[{key:"Backspace",run:jB}];function eb(r,e){let t=EI(r,r.selection.main.head),i=t.brackets||ha.brackets;for(let n of i){let s=lI(jt(n,0));if(e==n)return s==n?nb(r,n,i.indexOf(n+n+n)>-1,t):rb(r,n,s,t.before||ha.before);if(e==s&&hI(r,r.selection.main.from))return ib(r,n,s)}return null}function hI(r,e){let t=!1;return r.field(oI).between(0,r.doc.length,i=>{i==e&&(t=!0)}),t}function Xl(r,e){let t=r.sliceString(e,e+2);return t.slice(0,Jr(jt(t,0)))}function tb(r,e){let t=r.sliceString(e-2,e);return Jr(jt(t,0))==t.length?t:t.slice(1)}function rb(r,e,t,i){let n=null,s=r.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:t,from:a.to}],effects:Zi.of(a.to+e.length),range:j.range(a.anchor+e.length,a.head+e.length)};let o=Xl(r.doc,a.head);return!o||/\s/.test(o)||i.indexOf(o)>-1?{changes:{insert:e+t,from:a.head},effects:Zi.of(a.head+e.length),range:j.cursor(a.head+e.length)}:{range:n=a}});return n?null:r.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function ib(r,e,t){let i=null,n=r.changeByRange(s=>s.empty&&Xl(r.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:j.cursor(s.head+t.length)}:i={range:s});return i?null:r.update(n,{scrollIntoView:!0,userEvent:"input.type"})}function nb(r,e,t,i){let n=i.stringPrefixes||ha.stringPrefixes,s=null,a=r.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:Zi.of(o.to+e.length),range:j.range(o.anchor+e.length,o.head+e.length)};let l=o.head,E=Xl(r.doc,l),h;if(E==e){if(wA(r,l))return{changes:{insert:e+e,from:l},effects:Zi.of(l+e.length),range:j.cursor(l+e.length)};if(hI(r,l)){let f=t&&r.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:j.cursor(l+f.length)}}}else{if(t&&r.sliceDoc(l-2*e.length,l)==e+e&&(h=FA(r,l-2*e.length,n))>-1&&wA(r,h))return{changes:{insert:e+e+e+e,from:l},effects:Zi.of(l+e.length),range:j.cursor(l+e.length)};if(r.charCategorizer(l)(E)!=it.Word&&FA(r,l,n)>-1&&!sb(r,l,e,n))return{changes:{insert:e+e,from:l},effects:Zi.of(l+e.length),range:j.cursor(l+e.length)}}return{range:s=o}});return s?null:r.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function wA(r,e){let t=Lt(r).resolveInner(e+1);return t.parent&&t.from==e}function sb(r,e,t,i){let n=Lt(r).resolveInner(e,-1),s=i.reduce((a,o)=>Math.max(a,o.length),0);for(let a=0;a<5;a++){let o=r.sliceDoc(n.from,Math.min(n.to,n.from+t.length+s)),l=o.indexOf(t);if(!l||l>-1&&i.indexOf(o.slice(0,l))>-1){let h=n.firstChild;for(;h&&h.from==n.from&&h.to-h.from>t.length+l;){if(r.sliceDoc(h.to-t.length,h.to)==t)return!1;h=h.firstChild}return!0}let E=n.to==e&&n.parent;if(!E)break;n=E}return!1}function FA(r,e,t){let i=r.charCategorizer(e);if(i(r.sliceDoc(e-1,e))!=it.Word)return e;for(let n of t){let s=e-n.length;if(r.sliceDoc(s,e)==n&&i(r.sliceDoc(s-1,s))!=it.Word)return s}return-1}function cI(r={}){return[$B,Zt,Ct.of(r),XB,ab,JB]}const fI=[{key:"Ctrl-Space",run:Eh},{mac:"Alt-`",run:Eh},{mac:"Alt-i",run:Eh},{key:"Escape",run:kB},{key:"ArrowDown",run:uo(!0)},{key:"ArrowUp",run:uo(!1)},{key:"PageDown",run:uo(!0,"page")},{key:"PageUp",run:uo(!1,"page")},{key:"Enter",run:HB}],ab=In.highest(Fl.computeN([Ct],r=>r.facet(Ct).defaultKeymap?[fI]:[]));class BA{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Qi{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let n=i.facet(ca).markerFilter;n&&(e=n(e,i));let s=e.slice().sort((T,A)=>T.from-A.from||T.to-A.to),a=new Ai,o=[],l=0,E=i.doc.iter(),h=0,c=i.doc.length;for(let T=0;;){let A=T==s.length?null:s[T];if(!A&&!o.length)break;let u,R;if(o.length)u=l,R=o.reduce((I,L)=>Math.min(I,L.to),A&&A.from>u?A.from:1e8);else{if(u=A.from,u>c)break;R=A.to,o.push(A),T++}for(;T<s.length;){let I=s[T];if(I.from==u&&(I.to>I.from||I.to==u))o.push(I),T++,R=Math.min(I.to,R);else{R=Math.min(I.from,R);break}}R=Math.min(R,c);let d=!1;if(o.some(I=>I.from==u&&(I.to==R||R==c))&&(d=u==R,!d&&R-u<10)){let I=u-(h+E.value.length);I>0&&(E.next(I),h=u);for(let L=u;;){if(L>=R){d=!0;break}if(!E.lineBreak&&h+E.value.length>L)break;L=h+E.value.length,h+=E.value.length,E.next()}}let O=Ob(o);if(d)a.add(u,u,Ce.widget({widget:new Ab(O),diagnostics:o.slice()}));else{let I=o.reduce((L,D)=>D.markClass?L+" "+D.markClass:L,"");a.add(u,R,Ce.mark({class:"cm-lintRange cm-lintRange-"+O+I,diagnostics:o.slice(),inclusiveEnd:o.some(L=>L.to>R)}))}if(l=R,l==c)break;for(let I=0;I<o.length;I++)o[I].to<=l&&o.splice(I--,1)}let f=a.finish();return new Qi(f,t,rs(f))}}function rs(r,e=null,t=0){let i=null;return r.between(t,1e9,(n,s,{spec:a})=>{if(!(e&&a.diagnostics.indexOf(e)<0))if(!i)i=new BA(n,s,e||a.diagnostics[0]);else{if(a.diagnostics.indexOf(i.diagnostic)<0)return!1;i=new BA(i.from,s,i.diagnostic)}}),i}function ob(r,e){let t=e.pos,i=e.end||t,n=r.state.facet(ca).hideOn(r,t,i);if(n!=null)return n;let s=r.startState.doc.lineAt(e.pos);return!!(r.effects.some(a=>a.is(TI))||r.changes.touchesRange(s.from,Math.max(s.to,i)))}function lb(r,e){return r.field(Tr,!1)?e:e.concat(ve.appendConfig.of(Ib))}const TI=ve.define(),Df=ve.define(),uI=ve.define(),Tr=Bt.define({create(){return new Qi(Ce.none,null,null)},update(r,e){if(e.docChanged&&r.diagnostics.size){let t=r.diagnostics.map(e.changes),i=null,n=r.panel;if(r.selected){let s=e.changes.mapPos(r.selected.from,1);i=rs(t,r.selected.diagnostic,s)||rs(t,null,s)}!t.size&&n&&e.state.facet(ca).autoPanel&&(n=null),r=new Qi(t,n,i)}for(let t of e.effects)if(t.is(TI)){let i=e.state.facet(ca).autoPanel?t.value.length?fa.open:null:r.panel;r=Qi.init(t.value,i,e.state)}else t.is(Df)?r=new Qi(r.diagnostics,t.value?fa.open:null,r.selected):t.is(uI)&&(r=new Qi(r.diagnostics,r.panel,t.value));return r},provide:r=>[na.from(r,e=>e.panel),Te.decorations.from(r,e=>e.diagnostics)]}),Eb=Ce.mark({class:"cm-lintRange cm-lintRange-active"});function hb(r,e,t){let{diagnostics:i}=r.state.field(Tr),n,s=-1,a=-1;i.between(e-(t<0?1:0),e+(t>0?1:0),(l,E,{spec:h})=>{if(e>=l&&e<=E&&(l==E||(e>l||t>0)&&(e<E||t<0)))return n=h.diagnostics,s=l,a=E,!1});let o=r.state.facet(ca).tooltipFilter;return n&&o&&(n=o(n,r.state)),n?{pos:s,end:a,above:r.state.doc.lineAt(s).to<a,create(){return{dom:cb(r,n)}}}:null}function cb(r,e){return je("ul",{class:"cm-tooltip-lint"},e.map(t=>RI(r,t,!1)))}const fb=r=>{let e=r.state.field(Tr,!1);(!e||!e.panel)&&r.dispatch({effects:lb(r.state,[Df.of(!0)])});let t=ia(r,fa.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},bA=r=>{let e=r.state.field(Tr,!1);return!e||!e.panel?!1:(r.dispatch({effects:Df.of(!1)}),!0)},Tb=r=>{let e=r.state.field(Tr,!1);if(!e)return!1;let t=r.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(r.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},ub=[{key:"Mod-Shift-m",run:fb,preventDefault:!0},{key:"F8",run:Tb}],ca=Ae.define({combine(r){return{sources:r.map(e=>e.source).filter(e=>e!=null),...ri(r.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:GA,tooltipFilter:GA,needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t,hideOn:(e,t)=>e?t?(i,n,s)=>e(i,n,s)||t(i,n,s):e:t,autoPanel:(e,t)=>e||t})}}});function GA(r,e){return r?e?(t,i)=>e(r(t,i),i):r:e}function AI(r){let e=[];if(r)e:for(let{name:t}of r){for(let i=0;i<t.length;i++){let n=t[i];if(/[a-zA-Z]/.test(n)&&!e.some(s=>s.toLowerCase()==n.toLowerCase())){e.push(n);continue e}}e.push("")}return e}function RI(r,e,t){var i;let n=t?AI(e.actions):[];return je("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},je("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(r):e.message),(i=e.actions)===null||i===void 0?void 0:i.map((s,a)=>{let o=!1,l=T=>{if(T.preventDefault(),o)return;o=!0;let A=rs(r.state.field(Tr).diagnostics,e);A&&s.apply(r,A.from,A.to)},{name:E}=s,h=n[a]?E.indexOf(n[a]):-1,c=h<0?E:[E.slice(0,h),je("u",E.slice(h,h+1)),E.slice(h+1)],f=s.markClass?" "+s.markClass:"";return je("button",{type:"button",class:"cm-diagnosticAction"+f,onclick:l,onmousedown:l,"aria-label":` Action: ${E}${h<0?"":` (access key "${n[a]})"`}.`},c)}),e.source&&je("div",{class:"cm-diagnosticSource"},e.source))}class Ab extends Oi{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return je("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class HA{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=RI(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class fa{constructor(e){this.view=e,this.items=[];let t=n=>{if(n.keyCode==27)bA(this.view),this.view.focus();else if(n.keyCode==38||n.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(n.keyCode==40||n.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(n.keyCode==36)this.moveSelection(0);else if(n.keyCode==35)this.moveSelection(this.items.length-1);else if(n.keyCode==13)this.view.focus();else if(n.keyCode>=65&&n.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],a=AI(s.actions);for(let o=0;o<a.length;o++)if(a[o].toUpperCase().charCodeAt(0)==n.keyCode){let l=rs(this.view.state.field(Tr).diagnostics,s);l&&s.actions[o].apply(e,l.from,l.to)}}else return;n.preventDefault()},i=n=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(n.target)&&this.moveSelection(s)};this.list=je("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=je("div",{class:"cm-panel-lint"},this.list,je("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>bA(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Tr).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Tr),i=0,n=!1,s=null,a=new Set;for(e.between(0,this.view.state.doc.length,(o,l,{spec:E})=>{for(let h of E.diagnostics){if(a.has(h))continue;a.add(h);let c=-1,f;for(let T=i;T<this.items.length;T++)if(this.items[T].diagnostic==h){c=T;break}c<0?(f=new HA(this.view,h),this.items.splice(i,0,f),n=!0):(f=this.items[c],c>i&&(this.items.splice(i,c-i),n=!0)),t&&f.diagnostic==t.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),s=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),i++}});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)n=!0,this.items.pop();this.items.length==0&&(this.items.push(new HA(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),n=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:l})=>{let E=l.height/this.list.offsetHeight;o.top<l.top?this.list.scrollTop-=(l.top-o.top)/E:o.bottom>l.bottom&&(this.list.scrollTop+=(o.bottom-l.bottom)/E)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),n&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Tr),i=rs(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:uI.of(i)})}static open(e){return new fa(e)}}function Rb(r,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(r)}</svg>')`}function Ao(r){return Rb(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${r}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Sb=Te.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Ao("#d11")},".cm-lintRange-warning":{backgroundImage:Ao("orange")},".cm-lintRange-info":{backgroundImage:Ao("#999")},".cm-lintRange-hint":{backgroundImage:Ao("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function db(r){return r=="error"?4:r=="warning"?3:r=="info"?2:1}function Ob(r){let e="hint",t=1;for(let i of r){let n=db(i.severity);n>t&&(t=n,e=i.severity)}return e}const Ib=[Tr,Te.decorations.compute([Tr],r=>{let{selected:e,panel:t}=r.field(Tr);return!e||!t||e.from==e.to?Ce.none:Ce.set([Eb.range(e.from,e.to)])}),T2(hb,{hideOn:ob}),Sb];var kA=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,i=[];e.closeBracketsKeymap!==!1&&(i=i.concat(ZB)),e.defaultKeymap!==!1&&(i=i.concat(KF)),e.searchKeymap!==!1&&(i=i.concat(dB)),e.historyKeymap!==!1&&(i=i.concat(Zw)),e.foldKeymap!==!1&&(i=i.concat(Tw)),e.completionKeymap!==!1&&(i=i.concat(fI)),e.lintKeymap!==!1&&(i=i.concat(ub));var n=[];return e.lineNumbers!==!1&&n.push(C2()),e.highlightActiveLineGutter!==!1&&n.push(L2()),e.highlightSpecialChars!==!1&&n.push(Yy()),e.history!==!1&&n.push(Ww()),e.foldGutter!==!1&&n.push(Sw()),e.drawSelection!==!1&&n.push(My()),e.dropCursor!==!1&&n.push(Fy()),e.allowMultipleSelections!==!1&&n.push(be.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&n.push(nw()),e.syntaxHighlighting!==!1&&n.push(EO(Nw,{fallback:!0})),e.bracketMatching!==!1&&n.push(Dw()),e.closeBrackets!==!1&&n.push(zB()),e.autocompletion!==!1&&n.push(cI()),e.rectangularSelection!==!1&&n.push(r2()),t!==!1&&n.push(s2()),e.highlightActiveLine!==!1&&n.push(Jy()),e.highlightSelectionMatches!==!1&&n.push(ZF()),e.tabSize&&typeof e.tabSize=="number"&&n.push(bl.of(" ".repeat(e.tabSize))),n.concat([Fl.of(i.flat())]).filter(Boolean)};const Nb="#e5c07b",YA="#e06c75",pb="#56b6c2",mb="#ffffff",vo="#abb2bf",Ic="#7d8799",Cb="#61afef",_b="#98c379",VA="#d19a66",gb="#c678dd",Lb="#21252b",WA="#2c313a",XA="#282c34",ch="#353a42",Db="#3E4451",KA="#528bff",xb=Te.theme({"&":{color:vo,backgroundColor:XA},".cm-content":{caretColor:KA},".cm-cursor, .cm-dropCursor":{borderLeftColor:KA},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Db},".cm-panels":{backgroundColor:Lb,color:vo},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:XA,color:Ic,border:"none"},".cm-activeLineGutter":{backgroundColor:WA},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:ch},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:ch,borderBottomColor:ch},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:WA,color:vo}}},{dark:!0}),Pb=La.define([{tag:W.keyword,color:gb},{tag:[W.name,W.deleted,W.character,W.propertyName,W.macroName],color:YA},{tag:[W.function(W.variableName),W.labelName],color:Cb},{tag:[W.color,W.constant(W.name),W.standard(W.name)],color:VA},{tag:[W.definition(W.name),W.separator],color:vo},{tag:[W.typeName,W.className,W.number,W.changed,W.annotation,W.modifier,W.self,W.namespace],color:Nb},{tag:[W.operator,W.operatorKeyword,W.url,W.escape,W.regexp,W.link,W.special(W.string)],color:pb},{tag:[W.meta,W.comment],color:Ic},{tag:W.strong,fontWeight:"bold"},{tag:W.emphasis,fontStyle:"italic"},{tag:W.strikethrough,textDecoration:"line-through"},{tag:W.link,color:Ic,textDecoration:"underline"},{tag:W.heading,fontWeight:"bold",color:YA},{tag:[W.atom,W.bool,W.special(W.variableName)],color:VA},{tag:[W.processingInstruction,W.string,W.inserted],color:_b},{tag:W.invalid,color:mb}]),Mb=[xb,EO(Pb)];var vb=Te.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Ub=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:i=!0,readOnly:n=!1,theme:s="light",placeholder:a="",basicSetup:o=!0}=e,l=[];switch(t&&l.unshift(Fl.of([$F])),o&&(typeof o=="boolean"?l.unshift(kA()):l.unshift(kA(o))),a&&l.unshift(jy(a)),s){case"light":l.push(vb);break;case"dark":l.push(Mb);break;case"none":break;default:l.push(s);break}return i===!1&&l.push(Te.editable.of(!1)),n&&l.push(be.readOnly.of(!0)),[...l]},yb=r=>({line:r.state.doc.lineAt(r.state.selection.main.from),lineCount:r.state.doc.lines,lineBreak:r.state.lineBreak,length:r.state.doc.length,readOnly:r.state.readOnly,tabSize:r.state.tabSize,selection:r.state.selection,selectionAsSingle:r.state.selection.asSingle().main,ranges:r.state.selection.ranges,selectionCode:r.state.sliceDoc(r.state.selection.main.from,r.state.selection.main.to),selections:r.state.selection.ranges.map(e=>r.state.sliceDoc(e.from,e.to)),selectedText:r.state.selection.ranges.some(e=>!e.empty)});class wb{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(t=>{try{t()}catch(i){console.error("TimeoutLatch callback error:",i)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class $A{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var fh=null,Fb=()=>typeof window>"u"?new $A:(fh||(fh=new $A),fh),JA=ti.define(),Bb=200,bb=[];function Gb(r){var{value:e,selection:t,onChange:i,onStatistics:n,onCreateEditor:s,onUpdate:a,extensions:o=bb,autoFocus:l,theme:E="light",height:h=null,minHeight:c=null,maxHeight:f=null,width:T=null,minWidth:A=null,maxWidth:u=null,placeholder:R="",editable:d=!0,readOnly:O=!1,indentWithTab:I=!0,basicSetup:L=!0,root:D,initialState:U}=r,[_,y]=_e.useState(),[P,Y]=_e.useState(),[G,b]=_e.useState(),Q=_e.useState(()=>({current:null}))[0],ae=_e.useState(()=>({current:null}))[0],oe=Te.theme({"&":{height:h,minHeight:c,maxHeight:f,width:T,minWidth:A,maxWidth:u},"& .cm-scroller":{height:"100% !important"}}),Me=Te.updateListener.of(me=>{if(me.docChanged&&typeof i=="function"&&!me.transactions.some(x=>x.annotation(JA))){Q.current?Q.current.reset():(Q.current=new wb(()=>{if(ae.current){var x=ae.current;ae.current=null,x()}Q.current=null},Bb),Fb().add(Q.current));var ge=me.state.doc,De=ge.toString();i(De,me)}n&&n(yb(me))}),xe=Ub({theme:E,editable:d,readOnly:O,placeholder:R,indentWithTab:I,basicSetup:L}),Be=[Me,oe,...xe];return a&&typeof a=="function"&&Be.push(Te.updateListener.of(a)),Be=Be.concat(o),_e.useLayoutEffect(()=>{if(_&&!G){var me={doc:e,selection:t,extensions:Be},ge=U?be.fromJSON(U.json,me,U.fields):be.create(me);if(b(ge),!P){var De=new Te({state:ge,parent:_,root:D});Y(De),s&&s(De,ge)}}return()=>{P&&(b(void 0),Y(void 0))}},[_,G]),_e.useEffect(()=>{r.container&&y(r.container)},[r.container]),_e.useEffect(()=>()=>{P&&(P.destroy(),Y(void 0)),Q.current&&(Q.current.cancel(),Q.current=null)},[P]),_e.useEffect(()=>{l&&P&&P.focus()},[l,P]),_e.useEffect(()=>{P&&P.dispatch({effects:ve.reconfigure.of(Be)})},[E,o,h,c,f,T,A,u,R,d,O,I,L,i,a]),_e.useEffect(()=>{if(e!==void 0){var me=P?P.state.doc.toString():"";if(P&&e!==me){var ge=Q.current&&!Q.current.isDone,De=()=>{P&&e!==P.state.doc.toString()&&P.dispatch({changes:{from:0,to:P.state.doc.toString().length,insert:e||""},annotations:[JA.of(!0)]})};ge?ae.current=De:De()}}},[e,P]),{state:G,setState:b,view:P,setView:Y,container:_,setContainer:y}}var Hb=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],SI=_e.forwardRef((r,e)=>{var{className:t,value:i="",selection:n,extensions:s=[],onChange:a,onStatistics:o,onCreateEditor:l,onUpdate:E,autoFocus:h,theme:c="light",height:f,minHeight:T,maxHeight:A,width:u,minWidth:R,maxWidth:d,basicSetup:O,placeholder:I,indentWithTab:L,editable:D,readOnly:U,root:_,initialState:y}=r,P=xv(r,Hb),Y=_e.useRef(null),{state:G,view:b,container:Q,setContainer:ae}=Gb({root:_,value:i,autoFocus:h,theme:c,height:f,minHeight:T,maxHeight:A,width:u,minWidth:R,maxWidth:d,basicSetup:O,placeholder:I,indentWithTab:L,editable:D,readOnly:U,selection:n,onChange:a,onStatistics:o,onCreateEditor:l,onUpdate:E,extensions:s,initialState:y});_e.useImperativeHandle(e,()=>({editor:Y.current,state:G,view:b}),[Y,Q,G,b]);var oe=_e.useCallback(xe=>{Y.current=xe,ae(xe)},[ae]);if(typeof i!="string")throw new Error("value must be typeof string but got "+typeof i);var Me=typeof c=="string"?"cm-theme-"+c:"cm-theme";return X.jsx("div",qo({ref:oe,className:""+Me+(t?" "+t:"")},P))});SI.displayName="CodeMirror";var zA={};class Il{constructor(e,t,i,n,s,a,o,l,E,h=0,c){this.p=e,this.stack=t,this.state=i,this.reducePos=n,this.pos=s,this.score=a,this.buffer=o,this.bufferBase=l,this.curContext=E,this.lookAhead=h,this.parent=c}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let n=e.parser.context;return new Il(e,[],t,i,i,0,[],0,n?new qA(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,n=e&65535,{parser:s}=this.p,a=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=s.dynamicPrecedence(n);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,n,!0),this.reducePos),n<s.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(n,this.reducePos);return}let l=this.stack.length-(i-1)*3-(e&262144?6:0),E=l?this.stack[l-2]:this.p.ranges[0].from,h=this.reducePos-E;h>=2e3&&!(!((t=this.p.parser.nodeSet.types[n])===null||t===void 0)&&t.isAnonymous)&&(E==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=E,this.p.lastBigReductionSize=h));let c=l?this.stack[l-1]:0,f=this.bufferBase+this.buffer.length-c;if(n<s.minRepeatTerm||e&131072){let T=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,E,T,f+4,!0)}if(e&262144)this.state=this.stack[l];else{let T=this.stack[l-3];this.state=s.getGoto(T,n,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(n,E)}storeNode(e,t,i,n=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,o=this.buffer.length;if(o==0&&a.parent&&(o=a.bufferBase-a.parent.bufferBase,a=a.parent),o>0&&a.buffer[o-4]==0&&a.buffer[o-1]>-1){if(t==i)return;if(a.buffer[o-2]>=t){a.buffer[o-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,n);else{let a=this.buffer.length;if(a>0&&(this.buffer[a-4]!=0||this.buffer[a-1]<0)){let o=!1;for(let l=a;l>0&&this.buffer[l-2]>i;l-=4)if(this.buffer[l-1]>=0){o=!0;break}if(o)for(;a>0&&this.buffer[a-2]>i;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,n>4&&(n-=4)}this.buffer[a]=e,this.buffer[a+1]=t,this.buffer[a+2]=i,this.buffer[a+3]=n}}shift(e,t,i,n){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:a}=this.p;(n>this.pos||t<=a.maxNode)&&(this.pos=n,a.stateFlag(s,1)||(this.reducePos=n)),this.pushState(s,i),this.shiftContext(t,i),t<=a.maxNode&&this.buffer.push(t,i,n,4)}else this.pos=n,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,n,4)}apply(e,t,i,n){e&65536?this.reduce(e):this.shift(e,t,i,n)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let n=this.pos;this.reducePos=this.pos=n+e.length,this.pushState(t,n),this.buffer.push(i,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),n=e.bufferBase+t;for(;e&&n==e.bufferBase;)e=e.parent;return new Il(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,n,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new kb(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if((i&65536)==0)return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let s=0,a;s<t.length;s+=2)(a=t[s+1])!=this.state&&this.p.parser.hasAction(a,e)&&n.push(t[s],a);if(this.stack.length<120)for(let s=0;n.length<8&&s<t.length;s+=2){let a=t[s+1];n.some((o,l)=>l&1&&o==a)||n.push(t[s],a)}t=n}let i=[];for(let n=0;n<t.length&&i.length<4;n+=2){let s=t[n+1];if(s==this.state)continue;let a=this.split();a.pushState(s,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(t[n],this.pos),a.reducePos=this.pos,a.score-=200,i.push(a)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let i=t>>19,n=t&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],n,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;t=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(n,s)=>{if(!t.includes(n))return t.push(n),e.allActions(n,a=>{if(!(a&393216))if(a&65536){let o=(a>>19)-s;if(o>1){let l=a&65535,E=this.stack.length-o*3;if(E>=0&&e.getGoto(this.stack[E],l,!1)>=0)return o<<19|65536|l}}else{let o=i(a,s+1);if(o!=null)return o}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new qA(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class qA{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class kb{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let n=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=n}}class Nl{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Nl(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Nl(this.stack,this.pos,this.index)}}function Ro(r,e=Uint16Array){if(typeof r!="string")return r;let t=null;for(let i=0,n=0;i<r.length;){let s=0;for(;;){let a=r.charCodeAt(i++),o=!1;if(a==126){s=65535;break}a>=92&&a--,a>=34&&a--;let l=a-32;if(l>=46&&(l-=46,o=!0),s+=l,o)break;s*=46}t?t[n++]=s:t=new e(s)}return t}class Uo{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const QA=new Uo;class Yb{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=QA,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,n=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!n)return null;let a=this.ranges[--n];s-=i.from-a.to,i=a}for(;t<0?s>i.to:s>=i.to;){if(n==this.ranges.length-1)return null;let a=this.ranges[++n];s+=a.from-i.to,i=a}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,n;if(t>=0&&t<this.chunk.length)i=this.pos+e,n=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let a=this.rangeIndex,o=this.range;for(;o.to<=i;)o=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-i)),n=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),n}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=QA,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let n of this.ranges){if(n.from>=t)break;n.to>e&&(i+=this.input.read(Math.max(n.from,e),Math.min(n.to,t)))}return i}}class Kn{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;Wb(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}Kn.prototype.contextual=Kn.prototype.fallback=Kn.prototype.extend=!1;Kn.prototype.fallback=Kn.prototype.extend=!1;class Vb{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function Wb(r,e,t,i,n,s){let a=0,o=1<<i,{dialect:l}=t.p.parser;e:for(;(o&r[a])!=0;){let E=r[a+1];for(let T=a+3;T<E;T+=2)if((r[T+1]&o)>0){let A=r[T];if(l.allows(A)&&(e.token.value==-1||e.token.value==A||Xb(A,e.token.value,n,s))){e.acceptToken(A);break}}let h=e.next,c=0,f=r[a+2];if(e.next<0&&f>c&&r[E+f*3-3]==65535){a=r[E+f*3-1];continue e}for(;c<f;){let T=c+f>>1,A=E+T+(T<<1),u=r[A],R=r[A+1]||65536;if(h<u)f=T;else if(h>=R)c=T+1;else{a=r[A+2],e.advance();continue e}}break}}function jA(r,e,t){for(let i=e,n;(n=r[i])!=65535;i++)if(n==t)return i-e;return-1}function Xb(r,e,t,i){let n=jA(t,i,e);return n<0||jA(t,i,r)<n}const or=typeof So<"u"&&zA&&/\bparse\b/.test(zA.LOG);let Th=null;function ZA(r,e,t){let i=r.cursor(pt.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(r.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:r.length}}class Kb{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?ZA(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?ZA(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],n=this.index[t];if(n==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[n],a=this.start[t]+i.positions[n];if(a>e)return this.nextStart=a,null;if(s instanceof ft){if(a==e){if(a<this.safeFrom)return null;let o=a+s.length;if(o<=this.safeTo){let l=s.prop(Fe.lookAhead);if(!l||o+l<this.fragment.to)return s}}this.index[t]++,a+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+s.length}}}class $b{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Uo)}getActions(e){let t=0,i=null,{parser:n}=e.p,{tokenizers:s}=n,a=n.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,l=0;for(let E=0;E<s.length;E++){if((1<<E&a)==0)continue;let h=s[E],c=this.tokens[E];if(!(i&&!h.fallback)&&((h.contextual||c.start!=e.pos||c.mask!=a||c.context!=o)&&(this.updateCachedToken(c,h,e),c.mask=a,c.context=o),c.lookAhead>c.end+25&&(l=Math.max(c.lookAhead,l)),c.value!=0)){let f=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!h.extend&&(i=c,t>f))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new Uo,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Uo,{pos:i,p:n}=e;return t.start=i,t.end=Math.min(i+1,n.stream.end),t.value=i==n.stream.end?n.parser.eofTerm:0,t}updateCachedToken(e,t,i){let n=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(n,e),i),e.value>-1){let{parser:s}=i.p;for(let a=0;a<s.specialized.length;a++)if(s.specialized[a]==e.value){let o=s.specializers[a](this.stream.read(e.start,e.end),i);if(o>=0&&i.p.parser.dialect.allows(o>>1)){(o&1)==0?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(n+1)}putAction(e,t,i,n){for(let s=0;s<n;s+=3)if(this.actions[s]==e)return n;return this.actions[n++]=e,this.actions[n++]=t,this.actions[n++]=i,n}addActions(e,t,i,n){let{state:s}=e,{parser:a}=e.p,{data:o}=a;for(let l=0;l<2;l++)for(let E=a.stateSlot(s,l?2:1);;E+=3){if(o[E]==65535)if(o[E+1]==1)E=ai(o,E+2);else{n==0&&o[E+1]==2&&(n=this.putAction(ai(o,E+2),t,i,n));break}o[E]==t&&(n=this.putAction(ai(o,E+1),t,i,n))}return n}}class Jb{constructor(e,t,i,n){this.parser=e,this.input=t,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Yb(t,n),this.tokens=new $b(e,this.stream),this.topTerm=e.top[1];let{from:s}=n[0];this.stacks=[Il.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new Kb(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],n,s;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let o=e[a];for(;;){if(this.tokens.mainToken=null,o.pos>t)i.push(o);else{if(this.advanceStack(o,i,e))continue;{n||(n=[],s=[]),n.push(o);let l=this.tokens.getMainToken(o);s.push(l.value,l.end)}}break}}if(!i.length){let a=n&&qb(n);if(a)return or&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw or&&n&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&n){let a=this.stoppedAt!=null&&n[0].pos>this.stoppedAt?n[0]:this.runRecovery(n,s,i);if(a)return or&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(i.length>a)for(i.sort((o,l)=>l.score-o.score);i.length>a;)i.pop();i.some(o=>o.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let a=0;a<i.length-1;a++){let o=i[a];for(let l=a+1;l<i.length;l++){let E=i[l];if(o.sameState(E)||o.buffer.length>500&&E.buffer.length>500)if((o.score-E.score||o.buffer.length-E.buffer.length)>0)i.splice(l--,1);else{i.splice(a--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let a=1;a<i.length;a++)i[a].pos<this.minStackPos&&(this.minStackPos=i[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let n=e.pos,{parser:s}=this,a=or?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let E=e.curContext&&e.curContext.tracker.strict,h=E?e.curContext.hash:0;for(let c=this.fragments.nodeAt(n);c;){let f=this.parser.nodeSet.types[c.type.id]==c.type?s.getGoto(e.state,c.type.id):-1;if(f>-1&&c.length&&(!E||(c.prop(Fe.contextHash)||0)==h))return e.useNode(c,f),or&&console.log(a+this.stackID(e)+` (via reuse of ${s.getName(c.type.id)})`),!0;if(!(c instanceof ft)||c.children.length==0||c.positions[0]>0)break;let T=c.children[0];if(T instanceof ft&&c.positions[0]==0)c=T;else break}}let o=s.stateSlot(e.state,4);if(o>0)return e.reduce(o),or&&console.log(a+this.stackID(e)+` (via always-reduce ${s.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let E=0;E<l.length;){let h=l[E++],c=l[E++],f=l[E++],T=E==l.length||!i,A=T?e:e.split(),u=this.tokens.mainToken;if(A.apply(h,c,u?u.start:A.pos,f),or&&console.log(a+this.stackID(A)+` (via ${(h&65536)==0?"shift":`reduce of ${s.getName(h&65535)}`} for ${s.getName(c)} @ ${n}${A==e?"":", split"})`),T)return!0;A.pos>n?t.push(A):i.push(A)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return e0(e,t),!0}}runRecovery(e,t,i){let n=null,s=!1;for(let a=0;a<e.length;a++){let o=e[a],l=t[a<<1],E=t[(a<<1)+1],h=or?this.stackID(o)+" -> ":"";if(o.deadEnd&&(s||(s=!0,o.restart(),or&&console.log(h+this.stackID(o)+" (restarted)"),this.advanceFully(o,i))))continue;let c=o.split(),f=h;for(let T=0;T<10&&c.forceReduce()&&(or&&console.log(f+this.stackID(c)+" (via force-reduce)"),!this.advanceFully(c,i));T++)or&&(f=this.stackID(c)+" -> ");for(let T of o.recoverByInsert(l))or&&console.log(h+this.stackID(T)+" (via recover-insert)"),this.advanceFully(T,i);this.stream.end>o.pos?(E==o.pos&&(E++,l=0),o.recoverByDelete(l,E),or&&console.log(h+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),e0(o,i)):(!n||n.score<o.score)&&(n=o)}return n}stackToTree(e){return e.close(),ft.build({buffer:Nl.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Th||(Th=new WeakMap)).get(e);return t||Th.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function e0(r,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==r.pos&&i.sameState(r)){e[t].score<r.score&&(e[t]=r);return}}e.push(r)}class zb{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}class pl extends $d{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let o=0;o<e.repeatNodeCount;o++)t.push("");let i=Object.keys(e.topRules).map(o=>e.topRules[o][1]),n=[];for(let o=0;o<t.length;o++)n.push([]);function s(o,l,E){n[o].push([l,l.deserialize(String(E))])}if(e.nodeProps)for(let o of e.nodeProps){let l=o[0];typeof l=="string"&&(l=Fe[l]);for(let E=1;E<o.length;){let h=o[E++];if(h>=0)s(h,l,o[E++]);else{let c=o[E+-h];for(let f=-h;f>0;f--)s(o[E++],l,c);E++}}}this.nodeSet=new ff(t.map((o,l)=>sr.define({name:l>=this.minRepeatTerm?void 0:o,id:l,props:n[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Vd;let a=Ro(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(t0),this.states=Ro(e.states,Uint32Array),this.data=Ro(e.stateData),this.goto=Ro(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new Kn(a,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let n=new Jb(this,e,t,i);for(let s of this.wrappers)n=s(n,e,t,i);return n}getGoto(e,t,i=!1){let n=this.goto;if(t>=n[0])return-1;for(let s=n[t+1];;){let a=n[s++],o=a&1,l=n[s++];if(o&&i)return l;for(let E=s+(a>>1);s<E;s++)if(n[s]==e)return l;if(o)return-1}}hasAction(e,t){let i=this.data;for(let n=0;n<2;n++)for(let s=this.stateSlot(e,n?2:1),a;;s+=3){if((a=i[s])==65535)if(i[s+1]==1)a=i[s=ai(i,s+2)];else{if(i[s+1]==2)return ai(i,s+2);break}if(a==t||a==0)return ai(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),n=i?t(i):void 0;for(let s=this.stateSlot(e,1);n==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=ai(this.data,s+2);else break;n=t(ai(this.data,s+1))}return n}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=ai(this.data,i+2);else break;if((this.data[i+2]&1)==0){let n=this.data[i+1];t.some((s,a)=>a&1&&s==n)||t.push(this.data[i],n)}}return t}configure(e){let t=Object.assign(Object.create(pl.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let n=e.tokenizers.find(s=>s.from==i);return n?n.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,n)=>{let s=e.specializers.find(o=>o.from==i.external);if(!s)return i;let a=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[n]=t0(a),a})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let a=t.indexOf(s);a>=0&&(i[a]=!0)}let n=null;for(let s=0;s<t.length;s++)if(!i[s])for(let a=this.dialects[t[s]],o;(o=this.data[a++])!=65535;)(n||(n=new Uint8Array(this.maxTerm+1)))[o]=1;return new zb(e,i,n)}static deserialize(e){return new pl(e)}}function ai(r,e){return r[e]|r[e+1]<<16}function qb(r){let e=null;for(let t of r){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function t0(r){if(r.external){let e=r.extend?1:0;return(t,i)=>r.external(t,i)<<1|e}return r.get}const Qb=36,r0=1,jb=2,Ln=3,uh=4,Zb=5,eG=6,tG=7,rG=8,iG=9,nG=10,sG=11,aG=12,oG=13,lG=14,EG=15,hG=16,cG=17,i0=18,fG=19,dI=20,OI=21,n0=22,TG=23,uG=24;function Nc(r){return r>=65&&r<=90||r>=97&&r<=122||r>=48&&r<=57}function AG(r){return r>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70}function Ji(r,e,t){for(let i=!1;;){if(r.next<0)return;if(r.next==e&&!i){r.advance();return}i=t&&!i&&r.next==92,r.advance()}}function RG(r,e){e:for(;;){if(r.next<0)return;if(r.next==36){r.advance();for(let t=0;t<e.length;t++){if(r.next!=e.charCodeAt(t))continue e;r.advance()}if(r.next==36){r.advance();return}}else r.advance()}}function SG(r,e){let t="[{<(".indexOf(String.fromCharCode(e)),i=t<0?e:"]}>)".charCodeAt(t);for(;;){if(r.next<0)return;if(r.next==i&&r.peek(1)==39){r.advance(2);return}r.advance()}}function pc(r,e){for(;!(r.next!=95&&!Nc(r.next));)e!=null&&(e+=String.fromCharCode(r.next)),r.advance();return e}function dG(r){if(r.next==39||r.next==34||r.next==96){let e=r.next;r.advance(),Ji(r,e,!1)}else pc(r)}function s0(r,e){for(;r.next==48||r.next==49;)r.advance();e&&r.next==e&&r.advance()}function a0(r,e){for(;;){if(r.next==46){if(e)break;e=!0}else if(r.next<48||r.next>57)break;r.advance()}if(r.next==69||r.next==101)for(r.advance(),(r.next==43||r.next==45)&&r.advance();r.next>=48&&r.next<=57;)r.advance()}function o0(r){for(;!(r.next<0||r.next==10);)r.advance()}function Ki(r,e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)==r)return!0;return!1}const Ah=` 	\r
`;function II(r,e,t){let i=Object.create(null);i.true=i.false=Zb,i.null=i.unknown=eG;for(let n of r.split(" "))n&&(i[n]=dI);for(let n of e.split(" "))n&&(i[n]=OI);for(let n of(t||"").split(" "))n&&(i[n]=uG);return i}const NI="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",pI="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",mc={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:II(pI,NI)};function OG(r,e,t,i){let n={};for(let s in mc)n[s]=(r.hasOwnProperty(s)?r:mc)[s];return e&&(n.words=II(e,t||"",i)),n}function mI(r){return new Vb(e=>{var t;let{next:i}=e;if(e.advance(),Ki(i,Ah)){for(;Ki(e.next,Ah);)e.advance();e.acceptToken(Qb)}else if(i==36&&r.doubleDollarQuotedStrings){let n=pc(e,"");e.next==36&&(e.advance(),RG(e,n),e.acceptToken(Ln))}else if(i==39||i==34&&r.doubleQuotedStrings)Ji(e,i,r.backslashEscapes),e.acceptToken(Ln);else if(i==35&&r.hashComments||i==47&&e.next==47&&r.slashComments)o0(e),e.acceptToken(r0);else if(i==45&&e.next==45&&(!r.spaceAfterDashes||e.peek(1)==32))o0(e),e.acceptToken(r0);else if(i==47&&e.next==42){e.advance();for(let n=1;;){let s=e.next;if(e.next<0)break;if(e.advance(),s==42&&e.next==47){if(n--,e.advance(),!n)break}else s==47&&e.next==42&&(n++,e.advance())}e.acceptToken(jb)}else if((i==101||i==69)&&e.next==39)e.advance(),Ji(e,39,!0),e.acceptToken(Ln);else if((i==110||i==78)&&e.next==39&&r.charSetCasts)e.advance(),Ji(e,39,r.backslashEscapes),e.acceptToken(Ln);else if(i==95&&r.charSetCasts)for(let n=0;;n++){if(e.next==39&&n>1){e.advance(),Ji(e,39,r.backslashEscapes),e.acceptToken(Ln);break}if(!Nc(e.next))break;e.advance()}else if(r.plsqlQuotingMechanism&&(i==113||i==81)&&e.next==39&&e.peek(1)>0&&!Ki(e.peek(1),Ah)){let n=e.peek(1);e.advance(2),SG(e,n),e.acceptToken(Ln)}else if(Ki(i,r.identifierQuotes)){const n=i==91?93:i;Ji(e,n,!1),e.acceptToken(fG)}else if(i==40)e.acceptToken(tG);else if(i==41)e.acceptToken(rG);else if(i==123)e.acceptToken(iG);else if(i==125)e.acceptToken(nG);else if(i==91)e.acceptToken(sG);else if(i==93)e.acceptToken(aG);else if(i==59)e.acceptToken(oG);else if(r.unquotedBitLiterals&&i==48&&e.next==98)e.advance(),s0(e),e.acceptToken(n0);else if((i==98||i==66)&&(e.next==39||e.next==34)){const n=e.next;e.advance(),r.treatBitsAsBytes?(Ji(e,n,r.backslashEscapes),e.acceptToken(TG)):(s0(e,n),e.acceptToken(n0))}else if(i==48&&(e.next==120||e.next==88)||(i==120||i==88)&&e.next==39){let n=e.next==39;for(e.advance();AG(e.next);)e.advance();n&&e.next==39&&e.advance(),e.acceptToken(uh)}else if(i==46&&e.next>=48&&e.next<=57)a0(e,!0),e.acceptToken(uh);else if(i==46)e.acceptToken(lG);else if(i>=48&&i<=57)a0(e,!1),e.acceptToken(uh);else if(Ki(i,r.operatorChars)){for(;Ki(e.next,r.operatorChars);)e.advance();e.acceptToken(EG)}else if(Ki(i,r.specialVar))e.next==i&&e.advance(),dG(e),e.acceptToken(cG);else if(i==58||i==44)e.acceptToken(hG);else if(Nc(i)){let n=pc(e,String.fromCharCode(i));e.acceptToken(e.next==46||e.peek(-n.length-1)==46?i0:(t=r.words[n.toLowerCase()])!==null&&t!==void 0?t:i0)}})}const CI=mI(mc),IG=pl.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:"⚠ LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,CI],topRules:{Script:[0,25]},tokenPrec:0});function Cc(r){let e=r.cursor().moveTo(r.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function Ta(r,e){let t=r.sliceString(e.from,e.to),i=/^([`'"\[])(.*)([`'"\]])$/.exec(t);return i?i[2]:t}function ml(r){return r&&(r.name=="Identifier"||r.name=="QuotedIdentifier")}function NG(r,e){if(e.name=="CompositeIdentifier"){let t=[];for(let i=e.firstChild;i;i=i.nextSibling)ml(i)&&t.push(Ta(r,i));return t}return[Ta(r,e)]}function l0(r,e){for(let t=[];;){if(!e||e.name!=".")return t;let i=Cc(e);if(!ml(i))return t;t.unshift(Ta(r,i)),e=Cc(i)}}function pG(r,e){let t=Lt(r).resolveInner(e,-1),i=CG(r.doc,t);return t.name=="Identifier"||t.name=="QuotedIdentifier"||t.name=="Keyword"?{from:t.from,quoted:t.name=="QuotedIdentifier"?r.doc.sliceString(t.from,t.from+1):null,parents:l0(r.doc,Cc(t)),aliases:i}:t.name=="."?{from:e,quoted:null,parents:l0(r.doc,t),aliases:i}:{from:e,quoted:null,parents:[],empty:!0,aliases:i}}const mG=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function CG(r,e){let t;for(let n=e;!t;n=n.parent){if(!n)return null;n.name=="Statement"&&(t=n)}let i=null;for(let n=t.firstChild,s=!1,a=null;n;n=n.nextSibling){let o=n.name=="Keyword"?r.sliceString(n.from,n.to).toLowerCase():null,l=null;if(!s)s=o=="from";else if(o=="as"&&a&&ml(n.nextSibling))l=Ta(r,n.nextSibling);else{if(o&&mG.has(o))break;a&&ml(n)&&(l=Ta(r,n))}l&&(i||(i=Object.create(null)),i[l]=NG(r,a)),a=/Identifier$/.test(n.name)?n:null}return i}function _G(r,e,t){return t.map(i=>({...i,label:i.label[0]==r?i.label:r+i.label+e,apply:void 0}))}const gG=/^\w*$/,LG=/^[`'"\[]?\w*[`'"\]]?$/;function E0(r){return r.self&&typeof r.self.label=="string"}class xf{constructor(e,t){this.idQuote=e,this.idCaseInsensitive=t,this.list=[],this.children=void 0}child(e){let t=this.children||(this.children=Object.create(null)),i=t[e];return i||(e&&!this.list.some(n=>n.label==e)&&this.list.push(h0(e,"type",this.idQuote,this.idCaseInsensitive)),t[e]=new xf(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let t=this.list.findIndex(i=>i.label==e.label);t>-1?this.list[t]=e:this.list.push(e)}addCompletions(e){for(let t of e)this.addCompletion(typeof t=="string"?h0(t,"property",this.idQuote,this.idCaseInsensitive):t)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):E0(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let t of Object.keys(e)){let i=e[t],n=null,s=t.replace(/\\?\./g,o=>o=="."?"\0":o).split("\0"),a=this;E0(i)&&(n=i.self,i=i.children);for(let o=0;o<s.length;o++)n&&o==s.length-1&&a.addCompletion(n),a=a.child(s[o].replace(/\\\./g,"."));a.addNamespace(i)}}}function h0(r,e,t,i){return new RegExp("^[a-z_][a-z_\\d]*$",i?"i":"").test(r)?{label:r,type:e}:{label:r,type:e,apply:t+r+_I(t)}}function _I(r){return r==="["?"]":r}function DG(r,e,t,i,n,s){var a;let o=((a=s?.spec.identifierQuotes)===null||a===void 0?void 0:a[0])||'"',l=new xf(o,!!s?.spec.caseInsensitiveIdentifiers),E=n?l.child(n):null;return l.addNamespace(r),e&&(E||l).addCompletions(e),t&&l.addCompletions(t),E&&l.addCompletions(E.list),i&&l.addCompletions((E||l).child(i).list),h=>{let{parents:c,from:f,quoted:T,empty:A,aliases:u}=pG(h.state,h.pos);if(A&&!h.explicit)return null;u&&c.length==1&&(c=u[c[0]]||c);let R=l;for(let O of c){for(;!R.children||!R.children[O];)if(R==l&&E)R=E;else if(R==E&&i)R=R.child(i);else return null;let I=R.maybeChild(O);if(!I)return null;R=I}let d=R.list;if(R==l&&u&&(d=d.concat(Object.keys(u).map(O=>({label:O,type:"constant"})))),T){let O=T[0],I=_I(O),L=h.state.sliceDoc(h.pos,h.pos+1)==I;return{from:f,to:L?h.pos+1:void 0,options:_G(O,I,d),validFor:LG}}else return{from:f,options:d,validFor:gG}}}function xG(r){return r==OI?"type":r==dI?"keyword":"variable"}function PG(r,e,t){let i=Object.keys(r).map(n=>t(e?n.toUpperCase():n,xG(r[n])));return mB(["QuotedIdentifier","String","LineComment","BlockComment","."],rI(i))}let MG=IG.configure({props:[jd.add({Statement:rw()}),eO.add({Statement(r,e){return{from:Math.min(r.from+100,e.doc.lineAt(r.from).to),to:r.to}},BlockComment(r){return{from:r.from+2,to:r.to-2}}}),Jd({Keyword:W.keyword,Type:W.typeName,Builtin:W.standard(W.name),Bits:W.number,Bytes:W.string,Bool:W.bool,Null:W.null,Number:W.number,String:W.string,Identifier:W.name,QuotedIdentifier:W.special(W.string),SpecialVar:W.special(W.name),LineComment:W.lineComment,BlockComment:W.blockComment,Operator:W.operator,"Semi Punctuation":W.punctuation,"( )":W.paren,"{ }":W.brace,"[ ]":W.squareBracket})]});class ua{constructor(e,t,i){this.dialect=e,this.language=t,this.spec=i}get extension(){return this.language.extension}configureLanguage(e,t){return new ua(this.dialect,this.language.configure(e,t),this.spec)}static define(e){let t=OG(e,e.keywords,e.types,e.builtin),i=ol.define({name:"sql",parser:MG.configure({tokenizers:[{from:CI,to:mI(t)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new ua(t,i,e)}}function vG(r,e){return{label:r,type:e,boost:-1}}function UG(r,e=!1,t){return PG(r.dialect.words,e,t||vG)}function yG(r){return r.schema?DG(r.schema,r.tables,r.schemas,r.defaultTable,r.defaultSchema,r.dialect||Pf):()=>null}function wG(r){return r.schema?(r.dialect||Pf).language.data.of({autocomplete:yG(r)}):[]}function FG(r={}){let e=r.dialect||Pf;return new $2(e.language,[wG(r),e.language.data.of({autocomplete:UG(e,r.upperCaseKeywords,r.keywordCompletion)})])}const Pf=ua.define({}),BG=ua.define({keywords:pI+"abort accept access add all alter and any arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body by case cast char_base check close cluster clusters colauth column comment commit compress connected constant constraint crash create current currval cursor data_base database dba deallocate debugoff debugon declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry exception exception_init exchange exclusive exists external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base of off offline on online only option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw rebuild record ref references refresh rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work",builtin:"appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define echo editfile embedded feedback flagger flush heading headsep instance linesize lno loboffset logsource longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar repfooter repheader serveroutput shiftinout show showmode spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout timing trimout trimspool ttitle underline verify version wrap",types:NI+"ascii bfile bfilename bigserial bit blob dec long number nvarchar nvarchar2 serial smallint string text uid varchar2 xml",operatorChars:"*/+-%<>!=~",doubleQuotedStrings:!0,charSetCasts:!0,plsqlQuotingMechanism:!0});let mr;typeof window<"u"?mr=window:typeof self<"u"?mr=self:mr=xI;let _c=null,gc=null;const c0=20,Rh=mr.clearTimeout,f0=mr.setTimeout,Sh=mr.cancelAnimationFrame||mr.mozCancelAnimationFrame||mr.webkitCancelAnimationFrame,T0=mr.requestAnimationFrame||mr.mozRequestAnimationFrame||mr.webkitRequestAnimationFrame;Sh==null||T0==null?(_c=Rh,gc=function(e){return f0(e,c0)}):(_c=function([e,t]){Sh(e),Rh(t)},gc=function(e){const t=T0(function(){Rh(i),e()}),i=f0(function(){Sh(t),e()},c0);return[t,i]});function bG(r){let e,t,i,n,s,a,o;const l=typeof document<"u"&&document.attachEvent;if(!l){a=function(d){const O=d.__resizeTriggers__,I=O.firstElementChild,L=O.lastElementChild,D=I.firstElementChild;L.scrollLeft=L.scrollWidth,L.scrollTop=L.scrollHeight,D.style.width=I.offsetWidth+1+"px",D.style.height=I.offsetHeight+1+"px",I.scrollLeft=I.scrollWidth,I.scrollTop=I.scrollHeight},s=function(d){return d.offsetWidth!==d.__resizeLast__.width||d.offsetHeight!==d.__resizeLast__.height},o=function(d){if(d.target.className&&typeof d.target.className.indexOf=="function"&&d.target.className.indexOf("contract-trigger")<0&&d.target.className.indexOf("expand-trigger")<0)return;const O=this;a(this),this.__resizeRAF__&&_c(this.__resizeRAF__),this.__resizeRAF__=gc(function(){s(O)&&(O.__resizeLast__.width=O.offsetWidth,O.__resizeLast__.height=O.offsetHeight,O.__resizeListeners__.forEach(function(D){D.call(O,d)}))})};let f=!1,T="";i="animationstart";const A="Webkit Moz O ms".split(" ");let u="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),R="";{const d=document.createElement("fakeelement");if(d.style.animationName!==void 0&&(f=!0),f===!1){for(let O=0;O<A.length;O++)if(d.style[A[O]+"AnimationName"]!==void 0){R=A[O],T="-"+R.toLowerCase()+"-",i=u[O],f=!0;break}}}t="resizeanim",e="@"+T+"keyframes "+t+" { from { opacity: 0; } to { opacity: 0; } } ",n=T+"animation: 1ms "+t+"; "}const E=function(f){if(!f.getElementById("detectElementResize")){const T=(e||"")+".resize-triggers { "+(n||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',A=f.head||f.getElementsByTagName("head")[0],u=f.createElement("style");u.id="detectElementResize",u.type="text/css",r!=null&&u.setAttribute("nonce",r),u.styleSheet?u.styleSheet.cssText=T:u.appendChild(f.createTextNode(T)),A.appendChild(u)}};return{addResizeListener:function(f,T){if(l)f.attachEvent("onresize",T);else{if(!f.__resizeTriggers__){const A=f.ownerDocument,u=mr.getComputedStyle(f);u&&u.position==="static"&&(f.style.position="relative"),E(A),f.__resizeLast__={},f.__resizeListeners__=[],(f.__resizeTriggers__=A.createElement("div")).className="resize-triggers";const R=A.createElement("div");R.className="expand-trigger",R.appendChild(A.createElement("div"));const d=A.createElement("div");d.className="contract-trigger",f.__resizeTriggers__.appendChild(R),f.__resizeTriggers__.appendChild(d),f.appendChild(f.__resizeTriggers__),a(f),f.addEventListener("scroll",o,!0),i&&(f.__resizeTriggers__.__animationListener__=function(I){I.animationName===t&&a(f)},f.__resizeTriggers__.addEventListener(i,f.__resizeTriggers__.__animationListener__))}f.__resizeListeners__.push(T)}},removeResizeListener:function(f,T){if(l)f.detachEvent("onresize",T);else if(f.__resizeListeners__.splice(f.__resizeListeners__.indexOf(T),1),!f.__resizeListeners__.length){f.removeEventListener("scroll",o,!0),f.__resizeTriggers__.__animationListener__&&(f.__resizeTriggers__.removeEventListener(i,f.__resizeTriggers__.__animationListener__),f.__resizeTriggers__.__animationListener__=null);try{f.__resizeTriggers__=!f.removeChild(f.__resizeTriggers__)}catch{}}}}}class GG extends _e.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._didLogDeprecationWarning=!1,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:t,disableWidth:i,onResize:n}=this.props;if(this._parentNode){const s=window.getComputedStyle(this._parentNode)||{},a=parseFloat(s.paddingLeft||"0"),o=parseFloat(s.paddingRight||"0"),l=parseFloat(s.paddingTop||"0"),E=parseFloat(s.paddingBottom||"0"),h=this._parentNode.getBoundingClientRect(),c=h.height-l-E,f=h.width-a-o;if(!t&&this.state.height!==c||!i&&this.state.width!==f){this.setState({height:c,width:f});const T=()=>{this._didLogDeprecationWarning||(this._didLogDeprecationWarning=!0,console.warn("scaledWidth and scaledHeight parameters have been deprecated; use width and height instead"))};typeof n=="function"&&n({height:c,width:f,get scaledHeight(){return T(),c},get scaledWidth(){return T(),f}})}}},this._setRef=t=>{this._autoSizer=t}}componentDidMount(){const{nonce:e}=this.props,t=this._autoSizer?this._autoSizer.parentNode:null;if(t!=null&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){this._parentNode=t;const i=t.ownerDocument.defaultView.ResizeObserver;i!=null?(this._resizeObserver=new i(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(t)):(this._detectElementResize=bG(e),this._detectElementResize.addResizeListener(t,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:e,defaultHeight:t,defaultWidth:i,disableHeight:n=!1,disableWidth:s=!1,doNotBailOutOnEmptyChildren:a=!1,nonce:o,onResize:l,style:E={},tagName:h="div",...c}=this.props,{height:f,width:T}=this.state,A={overflow:"visible"},u={};let R=!1;return n||(f===0&&(R=!0),A.height=0,u.height=f,u.scaledHeight=f),s||(T===0&&(R=!0),A.width=0,u.width=T,u.scaledWidth=T),a&&(R=!1),_e.createElement(h,{ref:this._setRef,style:{...A,...E},...c},!R&&e(u))}}function u0(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Lc(r,e){return Lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Lc(r,e)}function HG(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,Lc(r,e)}var A0=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function kG(r,e){return!!(r===e||A0(r)&&A0(e))}function YG(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(!kG(r[t],e[t]))return!1;return!0}function dh(r,e){e===void 0&&(e=YG);var t,i=[],n,s=!1;function a(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return s&&t===this&&e(o,i)||(n=r.apply(this,o),s=!0,t=this,i=o),n}return a}var VG=typeof performance=="object"&&typeof performance.now=="function",R0=VG?function(){return performance.now()}:function(){return Date.now()};function S0(r){cancelAnimationFrame(r.id)}function WG(r,e){var t=R0();function i(){R0()-t>=e?r.call(null):n.id=requestAnimationFrame(i)}var n={id:requestAnimationFrame(i)};return n}var Oh=-1;function d0(r){if(r===void 0&&(r=!1),Oh===-1||r){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(e),Oh=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Oh}var Dn=null;function O0(r){if(r===void 0&&(r=!1),Dn===null||r){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var i=document.createElement("div"),n=i.style;return n.width="100px",n.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?Dn="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?Dn="negative":Dn="positive-ascending"),document.body.removeChild(e),Dn}return Dn}var XG=150,KG=function(e,t){return e};function $G(r){var e,t=r.getItemOffset,i=r.getEstimatedTotalSize,n=r.getItemSize,s=r.getOffsetForIndexAndAlignment,a=r.getStartIndexForOffset,o=r.getStopIndexForStartIndex,l=r.initInstanceProps,E=r.shouldResetStyleCacheOnItemSizeChange,h=r.validateProps;return e=(function(c){HG(f,c);function f(A){var u;return u=c.call(this,A)||this,u._instanceProps=l(u.props,u0(u)),u._outerRef=void 0,u._resetIsScrollingTimeoutId=null,u.state={instance:u0(u),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof u.props.initialScrollOffset=="number"?u.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},u._callOnItemsRendered=void 0,u._callOnItemsRendered=dh(function(R,d,O,I){return u.props.onItemsRendered({overscanStartIndex:R,overscanStopIndex:d,visibleStartIndex:O,visibleStopIndex:I})}),u._callOnScroll=void 0,u._callOnScroll=dh(function(R,d,O){return u.props.onScroll({scrollDirection:R,scrollOffset:d,scrollUpdateWasRequested:O})}),u._getItemStyle=void 0,u._getItemStyle=function(R){var d=u.props,O=d.direction,I=d.itemSize,L=d.layout,D=u._getItemStyleCache(E&&I,E&&L,E&&O),U;if(D.hasOwnProperty(R))U=D[R];else{var _=t(u.props,R,u._instanceProps),y=n(u.props,R,u._instanceProps),P=O==="horizontal"||L==="horizontal",Y=O==="rtl",G=P?_:0;D[R]=U={position:"absolute",left:Y?void 0:G,right:Y?G:void 0,top:P?0:_,height:P?"100%":y,width:P?y:"100%"}}return U},u._getItemStyleCache=void 0,u._getItemStyleCache=dh(function(R,d,O){return{}}),u._onScrollHorizontal=function(R){var d=R.currentTarget,O=d.clientWidth,I=d.scrollLeft,L=d.scrollWidth;u.setState(function(D){if(D.scrollOffset===I)return null;var U=u.props.direction,_=I;if(U==="rtl")switch(O0()){case"negative":_=-I;break;case"positive-descending":_=L-O-I;break}return _=Math.max(0,Math.min(_,L-O)),{isScrolling:!0,scrollDirection:D.scrollOffset<_?"forward":"backward",scrollOffset:_,scrollUpdateWasRequested:!1}},u._resetIsScrollingDebounced)},u._onScrollVertical=function(R){var d=R.currentTarget,O=d.clientHeight,I=d.scrollHeight,L=d.scrollTop;u.setState(function(D){if(D.scrollOffset===L)return null;var U=Math.max(0,Math.min(L,I-O));return{isScrolling:!0,scrollDirection:D.scrollOffset<U?"forward":"backward",scrollOffset:U,scrollUpdateWasRequested:!1}},u._resetIsScrollingDebounced)},u._outerRefSetter=function(R){var d=u.props.outerRef;u._outerRef=R,typeof d=="function"?d(R):d!=null&&typeof d=="object"&&d.hasOwnProperty("current")&&(d.current=R)},u._resetIsScrollingDebounced=function(){u._resetIsScrollingTimeoutId!==null&&S0(u._resetIsScrollingTimeoutId),u._resetIsScrollingTimeoutId=WG(u._resetIsScrolling,XG)},u._resetIsScrolling=function(){u._resetIsScrollingTimeoutId=null,u.setState({isScrolling:!1},function(){u._getItemStyleCache(-1,null)})},u}f.getDerivedStateFromProps=function(u,R){return JG(u,R),h(u),null};var T=f.prototype;return T.scrollTo=function(u){u=Math.max(0,u),this.setState(function(R){return R.scrollOffset===u?null:{scrollDirection:R.scrollOffset<u?"forward":"backward",scrollOffset:u,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},T.scrollToItem=function(u,R){R===void 0&&(R="auto");var d=this.props,O=d.itemCount,I=d.layout,L=this.state.scrollOffset;u=Math.max(0,Math.min(u,O-1));var D=0;if(this._outerRef){var U=this._outerRef;I==="vertical"?D=U.scrollWidth>U.clientWidth?d0():0:D=U.scrollHeight>U.clientHeight?d0():0}this.scrollTo(s(this.props,u,R,L,this._instanceProps,D))},T.componentDidMount=function(){var u=this.props,R=u.direction,d=u.initialScrollOffset,O=u.layout;if(typeof d=="number"&&this._outerRef!=null){var I=this._outerRef;R==="horizontal"||O==="horizontal"?I.scrollLeft=d:I.scrollTop=d}this._callPropsCallbacks()},T.componentDidUpdate=function(){var u=this.props,R=u.direction,d=u.layout,O=this.state,I=O.scrollOffset,L=O.scrollUpdateWasRequested;if(L&&this._outerRef!=null){var D=this._outerRef;if(R==="horizontal"||d==="horizontal")if(R==="rtl")switch(O0()){case"negative":D.scrollLeft=-I;break;case"positive-ascending":D.scrollLeft=I;break;default:var U=D.clientWidth,_=D.scrollWidth;D.scrollLeft=_-U-I;break}else D.scrollLeft=I;else D.scrollTop=I}this._callPropsCallbacks()},T.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&S0(this._resetIsScrollingTimeoutId)},T.render=function(){var u=this.props,R=u.children,d=u.className,O=u.direction,I=u.height,L=u.innerRef,D=u.innerElementType,U=u.innerTagName,_=u.itemCount,y=u.itemData,P=u.itemKey,Y=P===void 0?KG:P,G=u.layout,b=u.outerElementType,Q=u.outerTagName,ae=u.style,oe=u.useIsScrolling,Me=u.width,xe=this.state.isScrolling,Be=O==="horizontal"||G==="horizontal",me=Be?this._onScrollHorizontal:this._onScrollVertical,ge=this._getRangeToRender(),De=ge[0],x=ge[1],w=[];if(_>0)for(var v=De;v<=x;v++)w.push(_e.createElement(R,{data:y,key:Y(v,y),index:v,isScrolling:oe?xe:void 0,style:this._getItemStyle(v)}));var M=i(this.props,this._instanceProps);return _e.createElement(b||Q||"div",{className:d,onScroll:me,ref:this._outerRefSetter,style:qo({position:"relative",height:I,width:Me,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:O},ae)},_e.createElement(D||U||"div",{children:w,ref:L,style:{height:Be?"100%":M,pointerEvents:xe?"none":void 0,width:Be?M:"100%"}}))},T._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var u=this.props.itemCount;if(u>0){var R=this._getRangeToRender(),d=R[0],O=R[1],I=R[2],L=R[3];this._callOnItemsRendered(d,O,I,L)}}if(typeof this.props.onScroll=="function"){var D=this.state,U=D.scrollDirection,_=D.scrollOffset,y=D.scrollUpdateWasRequested;this._callOnScroll(U,_,y)}},T._getRangeToRender=function(){var u=this.props,R=u.itemCount,d=u.overscanCount,O=this.state,I=O.isScrolling,L=O.scrollDirection,D=O.scrollOffset;if(R===0)return[0,0,0,0];var U=a(this.props,D,this._instanceProps),_=o(this.props,U,D,this._instanceProps),y=!I||L==="backward"?Math.max(1,d):1,P=!I||L==="forward"?Math.max(1,d):1;return[Math.max(0,U-y),Math.max(0,Math.min(R-1,_+P)),U,_]},f})(_e.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var JG=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},zG=$G({getItemOffset:function(e,t){var i=e.itemSize;return t*i},getItemSize:function(e,t){var i=e.itemSize;return i},getEstimatedTotalSize:function(e){var t=e.itemCount,i=e.itemSize;return i*t},getOffsetForIndexAndAlignment:function(e,t,i,n,s,a){var o=e.direction,l=e.height,E=e.itemCount,h=e.itemSize,c=e.layout,f=e.width,T=o==="horizontal"||c==="horizontal",A=T?f:l,u=Math.max(0,E*h-A),R=Math.min(u,t*h),d=Math.max(0,t*h-A+h+a);switch(i==="smart"&&(n>=d-A&&n<=R+A?i="auto":i="center"),i){case"start":return R;case"end":return d;case"center":{var O=Math.round(d+(R-d)/2);return O<Math.ceil(A/2)?0:O>u+Math.floor(A/2)?u:O}case"auto":default:return n>=d&&n<=R?n:n<d?d:R}},getStartIndexForOffset:function(e,t){var i=e.itemCount,n=e.itemSize;return Math.max(0,Math.min(i-1,Math.floor(t/n)))},getStopIndexForStartIndex:function(e,t,i){var n=e.direction,s=e.height,a=e.itemCount,o=e.itemSize,l=e.layout,E=e.width,h=n==="horizontal"||l==="horizontal",c=t*o,f=h?E:s,T=Math.ceil((f+i-c)/o);return Math.max(0,Math.min(a-1,t+T-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});const qG=({index:r,style:e,data:t})=>{const{rows:i,columnOrder:n,visibleColumns:s,theme:a,metaData:o,columnWidths:l}=t,E=i[r];if(!E)return X.jsx("div",{style:e});const h=c=>{if(c==null)return"";if(typeof c!="string")return c;if(/^\d{4}-\d{2}-\d{2}/.test(c)){const T=new Date(c);if(!isNaN(T.getTime())){const A=String(T.getDate()).padStart(2,"0"),u=String(T.getMonth()+1).padStart(2,"0"),R=T.getFullYear(),d=String(T.getHours()).padStart(2,"0"),O=String(T.getMinutes()).padStart(2,"0"),I=String(T.getSeconds()).padStart(2,"0");return d==="00"&&O==="00"&&I==="00"?`${A}/${u}/${R}`:`${A}/${u}/${R} ${d}:${O}:${I}`}}return c};return X.jsx("div",{style:e,className:`flex divide-x divide-gray-100 ${r%2===0?"bg-white":"bg-gray-50/50"} hover:bg-blue-50/80 transition-colors group`,children:n.map(c=>{if(!s[c])return null;const f=o?o.findIndex(R=>R.name===c):-1,T=l&&l[c]||150,A=E[f],u=h(A);return X.jsx("div",{className:"px-3 py-2 text-sm text-gray-600 overflow-hidden text-ellipsis whitespace-nowrap transition-colors",style:{width:`${T}px`,minWidth:`${T}px`,maxWidth:`${T}px`},title:String(A||""),children:A===null?X.jsx("span",{className:"text-gray-300 italic",children:"null"}):u},c)})})},QG=({isVisible:r,tabs:e,setTabs:t,activeTabId:i,setActiveTabId:n,savedQueries:s,setSavedQueries:a,onDisconnect:o})=>{const{theme:l}=_e.useContext(PI),{apiUrl:E}=MI(),[h,c]=_e.useState(null),f=e.find(K=>K.id===i)||e[0],[T,A]=_e.useState(100),[u,R]=_e.useState(""),[d,O]=_e.useState(!1),[I,L]=_e.useState(!1),[D,U]=_e.useState(!0),[_,y]=_e.useState("saved"),[P,Y]=_e.useState([]),[G,b]=_e.useState(""),[Q,ae]=_e.useState(!1),[oe,Me]=_e.useState({}),xe=_e.useRef(null),Be=_e.useRef(null);_e.useRef(null);const me=_e.useRef(null),ge=(K,he="success",Re=3e3)=>{c({message:K,type:he}),setTimeout(()=>c(null),Re)},De=K=>{t(he=>he.map(Re=>Re.id===i?{...Re,...K}:Re))},[x,w]=_e.useState(""),[v,M]=_e.useState([]),[Z,Oe]=_e.useState(null),[pe,Ie]=_e.useState([]),[ce,We]=_e.useState(!1),[we,Ot]=_e.useState({}),[Ge,Lr]=_e.useState({}),[Qe,de]=_e.useState([]),[Dt,Dr]=_e.useState({}),[Ar,Ii]=_e.useState(!1),[cs,Pa]=_e.useState(!1),[Wt,ki]=_e.useState(null),fs=K=>{if(!K||!K.metaData||!K.rows)return{};const he={},Re=400,S=100,m=8;return K.metaData.forEach((N,p)=>{let C=N.name.length;(K.rows||[]).slice(0,50).forEach(J=>{if(!J)return;const F=J[p];if(F!=null){const H=String(F).length;H>C&&(C=H)}});const B=Math.min(Re,Math.max(S,C*m+30));he[N.name]=B}),he},Ts=K=>{if(!f.results)return;const he=f.results.metaData.findIndex(N=>N.name===K);if(he===-1)return;let Re=K.length;(f.results.rows||[]).forEach(N=>{if(!N)return;const p=N[he];if(p!=null){const C=String(p).length;C>Re&&(Re=C)}});const m=Math.min(800,Math.max(100,Re*8+30));Me(N=>({...N,[K]:m}))};_e.useEffect(()=>{if(f.results&&f.results.metaData){const K={},he=f.results.metaData.map(S=>S.name);f.results.metaData.forEach(S=>K[S.name]=!0),Lr(K),de(he);const Re=fs(f.results);Me(Re)}},[f.results]);const ii=async(K="")=>{We(!0);try{const Re=await(await fetch(`${E}/api/tables?search=${encodeURIComponent(K)}`)).json();M(Re);const S={...we};Re.forEach(m=>{S[m]||(S[m]=[])}),Ot(S)}catch(he){console.error("Failed to fetch schema tables",he)}finally{We(!1)}},Kl=async K=>{if(Z===K){Oe(null),Ie([]);return}Oe(K);try{const Re=await(await fetch(`${E}/api/columns/${encodeURIComponent(K)}`)).json();Ie(Re),Ot(S=>({...S,[K]:Re.map(m=>m.name)}))}catch(he){console.error("Failed to fetch columns",he)}},Ma=K=>{De({sqlContent:f.sqlContent+" "+K}),Be.current&&Be.current.focus()},va=async K=>{const he=K.target.files[0];if(!he)return;const Re=new FormData;Re.append("file",he),De({loading:!0});try{const m=await(await fetch(`${E}/api/upload/sql`,{method:"POST",body:Re})).json();if(m.error)throw new Error(m.error);De({sqlContent:m.sql,loading:!1}),R(he.name.replace(/\.sql$/i,""))}catch(S){De({error:S.message,loading:!1})}},xr=_e.useRef(null),Ua=()=>{xr.current&&(xr.current.abort(),xr.current=null,De({loading:!1,error:"Execução cancelada pelo usuário."}),ge("Execução cancelada.","info"))},ya=async()=>{De({loading:!0,error:null,results:null,totalRecords:void 0}),xr.current&&xr.current.abort(),xr.current=new AbortController;const K=xr.current.signal;try{const he=f.sqlContent.trim().replace(/;+\s*$/,""),S=await(await fetch("http://127.0.0.1:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:he,limit:T,filter:cs?Dt:null}),signal:K})).json();if(S.error)throw new Error(S.error);const m={...S,rows:Array.isArray(S.rows)?S.rows:[],metaData:Array.isArray(S.metaData)?S.metaData:[]};S.rowsAffected!==void 0?ge(`Sucesso. Linhas afetadas: ${S.rowsAffected}`):!S.rows&&!S.metaData&&ge("Comando executado com sucesso."),De({results:m,loading:!1});try{const p=await(await fetch("http://127.0.0.1:3001/api/query/count",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:he}),signal:K})).json();p.count!==void 0&&De({totalRecords:p.count})}catch{}}catch(he){he.name!=="AbortError"&&De({error:he.message,loading:!1})}finally{xr.current=null}},us=()=>{if(!u)return alert("Por favor, insira um nome para a query.");const K={id:Date.now(),name:u,title:u,sql:f.sqlContent};a([...s,K]),O(!1),R(""),ge("Query salva!")},$l=K=>{window.confirm("Tem certeza que deseja excluir esta query?")&&a(s.filter(he=>he.id!==K))},Jl=K=>{De({sqlContent:K.sql}),R(K.name)},wa=()=>{const K=Date.now();t([...e,{id:K,title:`Query ${e.length+1}`,sqlContent:"",results:null}]),n(K)},Fa=(K,he)=>{if(K.stopPropagation(),e.length===1)return t([{...e[0],sqlContent:"",results:null,error:null}]);const Re=e.filter(S=>S.id!==he);t(Re),i===he&&n(Re[Re.length-1].id)},As=(()=>{if(!f.results)return[];const K=Dt||{};let he=!1;for(const Re in K)if(Object.prototype.hasOwnProperty.call(K,Re)&&K[Re]&&String(K[Re]).trim()!==""){he=!0;break}return!he||cs?f.results.rows||[]:(f.results.rows||[]).filter(Re=>Qe.every((S,m)=>{const N=K[S];if(!N||!f.results.metaData)return!0;const p=f.results.metaData.findIndex(g=>g.name===S);return p===-1?!0:String(Re[p]||"").toLowerCase().includes(String(N).toLowerCase())}))})(),ql=async(K,he,Re)=>{if(window.electronAPI&&window.electronAPI.saveFile){const S=await window.electronAPI.saveFile({filename:K,content:he,type:Re});S&&(ge("Arquivo salvo!"),window.electronAPI.showItemInFolder(S))}else{let S;if(Re==="xlsx"){const m=atob(he),N=new Uint8Array(m.length);for(let p=0;p<m.length;p++)N[p]=m.charCodeAt(p);S=new Blob([N],{type:"application/octet-stream"})}else S=new Blob([he],{type:"text/csv;charset=utf-8"});GI.saveAs(S,K),ge("Download concluído!")}},Yi=async K=>{if(!f.results||!f.results.rows||f.results.rows.length===0)return alert("Sem dados.");ge("Gerando arquivo...","info",0),setTimeout(async()=>{try{const Re=[f.results.metaData.map(N=>N.name),...As],S=`export_${Date.now()}.${K}`;let m;if(K==="xlsx"){const N=Is.book_new(),p=Is.aoa_to_sheet(Re);Is.book_append_sheet(N,p,"Results");const C=jR(N,{bookType:"xlsx",type:"array"}),g=new Uint8Array(C);let B="";for(let J=0;J<g.byteLength;J++)B+=String.fromCharCode(g[J]);m=window.btoa(B)}else if(K==="csv"){const N=Is.aoa_to_sheet(Re);m=Is.sheet_to_csv(N)}await ql(S,m,K)}catch(he){ge("Falha: "+he.message,"error")}},100)},Ql=(K,he)=>{ki(he),K.dataTransfer.effectAllowed="move"},jl=(K,he)=>{if(K.preventDefault(),!Wt||Wt===he)return;const Re=[...Qe],S=Re.indexOf(Wt),m=Re.indexOf(he);Re.splice(S,1),Re.splice(m,0,Wt),de(Re)},Zl=()=>ki(null),eE=()=>{try{const K=mv(f.sqlContent,{language:"plsql",keywordCase:"upper",linesBetweenQueries:2});De({sqlContent:K})}catch{ge("Erro ao formatar","error")}},tE=async K=>{if(K&&K.preventDefault(),!G.trim())return;const he={role:"user",content:G};Y(Re=>[he,...Re]),b(""),ae(!0);try{const Re=Object.keys(we||{}).reduce((N,p)=>(we&&we[p]&&(N[p]=we[p]),N),{}),m=await(await fetch(`${E}/api/ai/sql/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:he.content,schemaContext:Re})})).json();Y(N=>[{role:"assistant",content:m.text},...N])}catch{Y(S=>[{role:"assistant",content:"Erro na comunicação."},...S])}finally{ae(!1)}},rE=async()=>{if(f.error){ae(!0);try{const he=await(await fetch(`${E}/api/ai/sql/fix`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:f.sqlContent,error:f.error})})).json(),Re=he.text.match(/```sql\s*([\s\S]*?)\s*```/);Re&&Re[1]&&(De({sqlContent:Re[1].trim()}),ge("SQL Corrigido!","success")),y("chat"),Y(S=>[{role:"system",content:`**Sugestão de Correção:**

${he.text}`},...S])}catch{ge("Falha ao corrigir","error")}finally{ae(!1)}}},iE=async()=>{if(f.sqlContent){ae(!0);try{const he=await(await fetch(`${E}/api/ai/sql/explain`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:f.sqlContent})})).json();y("chat"),Y(Re=>[{role:"system",content:`**Explicação:**

${he.text}`},...Re])}catch{ge("Erro","error")}finally{ae(!1)}}},nE=async()=>{if(f.sqlContent){ae(!0);try{const he=await(await fetch(`${E}/api/ai/sql/optimize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:f.sqlContent})})).json();let Re=he.text;const S=he.text.match(/```sql\n([\s\S]+?)\n```/);S&&S[1]&&(Re=S[1]),De({sqlContent:Re}),ge("SQL Otimizado!","success")}catch{ge("Erro","error")}finally{ae(!1)}}},Nn=K=>{xe.current&&(xe.current.scrollLeft=K.currentTarget.scrollLeft)};return _e.useEffect(()=>{const K=me.current;if(K)return K.addEventListener("scroll",Nn),()=>K.removeEventListener("scroll",Nn)},[me.current,f.results]),X.jsx(vI,{children:X.jsxs("div",{className:"space-y-4 relative h-full flex flex-col bg-gray-50/50",children:[h&&X.jsxs("div",{className:`fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-xl z-[9999] animate-bounce-up text-white font-bold flex items-center ${h.type==="error"?"bg-red-500":"bg-emerald-500"}`,children:[h.type==="error"?"🚫":"✅"," ",X.jsx("span",{className:"ml-2",children:h.message})]}),I&&X.jsx("div",{className:"fixed inset-0 bg-black/50 z-[9999] flex items-center justify-center backdrop-blur-sm",children:X.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl flex flex-col items-center",children:[X.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-indigo-500 border-t-transparent mb-4"}),X.jsx("p",{className:"text-gray-800 font-bold text-lg",children:"Exportando dados..."})]})}),X.jsx("button",{onClick:()=>U(!D),className:"absolute top-2 right-2 z-50 p-2 rounded-lg bg-white shadow-sm border border-gray-200 hover:bg-gray-50 text-gray-600 transition-all hover:scale-105",title:D?"Ocultar Menu":"Expandir Menu",children:D?X.jsx(v1,{size:18}):X.jsx(y1,{size:18})}),X.jsxs(Mf,{direction:"horizontal",className:"h-full",children:[X.jsx(Ba,{defaultSize:80,minSize:30,className:"flex flex-col h-full overflow-hidden",children:X.jsxs("div",{className:"flex flex-col h-full",children:[X.jsxs("div",{className:"flex items-center bg-gray-100 border-b border-gray-200 px-2 pt-2 gap-1 overflow-x-auto no-scrollbar",children:[e.map(K=>X.jsxs("div",{onClick:()=>n(K.id),className:`
                                            group relative flex items-center px-4 py-2 text-xs font-semibold rounded-t-lg cursor-pointer transition-all select-none min-w-[120px] max-w-[200px]
                                            ${i===K.id?"bg-white text-blue-600 border-t-2 border-t-blue-500 shadow-sm":"bg-gray-200/50 text-gray-500 hover:bg-gray-200 hover:text-gray-700"}
                                        `,children:[X.jsx("span",{className:"truncate flex-1 mr-2",children:K.title}),X.jsx("button",{onClick:he=>Fa(he,K.id),className:`p-0.5 rounded-full hover:bg-red-100 hover:text-red-500 transition-opacity ${i===K.id?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:X.jsx(aE,{size:12})})]},K.id)),X.jsx("button",{onClick:wa,className:"p-1.5 ml-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Nova Query",children:X.jsx(UI,{size:16})})]}),X.jsxs(Mf,{direction:"vertical",className:"flex-1",children:[X.jsxs(Ba,{defaultSize:45,minSize:20,className:"flex flex-col bg-white",children:[X.jsx("div",{className:"flex-1 relative font-mono text-sm min-h-0",onClick:()=>Be.current?.focus(),children:r&&X.jsx(SI,{value:f.sqlContent,height:"100%",extensions:[FG({schema:{},dialect:BG,upperCaseKeywords:!0}),cI({override:[]})],onChange:K=>De({sqlContent:K}),theme:"light",className:"h-full",onCreateEditor:K=>{Be.current=K}})}),X.jsxs("div",{className:"flex-none px-4 py-3 bg-white border-t border-gray-100 flex items-center justify-between shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] z-10",children:[X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsxs("button",{onClick:ya,disabled:!f.sqlContent||f.loading,className:`
                                                    flex items-center px-5 py-2 rounded-lg font-bold text-white shadow-lg shadow-indigo-200 transform transition-all active:scale-95
                                                    ${f.loading?"bg-indigo-400 cursor-wait":"bg-indigo-600 hover:bg-indigo-700 hover:-translate-y-0.5"}
                                                `,children:[f.loading?X.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}):X.jsx(F1,{size:16,className:"mr-2 fill-current"}),f.loading?"Executando...":"Executar"]}),f.loading&&X.jsxs("button",{onClick:Ua,className:"text-red-500 hover:bg-red-50 px-3 py-2 rounded-lg font-medium text-xs flex items-center transition-colors",children:[X.jsx(b1,{size:12,className:"mr-1 fill-current"})," Cancelar"]}),X.jsx("div",{className:"h-6 w-px bg-gray-200 mx-1"}),X.jsxs("select",{value:T,onChange:K=>A(K.target.value==="all"?"all":Number(K.target.value)),className:"bg-gray-50 border border-gray-200 text-gray-700 text-xs rounded-lg px-2 py-2 outline-none focus:ring-2 focus:ring-indigo-100 font-medium",children:[X.jsx("option",{value:100,children:"100 linhas"}),X.jsx("option",{value:500,children:"500 linhas"}),X.jsx("option",{value:1e3,children:"1000 linhas"}),X.jsx("option",{value:"all",children:"Todas"})]}),f.totalRecords!==void 0&&X.jsxs("span",{className:"text-xs font-semibold text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[f.totalRecords.toLocaleString()," registros"]})]}),X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[X.jsx("button",{onClick:eE,className:"p-1.5 text-gray-500 hover:text-indigo-600 hover:bg-white rounded-md transition-all",title:"Formatar SQL",children:X.jsx("span",{className:"font-mono text-xs font-bold",children:"{}"})}),X.jsx("button",{onClick:iE,className:"p-1.5 text-gray-500 hover:text-purple-600 hover:bg-white rounded-md transition-all",title:"Explicar (IA)",children:X.jsx(yI,{size:14})}),X.jsx("button",{onClick:nE,className:"p-1.5 text-gray-500 hover:text-green-600 hover:bg-white rounded-md transition-all",title:"Otimizar (IA)",children:X.jsx(H1,{size:14})})]}),X.jsx("div",{className:"h-6 w-px bg-gray-200 mx-1"}),d?X.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg p-1 border border-indigo-100 animate-in fade-in slide-in-from-right-4",children:[X.jsx("input",{autoFocus:!0,value:u,onChange:K=>R(K.target.value),placeholder:"Nome...",className:"bg-transparent text-xs w-32 px-2 outline-none",onKeyDown:K=>K.key==="Enter"&&us()}),X.jsx("button",{onClick:us,className:"text-green-600 hover:bg-green-100 p-1 rounded",children:X.jsx(vf,{size:14})}),X.jsx("button",{onClick:()=>O(!1),className:"text-red-500 hover:bg-red-100 p-1 rounded",children:X.jsx(aE,{size:14})})]}):X.jsxs("button",{onClick:()=>O(!0),className:"flex items-center px-3 py-2 text-gray-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg text-xs font-bold transition-colors",children:[X.jsx(vf,{size:14,className:"mr-1.5"})," Salvar"]}),X.jsxs("label",{className:"flex items-center px-3 py-2 text-gray-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg text-xs font-bold transition-colors cursor-pointer",children:[X.jsx(P1,{size:14,className:"mr-1.5"})," Abrir",X.jsx("input",{type:"file",accept:".sql",onChange:va,className:"hidden"})]})]})]})]}),X.jsx(Uf,{className:"h-1.5 bg-gray-50 hover:bg-indigo-400 transition-colors cursor-row-resize border-y border-gray-200 flex justify-center items-center group",children:X.jsx("div",{className:"w-10 h-1 rounded-full bg-gray-300 group-hover:bg-indigo-200"})}),X.jsxs(Ba,{defaultSize:55,minSize:20,className:"flex flex-col bg-white",children:[f.error&&X.jsxs("div",{className:"bg-red-50 border-b border-red-100 p-4 flex items-start gap-3",children:[X.jsx("div",{className:"bg-red-100 text-red-600 p-2 rounded-lg flex-shrink-0",children:X.jsx(aE,{size:20})}),X.jsxs("div",{className:"flex-1",children:[X.jsx("h4",{className:"font-bold text-red-800 text-sm",children:"Erro na execução"}),X.jsx("p",{className:"text-red-700 text-xs font-mono mt-1 whitespace-pre-wrap leading-relaxed",children:f.error}),!f.error.includes("cancelada")&&X.jsx("button",{onClick:rE,disabled:Q,className:"mt-3 text-xs bg-white border border-red-200 text-red-600 px-3 py-1.5 rounded-md font-bold hover:bg-red-50 transition-colors flex items-center w-fit shadow-sm",children:"✨ Corrigir com IA"})]})]}),f.results?X.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[X.jsxs("div",{className:"px-4 py-2 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[X.jsxs("div",{className:"flex items-center space-x-4",children:[X.jsx("h3",{className:"text-[10px] font-black tracking-widest text-gray-400 uppercase",children:"Resultados"}),X.jsxs("button",{onClick:()=>Ii(!Ar),className:`text-xs font-bold flex items-center px-2 py-1 rounded-md transition-colors ${Ar?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-200"}`,children:[X.jsx(yf,{size:12,className:"mr-1"})," Filtros"]})]}),X.jsxs("div",{className:"flex space-x-2",children:[X.jsxs("button",{onClick:()=>Yi("xlsx"),className:"text-xs font-bold text-emerald-600 hover:bg-emerald-50 px-3 py-1.5 rounded-lg transition-colors flex items-center",children:[X.jsx(wf,{size:12,className:"mr-1.5"})," Excel"]}),X.jsxs("button",{onClick:()=>Yi("csv"),className:"text-xs font-bold text-blue-600 hover:bg-blue-50 px-3 py-1.5 rounded-lg transition-colors flex items-center",children:[X.jsx(wf,{size:12,className:"mr-1.5"})," CSV"]})]})]}),f.results.metaData.length===0?X.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[X.jsx("div",{className:"w-16 h-16 bg-green-50 text-green-500 rounded-full flex items-center justify-center mb-4",children:X.jsx("span",{className:"text-3xl",children:"✓"})}),X.jsx("p",{className:"font-medium text-gray-600",children:"Comando Executado"}),X.jsx("p",{className:"text-xs mt-1",children:"Nenhum dado retornado (DDL/Script)"})]}):X.jsxs("div",{className:"flex-1 overflow-hidden relative flex flex-col",children:[X.jsx("div",{ref:xe,className:"flex divide-x divide-gray-100 border-b border-gray-200 bg-gray-50 overflow-hidden select-none",style:{height:Ar?"65px":"32px"},children:Qe.map(K=>{if(!Ge[K])return null;const he=oe[K]||150;return X.jsxs("div",{className:"flex-shrink-0 px-3 py-1.5 text-xs font-bold text-gray-700 flex flex-col justify-center relative hover:bg-gray-100 transition-colors group h-full",style:{width:`${he}px`},draggable:!0,onDragStart:Re=>Ql(Re,K),onDragOver:Re=>jl(Re,K),onDragEnd:Zl,children:[X.jsx("div",{className:"flex items-center justify-between mb-1",children:X.jsx("span",{className:"truncate",title:K,children:K})}),Ar&&X.jsx("input",{type:"text",placeholder:"...",className:"w-full text-[10px] px-1.5 py-0.5 border border-gray-300 rounded focus:ring-1 focus:ring-blue-400 outline-none bg-white",value:Dt[K]||"",onChange:Re=>Dr({...Dt,[K]:Re.target.value})}),X.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 hover:bg-blue-400 cursor-col-resize z-10",onDoubleClick:()=>Ts(K)})]},K)})}),X.jsx("div",{className:"flex-1",children:X.jsx(GG,{children:({height:K,width:he})=>X.jsx(zG,{height:K,width:he,itemCount:As.length,itemSize:36,outerRef:me,itemData:{rows:As,columnOrder:Qe,visibleColumns:Ge,theme:l,metaData:f.results.metaData,columnWidths:oe},children:qG})})})]})]}):X.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-300 pointer-events-none select-none",children:[X.jsx(D1,{size:64,className:"mb-4 opacity-20"}),X.jsx("p",{className:"text-sm font-medium opacity-50",children:"Execute uma query para ver resultados"})]})]})]})]})}),D&&X.jsx(Uf,{className:"w-1 bg-gray-100 hover:bg-indigo-300 cursor-col-resize transition-colors"}),D&&X.jsxs(Ba,{defaultSize:20,minSize:15,maxSize:40,className:"bg-white border-l border-gray-200 flex flex-col",children:[X.jsx("div",{className:"flex border-b border-gray-100",children:["saved","schema","chat"].map(K=>X.jsx("button",{onClick:()=>y(K),className:`flex-1 py-3 text-[10px] font-bold uppercase tracking-wider transition-colors ${_===K?"text-indigo-600 border-b-2 border-indigo-500 bg-indigo-50/30":"text-gray-400 hover:bg-gray-50"}`,children:K==="saved"?"Salvos":K==="schema"?"Tabelas":"IA Chat"},K))}),X.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:[_==="saved"&&X.jsx("div",{className:"space-y-3",children:s.map(K=>X.jsxs("div",{onClick:()=>Jl(K),className:"group bg-white p-3 rounded-xl border border-gray-100 shadow-sm hover:shadow-md hover:border-indigo-200 cursor-pointer transition-all",children:[X.jsxs("div",{className:"flex justify-between items-start mb-1",children:[X.jsx("h5",{className:"font-bold text-gray-700 text-sm truncate flex-1 min-w-0 mr-2",title:K.name,children:K.name}),X.jsx("button",{onClick:he=>{he.stopPropagation(),$l(K.id)},className:"text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100",children:X.jsx(wI,{size:12})})]}),X.jsx("p",{className:"text-xs text-gray-400 font-mono truncate",children:K.sql})]},K.id))}),_==="schema"&&X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{className:"relative",children:[X.jsx(yf,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),X.jsx("input",{className:"w-full pl-9 pr-3 py-2 text-sm bg-white border border-gray-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-100 transition-shadow",placeholder:"Buscar tabelas...",value:x,onChange:K=>{w(K.target.value),ii(K.target.value)}})]}),X.jsx("div",{className:"space-y-1",children:v.map(K=>X.jsxs("div",{children:[X.jsxs("button",{onClick:()=>Kl(K),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-mono flex items-center justify-between transition-colors ${Z===K?"bg-indigo-100 text-indigo-700 font-bold":"hover:bg-white text-gray-600"}`,children:[K," ",X.jsx("span",{className:"text-gray-400 text-[10px]",children:Z===K?"▼":"▶"})]}),Z===K&&X.jsx(FI.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"pl-3 mt-1 space-y-0.5 border-l-2 border-indigo-100 ml-2",children:pe.map(he=>X.jsxs("div",{onClick:()=>Ma(he.name),className:"flex justify-between items-center px-2 py-1 hover:bg-indigo-50 rounded cursor-pointer group text-[10px]",children:[X.jsx("span",{className:"text-gray-500 group-hover:text-indigo-600 font-medium",children:he.name}),X.jsx("span",{className:"text-gray-300 group-hover:text-indigo-400",children:he.type})]},he.name))})]},K))})]}),_==="chat"&&X.jsxs("div",{className:"flex flex-col h-full",children:[X.jsxs("div",{className:"flex-1 space-y-4 mb-4",children:[P.map((K,he)=>X.jsx("div",{className:`flex ${K.role==="user"?"justify-end":"justify-start"}`,children:X.jsx("div",{className:`max-w-[90%] rounded-2xl px-4 py-3 text-sm shadow-sm ${K.role==="user"?"bg-indigo-600 text-white rounded-br-none":"bg-white border border-gray-200 text-gray-700 rounded-bl-none"}`,children:X.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:X.jsx(BI,{components:{code:({node:Re,inline:S,className:m,children:N,...p})=>X.jsx("code",{className:m,...p,children:N})},children:K.content})})})},he)),Q&&X.jsx("div",{className:"flex justify-start",children:X.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl rounded-bl-none px-4 py-3 shadow-sm flex items-center space-x-2",children:[X.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce"}),X.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce delay-100"}),X.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce delay-200"})]})})]}),X.jsxs("form",{onSubmit:tE,className:"relative",children:[X.jsx("input",{className:"w-full bg-white border border-gray-200 shadow-sm rounded-xl px-4 py-3 pr-10 text-sm outline-none focus:ring-2 focus:ring-indigo-100 transition-all",placeholder:"Pergunte à IA...",value:G,onChange:K=>b(K.target.value)}),X.jsx("button",{type:"submit",disabled:!G.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-colors",children:X.jsx(bI,{size:12,className:"rotate-90"})})]})]})]})]})]})]})})};QG.propTypes={isVisible:pi.bool,tabs:pi.array.isRequired,setTabs:pi.func.isRequired,activeTabId:pi.number.isRequired,setActiveTabId:pi.func.isRequired,savedQueries:pi.array.isRequired,setSavedQueries:pi.func.isRequired,onDisconnect:pi.func};export{QG as default};
