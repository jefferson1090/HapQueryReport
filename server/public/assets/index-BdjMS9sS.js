(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function UC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function pD(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Rg={exports:{}},Xc={};var P4;function mD(){if(P4)return Xc;P4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Xc.Fragment=e,Xc.jsx=t,Xc.jsxs=t,Xc}var H4;function gD(){return H4||(H4=1,Rg.exports=mD()),Rg.exports}var T=gD(),Fg={exports:{}},rt={};var z4;function xD(){if(z4)return rt;z4=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(F){return F===null||typeof F!="object"?null:(F=g&&F[g]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function A(F,O,P){this.props=F,this.context=O,this.refs=w,this.updater=P||S}A.prototype.isReactComponent={},A.prototype.setState=function(F,O){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,O,"setState")},A.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function C(){}C.prototype=A.prototype;function E(F,O,P){this.props=F,this.context=O,this.refs=w,this.updater=P||S}var D=E.prototype=new C;D.constructor=E,b(D,A.prototype),D.isPureReactComponent=!0;var B=Array.isArray;function N(){}var k={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function z(F,O,P){var L=P.ref;return{$$typeof:n,type:F,key:O,ref:L!==void 0?L:null,props:P}}function I(F,O){return z(F.type,O,F.props)}function j(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function q(F){var O={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(P){return O[P]})}var K=/\/+/g;function oe(F,O){return typeof F=="object"&&F!==null&&F.key!=null?q(""+F.key):O.toString(36)}function se(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(N,N):(F.status="pending",F.then(function(O){F.status==="pending"&&(F.status="fulfilled",F.value=O)},function(O){F.status==="pending"&&(F.status="rejected",F.reason=O)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function J(F,O,P,L,X){var te=typeof F;(te==="undefined"||te==="boolean")&&(F=null);var Ae=!1;if(F===null)Ae=!0;else switch(te){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(F.$$typeof){case n:case e:Ae=!0;break;case d:return Ae=F._init,J(Ae(F._payload),O,P,L,X)}}if(Ae)return X=X(F),Ae=L===""?"."+oe(F,0):L,B(X)?(P="",Ae!=null&&(P=Ae.replace(K,"$&/")+"/"),J(X,O,P,"",function(Ce){return Ce})):X!=null&&(j(X)&&(X=I(X,P+(X.key==null||F&&F.key===X.key?"":(""+X.key).replace(K,"$&/")+"/")+Ae)),O.push(X)),1;Ae=0;var be=L===""?".":L+":";if(B(F))for(var ke=0;ke<F.length;ke++)L=F[ke],te=be+oe(L,ke),Ae+=J(L,O,P,te,X);else if(ke=x(F),typeof ke=="function")for(F=ke.call(F),ke=0;!(L=F.next()).done;)L=L.value,te=be+oe(L,ke++),Ae+=J(L,O,P,te,X);else if(te==="object"){if(typeof F.then=="function")return J(se(F),O,P,L,X);throw O=String(F),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function ie(F,O,P){if(F==null)return F;var L=[],X=0;return J(F,L,"","",function(te){return O.call(P,te,X++)}),L}function Ee(F){if(F._status===-1){var O=F._result;O=O(),O.then(function(P){(F._status===0||F._status===-1)&&(F._status=1,F._result=P)},function(P){(F._status===0||F._status===-1)&&(F._status=2,F._result=P)}),F._status===-1&&(F._status=0,F._result=O)}if(F._status===1)return F._result.default;throw F._result}var we=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},xe={map:ie,forEach:function(F,O,P){ie(F,function(){O.apply(this,arguments)},P)},count:function(F){var O=0;return ie(F,function(){O++}),O},toArray:function(F){return ie(F,function(O){return O})||[]},only:function(F){if(!j(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return rt.Activity=m,rt.Children=xe,rt.Component=A,rt.Fragment=t,rt.Profiler=i,rt.PureComponent=E,rt.StrictMode=r,rt.Suspense=f,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,rt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return k.H.useMemoCache(F)}},rt.cache=function(F){return function(){return F.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(F,O,P){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var L=b({},F.props),X=F.key;if(O!=null)for(te in O.key!==void 0&&(X=""+O.key),O)!R.call(O,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&O.ref===void 0||(L[te]=O[te]);var te=arguments.length-2;if(te===1)L.children=P;else if(1<te){for(var Ae=Array(te),be=0;be<te;be++)Ae[be]=arguments[be+2];L.children=Ae}return z(F.type,X,L)},rt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},rt.createElement=function(F,O,P){var L,X={},te=null;if(O!=null)for(L in O.key!==void 0&&(te=""+O.key),O)R.call(O,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(X[L]=O[L]);var Ae=arguments.length-2;if(Ae===1)X.children=P;else if(1<Ae){for(var be=Array(Ae),ke=0;ke<Ae;ke++)be[ke]=arguments[ke+2];X.children=be}if(F&&F.defaultProps)for(L in Ae=F.defaultProps,Ae)X[L]===void 0&&(X[L]=Ae[L]);return z(F,te,X)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(F){return{$$typeof:c,render:F}},rt.isValidElement=j,rt.lazy=function(F){return{$$typeof:d,_payload:{_status:-1,_result:F},_init:Ee}},rt.memo=function(F,O){return{$$typeof:h,type:F,compare:O===void 0?null:O}},rt.startTransition=function(F){var O=k.T,P={};k.T=P;try{var L=F(),X=k.S;X!==null&&X(P,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(N,we)}catch(te){we(te)}finally{O!==null&&P.types!==null&&(O.types=P.types),k.T=O}},rt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},rt.use=function(F){return k.H.use(F)},rt.useActionState=function(F,O,P){return k.H.useActionState(F,O,P)},rt.useCallback=function(F,O){return k.H.useCallback(F,O)},rt.useContext=function(F){return k.H.useContext(F)},rt.useDebugValue=function(){},rt.useDeferredValue=function(F,O){return k.H.useDeferredValue(F,O)},rt.useEffect=function(F,O){return k.H.useEffect(F,O)},rt.useEffectEvent=function(F){return k.H.useEffectEvent(F)},rt.useId=function(){return k.H.useId()},rt.useImperativeHandle=function(F,O,P){return k.H.useImperativeHandle(F,O,P)},rt.useInsertionEffect=function(F,O){return k.H.useInsertionEffect(F,O)},rt.useLayoutEffect=function(F,O){return k.H.useLayoutEffect(F,O)},rt.useMemo=function(F,O){return k.H.useMemo(F,O)},rt.useOptimistic=function(F,O){return k.H.useOptimistic(F,O)},rt.useReducer=function(F,O,P){return k.H.useReducer(F,O,P)},rt.useRef=function(F){return k.H.useRef(F)},rt.useState=function(F){return k.H.useState(F)},rt.useSyncExternalStore=function(F,O,P){return k.H.useSyncExternalStore(F,O,P)},rt.useTransition=function(){return k.H.useTransition()},rt.version="19.2.0",rt}var j4;function Hx(){return j4||(j4=1,Fg.exports=xD()),Fg.exports}var Q=Hx();const cn=UC(Q);var Mg={exports:{}},$c={},Lg={exports:{}},Ig={};var U4;function vD(){return U4||(U4=1,(function(n){function e(J,ie){var Ee=J.length;J.push(ie);e:for(;0<Ee;){var we=Ee-1>>>1,xe=J[we];if(0<i(xe,ie))J[we]=ie,J[Ee]=xe,Ee=we;else break e}}function t(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ie=J[0],Ee=J.pop();if(Ee!==ie){J[0]=Ee;e:for(var we=0,xe=J.length,F=xe>>>1;we<F;){var O=2*(we+1)-1,P=J[O],L=O+1,X=J[L];if(0>i(P,Ee))L<xe&&0>i(X,P)?(J[we]=X,J[L]=Ee,we=L):(J[we]=P,J[O]=Ee,we=O);else if(L<xe&&0>i(X,Ee))J[we]=X,J[L]=Ee,we=L;else break e}}return ie}function i(J,ie){var Ee=J.sortIndex-ie.sortIndex;return Ee!==0?Ee:J.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],h=[],d=1,m=null,g=3,x=!1,S=!1,b=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function D(J){for(var ie=t(h);ie!==null;){if(ie.callback===null)r(h);else if(ie.startTime<=J)r(h),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=t(h)}}function B(J){if(b=!1,D(J),!S)if(t(f)!==null)S=!0,N||(N=!0,q());else{var ie=t(h);ie!==null&&se(B,ie.startTime-J)}}var N=!1,k=-1,R=5,z=-1;function I(){return w?!0:!(n.unstable_now()-z<R)}function j(){if(w=!1,N){var J=n.unstable_now();z=J;var ie=!0;try{e:{S=!1,b&&(b=!1,C(k),k=-1),x=!0;var Ee=g;try{t:{for(D(J),m=t(f);m!==null&&!(m.expirationTime>J&&I());){var we=m.callback;if(typeof we=="function"){m.callback=null,g=m.priorityLevel;var xe=we(m.expirationTime<=J);if(J=n.unstable_now(),typeof xe=="function"){m.callback=xe,D(J),ie=!0;break t}m===t(f)&&r(f),D(J)}else r(f);m=t(f)}if(m!==null)ie=!0;else{var F=t(h);F!==null&&se(B,F.startTime-J),ie=!1}}break e}finally{m=null,g=Ee,x=!1}ie=void 0}}finally{ie?q():N=!1}}}var q;if(typeof E=="function")q=function(){E(j)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,oe=K.port2;K.port1.onmessage=j,q=function(){oe.postMessage(null)}}else q=function(){A(j,0)};function se(J,ie){k=A(function(){J(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(J){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var Ee=g;g=ie;try{return J()}finally{g=Ee}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(J,ie){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Ee=g;g=J;try{return ie()}finally{g=Ee}},n.unstable_scheduleCallback=function(J,ie,Ee){var we=n.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?we+Ee:we):Ee=we,J){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Ee+xe,J={id:d++,callback:ie,priorityLevel:J,startTime:Ee,expirationTime:xe,sortIndex:-1},Ee>we?(J.sortIndex=Ee,e(h,J),t(f)===null&&J===t(h)&&(b?(C(k),k=-1):b=!0,se(B,Ee-we))):(J.sortIndex=xe,e(f,J),S||x||(S=!0,N||(N=!0,q()))),J},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(J){var ie=g;return function(){var Ee=g;g=ie;try{return J.apply(this,arguments)}finally{g=Ee}}}})(Ig)),Ig}var V4;function yD(){return V4||(V4=1,Lg.exports=vD()),Lg.exports}var Pg={exports:{}},pr={};var q4;function bD(){if(q4)return pr;q4=1;var n=Hx();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:h,implementation:d}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return pr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pr.createPortal=function(f,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,d)},pr.flushSync=function(f){var h=l.T,d=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=d,r.d.f()}},pr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},pr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},pr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var d=h.as,m=c(d,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):d==="script"&&r.d.X(f,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},pr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},pr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,m=c(d,h.crossOrigin);r.d.L(f,d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},pr.preloadModule=function(f,h){if(typeof f=="string")if(h){var d=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},pr.requestFormReset=function(f){r.d.r(f)},pr.unstable_batchedUpdates=function(f,h){return f(h)},pr.useFormState=function(f,h,d){return l.H.useFormState(f,h,d)},pr.useFormStatus=function(){return l.H.useHostTransitionStatus()},pr.version="19.2.0",pr}var W4;function VC(){if(W4)return Pg.exports;W4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pg.exports=bD(),Pg.exports}var G4;function SD(){if(G4)return $c;G4=1;var n=yD(),e=Hx(),t=VC();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,p=o;;){var v=u.return;if(v===null)break;var y=v.alternate;if(y===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===u)return f(v),a;if(y===p)return f(v),o;y=y.sibling}throw Error(r(188))}if(u.return!==p.return)u=v,p=y;else{for(var _=!1,H=v.child;H;){if(H===u){_=!0,u=v,p=y;break}if(H===p){_=!0,p=v,u=y;break}H=H.sibling}if(!_){for(H=y.child;H;){if(H===u){_=!0,u=y,p=v;break}if(H===p){_=!0,p=y,u=v;break}H=H.sibling}if(!_)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function d(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=d(a),o!==null)return o;a=a.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),E=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var K=Symbol.for("react.client.reference");function oe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===K?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case b:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case B:return"Suspense";case N:return"SuspenseList";case z:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case E:return a.displayName||"Context";case C:return(a._context.displayName||"Context")+".Consumer";case D:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case k:return o=a.displayName||null,o!==null?o:oe(a.type)||"Memo";case R:o=a._payload,a=a._init;try{return oe(a(o))}catch{}}return null}var se=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},we=[],xe=-1;function F(a){return{current:a}}function O(a){0>xe||(a.current=we[xe],we[xe]=null,xe--)}function P(a,o){xe++,we[xe]=a.current,a.current=o}var L=F(null),X=F(null),te=F(null),Ae=F(null);function be(a,o){switch(P(te,o),P(X,a),P(L,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?l4(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=l4(o),a=o4(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}O(L),P(L,a)}function ke(){O(L),O(X),O(te)}function Ce(a){a.memoizedState!==null&&P(Ae,a);var o=L.current,u=o4(o,a.type);o!==u&&(P(X,a),P(L,u))}function nt(a){X.current===a&&(O(L),O(X)),Ae.current===a&&(O(Ae),Vc._currentValue=Ee)}var Qe,st;function Ge(a){if(Qe===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Qe=o&&o[1]||"",st=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+a+st}var Nt=!1;function it(a,o){if(!a||Nt)return"";Nt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(me){var he=me}Reflect.construct(a,[],_e)}else{try{_e.call()}catch(me){he=me}a.call(_e.prototype)}}else{try{throw Error()}catch(me){he=me}(_e=a())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(me){if(me&&he&&typeof me.stack=="string")return[me.stack,he.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=p.DetermineComponentFrameRoot(),_=y[0],H=y[1];if(_&&H){var Z=_.split(`
`),le=H.split(`
`);for(v=p=0;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;for(;v<le.length&&!le[v].includes("DetermineComponentFrameRoot");)v++;if(p===Z.length||v===le.length)for(p=Z.length-1,v=le.length-1;1<=p&&0<=v&&Z[p]!==le[v];)v--;for(;1<=p&&0<=v;p--,v--)if(Z[p]!==le[v]){if(p!==1||v!==1)do if(p--,v--,0>v||Z[p]!==le[v]){var ye=`
`+Z[p].replace(" at new "," at ");return a.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",a.displayName)),ye}while(1<=p&&0<=v);break}}}finally{Nt=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Ge(u):""}function ze(a,o){switch(a.tag){case 26:case 27:case 5:return Ge(a.type);case 16:return Ge("Lazy");case 13:return a.child!==o&&o!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return it(a.type,!1);case 11:return it(a.type.render,!1);case 1:return it(a.type,!0);case 31:return Ge("Activity");default:return""}}function Bt(a){try{var o="",u=null;do o+=ze(a,u),u=a,a=a.return;while(a);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var sn=Object.prototype.hasOwnProperty,Et=n.unstable_scheduleCallback,bt=n.unstable_cancelCallback,Ct=n.unstable_shouldYield,ge=n.unstable_requestPaint,Oe=n.unstable_now,ne=n.unstable_getCurrentPriorityLevel,Ne=n.unstable_ImmediatePriority,Xe=n.unstable_UserBlockingPriority,Ze=n.unstable_NormalPriority,qe=n.unstable_LowPriority,Wt=n.unstable_IdlePriority,mt=n.log,an=n.unstable_setDisableYieldValue,zn=null,Gt=null;function wn(a){if(typeof mt=="function"&&an(a),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(zn,a)}catch{}}var En=Math.clz32?Math.clz32:$s,Ua=Math.log,Gi=Math.LN2;function $s(a){return a>>>=0,a===0?32:31-(Ua(a)/Gi|0)|0}var oi=256,Xi=262144,Kt=4194304;function Ht(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function dn(a,o,u){var p=a.pendingLanes;if(p===0)return 0;var v=0,y=a.suspendedLanes,_=a.pingedLanes;a=a.warmLanes;var H=p&134217727;return H!==0?(p=H&~y,p!==0?v=Ht(p):(_&=H,_!==0?v=Ht(_):u||(u=H&~a,u!==0&&(v=Ht(u))))):(H=p&~y,H!==0?v=Ht(H):_!==0?v=Ht(_):u||(u=p&~a,u!==0&&(v=Ht(u)))),v===0?0:o!==0&&o!==v&&(o&y)===0&&(y=v&-v,u=o&-o,y>=u||y===32&&(u&4194048)!==0)?o:v}function jn(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Fn(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cn(){var a=Kt;return Kt<<=1,(Kt&62914560)===0&&(Kt=4194304),a}function Un(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Zn(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function un(a,o,u,p,v,y){var _=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var H=a.entanglements,Z=a.expirationTimes,le=a.hiddenUpdates;for(u=_&~u;0<u;){var ye=31-En(u),_e=1<<ye;H[ye]=0,Z[ye]=-1;var he=le[ye];if(he!==null)for(le[ye]=null,ye=0;ye<he.length;ye++){var me=he[ye];me!==null&&(me.lane&=-536870913)}u&=~_e}p!==0&&dr(a,p,0),y!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=y&~(_&~o))}function dr(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var p=31-En(o);a.entangledLanes|=o,a.entanglements[p]=a.entanglements[p]|1073741824|u&261930}function Dt(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var p=31-En(u),v=1<<p;v&o|a[p]&o&&(a[p]|=o),u&=~v}}function hn(a,o){var u=o&-o;return u=(u&42)!==0?1:kr(u),(u&(a.suspendedLanes|o))!==0?0:u}function kr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Wr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function M(){var a=ie.p;return a!==0?a:(a=window.event,a===void 0?32:B4(a.type))}function G(a,o){var u=ie.p;try{return ie.p=a,o()}finally{ie.p=u}}var U=Math.random().toString(36).slice(2),V="__reactFiber$"+U,W="__reactProps$"+U,Y="__reactContainer$"+U,ce="__reactEvents$"+U,Se="__reactListeners$"+U,fe="__reactHandles$"+U,ue="__reactResources$"+U,de="__reactMarker$"+U;function Re(a){delete a[V],delete a[W],delete a[ce],delete a[Se],delete a[fe]}function Me(a){var o=a[V];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Y]||u[V]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=m4(a);a!==null;){if(u=a[V])return u;a=m4(a)}return o}a=u,u=a.parentNode}return null}function je(a){if(a=a[V]||a[Y]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Fe(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Pe(a){var o=a[ue];return o||(o=a[ue]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ye(a){a[de]=!0}var Qt=new Set,Zt={};function ln(a,o){ci(a,o),ci(a+"Capture",o)}function ci(a,o){for(Zt[a]=o,a=0;a<o.length;a++)Qt.add(o[a])}var Va=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ys={},$i={};function sc(a){return sn.call($i,a)?!0:sn.call(Ys,a)?!1:Va.test(a)?$i[a]=!0:(Ys[a]=!0,!1)}function Or(a,o,u){if(sc(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function gf(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function gs(a,o,u,p){if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+p)}}function fi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Jv(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function l_(a,o,u){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var v=p.get,y=p.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(_){u=""+_,y.call(this,_)}}),Object.defineProperty(a,o,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Tp(a){if(!a._valueTracker){var o=Jv(a)?"checked":"value";a._valueTracker=l_(a,o,""+a[o])}}function e2(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return a&&(p=Jv(a)?a.checked?"true":"false":a.value),a=p,a!==u?(o.setValue(a),!0):!1}function xf(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var o_=/[\n"\\]/g;function ui(a){return a.replace(o_,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function _p(a,o,u,p,v,y,_,H){a.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?a.type=_:a.removeAttribute("type"),o!=null?_==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+fi(o)):a.value!==""+fi(o)&&(a.value=""+fi(o)):_!=="submit"&&_!=="reset"||a.removeAttribute("value"),o!=null?Dp(a,_,fi(o)):u!=null?Dp(a,_,fi(u)):p!=null&&a.removeAttribute("value"),v==null&&y!=null&&(a.defaultChecked=!!y),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.name=""+fi(H):a.removeAttribute("name")}function t2(a,o,u,p,v,y,_,H){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),o!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||o!=null)){Tp(a);return}u=u!=null?""+fi(u):"",o=o!=null?""+fi(o):u,H||o===a.value||(a.value=o),a.defaultValue=o}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=H?a.checked:!!p,a.defaultChecked=!!p,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.name=_),Tp(a)}function Dp(a,o,u){o==="number"&&xf(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Ll(a,o,u,p){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&p&&(a[u].defaultSelected=!0)}else{for(u=""+fi(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,p&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function n2(a,o,u){if(o!=null&&(o=""+fi(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+fi(u):""}function r2(a,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(r(92));if(se(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=fi(o),a.defaultValue=u,p=a.textContent,p===u&&p!==""&&p!==null&&(a.value=p),Tp(a)}function Il(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var c_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function i2(a,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":p?a.setProperty(o,u):typeof u!="number"||u===0||c_.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function s2(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var v in o)p=o[v],o.hasOwnProperty(v)&&u[v]!==p&&i2(a,v,p)}else for(var y in o)o.hasOwnProperty(y)&&i2(a,y,o[y])}function kp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),u_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vf(a){return u_.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function xs(){}var Op=null;function Bp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Pl=null,Hl=null;function a2(a){var o=je(a);if(o&&(a=o.stateNode)){var u=a[W]||null;e:switch(a=o.stateNode,o.type){case"input":if(_p(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ui(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==a&&p.form===a.form){var v=p[W]||null;if(!v)throw Error(r(90));_p(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===a.form&&e2(p)}break e;case"textarea":n2(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Ll(a,!!u.multiple,o,!1)}}}var Np=!1;function l2(a,o,u){if(Np)return a(o,u);Np=!0;try{var p=a(o);return p}finally{if(Np=!1,(Pl!==null||Hl!==null)&&(su(),Pl&&(o=Pl,a=Hl,Hl=Pl=null,a2(o),a)))for(o=0;o<a.length;o++)a2(a[o])}}function ac(a,o){var u=a.stateNode;if(u===null)return null;var p=u[W]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rp=!1;if(vs)try{var lc={};Object.defineProperty(lc,"passive",{get:function(){Rp=!0}}),window.addEventListener("test",lc,lc),window.removeEventListener("test",lc,lc)}catch{Rp=!1}var Ks=null,Fp=null,yf=null;function o2(){if(yf)return yf;var a,o=Fp,u=o.length,p,v="value"in Ks?Ks.value:Ks.textContent,y=v.length;for(a=0;a<u&&o[a]===v[a];a++);var _=u-a;for(p=1;p<=_&&o[u-p]===v[y-p];p++);return yf=v.slice(a,1<p?1-p:void 0)}function bf(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Sf(){return!0}function c2(){return!1}function Br(a){function o(u,p,v,y,_){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(u=a[H],this[H]=u?u(y):y[H]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Sf:c2,this.isPropagationStopped=c2,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Sf)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Sf)},persist:function(){},isPersistent:Sf}),o}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wf=Br(qa),oc=m({},qa,{view:0,detail:0}),h_=Br(oc),Mp,Lp,cc,Ef=m({},oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==cc&&(cc&&a.type==="mousemove"?(Mp=a.screenX-cc.screenX,Lp=a.screenY-cc.screenY):Lp=Mp=0,cc=a),Mp)},movementY:function(a){return"movementY"in a?a.movementY:Lp}}),f2=Br(Ef),d_=m({},Ef,{dataTransfer:0}),p_=Br(d_),m_=m({},oc,{relatedTarget:0}),Ip=Br(m_),g_=m({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),x_=Br(g_),v_=m({},qa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),y_=Br(v_),b_=m({},qa,{data:0}),u2=Br(b_),S_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C_(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=E_[a])?!!o[a]:!1}function Pp(){return C_}var A_=m({},oc,{key:function(a){if(a.key){var o=S_[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=bf(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?w_[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pp,charCode:function(a){return a.type==="keypress"?bf(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?bf(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),T_=Br(A_),__=m({},Ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),h2=Br(__),D_=m({},oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pp}),k_=Br(D_),O_=m({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),B_=Br(O_),N_=m({},Ef,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),R_=Br(N_),F_=m({},qa,{newState:0,oldState:0}),M_=Br(F_),L_=[9,13,27,32],Hp=vs&&"CompositionEvent"in window,fc=null;vs&&"documentMode"in document&&(fc=document.documentMode);var I_=vs&&"TextEvent"in window&&!fc,d2=vs&&(!Hp||fc&&8<fc&&11>=fc),p2=" ",m2=!1;function g2(a,o){switch(a){case"keyup":return L_.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x2(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var zl=!1;function P_(a,o){switch(a){case"compositionend":return x2(o);case"keypress":return o.which!==32?null:(m2=!0,p2);case"textInput":return a=o.data,a===p2&&m2?null:a;default:return null}}function H_(a,o){if(zl)return a==="compositionend"||!Hp&&g2(a,o)?(a=o2(),yf=Fp=Ks=null,zl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return d2&&o.locale!=="ko"?null:o.data;default:return null}}var z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v2(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!z_[a.type]:o==="textarea"}function y2(a,o,u,p){Pl?Hl?Hl.push(p):Hl=[p]:Pl=p,o=hu(o,"onChange"),0<o.length&&(u=new wf("onChange","change",null,u,p),a.push({event:u,listeners:o}))}var uc=null,hc=null;function j_(a){t4(a,0)}function Cf(a){var o=Fe(a);if(e2(o))return a}function b2(a,o){if(a==="change")return o}var S2=!1;if(vs){var zp;if(vs){var jp="oninput"in document;if(!jp){var w2=document.createElement("div");w2.setAttribute("oninput","return;"),jp=typeof w2.oninput=="function"}zp=jp}else zp=!1;S2=zp&&(!document.documentMode||9<document.documentMode)}function E2(){uc&&(uc.detachEvent("onpropertychange",C2),hc=uc=null)}function C2(a){if(a.propertyName==="value"&&Cf(hc)){var o=[];y2(o,hc,a,Bp(a)),l2(j_,o)}}function U_(a,o,u){a==="focusin"?(E2(),uc=o,hc=u,uc.attachEvent("onpropertychange",C2)):a==="focusout"&&E2()}function V_(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Cf(hc)}function q_(a,o){if(a==="click")return Cf(o)}function W_(a,o){if(a==="input"||a==="change")return Cf(o)}function G_(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Gr=typeof Object.is=="function"?Object.is:G_;function dc(a,o){if(Gr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!sn.call(o,v)||!Gr(a[v],o[v]))return!1}return!0}function A2(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function T2(a,o){var u=A2(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=o&&p>=o)return{node:u,offset:o-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=A2(u)}}function _2(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?_2(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function D2(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=xf(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=xf(a.document)}return o}function Up(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var X_=vs&&"documentMode"in document&&11>=document.documentMode,jl=null,Vp=null,pc=null,qp=!1;function k2(a,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;qp||jl==null||jl!==xf(p)||(p=jl,"selectionStart"in p&&Up(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),pc&&dc(pc,p)||(pc=p,p=hu(Vp,"onSelect"),0<p.length&&(o=new wf("onSelect","select",null,o,u),a.push({event:o,listeners:p}),o.target=jl)))}function Wa(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Ul={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},Wp={},O2={};vs&&(O2=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function Ga(a){if(Wp[a])return Wp[a];if(!Ul[a])return a;var o=Ul[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in O2)return Wp[a]=o[u];return a}var B2=Ga("animationend"),N2=Ga("animationiteration"),R2=Ga("animationstart"),$_=Ga("transitionrun"),Y_=Ga("transitionstart"),K_=Ga("transitioncancel"),F2=Ga("transitionend"),M2=new Map,Gp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gp.push("scrollEnd");function Bi(a,o){M2.set(a,o),ln(o,[a])}var Af=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},hi=[],Vl=0,Xp=0;function Tf(){for(var a=Vl,o=Xp=Vl=0;o<a;){var u=hi[o];hi[o++]=null;var p=hi[o];hi[o++]=null;var v=hi[o];hi[o++]=null;var y=hi[o];if(hi[o++]=null,p!==null&&v!==null){var _=p.pending;_===null?v.next=v:(v.next=_.next,_.next=v),p.pending=v}y!==0&&L2(u,v,y)}}function _f(a,o,u,p){hi[Vl++]=a,hi[Vl++]=o,hi[Vl++]=u,hi[Vl++]=p,Xp|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function $p(a,o,u,p){return _f(a,o,u,p),Df(a)}function Xa(a,o){return _f(a,null,null,o),Df(a)}function L2(a,o,u){a.lanes|=u;var p=a.alternate;p!==null&&(p.lanes|=u);for(var v=!1,y=a.return;y!==null;)y.childLanes|=u,p=y.alternate,p!==null&&(p.childLanes|=u),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(v=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,v&&o!==null&&(v=31-En(u),a=y.hiddenUpdates,p=a[v],p===null?a[v]=[o]:p.push(o),o.lane=u|536870912),y):null}function Df(a){if(50<Lc)throw Lc=0,rg=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var ql={};function Q_(a,o,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(a,o,u,p){return new Q_(a,o,u,p)}function Yp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ys(a,o){var u=a.alternate;return u===null?(u=Xr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function I2(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function kf(a,o,u,p,v,y){var _=0;if(p=a,typeof a=="function")Yp(a)&&(_=1);else if(typeof a=="string")_=nD(a,u,L.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case z:return a=Xr(31,u,o,v),a.elementType=z,a.lanes=y,a;case b:return $a(u.children,v,y,o);case w:_=8,v|=24;break;case A:return a=Xr(12,u,o,v|2),a.elementType=A,a.lanes=y,a;case B:return a=Xr(13,u,o,v),a.elementType=B,a.lanes=y,a;case N:return a=Xr(19,u,o,v),a.elementType=N,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case E:_=10;break e;case C:_=9;break e;case D:_=11;break e;case k:_=14;break e;case R:_=16,p=null;break e}_=29,u=Error(r(130,a===null?"null":typeof a,"")),p=null}return o=Xr(_,u,o,v),o.elementType=a,o.type=p,o.lanes=y,o}function $a(a,o,u,p){return a=Xr(7,a,p,o),a.lanes=u,a}function Kp(a,o,u){return a=Xr(6,a,null,o),a.lanes=u,a}function P2(a){var o=Xr(18,null,null,0);return o.stateNode=a,o}function Qp(a,o,u){return o=Xr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var H2=new WeakMap;function di(a,o){if(typeof a=="object"&&a!==null){var u=H2.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Bt(o)},H2.set(a,o),o)}return{value:a,source:o,stack:Bt(o)}}var Wl=[],Gl=0,Of=null,mc=0,pi=[],mi=0,Qs=null,Yi=1,Ki="";function bs(a,o){Wl[Gl++]=mc,Wl[Gl++]=Of,Of=a,mc=o}function z2(a,o,u){pi[mi++]=Yi,pi[mi++]=Ki,pi[mi++]=Qs,Qs=a;var p=Yi;a=Ki;var v=32-En(p)-1;p&=~(1<<v),u+=1;var y=32-En(o)+v;if(30<y){var _=v-v%5;y=(p&(1<<_)-1).toString(32),p>>=_,v-=_,Yi=1<<32-En(o)+v|u<<v|p,Ki=y+a}else Yi=1<<y|u<<v|p,Ki=a}function Zp(a){a.return!==null&&(bs(a,1),z2(a,1,0))}function Jp(a){for(;a===Of;)Of=Wl[--Gl],Wl[Gl]=null,mc=Wl[--Gl],Wl[Gl]=null;for(;a===Qs;)Qs=pi[--mi],pi[mi]=null,Ki=pi[--mi],pi[mi]=null,Yi=pi[--mi],pi[mi]=null}function j2(a,o){pi[mi++]=Yi,pi[mi++]=Ki,pi[mi++]=Qs,Yi=o.id,Ki=o.overflow,Qs=a}var Jn=null,Jt=null,gt=!1,Zs=null,gi=!1,em=Error(r(519));function Js(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gc(di(o,a)),em}function U2(a){var o=a.stateNode,u=a.type,p=a.memoizedProps;switch(o[V]=a,o[W]=p,u){case"dialog":ht("cancel",o),ht("close",o);break;case"iframe":case"object":case"embed":ht("load",o);break;case"video":case"audio":for(u=0;u<Pc.length;u++)ht(Pc[u],o);break;case"source":ht("error",o);break;case"img":case"image":case"link":ht("error",o),ht("load",o);break;case"details":ht("toggle",o);break;case"input":ht("invalid",o),t2(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":ht("invalid",o);break;case"textarea":ht("invalid",o),r2(o,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||s4(o.textContent,u)?(p.popover!=null&&(ht("beforetoggle",o),ht("toggle",o)),p.onScroll!=null&&ht("scroll",o),p.onScrollEnd!=null&&ht("scrollend",o),p.onClick!=null&&(o.onclick=xs),o=!0):o=!1,o||Js(a,!0)}function V2(a){for(Jn=a.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:Jn=Jn.return}}function Xl(a){if(a!==Jn)return!1;if(!gt)return V2(a),gt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||vg(a.type,a.memoizedProps)),u=!u),u&&Jt&&Js(a),V2(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Jt=p4(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Jt=p4(a)}else o===27?(o=Jt,da(a.type)?(a=Eg,Eg=null,Jt=a):Jt=o):Jt=Jn?vi(a.stateNode.nextSibling):null;return!0}function Ya(){Jt=Jn=null,gt=!1}function tm(){var a=Zs;return a!==null&&(Mr===null?Mr=a:Mr.push.apply(Mr,a),Zs=null),a}function gc(a){Zs===null?Zs=[a]:Zs.push(a)}var nm=F(null),Ka=null,Ss=null;function ea(a,o,u){P(nm,o._currentValue),o._currentValue=u}function ws(a){a._currentValue=nm.current,O(nm)}function rm(a,o,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===u)break;a=a.return}}function im(a,o,u,p){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var y=v.dependencies;if(y!==null){var _=v.child;y=y.firstContext;e:for(;y!==null;){var H=y;y=v;for(var Z=0;Z<o.length;Z++)if(H.context===o[Z]){y.lanes|=u,H=y.alternate,H!==null&&(H.lanes|=u),rm(y.return,u,a),p||(_=null);break e}y=H.next}}else if(v.tag===18){if(_=v.return,_===null)throw Error(r(341));_.lanes|=u,y=_.alternate,y!==null&&(y.lanes|=u),rm(_,u,a),_=null}else _=v.child;if(_!==null)_.return=v;else for(_=v;_!==null;){if(_===a){_=null;break}if(v=_.sibling,v!==null){v.return=_.return,_=v;break}_=_.return}v=_}}function $l(a,o,u,p){a=null;for(var v=o,y=!1;v!==null;){if(!y){if((v.flags&524288)!==0)y=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var _=v.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var H=v.type;Gr(v.pendingProps.value,_.value)||(a!==null?a.push(H):a=[H])}}else if(v===Ae.current){if(_=v.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Vc):a=[Vc])}v=v.return}a!==null&&im(o,a,u,p),o.flags|=262144}function Bf(a){for(a=a.firstContext;a!==null;){if(!Gr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Qa(a){Ka=a,Ss=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function er(a){return q2(Ka,a)}function Nf(a,o){return Ka===null&&Qa(a),q2(a,o)}function q2(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ss===null){if(a===null)throw Error(r(308));Ss=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ss=Ss.next=o;return u}var Z_=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,p){a.push(p)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},J_=n.unstable_scheduleCallback,e5=n.unstable_NormalPriority,An={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sm(){return{controller:new Z_,data:new Map,refCount:0}}function xc(a){a.refCount--,a.refCount===0&&J_(e5,function(){a.controller.abort()})}var vc=null,am=0,Yl=0,Kl=null;function t5(a,o){if(vc===null){var u=vc=[];am=0,Yl=cg(),Kl={status:"pending",value:void 0,then:function(p){u.push(p)}}}return am++,o.then(W2,W2),o}function W2(){if(--am===0&&vc!==null){Kl!==null&&(Kl.status="fulfilled");var a=vc;vc=null,Yl=0,Kl=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function n5(a,o){var u=[],p={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){p.status="fulfilled",p.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(p.status="rejected",p.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),p}var G2=J.S;J.S=function(a,o){kb=Oe(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&t5(a,o),G2!==null&&G2(a,o)};var Za=F(null);function lm(){var a=Za.current;return a!==null?a:Xt.pooledCache}function Rf(a,o){o===null?P(Za,Za.current):P(Za,o.pool)}function X2(){var a=lm();return a===null?null:{parent:An._currentValue,pool:a}}var Ql=Error(r(460)),om=Error(r(474)),Ff=Error(r(542)),Mf={then:function(){}};function $2(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Y2(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(xs,xs),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Q2(a),a;default:if(typeof o.status=="string")o.then(xs,xs);else{if(a=Xt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(p){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=p}},function(p){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,Q2(a),a}throw el=o,Ql}}function Ja(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(el=u,Ql):u}}var el=null;function K2(){if(el===null)throw Error(r(459));var a=el;return el=null,a}function Q2(a){if(a===Ql||a===Ff)throw Error(r(483))}var Zl=null,yc=0;function Lf(a){var o=yc;return yc+=1,Zl===null&&(Zl=[]),Y2(Zl,a,o)}function bc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function If(a,o){throw o.$$typeof===g?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Z2(a){function o(re,ee){if(a){var ae=re.deletions;ae===null?(re.deletions=[ee],re.flags|=16):ae.push(ee)}}function u(re,ee){if(!a)return null;for(;ee!==null;)o(re,ee),ee=ee.sibling;return null}function p(re){for(var ee=new Map;re!==null;)re.key!==null?ee.set(re.key,re):ee.set(re.index,re),re=re.sibling;return ee}function v(re,ee){return re=ys(re,ee),re.index=0,re.sibling=null,re}function y(re,ee,ae){return re.index=ae,a?(ae=re.alternate,ae!==null?(ae=ae.index,ae<ee?(re.flags|=67108866,ee):ae):(re.flags|=67108866,ee)):(re.flags|=1048576,ee)}function _(re){return a&&re.alternate===null&&(re.flags|=67108866),re}function H(re,ee,ae,Te){return ee===null||ee.tag!==6?(ee=Kp(ae,re.mode,Te),ee.return=re,ee):(ee=v(ee,ae),ee.return=re,ee)}function Z(re,ee,ae,Te){var Je=ae.type;return Je===b?ye(re,ee,ae.props.children,Te,ae.key):ee!==null&&(ee.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===R&&Ja(Je)===ee.type)?(ee=v(ee,ae.props),bc(ee,ae),ee.return=re,ee):(ee=kf(ae.type,ae.key,ae.props,null,re.mode,Te),bc(ee,ae),ee.return=re,ee)}function le(re,ee,ae,Te){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ae.containerInfo||ee.stateNode.implementation!==ae.implementation?(ee=Qp(ae,re.mode,Te),ee.return=re,ee):(ee=v(ee,ae.children||[]),ee.return=re,ee)}function ye(re,ee,ae,Te,Je){return ee===null||ee.tag!==7?(ee=$a(ae,re.mode,Te,Je),ee.return=re,ee):(ee=v(ee,ae),ee.return=re,ee)}function _e(re,ee,ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=Kp(""+ee,re.mode,ae),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return ae=kf(ee.type,ee.key,ee.props,null,re.mode,ae),bc(ae,ee),ae.return=re,ae;case S:return ee=Qp(ee,re.mode,ae),ee.return=re,ee;case R:return ee=Ja(ee),_e(re,ee,ae)}if(se(ee)||q(ee))return ee=$a(ee,re.mode,ae,null),ee.return=re,ee;if(typeof ee.then=="function")return _e(re,Lf(ee),ae);if(ee.$$typeof===E)return _e(re,Nf(re,ee),ae);If(re,ee)}return null}function he(re,ee,ae,Te){var Je=ee!==null?ee.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Je!==null?null:H(re,ee,""+ae,Te);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return ae.key===Je?Z(re,ee,ae,Te):null;case S:return ae.key===Je?le(re,ee,ae,Te):null;case R:return ae=Ja(ae),he(re,ee,ae,Te)}if(se(ae)||q(ae))return Je!==null?null:ye(re,ee,ae,Te,null);if(typeof ae.then=="function")return he(re,ee,Lf(ae),Te);if(ae.$$typeof===E)return he(re,ee,Nf(re,ae),Te);If(re,ae)}return null}function me(re,ee,ae,Te,Je){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return re=re.get(ae)||null,H(ee,re,""+Te,Je);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case x:return re=re.get(Te.key===null?ae:Te.key)||null,Z(ee,re,Te,Je);case S:return re=re.get(Te.key===null?ae:Te.key)||null,le(ee,re,Te,Je);case R:return Te=Ja(Te),me(re,ee,ae,Te,Je)}if(se(Te)||q(Te))return re=re.get(ae)||null,ye(ee,re,Te,Je,null);if(typeof Te.then=="function")return me(re,ee,ae,Lf(Te),Je);if(Te.$$typeof===E)return me(re,ee,ae,Nf(ee,Te),Je);If(ee,Te)}return null}function $e(re,ee,ae,Te){for(var Je=null,At=null,Ke=ee,ot=ee=0,pt=null;Ke!==null&&ot<ae.length;ot++){Ke.index>ot?(pt=Ke,Ke=null):pt=Ke.sibling;var Tt=he(re,Ke,ae[ot],Te);if(Tt===null){Ke===null&&(Ke=pt);break}a&&Ke&&Tt.alternate===null&&o(re,Ke),ee=y(Tt,ee,ot),At===null?Je=Tt:At.sibling=Tt,At=Tt,Ke=pt}if(ot===ae.length)return u(re,Ke),gt&&bs(re,ot),Je;if(Ke===null){for(;ot<ae.length;ot++)Ke=_e(re,ae[ot],Te),Ke!==null&&(ee=y(Ke,ee,ot),At===null?Je=Ke:At.sibling=Ke,At=Ke);return gt&&bs(re,ot),Je}for(Ke=p(Ke);ot<ae.length;ot++)pt=me(Ke,re,ot,ae[ot],Te),pt!==null&&(a&&pt.alternate!==null&&Ke.delete(pt.key===null?ot:pt.key),ee=y(pt,ee,ot),At===null?Je=pt:At.sibling=pt,At=pt);return a&&Ke.forEach(function(va){return o(re,va)}),gt&&bs(re,ot),Je}function tt(re,ee,ae,Te){if(ae==null)throw Error(r(151));for(var Je=null,At=null,Ke=ee,ot=ee=0,pt=null,Tt=ae.next();Ke!==null&&!Tt.done;ot++,Tt=ae.next()){Ke.index>ot?(pt=Ke,Ke=null):pt=Ke.sibling;var va=he(re,Ke,Tt.value,Te);if(va===null){Ke===null&&(Ke=pt);break}a&&Ke&&va.alternate===null&&o(re,Ke),ee=y(va,ee,ot),At===null?Je=va:At.sibling=va,At=va,Ke=pt}if(Tt.done)return u(re,Ke),gt&&bs(re,ot),Je;if(Ke===null){for(;!Tt.done;ot++,Tt=ae.next())Tt=_e(re,Tt.value,Te),Tt!==null&&(ee=y(Tt,ee,ot),At===null?Je=Tt:At.sibling=Tt,At=Tt);return gt&&bs(re,ot),Je}for(Ke=p(Ke);!Tt.done;ot++,Tt=ae.next())Tt=me(Ke,re,ot,Tt.value,Te),Tt!==null&&(a&&Tt.alternate!==null&&Ke.delete(Tt.key===null?ot:Tt.key),ee=y(Tt,ee,ot),At===null?Je=Tt:At.sibling=Tt,At=Tt);return a&&Ke.forEach(function(dD){return o(re,dD)}),gt&&bs(re,ot),Je}function Ut(re,ee,ae,Te){if(typeof ae=="object"&&ae!==null&&ae.type===b&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:e:{for(var Je=ae.key;ee!==null;){if(ee.key===Je){if(Je=ae.type,Je===b){if(ee.tag===7){u(re,ee.sibling),Te=v(ee,ae.props.children),Te.return=re,re=Te;break e}}else if(ee.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===R&&Ja(Je)===ee.type){u(re,ee.sibling),Te=v(ee,ae.props),bc(Te,ae),Te.return=re,re=Te;break e}u(re,ee);break}else o(re,ee);ee=ee.sibling}ae.type===b?(Te=$a(ae.props.children,re.mode,Te,ae.key),Te.return=re,re=Te):(Te=kf(ae.type,ae.key,ae.props,null,re.mode,Te),bc(Te,ae),Te.return=re,re=Te)}return _(re);case S:e:{for(Je=ae.key;ee!==null;){if(ee.key===Je)if(ee.tag===4&&ee.stateNode.containerInfo===ae.containerInfo&&ee.stateNode.implementation===ae.implementation){u(re,ee.sibling),Te=v(ee,ae.children||[]),Te.return=re,re=Te;break e}else{u(re,ee);break}else o(re,ee);ee=ee.sibling}Te=Qp(ae,re.mode,Te),Te.return=re,re=Te}return _(re);case R:return ae=Ja(ae),Ut(re,ee,ae,Te)}if(se(ae))return $e(re,ee,ae,Te);if(q(ae)){if(Je=q(ae),typeof Je!="function")throw Error(r(150));return ae=Je.call(ae),tt(re,ee,ae,Te)}if(typeof ae.then=="function")return Ut(re,ee,Lf(ae),Te);if(ae.$$typeof===E)return Ut(re,ee,Nf(re,ae),Te);If(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,ee!==null&&ee.tag===6?(u(re,ee.sibling),Te=v(ee,ae),Te.return=re,re=Te):(u(re,ee),Te=Kp(ae,re.mode,Te),Te.return=re,re=Te),_(re)):u(re,ee)}return function(re,ee,ae,Te){try{yc=0;var Je=Ut(re,ee,ae,Te);return Zl=null,Je}catch(Ke){if(Ke===Ql||Ke===Ff)throw Ke;var At=Xr(29,Ke,null,re.mode);return At.lanes=Te,At.return=re,At}finally{}}}var tl=Z2(!0),J2=Z2(!1),ta=!1;function cm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fm(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function na(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ra(a,o,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(kt&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,o=Df(a),L2(a,null,u),o}return _f(a,p,o,u),Df(a)}function Sc(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=a.pendingLanes,u|=p,o.lanes=u,Dt(a,u)}}function um(a,o){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var _={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?v=y=_:y=y.next=_,u=u.next}while(u!==null);y===null?v=y=o:y=y.next=o}else v=y=o;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:p.shared,callbacks:p.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var hm=!1;function wc(){if(hm){var a=Kl;if(a!==null)throw a}}function Ec(a,o,u,p){hm=!1;var v=a.updateQueue;ta=!1;var y=v.firstBaseUpdate,_=v.lastBaseUpdate,H=v.shared.pending;if(H!==null){v.shared.pending=null;var Z=H,le=Z.next;Z.next=null,_===null?y=le:_.next=le,_=Z;var ye=a.alternate;ye!==null&&(ye=ye.updateQueue,H=ye.lastBaseUpdate,H!==_&&(H===null?ye.firstBaseUpdate=le:H.next=le,ye.lastBaseUpdate=Z))}if(y!==null){var _e=v.baseState;_=0,ye=le=Z=null,H=y;do{var he=H.lane&-536870913,me=he!==H.lane;if(me?(dt&he)===he:(p&he)===he){he!==0&&he===Yl&&(hm=!0),ye!==null&&(ye=ye.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var $e=a,tt=H;he=o;var Ut=u;switch(tt.tag){case 1:if($e=tt.payload,typeof $e=="function"){_e=$e.call(Ut,_e,he);break e}_e=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=tt.payload,he=typeof $e=="function"?$e.call(Ut,_e,he):$e,he==null)break e;_e=m({},_e,he);break e;case 2:ta=!0}}he=H.callback,he!==null&&(a.flags|=64,me&&(a.flags|=8192),me=v.callbacks,me===null?v.callbacks=[he]:me.push(he))}else me={lane:he,tag:H.tag,payload:H.payload,callback:H.callback,next:null},ye===null?(le=ye=me,Z=_e):ye=ye.next=me,_|=he;if(H=H.next,H===null){if(H=v.shared.pending,H===null)break;me=H,H=me.next,me.next=null,v.lastBaseUpdate=me,v.shared.pending=null}}while(!0);ye===null&&(Z=_e),v.baseState=Z,v.firstBaseUpdate=le,v.lastBaseUpdate=ye,y===null&&(v.shared.lanes=0),oa|=_,a.lanes=_,a.memoizedState=_e}}function ey(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function ty(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)ey(u[a],o)}var Jl=F(null),Pf=F(0);function ny(a,o){a=Bs,P(Pf,a),P(Jl,o),Bs=a|o.baseLanes}function dm(){P(Pf,Bs),P(Jl,Jl.current)}function pm(){Bs=Pf.current,O(Jl),O(Pf)}var $r=F(null),xi=null;function ia(a){var o=a.alternate;P(vn,vn.current&1),P($r,a),xi===null&&(o===null||Jl.current!==null||o.memoizedState!==null)&&(xi=a)}function mm(a){P(vn,vn.current),P($r,a),xi===null&&(xi=a)}function ry(a){a.tag===22?(P(vn,vn.current),P($r,a),xi===null&&(xi=a)):sa()}function sa(){P(vn,vn.current),P($r,$r.current)}function Yr(a){O($r),xi===a&&(xi=null),O(vn)}var vn=F(0);function Hf(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Sg(u)||wg(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Es=0,at=null,zt=null,Tn=null,zf=!1,eo=!1,nl=!1,jf=0,Cc=0,to=null,r5=0;function pn(){throw Error(r(321))}function gm(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Gr(a[u],o[u]))return!1;return!0}function xm(a,o,u,p,v,y){return Es=y,at=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,J.H=a===null||a.memoizedState===null?zy:Nm,nl=!1,y=u(p,v),nl=!1,eo&&(y=sy(o,u,p,v)),iy(a),y}function iy(a){J.H=_c;var o=zt!==null&&zt.next!==null;if(Es=0,Tn=zt=at=null,zf=!1,Cc=0,to=null,o)throw Error(r(300));a===null||_n||(a=a.dependencies,a!==null&&Bf(a)&&(_n=!0))}function sy(a,o,u,p){at=a;var v=0;do{if(eo&&(to=null),Cc=0,eo=!1,25<=v)throw Error(r(301));if(v+=1,Tn=zt=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}J.H=jy,y=o(u,p)}while(eo);return y}function i5(){var a=J.H,o=a.useState()[0];return o=typeof o.then=="function"?Ac(o):o,a=a.useState()[0],(zt!==null?zt.memoizedState:null)!==a&&(at.flags|=1024),o}function vm(){var a=jf!==0;return jf=0,a}function ym(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function bm(a){if(zf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}zf=!1}Es=0,Tn=zt=at=null,eo=!1,Cc=jf=0,to=null}function br(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?at.memoizedState=Tn=a:Tn=Tn.next=a,Tn}function yn(){if(zt===null){var a=at.alternate;a=a!==null?a.memoizedState:null}else a=zt.next;var o=Tn===null?at.memoizedState:Tn.next;if(o!==null)Tn=o,zt=a;else{if(a===null)throw at.alternate===null?Error(r(467)):Error(r(310));zt=a,a={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Tn===null?at.memoizedState=Tn=a:Tn=Tn.next=a}return Tn}function Uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ac(a){var o=Cc;return Cc+=1,to===null&&(to=[]),a=Y2(to,a,o),o=at,(Tn===null?o.memoizedState:Tn.next)===null&&(o=o.alternate,J.H=o===null||o.memoizedState===null?zy:Nm),a}function Vf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ac(a);if(a.$$typeof===E)return er(a)}throw Error(r(438,String(a)))}function Sm(a){var o=null,u=at.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=at.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Uf(),at.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),p=0;p<a;p++)u[p]=I;return o.index++,u}function Cs(a,o){return typeof o=="function"?o(a):o}function qf(a){var o=yn();return wm(o,zt,a)}function wm(a,o,u){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var v=a.baseQueue,y=p.pending;if(y!==null){if(v!==null){var _=v.next;v.next=y.next,y.next=_}o.baseQueue=v=y,p.pending=null}if(y=a.baseState,v===null)a.memoizedState=y;else{o=v.next;var H=_=null,Z=null,le=o,ye=!1;do{var _e=le.lane&-536870913;if(_e!==le.lane?(dt&_e)===_e:(Es&_e)===_e){var he=le.revertLane;if(he===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),_e===Yl&&(ye=!0);else if((Es&he)===he){le=le.next,he===Yl&&(ye=!0);continue}else _e={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Z===null?(H=Z=_e,_=y):Z=Z.next=_e,at.lanes|=he,oa|=he;_e=le.action,nl&&u(y,_e),y=le.hasEagerState?le.eagerState:u(y,_e)}else he={lane:_e,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Z===null?(H=Z=he,_=y):Z=Z.next=he,at.lanes|=_e,oa|=_e;le=le.next}while(le!==null&&le!==o);if(Z===null?_=y:Z.next=H,!Gr(y,a.memoizedState)&&(_n=!0,ye&&(u=Kl,u!==null)))throw u;a.memoizedState=y,a.baseState=_,a.baseQueue=Z,p.lastRenderedState=y}return v===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Em(a){var o=yn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var p=u.dispatch,v=u.pending,y=o.memoizedState;if(v!==null){u.pending=null;var _=v=v.next;do y=a(y,_.action),_=_.next;while(_!==v);Gr(y,o.memoizedState)||(_n=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,p]}function ay(a,o,u){var p=at,v=yn(),y=gt;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=o();var _=!Gr((zt||v).memoizedState,u);if(_&&(v.memoizedState=u,_n=!0),v=v.queue,Tm(cy.bind(null,p,v,a),[a]),v.getSnapshot!==o||_||Tn!==null&&Tn.memoizedState.tag&1){if(p.flags|=2048,no(9,{destroy:void 0},oy.bind(null,p,v,u,o),null),Xt===null)throw Error(r(349));y||(Es&127)!==0||ly(p,o,u)}return u}function ly(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=at.updateQueue,o===null?(o=Uf(),at.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function oy(a,o,u,p){o.value=u,o.getSnapshot=p,fy(o)&&uy(a)}function cy(a,o,u){return u(function(){fy(o)&&uy(a)})}function fy(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Gr(a,u)}catch{return!0}}function uy(a){var o=Xa(a,2);o!==null&&Lr(o,a,2)}function Cm(a){var o=br();if(typeof a=="function"){var u=a;if(a=u(),nl){wn(!0);try{u()}finally{wn(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:a},o}function hy(a,o,u,p){return a.baseState=u,wm(a,zt,typeof p=="function"?p:Cs)}function s5(a,o,u,p,v){if(Xf(a))throw Error(r(485));if(a=o.action,a!==null){var y={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};J.T!==null?u(!0):y.isTransition=!1,p(y),u=o.pending,u===null?(y.next=o.pending=y,dy(o,y)):(y.next=u.next,o.pending=u.next=y)}}function dy(a,o){var u=o.action,p=o.payload,v=a.state;if(o.isTransition){var y=J.T,_={};J.T=_;try{var H=u(v,p),Z=J.S;Z!==null&&Z(_,H),py(a,o,H)}catch(le){Am(a,o,le)}finally{y!==null&&_.types!==null&&(y.types=_.types),J.T=y}}else try{y=u(v,p),py(a,o,y)}catch(le){Am(a,o,le)}}function py(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){my(a,o,p)},function(p){return Am(a,o,p)}):my(a,o,u)}function my(a,o,u){o.status="fulfilled",o.value=u,gy(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,dy(a,u)))}function Am(a,o,u){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,gy(o),o=o.next;while(o!==p)}a.action=null}function gy(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function xy(a,o){return o}function vy(a,o){if(gt){var u=Xt.formState;if(u!==null){e:{var p=at;if(gt){if(Jt){t:{for(var v=Jt,y=gi;v.nodeType!==8;){if(!y){v=null;break t}if(v=vi(v.nextSibling),v===null){v=null;break t}}y=v.data,v=y==="F!"||y==="F"?v:null}if(v){Jt=vi(v.nextSibling),p=v.data==="F!";break e}}Js(p)}p=!1}p&&(o=u[0])}}return u=br(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xy,lastRenderedState:o},u.queue=p,u=Iy.bind(null,at,p),p.dispatch=u,p=Cm(!1),y=Bm.bind(null,at,!1,p.queue),p=br(),v={state:o,dispatch:null,action:a,pending:null},p.queue=v,u=s5.bind(null,at,v,y,u),v.dispatch=u,p.memoizedState=a,[o,u,!1]}function yy(a){var o=yn();return by(o,zt,a)}function by(a,o,u){if(o=wm(a,o,xy)[0],a=qf(Cs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Ac(o)}catch(_){throw _===Ql?Ff:_}else p=o;o=yn();var v=o.queue,y=v.dispatch;return u!==o.memoizedState&&(at.flags|=2048,no(9,{destroy:void 0},a5.bind(null,v,u),null)),[p,y,a]}function a5(a,o){a.action=o}function Sy(a){var o=yn(),u=zt;if(u!==null)return by(o,u,a);yn(),o=o.memoizedState,u=yn();var p=u.queue.dispatch;return u.memoizedState=a,[o,p,!1]}function no(a,o,u,p){return a={tag:a,create:u,deps:p,inst:o,next:null},o=at.updateQueue,o===null&&(o=Uf(),at.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,o.lastEffect=a),a}function wy(){return yn().memoizedState}function Wf(a,o,u,p){var v=br();at.flags|=a,v.memoizedState=no(1|o,{destroy:void 0},u,p===void 0?null:p)}function Gf(a,o,u,p){var v=yn();p=p===void 0?null:p;var y=v.memoizedState.inst;zt!==null&&p!==null&&gm(p,zt.memoizedState.deps)?v.memoizedState=no(o,y,u,p):(at.flags|=a,v.memoizedState=no(1|o,y,u,p))}function Ey(a,o){Wf(8390656,8,a,o)}function Tm(a,o){Gf(2048,8,a,o)}function l5(a){at.flags|=4;var o=at.updateQueue;if(o===null)o=Uf(),at.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function Cy(a){var o=yn().memoizedState;return l5({ref:o,nextImpl:a}),function(){if((kt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function Ay(a,o){return Gf(4,2,a,o)}function Ty(a,o){return Gf(4,4,a,o)}function _y(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function Dy(a,o,u){u=u!=null?u.concat([a]):null,Gf(4,4,_y.bind(null,o,a),u)}function _m(){}function ky(a,o){var u=yn();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&gm(o,p[1])?p[0]:(u.memoizedState=[a,o],a)}function Oy(a,o){var u=yn();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&gm(o,p[1]))return p[0];if(p=a(),nl){wn(!0);try{a()}finally{wn(!1)}}return u.memoizedState=[p,o],p}function Dm(a,o,u){return u===void 0||(Es&1073741824)!==0&&(dt&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=Bb(),at.lanes|=a,oa|=a,u)}function By(a,o,u,p){return Gr(u,o)?u:Jl.current!==null?(a=Dm(a,u,p),Gr(a,o)||(_n=!0),a):(Es&42)===0||(Es&1073741824)!==0&&(dt&261930)===0?(_n=!0,a.memoizedState=u):(a=Bb(),at.lanes|=a,oa|=a,o)}function Ny(a,o,u,p,v){var y=ie.p;ie.p=y!==0&&8>y?y:8;var _=J.T,H={};J.T=H,Bm(a,!1,o,u);try{var Z=v(),le=J.S;if(le!==null&&le(H,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ye=n5(Z,p);Tc(a,o,ye,Zr(a))}else Tc(a,o,p,Zr(a))}catch(_e){Tc(a,o,{then:function(){},status:"rejected",reason:_e},Zr())}finally{ie.p=y,_!==null&&H.types!==null&&(_.types=H.types),J.T=_}}function o5(){}function km(a,o,u,p){if(a.tag!==5)throw Error(r(476));var v=Ry(a).queue;Ny(a,v,o,Ee,u===null?o5:function(){return Fy(a),u(p)})}function Ry(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:Ee},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function Fy(a){var o=Ry(a);o.next===null&&(o=a.alternate.memoizedState),Tc(a,o.next.queue,{},Zr())}function Om(){return er(Vc)}function My(){return yn().memoizedState}function Ly(){return yn().memoizedState}function c5(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Zr();a=na(u);var p=ra(o,a,u);p!==null&&(Lr(p,o,u),Sc(p,o,u)),o={cache:sm()},a.payload=o;return}o=o.return}}function f5(a,o,u){var p=Zr();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Xf(a)?Py(o,u):(u=$p(a,o,u,p),u!==null&&(Lr(u,a,p),Hy(u,o,p)))}function Iy(a,o,u){var p=Zr();Tc(a,o,u,p)}function Tc(a,o,u,p){var v={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Xf(a))Py(o,v);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var _=o.lastRenderedState,H=y(_,u);if(v.hasEagerState=!0,v.eagerState=H,Gr(H,_))return _f(a,o,v,0),Xt===null&&Tf(),!1}catch{}finally{}if(u=$p(a,o,v,p),u!==null)return Lr(u,a,p),Hy(u,o,p),!0}return!1}function Bm(a,o,u,p){if(p={lane:2,revertLane:cg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Xf(a)){if(o)throw Error(r(479))}else o=$p(a,u,p,2),o!==null&&Lr(o,a,2)}function Xf(a){var o=a.alternate;return a===at||o!==null&&o===at}function Py(a,o){eo=zf=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function Hy(a,o,u){if((u&4194048)!==0){var p=o.lanes;p&=a.pendingLanes,u|=p,o.lanes=u,Dt(a,u)}}var _c={readContext:er,use:Vf,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useLayoutEffect:pn,useInsertionEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useSyncExternalStore:pn,useId:pn,useHostTransitionStatus:pn,useFormState:pn,useActionState:pn,useOptimistic:pn,useMemoCache:pn,useCacheRefresh:pn};_c.useEffectEvent=pn;var zy={readContext:er,use:Vf,useCallback:function(a,o){return br().memoizedState=[a,o===void 0?null:o],a},useContext:er,useEffect:Ey,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Wf(4194308,4,_y.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Wf(4194308,4,a,o)},useInsertionEffect:function(a,o){Wf(4,2,a,o)},useMemo:function(a,o){var u=br();o=o===void 0?null:o;var p=a();if(nl){wn(!0);try{a()}finally{wn(!1)}}return u.memoizedState=[p,o],p},useReducer:function(a,o,u){var p=br();if(u!==void 0){var v=u(o);if(nl){wn(!0);try{u(o)}finally{wn(!1)}}}else v=o;return p.memoizedState=p.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},p.queue=a,a=a.dispatch=f5.bind(null,at,a),[p.memoizedState,a]},useRef:function(a){var o=br();return a={current:a},o.memoizedState=a},useState:function(a){a=Cm(a);var o=a.queue,u=Iy.bind(null,at,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:_m,useDeferredValue:function(a,o){var u=br();return Dm(u,a,o)},useTransition:function(){var a=Cm(!1);return a=Ny.bind(null,at,a.queue,!0,!1),br().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var p=at,v=br();if(gt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Xt===null)throw Error(r(349));(dt&127)!==0||ly(p,o,u)}v.memoizedState=u;var y={value:u,getSnapshot:o};return v.queue=y,Ey(cy.bind(null,p,y,a),[a]),p.flags|=2048,no(9,{destroy:void 0},oy.bind(null,p,y,u,o),null),u},useId:function(){var a=br(),o=Xt.identifierPrefix;if(gt){var u=Ki,p=Yi;u=(p&~(1<<32-En(p)-1)).toString(32)+u,o="_"+o+"R_"+u,u=jf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=r5++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Om,useFormState:vy,useActionState:vy,useOptimistic:function(a){var o=br();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Bm.bind(null,at,!0,u),u.dispatch=o,[a,o]},useMemoCache:Sm,useCacheRefresh:function(){return br().memoizedState=c5.bind(null,at)},useEffectEvent:function(a){var o=br(),u={impl:a};return o.memoizedState=u,function(){if((kt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Nm={readContext:er,use:Vf,useCallback:ky,useContext:er,useEffect:Tm,useImperativeHandle:Dy,useInsertionEffect:Ay,useLayoutEffect:Ty,useMemo:Oy,useReducer:qf,useRef:wy,useState:function(){return qf(Cs)},useDebugValue:_m,useDeferredValue:function(a,o){var u=yn();return By(u,zt.memoizedState,a,o)},useTransition:function(){var a=qf(Cs)[0],o=yn().memoizedState;return[typeof a=="boolean"?a:Ac(a),o]},useSyncExternalStore:ay,useId:My,useHostTransitionStatus:Om,useFormState:yy,useActionState:yy,useOptimistic:function(a,o){var u=yn();return hy(u,zt,a,o)},useMemoCache:Sm,useCacheRefresh:Ly};Nm.useEffectEvent=Cy;var jy={readContext:er,use:Vf,useCallback:ky,useContext:er,useEffect:Tm,useImperativeHandle:Dy,useInsertionEffect:Ay,useLayoutEffect:Ty,useMemo:Oy,useReducer:Em,useRef:wy,useState:function(){return Em(Cs)},useDebugValue:_m,useDeferredValue:function(a,o){var u=yn();return zt===null?Dm(u,a,o):By(u,zt.memoizedState,a,o)},useTransition:function(){var a=Em(Cs)[0],o=yn().memoizedState;return[typeof a=="boolean"?a:Ac(a),o]},useSyncExternalStore:ay,useId:My,useHostTransitionStatus:Om,useFormState:Sy,useActionState:Sy,useOptimistic:function(a,o){var u=yn();return zt!==null?hy(u,zt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Sm,useCacheRefresh:Ly};jy.useEffectEvent=Cy;function Rm(a,o,u,p){o=a.memoizedState,u=u(p,o),u=u==null?o:m({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Fm={enqueueSetState:function(a,o,u){a=a._reactInternals;var p=Zr(),v=na(p);v.payload=o,u!=null&&(v.callback=u),o=ra(a,v,p),o!==null&&(Lr(o,a,p),Sc(o,a,p))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var p=Zr(),v=na(p);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=ra(a,v,p),o!==null&&(Lr(o,a,p),Sc(o,a,p))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Zr(),p=na(u);p.tag=2,o!=null&&(p.callback=o),o=ra(a,p,u),o!==null&&(Lr(o,a,u),Sc(o,a,u))}};function Uy(a,o,u,p,v,y,_){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,y,_):o.prototype&&o.prototype.isPureReactComponent?!dc(u,p)||!dc(v,y):!0}function Vy(a,o,u,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==a&&Fm.enqueueReplaceState(o,o.state,null)}function rl(a,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(a=a.defaultProps){u===o&&(u=m({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function qy(a){Af(a)}function Wy(a){console.error(a)}function Gy(a){Af(a)}function $f(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function Xy(a,o,u){try{var p=a.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Mm(a,o,u){return u=na(u),u.tag=3,u.payload={element:null},u.callback=function(){$f(a,o)},u}function $y(a){return a=na(a),a.tag=3,a}function Yy(a,o,u,p){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var y=p.value;a.payload=function(){return v(y)},a.callback=function(){Xy(o,u,p)}}var _=u.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(a.callback=function(){Xy(o,u,p),typeof v!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var H=p.stack;this.componentDidCatch(p.value,{componentStack:H!==null?H:""})})}function u5(a,o,u,p,v){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&$l(o,u,v,!0),u=$r.current,u!==null){switch(u.tag){case 31:case 13:return xi===null?au():u.alternate===null&&mn===0&&(mn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,p===Mf?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),ag(a,p,v)),!1;case 22:return u.flags|=65536,p===Mf?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),ag(a,p,v)),!1}throw Error(r(435,u.tag))}return ag(a,p,v),au(),!1}if(gt)return o=$r.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,p!==em&&(a=Error(r(422),{cause:p}),gc(di(a,u)))):(p!==em&&(o=Error(r(423),{cause:p}),gc(di(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,p=di(p,u),v=Mm(a.stateNode,p,v),um(a,v),mn!==4&&(mn=2)),!1;var y=Error(r(520),{cause:p});if(y=di(y,u),Mc===null?Mc=[y]:Mc.push(y),mn!==4&&(mn=2),o===null)return!0;p=di(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=Mm(u.stateNode,p,a),um(u,a),!1;case 1:if(o=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ca===null||!ca.has(y))))return u.flags|=65536,v&=-v,u.lanes|=v,v=$y(v),Yy(v,a,u,p),um(u,v),!1}u=u.return}while(u!==null);return!1}var Lm=Error(r(461)),_n=!1;function tr(a,o,u,p){o.child=a===null?J2(o,null,u,p):tl(o,a.child,u,p)}function Ky(a,o,u,p,v){u=u.render;var y=o.ref;if("ref"in p){var _={};for(var H in p)H!=="ref"&&(_[H]=p[H])}else _=p;return Qa(o),p=xm(a,o,u,_,y,v),H=vm(),a!==null&&!_n?(ym(a,o,v),As(a,o,v)):(gt&&H&&Zp(o),o.flags|=1,tr(a,o,p,v),o.child)}function Qy(a,o,u,p,v){if(a===null){var y=u.type;return typeof y=="function"&&!Yp(y)&&y.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=y,Zy(a,o,y,p,v)):(a=kf(u.type,null,p,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(y=a.child,!qm(a,v)){var _=y.memoizedProps;if(u=u.compare,u=u!==null?u:dc,u(_,p)&&a.ref===o.ref)return As(a,o,v)}return o.flags|=1,a=ys(y,p),a.ref=o.ref,a.return=o,o.child=a}function Zy(a,o,u,p,v){if(a!==null){var y=a.memoizedProps;if(dc(y,p)&&a.ref===o.ref)if(_n=!1,o.pendingProps=p=y,qm(a,v))(a.flags&131072)!==0&&(_n=!0);else return o.lanes=a.lanes,As(a,o,v)}return Im(a,o,u,p,v)}function Jy(a,o,u,p){var v=p.children,y=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(y=y!==null?y.baseLanes|u:u,a!==null){for(p=o.child=a.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;p=v&~y}else p=0,o.child=null;return eb(a,o,y,u,p)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Rf(o,y!==null?y.cachePool:null),y!==null?ny(o,y):dm(),ry(o);else return p=o.lanes=536870912,eb(a,o,y!==null?y.baseLanes|u:u,u,p)}else y!==null?(Rf(o,y.cachePool),ny(o,y),sa(),o.memoizedState=null):(a!==null&&Rf(o,null),dm(),sa());return tr(a,o,v,u),o.child}function Dc(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function eb(a,o,u,p,v){var y=lm();return y=y===null?null:{parent:An._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},a!==null&&Rf(o,null),dm(),ry(o),a!==null&&$l(a,o,p,!0),o.childLanes=v,null}function Yf(a,o){return o=Qf({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function tb(a,o,u){return tl(o,a.child,null,u),a=Yf(o,o.pendingProps),a.flags|=2,Yr(o),o.memoizedState=null,a}function h5(a,o,u){var p=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(gt){if(p.mode==="hidden")return a=Yf(o,p),o.lanes=536870912,Dc(null,a);if(mm(o),(a=Jt)?(a=d4(a,gi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Qs!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},u=P2(a),u.return=o,o.child=u,Jn=o,Jt=null)):a=null,a===null)throw Js(o);return o.lanes=536870912,null}return Yf(o,p)}var y=a.memoizedState;if(y!==null){var _=y.dehydrated;if(mm(o),v)if(o.flags&256)o.flags&=-257,o=tb(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(_n||$l(a,o,u,!1),v=(u&a.childLanes)!==0,_n||v){if(p=Xt,p!==null&&(_=hn(p,u),_!==0&&_!==y.retryLane))throw y.retryLane=_,Xa(a,_),Lr(p,a,_),Lm;au(),o=tb(a,o,u)}else a=y.treeContext,Jt=vi(_.nextSibling),Jn=o,gt=!0,Zs=null,gi=!1,a!==null&&j2(o,a),o=Yf(o,p),o.flags|=4096;return o}return a=ys(a.child,{mode:p.mode,children:p.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Kf(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function Im(a,o,u,p,v){return Qa(o),u=xm(a,o,u,p,void 0,v),p=vm(),a!==null&&!_n?(ym(a,o,v),As(a,o,v)):(gt&&p&&Zp(o),o.flags|=1,tr(a,o,u,v),o.child)}function nb(a,o,u,p,v,y){return Qa(o),o.updateQueue=null,u=sy(o,p,u,v),iy(a),p=vm(),a!==null&&!_n?(ym(a,o,y),As(a,o,y)):(gt&&p&&Zp(o),o.flags|=1,tr(a,o,u,y),o.child)}function rb(a,o,u,p,v){if(Qa(o),o.stateNode===null){var y=ql,_=u.contextType;typeof _=="object"&&_!==null&&(y=er(_)),y=new u(p,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Fm,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=p,y.state=o.memoizedState,y.refs={},cm(o),_=u.contextType,y.context=typeof _=="object"&&_!==null?er(_):ql,y.state=o.memoizedState,_=u.getDerivedStateFromProps,typeof _=="function"&&(Rm(o,u,_,p),y.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&Fm.enqueueReplaceState(y,y.state,null),Ec(o,p,y,v),wc(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(a===null){y=o.stateNode;var H=o.memoizedProps,Z=rl(u,H);y.props=Z;var le=y.context,ye=u.contextType;_=ql,typeof ye=="object"&&ye!==null&&(_=er(ye));var _e=u.getDerivedStateFromProps;ye=typeof _e=="function"||typeof y.getSnapshotBeforeUpdate=="function",H=o.pendingProps!==H,ye||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(H||le!==_)&&Vy(o,y,p,_),ta=!1;var he=o.memoizedState;y.state=he,Ec(o,p,y,v),wc(),le=o.memoizedState,H||he!==le||ta?(typeof _e=="function"&&(Rm(o,u,_e,p),le=o.memoizedState),(Z=ta||Uy(o,u,Z,p,he,le,_))?(ye||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=le),y.props=p,y.state=le,y.context=_,p=Z):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{y=o.stateNode,fm(a,o),_=o.memoizedProps,ye=rl(u,_),y.props=ye,_e=o.pendingProps,he=y.context,le=u.contextType,Z=ql,typeof le=="object"&&le!==null&&(Z=er(le)),H=u.getDerivedStateFromProps,(le=typeof H=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==_e||he!==Z)&&Vy(o,y,p,Z),ta=!1,he=o.memoizedState,y.state=he,Ec(o,p,y,v),wc();var me=o.memoizedState;_!==_e||he!==me||ta||a!==null&&a.dependencies!==null&&Bf(a.dependencies)?(typeof H=="function"&&(Rm(o,u,H,p),me=o.memoizedState),(ye=ta||Uy(o,u,ye,p,he,me,Z)||a!==null&&a.dependencies!==null&&Bf(a.dependencies))?(le||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(p,me,Z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(p,me,Z)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===a.memoizedProps&&he===a.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&he===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=me),y.props=p,y.state=me,y.context=Z,p=ye):(typeof y.componentDidUpdate!="function"||_===a.memoizedProps&&he===a.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&he===a.memoizedState||(o.flags|=1024),p=!1)}return y=p,Kf(a,o),p=(o.flags&128)!==0,y||p?(y=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,a!==null&&p?(o.child=tl(o,a.child,null,v),o.child=tl(o,null,u,v)):tr(a,o,u,v),o.memoizedState=y.state,a=o.child):a=As(a,o,v),a}function ib(a,o,u,p){return Ya(),o.flags|=256,tr(a,o,u,p),o.child}var Pm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hm(a){return{baseLanes:a,cachePool:X2()}}function zm(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Qr),a}function sb(a,o,u){var p=o.pendingProps,v=!1,y=(o.flags&128)!==0,_;if((_=y)||(_=a!==null&&a.memoizedState===null?!1:(vn.current&2)!==0),_&&(v=!0,o.flags&=-129),_=(o.flags&32)!==0,o.flags&=-33,a===null){if(gt){if(v?ia(o):sa(),(a=Jt)?(a=d4(a,gi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Qs!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},u=P2(a),u.return=o,o.child=u,Jn=o,Jt=null)):a=null,a===null)throw Js(o);return wg(a)?o.lanes=32:o.lanes=536870912,null}var H=p.children;return p=p.fallback,v?(sa(),v=o.mode,H=Qf({mode:"hidden",children:H},v),p=$a(p,v,u,null),H.return=o,p.return=o,H.sibling=p,o.child=H,p=o.child,p.memoizedState=Hm(u),p.childLanes=zm(a,_,u),o.memoizedState=Pm,Dc(null,p)):(ia(o),jm(o,H))}var Z=a.memoizedState;if(Z!==null&&(H=Z.dehydrated,H!==null)){if(y)o.flags&256?(ia(o),o.flags&=-257,o=Um(a,o,u)):o.memoizedState!==null?(sa(),o.child=a.child,o.flags|=128,o=null):(sa(),H=p.fallback,v=o.mode,p=Qf({mode:"visible",children:p.children},v),H=$a(H,v,u,null),H.flags|=2,p.return=o,H.return=o,p.sibling=H,o.child=p,tl(o,a.child,null,u),p=o.child,p.memoizedState=Hm(u),p.childLanes=zm(a,_,u),o.memoizedState=Pm,o=Dc(null,p));else if(ia(o),wg(H)){if(_=H.nextSibling&&H.nextSibling.dataset,_)var le=_.dgst;_=le,p=Error(r(419)),p.stack="",p.digest=_,gc({value:p,source:null,stack:null}),o=Um(a,o,u)}else if(_n||$l(a,o,u,!1),_=(u&a.childLanes)!==0,_n||_){if(_=Xt,_!==null&&(p=hn(_,u),p!==0&&p!==Z.retryLane))throw Z.retryLane=p,Xa(a,p),Lr(_,a,p),Lm;Sg(H)||au(),o=Um(a,o,u)}else Sg(H)?(o.flags|=192,o.child=a.child,o=null):(a=Z.treeContext,Jt=vi(H.nextSibling),Jn=o,gt=!0,Zs=null,gi=!1,a!==null&&j2(o,a),o=jm(o,p.children),o.flags|=4096);return o}return v?(sa(),H=p.fallback,v=o.mode,Z=a.child,le=Z.sibling,p=ys(Z,{mode:"hidden",children:p.children}),p.subtreeFlags=Z.subtreeFlags&65011712,le!==null?H=ys(le,H):(H=$a(H,v,u,null),H.flags|=2),H.return=o,p.return=o,p.sibling=H,o.child=p,Dc(null,p),p=o.child,H=a.child.memoizedState,H===null?H=Hm(u):(v=H.cachePool,v!==null?(Z=An._currentValue,v=v.parent!==Z?{parent:Z,pool:Z}:v):v=X2(),H={baseLanes:H.baseLanes|u,cachePool:v}),p.memoizedState=H,p.childLanes=zm(a,_,u),o.memoizedState=Pm,Dc(a.child,p)):(ia(o),u=a.child,a=u.sibling,u=ys(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,a!==null&&(_=o.deletions,_===null?(o.deletions=[a],o.flags|=16):_.push(a)),o.child=u,o.memoizedState=null,u)}function jm(a,o){return o=Qf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Qf(a,o){return a=Xr(22,a,null,o),a.lanes=0,a}function Um(a,o,u){return tl(o,a.child,null,u),a=jm(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function ab(a,o,u){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),rm(a.return,o,u)}function Vm(a,o,u,p,v,y){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v,treeForkCount:y}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=u,_.tailMode=v,_.treeForkCount=y)}function lb(a,o,u){var p=o.pendingProps,v=p.revealOrder,y=p.tail;p=p.children;var _=vn.current,H=(_&2)!==0;if(H?(_=_&1|2,o.flags|=128):_&=1,P(vn,_),tr(a,o,p,u),p=gt?mc:0,!H&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ab(a,u,o);else if(a.tag===19)ab(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&Hf(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Vm(o,!1,v,u,y,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Hf(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}Vm(o,!0,u,null,y,p);break;case"together":Vm(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function As(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),oa|=o.lanes,(u&o.childLanes)===0)if(a!==null){if($l(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=ys(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=ys(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function qm(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Bf(a)))}function d5(a,o,u){switch(o.tag){case 3:be(o,o.stateNode.containerInfo),ea(o,An,a.memoizedState.cache),Ya();break;case 27:case 5:Ce(o);break;case 4:be(o,o.stateNode.containerInfo);break;case 10:ea(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,mm(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(ia(o),o.flags|=128,null):(u&o.child.childLanes)!==0?sb(a,o,u):(ia(o),a=As(a,o,u),a!==null?a.sibling:null);ia(o);break;case 19:var v=(a.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||($l(a,o,u,!1),p=(u&o.childLanes)!==0),v){if(p)return lb(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),P(vn,vn.current),p)break;return null;case 22:return o.lanes=0,Jy(a,o,u,o.pendingProps);case 24:ea(o,An,a.memoizedState.cache)}return As(a,o,u)}function ob(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)_n=!0;else{if(!qm(a,u)&&(o.flags&128)===0)return _n=!1,d5(a,o,u);_n=(a.flags&131072)!==0}else _n=!1,gt&&(o.flags&1048576)!==0&&z2(o,mc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(a=Ja(o.elementType),o.type=a,typeof a=="function")Yp(a)?(p=rl(a,p),o.tag=1,o=rb(null,o,a,p,u)):(o.tag=0,o=Im(null,o,a,p,u));else{if(a!=null){var v=a.$$typeof;if(v===D){o.tag=11,o=Ky(null,o,a,p,u);break e}else if(v===k){o.tag=14,o=Qy(null,o,a,p,u);break e}}throw o=oe(a)||a,Error(r(306,o,""))}}return o;case 0:return Im(a,o,o.type,o.pendingProps,u);case 1:return p=o.type,v=rl(p,o.pendingProps),rb(a,o,p,v,u);case 3:e:{if(be(o,o.stateNode.containerInfo),a===null)throw Error(r(387));p=o.pendingProps;var y=o.memoizedState;v=y.element,fm(a,o),Ec(o,p,null,u);var _=o.memoizedState;if(p=_.cache,ea(o,An,p),p!==y.cache&&im(o,[An],u,!0),wc(),p=_.element,y.isDehydrated)if(y={element:p,isDehydrated:!1,cache:_.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=ib(a,o,p,u);break e}else if(p!==v){v=di(Error(r(424)),o),gc(v),o=ib(a,o,p,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Jt=vi(a.firstChild),Jn=o,gt=!0,Zs=null,gi=!0,u=J2(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ya(),p===v){o=As(a,o,u);break e}tr(a,o,p,u)}o=o.child}return o;case 26:return Kf(a,o),a===null?(u=y4(o.type,null,o.pendingProps,null))?o.memoizedState=u:gt||(u=o.type,a=o.pendingProps,p=du(te.current).createElement(u),p[V]=o,p[W]=a,nr(p,u,a),Ye(p),o.stateNode=p):o.memoizedState=y4(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ce(o),a===null&&gt&&(p=o.stateNode=g4(o.type,o.pendingProps,te.current),Jn=o,gi=!0,v=Jt,da(o.type)?(Eg=v,Jt=vi(p.firstChild)):Jt=v),tr(a,o,o.pendingProps.children,u),Kf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&gt&&((v=p=Jt)&&(p=V5(p,o.type,o.pendingProps,gi),p!==null?(o.stateNode=p,Jn=o,Jt=vi(p.firstChild),gi=!1,v=!0):v=!1),v||Js(o)),Ce(o),v=o.type,y=o.pendingProps,_=a!==null?a.memoizedProps:null,p=y.children,vg(v,y)?p=null:_!==null&&vg(v,_)&&(o.flags|=32),o.memoizedState!==null&&(v=xm(a,o,i5,null,null,u),Vc._currentValue=v),Kf(a,o),tr(a,o,p,u),o.child;case 6:return a===null&&gt&&((a=u=Jt)&&(u=q5(u,o.pendingProps,gi),u!==null?(o.stateNode=u,Jn=o,Jt=null,a=!0):a=!1),a||Js(o)),null;case 13:return sb(a,o,u);case 4:return be(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=tl(o,null,p,u):tr(a,o,p,u),o.child;case 11:return Ky(a,o,o.type,o.pendingProps,u);case 7:return tr(a,o,o.pendingProps,u),o.child;case 8:return tr(a,o,o.pendingProps.children,u),o.child;case 12:return tr(a,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,ea(o,o.type,p.value),tr(a,o,p.children,u),o.child;case 9:return v=o.type._context,p=o.pendingProps.children,Qa(o),v=er(v),p=p(v),o.flags|=1,tr(a,o,p,u),o.child;case 14:return Qy(a,o,o.type,o.pendingProps,u);case 15:return Zy(a,o,o.type,o.pendingProps,u);case 19:return lb(a,o,u);case 31:return h5(a,o,u);case 22:return Jy(a,o,u,o.pendingProps);case 24:return Qa(o),p=er(An),a===null?(v=lm(),v===null&&(v=Xt,y=sm(),v.pooledCache=y,y.refCount++,y!==null&&(v.pooledCacheLanes|=u),v=y),o.memoizedState={parent:p,cache:v},cm(o),ea(o,An,v)):((a.lanes&u)!==0&&(fm(a,o),Ec(o,null,null,u),wc()),v=a.memoizedState,y=o.memoizedState,v.parent!==p?(v={parent:p,cache:p},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),ea(o,An,p)):(p=y.cache,ea(o,An,p),p!==v.cache&&im(o,[An],u,!0))),tr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ts(a){a.flags|=4}function Wm(a,o,u,p,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(Mb())a.flags|=8192;else throw el=Mf,om}else a.flags&=-16777217}function cb(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!C4(o))if(Mb())a.flags|=8192;else throw el=Mf,om}function Zf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Cn():536870912,a.lanes|=o,ao|=o)}function kc(a,o){if(!gt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function en(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=p,a.childLanes=u,o}function p5(a,o,u){var p=o.pendingProps;switch(Jp(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(o),null;case 1:return en(o),null;case 3:return u=o.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),ws(An),ke(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Xl(o)?Ts(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,tm())),en(o),null;case 26:var v=o.type,y=o.memoizedState;return a===null?(Ts(o),y!==null?(en(o),cb(o,y)):(en(o),Wm(o,v,null,p,u))):y?y!==a.memoizedState?(Ts(o),en(o),cb(o,y)):(en(o),o.flags&=-16777217):(a=a.memoizedProps,a!==p&&Ts(o),en(o),Wm(o,v,a,p,u)),null;case 27:if(nt(o),u=te.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&Ts(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return en(o),null}a=L.current,Xl(o)?U2(o):(a=g4(v,p,u),o.stateNode=a,Ts(o))}return en(o),null;case 5:if(nt(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&Ts(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return en(o),null}if(y=L.current,Xl(o))U2(o);else{var _=du(te.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof p.is=="string"?_.createElement("select",{is:p.is}):_.createElement("select"),p.multiple?y.multiple=!0:p.size&&(y.size=p.size);break;default:y=typeof p.is=="string"?_.createElement(v,{is:p.is}):_.createElement(v)}}y[V]=o,y[W]=p;e:for(_=o.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break e;for(;_.sibling===null;){if(_.return===null||_.return===o)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}o.stateNode=y;e:switch(nr(y,v,p),v){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ts(o)}}return en(o),Wm(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==p&&Ts(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(a=te.current,Xl(o)){if(a=o.stateNode,u=o.memoizedProps,p=null,v=Jn,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}a[V]=o,a=!!(a.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||s4(a.nodeValue,u)),a||Js(o,!0)}else a=du(a).createTextNode(p),a[V]=o,o.stateNode=a}return en(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(p=Xl(o),u!==null){if(a===null){if(!p)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[V]=o}else Ya(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;en(o),a=!1}else u=tm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Yr(o),o):(Yr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return en(o),null;case 13:if(p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Xl(o),p!==null&&p.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[V]=o}else Ya(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;en(o),v=!1}else v=tm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Yr(o),o):(Yr(o),null)}return Yr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=p!==null,a=a!==null&&a.memoizedState!==null,u&&(p=o.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool),y=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(y=p.memoizedState.cachePool.pool),y!==v&&(p.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Zf(o,o.updateQueue),en(o),null);case 4:return ke(),a===null&&dg(o.stateNode.containerInfo),en(o),null;case 10:return ws(o.type),en(o),null;case 19:if(O(vn),p=o.memoizedState,p===null)return en(o),null;if(v=(o.flags&128)!==0,y=p.rendering,y===null)if(v)kc(p,!1);else{if(mn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(y=Hf(a),y!==null){for(o.flags|=128,kc(p,!1),a=y.updateQueue,o.updateQueue=a,Zf(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)I2(u,a),u=u.sibling;return P(vn,vn.current&1|2),gt&&bs(o,p.treeForkCount),o.child}a=a.sibling}p.tail!==null&&Oe()>ru&&(o.flags|=128,v=!0,kc(p,!1),o.lanes=4194304)}else{if(!v)if(a=Hf(y),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,Zf(o,a),kc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!gt)return en(o),null}else 2*Oe()-p.renderingStartTime>ru&&u!==536870912&&(o.flags|=128,v=!0,kc(p,!1),o.lanes=4194304);p.isBackwards?(y.sibling=o.child,o.child=y):(a=p.last,a!==null?a.sibling=y:o.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Oe(),a.sibling=null,u=vn.current,P(vn,v?u&1|2:u&1),gt&&bs(o,p.treeForkCount),a):(en(o),null);case 22:case 23:return Yr(o),pm(),p=o.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(en(o),o.subtreeFlags&6&&(o.flags|=8192)):en(o),u=o.updateQueue,u!==null&&Zf(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),a!==null&&O(Za),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ws(An),en(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function m5(a,o){switch(Jp(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ws(An),ke(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return nt(o),null;case 31:if(o.memoizedState!==null){if(Yr(o),o.alternate===null)throw Error(r(340));Ya()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Yr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ya()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return O(vn),null;case 4:return ke(),null;case 10:return ws(o.type),null;case 22:case 23:return Yr(o),pm(),a!==null&&O(Za),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ws(An),null;case 25:return null;default:return null}}function fb(a,o){switch(Jp(o),o.tag){case 3:ws(An),ke();break;case 26:case 27:case 5:nt(o);break;case 4:ke();break;case 31:o.memoizedState!==null&&Yr(o);break;case 13:Yr(o);break;case 19:O(vn);break;case 10:ws(o.type);break;case 22:case 23:Yr(o),pm(),a!==null&&O(Za);break;case 24:ws(An)}}function Oc(a,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&a)===a){p=void 0;var y=u.create,_=u.inst;p=y(),_.destroy=p}u=u.next}while(u!==v)}}catch(H){Ft(o,o.return,H)}}function aa(a,o,u){try{var p=o.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var y=v.next;p=y;do{if((p.tag&a)===a){var _=p.inst,H=_.destroy;if(H!==void 0){_.destroy=void 0,v=o;var Z=u,le=H;try{le()}catch(ye){Ft(v,Z,ye)}}}p=p.next}while(p!==y)}}catch(ye){Ft(o,o.return,ye)}}function ub(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{ty(o,u)}catch(p){Ft(a,a.return,p)}}}function hb(a,o,u){u.props=rl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(p){Ft(a,o,p)}}function Bc(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof u=="function"?a.refCleanup=u(p):u.current=p}}catch(v){Ft(a,o,v)}}function Qi(a,o){var u=a.ref,p=a.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(v){Ft(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Ft(a,o,v)}else u.current=null}function db(a){var o=a.type,u=a.memoizedProps,p=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(v){Ft(a,a.return,v)}}function Gm(a,o,u){try{var p=a.stateNode;I5(p,a.type,u,o),p[W]=o}catch(v){Ft(a,a.return,v)}}function pb(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&da(a.type)||a.tag===4}function Xm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||pb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&da(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function $m(a,o,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=xs));else if(p!==4&&(p===27&&da(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for($m(a,o,u),a=a.sibling;a!==null;)$m(a,o,u),a=a.sibling}function Jf(a,o,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(p!==4&&(p===27&&da(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Jf(a,o,u),a=a.sibling;a!==null;)Jf(a,o,u),a=a.sibling}function mb(a){var o=a.stateNode,u=a.memoizedProps;try{for(var p=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);nr(o,p,u),o[V]=a,o[W]=u}catch(y){Ft(a,a.return,y)}}var _s=!1,Dn=!1,Ym=!1,gb=typeof WeakSet=="function"?WeakSet:Set,Vn=null;function g5(a,o){if(a=a.containerInfo,gg=bu,a=D2(a),Up(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,y=p.focusNode;p=p.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var _=0,H=-1,Z=-1,le=0,ye=0,_e=a,he=null;t:for(;;){for(var me;_e!==u||v!==0&&_e.nodeType!==3||(H=_+v),_e!==y||p!==0&&_e.nodeType!==3||(Z=_+p),_e.nodeType===3&&(_+=_e.nodeValue.length),(me=_e.firstChild)!==null;)he=_e,_e=me;for(;;){if(_e===a)break t;if(he===u&&++le===v&&(H=_),he===y&&++ye===p&&(Z=_),(me=_e.nextSibling)!==null)break;_e=he,he=_e.parentNode}_e=me}u=H===-1||Z===-1?null:{start:H,end:Z}}else u=null}u=u||{start:0,end:0}}else u=null;for(xg={focusedElem:a,selectionRange:u},bu=!1,Vn=o;Vn!==null;)if(o=Vn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Vn=a;else for(;Vn!==null;){switch(o=Vn,y=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,u=o,v=y.memoizedProps,y=y.memoizedState,p=u.stateNode;try{var $e=rl(u.type,v);a=p.getSnapshotBeforeUpdate($e,y),p.__reactInternalSnapshotBeforeUpdate=a}catch(tt){Ft(u,u.return,tt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)bg(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":bg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Vn=a;break}Vn=o.return}}function xb(a,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:ks(a,u),p&4&&Oc(5,u);break;case 1:if(ks(a,u),p&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(_){Ft(u,u.return,_)}else{var v=rl(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(_){Ft(u,u.return,_)}}p&64&&ub(u),p&512&&Bc(u,u.return);break;case 3:if(ks(a,u),p&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{ty(a,o)}catch(_){Ft(u,u.return,_)}}break;case 27:o===null&&p&4&&mb(u);case 26:case 5:ks(a,u),o===null&&p&4&&db(u),p&512&&Bc(u,u.return);break;case 12:ks(a,u);break;case 31:ks(a,u),p&4&&bb(a,u);break;case 13:ks(a,u),p&4&&Sb(a,u),p&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=A5.bind(null,u),W5(a,u))));break;case 22:if(p=u.memoizedState!==null||_s,!p){o=o!==null&&o.memoizedState!==null||Dn,v=_s;var y=Dn;_s=p,(Dn=o)&&!y?Os(a,u,(u.subtreeFlags&8772)!==0):ks(a,u),_s=v,Dn=y}break;case 30:break;default:ks(a,u)}}function vb(a){var o=a.alternate;o!==null&&(a.alternate=null,vb(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Re(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var on=null,Nr=!1;function Ds(a,o,u){for(u=u.child;u!==null;)yb(a,o,u),u=u.sibling}function yb(a,o,u){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(zn,u)}catch{}switch(u.tag){case 26:Dn||Qi(u,o),Ds(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Dn||Qi(u,o);var p=on,v=Nr;da(u.type)&&(on=u.stateNode,Nr=!1),Ds(a,o,u),zc(u.stateNode),on=p,Nr=v;break;case 5:Dn||Qi(u,o);case 6:if(p=on,v=Nr,on=null,Ds(a,o,u),on=p,Nr=v,on!==null)if(Nr)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(u.stateNode)}catch(y){Ft(u,o,y)}else try{on.removeChild(u.stateNode)}catch(y){Ft(u,o,y)}break;case 18:on!==null&&(Nr?(a=on,u4(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),mo(a)):u4(on,u.stateNode));break;case 4:p=on,v=Nr,on=u.stateNode.containerInfo,Nr=!0,Ds(a,o,u),on=p,Nr=v;break;case 0:case 11:case 14:case 15:aa(2,u,o),Dn||aa(4,u,o),Ds(a,o,u);break;case 1:Dn||(Qi(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&hb(u,o,p)),Ds(a,o,u);break;case 21:Ds(a,o,u);break;case 22:Dn=(p=Dn)||u.memoizedState!==null,Ds(a,o,u),Dn=p;break;default:Ds(a,o,u)}}function bb(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{mo(a)}catch(u){Ft(o,o.return,u)}}}function Sb(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{mo(a)}catch(u){Ft(o,o.return,u)}}function x5(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new gb),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new gb),o;default:throw Error(r(435,a.tag))}}function eu(a,o){var u=x5(a);o.forEach(function(p){if(!u.has(p)){u.add(p);var v=T5.bind(null,a,p);p.then(v,v)}})}function Rr(a,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p],y=a,_=o,H=_;e:for(;H!==null;){switch(H.tag){case 27:if(da(H.type)){on=H.stateNode,Nr=!1;break e}break;case 5:on=H.stateNode,Nr=!1;break e;case 3:case 4:on=H.stateNode.containerInfo,Nr=!0;break e}H=H.return}if(on===null)throw Error(r(160));yb(y,_,v),on=null,Nr=!1,y=v.alternate,y!==null&&(y.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)wb(o,a),o=o.sibling}var Ni=null;function wb(a,o){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Rr(o,a),Fr(a),p&4&&(aa(3,a,a.return),Oc(3,a),aa(5,a,a.return));break;case 1:Rr(o,a),Fr(a),p&512&&(Dn||u===null||Qi(u,u.return)),p&64&&_s&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var v=Ni;if(Rr(o,a),Fr(a),p&512&&(Dn||u===null||Qi(u,u.return)),p&4){var y=u!==null?u.memoizedState:null;if(p=a.memoizedState,u===null)if(p===null)if(a.stateNode===null){e:{p=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":y=v.getElementsByTagName("title")[0],(!y||y[de]||y[V]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=v.createElement(p),v.head.insertBefore(y,v.querySelector("head > title"))),nr(y,p,u),y[V]=a,Ye(y),p=y;break e;case"link":var _=w4("link","href",v).get(p+(u.href||""));if(_){for(var H=0;H<_.length;H++)if(y=_[H],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){_.splice(H,1);break t}}y=v.createElement(p),nr(y,p,u),v.head.appendChild(y);break;case"meta":if(_=w4("meta","content",v).get(p+(u.content||""))){for(H=0;H<_.length;H++)if(y=_[H],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){_.splice(H,1);break t}}y=v.createElement(p),nr(y,p,u),v.head.appendChild(y);break;default:throw Error(r(468,p))}y[V]=a,Ye(y),p=y}a.stateNode=p}else E4(v,a.type,a.stateNode);else a.stateNode=S4(v,p,a.memoizedProps);else y!==p?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,p===null?E4(v,a.type,a.stateNode):S4(v,p,a.memoizedProps)):p===null&&a.stateNode!==null&&Gm(a,a.memoizedProps,u.memoizedProps)}break;case 27:Rr(o,a),Fr(a),p&512&&(Dn||u===null||Qi(u,u.return)),u!==null&&p&4&&Gm(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Rr(o,a),Fr(a),p&512&&(Dn||u===null||Qi(u,u.return)),a.flags&32){v=a.stateNode;try{Il(v,"")}catch($e){Ft(a,a.return,$e)}}p&4&&a.stateNode!=null&&(v=a.memoizedProps,Gm(a,v,u!==null?u.memoizedProps:v)),p&1024&&(Ym=!0);break;case 6:if(Rr(o,a),Fr(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,u=a.stateNode;try{u.nodeValue=p}catch($e){Ft(a,a.return,$e)}}break;case 3:if(gu=null,v=Ni,Ni=pu(o.containerInfo),Rr(o,a),Ni=v,Fr(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{mo(o.containerInfo)}catch($e){Ft(a,a.return,$e)}Ym&&(Ym=!1,Eb(a));break;case 4:p=Ni,Ni=pu(a.stateNode.containerInfo),Rr(o,a),Fr(a),Ni=p;break;case 12:Rr(o,a),Fr(a);break;case 31:Rr(o,a),Fr(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,eu(a,p)));break;case 13:Rr(o,a),Fr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(nu=Oe()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,eu(a,p)));break;case 22:v=a.memoizedState!==null;var Z=u!==null&&u.memoizedState!==null,le=_s,ye=Dn;if(_s=le||v,Dn=ye||Z,Rr(o,a),Dn=ye,_s=le,Fr(a),p&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||Z||_s||Dn||il(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){Z=u=o;try{if(y=Z.stateNode,v)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{H=Z.stateNode;var _e=Z.memoizedProps.style,he=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;H.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch($e){Ft(Z,Z.return,$e)}}}else if(o.tag===6){if(u===null){Z=o;try{Z.stateNode.nodeValue=v?"":Z.memoizedProps}catch($e){Ft(Z,Z.return,$e)}}}else if(o.tag===18){if(u===null){Z=o;try{var me=Z.stateNode;v?h4(me,!0):h4(Z.stateNode,!1)}catch($e){Ft(Z,Z.return,$e)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=a.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,eu(a,u))));break;case 19:Rr(o,a),Fr(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,eu(a,p)));break;case 30:break;case 21:break;default:Rr(o,a),Fr(a)}}function Fr(a){var o=a.flags;if(o&2){try{for(var u,p=a.return;p!==null;){if(pb(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,y=Xm(a);Jf(a,y,v);break;case 5:var _=u.stateNode;u.flags&32&&(Il(_,""),u.flags&=-33);var H=Xm(a);Jf(a,H,_);break;case 3:case 4:var Z=u.stateNode.containerInfo,le=Xm(a);$m(a,le,Z);break;default:throw Error(r(161))}}catch(ye){Ft(a,a.return,ye)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function Eb(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;Eb(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function ks(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)xb(a,o.alternate,o),o=o.sibling}function il(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:aa(4,o,o.return),il(o);break;case 1:Qi(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&hb(o,o.return,u),il(o);break;case 27:zc(o.stateNode);case 26:case 5:Qi(o,o.return),il(o);break;case 22:o.memoizedState===null&&il(o);break;case 30:il(o);break;default:il(o)}a=a.sibling}}function Os(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,v=a,y=o,_=y.flags;switch(y.tag){case 0:case 11:case 15:Os(v,y,u),Oc(4,y);break;case 1:if(Os(v,y,u),p=y,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(le){Ft(p,p.return,le)}if(p=y,v=p.updateQueue,v!==null){var H=p.stateNode;try{var Z=v.shared.hiddenCallbacks;if(Z!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Z.length;v++)ey(Z[v],H)}catch(le){Ft(p,p.return,le)}}u&&_&64&&ub(y),Bc(y,y.return);break;case 27:mb(y);case 26:case 5:Os(v,y,u),u&&p===null&&_&4&&db(y),Bc(y,y.return);break;case 12:Os(v,y,u);break;case 31:Os(v,y,u),u&&_&4&&bb(v,y);break;case 13:Os(v,y,u),u&&_&4&&Sb(v,y);break;case 22:y.memoizedState===null&&Os(v,y,u),Bc(y,y.return);break;case 30:break;default:Os(v,y,u)}o=o.sibling}}function Km(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&xc(u))}function Qm(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&xc(a))}function Ri(a,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Cb(a,o,u,p),o=o.sibling}function Cb(a,o,u,p){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Ri(a,o,u,p),v&2048&&Oc(9,o);break;case 1:Ri(a,o,u,p);break;case 3:Ri(a,o,u,p),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&xc(a)));break;case 12:if(v&2048){Ri(a,o,u,p),a=o.stateNode;try{var y=o.memoizedProps,_=y.id,H=y.onPostCommit;typeof H=="function"&&H(_,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Z){Ft(o,o.return,Z)}}else Ri(a,o,u,p);break;case 31:Ri(a,o,u,p);break;case 13:Ri(a,o,u,p);break;case 23:break;case 22:y=o.stateNode,_=o.alternate,o.memoizedState!==null?y._visibility&2?Ri(a,o,u,p):Nc(a,o):y._visibility&2?Ri(a,o,u,p):(y._visibility|=2,ro(a,o,u,p,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Km(_,o);break;case 24:Ri(a,o,u,p),v&2048&&Qm(o.alternate,o);break;default:Ri(a,o,u,p)}}function ro(a,o,u,p,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var y=a,_=o,H=u,Z=p,le=_.flags;switch(_.tag){case 0:case 11:case 15:ro(y,_,H,Z,v),Oc(8,_);break;case 23:break;case 22:var ye=_.stateNode;_.memoizedState!==null?ye._visibility&2?ro(y,_,H,Z,v):Nc(y,_):(ye._visibility|=2,ro(y,_,H,Z,v)),v&&le&2048&&Km(_.alternate,_);break;case 24:ro(y,_,H,Z,v),v&&le&2048&&Qm(_.alternate,_);break;default:ro(y,_,H,Z,v)}o=o.sibling}}function Nc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,p=o,v=p.flags;switch(p.tag){case 22:Nc(u,p),v&2048&&Km(p.alternate,p);break;case 24:Nc(u,p),v&2048&&Qm(p.alternate,p);break;default:Nc(u,p)}o=o.sibling}}var Rc=8192;function io(a,o,u){if(a.subtreeFlags&Rc)for(a=a.child;a!==null;)Ab(a,o,u),a=a.sibling}function Ab(a,o,u){switch(a.tag){case 26:io(a,o,u),a.flags&Rc&&a.memoizedState!==null&&rD(u,Ni,a.memoizedState,a.memoizedProps);break;case 5:io(a,o,u);break;case 3:case 4:var p=Ni;Ni=pu(a.stateNode.containerInfo),io(a,o,u),Ni=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Rc,Rc=16777216,io(a,o,u),Rc=p):io(a,o,u));break;default:io(a,o,u)}}function Tb(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Fc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Vn=p,Db(p,a)}Tb(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)_b(a),a=a.sibling}function _b(a){switch(a.tag){case 0:case 11:case 15:Fc(a),a.flags&2048&&aa(9,a,a.return);break;case 3:Fc(a);break;case 12:Fc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,tu(a)):Fc(a);break;default:Fc(a)}}function tu(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Vn=p,Db(p,a)}Tb(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:aa(8,o,o.return),tu(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,tu(o));break;default:tu(o)}a=a.sibling}}function Db(a,o){for(;Vn!==null;){var u=Vn;switch(u.tag){case 0:case 11:case 15:aa(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:xc(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Vn=p;else e:for(u=a;Vn!==null;){p=Vn;var v=p.sibling,y=p.return;if(vb(p),p===u){Vn=null;break e}if(v!==null){v.return=y,Vn=v;break e}Vn=y}}}var v5={getCacheForType:function(a){var o=er(An),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return er(An).controller.signal}},y5=typeof WeakMap=="function"?WeakMap:Map,kt=0,Xt=null,ut=null,dt=0,Rt=0,Kr=null,la=!1,so=!1,Zm=!1,Bs=0,mn=0,oa=0,sl=0,Jm=0,Qr=0,ao=0,Mc=null,Mr=null,eg=!1,nu=0,kb=0,ru=1/0,iu=null,ca=null,Mn=0,fa=null,lo=null,Ns=0,tg=0,ng=null,Ob=null,Lc=0,rg=null;function Zr(){return(kt&2)!==0&&dt!==0?dt&-dt:J.T!==null?cg():M()}function Bb(){if(Qr===0)if((dt&536870912)===0||gt){var a=Xi;Xi<<=1,(Xi&3932160)===0&&(Xi=262144),Qr=a}else Qr=536870912;return a=$r.current,a!==null&&(a.flags|=32),Qr}function Lr(a,o,u){(a===Xt&&(Rt===2||Rt===9)||a.cancelPendingCommit!==null)&&(oo(a,0),ua(a,dt,Qr,!1)),Zn(a,u),((kt&2)===0||a!==Xt)&&(a===Xt&&((kt&2)===0&&(sl|=u),mn===4&&ua(a,dt,Qr,!1)),Zi(a))}function Nb(a,o,u){if((kt&6)!==0)throw Error(r(327));var p=!u&&(o&127)===0&&(o&a.expiredLanes)===0||jn(a,o),v=p?w5(a,o):sg(a,o,!0),y=p;do{if(v===0){so&&!p&&ua(a,o,0,!1);break}else{if(u=a.current.alternate,y&&!b5(u)){v=sg(a,o,!1),y=!1;continue}if(v===2){if(y=o,a.errorRecoveryDisabledLanes&y)var _=0;else _=a.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){o=_;e:{var H=a;v=Mc;var Z=H.current.memoizedState.isDehydrated;if(Z&&(oo(H,_).flags|=256),_=sg(H,_,!1),_!==2){if(Zm&&!Z){H.errorRecoveryDisabledLanes|=y,sl|=y,v=4;break e}y=Mr,Mr=v,y!==null&&(Mr===null?Mr=y:Mr.push.apply(Mr,y))}v=_}if(y=!1,v!==2)continue}}if(v===1){oo(a,0),ua(a,o,0,!0);break}e:{switch(p=a,y=v,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:ua(p,o,Qr,!la);break e;case 2:Mr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=nu+300-Oe(),10<v)){if(ua(p,o,Qr,!la),dn(p,0,!0)!==0)break e;Ns=o,p.timeoutHandle=c4(Rb.bind(null,p,u,Mr,iu,eg,o,Qr,sl,ao,la,y,"Throttled",-0,0),v);break e}Rb(p,u,Mr,iu,eg,o,Qr,sl,ao,la,y,null,-0,0)}}break}while(!0);Zi(a)}function Rb(a,o,u,p,v,y,_,H,Z,le,ye,_e,he,me){if(a.timeoutHandle=-1,_e=o.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xs},Ab(o,y,_e);var $e=(y&62914560)===y?nu-Oe():(y&4194048)===y?kb-Oe():0;if($e=iD(_e,$e),$e!==null){Ns=y,a.cancelPendingCommit=$e(jb.bind(null,a,o,y,u,p,v,_,H,Z,ye,_e,null,he,me)),ua(a,y,_,!le);return}}jb(a,o,y,u,p,v,_,H,Z)}function b5(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var v=u[p],y=v.getSnapshot;v=v.value;try{if(!Gr(y(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ua(a,o,u,p){o&=~Jm,o&=~sl,a.suspendedLanes|=o,a.pingedLanes&=~o,p&&(a.warmLanes|=o),p=a.expirationTimes;for(var v=o;0<v;){var y=31-En(v),_=1<<y;p[y]=-1,v&=~_}u!==0&&dr(a,u,o)}function su(){return(kt&6)===0?(Ic(0),!1):!0}function ig(){if(ut!==null){if(Rt===0)var a=ut.return;else a=ut,Ss=Ka=null,bm(a),Zl=null,yc=0,a=ut;for(;a!==null;)fb(a.alternate,a),a=a.return;ut=null}}function oo(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,z5(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ns=0,ig(),Xt=a,ut=u=ys(a.current,null),dt=o,Rt=0,Kr=null,la=!1,so=jn(a,o),Zm=!1,ao=Qr=Jm=sl=oa=mn=0,Mr=Mc=null,eg=!1,(o&8)!==0&&(o|=o&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=o;0<p;){var v=31-En(p),y=1<<v;o|=a[v],p&=~y}return Bs=o,Tf(),u}function Fb(a,o){at=null,J.H=_c,o===Ql||o===Ff?(o=K2(),Rt=3):o===om?(o=K2(),Rt=4):Rt=o===Lm?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Kr=o,ut===null&&(mn=1,$f(a,di(o,a.current)))}function Mb(){var a=$r.current;return a===null?!0:(dt&4194048)===dt?xi===null:(dt&62914560)===dt||(dt&536870912)!==0?a===xi:!1}function Lb(){var a=J.H;return J.H=_c,a===null?_c:a}function Ib(){var a=J.A;return J.A=v5,a}function au(){mn=4,la||(dt&4194048)!==dt&&$r.current!==null||(so=!0),(oa&134217727)===0&&(sl&134217727)===0||Xt===null||ua(Xt,dt,Qr,!1)}function sg(a,o,u){var p=kt;kt|=2;var v=Lb(),y=Ib();(Xt!==a||dt!==o)&&(iu=null,oo(a,o)),o=!1;var _=mn;e:do try{if(Rt!==0&&ut!==null){var H=ut,Z=Kr;switch(Rt){case 8:ig(),_=6;break e;case 3:case 2:case 9:case 6:$r.current===null&&(o=!0);var le=Rt;if(Rt=0,Kr=null,co(a,H,Z,le),u&&so){_=0;break e}break;default:le=Rt,Rt=0,Kr=null,co(a,H,Z,le)}}S5(),_=mn;break}catch(ye){Fb(a,ye)}while(!0);return o&&a.shellSuspendCounter++,Ss=Ka=null,kt=p,J.H=v,J.A=y,ut===null&&(Xt=null,dt=0,Tf()),_}function S5(){for(;ut!==null;)Pb(ut)}function w5(a,o){var u=kt;kt|=2;var p=Lb(),v=Ib();Xt!==a||dt!==o?(iu=null,ru=Oe()+500,oo(a,o)):so=jn(a,o);e:do try{if(Rt!==0&&ut!==null){o=ut;var y=Kr;t:switch(Rt){case 1:Rt=0,Kr=null,co(a,o,y,1);break;case 2:case 9:if($2(y)){Rt=0,Kr=null,Hb(o);break}o=function(){Rt!==2&&Rt!==9||Xt!==a||(Rt=7),Zi(a)},y.then(o,o);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:$2(y)?(Rt=0,Kr=null,Hb(o)):(Rt=0,Kr=null,co(a,o,y,7));break;case 5:var _=null;switch(ut.tag){case 26:_=ut.memoizedState;case 5:case 27:var H=ut;if(_?C4(_):H.stateNode.complete){Rt=0,Kr=null;var Z=H.sibling;if(Z!==null)ut=Z;else{var le=H.return;le!==null?(ut=le,lu(le)):ut=null}break t}}Rt=0,Kr=null,co(a,o,y,5);break;case 6:Rt=0,Kr=null,co(a,o,y,6);break;case 8:ig(),mn=6;break e;default:throw Error(r(462))}}E5();break}catch(ye){Fb(a,ye)}while(!0);return Ss=Ka=null,J.H=p,J.A=v,kt=u,ut!==null?0:(Xt=null,dt=0,Tf(),mn)}function E5(){for(;ut!==null&&!Ct();)Pb(ut)}function Pb(a){var o=ob(a.alternate,a,Bs);a.memoizedProps=a.pendingProps,o===null?lu(a):ut=o}function Hb(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=nb(u,o,o.pendingProps,o.type,void 0,dt);break;case 11:o=nb(u,o,o.pendingProps,o.type.render,o.ref,dt);break;case 5:bm(o);default:fb(u,o),o=ut=I2(o,Bs),o=ob(u,o,Bs)}a.memoizedProps=a.pendingProps,o===null?lu(a):ut=o}function co(a,o,u,p){Ss=Ka=null,bm(o),Zl=null,yc=0;var v=o.return;try{if(u5(a,v,o,u,dt)){mn=1,$f(a,di(u,a.current)),ut=null;return}}catch(y){if(v!==null)throw ut=v,y;mn=1,$f(a,di(u,a.current)),ut=null;return}o.flags&32768?(gt||p===1?a=!0:so||(dt&536870912)!==0?a=!1:(la=a=!0,(p===2||p===9||p===3||p===6)&&(p=$r.current,p!==null&&p.tag===13&&(p.flags|=16384))),zb(o,a)):lu(o)}function lu(a){var o=a;do{if((o.flags&32768)!==0){zb(o,la);return}a=o.return;var u=p5(o.alternate,o,Bs);if(u!==null){ut=u;return}if(o=o.sibling,o!==null){ut=o;return}ut=o=a}while(o!==null);mn===0&&(mn=5)}function zb(a,o){do{var u=m5(a.alternate,a);if(u!==null){u.flags&=32767,ut=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){ut=a;return}ut=a=u}while(a!==null);mn=6,ut=null}function jb(a,o,u,p,v,y,_,H,Z){a.cancelPendingCommit=null;do ou();while(Mn!==0);if((kt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(y=o.lanes|o.childLanes,y|=Xp,un(a,u,y,_,H,Z),a===Xt&&(ut=Xt=null,dt=0),lo=o,fa=a,Ns=u,tg=y,ng=v,Ob=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,_5(Ze,function(){return Gb(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=J.T,J.T=null,v=ie.p,ie.p=2,_=kt,kt|=4;try{g5(a,o,u)}finally{kt=_,ie.p=v,J.T=p}}Mn=1,Ub(),Vb(),qb()}}function Ub(){if(Mn===1){Mn=0;var a=fa,o=lo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=J.T,J.T=null;var p=ie.p;ie.p=2;var v=kt;kt|=4;try{wb(o,a);var y=xg,_=D2(a.containerInfo),H=y.focusedElem,Z=y.selectionRange;if(_!==H&&H&&H.ownerDocument&&_2(H.ownerDocument.documentElement,H)){if(Z!==null&&Up(H)){var le=Z.start,ye=Z.end;if(ye===void 0&&(ye=le),"selectionStart"in H)H.selectionStart=le,H.selectionEnd=Math.min(ye,H.value.length);else{var _e=H.ownerDocument||document,he=_e&&_e.defaultView||window;if(he.getSelection){var me=he.getSelection(),$e=H.textContent.length,tt=Math.min(Z.start,$e),Ut=Z.end===void 0?tt:Math.min(Z.end,$e);!me.extend&&tt>Ut&&(_=Ut,Ut=tt,tt=_);var re=T2(H,tt),ee=T2(H,Ut);if(re&&ee&&(me.rangeCount!==1||me.anchorNode!==re.node||me.anchorOffset!==re.offset||me.focusNode!==ee.node||me.focusOffset!==ee.offset)){var ae=_e.createRange();ae.setStart(re.node,re.offset),me.removeAllRanges(),tt>Ut?(me.addRange(ae),me.extend(ee.node,ee.offset)):(ae.setEnd(ee.node,ee.offset),me.addRange(ae))}}}}for(_e=[],me=H;me=me.parentNode;)me.nodeType===1&&_e.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<_e.length;H++){var Te=_e[H];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}bu=!!gg,xg=gg=null}finally{kt=v,ie.p=p,J.T=u}}a.current=o,Mn=2}}function Vb(){if(Mn===2){Mn=0;var a=fa,o=lo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=J.T,J.T=null;var p=ie.p;ie.p=2;var v=kt;kt|=4;try{xb(a,o.alternate,o)}finally{kt=v,ie.p=p,J.T=u}}Mn=3}}function qb(){if(Mn===4||Mn===3){Mn=0,ge();var a=fa,o=lo,u=Ns,p=Ob;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Mn=5:(Mn=0,lo=fa=null,Wb(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(ca=null),Wr(u),o=o.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(zn,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=J.T,v=ie.p,ie.p=2,J.T=null;try{for(var y=a.onRecoverableError,_=0;_<p.length;_++){var H=p[_];y(H.value,{componentStack:H.stack})}}finally{J.T=o,ie.p=v}}(Ns&3)!==0&&ou(),Zi(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===rg?Lc++:(Lc=0,rg=a):Lc=0,Ic(0)}}function Wb(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,xc(o)))}function ou(){return Ub(),Vb(),qb(),Gb()}function Gb(){if(Mn!==5)return!1;var a=fa,o=tg;tg=0;var u=Wr(Ns),p=J.T,v=ie.p;try{ie.p=32>u?32:u,J.T=null,u=ng,ng=null;var y=fa,_=Ns;if(Mn=0,lo=fa=null,Ns=0,(kt&6)!==0)throw Error(r(331));var H=kt;if(kt|=4,_b(y.current),Cb(y,y.current,_,u),kt=H,Ic(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(zn,y)}catch{}return!0}finally{ie.p=v,J.T=p,Wb(a,o)}}function Xb(a,o,u){o=di(u,o),o=Mm(a.stateNode,o,2),a=ra(a,o,2),a!==null&&(Zn(a,2),Zi(a))}function Ft(a,o,u){if(a.tag===3)Xb(a,a,u);else for(;o!==null;){if(o.tag===3){Xb(o,a,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ca===null||!ca.has(p))){a=di(u,a),u=$y(2),p=ra(o,u,2),p!==null&&(Yy(u,p,o,a),Zn(p,2),Zi(p));break}}o=o.return}}function ag(a,o,u){var p=a.pingCache;if(p===null){p=a.pingCache=new y5;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(u)||(Zm=!0,v.add(u),a=C5.bind(null,a,o,u),o.then(a,a))}function C5(a,o,u){var p=a.pingCache;p!==null&&p.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Xt===a&&(dt&u)===u&&(mn===4||mn===3&&(dt&62914560)===dt&&300>Oe()-nu?(kt&2)===0&&oo(a,0):Jm|=u,ao===dt&&(ao=0)),Zi(a)}function $b(a,o){o===0&&(o=Cn()),a=Xa(a,o),a!==null&&(Zn(a,o),Zi(a))}function A5(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),$b(a,u)}function T5(a,o){var u=0;switch(a.tag){case 31:case 13:var p=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),$b(a,u)}function _5(a,o){return Et(a,o)}var cu=null,fo=null,lg=!1,fu=!1,og=!1,ha=0;function Zi(a){a!==fo&&a.next===null&&(fo===null?cu=fo=a:fo=fo.next=a),fu=!0,lg||(lg=!0,k5())}function Ic(a,o){if(!og&&fu){og=!0;do for(var u=!1,p=cu;p!==null;){if(a!==0){var v=p.pendingLanes;if(v===0)var y=0;else{var _=p.suspendedLanes,H=p.pingedLanes;y=(1<<31-En(42|a)+1)-1,y&=v&~(_&~H),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,Zb(p,y))}else y=dt,y=dn(p,p===Xt?y:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(y&3)===0||jn(p,y)||(u=!0,Zb(p,y));p=p.next}while(u);og=!1}}function D5(){Yb()}function Yb(){fu=lg=!1;var a=0;ha!==0&&H5()&&(a=ha);for(var o=Oe(),u=null,p=cu;p!==null;){var v=p.next,y=Kb(p,o);y===0?(p.next=null,u===null?cu=v:u.next=v,v===null&&(fo=u)):(u=p,(a!==0||(y&3)!==0)&&(fu=!0)),p=v}Mn!==0&&Mn!==5||Ic(a),ha!==0&&(ha=0)}function Kb(a,o){for(var u=a.suspendedLanes,p=a.pingedLanes,v=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var _=31-En(y),H=1<<_,Z=v[_];Z===-1?((H&u)===0||(H&p)!==0)&&(v[_]=Fn(H,o)):Z<=o&&(a.expiredLanes|=H),y&=~H}if(o=Xt,u=dt,u=dn(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,u===0||a===o&&(Rt===2||Rt===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&bt(p),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||jn(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(p!==null&&bt(p),Wr(u)){case 2:case 8:u=Xe;break;case 32:u=Ze;break;case 268435456:u=Wt;break;default:u=Ze}return p=Qb.bind(null,a),u=Et(u,p),a.callbackPriority=o,a.callbackNode=u,o}return p!==null&&p!==null&&bt(p),a.callbackPriority=2,a.callbackNode=null,2}function Qb(a,o){if(Mn!==0&&Mn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(ou()&&a.callbackNode!==u)return null;var p=dt;return p=dn(a,a===Xt?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(Nb(a,p,o),Kb(a,Oe()),a.callbackNode!=null&&a.callbackNode===u?Qb.bind(null,a):null)}function Zb(a,o){if(ou())return null;Nb(a,o,!0)}function k5(){j5(function(){(kt&6)!==0?Et(Ne,D5):Yb()})}function cg(){if(ha===0){var a=Yl;a===0&&(a=oi,oi<<=1,(oi&261888)===0&&(oi=256)),ha=a}return ha}function Jb(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:vf(""+a)}function e4(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function O5(a,o,u,p,v){if(o==="submit"&&u&&u.stateNode===v){var y=Jb((v[W]||null).action),_=p.submitter;_&&(o=(o=_[W]||null)?Jb(o.formAction):_.getAttribute("formAction"),o!==null&&(y=o,_=null));var H=new wf("action","action",null,p,v);a.push({event:H,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ha!==0){var Z=_?e4(v,_):new FormData(v);km(u,{pending:!0,data:Z,method:v.method,action:y},null,Z)}}else typeof y=="function"&&(H.preventDefault(),Z=_?e4(v,_):new FormData(v),km(u,{pending:!0,data:Z,method:v.method,action:y},y,Z))},currentTarget:v}]})}}for(var fg=0;fg<Gp.length;fg++){var ug=Gp[fg],B5=ug.toLowerCase(),N5=ug[0].toUpperCase()+ug.slice(1);Bi(B5,"on"+N5)}Bi(B2,"onAnimationEnd"),Bi(N2,"onAnimationIteration"),Bi(R2,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi($_,"onTransitionRun"),Bi(Y_,"onTransitionStart"),Bi(K_,"onTransitionCancel"),Bi(F2,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pc));function t4(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],v=p.event;p=p.listeners;e:{var y=void 0;if(o)for(var _=p.length-1;0<=_;_--){var H=p[_],Z=H.instance,le=H.currentTarget;if(H=H.listener,Z!==y&&v.isPropagationStopped())break e;y=H,v.currentTarget=le;try{y(v)}catch(ye){Af(ye)}v.currentTarget=null,y=Z}else for(_=0;_<p.length;_++){if(H=p[_],Z=H.instance,le=H.currentTarget,H=H.listener,Z!==y&&v.isPropagationStopped())break e;y=H,v.currentTarget=le;try{y(v)}catch(ye){Af(ye)}v.currentTarget=null,y=Z}}}}function ht(a,o){var u=o[ce];u===void 0&&(u=o[ce]=new Set);var p=a+"__bubble";u.has(p)||(n4(o,a,2,!1),u.add(p))}function hg(a,o,u){var p=0;o&&(p|=4),n4(u,a,p,o)}var uu="_reactListening"+Math.random().toString(36).slice(2);function dg(a){if(!a[uu]){a[uu]=!0,Qt.forEach(function(u){u!=="selectionchange"&&(R5.has(u)||hg(u,!1,a),hg(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[uu]||(o[uu]=!0,hg("selectionchange",!1,o))}}function n4(a,o,u,p){switch(B4(o)){case 2:var v=lD;break;case 8:v=oD;break;default:v=Dg}u=v.bind(null,o,u,a),v=void 0,!Rp||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function pg(a,o,u,p,v){var y=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var _=p.tag;if(_===3||_===4){var H=p.stateNode.containerInfo;if(H===v)break;if(_===4)for(_=p.return;_!==null;){var Z=_.tag;if((Z===3||Z===4)&&_.stateNode.containerInfo===v)return;_=_.return}for(;H!==null;){if(_=Me(H),_===null)return;if(Z=_.tag,Z===5||Z===6||Z===26||Z===27){p=y=_;continue e}H=H.parentNode}}p=p.return}l2(function(){var le=y,ye=Bp(u),_e=[];e:{var he=M2.get(a);if(he!==void 0){var me=wf,$e=a;switch(a){case"keypress":if(bf(u)===0)break e;case"keydown":case"keyup":me=T_;break;case"focusin":$e="focus",me=Ip;break;case"focusout":$e="blur",me=Ip;break;case"beforeblur":case"afterblur":me=Ip;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=f2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=p_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=k_;break;case B2:case N2:case R2:me=x_;break;case F2:me=B_;break;case"scroll":case"scrollend":me=h_;break;case"wheel":me=R_;break;case"copy":case"cut":case"paste":me=y_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=h2;break;case"toggle":case"beforetoggle":me=M_}var tt=(o&4)!==0,Ut=!tt&&(a==="scroll"||a==="scrollend"),re=tt?he!==null?he+"Capture":null:he;tt=[];for(var ee=le,ae;ee!==null;){var Te=ee;if(ae=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||ae===null||re===null||(Te=ac(ee,re),Te!=null&&tt.push(Hc(ee,Te,ae))),Ut)break;ee=ee.return}0<tt.length&&(he=new me(he,$e,null,u,ye),_e.push({event:he,listeners:tt}))}}if((o&7)===0){e:{if(he=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",he&&u!==Op&&($e=u.relatedTarget||u.fromElement)&&(Me($e)||$e[Y]))break e;if((me||he)&&(he=ye.window===ye?ye:(he=ye.ownerDocument)?he.defaultView||he.parentWindow:window,me?($e=u.relatedTarget||u.toElement,me=le,$e=$e?Me($e):null,$e!==null&&(Ut=s($e),tt=$e.tag,$e!==Ut||tt!==5&&tt!==27&&tt!==6)&&($e=null)):(me=null,$e=le),me!==$e)){if(tt=f2,Te="onMouseLeave",re="onMouseEnter",ee="mouse",(a==="pointerout"||a==="pointerover")&&(tt=h2,Te="onPointerLeave",re="onPointerEnter",ee="pointer"),Ut=me==null?he:Fe(me),ae=$e==null?he:Fe($e),he=new tt(Te,ee+"leave",me,u,ye),he.target=Ut,he.relatedTarget=ae,Te=null,Me(ye)===le&&(tt=new tt(re,ee+"enter",$e,u,ye),tt.target=ae,tt.relatedTarget=Ut,Te=tt),Ut=Te,me&&$e)t:{for(tt=F5,re=me,ee=$e,ae=0,Te=re;Te;Te=tt(Te))ae++;Te=0;for(var Je=ee;Je;Je=tt(Je))Te++;for(;0<ae-Te;)re=tt(re),ae--;for(;0<Te-ae;)ee=tt(ee),Te--;for(;ae--;){if(re===ee||ee!==null&&re===ee.alternate){tt=re;break t}re=tt(re),ee=tt(ee)}tt=null}else tt=null;me!==null&&r4(_e,he,me,tt,!1),$e!==null&&Ut!==null&&r4(_e,Ut,$e,tt,!0)}}e:{if(he=le?Fe(le):window,me=he.nodeName&&he.nodeName.toLowerCase(),me==="select"||me==="input"&&he.type==="file")var At=b2;else if(v2(he))if(S2)At=W_;else{At=V_;var Ke=U_}else me=he.nodeName,!me||me.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?le&&kp(le.elementType)&&(At=b2):At=q_;if(At&&(At=At(a,le))){y2(_e,At,u,ye);break e}Ke&&Ke(a,he,le),a==="focusout"&&le&&he.type==="number"&&le.memoizedProps.value!=null&&Dp(he,"number",he.value)}switch(Ke=le?Fe(le):window,a){case"focusin":(v2(Ke)||Ke.contentEditable==="true")&&(jl=Ke,Vp=le,pc=null);break;case"focusout":pc=Vp=jl=null;break;case"mousedown":qp=!0;break;case"contextmenu":case"mouseup":case"dragend":qp=!1,k2(_e,u,ye);break;case"selectionchange":if(X_)break;case"keydown":case"keyup":k2(_e,u,ye)}var ot;if(Hp)e:{switch(a){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else zl?g2(a,u)&&(pt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(pt="onCompositionStart");pt&&(d2&&u.locale!=="ko"&&(zl||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&zl&&(ot=o2()):(Ks=ye,Fp="value"in Ks?Ks.value:Ks.textContent,zl=!0)),Ke=hu(le,pt),0<Ke.length&&(pt=new u2(pt,a,null,u,ye),_e.push({event:pt,listeners:Ke}),ot?pt.data=ot:(ot=x2(u),ot!==null&&(pt.data=ot)))),(ot=I_?P_(a,u):H_(a,u))&&(pt=hu(le,"onBeforeInput"),0<pt.length&&(Ke=new u2("onBeforeInput","beforeinput",null,u,ye),_e.push({event:Ke,listeners:pt}),Ke.data=ot)),O5(_e,a,le,u,ye)}t4(_e,o)})}function Hc(a,o,u){return{instance:a,listener:o,currentTarget:u}}function hu(a,o){for(var u=o+"Capture",p=[];a!==null;){var v=a,y=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||y===null||(v=ac(a,u),v!=null&&p.unshift(Hc(a,v,y)),v=ac(a,o),v!=null&&p.push(Hc(a,v,y))),a.tag===3)return p;a=a.return}return[]}function F5(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function r4(a,o,u,p,v){for(var y=o._reactName,_=[];u!==null&&u!==p;){var H=u,Z=H.alternate,le=H.stateNode;if(H=H.tag,Z!==null&&Z===p)break;H!==5&&H!==26&&H!==27||le===null||(Z=le,v?(le=ac(u,y),le!=null&&_.unshift(Hc(u,le,Z))):v||(le=ac(u,y),le!=null&&_.push(Hc(u,le,Z)))),u=u.return}_.length!==0&&a.push({event:o,listeners:_})}var M5=/\r\n?/g,L5=/\u0000|\uFFFD/g;function i4(a){return(typeof a=="string"?a:""+a).replace(M5,`
`).replace(L5,"")}function s4(a,o){return o=i4(o),i4(a)===o}function jt(a,o,u,p,v,y){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Il(a,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Il(a,""+p);break;case"className":gf(a,"class",p);break;case"tabIndex":gf(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":gf(a,u,p);break;case"style":s2(a,p,y);break;case"data":if(o!=="object"){gf(a,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=vf(""+p),a.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(o!=="input"&&jt(a,o,"name",v.name,v,null),jt(a,o,"formEncType",v.formEncType,v,null),jt(a,o,"formMethod",v.formMethod,v,null),jt(a,o,"formTarget",v.formTarget,v,null)):(jt(a,o,"encType",v.encType,v,null),jt(a,o,"method",v.method,v,null),jt(a,o,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=vf(""+p),a.setAttribute(u,p);break;case"onClick":p!=null&&(a.onclick=xs);break;case"onScroll":p!=null&&ht("scroll",a);break;case"onScrollEnd":p!=null&&ht("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}u=vf(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""+p):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":p===!0?a.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,p):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(u,p):a.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(u):a.setAttribute(u,p);break;case"popover":ht("beforetoggle",a),ht("toggle",a),Or(a,"popover",p);break;case"xlinkActuate":gs(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":gs(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":gs(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":gs(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":gs(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":gs(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":gs(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":gs(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":gs(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Or(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=f_.get(u)||u,Or(a,u,p))}}function mg(a,o,u,p,v,y){switch(u){case"style":s2(a,p,y);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof p=="string"?Il(a,p):(typeof p=="number"||typeof p=="bigint")&&Il(a,""+p);break;case"onScroll":p!=null&&ht("scroll",a);break;case"onScrollEnd":p!=null&&ht("scrollend",a);break;case"onClick":p!=null&&(a.onclick=xs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zt.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),y=a[W]||null,y=y!=null?y[u]:null,typeof y=="function"&&a.removeEventListener(o,y,v),typeof p=="function")){typeof y!="function"&&y!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,p,v);break e}u in a?a[u]=p:p===!0?a.setAttribute(u,""):Or(a,u,p)}}}function nr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",a),ht("load",a);var p=!1,v=!1,y;for(y in u)if(u.hasOwnProperty(y)){var _=u[y];if(_!=null)switch(y){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:jt(a,o,y,_,u,null)}}v&&jt(a,o,"srcSet",u.srcSet,u,null),p&&jt(a,o,"src",u.src,u,null);return;case"input":ht("invalid",a);var H=y=_=v=null,Z=null,le=null;for(p in u)if(u.hasOwnProperty(p)){var ye=u[p];if(ye!=null)switch(p){case"name":v=ye;break;case"type":_=ye;break;case"checked":Z=ye;break;case"defaultChecked":le=ye;break;case"value":y=ye;break;case"defaultValue":H=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,o));break;default:jt(a,o,p,ye,u,null)}}t2(a,y,H,Z,le,_,v,!1);return;case"select":ht("invalid",a),p=_=y=null;for(v in u)if(u.hasOwnProperty(v)&&(H=u[v],H!=null))switch(v){case"value":y=H;break;case"defaultValue":_=H;break;case"multiple":p=H;default:jt(a,o,v,H,u,null)}o=y,u=_,a.multiple=!!p,o!=null?Ll(a,!!p,o,!1):u!=null&&Ll(a,!!p,u,!0);return;case"textarea":ht("invalid",a),y=v=p=null;for(_ in u)if(u.hasOwnProperty(_)&&(H=u[_],H!=null))switch(_){case"value":p=H;break;case"defaultValue":v=H;break;case"children":y=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:jt(a,o,_,H,u,null)}r2(a,p,v,y);return;case"option":for(Z in u)if(u.hasOwnProperty(Z)&&(p=u[Z],p!=null))switch(Z){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:jt(a,o,Z,p,u,null)}return;case"dialog":ht("beforetoggle",a),ht("toggle",a),ht("cancel",a),ht("close",a);break;case"iframe":case"object":ht("load",a);break;case"video":case"audio":for(p=0;p<Pc.length;p++)ht(Pc[p],a);break;case"image":ht("error",a),ht("load",a);break;case"details":ht("toggle",a);break;case"embed":case"source":case"link":ht("error",a),ht("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in u)if(u.hasOwnProperty(le)&&(p=u[le],p!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:jt(a,o,le,p,u,null)}return;default:if(kp(o)){for(ye in u)u.hasOwnProperty(ye)&&(p=u[ye],p!==void 0&&mg(a,o,ye,p,u,void 0));return}}for(H in u)u.hasOwnProperty(H)&&(p=u[H],p!=null&&jt(a,o,H,p,u,null))}function I5(a,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,y=null,_=null,H=null,Z=null,le=null,ye=null;for(me in u){var _e=u[me];if(u.hasOwnProperty(me)&&_e!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":Z=_e;default:p.hasOwnProperty(me)||jt(a,o,me,null,p,_e)}}for(var he in p){var me=p[he];if(_e=u[he],p.hasOwnProperty(he)&&(me!=null||_e!=null))switch(he){case"type":y=me;break;case"name":v=me;break;case"checked":le=me;break;case"defaultChecked":ye=me;break;case"value":_=me;break;case"defaultValue":H=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,o));break;default:me!==_e&&jt(a,o,he,me,p,_e)}}_p(a,_,H,Z,le,ye,y,v);return;case"select":me=_=H=he=null;for(y in u)if(Z=u[y],u.hasOwnProperty(y)&&Z!=null)switch(y){case"value":break;case"multiple":me=Z;default:p.hasOwnProperty(y)||jt(a,o,y,null,p,Z)}for(v in p)if(y=p[v],Z=u[v],p.hasOwnProperty(v)&&(y!=null||Z!=null))switch(v){case"value":he=y;break;case"defaultValue":H=y;break;case"multiple":_=y;default:y!==Z&&jt(a,o,v,y,p,Z)}o=H,u=_,p=me,he!=null?Ll(a,!!u,he,!1):!!p!=!!u&&(o!=null?Ll(a,!!u,o,!0):Ll(a,!!u,u?[]:"",!1));return;case"textarea":me=he=null;for(H in u)if(v=u[H],u.hasOwnProperty(H)&&v!=null&&!p.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:jt(a,o,H,null,p,v)}for(_ in p)if(v=p[_],y=u[_],p.hasOwnProperty(_)&&(v!=null||y!=null))switch(_){case"value":he=v;break;case"defaultValue":me=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==y&&jt(a,o,_,v,p,y)}n2(a,he,me);return;case"option":for(var $e in u)if(he=u[$e],u.hasOwnProperty($e)&&he!=null&&!p.hasOwnProperty($e))switch($e){case"selected":a.selected=!1;break;default:jt(a,o,$e,null,p,he)}for(Z in p)if(he=p[Z],me=u[Z],p.hasOwnProperty(Z)&&he!==me&&(he!=null||me!=null))switch(Z){case"selected":a.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:jt(a,o,Z,he,p,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in u)he=u[tt],u.hasOwnProperty(tt)&&he!=null&&!p.hasOwnProperty(tt)&&jt(a,o,tt,null,p,he);for(le in p)if(he=p[le],me=u[le],p.hasOwnProperty(le)&&he!==me&&(he!=null||me!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,o));break;default:jt(a,o,le,he,p,me)}return;default:if(kp(o)){for(var Ut in u)he=u[Ut],u.hasOwnProperty(Ut)&&he!==void 0&&!p.hasOwnProperty(Ut)&&mg(a,o,Ut,void 0,p,he);for(ye in p)he=p[ye],me=u[ye],!p.hasOwnProperty(ye)||he===me||he===void 0&&me===void 0||mg(a,o,ye,he,p,me);return}}for(var re in u)he=u[re],u.hasOwnProperty(re)&&he!=null&&!p.hasOwnProperty(re)&&jt(a,o,re,null,p,he);for(_e in p)he=p[_e],me=u[_e],!p.hasOwnProperty(_e)||he===me||he==null&&me==null||jt(a,o,_e,he,p,me)}function a4(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function P5(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var v=u[p],y=v.transferSize,_=v.initiatorType,H=v.duration;if(y&&H&&a4(_)){for(_=0,H=v.responseEnd,p+=1;p<u.length;p++){var Z=u[p],le=Z.startTime;if(le>H)break;var ye=Z.transferSize,_e=Z.initiatorType;ye&&a4(_e)&&(Z=Z.responseEnd,_+=ye*(Z<H?1:(H-le)/(Z-le)))}if(--p,o+=8*(y+_)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var gg=null,xg=null;function du(a){return a.nodeType===9?a:a.ownerDocument}function l4(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o4(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function vg(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var yg=null;function H5(){var a=window.event;return a&&a.type==="popstate"?a===yg?!1:(yg=a,!0):(yg=null,!1)}var c4=typeof setTimeout=="function"?setTimeout:void 0,z5=typeof clearTimeout=="function"?clearTimeout:void 0,f4=typeof Promise=="function"?Promise:void 0,j5=typeof queueMicrotask=="function"?queueMicrotask:typeof f4<"u"?function(a){return f4.resolve(null).then(a).catch(U5)}:c4;function U5(a){setTimeout(function(){throw a})}function da(a){return a==="head"}function u4(a,o){var u=o,p=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(p===0){a.removeChild(v),mo(o);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")zc(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,zc(u);for(var y=u.firstChild;y;){var _=y.nextSibling,H=y.nodeName;y[de]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&y.rel.toLowerCase()==="stylesheet"||u.removeChild(y),y=_}}else u==="body"&&zc(a.ownerDocument.body);u=v}while(u);mo(o)}function h4(a,o){var u=a;a=0;do{var p=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=p}while(u)}function bg(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":bg(u),Re(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function V5(a,o,u,p){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[de])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var y=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=vi(a.nextSibling),a===null)break}return null}function q5(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=vi(a.nextSibling),a===null))return null;return a}function d4(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=vi(a.nextSibling),a===null))return null;return a}function Sg(a){return a.data==="$?"||a.data==="$~"}function wg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function W5(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function vi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Eg=null;function p4(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return vi(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function m4(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function g4(a,o,u){switch(o=du(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function zc(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Re(a)}var yi=new Map,x4=new Set;function pu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Rs=ie.d;ie.d={f:G5,r:X5,D:$5,C:Y5,L:K5,m:Q5,X:J5,S:Z5,M:eD};function G5(){var a=Rs.f(),o=su();return a||o}function X5(a){var o=je(a);o!==null&&o.tag===5&&o.type==="form"?Fy(o):Rs.r(a)}var uo=typeof document>"u"?null:document;function v4(a,o,u){var p=uo;if(p&&typeof o=="string"&&o){var v=ui(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),x4.has(v)||(x4.add(v),a={rel:a,crossOrigin:u,href:o},p.querySelector(v)===null&&(o=p.createElement("link"),nr(o,"link",a),Ye(o),p.head.appendChild(o)))}}function $5(a){Rs.D(a),v4("dns-prefetch",a,null)}function Y5(a,o){Rs.C(a,o),v4("preconnect",a,o)}function K5(a,o,u){Rs.L(a,o,u);var p=uo;if(p&&a&&o){var v='link[rel="preload"][as="'+ui(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+ui(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+ui(u.imageSizes)+'"]')):v+='[href="'+ui(a)+'"]';var y=v;switch(o){case"style":y=ho(a);break;case"script":y=po(a)}yi.has(y)||(a=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),yi.set(y,a),p.querySelector(v)!==null||o==="style"&&p.querySelector(jc(y))||o==="script"&&p.querySelector(Uc(y))||(o=p.createElement("link"),nr(o,"link",a),Ye(o),p.head.appendChild(o)))}}function Q5(a,o){Rs.m(a,o);var u=uo;if(u&&a){var p=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+ui(p)+'"][href="'+ui(a)+'"]',y=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=po(a)}if(!yi.has(y)&&(a=m({rel:"modulepreload",href:a},o),yi.set(y,a),u.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Uc(y)))return}p=u.createElement("link"),nr(p,"link",a),Ye(p),u.head.appendChild(p)}}}function Z5(a,o,u){Rs.S(a,o,u);var p=uo;if(p&&a){var v=Pe(p).hoistableStyles,y=ho(a);o=o||"default";var _=v.get(y);if(!_){var H={loading:0,preload:null};if(_=p.querySelector(jc(y)))H.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":o},u),(u=yi.get(y))&&Cg(a,u);var Z=_=p.createElement("link");Ye(Z),nr(Z,"link",a),Z._p=new Promise(function(le,ye){Z.onload=le,Z.onerror=ye}),Z.addEventListener("load",function(){H.loading|=1}),Z.addEventListener("error",function(){H.loading|=2}),H.loading|=4,mu(_,o,p)}_={type:"stylesheet",instance:_,count:1,state:H},v.set(y,_)}}}function J5(a,o){Rs.X(a,o);var u=uo;if(u&&a){var p=Pe(u).hoistableScripts,v=po(a),y=p.get(v);y||(y=u.querySelector(Uc(v)),y||(a=m({src:a,async:!0},o),(o=yi.get(v))&&Ag(a,o),y=u.createElement("script"),Ye(y),nr(y,"link",a),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},p.set(v,y))}}function eD(a,o){Rs.M(a,o);var u=uo;if(u&&a){var p=Pe(u).hoistableScripts,v=po(a),y=p.get(v);y||(y=u.querySelector(Uc(v)),y||(a=m({src:a,async:!0,type:"module"},o),(o=yi.get(v))&&Ag(a,o),y=u.createElement("script"),Ye(y),nr(y,"link",a),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},p.set(v,y))}}function y4(a,o,u,p){var v=(v=te.current)?pu(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=ho(u.href),u=Pe(v).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=ho(u.href);var y=Pe(v).hoistableStyles,_=y.get(a);if(_||(v=v.ownerDocument||v,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,_),(y=v.querySelector(jc(a)))&&!y._p&&(_.instance=y,_.state.loading=5),yi.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},yi.set(a,u),y||tD(v,a,u,_.state))),o&&p===null)throw Error(r(528,""));return _}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=po(u),u=Pe(v).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function ho(a){return'href="'+ui(a)+'"'}function jc(a){return'link[rel="stylesheet"]['+a+"]"}function b4(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function tD(a,o,u,p){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=a.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),nr(o,"link",u),Ye(o),a.head.appendChild(o))}function po(a){return'[src="'+ui(a)+'"]'}function Uc(a){return"script[async]"+a}function S4(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=a.querySelector('style[data-href~="'+ui(u.href)+'"]');if(p)return o.instance=p,Ye(p),p;var v=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Ye(p),nr(p,"style",v),mu(p,u.precedence,a),o.instance=p;case"stylesheet":v=ho(u.href);var y=a.querySelector(jc(v));if(y)return o.state.loading|=4,o.instance=y,Ye(y),y;p=b4(u),(v=yi.get(v))&&Cg(p,v),y=(a.ownerDocument||a).createElement("link"),Ye(y);var _=y;return _._p=new Promise(function(H,Z){_.onload=H,_.onerror=Z}),nr(y,"link",p),o.state.loading|=4,mu(y,u.precedence,a),o.instance=y;case"script":return y=po(u.src),(v=a.querySelector(Uc(y)))?(o.instance=v,Ye(v),v):(p=u,(v=yi.get(y))&&(p=m({},u),Ag(p,v)),a=a.ownerDocument||a,v=a.createElement("script"),Ye(v),nr(v,"link",p),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,mu(p,u.precedence,a));return o.instance}function mu(a,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,y=v,_=0;_<p.length;_++){var H=p[_];if(H.dataset.precedence===o)y=H;else if(y!==v)break}y?y.parentNode.insertBefore(a,y.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Cg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Ag(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var gu=null;function w4(a,o,u){if(gu===null){var p=new Map,v=gu=new Map;v.set(u,p)}else v=gu,p=v.get(u),p||(p=new Map,v.set(u,p));if(p.has(a))return p;for(p.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var y=u[v];if(!(y[de]||y[V]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(o)||"";_=a+_;var H=p.get(_);H?H.push(y):p.set(_,[y])}}return p}function E4(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function nD(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function C4(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function rD(a,o,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=ho(p.href),y=o.querySelector(jc(v));if(y){o=y._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=xu.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=y,Ye(y);return}y=o.ownerDocument||o,p=b4(p),(v=yi.get(v))&&Cg(p,v),y=y.createElement("link"),Ye(y);var _=y;_._p=new Promise(function(H,Z){_.onload=H,_.onerror=Z}),nr(y,"link",p),u.instance=y}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=xu.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Tg=0;function iD(a,o){return a.stylesheets&&a.count===0&&yu(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var p=setTimeout(function(){if(a.stylesheets&&yu(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4+o);0<a.imgBytes&&Tg===0&&(Tg=62500*P5());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&yu(a,a.stylesheets),a.unsuspend)){var y=a.unsuspend;a.unsuspend=null,y()}},(a.imgBytes>Tg?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(v)}}:null}function xu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yu(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var vu=null;function yu(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,vu=new Map,o.forEach(sD,a),vu=null,xu.call(a))}function sD(a,o){if(!(o.state.loading&4)){var u=vu.get(a);if(u)var p=u.get(null);else{u=new Map,vu.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<v.length;y++){var _=v[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(u.set(_.dataset.precedence,_),p=_)}p&&u.set(null,p)}v=o.instance,_=v.getAttribute("data-precedence"),y=u.get(_)||p,y===p&&u.set(null,v),u.set(_,v),this.count++,p=xu.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),y?y.parentNode.insertBefore(v,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var Vc={$$typeof:E,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function aD(a,o,u,p,v,y,_,H,Z){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Un(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Un(0),this.hiddenUpdates=Un(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function A4(a,o,u,p,v,y,_,H,Z,le,ye,_e){return a=new aD(a,o,u,_,Z,le,ye,_e,H),o=1,y===!0&&(o|=24),y=Xr(3,null,null,o),a.current=y,y.stateNode=a,o=sm(),o.refCount++,a.pooledCache=o,o.refCount++,y.memoizedState={element:p,isDehydrated:u,cache:o},cm(y),a}function T4(a){return a?(a=ql,a):ql}function _4(a,o,u,p,v,y){v=T4(v),p.context===null?p.context=v:p.pendingContext=v,p=na(o),p.payload={element:u},y=y===void 0?null:y,y!==null&&(p.callback=y),u=ra(a,p,o),u!==null&&(Lr(u,a,o),Sc(u,a,o))}function D4(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function _g(a,o){D4(a,o),(a=a.alternate)&&D4(a,o)}function k4(a){if(a.tag===13||a.tag===31){var o=Xa(a,67108864);o!==null&&Lr(o,a,67108864),_g(a,67108864)}}function O4(a){if(a.tag===13||a.tag===31){var o=Zr();o=kr(o);var u=Xa(a,o);u!==null&&Lr(u,a,o),_g(a,o)}}var bu=!0;function lD(a,o,u,p){var v=J.T;J.T=null;var y=ie.p;try{ie.p=2,Dg(a,o,u,p)}finally{ie.p=y,J.T=v}}function oD(a,o,u,p){var v=J.T;J.T=null;var y=ie.p;try{ie.p=8,Dg(a,o,u,p)}finally{ie.p=y,J.T=v}}function Dg(a,o,u,p){if(bu){var v=kg(p);if(v===null)pg(a,o,p,Su,u),N4(a,p);else if(fD(v,a,o,u,p))p.stopPropagation();else if(N4(a,p),o&4&&-1<cD.indexOf(a)){for(;v!==null;){var y=je(v);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Ht(y.pendingLanes);if(_!==0){var H=y;for(H.pendingLanes|=2,H.entangledLanes|=2;_;){var Z=1<<31-En(_);H.entanglements[1]|=Z,_&=~Z}Zi(y),(kt&6)===0&&(ru=Oe()+500,Ic(0))}}break;case 31:case 13:H=Xa(y,2),H!==null&&Lr(H,y,2),su(),_g(y,2)}if(y=kg(p),y===null&&pg(a,o,p,Su,u),y===v)break;v=y}v!==null&&p.stopPropagation()}else pg(a,o,p,null,u)}}function kg(a){return a=Bp(a),Og(a)}var Su=null;function Og(a){if(Su=null,a=Me(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Su=a,null}function B4(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case Ne:return 2;case Xe:return 8;case Ze:case qe:return 32;case Wt:return 268435456;default:return 32}default:return 32}}var Bg=!1,pa=null,ma=null,ga=null,qc=new Map,Wc=new Map,xa=[],cD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N4(a,o){switch(a){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":qc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(o.pointerId)}}function Gc(a,o,u,p,v,y){return a===null||a.nativeEvent!==y?(a={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:y,targetContainers:[v]},o!==null&&(o=je(o),o!==null&&k4(o)),a):(a.eventSystemFlags|=p,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function fD(a,o,u,p,v){switch(o){case"focusin":return pa=Gc(pa,a,o,u,p,v),!0;case"dragenter":return ma=Gc(ma,a,o,u,p,v),!0;case"mouseover":return ga=Gc(ga,a,o,u,p,v),!0;case"pointerover":var y=v.pointerId;return qc.set(y,Gc(qc.get(y)||null,a,o,u,p,v)),!0;case"gotpointercapture":return y=v.pointerId,Wc.set(y,Gc(Wc.get(y)||null,a,o,u,p,v)),!0}return!1}function R4(a){var o=Me(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,G(a.priority,function(){O4(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,G(a.priority,function(){O4(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function wu(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=kg(a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);Op=p,u.target.dispatchEvent(p),Op=null}else return o=je(u),o!==null&&k4(o),a.blockedOn=u,!1;o.shift()}return!0}function F4(a,o,u){wu(a)&&u.delete(o)}function uD(){Bg=!1,pa!==null&&wu(pa)&&(pa=null),ma!==null&&wu(ma)&&(ma=null),ga!==null&&wu(ga)&&(ga=null),qc.forEach(F4),Wc.forEach(F4)}function Eu(a,o){a.blockedOn===o&&(a.blockedOn=null,Bg||(Bg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,uD)))}var Cu=null;function M4(a){Cu!==a&&(Cu=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Cu===a&&(Cu=null);for(var o=0;o<a.length;o+=3){var u=a[o],p=a[o+1],v=a[o+2];if(typeof p!="function"){if(Og(p||u)===null)continue;break}var y=je(u);y!==null&&(a.splice(o,3),o-=3,km(y,{pending:!0,data:v,method:u.method,action:p},p,v))}}))}function mo(a){function o(Z){return Eu(Z,a)}pa!==null&&Eu(pa,a),ma!==null&&Eu(ma,a),ga!==null&&Eu(ga,a),qc.forEach(o),Wc.forEach(o);for(var u=0;u<xa.length;u++){var p=xa[u];p.blockedOn===a&&(p.blockedOn=null)}for(;0<xa.length&&(u=xa[0],u.blockedOn===null);)R4(u),u.blockedOn===null&&xa.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var v=u[p],y=u[p+1],_=v[W]||null;if(typeof y=="function")_||M4(u);else if(_){var H=null;if(y&&y.hasAttribute("formAction")){if(v=y,_=y[W]||null)H=_.formAction;else if(Og(v)!==null)continue}else H=_.action;typeof H=="function"?u[p+1]=H:(u.splice(p,3),p-=3),M4(u)}}}function L4(){function a(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return v=_})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Ng(a){this._internalRoot=a}Au.prototype.render=Ng.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,p=Zr();_4(u,p,a,o,null,null)},Au.prototype.unmount=Ng.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;_4(a.current,2,null,a,null,null),su(),o[Y]=null}};function Au(a){this._internalRoot=a}Au.prototype.unstable_scheduleHydration=function(a){if(a){var o=M();a={blockedOn:null,target:a,priority:o};for(var u=0;u<xa.length&&o!==0&&o<xa[u].priority;u++);xa.splice(u,0,a),u===0&&R4(a)}};var I4=e.version;if(I4!=="19.2.0")throw Error(r(527,I4,"19.2.0"));ie.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var hD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{zn=Tu.inject(hD),Gt=Tu}catch{}}return $c.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,p="",v=qy,y=Wy,_=Gy;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),o=A4(a,1,!1,null,null,u,p,null,v,y,_,L4),a[Y]=o.current,dg(a),new Ng(o)},$c.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var p=!1,v="",y=qy,_=Wy,H=Gy,Z=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(_=u.onCaughtError),u.onRecoverableError!==void 0&&(H=u.onRecoverableError),u.formState!==void 0&&(Z=u.formState)),o=A4(a,1,!0,o,u??null,p,v,Z,y,_,H,L4),o.context=T4(null),u=o.current,p=Zr(),p=kr(p),v=na(p),v.callback=null,ra(u,v,p),u=p,o.current.lanes=u,Zn(o,u),Zi(o),a[Y]=o.current,dg(a),new Au(o)},$c.version="19.2.0",$c}var X4;function wD(){if(X4)return Mg.exports;X4=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Mg.exports=SD(),Mg.exports}var ED=wD();const O1="/assets/hap_full_logo-Dpsngzvu.jpg";var oh={exports:{}};function CD(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ch={exports:{}};const AD={},TD=Object.freeze(Object.defineProperty({__proto__:null,default:AD},Symbol.toStringTag,{value:"Module"})),_D=pD(TD);var DD=ch.exports,$4;function yt(){return $4||($4=1,(function(n,e){(function(t,r){n.exports=r()})(DD,function(){var t=t||(function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof pl<"u"&&pl.crypto&&(s=pl.crypto),!s&&typeof CD=="function")try{s=_D}catch{}var l=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||(function(){function C(){}return function(E){var D;return C.prototype=E,D=new C,C.prototype=null,D}})(),f={},h=f.lib={},d=h.Base=(function(){return{extend:function(C){var E=c(this);return C&&E.mixIn(C),(!E.hasOwnProperty("init")||this.init===E.init)&&(E.init=function(){E.$super.init.apply(this,arguments)}),E.init.prototype=E,E.$super=this,E},create:function(){var C=this.extend();return C.init.apply(C,arguments),C},init:function(){},mixIn:function(C){for(var E in C)C.hasOwnProperty(E)&&(this[E]=C[E]);C.hasOwnProperty("toString")&&(this.toString=C.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),m=h.WordArray=d.extend({init:function(C,E){C=this.words=C||[],E!=i?this.sigBytes=E:this.sigBytes=C.length*4},toString:function(C){return(C||x).stringify(this)},concat:function(C){var E=this.words,D=C.words,B=this.sigBytes,N=C.sigBytes;if(this.clamp(),B%4)for(var k=0;k<N;k++){var R=D[k>>>2]>>>24-k%4*8&255;E[B+k>>>2]|=R<<24-(B+k)%4*8}else for(var z=0;z<N;z+=4)E[B+z>>>2]=D[z>>>2];return this.sigBytes+=N,this},clamp:function(){var C=this.words,E=this.sigBytes;C[E>>>2]&=4294967295<<32-E%4*8,C.length=r.ceil(E/4)},clone:function(){var C=d.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var E=[],D=0;D<C;D+=4)E.push(l());return new m.init(E,C)}}),g=f.enc={},x=g.Hex={stringify:function(C){for(var E=C.words,D=C.sigBytes,B=[],N=0;N<D;N++){var k=E[N>>>2]>>>24-N%4*8&255;B.push((k>>>4).toString(16)),B.push((k&15).toString(16))}return B.join("")},parse:function(C){for(var E=C.length,D=[],B=0;B<E;B+=2)D[B>>>3]|=parseInt(C.substr(B,2),16)<<24-B%8*4;return new m.init(D,E/2)}},S=g.Latin1={stringify:function(C){for(var E=C.words,D=C.sigBytes,B=[],N=0;N<D;N++){var k=E[N>>>2]>>>24-N%4*8&255;B.push(String.fromCharCode(k))}return B.join("")},parse:function(C){for(var E=C.length,D=[],B=0;B<E;B++)D[B>>>2]|=(C.charCodeAt(B)&255)<<24-B%4*8;return new m.init(D,E)}},b=g.Utf8={stringify:function(C){try{return decodeURIComponent(escape(S.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return S.parse(unescape(encodeURIComponent(C)))}},w=h.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new m.init,this._nDataBytes=0},_append:function(C){typeof C=="string"&&(C=b.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var E,D=this._data,B=D.words,N=D.sigBytes,k=this.blockSize,R=k*4,z=N/R;C?z=r.ceil(z):z=r.max((z|0)-this._minBufferSize,0);var I=z*k,j=r.min(I*4,N);if(I){for(var q=0;q<I;q+=k)this._doProcessBlock(B,q);E=B.splice(0,I),D.sigBytes-=j}return new m.init(E,j)},clone:function(){var C=d.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0});h.Hasher=w.extend({cfg:d.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){C&&this._append(C);var E=this._doFinalize();return E},blockSize:16,_createHelper:function(C){return function(E,D){return new C.init(D).finalize(E)}},_createHmacHelper:function(C){return function(E,D){return new A.HMAC.init(C,D).finalize(E)}}});var A=f.algo={};return f})(Math);return t})})(ch)),ch.exports}var fh={exports:{}},kD=fh.exports,Y4;function Zd(){return Y4||(Y4=1,(function(n,e){(function(t,r){n.exports=r(yt())})(kD,function(t){return(function(r){var i=t,s=i.lib,l=s.Base,c=s.WordArray,f=i.x64={};f.Word=l.extend({init:function(h,d){this.high=h,this.low=d}}),f.WordArray=l.extend({init:function(h,d){h=this.words=h||[],d!=r?this.sigBytes=d:this.sigBytes=h.length*8},toX32:function(){for(var h=this.words,d=h.length,m=[],g=0;g<d;g++){var x=h[g];m.push(x.high),m.push(x.low)}return c.create(m,this.sigBytes)},clone:function(){for(var h=l.clone.call(this),d=h.words=this.words.slice(0),m=d.length,g=0;g<m;g++)d[g]=d[g].clone();return h}})})(),t})})(fh)),fh.exports}var uh={exports:{}},OD=uh.exports,K4;function BD(){return K4||(K4=1,(function(n,e){(function(t,r){n.exports=r(yt())})(OD,function(t){return(function(){if(typeof ArrayBuffer=="function"){var r=t,i=r.lib,s=i.WordArray,l=s.init,c=s.init=function(f){if(f instanceof ArrayBuffer&&(f=new Uint8Array(f)),(f instanceof Int8Array||typeof Uint8ClampedArray<"u"&&f instanceof Uint8ClampedArray||f instanceof Int16Array||f instanceof Uint16Array||f instanceof Int32Array||f instanceof Uint32Array||f instanceof Float32Array||f instanceof Float64Array)&&(f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength)),f instanceof Uint8Array){for(var h=f.byteLength,d=[],m=0;m<h;m++)d[m>>>2]|=f[m]<<24-m%4*8;l.call(this,d,h)}else l.apply(this,arguments)};c.prototype=s}})(),t.lib.WordArray})})(uh)),uh.exports}var hh={exports:{}},ND=hh.exports,Q4;function RD(){return Q4||(Q4=1,(function(n,e){(function(t,r){n.exports=r(yt())})(ND,function(t){return(function(){var r=t,i=r.lib,s=i.WordArray,l=r.enc;l.Utf16=l.Utf16BE={stringify:function(f){for(var h=f.words,d=f.sigBytes,m=[],g=0;g<d;g+=2){var x=h[g>>>2]>>>16-g%4*8&65535;m.push(String.fromCharCode(x))}return m.join("")},parse:function(f){for(var h=f.length,d=[],m=0;m<h;m++)d[m>>>1]|=f.charCodeAt(m)<<16-m%2*16;return s.create(d,h*2)}},l.Utf16LE={stringify:function(f){for(var h=f.words,d=f.sigBytes,m=[],g=0;g<d;g+=2){var x=c(h[g>>>2]>>>16-g%4*8&65535);m.push(String.fromCharCode(x))}return m.join("")},parse:function(f){for(var h=f.length,d=[],m=0;m<h;m++)d[m>>>1]|=c(f.charCodeAt(m)<<16-m%2*16);return s.create(d,h*2)}};function c(f){return f<<8&4278255360|f>>>8&16711935}})(),t.enc.Utf16})})(hh)),hh.exports}var dh={exports:{}},FD=dh.exports,Z4;function Dl(){return Z4||(Z4=1,(function(n,e){(function(t,r){n.exports=r(yt())})(FD,function(t){return(function(){var r=t,i=r.lib,s=i.WordArray,l=r.enc;l.Base64={stringify:function(f){var h=f.words,d=f.sigBytes,m=this._map;f.clamp();for(var g=[],x=0;x<d;x+=3)for(var S=h[x>>>2]>>>24-x%4*8&255,b=h[x+1>>>2]>>>24-(x+1)%4*8&255,w=h[x+2>>>2]>>>24-(x+2)%4*8&255,A=S<<16|b<<8|w,C=0;C<4&&x+C*.75<d;C++)g.push(m.charAt(A>>>6*(3-C)&63));var E=m.charAt(64);if(E)for(;g.length%4;)g.push(E);return g.join("")},parse:function(f){var h=f.length,d=this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var g=0;g<d.length;g++)m[d.charCodeAt(g)]=g}var x=d.charAt(64);if(x){var S=f.indexOf(x);S!==-1&&(h=S)}return c(f,h,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(f,h,d){for(var m=[],g=0,x=0;x<h;x++)if(x%4){var S=d[f.charCodeAt(x-1)]<<x%4*2,b=d[f.charCodeAt(x)]>>>6-x%4*2,w=S|b;m[g>>>2]|=w<<24-g%4*8,g++}return s.create(m,g)}})(),t.enc.Base64})})(dh)),dh.exports}var ph={exports:{}},MD=ph.exports,J4;function LD(){return J4||(J4=1,(function(n,e){(function(t,r){n.exports=r(yt())})(MD,function(t){return(function(){var r=t,i=r.lib,s=i.WordArray,l=r.enc;l.Base64url={stringify:function(f,h){h===void 0&&(h=!0);var d=f.words,m=f.sigBytes,g=h?this._safe_map:this._map;f.clamp();for(var x=[],S=0;S<m;S+=3)for(var b=d[S>>>2]>>>24-S%4*8&255,w=d[S+1>>>2]>>>24-(S+1)%4*8&255,A=d[S+2>>>2]>>>24-(S+2)%4*8&255,C=b<<16|w<<8|A,E=0;E<4&&S+E*.75<m;E++)x.push(g.charAt(C>>>6*(3-E)&63));var D=g.charAt(64);if(D)for(;x.length%4;)x.push(D);return x.join("")},parse:function(f,h){h===void 0&&(h=!0);var d=f.length,m=h?this._safe_map:this._map,g=this._reverseMap;if(!g){g=this._reverseMap=[];for(var x=0;x<m.length;x++)g[m.charCodeAt(x)]=x}var S=m.charAt(64);if(S){var b=f.indexOf(S);b!==-1&&(d=b)}return c(f,d,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(f,h,d){for(var m=[],g=0,x=0;x<h;x++)if(x%4){var S=d[f.charCodeAt(x-1)]<<x%4*2,b=d[f.charCodeAt(x)]>>>6-x%4*2,w=S|b;m[g>>>2]|=w<<24-g%4*8,g++}return s.create(m,g)}})(),t.enc.Base64url})})(ph)),ph.exports}var mh={exports:{}},ID=mh.exports,eS;function kl(){return eS||(eS=1,(function(n,e){(function(t,r){n.exports=r(yt())})(ID,function(t){return(function(r){var i=t,s=i.lib,l=s.WordArray,c=s.Hasher,f=i.algo,h=[];(function(){for(var b=0;b<64;b++)h[b]=r.abs(r.sin(b+1))*4294967296|0})();var d=f.MD5=c.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(b,w){for(var A=0;A<16;A++){var C=w+A,E=b[C];b[C]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var D=this._hash.words,B=b[w+0],N=b[w+1],k=b[w+2],R=b[w+3],z=b[w+4],I=b[w+5],j=b[w+6],q=b[w+7],K=b[w+8],oe=b[w+9],se=b[w+10],J=b[w+11],ie=b[w+12],Ee=b[w+13],we=b[w+14],xe=b[w+15],F=D[0],O=D[1],P=D[2],L=D[3];F=m(F,O,P,L,B,7,h[0]),L=m(L,F,O,P,N,12,h[1]),P=m(P,L,F,O,k,17,h[2]),O=m(O,P,L,F,R,22,h[3]),F=m(F,O,P,L,z,7,h[4]),L=m(L,F,O,P,I,12,h[5]),P=m(P,L,F,O,j,17,h[6]),O=m(O,P,L,F,q,22,h[7]),F=m(F,O,P,L,K,7,h[8]),L=m(L,F,O,P,oe,12,h[9]),P=m(P,L,F,O,se,17,h[10]),O=m(O,P,L,F,J,22,h[11]),F=m(F,O,P,L,ie,7,h[12]),L=m(L,F,O,P,Ee,12,h[13]),P=m(P,L,F,O,we,17,h[14]),O=m(O,P,L,F,xe,22,h[15]),F=g(F,O,P,L,N,5,h[16]),L=g(L,F,O,P,j,9,h[17]),P=g(P,L,F,O,J,14,h[18]),O=g(O,P,L,F,B,20,h[19]),F=g(F,O,P,L,I,5,h[20]),L=g(L,F,O,P,se,9,h[21]),P=g(P,L,F,O,xe,14,h[22]),O=g(O,P,L,F,z,20,h[23]),F=g(F,O,P,L,oe,5,h[24]),L=g(L,F,O,P,we,9,h[25]),P=g(P,L,F,O,R,14,h[26]),O=g(O,P,L,F,K,20,h[27]),F=g(F,O,P,L,Ee,5,h[28]),L=g(L,F,O,P,k,9,h[29]),P=g(P,L,F,O,q,14,h[30]),O=g(O,P,L,F,ie,20,h[31]),F=x(F,O,P,L,I,4,h[32]),L=x(L,F,O,P,K,11,h[33]),P=x(P,L,F,O,J,16,h[34]),O=x(O,P,L,F,we,23,h[35]),F=x(F,O,P,L,N,4,h[36]),L=x(L,F,O,P,z,11,h[37]),P=x(P,L,F,O,q,16,h[38]),O=x(O,P,L,F,se,23,h[39]),F=x(F,O,P,L,Ee,4,h[40]),L=x(L,F,O,P,B,11,h[41]),P=x(P,L,F,O,R,16,h[42]),O=x(O,P,L,F,j,23,h[43]),F=x(F,O,P,L,oe,4,h[44]),L=x(L,F,O,P,ie,11,h[45]),P=x(P,L,F,O,xe,16,h[46]),O=x(O,P,L,F,k,23,h[47]),F=S(F,O,P,L,B,6,h[48]),L=S(L,F,O,P,q,10,h[49]),P=S(P,L,F,O,we,15,h[50]),O=S(O,P,L,F,I,21,h[51]),F=S(F,O,P,L,ie,6,h[52]),L=S(L,F,O,P,R,10,h[53]),P=S(P,L,F,O,se,15,h[54]),O=S(O,P,L,F,N,21,h[55]),F=S(F,O,P,L,K,6,h[56]),L=S(L,F,O,P,xe,10,h[57]),P=S(P,L,F,O,j,15,h[58]),O=S(O,P,L,F,Ee,21,h[59]),F=S(F,O,P,L,z,6,h[60]),L=S(L,F,O,P,J,10,h[61]),P=S(P,L,F,O,k,15,h[62]),O=S(O,P,L,F,oe,21,h[63]),D[0]=D[0]+F|0,D[1]=D[1]+O|0,D[2]=D[2]+P|0,D[3]=D[3]+L|0},_doFinalize:function(){var b=this._data,w=b.words,A=this._nDataBytes*8,C=b.sigBytes*8;w[C>>>5]|=128<<24-C%32;var E=r.floor(A/4294967296),D=A;w[(C+64>>>9<<4)+15]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,w[(C+64>>>9<<4)+14]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,b.sigBytes=(w.length+1)*4,this._process();for(var B=this._hash,N=B.words,k=0;k<4;k++){var R=N[k];N[k]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return B},clone:function(){var b=c.clone.call(this);return b._hash=this._hash.clone(),b}});function m(b,w,A,C,E,D,B){var N=b+(w&A|~w&C)+E+B;return(N<<D|N>>>32-D)+w}function g(b,w,A,C,E,D,B){var N=b+(w&C|A&~C)+E+B;return(N<<D|N>>>32-D)+w}function x(b,w,A,C,E,D,B){var N=b+(w^A^C)+E+B;return(N<<D|N>>>32-D)+w}function S(b,w,A,C,E,D,B){var N=b+(A^(w|~C))+E+B;return(N<<D|N>>>32-D)+w}i.MD5=c._createHelper(d),i.HmacMD5=c._createHmacHelper(d)})(Math),t.MD5})})(mh)),mh.exports}var gh={exports:{}},PD=gh.exports,tS;function qC(){return tS||(tS=1,(function(n,e){(function(t,r){n.exports=r(yt())})(PD,function(t){return(function(){var r=t,i=r.lib,s=i.WordArray,l=i.Hasher,c=r.algo,f=[],h=c.SHA1=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,m){for(var g=this._hash.words,x=g[0],S=g[1],b=g[2],w=g[3],A=g[4],C=0;C<80;C++){if(C<16)f[C]=d[m+C]|0;else{var E=f[C-3]^f[C-8]^f[C-14]^f[C-16];f[C]=E<<1|E>>>31}var D=(x<<5|x>>>27)+A+f[C];C<20?D+=(S&b|~S&w)+1518500249:C<40?D+=(S^b^w)+1859775393:C<60?D+=(S&b|S&w|b&w)-1894007588:D+=(S^b^w)-899497514,A=w,w=b,b=S<<30|S>>>2,S=x,x=D}g[0]=g[0]+x|0,g[1]=g[1]+S|0,g[2]=g[2]+b|0,g[3]=g[3]+w|0,g[4]=g[4]+A|0},_doFinalize:function(){var d=this._data,m=d.words,g=this._nDataBytes*8,x=d.sigBytes*8;return m[x>>>5]|=128<<24-x%32,m[(x+64>>>9<<4)+14]=Math.floor(g/4294967296),m[(x+64>>>9<<4)+15]=g,d.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var d=l.clone.call(this);return d._hash=this._hash.clone(),d}});r.SHA1=l._createHelper(h),r.HmacSHA1=l._createHmacHelper(h)})(),t.SHA1})})(gh)),gh.exports}var xh={exports:{}},HD=xh.exports,nS;function zx(){return nS||(nS=1,(function(n,e){(function(t,r){n.exports=r(yt())})(HD,function(t){return(function(r){var i=t,s=i.lib,l=s.WordArray,c=s.Hasher,f=i.algo,h=[],d=[];(function(){function x(A){for(var C=r.sqrt(A),E=2;E<=C;E++)if(!(A%E))return!1;return!0}function S(A){return(A-(A|0))*4294967296|0}for(var b=2,w=0;w<64;)x(b)&&(w<8&&(h[w]=S(r.pow(b,1/2))),d[w]=S(r.pow(b,1/3)),w++),b++})();var m=[],g=f.SHA256=c.extend({_doReset:function(){this._hash=new l.init(h.slice(0))},_doProcessBlock:function(x,S){for(var b=this._hash.words,w=b[0],A=b[1],C=b[2],E=b[3],D=b[4],B=b[5],N=b[6],k=b[7],R=0;R<64;R++){if(R<16)m[R]=x[S+R]|0;else{var z=m[R-15],I=(z<<25|z>>>7)^(z<<14|z>>>18)^z>>>3,j=m[R-2],q=(j<<15|j>>>17)^(j<<13|j>>>19)^j>>>10;m[R]=I+m[R-7]+q+m[R-16]}var K=D&B^~D&N,oe=w&A^w&C^A&C,se=(w<<30|w>>>2)^(w<<19|w>>>13)^(w<<10|w>>>22),J=(D<<26|D>>>6)^(D<<21|D>>>11)^(D<<7|D>>>25),ie=k+J+K+d[R]+m[R],Ee=se+oe;k=N,N=B,B=D,D=E+ie|0,E=C,C=A,A=w,w=ie+Ee|0}b[0]=b[0]+w|0,b[1]=b[1]+A|0,b[2]=b[2]+C|0,b[3]=b[3]+E|0,b[4]=b[4]+D|0,b[5]=b[5]+B|0,b[6]=b[6]+N|0,b[7]=b[7]+k|0},_doFinalize:function(){var x=this._data,S=x.words,b=this._nDataBytes*8,w=x.sigBytes*8;return S[w>>>5]|=128<<24-w%32,S[(w+64>>>9<<4)+14]=r.floor(b/4294967296),S[(w+64>>>9<<4)+15]=b,x.sigBytes=S.length*4,this._process(),this._hash},clone:function(){var x=c.clone.call(this);return x._hash=this._hash.clone(),x}});i.SHA256=c._createHelper(g),i.HmacSHA256=c._createHmacHelper(g)})(Math),t.SHA256})})(xh)),xh.exports}var vh={exports:{}},zD=vh.exports,rS;function jD(){return rS||(rS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),zx())})(zD,function(t){return(function(){var r=t,i=r.lib,s=i.WordArray,l=r.algo,c=l.SHA256,f=l.SHA224=c.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var h=c._doFinalize.call(this);return h.sigBytes-=4,h}});r.SHA224=c._createHelper(f),r.HmacSHA224=c._createHmacHelper(f)})(),t.SHA224})})(vh)),vh.exports}var yh={exports:{}},UD=yh.exports,iS;function WC(){return iS||(iS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Zd())})(UD,function(t){return(function(){var r=t,i=r.lib,s=i.Hasher,l=r.x64,c=l.Word,f=l.WordArray,h=r.algo;function d(){return c.create.apply(c,arguments)}var m=[d(1116352408,3609767458),d(1899447441,602891725),d(3049323471,3964484399),d(3921009573,2173295548),d(961987163,4081628472),d(1508970993,3053834265),d(2453635748,2937671579),d(2870763221,3664609560),d(3624381080,2734883394),d(310598401,1164996542),d(607225278,1323610764),d(1426881987,3590304994),d(1925078388,4068182383),d(2162078206,991336113),d(2614888103,633803317),d(3248222580,3479774868),d(3835390401,2666613458),d(4022224774,944711139),d(264347078,2341262773),d(604807628,2007800933),d(770255983,1495990901),d(1249150122,1856431235),d(1555081692,3175218132),d(1996064986,2198950837),d(2554220882,3999719339),d(2821834349,766784016),d(2952996808,2566594879),d(3210313671,3203337956),d(3336571891,1034457026),d(3584528711,2466948901),d(113926993,3758326383),d(338241895,168717936),d(666307205,1188179964),d(773529912,1546045734),d(1294757372,1522805485),d(1396182291,2643833823),d(1695183700,2343527390),d(1986661051,1014477480),d(2177026350,1206759142),d(2456956037,344077627),d(2730485921,1290863460),d(2820302411,3158454273),d(3259730800,3505952657),d(3345764771,106217008),d(3516065817,3606008344),d(3600352804,1432725776),d(4094571909,1467031594),d(275423344,851169720),d(430227734,3100823752),d(506948616,1363258195),d(659060556,3750685593),d(883997877,3785050280),d(958139571,3318307427),d(1322822218,3812723403),d(1537002063,2003034995),d(1747873779,3602036899),d(1955562222,1575990012),d(2024104815,1125592928),d(2227730452,2716904306),d(2361852424,442776044),d(2428436474,593698344),d(2756734187,3733110249),d(3204031479,2999351573),d(3329325298,3815920427),d(3391569614,3928383900),d(3515267271,566280711),d(3940187606,3454069534),d(4118630271,4000239992),d(116418474,1914138554),d(174292421,2731055270),d(289380356,3203993006),d(460393269,320620315),d(685471733,587496836),d(852142971,1086792851),d(1017036298,365543100),d(1126000580,2618297676),d(1288033470,3409855158),d(1501505948,4234509866),d(1607167915,987167468),d(1816402316,1246189591)],g=[];(function(){for(var S=0;S<80;S++)g[S]=d()})();var x=h.SHA512=s.extend({_doReset:function(){this._hash=new f.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(S,b){for(var w=this._hash.words,A=w[0],C=w[1],E=w[2],D=w[3],B=w[4],N=w[5],k=w[6],R=w[7],z=A.high,I=A.low,j=C.high,q=C.low,K=E.high,oe=E.low,se=D.high,J=D.low,ie=B.high,Ee=B.low,we=N.high,xe=N.low,F=k.high,O=k.low,P=R.high,L=R.low,X=z,te=I,Ae=j,be=q,ke=K,Ce=oe,nt=se,Qe=J,st=ie,Ge=Ee,Nt=we,it=xe,ze=F,Bt=O,sn=P,Et=L,bt=0;bt<80;bt++){var Ct,ge,Oe=g[bt];if(bt<16)ge=Oe.high=S[b+bt*2]|0,Ct=Oe.low=S[b+bt*2+1]|0;else{var ne=g[bt-15],Ne=ne.high,Xe=ne.low,Ze=(Ne>>>1|Xe<<31)^(Ne>>>8|Xe<<24)^Ne>>>7,qe=(Xe>>>1|Ne<<31)^(Xe>>>8|Ne<<24)^(Xe>>>7|Ne<<25),Wt=g[bt-2],mt=Wt.high,an=Wt.low,zn=(mt>>>19|an<<13)^(mt<<3|an>>>29)^mt>>>6,Gt=(an>>>19|mt<<13)^(an<<3|mt>>>29)^(an>>>6|mt<<26),wn=g[bt-7],En=wn.high,Ua=wn.low,Gi=g[bt-16],$s=Gi.high,oi=Gi.low;Ct=qe+Ua,ge=Ze+En+(Ct>>>0<qe>>>0?1:0),Ct=Ct+Gt,ge=ge+zn+(Ct>>>0<Gt>>>0?1:0),Ct=Ct+oi,ge=ge+$s+(Ct>>>0<oi>>>0?1:0),Oe.high=ge,Oe.low=Ct}var Xi=st&Nt^~st&ze,Kt=Ge&it^~Ge&Bt,Ht=X&Ae^X&ke^Ae&ke,dn=te&be^te&Ce^be&Ce,jn=(X>>>28|te<<4)^(X<<30|te>>>2)^(X<<25|te>>>7),Fn=(te>>>28|X<<4)^(te<<30|X>>>2)^(te<<25|X>>>7),Cn=(st>>>14|Ge<<18)^(st>>>18|Ge<<14)^(st<<23|Ge>>>9),Un=(Ge>>>14|st<<18)^(Ge>>>18|st<<14)^(Ge<<23|st>>>9),Zn=m[bt],un=Zn.high,dr=Zn.low,Dt=Et+Un,hn=sn+Cn+(Dt>>>0<Et>>>0?1:0),Dt=Dt+Kt,hn=hn+Xi+(Dt>>>0<Kt>>>0?1:0),Dt=Dt+dr,hn=hn+un+(Dt>>>0<dr>>>0?1:0),Dt=Dt+Ct,hn=hn+ge+(Dt>>>0<Ct>>>0?1:0),kr=Fn+dn,Wr=jn+Ht+(kr>>>0<Fn>>>0?1:0);sn=ze,Et=Bt,ze=Nt,Bt=it,Nt=st,it=Ge,Ge=Qe+Dt|0,st=nt+hn+(Ge>>>0<Qe>>>0?1:0)|0,nt=ke,Qe=Ce,ke=Ae,Ce=be,Ae=X,be=te,te=Dt+kr|0,X=hn+Wr+(te>>>0<Dt>>>0?1:0)|0}I=A.low=I+te,A.high=z+X+(I>>>0<te>>>0?1:0),q=C.low=q+be,C.high=j+Ae+(q>>>0<be>>>0?1:0),oe=E.low=oe+Ce,E.high=K+ke+(oe>>>0<Ce>>>0?1:0),J=D.low=J+Qe,D.high=se+nt+(J>>>0<Qe>>>0?1:0),Ee=B.low=Ee+Ge,B.high=ie+st+(Ee>>>0<Ge>>>0?1:0),xe=N.low=xe+it,N.high=we+Nt+(xe>>>0<it>>>0?1:0),O=k.low=O+Bt,k.high=F+ze+(O>>>0<Bt>>>0?1:0),L=R.low=L+Et,R.high=P+sn+(L>>>0<Et>>>0?1:0)},_doFinalize:function(){var S=this._data,b=S.words,w=this._nDataBytes*8,A=S.sigBytes*8;b[A>>>5]|=128<<24-A%32,b[(A+128>>>10<<5)+30]=Math.floor(w/4294967296),b[(A+128>>>10<<5)+31]=w,S.sigBytes=b.length*4,this._process();var C=this._hash.toX32();return C},clone:function(){var S=s.clone.call(this);return S._hash=this._hash.clone(),S},blockSize:1024/32});r.SHA512=s._createHelper(x),r.HmacSHA512=s._createHmacHelper(x)})(),t.SHA512})})(yh)),yh.exports}var bh={exports:{}},VD=bh.exports,sS;function qD(){return sS||(sS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Zd(),WC())})(VD,function(t){return(function(){var r=t,i=r.x64,s=i.Word,l=i.WordArray,c=r.algo,f=c.SHA512,h=c.SHA384=f.extend({_doReset:function(){this._hash=new l.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var d=f._doFinalize.call(this);return d.sigBytes-=16,d}});r.SHA384=f._createHelper(h),r.HmacSHA384=f._createHmacHelper(h)})(),t.SHA384})})(bh)),bh.exports}var Sh={exports:{}},WD=Sh.exports,aS;function GD(){return aS||(aS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Zd())})(WD,function(t){return(function(r){var i=t,s=i.lib,l=s.WordArray,c=s.Hasher,f=i.x64,h=f.Word,d=i.algo,m=[],g=[],x=[];(function(){for(var w=1,A=0,C=0;C<24;C++){m[w+5*A]=(C+1)*(C+2)/2%64;var E=A%5,D=(2*w+3*A)%5;w=E,A=D}for(var w=0;w<5;w++)for(var A=0;A<5;A++)g[w+5*A]=A+(2*w+3*A)%5*5;for(var B=1,N=0;N<24;N++){for(var k=0,R=0,z=0;z<7;z++){if(B&1){var I=(1<<z)-1;I<32?R^=1<<I:k^=1<<I-32}B&128?B=B<<1^113:B<<=1}x[N]=h.create(k,R)}})();var S=[];(function(){for(var w=0;w<25;w++)S[w]=h.create()})();var b=d.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var w=this._state=[],A=0;A<25;A++)w[A]=new h.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(w,A){for(var C=this._state,E=this.blockSize/2,D=0;D<E;D++){var B=w[A+2*D],N=w[A+2*D+1];B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360;var k=C[D];k.high^=N,k.low^=B}for(var R=0;R<24;R++){for(var z=0;z<5;z++){for(var I=0,j=0,q=0;q<5;q++){var k=C[z+5*q];I^=k.high,j^=k.low}var K=S[z];K.high=I,K.low=j}for(var z=0;z<5;z++)for(var oe=S[(z+4)%5],se=S[(z+1)%5],J=se.high,ie=se.low,I=oe.high^(J<<1|ie>>>31),j=oe.low^(ie<<1|J>>>31),q=0;q<5;q++){var k=C[z+5*q];k.high^=I,k.low^=j}for(var Ee=1;Ee<25;Ee++){var I,j,k=C[Ee],we=k.high,xe=k.low,F=m[Ee];F<32?(I=we<<F|xe>>>32-F,j=xe<<F|we>>>32-F):(I=xe<<F-32|we>>>64-F,j=we<<F-32|xe>>>64-F);var O=S[g[Ee]];O.high=I,O.low=j}var P=S[0],L=C[0];P.high=L.high,P.low=L.low;for(var z=0;z<5;z++)for(var q=0;q<5;q++){var Ee=z+5*q,k=C[Ee],X=S[Ee],te=S[(z+1)%5+5*q],Ae=S[(z+2)%5+5*q];k.high=X.high^~te.high&Ae.high,k.low=X.low^~te.low&Ae.low}var k=C[0],be=x[R];k.high^=be.high,k.low^=be.low}},_doFinalize:function(){var w=this._data,A=w.words;this._nDataBytes*8;var C=w.sigBytes*8,E=this.blockSize*32;A[C>>>5]|=1<<24-C%32,A[(r.ceil((C+1)/E)*E>>>5)-1]|=128,w.sigBytes=A.length*4,this._process();for(var D=this._state,B=this.cfg.outputLength/8,N=B/8,k=[],R=0;R<N;R++){var z=D[R],I=z.high,j=z.low;I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,j=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,k.push(j),k.push(I)}return new l.init(k,B)},clone:function(){for(var w=c.clone.call(this),A=w._state=this._state.slice(0),C=0;C<25;C++)A[C]=A[C].clone();return w}});i.SHA3=c._createHelper(b),i.HmacSHA3=c._createHmacHelper(b)})(Math),t.SHA3})})(Sh)),Sh.exports}var wh={exports:{}},XD=wh.exports,lS;function $D(){return lS||(lS=1,(function(n,e){(function(t,r){n.exports=r(yt())})(XD,function(t){return(function(r){var i=t,s=i.lib,l=s.WordArray,c=s.Hasher,f=i.algo,h=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),m=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),x=l.create([0,1518500249,1859775393,2400959708,2840853838]),S=l.create([1352829926,1548603684,1836072691,2053994217,0]),b=f.RIPEMD160=c.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(N,k){for(var R=0;R<16;R++){var z=k+R,I=N[z];N[z]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var j=this._hash.words,q=x.words,K=S.words,oe=h.words,se=d.words,J=m.words,ie=g.words,Ee,we,xe,F,O,P,L,X,te,Ae;P=Ee=j[0],L=we=j[1],X=xe=j[2],te=F=j[3],Ae=O=j[4];for(var be,R=0;R<80;R+=1)be=Ee+N[k+oe[R]]|0,R<16?be+=w(we,xe,F)+q[0]:R<32?be+=A(we,xe,F)+q[1]:R<48?be+=C(we,xe,F)+q[2]:R<64?be+=E(we,xe,F)+q[3]:be+=D(we,xe,F)+q[4],be=be|0,be=B(be,J[R]),be=be+O|0,Ee=O,O=F,F=B(xe,10),xe=we,we=be,be=P+N[k+se[R]]|0,R<16?be+=D(L,X,te)+K[0]:R<32?be+=E(L,X,te)+K[1]:R<48?be+=C(L,X,te)+K[2]:R<64?be+=A(L,X,te)+K[3]:be+=w(L,X,te)+K[4],be=be|0,be=B(be,ie[R]),be=be+Ae|0,P=Ae,Ae=te,te=B(X,10),X=L,L=be;be=j[1]+xe+te|0,j[1]=j[2]+F+Ae|0,j[2]=j[3]+O+P|0,j[3]=j[4]+Ee+L|0,j[4]=j[0]+we+X|0,j[0]=be},_doFinalize:function(){var N=this._data,k=N.words,R=this._nDataBytes*8,z=N.sigBytes*8;k[z>>>5]|=128<<24-z%32,k[(z+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,N.sigBytes=(k.length+1)*4,this._process();for(var I=this._hash,j=I.words,q=0;q<5;q++){var K=j[q];j[q]=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360}return I},clone:function(){var N=c.clone.call(this);return N._hash=this._hash.clone(),N}});function w(N,k,R){return N^k^R}function A(N,k,R){return N&k|~N&R}function C(N,k,R){return(N|~k)^R}function E(N,k,R){return N&R|k&~R}function D(N,k,R){return N^(k|~R)}function B(N,k){return N<<k|N>>>32-k}i.RIPEMD160=c._createHelper(b),i.HmacRIPEMD160=c._createHmacHelper(b)})(),t.RIPEMD160})})(wh)),wh.exports}var Eh={exports:{}},YD=Eh.exports,oS;function jx(){return oS||(oS=1,(function(n,e){(function(t,r){n.exports=r(yt())})(YD,function(t){(function(){var r=t,i=r.lib,s=i.Base,l=r.enc,c=l.Utf8,f=r.algo;f.HMAC=s.extend({init:function(h,d){h=this._hasher=new h.init,typeof d=="string"&&(d=c.parse(d));var m=h.blockSize,g=m*4;d.sigBytes>g&&(d=h.finalize(d)),d.clamp();for(var x=this._oKey=d.clone(),S=this._iKey=d.clone(),b=x.words,w=S.words,A=0;A<m;A++)b[A]^=1549556828,w[A]^=909522486;x.sigBytes=S.sigBytes=g,this.reset()},reset:function(){var h=this._hasher;h.reset(),h.update(this._iKey)},update:function(h){return this._hasher.update(h),this},finalize:function(h){var d=this._hasher,m=d.finalize(h);d.reset();var g=d.finalize(this._oKey.clone().concat(m));return g}})})()})})(Eh)),Eh.exports}var Ch={exports:{}},KD=Ch.exports,cS;function QD(){return cS||(cS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),zx(),jx())})(KD,function(t){return(function(){var r=t,i=r.lib,s=i.Base,l=i.WordArray,c=r.algo,f=c.SHA256,h=c.HMAC,d=c.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:f,iterations:25e4}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,g){for(var x=this.cfg,S=h.create(x.hasher,m),b=l.create(),w=l.create([1]),A=b.words,C=w.words,E=x.keySize,D=x.iterations;A.length<E;){var B=S.update(g).finalize(w);S.reset();for(var N=B.words,k=N.length,R=B,z=1;z<D;z++){R=S.finalize(R),S.reset();for(var I=R.words,j=0;j<k;j++)N[j]^=I[j]}b.concat(B),C[0]++}return b.sigBytes=E*4,b}});r.PBKDF2=function(m,g,x){return d.create(x).compute(m,g)}})(),t.PBKDF2})})(Ch)),Ch.exports}var Ah={exports:{}},ZD=Ah.exports,fS;function Ha(){return fS||(fS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),qC(),jx())})(ZD,function(t){return(function(){var r=t,i=r.lib,s=i.Base,l=i.WordArray,c=r.algo,f=c.MD5,h=c.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:f,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,m){for(var g,x=this.cfg,S=x.hasher.create(),b=l.create(),w=b.words,A=x.keySize,C=x.iterations;w.length<A;){g&&S.update(g),g=S.update(d).finalize(m),S.reset();for(var E=1;E<C;E++)g=S.finalize(g),S.reset();b.concat(g)}return b.sigBytes=A*4,b}});r.EvpKDF=function(d,m,g){return h.create(g).compute(d,m)}})(),t.EvpKDF})})(Ah)),Ah.exports}var Th={exports:{}},JD=Th.exports,uS;function Qn(){return uS||(uS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Ha())})(JD,function(t){t.lib.Cipher||(function(r){var i=t,s=i.lib,l=s.Base,c=s.WordArray,f=s.BufferedBlockAlgorithm,h=i.enc;h.Utf8;var d=h.Base64,m=i.algo,g=m.EvpKDF,x=s.Cipher=f.extend({cfg:l.extend(),createEncryptor:function(I,j){return this.create(this._ENC_XFORM_MODE,I,j)},createDecryptor:function(I,j){return this.create(this._DEC_XFORM_MODE,I,j)},init:function(I,j,q){this.cfg=this.cfg.extend(q),this._xformMode=I,this._key=j,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(I){return this._append(I),this._process()},finalize:function(I){I&&this._append(I);var j=this._doFinalize();return j},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function I(j){return typeof j=="string"?z:N}return function(j){return{encrypt:function(q,K,oe){return I(K).encrypt(j,q,K,oe)},decrypt:function(q,K,oe){return I(K).decrypt(j,q,K,oe)}}}})()});s.StreamCipher=x.extend({_doFinalize:function(){var I=this._process(!0);return I},blockSize:1});var S=i.mode={},b=s.BlockCipherMode=l.extend({createEncryptor:function(I,j){return this.Encryptor.create(I,j)},createDecryptor:function(I,j){return this.Decryptor.create(I,j)},init:function(I,j){this._cipher=I,this._iv=j}}),w=S.CBC=(function(){var I=b.extend();I.Encryptor=I.extend({processBlock:function(q,K){var oe=this._cipher,se=oe.blockSize;j.call(this,q,K,se),oe.encryptBlock(q,K),this._prevBlock=q.slice(K,K+se)}}),I.Decryptor=I.extend({processBlock:function(q,K){var oe=this._cipher,se=oe.blockSize,J=q.slice(K,K+se);oe.decryptBlock(q,K),j.call(this,q,K,se),this._prevBlock=J}});function j(q,K,oe){var se,J=this._iv;J?(se=J,this._iv=r):se=this._prevBlock;for(var ie=0;ie<oe;ie++)q[K+ie]^=se[ie]}return I})(),A=i.pad={},C=A.Pkcs7={pad:function(I,j){for(var q=j*4,K=q-I.sigBytes%q,oe=K<<24|K<<16|K<<8|K,se=[],J=0;J<K;J+=4)se.push(oe);var ie=c.create(se,K);I.concat(ie)},unpad:function(I){var j=I.words[I.sigBytes-1>>>2]&255;I.sigBytes-=j}};s.BlockCipher=x.extend({cfg:x.cfg.extend({mode:w,padding:C}),reset:function(){var I;x.reset.call(this);var j=this.cfg,q=j.iv,K=j.mode;this._xformMode==this._ENC_XFORM_MODE?I=K.createEncryptor:(I=K.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==I?this._mode.init(this,q&&q.words):(this._mode=I.call(K,this,q&&q.words),this._mode.__creator=I)},_doProcessBlock:function(I,j){this._mode.processBlock(I,j)},_doFinalize:function(){var I,j=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(j.pad(this._data,this.blockSize),I=this._process(!0)):(I=this._process(!0),j.unpad(I)),I},blockSize:128/32});var E=s.CipherParams=l.extend({init:function(I){this.mixIn(I)},toString:function(I){return(I||this.formatter).stringify(this)}}),D=i.format={},B=D.OpenSSL={stringify:function(I){var j,q=I.ciphertext,K=I.salt;return K?j=c.create([1398893684,1701076831]).concat(K).concat(q):j=q,j.toString(d)},parse:function(I){var j,q=d.parse(I),K=q.words;return K[0]==1398893684&&K[1]==1701076831&&(j=c.create(K.slice(2,4)),K.splice(0,4),q.sigBytes-=16),E.create({ciphertext:q,salt:j})}},N=s.SerializableCipher=l.extend({cfg:l.extend({format:B}),encrypt:function(I,j,q,K){K=this.cfg.extend(K);var oe=I.createEncryptor(q,K),se=oe.finalize(j),J=oe.cfg;return E.create({ciphertext:se,key:q,iv:J.iv,algorithm:I,mode:J.mode,padding:J.padding,blockSize:I.blockSize,formatter:K.format})},decrypt:function(I,j,q,K){K=this.cfg.extend(K),j=this._parse(j,K.format);var oe=I.createDecryptor(q,K).finalize(j.ciphertext);return oe},_parse:function(I,j){return typeof I=="string"?j.parse(I,this):I}}),k=i.kdf={},R=k.OpenSSL={execute:function(I,j,q,K,oe){if(K||(K=c.random(64/8)),oe)var se=g.create({keySize:j+q,hasher:oe}).compute(I,K);else var se=g.create({keySize:j+q}).compute(I,K);var J=c.create(se.words.slice(j),q*4);return se.sigBytes=j*4,E.create({key:se,iv:J,salt:K})}},z=s.PasswordBasedCipher=N.extend({cfg:N.cfg.extend({kdf:R}),encrypt:function(I,j,q,K){K=this.cfg.extend(K);var oe=K.kdf.execute(q,I.keySize,I.ivSize,K.salt,K.hasher);K.iv=oe.iv;var se=N.encrypt.call(this,I,j,oe.key,K);return se.mixIn(oe),se},decrypt:function(I,j,q,K){K=this.cfg.extend(K),j=this._parse(j,K.format);var oe=K.kdf.execute(q,I.keySize,I.ivSize,j.salt,K.hasher);K.iv=oe.iv;var se=N.decrypt.call(this,I,j,oe.key,K);return se}})})()})})(Th)),Th.exports}var _h={exports:{}},ek=_h.exports,hS;function tk(){return hS||(hS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Qn())})(ek,function(t){return t.mode.CFB=(function(){var r=t.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(s,l){var c=this._cipher,f=c.blockSize;i.call(this,s,l,f,c),this._prevBlock=s.slice(l,l+f)}}),r.Decryptor=r.extend({processBlock:function(s,l){var c=this._cipher,f=c.blockSize,h=s.slice(l,l+f);i.call(this,s,l,f,c),this._prevBlock=h}});function i(s,l,c,f){var h,d=this._iv;d?(h=d.slice(0),this._iv=void 0):h=this._prevBlock,f.encryptBlock(h,0);for(var m=0;m<c;m++)s[l+m]^=h[m]}return r})(),t.mode.CFB})})(_h)),_h.exports}var Dh={exports:{}},nk=Dh.exports,dS;function rk(){return dS||(dS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Qn())})(nk,function(t){return t.mode.CTR=(function(){var r=t.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,l){var c=this._cipher,f=c.blockSize,h=this._iv,d=this._counter;h&&(d=this._counter=h.slice(0),this._iv=void 0);var m=d.slice(0);c.encryptBlock(m,0),d[f-1]=d[f-1]+1|0;for(var g=0;g<f;g++)s[l+g]^=m[g]}});return r.Decryptor=i,r})(),t.mode.CTR})})(Dh)),Dh.exports}var kh={exports:{}},ik=kh.exports,pS;function sk(){return pS||(pS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Qn())})(ik,function(t){return t.mode.CTRGladman=(function(){var r=t.lib.BlockCipherMode.extend();function i(c){if((c>>24&255)===255){var f=c>>16&255,h=c>>8&255,d=c&255;f===255?(f=0,h===255?(h=0,d===255?d=0:++d):++h):++f,c=0,c+=f<<16,c+=h<<8,c+=d}else c+=1<<24;return c}function s(c){return(c[0]=i(c[0]))===0&&(c[1]=i(c[1])),c}var l=r.Encryptor=r.extend({processBlock:function(c,f){var h=this._cipher,d=h.blockSize,m=this._iv,g=this._counter;m&&(g=this._counter=m.slice(0),this._iv=void 0),s(g);var x=g.slice(0);h.encryptBlock(x,0);for(var S=0;S<d;S++)c[f+S]^=x[S]}});return r.Decryptor=l,r})(),t.mode.CTRGladman})})(kh)),kh.exports}var Oh={exports:{}},ak=Oh.exports,mS;function lk(){return mS||(mS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Qn())})(ak,function(t){return t.mode.OFB=(function(){var r=t.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,l){var c=this._cipher,f=c.blockSize,h=this._iv,d=this._keystream;h&&(d=this._keystream=h.slice(0),this._iv=void 0),c.encryptBlock(d,0);for(var m=0;m<f;m++)s[l+m]^=d[m]}});return r.Decryptor=i,r})(),t.mode.OFB})})(Oh)),Oh.exports}var Bh={exports:{}},ok=Bh.exports,gS;function ck(){return gS||(gS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Qn())})(ok,function(t){return t.mode.ECB=(function(){var r=t.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),r.Decryptor=r.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),r})(),t.mode.ECB})})(Bh)),Bh.exports}var Nh={exports:{}},fk=Nh.exports,xS;function uk(){return xS||(xS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Qn())})(fk,function(t){return t.pad.AnsiX923={pad:function(r,i){var s=r.sigBytes,l=i*4,c=l-s%l,f=s+c-1;r.clamp(),r.words[f>>>2]|=c<<24-f%4*8,r.sigBytes+=c},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},t.pad.Ansix923})})(Nh)),Nh.exports}var Rh={exports:{}},hk=Rh.exports,vS;function dk(){return vS||(vS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Qn())})(hk,function(t){return t.pad.Iso10126={pad:function(r,i){var s=i*4,l=s-r.sigBytes%s;r.concat(t.lib.WordArray.random(l-1)).concat(t.lib.WordArray.create([l<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},t.pad.Iso10126})})(Rh)),Rh.exports}var Fh={exports:{}},pk=Fh.exports,yS;function mk(){return yS||(yS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Qn())})(pk,function(t){return t.pad.Iso97971={pad:function(r,i){r.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(r,i)},unpad:function(r){t.pad.ZeroPadding.unpad(r),r.sigBytes--}},t.pad.Iso97971})})(Fh)),Fh.exports}var Mh={exports:{}},gk=Mh.exports,bS;function xk(){return bS||(bS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Qn())})(gk,function(t){return t.pad.ZeroPadding={pad:function(r,i){var s=i*4;r.clamp(),r.sigBytes+=s-(r.sigBytes%s||s)},unpad:function(r){for(var i=r.words,s=r.sigBytes-1,s=r.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){r.sigBytes=s+1;break}}},t.pad.ZeroPadding})})(Mh)),Mh.exports}var Lh={exports:{}},vk=Lh.exports,SS;function yk(){return SS||(SS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Qn())})(vk,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})})(Lh)),Lh.exports}var Ih={exports:{}},bk=Ih.exports,wS;function Sk(){return wS||(wS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Qn())})(bk,function(t){return(function(r){var i=t,s=i.lib,l=s.CipherParams,c=i.enc,f=c.Hex,h=i.format;h.Hex={stringify:function(d){return d.ciphertext.toString(f)},parse:function(d){var m=f.parse(d);return l.create({ciphertext:m})}}})(),t.format.Hex})})(Ih)),Ih.exports}var Ph={exports:{}},wk=Ph.exports,ES;function Ek(){return ES||(ES=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Dl(),kl(),Ha(),Qn())})(wk,function(t){return(function(){var r=t,i=r.lib,s=i.BlockCipher,l=r.algo,c=[],f=[],h=[],d=[],m=[],g=[],x=[],S=[],b=[],w=[];(function(){for(var E=[],D=0;D<256;D++)D<128?E[D]=D<<1:E[D]=D<<1^283;for(var B=0,N=0,D=0;D<256;D++){var k=N^N<<1^N<<2^N<<3^N<<4;k=k>>>8^k&255^99,c[B]=k,f[k]=B;var R=E[B],z=E[R],I=E[z],j=E[k]*257^k*16843008;h[B]=j<<24|j>>>8,d[B]=j<<16|j>>>16,m[B]=j<<8|j>>>24,g[B]=j;var j=I*16843009^z*65537^R*257^B*16843008;x[k]=j<<24|j>>>8,S[k]=j<<16|j>>>16,b[k]=j<<8|j>>>24,w[k]=j,B?(B=R^E[E[E[I^R]]],N^=E[E[N]]):B=N=1}})();var A=[0,1,2,4,8,16,32,64,128,27,54],C=l.AES=s.extend({_doReset:function(){var E;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var D=this._keyPriorReset=this._key,B=D.words,N=D.sigBytes/4,k=this._nRounds=N+6,R=(k+1)*4,z=this._keySchedule=[],I=0;I<R;I++)I<N?z[I]=B[I]:(E=z[I-1],I%N?N>6&&I%N==4&&(E=c[E>>>24]<<24|c[E>>>16&255]<<16|c[E>>>8&255]<<8|c[E&255]):(E=E<<8|E>>>24,E=c[E>>>24]<<24|c[E>>>16&255]<<16|c[E>>>8&255]<<8|c[E&255],E^=A[I/N|0]<<24),z[I]=z[I-N]^E);for(var j=this._invKeySchedule=[],q=0;q<R;q++){var I=R-q;if(q%4)var E=z[I];else var E=z[I-4];q<4||I<=4?j[q]=E:j[q]=x[c[E>>>24]]^S[c[E>>>16&255]]^b[c[E>>>8&255]]^w[c[E&255]]}}},encryptBlock:function(E,D){this._doCryptBlock(E,D,this._keySchedule,h,d,m,g,c)},decryptBlock:function(E,D){var B=E[D+1];E[D+1]=E[D+3],E[D+3]=B,this._doCryptBlock(E,D,this._invKeySchedule,x,S,b,w,f);var B=E[D+1];E[D+1]=E[D+3],E[D+3]=B},_doCryptBlock:function(E,D,B,N,k,R,z,I){for(var j=this._nRounds,q=E[D]^B[0],K=E[D+1]^B[1],oe=E[D+2]^B[2],se=E[D+3]^B[3],J=4,ie=1;ie<j;ie++){var Ee=N[q>>>24]^k[K>>>16&255]^R[oe>>>8&255]^z[se&255]^B[J++],we=N[K>>>24]^k[oe>>>16&255]^R[se>>>8&255]^z[q&255]^B[J++],xe=N[oe>>>24]^k[se>>>16&255]^R[q>>>8&255]^z[K&255]^B[J++],F=N[se>>>24]^k[q>>>16&255]^R[K>>>8&255]^z[oe&255]^B[J++];q=Ee,K=we,oe=xe,se=F}var Ee=(I[q>>>24]<<24|I[K>>>16&255]<<16|I[oe>>>8&255]<<8|I[se&255])^B[J++],we=(I[K>>>24]<<24|I[oe>>>16&255]<<16|I[se>>>8&255]<<8|I[q&255])^B[J++],xe=(I[oe>>>24]<<24|I[se>>>16&255]<<16|I[q>>>8&255]<<8|I[K&255])^B[J++],F=(I[se>>>24]<<24|I[q>>>16&255]<<16|I[K>>>8&255]<<8|I[oe&255])^B[J++];E[D]=Ee,E[D+1]=we,E[D+2]=xe,E[D+3]=F},keySize:256/32});r.AES=s._createHelper(C)})(),t.AES})})(Ph)),Ph.exports}var Hh={exports:{}},Ck=Hh.exports,CS;function Ak(){return CS||(CS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Dl(),kl(),Ha(),Qn())})(Ck,function(t){return(function(){var r=t,i=r.lib,s=i.WordArray,l=i.BlockCipher,c=r.algo,f=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],d=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],m=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],g=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],x=c.DES=l.extend({_doReset:function(){for(var A=this._key,C=A.words,E=[],D=0;D<56;D++){var B=f[D]-1;E[D]=C[B>>>5]>>>31-B%32&1}for(var N=this._subKeys=[],k=0;k<16;k++){for(var R=N[k]=[],z=d[k],D=0;D<24;D++)R[D/6|0]|=E[(h[D]-1+z)%28]<<31-D%6,R[4+(D/6|0)]|=E[28+(h[D+24]-1+z)%28]<<31-D%6;R[0]=R[0]<<1|R[0]>>>31;for(var D=1;D<7;D++)R[D]=R[D]>>>(D-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var I=this._invSubKeys=[],D=0;D<16;D++)I[D]=N[15-D]},encryptBlock:function(A,C){this._doCryptBlock(A,C,this._subKeys)},decryptBlock:function(A,C){this._doCryptBlock(A,C,this._invSubKeys)},_doCryptBlock:function(A,C,E){this._lBlock=A[C],this._rBlock=A[C+1],S.call(this,4,252645135),S.call(this,16,65535),b.call(this,2,858993459),b.call(this,8,16711935),S.call(this,1,1431655765);for(var D=0;D<16;D++){for(var B=E[D],N=this._lBlock,k=this._rBlock,R=0,z=0;z<8;z++)R|=m[z][((k^B[z])&g[z])>>>0];this._lBlock=k,this._rBlock=N^R}var I=this._lBlock;this._lBlock=this._rBlock,this._rBlock=I,S.call(this,1,1431655765),b.call(this,8,16711935),b.call(this,2,858993459),S.call(this,16,65535),S.call(this,4,252645135),A[C]=this._lBlock,A[C+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function S(A,C){var E=(this._lBlock>>>A^this._rBlock)&C;this._rBlock^=E,this._lBlock^=E<<A}function b(A,C){var E=(this._rBlock>>>A^this._lBlock)&C;this._lBlock^=E,this._rBlock^=E<<A}r.DES=l._createHelper(x);var w=c.TripleDES=l.extend({_doReset:function(){var A=this._key,C=A.words;if(C.length!==2&&C.length!==4&&C.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=C.slice(0,2),D=C.length<4?C.slice(0,2):C.slice(2,4),B=C.length<6?C.slice(0,2):C.slice(4,6);this._des1=x.createEncryptor(s.create(E)),this._des2=x.createEncryptor(s.create(D)),this._des3=x.createEncryptor(s.create(B))},encryptBlock:function(A,C){this._des1.encryptBlock(A,C),this._des2.decryptBlock(A,C),this._des3.encryptBlock(A,C)},decryptBlock:function(A,C){this._des3.decryptBlock(A,C),this._des2.encryptBlock(A,C),this._des1.decryptBlock(A,C)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=l._createHelper(w)})(),t.TripleDES})})(Hh)),Hh.exports}var zh={exports:{}},Tk=zh.exports,AS;function _k(){return AS||(AS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Dl(),kl(),Ha(),Qn())})(Tk,function(t){return(function(){var r=t,i=r.lib,s=i.StreamCipher,l=r.algo,c=l.RC4=s.extend({_doReset:function(){for(var d=this._key,m=d.words,g=d.sigBytes,x=this._S=[],S=0;S<256;S++)x[S]=S;for(var S=0,b=0;S<256;S++){var w=S%g,A=m[w>>>2]>>>24-w%4*8&255;b=(b+x[S]+A)%256;var C=x[S];x[S]=x[b],x[b]=C}this._i=this._j=0},_doProcessBlock:function(d,m){d[m]^=f.call(this)},keySize:256/32,ivSize:0});function f(){for(var d=this._S,m=this._i,g=this._j,x=0,S=0;S<4;S++){m=(m+1)%256,g=(g+d[m])%256;var b=d[m];d[m]=d[g],d[g]=b,x|=d[(d[m]+d[g])%256]<<24-S*8}return this._i=m,this._j=g,x}r.RC4=s._createHelper(c);var h=l.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var d=this.cfg.drop;d>0;d--)f.call(this)}});r.RC4Drop=s._createHelper(h)})(),t.RC4})})(zh)),zh.exports}var jh={exports:{}},Dk=jh.exports,TS;function kk(){return TS||(TS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Dl(),kl(),Ha(),Qn())})(Dk,function(t){return(function(){var r=t,i=r.lib,s=i.StreamCipher,l=r.algo,c=[],f=[],h=[],d=l.Rabbit=s.extend({_doReset:function(){for(var g=this._key.words,x=this.cfg.iv,S=0;S<4;S++)g[S]=(g[S]<<8|g[S]>>>24)&16711935|(g[S]<<24|g[S]>>>8)&4278255360;var b=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],w=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var S=0;S<4;S++)m.call(this);for(var S=0;S<8;S++)w[S]^=b[S+4&7];if(x){var A=x.words,C=A[0],E=A[1],D=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,B=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,N=D>>>16|B&4294901760,k=B<<16|D&65535;w[0]^=D,w[1]^=N,w[2]^=B,w[3]^=k,w[4]^=D,w[5]^=N,w[6]^=B,w[7]^=k;for(var S=0;S<4;S++)m.call(this)}},_doProcessBlock:function(g,x){var S=this._X;m.call(this),c[0]=S[0]^S[5]>>>16^S[3]<<16,c[1]=S[2]^S[7]>>>16^S[5]<<16,c[2]=S[4]^S[1]>>>16^S[7]<<16,c[3]=S[6]^S[3]>>>16^S[1]<<16;for(var b=0;b<4;b++)c[b]=(c[b]<<8|c[b]>>>24)&16711935|(c[b]<<24|c[b]>>>8)&4278255360,g[x+b]^=c[b]},blockSize:128/32,ivSize:64/32});function m(){for(var g=this._X,x=this._C,S=0;S<8;S++)f[S]=x[S];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<f[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<f[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<f[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<f[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<f[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<f[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<f[6]>>>0?1:0)|0,this._b=x[7]>>>0<f[7]>>>0?1:0;for(var S=0;S<8;S++){var b=g[S]+x[S],w=b&65535,A=b>>>16,C=((w*w>>>17)+w*A>>>15)+A*A,E=((b&4294901760)*b|0)+((b&65535)*b|0);h[S]=C^E}g[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,g[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,g[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,g[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,g[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,g[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,g[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,g[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}r.Rabbit=s._createHelper(d)})(),t.Rabbit})})(jh)),jh.exports}var Uh={exports:{}},Ok=Uh.exports,_S;function Bk(){return _S||(_S=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Dl(),kl(),Ha(),Qn())})(Ok,function(t){return(function(){var r=t,i=r.lib,s=i.StreamCipher,l=r.algo,c=[],f=[],h=[],d=l.RabbitLegacy=s.extend({_doReset:function(){var g=this._key.words,x=this.cfg.iv,S=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],b=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var w=0;w<4;w++)m.call(this);for(var w=0;w<8;w++)b[w]^=S[w+4&7];if(x){var A=x.words,C=A[0],E=A[1],D=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,B=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,N=D>>>16|B&4294901760,k=B<<16|D&65535;b[0]^=D,b[1]^=N,b[2]^=B,b[3]^=k,b[4]^=D,b[5]^=N,b[6]^=B,b[7]^=k;for(var w=0;w<4;w++)m.call(this)}},_doProcessBlock:function(g,x){var S=this._X;m.call(this),c[0]=S[0]^S[5]>>>16^S[3]<<16,c[1]=S[2]^S[7]>>>16^S[5]<<16,c[2]=S[4]^S[1]>>>16^S[7]<<16,c[3]=S[6]^S[3]>>>16^S[1]<<16;for(var b=0;b<4;b++)c[b]=(c[b]<<8|c[b]>>>24)&16711935|(c[b]<<24|c[b]>>>8)&4278255360,g[x+b]^=c[b]},blockSize:128/32,ivSize:64/32});function m(){for(var g=this._X,x=this._C,S=0;S<8;S++)f[S]=x[S];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<f[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<f[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<f[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<f[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<f[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<f[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<f[6]>>>0?1:0)|0,this._b=x[7]>>>0<f[7]>>>0?1:0;for(var S=0;S<8;S++){var b=g[S]+x[S],w=b&65535,A=b>>>16,C=((w*w>>>17)+w*A>>>15)+A*A,E=((b&4294901760)*b|0)+((b&65535)*b|0);h[S]=C^E}g[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,g[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,g[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,g[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,g[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,g[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,g[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,g[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}r.RabbitLegacy=s._createHelper(d)})(),t.RabbitLegacy})})(Uh)),Uh.exports}var Vh={exports:{}},Nk=Vh.exports,DS;function Rk(){return DS||(DS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Dl(),kl(),Ha(),Qn())})(Nk,function(t){return(function(){var r=t,i=r.lib,s=i.BlockCipher,l=r.algo;const c=16,f=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],h=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var d={pbox:[],sbox:[]};function m(w,A){let C=A>>24&255,E=A>>16&255,D=A>>8&255,B=A&255,N=w.sbox[0][C]+w.sbox[1][E];return N=N^w.sbox[2][D],N=N+w.sbox[3][B],N}function g(w,A,C){let E=A,D=C,B;for(let N=0;N<c;++N)E=E^w.pbox[N],D=m(w,E)^D,B=E,E=D,D=B;return B=E,E=D,D=B,D=D^w.pbox[c],E=E^w.pbox[c+1],{left:E,right:D}}function x(w,A,C){let E=A,D=C,B;for(let N=c+1;N>1;--N)E=E^w.pbox[N],D=m(w,E)^D,B=E,E=D,D=B;return B=E,E=D,D=B,D=D^w.pbox[1],E=E^w.pbox[0],{left:E,right:D}}function S(w,A,C){for(let k=0;k<4;k++){w.sbox[k]=[];for(let R=0;R<256;R++)w.sbox[k][R]=h[k][R]}let E=0;for(let k=0;k<c+2;k++)w.pbox[k]=f[k]^A[E],E++,E>=C&&(E=0);let D=0,B=0,N=0;for(let k=0;k<c+2;k+=2)N=g(w,D,B),D=N.left,B=N.right,w.pbox[k]=D,w.pbox[k+1]=B;for(let k=0;k<4;k++)for(let R=0;R<256;R+=2)N=g(w,D,B),D=N.left,B=N.right,w.sbox[k][R]=D,w.sbox[k][R+1]=B;return!0}var b=l.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var w=this._keyPriorReset=this._key,A=w.words,C=w.sigBytes/4;S(d,A,C)}},encryptBlock:function(w,A){var C=g(d,w[A],w[A+1]);w[A]=C.left,w[A+1]=C.right},decryptBlock:function(w,A){var C=x(d,w[A],w[A+1]);w[A]=C.left,w[A+1]=C.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=s._createHelper(b)})(),t.Blowfish})})(Vh)),Vh.exports}var Fk=oh.exports,kS;function Mk(){return kS||(kS=1,(function(n,e){(function(t,r,i){n.exports=r(yt(),Zd(),BD(),RD(),Dl(),LD(),kl(),qC(),zx(),jD(),WC(),qD(),GD(),$D(),jx(),QD(),Ha(),Qn(),tk(),rk(),sk(),lk(),ck(),uk(),dk(),mk(),xk(),yk(),Sk(),Ek(),Ak(),_k(),kk(),Bk(),Rk())})(Fk,function(t){return t})})(oh)),oh.exports}var Lk=Mk();const Hg=UC(Lk),OS="hap-query-report-secret-key";function Ik({onConnect:n}){const[e,t]=Q.useState({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}),[r,i]=Q.useState([]),[s,l]=Q.useState({type:"",message:""}),[c,f]=Q.useState(!1),[h,d]=Q.useState(null);Q.useEffect(()=>{const B=localStorage.getItem("oracle_connections");if(B)try{i(JSON.parse(B))}catch(N){console.error("Failed to parse saved connections",N)}},[]);const m=B=>B?Hg.AES.encrypt(B,OS).toString():"",g=B=>{if(!B)return"";try{return Hg.AES.decrypt(B,OS).toString(Hg.enc.Utf8)||B}catch{return B}},x=B=>{t({...e,[B.target.name]:B.target.value})},S=async()=>{l({type:"info",message:"Testing connection..."});try{const N=await(await fetch("http://localhost:3001/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();N.success?l({type:"success",message:"Connection Successful!"}):l({type:"error",message:"Connection Failed: "+N.message})}catch(B){l({type:"error",message:"Network Error: "+B.message})}},b=()=>{if(!e.user||!e.connectString||!e.connectionName){l({type:"error",message:"Please fill in Name, User and Host."});return}const B={...e,password:m(e.password)};let N;if(c&&h)N=r.map(k=>k.id===h?{...B,id:h}:k),f(!1),d(null),l({type:"success",message:"Connection updated!"});else{const k={...B,id:Date.now().toString()};N=[...r,k],l({type:"success",message:"Connection saved!"})}i(N),localStorage.setItem("oracle_connections",JSON.stringify(N))},w=B=>{t({user:B.user,password:g(B.password),connectString:B.connectString,connectionName:B.connectionName||""}),l({type:"",message:""}),f(!0),d(B.id)},A=(B,N)=>{N.stopPropagation(),t({user:B.user,password:g(B.password),connectString:B.connectString,connectionName:B.connectionName||""}),f(!0),d(B.id),l({type:"info",message:`Editing: ${B.connectionName}`})},C=(B,N)=>{if(N.stopPropagation(),window.confirm("Are you sure you want to delete this connection?")){const k=r.filter(R=>R.id!==B);i(k),localStorage.setItem("oracle_connections",JSON.stringify(k)),h===B&&(f(!1),d(null),t({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}))}},E=async()=>{l({type:"info",message:"Connecting..."});try{const N=await(await fetch("http://localhost:3001/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();N.success?n(e):l({type:"error",message:N.message})}catch(B){l({type:"error",message:B.message})}},D=()=>{f(!1),d(null),t({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}),l({type:"",message:""})};return T.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans",children:[T.jsxs("div",{className:"w-1/3 bg-white border-r border-gray-200 p-6 flex flex-col shadow-lg z-10",children:[T.jsxs("div",{className:"flex flex-col items-center justify-center mb-8",children:[T.jsx("img",{src:O1,alt:"Hap Logo",className:"h-24 object-contain mb-4"}),T.jsx("h1",{className:"text-2xl font-bold text-[#0054a6] tracking-tight",children:"Hap Query Report"})]}),T.jsx("h2",{className:"text-lg font-bold text-gray-700 mb-4 px-2 border-l-4 border-[#f37021]",children:"Conexes Salvas"}),T.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:[r.length===0&&T.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[T.jsx("p",{className:"text-gray-400 italic",children:"Nenhuma conexo salva."}),T.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Preencha o formulrio para criar uma."})]}),r.map((B,N)=>T.jsxs("div",{onClick:()=>w(B),className:`p-4 rounded-lg border cursor-pointer transition-all hover:shadow-md group relative ${h===B.id?"border-[#f37021] bg-orange-50":"border-gray-200 hover:border-blue-300 bg-white"}`,children:[T.jsx("div",{className:"font-bold text-gray-800",children:B.connectionName||`Connection ${N+1}`}),T.jsxs("div",{className:"text-sm text-gray-500",children:[B.user,"@",B.connectString]}),T.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[T.jsx("button",{onClick:k=>A(B,k),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Editar",children:""}),T.jsx("button",{onClick:k=>C(B.id,k),className:"p-1.5 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Excluir",children:""})]})]},B.id||N))]}),T.jsxs("button",{onClick:()=>{f(!1),d(null),t({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}),l({type:"",message:""})},className:"mt-6 w-full py-3 border-2 border-dashed border-gray-300 text-gray-500 rounded-lg hover:border-[#0054a6] hover:text-[#0054a6] transition-all font-medium flex items-center justify-center gap-2",children:[T.jsx("span",{className:"text-xl",children:"+"})," Nova Conexo"]})]}),T.jsx("div",{className:"w-2/3 p-10 flex flex-col justify-center bg-gradient-to-br from-gray-50 to-blue-50",children:T.jsxs("div",{className:"max-w-lg mx-auto w-full bg-white p-10 rounded-2xl shadow-xl border border-gray-100",children:[T.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:c?"Editar Conexo":"Nova Conexo"}),T.jsxs("div",{className:"space-y-5",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Nome da Conexo (Ex: DEV, PROD)"}),T.jsx("input",{type:"text",name:"connectionName",value:e.connectionName,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all",placeholder:"Minha Conexo"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Usurio"}),T.jsx("input",{type:"text",name:"user",value:e.user,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Senha"}),T.jsx("input",{type:"password",name:"password",value:e.password,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Host (Connect String)"}),T.jsx("input",{type:"text",name:"connectString",value:e.connectString,onChange:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all",placeholder:"localhost:1521/XEPDB1"})]}),s.message&&T.jsx("div",{className:`p-4 rounded-lg text-sm font-medium ${s.type==="error"?"bg-red-50 text-red-700 border border-red-200":s.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-blue-50 text-blue-700 border border-blue-200"}`,children:s.message}),T.jsxs("div",{className:"flex space-x-3 pt-6",children:[T.jsx("button",{onClick:S,className:"flex-1 py-3 px-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-bold border border-gray-300",children:"Testar"}),T.jsx("button",{onClick:b,className:"flex-1 py-3 px-4 bg-[#f37021] text-white rounded-lg hover:bg-orange-600 transition-colors font-bold shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:c?"Atualizar":"Salvar"}),T.jsx("button",{onClick:E,className:"flex-1 py-3 px-4 bg-[#0054a6] text-white rounded-lg hover:bg-blue-800 transition-colors font-bold shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"Conectar"})]}),c&&T.jsx("button",{onClick:D,className:"w-full mt-2 text-sm text-gray-500 hover:text-gray-700 underline text-center block",children:"Cancelar Edio"})]})]})})]})}var rd={};rd.version="0.18.5";var GC=1252,Pk=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],XC=function(n){Pk.indexOf(n)!=-1&&(GC=n)};function Hk(){XC(1252)}var E0=function(n){XC(n)};function zk(){E0(1200),Hk()}var _u=function(e){return String.fromCharCode(e)},BS=function(e){return String.fromCharCode(e)},id,Ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function C0(n){for(var e="",t=0,r=0,i=0,s=0,l=0,c=0,f=0,h=0;h<n.length;)t=n.charCodeAt(h++),s=t>>2,r=n.charCodeAt(h++),l=(t&3)<<4|r>>4,i=n.charCodeAt(h++),c=(r&15)<<2|i>>6,f=i&63,isNaN(r)?c=f=64:isNaN(i)&&(f=64),e+=Ca.charAt(s)+Ca.charAt(l)+Ca.charAt(c)+Ca.charAt(f);return e}function js(n){var e="",t=0,r=0,i=0,s=0,l=0,c=0,f=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<n.length;)s=Ca.indexOf(n.charAt(h++)),l=Ca.indexOf(n.charAt(h++)),t=s<<2|l>>4,e+=String.fromCharCode(t),c=Ca.indexOf(n.charAt(h++)),r=(l&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(r)),f=Ca.indexOf(n.charAt(h++)),i=(c&3)<<6|f,f!==64&&(e+=String.fromCharCode(i));return e}var Ot=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Gs=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function bl(n){return Ot?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function NS(n){return Ot?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var Li=function(e){return Ot?Gs(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Jd(n){if(typeof ArrayBuffer>"u")return Li(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function K0(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function jk(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var lr=Ot?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:Gs(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Uk(n){for(var e=[],t=0,r=n.length+250,i=bl(n.length+255),s=0;s<n.length;++s){var l=n.charCodeAt(s);if(l<128)i[t++]=l;else if(l<2048)i[t++]=192|l>>6&31,i[t++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=n.charCodeAt(++s)&1023;i[t++]=240|l>>8&7,i[t++]=128|l>>2&63,i[t++]=128|c>>6&15|(l&3)<<4,i[t++]=128|c&63}else i[t++]=224|l>>12&15,i[t++]=128|l>>6&63,i[t++]=128|l&63;t>r&&(e.push(i.slice(0,t)),t=0,i=bl(65535),r=65530)}return e.push(i.slice(0,t)),lr(e)}var l0=/\u0000/g,Du=/[\u0001-\u0006]/g;function Do(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function Ii(n,e){var t=""+n;return t.length>=e?t:gn("0",e-t.length)+t}function Ux(n,e){var t=""+n;return t.length>=e?t:gn(" ",e-t.length)+t}function sd(n,e){var t=""+n;return t.length>=e?t:t+gn(" ",e-t.length)}function Vk(n,e){var t=""+Math.round(n);return t.length>=e?t:gn("0",e-t.length)+t}function qk(n,e){var t=""+n;return t.length>=e?t:gn("0",e-t.length)+t}var RS=Math.pow(2,32);function go(n,e){if(n>RS||n<-RS)return Vk(n,e);var t=Math.round(n);return qk(t,e)}function ad(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var FS=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],zg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Wk(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var xn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},MS={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Gk={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ld(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,l=1,c=0,f=1,h=0,d=0,m=Math.floor(i);h<e&&(m=Math.floor(i),c=m*l+s,d=m*h+f,!(i-m<5e-8));)i=1/(i-m),s=l,l=c,f=h,h=d;if(d>e&&(h>e?(d=f,c=s):(d=h,c=l)),!t)return[0,r*c,d];var g=Math.floor(r*c/d);return[g,r*c-g*d,d]}function ku(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),s=0,l=[],c={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++r,++c.D)),r===60)l=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)l=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var f=new Date(1900,0,1);f.setDate(f.getDate()+r-1),l=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=f.getDay(),r<60&&(s=(s+6)%7),t&&(s=Jk(f,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=s,c}var $C=new Date(1899,11,31,0,0,0),Xk=$C.getTime(),$k=new Date(1900,2,1,0,0,0);function YC(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=$k&&(t+=1440*60*1e3),(t-(Xk+(n.getTimezoneOffset()-$C.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Vx(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Yk(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Kk(n){var e=n<0?12:11,t=Vx(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function Qk(n){var e=Vx(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function Zk(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=Kk(n):e===10?t=n.toFixed(10).substr(0,12):t=Qk(n),Vx(Yk(t.toUpperCase()))}function B1(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):Zk(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return Oa(14,YC(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function Jk(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function eO(n,e,t,r){var i="",s=0,l=0,c=t.y,f,h=0;switch(n){case 98:c=t.y+543;case 121:switch(e.length){case 1:case 2:f=c%100,h=2;break;default:f=c%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:f=t.m,h=e.length;break;case 3:return zg[t.m-1][1];case 5:return zg[t.m-1][0];default:return zg[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=t.d,h=e.length;break;case 3:return FS[t.q][0];default:return FS[t.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(t.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=t.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=t.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Ii(t.S,e.length):(r>=2?l=r===3?1e3:100:l=r===1?10:1,s=Math.round(l*(t.S+t.u)),s>=60*l&&(s=0),e==="s"?s===0?"0":""+s/l:(i=Ii(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=t.D*24+t.H;break;case"[m]":case"[mm]":f=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":f=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:f=c,h=1;break}var d=h>0?Ii(f,h):"";return d}function Aa(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var KC=/%/g;function tO(n,e,t){var r=e.replace(KC,""),i=e.length-r.length;return Is(n,r,t*Math.pow(10,2*i))+gn("%",i)}function nO(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Is(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function QC(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+QC(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),t.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+s):t+="E+"+(l-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,h,d){return f+h+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var ZC=/# (\?+)( ?)\/( ?)(\d+)/;function rO(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),l=i-s*r,c=r;return t+(s===0?"":""+s)+" "+(l===0?gn(" ",n[1].length+1+n[4].length):Ux(l,n[1].length)+n[2]+"/"+n[3]+Ii(c,n[4].length))}function iO(n,e,t){return t+(e===0?"":""+e)+gn(" ",n[1].length+2+n[4].length)}var JC=/^#*0*\.([0#]+)/,eA=/\).*[0#]/,tA=/\(###\) ###\\?-####/;function Sr(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function LS(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function IS(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function sO(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function aO(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function bi(n,e,t){if(n.charCodeAt(0)===40&&!e.match(eA)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?bi("n",r,t):"("+bi("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return nO(n,e,t);if(e.indexOf("%")!==-1)return tO(n,e,t);if(e.indexOf("E")!==-1)return QC(e,t);if(e.charCodeAt(0)===36)return"$"+bi(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,l,c,f=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+go(f,e.length);if(e.match(/^[#?]+$/))return i=go(t,0),i==="0"&&(i=""),i.length>e.length?i:Sr(e.substr(0,e.length-i.length))+i;if(s=e.match(ZC))return rO(s,f,h);if(e.match(/^#+0+$/))return h+go(f,e.length-e.indexOf("0"));if(s=e.match(JC))return i=LS(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Sr(s[1])).replace(/\.$/,"."+Sr(s[1])).replace(/\.(\d*)$/,function(S,b){return"."+b+gn("0",Sr(s[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+LS(f,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+Aa(go(f,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+bi(n,e,-t):Aa(""+(Math.floor(t)+sO(t,s[1].length)))+"."+Ii(IS(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return bi(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Do(bi(n,e.replace(/[\\-]/g,""),t)),l=0,Do(Do(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<i.length?i.charAt(l++):S==="0"?"0":""}));if(e.match(tA))return i=bi(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),c=ld(f,Math.pow(10,l)-1,!1),i=""+h,d=Is("n",s[1],c[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=sd(c[2],l),d.length<s[4].length&&(d=Sr(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),c=ld(f,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Ux(c[1],l)+s[2]+"/"+s[3]+sd(c[2],l):gn(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=go(t,0),e.length<=i.length?i:Sr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var m=e.indexOf(".")-l,g=e.length-i.length-m;return Sr(e.substr(0,m)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return l=IS(t,s[1].length),t<0?"-"+bi(n,e,-t):Aa(aO(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Ii(0,3-S.length):"")+S})+"."+Ii(l,s[1].length);switch(e){case"###,##0.00":return bi(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var x=Aa(go(f,0));return x!=="0"?h+x:"";case"###,###.00":return bi(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return bi(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function lO(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Is(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function oO(n,e,t){var r=e.replace(KC,""),i=e.length-r.length;return Is(n,r,t*Math.pow(10,2*i))+gn("%",i)}function nA(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+nA(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!t.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+s):t+="E+"+(l-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,h,d){return f+h+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function ns(n,e,t){if(n.charCodeAt(0)===40&&!e.match(eA)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ns("n",r,t):"("+ns("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return lO(n,e,t);if(e.indexOf("%")!==-1)return oO(n,e,t);if(e.indexOf("E")!==-1)return nA(e,t);if(e.charCodeAt(0)===36)return"$"+ns(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,l,c,f=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+Ii(f,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Sr(e.substr(0,e.length-i.length))+i;if(s=e.match(ZC))return iO(s,f,h);if(e.match(/^#+0+$/))return h+Ii(f,e.length-e.indexOf("0"));if(s=e.match(JC))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Sr(s[1])).replace(/\.$/,"."+Sr(s[1])),i=i.replace(/\.(\d*)$/,function(S,b){return"."+b+gn("0",Sr(s[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+Aa(""+f);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ns(n,e,-t):Aa(""+t)+"."+gn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return ns(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Do(ns(n,e.replace(/[\\-]/g,""),t)),l=0,Do(Do(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<i.length?i.charAt(l++):S==="0"?"0":""}));if(e.match(tA))return i=ns(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),c=ld(f,Math.pow(10,l)-1,!1),i=""+h,d=Is("n",s[1],c[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=sd(c[2],l),d.length<s[4].length&&(d=Sr(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),c=ld(f,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Ux(c[1],l)+s[2]+"/"+s[3]+sd(c[2],l):gn(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Sr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var m=e.indexOf(".")-l,g=e.length-i.length-m;return Sr(e.substr(0,m)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+ns(n,e,-t):Aa(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Ii(0,3-S.length):"")+S})+"."+Ii(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var x=Aa(""+f);return x!=="0"?h+x:"";default:if(e.match(/\.[0#?]*$/))return ns(n,e.slice(0,e.lastIndexOf(".")),t)+Sr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Is(n,e,t){return(t|0)===t?ns(n,e,t):bi(n,e,t)}function cO(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var rA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function iA(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":ad(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(rA))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function fO(n,e,t,r){for(var i=[],s="",l=0,c="",f="t",h,d,m,g="H";l<n.length;)switch(c=n.charAt(l)){case"G":if(!ad(n,l))throw new Error("unrecognized character "+c+" in "+n);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(m=n.charCodeAt(++l))!==34&&l<n.length;)s+=String.fromCharCode(m);i[i.length]={t:"t",v:s},++l;break;case"\\":var x=n.charAt(++l),S=x==="("||x===")"?x:"t";i[i.length]={t:S,v:x},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:e},++l;break;case"B":case"b":if(n.charAt(l+1)==="1"||n.charAt(l+1)==="2"){if(h==null&&(h=ku(e,t,n.charAt(l+1)==="2"),h==null))return"";i[i.length]={t:"X",v:n.substr(l,2)},f=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=ku(e,t),h==null))return"";for(s=c;++l<n.length&&n.charAt(l).toLowerCase()===c;)s+=c;c==="m"&&f.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=g),i[i.length]={t:c,v:s},f=c;break;case"A":case"a":case"":var b={t:c,v:c};if(h==null&&(h=ku(e,t)),n.substr(l,3).toUpperCase()==="A/P"?(h!=null&&(b.v=h.H>=12?"P":"A"),b.t="T",g="h",l+=3):n.substr(l,5).toUpperCase()==="AM/PM"?(h!=null&&(b.v=h.H>=12?"PM":"AM"),b.t="T",l+=5,g="h"):n.substr(l,5).toUpperCase()==="/"?(h!=null&&(b.v=h.H>=12?"":""),b.t="T",l+=5,g="h"):(b.t="t",++l),h==null&&b.t==="T")return"";i[i.length]=b,f=c;break;case"[":for(s=c;n.charAt(l++)!=="]"&&l<n.length;)s+=n.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(rA)){if(h==null&&(h=ku(e,t),h==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},f=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",iA(n)||(i[i.length]={t:"t",v:s}));break;case".":if(h!=null){for(s=c;++l<n.length&&(c=n.charAt(l))==="0";)s+=c;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++l<n.length&&"0#?.,E+-%".indexOf(c=n.charAt(l))>-1;)s+=c;i[i.length]={t:"n",v:s};break;case"?":for(s=c;n.charAt(++l)===c;)s+=c;i[i.length]={t:c,v:s},f=c;break;case"*":++l,(n.charAt(l)==" "||n.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:r===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;l<n.length&&"0123456789".indexOf(n.charAt(++l))>-1;)s+=n.charAt(l);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:c,v:c},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+n);i[i.length]={t:"t",v:c},++l;break}var w=0,A=0,C;for(l=i.length-1,f="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=g,f="h",w<1&&(w=1);break;case"s":(C=i[l].v.match(/\.0+$/))&&(A=Math.max(A,C[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":f=i[l].t;break;case"m":f==="s"&&(i[l].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&i[l].v.match(/[Hh]/)&&(w=1),w<2&&i[l].v.match(/[Mm]/)&&(w=2),w<3&&i[l].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var E="",D;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=eO(i[l].t.charCodeAt(0),i[l].v,h,A),i[l].t="t";break;case"n":case"?":for(D=l+1;i[D]!=null&&((c=i[D].t)==="?"||c==="D"||(c===" "||c==="t")&&i[D+1]!=null&&(i[D+1].t==="?"||i[D+1].t==="t"&&i[D+1].v==="/")||i[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[D].v==="/"||i[D].v===" "&&i[D+1]!=null&&i[D+1].t=="?"));)i[l].v+=i[D].v,i[D]={v:"",t:";"},++D;E+=i[l].v,l=D-1;break;case"G":i[l].t="t",i[l].v=B1(e,t);break}var B="",N,k;if(E.length>0){E.charCodeAt(0)==40?(N=e<0&&E.charCodeAt(0)===45?-e:e,k=Is("n",E,N)):(N=e<0&&r>1?-e:e,k=Is("n",E,N),N<0&&i[0]&&i[0].t=="t"&&(k=k.substr(1),i[0].v="-"+i[0].v)),D=k.length-1;var R=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){R=l;break}var z=i.length;if(R===i.length&&k.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(D>=i[l].v.length-1?(D-=i[l].v.length,i[l].v=k.substr(D+1,i[l].v.length)):D<0?i[l].v="":(i[l].v=k.substr(0,D+1),D=-1),i[l].t="t",z=l);D>=0&&z<i.length&&(i[z].v=k.substr(0,D+1)+i[z].v)}else if(R!==i.length&&k.indexOf("E")===-1){for(D=k.indexOf(".")-1,l=R;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(d=i[l].v.indexOf(".")>-1&&l===R?i[l].v.indexOf(".")-1:i[l].v.length-1,B=i[l].v.substr(d+1);d>=0;--d)D>=0&&(i[l].v.charAt(d)==="0"||i[l].v.charAt(d)==="#")&&(B=k.charAt(D--)+B);i[l].v=B,i[l].t="t",z=l}for(D>=0&&z<i.length&&(i[z].v=k.substr(0,D+1)+i[z].v),D=k.indexOf(".")+1,l=R;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==R)){for(d=i[l].v.indexOf(".")>-1&&l===R?i[l].v.indexOf(".")+1:0,B=i[l].v.substr(0,d);d<i[l].v.length;++d)D<k.length&&(B+=k.charAt(D++));i[l].v=B,i[l].t="t",z=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(N=r>1&&e<0&&l>0&&i[l-1].v==="-"?-e:e,i[l].v=Is(i[l].t,i[l].v,N),i[l].t="t");var I="";for(l=0;l!==i.length;++l)i[l]!=null&&(I+=i[l].v);return I}var PS=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function HS(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function uO(n,e){var t=cO(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var l=t[0].match(PS),c=t[1].match(PS);return HS(e,l)?[r,t[0]]:HS(e,c)?[r,t[1]]:[r,t[l!=null&&c!=null?2:1]]}return[r,s]}function Oa(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:xn)[n],r==null&&(r=t.table&&t.table[MS[n]]||xn[MS[n]]),r==null&&(r=Gk[n]||"General");break}if(ad(r,0))return B1(e,t);e instanceof Date&&(e=YC(e,t.date1904));var i=uO(r,e);if(ad(i[1]))return B1(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return fO(i[1],e,t,i[0])}function sA(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(xn[t]==null){e<0&&(e=t);continue}if(xn[t]==n){e=t;break}}e<0&&(e=391)}return xn[e]=n,e}function ep(n){for(var e=0;e!=392;++e)n[e]!==void 0&&sA(n[e],e)}function tp(){xn=Wk()}var aA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function hO(n){var e=typeof n=="number"?xn[n]:n;return e=e.replace(aA,"(\\d+)"),new RegExp("^"+e+"$")}function dO(n,e,t){var r=-1,i=-1,s=-1,l=-1,c=-1,f=-1;(e.match(aA)||[]).forEach(function(m,g){var x=parseInt(t[g+1],10);switch(m.toLowerCase().charAt(0)){case"y":r=x;break;case"d":s=x;break;case"h":l=x;break;case"s":f=x;break;case"m":l>=0?c=x:i=x;break}}),f>=0&&c==-1&&i>=0&&(c=i,i=-1);var h=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var d=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return l==-1&&c==-1&&f==-1?h:r==-1&&i==-1&&s==-1?d:h+"T"+d}var pO=(function(){var n={};n.version="1.2.0";function e(){for(var k=0,R=new Array(256),z=0;z!=256;++z)k=z,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,R[z]=k;return typeof Int32Array<"u"?new Int32Array(R):R}var t=e();function r(k){var R=0,z=0,I=0,j=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)j[I]=k[I];for(I=0;I!=256;++I)for(z=k[I],R=256+I;R<4096;R+=256)z=j[R]=z>>>8^k[z&255];var q=[];for(I=1;I!=16;++I)q[I-1]=typeof Int32Array<"u"?j.subarray(I*256,I*256+256):j.slice(I*256,I*256+256);return q}var i=r(t),s=i[0],l=i[1],c=i[2],f=i[3],h=i[4],d=i[5],m=i[6],g=i[7],x=i[8],S=i[9],b=i[10],w=i[11],A=i[12],C=i[13],E=i[14];function D(k,R){for(var z=R^-1,I=0,j=k.length;I<j;)z=z>>>8^t[(z^k.charCodeAt(I++))&255];return~z}function B(k,R){for(var z=R^-1,I=k.length-15,j=0;j<I;)z=E[k[j++]^z&255]^C[k[j++]^z>>8&255]^A[k[j++]^z>>16&255]^w[k[j++]^z>>>24]^b[k[j++]]^S[k[j++]]^x[k[j++]]^g[k[j++]]^m[k[j++]]^d[k[j++]]^h[k[j++]]^f[k[j++]]^c[k[j++]]^l[k[j++]]^s[k[j++]]^t[k[j++]];for(I+=15;j<I;)z=z>>>8^t[(z^k[j++])&255];return~z}function N(k,R){for(var z=R^-1,I=0,j=k.length,q=0,K=0;I<j;)q=k.charCodeAt(I++),q<128?z=z>>>8^t[(z^q)&255]:q<2048?(z=z>>>8^t[(z^(192|q>>6&31))&255],z=z>>>8^t[(z^(128|q&63))&255]):q>=55296&&q<57344?(q=(q&1023)+64,K=k.charCodeAt(I++)&1023,z=z>>>8^t[(z^(240|q>>8&7))&255],z=z>>>8^t[(z^(128|q>>2&63))&255],z=z>>>8^t[(z^(128|K>>6&15|(q&3)<<4))&255],z=z>>>8^t[(z^(128|K&63))&255]):(z=z>>>8^t[(z^(224|q>>12&15))&255],z=z>>>8^t[(z^(128|q>>6&63))&255],z=z>>>8^t[(z^(128|q&63))&255]);return~z}return n.table=t,n.bstr=D,n.buf=B,n.str=N,n})(),Vt=(function(){var e={};e.version="1.2.1";function t(M,G){for(var U=M.split("/"),V=G.split("/"),W=0,Y=0,ce=Math.min(U.length,V.length);W<ce;++W){if(Y=U[W].length-V[W].length)return Y;if(U[W]!=V[W])return U[W]<V[W]?-1:1}return U.length-V.length}function r(M){if(M.charAt(M.length-1)=="/")return M.slice(0,-1).indexOf("/")===-1?M:r(M.slice(0,-1));var G=M.lastIndexOf("/");return G===-1?M:M.slice(0,G+1)}function i(M){if(M.charAt(M.length-1)=="/")return i(M.slice(0,-1));var G=M.lastIndexOf("/");return G===-1?M:M.slice(G+1)}function s(M,G){typeof G=="string"&&(G=new Date(G));var U=G.getHours();U=U<<6|G.getMinutes(),U=U<<5|G.getSeconds()>>>1,M.write_shift(2,U);var V=G.getFullYear()-1980;V=V<<4|G.getMonth()+1,V=V<<5|G.getDate(),M.write_shift(2,V)}function l(M){var G=M.read_shift(2)&65535,U=M.read_shift(2)&65535,V=new Date,W=U&31;U>>>=5;var Y=U&15;U>>>=4,V.setMilliseconds(0),V.setFullYear(U+1980),V.setMonth(Y-1),V.setDate(W);var ce=G&31;G>>>=5;var Se=G&63;return G>>>=6,V.setHours(G),V.setMinutes(Se),V.setSeconds(ce<<1),V}function c(M){ri(M,0);for(var G={},U=0;M.l<=M.length-4;){var V=M.read_shift(2),W=M.read_shift(2),Y=M.l+W,ce={};switch(V){case 21589:U=M.read_shift(1),U&1&&(ce.mtime=M.read_shift(4)),W>5&&(U&2&&(ce.atime=M.read_shift(4)),U&4&&(ce.ctime=M.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}M.l=Y,G[V]=ce}return G}var f;function h(){return f||(f={})}function d(M,G){if(M[0]==80&&M[1]==75)return oi(M,G);if((M[0]|32)==109&&(M[1]|32)==105)return Zn(M,G);if(M.length<512)throw new Error("CFB file size "+M.length+" < 512");var U=3,V=512,W=0,Y=0,ce=0,Se=0,fe=0,ue=[],de=M.slice(0,512);ri(de,0);var Re=m(de);switch(U=Re[0],U){case 3:V=512;break;case 4:V=4096;break;case 0:if(Re[1]==0)return oi(M,G);default:throw new Error("Major Version: Expected 3 or 4 saw "+U)}V!==512&&(de=M.slice(0,V),ri(de,28));var Me=M.slice(0,V);g(de,U);var je=de.read_shift(4,"i");if(U===3&&je!==0)throw new Error("# Directory Sectors: Expected 0 saw "+je);de.l+=4,ce=de.read_shift(4,"i"),de.l+=4,de.chk("00100000","Mini Stream Cutoff Size: "),Se=de.read_shift(4,"i"),W=de.read_shift(4,"i"),fe=de.read_shift(4,"i"),Y=de.read_shift(4,"i");for(var Fe=-1,Pe=0;Pe<109&&(Fe=de.read_shift(4,"i"),!(Fe<0));++Pe)ue[Pe]=Fe;var Ye=x(M,V);w(fe,Y,Ye,V,ue);var Qt=C(Ye,ce,ue,V);Qt[ce].name="!Directory",W>0&&Se!==K&&(Qt[Se].name="!MiniFAT"),Qt[ue[0]].name="!FAT",Qt.fat_addrs=ue,Qt.ssz=V;var Zt={},ln=[],ci=[],Va=[];E(ce,Qt,Ye,ln,W,Zt,ci,Se),S(ci,Va,ln),ln.shift();var Ys={FileIndex:ci,FullPaths:Va};return G&&G.raw&&(Ys.raw={header:Me,sectors:Ye}),Ys}function m(M){if(M[M.l]==80&&M[M.l+1]==75)return[0,0];M.chk(oe,"Header Signature: "),M.l+=16;var G=M.read_shift(2,"u");return[M.read_shift(2,"u"),G]}function g(M,G){var U=9;switch(M.l+=2,U=M.read_shift(2)){case 9:if(G!=3)throw new Error("Sector Shift: Expected 9 saw "+U);break;case 12:if(G!=4)throw new Error("Sector Shift: Expected 12 saw "+U);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+U)}M.chk("0600","Mini Sector Shift: "),M.chk("000000000000","Reserved: ")}function x(M,G){for(var U=Math.ceil(M.length/G)-1,V=[],W=1;W<U;++W)V[W-1]=M.slice(W*G,(W+1)*G);return V[U-1]=M.slice(U*G),V}function S(M,G,U){for(var V=0,W=0,Y=0,ce=0,Se=0,fe=U.length,ue=[],de=[];V<fe;++V)ue[V]=de[V]=V,G[V]=U[V];for(;Se<de.length;++Se)V=de[Se],W=M[V].L,Y=M[V].R,ce=M[V].C,ue[V]===V&&(W!==-1&&ue[W]!==W&&(ue[V]=ue[W]),Y!==-1&&ue[Y]!==Y&&(ue[V]=ue[Y])),ce!==-1&&(ue[ce]=V),W!==-1&&V!=ue[V]&&(ue[W]=ue[V],de.lastIndexOf(W)<Se&&de.push(W)),Y!==-1&&V!=ue[V]&&(ue[Y]=ue[V],de.lastIndexOf(Y)<Se&&de.push(Y));for(V=1;V<fe;++V)ue[V]===V&&(Y!==-1&&ue[Y]!==Y?ue[V]=ue[Y]:W!==-1&&ue[W]!==W&&(ue[V]=ue[W]));for(V=1;V<fe;++V)if(M[V].type!==0){if(Se=V,Se!=ue[Se])do Se=ue[Se],G[V]=G[Se]+"/"+G[V];while(Se!==0&&ue[Se]!==-1&&Se!=ue[Se]);ue[V]=-1}for(G[0]+="/",V=1;V<fe;++V)M[V].type!==2&&(G[V]+="/")}function b(M,G,U){for(var V=M.start,W=M.size,Y=[],ce=V;U&&W>0&&ce>=0;)Y.push(G.slice(ce*q,ce*q+q)),W-=q,ce=fl(U,ce*4);return Y.length===0?ve(0):lr(Y).slice(0,M.size)}function w(M,G,U,V,W){var Y=K;if(M===K){if(G!==0)throw new Error("DIFAT chain shorter than expected")}else if(M!==-1){var ce=U[M],Se=(V>>>2)-1;if(!ce)return;for(var fe=0;fe<Se&&(Y=fl(ce,fe*4))!==K;++fe)W.push(Y);w(fl(ce,V-4),G-1,U,V,W)}}function A(M,G,U,V,W){var Y=[],ce=[];W||(W=[]);var Se=V-1,fe=0,ue=0;for(fe=G;fe>=0;){W[fe]=!0,Y[Y.length]=fe,ce.push(M[fe]);var de=U[Math.floor(fe*4/V)];if(ue=fe*4&Se,V<4+ue)throw new Error("FAT boundary crossed: "+fe+" 4 "+V);if(!M[de])break;fe=fl(M[de],ue)}return{nodes:Y,data:XS([ce])}}function C(M,G,U,V){var W=M.length,Y=[],ce=[],Se=[],fe=[],ue=V-1,de=0,Re=0,Me=0,je=0;for(de=0;de<W;++de)if(Se=[],Me=de+G,Me>=W&&(Me-=W),!ce[Me]){fe=[];var Fe=[];for(Re=Me;Re>=0;){Fe[Re]=!0,ce[Re]=!0,Se[Se.length]=Re,fe.push(M[Re]);var Pe=U[Math.floor(Re*4/V)];if(je=Re*4&ue,V<4+je)throw new Error("FAT boundary crossed: "+Re+" 4 "+V);if(!M[Pe]||(Re=fl(M[Pe],je),Fe[Re]))break}Y[Me]={nodes:Se,data:XS([fe])}}return Y}function E(M,G,U,V,W,Y,ce,Se){for(var fe=0,ue=V.length?2:0,de=G[M].data,Re=0,Me=0,je;Re<de.length;Re+=128){var Fe=de.slice(Re,Re+128);ri(Fe,64),Me=Fe.read_shift(2),je=$x(Fe,0,Me-ue),V.push(je);var Pe={name:je,type:Fe.read_shift(1),color:Fe.read_shift(1),L:Fe.read_shift(4,"i"),R:Fe.read_shift(4,"i"),C:Fe.read_shift(4,"i"),clsid:Fe.read_shift(16),state:Fe.read_shift(4,"i"),start:0,size:0},Ye=Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2);Ye!==0&&(Pe.ct=D(Fe,Fe.l-8));var Qt=Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2);Qt!==0&&(Pe.mt=D(Fe,Fe.l-8)),Pe.start=Fe.read_shift(4,"i"),Pe.size=Fe.read_shift(4,"i"),Pe.size<0&&Pe.start<0&&(Pe.size=Pe.type=0,Pe.start=K,Pe.name=""),Pe.type===5?(fe=Pe.start,W>0&&fe!==K&&(G[fe].name="!StreamData")):Pe.size>=4096?(Pe.storage="fat",G[Pe.start]===void 0&&(G[Pe.start]=A(U,Pe.start,G.fat_addrs,G.ssz)),G[Pe.start].name=Pe.name,Pe.content=G[Pe.start].data.slice(0,Pe.size)):(Pe.storage="minifat",Pe.size<0?Pe.size=0:fe!==K&&Pe.start!==K&&G[fe]&&(Pe.content=b(Pe,G[fe].data,(G[Se]||{}).data))),Pe.content&&ri(Pe.content,0),Y[je]=Pe,ce.push(Pe)}}function D(M,G){return new Date((si(M,G+4)/1e7*Math.pow(2,32)+si(M,G)/1e7-11644473600)*1e3)}function B(M,G){return h(),d(f.readFileSync(M),G)}function N(M,G){var U=G&&G.type;switch(U||Ot&&Buffer.isBuffer(M)&&(U="buffer"),U||"base64"){case"file":return B(M,G);case"base64":return d(Li(js(M)),G);case"binary":return d(Li(M),G)}return d(M,G)}function k(M,G){var U=G||{},V=U.root||"Root Entry";if(M.FullPaths||(M.FullPaths=[]),M.FileIndex||(M.FileIndex=[]),M.FullPaths.length!==M.FileIndex.length)throw new Error("inconsistent CFB structure");M.FullPaths.length===0&&(M.FullPaths[0]=V+"/",M.FileIndex[0]={name:V,type:5}),U.CLSID&&(M.FileIndex[0].clsid=U.CLSID),R(M)}function R(M){var G="Sh33tJ5";if(!Vt.find(M,"/"+G)){var U=ve(4);U[0]=55,U[1]=U[3]=50,U[2]=54,M.FileIndex.push({name:G,type:2,content:U,size:4,L:69,R:69,C:69}),M.FullPaths.push(M.FullPaths[0]+G),z(M)}}function z(M,G){k(M);for(var U=!1,V=!1,W=M.FullPaths.length-1;W>=0;--W){var Y=M.FileIndex[W];switch(Y.type){case 0:V?U=!0:(M.FileIndex.pop(),M.FullPaths.pop());break;case 1:case 2:case 5:V=!0,isNaN(Y.R*Y.L*Y.C)&&(U=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(U=!0);break;default:U=!0;break}}if(!(!U&&!G)){var ce=new Date(1987,1,19),Se=0,fe=Object.create?Object.create(null):{},ue=[];for(W=0;W<M.FullPaths.length;++W)fe[M.FullPaths[W]]=!0,M.FileIndex[W].type!==0&&ue.push([M.FullPaths[W],M.FileIndex[W]]);for(W=0;W<ue.length;++W){var de=r(ue[W][0]);V=fe[de],V||(ue.push([de,{name:i(de).replace("/",""),type:1,clsid:J,ct:ce,mt:ce,content:null}]),fe[de]=!0)}for(ue.sort(function(je,Fe){return t(je[0],Fe[0])}),M.FullPaths=[],M.FileIndex=[],W=0;W<ue.length;++W)M.FullPaths[W]=ue[W][0],M.FileIndex[W]=ue[W][1];for(W=0;W<ue.length;++W){var Re=M.FileIndex[W],Me=M.FullPaths[W];if(Re.name=i(Me).replace("/",""),Re.L=Re.R=Re.C=-(Re.color=1),Re.size=Re.content?Re.content.length:0,Re.start=0,Re.clsid=Re.clsid||J,W===0)Re.C=ue.length>1?1:-1,Re.size=0,Re.type=5;else if(Me.slice(-1)=="/"){for(Se=W+1;Se<ue.length&&r(M.FullPaths[Se])!=Me;++Se);for(Re.C=Se>=ue.length?-1:Se,Se=W+1;Se<ue.length&&r(M.FullPaths[Se])!=r(Me);++Se);Re.R=Se>=ue.length?-1:Se,Re.type=1}else r(M.FullPaths[W+1]||"")==r(Me)&&(Re.R=W+1),Re.type=2}}}function I(M,G){var U=G||{};if(U.fileType=="mad")return un(M,U);switch(z(M),U.fileType){case"zip":return Kt(M,U)}var V=(function(je){for(var Fe=0,Pe=0,Ye=0;Ye<je.FileIndex.length;++Ye){var Qt=je.FileIndex[Ye];if(Qt.content){var Zt=Qt.content.length;Zt>0&&(Zt<4096?Fe+=Zt+63>>6:Pe+=Zt+511>>9)}}for(var ln=je.FullPaths.length+3>>2,ci=Fe+7>>3,Va=Fe+127>>7,Ys=ci+Pe+ln+Va,$i=Ys+127>>7,sc=$i<=109?0:Math.ceil(($i-109)/127);Ys+$i+sc+127>>7>$i;)sc=++$i<=109?0:Math.ceil(($i-109)/127);var Or=[1,sc,$i,Va,ln,Pe,Fe,0];return je.FileIndex[0].size=Fe<<6,Or[7]=(je.FileIndex[0].start=Or[0]+Or[1]+Or[2]+Or[3]+Or[4]+Or[5])+(Or[6]+7>>3),Or})(M),W=ve(V[7]<<9),Y=0,ce=0;{for(Y=0;Y<8;++Y)W.write_shift(1,se[Y]);for(Y=0;Y<8;++Y)W.write_shift(2,0);for(W.write_shift(2,62),W.write_shift(2,3),W.write_shift(2,65534),W.write_shift(2,9),W.write_shift(2,6),Y=0;Y<3;++Y)W.write_shift(2,0);for(W.write_shift(4,0),W.write_shift(4,V[2]),W.write_shift(4,V[0]+V[1]+V[2]+V[3]-1),W.write_shift(4,0),W.write_shift(4,4096),W.write_shift(4,V[3]?V[0]+V[1]+V[2]-1:K),W.write_shift(4,V[3]),W.write_shift(-4,V[1]?V[0]-1:K),W.write_shift(4,V[1]),Y=0;Y<109;++Y)W.write_shift(-4,Y<V[2]?V[1]+Y:-1)}if(V[1])for(ce=0;ce<V[1];++ce){for(;Y<236+ce*127;++Y)W.write_shift(-4,Y<V[2]?V[1]+Y:-1);W.write_shift(-4,ce===V[1]-1?K:ce+1)}var Se=function(je){for(ce+=je;Y<ce-1;++Y)W.write_shift(-4,Y+1);je&&(++Y,W.write_shift(-4,K))};for(ce=Y=0,ce+=V[1];Y<ce;++Y)W.write_shift(-4,ie.DIFSECT);for(ce+=V[2];Y<ce;++Y)W.write_shift(-4,ie.FATSECT);Se(V[3]),Se(V[4]);for(var fe=0,ue=0,de=M.FileIndex[0];fe<M.FileIndex.length;++fe)de=M.FileIndex[fe],de.content&&(ue=de.content.length,!(ue<4096)&&(de.start=ce,Se(ue+511>>9)));for(Se(V[6]+7>>3);W.l&511;)W.write_shift(-4,ie.ENDOFCHAIN);for(ce=Y=0,fe=0;fe<M.FileIndex.length;++fe)de=M.FileIndex[fe],de.content&&(ue=de.content.length,!(!ue||ue>=4096)&&(de.start=ce,Se(ue+63>>6)));for(;W.l&511;)W.write_shift(-4,ie.ENDOFCHAIN);for(Y=0;Y<V[4]<<2;++Y){var Re=M.FullPaths[Y];if(!Re||Re.length===0){for(fe=0;fe<17;++fe)W.write_shift(4,0);for(fe=0;fe<3;++fe)W.write_shift(4,-1);for(fe=0;fe<12;++fe)W.write_shift(4,0);continue}de=M.FileIndex[Y],Y===0&&(de.start=de.size?de.start-1:K);var Me=Y===0&&U.root||de.name;if(ue=2*(Me.length+1),W.write_shift(64,Me,"utf16le"),W.write_shift(2,ue),W.write_shift(1,de.type),W.write_shift(1,de.color),W.write_shift(-4,de.L),W.write_shift(-4,de.R),W.write_shift(-4,de.C),de.clsid)W.write_shift(16,de.clsid,"hex");else for(fe=0;fe<4;++fe)W.write_shift(4,0);W.write_shift(4,de.state||0),W.write_shift(4,0),W.write_shift(4,0),W.write_shift(4,0),W.write_shift(4,0),W.write_shift(4,de.start),W.write_shift(4,de.size),W.write_shift(4,0)}for(Y=1;Y<M.FileIndex.length;++Y)if(de=M.FileIndex[Y],de.size>=4096)if(W.l=de.start+1<<9,Ot&&Buffer.isBuffer(de.content))de.content.copy(W,W.l,0,de.size),W.l+=de.size+511&-512;else{for(fe=0;fe<de.size;++fe)W.write_shift(1,de.content[fe]);for(;fe&511;++fe)W.write_shift(1,0)}for(Y=1;Y<M.FileIndex.length;++Y)if(de=M.FileIndex[Y],de.size>0&&de.size<4096)if(Ot&&Buffer.isBuffer(de.content))de.content.copy(W,W.l,0,de.size),W.l+=de.size+63&-64;else{for(fe=0;fe<de.size;++fe)W.write_shift(1,de.content[fe]);for(;fe&63;++fe)W.write_shift(1,0)}if(Ot)W.l=W.length;else for(;W.l<W.length;)W.write_shift(1,0);return W}function j(M,G){var U=M.FullPaths.map(function(fe){return fe.toUpperCase()}),V=U.map(function(fe){var ue=fe.split("/");return ue[ue.length-(fe.slice(-1)=="/"?2:1)]}),W=!1;G.charCodeAt(0)===47?(W=!0,G=U[0].slice(0,-1)+G):W=G.indexOf("/")!==-1;var Y=G.toUpperCase(),ce=W===!0?U.indexOf(Y):V.indexOf(Y);if(ce!==-1)return M.FileIndex[ce];var Se=!Y.match(Du);for(Y=Y.replace(l0,""),Se&&(Y=Y.replace(Du,"!")),ce=0;ce<U.length;++ce)if((Se?U[ce].replace(Du,"!"):U[ce]).replace(l0,"")==Y||(Se?V[ce].replace(Du,"!"):V[ce]).replace(l0,"")==Y)return M.FileIndex[ce];return null}var q=64,K=-2,oe="d0cf11e0a1b11ae1",se=[208,207,17,224,161,177,26,225],J="00000000000000000000000000000000",ie={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:K,FREESECT:-1,HEADER_SIGNATURE:oe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:J,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ee(M,G,U){h();var V=I(M,U);f.writeFileSync(G,V)}function we(M){for(var G=new Array(M.length),U=0;U<M.length;++U)G[U]=String.fromCharCode(M[U]);return G.join("")}function xe(M,G){var U=I(M,G);switch(G&&G.type||"buffer"){case"file":return h(),f.writeFileSync(G.filename,U),U;case"binary":return typeof U=="string"?U:we(U);case"base64":return C0(typeof U=="string"?U:we(U));case"buffer":if(Ot)return Buffer.isBuffer(U)?U:Gs(U);case"array":return typeof U=="string"?Li(U):U}return U}var F;function O(M){try{var G=M.InflateRaw,U=new G;if(U._processChunk(new Uint8Array([3,0]),U._finishFlushFlag),U.bytesRead)F=M;else throw new Error("zlib does not expose bytesRead")}catch(V){console.error("cannot use native zlib: "+(V.message||V))}}function P(M,G){if(!F)return Gi(M,G);var U=F.InflateRaw,V=new U,W=V._processChunk(M.slice(M.l),V._finishFlushFlag);return M.l+=V.bytesRead,W}function L(M){return F?F.deflateRawSync(M):Wt(M)}var X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function be(M){var G=(M<<1|M<<11)&139536|(M<<5|M<<15)&558144;return(G>>16|G>>8|G)&255}for(var ke=typeof Uint8Array<"u",Ce=ke?new Uint8Array(256):[],nt=0;nt<256;++nt)Ce[nt]=be(nt);function Qe(M,G){var U=Ce[M&255];return G<=8?U>>>8-G:(U=U<<8|Ce[M>>8&255],G<=16?U>>>16-G:(U=U<<8|Ce[M>>16&255],U>>>24-G))}function st(M,G){var U=G&7,V=G>>>3;return(M[V]|(U<=6?0:M[V+1]<<8))>>>U&3}function Ge(M,G){var U=G&7,V=G>>>3;return(M[V]|(U<=5?0:M[V+1]<<8))>>>U&7}function Nt(M,G){var U=G&7,V=G>>>3;return(M[V]|(U<=4?0:M[V+1]<<8))>>>U&15}function it(M,G){var U=G&7,V=G>>>3;return(M[V]|(U<=3?0:M[V+1]<<8))>>>U&31}function ze(M,G){var U=G&7,V=G>>>3;return(M[V]|(U<=1?0:M[V+1]<<8))>>>U&127}function Bt(M,G,U){var V=G&7,W=G>>>3,Y=(1<<U)-1,ce=M[W]>>>V;return U<8-V||(ce|=M[W+1]<<8-V,U<16-V)||(ce|=M[W+2]<<16-V,U<24-V)||(ce|=M[W+3]<<24-V),ce&Y}function sn(M,G,U){var V=G&7,W=G>>>3;return V<=5?M[W]|=(U&7)<<V:(M[W]|=U<<V&255,M[W+1]=(U&7)>>8-V),G+3}function Et(M,G,U){var V=G&7,W=G>>>3;return U=(U&1)<<V,M[W]|=U,G+1}function bt(M,G,U){var V=G&7,W=G>>>3;return U<<=V,M[W]|=U&255,U>>>=8,M[W+1]=U,G+8}function Ct(M,G,U){var V=G&7,W=G>>>3;return U<<=V,M[W]|=U&255,U>>>=8,M[W+1]=U&255,M[W+2]=U>>>8,G+16}function ge(M,G){var U=M.length,V=2*U>G?2*U:G+5,W=0;if(U>=G)return M;if(Ot){var Y=NS(V);if(M.copy)M.copy(Y);else for(;W<M.length;++W)Y[W]=M[W];return Y}else if(ke){var ce=new Uint8Array(V);if(ce.set)ce.set(M);else for(;W<U;++W)ce[W]=M[W];return ce}return M.length=V,M}function Oe(M){for(var G=new Array(M),U=0;U<M;++U)G[U]=0;return G}function ne(M,G,U){var V=1,W=0,Y=0,ce=0,Se=0,fe=M.length,ue=ke?new Uint16Array(32):Oe(32);for(Y=0;Y<32;++Y)ue[Y]=0;for(Y=fe;Y<U;++Y)M[Y]=0;fe=M.length;var de=ke?new Uint16Array(fe):Oe(fe);for(Y=0;Y<fe;++Y)ue[W=M[Y]]++,V<W&&(V=W),de[Y]=0;for(ue[0]=0,Y=1;Y<=V;++Y)ue[Y+16]=Se=Se+ue[Y-1]<<1;for(Y=0;Y<fe;++Y)Se=M[Y],Se!=0&&(de[Y]=ue[Se+16]++);var Re=0;for(Y=0;Y<fe;++Y)if(Re=M[Y],Re!=0)for(Se=Qe(de[Y],V)>>V-Re,ce=(1<<V+4-Re)-1;ce>=0;--ce)G[Se|ce<<Re]=Re&15|Y<<4;return V}var Ne=ke?new Uint16Array(512):Oe(512),Xe=ke?new Uint16Array(32):Oe(32);if(!ke){for(var Ze=0;Ze<512;++Ze)Ne[Ze]=0;for(Ze=0;Ze<32;++Ze)Xe[Ze]=0}(function(){for(var M=[],G=0;G<32;G++)M.push(5);ne(M,Xe,32);var U=[];for(G=0;G<=143;G++)U.push(8);for(;G<=255;G++)U.push(9);for(;G<=279;G++)U.push(7);for(;G<=287;G++)U.push(8);ne(U,Ne,288)})();var qe=(function(){for(var G=ke?new Uint8Array(32768):[],U=0,V=0;U<Ae.length-1;++U)for(;V<Ae[U+1];++V)G[V]=U;for(;V<32768;++V)G[V]=29;var W=ke?new Uint8Array(259):[];for(U=0,V=0;U<te.length-1;++U)for(;V<te[U+1];++V)W[V]=U;function Y(Se,fe){for(var ue=0;ue<Se.length;){var de=Math.min(65535,Se.length-ue),Re=ue+de==Se.length;for(fe.write_shift(1,+Re),fe.write_shift(2,de),fe.write_shift(2,~de&65535);de-- >0;)fe[fe.l++]=Se[ue++]}return fe.l}function ce(Se,fe){for(var ue=0,de=0,Re=ke?new Uint16Array(32768):[];de<Se.length;){var Me=Math.min(65535,Se.length-de);if(Me<10){for(ue=sn(fe,ue,+(de+Me==Se.length)),ue&7&&(ue+=8-(ue&7)),fe.l=ue/8|0,fe.write_shift(2,Me),fe.write_shift(2,~Me&65535);Me-- >0;)fe[fe.l++]=Se[de++];ue=fe.l*8;continue}ue=sn(fe,ue,+(de+Me==Se.length)+2);for(var je=0;Me-- >0;){var Fe=Se[de];je=(je<<5^Fe)&32767;var Pe=-1,Ye=0;if((Pe=Re[je])&&(Pe|=de&-32768,Pe>de&&(Pe-=32768),Pe<de))for(;Se[Pe+Ye]==Se[de+Ye]&&Ye<250;)++Ye;if(Ye>2){Fe=W[Ye],Fe<=22?ue=bt(fe,ue,Ce[Fe+1]>>1)-1:(bt(fe,ue,3),ue+=5,bt(fe,ue,Ce[Fe-23]>>5),ue+=3);var Qt=Fe<8?0:Fe-4>>2;Qt>0&&(Ct(fe,ue,Ye-te[Fe]),ue+=Qt),Fe=G[de-Pe],ue=bt(fe,ue,Ce[Fe]>>3),ue-=3;var Zt=Fe<4?0:Fe-2>>1;Zt>0&&(Ct(fe,ue,de-Pe-Ae[Fe]),ue+=Zt);for(var ln=0;ln<Ye;++ln)Re[je]=de&32767,je=(je<<5^Se[de])&32767,++de;Me-=Ye-1}else Fe<=143?Fe=Fe+48:ue=Et(fe,ue,1),ue=bt(fe,ue,Ce[Fe]),Re[je]=de&32767,++de}ue=bt(fe,ue,0)-1}return fe.l=(ue+7)/8|0,fe.l}return function(fe,ue){return fe.length<8?Y(fe,ue):ce(fe,ue)}})();function Wt(M){var G=ve(50+Math.floor(M.length*1.1)),U=qe(M,G);return G.slice(0,U)}var mt=ke?new Uint16Array(32768):Oe(32768),an=ke?new Uint16Array(32768):Oe(32768),zn=ke?new Uint16Array(128):Oe(128),Gt=1,wn=1;function En(M,G){var U=it(M,G)+257;G+=5;var V=it(M,G)+1;G+=5;var W=Nt(M,G)+4;G+=4;for(var Y=0,ce=ke?new Uint8Array(19):Oe(19),Se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],fe=1,ue=ke?new Uint8Array(8):Oe(8),de=ke?new Uint8Array(8):Oe(8),Re=ce.length,Me=0;Me<W;++Me)ce[X[Me]]=Y=Ge(M,G),fe<Y&&(fe=Y),ue[Y]++,G+=3;var je=0;for(ue[0]=0,Me=1;Me<=fe;++Me)de[Me]=je=je+ue[Me-1]<<1;for(Me=0;Me<Re;++Me)(je=ce[Me])!=0&&(Se[Me]=de[je]++);var Fe=0;for(Me=0;Me<Re;++Me)if(Fe=ce[Me],Fe!=0){je=Ce[Se[Me]]>>8-Fe;for(var Pe=(1<<7-Fe)-1;Pe>=0;--Pe)zn[je|Pe<<Fe]=Fe&7|Me<<3}var Ye=[];for(fe=1;Ye.length<U+V;)switch(je=zn[ze(M,G)],G+=je&7,je>>>=3){case 16:for(Y=3+st(M,G),G+=2,je=Ye[Ye.length-1];Y-- >0;)Ye.push(je);break;case 17:for(Y=3+Ge(M,G),G+=3;Y-- >0;)Ye.push(0);break;case 18:for(Y=11+ze(M,G),G+=7;Y-- >0;)Ye.push(0);break;default:Ye.push(je),fe<je&&(fe=je);break}var Qt=Ye.slice(0,U),Zt=Ye.slice(U);for(Me=U;Me<286;++Me)Qt[Me]=0;for(Me=V;Me<30;++Me)Zt[Me]=0;return Gt=ne(Qt,mt,286),wn=ne(Zt,an,30),G}function Ua(M,G){if(M[0]==3&&!(M[1]&3))return[bl(G),2];for(var U=0,V=0,W=NS(G||1<<18),Y=0,ce=W.length>>>0,Se=0,fe=0;(V&1)==0;){if(V=Ge(M,U),U+=3,V>>>1)V>>1==1?(Se=9,fe=5):(U=En(M,U),Se=Gt,fe=wn);else{U&7&&(U+=8-(U&7));var ue=M[U>>>3]|M[(U>>>3)+1]<<8;if(U+=32,ue>0)for(!G&&ce<Y+ue&&(W=ge(W,Y+ue),ce=W.length);ue-- >0;)W[Y++]=M[U>>>3],U+=8;continue}for(;;){!G&&ce<Y+32767&&(W=ge(W,Y+32767),ce=W.length);var de=Bt(M,U,Se),Re=V>>>1==1?Ne[de]:mt[de];if(U+=Re&15,Re>>>=4,(Re>>>8&255)===0)W[Y++]=Re;else{if(Re==256)break;Re-=257;var Me=Re<8?0:Re-4>>2;Me>5&&(Me=0);var je=Y+te[Re];Me>0&&(je+=Bt(M,U,Me),U+=Me),de=Bt(M,U,fe),Re=V>>>1==1?Xe[de]:an[de],U+=Re&15,Re>>>=4;var Fe=Re<4?0:Re-2>>1,Pe=Ae[Re];for(Fe>0&&(Pe+=Bt(M,U,Fe),U+=Fe),!G&&ce<je&&(W=ge(W,je+100),ce=W.length);Y<je;)W[Y]=W[Y-Pe],++Y}}}return G?[W,U+7>>>3]:[W.slice(0,Y),U+7>>>3]}function Gi(M,G){var U=M.slice(M.l||0),V=Ua(U,G);return M.l+=V[1],V[0]}function $s(M,G){if(M)typeof console<"u"&&console.error(G);else throw new Error(G)}function oi(M,G){var U=M;ri(U,0);var V=[],W=[],Y={FileIndex:V,FullPaths:W};k(Y,{root:G.root});for(var ce=U.length-4;(U[ce]!=80||U[ce+1]!=75||U[ce+2]!=5||U[ce+3]!=6)&&ce>=0;)--ce;U.l=ce+4,U.l+=4;var Se=U.read_shift(2);U.l+=6;var fe=U.read_shift(4);for(U.l=fe,ce=0;ce<Se;++ce){U.l+=20;var ue=U.read_shift(4),de=U.read_shift(4),Re=U.read_shift(2),Me=U.read_shift(2),je=U.read_shift(2);U.l+=8;var Fe=U.read_shift(4),Pe=c(U.slice(U.l+Re,U.l+Re+Me));U.l+=Re+Me+je;var Ye=U.l;U.l=Fe+4,Xi(U,ue,de,Y,Pe),U.l=Ye}return Y}function Xi(M,G,U,V,W){M.l+=2;var Y=M.read_shift(2),ce=M.read_shift(2),Se=l(M);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var fe=M.read_shift(4),ue=M.read_shift(4),de=M.read_shift(4),Re=M.read_shift(2),Me=M.read_shift(2),je="",Fe=0;Fe<Re;++Fe)je+=String.fromCharCode(M[M.l++]);if(Me){var Pe=c(M.slice(M.l,M.l+Me));(Pe[21589]||{}).mt&&(Se=Pe[21589].mt),((W||{})[21589]||{}).mt&&(Se=W[21589].mt)}M.l+=Me;var Ye=M.slice(M.l,M.l+ue);switch(ce){case 8:Ye=P(M,de);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var Qt=!1;Y&8&&(fe=M.read_shift(4),fe==134695760&&(fe=M.read_shift(4),Qt=!0),ue=M.read_shift(4),de=M.read_shift(4)),ue!=G&&$s(Qt,"Bad compressed size: "+G+" != "+ue),de!=U&&$s(Qt,"Bad uncompressed size: "+U+" != "+de),Dt(V,je,Ye,{unsafe:!0,mt:Se})}function Kt(M,G){var U=G||{},V=[],W=[],Y=ve(1),ce=U.compression?8:0,Se=0,fe=0,ue=0,de=0,Re=0,Me=M.FullPaths[0],je=Me,Fe=M.FileIndex[0],Pe=[],Ye=0;for(fe=1;fe<M.FullPaths.length;++fe)if(je=M.FullPaths[fe].slice(Me.length),Fe=M.FileIndex[fe],!(!Fe.size||!Fe.content||je=="Sh33tJ5")){var Qt=de,Zt=ve(je.length);for(ue=0;ue<je.length;++ue)Zt.write_shift(1,je.charCodeAt(ue)&127);Zt=Zt.slice(0,Zt.l),Pe[Re]=pO.buf(Fe.content,0);var ln=Fe.content;ce==8&&(ln=L(ln)),Y=ve(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,Se),Y.write_shift(2,ce),Fe.mt?s(Y,Fe.mt):Y.write_shift(4,0),Y.write_shift(-4,Pe[Re]),Y.write_shift(4,ln.length),Y.write_shift(4,Fe.content.length),Y.write_shift(2,Zt.length),Y.write_shift(2,0),de+=Y.length,V.push(Y),de+=Zt.length,V.push(Zt),de+=ln.length,V.push(ln),Y=ve(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,Se),Y.write_shift(2,ce),Y.write_shift(4,0),Y.write_shift(-4,Pe[Re]),Y.write_shift(4,ln.length),Y.write_shift(4,Fe.content.length),Y.write_shift(2,Zt.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,Qt),Ye+=Y.l,W.push(Y),Ye+=Zt.length,W.push(Zt),++Re}return Y=ve(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,Re),Y.write_shift(2,Re),Y.write_shift(4,Ye),Y.write_shift(4,de),Y.write_shift(2,0),lr([lr(V),lr(W),Y])}var Ht={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function dn(M,G){if(M.ctype)return M.ctype;var U=M.name||"",V=U.match(/\.([^\.]+)$/);return V&&Ht[V[1]]||G&&(V=(U=G).match(/[\.\\]([^\.\\])+$/),V&&Ht[V[1]])?Ht[V[1]]:"application/octet-stream"}function jn(M){for(var G=C0(M),U=[],V=0;V<G.length;V+=76)U.push(G.slice(V,V+76));return U.join(`\r
`)+`\r
`}function Fn(M){var G=M.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ue){var de=ue.charCodeAt(0).toString(16).toUpperCase();return"="+(de.length==1?"0"+de:de)});G=G.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),G.charAt(0)==`
`&&(G="=0D"+G.slice(1)),G=G.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var U=[],V=G.split(`\r
`),W=0;W<V.length;++W){var Y=V[W];if(Y.length==0){U.push("");continue}for(var ce=0;ce<Y.length;){var Se=76,fe=Y.slice(ce,ce+Se);fe.charAt(Se-1)=="="?Se--:fe.charAt(Se-2)=="="?Se-=2:fe.charAt(Se-3)=="="&&(Se-=3),fe=Y.slice(ce,ce+Se),ce+=Se,ce<Y.length&&(fe+="="),U.push(fe)}}return U.join(`\r
`)}function Cn(M){for(var G=[],U=0;U<M.length;++U){for(var V=M[U];U<=M.length&&V.charAt(V.length-1)=="=";)V=V.slice(0,V.length-1)+M[++U];G.push(V)}for(var W=0;W<G.length;++W)G[W]=G[W].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return Li(G.join(`\r
`))}function Un(M,G,U){for(var V="",W="",Y="",ce,Se=0;Se<10;++Se){var fe=G[Se];if(!fe||fe.match(/^\s*$/))break;var ue=fe.match(/^(.*?):\s*([^\s].*)$/);if(ue)switch(ue[1].toLowerCase()){case"content-location":V=ue[2].trim();break;case"content-type":Y=ue[2].trim();break;case"content-transfer-encoding":W=ue[2].trim();break}}switch(++Se,W.toLowerCase()){case"base64":ce=Li(js(G.slice(Se).join("")));break;case"quoted-printable":ce=Cn(G.slice(Se));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+W)}var de=Dt(M,V.slice(U.length),ce,{unsafe:!0});Y&&(de.ctype=Y)}function Zn(M,G){if(we(M.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var U=G&&G.root||"",V=(Ot&&Buffer.isBuffer(M)?M.toString("binary"):we(M)).split(`\r
`),W=0,Y="";for(W=0;W<V.length;++W)if(Y=V[W],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),U||(U=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,U.length)!=U))for(;U.length>0&&(U=U.slice(0,U.length-1),U=U.slice(0,U.lastIndexOf("/")+1),Y.slice(0,U.length)!=U););var ce=(V[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var Se="--"+(ce[1]||""),fe=[],ue=[],de={FileIndex:fe,FullPaths:ue};k(de);var Re,Me=0;for(W=0;W<V.length;++W){var je=V[W];je!==Se&&je!==Se+"--"||(Me++&&Un(de,V.slice(Re,W),U),Re=W)}return de}function un(M,G){var U=G||{},V=U.boundary||"SheetJS";V="------="+V;for(var W=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+V.slice(2)+'"',"","",""],Y=M.FullPaths[0],ce=Y,Se=M.FileIndex[0],fe=1;fe<M.FullPaths.length;++fe)if(ce=M.FullPaths[fe].slice(Y.length),Se=M.FileIndex[fe],!(!Se.size||!Se.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ye){return"_x"+Ye.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ye){return"_u"+Ye.charCodeAt(0).toString(16)+"_"});for(var ue=Se.content,de=Ot&&Buffer.isBuffer(ue)?ue.toString("binary"):we(ue),Re=0,Me=Math.min(1024,de.length),je=0,Fe=0;Fe<=Me;++Fe)(je=de.charCodeAt(Fe))>=32&&je<128&&++Re;var Pe=Re>=Me*4/5;W.push(V),W.push("Content-Location: "+(U.root||"file:///C:/SheetJS/")+ce),W.push("Content-Transfer-Encoding: "+(Pe?"quoted-printable":"base64")),W.push("Content-Type: "+dn(Se,ce)),W.push(""),W.push(Pe?Fn(de):jn(de))}return W.push(V+`--\r
`),W.join(`\r
`)}function dr(M){var G={};return k(G,M),G}function Dt(M,G,U,V){var W=V&&V.unsafe;W||k(M);var Y=!W&&Vt.find(M,G);if(!Y){var ce=M.FullPaths[0];G.slice(0,ce.length)==ce?ce=G:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+G).replace("//","/")),Y={name:i(G),type:2},M.FileIndex.push(Y),M.FullPaths.push(ce),W||Vt.utils.cfb_gc(M)}return Y.content=U,Y.size=U?U.length:0,V&&(V.CLSID&&(Y.clsid=V.CLSID),V.mt&&(Y.mt=V.mt),V.ct&&(Y.ct=V.ct)),Y}function hn(M,G){k(M);var U=Vt.find(M,G);if(U){for(var V=0;V<M.FileIndex.length;++V)if(M.FileIndex[V]==U)return M.FileIndex.splice(V,1),M.FullPaths.splice(V,1),!0}return!1}function kr(M,G,U){k(M);var V=Vt.find(M,G);if(V){for(var W=0;W<M.FileIndex.length;++W)if(M.FileIndex[W]==V)return M.FileIndex[W].name=i(U),M.FullPaths[W]=U,!0}return!1}function Wr(M){z(M,!0)}return e.find=j,e.read=N,e.parse=d,e.write=xe,e.writeFile=Ee,e.utils={cfb_new:dr,cfb_add:Dt,cfb_del:hn,cfb_mov:kr,cfb_gc:Wr,ReadShift:c0,CheckField:CA,prep_blob:ri,bconcat:lr,use_zlib:O,_deflateRaw:Wt,_inflateRaw:Gi,consts:ie},e})();function mO(n){return typeof n=="string"?Jd(n):Array.isArray(n)?jk(n):n}function Q0(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=Jd(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?T0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([mO(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=n,l.href=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(n);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=K0(e)),c.write(e),c.close(),e}catch(f){if(!f.message||!f.message.match(/onstruct/))throw f}throw new Error("cannot save file "+n)}function ur(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function zS(n,e){for(var t=[],r=ur(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function qx(n){for(var e=[],t=ur(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function np(n){for(var e=[],t=ur(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function gO(n){for(var e=[],t=ur(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var od=new Date(1899,11,30,0,0,0);function Ur(n,e){var t=n.getTime(),r=od.getTime()+(n.getTimezoneOffset()-od.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var lA=new Date,xO=od.getTime()+(lA.getTimezoneOffset()-od.getTimezoneOffset())*6e4,jS=lA.getTimezoneOffset();function oA(n){var e=new Date;return e.setTime(n*24*60*60*1e3+xO),e.getTimezoneOffset()!==jS&&e.setTime(e.getTime()+(e.getTimezoneOffset()-jS)*6e4),e}var US=new Date("2017-02-19T19:06:09.000Z"),cA=isNaN(US.getFullYear())?new Date("2/19/17"):US,vO=cA.getFullYear()==2017;function Ar(n,e){var t=new Date(n);if(vO)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(cA.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function rp(n,e){if(Ot&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function Vr(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=Vr(n[t]));return e}function gn(n,e){for(var t="";t.length<e;)t+=n;return t}function Ps(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var yO=["january","february","march","april","may","june","july","august","september","october","november","december"];function A0(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var l=n.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&yO.indexOf(l)==-1)return t}else if(l.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function ct(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return Ot?r=Gs(t):r=Uk(t),Vt.utils.cfb_add(n,e,r)}Vt.utils.cfb_add(n,e,t)}else n.file(e,t)}function Wx(){return Vt.utils.cfb_new()}var Rn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,bO={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Gx=qx(bO),Xx=/[&<>'"]/g,SO=/[\u0000-\u0008\u000b-\u001f]/g;function It(n){var e=n+"";return e.replace(Xx,function(t){return Gx[t]}).replace(SO,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function VS(n){return It(n).replace(/ /g,"_x0020_")}var fA=/[\u0000-\u001f]/g;function wO(n){var e=n+"";return e.replace(Xx,function(t){return Gx[t]}).replace(/\n/g,"<br/>").replace(fA,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function EO(n){var e=n+"";return e.replace(Xx,function(t){return Gx[t]}).replace(fA,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function CO(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function AO(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function jg(n){for(var e="",t=0,r=0,i=0,s=0,l=0,c=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){l=(r&31)<<6,l|=i&63,e+=String.fromCharCode(l);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}l=n.charCodeAt(t++),c=((r&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function qS(n){var e=bl(2*n.length),t,r,i=1,s=0,l=0,c;for(r=0;r<n.length;r+=i)i=1,(c=n.charCodeAt(r))<128?t=c:c<224?(t=(c&31)*64+(n.charCodeAt(r+1)&63),i=2):c<240?(t=(c&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(c&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,l=55296+(t>>>10&1023),t=56320+(t&1023)),l!==0&&(e[s++]=l&255,e[s++]=l>>>8,l=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function WS(n){return Gs(n,"binary").toString("utf8")}var Ou="foo bar baz",o0=Ot&&(WS(Ou)==jg(Ou)&&WS||qS(Ou)==jg(Ou)&&qS)||jg,T0=Ot?function(n){return Gs(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},TO=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}})(),uA=/(^\s|\s$|\n)/;function or(n,e){return"<"+n+(e.match(uA)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function _0(n){return ur(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function Le(n,e,t){return"<"+n+(t!=null?_0(t):"")+(e!=null?(e.match(uA)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function N1(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function _O(n,e){switch(typeof n){case"string":var t=Le("vt:lpwstr",It(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Le((n|0)==n?"vt:i4":"vt:r8",It(String(n)));case"boolean":return Le("vt:bool",n?"true":"false")}if(n instanceof Date)return Le("vt:filetime",N1(n));throw new Error("Unable to serialize "+n)}var Gn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Yo=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ii={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function DO(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,s=5;s>=0;--s)i=i*256+n[e+s];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function kO(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,l=r?-e:e;isFinite(l)?l==0?i=s=0:(i=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)n[t+c]=s&255;n[t+6]=(i&15)<<4|s&15,n[t+7]=i>>4|r}var GS=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},XS=Ot?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:Gs(e)})):GS(n)}:GS,$S=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(t0(n,i)));return r.join("").replace(l0,"")},$x=Ot?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(l0,""):$S(n,e,t)}:$S,YS=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},hA=Ot?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):YS(n,e,t)}:YS,KS=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(bo(n,i)));return r.join("")},Z0=Ot?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):KS(e,t,r)}:KS,dA=function(n,e){var t=si(n,e);return t>0?Z0(n,e+4,e+4+t-1):""},pA=dA,mA=function(n,e){var t=si(n,e);return t>0?Z0(n,e+4,e+4+t-1):""},gA=mA,xA=function(n,e){var t=2*si(n,e);return t>0?Z0(n,e+4,e+4+t-1):""},vA=xA,yA=function(e,t){var r=si(e,t);return r>0?$x(e,t+4,t+4+r):""},bA=yA,SA=function(n,e){var t=si(n,e);return t>0?Z0(n,e+4,e+4+t):""},wA=SA,EA=function(n,e){return DO(n,e)},cd=EA,Yx=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ot&&(pA=function(e,t){if(!Buffer.isBuffer(e))return dA(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},gA=function(e,t){if(!Buffer.isBuffer(e))return mA(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},vA=function(e,t){if(!Buffer.isBuffer(e))return xA(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},bA=function(e,t){if(!Buffer.isBuffer(e))return yA(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},wA=function(e,t){if(!Buffer.isBuffer(e))return SA(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},cd=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):EA(e,t)},Yx=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var bo=function(n,e){return n[e]},t0=function(n,e){return n[e+1]*256+n[e]},OO=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},si=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},fl=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},BO=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function c0(n,e){var t="",r,i,s=[],l,c,f,h;switch(e){case"dbcs":if(h=this.l,Ot&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(f=0;f<n;++f)t+=String.fromCharCode(t0(this,h)),h+=2;n*=2;break;case"utf8":t=Z0(this,this.l,this.l+n);break;case"utf16le":n*=2,t=$x(this,this.l,this.l+n);break;case"wstr":return c0.call(this,n,"dbcs");case"lpstr-ansi":t=pA(this,this.l),n=4+si(this,this.l);break;case"lpstr-cp":t=gA(this,this.l),n=4+si(this,this.l);break;case"lpwstr":t=vA(this,this.l),n=4+2*si(this,this.l);break;case"lpp4":n=4+si(this,this.l),t=bA(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+si(this,this.l),t=wA(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(l=bo(this,this.l+n++))!==0;)s.push(_u(l));t=s.join("");break;case"_wstr":for(n=0,t="";(l=t0(this,this.l+n))!==0;)s.push(_u(l)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",h=this.l,f=0;f<n;++f){if(this.lens&&this.lens.indexOf(h)!==-1)return l=bo(this,h),this.l=h+1,c=c0.call(this,n-f,l?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(_u(t0(this,h))),h+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",h=this.l,f=0;f!=n;++f){if(this.lens&&this.lens.indexOf(h)!==-1)return l=bo(this,h),this.l=h+1,c=c0.call(this,n-f,l?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(_u(bo(this,h))),h+=1}t=s.join("");break;default:switch(n){case 1:return r=bo(this,this.l),this.l++,r;case 2:return r=(e==="i"?OO:t0)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?fl:BO)(this,this.l),this.l+=4,r):(i=si(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=cd(this,this.l):i=cd([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=hA(this,this.l,n);break}}return this.l+=n,t}var NO=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},RO=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},FO=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function MO(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)FO(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var l=e.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,NO(this,e,this.l);break;case 8:if(r=8,t==="f"){kO(this,e,this.l);break}case 16:break;case-4:r=4,RO(this,e,this.l);break}return this.l+=r,this}function CA(n,e){var t=hA(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function ri(n,e){n.l=e,n.read_shift=c0,n.chk=CA,n.write_shift=MO}function hs(n,e){n.l+=e}function ve(n){var e=bl(n);return ri(e,0),e}function jr(){var n=[],e=Ot?256:2048,t=function(h){var d=ve(h);return ri(d,0),d},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(h){return r&&h<r.length-r.l?r:(i(),r=t(Math.max(h+1,e)))},l=function(){return i(),lr(n)},c=function(h){i(),r=h,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:c,end:l,_bufs:n}}function Be(n,e,t,r){var i=+e,s;if(!isNaN(i)){r||(r=DF[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var l=n.next(s);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var c=0;c!=4;++c)if(r>=128)l.write_shift(1,(r&127)+128),r>>=7;else{l.write_shift(1,r);break}r>0&&Yx(t)&&n.push(t)}}function f0(n,e,t){var r=Vr(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function QS(n,e,t){var r=Vr(n);return r.s=f0(r.s,e.s,t),r.e=f0(r.e,e.s,t),r}function u0(n,e){if(n.cRel&&n.c<0)for(n=Vr(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=Vr(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Pt(n);return!n.cRel&&n.cRel!=null&&(t=PO(t)),!n.rRel&&n.rRel!=null&&(t=LO(t)),t}function Ug(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+xr(n.s.c)+":"+(n.e.cRel?"":"$")+xr(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+fr(n.s.r)+":"+(n.e.rRel?"":"$")+fr(n.e.r):u0(n.s,e.biff)+":"+u0(n.e,e.biff)}function Kx(n){return parseInt(IO(n),10)-1}function fr(n){return""+(n+1)}function LO(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function IO(n){return n.replace(/\$(\d+)$/,"$1")}function Qx(n){for(var e=HO(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function xr(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function PO(n){return n.replace(/^([A-Z])/,"$$$1")}function HO(n){return n.replace(/^\$([A-Z])/,"$1")}function zO(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function $n(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Pt(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function li(n){var e=n.indexOf(":");return e==-1?{s:$n(n),e:$n(n)}:{s:$n(n.slice(0,e)),e:$n(n.slice(e+1))}}function Nn(n,e){return typeof e>"u"||typeof e=="number"?Nn(n.s,n.e):(typeof n!="string"&&(n=Pt(n)),typeof e!="string"&&(e=Pt(e)),n==e?n:n+":"+e)}function rn(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function ZS(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=Oa(n.z,t?Ur(e):e)}catch{}try{return n.w=Oa((n.XF||{}).numFmtId||(t?14:0),t?Ur(e):e)}catch{return""+e}}function Us(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?J0[n.v]||n.v:e==null?ZS(n,n.v):ZS(n,e))}function Ol(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function AA(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,s=n||(i?[]:{}),l=0,c=0;if(s&&r.origin!=null){if(typeof r.origin=="number")l=r.origin;else{var f=typeof r.origin=="string"?$n(r.origin):r.origin;l=f.r,c=f.c}s["!ref"]||(s["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=rn(s["!ref"]);h.s.c=d.s.c,h.s.r=d.s.r,h.e.c=Math.max(h.e.c,d.e.c),h.e.r=Math.max(h.e.r,d.e.r),l==-1&&(h.e.r=l=d.e.r+1)}for(var m=0;m!=e.length;++m)if(e[m]){if(!Array.isArray(e[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[m].length;++g)if(!(typeof e[m][g]>"u")){var x={v:e[m][g]},S=l+m,b=c+g;if(h.s.r>S&&(h.s.r=S),h.s.c>b&&(h.s.c=b),h.e.r<S&&(h.e.r=S),h.e.c<b&&(h.e.c=b),e[m][g]&&typeof e[m][g]=="object"&&!Array.isArray(e[m][g])&&!(e[m][g]instanceof Date))x=e[m][g];else if(Array.isArray(x.v)&&(x.f=e[m][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(r.nullError)x.t="e",x.v=0;else if(r.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=r.dateNF||xn[14],r.cellDates?(x.t="d",x.w=Oa(x.z,Ur(x.v))):(x.t="n",x.v=Ur(x.v),x.w=Oa(x.z,x.v))):x.t="s";if(i)s[S]||(s[S]=[]),s[S][b]&&s[S][b].z&&(x.z=s[S][b].z),s[S][b]=x;else{var w=Pt({c:b,r:S});s[w]&&s[w].z&&(x.z=s[w].z),s[w]=x}}}return h.s.c<1e7&&(s["!ref"]=Nn(h)),s}function Ko(n,e){return AA(null,n,e)}function jO(n){return n.read_shift(4,"i")}function Hi(n,e){return e||(e=ve(4)),e.write_shift(4,n),e}function vr(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function Yn(n,e){var t=!1;return e==null&&(t=!0,e=ve(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function UO(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function VO(n,e){return e||(e=ve(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Zx(n,e){var t=n.l,r=n.read_shift(1),i=vr(n),s=[],l={t:i,h:i};if((r&1)!==0){for(var c=n.read_shift(4),f=0;f!=c;++f)s.push(UO(n));l.r=s}else l.r=[{ich:0,ifnt:0}];return n.l=t+e,l}function qO(n,e){var t=!1;return e==null&&(t=!0,e=ve(15+4*n.t.length)),e.write_shift(1,0),Yn(n.t,e),t?e.slice(0,e.l):e}var WO=Zx;function GO(n,e){var t=!1;return e==null&&(t=!0,e=ve(23+4*n.t.length)),e.write_shift(1,1),Yn(n.t,e),e.write_shift(4,1),VO({},e),t?e.slice(0,e.l):e}function ki(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function Bl(n,e){return e==null&&(e=ve(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function Nl(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function Rl(n,e){return e==null&&(e=ve(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var XO=vr,TA=Yn;function Jx(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function fd(n,e){var t=!1;return e==null&&(t=!0,e=ve(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var $O=vr,R1=Jx,ev=fd;function _A(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?cd([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):fl(e,0)>>2;return t?i/100:i}function DA(n,e){e==null&&(e=ve(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function kA(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function YO(n,e){return e||(e=ve(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var Fl=kA,Qo=YO;function Zo(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function Sl(n,e){return(e||ve(8)).write_shift(8,n,"f")}function KO(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),l=n.read_shift(1),c=n.read_shift(1),f=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var h=sB[i];h&&(e.rgb=cw(h));break;case 2:e.rgb=cw([l,c,f]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function ud(n,e){if(e||(e=ve(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function QO(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function ZO(n,e){e||(e=ve(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var OA=2,ti=3,Bu=11,hd=19,Nu=64,JO=65,eB=71,tB=4108,nB=4126,sr=80,JS={1:{n:"CodePage",t:OA},2:{n:"Category",t:sr},3:{n:"PresentationFormat",t:sr},4:{n:"ByteCount",t:ti},5:{n:"LineCount",t:ti},6:{n:"ParagraphCount",t:ti},7:{n:"SlideCount",t:ti},8:{n:"NoteCount",t:ti},9:{n:"HiddenCount",t:ti},10:{n:"MultimediaClipCount",t:ti},11:{n:"ScaleCrop",t:Bu},12:{n:"HeadingPairs",t:tB},13:{n:"TitlesOfParts",t:nB},14:{n:"Manager",t:sr},15:{n:"Company",t:sr},16:{n:"LinksUpToDate",t:Bu},17:{n:"CharacterCount",t:ti},19:{n:"SharedDoc",t:Bu},22:{n:"HyperlinksChanged",t:Bu},23:{n:"AppVersion",t:ti,p:"version"},24:{n:"DigSig",t:JO},26:{n:"ContentType",t:sr},27:{n:"ContentStatus",t:sr},28:{n:"Language",t:sr},29:{n:"Version",t:sr},255:{},2147483648:{n:"Locale",t:hd},2147483651:{n:"Behavior",t:hd},1919054434:{}},ew={1:{n:"CodePage",t:OA},2:{n:"Title",t:sr},3:{n:"Subject",t:sr},4:{n:"Author",t:sr},5:{n:"Keywords",t:sr},6:{n:"Comments",t:sr},7:{n:"Template",t:sr},8:{n:"LastAuthor",t:sr},9:{n:"RevNumber",t:sr},10:{n:"EditTime",t:Nu},11:{n:"LastPrinted",t:Nu},12:{n:"CreatedDate",t:Nu},13:{n:"ModifiedDate",t:Nu},14:{n:"PageCount",t:ti},15:{n:"WordCount",t:ti},16:{n:"CharCount",t:ti},17:{n:"Thumbnail",t:eB},18:{n:"Application",t:sr},19:{n:"DocSecurity",t:ti},255:{},2147483648:{n:"Locale",t:hd},2147483651:{n:"Behavior",t:hd},1919054434:{}};function rB(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var iB=rB([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),sB=Vr(iB),J0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},aB={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Ru={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function BA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function NA(n,e){var t=gO(aB),r=[],i;r[r.length]=Rn,r[r.length]=Le("Types",null,{xmlns:Gn.CT,"xmlns:xsd":Gn.xsd,"xmlns:xsi":Gn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(f){return Le("Default",null,{Extension:f[0],ContentType:f[1]})}));var s=function(f){n[f]&&n[f].length>0&&(i=n[f][0],r[r.length]=Le("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Ru[f][e.bookType]||Ru[f].xlsx}))},l=function(f){(n[f]||[]).forEach(function(h){r[r.length]=Le("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Ru[f][e.bookType]||Ru[f].xlsx})})},c=function(f){(n[f]||[]).forEach(function(h){r[r.length]=Le("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:t[f][0]})})};return s("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var _t={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function RA(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function ko(n){var e=[Rn,Le("Relationships",null,{xmlns:Gn.RELS})];return ur(n["!id"]).forEach(function(t){e[e.length]=Le("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Lt(n,e,t,r,i,s){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,[_t.HLINK,_t.XPATH,_t.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}function lB(n){var e=[Rn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function tw(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function oB(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function cB(n){var e=[Rn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(tw(n[t][0],n[t][1])),e.push(oB("",n[t][0]));return e.push(tw("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function FA(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+rd.version+"</meta:generator></office:meta></office:document-meta>"}var xl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Vg(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=It(e),r[r.length]=t?Le(n,e,t):or(n,e))}function MA(n,e){var t=e||{},r=[Rn,Le("cp:coreProperties",null,{"xmlns:cp":Gn.CORE_PROPS,"xmlns:dc":Gn.dc,"xmlns:dcterms":Gn.dcterms,"xmlns:dcmitype":Gn.dcmitype,"xmlns:xsi":Gn.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&Vg("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:N1(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&Vg("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:N1(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=xl.length;++s){var l=xl[s],c=t.Props&&t.Props[l[1]]!=null?t.Props[l[1]]:n?n[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&Vg(l[0],c,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Oo=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],LA=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function IA(n){var e=[],t=Le;return n||(n={}),n.Application="SheetJS",e[e.length]=Rn,e[e.length]=Le("Properties",null,{xmlns:Gn.EXT_PROPS,"xmlns:vt":Gn.vt}),Oo.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=It(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+It(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function PA(n){var e=[Rn,Le("Properties",null,{xmlns:Gn.CUST_PROPS,"xmlns:vt":Gn.vt})];if(!n)return e.join("");var t=1;return ur(n).forEach(function(i){++t,e[e.length]=Le("property",_O(n[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:It(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var nw={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function fB(n,e){var t=[];return ur(nw).map(function(r){for(var i=0;i<xl.length;++i)if(xl[i][1]==r)return xl[i];for(i=0;i<Oo.length;++i)if(Oo[i][1]==r)return Oo[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(or(nw[r[1]]||r[1],i))}}),Le("DocumentProperties",t.join(""),{xmlns:ii.o})}function uB(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&ur(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var l=0;l<xl.length;++l)if(s==xl[l][1])return;for(l=0;l<Oo.length;++l)if(s==Oo[l][1])return;for(l=0;l<t.length;++l)if(s==t[l])return;var c=n[s],f="string";typeof c=="number"?(f="float",c=String(c)):c===!0||c===!1?(f="boolean",c=c?"1":"0"):c=String(c),i.push(Le(VS(s),c,{"dt:dt":f}))}}),e&&ur(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var l=e[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),i.push(Le(VS(s),l,{"dt:dt":c}))}}),"<"+r+' xmlns="'+ii.o+'">'+i.join("")+"</"+r+">"}function hB(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var l=ve(8);return l.write_shift(4,r),l.write_shift(4,i),l}function rw(n,e){var t=ve(4),r=ve(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=ve(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=hB(e);break;case 31:case 80:for(r=ve(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return lr([t,r])}var HA=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function dB(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function iw(n,e,t){var r=ve(8),i=[],s=[],l=8,c=0,f=ve(8),h=ve(8);if(f.write_shift(4,2),f.write_shift(4,1200),h.write_shift(4,1),s.push(f),i.push(h),l+=8+f.length,!e){h=ve(8),h.write_shift(4,0),i.unshift(h);var d=[ve(4)];for(d[0].write_shift(4,n.length),c=0;c<n.length;++c){var m=n[c][0];for(f=ve(8+2*(m.length+1)+(m.length%2?0:2)),f.write_shift(4,c+2),f.write_shift(4,m.length+1),f.write_shift(0,m,"dbcs");f.l!=f.length;)f.write_shift(1,0);d.push(f)}f=lr(d),s.unshift(f),l+=8+f.length}for(c=0;c<n.length;++c)if(!(e&&!e[n[c][0]])&&!(HA.indexOf(n[c][0])>-1||LA.indexOf(n[c][0])>-1)&&n[c][1]!=null){var g=n[c][1],x=0;if(e){x=+e[n[c][0]];var S=t[x];if(S.p=="version"&&typeof g=="string"){var b=g.split(".");g=(+b[0]<<16)+(+b[1]||0)}f=rw(S.t,g)}else{var w=dB(g);w==-1&&(w=31,g=String(g)),f=rw(w,g)}s.push(f),h=ve(8),h.write_shift(4,e?x:2+c),i.push(h),l+=8+f.length}var A=8*(s.length+1);for(c=0;c<s.length;++c)i[c].write_shift(4,A),A+=s[c].length;return r.write_shift(4,l),r.write_shift(4,s.length),lr([r].concat(i).concat(s))}function sw(n,e,t,r,i,s){var l=ve(i?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,Vt.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,i?68:48);var f=iw(n,t,r);if(c.push(f),i){var h=iw(i,null,null);l.write_shift(16,s,"hex"),l.write_shift(4,68+f.length),c.push(h)}return lr(c)}function pB(n,e){e||(e=ve(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function mB(n,e){return n.read_shift(e)===1}function wr(n,e){return e||(e=ve(2)),e.write_shift(2,+!!n),e}function zA(n){return n.read_shift(2,"u")}function Si(n,e){return e||(e=ve(2)),e.write_shift(2,n),e}function jA(n,e,t){return t||(t=ve(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function UA(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var l=r?n.read_shift(r,i):"";return l}function gB(n){var e=n.t||"",t=ve(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=ve(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[t,r];return lr(i)}function xB(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function vB(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):xB(n,r,t)}function yB(n,e,t){if(t.biff>5)return vB(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function VA(n,e,t){return t||(t=ve(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function aw(n,e){e||(e=ve(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function bB(n){var e=ve(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var l=[8,6815827,6619237,4849780,83];for(t=0;t<l.length;++t)e.write_shift(4,l[t]);if(s==28)r=r.slice(1),aw(r,e);else if(s&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));var c=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(c.length+1)),t=0;t<c.length;++t)e.write_shift(2,c.charCodeAt(t));e.write_shift(2,0),s&8&&aw(i>-1?r.slice(i+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));for(var f=0;r.slice(f*3,f*3+3)=="../"||r.slice(f*3,f*3+3)=="..\\";)++f;for(e.write_shift(2,f),e.write_shift(4,r.length-3*f+1),t=0;t<r.length-3*f;++t)e.write_shift(1,r.charCodeAt(t+3*f)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function wl(n,e,t,r){return r||(r=ve(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function SB(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),s=n.read_shift(r,"i"),l=n.read_shift(r,"i");return[i,s,l]}function wB(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function qA(n,e){return e||(e=ve(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function tv(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=ve(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function EB(n,e){var t=!e||e.biff==8,r=ve(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function CB(n,e){var t=!e||e.biff>=8?2:1,r=ve(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function AB(n,e){var t=ve(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=gB(n[i]);var s=lr([t].concat(r));return s.parts=[t.length].concat(r.map(function(l){return l.length})),s}function TB(){var n=ve(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function _B(n){var e=ve(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function DB(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,s=ve(i);return s.write_shift(2,n.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function kB(n,e,t,r){var i=ve(10);return wl(n,e,r,i),i.write_shift(4,t),i}function OB(n,e,t,r,i){var s=!i||i.biff==8,l=ve(8+ +s+(1+s)*t.length);return wl(n,e,r,l),l.write_shift(2,t.length),s&&l.write_shift(1,1),l.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),l}function BB(n,e,t,r){var i=t&&t.biff==5;r||(r=ve(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function NB(n,e){var t=e.biff==8||!e.biff?4:2,r=ve(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function lw(n,e,t,r){var i=t&&t.biff==5;r||(r=ve(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function RB(n){var e=ve(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function FB(n,e,t,r,i,s){var l=ve(8);return wl(n,e,r,l),jA(t,s,l),l}function MB(n,e,t,r){var i=ve(14);return wl(n,e,r,i),Sl(t,i),i}function LB(n,e,t){if(t.biff<8)return IB(n,e,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(SB(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function IB(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=UA(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function PB(n){var e=ve(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)qA(n[t],e);return e}function HB(n){var e=ve(24),t=$n(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return lr([e,bB(n[1])])}function zB(n){var e=n[1].Tooltip,t=ve(10+2*(e.length+1));t.write_shift(2,2048);var r=$n(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function jB(n){return n||(n=ve(4)),n.write_shift(2,1),n.write_shift(2,1),n}function UB(n,e,t){if(!t.cellStyles)return hs(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),l=n.read_shift(r),c=n.read_shift(r),f=n.read_shift(2);r==2&&(n.l+=2);var h={s:i,e:s,w:l,ixfe:c,flags:f};return(t.biff>=5||!t.biff)&&(h.level=f>>8&7),h}function VB(n,e){var t=ve(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function qB(n){for(var e=ve(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function WB(n,e,t){var r=ve(15);return tf(r,n,e),r.write_shift(8,t,"f"),r}function GB(n,e,t){var r=ve(9);return tf(r,n,e),r.write_shift(2,t),r}var XB=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=qx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(c,f){var h=[],d=bl(1);switch(f.type){case"base64":d=Li(js(c));break;case"binary":d=Li(c);break;case"buffer":case"array":d=c;break}ri(d,0);var m=d.read_shift(1),g=!!(m&136),x=!1,S=!1;switch(m){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var b=0,w=521;m==2&&(b=d.read_shift(2)),d.l+=3,m!=2&&(b=d.read_shift(4)),b>1048576&&(b=1e6),m!=2&&(w=d.read_shift(2));var A=d.read_shift(2),C=f.codepage||1252;m!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(C=n[d[d.l]]),d.l+=1,d.l+=2),S&&(d.l+=36);for(var E=[],D={},B=Math.min(d.length,m==2?521:w-10-(x?264:0)),N=S?32:11;d.l<B&&d[d.l]!=13;)switch(D={},D.name=id.utils.decode(C,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,D.type=String.fromCharCode(d.read_shift(1)),m!=2&&!S&&(D.offset=d.read_shift(4)),D.len=d.read_shift(1),m==2&&(D.offset=d.read_shift(2)),D.dec=d.read_shift(1),D.name.length&&E.push(D),m!=2&&(d.l+=S?13:14),D.type){case"B":(!x||D.len!=8)&&f.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(d[d.l]!==13&&(d.l=w-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=w;var k=0,R=0;for(h[0]=[],R=0;R!=E.length;++R)h[0][R]=E[R].name;for(;b-- >0;){if(d[d.l]===42){d.l+=A;continue}for(++d.l,h[++k]=[],R=0,R=0;R!=E.length;++R){var z=d.slice(d.l,d.l+E[R].len);d.l+=E[R].len,ri(z,0);var I=id.utils.decode(C,z);switch(E[R].type){case"C":I.trim().length&&(h[k][R]=I.replace(/\s+$/,""));break;case"D":I.length===8?h[k][R]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):h[k][R]=I;break;case"F":h[k][R]=parseFloat(I.trim());break;case"+":case"I":h[k][R]=S?z.read_shift(-4,"i")^2147483648:z.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":h[k][R]=!0;break;case"N":case"F":h[k][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));h[k][R]="##MEMO##"+(S?parseInt(I.trim(),10):z.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(h[k][R]=+I||0);break;case"@":h[k][R]=new Date(z.read_shift(-8,"f")-621356832e5);break;case"T":h[k][R]=new Date((z.read_shift(4)-2440588)*864e5+z.read_shift(4));break;case"Y":h[k][R]=z.read_shift(4,"i")/1e4+z.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[k][R]=-z.read_shift(-8,"f");break;case"B":if(x&&E[R].len==8){h[k][R]=z.read_shift(8,"f");break}case"G":case"P":z.l+=E[R].len;break;case"0":if(E[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[R].type)}}}if(m!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return f&&f.sheetRows&&(h=h.slice(0,f.sheetRows)),f.DBF=E,h}function r(c,f){var h=f||{};h.dateNF||(h.dateNF="yyyymmdd");var d=Ko(t(c,h),h);return d["!cols"]=h.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete h.DBF,d}function i(c,f){try{return Ol(r(c,f),f)}catch(h){if(f&&f.WTF)throw h}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,f){var h=f||{};if(+h.codepage>=0&&E0(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var d=jr(),m=xd(c,{header:1,raw:!0,cellDates:!0}),g=m[0],x=m.slice(1),S=c["!cols"]||[],b=0,w=0,A=0,C=1;for(b=0;b<g.length;++b){if(((S[b]||{}).DBF||{}).name){g[b]=S[b].DBF.name,++A;continue}if(g[b]!=null){if(++A,typeof g[b]=="number"&&(g[b]=g[b].toString(10)),typeof g[b]!="string")throw new Error("DBF Invalid column name "+g[b]+" |"+typeof g[b]+"|");if(g.indexOf(g[b])!==b){for(w=0;w<1024;++w)if(g.indexOf(g[b]+"_"+w)==-1){g[b]+="_"+w;break}}}}var E=rn(c["!ref"]),D=[],B=[],N=[];for(b=0;b<=E.e.c-E.s.c;++b){var k="",R="",z=0,I=[];for(w=0;w<x.length;++w)x[w][b]!=null&&I.push(x[w][b]);if(I.length==0||g[b]==null){D[b]="?";continue}for(w=0;w<I.length;++w){switch(typeof I[w]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=I[w]instanceof Date?"D":"C";break;default:R="C"}z=Math.max(z,String(I[w]).length),k=k&&k!=R?"C":R}z>250&&(z=250),R=((S[b]||{}).DBF||{}).type,R=="C"&&S[b].DBF.len>z&&(z=S[b].DBF.len),k=="B"&&R=="N"&&(k="N",N[b]=S[b].DBF.dec,z=S[b].DBF.len),B[b]=k=="C"||R=="N"?z:s[k]||0,C+=B[b],D[b]=k}var j=d.next(32);for(j.write_shift(4,318902576),j.write_shift(4,x.length),j.write_shift(2,296+32*A),j.write_shift(2,C),b=0;b<4;++b)j.write_shift(4,0);for(j.write_shift(4,0|(+e[GC]||3)<<8),b=0,w=0;b<g.length;++b)if(g[b]!=null){var q=d.next(32),K=(g[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);q.write_shift(1,K,"sbcs"),q.write_shift(1,D[b]=="?"?"C":D[b],"sbcs"),q.write_shift(4,w),q.write_shift(1,B[b]||s[D[b]]||0),q.write_shift(1,N[b]||0),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(1,0),q.write_shift(4,0),q.write_shift(4,0),w+=B[b]||s[D[b]]||0}var oe=d.next(264);for(oe.write_shift(4,13),b=0;b<65;++b)oe.write_shift(4,0);for(b=0;b<x.length;++b){var se=d.next(C);for(se.write_shift(1,0),w=0;w<g.length;++w)if(g[w]!=null)switch(D[w]){case"L":se.write_shift(1,x[b][w]==null?63:x[b][w]?84:70);break;case"B":se.write_shift(8,x[b][w]||0,"f");break;case"N":var J="0";for(typeof x[b][w]=="number"&&(J=x[b][w].toFixed(N[w]||0)),A=0;A<B[w]-J.length;++A)se.write_shift(1,32);se.write_shift(1,J,"sbcs");break;case"D":x[b][w]?(se.write_shift(4,("0000"+x[b][w].getFullYear()).slice(-4),"sbcs"),se.write_shift(2,("00"+(x[b][w].getMonth()+1)).slice(-2),"sbcs"),se.write_shift(2,("00"+x[b][w].getDate()).slice(-2),"sbcs")):se.write_shift(8,"00000000","sbcs");break;case"C":var ie=String(x[b][w]!=null?x[b][w]:"").slice(0,B[w]);for(se.write_shift(1,ie,"sbcs"),A=0;A<B[w]-ie.length;++A)se.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:r,from_sheet:l}})(),$B=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ur(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(g,x){var S=n[x];return typeof S=="number"?BS(S):S},r=function(g,x,S){var b=x.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return b==59?g:BS(b)};n["|"]=254;function i(g,x){switch(x.type){case"base64":return s(js(g),x);case"binary":return s(g,x);case"buffer":return s(Ot&&Buffer.isBuffer(g)?g.toString("binary"):K0(g),x);case"array":return s(rp(g),x)}throw new Error("Unrecognized type "+x.type)}function s(g,x){var S=g.split(/[\n\r]+/),b=-1,w=-1,A=0,C=0,E=[],D=[],B=null,N={},k=[],R=[],z=[],I=0,j;for(+x.codepage>=0&&E0(+x.codepage);A!==S.length;++A){I=0;var q=S[A].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),K=q.replace(/;;/g,"\0").split(";").map(function(X){return X.replace(/\u0000/g,";")}),oe=K[0],se;if(q.length>0)switch(oe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":K[1].charAt(0)=="P"&&D.push(q.slice(3).replace(/;;/g,";"));break;case"C":var J=!1,ie=!1,Ee=!1,we=!1,xe=-1,F=-1;for(C=1;C<K.length;++C)switch(K[C].charAt(0)){case"A":break;case"X":w=parseInt(K[C].slice(1))-1,ie=!0;break;case"Y":for(b=parseInt(K[C].slice(1))-1,ie||(w=0),j=E.length;j<=b;++j)E[j]=[];break;case"K":se=K[C].slice(1),se.charAt(0)==='"'?se=se.slice(1,se.length-1):se==="TRUE"?se=!0:se==="FALSE"?se=!1:isNaN(Ps(se))?isNaN(A0(se).getDate())||(se=Ar(se)):(se=Ps(se),B!==null&&iA(B)&&(se=oA(se))),J=!0;break;case"E":we=!0;var O=GN(K[C].slice(1),{r:b,c:w});E[b][w]=[E[b][w],O];break;case"S":Ee=!0,E[b][w]=[E[b][w],"S5S"];break;case"G":break;case"R":xe=parseInt(K[C].slice(1))-1;break;case"C":F=parseInt(K[C].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+q)}if(J&&(E[b][w]&&E[b][w].length==2?E[b][w][0]=se:E[b][w]=se,B=null),Ee){if(we)throw new Error("SYLK shared formula cannot have own formula");var P=xe>-1&&E[xe][F];if(!P||!P[1])throw new Error("SYLK shared formula cannot find base");E[b][w][1]=XN(P[1],{r:b-xe,c:w-F})}break;case"F":var L=0;for(C=1;C<K.length;++C)switch(K[C].charAt(0)){case"X":w=parseInt(K[C].slice(1))-1,++L;break;case"Y":for(b=parseInt(K[C].slice(1))-1,j=E.length;j<=b;++j)E[j]=[];break;case"M":I=parseInt(K[C].slice(1))/20;break;case"F":break;case"G":break;case"P":B=D[parseInt(K[C].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(z=K[C].slice(1).split(" "),j=parseInt(z[0],10);j<=parseInt(z[1],10);++j)I=parseInt(z[2],10),R[j-1]=I===0?{hidden:!0}:{wch:I},nv(R[j-1]);break;case"C":w=parseInt(K[C].slice(1))-1,R[w]||(R[w]={});break;case"R":b=parseInt(K[C].slice(1))-1,k[b]||(k[b]={}),I>0?(k[b].hpt=I,k[b].hpx=YA(I)):I===0&&(k[b].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+q)}L<1&&(B=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+q)}}return k.length>0&&(N["!rows"]=k),R.length>0&&(N["!cols"]=R),x&&x.sheetRows&&(E=E.slice(0,x.sheetRows)),[E,N]}function l(g,x){var S=i(g,x),b=S[0],w=S[1],A=Ko(b,x);return ur(w).forEach(function(C){A[C]=w[C]}),A}function c(g,x){return Ol(l(g,x),x)}function f(g,x,S,b){var w="C;Y"+(S+1)+";X"+(b+1)+";K";switch(g.t){case"n":w+=g.v||0,g.f&&!g.F&&(w+=";E"+iv(g.f,{r:S,c:b}));break;case"b":w+=g.v?"TRUE":"FALSE";break;case"e":w+=g.w||g.v;break;case"d":w+='"'+(g.w||g.v)+'"';break;case"s":w+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function h(g,x){x.forEach(function(S,b){var w="F;W"+(b+1)+" "+(b+1)+" ";S.hidden?w+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=dd(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=pd(S.wpx)),typeof S.wch=="number"&&(w+=Math.round(S.wch))),w.charAt(w.length-1)!=" "&&g.push(w)})}function d(g,x){x.forEach(function(S,b){var w="F;";S.hidden?w+="M0;":S.hpt?w+="M"+20*S.hpt+";":S.hpx&&(w+="M"+20*md(S.hpx)+";"),w.length>2&&g.push(w+"R"+(b+1))})}function m(g,x){var S=["ID;PWXL;N;E"],b=[],w=rn(g["!ref"]),A,C=Array.isArray(g),E=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),g["!cols"]&&h(S,g["!cols"]),g["!rows"]&&d(S,g["!rows"]),S.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var D=w.s.r;D<=w.e.r;++D)for(var B=w.s.c;B<=w.e.c;++B){var N=Pt({r:D,c:B});A=C?(g[D]||[])[B]:g[N],!(!A||A.v==null&&(!A.f||A.F))&&b.push(f(A,g,D,B))}return S.join(E)+E+b.join(E)+E+"E"+E}return{to_workbook:c,to_sheet:l,from_sheet:m}})(),YB=(function(){function n(s,l){switch(l.type){case"base64":return e(js(s),l);case"binary":return e(s,l);case"buffer":return e(Ot&&Buffer.isBuffer(s)?s.toString("binary"):K0(s),l);case"array":return e(rp(s),l)}throw new Error("Unrecognized type "+l.type)}function e(s,l){for(var c=s.split(`
`),f=-1,h=-1,d=0,m=[];d!==c.length;++d){if(c[d].trim()==="BOT"){m[++f]=[],h=0;continue}if(!(f<0)){var g=c[d].trim().split(","),x=g[0],S=g[1];++d;for(var b=c[d]||"";(b.match(/["]/g)||[]).length&1&&d<c.length-1;)b+=`
`+c[++d];switch(b=b.trim(),+x){case-1:if(b==="BOT"){m[++f]=[],h=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?m[f][h]=!0:b==="FALSE"?m[f][h]=!1:isNaN(Ps(S))?isNaN(A0(S).getDate())?m[f][h]=S:m[f][h]=Ar(S):m[f][h]=Ps(S),++h;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),m[f][h++]=b!==""?b:null;break}if(b==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function t(s,l){return Ko(n(s,l),l)}function r(s,l){return Ol(t(s,l),l)}var i=(function(){var s=function(f,h,d,m,g){f.push(h),f.push(d+","+m),f.push('"'+g.replace(/"/g,'""')+'"')},l=function(f,h,d,m){f.push(h+","+d),f.push(h==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(f){var h=[],d=rn(f["!ref"]),m,g=Array.isArray(f);s(h,"TABLE",0,1,"sheetjs"),s(h,"VECTORS",0,d.e.r-d.s.r+1,""),s(h,"TUPLES",0,d.e.c-d.s.c+1,""),s(h,"DATA",0,0,"");for(var x=d.s.r;x<=d.e.r;++x){l(h,-1,0,"BOT");for(var S=d.s.c;S<=d.e.c;++S){var b=Pt({r:x,c:S});if(m=g?(f[x]||[])[S]:f[b],!m){l(h,1,0,"");continue}switch(m.t){case"n":var w=m.w;!w&&m.v!=null&&(w=m.v),w==null?m.f&&!m.F?l(h,1,0,"="+m.f):l(h,1,0,""):l(h,0,w,"V");break;case"b":l(h,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(h,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=Oa(m.z||xn[14],Ur(Ar(m.v)))),l(h,0,m.w,"V");break;default:l(h,1,0,"")}}}l(h,-1,0,"EOD");var A=`\r
`,C=h.join(A);return C}})();return{to_workbook:r,to_sheet:t,from_sheet:i}})(),WA=(function(){function n(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(m,g){for(var x=m.split(`
`),S=-1,b=-1,w=0,A=[];w!==x.length;++w){var C=x[w].trim().split(":");if(C[0]==="cell"){var E=$n(C[1]);if(A.length<=E.r)for(S=A.length;S<=E.r;++S)A[S]||(A[S]=[]);switch(S=E.r,b=E.c,C[2]){case"t":A[S][b]=n(C[3]);break;case"v":A[S][b]=+C[3];break;case"vtf":var D=C[C.length-1];case"vtc":switch(C[3]){case"nl":A[S][b]=!!+C[4];break;default:A[S][b]=+C[4];break}C[2]=="vtf"&&(A[S][b]=[A[S][b],D])}}}return g&&g.sheetRows&&(A=A.slice(0,g.sheetRows)),A}function r(m,g){return Ko(t(m,g),g)}function i(m,g){return Ol(r(m,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function h(m){if(!m||!m["!ref"])return"";for(var g=[],x=[],S,b="",w=li(m["!ref"]),A=Array.isArray(m),C=w.s.r;C<=w.e.r;++C)for(var E=w.s.c;E<=w.e.c;++E)if(b=Pt({r:C,c:E}),S=A?(m[C]||[])[E]:m[b],!(!S||S.v==null||S.t==="z")){switch(x=["cell",b,"t"],S.t){case"s":case"str":x.push(e(S.v));break;case"n":S.f?(x[2]="vtf",x[3]="n",x[4]=S.v,x[5]=e(S.f)):(x[2]="v",x[3]=S.v);break;case"b":x[2]="vt"+(S.f?"f":"c"),x[3]="nl",x[4]=S.v?"1":"0",x[5]=e(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var D=Ur(Ar(S.v));x[2]="vtc",x[3]="nd",x[4]=""+D,x[5]=S.w||Oa(S.z||xn[14],D);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function d(m){return[s,l,c,l,h(m),f].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:d}})(),KB=(function(){function n(d,m,g,x,S){S.raw?m[g][x]=d:d===""||(d==="TRUE"?m[g][x]=!0:d==="FALSE"?m[g][x]=!1:isNaN(Ps(d))?isNaN(A0(d).getDate())?m[g][x]=d:m[g][x]=Ar(d):m[g][x]=Ps(d))}function e(d,m){var g=m||{},x=[];if(!d||d.length===0)return x;for(var S=d.split(/[\r\n]/),b=S.length-1;b>=0&&S[b].length===0;)--b;for(var w=10,A=0,C=0;C<=b;++C)A=S[C].indexOf(" "),A==-1?A=S[C].length:A++,w=Math.max(w,A);for(C=0;C<=b;++C){x[C]=[];var E=0;for(n(S[C].slice(0,w).trim(),x,C,E,g),E=1;E<=(S[C].length-w)/10+1;++E)n(S[C].slice(w+(E-1)*10,w+E*10).trim(),x,C,E,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(d){for(var m={},g=!1,x=0,S=0;x<d.length;++x)(S=d.charCodeAt(x))==34?g=!g:!g&&S in t&&(m[S]=(m[S]||0)+1);S=[];for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&S.push([m[x],x]);if(!S.length){m=r;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&S.push([m[x],x])}return S.sort(function(b,w){return b[0]-w[0]||r[b[1]]-r[w[1]]}),t[S.pop()[1]]||44}function s(d,m){var g=m||{},x="",S=g.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(x=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(x=d.charAt(4),d=d.slice(6)):x=i(d.slice(0,1024)):g&&g.FS?x=g.FS:x=i(d.slice(0,1024));var w=0,A=0,C=0,E=0,D=0,B=x.charCodeAt(0),N=!1,k=0,R=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var z=g.dateNF!=null?hO(g.dateNF):null;function I(){var j=d.slice(E,D),q={};if(j.charAt(0)=='"'&&j.charAt(j.length-1)=='"'&&(j=j.slice(1,-1).replace(/""/g,'"')),j.length===0)q.t="z";else if(g.raw)q.t="s",q.v=j;else if(j.trim().length===0)q.t="s",q.v=j;else if(j.charCodeAt(0)==61)j.charCodeAt(1)==34&&j.charCodeAt(j.length-1)==34?(q.t="s",q.v=j.slice(2,-1).replace(/""/g,'"')):$N(j)?(q.t="n",q.f=j.slice(1)):(q.t="s",q.v=j);else if(j=="TRUE")q.t="b",q.v=!0;else if(j=="FALSE")q.t="b",q.v=!1;else if(!isNaN(C=Ps(j)))q.t="n",g.cellText!==!1&&(q.w=j),q.v=C;else if(!isNaN(A0(j).getDate())||z&&j.match(z)){q.z=g.dateNF||xn[14];var K=0;z&&j.match(z)&&(j=dO(j,g.dateNF,j.match(z)||[]),K=1),g.cellDates?(q.t="d",q.v=Ar(j,K)):(q.t="n",q.v=Ur(Ar(j,K))),g.cellText!==!1&&(q.w=Oa(q.z,q.v instanceof Date?Ur(q.v):q.v)),g.cellNF||delete q.z}else q.t="s",q.v=j;if(q.t=="z"||(g.dense?(S[w]||(S[w]=[]),S[w][A]=q):S[Pt({c:A,r:w})]=q),E=D+1,R=d.charCodeAt(E),b.e.c<A&&(b.e.c=A),b.e.r<w&&(b.e.r=w),k==B)++A;else if(A=0,++w,g.sheetRows&&g.sheetRows<=w)return!0}e:for(;D<d.length;++D)switch(k=d.charCodeAt(D)){case 34:R===34&&(N=!N);break;case B:case 10:case 13:if(!N&&I())break e;break}return D-E>0&&I(),S["!ref"]=Nn(b),S}function l(d,m){return!(m&&m.PRN)||m.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,m):Ko(e(d,m),m)}function c(d,m){var g="",x=m.type=="string"?[0,0,0,0]:oM(d,m);switch(m.type){case"base64":g=js(d);break;case"binary":g=d;break;case"buffer":m.codepage==65001?g=d.toString("utf8"):m.codepage&&typeof id<"u"||(g=Ot&&Buffer.isBuffer(d)?d.toString("binary"):K0(d));break;case"array":g=rp(d);break;case"string":g=d;break;default:throw new Error("Unrecognized type "+m.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=o0(g.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?g=o0(g):m.type=="binary"&&typeof id<"u",g.slice(0,19)=="socialcalc:version:"?WA.to_sheet(m.type=="string"?g:o0(g),m):l(g,m)}function f(d,m){return Ol(c(d,m),m)}function h(d){for(var m=[],g=rn(d["!ref"]),x,S=Array.isArray(d),b=g.s.r;b<=g.e.r;++b){for(var w=[],A=g.s.c;A<=g.e.c;++A){var C=Pt({r:b,c:A});if(x=S?(d[b]||[])[A]:d[C],!x||x.v==null){w.push("          ");continue}for(var E=(x.w||(Us(x),x.w)||"").slice(0,10);E.length<10;)E+=" ";w.push(E+(A===0?" ":""))}m.push(w.join(""))}return m.join(`
`)}return{to_workbook:f,to_sheet:c,from_sheet:h}})(),ow=(function(){function n(O,P,L){if(O){ri(O,O.l||0);for(var X=L.Enum||xe;O.l<O.length;){var te=O.read_shift(2),Ae=X[te]||X[65535],be=O.read_shift(2),ke=O.l+be,Ce=Ae.f&&Ae.f(O,be,L);if(O.l=ke,P(Ce,Ae,te))return}}}function e(O,P){switch(P.type){case"base64":return t(Li(js(O)),P);case"binary":return t(Li(O),P);case"buffer":case"array":return t(O,P)}throw"Unsupported type "+P.type}function t(O,P){if(!O)return O;var L=P||{},X=L.dense?[]:{},te="Sheet1",Ae="",be=0,ke={},Ce=[],nt=[],Qe={s:{r:0,c:0},e:{r:0,c:0}},st=L.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)L.Enum=xe,n(O,function(ze,Bt,sn){switch(sn){case 0:L.vers=ze,ze>=4096&&(L.qpro=!0);break;case 6:Qe=ze;break;case 204:ze&&(Ae=ze);break;case 222:Ae=ze;break;case 15:case 51:L.qpro||(ze[1].v=ze[1].v.slice(1));case 13:case 14:case 16:sn==14&&(ze[2]&112)==112&&(ze[2]&15)>1&&(ze[2]&15)<15&&(ze[1].z=L.dateNF||xn[14],L.cellDates&&(ze[1].t="d",ze[1].v=oA(ze[1].v))),L.qpro&&ze[3]>be&&(X["!ref"]=Nn(Qe),ke[te]=X,Ce.push(te),X=L.dense?[]:{},Qe={s:{r:0,c:0},e:{r:0,c:0}},be=ze[3],te=Ae||"Sheet"+(be+1),Ae="");var Et=L.dense?(X[ze[0].r]||[])[ze[0].c]:X[Pt(ze[0])];if(Et){Et.t=ze[1].t,Et.v=ze[1].v,ze[1].z!=null&&(Et.z=ze[1].z),ze[1].f!=null&&(Et.f=ze[1].f);break}L.dense?(X[ze[0].r]||(X[ze[0].r]=[]),X[ze[0].r][ze[0].c]=ze[1]):X[Pt(ze[0])]=ze[1];break}},L);else if(O[2]==26||O[2]==14)L.Enum=F,O[2]==14&&(L.qpro=!0,O.l=0),n(O,function(ze,Bt,sn){switch(sn){case 204:te=ze;break;case 22:ze[1].v=ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ze[3]>be&&(X["!ref"]=Nn(Qe),ke[te]=X,Ce.push(te),X=L.dense?[]:{},Qe={s:{r:0,c:0},e:{r:0,c:0}},be=ze[3],te="Sheet"+(be+1)),st>0&&ze[0].r>=st)break;L.dense?(X[ze[0].r]||(X[ze[0].r]=[]),X[ze[0].r][ze[0].c]=ze[1]):X[Pt(ze[0])]=ze[1],Qe.e.c<ze[0].c&&(Qe.e.c=ze[0].c),Qe.e.r<ze[0].r&&(Qe.e.r=ze[0].r);break;case 27:ze[14e3]&&(nt[ze[14e3][0]]=ze[14e3][1]);break;case 1537:nt[ze[0]]=ze[1],ze[0]==be&&(te=ze[1]);break}},L);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(X["!ref"]=Nn(Qe),ke[Ae||te]=X,Ce.push(Ae||te),!nt.length)return{SheetNames:Ce,Sheets:ke};for(var Ge={},Nt=[],it=0;it<nt.length;++it)ke[Ce[it]]?(Nt.push(nt[it]||Ce[it]),Ge[nt[it]]=ke[nt[it]]||ke[Ce[it]]):(Nt.push(nt[it]),Ge[nt[it]]={"!ref":"A1"});return{SheetNames:Nt,Sheets:Ge}}function r(O,P){var L=P||{};if(+L.codepage>=0&&E0(+L.codepage),L.type=="string")throw new Error("Cannot write WK1 to JS string");var X=jr(),te=rn(O["!ref"]),Ae=Array.isArray(O),be=[];Ie(X,0,s(1030)),Ie(X,6,f(te));for(var ke=Math.min(te.e.r,8191),Ce=te.s.r;Ce<=ke;++Ce)for(var nt=fr(Ce),Qe=te.s.c;Qe<=te.e.c;++Qe){Ce===te.s.r&&(be[Qe]=xr(Qe));var st=be[Qe]+nt,Ge=Ae?(O[Ce]||[])[Qe]:O[st];if(!(!Ge||Ge.t=="z"))if(Ge.t=="n")(Ge.v|0)==Ge.v&&Ge.v>=-32768&&Ge.v<=32767?Ie(X,13,x(Ce,Qe,Ge.v)):Ie(X,14,b(Ce,Qe,Ge.v));else{var Nt=Us(Ge);Ie(X,15,m(Ce,Qe,Nt.slice(0,239)))}}return Ie(X,1),X.end()}function i(O,P){var L=P||{};if(+L.codepage>=0&&E0(+L.codepage),L.type=="string")throw new Error("Cannot write WK3 to JS string");var X=jr();Ie(X,0,l(O));for(var te=0,Ae=0;te<O.SheetNames.length;++te)(O.Sheets[O.SheetNames[te]]||{})["!ref"]&&Ie(X,27,we(O.SheetNames[te],Ae++));var be=0;for(te=0;te<O.SheetNames.length;++te){var ke=O.Sheets[O.SheetNames[te]];if(!(!ke||!ke["!ref"])){for(var Ce=rn(ke["!ref"]),nt=Array.isArray(ke),Qe=[],st=Math.min(Ce.e.r,8191),Ge=Ce.s.r;Ge<=st;++Ge)for(var Nt=fr(Ge),it=Ce.s.c;it<=Ce.e.c;++it){Ge===Ce.s.r&&(Qe[it]=xr(it));var ze=Qe[it]+Nt,Bt=nt?(ke[Ge]||[])[it]:ke[ze];if(!(!Bt||Bt.t=="z"))if(Bt.t=="n")Ie(X,23,I(Ge,it,be,Bt.v));else{var sn=Us(Bt);Ie(X,22,k(Ge,it,be,sn.slice(0,239)))}}++be}}return Ie(X,1),X.end()}function s(O){var P=ve(2);return P.write_shift(2,O),P}function l(O){var P=ve(26);P.write_shift(2,4096),P.write_shift(2,4),P.write_shift(4,0);for(var L=0,X=0,te=0,Ae=0;Ae<O.SheetNames.length;++Ae){var be=O.SheetNames[Ae],ke=O.Sheets[be];if(!(!ke||!ke["!ref"])){++te;var Ce=li(ke["!ref"]);L<Ce.e.r&&(L=Ce.e.r),X<Ce.e.c&&(X=Ce.e.c)}}return L>8191&&(L=8191),P.write_shift(2,L),P.write_shift(1,te),P.write_shift(1,X),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(1,1),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(4,0),P}function c(O,P,L){var X={s:{c:0,r:0},e:{c:0,r:0}};return P==8&&L.qpro?(X.s.c=O.read_shift(1),O.l++,X.s.r=O.read_shift(2),X.e.c=O.read_shift(1),O.l++,X.e.r=O.read_shift(2),X):(X.s.c=O.read_shift(2),X.s.r=O.read_shift(2),P==12&&L.qpro&&(O.l+=2),X.e.c=O.read_shift(2),X.e.r=O.read_shift(2),P==12&&L.qpro&&(O.l+=2),X.s.c==65535&&(X.s.c=X.e.c=X.s.r=X.e.r=0),X)}function f(O){var P=ve(8);return P.write_shift(2,O.s.c),P.write_shift(2,O.s.r),P.write_shift(2,O.e.c),P.write_shift(2,O.e.r),P}function h(O,P,L){var X=[{c:0,r:0},{t:"n",v:0},0,0];return L.qpro&&L.vers!=20768?(X[0].c=O.read_shift(1),X[3]=O.read_shift(1),X[0].r=O.read_shift(2),O.l+=2):(X[2]=O.read_shift(1),X[0].c=O.read_shift(2),X[0].r=O.read_shift(2)),X}function d(O,P,L){var X=O.l+P,te=h(O,P,L);if(te[1].t="s",L.vers==20768){O.l++;var Ae=O.read_shift(1);return te[1].v=O.read_shift(Ae,"utf8"),te}return L.qpro&&O.l++,te[1].v=O.read_shift(X-O.l,"cstr"),te}function m(O,P,L){var X=ve(7+L.length);X.write_shift(1,255),X.write_shift(2,P),X.write_shift(2,O),X.write_shift(1,39);for(var te=0;te<X.length;++te){var Ae=L.charCodeAt(te);X.write_shift(1,Ae>=128?95:Ae)}return X.write_shift(1,0),X}function g(O,P,L){var X=h(O,P,L);return X[1].v=O.read_shift(2,"i"),X}function x(O,P,L){var X=ve(7);return X.write_shift(1,255),X.write_shift(2,P),X.write_shift(2,O),X.write_shift(2,L,"i"),X}function S(O,P,L){var X=h(O,P,L);return X[1].v=O.read_shift(8,"f"),X}function b(O,P,L){var X=ve(13);return X.write_shift(1,255),X.write_shift(2,P),X.write_shift(2,O),X.write_shift(8,L,"f"),X}function w(O,P,L){var X=O.l+P,te=h(O,P,L);if(te[1].v=O.read_shift(8,"f"),L.qpro)O.l=X;else{var Ae=O.read_shift(2);D(O.slice(O.l,O.l+Ae),te),O.l+=Ae}return te}function A(O,P,L){var X=P&32768;return P&=-32769,P=(X?O:0)+(P>=8192?P-16384:P),(X?"":"$")+(L?xr(P):fr(P))}var C={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(O,P){ri(O,0);for(var L=[],X=0,te="",Ae="",be="",ke="";O.l<O.length;){var Ce=O[O.l++];switch(Ce){case 0:L.push(O.read_shift(8,"f"));break;case 1:Ae=A(P[0].c,O.read_shift(2),!0),te=A(P[0].r,O.read_shift(2),!1),L.push(Ae+te);break;case 2:{var nt=A(P[0].c,O.read_shift(2),!0),Qe=A(P[0].r,O.read_shift(2),!1);Ae=A(P[0].c,O.read_shift(2),!0),te=A(P[0].r,O.read_shift(2),!1),L.push(nt+Qe+":"+Ae+te)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:L.push("("+L.pop()+")");break;case 5:L.push(O.read_shift(2));break;case 6:{for(var st="";Ce=O[O.l++];)st+=String.fromCharCode(Ce);L.push('"'+st.replace(/"/g,'""')+'"')}break;case 8:L.push("-"+L.pop());break;case 23:L.push("+"+L.pop());break;case 22:L.push("NOT("+L.pop()+")");break;case 20:case 21:ke=L.pop(),be=L.pop(),L.push(["AND","OR"][Ce-20]+"("+be+","+ke+")");break;default:if(Ce<32&&E[Ce])ke=L.pop(),be=L.pop(),L.push(be+E[Ce]+ke);else if(C[Ce]){if(X=C[Ce][1],X==69&&(X=O[O.l++]),X>L.length){console.error("WK1 bad formula parse 0x"+Ce.toString(16)+":|"+L.join("|")+"|");return}var Ge=L.slice(-X);L.length-=X,L.push(C[Ce][0]+"("+Ge.join(",")+")")}else return Ce<=7?console.error("WK1 invalid opcode "+Ce.toString(16)):Ce<=24?console.error("WK1 unsupported op "+Ce.toString(16)):Ce<=30?console.error("WK1 invalid opcode "+Ce.toString(16)):Ce<=115?console.error("WK1 unsupported function opcode "+Ce.toString(16)):console.error("WK1 unrecognized opcode "+Ce.toString(16))}}L.length==1?P[1].f=""+L[0]:console.error("WK1 bad formula parse |"+L.join("|")+"|")}function B(O){var P=[{c:0,r:0},{t:"n",v:0},0];return P[0].r=O.read_shift(2),P[3]=O[O.l++],P[0].c=O[O.l++],P}function N(O,P){var L=B(O);return L[1].t="s",L[1].v=O.read_shift(P-4,"cstr"),L}function k(O,P,L,X){var te=ve(6+X.length);te.write_shift(2,O),te.write_shift(1,L),te.write_shift(1,P),te.write_shift(1,39);for(var Ae=0;Ae<X.length;++Ae){var be=X.charCodeAt(Ae);te.write_shift(1,be>=128?95:be)}return te.write_shift(1,0),te}function R(O,P){var L=B(O);L[1].v=O.read_shift(2);var X=L[1].v>>1;if(L[1].v&1)switch(X&7){case 0:X=(X>>3)*5e3;break;case 1:X=(X>>3)*500;break;case 2:X=(X>>3)/20;break;case 3:X=(X>>3)/200;break;case 4:X=(X>>3)/2e3;break;case 5:X=(X>>3)/2e4;break;case 6:X=(X>>3)/16;break;case 7:X=(X>>3)/64;break}return L[1].v=X,L}function z(O,P){var L=B(O),X=O.read_shift(4),te=O.read_shift(4),Ae=O.read_shift(2);if(Ae==65535)return X===0&&te===3221225472?(L[1].t="e",L[1].v=15):X===0&&te===3489660928?(L[1].t="e",L[1].v=42):L[1].v=0,L;var be=Ae&32768;return Ae=(Ae&32767)-16446,L[1].v=(1-be*2)*(te*Math.pow(2,Ae+32)+X*Math.pow(2,Ae)),L}function I(O,P,L,X){var te=ve(14);if(te.write_shift(2,O),te.write_shift(1,L),te.write_shift(1,P),X==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var Ae=0,be=0,ke=0,Ce=0;return X<0&&(Ae=1,X=-X),be=Math.log2(X)|0,X/=Math.pow(2,be-31),Ce=X>>>0,(Ce&2147483648)==0&&(X/=2,++be,Ce=X>>>0),X-=Ce,Ce|=2147483648,Ce>>>=0,X*=Math.pow(2,32),ke=X>>>0,te.write_shift(4,ke),te.write_shift(4,Ce),be+=16383+(Ae?32768:0),te.write_shift(2,be),te}function j(O,P){var L=z(O);return O.l+=P-14,L}function q(O,P){var L=B(O),X=O.read_shift(4);return L[1].v=X>>6,L}function K(O,P){var L=B(O),X=O.read_shift(8,"f");return L[1].v=X,L}function oe(O,P){var L=K(O);return O.l+=P-10,L}function se(O,P){return O[O.l+P-1]==0?O.read_shift(P,"cstr"):""}function J(O,P){var L=O[O.l++];L>P-1&&(L=P-1);for(var X="";X.length<L;)X+=String.fromCharCode(O[O.l++]);return X}function ie(O,P,L){if(!(!L.qpro||P<21)){var X=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var te=O.read_shift(P-21,"cstr");return[X,te]}}function Ee(O,P){for(var L={},X=O.l+P;O.l<X;){var te=O.read_shift(2);if(te==14e3){for(L[te]=[0,""],L[te][0]=O.read_shift(2);O[O.l];)L[te][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return L}function we(O,P){var L=ve(5+O.length);L.write_shift(2,14e3),L.write_shift(2,P);for(var X=0;X<O.length;++X){var te=O.charCodeAt(X);L[L.l++]=te>127?95:te}return L[L.l++]=0,L}var xe={0:{n:"BOF",f:zA},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:se},222:{n:"SHEETNAMELP",f:J},65535:{n:""}},F={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:z},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:j},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ee},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:q},38:{n:"??"},39:{n:"NUMBER27",f:K},40:{n:"FORMULA28",f:oe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:se},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ie},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})(),QB=/^\s|\s$|[\t\n\r]/;function GA(n,e){if(!e.bookSST)return"";var t=[Rn];t[t.length]=Le("sst",null,{xmlns:Yo[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(QB)&&(s+=' xml:space="preserve"'),s+=">"+It(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function ZB(n){return[n.read_shift(4),n.read_shift(4)]}function JB(n,e){return e||(e=ve(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var eN=qO;function tN(n){var e=jr();Be(e,159,JB(n));for(var t=0;t<n.length;++t)Be(e,19,eN(n[t]));return Be(e,160),e.end()}function nN(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function XA(n){var e=0,t,r=nN(n),i=r.length+1,s,l,c,f,h;for(t=bl(i),t[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)l=t[s],c=(e&16384)===0?0:1,f=e<<1&32767,h=c|f,e=h^l;return e^52811}var rN=(function(){function n(i,s){switch(s.type){case"base64":return e(js(i),s);case"binary":return e(i,s);case"buffer":return e(Ot&&Buffer.isBuffer(i)?i.toString("binary"):K0(i),s);case"array":return e(rp(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var l=s||{},c=l.dense?[]:{},f=i.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(d,m){Array.isArray(c)&&(c[m]=[]);for(var g=/\\\w+\b/g,x=0,S,b=-1;S=g.exec(d);){switch(S[0]){case"\\cell":var w=d.slice(x,g.lastIndex-S[0].length);if(w[0]==" "&&(w=w.slice(1)),++b,w.length){var A={v:w,t:"s"};Array.isArray(c)?c[m][b]=A:c[Pt({r:m,c:b})]=A}break}x=g.lastIndex}b>h.e.c&&(h.e.c=b)}),c["!ref"]=Nn(h),c}function t(i,s){return Ol(n(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],l=rn(i["!ref"]),c,f=Array.isArray(i),h=l.s.r;h<=l.e.r;++h){s.push("\\trowd\\trautofit1");for(var d=l.s.c;d<=l.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=l.s.c;d<=l.e.c;++d){var m=Pt({r:h,c:d});c=f?(i[h]||[])[d]:i[m],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(Us(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function cw(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var iN=6,Hs=iN;function dd(n){return Math.floor((n+Math.round(128/Hs)/256)*Hs)}function pd(n){return Math.floor((n-5)/Hs*100+.5)/100}function F1(n){return Math.round((n*Hs+5)/Hs*256)/256}function nv(n){n.width?(n.wpx=dd(n.width),n.wch=pd(n.wpx),n.MDW=Hs):n.wpx?(n.wch=pd(n.wpx),n.width=F1(n.wch),n.MDW=Hs):typeof n.wch=="number"&&(n.width=F1(n.wch),n.wpx=dd(n.width),n.MDW=Hs),n.customWidth&&delete n.customWidth}var sN=96,$A=sN;function md(n){return n*96/$A}function YA(n){return n*$A/96}function aN(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=Le("numFmt",null,{numFmtId:r,formatCode:It(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Le("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function lN(n){var e=[];return e[e.length]=Le("cellXfs",null),n.forEach(function(t){e[e.length]=Le("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Le("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function KA(n,e){var t=[Rn,Le("styleSheet",null,{xmlns:Yo[0],"xmlns:vt":Gn.vt})],r;return n.SSF&&(r=aN(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=lN(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function oN(n,e){var t=n.read_shift(2),r=vr(n);return[t,r]}function cN(n,e,t){t||(t=ve(6+4*e.length)),t.write_shift(2,n),Yn(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function fN(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=QO(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var l=n.read_shift(1);l!=0&&(r.underline=l);var c=n.read_shift(1);c>0&&(r.family=c);var f=n.read_shift(1);switch(f>0&&(r.charset=f),n.l++,r.color=KO(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=vr(n),r}function uN(n,e){e||(e=ve(153)),e.write_shift(2,n.sz*20),ZO(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),ud(n.color,e);var r=0;return r=2,e.write_shift(1,r),Yn(n.name,e),e.length>e.l?e.slice(0,e.l):e}var hN=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],qg,dN=hs;function fw(n,e){e||(e=ve(84)),qg||(qg=qx(hN));var t=qg[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(ud({auto:1},e),ud({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function pN(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function QA(n,e,t){t||(t=ve(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Yc(n,e){return e||(e=ve(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var mN=hs;function gN(n,e){return e||(e=ve(51)),e.write_shift(1,0),Yc(null,e),Yc(null,e),Yc(null,e),Yc(null,e),Yc(null,e),e.length>e.l?e.slice(0,e.l):e}function xN(n,e){return e||(e=ve(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),fd(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function vN(n,e,t){var r=ve(2052);return r.write_shift(4,n),fd(e,r),fd(t,r),r.length>r.l?r.slice(0,r.l):r}function yN(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(Be(n,615,Hi(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Be(n,44,cN(i,e[i]))}),Be(n,616))}}function bN(n){var e=1;Be(n,611,Hi(e)),Be(n,43,uN({sz:12,color:{theme:1},name:"Calibri",family:2})),Be(n,612)}function SN(n){var e=2;Be(n,603,Hi(e)),Be(n,45,fw({patternType:"none"})),Be(n,45,fw({patternType:"gray125"})),Be(n,604)}function wN(n){var e=1;Be(n,613,Hi(e)),Be(n,46,gN()),Be(n,614)}function EN(n){var e=1;Be(n,626,Hi(e)),Be(n,47,QA({numFmtId:0},65535)),Be(n,627)}function CN(n,e){Be(n,617,Hi(e.length)),e.forEach(function(t){Be(n,47,QA(t,0))}),Be(n,618)}function AN(n){var e=1;Be(n,619,Hi(e)),Be(n,48,xN({xfId:0,name:"Normal"})),Be(n,620)}function TN(n){var e=0;Be(n,505,Hi(e)),Be(n,506)}function _N(n){var e=0;Be(n,508,vN(e,"TableStyleMedium9","PivotStyleMedium4")),Be(n,509)}function DN(n,e){var t=jr();return Be(t,278),yN(t,n.SSF),bN(t),SN(t),wN(t),EN(t),CN(t,e.cellXfs),AN(t),TN(t),_N(t),Be(t,279),t.end()}function ZA(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[Rn];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function kN(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:vr(n)}}function ON(n){var e=ve(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),Yn(n.name,e),e.slice(0,e.l)}function BN(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function NN(n){var e=ve(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function RN(n,e){var t=ve(8+2*e.length);return t.write_shift(4,n),Yn(e,t),t.slice(0,t.l)}function FN(n){return n.l+=4,n.read_shift(4)!=0}function MN(n,e){var t=ve(8);return t.write_shift(4,n),t.write_shift(4,1),t}function LN(){var n=jr();return Be(n,332),Be(n,334,Hi(1)),Be(n,335,ON({name:"XLDAPR",version:12e4,flags:3496657072})),Be(n,336),Be(n,339,RN(1,"XLDAPR")),Be(n,52),Be(n,35,Hi(514)),Be(n,4096,Hi(0)),Be(n,4097,Si(1)),Be(n,36),Be(n,53),Be(n,340),Be(n,337,MN(1)),Be(n,51,NN([[1,0]])),Be(n,338),Be(n,333),n.end()}function JA(){var n=[Rn];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function IN(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Pt(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var Eo=1024;function e3(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[Le("xml",null,{"xmlns:v":ii.v,"xmlns:o":ii.o,"xmlns:x":ii.x,"xmlns:mv":ii.mv}).replace(/\/>/,">"),Le("o:shapelayout",Le("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Le("v:shapetype",[Le("v:stroke",null,{joinstyle:"miter"}),Le("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];Eo<n*1e3;)Eo+=1e3;return e.forEach(function(s){var l=$n(s[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var f=c.type=="gradient"?Le("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=Le("v:fill",f,c),d={on:"t",obscured:"t"};++Eo,i=i.concat(["<v:shape"+_0({id:"_x0000_s"+Eo,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,Le("v:shadow",null,d),Le("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",or("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),or("x:AutoFill","False"),or("x:Row",String(l.r)),or("x:Column",String(l.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function t3(n){var e=[Rn,Le("comments",null,{xmlns:Yo[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var s=It(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(f){f.a&&(i=t.indexOf(It(f.a))),s.push(f.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(or("t",It(s[0]||"")));else{for(var l=`Comment:
    `+s[0]+`
`,c=1;c<s.length;++c)l+=`Reply:
    `+s[c]+`
`;e.push(or("t",It(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function PN(n,e,t){var r=[Rn,Le("ThreadedComments",null,{xmlns:Gn.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var s="";(i[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var f={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};c==0?s=f.id:f.parentId=s,l.ID=f.id,l.a&&(f.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),r.push(Le("threadedComment",or("text",l.t||""),f))})}),r.push("</ThreadedComments>"),r.join("")}function HN(n){var e=[Rn,Le("personList",null,{xmlns:Gn.TCMNT,"xmlns:x":Yo[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(Le("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function zN(n){var e={};e.iauthor=n.read_shift(4);var t=Fl(n);return e.rfx=t.s,e.ref=Pt(t.s),n.l+=16,e}function jN(n,e){return e==null&&(e=ve(36)),e.write_shift(4,n[1].iauthor),Qo(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var UN=vr;function VN(n){return Yn(n.slice(0,54))}function qN(n){var e=jr(),t=[];return Be(e,628),Be(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),Be(e,632,VN(i.a)))})}),Be(e,631),Be(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:$n(r[0]),e:$n(r[0])};Be(e,635,jN([s,i])),i.t&&i.t.length>0&&Be(e,637,GO(i)),Be(e,636),delete i.iauthor})}),Be(e,634),Be(e,629),e.end()}function WN(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Vt.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var n3=["xlsb","xlsm","xlam","biff8","xla"],GN=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,l){var c=!1,f=!1;s.length==0?f=!0:s.charAt(0)=="["&&(f=!0,s=s.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var h=s.length>0?parseInt(s,10)|0:0,d=l.length>0?parseInt(l,10)|0:0;return c?d+=e.c:--d,f?h+=e.r:--h,i+(c?"":"$")+xr(d)+(f?"":"$")+fr(h)}return function(i,s){return e=s,i.replace(n,t)}})(),rv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,iv=(function(){return function(e,t){return e.replace(rv,function(r,i,s,l,c,f){var h=Qx(l)-(s?0:t.c),d=Kx(f)-(c?0:t.r),m=d==0?"":c?d+1:"["+d+"]",g=h==0?"":s?h+1:"["+h+"]";return i+"R"+m+"C"+g})}})();function XN(n,e){return n.replace(rv,function(t,r,i,s,l,c){return r+(i=="$"?i+s:xr(Qx(s)+e.c))+(l=="$"?l+c:fr(Kx(c)+e.r))})}function $N(n){return n.length!=1}function kn(n){n.l+=1}function Ba(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function r3(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return i3(n);t.biff==12&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),l=Ba(n),c=Ba(n);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function i3(n){var e=Ba(n),t=Ba(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function YN(n,e,t){if(t.biff<8)return i3(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),s=Ba(n),l=Ba(n);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function s3(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return KN(n);var r=n.read_shift(t&&t.biff==12?4:2),i=Ba(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function KN(n){var e=Ba(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function QN(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function ZN(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return JN(n);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),l=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;i>524287;)i-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:l,rRel:c}}function JN(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function e7(n,e,t){var r=(n[n.l++]&96)>>5,i=r3(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function t7(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var l=r3(n,s,t);return[r,i,l]}function n7(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function r7(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,i]}function i7(n,e,t){var r=(n[n.l++]&96)>>5,i=YN(n,e-1,t);return[r,i]}function s7(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function uw(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function a7(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function l7(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function o7(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function c7(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function f7(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function a3(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function u7(n){return n.read_shift(2),a3(n)}function h7(n){return n.read_shift(2),a3(n)}function d7(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=s3(n,0,t);return[r,i]}function p7(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=ZN(n,0,t);return[r,i]}function m7(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=s3(n,0,t);return[r,i,s]}function g7(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[gR[i],c3[i],r]}function x7(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:v7(n);return[i,(s[0]===0?c3:mR)[s[1]]]}function v7(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function y7(n,e,t){n.l+=t&&t.biff==2?3:4}function b7(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function S7(n){return n.l++,J0[n.read_shift(1)]}function w7(n){return n.l++,n.read_shift(2)}function E7(n){return n.l++,n.read_shift(1)!==0}function C7(n){return n.l++,Zo(n)}function A7(n,e,t){return n.l++,UA(n,e-1,t)}function T7(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=mB(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=J0[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Zo(n);break;case 2:t[1]=yB(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function _7(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((t.biff==12?Fl:wB)(n));return i}function D7(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var s=0,l=[];s!=r&&(l[s]=[]);++s)for(var c=0;c!=i;++c)l[s][c]=T7(n,t.biff);return l}function k7(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function O7(n,e,t){if(t.biff==5)return B7(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),s=n.read_shift(4);return[r,i,s]}function B7(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function N7(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function R7(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function F7(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function M7(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,i]}var L7=hs,I7=hs,P7=hs;function ef(n,e,t){return n.l+=2,[QN(n)]}function sv(n){return n.l+=6,[]}var H7=ef,z7=sv,j7=sv,U7=ef;function l3(n){return n.l+=2,[zA(n),n.read_shift(2)&1]}var V7=ef,q7=l3,W7=sv,G7=ef,X7=ef,$7=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Y7(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2),l=$7[t>>2&31];return{ixti:e,coltype:t&3,rt:l,idx:r,c:i,C:s}}function K7(n){return n.l+=2,[n.read_shift(4)]}function Q7(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function Z7(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function J7(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function eR(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function tR(n){return n.l+=4,[0,0]}var hw={1:{n:"PtgExp",f:b7},2:{n:"PtgTbl",f:P7},3:{n:"PtgAdd",f:kn},4:{n:"PtgSub",f:kn},5:{n:"PtgMul",f:kn},6:{n:"PtgDiv",f:kn},7:{n:"PtgPower",f:kn},8:{n:"PtgConcat",f:kn},9:{n:"PtgLt",f:kn},10:{n:"PtgLe",f:kn},11:{n:"PtgEq",f:kn},12:{n:"PtgGe",f:kn},13:{n:"PtgGt",f:kn},14:{n:"PtgNe",f:kn},15:{n:"PtgIsect",f:kn},16:{n:"PtgUnion",f:kn},17:{n:"PtgRange",f:kn},18:{n:"PtgUplus",f:kn},19:{n:"PtgUminus",f:kn},20:{n:"PtgPercent",f:kn},21:{n:"PtgParen",f:kn},22:{n:"PtgMissArg",f:kn},23:{n:"PtgStr",f:A7},26:{n:"PtgSheet",f:Q7},27:{n:"PtgEndSheet",f:Z7},28:{n:"PtgErr",f:S7},29:{n:"PtgBool",f:E7},30:{n:"PtgInt",f:w7},31:{n:"PtgNum",f:C7},32:{n:"PtgArray",f:s7},33:{n:"PtgFunc",f:g7},34:{n:"PtgFuncVar",f:x7},35:{n:"PtgName",f:k7},36:{n:"PtgRef",f:d7},37:{n:"PtgArea",f:e7},38:{n:"PtgMemArea",f:N7},39:{n:"PtgMemErr",f:L7},40:{n:"PtgMemNoMem",f:I7},41:{n:"PtgMemFunc",f:R7},42:{n:"PtgRefErr",f:F7},43:{n:"PtgAreaErr",f:n7},44:{n:"PtgRefN",f:p7},45:{n:"PtgAreaN",f:i7},46:{n:"PtgMemAreaN",f:J7},47:{n:"PtgMemNoMemN",f:eR},57:{n:"PtgNameX",f:O7},58:{n:"PtgRef3d",f:m7},59:{n:"PtgArea3d",f:t7},60:{n:"PtgRefErr3d",f:M7},61:{n:"PtgAreaErr3d",f:r7},255:{}},nR={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},rR={1:{n:"PtgElfLel",f:l3},2:{n:"PtgElfRw",f:G7},3:{n:"PtgElfCol",f:H7},6:{n:"PtgElfRwV",f:X7},7:{n:"PtgElfColV",f:U7},10:{n:"PtgElfRadical",f:V7},11:{n:"PtgElfRadicalS",f:W7},13:{n:"PtgElfColS",f:z7},15:{n:"PtgElfColSV",f:j7},16:{n:"PtgElfRadicalLel",f:q7},25:{n:"PtgList",f:Y7},29:{n:"PtgSxName",f:K7},255:{}},iR={0:{n:"PtgAttrNoop",f:tR},1:{n:"PtgAttrSemi",f:f7},2:{n:"PtgAttrIf",f:o7},4:{n:"PtgAttrChoose",f:a7},8:{n:"PtgAttrGoto",f:l7},16:{n:"PtgAttrSum",f:y7},32:{n:"PtgAttrBaxcel",f:uw},33:{n:"PtgAttrBaxcel",f:uw},64:{n:"PtgAttrSpace",f:u7},65:{n:"PtgAttrSpaceSemi",f:h7},128:{n:"PtgAttrIfError",f:c7},255:{}};function sR(n,e,t,r){if(r.biff<8)return hs(n,e);for(var i=n.l+e,s=[],l=0;l!==t.length;++l)switch(t[l][0]){case"PtgArray":t[l][1]=D7(n,0,r),s.push(t[l][1]);break;case"PtgMemArea":t[l][2]=_7(n,t[l][1],r),s.push(t[l][2]);break;case"PtgExp":r&&r.biff==12&&(t[l][1][1]=n.read_shift(4),s.push(t[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[l][0]}return e=i-n.l,e!==0&&s.push(hs(n,e)),s}function aR(n,e,t){for(var r=n.l+e,i,s,l=[];r!=n.l;)e=r-n.l,s=n[n.l],i=hw[s]||hw[nR[s]],(s===24||s===25)&&(i=(s===24?rR:iR)[n[n.l+1]]),!i||!i.f?hs(n,e):l.push([i.n,i.f(n,e,t)]);return l}function lR(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var l=r[s];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var oR={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function cR(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function o3(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function dw(n,e,t){var r=o3(n,e,t);return r=="#REF"?r:cR(r,t)}function zo(n,e,t,r,i){var s=i&&i.biff||8,l={s:{c:0,r:0}},c=[],f,h,d,m=0,g=0,x,S="";if(!n[0]||!n[0][0])return"";for(var b=-1,w="",A=0,C=n[0].length;A<C;++A){var E=n[0][A];switch(E[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=c.pop(),h=c.pop(),b>=0){switch(n[0][b][1][0]){case 0:w=gn(" ",n[0][b][1][1]);break;case 1:w=gn("\r",n[0][b][1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][b][1][0])}h=h+w,b=-1}c.push(h+oR[E[0]]+f);break;case"PtgIsect":f=c.pop(),h=c.pop(),c.push(h+" "+f);break;case"PtgUnion":f=c.pop(),h=c.pop(),c.push(h+","+f);break;case"PtgRange":f=c.pop(),h=c.pop(),c.push(h+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=f0(E[1][1],l,i),c.push(u0(d,s));break;case"PtgRefN":d=t?f0(E[1][1],t,i):E[1][1],c.push(u0(d,s));break;case"PtgRef3d":m=E[1][1],d=f0(E[1][2],l,i),S=dw(r,m,i),c.push(S+"!"+u0(d,s));break;case"PtgFunc":case"PtgFuncVar":var D=E[1][0],B=E[1][1];D||(D=0),D&=127;var N=D==0?[]:c.slice(-D);c.length-=D,B==="User"&&(B=N.shift()),c.push(B+"("+N.join(",")+")");break;case"PtgBool":c.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(E[1]);break;case"PtgNum":c.push(String(E[1]));break;case"PtgStr":c.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(E[1]);break;case"PtgAreaN":x=QS(E[1][1],t?{s:t}:l,i),c.push(Ug(x,i));break;case"PtgArea":x=QS(E[1][1],l,i),c.push(Ug(x,i));break;case"PtgArea3d":m=E[1][1],x=E[1][2],S=dw(r,m,i),c.push(S+"!"+Ug(x,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=E[1][2];var k=(r.names||[])[g-1]||(r[0]||[])[g],R=k?k.Name:"SH33TJSNAME"+String(g);R&&R.slice(0,6)=="_xlfn."&&!i.xlfn&&(R=R.slice(6)),c.push(R);break;case"PtgNameX":var z=E[1][1];g=E[1][2];var I;if(i.biff<=5)z<0&&(z=-z),r[z]&&(I=r[z][g]);else{var j="";if(((r[z]||[])[0]||[])[0]==14849||(((r[z]||[])[0]||[])[0]==1025?r[z][g]&&r[z][g].itab>0&&(j=r.SheetNames[r[z][g].itab-1]+"!"):j=r.SheetNames[g-1]+"!"),r[z]&&r[z][g])j+=r[z][g].Name;else if(r[0]&&r[0][g])j+=r[0][g].Name;else{var q=(o3(r,z,i)||"").split(";;");q[g-1]?j=q[g-1]:j+="SH33TJSERRX"}c.push(j);break}I||(I={Name:"SH33TJSERRY"}),c.push(I.Name);break;case"PtgParen":var K="(",oe=")";if(b>=0){switch(w="",n[0][b][1][0]){case 2:K=gn(" ",n[0][b][1][1])+K;break;case 3:K=gn("\r",n[0][b][1][1])+K;break;case 4:oe=gn(" ",n[0][b][1][1])+oe;break;case 5:oe=gn("\r",n[0][b][1][1])+oe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][b][1][0])}b=-1}c.push(K+c.pop()+oe);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":d={c:E[1][1],r:E[1][0]};var se={c:t.c,r:t.r};if(r.sharedf[Pt(d)]){var J=r.sharedf[Pt(d)];c.push(zo(J,l,se,r,i))}else{var ie=!1;for(f=0;f!=r.arrayf.length;++f)if(h=r.arrayf[f],!(d.c<h[0].s.c||d.c>h[0].e.c)&&!(d.r<h[0].s.r||d.r>h[0].e.r)){c.push(zo(h[1],l,se,r,i)),ie=!0;break}ie||c.push(E[1])}break;case"PtgArray":c.push("{"+lR(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=A;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var Ee=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&Ee.indexOf(n[0][A][0])==-1){E=n[0][b];var we=!0;switch(E[1][0]){case 4:we=!1;case 0:w=gn(" ",E[1][1]);break;case 5:we=!1;case 1:w=gn("\r",E[1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}c.push((we?w:"")+c.pop()+(we?"":w)),b=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function fR(n){if(n==null){var e=ve(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return Sl(n);return Sl(0)}function uR(n,e,t,r,i){var s=wl(e,t,i),l=fR(n.v),c=ve(6),f=33;c.write_shift(2,f),c.write_shift(4,0);for(var h=ve(n.bf.length),d=0;d<n.bf.length;++d)h[d]=n.bf[d];var m=lr([s,l,c,h]);return m}function ip(n,e,t){var r=n.read_shift(4),i=aR(n,r,t),s=n.read_shift(4),l=s>0?sR(n,s,i,t):null;return[i,l]}var hR=ip,sp=ip,dR=ip,pR=ip,mR={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},c3={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},gR={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function xR(n){var e="of:="+n.replace(rv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function vR(n){return n.replace(/\./,"!")}var h0=typeof Map<"u";function av(n,e,t){var r=0,i=n.length;if(t){if(h0?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=h0?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&(h0?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function ap(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Hs=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=pd(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=F1(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function f3(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function za(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,s=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){sA(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(n[i].numFmtId===r)return i;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function yR(n,e,t){if(n&&n["!ref"]){var r=rn(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function bR(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+Nn(n[t])+'"/>';return e+"</mergeCells>"}function SR(n,e,t,r,i){var s=!1,l={},c=null;if(r.bookType!=="xlsx"&&e.vbaraw){var f=e.SheetNames[t];try{e.Workbook&&(f=e.Workbook.Sheets[t].CodeName||f)}catch{}s=!0,l.codeName=T0(It(f))}if(n&&n["!outline"]){var h={summaryBelow:1,summaryRight:1};n["!outline"].above&&(h.summaryBelow=0),n["!outline"].left&&(h.summaryRight=0),c=(c||"")+Le("outlinePr",null,h)}!s&&!c||(i[i.length]=Le("sheetPr",c,l))}var wR=["objects","scenarios","selectLockedCells","selectUnlockedCells"],ER=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function CR(n){var e={sheet:1};return wR.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),ER.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=XA(n.password).toString(16).toUpperCase()),Le("sheetProtection",null,e)}function AR(n){return f3(n),Le("pageMargins",null,n)}function TR(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=Le("col",null,ap(i,r)));return t[t.length]="</cols>",t.join("")}function _R(n,e,t,r){var i=typeof n.ref=="string"?n.ref:Nn(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,l=li(i);l.s.r==l.e.r&&(l.e.r=li(e["!ref"]).e.r,i=Nn(l));for(var c=0;c<s.length;++c){var f=s[c];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),Le("autoFilter",null,{ref:i})}function DR(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Le("sheetViews",Le("sheetView",null,i),{})}function kR(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",s=n.t,l=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=J0[n.v];break;case"d":r&&r.cellDates?i=Ar(n.v,-1).toISOString():(n=Vr(n),n.t="n",i=""+(n.v=Ur(Ar(n.v)))),typeof n.z>"u"&&(n.z=xn[14]);break;default:i=n.v;break}var c=or("v",It(i)),f={r:e},h=za(r.cellXfs,n,r);switch(h!==0&&(f.s=h),n.t){case"n":break;case"d":f.t="d";break;case"b":f.t="b";break;case"e":f.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){c=or("v",""+av(r.Strings,n.v,r.revStrings)),f.t="s";break}f.t="str";break}if(n.t!=s&&(n.t=s,n.v=l),typeof n.f=="string"&&n.f){var d=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;c=Le("f",It(n.f),d)+(n.v!=null?c:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(f.cm=1),Le("c",c,f)}function OR(n,e,t,r){var i=[],s=[],l=rn(n["!ref"]),c="",f,h="",d=[],m=0,g=0,x=n["!rows"],S=Array.isArray(n),b={r:h},w,A=-1;for(g=l.s.c;g<=l.e.c;++g)d[g]=xr(g);for(m=l.s.r;m<=l.e.r;++m){for(s=[],h=fr(m),g=l.s.c;g<=l.e.c;++g){f=d[g]+h;var C=S?(n[m]||[])[g]:n[f];C!==void 0&&(c=kR(C,f,n,e))!=null&&s.push(c)}(s.length>0||x&&x[m])&&(b={r:h},x&&x[m]&&(w=x[m],w.hidden&&(b.hidden=1),A=-1,w.hpx?A=md(w.hpx):w.hpt&&(A=w.hpt),A>-1&&(b.ht=A,b.customHeight=1),w.level&&(b.outlineLevel=w.level)),i[i.length]=Le("row",s.join(""),b))}if(x)for(;m<x.length;++m)x&&x[m]&&(b={r:m+1},w=x[m],w.hidden&&(b.hidden=1),A=-1,w.hpx?A=md(w.hpx):w.hpt&&(A=w.hpt),A>-1&&(b.ht=A,b.customHeight=1),w.level&&(b.outlineLevel=w.level),i[i.length]=Le("row","",b));return i.join("")}function u3(n,e,t,r){var i=[Rn,Le("worksheet",null,{xmlns:Yo[0],"xmlns:r":Gn.r})],s=t.SheetNames[n],l=0,c="",f=t.Sheets[s];f==null&&(f={});var h=f["!ref"]||"A1",d=rn(h);if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),h=Nn(d)}r||(r={}),f["!comments"]=[];var m=[];SR(f,t,n,e,i),i[i.length]=Le("dimension",null,{ref:h}),i[i.length]=DR(f,e,n,t),e.sheetFormat&&(i[i.length]=Le("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),f["!cols"]!=null&&f["!cols"].length>0&&(i[i.length]=TR(f,f["!cols"])),i[l=i.length]="<sheetData/>",f["!links"]=[],f["!ref"]!=null&&(c=OR(f,e),c.length>0&&(i[i.length]=c)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),f["!protect"]&&(i[i.length]=CR(f["!protect"])),f["!autofilter"]!=null&&(i[i.length]=_R(f["!autofilter"],f,t,n)),f["!merges"]!=null&&f["!merges"].length>0&&(i[i.length]=bR(f["!merges"]));var g=-1,x,S=-1;return f["!links"].length>0&&(i[i.length]="<hyperlinks>",f["!links"].forEach(function(b){b[1].Target&&(x={ref:b[0]},b[1].Target.charAt(0)!="#"&&(S=Lt(r,-1,It(b[1].Target).replace(/#.*$/,""),_t.HLINK),x["r:id"]="rId"+S),(g=b[1].Target.indexOf("#"))>-1&&(x.location=It(b[1].Target.slice(g+1))),b[1].Tooltip&&(x.tooltip=It(b[1].Tooltip)),i[i.length]=Le("hyperlink",null,x))}),i[i.length]="</hyperlinks>"),delete f["!links"],f["!margins"]!=null&&(i[i.length]=AR(f["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=or("ignoredErrors",Le("ignoredError",null,{numberStoredAsText:1,sqref:h}))),m.length>0&&(S=Lt(r,-1,"../drawings/drawing"+(n+1)+".xml",_t.DRAW),i[i.length]=Le("drawing",null,{"r:id":"rId"+S}),f["!drawing"]=m),f["!comments"].length>0&&(S=Lt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",_t.VML),i[i.length]=Le("legacyDrawing",null,{"r:id":"rId"+S}),f["!legacy"]=S),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function BR(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function NR(n,e,t){var r=ve(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;i.hpx?s=md(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),r.write_shift(1,l),r.write_shift(1,0);var c=0,f=r.l;r.l+=4;for(var h={r:n,c:0},d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var m=-1,g=-1,x=d<<10;x<d+1<<10;++x){h.c=x;var S=Array.isArray(t)?(t[h.r]||[])[h.c]:t[Pt(h)];S&&(m<0&&(m=x),g=x)}m<0||(++c,r.write_shift(4,m),r.write_shift(4,g))}var b=r.l;return r.l=f,r.write_shift(4,c),r.l=b,r.length>r.l?r.slice(0,r.l):r}function RR(n,e,t,r){var i=NR(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&Be(n,0,i)}var FR=Fl,MR=Qo;function LR(){}function IR(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=XO(n),t}function PR(n,e,t){t==null&&(t=ve(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return ud({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),TA(n,t),t.slice(0,t.l)}function HR(n){var e=ki(n);return[e]}function zR(n,e,t){return t==null&&(t=ve(8)),Bl(e,t)}function jR(n){var e=Nl(n);return[e]}function UR(n,e,t){return t==null&&(t=ve(4)),Rl(e,t)}function VR(n){var e=ki(n),t=n.read_shift(1);return[e,t,"b"]}function qR(n,e,t){return t==null&&(t=ve(9)),Bl(e,t),t.write_shift(1,n.v?1:0),t}function WR(n){var e=Nl(n),t=n.read_shift(1);return[e,t,"b"]}function GR(n,e,t){return t==null&&(t=ve(5)),Rl(e,t),t.write_shift(1,n.v?1:0),t}function XR(n){var e=ki(n),t=n.read_shift(1);return[e,t,"e"]}function $R(n,e,t){return t==null&&(t=ve(9)),Bl(e,t),t.write_shift(1,n.v),t}function YR(n){var e=Nl(n),t=n.read_shift(1);return[e,t,"e"]}function KR(n,e,t){return t==null&&(t=ve(8)),Rl(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function QR(n){var e=ki(n),t=n.read_shift(4);return[e,t,"s"]}function ZR(n,e,t){return t==null&&(t=ve(12)),Bl(e,t),t.write_shift(4,e.v),t}function JR(n){var e=Nl(n),t=n.read_shift(4);return[e,t,"s"]}function e9(n,e,t){return t==null&&(t=ve(8)),Rl(e,t),t.write_shift(4,e.v),t}function t9(n){var e=ki(n),t=Zo(n);return[e,t,"n"]}function n9(n,e,t){return t==null&&(t=ve(16)),Bl(e,t),Sl(n.v,t),t}function r9(n){var e=Nl(n),t=Zo(n);return[e,t,"n"]}function i9(n,e,t){return t==null&&(t=ve(12)),Rl(e,t),Sl(n.v,t),t}function s9(n){var e=ki(n),t=_A(n);return[e,t,"n"]}function a9(n,e,t){return t==null&&(t=ve(12)),Bl(e,t),DA(n.v,t),t}function l9(n){var e=Nl(n),t=_A(n);return[e,t,"n"]}function o9(n,e,t){return t==null&&(t=ve(8)),Rl(e,t),DA(n.v,t),t}function c9(n){var e=ki(n),t=Zx(n);return[e,t,"is"]}function f9(n){var e=ki(n),t=vr(n);return[e,t,"str"]}function u9(n,e,t){return t==null&&(t=ve(12+4*n.v.length)),Bl(e,t),Yn(n.v,t),t.length>t.l?t.slice(0,t.l):t}function h9(n){var e=Nl(n),t=vr(n);return[e,t,"str"]}function d9(n,e,t){return t==null&&(t=ve(8+4*n.v.length)),Rl(e,t),Yn(n.v,t),t.length>t.l?t.slice(0,t.l):t}function p9(n,e,t){var r=n.l+e,i=ki(n);i.r=t["!row"];var s=n.read_shift(1),l=[i,s,"b"];if(t.cellFormula){n.l+=2;var c=sp(n,r-n.l,t);l[3]=zo(c,null,i,t.supbooks,t)}else n.l=r;return l}function m9(n,e,t){var r=n.l+e,i=ki(n);i.r=t["!row"];var s=n.read_shift(1),l=[i,s,"e"];if(t.cellFormula){n.l+=2;var c=sp(n,r-n.l,t);l[3]=zo(c,null,i,t.supbooks,t)}else n.l=r;return l}function g9(n,e,t){var r=n.l+e,i=ki(n);i.r=t["!row"];var s=Zo(n),l=[i,s,"n"];if(t.cellFormula){n.l+=2;var c=sp(n,r-n.l,t);l[3]=zo(c,null,i,t.supbooks,t)}else n.l=r;return l}function x9(n,e,t){var r=n.l+e,i=ki(n);i.r=t["!row"];var s=vr(n),l=[i,s,"str"];if(t.cellFormula){n.l+=2;var c=sp(n,r-n.l,t);l[3]=zo(c,null,i,t.supbooks,t)}else n.l=r;return l}var v9=Fl,y9=Qo;function b9(n,e){return e==null&&(e=ve(4)),e.write_shift(4,n),e}function S9(n,e){var t=n.l+e,r=Fl(n),i=Jx(n),s=vr(n),l=vr(n),c=vr(n);n.l=t;var f={rfx:r,relId:i,loc:s,display:c};return l&&(f.Tooltip=l),f}function w9(n,e){var t=ve(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));Qo({s:$n(n[0]),e:$n(n[0])},t),ev("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return Yn(i||"",t),Yn(n[1].Tooltip||"",t),Yn("",t),t.slice(0,t.l)}function E9(){}function C9(n,e,t){var r=n.l+e,i=kA(n),s=n.read_shift(1),l=[i];if(l[2]=s,t.cellFormula){var c=hR(n,r-n.l,t);l[1]=c}else n.l=r;return l}function A9(n,e,t){var r=n.l+e,i=Fl(n),s=[i];if(t.cellFormula){var l=pR(n,r-n.l,t);s[1]=l,n.l=r}else n.l=r;return s}function T9(n,e,t){t==null&&(t=ve(18));var r=ap(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var h3=["left","right","top","bottom","header","footer"];function _9(n){var e={};return h3.forEach(function(t){e[t]=Zo(n)}),e}function D9(n,e){return e==null&&(e=ve(48)),f3(n),h3.forEach(function(t){Sl(n[t],e)}),e}function k9(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function O9(n,e,t){t==null&&(t=ve(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function B9(n){var e=ve(24);return e.write_shift(4,4),e.write_shift(4,1),Qo(n,e),e}function N9(n,e){return e==null&&(e=ve(66)),e.write_shift(2,n.password?XA(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function R9(){}function F9(){}function M9(n,e,t,r,i,s,l){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=Vr(e),e.z=e.z||xn[14],e.v=Ur(Ar(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var f={r:t,c:r};switch(f.s=za(i.cellXfs,e,i),e.l&&s["!links"].push([Pt(f),e.l]),e.c&&s["!comments"].push([Pt(f),e.c]),e.t){case"s":case"str":return i.bookSST?(c=av(i.Strings,e.v,i.revStrings),f.t="s",f.v=c,l?Be(n,18,e9(e,f)):Be(n,7,ZR(e,f))):(f.t="str",l?Be(n,17,d9(e,f)):Be(n,6,u9(e,f))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?Be(n,13,o9(e,f)):Be(n,2,a9(e,f)):l?Be(n,16,i9(e,f)):Be(n,5,n9(e,f)),!0;case"b":return f.t="b",l?Be(n,15,GR(e,f)):Be(n,4,qR(e,f)),!0;case"e":return f.t="e",l?Be(n,14,KR(e,f)):Be(n,3,$R(e,f)),!0}return l?Be(n,12,UR(e,f)):Be(n,1,zR(e,f)),!0}function L9(n,e,t,r){var i=rn(e["!ref"]||"A1"),s,l="",c=[];Be(n,145);var f=Array.isArray(e),h=i.e.r;e["!rows"]&&(h=Math.max(i.e.r,e["!rows"].length-1));for(var d=i.s.r;d<=h;++d){l=fr(d),RR(n,e,i,d);var m=!1;if(d<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){d===i.s.r&&(c[g]=xr(g)),s=c[g]+l;var x=f?(e[d]||[])[g]:e[s];if(!x){m=!1;continue}m=M9(n,x,d,g,r,e,m)}}Be(n,146)}function I9(n,e){!e||!e["!merges"]||(Be(n,177,b9(e["!merges"].length)),e["!merges"].forEach(function(t){Be(n,176,y9(t))}),Be(n,178))}function P9(n,e){!e||!e["!cols"]||(Be(n,390),e["!cols"].forEach(function(t,r){t&&Be(n,60,T9(r,t))}),Be(n,391))}function H9(n,e){!e||!e["!ref"]||(Be(n,648),Be(n,649,B9(rn(e["!ref"]))),Be(n,650))}function z9(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=Lt(t,-1,r[1].Target.replace(/#.*$/,""),_t.HLINK);Be(n,494,w9(r,i))}}),delete e["!links"]}function j9(n,e,t,r){if(e["!comments"].length>0){var i=Lt(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",_t.VML);Be(n,551,ev("rId"+i)),e["!legacy"]=i}}function U9(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Nn(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var l=t.Workbook.Names,c=li(s);c.s.r==c.e.r&&(c.e.r=li(e["!ref"]).e.r,s=Nn(c));for(var f=0;f<l.length;++f){var h=l[f];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+t.SheetNames[r]+"'!"+s;break}}f==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),Be(n,161,Qo(rn(s))),Be(n,162)}}function V9(n,e,t){Be(n,133),Be(n,137,O9(e,t)),Be(n,138),Be(n,134)}function q9(n,e){e["!protect"]&&Be(n,535,N9(e["!protect"]))}function W9(n,e,t,r){var i=jr(),s=t.SheetNames[n],l=t.Sheets[s]||{},c=s;try{t&&t.Workbook&&(c=t.Workbook.Sheets[n].CodeName||c)}catch{}var f=rn(l["!ref"]||"A1");if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Be(i,129),(t.vbaraw||l["!outline"])&&Be(i,147,PR(c,l["!outline"])),Be(i,148,MR(f)),V9(i,l,t.Workbook),P9(i,l),L9(i,l,n,e),q9(i,l),U9(i,l,t,n),I9(i,l),z9(i,l,r),l["!margins"]&&Be(i,476,D9(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&H9(i,l),j9(i,l,n,r),Be(i,130),i.end()}function G9(n,e){n.l+=10;var t=vr(n);return{name:t}}var X9=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function $9(n){return!n.Workbook||!n.Workbook.WBProps?"false":AO(n.Workbook.WBProps.date1904)?"true":"false"}var Y9="][*?/\\".split("");function d3(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return Y9.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function K9(n,e,t){n.forEach(function(r,i){d3(r);for(var s=0;s<i;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var l=e&&e[i]&&e[i].CodeName||r;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function Q9(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];K9(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)yR(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function p3(n){var e=[Rn];e[e.length]=Le("workbook",null,{xmlns:Yo[0],"xmlns:r":Gn.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(X9.forEach(function(c){n.Workbook.WBProps[c[0]]!=null&&n.Workbook.WBProps[c[0]]!=c[1]&&(r[c[0]]=n.Workbook.WBProps[c[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Le("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var l={name:It(n.SheetNames[s].slice(0,31))};if(l.sheetId=""+(s+1),l["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=Le("sheet",null,l)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(c){var f={name:c.Name};c.Comment&&(f.comment=c.Comment),c.Sheet!=null&&(f.localSheetId=""+c.Sheet),c.Hidden&&(f.hidden="1"),c.Ref&&(e[e.length]=Le("definedName",It(c.Ref),f))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Z9(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=R1(n),t.name=vr(n),t}function J9(n,e){return e||(e=ve(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),ev(n.strRelID,e),Yn(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function eF(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?vr(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function tF(n,e){e||(e=ve(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),TA(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function nF(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=$O(n),l=dR(n,0,t),c=Jx(n);n.l=r;var f={Name:s,Ptg:l};return i<268435455&&(f.Sheet=i),c&&(f.Comment=c),f}function rF(n,e){Be(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Be(n,156,J9(i))}Be(n,144)}function iF(n,e){e||(e=ve(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Yn("SheetJS",e),Yn(rd.version,e),Yn(rd.version,e),Yn("7262",e),e.length>e.l?e.slice(0,e.l):e}function sF(n,e){e||(e=ve(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function aF(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&s==-1&&(s=r);s>i||(Be(n,135),Be(n,158,sF(i)),Be(n,136))}}function lF(n,e){var t=jr();return Be(t,131),Be(t,128,iF()),Be(t,153,tF(n.Workbook&&n.Workbook.WBProps||null)),aF(t,n),rF(t,n),Be(t,132),t.end()}function oF(n,e,t){return(e.slice(-4)===".bin"?lF:p3)(n)}function cF(n,e,t,r,i){return(e.slice(-4)===".bin"?W9:u3)(n,t,r,i)}function fF(n,e,t){return(e.slice(-4)===".bin"?DN:KA)(n,t)}function uF(n,e,t){return(e.slice(-4)===".bin"?tN:GA)(n,t)}function hF(n,e,t){return(e.slice(-4)===".bin"?qN:t3)(n)}function dF(n){return(n.slice(-4)===".bin"?LN:JA)()}function pF(n,e){var t=[];return n.Props&&t.push(fB(n.Props,e)),n.Custprops&&t.push(uB(n.Props,n.Custprops)),t.join("")}function mF(){return""}function gF(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(Le("NumberFormat",null,{"ss:Format":It(xn[r.numFmtId])}));var l={"ss:ID":"s"+(21+i)};t.push(Le("Style",s.join(""),l))}),Le("Styles",t.join(""))}function m3(n){return Le("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+iv(n.Ref,{r:0,c:0})})}function xF(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(m3(i)))}return Le("Names",t.join(""))}function vF(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],l=0;l<i.length;++l){var c=i[l];c.Sheet==t&&(c.Name.match(/^_xlfn\./)||s.push(m3(c)))}return s.join("")}function yF(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(Le("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(Le("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(Le("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(Le("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(or("ProtectContents","True")),n["!protect"].objects&&i.push(or("ProtectObjects","True")),n["!protect"].scenarios&&i.push(or("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(or("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(or("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){n["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":Le("WorksheetOptions",i.join(""),{xmlns:ii.x})}function bF(n){return n.map(function(e){var t=CO(e.t||""),r=Le("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Le("Comment",r,{"ss:Author":e.a})}).join("")}function SF(n,e,t,r,i,s,l){if(!n||n.v==null&&n.f==null)return"";var c={};if(n.f&&(c["ss:Formula"]="="+It(iv(n.f,l))),n.F&&n.F.slice(0,e.length)==e){var f=$n(n.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(f.r==l.r?"":"["+(f.r-l.r)+"]")+"C"+(f.c==l.c?"":"["+(f.c-l.c)+"]")}if(n.l&&n.l.Target&&(c["ss:HRef"]=It(n.l.Target),n.l.Tooltip&&(c["x:HRefScreenTip"]=It(n.l.Tooltip))),t["!merges"])for(var h=t["!merges"],d=0;d!=h.length;++d)h[d].s.c!=l.c||h[d].s.r!=l.r||(h[d].e.c>h[d].s.c&&(c["ss:MergeAcross"]=h[d].e.c-h[d].s.c),h[d].e.r>h[d].s.r&&(c["ss:MergeDown"]=h[d].e.r-h[d].s.r));var m="",g="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":m="Number",g=String(n.v);break;case"b":m="Boolean",g=n.v?"1":"0";break;case"e":m="Error",g=J0[n.v];break;case"d":m="DateTime",g=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||xn[14]);break;case"s":m="String",g=EO(n.v||"");break}var x=za(r.cellXfs,n,r);c["ss:StyleID"]="s"+(21+x),c["ss:Index"]=l.c+1;var S=n.v!=null?g:"",b=n.t=="z"?"":'<Data ss:Type="'+m+'">'+S+"</Data>";return(n.c||[]).length>0&&(b+=bF(n.c)),Le("Cell",b,c)}function wF(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=YA(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function EF(n,e,t,r){if(!n["!ref"])return"";var i=rn(n["!ref"]),s=n["!merges"]||[],l=0,c=[];n["!cols"]&&n["!cols"].forEach(function(w,A){nv(w);var C=!!w.width,E=ap(A,w),D={"ss:Index":A+1};C&&(D["ss:Width"]=dd(E.width)),w.hidden&&(D["ss:Hidden"]="1"),c.push(Le("Column",null,D))});for(var f=Array.isArray(n),h=i.s.r;h<=i.e.r;++h){for(var d=[wF(h,(n["!rows"]||[])[h])],m=i.s.c;m<=i.e.c;++m){var g=!1;for(l=0;l!=s.length;++l)if(!(s[l].s.c>m)&&!(s[l].s.r>h)&&!(s[l].e.c<m)&&!(s[l].e.r<h)){(s[l].s.c!=m||s[l].s.r!=h)&&(g=!0);break}if(!g){var x={r:h,c:m},S=Pt(x),b=f?(n[h]||[])[m]:n[S];d.push(SF(b,S,n,e,t,r,x))}}d.push("</Row>"),d.length>2&&c.push(d.join(""))}return c.join("")}function CF(n,e,t){var r=[],i=t.SheetNames[n],s=t.Sheets[i],l=s?vF(s,e,n,t):"";return l.length>0&&r.push("<Names>"+l+"</Names>"),l=s?EF(s,e,n,t):"",l.length>0&&r.push("<Table>"+l+"</Table>"),r.push(yF(s,e,n,t)),r.join("")}function AF(n,e){e||(e={}),n.SSF||(n.SSF=Vr(xn)),n.SSF&&(tp(),ep(n.SSF),e.revssf=np(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],za(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(pF(n,e)),t.push(mF()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(Le("Worksheet",CF(r,e,n),{"ss:Name":It(n.SheetNames[r])}));return t[2]=gF(n,e),t[3]=xF(n),Rn+Le("Workbook",t.join(""),{xmlns:ii.ss,"xmlns:o":ii.o,"xmlns:x":ii.x,"xmlns:ss":ii.ss,"xmlns:dt":ii.dt,"xmlns:html":ii.html})}var Wg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function TF(n,e){var t=[],r=[],i=[],s=0,l,c=zS(JS,"n"),f=zS(ew,"n");if(n.Props)for(l=ur(n.Props),s=0;s<l.length;++s)(Object.prototype.hasOwnProperty.call(c,l[s])?t:Object.prototype.hasOwnProperty.call(f,l[s])?r:i).push([l[s],n.Props[l[s]]]);if(n.Custprops)for(l=ur(n.Custprops),s=0;s<l.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},l[s])||(Object.prototype.hasOwnProperty.call(c,l[s])?t:Object.prototype.hasOwnProperty.call(f,l[s])?r:i).push([l[s],n.Custprops[l[s]]]);var h=[];for(s=0;s<i.length;++s)HA.indexOf(i[s][0])>-1||LA.indexOf(i[s][0])>-1||i[s][1]!=null&&h.push(i[s]);r.length&&Vt.utils.cfb_add(e,"/SummaryInformation",sw(r,Wg.SI,f,ew)),(t.length||h.length)&&Vt.utils.cfb_add(e,"/DocumentSummaryInformation",sw(t,Wg.DSI,c,JS,h.length?h:null,Wg.UDI))}function _F(n,e){var t=e||{},r=Vt.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Vt.utils.cfb_add(r,i,g3(n,t)),t.biff==8&&(n.Props||n.Custprops)&&TF(n,r),t.biff==8&&n.vbaraw&&WN(r,Vt.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var DF={0:{f:BR},1:{f:HR},2:{f:s9},3:{f:XR},4:{f:VR},5:{f:t9},6:{f:f9},7:{f:QR},8:{f:x9},9:{f:g9},10:{f:p9},11:{f:m9},12:{f:jR},13:{f:l9},14:{f:YR},15:{f:WR},16:{f:r9},17:{f:h9},18:{f:JR},19:{f:Zx},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:nF},40:{},42:{},43:{f:fN},44:{f:oN},45:{f:dN},46:{f:mN},47:{f:pN},48:{},49:{f:jO},50:{},51:{f:BN},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:UB},62:{f:c9},63:{f:IN},64:{f:R9},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:hs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:k9},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:IR},148:{f:FR,p:16},151:{f:E9},152:{},153:{f:eF},154:{},155:{},156:{f:Z9},157:{},158:{},159:{T:1,f:ZB},160:{T:-1},161:{T:1,f:Fl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:v9},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:kN},336:{T:-1},337:{f:FN,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:R1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:LB},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:C9},427:{f:A9},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:_9},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:LR},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:S9},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:R1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:UN},633:{T:1},634:{T:-1},635:{T:1,f:zN},636:{T:-1},637:{f:WO},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:G9},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:F9},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ie(n,e,t,r){var i=e;if(!isNaN(i)){var s=r||(t||[]).length||0,l=n.next(4);l.write_shift(2,i),l.write_shift(2,s),s>0&&Yx(t)&&n.push(t)}}function kF(n,e,t,r){var i=(t||[]).length||0;if(i<=8224)return Ie(n,e,t,i);var s=e;if(!isNaN(s)){for(var l=t.parts||[],c=0,f=0,h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;var d=n.next(4);for(d.write_shift(2,s),d.write_shift(2,h),n.push(t.slice(f,f+h)),f+=h;f<i;){for(d=n.next(4),d.write_shift(2,60),h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;d.write_shift(2,h),n.push(t.slice(f,f+h)),f+=h}}}function tf(n,e,t){return n||(n=ve(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function OF(n,e,t,r){var i=ve(9);return tf(i,n,e),jA(t,r||"b",i),i}function BF(n,e,t){var r=ve(8+2*t.length);return tf(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function NF(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Ur(Ar(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Ie(n,2,GB(t,r,i)):Ie(n,3,WB(t,r,i));return;case"b":case"e":Ie(n,5,OF(t,r,e.v,e.t));return;case"s":case"str":Ie(n,4,BF(t,r,(e.v||"").slice(0,255)));return}Ie(n,1,tf(null,t,r))}function RF(n,e,t,r){var i=Array.isArray(e),s=rn(e["!ref"]||"A1"),l,c="",f=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),l=Nn(s)}for(var h=s.s.r;h<=s.e.r;++h){c=fr(h);for(var d=s.s.c;d<=s.e.c;++d){h===s.s.r&&(f[d]=xr(d)),l=f[d]+c;var m=i?(e[h]||[])[d]:e[l];m&&NF(n,m,h,d)}}}function FF(n,e){for(var t=e||{},r=jr(),i=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Ie(r,t.biff==4?1033:t.biff==3?521:9,tv(n,16,t)),RF(r,n.Sheets[n.SheetNames[i]],i,t),Ie(r,10),r.end()}function MF(n,e,t){Ie(n,49,DB({sz:12,name:"Arial"},t))}function LF(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Ie(n,1054,BB(i,e[i],t))})}function IF(n,e){var t=ve(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Ie(n,2151,t),t=ve(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),qA(rn(e["!ref"]||"A1"),t),t.write_shift(4,4),Ie(n,2152,t)}function PF(n,e){for(var t=0;t<16;++t)Ie(n,224,lw({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Ie(n,224,lw(r,0,e))})}function HF(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];Ie(n,440,HB(r)),r[1].Tooltip&&Ie(n,2048,zB(r))}delete e["!links"]}function zF(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&Ie(n,125,VB(ap(i,r),i))})}}function jF(n,e,t,r,i){var s=16+za(i.cellXfs,e,i);if(e.v==null&&!e.bf){Ie(n,513,wl(t,r,s));return}if(e.bf)Ie(n,6,uR(e,t,r,i,s));else switch(e.t){case"d":case"n":var l=e.t=="d"?Ur(Ar(e.v)):e.v;Ie(n,515,MB(t,r,l,s));break;case"b":case"e":Ie(n,517,FB(t,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var c=av(i.Strings,e.v,i.revStrings);Ie(n,253,kB(t,r,c,s))}else Ie(n,516,OB(t,r,(e.v||"").slice(0,255),s,i));break;default:Ie(n,513,wl(t,r,s))}}function UF(n,e,t){var r=jr(),i=t.SheetNames[n],s=t.Sheets[i]||{},l=(t||{}).Workbook||{},c=(l.Sheets||[])[n]||{},f=Array.isArray(s),h=e.biff==8,d,m="",g=[],x=rn(s["!ref"]||"A1"),S=h?65536:16384;if(x.e.c>255||x.e.r>=S){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,S-1)}Ie(r,2057,tv(t,16,e)),Ie(r,13,Si(1)),Ie(r,12,Si(100)),Ie(r,15,wr(!0)),Ie(r,17,wr(!1)),Ie(r,16,Sl(.001)),Ie(r,95,wr(!0)),Ie(r,42,wr(!1)),Ie(r,43,wr(!1)),Ie(r,130,Si(1)),Ie(r,128,RB()),Ie(r,131,wr(!1)),Ie(r,132,wr(!1)),h&&zF(r,s["!cols"]),Ie(r,512,NB(x,e)),h&&(s["!links"]=[]);for(var b=x.s.r;b<=x.e.r;++b){m=fr(b);for(var w=x.s.c;w<=x.e.c;++w){b===x.s.r&&(g[w]=xr(w)),d=g[w]+m;var A=f?(s[b]||[])[w]:s[d];A&&(jF(r,A,b,w,e),h&&A.l&&s["!links"].push([d,A.l]))}}var C=c.CodeName||c.name||i;return h&&Ie(r,574,_B((l.Views||[])[0])),h&&(s["!merges"]||[]).length&&Ie(r,229,PB(s["!merges"])),h&&HF(r,s),Ie(r,442,VA(C)),h&&IF(r,s),Ie(r,10),r.end()}function VF(n,e,t){var r=jr(),i=(n||{}).Workbook||{},s=i.Sheets||[],l=i.WBProps||{},c=t.biff==8,f=t.biff==5;if(Ie(r,2057,tv(n,5,t)),t.bookType=="xla"&&Ie(r,135),Ie(r,225,c?Si(1200):null),Ie(r,193,pB(2)),f&&Ie(r,191),f&&Ie(r,192),Ie(r,226),Ie(r,92,EB("SheetJS",t)),Ie(r,66,Si(c?1200:1252)),c&&Ie(r,353,Si(0)),c&&Ie(r,448),Ie(r,317,qB(n.SheetNames.length)),c&&n.vbaraw&&Ie(r,211),c&&n.vbaraw){var h=l.CodeName||"ThisWorkbook";Ie(r,442,VA(h))}Ie(r,156,Si(17)),Ie(r,25,wr(!1)),Ie(r,18,wr(!1)),Ie(r,19,Si(0)),c&&Ie(r,431,wr(!1)),c&&Ie(r,444,Si(0)),Ie(r,61,TB()),Ie(r,64,wr(!1)),Ie(r,141,Si(0)),Ie(r,34,wr($9(n)=="true")),Ie(r,14,wr(!0)),c&&Ie(r,439,wr(!1)),Ie(r,218,Si(0)),MF(r,n,t),LF(r,n.SSF,t),PF(r,t),c&&Ie(r,352,wr(!1));var d=r.end(),m=jr();c&&Ie(m,140,jB()),c&&t.Strings&&kF(m,252,AB(t.Strings)),Ie(m,10);var g=m.end(),x=jr(),S=0,b=0;for(b=0;b<n.SheetNames.length;++b)S+=(c?12:11)+(c?2:1)*n.SheetNames[b].length;var w=d.length+S+g.length;for(b=0;b<n.SheetNames.length;++b){var A=s[b]||{};Ie(x,133,CB({pos:w,hs:A.Hidden||0,dt:0,name:n.SheetNames[b]},t)),w+=e[b].length}var C=x.end();if(S!=C.length)throw new Error("BS8 "+S+" != "+C.length);var E=[];return d.length&&E.push(d),C.length&&E.push(C),g.length&&E.push(g),lr(E)}function qF(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=Vr(xn)),n&&n.SSF&&(tp(),ep(n.SSF),t.revssf=np(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,lv(t),t.cellXfs=[],za(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=UF(i,t,n);return r.unshift(VF(n,r,t)),lr(r)}function g3(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=li(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return qF(n,e);case 4:case 3:case 2:return FF(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function WF(n,e,t,r){for(var i=n["!merges"]||[],s=[],l=e.s.c;l<=e.e.c;++l){for(var c=0,f=0,h=0;h<i.length;++h)if(!(i[h].s.r>t||i[h].s.c>l)&&!(i[h].e.r<t||i[h].e.c<l)){if(i[h].s.r<t||i[h].s.c<l){c=-1;break}c=i[h].e.r-i[h].s.r+1,f=i[h].e.c-i[h].s.c+1;break}if(!(c<0)){var d=Pt({r:t,c:l}),m=r.dense?(n[t]||[])[l]:n[d],g=m&&m.v!=null&&(m.h||wO(m.w||(Us(m),m.w)||""))||"",x={};c>1&&(x.rowspan=c),f>1&&(x.colspan=f),r.editable?g='<span contenteditable="true">'+g+"</span>":m&&(x["data-t"]=m&&m.t||"z",m.v!=null&&(x["data-v"]=m.v),m.z!=null&&(x["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+m.l.Target+'">'+g+"</a>")),x.id=(r.id||"sjs")+"-"+d,s.push(Le("td",g,x))}}var S="<tr>";return S+s.join("")+"</tr>"}var GF='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',XF="</body></html>";function $F(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function x3(n,e){var t=e||{},r=t.header!=null?t.header:GF,i=t.footer!=null?t.footer:XF,s=[r],l=li(n["!ref"]);t.dense=Array.isArray(n),s.push($F(n,l,t));for(var c=l.s.r;c<=l.e.r;++c)s.push(WF(n,l,c,t));return s.push("</table>"+i),s.join("")}function v3(n,e,t){var r=t||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var l=typeof r.origin=="string"?$n(r.origin):r.origin;i=l.r,s=l.c}var c=e.getElementsByTagName("tr"),f=Math.min(r.sheetRows||1e7,c.length),h={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var d=li(n["!ref"]);h.s.r=Math.min(h.s.r,d.s.r),h.s.c=Math.min(h.s.c,d.s.c),h.e.r=Math.max(h.e.r,d.e.r),h.e.c=Math.max(h.e.c,d.e.c),i==-1&&(h.e.r=i=d.e.r+1)}var m=[],g=0,x=n["!rows"]||(n["!rows"]=[]),S=0,b=0,w=0,A=0,C=0,E=0;for(n["!cols"]||(n["!cols"]=[]);S<c.length&&b<f;++S){var D=c[S];if(pw(D)){if(r.display)continue;x[b]={hidden:!0}}var B=D.children;for(w=A=0;w<B.length;++w){var N=B[w];if(!(r.display&&pw(N))){var k=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):TO(N.innerHTML),R=N.getAttribute("data-z")||N.getAttribute("z");for(g=0;g<m.length;++g){var z=m[g];z.s.c==A+s&&z.s.r<b+i&&b+i<=z.e.r&&(A=z.e.c+1-s,g=-1)}E=+N.getAttribute("colspan")||1,((C=+N.getAttribute("rowspan")||1)>1||E>1)&&m.push({s:{r:b+i,c:A+s},e:{r:b+i+(C||1)-1,c:A+s+(E||1)-1}});var I={t:"s",v:k},j=N.getAttribute("data-t")||N.getAttribute("t")||"";k!=null&&(k.length==0?I.t=j||"z":r.raw||k.trim().length==0||j=="s"||(k==="TRUE"?I={t:"b",v:!0}:k==="FALSE"?I={t:"b",v:!1}:isNaN(Ps(k))?isNaN(A0(k).getDate())||(I={t:"d",v:Ar(k)},r.cellDates||(I={t:"n",v:Ur(I.v)}),I.z=r.dateNF||xn[14]):I={t:"n",v:Ps(k)})),I.z===void 0&&R!=null&&(I.z=R);var q="",K=N.getElementsByTagName("A");if(K&&K.length)for(var oe=0;oe<K.length&&!(K[oe].hasAttribute("href")&&(q=K[oe].getAttribute("href"),q.charAt(0)!="#"));++oe);q&&q.charAt(0)!="#"&&(I.l={Target:q}),r.dense?(n[b+i]||(n[b+i]=[]),n[b+i][A+s]=I):n[Pt({c:A+s,r:b+i})]=I,h.e.c<A+s&&(h.e.c=A+s),A+=E}}++b}return m.length&&(n["!merges"]=(n["!merges"]||[]).concat(m)),h.e.r=Math.max(h.e.r,b-1+i),n["!ref"]=Nn(h),b>=f&&(n["!fullref"]=Nn((h.e.r=c.length-S+b-1+i,h))),n}function y3(n,e){var t=e||{},r=t.dense?[]:{};return v3(r,n,e)}function YF(n,e){return Ol(y3(n,e),e)}function pw(n){var e="",t=KF(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function KF(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var QF=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+_0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return Rn+e}})(),mw=(function(){var n=function(s){return It(s).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,l,c){var f=[];f.push('      <table:table table:name="'+It(l.SheetNames[c])+`" table:style-name="ta1">
`);var h=0,d=0,m=li(s["!ref"]||"A1"),g=s["!merges"]||[],x=0,S=Array.isArray(s);if(s["!cols"])for(d=0;d<=m.e.c;++d)f.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var b="",w=s["!rows"]||[];for(h=0;h<m.s.r;++h)b=w[h]?' table:style-name="ro'+w[h].ods+'"':"",f.push("        <table:table-row"+b+`></table:table-row>
`);for(;h<=m.e.r;++h){for(b=w[h]?' table:style-name="ro'+w[h].ods+'"':"",f.push("        <table:table-row"+b+`>
`),d=0;d<m.s.c;++d)f.push(e);for(;d<=m.e.c;++d){var A=!1,C={},E="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>d)&&!(g[x].s.r>h)&&!(g[x].e.c<d)&&!(g[x].e.r<h)){(g[x].s.c!=d||g[x].s.r!=h)&&(A=!0),C["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,C["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(A){f.push(t);continue}var D=Pt({r:h,c:d}),B=S?(s[h]||[])[d]:s[D];if(B&&B.f&&(C["table:formula"]=It(xR(B.f)),B.F&&B.F.slice(0,D.length)==D)){var N=li(B.F);C["table:number-matrix-columns-spanned"]=N.e.c-N.s.c+1,C["table:number-matrix-rows-spanned"]=N.e.r-N.s.r+1}if(!B){f.push(e);continue}switch(B.t){case"b":E=B.v?"TRUE":"FALSE",C["office:value-type"]="boolean",C["office:boolean-value"]=B.v?"true":"false";break;case"n":E=B.w||String(B.v||0),C["office:value-type"]="float",C["office:value"]=B.v||0;break;case"s":case"str":E=B.v==null?"":B.v,C["office:value-type"]="string";break;case"d":E=B.w||Ar(B.v).toISOString(),C["office:value-type"]="date",C["office:date-value"]=Ar(B.v).toISOString(),C["table:style-name"]="ce1";break;default:f.push(e);continue}var k=n(E);if(B.l&&B.l.Target){var R=B.l.Target;R=R.charAt(0)=="#"?"#"+vR(R.slice(1)):R,R.charAt(0)!="#"&&!R.match(/^\w+:/)&&(R="../"+R),k=Le("text:a",k,{"xlink:href":R.replace(/&/g,"&amp;")})}f.push("          "+Le("table:table-cell",Le("text:p",k,{}),C)+`
`)}f.push(`        </table:table-row>
`)}return f.push(`      </table:table>
`),f.join("")},i=function(s,l){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var d=0;d<h["!cols"].length;++d)if(h["!cols"][d]){var m=h["!cols"][d];if(m.width==null&&m.wpx==null&&m.wch==null)continue;nv(m),m.ods=c;var g=h["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++c}}});var f=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var d=0;d<h["!rows"].length;++d)if(h["!rows"][d]){h["!rows"][d].ods=f;var m=h["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+f+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),s.push(`  </style:style>
`),++f}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(l,c){var f=[Rn],h=_0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=_0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(f.push("<office:document"+h+d+`>
`),f.push(FA().replace(/office:document-meta/g,"office:meta"))):f.push("<office:document-content"+h+`>
`),i(f,l),f.push(`  <office:body>
`),f.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)f.push(r(l.Sheets[l.SheetNames[m]],l,m));return f.push(`    </office:spreadsheet>
`),f.push(`  </office:body>
`),c.bookType=="fods"?f.push("</office:document>"):f.push("</office:document-content>"),f.join("")}})();function b3(n,e){if(e.bookType=="fods")return mw(n,e);var t=Wx(),r="",i=[],s=[];return r="mimetype",ct(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",ct(t,r,mw(n,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",ct(t,r,QF(n,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",ct(t,r,Rn+FA()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",ct(t,r,cB(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",ct(t,r,lB(i)),t}function gd(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function ZF(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):Li(T0(n))}function JF(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function Na(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function eM(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)n[e+s]=i&255;n[e+15]|=t>=0?0:128}function D0(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function Mt(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function Bo(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Ln(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=D0(n,t),s=i&7;i=Math.floor(i/8);var l=0,c;if(i==0)break;switch(s){case 0:{for(var f=t[0];n[t[0]++]>=128;);c=n.slice(f,t[0])}break;case 5:l=4,c=n.slice(t[0],t[0]+l),t[0]+=l;break;case 1:l=8,c=n.slice(t[0],t[0]+l),t[0]+=l;break;case 2:l=D0(n,t),c=n.slice(t[0],t[0]+l),t[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var h={data:c,type:s};e[i]==null?e[i]=[h]:e[i].push(h)}return e}function rr(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(Mt(r*8+i.type)),i.type==2&&e.push(Mt(i.data.length)),e.push(i.data))})}),Na(e)}function Fi(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=D0(n,r),s=Ln(n.slice(r[0],r[0]+i));r[0]+=i;var l={id:Bo(s[1][0].data),messages:[]};s[2].forEach(function(c){var f=Ln(c.data),h=Bo(f[3][0].data);l.messages.push({meta:f,data:n.slice(r[0],r[0]+h)}),r[0]+=h}),(e=s[3])!=null&&e[0]&&(l.merge=Bo(s[3][0].data)>>>0>0),t.push(l)}return t}function xo(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:Mt(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:Mt(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:Mt(l.data.length)}],r[2].push({data:rr(l.meta),type:2})});var s=rr(r);e.push(Mt(s.length)),e.push(s),i.forEach(function(l){return e.push(l)})}),Na(e)}function tM(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=D0(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var l=e[t[0]++]>>2;if(l<60)++l;else{var c=l-59;l=e[t[0]],c>1&&(l|=e[t[0]+1]<<8),c>2&&(l|=e[t[0]+2]<<16),c>3&&(l|=e[t[0]+3]<<24),l>>>=0,l++,t[0]+=c}i.push(e.slice(t[0],t[0]+l)),t[0]+=l;continue}else{var f=0,h=0;if(s==1?(h=(e[t[0]]>>2&7)+4,f=(e[t[0]++]&224)<<3,f|=e[t[0]++]):(h=(e[t[0]++]>>2)+1,s==2?(f=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(f=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[Na(i)],f==0)throw new Error("Invalid offset 0");if(f>i[0].length)throw new Error("Invalid offset beyond length");if(h>=f)for(i.push(i[0].slice(-f)),h-=f;h>=i[i.length-1].length;)i.push(i[i.length-1]),h-=i[i.length-1].length;i.push(i[0].slice(-f,-f+h))}}var d=Na(i);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function Mi(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(tM(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return Na(e)}function vo(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=Mt(r),l=s.length;e.push(s),r<=60?(l++,e.push(new Uint8Array([r-1<<2]))):r<=256?(l+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(l+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(l+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(l+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),l+=r,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,t+=r}return Na(e)}function Gg(n,e){var t=new Uint8Array(32),r=gd(t),i=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,eM(t,i,n.v),s|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,i)}function Xg(n,e){var t=new Uint8Array(32),r=gd(t),i=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),s|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,i)}function ya(n){var e=Ln(n);return D0(e[1][0].data)}function nM(n,e,t){var r,i,s,l;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(s=n[8])==null?void 0:s[0])==null?void 0:l.data)&&Bo(n[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var f=0,h=gd(n[7][0].data),d=0,m=[],g=gd(n[4][0].data),x=0,S=[],b=0;b<e.length;++b){if(e[b]==null){h.setUint16(b*2,65535,!0),g.setUint16(b*2,65535);continue}h.setUint16(b*2,d,!0),g.setUint16(b*2,x,!0);var w,A;switch(typeof e[b]){case"string":w=Gg({t:"s",v:e[b]},t),A=Xg({t:"s",v:e[b]},t);break;case"number":w=Gg({t:"n",v:e[b]},t),A=Xg({t:"n",v:e[b]},t);break;case"boolean":w=Gg({t:"b",v:e[b]},t),A=Xg({t:"b",v:e[b]},t);break;default:throw new Error("Unsupported value "+e[b])}m.push(w),d+=w.length,S.push(A),x+=A.length,++f}for(n[2][0].data=Mt(f);b<n[7][0].data.length/2;++b)h.setUint16(b*2,65535,!0),g.setUint16(b*2,65535,!0);return n[6][0].data=Na(m),n[3][0].data=Na(S),f}function rM(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=li(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Nn(r)));var s=xd(t,{range:r,header:1}),l=["~Sh33tJ5~"];s.forEach(function(P){return P.forEach(function(L){typeof L=="string"&&l.push(L)})});var c={},f=[],h=Vt.read(e.numbers,{type:"base64"});h.FileIndex.map(function(P,L){return[P,h.FullPaths[L]]}).forEach(function(P){var L=P[0],X=P[1];if(L.type==2&&L.name.match(/\.iwa/)){var te=L.content,Ae=Mi(te),be=Fi(Ae);be.forEach(function(ke){f.push(ke.id),c[ke.id]={deps:[],location:X,type:Bo(ke.messages[0].meta[1][0].data)}})}}),f.sort(function(P,L){return P-L});var d=f.filter(function(P){return P>1}).map(function(P){return[P,Mt(P)]});h.FileIndex.map(function(P,L){return[P,h.FullPaths[L]]}).forEach(function(P){var L=P[0];if(P[1],!!L.name.match(/\.iwa/)){var X=Fi(Mi(L.content));X.forEach(function(te){te.messages.forEach(function(Ae){d.forEach(function(be){te.messages.some(function(ke){return Bo(ke.meta[1][0].data)!=11006&&JF(ke.data,be[1])})&&c[be[0]].deps.push(te.id)})})})}});for(var m=Vt.find(h,c[1].location),g=Fi(Mi(m.content)),x,S=0;S<g.length;++S){var b=g[S];b.id==1&&(x=b)}var w=ya(Ln(x.messages[0].data)[1][0].data);for(m=Vt.find(h,c[w].location),g=Fi(Mi(m.content)),S=0;S<g.length;++S)b=g[S],b.id==w&&(x=b);for(w=ya(Ln(x.messages[0].data)[2][0].data),m=Vt.find(h,c[w].location),g=Fi(Mi(m.content)),S=0;S<g.length;++S)b=g[S],b.id==w&&(x=b);for(w=ya(Ln(x.messages[0].data)[2][0].data),m=Vt.find(h,c[w].location),g=Fi(Mi(m.content)),S=0;S<g.length;++S)b=g[S],b.id==w&&(x=b);var A=Ln(x.messages[0].data);{A[6][0].data=Mt(r.e.r+1),A[7][0].data=Mt(r.e.c+1);var C=ya(A[46][0].data),E=Vt.find(h,c[C].location),D=Fi(Mi(E.content));{for(var B=0;B<D.length&&D[B].id!=C;++B);if(D[B].id!=C)throw"Bad ColumnRowUIDMapArchive";var N=Ln(D[B].messages[0].data);N[1]=[],N[2]=[],N[3]=[];for(var k=0;k<=r.e.c;++k){var R=[];R[1]=R[2]=[{type:0,data:Mt(k+420690)}],N[1].push({type:2,data:rr(R)}),N[2].push({type:0,data:Mt(k)}),N[3].push({type:0,data:Mt(k)})}N[4]=[],N[5]=[],N[6]=[];for(var z=0;z<=r.e.r;++z)R=[],R[1]=R[2]=[{type:0,data:Mt(z+726270)}],N[4].push({type:2,data:rr(R)}),N[5].push({type:0,data:Mt(z)}),N[6].push({type:0,data:Mt(z)});D[B].messages[0].data=rr(N)}E.content=vo(xo(D)),E.size=E.content.length,delete A[46];var I=Ln(A[4][0].data);{I[7][0].data=Mt(r.e.r+1);var j=Ln(I[1][0].data),q=ya(j[2][0].data);E=Vt.find(h,c[q].location),D=Fi(Mi(E.content));{if(D[0].id!=q)throw"Bad HeaderStorageBucket";var K=Ln(D[0].messages[0].data);for(z=0;z<s.length;++z){var oe=Ln(K[2][0].data);oe[1][0].data=Mt(z),oe[4][0].data=Mt(s[z].length),K[2][z]={type:K[2][0].type,data:rr(oe)}}D[0].messages[0].data=rr(K)}E.content=vo(xo(D)),E.size=E.content.length;var se=ya(I[2][0].data);E=Vt.find(h,c[se].location),D=Fi(Mi(E.content));{if(D[0].id!=se)throw"Bad HeaderStorageBucket";for(K=Ln(D[0].messages[0].data),k=0;k<=r.e.c;++k)oe=Ln(K[2][0].data),oe[1][0].data=Mt(k),oe[4][0].data=Mt(r.e.r+1),K[2][k]={type:K[2][0].type,data:rr(oe)};D[0].messages[0].data=rr(K)}E.content=vo(xo(D)),E.size=E.content.length;var J=ya(I[4][0].data);(function(){for(var P=Vt.find(h,c[J].location),L=Fi(Mi(P.content)),X,te=0;te<L.length;++te){var Ae=L[te];Ae.id==J&&(X=Ae)}var be=Ln(X.messages[0].data);{be[3]=[];var ke=[];l.forEach(function(Qe,st){ke[1]=[{type:0,data:Mt(st)}],ke[2]=[{type:0,data:Mt(1)}],ke[3]=[{type:2,data:ZF(Qe)}],be[3].push({type:2,data:rr(ke)})})}X.messages[0].data=rr(be);var Ce=xo(L),nt=vo(Ce);P.content=nt,P.size=P.content.length})();var ie=Ln(I[3][0].data);{var Ee=ie[1][0];delete ie[2];var we=Ln(Ee.data);{var xe=ya(we[2][0].data);(function(){for(var P=Vt.find(h,c[xe].location),L=Fi(Mi(P.content)),X,te=0;te<L.length;++te){var Ae=L[te];Ae.id==xe&&(X=Ae)}var be=Ln(X.messages[0].data);{delete be[6],delete ie[7];var ke=new Uint8Array(be[5][0].data);be[5]=[];for(var Ce=0,nt=0;nt<=r.e.r;++nt){var Qe=Ln(ke);Ce+=nM(Qe,s[nt],l),Qe[1][0].data=Mt(nt),be[5].push({data:rr(Qe),type:2})}be[1]=[{type:0,data:Mt(r.e.c+1)}],be[2]=[{type:0,data:Mt(r.e.r+1)}],be[3]=[{type:0,data:Mt(Ce)}],be[4]=[{type:0,data:Mt(r.e.r+1)}]}X.messages[0].data=rr(be);var st=xo(L),Ge=vo(st);P.content=Ge,P.size=P.content.length})()}Ee.data=rr(we)}I[3][0].data=rr(ie)}A[4][0].data=rr(I)}x.messages[0].data=rr(A);var F=xo(g),O=vo(F);return m.content=O,m.size=m.content.length,h}function iM(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function lv(n){iM([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function sM(n,e){return e.bookType=="ods"?b3(n,e):e.bookType=="numbers"?rM(n,e):e.bookType=="xlsb"?aM(n,e):lM(n,e)}function aM(n,e){Eo=1024,n&&!n.SSF&&(n.SSF=Vr(xn)),n&&n.SSF&&(tp(),ep(n.SSF),e.revssf=np(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,h0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=n3.indexOf(e.bookType)>-1,i=BA();lv(e=e||{});var s=Wx(),l="",c=0;if(e.cellXfs=[],za(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),l="docProps/core.xml",ct(s,l,MA(n.Props,e)),i.coreprops.push(l),Lt(e.rels,2,l,_t.CORE_PROPS),l="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var f=[],h=0;h<n.SheetNames.length;++h)(n.Workbook.Sheets[h]||{}).Hidden!=2&&f.push(n.SheetNames[h]);n.Props.SheetNames=f}for(n.Props.Worksheets=n.Props.SheetNames.length,ct(s,l,IA(n.Props)),i.extprops.push(l),Lt(e.rels,3,l,_t.EXT_PROPS),n.Custprops!==n.Props&&ur(n.Custprops||{}).length>0&&(l="docProps/custom.xml",ct(s,l,PA(n.Custprops)),i.custprops.push(l),Lt(e.rels,4,l,_t.CUST_PROPS)),c=1;c<=n.SheetNames.length;++c){var d={"!id":{}},m=n.Sheets[n.SheetNames[c-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+c+"."+t,ct(s,l,cF(c-1,l,e,n,d)),i.sheets.push(l),Lt(e.wbrels,-1,"worksheets/sheet"+c+"."+t,_t.WS[0])}if(m){var x=m["!comments"],S=!1,b="";x&&x.length>0&&(b="xl/comments"+c+"."+t,ct(s,b,hF(x,b)),i.comments.push(b),Lt(d,-1,"../comments"+c+"."+t,_t.CMNT),S=!0),m["!legacy"]&&S&&ct(s,"xl/drawings/vmlDrawing"+c+".vml",e3(c,m["!comments"])),delete m["!comments"],delete m["!legacy"]}d["!id"].rId1&&ct(s,RA(l),ko(d))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,ct(s,l,uF(e.Strings,l,e)),i.strs.push(l),Lt(e.wbrels,-1,"sharedStrings."+t,_t.SST)),l="xl/workbook."+t,ct(s,l,oF(n,l)),i.workbooks.push(l),Lt(e.rels,1,l,_t.WB),l="xl/theme/theme1.xml",ct(s,l,ZA(n.Themes,e)),i.themes.push(l),Lt(e.wbrels,-1,"theme/theme1.xml",_t.THEME),l="xl/styles."+t,ct(s,l,fF(n,l,e)),i.styles.push(l),Lt(e.wbrels,-1,"styles."+t,_t.STY),n.vbaraw&&r&&(l="xl/vbaProject.bin",ct(s,l,n.vbaraw),i.vba.push(l),Lt(e.wbrels,-1,"vbaProject.bin",_t.VBA)),l="xl/metadata."+t,ct(s,l,dF(l)),i.metadata.push(l),Lt(e.wbrels,-1,"metadata."+t,_t.XLMETA),ct(s,"[Content_Types].xml",NA(i,e)),ct(s,"_rels/.rels",ko(e.rels)),ct(s,"xl/_rels/workbook."+t+".rels",ko(e.wbrels)),delete e.revssf,delete e.ssf,s}function lM(n,e){Eo=1024,n&&!n.SSF&&(n.SSF=Vr(xn)),n&&n.SSF&&(tp(),ep(n.SSF),e.revssf=np(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,h0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=n3.indexOf(e.bookType)>-1,i=BA();lv(e=e||{});var s=Wx(),l="",c=0;if(e.cellXfs=[],za(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),l="docProps/core.xml",ct(s,l,MA(n.Props,e)),i.coreprops.push(l),Lt(e.rels,2,l,_t.CORE_PROPS),l="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var f=[],h=0;h<n.SheetNames.length;++h)(n.Workbook.Sheets[h]||{}).Hidden!=2&&f.push(n.SheetNames[h]);n.Props.SheetNames=f}n.Props.Worksheets=n.Props.SheetNames.length,ct(s,l,IA(n.Props)),i.extprops.push(l),Lt(e.rels,3,l,_t.EXT_PROPS),n.Custprops!==n.Props&&ur(n.Custprops||{}).length>0&&(l="docProps/custom.xml",ct(s,l,PA(n.Custprops)),i.custprops.push(l),Lt(e.rels,4,l,_t.CUST_PROPS));var d=["SheetJ5"];for(e.tcid=0,c=1;c<=n.SheetNames.length;++c){var m={"!id":{}},g=n.Sheets[n.SheetNames[c-1]],x=(g||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+c+"."+t,ct(s,l,u3(c-1,e,n,m)),i.sheets.push(l),Lt(e.wbrels,-1,"worksheets/sheet"+c+"."+t,_t.WS[0])}if(g){var S=g["!comments"],b=!1,w="";if(S&&S.length>0){var A=!1;S.forEach(function(C){C[1].forEach(function(E){E.T==!0&&(A=!0)})}),A&&(w="xl/threadedComments/threadedComment"+c+"."+t,ct(s,w,PN(S,d,e)),i.threadedcomments.push(w),Lt(m,-1,"../threadedComments/threadedComment"+c+"."+t,_t.TCMNT)),w="xl/comments"+c+"."+t,ct(s,w,t3(S)),i.comments.push(w),Lt(m,-1,"../comments"+c+"."+t,_t.CMNT),b=!0}g["!legacy"]&&b&&ct(s,"xl/drawings/vmlDrawing"+c+".vml",e3(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}m["!id"].rId1&&ct(s,RA(l),ko(m))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,ct(s,l,GA(e.Strings,e)),i.strs.push(l),Lt(e.wbrels,-1,"sharedStrings."+t,_t.SST)),l="xl/workbook."+t,ct(s,l,p3(n)),i.workbooks.push(l),Lt(e.rels,1,l,_t.WB),l="xl/theme/theme1.xml",ct(s,l,ZA(n.Themes,e)),i.themes.push(l),Lt(e.wbrels,-1,"theme/theme1.xml",_t.THEME),l="xl/styles."+t,ct(s,l,KA(n,e)),i.styles.push(l),Lt(e.wbrels,-1,"styles."+t,_t.STY),n.vbaraw&&r&&(l="xl/vbaProject.bin",ct(s,l,n.vbaraw),i.vba.push(l),Lt(e.wbrels,-1,"vbaProject.bin",_t.VBA)),l="xl/metadata."+t,ct(s,l,JA()),i.metadata.push(l),Lt(e.wbrels,-1,"metadata."+t,_t.XLMETA),d.length>1&&(l="xl/persons/person.xml",ct(s,l,HN(d)),i.people.push(l),Lt(e.wbrels,-1,"persons/person.xml",_t.PEOPLE)),ct(s,"[Content_Types].xml",NA(i,e)),ct(s,"_rels/.rels",ko(e.rels)),ct(s,"xl/_rels/workbook."+t+".rels",ko(e.wbrels)),delete e.revssf,delete e.ssf,s}function oM(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=js(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function S3(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Q0(e.file,Vt.write(n,{type:Ot?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Vt.write(n,e)}function cM(n,e){var t=Vr(e||{}),r=sM(n,t);return fM(r,t)}function fM(n,e){var t={},r=Ot?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?Vt.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Jd(i))}return e.password&&typeof encrypt_agile<"u"?S3(encrypt_agile(i,e.password),e):e.type==="file"?Q0(e.file,i):e.type=="string"?o0(i):i}function uM(n,e){var t=e||{},r=_F(n,t);return S3(r,t)}function rs(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return C0(T0(r));case"binary":return T0(r);case"string":return n;case"file":return Q0(e.file,r,"utf8");case"buffer":return Ot?Gs(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):rs(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function hM(n,e){switch(e.type){case"base64":return C0(n);case"binary":return n;case"string":return n;case"file":return Q0(e.file,n,"binary");case"buffer":return Ot?Gs(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Fu(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?C0(t):e.type=="string"?o0(t):t;case"file":return Q0(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function ov(n,e){zk(),Q9(n);var t=Vr(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=ov(n,t);return t.type="array",Jd(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return rs(AF(n,t),t);case"slk":case"sylk":return rs($B.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return rs(x3(n.Sheets[n.SheetNames[i]],t),t);case"txt":return hM(w3(n.Sheets[n.SheetNames[i]],t),t);case"csv":return rs(cv(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return rs(YB.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return Fu(XB.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return rs(KB.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return rs(rN.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return rs(WA.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return rs(b3(n,t),t);case"wk1":return Fu(ow.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return Fu(ow.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),Fu(g3(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),uM(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return cM(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function dM(n,e,t,r,i,s,l,c){var f=fr(t),h=c.defval,d=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),m=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:t,enumerable:!1})}catch{g.__rowNum__=t}else g.__rowNum__=t;if(!l||n[t])for(var x=e.s.c;x<=e.e.c;++x){var S=l?n[t][x]:n[r[x]+f];if(S===void 0||S.t===void 0){if(h===void 0)continue;s[x]!=null&&(g[s[x]]=h);continue}var b=S.v;switch(S.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(s[x]!=null){if(b==null)if(S.t=="e"&&b===null)g[s[x]]=null;else if(h!==void 0)g[s[x]]=h;else if(d&&b===null)g[s[x]]=null;else continue;else g[s[x]]=d&&(S.t!=="n"||S.t==="n"&&c.rawNumbers!==!1)?b:Us(S,b,c);b!=null&&(m=!1)}}return{row:g,isempty:m}}function xd(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,s=[],l=0,c="",f={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},d=h.range!=null?h.range:n["!ref"];switch(h.header===1?r=1:h.header==="A"?r=2:Array.isArray(h.header)?r=3:h.header==null&&(r=0),typeof d){case"string":f=rn(d);break;case"number":f=rn(n["!ref"]),f.s.r=d;break;default:f=d}r>0&&(i=0);var m=fr(f.s.r),g=[],x=[],S=0,b=0,w=Array.isArray(n),A=f.s.r,C=0,E={};w&&!n[A]&&(n[A]=[]);var D=h.skipHidden&&n["!cols"]||[],B=h.skipHidden&&n["!rows"]||[];for(C=f.s.c;C<=f.e.c;++C)if(!(D[C]||{}).hidden)switch(g[C]=xr(C),t=w?n[A][C]:n[g[C]+m],r){case 1:s[C]=C-f.s.c;break;case 2:s[C]=g[C];break;case 3:s[C]=h.header[C-f.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),c=l=Us(t,null,h),b=E[l]||0,!b)E[l]=1;else{do c=l+"_"+b++;while(E[c]);E[l]=b,E[c]=1}s[C]=c}for(A=f.s.r+i;A<=f.e.r;++A)if(!(B[A]||{}).hidden){var N=dM(n,f,A,g,r,s,w,h);(N.isempty===!1||(r===1?h.blankrows!==!1:h.blankrows))&&(x[S++]=N.row)}return x.length=S,x}var gw=/"/g;function pM(n,e,t,r,i,s,l,c){for(var f=!0,h=[],d="",m=fr(t),g=e.s.c;g<=e.e.c;++g)if(r[g]){var x=c.dense?(n[t]||[])[g]:n[r[g]+m];if(x==null)d="";else if(x.v!=null){f=!1,d=""+(c.rawNumbers&&x.t=="n"?x.v:Us(x,null,c));for(var S=0,b=0;S!==d.length;++S)if((b=d.charCodeAt(S))===i||b===s||b===34||c.forceQuotes){d='"'+d.replace(gw,'""')+'"';break}d=="ID"&&(d='"ID"')}else x.f!=null&&!x.F?(f=!1,d="="+x.f,d.indexOf(",")>=0&&(d='"'+d.replace(gw,'""')+'"')):d="";h.push(d)}return c.blankrows===!1&&f?null:h.join(l)}function cv(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=rn(n["!ref"]),s=r.FS!==void 0?r.FS:",",l=s.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,f=c.charCodeAt(0),h=new RegExp((s=="|"?"\\|":s)+"+$"),d="",m=[];r.dense=Array.isArray(n);for(var g=r.skipHidden&&n["!cols"]||[],x=r.skipHidden&&n["!rows"]||[],S=i.s.c;S<=i.e.c;++S)(g[S]||{}).hidden||(m[S]=xr(S));for(var b=0,w=i.s.r;w<=i.e.r;++w)(x[w]||{}).hidden||(d=pM(n,i,w,m,l,f,s,r),d!=null&&(r.strip&&(d=d.replace(h,"")),(d||r.blankrows!==!1)&&t.push((b++?c:"")+d)));return delete r.dense,t.join("")}function w3(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=cv(n,e);return t}function mM(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=rn(n["!ref"]),s="",l=[],c,f=[],h=Array.isArray(n);for(c=i.s.c;c<=i.e.c;++c)l[c]=xr(c);for(var d=i.s.r;d<=i.e.r;++d)for(s=fr(d),c=i.s.c;c<=i.e.c;++c)if(e=l[c]+s,t=h?(n[d]||[])[c]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}f[f.length]=e+"="+r}return f}function E3(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},l=0,c=0;if(s&&r.origin!=null)if(typeof r.origin=="number")l=r.origin;else{var f=typeof r.origin=="string"?$n(r.origin):r.origin;l=f.r,c=f.c}var h,d={s:{c:0,r:0},e:{c,r:l+e.length-1+i}};if(s["!ref"]){var m=rn(s["!ref"]);d.e.c=Math.max(d.e.c,m.e.c),d.e.r=Math.max(d.e.r,m.e.r),l==-1&&(l=m.e.r+1,d.e.r=l+e.length-1+i)}else l==-1&&(l=0,d.e.r=e.length-1+i);var g=r.header||[],x=0;e.forEach(function(b,w){ur(b).forEach(function(A){(x=g.indexOf(A))==-1&&(g[x=g.length]=A);var C=b[A],E="z",D="",B=Pt({c:c+x,r:l+w+i});h=k0(s,B),C&&typeof C=="object"&&!(C instanceof Date)?s[B]=C:(typeof C=="number"?E="n":typeof C=="boolean"?E="b":typeof C=="string"?E="s":C instanceof Date?(E="d",r.cellDates||(E="n",C=Ur(C)),D=r.dateNF||xn[14]):C===null&&r.nullError&&(E="e",C=0),h?(h.t=E,h.v=C,delete h.w,delete h.R,D&&(h.z=D)):s[B]=h={t:E,v:C},D&&(h.z=D))})}),d.e.c=Math.max(d.e.c,c+g.length-1);var S=fr(l);if(i)for(x=0;x<g.length;++x)s[xr(x+c)+S]={t:"s",v:g[x]};return s["!ref"]=Nn(d),s}function gM(n,e){return E3(null,n,e)}function k0(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=$n(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?k0(n,Pt(e)):k0(n,Pt({r:e,c:t||0}))}function xM(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function vM(){return{SheetNames:[],Sheets:{}}}function yM(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var l=s&&s[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=l+i)!=-1;++i);}if(d3(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function bM(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=xM(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function SM(n,e){return n.z=e,n}function C3(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function wM(n,e,t){return C3(n,"#"+e,t)}function EM(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function CM(n,e,t,r){for(var i=typeof e!="string"?e:rn(e),s=typeof e=="string"?e:Nn(e),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c){var f=k0(n,l,c);f.t="n",f.F=s,delete f.v,l==i.s.r&&c==i.s.c&&(f.f=t,r&&(f.D=!0))}return n}var ss={encode_col:xr,encode_row:fr,encode_cell:Pt,encode_range:Nn,decode_col:Qx,decode_row:Kx,split_cell:zO,decode_cell:$n,decode_range:li,format_cell:Us,sheet_add_aoa:AA,sheet_add_json:E3,sheet_add_dom:v3,aoa_to_sheet:Ko,json_to_sheet:gM,table_to_sheet:y3,table_to_book:YF,sheet_to_csv:cv,sheet_to_txt:w3,sheet_to_json:xd,sheet_to_html:x3,sheet_to_formulae:mM,sheet_to_row_object_array:xd,sheet_get_cell:k0,book_new:vM,book_append_sheet:yM,book_set_sheet_visibility:bM,cell_set_number_format:SM,cell_set_hyperlink:C3,cell_set_internal_link:wM,cell_add_comment:EM,sheet_set_array_formula:CM,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},qh={exports:{}},AM=qh.exports,xw;function TM(){return xw||(xw=1,(function(n,e){(function(t,r){r()})(AM,function(){function t(h,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function r(h,d,m){var g=new XMLHttpRequest;g.open("GET",h),g.responseType="blob",g.onload=function(){f(g.response,d,m)},g.onerror=function(){console.error("could not download file")},g.send()}function i(h){var d=new XMLHttpRequest;d.open("HEAD",h,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function s(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(d)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof pl=="object"&&pl.global===pl?pl:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(h,d,m){var g=l.URL||l.webkitURL,x=document.createElement("a");d=d||h.name||"download",x.download=d,x.rel="noopener",typeof h=="string"?(x.href=h,x.origin===location.origin?s(x):i(x.href)?r(h,d,m):s(x,x.target="_blank")):(x.href=g.createObjectURL(h),setTimeout(function(){g.revokeObjectURL(x.href)},4e4),setTimeout(function(){s(x)},0))}:"msSaveOrOpenBlob"in navigator?function(h,d,m){if(d=d||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(t(h,m),d);else if(i(h))r(h,d,m);else{var g=document.createElement("a");g.href=h,g.target="_blank",setTimeout(function(){s(g)})}}:function(h,d,m,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof h=="string")return r(h,d,m);var x=h.type==="application/octet-stream",S=/constructor/i.test(l.HTMLElement)||l.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||x&&S||c)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var E=w.result;E=b?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=E:location=E,g=null},w.readAsDataURL(h)}else{var A=l.URL||l.webkitURL,C=A.createObjectURL(h);g?g.location=C:location.href=C,g=null,setTimeout(function(){A.revokeObjectURL(C)},4e4)}});l.saveAs=f.saveAs=f,n.exports=f})})(qh)),qh.exports}var No=TM();const _M=(n,e)=>{const[t,r]=Q.useState(n);return Q.useEffect(()=>{const i=setTimeout(()=>{r(n)},e);return()=>{clearTimeout(i)}},[n,e]),t};function DM(){const{theme:n}=Q.useContext(Zv),[e,t]=Q.useState(!0),[r,i]=Q.useState(!1),[s,l]=Q.useState(!1),[c,f]=Q.useState([]),[h,d]=Q.useState(""),[m,g]=Q.useState([]),[x,S]=Q.useState({}),[b,w]=Q.useState([]),[A,C]=Q.useState([]),[E,D]=Q.useState(null),[B,N]=Q.useState(!1),[k,R]=Q.useState(null),[z,I]=Q.useState(!1),[j,q]=Q.useState(()=>JSON.parse(localStorage.getItem("saved_queries")||"[]")),[K,oe]=Q.useState(""),[se,J]=Q.useState(1),[ie,Ee]=Q.useState(10),[we,xe]=Q.useState(""),F=_M(we,500);Q.useEffect(()=>{O(F)},[F]);const O=async(ge="")=>{try{const ne=await(await fetch(`http://localhost:3001/api/tables?search=${encodeURIComponent(ge)}`)).json();f(ne)}catch(Oe){console.error(Oe)}},P=ge=>{d(ge),g([]),w([]),C([]),D(null),J(1),L(ge)},L=async ge=>{if(!(!ge||x[ge]))try{const ne=await(await fetch(`http://localhost:3001/api/columns/${encodeURIComponent(ge)}`)).json();S(Ne=>({...Ne,[ge]:ne}))}catch(Oe){console.error(Oe)}},X=()=>{g([...m,{table:"",type:"INNER",leftCol:"",rightCol:"",conversion:null}])},te=(ge,Oe,ne)=>{const Ne=[...m];Ne[ge][Oe]=ne,(Oe==="leftCol"||Oe==="rightCol")&&(Ne[ge].conversion=null),g(Ne),Oe==="table"&&ne&&L(ne)},Ae=(ge,Oe)=>{const ne=[...m];ne[ge].conversion=Oe,g(ne)},be=ge=>{g(m.filter((Oe,ne)=>ne!==ge))},ke=(ge,Oe)=>{const ne=`${ge}.${Oe}`;b.includes(ne)?w(b.filter(Ne=>Ne!==ne)):w([...b,ne])},Ce=()=>{C([...A,{column:"",operator:"=",value:""}])},nt=(ge,Oe,ne)=>{const Ne=[...A];Ne[ge][Oe]=ne,C(Ne)},Qe=ge=>{C(A.filter((Oe,ne)=>ne!==ge))},st=()=>{if(!K.trim()){alert("Please enter a name for your query.");return}const ge={id:Date.now(),name:K,config:{primaryTable:h,joins:m,selectedColumns:b,filters:A},date:new Date().toLocaleString()},Oe=[...j,ge];q(Oe),localStorage.setItem("saved_queries",JSON.stringify(Oe)),oe(""),l(!1),alert("Query saved successfully!")},Ge=ge=>{const{config:Oe}=ge;d(Oe.primaryTable),g(Oe.joins),w(Oe.selectedColumns),C(Oe.filters),Oe.primaryTable&&L(Oe.primaryTable),Oe.joins.forEach(ne=>{ne.table&&L(ne.table)}),i(!1)},Nt=ge=>{const Oe=j.filter(ne=>ne.id!==ge);q(Oe),localStorage.setItem("saved_queries",JSON.stringify(Oe))},it=()=>{if(!h)return null;let ge=`SELECT ${b.length>0?b.join(", "):"*"} FROM ${h}`;m.forEach(ne=>{if(ne.table&&ne.leftCol&&ne.rightCol){let Ne="";ne.conversion==="TO_CHAR_LEFT"?Ne=`TO_CHAR(${ne.leftCol}) = ${ne.table}.${ne.rightCol}`:ne.conversion==="TO_NUMBER_RIGHT"?Ne=`${ne.leftCol} = TO_NUMBER(${ne.table}.${ne.rightCol})`:ne.conversion==="TO_CHAR_RIGHT"?Ne=`${ne.leftCol} = TO_CHAR(${ne.table}.${ne.rightCol})`:ne.conversion==="TO_NUMBER_LEFT"?Ne=`TO_NUMBER(${ne.leftCol}) = ${ne.table}.${ne.rightCol}`:Ne=`${ne.leftCol} = ${ne.table}.${ne.rightCol}`,ge+=` ${ne.type} JOIN ${ne.table} ON ${Ne}`}});const Oe=[];if(A.length>0){const ne=A.map((Ne,Xe)=>Ne.column?(Oe.push(Ne.value),`${Ne.column} ${Ne.operator} :${Xe+1}`):null).filter(Boolean);ne.length>0&&(ge+=` WHERE ${ne.join(" AND ")}`)}return{sql:ge,params:Oe}},ze=async()=>{N(!0),R(null),J(1);try{const ge=it();if(!ge)return;const ne=await(await fetch("http://localhost:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)})).json();if(ne.error)throw new Error(ne.error);D(ne)}catch(ge){R(ge.message)}finally{N(!1)}},Bt=ge=>{if(!E||!E.rows||E.rows.length===0){alert("No data to export.");return}I(!0),setTimeout(()=>{try{const ne=[E.metaData.map(Ze=>Ze.name),...E.rows],Xe=`export_${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}`;if(ge==="xlsx"){const Ze=ss.book_new(),qe=ss.aoa_to_sheet(ne);ss.book_append_sheet(Ze,qe,"Results");const Wt=ov(Ze,{bookType:"xlsx",type:"array"}),mt=new Blob([Wt],{type:"application/octet-stream"});No.saveAs(mt,`${Xe}.xlsx`)}else if(ge==="csv"){const Ze=ss.aoa_to_sheet(ne),qe=ss.sheet_to_csv(Ze),Wt=new Blob([qe],{type:"text/csv;charset=utf-8"});No.saveAs(Wt,`${Xe}.csv`)}else if(ge==="txt"){const Ze=ne.map(Wt=>Wt.join("	")).join(`
`),qe=new Blob([Ze],{type:"text/plain;charset=utf-8"});No.saveAs(qe,`${Xe}.txt`)}}catch(Oe){console.error("Export Error:",Oe),alert("Failed to export: "+Oe.message)}finally{I(!1)}},100)},sn=()=>{let ge=[];return h&&x[h]&&(ge=[...ge,...x[h].map(Oe=>`${h}.${Oe.name}`)]),m.forEach(Oe=>{Oe.table&&x[Oe.table]&&(ge=[...ge,...x[Oe.table].map(ne=>`${Oe.table}.${ne.name}`)])}),ge},Et=ge=>{let Oe=[];h&&x[h]&&(Oe=[...Oe,...x[h].map(ne=>({name:`${h}.${ne.name}`,type:ne.type}))]);for(let ne=0;ne<ge;ne++){const Ne=m[ne];Ne.table&&x[Ne.table]&&(Oe=[...Oe,...x[Ne.table].map(Xe=>({name:`${Ne.table}.${Xe.name}`,type:Xe.type}))])}return Oe},bt=Q.useMemo(()=>{if(!E||!E.rows)return[];const ge=(se-1)*ie;return E.rows.slice(ge,ge+ie)},[E,se,ie]),Ct=E&&E.rows?Math.ceil(E.rows.length/ie):0;return T.jsxs("div",{className:`flex h-screen ${n.bg} overflow-hidden transition-colors duration-300 relative`,children:[z&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl flex flex-col items-center",children:[T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#f37021] mb-4"}),T.jsx("p",{className:"text-gray-700 font-semibold",children:"Exportando dados..."}),T.jsx("p",{className:"text-sm text-gray-500",children:"Por favor, aguarde."})]})}),T.jsxs("div",{className:`${n.sidebar} shadow-lg transition-all duration-300 ease-in-out flex flex-col ${e?"w-96":"w-12"} border-r ${n.border} z-20`,children:[T.jsxs("div",{className:`p-2 border-b ${n.border} flex justify-between items-center ${n.sidebar}`,children:[e&&T.jsx("h2",{className:`font-bold ${n.sidebarText}`,children:"Query Builder"}),T.jsx("button",{onClick:()=>t(!e),className:`p-1 hover:bg-gray-200 rounded ${n.sidebarText}`,title:e?"Collapse Sidebar":"Expand Sidebar",children:e?"":""})]}),e&&T.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[T.jsx("div",{className:`rounded-lg border ${n.border} p-3 shadow-sm ${n.sidebar}`,children:T.jsx("button",{onClick:()=>i(!0),className:`w-full text-xs border ${n.border} py-1 rounded hover:bg-gray-100 ${n.sidebarText}`,children:" Manage Saved Queries"})}),T.jsxs("div",{className:`rounded-lg border ${n.border} p-3 shadow-sm ${n.sidebar}`,children:[T.jsx("label",{className:`block text-xs font-bold uppercase mb-2 ${n.sidebarText}`,children:"1. Select Primary Table"}),T.jsx("input",{type:"text",placeholder:"Search tables...",className:`w-full border rounded p-2 mb-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none ${n.input} ${n.border}`,value:we,onChange:ge=>xe(ge.target.value)}),T.jsx("div",{className:`border rounded h-32 overflow-y-auto ${n.bg} ${n.border}`,children:c.map(ge=>T.jsx("div",{onClick:()=>P(ge),className:`px-3 py-2 cursor-pointer text-sm border-b last:border-b-0 transition-colors ${n.border} ${h===ge?`${n.primaryBtn} font-semibold`:`hover:bg-gray-100 ${n.sidebarText}`}`,children:ge},ge))}),h&&T.jsxs("div",{className:`text-xs mt-2 flex items-center ${n.accent}`,children:[" Selected: ",T.jsx("span",{className:"font-bold ml-1",children:h})]})]}),h&&T.jsxs("div",{className:`rounded-lg border ${n.border} p-3 shadow-sm ${n.sidebar}`,children:[T.jsxs("div",{className:"flex justify-between items-center mb-3",children:[T.jsx("label",{className:`block text-xs font-bold uppercase ${n.sidebarText}`,children:"2. Connections (Joins)"}),T.jsx("button",{onClick:X,className:`text-xs px-2 py-1 rounded border transition-colors ${n.secondaryBtn} ${n.border}`,children:"+ Add"})]}),T.jsx("div",{className:"space-y-3",children:m.map((ge,Oe)=>{const ne=Et(Oe),Ne=ge.table&&x[ge.table]?x[ge.table]:[];let Xe=null,Ze=null;if(ge.leftCol&&ge.rightCol){const qe=ne.find(mt=>mt.name===ge.leftCol)?.type,Wt=Ne.find(mt=>mt.name===ge.rightCol)?.type;qe&&Wt&&(qe===Wt?Xe="valid":(Xe="warning",qe==="NUMBER"&&(Wt==="VARCHAR2"||Wt==="CHAR")?Ze="TO_CHAR_LEFT":(qe==="VARCHAR2"||qe==="CHAR")&&Wt==="NUMBER"&&(Ze="TO_CHAR_RIGHT")))}return T.jsxs("div",{className:`p-3 rounded border space-y-2 relative group ${n.bg} ${n.border}`,children:[T.jsxs("div",{className:"flex space-x-2",children:[T.jsxs("select",{className:`border rounded text-xs py-1 px-2 w-1/3 ${n.input} ${n.border}`,value:ge.type,onChange:qe=>te(Oe,"type",qe.target.value),children:[T.jsx("option",{value:"INNER",children:"INNER"}),T.jsx("option",{value:"LEFT",children:"LEFT"}),T.jsx("option",{value:"RIGHT",children:"RIGHT"})]}),T.jsxs("select",{className:`border rounded text-xs py-1 px-2 w-2/3 ${n.input} ${n.border}`,value:ge.table,onChange:qe=>te(Oe,"table",qe.target.value),children:[T.jsx("option",{value:"",children:"Link Table..."}),c.filter(qe=>qe!==h).map(qe=>T.jsx("option",{value:qe,children:qe},qe))]})]}),ge.table&&T.jsxs("div",{className:"flex flex-col space-y-2",children:[T.jsx("div",{className:"flex items-center space-x-1",children:T.jsxs("select",{className:`w-full text-xs border rounded py-1 px-2 ${n.input} ${n.border}`,value:ge.leftCol,onChange:qe=>te(Oe,"leftCol",qe.target.value),children:[T.jsxs("option",{value:"",children:[h," Col..."]}),ne.map(qe=>T.jsxs("option",{value:qe.name,children:[qe.name," (",qe.type,")"]},qe.name))]})}),T.jsx("div",{className:"text-center text-gray-400 text-xs font-bold",children:"="}),T.jsx("div",{className:"flex items-center space-x-1",children:T.jsxs("select",{className:`w-full text-xs border rounded py-1 px-2 ${n.input} ${n.border}`,value:ge.rightCol,onChange:qe=>te(Oe,"rightCol",qe.target.value),children:[T.jsxs("option",{value:"",children:[ge.table," Col..."]}),Ne.map(qe=>T.jsxs("option",{value:qe.name,children:[qe.name," (",qe.type,")"]},qe.name))]})})]}),Xe==="valid"&&T.jsx("div",{className:"text-xs text-green-600 flex items-center mt-1",children:" Types match"}),Xe==="warning"&&!ge.conversion&&T.jsxs("div",{className:"mt-2 bg-orange-50 p-2 rounded border border-orange-100",children:[T.jsx("div",{className:"text-xs text-orange-600 font-semibold flex items-center",children:" Type Mismatch"}),Ze&&T.jsx("button",{onClick:()=>Ae(Oe,Ze),className:"mt-1 w-full bg-orange-100 hover:bg-orange-200 text-orange-800 py-1 rounded text-xs transition-colors",children:"Auto-Fix (Convert)"})]}),ge.conversion&&T.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[" Fix applied: ",ge.conversion]}),T.jsx("button",{onClick:()=>be(Oe),className:"absolute top-1 right-1 text-gray-400 hover:text-red-500 p-1",children:""})]},Oe)})})]}),h&&T.jsxs("div",{className:`rounded-lg border ${n.border} p-3 shadow-sm ${n.sidebar}`,children:[T.jsx("label",{className:`block text-xs font-bold uppercase mb-2 ${n.sidebarText}`,children:"3. Select Columns"}),T.jsxs("div",{className:`max-h-48 overflow-y-auto border rounded p-2 space-y-2 ${n.bg} ${n.border}`,children:[T.jsxs("div",{children:[T.jsx("div",{className:`font-bold text-xs mb-1 sticky top-0 py-1 ${n.sidebarText} ${n.bg}`,children:h}),x[h]?.map(ge=>T.jsxs("label",{className:"flex items-center px-2 py-1 hover:bg-gray-200 rounded cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:b.includes(`${h}.${ge.name}`),onChange:()=>ke(h,ge.name),className:"mr-2 rounded text-blue-600 focus:ring-blue-500"}),T.jsx("span",{className:`text-xs ${n.sidebarText}`,children:ge.name})]},`${h}.${ge.name}`))]}),m.map((ge,Oe)=>ge.table&&x[ge.table]&&T.jsxs("div",{className:`border-t pt-2 mt-2 ${n.border}`,children:[T.jsx("div",{className:`font-bold text-xs mb-1 sticky top-0 py-1 ${n.sidebarText} ${n.bg}`,children:ge.table}),x[ge.table].map(ne=>T.jsxs("label",{className:"flex items-center px-2 py-1 hover:bg-gray-200 rounded cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:b.includes(`${ge.table}.${ne.name}`),onChange:()=>ke(ge.table,ne.name),className:"mr-2 rounded text-blue-600 focus:ring-blue-500"}),T.jsx("span",{className:`text-xs ${n.sidebarText}`,children:ne.name})]},`${ge.table}.${ne.name}`))]},Oe))]})]}),h&&T.jsxs("div",{className:`rounded-lg border ${n.border} p-3 shadow-sm ${n.sidebar}`,children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("label",{className:`block text-xs font-bold uppercase ${n.sidebarText}`,children:"4. Filters"}),T.jsx("button",{onClick:Ce,className:`text-xs px-2 py-1 rounded border ${n.secondaryBtn} ${n.border}`,children:"+ Add"})]}),T.jsx("div",{className:"space-y-2",children:A.map((ge,Oe)=>T.jsxs("div",{className:`flex flex-col space-y-1 p-2 rounded border relative ${n.bg} ${n.border}`,children:[T.jsxs("select",{className:`text-xs border rounded py-1 px-2 ${n.input} ${n.border}`,value:ge.column,onChange:ne=>nt(Oe,"column",ne.target.value),children:[T.jsx("option",{value:"",children:"Column..."}),sn().map(ne=>T.jsx("option",{value:ne,children:ne},ne))]}),T.jsxs("div",{className:"flex space-x-1",children:[T.jsxs("select",{className:`text-xs border rounded w-1/3 py-1 px-2 ${n.input} ${n.border}`,value:ge.operator,onChange:ne=>nt(Oe,"operator",ne.target.value),children:[T.jsx("option",{value:"=",children:"="}),T.jsx("option",{value:">",children:">"}),T.jsx("option",{value:"<",children:"<"}),T.jsx("option",{value:"LIKE",children:"LIKE"})]}),T.jsx("input",{type:"text",className:`text-xs border rounded w-2/3 py-1 px-2 ${n.input} ${n.border}`,placeholder:"Value",value:ge.value,onChange:ne=>nt(Oe,"value",ne.target.value)})]}),T.jsx("button",{onClick:()=>Qe(Oe),className:"absolute top-1 right-1 text-gray-400 hover:text-red-500 p-1",children:""})]},Oe))})]}),h&&T.jsxs("div",{className:`rounded-lg border ${n.border} p-3 shadow-sm ${n.sidebar}`,children:[T.jsx("label",{className:`block text-xs font-bold uppercase mb-2 ${n.sidebarText}`,children:"Save Query"}),T.jsx("div",{className:"flex space-x-2",children:T.jsx("button",{onClick:()=>l(!0),className:`w-full text-xs px-2 py-2 rounded ${n.primaryBtn}`,children:" Save Query"})})]}),T.jsx("button",{onClick:ze,disabled:!h||B,className:`w-full py-3 rounded-lg shadow-md transition-all font-semibold disabled:opacity-50 ${n.primaryBtn}`,children:B?"Running Query...":"Run Query"})]})]}),T.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[T.jsxs("div",{className:`p-4 shadow-sm flex justify-between items-center z-10 ${n.header}`,children:[T.jsx("h1",{className:`text-xl font-bold ${n.sidebarText}`,children:"Results Explorer"}),E&&T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:()=>Bt("csv"),className:`flex items-center space-x-1 px-3 py-1.5 rounded shadow-sm transition-colors text-sm font-medium border ${n.secondaryBtn} border-gray-300`,children:T.jsx("span",{children:"CSV"})}),T.jsx("button",{onClick:()=>Bt("xlsx"),className:`flex items-center space-x-1 px-3 py-1.5 rounded shadow-sm transition-colors text-sm font-medium ${n.primaryBtn}`,children:T.jsx("span",{children:"Excel"})}),T.jsx("button",{onClick:()=>Bt("txt"),className:`flex items-center space-x-1 px-3 py-1.5 rounded shadow-sm transition-colors text-sm font-medium border ${n.secondaryBtn} border-gray-300`,children:T.jsx("span",{children:"TXT"})})]})]}),T.jsxs("div",{className:`flex-1 overflow-auto p-4 ${n.bg}`,children:[k&&T.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4 rounded shadow-sm",children:T.jsxs("div",{className:"flex",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:T.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),T.jsx("div",{className:"ml-3",children:T.jsx("p",{className:"text-sm text-red-700",children:k})})]})}),E?T.jsxs("div",{className:`rounded-lg shadow-md border overflow-hidden flex flex-col h-full ${n.sidebar} ${n.border}`,children:[T.jsx("div",{className:"flex-1 overflow-auto",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:`sticky top-0 z-10 ${n.tableHeader}`,children:T.jsx("tr",{children:E.metaData.map(ge=>T.jsx("th",{className:`px-6 py-3 text-left text-xs font-bold uppercase tracking-wider whitespace-nowrap border-b ${n.border}`,children:ge.name},ge.name))})}),T.jsx("tbody",{className:`divide-y divide-gray-200 ${n.sidebar}`,children:bt.map((ge,Oe)=>T.jsx("tr",{className:`transition-colors ${n.tableRowHover}`,children:ge.map((ne,Ne)=>T.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm border-r last:border-r-0 ${n.border} ${n.sidebarText}`,children:ne},Ne))},Oe))})]})}),T.jsxs("div",{className:`px-4 py-3 border-t flex items-center justify-between sm:px-6 ${n.bg} ${n.border}`,children:[T.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[T.jsx("button",{onClick:()=>J(ge=>Math.max(1,ge-1)),disabled:se===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),T.jsx("button",{onClick:()=>J(ge=>Math.min(Ct,ge+1)),disabled:se===Ct,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),T.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("p",{className:`text-sm ${n.sidebarText}`,children:["Showing ",T.jsx("span",{className:"font-medium",children:(se-1)*ie+1})," to ",T.jsx("span",{className:"font-medium",children:Math.min(se*ie,E.rows.length)})," of ",T.jsx("span",{className:"font-medium",children:E.rows.length})," results"]}),T.jsxs("select",{value:ie,onChange:ge=>{Ee(Number(ge.target.value)),J(1)},className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[T.jsx("option",{value:10,children:"10 per page"}),T.jsx("option",{value:25,children:"25 per page"}),T.jsx("option",{value:50,children:"50 per page"}),T.jsx("option",{value:100,children:"100 per page"}),T.jsx("option",{value:E.rows.length,children:"All"})]})]}),T.jsx("div",{children:T.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[T.jsx("button",{onClick:()=>J(1),disabled:se===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"First"}),T.jsx("button",{onClick:()=>J(ge=>Math.max(1,ge-1)),disabled:se===1,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),T.jsxs("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:["Page ",se," of ",Ct]}),T.jsx("button",{onClick:()=>J(ge=>Math.min(Ct,ge+1)),disabled:se===Ct,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"}),T.jsx("button",{onClick:()=>J(Ct),disabled:se===Ct,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Last"})]})})]})]})]}):T.jsxs("div",{className:`h-full flex flex-col items-center justify-center ${n.sidebarText} ${n.sidebar} rounded-lg border border-dashed ${n.border}`,children:[T.jsx("svg",{className:"w-16 h-16 mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})}),T.jsx("p",{className:"text-lg font-medium",children:"No results to display"}),T.jsx("p",{className:"text-sm",children:"Select a table and run a query to get started."})]})]})]}),r&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-96 max-h-[80vh] flex flex-col",children:[T.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[T.jsx("h3",{className:"font-bold text-lg",children:"Saved Queries"}),T.jsx("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),T.jsx("div",{className:"p-4 overflow-y-auto flex-1",children:j.length===0?T.jsx("p",{className:"text-gray-500 text-center text-sm",children:"No saved queries yet."}):T.jsx("div",{className:"space-y-2",children:j.map(ge=>T.jsxs("div",{className:"border rounded p-3 hover:bg-gray-50 flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsx("div",{className:"font-bold text-sm",children:ge.name}),T.jsx("div",{className:"text-xs text-gray-500",children:ge.date})]}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:()=>Ge(ge),className:"text-blue-600 hover:text-blue-800 text-xs font-semibold",children:"Load"}),T.jsx("button",{onClick:()=>Nt(ge.id),className:"text-red-500 hover:text-red-700 text-xs",children:"Delete"})]})]},ge.id))})})]})}),s&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-96 p-6",children:[T.jsx("h3",{className:"font-bold text-lg mb-4",children:"Save Query"}),T.jsx("input",{type:"text",placeholder:"Enter query name...",className:"w-full border rounded p-2 mb-4 focus:ring-2 focus:ring-blue-500 outline-none",value:K,onChange:ge=>oe(ge.target.value)}),T.jsxs("div",{className:"flex justify-end space-x-2",children:[T.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded",children:"Cancel"}),T.jsx("button",{onClick:st,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]})})]})}function M1(){return M1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},M1.apply(null,arguments)}function kM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}let L1=[],A3=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?A3:L1).push(t=t+n[e])})();function OM(n){if(n<768)return!1;for(let e=0,t=L1.length;;){let r=e+t>>1;if(n<L1[r])t=r;else if(n>=A3[r])e=r+1;else return!0;if(e==t)return!1}}function vw(n){return n>=127462&&n<=127487}const yw=8205;function BM(n,e,t=!0,r=!0){return(t?T3:NM)(n,e,r)}function T3(n,e,t){if(e==n.length)return e;e&&_3(n.charCodeAt(e))&&D3(n.charCodeAt(e-1))&&e--;let r=$g(n,e);for(e+=bw(r);e<n.length;){let i=$g(n,e);if(r==yw||i==yw||t&&OM(i))e+=bw(i),r=i;else if(vw(i)){let s=0,l=e-2;for(;l>=0&&vw($g(n,l));)s++,l-=2;if(s%2==0)break;e+=2}else break}return e}function NM(n,e,t){for(;e>0;){let r=T3(n,e-2,t);if(r<e)return r;e--}return 0}function $g(n,e){let t=n.charCodeAt(e);if(!D3(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return _3(r)?(t-55296<<10)+(r-56320)+65536:t}function _3(n){return n>=56320&&n<57344}function D3(n){return n>=55296&&n<56320}function bw(n){return n<65536?1:2}class wt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=jo(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),as.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=jo(this,e,t);let r=[];return this.decompose(e,t,r,0),as.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new d0(this),s=new d0(e);for(let l=t,c=t;;){if(i.next(l),s.next(l),l=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(c+=i.value.length,i.done||c>=r)return!0}}iter(e=1){return new d0(this,e)}iterRange(e,t=this.length){return new k3(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new O3(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?wt.empty:e.length<=32?new bn(e):as.from(bn.split(e,[]))}}class bn extends wt{constructor(e,t=RM(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let s=0;;s++){let l=this.text[s],c=i+l.length;if((t?r:c)>=e)return new FM(i,c,r,l);i=c+1,r++}}decompose(e,t,r,i){let s=e<=0&&t>=this.length?this:new bn(Sw(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let l=r.pop(),c=Wh(s.text,l.text.slice(),0,s.length);if(c.length<=32)r.push(new bn(c,l.length+s.length));else{let f=c.length>>1;r.push(new bn(c.slice(0,f)),new bn(c.slice(f)))}}else r.push(s)}replace(e,t,r){if(!(r instanceof bn))return super.replace(e,t,r);[e,t]=jo(this,e,t);let i=Wh(this.text,Wh(r.text,Sw(this.text,0,e)),t),s=this.length+r.length-(t-e);return i.length<=32?new bn(i,s):as.from(bn.split(i,[]),s)}sliceString(e,t=this.length,r=`
`){[e,t]=jo(this,e,t);let i="";for(let s=0,l=0;s<=t&&l<this.text.length;l++){let c=this.text[l],f=s+c.length;s>e&&l&&(i+=r),e<f&&t>s&&(i+=c.slice(Math.max(0,e-s),t-s)),s=f+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(t.push(new bn(r,i)),r=[],i=-1);return i>-1&&t.push(new bn(r,i)),t}}class as extends wt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let s=0;;s++){let l=this.children[s],c=i+l.length,f=r+l.lines-1;if((t?f:c)>=e)return l.lineInner(e,t,r,i);i=c+1,r=f+1}}decompose(e,t,r,i){for(let s=0,l=0;l<=t&&s<this.children.length;s++){let c=this.children[s],f=l+c.length;if(e<=f&&t>=l){let h=i&((l<=e?1:0)|(f>=t?2:0));l>=e&&f<=t&&!h?r.push(c):c.decompose(e-l,t-l,r,h)}l=f+1}}replace(e,t,r){if([e,t]=jo(this,e,t),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let l=this.children[i],c=s+l.length;if(e>=s&&t<=c){let f=l.replace(e-s,t-s,r),h=this.lines-l.lines+f.lines;if(f.lines<h>>4&&f.lines>h>>6){let d=this.children.slice();return d[i]=f,new as(d,this.length-(t-e)+r.length)}return super.replace(s,c,f)}s=c+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=jo(this,e,t);let i="";for(let s=0,l=0;s<this.children.length&&l<=t;s++){let c=this.children[s],f=l+c.length;l>e&&s&&(i+=r),e<f&&t>l&&(i+=c.sliceString(e-l,t-l,r)),l=f+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof as))return 0;let r=0,[i,s,l,c]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==l||s==c)return r;let f=this.children[i],h=e.children[s];if(f!=h)return r+f.scanIdentical(h,t);r+=f.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let x of e)r+=x.lines;if(r<32){let x=[];for(let S of e)S.flatten(x);return new bn(x,t)}let i=Math.max(32,r>>5),s=i<<1,l=i>>1,c=[],f=0,h=-1,d=[];function m(x){let S;if(x.lines>s&&x instanceof as)for(let b of x.children)m(b);else x.lines>l&&(f>l||!f)?(g(),c.push(x)):x instanceof bn&&f&&(S=d[d.length-1])instanceof bn&&x.lines+S.lines<=32?(f+=x.lines,h+=x.length+1,d[d.length-1]=new bn(S.text.concat(x.text),S.length+1+x.length)):(f+x.lines>i&&g(),f+=x.lines,h+=x.length+1,d.push(x))}function g(){f!=0&&(c.push(d.length==1?d[0]:as.from(d,h)),h=-1,f=d.length=0)}for(let x of e)m(x);return g(),c.length==1?c[0]:new as(c,t)}}wt.empty=new bn([""],0);function RM(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Wh(n,e,t=0,r=1e9){for(let i=0,s=0,l=!0;s<n.length&&i<=r;s++){let c=n[s],f=i+c.length;f>=t&&(f>r&&(c=c.slice(0,r-i)),i<t&&(c=c.slice(t-i)),l?(e[e.length-1]+=c,l=!1):e.push(c)),i=f+1}return e}function Sw(n,e,t){return Wh(n,[""],e,t)}class d0{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof bn?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],l=s>>1,c=i instanceof bn?i.text.length:i.children.length;if(l==(t>0?c:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof bn){let f=i.text[l+(t<0?-1:0)];if(this.offsets[r]+=t,f.length>Math.max(0,e))return this.value=e==0?f:t>0?f.slice(e):f.slice(0,f.length-e),this;e-=f.length}else{let f=i.children[l+(t<0?-1:0)];e>f.length?(e-=f.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(f),this.offsets.push(t>0?1:(f instanceof bn?f.text.length:f.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class k3{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new d0(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class O3{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(wt.prototype[Symbol.iterator]=function(){return this.iter()},d0.prototype[Symbol.iterator]=k3.prototype[Symbol.iterator]=O3.prototype[Symbol.iterator]=function(){return this});class FM{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}function jo(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function cr(n,e,t=!0,r=!0){return BM(n,e,t,r)}function MM(n){return n>=56320&&n<57344}function LM(n){return n>=55296&&n<56320}function Ir(n,e){let t=n.charCodeAt(e);if(!LM(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return MM(r)?(t-55296<<10)+(r-56320)+65536:t}function fv(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function ls(n){return n<65536?1:2}const I1=/\r\n?|\n/;var Cr=(function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n})(Cr||(Cr={}));class us{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let s=this.sections[t++],l=this.sections[t++];l<0?(e(r,i,s),i+=s):i+=l,r+=s}}iterChangedRanges(e,t=!1){P1(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new us(e)}composeDesc(e){return this.empty?e:e.empty?this:B3(this,e)}mapDesc(e,t=!1){return e.empty?this:H1(this,e,t)}mapPos(e,t=-1,r=Cr.Simple){let i=0,s=0;for(let l=0;l<this.sections.length;){let c=this.sections[l++],f=this.sections[l++],h=i+c;if(f<0){if(h>e)return s+(e-i);s+=c}else{if(r!=Cr.Simple&&h>=e&&(r==Cr.TrackDel&&i<e&&h>e||r==Cr.TrackBefore&&i<e||r==Cr.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!c)return e==i||t<0?s:s+f;s+=f}i=h}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let s=this.sections[r++],l=this.sections[r++],c=i+s;if(l>=0&&i<=t&&c>=e)return i<e&&c>t?"cover":!0;i=c}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new us(e)}static create(e){return new us(e)}}class In extends us{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return P1(this,(t,r,i,s,l)=>e=e.replace(i,i+(r-t),l),!1),e}mapDesc(e,t=!1){return H1(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,s=0;i<t.length;i+=2){let l=t[i],c=t[i+1];if(c>=0){t[i]=c,t[i+1]=l;let f=i>>1;for(;r.length<f;)r.push(wt.empty);r.push(l?e.slice(s,s+l):wt.empty)}s+=l}return new In(t,r)}compose(e){return this.empty?e:e.empty?this:B3(this,e,!0)}map(e,t=!1){return e.empty?this:H1(this,e,t,!0)}iterChanges(e,t=!1){P1(this,e,t)}get desc(){return us.create(this.sections)}filter(e){let t=[],r=[],i=[],s=new O0(this);e:for(let l=0,c=0;;){let f=l==e.length?1e9:e[l++];for(;c<f||c==f&&s.len==0;){if(s.done)break e;let d=Math.min(s.len,f-c);mr(i,d,-1);let m=s.ins==-1?-1:s.off==0?s.ins:0;mr(t,d,m),m>0&&Ta(r,t,s.text),s.forward(d),c+=d}let h=e[l++];for(;c<h;){if(s.done)break e;let d=Math.min(s.len,h-c);mr(t,d,-1),mr(i,d,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(d),c+=d}}return{changes:new In(t,r),filtered:us.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],s=[],l=0,c=null;function f(d=!1){if(!d&&!i.length)return;l<t&&mr(i,t-l,-1);let m=new In(i,s);c=c?c.compose(m.map(c)):m,i=[],s=[],l=0}function h(d){if(Array.isArray(d))for(let m of d)h(m);else if(d instanceof In){if(d.length!=t)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${t})`);f(),c=c?c.compose(d.map(c)):d}else{let{from:m,to:g=m,insert:x}=d;if(m>g||m<0||g>t)throw new RangeError(`Invalid change range ${m} to ${g} (in doc of length ${t})`);let S=x?typeof x=="string"?wt.of(x.split(r||I1)):x:wt.empty,b=S.length;if(m==g&&b==0)return;m<l&&f(),m>l&&mr(i,m-l,-1),mr(i,g-m,b),Ta(s,i,S),l=g}}return h(e),f(!c),c}static empty(e){return new In(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((l,c)=>c&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;r.length<i;)r.push(wt.empty);r[i]=wt.of(s.slice(1)),t.push(s[0],r[i].length)}}}return new In(t,r)}static createSet(e,t){return new In(e,t)}}function mr(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:i>=0&&e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function Ta(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(wt.empty);n.push(t)}}function P1(n,e,t){let r=n.inserted;for(let i=0,s=0,l=0;l<n.sections.length;){let c=n.sections[l++],f=n.sections[l++];if(f<0)i+=c,s+=c;else{let h=i,d=s,m=wt.empty;for(;h+=c,d+=f,f&&r&&(m=m.append(r[l-2>>1])),!(t||l==n.sections.length||n.sections[l+1]<0);)c=n.sections[l++],f=n.sections[l++];e(i,h,s,d,m),i=h,s=d}}}function H1(n,e,t,r=!1){let i=[],s=r?[]:null,l=new O0(n),c=new O0(e);for(let f=-1;;){if(l.done&&c.len||c.done&&l.len)throw new Error("Mismatched change set lengths");if(l.ins==-1&&c.ins==-1){let h=Math.min(l.len,c.len);mr(i,h,-1),l.forward(h),c.forward(h)}else if(c.ins>=0&&(l.ins<0||f==l.i||l.off==0&&(c.len<l.len||c.len==l.len&&!t))){let h=c.len;for(mr(i,c.ins,-1);h;){let d=Math.min(l.len,h);l.ins>=0&&f<l.i&&l.len<=d&&(mr(i,0,l.ins),s&&Ta(s,i,l.text),f=l.i),l.forward(d),h-=d}c.next()}else if(l.ins>=0){let h=0,d=l.len;for(;d;)if(c.ins==-1){let m=Math.min(d,c.len);h+=m,d-=m,c.forward(m)}else if(c.ins==0&&c.len<d)d-=c.len,c.next();else break;mr(i,h,f<l.i?l.ins:0),s&&f<l.i&&Ta(s,i,l.text),f=l.i,l.forward(l.len-d)}else{if(l.done&&c.done)return s?In.createSet(i,s):us.create(i);throw new Error("Mismatched change set lengths")}}}function B3(n,e,t=!1){let r=[],i=t?[]:null,s=new O0(n),l=new O0(e);for(let c=!1;;){if(s.done&&l.done)return i?In.createSet(r,i):us.create(r);if(s.ins==0)mr(r,s.len,0,c),s.next();else if(l.len==0&&!l.done)mr(r,0,l.ins,c),i&&Ta(i,r,l.text),l.next();else{if(s.done||l.done)throw new Error("Mismatched change set lengths");{let f=Math.min(s.len2,l.len),h=r.length;if(s.ins==-1){let d=l.ins==-1?-1:l.off?0:l.ins;mr(r,f,d,c),i&&d&&Ta(i,r,l.text)}else l.ins==-1?(mr(r,s.off?0:s.len,f,c),i&&Ta(i,r,s.textBit(f))):(mr(r,s.off?0:s.len,l.off?0:l.ins,c),i&&!l.off&&Ta(i,r,l.text));c=(s.ins>f||l.ins>=0&&l.len>f)&&(c||r.length>h),s.forward2(f),l.forward(f)}}}}class O0{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?wt.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?wt.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class ml{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new ml(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return De.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return De.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return De.range(e.anchor,e.head)}static create(e,t,r){return new ml(e,t,r)}}class De{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:De.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new De([this.main],0)}addRange(e,t=!0){return De.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,De.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new De(e.ranges.map(t=>ml.fromJSON(t)),e.main)}static single(e,t=e){return new De([De.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return De.normalized(e.slice(),t);r=s.to}return new De(e,t)}static cursor(e,t=0,r,i){return ml.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?ml.create(t,e,48|s):ml.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let r=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],l=e[i-1];if(s.empty?s.from<=l.to:s.from<l.to){let c=l.from,f=Math.max(s.to,l.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?De.range(f,c):De.range(c,f))}}return new De(e,t)}}function N3(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let uv=0;class We{constructor(e,t,r,i,s){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=uv++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new We(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:hv),!!e.static,e.enables)}of(e){return new Gh([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Gh(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Gh(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function hv(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class Gh{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=uv++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,s=this.id,l=e[s]>>1,c=this.type==2,f=!1,h=!1,d=[];for(let m of this.dependencies)m=="doc"?f=!0:m=="selection"?h=!0:(((t=e[m.id])!==null&&t!==void 0?t:1)&1)==0&&d.push(e[m.id]);return{create(m){return m.values[l]=r(m),1},update(m,g){if(f&&g.docChanged||h&&(g.docChanged||g.selection)||z1(m,d)){let x=r(m);if(c?!ww(x,m.values[l],i):!i(x,m.values[l]))return m.values[l]=x,1}return 0},reconfigure:(m,g)=>{let x,S=g.config.address[s];if(S!=null){let b=yd(g,S);if(this.dependencies.every(w=>w instanceof We?g.facet(w)===m.facet(w):w instanceof hr?g.field(w,!1)==m.field(w,!1):!0)||(c?ww(x=r(m),b,i):i(x=r(m),b)))return m.values[l]=b,0}else x=r(m);return m.values[l]=x,1}}}}function ww(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function z1(n,e){let t=!1;for(let r of e)p0(n,r)&1&&(t=!0);return t}function IM(n,e,t){let r=t.map(f=>n[f.id]),i=t.map(f=>f.type),s=r.filter(f=>!(f&1)),l=n[e.id]>>1;function c(f){let h=[];for(let d=0;d<r.length;d++){let m=yd(f,r[d]);if(i[d]==2)for(let g of m)h.push(g);else h.push(m)}return e.combine(h)}return{create(f){for(let h of r)p0(f,h);return f.values[l]=c(f),1},update(f,h){if(!z1(f,s))return 0;let d=c(f);return e.compare(d,f.values[l])?0:(f.values[l]=d,1)},reconfigure(f,h){let d=z1(f,r),m=h.config.facets[e.id],g=h.facet(e);if(m&&!d&&hv(t,m))return f.values[l]=g,0;let x=c(f);return e.compare(x,g)?(f.values[l]=g,0):(f.values[l]=x,1)}}}const Mu=We.define({static:!0});class hr{constructor(e,t,r,i,s){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new hr(uv++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Mu).find(r=>r.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let s=r.values[t],l=this.updateF(s,i);return this.compareF(s,l)?0:(r.values[t]=l,1)},reconfigure:(r,i)=>{let s=r.facet(Mu),l=i.facet(Mu),c;return(c=s.find(f=>f.field==this))&&c!=l.find(f=>f.field==this)?(r.values[t]=c.create(r),1):i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,Mu.of({field:this,create:e})]}get extension(){return this}}const ul={lowest:4,low:3,default:2,high:1,highest:0};function Kc(n){return e=>new R3(e,n)}const Ml={highest:Kc(ul.highest),high:Kc(ul.high),default:Kc(ul.default),low:Kc(ul.low),lowest:Kc(ul.lowest)};class R3{constructor(e,t){this.inner=e,this.prec=t}}class lp{of(e){return new j1(this,e)}reconfigure(e){return lp.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class j1{constructor(e,t){this.compartment=e,this.inner=t}}class vd{constructor(e,t,r,i,s,l){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],s=Object.create(null),l=new Map;for(let g of PM(e,t,l))g instanceof hr?i.push(g):(s[g.facet.id]||(s[g.facet.id]=[])).push(g);let c=Object.create(null),f=[],h=[];for(let g of i)c[g.id]=h.length<<1,h.push(x=>g.slot(x));let d=r?.config.facets;for(let g in s){let x=s[g],S=x[0].facet,b=d&&d[g]||[];if(x.every(w=>w.type==0))if(c[S.id]=f.length<<1|1,hv(b,x))f.push(r.facet(S));else{let w=S.combine(x.map(A=>A.value));f.push(r&&S.compare(w,r.facet(S))?r.facet(S):w)}else{for(let w of x)w.type==0?(c[w.id]=f.length<<1|1,f.push(w.value)):(c[w.id]=h.length<<1,h.push(A=>w.dynamicSlot(A)));c[S.id]=h.length<<1,h.push(w=>IM(w,S,x))}}let m=h.map(g=>g(c));return new vd(e,l,m,c,f,s)}}function PM(n,e,t){let r=[[],[],[],[],[]],i=new Map;function s(l,c){let f=i.get(l);if(f!=null){if(f<=c)return;let h=r[f].indexOf(l);h>-1&&r[f].splice(h,1),l instanceof j1&&t.delete(l.compartment)}if(i.set(l,c),Array.isArray(l))for(let h of l)s(h,c);else if(l instanceof j1){if(t.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(l.compartment)||l.inner;t.set(l.compartment,h),s(h,c)}else if(l instanceof R3)s(l.inner,l.prec);else if(l instanceof hr)r[c].push(l),l.provides&&s(l.provides,c);else if(l instanceof Gh)r[c].push(l),l.facet.extensions&&s(l.facet.extensions,ul.default);else{let h=l.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(h,c)}}return s(n,ul.default),r.reduce((l,c)=>l.concat(c))}function p0(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function yd(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const F3=We.define(),U1=We.define({combine:n=>n.some(e=>e),static:!0}),M3=We.define({combine:n=>n.length?n[0]:void 0,static:!0}),L3=We.define(),I3=We.define(),P3=We.define(),H3=We.define({combine:n=>n.length?n[0]:!1});class ps{constructor(e,t){this.type=e,this.value=t}static define(){return new HM}}class HM{of(e){return new ps(this,e)}}class zM{constructor(e){this.map=e}of(e){return new lt(this,e)}}class lt{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new lt(this.type,t)}is(e){return this.type==e}static define(e={}){return new zM(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(t);s&&r.push(s)}return r}}lt.reconfigure=lt.define();lt.appendConfig=lt.define();class Hn{constructor(e,t,r,i,s,l){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=l,this._doc=null,this._state=null,r&&N3(r,t.newLength),s.some(c=>c.type==Hn.time)||(this.annotations=s.concat(Hn.time.of(Date.now())))}static create(e,t,r,i,s,l){return new Hn(e,t,r,i,s,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Hn.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Hn.time=ps.define();Hn.userEvent=ps.define();Hn.addToHistory=ps.define();Hn.remote=ps.define();function jM(n,e){let t=[];for(let r=0,i=0;;){let s,l;if(r<n.length&&(i==e.length||e[i]>=n[r]))s=n[r++],l=n[r++];else if(i<e.length)s=e[i++],l=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,l):t[t.length-1]<l&&(t[t.length-1]=l)}}function z3(n,e,t){var r;let i,s,l;return t?(i=e.changes,s=In.empty(e.changes.length),l=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),l=n.changes.compose(i)),{changes:l,selection:e.selection?e.selection.map(s):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:lt.mapEffects(n.effects,i).concat(lt.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function V1(n,e,t){let r=e.selection,i=Ro(e.annotations);return e.userEvent&&(i=i.concat(Hn.userEvent.of(e.userEvent))),{changes:e.changes instanceof In?e.changes:In.of(e.changes||[],t,n.facet(M3)),selection:r&&(r instanceof De?r:De.single(r.anchor,r.head)),effects:Ro(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function j3(n,e,t){let r=V1(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let l=!!e[s].sequential;r=z3(r,V1(n,e[s],l?r.changes.newLength:n.doc.length),l)}let i=Hn.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return VM(t?UM(i):i)}function UM(n){let e=n.startState,t=!0;for(let i of e.facet(L3)){let s=i(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:jM(t,s))}if(t!==!0){let i,s;if(t===!1)s=n.changes.invertedDesc,i=In.empty(e.doc.length);else{let l=n.changes.filter(t);i=l.changes,s=l.filtered.mapDesc(l.changes).invertedDesc}n=Hn.create(e,i,n.selection&&n.selection.map(s),lt.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let r=e.facet(I3);for(let i=r.length-1;i>=0;i--){let s=r[i](n);s instanceof Hn?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Hn?n=s[0]:n=j3(e,Ro(s),!1)}return n}function VM(n){let e=n.startState,t=e.facet(P3),r=n;for(let i=t.length-1;i>=0;i--){let s=t[i](n);s&&Object.keys(s).length&&(r=z3(r,V1(e,s,n.changes.newLength),!0))}return r==n?n:Hn.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const qM=[];function Ro(n){return n==null?qM:Array.isArray(n)?n:[n]}var fn=(function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n})(fn||(fn={}));const WM=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let q1;try{q1=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function GM(n){if(q1)return q1.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||WM.test(t)))return!0}return!1}function XM(n){return e=>{if(!/\S/.test(e))return fn.Space;if(GM(e))return fn.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return fn.Word;return fn.Other}}class vt{constructor(e,t,r,i,s,l){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,l&&(l._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)p0(this,c<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return p0(this,r),yd(this,r)}update(...e){return j3(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let c of e.effects)c.is(lp.reconfigure)?(t&&(i=new Map,t.compartments.forEach((f,h)=>i.set(h,f)),t=null),i.set(c.value.compartment,c.value.extension)):c.is(lt.reconfigure)?(t=null,r=c.value):c.is(lt.appendConfig)&&(t=null,r=Ro(r).concat(c.value));let s;t?s=e.startState.values.slice():(t=vd.resolve(r,i,this),s=new vt(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(f,h)=>h.reconfigure(f,this),null).values);let l=e.startState.facet(U1)?e.newSelection:e.newSelection.asSingle();new vt(t,e.newDoc,l,s,(c,f)=>f.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:De.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),s=[r.range],l=Ro(r.effects);for(let c=1;c<t.ranges.length;c++){let f=e(t.ranges[c]),h=this.changes(f.changes),d=h.map(i);for(let g=0;g<c;g++)s[g]=s[g].map(d);let m=i.mapDesc(h,!0);s.push(f.range.map(m)),i=i.compose(d),l=lt.mapEffects(l,d).concat(lt.mapEffects(Ro(f.effects),m))}return{changes:i,selection:De.create(s,t.mainIndex),effects:l}}changes(e=[]){return e instanceof In?e:In.of(e,this.doc.length,this.facet(vt.lineSeparator))}toText(e){return wt.of(e.split(this.facet(vt.lineSeparator)||I1))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(p0(this,t),yd(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof hr&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let l=r[s],c=e[s];i.push(l.init(f=>l.spec.fromJSON(c,f)))}}return vt.create({doc:e.doc,selection:De.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=vd.resolve(e.extensions||[],new Map),r=e.doc instanceof wt?e.doc:wt.of((e.doc||"").split(t.staticFacet(vt.lineSeparator)||I1)),i=e.selection?e.selection instanceof De?e.selection:De.single(e.selection.anchor,e.selection.head):De.single(0);return N3(i,r.length),t.staticFacet(U1)||(i=i.asSingle()),new vt(t,r,i,t.dynamicSlots.map(()=>null),(s,l)=>l.create(s),null)}get tabSize(){return this.facet(vt.tabSize)}get lineBreak(){return this.facet(vt.lineSeparator)||`
`}get readOnly(){return this.facet(H3)}phrase(e,...t){for(let r of this.facet(vt.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?r:t[s-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let s of this.facet(F3))for(let l of s(this,t,r))Object.prototype.hasOwnProperty.call(l,e)&&i.push(l[e]);return i}charCategorizer(e){return XM(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),l=e-r,c=e-r;for(;l>0;){let f=cr(t,l,!1);if(s(t.slice(f,l))!=fn.Word)break;l=f}for(;c<i;){let f=cr(t,c);if(s(t.slice(c,f))!=fn.Word)break;c=f}return l==c?null:De.range(l+r,c+r)}}vt.allowMultipleSelections=U1;vt.tabSize=We.define({combine:n=>n.length?n[0]:4});vt.lineSeparator=M3;vt.readOnly=H3;vt.phrases=We.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});vt.languageData=F3;vt.changeFilter=L3;vt.transactionFilter=I3;vt.transactionExtender=P3;lp.reconfigure=lt.define();function ms(n,e,t={}){let r={};for(let i of n)for(let s of Object.keys(i)){let l=i[s],c=r[s];if(c===void 0)r[s]=l;else if(!(c===l||l===void 0))if(Object.hasOwnProperty.call(t,s))r[s]=t[s](c,l);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class El{eq(e){return this==e}range(e,t=e){return W1.create(e,t,this)}}El.prototype.startSide=El.prototype.endSide=0;El.prototype.point=!1;El.prototype.mapMode=Cr.TrackDel;let W1=class U3{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new U3(e,t,r)}};function G1(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class dv{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let s=r?this.to:this.from;for(let l=i,c=s.length;;){if(l==c)return l;let f=l+c>>1,h=s[f]-e||(r?this.value[f].endSide:this.value[f].startSide)-t;if(f==l)return h>=0?l:c;h>=0?c=f:l=f+1}}between(e,t,r,i){for(let s=this.findIndex(t,-1e9,!0),l=this.findIndex(r,1e9,!1,s);s<l;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let r=[],i=[],s=[],l=-1,c=-1;for(let f=0;f<this.value.length;f++){let h=this.value[f],d=this.from[f]+e,m=this.to[f]+e,g,x;if(d==m){let S=t.mapPos(d,h.startSide,h.mapMode);if(S==null||(g=x=S,h.startSide!=h.endSide&&(x=t.mapPos(d,h.endSide),x<g)))continue}else if(g=t.mapPos(d,h.startSide),x=t.mapPos(m,h.endSide),g>x||g==x&&h.startSide>0&&h.endSide<=0)continue;(x-g||h.endSide-h.startSide)<0||(l<0&&(l=g),h.point&&(c=Math.max(c,x-g)),r.push(h),i.push(g-l),s.push(x-l))}return{mapped:r.length?new dv(i,s,r,c):null,pos:l}}}class St{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new St(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,l=e.filter;if(t.length==0&&!l)return this;if(r&&(t=t.slice().sort(G1)),this.isEmpty)return t.length?St.of(t):this;let c=new V3(this,null,-1).goto(0),f=0,h=[],d=new Vs;for(;c.value||f<t.length;)if(f<t.length&&(c.from-t[f].from||c.startSide-t[f].value.startSide)>=0){let m=t[f++];d.addInner(m.from,m.to,m.value)||h.push(m)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(f==t.length||this.chunkEnd(c.chunkIndex)<t[f].from)&&(!l||i>this.chunkEnd(c.chunkIndex)||s<this.chunkPos[c.chunkIndex])&&d.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!l||i>c.to||s<c.from||l(c.from,c.to,c.value))&&(d.addInner(c.from,c.to,c.value)||h.push(W1.create(c.from,c.to,c.value))),c.next());return d.finishInner(this.nextLayer.isEmpty&&!h.length?St.empty:this.nextLayer.update({add:h,filter:l,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let l=0;l<this.chunk.length;l++){let c=this.chunkPos[l],f=this.chunk[l],h=e.touchesRange(c,c+f.length);if(h===!1)i=Math.max(i,f.maxPoint),t.push(f),r.push(e.mapPos(c));else if(h===!0){let{mapped:d,pos:m}=f.map(c,e);d&&(i=Math.max(i,d.maxPoint),t.push(d),r.push(m))}}let s=this.nextLayer.map(e);return t.length==0?s:new St(r,t,s||St.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],l=this.chunk[i];if(t>=s&&e<=s+l.length&&l.between(s,e-s,t-s,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return B0.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return B0.from(e).goto(t)}static compare(e,t,r,i,s=-1){let l=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),c=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),f=Ew(l,c,r),h=new Qc(l,f,s),d=new Qc(c,f,s);r.iterGaps((m,g,x)=>Cw(h,m,d,g,x,i)),r.empty&&r.length==0&&Cw(h,0,d,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let s=e.filter(d=>!d.isEmpty&&t.indexOf(d)<0),l=t.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(s.length!=l.length)return!1;if(!s.length)return!0;let c=Ew(s,l),f=new Qc(s,c,0).goto(r),h=new Qc(l,c,0).goto(r);for(;;){if(f.to!=h.to||!X1(f.active,h.active)||f.point&&(!h.point||!f.point.eq(h.point)))return!1;if(f.to>i)return!0;f.next(),h.next()}}static spans(e,t,r,i,s=-1){let l=new Qc(e,null,s).goto(t),c=t,f=l.openStart;for(;;){let h=Math.min(l.to,r);if(l.point){let d=l.activeForPoint(l.to),m=l.pointFrom<t?d.length+1:l.point.startSide<0?d.length:Math.min(d.length,f);i.point(c,h,l.point,d,m,l.pointRank),f=Math.min(l.openEnd(h),d.length)}else h>c&&(i.span(c,h,l.active,f),f=l.openEnd(h));if(l.to>r)return f+(l.point&&l.to>r?1:0);c=l.to,l.next()}}static of(e,t=!1){let r=new Vs;for(let i of e instanceof W1?[e]:t?$M(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return St.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=St.empty;i=i.nextLayer)t=new St(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}St.empty=new St([],[],null,-1);function $M(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(G1(e,r)>0)return n.slice().sort(G1);e=r}return n}St.empty.nextLayer=St.empty;class Vs{finishChunk(e){this.chunks.push(new dv(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Vs)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(St.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=St.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Ew(n,e,t){let r=new Map;for(let s of n)for(let l=0;l<s.chunk.length;l++)s.chunk[l].maxPoint<=0&&r.set(s.chunk[l],s.chunkPos[l]);let i=new Set;for(let s of e)for(let l=0;l<s.chunk.length;l++){let c=r.get(s.chunk[l]);c!=null&&(t?t.mapPos(c):c)==s.chunkPos[l]&&!t?.touchesRange(c,c+s.chunk[l].length)&&i.add(s.chunk[l])}return i}class V3{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class B0{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let l=e[s];!l.isEmpty;l=l.nextLayer)l.maxPoint>=r&&i.push(new V3(l,t,r,s));return i.length==1?i[0]:new B0(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)Yg(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)Yg(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Yg(this.heap,0)}}}function Yg(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class Qc{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=B0.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Lu(this.active,e),Lu(this.activeTo,e),Lu(this.activeRank,e),this.minActive=Aw(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||i-this.activeTo[t])>0;)t++;Iu(this.active,t,r),Iu(this.activeTo,t,i),Iu(this.activeRank,t,s),e&&Iu(e,t,this.cursor.from),this.minActive=Aw(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Lu(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function Cw(n,e,t,r,i,s){n.goto(e),t.goto(r);let l=r+i,c=r,f=r-e;for(;;){let h=n.to+f-t.to,d=h||n.endSide-t.endSide,m=d<0?n.to+f:t.to,g=Math.min(m,l);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&X1(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(c,g,n.point,t.point):g>c&&!X1(n.active,t.active)&&s.compareRange(c,g,n.active,t.active),m>l)break;(h||n.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(m),c=m,d<=0&&n.next(),d>=0&&t.next()}}function X1(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Lu(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function Iu(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function Aw(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function Jo(n,e,t=n.length){let r=0;for(let i=0;i<t&&i<n.length;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=cr(n,i));return r}function $1(n,e,t,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==n.length)break;s+=n.charCodeAt(i)==9?t-s%t:1,i=cr(n,i)}return r===!0?-1:n.length}const Y1="",Tw=typeof Symbol>"u"?"__"+Y1:Symbol.for(Y1),K1=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),_w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ra{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function s(l,c,f,h){let d=[],m=/^@(\w+)\b/.exec(l[0]),g=m&&m[1]=="keyframes";if(m&&c==null)return f.push(l[0]+";");for(let x in c){let S=c[x];if(/&/.test(x))s(x.split(/,\s*/).map(b=>l.map(w=>b.replace(/&/,w))).reduce((b,w)=>b.concat(w)),S,f);else if(S&&typeof S=="object"){if(!m)throw new RangeError("The value of a property ("+x+") should be a primitive value.");s(i(x),S,d,g)}else S!=null&&d.push(x.replace(/_.*/,"").replace(/[A-Z]/g,b=>"-"+b.toLowerCase())+": "+S+";")}(d.length||g)&&f.push((r&&!m&&!h?l.map(r):l).join(", ")+" {"+d.join(" ")+"}")}for(let l in e)s(i(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=_w[Tw]||1;return _w[Tw]=e+1,Y1+e.toString(36)}static mount(e,t,r){let i=e[K1],s=r&&r.nonce;i?s&&i.setNonce(s):i=new YM(e,s),i.mount(Array.isArray(t)?t:[t],e)}}let Dw=new Map;class YM{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=Dw.get(r);if(s)return e[K1]=s;this.sheet=new i.CSSStyleSheet,Dw.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[K1]=this}mount(e,t){let r=this.sheet,i=0,s=0;for(let l=0;l<e.length;l++){let c=e[l],f=this.modules.indexOf(c);if(f<s&&f>-1&&(this.modules.splice(f,1),s--,f=-1),f==-1){if(this.modules.splice(s++,0,c),r)for(let h=0;h<c.rules.length;h++)r.insertRule(c.rules[h],i++)}else{for(;s<f;)i+=this.modules[s++].rules.length;i+=c.rules.length,s++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let l="";for(let f=0;f<this.modules.length;f++)l+=this.modules[f].getRules()+`
`;this.styleTag.textContent=l;let c=t.head||t;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Fa={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},N0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},KM=typeof navigator<"u"&&/Mac/.test(navigator.platform),QM=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ar=0;ar<10;ar++)Fa[48+ar]=Fa[96+ar]=String(ar);for(var ar=1;ar<=24;ar++)Fa[ar+111]="F"+ar;for(var ar=65;ar<=90;ar++)Fa[ar]=String.fromCharCode(ar+32),N0[ar]=String.fromCharCode(ar);for(var Kg in Fa)N0.hasOwnProperty(Kg)||(N0[Kg]=Fa[Kg]);function ZM(n){var e=KM&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||QM&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?N0:Fa)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function $t(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)q3(n,arguments[e]);return n}function q3(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)q3(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}let Er=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Q1=typeof document<"u"?document:{documentElement:{style:{}}};const Z1=/Edge\/(\d+)/.exec(Er.userAgent),W3=/MSIE \d/.test(Er.userAgent),J1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Er.userAgent),op=!!(W3||J1||Z1),kw=!op&&/gecko\/(\d+)/i.test(Er.userAgent),Qg=!op&&/Chrome\/(\d+)/.exec(Er.userAgent),JM="webkitFontSmoothing"in Q1.documentElement.style,ex=!op&&/Apple Computer/.test(Er.vendor),Ow=ex&&(/Mobile\/\w+/.test(Er.userAgent)||Er.maxTouchPoints>2);var Ue={mac:Ow||/Mac/.test(Er.platform),windows:/Win/.test(Er.platform),linux:/Linux|X11/.test(Er.platform),ie:op,ie_version:W3?Q1.documentMode||6:J1?+J1[1]:Z1?+Z1[1]:0,gecko:kw,gecko_version:kw?+(/Firefox\/(\d+)/.exec(Er.userAgent)||[0,0])[1]:0,chrome:!!Qg,chrome_version:Qg?+Qg[1]:0,ios:Ow,android:/Android\b/.test(Er.userAgent),webkit_version:JM?+(/\bAppleWebKit\/(\d+)/.exec(Er.userAgent)||[0,0])[1]:0,safari:ex,safari_version:ex?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Er.userAgent)||[0,0])[1]:0,tabSize:Q1.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function R0(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function tx(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Xh(n,e){if(!e.anchorNode)return!1;try{return tx(n,e.anchorNode)}catch{return!1}}function Uo(n){return n.nodeType==3?Al(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function m0(n,e,t,r){return t?Bw(n,e,t,r,-1)||Bw(n,e,t,r,1):!1}function Cl(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function bd(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function Bw(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:ds(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=Cl(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=i<0?ds(n):0}else return!1}}function ds(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function nf(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function eL(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function G3(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function tL(n,e,t,r,i,s,l,c){let f=n.ownerDocument,h=f.defaultView||window;for(let d=n,m=!1;d&&!m;)if(d.nodeType==1){let g,x=d==f.body,S=1,b=1;if(x)g=eL(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(m=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let C=d.getBoundingClientRect();({scaleX:S,scaleY:b}=G3(d,C)),g={left:C.left,right:C.left+d.clientWidth*S,top:C.top,bottom:C.top+d.clientHeight*b}}let w=0,A=0;if(i=="nearest")e.top<g.top?(A=e.top-(g.top+l),t>0&&e.bottom>g.bottom+A&&(A=e.bottom-g.bottom+l)):e.bottom>g.bottom&&(A=e.bottom-g.bottom+l,t<0&&e.top-A<g.top&&(A=e.top-(g.top+l)));else{let C=e.bottom-e.top,E=g.bottom-g.top;A=(i=="center"&&C<=E?e.top+C/2-E/2:i=="start"||i=="center"&&t<0?e.top-l:e.bottom-E+l)-g.top}if(r=="nearest"?e.left<g.left?(w=e.left-(g.left+s),t>0&&e.right>g.right+w&&(w=e.right-g.right+s)):e.right>g.right&&(w=e.right-g.right+s,t<0&&e.left<g.left+w&&(w=e.left-(g.left+s))):w=(r=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:r=="start"==c?e.left-s:e.right-(g.right-g.left)+s)-g.left,w||A)if(x)h.scrollBy(w,A);else{let C=0,E=0;if(A){let D=d.scrollTop;d.scrollTop+=A/b,E=(d.scrollTop-D)*b}if(w){let D=d.scrollLeft;d.scrollLeft+=w/S,C=(d.scrollLeft-D)*S}e={left:e.left-C,top:e.top-E,right:e.right-C,bottom:e.bottom-E},C&&Math.abs(C-w)<1&&(r="nearest"),E&&Math.abs(E-A)<1&&(i="nearest")}if(x)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function nL(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class rL{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?ds(t):0),r,Math.min(e.focusOffset,r?ds(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let ol=null;Ue.safari&&Ue.safari_version>=26&&(ol=!1);function X3(n){if(n.setActive)return n.setActive();if(ol)return n.focus(ol);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(ol==null?{get preventScroll(){return ol={preventScroll:!0},!0}}:void 0),!ol){ol=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],s=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let Nw;function Al(n,e,t=e){let r=Nw||(Nw=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function Fo(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,n.dispatchEvent(s);let l=new KeyboardEvent("keyup",i);return l.synthetic=!0,n.dispatchEvent(l),s.defaultPrevented||l.defaultPrevented}function iL(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function $3(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function sL(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,ds(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable=="false"?r--:(t=i,r=ds(t))}else{if(t==n)return!0;r=Cl(t),t=t.parentNode}}function Y3(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function K3(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=ds(t)}else if(t.parentNode&&!bd(t))r=Cl(t),t=t.parentNode;else return null}}function Q3(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!bd(t))r=Cl(t)+1,t=t.parentNode;else return null}}class gr{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new gr(e.parentNode,Cl(e),t)}static after(e,t){return new gr(e.parentNode,Cl(e)+1,t)}}const pv=[];class qt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,s;for(let l of this.children){if(l.flags&7){if(!l.dom&&(s=i?i.nextSibling:r.firstChild)){let c=qt.get(s);(!c||!c.parent&&c.canReuseDOM(l))&&l.reuseDOM(s)}l.sync(e,t),l.flags&=-8}if(s=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&s!=l.dom&&(t.written=!0),l.dom.parentNode==r)for(;s&&s!=l.dom;)s=Rw(s);else r.insertBefore(l.dom,s);i=l.dom}for(s=i?i.nextSibling:r.firstChild,s&&t&&t.node==r&&(t.written=!0);s;)s=Rw(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=ds(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!qt.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let l=this.children[i];if(l.dom==r)return s;s+=l.length+l.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,s=-1,l=-1,c=-1;for(let f=0,h=r,d=r;f<this.children.length;f++){let m=this.children[f],g=h+m.length;if(h<e&&g>t)return m.domBoundsAround(e,t,h);if(g>=e&&i==-1&&(i=f,s=h),h>t&&m.dom.parentNode==this.dom){l=f,c=d;break}d=g,h=g+m.breakAfter}return{from:s,to:c<0?r+this.length:c,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:l<this.children.length&&l>=0?this.children[l].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=pv){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Z3(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,s,l){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}qt.prototype.breakAfter=0;function Rw(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Z3{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function J3(n,e,t,r,i,s,l,c,f){let{children:h}=n,d=h.length?h[e]:null,m=s.length?s[s.length-1]:null,g=m?m.breakAfter:l;if(!(e==r&&d&&!l&&!g&&s.length<2&&d.merge(t,i,s.length?m:null,t==0,c,f))){if(r<h.length){let x=h[r];x&&(i<x.length||x.breakAfter&&m?.breakAfter)?(e==r&&(x=x.split(i),i=0),!g&&m&&x.merge(0,i,m,!0,0,f)?s[s.length-1]=x:((i||x.children.length&&!x.children[0].length)&&x.merge(0,i,null,!1,0,f),s.push(x))):x?.breakAfter&&(m?m.breakAfter=1:l=1),r++}for(d&&(d.breakAfter=l,t>0&&(!l&&s.length&&d.merge(t,d.length,s[0],!1,c,0)?d.breakAfter=s.shift().breakAfter:(t<d.length||d.children.length&&d.children[d.children.length-1].length==0)&&d.merge(t,d.length,null,!1,c,0),e++));e<r&&s.length;)if(h[r-1].become(s[s.length-1]))r--,s.pop(),f=s.length?0:c;else if(h[e].become(s[0]))e++,s.shift(),c=s.length?0:f;else break;!s.length&&e&&r<h.length&&!h[e-1].breakAfter&&h[r].merge(0,0,h[e-1],!1,c,f)&&e--,(e<r||s.length)&&n.replaceChildren(e,r,s)}}function e8(n,e,t,r,i,s){let l=n.childCursor(),{i:c,off:f}=l.findPos(t,1),{i:h,off:d}=l.findPos(e,-1),m=e-t;for(let g of r)m+=g.length;n.length+=m,J3(n,h,d,c,f,r,0,i,s)}const aL=256;class zi extends qt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof zi)||this.length-(t-e)+r.length>aL||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new zi(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new gr(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return lL(this.dom,e,t)}}class qs extends qt{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if($3(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,s,l){return r&&(!(r instanceof qs&&r.mark.eq(this.mark))||e&&s<=0||t<this.length&&l<=0)?!1:(e8(this,e,t,r?r.children.slice():[],s-1,l-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,s=0;for(let c of this.children){let f=r+c.length;f>e&&t.push(r<e?c.split(e-r):c),i<0&&r>=e&&(i=s),r=f,s++}let l=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new qs(this.mark,t,l)}domAtPos(e){return t8(this,e)}coordsAt(e,t){return r8(this,e,t)}}function lL(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,s=e,l=0;e==0&&t<0||e==r&&t>=0?Ue.chrome||Ue.gecko||(e?(i--,l=1):s<r&&(s++,l=-1)):t<0?i--:s<r&&s++;let c=Al(n,i,s).getClientRects();if(!c.length)return null;let f=c[(l?l<0:t>=0)?0:c.length-1];return Ue.safari&&!l&&f.width==0&&(f=Array.prototype.find.call(c,h=>h.width)||f),l?nf(f,l<0):f||null}class Ls extends qt{static create(e,t,r){return new Ls(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=Ls.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,i,s,l){return r&&(!(r instanceof Ls)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&l<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof Ls&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return wt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):wt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?gr.before(this.dom):gr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let l=this.side?this.side<0:e>0;for(let c=l?i.length-1:0;s=i[c],!(e>0?c==0:c==i.length-1||s.top<s.bottom);c+=l?-1:1);return nf(s,!l)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Vo extends qt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Vo&&e.side==this.side}split(){return new Vo(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?gr.before(this.dom):gr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return wt.empty}get isHidden(){return!0}}zi.prototype.children=Ls.prototype.children=Vo.prototype.children=pv;function t8(n,e){let t=n.dom,{children:r}=n,i=0;for(let s=0;i<r.length;i++){let l=r[i],c=s+l.length;if(!(c==s&&l.getSide()<=0)){if(e>s&&e<c&&l.dom.parentNode==t)return l.domAtPos(e-s);if(e<=s)break;s=c}}for(let s=i;s>0;s--){let l=r[s-1];if(l.dom.parentNode==t)return l.domAtPos(l.length)}for(let s=i;s<r.length;s++){let l=r[s];if(l.dom.parentNode==t)return l.domAtPos(0)}return new gr(t,0)}function n8(n,e,t){let r,{children:i}=n;t>0&&e instanceof qs&&i.length&&(r=i[i.length-1])instanceof qs&&r.mark.eq(e.mark)?n8(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function r8(n,e,t){let r=null,i=-1,s=null,l=-1;function c(h,d){for(let m=0,g=0;m<h.children.length&&g<=d;m++){let x=h.children[m],S=g+x.length;S>=d&&(x.children.length?c(x,d-g):(!s||s.isHidden&&(t>0||cL(s,x)))&&(S>d||g==S&&x.getSide()>0)?(s=x,l=d-g):(g<d||g==S&&x.getSide()<0&&!x.isHidden)&&(r=x,i=d-g)),g=S}}c(n,e);let f=(t<0?r:s)||r||s;return f?f.coordsAt(Math.max(0,f==r?i:l),t):oL(n)}function oL(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Uo(e);return t[t.length-1]||null}function cL(n,e){let t=n.coordsAt(0,1),r=e.coordsAt(0,1);return t&&r&&r.top<t.bottom}function nx(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const Fw=Object.create(null);function Sd(n,e,t){if(n==e)return!0;n||(n=Fw),e||(e=Fw);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let s of r)if(s!=t&&(i.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function rx(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function fL(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class Xs{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Tr=(function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n})(Tr||(Tr={}));class et extends El{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new rf(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Ma(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:l}=i8(e,t);r=(s?t?-3e8:-1:5e8)-1,i=(l?t?2e8:1:-6e8)+1}return new Ma(e,r,i,t,e.widget||null,!0)}static line(e){return new sf(e)}static set(e,t=!1){return St.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}et.none=St.empty;class rf extends et{constructor(e){let{start:t,end:r}=i8(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof rf&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Sd(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}rf.prototype.point=!1;class sf extends et{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof sf&&this.spec.class==e.spec.class&&Sd(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}sf.prototype.mapMode=Cr.TrackBefore;sf.prototype.point=!0;class Ma extends et{constructor(e,t,r,i,s,l){super(t,r,s,e),this.block=i,this.isReplace=l,this.mapMode=i?t<=0?Cr.TrackBefore:Cr.TrackAfter:Cr.TrackDel}get type(){return this.startSide!=this.endSide?Tr.WidgetRange:this.startSide<=0?Tr.WidgetBefore:Tr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Ma&&uL(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Ma.prototype.point=!0;function i8(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function uL(n,e){return n==e||!!(n&&e&&n.compare(e))}function $h(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class On extends qt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,s,l){if(r){if(!(r instanceof On))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),e8(this,e,t,r?r.children.slice():[],s,l),!0}split(e){let t=new On;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)t.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Sd(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){n8(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=nx(t,this.attrs||{})),r&&(this.attrs=nx({class:r},this.attrs||{}))}domAtPos(e){return t8(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&($3(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(rx(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&qt.get(i)instanceof qs;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=qt.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!Ue.ios||!this.children.some(s=>s instanceof zi))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof zi)||/[^ -~]/.test(r.text))return null;let i=Uo(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=r8(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let l=(s-i.textHeight)/2;return{top:r.top+l,bottom:r.bottom-l,left:r.left,right:r.left}}}return r}become(e){return e instanceof On&&this.children.length==0&&e.children.length==0&&Sd(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],l=i+s.length;if(l>=t){if(s instanceof On)return s;if(l>t)break}i=l+s.breakAfter}return null}}class zs extends qt{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,s,l){return r&&(!(r instanceof zs)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&l<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?gr.before(this.dom):gr.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new zs(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return pv}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):wt.empty}domBoundsAround(){return null}become(e){return e instanceof zs&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof ix?null:nf(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class ix extends Xs{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class g0{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof zs&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new On),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Pu(new Vo(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof zs)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:l,lineBreak:c,done:f}=this.cursor.next(this.skip);if(this.skip=0,f)throw new Error("Ran out of text content when drawing inline views");if(c){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=l,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e),s=Math.min(i,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(Pu(new zi(this.text.slice(this.textOff,this.textOff+s)),t),r),this.atCursorPos=!0,this.textOff+=s,e-=s,r=i<=s?0:t.length}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,s,l){if(this.disallowBlockEffectsFor[l]&&r instanceof Ma){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=t-e;if(r instanceof Ma)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new zs(r.widget||qo.block,c,r));else{let f=Ls.create(r.widget||qo.inline,c,c?0:r.startSide),h=this.atCursorPos&&!f.isEditable&&s<=i.length&&(e<t||r.startSide>0),d=!f.isEditable&&(e<t||s>i.length||r.startSide<=0),m=this.getLine();this.pendingBuffer==2&&!h&&!f.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),h&&(m.append(Pu(new Vo(1),i),s),s=i.length+Math.max(0,s-i.length)),m.append(Pu(f,i),s),this.atCursorPos=d,this.pendingBuffer=d?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,r,i,s){let l=new g0(e,t,r,s);return l.openEnd=St.spans(i,t,r,l),l.openStart<0&&(l.openStart=l.openEnd),l.finish(l.openEnd),l}}function Pu(n,e){for(let t of e)n=new qs(t,[n],n.length);return n}class qo extends Xs{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}qo.inline=new qo("span");qo.block=new qo("div");var nn=(function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n})(nn||(nn={}));const Tl=nn.LTR,mv=nn.RTL;function s8(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const hL=s8("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),dL=s8("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),sx=Object.create(null),Ji=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);sx[e]=t,sx[t]=-e}function a8(n){return n<=247?hL[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?dL[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const pL=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class _a{get dir(){return this.level%2?mv:Tl}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let s=-1;for(let l=0;l<e.length;l++){let c=e[l];if(c.from<=t&&c.to>=t){if(c.level==r)return l;(s<0||(i!=0?i<0?c.from<t:c.to>t:e[s].level>c.level))&&(s=l)}}if(s<0)throw new RangeError("Index out of range");return s}}function l8(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!l8(r.inner,i.inner))return!1}return!0}const Yt=[];function mL(n,e,t,r,i){for(let s=0;s<=r.length;s++){let l=s?r[s-1].to:e,c=s<r.length?r[s].from:t,f=s?256:i;for(let h=l,d=f,m=f;h<c;h++){let g=a8(n.charCodeAt(h));g==512?g=d:g==8&&m==4&&(g=16),Yt[h]=g==4?2:g,g&7&&(m=g),d=g}for(let h=l,d=f,m=f;h<c;h++){let g=Yt[h];if(g==128)h<c-1&&d==Yt[h+1]&&d&24?g=Yt[h]=d:Yt[h]=256;else if(g==64){let x=h+1;for(;x<c&&Yt[x]==64;)x++;let S=h&&d==8||x<t&&Yt[x]==8?m==1?1:8:256;for(let b=h;b<x;b++)Yt[b]=S;h=x-1}else g==8&&m==1&&(Yt[h]=1);d=g,g&7&&(m=g)}}}function gL(n,e,t,r,i){let s=i==1?2:1;for(let l=0,c=0,f=0;l<=r.length;l++){let h=l?r[l-1].to:e,d=l<r.length?r[l].from:t;for(let m=h,g,x,S;m<d;m++)if(x=sx[g=n.charCodeAt(m)])if(x<0){for(let b=c-3;b>=0;b-=3)if(Ji[b+1]==-x){let w=Ji[b+2],A=w&2?i:w&4?w&1?s:i:0;A&&(Yt[m]=Yt[Ji[b]]=A),c=b;break}}else{if(Ji.length==189)break;Ji[c++]=m,Ji[c++]=g,Ji[c++]=f}else if((S=Yt[m])==2||S==1){let b=S==i;f=b?0:1;for(let w=c-3;w>=0;w-=3){let A=Ji[w+2];if(A&2)break;if(b)Ji[w+2]|=2;else{if(A&4)break;Ji[w+2]|=4}}}}}function xL(n,e,t,r){for(let i=0,s=r;i<=t.length;i++){let l=i?t[i-1].to:n,c=i<t.length?t[i].from:e;for(let f=l;f<c;){let h=Yt[f];if(h==256){let d=f+1;for(;;)if(d==c){if(i==t.length)break;d=t[i++].to,c=i<t.length?t[i].from:e}else if(Yt[d]==256)d++;else break;let m=s==1,g=(d<e?Yt[d]:r)==1,x=m==g?m?1:2:r;for(let S=d,b=i,w=b?t[b-1].to:n;S>f;)S==w&&(S=t[--b].from,w=b?t[b-1].to:n),Yt[--S]=x;f=d}else s=h,f++}}}function ax(n,e,t,r,i,s,l){let c=r%2?2:1;if(r%2==i%2)for(let f=e,h=0;f<t;){let d=!0,m=!1;if(h==s.length||f<s[h].from){let b=Yt[f];b!=c&&(d=!1,m=b==16)}let g=!d&&c==1?[]:null,x=d?r:r+1,S=f;e:for(;;)if(h<s.length&&S==s[h].from){if(m)break e;let b=s[h];if(!d)for(let w=b.to,A=h+1;;){if(w==t)break e;if(A<s.length&&s[A].from==w)w=s[A++].to;else{if(Yt[w]==c)break e;break}}if(h++,g)g.push(b);else{b.from>f&&l.push(new _a(f,b.from,x));let w=b.direction==Tl!=!(x%2);lx(n,w?r+1:r,i,b.inner,b.from,b.to,l),f=b.to}S=b.to}else{if(S==t||(d?Yt[S]!=c:Yt[S]==c))break;S++}g?ax(n,f,S,r+1,i,g,l):f<S&&l.push(new _a(f,S,x)),f=S}else for(let f=t,h=s.length;f>e;){let d=!0,m=!1;if(!h||f>s[h-1].to){let b=Yt[f-1];b!=c&&(d=!1,m=b==16)}let g=!d&&c==1?[]:null,x=d?r:r+1,S=f;e:for(;;)if(h&&S==s[h-1].to){if(m)break e;let b=s[--h];if(!d)for(let w=b.from,A=h;;){if(w==e)break e;if(A&&s[A-1].to==w)w=s[--A].from;else{if(Yt[w-1]==c)break e;break}}if(g)g.push(b);else{b.to<f&&l.push(new _a(b.to,f,x));let w=b.direction==Tl!=!(x%2);lx(n,w?r+1:r,i,b.inner,b.from,b.to,l),f=b.from}S=b.from}else{if(S==e||(d?Yt[S-1]!=c:Yt[S-1]==c))break;S--}g?ax(n,S,f,r+1,i,g,l):S<f&&l.push(new _a(S,f,x)),f=S}}function lx(n,e,t,r,i,s,l){let c=e%2?2:1;mL(n,i,s,r,c),gL(n,i,s,r,c),xL(i,s,r,c),ax(n,i,s,e,t,r,l)}function vL(n,e,t){if(!n)return[new _a(0,0,e==mv?1:0)];if(e==Tl&&!t.length&&!pL.test(n))return o8(n.length);if(t.length)for(;n.length>Yt.length;)Yt[Yt.length]=256;let r=[],i=e==Tl?0:1;return lx(n,i,i,t,0,n.length,r),r}function o8(n){return[new _a(0,n,0)]}let c8="";function yL(n,e,t,r,i){var s;let l=r.head-n.from,c=_a.find(e,l,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),f=e[c],h=f.side(i,t);if(l==h){let g=c+=i?1:-1;if(g<0||g>=e.length)return null;f=e[c=g],l=f.side(!i,t),h=f.side(i,t)}let d=cr(n.text,l,f.forward(i,t));(d<f.from||d>f.to)&&(d=h),c8=n.text.slice(Math.min(l,d),Math.max(l,d));let m=c==(i?e.length-1:0)?null:e[c+(i?1:-1)];return m&&d==h&&m.level+(i?0:1)<f.level?De.cursor(m.side(!i,t)+n.from,m.forward(i,t)?1:-1,m.level):De.cursor(d+n.from,f.forward(i,t)?-1:1,f.level)}function bL(n,e,t){for(let r=e;r<t;r++){let i=a8(n.charCodeAt(r));if(i==1)return Tl;if(i==2||i==4)return mv}return Tl}const f8=We.define(),u8=We.define(),h8=We.define(),d8=We.define(),ox=We.define(),p8=We.define(),m8=We.define(),gv=We.define(),xv=We.define(),g8=We.define({combine:n=>n.some(e=>e)}),x8=We.define({combine:n=>n.some(e=>e)}),v8=We.define();class Mo{constructor(e,t="nearest",r="nearest",i=5,s=5,l=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=l}map(e){return e.empty?this:new Mo(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Mo(De.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Hu=lt.define({map:(n,e)=>n.map(e)}),y8=lt.define();function Hr(n,e,t){let r=n.facet(d8);r.length?r[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const Ms=We.define({combine:n=>n.length?n[0]:!0});let SL=0;const Co=We.define({combine(n){return n.filter((e,t)=>{for(let r=0;r<t;r++)if(n[r].plugin==e.plugin)return!1;return!0})}});class Sn{constructor(e,t,r,i,s){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(Co.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Co.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:s,decorations:l}=t||{};return new Sn(SL++,e,r,i,c=>{let f=[];return l&&f.push(F0.of(h=>{let d=h.plugin(c);return d?l(d):et.none})),s&&f.push(s(c)),f})}static fromClass(e,t){return Sn.define((r,i)=>new e(r,i),t)}}class Zg{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(Hr(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){Hr(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){Hr(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const b8=We.define(),vv=We.define(),F0=We.define(),S8=We.define(),af=We.define(),w8=We.define();function Mw(n,e){let t=n.state.facet(w8);if(!t.length)return t;let r=t.map(s=>s instanceof Function?s(n):s),i=[];return St.spans(r,e.from,e.to,{point(){},span(s,l,c,f){let h=s-e.from,d=l-e.from,m=i;for(let g=c.length-1;g>=0;g--,f--){let x=c[g].spec.bidiIsolate,S;if(x==null&&(x=bL(e.text,h,d)),f>0&&m.length&&(S=m[m.length-1]).to==h&&S.direction==x)S.to=d,m=S.inner;else{let b={from:h,to:d,direction:x,inner:[]};m.push(b),m=b.inner}}}}),i}const E8=We.define();function yv(n){let e=0,t=0,r=0,i=0;for(let s of n.state.facet(E8)){let l=s(n);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(t=Math.max(t,l.right)),l.top!=null&&(r=Math.max(r,l.top)),l.bottom!=null&&(i=Math.max(i,l.bottom)))}return{left:e,right:t,top:r,bottom:i}}const n0=We.define();class Ti{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new Ti(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,s=0,l=0,c=0;;i++){let f=i==e.length?null:e[i],h=l-c,d=f?f.fromB:1e9;for(;s<t.length&&t[s]<d;){let m=t[s],g=t[s+1],x=Math.max(c,m),S=Math.min(d,g);if(x<=S&&new Ti(x+h,S+h,x,S).addToSet(r),g>d)break;s+=2}if(!f)return r;new Ti(f.fromA,f.toA,f.fromB,f.toB).addToSet(r),l=f.toA,c=f.toB}}}class wd{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=In.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,l,c,f)=>i.push(new Ti(s,l,c,f))),this.changedRanges=i}static create(e,t,r){return new wd(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Lw extends qt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=et.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new On],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ti(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:h,toA:d})=>d<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!DL(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?EL(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:d}=this.hasComposition;r=new Ti(h,d,e.changes.mapPos(h,-1),e.changes.mapPos(d,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Ue.ie||Ue.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,c=this.updateDeco(),f=TL(l,c,e.changes);return r=Ti.extendWithRanges(r,f),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let l=Ue.chrome||Ue.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,l),this.flags&=-8,l&&(l.written||i.selectionRange.focusNode!=l.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(l=>l.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let l of this.children)l instanceof zs&&l.widget instanceof ix&&s.push(l.dom);i.updateGaps(s)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let l=i.length-1;;l--){let c=l>=0?i[l]:null;if(!c)break;let{fromA:f,toA:h,fromB:d,toB:m}=c,g,x,S,b;if(r&&r.range.fromB<m&&r.range.toB>d){let D=g0.build(this.view.state.doc,d,r.range.fromB,this.decorations,this.dynamicDecorationMap),B=g0.build(this.view.state.doc,r.range.toB,m,this.decorations,this.dynamicDecorationMap);x=D.breakAtStart,S=D.openStart,b=B.openEnd;let N=this.compositionView(r);B.breakAtStart?N.breakAfter=1:B.content.length&&N.merge(N.length,N.length,B.content[0],!1,B.openStart,0)&&(N.breakAfter=B.content[0].breakAfter,B.content.shift()),D.content.length&&N.merge(0,0,D.content[D.content.length-1],!0,0,D.openEnd)&&D.content.pop(),g=D.content.concat(N).concat(B.content)}else({content:g,breakAtStart:x,openStart:S,openEnd:b}=g0.build(this.view.state.doc,d,m,this.decorations,this.dynamicDecorationMap));let{i:w,off:A}=s.findPos(h,1),{i:C,off:E}=s.findPos(f,-1);J3(this,C,E,w,A,g,x,S,b)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(y8)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new zi(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new qs(i,[t],t.length);let r=new On;return r.append(t,0),r}fixCompositionDOM(e){let t=(s,l)=>{l.flags|=8|(l.children.some(f=>f.flags&7)?1:0),this.markedForComposition.add(l);let c=qt.get(s);c&&c!=l&&(c.dom=null),l.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],t(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(Ms)||this.dom.tabIndex>-1)&&Xh(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||s))return;let l=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,f=this.moveToLine(this.domAtPos(c.anchor)),h=c.empty?f:this.moveToLine(this.domAtPos(c.head));if(Ue.gecko&&c.empty&&!this.hasComposition&&wL(f)){let m=document.createTextNode("");this.view.observer.ignore(()=>f.node.insertBefore(m,f.node.childNodes[f.offset]||null)),f=h=new gr(m,0),l=!0}let d=this.view.observer.selectionRange;(l||!d.focusNode||(!m0(f.node,f.offset,d.anchorNode,d.anchorOffset)||!m0(h.node,h.offset,d.focusNode,d.focusOffset))&&!this.suppressWidgetCursorChange(d,c))&&(this.view.observer.ignore(()=>{Ue.android&&Ue.chrome&&this.dom.contains(d.focusNode)&&_L(d.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let m=R0(this.view.root);if(m)if(c.empty){if(Ue.gecko){let g=CL(f.node,f.offset);if(g&&g!=3){let x=(g==1?K3:Q3)(f.node,f.offset);x&&(f=new gr(x.node,x.offset))}}m.collapse(f.node,f.offset),c.bidiLevel!=null&&m.caretBidiLevel!==void 0&&(m.caretBidiLevel=c.bidiLevel)}else if(m.extend){m.collapse(f.node,f.offset);try{m.extend(h.node,h.offset)}catch{}}else{let g=document.createRange();c.anchor>c.head&&([f,h]=[h,f]),g.setEnd(h.node,h.offset),g.setStart(f.node,f.offset),m.removeAllRanges(),m.addRange(g)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(f,h)),this.impreciseAnchor=f.precise?null:new gr(d.anchorNode,d.anchorOffset),this.impreciseHead=h.precise?null:new gr(d.focusNode,d.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&m0(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=R0(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let l=On.find(this,t.head);if(!l)return;let c=l.posAtStart;if(t.head==c||t.head==c+l.length)return;let f=this.coordsAt(t.head,-1),h=this.coordsAt(t.head,1);if(!f||!h||f.bottom>h.top)return;let d=this.domAtPos(t.head+t.assoc);r.collapse(d.node,d.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=t.from&&r.collapse(i,s)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let i=e.offset;!r&&i<t.childNodes.length;i++){let s=qt.get(t.childNodes[i]);s instanceof On&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=qt.get(t.childNodes[i]);s instanceof On&&(r=s.domAtPos(s.length))}return r?new gr(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=qt.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof On)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let s=this.length,l=this.children.length-1;l>=0;l--){let c=this.children[l],f=s-c.breakAfter,h=f-c.length;if(f<e)break;if(h<=e&&(h<e||c.covers(-1))&&(f>e||c.covers(1))&&(!r||c instanceof On&&!(r instanceof On&&t>=0)))r=c,i=h;else if(r&&h==e&&f==e&&c instanceof zs&&Math.abs(t)<2){if(c.deco.startSide<0)break;l&&(r=null)}s=h}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof On))return null;for(;i.children.length;){let{i:c,off:f}=i.childPos(r,1);for(;;c++){if(c==i.children.length)return null;if((i=i.children[c]).length)break}r=f}if(!(i instanceof zi))return null;let s=cr(i.text,r);if(s==r)return null;let l=Al(i.dom,r,s).getClientRects();for(let c=0;c<l.length;c++){let f=l[c];if(c==l.length-1||f.top<f.bottom&&f.left<f.right)return f}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,f=this.view.textDirection==nn.LTR;for(let h=0,d=0;d<this.children.length;d++){let m=this.children[d],g=h+m.length;if(g>i)break;if(h>=r){let x=m.dom.getBoundingClientRect();if(t.push(x.height),l){let S=m.dom.lastChild,b=S?Uo(S):[];if(b.length){let w=b[b.length-1],A=f?w.right-x.left:x.right-w.left;A>c&&(c=A,this.minWidth=s,this.minWidthFrom=h,this.minWidthTo=g)}}}h=g+m.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?nn.RTL:nn.LTR}measureTextSize(){for(let s of this.children)if(s instanceof On){let l=s.measureTextSize();if(l)return l}let e=document.createElement("div"),t,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Uo(e.firstChild)[0];t=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Z3(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],l=s?s.from-1:this.length;if(l>r){let c=(t.lineBlockAt(l).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(et.replace({widget:new ix(c),block:!0,inclusive:!0,isBlockGap:!0}).range(r,l))}if(!s)break;r=s.to+1}return et.set(e)}updateDeco(){let e=1,t=this.view.state.facet(F0).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(S8).map((s,l)=>{let c=typeof s=="function";return c&&(r=!0),c?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(St.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(v8))try{if(h(this.view,e.range,e))return!0}catch(d){Hr(this.view.state,d,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=yv(this.view),l={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:c,offsetHeight:f}=this.view.scrollDOM;tL(this.view.scrollDOM,l,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,c),-c),Math.max(Math.min(e.yMargin,f),-f),this.view.textDirection==nn.LTR)}lineHasWidget(e){let{i:t}=this.childCursor().findPos(e);if(t==this.children.length)return!1;let r=i=>i instanceof Ls||i.children.some(r);return r(this.children[t])}}function wL(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function C8(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=K3(t.focusNode,t.focusOffset),i=Q3(t.focusNode,t.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let c=qt.get(i.node);if(!c||c instanceof zi&&c.text!=i.node.nodeValue)s=i;else if(n.docView.lastCompositionAfterCursor){let f=qt.get(r.node);!f||f instanceof zi&&f.text!=r.node.nodeValue||(s=i)}}if(n.docView.lastCompositionAfterCursor=s!=r,!s)return null;let l=e-s.offset;return{from:l,to:l+s.node.nodeValue.length,node:s.node}}function EL(n,e,t){let r=C8(n,t);if(!r)return null;let{node:i,from:s,to:l}=r,c=i.nodeValue;if(/[\n\r]/.test(c)||n.state.doc.sliceString(r.from,r.to)!=c)return null;let f=e.invertedDesc,h=new Ti(f.mapPos(s),f.mapPos(l),s,l),d=[];for(let m=i.parentNode;;m=m.parentNode){let g=qt.get(m);if(g instanceof qs)d.push({node:m,deco:g.mark});else{if(g instanceof On||m.nodeName=="DIV"&&m.parentNode==n.contentDOM)return{range:h,text:i,marks:d,line:m};if(m!=n.contentDOM)d.push({node:m,deco:new rf({inclusive:!0,attributes:fL(m),tagName:m.tagName.toLowerCase()})});else return null}}}function CL(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let AL=class{constructor(){this.changes=[]}compareRange(e,t){$h(e,t,this.changes)}comparePoint(e,t){$h(e,t,this.changes)}boundChange(e){$h(e,e,this.changes)}};function TL(n,e,t){let r=new AL;return St.compare(n,e,t,r),r.changes}function _L(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function DL(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}function kL(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),s=e-i.from;if(i.length==0)return De.cursor(e);s==0?t=1:s==i.length&&(t=-1);let l=s,c=s;t<0?l=cr(i.text,s,!1):c=cr(i.text,s);let f=r(i.text.slice(l,c));for(;l>0;){let h=cr(i.text,l,!1);if(r(i.text.slice(h,l))!=f)break;l=h}for(;c<i.length;){let h=cr(i.text,c);if(r(i.text.slice(c,h))!=f)break;c=h}return De.range(l+i.from,c+i.from)}function OL(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function BL(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function Jg(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function Iw(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function Pw(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function cx(n,e,t){let r,i,s,l,c=!1,f,h,d,m;for(let S=n.firstChild;S;S=S.nextSibling){let b=Uo(S);for(let w=0;w<b.length;w++){let A=b[w];i&&Jg(i,A)&&(A=Iw(Pw(A,i.bottom),i.top));let C=OL(e,A),E=BL(t,A);if(C==0&&E==0)return S.nodeType==3?Hw(S,e,t):cx(S,e,t);(!r||l>E||l==E&&s>C)&&(r=S,i=A,s=C,l=E,c=C?e<A.left?w>0:w<b.length-1:!0),C==0?t>A.bottom&&(!d||d.bottom<A.bottom)?(f=S,d=A):t<A.top&&(!m||m.top>A.top)&&(h=S,m=A):d&&Jg(d,A)?d=Pw(d,A.bottom):m&&Jg(m,A)&&(m=Iw(m,A.top))}}if(d&&d.bottom>=t?(r=f,i=d):m&&m.top<=t&&(r=h,i=m),!r)return{node:n,offset:0};let g=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return Hw(r,g,t);if(c&&r.contentEditable!="false")return cx(r,g,t);let x=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:x}}function Hw(n,e,t){let r=n.nodeValue.length,i=-1,s=1e9,l=0;for(let c=0;c<r;c++){let f=Al(n,c,c+1).getClientRects();for(let h=0;h<f.length;h++){let d=f[h];if(d.top==d.bottom)continue;l||(l=e-d.left);let m=(d.top>t?d.top-t:t-d.bottom)-1;if(d.left-1<=e&&d.right+1>=e&&m<s){let g=e>=(d.left+d.right)/2,x=g;if(Ue.chrome||Ue.gecko){let S=Al(n,c).getBoundingClientRect();Math.abs(S.left-d.right)<.1&&(x=!g)}if(m<=0)return{node:n,offset:c+(x?1:0)};i=c+(x?1:0),s=m}}}return{node:n,offset:i>-1?i:l>0?n.nodeValue.length:0}}function A8(n,e,t,r=-1){var i,s;let l=n.contentDOM.getBoundingClientRect(),c=l.top+n.viewState.paddingTop,f,{docHeight:h}=n.viewState,{x:d,y:m}=e,g=m-c;if(g<0)return 0;if(g>h)return n.state.doc.length;for(let D=n.viewState.heightOracle.textHeight/2,B=!1;f=n.elementAtHeight(g),f.type!=Tr.Text;)for(;g=r>0?f.bottom+D:f.top-D,!(g>=0&&g<=h);){if(B)return t?null:0;B=!0,r=-r}m=c+g;let x=f.from;if(x<n.viewport.from)return n.viewport.from==0?0:t?null:zw(n,l,f,d,m);if(x>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:zw(n,l,f,d,m);let S=n.dom.ownerDocument,b=n.root.elementFromPoint?n.root:S,w=b.elementFromPoint(d,m);w&&!n.contentDOM.contains(w)&&(w=null),w||(d=Math.max(l.left+1,Math.min(l.right-1,d)),w=b.elementFromPoint(d,m),w&&!n.contentDOM.contains(w)&&(w=null));let A,C=-1;if(w&&((i=n.docView.nearest(w))===null||i===void 0?void 0:i.isEditable)!=!1){if(S.caretPositionFromPoint){let D=S.caretPositionFromPoint(d,m);D&&({offsetNode:A,offset:C}=D)}else if(S.caretRangeFromPoint){let D=S.caretRangeFromPoint(d,m);D&&({startContainer:A,startOffset:C}=D)}A&&(!n.contentDOM.contains(A)||Ue.safari&&NL(A,C,d)||Ue.chrome&&RL(A,C,d))&&(A=void 0),A&&(C=Math.min(ds(A),C))}if(!A||!n.docView.dom.contains(A)){let D=On.find(n.docView,x);if(!D)return g>f.top+f.height/2?f.to:f.from;({node:A,offset:C}=cx(D.dom,d,m))}let E=n.docView.nearest(A);if(!E)return null;if(E.isWidget&&((s=E.dom)===null||s===void 0?void 0:s.nodeType)==1){let D=E.dom.getBoundingClientRect();return e.y<D.top||e.y<=D.bottom&&e.x<=(D.left+D.right)/2?E.posAtStart:E.posAtEnd}else return E.localPosFromDOM(A,C)+E.posAtStart}function zw(n,e,t,r,i){let s=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let c=n.viewState.heightOracle.textHeight,f=Math.floor((i-t.top-(n.defaultLineHeight-c)*.5)/c);s+=f*n.viewState.heightOracle.lineLength}let l=n.state.sliceDoc(t.from,t.to);return t.from+$1(l,s,n.state.tabSize)}function T8(n,e,t){let r,i=n;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(;;){let s=i.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let l=i.parentNode;if(!l||l.nodeName=="DIV")break;i=l}}return Al(n,r-1,r).getBoundingClientRect().right>t}function NL(n,e,t){return T8(n,e,t)}function RL(n,e,t){if(e!=0)return T8(n,e,t);for(let i=n;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=n.nodeType==1?n.getBoundingClientRect():Al(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function fx(n,e,t){let r=n.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let s of r.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==Tr.Text&&(i.type!=s.type||(t<0?s.from<e:s.to>e)))&&(i=s)}}return i||r}return r}function FL(n,e,t,r){let i=fx(n,e.head,e.assoc||-1),s=!r||i.type!=Tr.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let l=n.dom.getBoundingClientRect(),c=n.textDirectionAt(i.from),f=n.posAtCoords({x:t==(c==nn.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(f!=null)return De.cursor(f,t?-1:1)}return De.cursor(t?i.to:i.from,t?-1:1)}function jw(n,e,t,r){let i=n.state.doc.lineAt(e.head),s=n.bidiSpans(i),l=n.textDirectionAt(i.from);for(let c=e,f=null;;){let h=yL(i,s,l,c,t),d=c8;if(!h){if(i.number==(t?n.state.doc.lines:1))return c;d=`
`,i=n.state.doc.line(i.number+(t?1:-1)),s=n.bidiSpans(i),h=n.visualLineSide(i,!t)}if(f){if(!f(d))return c}else{if(!r)return h;f=r(d)}c=h}}function ML(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return s=>{let l=r(s);return i==fn.Space&&(i=l),i==l}}function LL(n,e,t,r){let i=e.head,s=t?1:-1;if(i==(t?n.state.doc.length:0))return De.cursor(i,e.assoc);let l=e.goalColumn,c,f=n.contentDOM.getBoundingClientRect(),h=n.coordsAtPos(i,e.assoc||-1),d=n.documentTop;if(h)l==null&&(l=h.left-f.left),c=s<0?h.top:h.bottom;else{let x=n.viewState.lineBlockAt(i);l==null&&(l=Math.min(f.right-f.left,n.defaultCharacterWidth*(i-x.from))),c=(s<0?x.top:x.bottom)+d}let m=f.left+l,g=r??n.viewState.heightOracle.textHeight>>1;for(let x=0;;x+=10){let S=c+(g+x)*s,b=A8(n,{x:m,y:S},!1,s);if(S<f.top||S>f.bottom||(s<0?b<i:b>i)){let w=n.docView.coordsForChar(b),A=!w||S<w.top?-1:1;return De.cursor(b,A,void 0,l)}}}function x0(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(s,l,c)=>{if(e>s&&e<l){let f=r||t||(e-s<l-e?-1:1);e=f<0?s:l,r=f}});if(!r)return e}}function _8(n,e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let l=x0(n,i.from,0);l!=i.from&&(s=De.cursor(l,-1))}else{let l=x0(n,i.from,-1),c=x0(n,i.to,1);(l!=i.from||c!=i.to)&&(s=De.range(i.from==i.anchor?l:c,i.from==i.head?l:c))}s&&(t||(t=e.ranges.slice()),t[r]=s)}return t?De.create(t,e.mainIndex):e}function e1(n,e,t){let r=x0(n.state.facet(af).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:De.cursor(r,r<t.from?1:-1)}const r0="";class IL{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(vt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=r0}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let l=i.nextSibling;if(l==t)break;let c=qt.get(i),f=qt.get(l);(c&&f?c.breakAfter:(c?c.breakAfter:bd(i))||bd(l)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&!HL(l,t)&&this.lineBreak(),i=l}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,l=1,c;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),l=this.lineSeparator.length):(c=i.exec(t))&&(s=c.index,l=c[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),l>1)for(let f of this.points)f.node==e&&f.pos>this.text.length&&(f.pos-=l-1);r=s+l}}readNode(e){if(e.cmIgnore)return;let t=qt.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(PL(e,r.node,r.offset)?t:0))}}function PL(n,e,t){for(;;){if(!e||t<ds(e))return!1;if(e==n)return!0;t=Cl(e)+1,e=e.parentNode}}function HL(n,e){let t;for(;!(n==e||!n);n=n.nextSibling){let r=qt.get(n);if(!(r?.isWidget||n.cmIgnore))return!1;r&&(t||(t=[])).push(r)}if(t)for(let r of t){let i=r.overrideDOMText;if(i?.length)return!1}return!0}class Uw{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class zL{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let c=s||l?[]:UL(e),f=new IL(c,e.state);f.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=f.text,this.newSel=VL(c,this.bounds.from)}else{let c=e.observer.selectionRange,f=s&&s.node==c.focusNode&&s.offset==c.focusOffset||!tx(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),h=l&&l.node==c.anchorNode&&l.offset==c.anchorOffset||!tx(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset),d=e.viewport;if((Ue.ios||Ue.chrome)&&e.state.selection.main.empty&&f!=h&&(d.from>0||d.to<e.state.doc.length)){let m=Math.min(f,h),g=Math.max(f,h),x=d.from-m,S=d.to-g;(x==0||x==1||m==0)&&(S==0||S==-1||g==e.state.doc.length)&&(f=0,h=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(De.range(h,f)):this.newSel=De.single(h,f)}}}function D8(n,e){let t,{newSel:r}=e,i=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:c}=e.bounds,f=i.from,h=null;(s===8||Ue.android&&e.text.length<c-l)&&(f=i.to,h="end");let d=k8(n.state.doc.sliceString(l,c,r0),e.text,f-l,h);d&&(Ue.chrome&&s==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==r0+r0&&d.toB--,t={from:l+d.from,to:l+d.toA,insert:wt.of(e.text.slice(d.from,d.toB).split(r0))})}else r&&(!n.hasFocus&&n.state.facet(Ms)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:(Ue.mac||Ue.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=De.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:wt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:n.state.doc.lineAt(i.from).to<i.to&&n.docView.lineHasWidget(i.to)&&n.inputState.insertingTextAt>Date.now()-50?t={from:i.from,to:i.to,insert:n.state.toText(n.inputState.insertingText)}:Ue.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=De.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:wt.of([" "])}),t)return bv(n,t,r,s);if(r&&!r.main.eq(i)){let l=!1,c="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(l=!0),c=n.inputState.lastSelectionOrigin,c=="select.pointer"&&(r=_8(n.state.facet(af).map(f=>f(n)),r))),n.dispatch({selection:r,scrollIntoView:l,userEvent:c}),!0}else return!1}function bv(n,e,t,r=-1){if(Ue.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(Ue.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Fo(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Fo(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Fo(n.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let l,c=()=>l||(l=jL(n,e,t));return n.state.facet(p8).some(f=>f(n,e.from,e.to,s,c))||n.dispatch(c()),!0}function jL(n,e,t){let r,i=n.state,s=i.selection.main,l=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let f=e.from<s.from?-1:1,h=f<0?s.from:s.to,d=x0(i.facet(af).map(m=>m(n)),h,f);e.from==d&&(l=d)}if(l>-1)r={changes:e,selection:De.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let f=s.from<e.from?i.sliceDoc(s.from,e.from):"",h=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(n.state.toText(f+e.insert.sliceString(0,void 0,n.state.lineBreak)+h))}else{let f=i.changes(e),h=t&&t.main.to<=f.newLength?t.main:void 0;if(i.selection.ranges.length>1&&(n.inputState.composing>=0||n.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let d=n.state.sliceDoc(e.from,e.to),m,g=t&&C8(n,t.main.head);if(g){let S=e.insert.length-(e.to-e.from);m={from:g.from,to:g.to-S}}else m=n.state.doc.lineAt(s.head);let x=s.to-e.to;r=i.changeByRange(S=>{if(S.from==s.from&&S.to==s.to)return{changes:f,range:h||S.map(f)};let b=S.to-x,w=b-d.length;if(n.state.sliceDoc(w,b)!=d||b>=m.from&&w<=m.to)return{range:S};let A=i.changes({from:w,to:b,insert:e.insert}),C=S.to-s.to;return{changes:A,range:h?De.range(Math.max(0,h.anchor+C),Math.max(0,h.head+C)):S.map(A)}})}else r={changes:f,selection:h&&i.selection.replaceRange(h)}}let c="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,c+=".compose",n.inputState.compositionFirstChange&&(c+=".start",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:c,scrollIntoView:!0})}function k8(n,e,t,r){let i=Math.min(n.length,e.length),s=0;for(;s<i&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&n.length==e.length)return null;let l=n.length,c=e.length;for(;l>0&&c>0&&n.charCodeAt(l-1)==e.charCodeAt(c-1);)l--,c--;if(r=="end"){let f=Math.max(0,s-Math.min(l,c));t-=l+f-s}if(l<s&&n.length<e.length){let f=t<=s&&t>=l?s-t:0;s-=f,c=s+(c-l),l=s}else if(c<s){let f=t<=s&&t>=c?s-t:0;s-=f,l=s+(l-c),c=s}return{from:s,toA:l,toB:c}}function UL(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new Uw(t,r)),(i!=t||s!=r)&&e.push(new Uw(i,s))),e}function VL(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?De.single(t+e,r+e):null}class qL{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Ue.safari&&e.contentDOM.addEventListener("input",()=>null),Ue.gecko&&aI(e.contentDOM.ownerDocument)}handleEvent(e){!ZL(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=WL(e),r=this.handlers,i=this.view.contentDOM;for(let s in t)if(s!="scroll"){let l=!t[s].handlers.length,c=r[s];c&&l!=!c.handlers.length&&(i.removeEventListener(s,this.handleEvent),c=null),c||i.addEventListener(s,this.handleEvent,{passive:l})}for(let s in r)s!="scroll"&&!t[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&B8.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Ue.android&&Ue.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return Ue.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=O8.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||GL.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Fo(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:Ue.safari&&!Ue.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Vw(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){Hr(t.state,i)}}}function WL(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec,s=i&&i.plugin.domEventHandlers,l=i&&i.plugin.domEventObservers;if(s)for(let c in s){let f=s[c];f&&t(c).handlers.push(Vw(r.value,f))}if(l)for(let c in l){let f=l[c];f&&t(c).observers.push(Vw(r.value,f))}}for(let r in ji)t(r).handlers.push(ji[r]);for(let r in Di)t(r).observers.push(Di[r]);return e}const O8=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],GL="dthko",B8=[16,17,18,20,91,92,224,225],zu=6;function ju(n){return Math.max(0,n)*.7+8}function XL(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class $L{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=nL(e.contentDOM),this.atoms=e.state.facet(af).map(l=>l(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(vt.allowMultipleSelections)&&YL(e,t),this.dragging=QL(e,t)&&F8(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&XL(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,s=0,l=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:c}=this.scrollParents.y.getBoundingClientRect());let f=yv(this.view);e.clientX-f.left<=i+zu?t=-ju(i-e.clientX):e.clientX+f.right>=l-zu&&(t=ju(e.clientX-l)),e.clientY-f.top<=s+zu?r=-ju(s-e.clientY):e.clientY+f.bottom>=c-zu&&(r=ju(e.clientY-c)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,r=_8(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function YL(n,e){let t=n.state.facet(f8);return t.length?t[0](e):Ue.mac?e.metaKey:e.ctrlKey}function KL(n,e){let t=n.state.facet(u8);return t.length?t[0](e):Ue.mac?!e.altKey:!e.ctrlKey}function QL(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=R0(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let l=i[s];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function ZL(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=qt.get(t))&&r.ignoreEvent(e))return!1;return!0}const ji=Object.create(null),Di=Object.create(null),N8=Ue.ie&&Ue.ie_version<15||Ue.ios&&Ue.webkit_version<604;function JL(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),R8(n,t.value)},50)}function cp(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function R8(n,e){e=cp(n.state,gv,e);let{state:t}=n,r,i=1,s=t.toText(e),l=s.lines==t.selection.ranges.length;if(ux!=null&&t.selection.ranges.every(f=>f.empty)&&ux==s.toString()){let f=-1;r=t.changeByRange(h=>{let d=t.doc.lineAt(h.from);if(d.from==f)return{range:h};f=d.from;let m=t.toText((l?s.line(i++).text:e)+t.lineBreak);return{changes:{from:d.from,insert:m},range:De.cursor(h.from+m.length)}})}else l?r=t.changeByRange(f=>{let h=s.line(i++);return{changes:{from:f.from,to:f.to,insert:h.text},range:De.cursor(f.from+h.length)}}):r=t.replaceSelection(s);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Di.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};ji.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Di.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Di.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};ji.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(h8))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=nI(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new $L(n,e,t,r)),r&&n.observer.ignore(()=>{X3(n.contentDOM);let s=n.root.activeElement;s&&!s.contains(n.contentDOM)&&s.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else n.inputState.setSelectionOrigin("select.pointer");return!1};function qw(n,e,t,r){if(r==1)return De.cursor(e,t);if(r==2)return kL(n.state,e,t);{let i=On.find(n.docView,e),s=n.state.doc.lineAt(i?i.posAtEnd:e),l=i?i.posAtStart:s.from,c=i?i.posAtEnd:s.to;return c<n.state.doc.length&&c==s.to&&c++,De.range(l,c)}}let Ww=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function eI(n,e,t,r){let i=On.find(n.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let l=i.coordsAt(s,-1);if(l&&Ww(t,r,l))return-1;let c=i.coordsAt(s,1);return c&&Ww(t,r,c)?1:l&&l.bottom>=r?-1:1}function Gw(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:eI(n,t,e.clientX,e.clientY)}}const tI=Ue.ie&&Ue.ie_version<=11;let Xw=null,$w=0,Yw=0;function F8(n){if(!tI)return n.detail;let e=Xw,t=Yw;return Xw=n,Yw=Date.now(),$w=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?($w+1)%3:1}function nI(n,e){let t=Gw(n,e),r=F8(e),i=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,l,c){let f=Gw(n,s),h,d=qw(n,f.pos,f.bias,r);if(t.pos!=f.pos&&!l){let m=qw(n,t.pos,t.bias,r),g=Math.min(m.from,d.from),x=Math.max(m.to,d.to);d=g<d.from?De.range(g,x):De.range(x,g)}return l?i.replaceRange(i.main.extend(d.from,d.to)):c&&r==1&&i.ranges.length>1&&(h=rI(i,f.pos))?h:c?i.addRange(d):De.create([d])}}}function rI(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return De.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}ji.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,l=s+i.length;(s>=t.to||l<=t.from)&&(t=De.range(s,l))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",cp(n.state,xv,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};ji.dragend=n=>(n.inputState.draggedContent=null,!1);function Kw(n,e,t,r){if(t=cp(n.state,gv,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,l=r&&s&&KL(n,e)?{from:s.from,to:s.to}:null,c={from:i,insert:t},f=n.state.changes(l?[l,c]:c);n.focus(),n.dispatch({changes:f,selection:{anchor:f.mapPos(i,-1),head:f.mapPos(i,1)},userEvent:l?"move.drop":"input.drop"}),n.inputState.draggedContent=null}ji.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,s=()=>{++i==t.length&&Kw(n,e,r.filter(l=>l!=null).join(n.state.lineBreak),!1)};for(let l=0;l<t.length;l++){let c=new FileReader;c.onerror=s,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(r[l]=c.result),s()},c.readAsText(t[l])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return Kw(n,e,r,!0),!0}return!1};ji.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=N8?null:e.clipboardData;return t?(R8(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(JL(n),!1)};function iI(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function sI(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of n.selection.ranges){let l=n.doc.lineAt(s);l.number>i&&(e.push(l.text),t.push({from:l.from,to:Math.min(n.doc.length,l.to+1)})),i=l.number}r=!0}return{text:cp(n,xv,e.join(n.lineBreak)),ranges:t,linewise:r}}let ux=null;ji.copy=ji.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=sI(n.state);if(!t&&!i)return!1;ux=i?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=N8?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(iI(n,t),!1)};const M8=ps.define();function L8(n,e){let t=[];for(let r of n.facet(m8)){let i=r(n,e);i&&t.push(i)}return t.length?n.update({effects:t,annotations:M8.of(!0)}):null}function I8(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=L8(n.state,e);t?n.dispatch(t):n.update([])}},10)}Di.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),I8(n)};Di.blur=n=>{n.observer.clearSelectionRange(),I8(n)};Di.compositionstart=Di.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Di.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,Ue.chrome&&Ue.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Di.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};ji.beforeinput=(n,e)=>{var t,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(n.inputState.insertingText=e.data,n.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&n.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),l=e.getTargetRanges();if(s&&l.length){let c=l[0],f=n.posAtDOM(c.startContainer,c.startOffset),h=n.posAtDOM(c.endContainer,c.endOffset);return bv(n,{from:f,to:h,insert:n.state.toText(s)},null),!0}}let i;if(Ue.chrome&&Ue.android&&(i=O8.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return Ue.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),Ue.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Di.compositionend(n,e),20),!1};const Qw=new Set;function aI(n){Qw.has(n)||(Qw.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const Zw=["pre-wrap","normal","pre-line","break-spaces"];let Wo=!1;function Jw(){Wo=!1}class lI{constructor(e){this.lineWrapping=e,this.doc=wt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Zw.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,s,l){let c=Zw.indexOf(e)>-1,f=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=s,f){this.heightSamples={};for(let h=0;h<l.length;h++){let d=l[h];d<0?h++:this.heightSamples[Math.floor(d*10)]=!0}}return f}}class oI{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class os{constructor(e,t,r,i,s){this.from=e,this.length=t,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Tr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ma?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new os(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var tn=(function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n})(tn||(tn={}));const Yh=.001;class _r{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Yh&&(Wo=!0),this.height=e)}replace(e,t,r){return _r.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let s=this,l=r.doc;for(let c=i.length-1;c>=0;c--){let{fromA:f,toA:h,fromB:d,toB:m}=i[c],g=s.lineAt(f,tn.ByPosNoHeight,r.setDoc(t),0,0),x=g.to>=h?g:s.lineAt(h,tn.ByPosNoHeight,r,0,0);for(m+=x.to-h,h=x.to;c>0&&g.from<=i[c-1].toA;)f=i[c-1].fromA,d=i[c-1].fromB,c--,f<g.from&&(g=s.lineAt(f,tn.ByPosNoHeight,r,0,0));d+=g.from-f,f=g.from;let S=Sv.build(r.setDoc(l),e,d,m);s=Ed(s,s.replace(f,h,S))}return s.updateHeight(r,0)}static empty(){return new ni(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,s=0;for(;;)if(t==r)if(i>s*2){let c=e[t-1];c.break?e.splice(--t,1,c.left,null,c.right):e.splice(--t,1,c.left,c.right),r+=1+c.break,i-=c.size}else if(s>i*2){let c=e[r];c.break?e.splice(r,1,c.left,null,c.right):e.splice(r,1,c.left,c.right),r+=2+c.break,s-=c.size}else break;else if(i<s){let c=e[t++];c&&(i+=c.size)}else{let c=e[--r];c&&(s+=c.size)}let l=0;return e[t-1]==null?(l=1,t--):e[t]==null&&(l=1,r++),new cI(_r.of(e.slice(0,t)),l,_r.of(e.slice(r)))}}function Ed(n,e){return n==e?n:(n.constructor!=e.constructor&&(Wo=!0),e)}_r.prototype.size=1;class P8 extends _r{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new os(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,t,r,i,s,l){e<=s+this.length&&t>=s&&l(this.blockAt(0,r,i,s))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ni extends P8{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new os(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof ni||i instanceof ir&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof ir?i=new ni(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):_r.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ir extends _r{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-r+1,l,c=0;if(e.lineWrapping){let f=Math.min(this.height,e.lineHeight*s);l=f/s,this.length>s+1&&(c=(this.height-f)/(this.length-s-1))}else l=this.height/s;return{firstLine:r,lastLine:i,perLine:l,perChar:c}}blockAt(e,t,r,i){let{firstLine:s,lastLine:l,perLine:c,perChar:f}=this.heightMetrics(t,i);if(t.lineWrapping){let h=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),d=t.doc.lineAt(h),m=c+d.length*f,g=Math.max(r,e-m/2);return new os(d.from,d.length,g,m,0)}else{let h=Math.max(0,Math.min(l-s,Math.floor((e-r)/c))),{from:d,length:m}=t.doc.line(s+h);return new os(d,m,r+c*h,c,0)}}lineAt(e,t,r,i,s){if(t==tn.ByHeight)return this.blockAt(e,r,i,s);if(t==tn.ByPosNoHeight){let{from:x,to:S}=r.doc.lineAt(e);return new os(x,S-x,0,0,0)}let{firstLine:l,perLine:c,perChar:f}=this.heightMetrics(r,s),h=r.doc.lineAt(e),d=c+h.length*f,m=h.number-l,g=i+c*m+f*(h.from-s-m);return new os(h.from,h.length,Math.max(i,Math.min(g,i+this.height-d)),d,0)}forEachLine(e,t,r,i,s,l){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:c,perLine:f,perChar:h}=this.heightMetrics(r,s);for(let d=e,m=i;d<=t;){let g=r.doc.lineAt(d);if(d==e){let S=g.number-c;m+=f*S+h*(e-s-S)}let x=f+h*g.length;l(new os(g.from,g.length,m,x,0)),m+=x,d=g.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let s=r[r.length-1];s instanceof ir?r[r.length-1]=new ir(s.length+i):r.push(null,new ir(i-1))}if(e>0){let s=r[0];s instanceof ir?r[0]=new ir(e+s.length):r.unshift(new ir(e-1),null)}return _r.of(r)}decomposeLeft(e,t){t.push(new ir(e-1),null)}decomposeRight(e,t){t.push(null,new ir(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let l=[],c=Math.max(t,i.from),f=-1;for(i.from>t&&l.push(new ir(i.from-t-1).updateHeight(e,t));c<=s&&i.more;){let d=e.doc.lineAt(c).length;l.length&&l.push(null);let m=i.heights[i.index++];f==-1?f=m:Math.abs(m-f)>=Yh&&(f=-2);let g=new ni(d,m);g.outdated=!1,l.push(g),c+=d+1}c<=s&&l.push(null,new ir(s-c).updateHeight(e,c));let h=_r.of(l);return(f<0||Math.abs(h.height-this.height)>=Yh||Math.abs(f-this.heightMetrics(e,t).perLine)>=Yh)&&(Wo=!0),Ed(this,h)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class cI extends _r{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,r,i,s){let l=i+this.left.height,c=s+this.left.length+this.break,f=t==tn.ByHeight?e<l:e<c,h=f?this.left.lineAt(e,t,r,i,s):this.right.lineAt(e,t,r,l,c);if(this.break||(f?h.to<c:h.from>c))return h;let d=t==tn.ByPosNoHeight?tn.ByPosNoHeight:tn.ByPos;return f?h.join(this.right.lineAt(c,d,r,l,c)):this.left.lineAt(c,d,r,i,s).join(h)}forEachLine(e,t,r,i,s,l){let c=i+this.left.height,f=s+this.left.length+this.break;if(this.break)e<f&&this.left.forEachLine(e,t,r,i,s,l),t>=f&&this.right.forEachLine(e,t,r,c,f,l);else{let h=this.lineAt(f,tn.ByPos,r,i,s);e<h.from&&this.left.forEachLine(e,h.from-1,r,i,s,l),h.to>=e&&h.from<=t&&l(h),t>h.to&&this.right.forEachLine(h.to+1,t,r,c,f,l)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let l=s.length;for(let c of r)s.push(c);if(e>0&&eE(s,l-1),t<this.length){let c=s.length;this.decomposeRight(t,s),eE(s,c)}return _r.of(s)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?_r.of(this.break?[e,null,t]:[e,t]):(this.left=Ed(this.left,e),this.right=Ed(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:s,right:l}=this,c=t+s.length+this.break,f=null;return i&&i.from<=t+s.length&&i.more?f=s=s.updateHeight(e,t,r,i):s.updateHeight(e,t,r),i&&i.from<=c+l.length&&i.more?f=l=l.updateHeight(e,c,r,i):l.updateHeight(e,c,r),f?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function eE(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof ir&&(r=n[e+1])instanceof ir&&n.splice(e-1,3,new ir(t.length+1+r.length))}const fI=5;class Sv{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof ni?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new ni(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let l=t-e;r.block?this.addBlock(new P8(l,i,r)):(l||s||i>=fI)&&this.addLineDeco(i,s,l)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ni(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new ir(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ni)return e;let t=new ni(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof ni)&&!this.isCovered?this.nodes.push(new ni(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof ni&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let s=new Sv(r,e);return St.spans(t,r,i,s,0),s.finish(r)}}function uI(n,e,t){let r=new hI;return St.compare(n,e,t,r,0),r.changes}class hI{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&$h(e,t,this.changes,5)}}function dI(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,s=Math.max(0,t.left),l=Math.min(i.innerWidth,t.right),c=Math.max(0,t.top),f=Math.min(i.innerHeight,t.bottom);for(let h=n.parentNode;h&&h!=r.body;)if(h.nodeType==1){let d=h,m=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&m.overflow!="visible"){let g=d.getBoundingClientRect();s=Math.max(s,g.left),l=Math.min(l,g.right),c=Math.max(c,g.top),f=Math.min(h==n.parentNode?i.innerHeight:f,g.bottom)}h=m.position=="absolute"||m.position=="fixed"?d.offsetParent:d.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:s-t.left,right:Math.max(s,l)-t.left,top:c-(t.top+e),bottom:Math.max(c,f)-(t.top+e)}}function pI(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function mI(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class t1{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,t){return et.replace({widget:new gI(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class gI extends Xs{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class tE{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=nE,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=nn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(vv).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new lI(t),this.stateDeco=e.facet(F0).filter(r=>typeof r!="function"),this.heightMap=_r.empty().applyChanges(this.stateDeco,wt.empty,this.heightOracle.setDoc(e.doc),[new Ti(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=et.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:s,to:l})=>i>=s&&i<=l)){let{from:s,to:l}=this.lineBlockAt(i);e.push(new Uu(s,l))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?nE:new wv(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(i0(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(F0).filter(d=>typeof d!="function");let i=e.changedRanges,s=Ti.extendWithRanges(i,uI(r,this.stateDeco,e?e.changes:In.empty(this.state.doc.length))),l=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Jw(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=l||Wo)&&(e.flags|=2),c?(this.scrollAnchorPos=e.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=l);let f=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<f.from||t.range.head>f.to)||!this.viewportIsAppropriate(f))&&(f=this.getViewport(0,t));let h=f.from!=this.viewport.from||f.to!=this.viewport.to;this.viewport=f,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(x8)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?nn.RTL:nn.LTR;let l=this.heightOracle.mustRefreshForWrapping(s),c=t.getBoundingClientRect(),f=l||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let h=0,d=0;if(c.width&&c.height){let{scaleX:D,scaleY:B}=G3(t,c);(D>.005&&Math.abs(this.scaleX-D)>.005||B>.005&&Math.abs(this.scaleY-B)>.005)&&(this.scaleX=D,this.scaleY=B,h|=16,l=f=!0)}let m=(parseInt(r.paddingTop)||0)*this.scaleY,g=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=g)&&(this.paddingTop=m,this.paddingBottom=g,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(f=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let x=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=x&&(this.scrollAnchorHeight=-1,this.scrollTop=x),this.scrolledToBottom=Y3(e.scrollDOM);let S=(this.printing?mI:dI)(t,this.paddingTop),b=S.top-this.pixelViewport.top,w=S.bottom-this.pixelViewport.bottom;this.pixelViewport=S;let A=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(A!=this.inView&&(this.inView=A,A&&(f=!0)),!this.inView&&!this.scrollTarget&&!pI(e.dom))return 0;let C=c.width;if((this.contentDOMWidth!=C||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),f){let D=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(D)&&(l=!0),l||i.lineWrapping&&Math.abs(C-this.contentDOMWidth)>i.charWidth){let{lineHeight:B,charWidth:N,textHeight:k}=e.docView.measureTextSize();l=B>0&&i.refresh(s,B,N,k,Math.max(5,C/N),D),l&&(e.docView.minWidth=0,h|=16)}b>0&&w>0?d=Math.max(b,w):b<0&&w<0&&(d=Math.min(b,w)),Jw();for(let B of this.viewports){let N=B.from==this.viewport.from?D:e.docView.measureVisibleLineHeights(B);this.heightMap=(l?_r.empty().applyChanges(this.stateDeco,wt.empty,this.heightOracle,[new Ti(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,l,new oI(B.from,N))}Wo&&(h|=2)}let E=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return E&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),h|=this.updateForViewport()),(h&2||E)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:l,visibleBottom:c}=this,f=new Uu(i.lineAt(l-r*1e3,tn.ByHeight,s,0,0).from,i.lineAt(c+(1-r)*1e3,tn.ByHeight,s,0,0).to);if(t){let{head:h}=t.range;if(h<f.from||h>f.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=i.lineAt(h,tn.ByPos,s,0,0),g;t.y=="center"?g=(m.top+m.bottom)/2-d/2:t.y=="start"||t.y=="nearest"&&h<f.from?g=m.top:g=m.bottom-d,f=new Uu(i.lineAt(g-1e3/2,tn.ByHeight,s,0,0).from,i.lineAt(g+d+1e3/2,tn.ByHeight,s,0,0).to)}}return f}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new Uu(this.heightMap.lineAt(r,tn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,tn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,tn.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,tn.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:c}=this;return(e==0||i<=l-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||s>=c+Math.max(10,Math.min(r,250)))&&i>l-2*1e3&&s<c+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new t1(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,l=i<<1;if(this.defaultTextDirection!=nn.LTR&&!r)return[];let c=[],f=(d,m,g,x)=>{if(m-d<s)return;let S=this.state.selection.main,b=[S.from];S.empty||b.push(S.to);for(let A of b)if(A>d&&A<m){f(d,A-10,g,x),f(A+10,m,g,x);return}let w=vI(e,A=>A.from>=g.from&&A.to<=g.to&&Math.abs(A.from-d)<s&&Math.abs(A.to-m)<s&&!b.some(C=>A.from<C&&A.to>C));if(!w){if(m<g.to&&t&&r&&t.visibleRanges.some(E=>E.from<=m&&E.to>=m)){let E=t.moveToLineBoundary(De.cursor(m),!1,!0).head;E>d&&(m=E)}let A=this.gapSize(g,d,m,x),C=r||A<2e6?A:2e6;w=new t1(d,m,A,C)}c.push(w)},h=d=>{if(d.length<l||d.type!=Tr.Text)return;let m=xI(d.from,d.to,this.stateDeco);if(m.total<l)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,x,S;if(r){let b=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,A;if(g!=null){let C=qu(m,g),E=((this.visibleBottom-this.visibleTop)/2+b)/d.height;w=C-E,A=C+E}else w=(this.visibleTop-d.top-b)/d.height,A=(this.visibleBottom-d.top+b)/d.height;x=Vu(m,w),S=Vu(m,A)}else{let b=m.total*this.heightOracle.charWidth,w=i*this.heightOracle.charWidth,A=0;if(b>2e6)for(let N of e)N.from>=d.from&&N.from<d.to&&N.size!=N.displaySize&&N.from*this.heightOracle.charWidth+A<this.pixelViewport.left&&(A=N.size-N.displaySize);let C=this.pixelViewport.left+A,E=this.pixelViewport.right+A,D,B;if(g!=null){let N=qu(m,g),k=((E-C)/2+w)/b;D=N-k,B=N+k}else D=(C-w)/b,B=(E+w)/b;x=Vu(m,D),S=Vu(m,B)}x>d.from&&f(d.from,x,d,m),S<d.to&&f(S,d.to,d,m)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(h):h(d);return c}gapSize(e,t,r,i){let s=qu(i,r)-qu(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){t1.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=et.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];St.spans(t,this.viewport.from,this.viewport.to,{span(s,l){r.push({from:s,to:l})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let l=this.visibleRanges[s],c=r[s];(l.from!=c.from||l.to!=c.to)&&(i|=4,e&&e.mapPos(l.from,-1)==c.from&&e.mapPos(l.to,1)==c.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||i0(this.heightMap.lineAt(e,tn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||i0(this.heightMap.lineAt(this.scaler.fromDOM(e),tn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return i0(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Uu{constructor(e,t){this.from=e,this.to=t}}function xI(n,e,t){let r=[],i=n,s=0;return St.spans(t,n,e,{span(){},point(l,c){l>i&&(r.push({from:i,to:l}),s+=l-i),i=c}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function Vu({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:s,to:l}=e[i],c=l-s;if(r<=c)return s+r;r-=c}}function qu(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function vI(n,e){for(let t of n)if(e(t))return t}const nE={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class wv{constructor(e,t,r){let i=0,s=0,l=0;this.viewports=r.map(({from:c,to:f})=>{let h=t.lineAt(c,tn.ByPos,e,0,0).top,d=t.lineAt(f,tn.ByPos,e,0,0).bottom;return i+=d-h,{from:c,to:f,top:h,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let c of this.viewports)c.domTop=l+(c.top-s)*this.scale,l=c.domBottom=c.domTop+(c.bottom-c.top),s=c.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof wv?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function i0(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new os(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>i0(i,e)):n._content)}const Wu=We.define({combine:n=>n.join(" ")}),hx=We.define({combine:n=>n.indexOf(!0)>-1}),dx=Ra.newName(),H8=Ra.newName(),z8=Ra.newName(),j8={"&light":"."+H8,"&dark":"."+z8};function px(n,e,t){return new Ra(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r}})}const yI=px("."+dx,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},j8),bI={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},n1=Ue.ie&&Ue.ie_version<=11;class SI{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new rL,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(Ue.ie&&Ue.ie_version<=11||Ue.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Ue.android&&e.constructor.EDIT_CONTEXT!==!1&&!(Ue.chrome&&Ue.chrome_version<126)&&(this.editContext=new EI(e),e.state.facet(Ms)&&(e.contentDOM.editContext=this.editContext.editContext)),n1&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Ms)?r.root.activeElement!=this.dom:!Xh(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Ue.ie&&Ue.ie_version<=11||Ue.android&&Ue.chrome)&&!r.state.selection.main.empty&&i.focusNode&&m0(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=R0(e.root);if(!t)return!1;let r=Ue.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&wI(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=Xh(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&sL(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,bI),n1&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),n1&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Fo(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let s of e){let l=this.readMutation(s);l&&(l.typeOver&&(i=!0),t==-1?{from:t,to:r}=l:(t=Math.min(l.from,t),r=Math.max(l.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Xh(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new zL(this.view,e,t,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=D8(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=rE(t,e.previousSibling||e.target.previousSibling,-1),i=rE(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Ms)!=e.state.facet(Ms)&&(e.view.contentDOM.editContext=e.state.facet(Ms)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function rE(n,e,t){for(;e;){let r=qt.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function iE(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor);return m0(l.node,l.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function wI(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return iE(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?iE(n,t):null}class EI{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:l}=i,c=this.toEditorPos(r.updateRangeStart),f=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:c,drifted:!1});let h=f-c>r.text.length;c==this.from&&s<this.from?c=s:f==this.to&&s>this.to&&(f=s);let d=k8(e.state.sliceDoc(c,f),r.text,(h?i.from:i.to)-c,h?"end":null);if(!d){let g=De.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));g.main.eq(i)||e.dispatch({selection:g,userEvent:"select"});return}let m={from:d.from+c,to:d.toA+c,insert:wt.of(r.text.slice(d.from,d.toB).split(`
`))};if((Ue.mac||Ue.android)&&m.from==l-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:c,to:f,insert:wt.of([r.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let g=this.to-this.from+(m.to-m.from+m.insert.length);bv(e,m,De.single(this.toEditorPos(r.selectionStart,g),this.toEditorPos(r.selectionEnd,g)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(t.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let l=this.toEditorPos(r.rangeStart),c=this.toEditorPos(r.rangeEnd);l<c;l++){let f=e.coordsForChar(l);s=f&&new DOMRect(f.left,f.top,f.right-f.left,f.bottom-f.top)||s||new DOMRect,i.push(s)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let l=s.underlineStyle,c=s.underlineThickness;if(!/none/i.test(l)&&!/none/i.test(c)){let f=this.toEditorPos(s.rangeStart),h=this.toEditorPos(s.rangeEnd);if(f<h){let d=`text-decoration: underline ${/^[a-z]/.test(l)?l+" ":l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${/thin/i.test(c)?1:2}px`;i.push(et.mark({attributes:{style:d}}).range(f,h))}}}e.dispatch({effects:y8.of(et.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=R0(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,l,c,f,h)=>{if(r)return;let d=h.length-(l-s);if(i&&l>=i.to)if(i.from==s&&i.to==l&&i.insert.eq(h)){i=this.pendingContextChange=null,t+=d,this.to+=d;return}else i=null,this.revertPending(e.state);if(s+=t,l+=t,l<=this.from)this.from+=d,this.to+=d;else if(s<this.to){if(s<this.from||l>this.to||this.to-this.from+h.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(l),h.toString()),this.to+=d}t+=d}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Ve{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||iL(e.parent)||document,this.viewState=new tE(e.state||vt.create(e)),e.scrollTo&&e.scrollTo.is(Hu)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Co).map(i=>new Zg(i));for(let i of this.plugins)i.update(this);this.observer=new SI(this),this.inputState=new qL(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Lw(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Hn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,i,s=this.state;for(let g of e){if(g.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=g.state}if(this.destroyed){this.viewState.state=s;return}let l=this.hasFocus,c=0,f=null;e.some(g=>g.annotation(M8))?(this.inputState.notifiedFocused=l,c=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,f=L8(s,l),f||(c=1));let h=this.observer.delayedAndroidKey,d=null;if(h?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(d=null)):this.observer.clear(),s.facet(vt.phrases)!=this.state.facet(vt.phrases))return this.setState(s);i=wd.create(this,s,e),i.flags|=c;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(m&&(m=m.map(g.changes)),g.scrollIntoView){let{main:x}=g.state.selection;m=new Mo(x.empty?x:De.cursor(x.head,x.head>x.anchor?-1:1))}for(let x of g.effects)x.is(Hu)&&(m=x.value.clip(this.state))}this.viewState.update(i,m),this.bidiCache=Cd.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(n0)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Wu)!=i.state.facet(Wu)&&(this.viewState.mustMeasureContent=!0),(t||r||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let g of this.state.facet(ox))try{g(i)}catch(x){Hr(this.state,x,"update listener")}(f||d)&&Promise.resolve().then(()=>{f&&this.state==f.startState&&this.dispatch(f),d&&!D8(this,d)&&h.force&&Fo(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new tE(e),this.plugins=e.facet(Co).map(r=>new Zg(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new Lw(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Co),r=e.state.facet(Co);if(t!=r){let i=[];for(let s of r){let l=t.indexOf(s);if(l<0)i.push(new Zg(s));else{let c=this.plugins[l];c.mustUpdate=e,i.push(c)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){Hr(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:l}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(l<0)if(Y3(r))s=-1,l=this.viewState.heightMap.height;else{let x=this.viewState.scrollAnchorAt(i);s=x.from,l=x.top}this.updateState=1;let f=this.viewState.measure(this);if(!f&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];f&4||([this.measureRequests,h]=[h,this.measureRequests]);let d=h.map(x=>{try{return x.read(this)}catch(S){return Hr(this.state,S),sE}}),m=wd.create(this,this.state,[]),g=!1;m.flags|=f,t?t.flags|=f:t=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),g=this.docView.update(m),g&&this.docViewUpdate());for(let x=0;x<h.length;x++)if(d[x]!=sE)try{let S=h[x];S.write&&S.write(d[x],this)}catch(S){Hr(this.state,S)}if(g&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let S=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-l;if(S>1||S<-1){i=i+S,r.scrollTop=i/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let c of this.state.facet(ox))c(t)}get themeClasses(){return dx+" "+(this.state.facet(hx)?z8:H8)+" "+this.state.facet(Wu)}updateAttrs(){let e=aE(this,b8,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Ms)?"true":"false",class:"cm-content",style:`${Ue.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),aE(this,vv,t);let r=this.observer.ignore(()=>{let i=rx(this.contentDOM,this.contentAttrs,t),s=rx(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(Ve.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(n0);let e=this.state.facet(Ve.cspNonce);Ra.mount(this.root,this.styleModules.concat(yI).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return e1(this,e,jw(this,e,t,r))}moveByGroup(e,t){return e1(this,e,jw(this,e,t,r=>ML(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[t?r.length-1:0];return De.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return FL(this,e,t,r)}moveVertically(e,t,r){return e1(this,e,LL(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),A8(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),l=s[_a.find(s,e-i.from,-1,t)];return nf(r,l.dir==nn.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(g8)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>CI)return o8(e.length);let t=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||l8(s.isolates,r=Mw(this,e))))return s.order;r||(r=Mw(this,e));let i=vL(e.text,t,r);return this.bidiCache.push(new Cd(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Ue.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{X3(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Hu.of(new Mo(typeof e=="number"?De.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Hu.of(new Mo(De.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Sn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Sn.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=Ra.newName(),i=[Wu.of(r),n0.of(px(`.${r}`,e))];return t&&t.dark&&i.push(hx.of(!0)),i}static baseTheme(e){return Ml.lowest(n0.of(px("."+dx,e,j8)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&qt.get(r)||qt.get(e);return((t=i?.rootView)===null||t===void 0?void 0:t.view)||null}}Ve.styleModule=n0;Ve.inputHandler=p8;Ve.clipboardInputFilter=gv;Ve.clipboardOutputFilter=xv;Ve.scrollHandler=v8;Ve.focusChangeEffect=m8;Ve.perLineTextDirection=g8;Ve.exceptionSink=d8;Ve.updateListener=ox;Ve.editable=Ms;Ve.mouseSelectionStyle=h8;Ve.dragMovesSelection=u8;Ve.clickAddsSelectionRange=f8;Ve.decorations=F0;Ve.outerDecorations=S8;Ve.atomicRanges=af;Ve.bidiIsolatedRanges=w8;Ve.scrollMargins=E8;Ve.darkTheme=hx;Ve.cspNonce=We.define({combine:n=>n.length?n[0]:""});Ve.contentAttributes=vv;Ve.editorAttributes=b8;Ve.lineWrapping=Ve.contentAttributes.of({class:"cm-lineWrapping"});Ve.announce=lt.define();const CI=4096,sE={};class Cd{constructor(e,t,r,i,s,l){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=s,this.order=l}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:nn.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let l=e[s];l.dir==i&&!t.touchesRange(l.from,l.to)&&r.push(new Cd(t.mapPos(l.from,1),t.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return r}}function aE(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],l=typeof s=="function"?s(n):s;l&&nx(l,t)}return t}const AI=Ue.mac?"mac":Ue.windows?"win":Ue.linux?"linux":"key";function TI(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let i,s,l,c;for(let f=0;f<t.length-1;++f){const h=t[f];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))i=!0;else if(/^(c|ctrl|control)$/i.test(h))s=!0;else if(/^s(hift)?$/i.test(h))l=!0;else if(/^mod$/i.test(h))e=="mac"?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),c&&(r="Meta-"+r),l&&(r="Shift-"+r),r}function Gu(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const _I=Ml.default(Ve.domEventHandlers({keydown(n,e){return V8(U8(e.state),n,e,"editor")}})),fp=We.define({enables:_I}),lE=new WeakMap;function U8(n){let e=n.facet(fp),t=lE.get(e);return t||lE.set(e,t=OI(e.reduce((r,i)=>r.concat(i),[]))),t}function DI(n,e,t){return V8(U8(n.state),e,n,t)}let Ea=null;const kI=4e3;function OI(n,e=AI){let t=Object.create(null),r=Object.create(null),i=(l,c)=>{let f=r[l];if(f==null)r[l]=c;else if(f!=c)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},s=(l,c,f,h,d)=>{var m,g;let x=t[l]||(t[l]=Object.create(null)),S=c.split(/ (?!$)/).map(A=>TI(A,e));for(let A=1;A<S.length;A++){let C=S.slice(0,A).join(" ");i(C,!0),x[C]||(x[C]={preventDefault:!0,stopPropagation:!1,run:[E=>{let D=Ea={view:E,prefix:C,scope:l};return setTimeout(()=>{Ea==D&&(Ea=null)},kI),!0}]})}let b=S.join(" ");i(b,!1);let w=x[b]||(x[b]={preventDefault:!1,stopPropagation:!1,run:((g=(m=x._any)===null||m===void 0?void 0:m.run)===null||g===void 0?void 0:g.slice())||[]});f&&w.run.push(f),h&&(w.preventDefault=!0),d&&(w.stopPropagation=!0)};for(let l of n){let c=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let h of c){let d=t[h]||(t[h]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=l;for(let g in d)d[g].run.push(x=>m(x,mx))}let f=l[e]||l.key;if(f)for(let h of c)s(h,f,l.run,l.preventDefault,l.stopPropagation),l.shift&&s(h,"Shift-"+f,l.shift,l.preventDefault,l.stopPropagation)}return t}let mx=null;function V8(n,e,t,r){mx=e;let i=ZM(e),s=Ir(i,0),l=ls(s)==i.length&&i!=" ",c="",f=!1,h=!1,d=!1;Ea&&Ea.view==t&&Ea.scope==r&&(c=Ea.prefix+" ",B8.indexOf(e.keyCode)<0&&(h=!0,Ea=null));let m=new Set,g=w=>{if(w){for(let A of w.run)if(!m.has(A)&&(m.add(A),A(t)))return w.stopPropagation&&(d=!0),!0;w.preventDefault&&(w.stopPropagation&&(d=!0),h=!0)}return!1},x=n[r],S,b;return x&&(g(x[c+Gu(i,e,!l)])?f=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ue.windows&&e.ctrlKey&&e.altKey)&&!(Ue.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(S=Fa[e.keyCode])&&S!=i?(g(x[c+Gu(S,e,!0)])||e.shiftKey&&(b=N0[e.keyCode])!=i&&b!=S&&g(x[c+Gu(b,e,!1)]))&&(f=!0):l&&e.shiftKey&&g(x[c+Gu(i,e,!0)])&&(f=!0),!f&&g(x._any)&&(f=!0)),h&&(f=!0),f&&d&&e.stopPropagation(),mx=null,f}class lf{constructor(e,t,r,i,s){this.className=e,this.left=t,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=q8(e);return[new lf(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return BI(e,t,r)}}function q8(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==nn.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function oE(n,e,t,r){let i=n.coordsAtPos(e,t*2);if(!i)return r;let s=n.dom.getBoundingClientRect(),l=(i.top+i.bottom)/2,c=n.posAtCoords({x:s.left+1,y:l}),f=n.posAtCoords({x:s.right-1,y:l});return c==null||f==null?r:{from:Math.max(r.from,Math.min(c,f)),to:Math.min(r.to,Math.max(c,f))}}function BI(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),s=n.textDirection==nn.LTR,l=n.contentDOM,c=l.getBoundingClientRect(),f=q8(n),h=l.querySelector(".cm-line"),d=h&&window.getComputedStyle(h),m=c.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),g=c.right-(d?parseInt(d.paddingRight):0),x=fx(n,r,1),S=fx(n,i,-1),b=x.type==Tr.Text?x:null,w=S.type==Tr.Text?S:null;if(b&&(n.lineWrapping||x.widgetLineBreaks)&&(b=oE(n,r,1,b)),w&&(n.lineWrapping||S.widgetLineBreaks)&&(w=oE(n,i,-1,w)),b&&w&&b.from==w.from&&b.to==w.to)return C(E(t.from,t.to,b));{let B=b?E(t.from,null,b):D(x,!1),N=w?E(null,t.to,w):D(S,!0),k=[];return(b||x).to<(w||S).from-(b&&w?1:0)||x.widgetLineBreaks>1&&B.bottom+n.defaultLineHeight/2<N.top?k.push(A(m,B.bottom,g,N.top)):B.bottom<N.top&&n.elementAtHeight((B.bottom+N.top)/2).type==Tr.Text&&(B.bottom=N.top=(B.bottom+N.top)/2),C(B).concat(k).concat(C(N))}function A(B,N,k,R){return new lf(e,B-f.left,N-f.top,k-B,R-N)}function C({top:B,bottom:N,horizontal:k}){let R=[];for(let z=0;z<k.length;z+=2)R.push(A(k[z],B,k[z+1],N));return R}function E(B,N,k){let R=1e9,z=-1e9,I=[];function j(oe,se,J,ie,Ee){let we=n.coordsAtPos(oe,oe==k.to?-2:2),xe=n.coordsAtPos(J,J==k.from?2:-2);!we||!xe||(R=Math.min(we.top,xe.top,R),z=Math.max(we.bottom,xe.bottom,z),Ee==nn.LTR?I.push(s&&se?m:we.left,s&&ie?g:xe.right):I.push(!s&&ie?m:xe.left,!s&&se?g:we.right))}let q=B??k.from,K=N??k.to;for(let oe of n.visibleRanges)if(oe.to>q&&oe.from<K)for(let se=Math.max(oe.from,q),J=Math.min(oe.to,K);;){let ie=n.state.doc.lineAt(se);for(let Ee of n.bidiSpans(ie)){let we=Ee.from+ie.from,xe=Ee.to+ie.from;if(we>=J)break;xe>se&&j(Math.max(we,se),B==null&&we<=q,Math.min(xe,J),N==null&&xe>=K,Ee.dir)}if(se=ie.to+1,se>=J)break}return I.length==0&&j(q,B==null,K,N==null,n.textDirection),{top:R,bottom:z,horizontal:I}}function D(B,N){let k=c.top+(N?B.top:B.bottom);return{top:k,bottom:k,horizontal:[]}}}function NI(n,e){return n.constructor==e.constructor&&n.eq(e)}class RI{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Kh)!=e.state.facet(Kh)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(Kh);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!NI(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e,Ue.safari&&Ue.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Kh=We.define();function W8(n){return[Sn.define(e=>new RI(e,n)),Kh.of(n)]}const M0=We.define({combine(n){return ms(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function FI(n={}){return[M0.of(n),MI,LI,II,x8.of(!0)]}function G8(n){return n.startState.facet(M0)!=n.state.facet(M0)}const MI=W8({above:!0,markers(n){let{state:e}=n,t=e.facet(M0),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||t.drawRangeCursor){let l=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=i.empty?i:De.cursor(i.head,i.head>i.anchor?-1:1);for(let f of lf.forRange(n,l,c))r.push(f)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=G8(n);return t&&cE(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){cE(e.state,n)},class:"cm-cursorLayer"});function cE(n,e){e.style.animationDuration=n.facet(M0).cursorBlinkRate+"ms"}const LI=W8({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:lf.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||G8(n)},class:"cm-selectionLayer"}),II=Ml.highest(Ve.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),X8=lt.define({map(n,e){return n==null?null:e.mapPos(n)}}),s0=hr.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(X8)?r.value:t,n)}}),PI=Sn.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(s0);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(s0)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(s0),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(s0)!=n&&this.view.dispatch({effects:X8.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function HI(){return[s0,PI]}function fE(n,e,t,r,i){e.lastIndex=0;for(let s=n.iterRange(t,r),l=t,c;!s.next().done;l+=s.value.length)if(!s.lineBreak)for(;c=e.exec(s.value);)i(l+c.index,c)}function zI(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:s}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class jI{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:s,maxLength:l=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(c,f,h,d)=>i(d,h,h+c[0].length,c,f);else if(typeof r=="function")this.addMatch=(c,f,h,d)=>{let m=r(c,f,h);m&&d(h,h+c[0].length,m)};else if(r)this.addMatch=(c,f,h,d)=>d(h,h+c[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=l}createDeco(e){let t=new Vs,r=t.add.bind(t);for(let{from:i,to:s}of zI(e,this.maxLength))fE(e.state.doc,this.regexp,i,s,(l,c)=>this.addMatch(c,e,l,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,l,c,f)=>{f>=e.view.viewport.from&&c<=e.view.viewport.to&&(r=Math.min(c,r),i=Math.max(f,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let s of e.visibleRanges){let l=Math.max(s.from,r),c=Math.min(s.to,i);if(c>=l){let f=e.state.doc.lineAt(l),h=f.to<c?e.state.doc.lineAt(c):f,d=Math.max(s.from,f.from),m=Math.min(s.to,h.to);if(this.boundary){for(;l>f.from;l--)if(this.boundary.test(f.text[l-1-f.from])){d=l;break}for(;c<h.to;c++)if(this.boundary.test(h.text[c-h.from])){m=c;break}}let g=[],x,S=(b,w,A)=>g.push(A.range(b,w));if(f==h)for(this.regexp.lastIndex=d-f.from;(x=this.regexp.exec(f.text))&&x.index<m-f.from;)this.addMatch(x,e,x.index+f.from,S);else fE(e.state.doc,this.regexp,d,m,(b,w)=>this.addMatch(w,e,b,S));t=t.update({filterFrom:d,filterTo:m,filter:(b,w)=>b<d||w>m,add:g})}}return t}}const gx=/x/.unicode!=null?"gu":"g",UI=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,gx),VI={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let r1=null;function qI(){var n;if(r1==null&&typeof document<"u"&&document.body){let e=document.body.style;r1=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return r1||!1}const Qh=We.define({combine(n){let e=ms(n,{render:null,specialChars:UI,addSpecialChars:null});return(e.replaceTabs=!qI())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,gx)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,gx)),e}});function WI(n={}){return[Qh.of(n),GI()]}let uE=null;function GI(){return uE||(uE=Sn.fromClass(class{constructor(n){this.view=n,this.decorations=et.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Qh)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new jI({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,s=Ir(e[0],0);if(s==9){let l=i.lineAt(r),c=t.state.tabSize,f=Jo(l.text,c,r-l.from);return et.replace({widget:new KI((c-f%c)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=et.replace({widget:new YI(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(Qh);n.startState.facet(Qh)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const XI="";function $I(n){return n>=32?XI:n==10?"":String.fromCharCode(9216+n)}class YI extends Xs{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=$I(this.code),r=e.state.phrase("Control character")+" "+(VI[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class KI extends Xs{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function QI(){return JI}const ZI=et.line({class:"cm-activeLine"}),JI=Sn.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(ZI.range(i.from)),e=i.from)}return et.set(t)}},{decorations:n=>n.decorations});class eP extends Xs{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?Uo(e.firstChild):[];if(!t.length)return null;let r=window.getComputedStyle(e.parentNode),i=nf(t[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function tP(n){let e=Sn.fromClass(class{constructor(t){this.view=t,this.placeholder=n?et.set([et.widget({widget:new eP(n),side:1}).range(0)]):et.none}get decorations(){return this.view.state.doc.length?et.none:this.placeholder}},{decorations:t=>t.decorations});return typeof n=="string"?[e,Ve.contentAttributes.of({"aria-placeholder":n})]:e}const xx=2e3;function nP(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>xx||t.off>xx||e.col<0||t.col<0){let l=Math.min(e.off,t.off),c=Math.max(e.off,t.off);for(let f=r;f<=i;f++){let h=n.doc.line(f);h.length<=c&&s.push(De.range(h.from+l,h.to+c))}}else{let l=Math.min(e.col,t.col),c=Math.max(e.col,t.col);for(let f=r;f<=i;f++){let h=n.doc.line(f),d=$1(h.text,l,n.tabSize,!0);if(d<0)s.push(De.cursor(h.to));else{let m=$1(h.text,c,n.tabSize);s.push(De.range(h.from+d,h.from+m))}}}return s}function rP(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function hE(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,s=i>xx?-1:i==r.length?rP(n,e.clientX):Jo(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:s,off:i}}function iP(n,e){let t=hE(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),l=i.state.doc.lineAt(s);t={line:l.number,col:t.col,off:Math.min(t.off,l.length)},r=r.map(i.changes)}},get(i,s,l){let c=hE(n,i);if(!c)return r;let f=nP(n.state,t,c);return f.length?l?De.create(f.concat(r.ranges)):De.create(f):r}}:null}function sP(n){let e=(t=>t.altKey&&t.button==0);return Ve.mouseSelectionStyle.of((t,r)=>e(r)?iP(t,r):null)}const aP={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},lP={style:"cursor: crosshair"};function oP(n={}){let[e,t]=aP[n.key||"Alt"],r=Sn.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,Ve.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?lP:null})]}const Xu="-10000px";class $8{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(l=>l);let s=null;this.tooltipViews=this.tooltips.map(l=>s=r(l,s))}update(e,t){var r;let i=e.state.facet(this.facet),s=i.filter(f=>f);if(i===this.input){for(let f of this.tooltipViews)f.update&&f.update(e);return!1}let l=[],c=t?[]:null;for(let f=0;f<s.length;f++){let h=s[f],d=-1;if(h){for(let m=0;m<this.tooltips.length;m++){let g=this.tooltips[m];g&&g.create==h.create&&(d=m)}if(d<0)l[f]=this.createTooltipView(h,f?l[f-1]:null),c&&(c[f]=!!h.above);else{let m=l[f]=this.tooltipViews[d];c&&(c[f]=t[d]),m.update&&m.update(e)}}}for(let f of this.tooltipViews)l.indexOf(f)<0&&(this.removeTooltipView(f),(r=f.destroy)===null||r===void 0||r.call(f));return t&&(c.forEach((f,h)=>t[h]=f),t.length=c.length),this.input=i,this.tooltips=s,this.tooltipViews=l,!0}}function cP(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const i1=We.define({combine:n=>{var e,t,r;return{position:Ue.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||cP}}}),dE=new WeakMap,Ev=Sn.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(i1);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new $8(n,Cv,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(i1);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=Xu,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(Ue.safari){let l=s.getBoundingClientRect();t=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}else t=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(n=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=yv(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,l)=>{let c=this.manager.tooltipViews[l];return c.getCoords?c.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(i1).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{visible:t,space:r,scaleX:i,scaleY:s}=n,l=[];for(let c=0;c<this.manager.tooltips.length;c++){let f=this.manager.tooltips[c],h=this.manager.tooltipViews[c],{dom:d}=h,m=n.pos[c],g=n.size[c];if(!m||f.clip!==!1&&(m.bottom<=Math.max(t.top,r.top)||m.top>=Math.min(t.bottom,r.bottom)||m.right<Math.max(t.left,r.left)-.1||m.left>Math.min(t.right,r.right)+.1)){d.style.top=Xu;continue}let x=f.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,S=x?7:0,b=g.right-g.left,w=(e=dE.get(h))!==null&&e!==void 0?e:g.bottom-g.top,A=h.offset||uP,C=this.view.textDirection==nn.LTR,E=g.width>r.right-r.left?C?r.left:r.right-g.width:C?Math.max(r.left,Math.min(m.left-(x?14:0)+A.x,r.right-b)):Math.min(Math.max(r.left,m.left-b+(x?14:0)-A.x),r.right-b),D=this.above[c];!f.strictSide&&(D?m.top-w-S-A.y<r.top:m.bottom+w+S+A.y>r.bottom)&&D==r.bottom-m.bottom>m.top-r.top&&(D=this.above[c]=!D);let B=(D?m.top-r.top:r.bottom-m.bottom)-S;if(B<w&&h.resize!==!1){if(B<this.view.defaultLineHeight){d.style.top=Xu;continue}dE.set(h,w),d.style.height=(w=B)/s+"px"}else d.style.height&&(d.style.height="");let N=D?m.top-w-S-A.y:m.bottom+S+A.y,k=E+b;if(h.overlap!==!0)for(let R of l)R.left<k&&R.right>E&&R.top<N+w&&R.bottom>N&&(N=D?R.top-w-2-S:R.bottom+S+2);if(this.position=="absolute"?(d.style.top=(N-n.parent.top)/s+"px",pE(d,(E-n.parent.left)/i)):(d.style.top=N/s+"px",pE(d,E/i)),x){let R=m.left+(C?A.x:-A.x)-(E+14-7);x.style.left=R/i+"px"}h.overlap!==!0&&l.push({left:E,top:N,right:k,bottom:N+w}),d.classList.toggle("cm-tooltip-above",D),d.classList.toggle("cm-tooltip-below",!D),h.positioned&&h.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Xu}},{eventObservers:{scroll(){this.maybeMeasure()}}});function pE(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const fP=Ve.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),uP={x:0,y:0},Cv=We.define({enables:[Ev,fP]}),Ad=We.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class up{static create(e){return new up(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new $8(e,Ad,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const hP=Cv.compute([Ad],n=>{let e=n.facet(Ad);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:up.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class dP{constructor(e,t,r,i,s){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,s=1;if(r instanceof Ls)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let c=e.coordsAtPos(i);if(!c||t.y<c.top||t.y>c.bottom||t.x<c.left-e.defaultCharacterWidth||t.x>c.right+e.defaultCharacterWidth)return;let f=e.bidiSpans(e.state.doc.lineAt(i)).find(d=>d.from<=i&&d.to>=i),h=f&&f.dir==nn.RTL?-1:1;s=t.x<c.left?-h:h}let l=this.source(e,i,s);if(l?.then){let c=this.pending={pos:i};l.then(f=>{this.pending==c&&(this.pending=null,f&&!(Array.isArray(f)&&!f.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(f)?f:[f])}))},f=>Hr(e.state,f,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(Ev),t=e?e.manager.tooltips.findIndex(r=>r.create==up.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!pP(s.dom,e)||this.pending){let{pos:l}=i[0]||this.pending,c=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:l;(l==c?this.view.posAtCoords(this.lastMove)!=l:!mP(this.view,l,c,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const $u=4;function pP(n,e){let{left:t,right:r,top:i,bottom:s}=n.getBoundingClientRect(),l;if(l=n.querySelector(".cm-tooltip-arrow")){let c=l.getBoundingClientRect();i=Math.min(c.top,i),s=Math.max(c.bottom,s)}return e.clientX>=t-$u&&e.clientX<=r+$u&&e.clientY>=i-$u&&e.clientY<=s+$u}function mP(n,e,t,r,i,s){let l=n.scrollDOM.getBoundingClientRect(),c=n.documentTop+n.documentPadding.top+n.contentHeight;if(l.left>r||l.right<r||l.top>i||Math.min(l.bottom,c)<i)return!1;let f=n.posAtCoords({x:r,y:i},!1);return f>=e&&f<=t}function gP(n,e={}){let t=lt.define(),r=hr.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(l=>!e.hideOn(s,l))),s.docChanged)){let l=[];for(let c of i){let f=s.changes.mapPos(c.pos,-1,Cr.TrackDel);if(f!=null){let h=Object.assign(Object.create(null),c);h.pos=f,h.end!=null&&(h.end=s.changes.mapPos(h.end)),l.push(h)}}i=l}for(let l of s.effects)l.is(t)&&(i=l.value),l.is(xP)&&(i=[]);return i},provide:i=>Ad.from(i)});return{active:r,extension:[r,Sn.define(i=>new dP(i,n,r,t,e.hoverTime||300)),hP]}}function Y8(n,e){let t=n.plugin(Ev);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const xP=lt.define(),mE=We.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function L0(n,e){let t=n.plugin(K8),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const K8=Sn.fromClass(class{constructor(n){this.input=n.state.facet(I0),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(mE);this.top=new Yu(n,!0,e.topContainer),this.bottom=new Yu(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(mE);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Yu(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Yu(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(I0);if(t!=this.input){let r=t.filter(f=>f),i=[],s=[],l=[],c=[];for(let f of r){let h=this.specs.indexOf(f),d;h<0?(d=f(n.view),c.push(d)):(d=this.panels[h],d.update&&d.update(n)),i.push(d),(d.top?s:l).push(d)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(l);for(let f of c)f.dom.classList.add("cm-panel"),f.mount&&f.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>Ve.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Yu{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=gE(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=gE(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function gE(n){let e=n.nextSibling;return n.remove(),e}const I0=We.define({enables:K8});class Ws extends El{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Ws.prototype.elementClass="";Ws.prototype.toDOM=void 0;Ws.prototype.mapMode=Cr.TrackBefore;Ws.prototype.startSide=Ws.prototype.endSide=-1;Ws.prototype.point=!0;const Zh=We.define(),vP=We.define(),yP={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>St.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},v0=We.define();function bP(n){return[Q8(),v0.of({...yP,...n})]}const xE=We.define({combine:n=>n.some(e=>e)});function Q8(n){return[SP]}const SP=Sn.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(v0).map(e=>new yE(n,e)),this.fixed=!n.state.facet(xE);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(xE)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=St.iter(this.view.state.facet(Zh),this.view.viewport.from),r=[],i=this.gutters.map(s=>new wP(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let l=!0;for(let c of s.type)if(c.type==Tr.Text&&l){vx(t,r,c.from);for(let f of i)f.line(this.view,c,r);l=!1}else if(c.widget)for(let f of i)f.widget(this.view,c)}else if(s.type==Tr.Text){vx(t,r,s.from);for(let l of i)l.line(this.view,s,r)}else if(s.widget)for(let l of i)l.widget(this.view,s);for(let s of i)s.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(v0),t=n.state.facet(v0),r=n.docChanged||n.heightChanged||n.viewportChanged||!St.eq(n.startState.facet(Zh),n.state.facet(Zh),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let s of t){let l=e.indexOf(s);l<0?i.push(new yE(this.view,s)):(this.gutters[l].update(n),i.push(this.gutters[l]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>Ve.scrollMargins.of(e=>{let t=e.plugin(n);if(!t||t.gutters.length==0||!t.fixed)return null;let r=t.dom.offsetWidth*e.scaleX,i=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==nn.LTR?{left:r,right:i}:{right:r,left:i}})});function vE(n){return Array.isArray(n)?n:[n]}function vx(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class wP{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=St.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,s=(t.top-this.height)/e.scaleY,l=t.height/e.scaleY;if(this.i==i.elements.length){let c=new Z8(e,l,s,r);i.elements.push(c),i.dom.appendChild(c.dom)}else i.elements[this.i].update(e,l,s,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];vx(this.cursor,i,t.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let l=this.gutter;i.length==0&&!l.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let s of e.state.facet(vP)){let l=s(e,t.widget,t);l&&(i||(i=[])).push(l)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class yE{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,l;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let f=s.getBoundingClientRect();l=(f.top+f.bottom)/2}else l=i.clientY;let c=e.lineBlockAtHeight(l-e.documentTop);t.domEventHandlers[r](e,c,i)&&i.preventDefault()});this.markers=vE(t.markers(e)),t.initialSpacer&&(this.spacer=new Z8(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=vE(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!St.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Z8{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),EP(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,l=0;;){let c=l,f=s<t.length?t[s++]:null,h=!1;if(f){let d=f.elementClass;d&&(r+=" "+d);for(let m=l;m<this.markers.length;m++)if(this.markers[m].compare(f)){c=m,h=!0;break}}else c=this.markers.length;for(;l<c;){let d=this.markers[l++];if(d.toDOM){d.destroy(i);let m=i.nextSibling;i.remove(),i=m}}if(!f)break;f.toDOM&&(h?i=i.nextSibling:this.dom.insertBefore(f.toDOM(e),i)),h&&l++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function EP(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const CP=We.define(),AP=We.define(),Ao=We.define({combine(n){return ms(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let s=r[i],l=t[i];r[i]=s?(c,f,h)=>s(c,f,h)||l(c,f,h):l}return r}})}});class s1 extends Ws{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function a1(n,e){return n.state.facet(Ao).formatNumber(e,n.state)}const TP=v0.compute([Ao],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(CP)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new s1(a1(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(AP)){let s=i(e,t,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Ao)!=e.state.facet(Ao),initialSpacer(e){return new s1(a1(e,bE(e.state.doc.lines)))},updateSpacer(e,t){let r=a1(t.view,bE(t.view.state.doc.lines));return r==e.number?e:new s1(r)},domEventHandlers:n.facet(Ao).domEventHandlers,side:"before"}));function _P(n={}){return[Ao.of(n),Q8(),TP]}function bE(n){let e=9;for(;e<n;)e=e*10+9;return e}const DP=new class extends Ws{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},kP=Zh.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(DP.range(i)))}return St.of(e)});function OP(){return kP}const J8=1024;let BP=0;class l1{constructor(e,t){this.from=e,this.to=t}}class ft{constructor(e={}){this.id=BP++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=qr.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}ft.closedBy=new ft({deserialize:n=>n.split(" ")});ft.openedBy=new ft({deserialize:n=>n.split(" ")});ft.group=new ft({deserialize:n=>n.split(" ")});ft.isolate=new ft({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});ft.contextHash=new ft({perNode:!0});ft.lookAhead=new ft({perNode:!0});ft.mounted=new ft({perNode:!0});class Td{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[ft.mounted.id]}}const NP=Object.create(null);class qr{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):NP,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new qr(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(ft.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(ft.group),s=-1;s<(i?i.length:0);s++){let l=t[s<0?r.name:i[s]];if(l)return l}}}}qr.none=new qr("",Object.create(null),0,8);class Av{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let s of e){let l=s(r);if(l){i||(i=Object.assign({},r.props));let c=l[1],f=l[0];f.combine&&f.id in i&&(c=f.combine(i[f.id],c)),i[f.id]=c}}t.push(i?new qr(r.name,i,r.id,r.flags):r)}return new Av(t)}}const Ku=new WeakMap,SE=new WeakMap;var Wn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Wn||(Wn={}));class Bn{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,c]of s)this.props[typeof l=="number"?l:l.id]=c}}toString(){let e=Td.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new bx(this.topNode,e)}cursorAt(e,t=0,r=0){let i=Ku.get(this)||this.topNode,s=new bx(i);return s.moveTo(e,t),Ku.set(this,s._tree),s}get topNode(){return new _i(this,0,0,null)}resolve(e,t=0){let r=P0(Ku.get(this)||this.topNode,e,t,!1);return Ku.set(this,r),r}resolveInner(e,t=0){let r=P0(SE.get(this)||this.topNode,e,t,!0);return SE.set(this,r),r}resolveStack(e,t=0){return MP(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,l=e.mode||0,c=(l&Wn.IncludeAnonymous)>0;for(let f=this.cursor(l|Wn.IncludeAnonymous);;){let h=!1;if(f.from<=s&&f.to>=i&&(!c&&f.type.isAnonymous||t(f)!==!1)){if(f.firstChild())continue;h=!0}for(;h&&r&&(c||!f.type.isAnonymous)&&r(f),!f.nextSibling();){if(!f.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Dv(qr.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new Bn(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new Bn(qr.none,t,r,i)))}static build(e){return LP(e)}}Bn.empty=new Bn(qr.none,[],[],0);class Tv{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Tv(this.buffer,this.index)}}class La{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return qr.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let l=[];for(;e<r;)l.push(this.childString(e)),e=this.buffer[e+3];return s+"("+l.join(",")+")"}findChild(e,t,r,i,s){let{buffer:l}=this,c=-1;for(let f=e;f!=t&&!(eT(s,i,l[f+1],l[f+2])&&(c=f,r>0));f=l[f+3]);return c}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),l=0;for(let c=e,f=0;c<t;){s[f++]=i[c++],s[f++]=i[c++]-r;let h=s[f++]=i[c++]-r;s[f++]=i[c++]-e,l=Math.max(l,h)}return new La(s,l,this.set)}}function eT(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function P0(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let l=!r&&n instanceof _i&&n.index<0?null:n.parent;if(!l)return n;n=l}let s=r?0:Wn.IgnoreOverlays;if(r)for(let l=n,c=l.parent;c;l=c,c=l.parent)l instanceof _i&&l.index<0&&((i=c.enter(e,t,s))===null||i===void 0?void 0:i.from)!=l.from&&(n=c);for(;;){let l=n.enter(e,t,s);if(!l)return n;n=l}}class tT{cursor(e=0){return new bx(this,e)}getChild(e,t=null,r=null){let i=wE(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return wE(this,e,t,r)}resolve(e,t=0){return P0(this,e,t,!1)}resolveInner(e,t=0){return P0(this,e,t,!0)}matchContext(e){return yx(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class _i extends tT{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let l=this;;){for(let{children:c,positions:f}=l._tree,h=t>0?c.length:-1;e!=h;e+=t){let d=c[e],m=f[e]+l.from;if(eT(i,r,m,m+d.length)){if(d instanceof La){if(s&Wn.ExcludeBuffers)continue;let g=d.findChild(0,d.buffer.length,t,r-m,i);if(g>-1)return new Da(new RP(l,d,e,m),null,g)}else if(s&Wn.IncludeAnonymous||!d.type.isAnonymous||_v(d)){let g;if(!(s&Wn.IgnoreMounts)&&(g=Td.get(d))&&!g.overlay)return new _i(g.tree,m,e,l);let x=new _i(d,m,e,l);return s&Wn.IncludeAnonymous||!x.type.isAnonymous?x:x.nextChild(t<0?d.children.length-1:0,t,r,i)}}}if(s&Wn.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+t:e=t<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,r=0){let i;if(!(r&Wn.IgnoreOverlays)&&(i=Td.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:l,to:c}of i.overlay)if((t>0?l<=s:l<s)&&(t<0?c>=s:c>s))return new _i(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function wE(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let l=!1;!l;)if(l=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function yx(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class RP{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class Da extends tT{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Da(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,r=0){if(r&Wn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Da(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Da(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Da(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let l=r.buffer[this.index+1];e.push(r.slice(i,s,l)),t.push(0)}return new Bn(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function nT(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let l=n[s];(l.from>t.from||l.to<t.to)&&(t=l,e=s)}let r=t instanceof _i&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new FP(i,t)}class FP{constructor(e,t){this.heads=e,this.node=t}get next(){return nT(this.heads)}}function MP(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof _i?r:r.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(i||(i=[r])).push(l.resolve(e,t)),s=l}else{let l=Td.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let c=new _i(l.tree,l.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(P0(c,e,t,!1))}}return i?nT(i):r}class bx{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof _i)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof _i?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Wn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Wn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Wn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,l=e<0?-1:r._tree.children.length;s!=l;s+=e){let c=r._tree.children[s];if(this.mode&Wn.IncludeAnonymous||c instanceof La||!c.type.isAnonymous||_v(c))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let l=e;l;l=l._parent)if(l.index==i){if(i==this.index)return l;t=l,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new Da(this.buffer,t,this.stack[i]);return this.bufferNode=new Da(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return yx(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return yx(this._tree,e,i);let l=r[t.buffer[this.stack[s]]];if(!l.isAnonymous){if(e[i]&&e[i]!=l.name)return!1;i--}}return!0}}function _v(n){return n.children.some(e=>e instanceof La||!e.type.isAnonymous||_v(e))}function LP(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=J8,reused:s=[],minRepeatType:l=r.types.length}=n,c=Array.isArray(t)?new Tv(t,t.length):t,f=r.types,h=0,d=0;function m(B,N,k,R,z,I){let{id:j,start:q,end:K,size:oe}=c,se=d,J=h;if(oe<0)if(c.next(),oe==-1){let F=s[j];k.push(F),R.push(q-B);return}else if(oe==-3){h=j;return}else if(oe==-4){d=j;return}else throw new RangeError(`Unrecognized record size: ${oe}`);let ie=f[j],Ee,we,xe=q-B;if(K-q<=i&&(we=w(c.pos-N,z))){let F=new Uint16Array(we.size-we.skip),O=c.pos-we.size,P=F.length;for(;c.pos>O;)P=A(we.start,F,P);Ee=new La(F,K-we.start,r),xe=we.start-B}else{let F=c.pos-oe;c.next();let O=[],P=[],L=j>=l?j:-1,X=0,te=K;for(;c.pos>F;)L>=0&&c.id==L&&c.size>=0?(c.end<=te-i&&(S(O,P,q,X,c.end,te,L,se,J),X=O.length,te=c.end),c.next()):I>2500?g(q,F,O,P):m(q,F,O,P,L,I+1);if(L>=0&&X>0&&X<O.length&&S(O,P,q,X,q,te,L,se,J),O.reverse(),P.reverse(),L>-1&&X>0){let Ae=x(ie,J);Ee=Dv(ie,O,P,0,O.length,0,K-q,Ae,Ae)}else Ee=b(ie,O,P,K-q,se-K,J)}k.push(Ee),R.push(xe)}function g(B,N,k,R){let z=[],I=0,j=-1;for(;c.pos>N;){let{id:q,start:K,end:oe,size:se}=c;if(se>4)c.next();else{if(j>-1&&K<j)break;j<0&&(j=oe-i),z.push(q,K,oe),I++,c.next()}}if(I){let q=new Uint16Array(I*4),K=z[z.length-2];for(let oe=z.length-3,se=0;oe>=0;oe-=3)q[se++]=z[oe],q[se++]=z[oe+1]-K,q[se++]=z[oe+2]-K,q[se++]=se;k.push(new La(q,z[2]-K,r)),R.push(K-B)}}function x(B,N){return(k,R,z)=>{let I=0,j=k.length-1,q,K;if(j>=0&&(q=k[j])instanceof Bn){if(!j&&q.type==B&&q.length==z)return q;(K=q.prop(ft.lookAhead))&&(I=R[j]+q.length+K)}return b(B,k,R,z,I,N)}}function S(B,N,k,R,z,I,j,q,K){let oe=[],se=[];for(;B.length>R;)oe.push(B.pop()),se.push(N.pop()+k-z);B.push(b(r.types[j],oe,se,I-z,q-I,K)),N.push(z-k)}function b(B,N,k,R,z,I,j){if(I){let q=[ft.contextHash,I];j=j?[q].concat(j):[q]}if(z>25){let q=[ft.lookAhead,z];j=j?[q].concat(j):[q]}return new Bn(B,N,k,R,j)}function w(B,N){let k=c.fork(),R=0,z=0,I=0,j=k.end-i,q={size:0,start:0,skip:0};e:for(let K=k.pos-B;k.pos>K;){let oe=k.size;if(k.id==N&&oe>=0){q.size=R,q.start=z,q.skip=I,I+=4,R+=4,k.next();continue}let se=k.pos-oe;if(oe<0||se<K||k.start<j)break;let J=k.id>=l?4:0,ie=k.start;for(k.next();k.pos>se;){if(k.size<0)if(k.size==-3||k.size==-4)J+=4;else break e;else k.id>=l&&(J+=4);k.next()}z=ie,R+=oe,I+=J}return(N<0||R==B)&&(q.size=R,q.start=z,q.skip=I),q.size>4?q:void 0}function A(B,N,k){let{id:R,start:z,end:I,size:j}=c;if(c.next(),j>=0&&R<l){let q=k;if(j>4){let K=c.pos-(j-4);for(;c.pos>K;)k=A(B,N,k)}N[--k]=q,N[--k]=I-B,N[--k]=z-B,N[--k]=R}else j==-3?h=R:j==-4&&(d=R);return k}let C=[],E=[];for(;c.pos>0;)m(n.start||0,n.bufferStart||0,C,E,-1,0);let D=(e=n.length)!==null&&e!==void 0?e:C.length?E[0]+C[0].length:0;return new Bn(f[n.topID],C.reverse(),E.reverse(),D)}const EE=new WeakMap;function Jh(n,e){if(!n.isAnonymous||e instanceof La||e.type!=n)return 1;let t=EE.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Bn)){t=1;break}t+=Jh(n,r)}EE.set(e,t)}return t}function Dv(n,e,t,r,i,s,l,c,f){let h=0;for(let S=r;S<i;S++)h+=Jh(n,e[S]);let d=Math.ceil(h*1.5/8),m=[],g=[];function x(S,b,w,A,C){for(let E=w;E<A;){let D=E,B=b[E],N=Jh(n,S[E]);for(E++;E<A;E++){let k=Jh(n,S[E]);if(N+k>=d)break;N+=k}if(E==D+1){if(N>d){let k=S[D];x(k.children,k.positions,0,k.children.length,b[D]+C);continue}m.push(S[D])}else{let k=b[E-1]+S[E-1].length-B;m.push(Dv(n,S,b,D,E,B,k,null,f))}g.push(B+C-s)}}return x(e,t,r,i,0),(c||f)(m,g,l)}class vl{constructor(e,t,r,i,s=!1,l=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new vl(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,l=e.length?e[0]:null;for(let c=0,f=0,h=0;;c++){let d=c<t.length?t[c]:null,m=d?d.fromA:1e9;if(m-f>=r)for(;l&&l.from<m;){let g=l;if(f>=g.from||m<=g.to||h){let x=Math.max(g.from,f)-h,S=Math.min(g.to,m)-h;g=x>=S?null:new vl(x,S,g.tree,g.offset+h,c>0,!!d)}if(g&&i.push(g),l.to>m)break;l=s<e.length?e[s++]:null}if(!d)break;f=d.toA,h=d.toA-d.toB}return i}}class rT{startParse(e,t,r){return typeof e=="string"&&(e=new IP(e)),r=r?r.length?r.map(i=>new l1(i.from,i.to)):[new l1(0,0)]:[new l1(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}}class IP{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new ft({perNode:!0});let PP=0;class Ei{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=PP++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof Ei&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let i=new Ei(r,[],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(e){let t=new _d(e);return r=>r.modified.indexOf(t)>-1?r:_d.get(r.base||r,r.modified.concat(t).sort((i,s)=>i.id-s.id))}}let HP=0;class _d{constructor(e){this.name=e,this.instances=[],this.id=HP++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(c=>c.base==e&&zP(t,c.modified));if(r)return r;let i=[],s=new Ei(e.name,i,e,t);for(let c of t)c.instances.push(s);let l=jP(t);for(let c of e.set)if(!c.modified.length)for(let f of l)i.push(_d.get(c,f));return s}}function zP(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function jP(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function iT(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let s=[],l=2,c=i;for(let m=0;;){if(c=="..."&&m>0&&m+3==i.length){l=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!g)throw new RangeError("Invalid path: "+i);if(s.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),m+=g[0].length,m==i.length)break;let x=i[m++];if(m==i.length&&x=="!"){l=0;break}if(x!="/")throw new RangeError("Invalid path: "+i);c=i.slice(m)}let f=s.length-1,h=s[f];if(!h)throw new RangeError("Invalid path: "+i);let d=new H0(r,l,f>0?s.slice(0,f):null);e[h]=d.sort(e[h])}}return sT.add(e)}const sT=new ft({combine(n,e){let t,r,i;for(;n||e;){if(!n||e&&n.depth>=e.depth?(i=e,e=e.next):(i=n,n=n.next),t&&t.mode==i.mode&&!i.context&&!t.context)continue;let s=new H0(i.tags,i.mode,i.context);t?t.next=s:r=s,t=s}return r}});class H0{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}H0.empty=new H0([],2,null);function aT(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let l of s.tag)t[l.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let l=i;for(let c of s)for(let f of c.set){let h=t[f.id];if(h){l=l?l+" "+h:h;break}}return l},scope:r}}function UP(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}function VP(n,e,t,r=0,i=n.length){let s=new qP(r,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),r,i,"",s.highlighters),s.flush(i)}class qP{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,s){let{type:l,from:c,to:f}=e;if(c>=r||f<=t)return;l.isTop&&(s=this.highlighters.filter(x=>!x.scope||x.scope(l)));let h=i,d=WP(e)||H0.empty,m=UP(s,d.tags);if(m&&(h&&(h+=" "),h+=m,d.mode==1&&(i+=(i?" ":"")+m)),this.startSpan(Math.max(t,c),h),d.opaque)return;let g=e.tree&&e.tree.prop(ft.mounted);if(g&&g.overlay){let x=e.node.enter(g.overlay[0].from+c,1),S=this.highlighters.filter(w=>!w.scope||w.scope(g.tree.type)),b=e.firstChild();for(let w=0,A=c;;w++){let C=w<g.overlay.length?g.overlay[w]:null,E=C?C.from+c:f,D=Math.max(t,A),B=Math.min(r,E);if(D<B&&b)for(;e.from<B&&(this.highlightRange(e,D,B,i,s),this.startSpan(Math.min(B,e.to),h),!(e.to>=E||!e.nextSibling())););if(!C||E>r)break;A=C.to+c,A>t&&(this.highlightRange(x.cursor(),Math.max(t,C.from+c),Math.min(r,A),"",S),this.startSpan(Math.min(r,A),h))}b&&e.parent()}else if(e.firstChild()){g&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,s),this.startSpan(Math.min(r,e.to),h)}while(e.nextSibling());e.parent()}}}function WP(n){let e=n.type.prop(sT);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const He=Ei.define,Qu=He(),ba=He(),CE=He(ba),AE=He(ba),Sa=He(),Zu=He(Sa),o1=He(Sa),is=He(),al=He(is),es=He(),ts=He(),Sx=He(),Zc=He(Sx),Ju=He(),pe={comment:Qu,lineComment:He(Qu),blockComment:He(Qu),docComment:He(Qu),name:ba,variableName:He(ba),typeName:CE,tagName:He(CE),propertyName:AE,attributeName:He(AE),className:He(ba),labelName:He(ba),namespace:He(ba),macroName:He(ba),literal:Sa,string:Zu,docString:He(Zu),character:He(Zu),attributeValue:He(Zu),number:o1,integer:He(o1),float:He(o1),bool:He(Sa),regexp:He(Sa),escape:He(Sa),color:He(Sa),url:He(Sa),keyword:es,self:He(es),null:He(es),atom:He(es),unit:He(es),modifier:He(es),operatorKeyword:He(es),controlKeyword:He(es),definitionKeyword:He(es),moduleKeyword:He(es),operator:ts,derefOperator:He(ts),arithmeticOperator:He(ts),logicOperator:He(ts),bitwiseOperator:He(ts),compareOperator:He(ts),updateOperator:He(ts),definitionOperator:He(ts),typeOperator:He(ts),controlOperator:He(ts),punctuation:Sx,separator:He(Sx),bracket:Zc,angleBracket:He(Zc),squareBracket:He(Zc),paren:He(Zc),brace:He(Zc),content:is,heading:al,heading1:He(al),heading2:He(al),heading3:He(al),heading4:He(al),heading5:He(al),heading6:He(al),contentSeparator:He(is),list:He(is),quote:He(is),emphasis:He(is),strong:He(is),link:He(is),monospace:He(is),strikethrough:He(is),inserted:He(),deleted:He(),changed:He(),invalid:He(),meta:Ju,documentMeta:He(Ju),annotation:He(Ju),processingInstruction:He(Ju),definition:Ei.defineModifier("definition"),constant:Ei.defineModifier("constant"),function:Ei.defineModifier("function"),standard:Ei.defineModifier("standard"),local:Ei.defineModifier("local"),special:Ei.defineModifier("special")};for(let n in pe){let e=pe[n];e instanceof Ei&&(e.name=n)}aT([{tag:pe.link,class:"tok-link"},{tag:pe.heading,class:"tok-heading"},{tag:pe.emphasis,class:"tok-emphasis"},{tag:pe.strong,class:"tok-strong"},{tag:pe.keyword,class:"tok-keyword"},{tag:pe.atom,class:"tok-atom"},{tag:pe.bool,class:"tok-bool"},{tag:pe.url,class:"tok-url"},{tag:pe.labelName,class:"tok-labelName"},{tag:pe.inserted,class:"tok-inserted"},{tag:pe.deleted,class:"tok-deleted"},{tag:pe.literal,class:"tok-literal"},{tag:pe.string,class:"tok-string"},{tag:pe.number,class:"tok-number"},{tag:[pe.regexp,pe.escape,pe.special(pe.string)],class:"tok-string2"},{tag:pe.variableName,class:"tok-variableName"},{tag:pe.local(pe.variableName),class:"tok-variableName tok-local"},{tag:pe.definition(pe.variableName),class:"tok-variableName tok-definition"},{tag:pe.special(pe.variableName),class:"tok-variableName2"},{tag:pe.definition(pe.propertyName),class:"tok-propertyName tok-definition"},{tag:pe.typeName,class:"tok-typeName"},{tag:pe.namespace,class:"tok-namespace"},{tag:pe.className,class:"tok-className"},{tag:pe.macroName,class:"tok-macroName"},{tag:pe.propertyName,class:"tok-propertyName"},{tag:pe.operator,class:"tok-operator"},{tag:pe.comment,class:"tok-comment"},{tag:pe.meta,class:"tok-meta"},{tag:pe.invalid,class:"tok-invalid"},{tag:pe.punctuation,class:"tok-punctuation"}]);var c1;const To=new ft;function GP(n){return We.define({combine:n?e=>e.concat(n):void 0})}const XP=new ft;class Pi{constructor(e,t,r=[],i=""){this.data=e,this.name=i,vt.prototype.hasOwnProperty("tree")||Object.defineProperty(vt.prototype,"tree",{get(){return Kn(this)}}),this.parser=t,this.extension=[Ia.of(this),vt.languageData.of((s,l,c)=>{let f=TE(s,l,c),h=f.type.prop(To);if(!h)return[];let d=s.facet(h),m=f.type.prop(XP);if(m){let g=f.resolve(l-f.from,c);for(let x of m)if(x.test(g,s)){let S=s.facet(x.facet);return x.type=="replace"?S:S.concat(d)}}return d})].concat(r)}isActiveAt(e,t,r=-1){return TE(e,t,r).type.prop(To)==this.data}findRegions(e){let t=e.facet(Ia);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,l)=>{if(s.prop(To)==this.data){r.push({from:l,to:l+s.length});return}let c=s.prop(ft.mounted);if(c){if(c.tree.prop(To)==this.data){if(c.overlay)for(let f of c.overlay)r.push({from:f.from+l,to:f.to+l});else r.push({from:l,to:l+s.length});return}else if(c.overlay){let f=r.length;if(i(c.tree,c.overlay[0].from+l),r.length>f)return}}for(let f=0;f<s.children.length;f++){let h=s.children[f];h instanceof Bn&&i(h,s.positions[f]+l)}};return i(Kn(e),0),r}get allowsNesting(){return!0}}Pi.setState=lt.define();function TE(n,e,t){let r=n.facet(Ia),i=Kn(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,Wn.ExcludeBuffers))s.type.isTop&&(i=s);return i}class Dd extends Pi{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=GP(e.languageData);return new Dd(t,e.parser.configure({props:[To.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new Dd(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Kn(n){let e=n.field(Pi.state,!1);return e?e.tree:Bn.empty}class $P{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let Jc=null;class kd{constructor(e,t,r=[],i,s,l,c,f){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=l,this.skipped=c,this.scheduleOn=f,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new kd(e,t,[],Bn.empty,0,r,[],null)}startParse(){return this.parser.startParse(new $P(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Bn.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(vl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(vl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Jc;Jc=this;try{return e()}finally{Jc=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=_E(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:l,skipped:c}=this;if(this.takeTree(),!e.empty){let f=[];if(e.iterChangedRanges((h,d,m,g)=>f.push({fromA:h,toA:d,fromB:m,toB:g})),r=vl.applyChanges(r,f),i=Bn.empty,s=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){c=[];for(let h of this.skipped){let d=e.mapPos(h.from,1),m=e.mapPos(h.to,-1);d<m&&c.push({from:d,to:m})}}}return new kd(this.parser,t,r,i,s,l,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=_E(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends rT{createParse(t,r,i){let s=i[0].from,l=i[i.length-1].to;return{parsedPos:s,advance(){let f=Jc;if(f){for(let h of i)f.tempSkipped.push(h);e&&(f.scheduleOn=f.scheduleOn?Promise.all([f.scheduleOn,e]):e)}return this.parsedPos=l,new Bn(qr.none,[],[],l-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Jc}}function _E(n,e,t){return vl.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Go{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new Go(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=kd.create(e.facet(Ia).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new Go(r)}}Pi.state=hr.define({create:Go.init,update(n,e){for(let t of e.effects)if(t.is(Pi.setState))return t.value;return e.startState.facet(Ia)!=e.state.facet(Ia)?Go.init(e.state):n.apply(e)}});let lT=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(lT=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const f1=typeof navigator<"u"&&(!((c1=navigator.scheduling)===null||c1===void 0)&&c1.isInputPending)?()=>navigator.scheduling.isInputPending():null,YP=Sn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Pi.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Pi.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=lT(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Pi.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!f1?Math.max(25,e.timeRemaining()-5):1e9),c=s.context.treeLen<i&&r.doc.length>i+1e3,f=s.context.work(()=>f1&&f1()||Date.now()>l,i+(c?0:1e5));this.chunkBudget-=Date.now()-t,(f||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Pi.setState.of(new Go(s.context))})),this.chunkBudget>0&&!(f&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Hr(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ia=We.define({combine(n){return n.length?n[0]:null},enables:n=>[Pi.state,YP,Ve.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class KP{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const QP=We.define(),hp=We.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Od(n){let e=n.facet(hp);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function z0(n,e){let t="",r=n.tabSize,i=n.facet(hp)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let s=0;s<e;s++)t+=i;return t}function kv(n,e){n instanceof vt&&(n=new dp(n));for(let r of n.state.facet(QP)){let i=r(n,e);if(i!==void 0)return i}let t=Kn(n.state);return t.length>=e?ZP(n,t,e):null}class dp{constructor(e,t={}){this.state=e,this.options=t,this.unit=Od(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.countColumn(r,e-i),l=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return l>-1&&(s+=l-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,t=e.length){return Jo(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let l=s(i);if(l>-1)return l}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const oT=new ft;function ZP(n,e,t){let r=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=r.node){let s=[];for(let l=i;l&&!(l.from<r.node.from||l.to>r.node.to||l.from==r.node.from&&l.type==r.node.type);l=l.parent)s.push(l);for(let l=s.length-1;l>=0;l--)r={node:s[l],next:r}}return cT(r,n,t)}function cT(n,e,t){for(let r=n;r;r=r.next){let i=eH(r.node);if(i)return i(Ov.create(e,t,r))}return 0}function JP(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function eH(n){let e=n.type.prop(oT);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(ft.closedBy))){let i=n.lastChild,s=i&&r.indexOf(i.name)>-1;return l=>iH(l,!0,1,void 0,s&&!JP(l)?i.from:void 0)}return n.parent==null?tH:null}function tH(){return 0}class Ov extends dp{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new Ov(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(nH(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return cT(this.context.next,this.base,this.pos)}}function nH(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function rH(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),l=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let c=t.to;;){let f=e.childAfter(c);if(!f||f==r)return null;if(!f.type.isSkipped){if(f.from>=l)return null;let h=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+h}}c=f.to}}function iH(n,e,t,r,i){let s=n.textAfter,l=s.match(/^\s*/)[0].length,c=r&&s.slice(l,l+r.length)==r||i==n.pos+l,f=rH(n);return f?c?n.column(f.from):n.column(f.to):n.baseIndent+(c?0:n.unit*t)}function sH({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const aH=200;function lH(){return vt.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+aH)return n;let s=t.sliceString(i.from,r);if(!e.some(h=>h.test(s)))return n;let{state:l}=n,c=-1,f=[];for(let{head:h}of l.selection.ranges){let d=l.doc.lineAt(h);if(d.from==c)continue;c=d.from;let m=kv(l,d.from);if(m==null)continue;let g=/^\s*/.exec(d.text)[0],x=z0(l,m);g!=x&&f.push({from:d.from,to:d.from+g.length,insert:x})}return f.length?[n,{changes:f,sequential:!0}]:n})}const oH=We.define(),fT=new ft;function cH(n,e,t){let r=Kn(n);if(r.length<t)return null;let i=r.resolveStack(t,1),s=null;for(let l=i;l;l=l.next){let c=l.node;if(c.to<=t||c.from>t)continue;if(s&&c.from<e)break;let f=c.type.prop(fT);if(f&&(c.to<r.length-50||r.length==n.doc.length||!fH(c))){let h=f(c,n);h&&h.from<=t&&h.from>=e&&h.to>t&&(s=h)}}return s}function fH(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function Bd(n,e,t){for(let r of n.facet(oH)){let i=r(n,e,t);if(i)return i}return cH(n,e,t)}function uT(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const pp=lt.define({map:uT}),of=lt.define({map:uT});function hT(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const _l=hr.define({create(){return et.none},update(n,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,r)=>n=DE(n,t,r)),n=n.map(e.changes);for(let t of e.effects)if(t.is(pp)&&!uH(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(mT),i=r?et.replace({widget:new vH(r(e.state,t.value))}):kE;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(of)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(n=DE(n,e.selection.main.head)),n},provide:n=>Ve.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(kE.range(r,i))}return et.set(e,!0)}});function DE(n,e,t=e){let r=!1;return n.between(e,t,(i,s)=>{i<t&&s>e&&(r=!0)}),r?n.update({filterFrom:e,filterTo:t,filter:(i,s)=>i>=t||s<=e}):n}function Nd(n,e,t){var r;let i=null;return(r=n.field(_l,!1))===null||r===void 0||r.between(e,t,(s,l)=>{(!i||i.from>s)&&(i={from:s,to:l})}),i}function uH(n,e,t){let r=!1;return n.between(e,e,(i,s)=>{i==e&&s==t&&(r=!0)}),r}function dT(n,e){return n.field(_l,!1)?e:e.concat(lt.appendConfig.of(gT()))}const hH=n=>{for(let e of hT(n)){let t=Bd(n.state,e.from,e.to);if(t)return n.dispatch({effects:dT(n.state,[pp.of(t),pT(n,t)])}),!0}return!1},dH=n=>{if(!n.state.field(_l,!1))return!1;let e=[];for(let t of hT(n)){let r=Nd(n.state,t.from,t.to);r&&e.push(of.of(r),pT(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function pT(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return Ve.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const pH=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),s=Bd(e,i.from,i.to);s&&t.push(pp.of(s)),r=(s?n.lineBlockAt(s.to):i).to+1}return t.length&&n.dispatch({effects:dT(n.state,t)}),!!t.length},mH=n=>{let e=n.state.field(_l,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(of.of({from:r,to:i}))}),n.dispatch({effects:t}),!0},gH=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:hH},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:dH},{key:"Ctrl-Alt-[",run:pH},{key:"Ctrl-Alt-]",run:mH}],xH={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},mT=We.define({combine(n){return ms(n,xH)}});function gT(n){return[_l,SH]}function xT(n,e){let{state:t}=n,r=t.facet(mT),i=l=>{let c=n.lineBlockAt(n.posAtDOM(l.target)),f=Nd(n.state,c.from,c.to);f&&n.dispatch({effects:of.of(f)}),l.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const kE=et.replace({widget:new class extends Xs{toDOM(n){return xT(n,null)}}});class vH extends Xs{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return xT(e,this.value)}}const yH={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class u1 extends Ws{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function bH(n={}){let e={...yH,...n},t=new u1(e,!0),r=new u1(e,!1),i=Sn.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(Ia)!=l.state.facet(Ia)||l.startState.field(_l,!1)!=l.state.field(_l,!1)||Kn(l.startState)!=Kn(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let c=new Vs;for(let f of l.viewportLineBlocks){let h=Nd(l.state,f.from,f.to)?r:Bd(l.state,f.from,f.to)?t:null;h&&c.add(f.from,f.from,h)}return c.finish()}}),{domEventHandlers:s}=e;return[i,bP({class:"cm-foldGutter",markers(l){var c;return((c=l.plugin(i))===null||c===void 0?void 0:c.markers)||St.empty},initialSpacer(){return new u1(e,!1)},domEventHandlers:{...s,click:(l,c,f)=>{if(s.click&&s.click(l,c,f))return!0;let h=Nd(l.state,c.from,c.to);if(h)return l.dispatch({effects:of.of(h)}),!0;let d=Bd(l.state,c.from,c.to);return d?(l.dispatch({effects:pp.of(d)}),!0):!1}}}),gT()]}const SH=Ve.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class cf{constructor(e,t){this.specs=e;let r;function i(c){let f=Ra.newName();return(r||(r=Object.create(null)))["."+f]=c,f}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,l=t.scope;this.scope=l instanceof Pi?c=>c.prop(To)==l.data:l?c=>c==l:void 0,this.style=aT(e.map(c=>({tag:c.tag,class:c.class||i(Object.assign({},c,{tag:null}))})),{all:s}).style,this.module=r?new Ra(r):null,this.themeType=t.themeType}static define(e,t){return new cf(e,t||{})}}const wx=We.define(),vT=We.define({combine(n){return n.length?[n[0]]:null}});function h1(n){let e=n.facet(wx);return e.length?e:n.facet(vT)}function yT(n,e){let t=[EH],r;return n instanceof cf&&(n.module&&t.push(Ve.styleModule.of(n.module)),r=n.themeType),e?.fallback?t.push(vT.of(n)):r?t.push(wx.computeN([Ve.darkTheme],i=>i.facet(Ve.darkTheme)==(r=="dark")?[n]:[])):t.push(wx.of(n)),t}class wH{constructor(e){this.markCache=Object.create(null),this.tree=Kn(e.state),this.decorations=this.buildDeco(e,h1(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Kn(e.state),r=h1(e.state),i=r!=h1(e.startState),{viewport:s}=e.view,l=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!i&&t.type==this.tree.type&&l>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return et.none;let r=new Vs;for(let{from:i,to:s}of e.visibleRanges)VP(this.tree,t,(l,c,f)=>{r.add(l,c,this.markCache[f]||(this.markCache[f]=et.mark({class:f})))},i,s);return r.finish()}}const EH=Ml.high(Sn.fromClass(wH,{decorations:n=>n.decorations})),CH=cf.define([{tag:pe.meta,color:"#404740"},{tag:pe.link,textDecoration:"underline"},{tag:pe.heading,textDecoration:"underline",fontWeight:"bold"},{tag:pe.emphasis,fontStyle:"italic"},{tag:pe.strong,fontWeight:"bold"},{tag:pe.strikethrough,textDecoration:"line-through"},{tag:pe.keyword,color:"#708"},{tag:[pe.atom,pe.bool,pe.url,pe.contentSeparator,pe.labelName],color:"#219"},{tag:[pe.literal,pe.inserted],color:"#164"},{tag:[pe.string,pe.deleted],color:"#a11"},{tag:[pe.regexp,pe.escape,pe.special(pe.string)],color:"#e40"},{tag:pe.definition(pe.variableName),color:"#00f"},{tag:pe.local(pe.variableName),color:"#30a"},{tag:[pe.typeName,pe.namespace],color:"#085"},{tag:pe.className,color:"#167"},{tag:[pe.special(pe.variableName),pe.macroName],color:"#256"},{tag:pe.definition(pe.propertyName),color:"#00c"},{tag:pe.comment,color:"#940"},{tag:pe.invalid,color:"#f00"}]),AH=Ve.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),bT=1e4,ST="()[]{}",wT=We.define({combine(n){return ms(n,{afterCursor:!0,brackets:ST,maxScanDistance:bT,renderMatch:DH})}}),TH=et.mark({class:"cm-matchingBracket"}),_H=et.mark({class:"cm-nonmatchingBracket"});function DH(n){let e=[],t=n.matched?TH:_H;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const kH=hr.define({create(){return et.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(wT);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=cs(e.state,i.head,-1,r)||i.head>0&&cs(e.state,i.head-1,1,r)||r.afterCursor&&(cs(e.state,i.head,1,r)||i.head<e.state.doc.length&&cs(e.state,i.head+1,-1,r));s&&(t=t.concat(r.renderMatch(s,e.state)))}return et.set(t,!0)},provide:n=>Ve.decorations.from(n)}),OH=[kH,AH];function BH(n={}){return[wT.of(n),OH]}const NH=new ft;function Ex(n,e,t){let r=n.prop(e<0?ft.openedBy:ft.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function Cx(n){let e=n.type.prop(NH);return e?e(n.node):n}function cs(n,e,t,r={}){let i=r.maxScanDistance||bT,s=r.brackets||ST,l=Kn(n),c=l.resolveInner(e,t);for(let f=c;f;f=f.parent){let h=Ex(f.type,t,s);if(h&&f.from<f.to){let d=Cx(f);if(d&&(t>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return RH(n,e,t,f,d,h,s)}}return FH(n,e,t,l,c.type,i,s)}function RH(n,e,t,r,i,s,l){let c=r.parent,f={from:i.from,to:i.to},h=0,d=c?.cursor();if(d&&(t<0?d.childBefore(r.from):d.childAfter(r.to)))do if(t<0?d.to<=r.from:d.from>=r.to){if(h==0&&s.indexOf(d.type.name)>-1&&d.from<d.to){let m=Cx(d);return{start:f,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(Ex(d.type,t,l))h++;else if(Ex(d.type,-t,l)){if(h==0){let m=Cx(d);return{start:f,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}h--}}while(t<0?d.prevSibling():d.nextSibling());return{start:f,matched:!1}}function FH(n,e,t,r,i,s,l){let c=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),f=l.indexOf(c);if(f<0||f%2==0!=t>0)return null;let h={from:t<0?e-1:e,to:t>0?e+1:e},d=n.doc.iterRange(e,t>0?n.doc.length:0),m=0;for(let g=0;!d.next().done&&g<=s;){let x=d.value;t<0&&(g+=x.length);let S=e+g*t;for(let b=t>0?0:x.length-1,w=t>0?x.length:-1;b!=w;b+=t){let A=l.indexOf(x[b]);if(!(A<0||r.resolveInner(S+b,1).type!=i))if(A%2==0==t>0)m++;else{if(m==1)return{start:h,end:{from:S+b,to:S+b+1},matched:A>>1==f>>1};m--}}t>0&&(g+=x.length)}return d.done?{start:h,matched:!1}:null}const MH=Object.create(null),OE=[qr.none],BE=[],NE=Object.create(null),LH=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])LH[n]=IH(MH,e);function d1(n,e){BE.indexOf(n)>-1||(BE.push(n),console.warn(e))}function IH(n,e){let t=[];for(let c of e.split(" ")){let f=[];for(let h of c.split(".")){let d=n[h]||pe[h];d?typeof d=="function"?f.length?f=f.map(d):d1(h,`Modifier ${h} used at start of tag`):f.length?d1(h,`Tag ${h} used as modifier`):f=Array.isArray(d)?d:[d]:d1(h,`Unknown highlighting tag ${h}`)}for(let h of f)t.push(h)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(c=>c.id),s=NE[i];if(s)return s.id;let l=NE[i]=qr.define({id:OE.length,name:r,props:[iT({[r]:t})]});return OE.push(l),l.id}nn.RTL,nn.LTR;const PH=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=Nv(n.state,t.from);return r.line?HH(n):r.block?jH(n):!1};function Bv(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const HH=Bv(qH,0),zH=Bv(ET,0),jH=Bv((n,e)=>ET(n,e,VH(e)),0);function Nv(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const e0=50;function UH(n,{open:e,close:t},r,i){let s=n.sliceDoc(r-e0,r),l=n.sliceDoc(i,i+e0),c=/\s*$/.exec(s)[0].length,f=/^\s*/.exec(l)[0].length,h=s.length-c;if(s.slice(h-e.length,h)==e&&l.slice(f,f+t.length)==t)return{open:{pos:r-c,margin:c&&1},close:{pos:i+f,margin:f&&1}};let d,m;i-r<=2*e0?d=m=n.sliceDoc(r,i):(d=n.sliceDoc(r,r+e0),m=n.sliceDoc(i-e0,i));let g=/^\s*/.exec(d)[0].length,x=/\s*$/.exec(m)[0].length,S=m.length-x-t.length;return d.slice(g,g+e.length)==e&&m.slice(S,S+t.length)==t?{open:{pos:r+g+e.length,margin:/\s/.test(d.charAt(g+e.length))?1:0},close:{pos:i-x-t.length,margin:/\s/.test(m.charAt(S-1))?1:0}}:null}function VH(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to);i.from>r.from&&i.from==t.to&&(i=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function ET(n,e,t=e.selection.ranges){let r=t.map(s=>Nv(e,s.from).block);if(!r.every(s=>s))return null;let i=t.map((s,l)=>UH(e,r[l],s.from,s.to));if(n!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,l)=>i[l]?[]:[{from:s.from,insert:r[l].open+" "},{from:s.to,insert:" "+r[l].close}]))};if(n!=1&&i.some(s=>s)){let s=[];for(let l=0,c;l<i.length;l++)if(c=i[l]){let f=r[l],{open:h,close:d}=c;s.push({from:h.pos-f.open.length,to:h.pos+h.margin},{from:d.pos-d.margin,to:d.pos+f.close.length})}return{changes:s}}return null}function qH(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:l}of t){let c=r.length,f=1e9,h=Nv(e,s).line;if(h){for(let d=s;d<=l;){let m=e.doc.lineAt(d);if(m.from>i&&(s==l||l>m.from)){i=m.from;let g=/^\s*/.exec(m.text)[0].length,x=g==m.length,S=m.text.slice(g,g+h.length)==h?g:-1;g<m.text.length&&g<f&&(f=g),r.push({line:m,comment:S,token:h,indent:g,empty:x,single:!1})}d=m.to+1}if(f<1e9)for(let d=c;d<r.length;d++)r[d].indent<r[d].line.text.length&&(r[d].indent=f);r.length==c+1&&(r[c].single=!0)}}if(n!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:c,token:f,indent:h,empty:d,single:m}of r)(m||!d)&&s.push({from:c.from+h,insert:f+" "});let l=e.changes(s);return{changes:l,selection:e.selection.map(l,1)}}else if(n!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:l,comment:c,token:f}of r)if(c>=0){let h=l.from+c,d=h+f.length;l.text[d-l.from]==" "&&d++,s.push({from:h,to:d})}return{changes:s}}return null}const Ax=ps.define(),WH=ps.define(),GH=We.define(),CT=We.define({combine(n){return ms(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}}),AT=hr.define({create(){return fs.empty},update(n,e){let t=e.state.facet(CT),r=e.annotation(Ax);if(r){let f=zr.fromTransaction(e,r.selection),h=r.side,d=h==0?n.undone:n.done;return f?d=Rd(d,d.length,t.minDepth,f):d=DT(d,e.startState.selection),new fs(h==0?r.rest:d,h==0?d:r.rest)}let i=e.annotation(WH);if((i=="full"||i=="before")&&(n=n.isolate()),e.annotation(Hn.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=zr.fromTransaction(e),l=e.annotation(Hn.time),c=e.annotation(Hn.userEvent);return s?n=n.addChanges(s,l,c,t,e):e.selection&&(n=n.addSelection(e.startState.selection,l,c,t.newGroupDelay)),(i=="full"||i=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new fs(n.done.map(zr.fromJSON),n.undone.map(zr.fromJSON))}});function XH(n={}){return[AT,CT.of(n),Ve.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?TT:e.inputType=="historyRedo"?Tx:null;return r?(e.preventDefault(),r(t)):!1}})]}function mp(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(AT,!1);if(!i)return!1;let s=i.pop(n,t,e);return s?(r(s),!0):!1}}const TT=mp(0,!1),Tx=mp(1,!1),$H=mp(0,!0),YH=mp(1,!0);class zr{constructor(e,t,r,i,s){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new zr(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new zr(e.changes&&In.fromJSON(e.changes),[],e.mapped&&us.fromJSON(e.mapped),e.startSelection&&De.fromJSON(e.startSelection),e.selectionsAfter.map(De.fromJSON))}static fromTransaction(e,t){let r=Ci;for(let i of e.startState.facet(GH)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new zr(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,Ci)}static selection(e){return new zr(void 0,Ci,void 0,void 0,e)}}function Rd(n,e,t,r){let i=e+1>t+20?e-t-1:0,s=n.slice(i,e);return s.push(r),s}function KH(n,e){let t=[],r=!1;return n.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,l,c)=>{for(let f=0;f<t.length;){let h=t[f++],d=t[f++];c>=h&&l<=d&&(r=!0)}}),r}function QH(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function _T(n,e){return n.length?e.length?n.concat(e):n:e}const Ci=[],ZH=200;function DT(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-ZH));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),Rd(n,n.length-1,1e9,t.setSelAfter(r)))}else return[zr.selection([e])]}function JH(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function p1(n,e){if(!n.length)return n;let t=n.length,r=Ci;for(;t;){let i=ez(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=n.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,r=i.selectionsAfter}return r.length?[zr.selection(r)]:Ci}function ez(n,e,t){let r=_T(n.selectionsAfter.length?n.selectionsAfter.map(c=>c.map(e)):Ci,t);if(!n.changes)return zr.selection(r);let i=n.changes.map(e),s=e.mapDesc(n.changes,!0),l=n.mapped?n.mapped.composeDesc(s):s;return new zr(i,lt.mapEffects(n.effects,e),l,n.startSelection.map(s),r)}const tz=/^(input\.type|delete)($|\.)/;class fs{constructor(e,t,r=0,i=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new fs(this.done,this.undone):this}addChanges(e,t,r,i,s){let l=this.done,c=l[l.length-1];return c&&c.changes&&!c.changes.empty&&e.changes&&(!r||tz.test(r))&&(!c.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,KH(c.changes,e.changes))||r=="input.type.compose")?l=Rd(l,l.length-1,i.minDepth,new zr(e.changes.compose(c.changes),_T(lt.mapEffects(e.effects,c.changes),c.effects),c.mapped,c.startSelection,Ci)):l=Rd(l,l.length,i.minDepth,e),new fs(l,Ci,t,r)}addSelection(e,t,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Ci;return s.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&QH(s[s.length-1],e)?this:new fs(DT(this.done,e),this.undone,t,r)}addMapping(e){return new fs(p1(this.done,e),p1(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],l=s.selectionsAfter[0]||t.selection;if(r&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:Ax.of({side:e,rest:JH(i),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let c=i.length==1?Ci:i.slice(0,i.length-1);return s.mapped&&(c=p1(c,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:Ax.of({side:e,rest:c,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}fs.empty=new fs(Ci,Ci);const nz=[{key:"Mod-z",run:TT,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Tx,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Tx,preventDefault:!0},{key:"Mod-u",run:$H,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:YH,preventDefault:!0}];function ec(n,e){return De.create(n.ranges.map(e),n.mainIndex)}function qi(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Wi({state:n,dispatch:e},t){let r=ec(n.selection,t);return r.eq(n.selection,!0)?!1:(e(qi(n,r)),!0)}function gp(n,e){return De.cursor(e?n.to:n.from)}function kT(n,e){return Wi(n,t=>t.empty?n.moveByChar(t,e):gp(t,e))}function yr(n){return n.textDirectionAt(n.state.selection.main.head)==nn.LTR}const OT=n=>kT(n,!yr(n)),BT=n=>kT(n,yr(n));function NT(n,e){return Wi(n,t=>t.empty?n.moveByGroup(t,e):gp(t,e))}const rz=n=>NT(n,!yr(n)),iz=n=>NT(n,yr(n));function sz(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function xp(n,e,t){let r=Kn(n).resolveInner(e.head),i=t?ft.closedBy:ft.openedBy;for(let f=e.head;;){let h=t?r.childAfter(f):r.childBefore(f);if(!h)break;sz(n,h,i)?r=h:f=t?h.to:h.from}let s=r.type.prop(i),l,c;return s&&(l=t?cs(n,r.from,1):cs(n,r.to,-1))&&l.matched?c=t?l.end.to:l.end.from:c=t?r.to:r.from,De.cursor(c,t?-1:1)}const az=n=>Wi(n,e=>xp(n.state,e,!yr(n))),lz=n=>Wi(n,e=>xp(n.state,e,yr(n)));function RT(n,e){return Wi(n,t=>{if(!t.empty)return gp(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const FT=n=>RT(n,!1),MT=n=>RT(n,!0);function LT(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let s of n.state.facet(Ve.scrollMargins)){let l=s(n);l?.top&&(t=Math.max(l?.top,t)),l?.bottom&&(r=Math.max(l?.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function IT(n,e){let t=LT(n),{state:r}=n,i=ec(r.selection,l=>l.empty?n.moveVertically(l,e,t.height):gp(l,e));if(i.eq(r.selection))return!1;let s;if(t.selfScroll){let l=n.coordsAtPos(r.selection.main.head),c=n.scrollDOM.getBoundingClientRect(),f=c.top+t.marginTop,h=c.bottom-t.marginBottom;l&&l.top>f&&l.bottom<h&&(s=Ve.scrollIntoView(i.main.head,{y:"start",yMargin:l.top-f}))}return n.dispatch(qi(r,i),{effects:s}),!0}const RE=n=>IT(n,!1),_x=n=>IT(n,!0);function ja(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let s=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=De.cursor(r.from+s))}return i}const oz=n=>Wi(n,e=>ja(n,e,!0)),cz=n=>Wi(n,e=>ja(n,e,!1)),fz=n=>Wi(n,e=>ja(n,e,!yr(n))),uz=n=>Wi(n,e=>ja(n,e,yr(n))),hz=n=>Wi(n,e=>De.cursor(n.lineBlockAt(e.head).from,1)),dz=n=>Wi(n,e=>De.cursor(n.lineBlockAt(e.head).to,-1));function pz(n,e,t){let r=!1,i=ec(n.selection,s=>{let l=cs(n,s.head,-1)||cs(n,s.head,1)||s.head>0&&cs(n,s.head-1,1)||s.head<n.doc.length&&cs(n,s.head+1,-1);if(!l||!l.end)return s;r=!0;let c=l.start.from==s.head?l.end.to:l.end.from;return De.cursor(c)});return r?(e(qi(n,i)),!0):!1}const mz=({state:n,dispatch:e})=>pz(n,e);function Oi(n,e){let t=ec(n.state.selection,r=>{let i=e(r);return De.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(qi(n.state,t)),!0)}function PT(n,e){return Oi(n,t=>n.moveByChar(t,e))}const HT=n=>PT(n,!yr(n)),zT=n=>PT(n,yr(n));function jT(n,e){return Oi(n,t=>n.moveByGroup(t,e))}const gz=n=>jT(n,!yr(n)),xz=n=>jT(n,yr(n)),vz=n=>Oi(n,e=>xp(n.state,e,!yr(n))),yz=n=>Oi(n,e=>xp(n.state,e,yr(n)));function UT(n,e){return Oi(n,t=>n.moveVertically(t,e))}const VT=n=>UT(n,!1),qT=n=>UT(n,!0);function WT(n,e){return Oi(n,t=>n.moveVertically(t,e,LT(n).height))}const FE=n=>WT(n,!1),ME=n=>WT(n,!0),bz=n=>Oi(n,e=>ja(n,e,!0)),Sz=n=>Oi(n,e=>ja(n,e,!1)),wz=n=>Oi(n,e=>ja(n,e,!yr(n))),Ez=n=>Oi(n,e=>ja(n,e,yr(n))),Cz=n=>Oi(n,e=>De.cursor(n.lineBlockAt(e.head).from)),Az=n=>Oi(n,e=>De.cursor(n.lineBlockAt(e.head).to)),LE=({state:n,dispatch:e})=>(e(qi(n,{anchor:0})),!0),IE=({state:n,dispatch:e})=>(e(qi(n,{anchor:n.doc.length})),!0),PE=({state:n,dispatch:e})=>(e(qi(n,{anchor:n.selection.main.anchor,head:0})),!0),HE=({state:n,dispatch:e})=>(e(qi(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),Tz=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),_z=({state:n,dispatch:e})=>{let t=vp(n).map(({from:r,to:i})=>De.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:De.create(t),userEvent:"select"})),!0},Dz=({state:n,dispatch:e})=>{let t=ec(n.selection,r=>{let i=Kn(n),s=i.resolveStack(r.from,1);if(r.empty){let l=i.resolveStack(r.from,-1);l.node.from>=s.node.from&&l.node.to<=s.node.to&&(s=l)}for(let l=s;l;l=l.next){let{node:c}=l;if((c.from<r.from&&c.to>=r.to||c.to>r.to&&c.from<=r.from)&&l.next)return De.range(c.to,c.from)}return r});return t.eq(n.selection)?!1:(e(qi(n,t)),!0)};function GT(n,e){let{state:t}=n,r=t.selection,i=t.selection.ranges.slice();for(let s of t.selection.ranges){let l=t.doc.lineAt(s.head);if(e?l.to<n.state.doc.length:l.from>0)for(let c=s;;){let f=n.moveVertically(c,e);if(f.head<l.from||f.head>l.to){i.some(h=>h.head==f.head)||i.push(f);break}else{if(f.head==c.head)break;c=f}}}return i.length==r.ranges.length?!1:(n.dispatch(qi(t,De.create(i,i.length-1))),!0)}const kz=n=>GT(n,!1),Oz=n=>GT(n,!0),Bz=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=De.create([t.main]):t.main.empty||(r=De.create([De.cursor(t.main.head)])),r?(e(qi(n,r)),!0):!1};function ff(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(s=>{let{from:l,to:c}=s;if(l==c){let f=e(s);f<l?(t="delete.backward",f=eh(n,f,!1)):f>l&&(t="delete.forward",f=eh(n,f,!0)),l=Math.min(l,f),c=Math.max(c,f)}else l=eh(n,l,!1),c=eh(n,c,!0);return l==c?{range:s}:{changes:{from:l,to:c},range:De.cursor(l,l<s.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?Ve.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function eh(n,e,t){if(n instanceof Ve)for(let r of n.state.facet(Ve.atomicRanges).map(i=>i(n)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const XT=(n,e,t)=>ff(n,r=>{let i=r.from,{state:s}=n,l=s.doc.lineAt(i),c,f;if(t&&!e&&i>l.from&&i<l.from+200&&!/[^ \t]/.test(c=l.text.slice(0,i-l.from))){if(c[c.length-1]=="	")return i-1;let h=Jo(c,s.tabSize),d=h%Od(s)||Od(s);for(let m=0;m<d&&c[c.length-1-m]==" ";m++)i--;f=i}else f=cr(l.text,i-l.from,e,e)+l.from,f==i&&l.number!=(e?s.doc.lines:1)?f+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(f-l.from,i-l.from))&&(f=cr(l.text,f-l.from,!1,!1)+l.from);return f}),Dx=n=>XT(n,!1,!0),$T=n=>XT(n,!0,!1),YT=(n,e)=>ff(n,t=>{let r=t.head,{state:i}=n,s=i.doc.lineAt(r),l=i.charCategorizer(r);for(let c=null;;){if(r==(e?s.to:s.from)){r==t.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let f=cr(s.text,r-s.from,e)+s.from,h=s.text.slice(Math.min(r,f)-s.from,Math.max(r,f)-s.from),d=l(h);if(c!=null&&d!=c)break;(h!=" "||r!=t.head)&&(c=d),r=f}return r}),KT=n=>YT(n,!1),Nz=n=>YT(n,!0),Rz=n=>ff(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),Fz=n=>ff(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),Mz=n=>ff(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),Lz=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:wt.of(["",""])},range:De.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},Iz=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,s=n.doc.lineAt(i),l=i==s.from?i-1:cr(s.text,i-s.from,!1)+s.from,c=i==s.to?i+1:cr(s.text,i-s.from,!0)+s.from;return{changes:{from:l,to:c,insert:n.doc.slice(i,c).append(n.doc.slice(l,i))},range:De.cursor(c)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function vp(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),s=n.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=n.doc.lineAt(r.to-1)),t>=i.number){let l=e[e.length-1];l.to=s.to,l.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});t=s.number+1}return e}function QT(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let s of vp(n)){if(t?s.to==n.doc.length:s.from==0)continue;let l=n.doc.lineAt(t?s.to+1:s.from-1),c=l.length+1;if(t){r.push({from:s.to,to:l.to},{from:s.from,insert:l.text+n.lineBreak});for(let f of s.ranges)i.push(De.range(Math.min(n.doc.length,f.anchor+c),Math.min(n.doc.length,f.head+c)))}else{r.push({from:l.from,to:s.from},{from:s.to,insert:n.lineBreak+l.text});for(let f of s.ranges)i.push(De.range(f.anchor-c,f.head-c))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:De.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Pz=({state:n,dispatch:e})=>QT(n,e,!1),Hz=({state:n,dispatch:e})=>QT(n,e,!0);function ZT(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of vp(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const zz=({state:n,dispatch:e})=>ZT(n,e,!1),jz=({state:n,dispatch:e})=>ZT(n,e,!0),Uz=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(vp(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=ec(e.selection,i=>{let s;if(n.lineWrapping){let l=n.lineBlockAt(i.head),c=n.coordsAtPos(i.head,i.assoc||1);c&&(s=l.bottom+n.documentTop-c.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,s)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Vz(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Kn(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(ft.closedBy))&&s.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const zE=JT(!1),qz=JT(!0);function JT(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:l}=i,c=e.doc.lineAt(s),f=!n&&s==l&&Vz(e,s);n&&(s=l=(l<=c.to?c:e.doc.lineAt(l)).to);let h=new dp(e,{simulateBreak:s,simulateDoubleBreak:!!f}),d=kv(h,s);for(d==null&&(d=Jo(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));l<c.to&&/\s/.test(c.text[l-c.from]);)l++;f?{from:s,to:l}=f:s>c.from&&s<c.from+100&&!/\S/.test(c.text.slice(0,s))&&(s=c.from);let m=["",z0(e,d)];return f&&m.push(z0(e,h.lineIndent(c.from,-1))),{changes:{from:s,to:l,insert:wt.of(m)},range:De.cursor(s+1+m[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Rv(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let l=r.from;l<=r.to;){let c=n.doc.lineAt(l);c.number>t&&(r.empty||r.to>c.from)&&(e(c,i,r),t=c.number),l=c.to+1}let s=n.changes(i);return{changes:i,range:De.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const Wz=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new dp(n,{overrideIndentation:s=>{let l=t[s];return l??-1}}),i=Rv(n,(s,l,c)=>{let f=kv(r,s.from);if(f==null)return;/\S/.test(s.text)||(f=0);let h=/^\s*/.exec(s.text)[0],d=z0(n,f);(h!=d||c.from<s.from+h.length)&&(t[s.from]=f,l.push({from:s.from,to:s.from+h.length,insert:d}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},e6=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Rv(n,(t,r)=>{r.push({from:t.from,insert:n.facet(hp)})}),{userEvent:"input.indent"})),!0),t6=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Rv(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=Jo(i,n.tabSize),l=0,c=z0(n,Math.max(0,s-Od(n)));for(;l<i.length&&l<c.length&&i.charCodeAt(l)==c.charCodeAt(l);)l++;r.push({from:t.from+l,to:t.from+i.length,insert:c.slice(l)})}),{userEvent:"delete.dedent"})),!0),Gz=n=>(n.setTabFocusMode(),!0),Xz=[{key:"Ctrl-b",run:OT,shift:HT,preventDefault:!0},{key:"Ctrl-f",run:BT,shift:zT},{key:"Ctrl-p",run:FT,shift:VT},{key:"Ctrl-n",run:MT,shift:qT},{key:"Ctrl-a",run:hz,shift:Cz},{key:"Ctrl-e",run:dz,shift:Az},{key:"Ctrl-d",run:$T},{key:"Ctrl-h",run:Dx},{key:"Ctrl-k",run:Rz},{key:"Ctrl-Alt-h",run:KT},{key:"Ctrl-o",run:Lz},{key:"Ctrl-t",run:Iz},{key:"Ctrl-v",run:_x}],$z=[{key:"ArrowLeft",run:OT,shift:HT,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:rz,shift:gz,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:fz,shift:wz,preventDefault:!0},{key:"ArrowRight",run:BT,shift:zT,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:iz,shift:xz,preventDefault:!0},{mac:"Cmd-ArrowRight",run:uz,shift:Ez,preventDefault:!0},{key:"ArrowUp",run:FT,shift:VT,preventDefault:!0},{mac:"Cmd-ArrowUp",run:LE,shift:PE},{mac:"Ctrl-ArrowUp",run:RE,shift:FE},{key:"ArrowDown",run:MT,shift:qT,preventDefault:!0},{mac:"Cmd-ArrowDown",run:IE,shift:HE},{mac:"Ctrl-ArrowDown",run:_x,shift:ME},{key:"PageUp",run:RE,shift:FE},{key:"PageDown",run:_x,shift:ME},{key:"Home",run:cz,shift:Sz,preventDefault:!0},{key:"Mod-Home",run:LE,shift:PE},{key:"End",run:oz,shift:bz,preventDefault:!0},{key:"Mod-End",run:IE,shift:HE},{key:"Enter",run:zE,shift:zE},{key:"Mod-a",run:Tz},{key:"Backspace",run:Dx,shift:Dx,preventDefault:!0},{key:"Delete",run:$T,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:KT,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:Nz,preventDefault:!0},{mac:"Mod-Backspace",run:Fz,preventDefault:!0},{mac:"Mod-Delete",run:Mz,preventDefault:!0}].concat(Xz.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),Yz=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:az,shift:vz},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:lz,shift:yz},{key:"Alt-ArrowUp",run:Pz},{key:"Shift-Alt-ArrowUp",run:zz},{key:"Alt-ArrowDown",run:Hz},{key:"Shift-Alt-ArrowDown",run:jz},{key:"Mod-Alt-ArrowUp",run:kz},{key:"Mod-Alt-ArrowDown",run:Oz},{key:"Escape",run:Bz},{key:"Mod-Enter",run:qz},{key:"Alt-l",mac:"Ctrl-l",run:_z},{key:"Mod-i",run:Dz,preventDefault:!0},{key:"Mod-[",run:t6},{key:"Mod-]",run:e6},{key:"Mod-Alt-\\",run:Wz},{key:"Shift-Mod-k",run:Uz},{key:"Shift-Mod-\\",run:mz},{key:"Mod-/",run:PH},{key:"Alt-A",run:zH},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Gz}].concat($z),Kz={key:"Tab",run:e6,shift:t6},jE=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class Xo{constructor(e,t,r=0,i=e.length,s,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?c=>s(jE(c)):jE,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Ir(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=fv(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=ls(e);let i=this.normalize(t);if(i.length)for(let s=0,l=r;;s++){let c=i.charCodeAt(s),f=this.match(c,l,this.bufferPos+this.bufferStart);if(s==i.length-1){if(f)return this.value=f,this;break}l==r&&s<t.length&&t.charCodeAt(s)==c&&l++}}}match(e,t,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let l=this.matches[s],c=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,c=!0)),c||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Xo.prototype[Symbol.iterator]=function(){return this});const n6={from:-1,to:-1,match:/.*/.exec("")},Fv="gm"+(/x/.unicode==null?"":"u");class r6{constructor(e,t,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=n6,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new i6(e,t,r,i,s);this.re=new RegExp(t,Fv+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let l=e.lineAt(i);this.curLineStart=l.from,this.matchPos=Fd(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=Fd(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const m1=new WeakMap;class Lo{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=m1.get(e);if(!i||i.from>=r||i.to<=t){let c=new Lo(t,e.sliceString(t,r));return m1.set(e,c),c}if(i.from==t&&i.to==r)return i;let{text:s,from:l}=i;return l>t&&(s=e.sliceString(t,l)+s,l=t),i.to<r&&(s+=e.sliceString(i.to,r)),m1.set(e,new Lo(l,s)),new Lo(t,s.slice(t-l,r-l))}}class i6{constructor(e,t,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=n6,this.matchPos=Fd(e,i),this.re=new RegExp(t,Fv+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=Lo.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=Fd(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Lo.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(r6.prototype[Symbol.iterator]=i6.prototype[Symbol.iterator]=function(){return this});function Qz(n){try{return new RegExp(n,Fv),!0}catch{return!1}}function Fd(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function kx(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=$t("input",{class:"cm-textfield",name:"line",value:e}),r=$t("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),n.dispatch({effects:y0.of(!1)}),n.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},$t("label",n.state.phrase("Go to line"),": ",t)," ",$t("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),$t("button",{name:"close",onclick:()=>{n.dispatch({effects:y0.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},[""]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:l}=n,c=l.doc.lineAt(l.selection.main.head),[,f,h,d,m]=s,g=d?+d.slice(1):0,x=h?+h:c.number;if(h&&m){let w=x/100;f&&(w=w*(f=="-"?-1:1)+c.number/l.doc.lines),x=Math.round(l.doc.lines*w)}else h&&f&&(x=x*(f=="-"?-1:1)+c.number);let S=l.doc.line(Math.max(1,Math.min(l.doc.lines,x))),b=De.cursor(S.from+Math.max(0,Math.min(g,S.length)));n.dispatch({effects:[y0.of(!1),Ve.scrollIntoView(b.from,{y:"center"})],selection:b}),n.focus()}return{dom:r}}const y0=lt.define(),UE=hr.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(y0)&&(n=t.value);return n},provide:n=>I0.from(n,e=>e?kx:null)}),Zz=n=>{let e=L0(n,kx);if(!e){let t=[y0.of(!0)];n.state.field(UE,!1)==null&&t.push(lt.appendConfig.of([UE,Jz])),n.dispatch({effects:t}),e=L0(n,kx)}return e&&e.dom.querySelector("input").select(),!0},Jz=Ve.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),ej={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},tj=We.define({combine(n){return ms(n,ej,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function nj(n){return[lj,aj]}const rj=et.mark({class:"cm-selectionMatch"}),ij=et.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function VE(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=fn.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=fn.Word)}function sj(n,e,t,r){return n(e.sliceDoc(t,t+1))==fn.Word&&n(e.sliceDoc(r-1,r))==fn.Word}const aj=Sn.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(tj),{state:t}=n,r=t.selection;if(r.ranges.length>1)return et.none;let i=r.main,s,l=null;if(i.empty){if(!e.highlightWordAroundCursor)return et.none;let f=t.wordAt(i.head);if(!f)return et.none;l=t.charCategorizer(i.head),s=t.sliceDoc(f.from,f.to)}else{let f=i.to-i.from;if(f<e.minSelectionLength||f>200)return et.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),l=t.charCategorizer(i.head),!(VE(l,t,i.from,i.to)&&sj(l,t,i.from,i.to)))return et.none}else if(s=t.sliceDoc(i.from,i.to),!s)return et.none}let c=[];for(let f of n.visibleRanges){let h=new Xo(t.doc,s,f.from,f.to);for(;!h.next().done;){let{from:d,to:m}=h.value;if((!l||VE(l,t,d,m))&&(i.empty&&d<=i.from&&m>=i.to?c.push(ij.range(d,m)):(d>=i.to||m<=i.from)&&c.push(rj.range(d,m)),c.length>e.maxMatches))return et.none}}return et.set(c)}},{decorations:n=>n.decorations}),lj=Ve.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),oj=({state:n,dispatch:e})=>{let{selection:t}=n,r=De.create(t.ranges.map(i=>n.wordAt(i.head)||De.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function cj(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let l=!1,c=new Xo(n.doc,e,r[r.length-1].to);;)if(c.next(),c.done){if(l)return null;c=new Xo(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),l=!0}else{if(l&&r.some(f=>f.from==c.value.from))continue;if(s){let f=n.wordAt(c.value.from);if(!f||f.from!=c.value.from||f.to!=c.value.to)continue}return c.value}}const fj=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return oj({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=r))return!1;let i=cj(n,r);return i?(e(n.update({selection:n.selection.addRange(De.range(i.from,i.to),!1),effects:Ve.scrollIntoView(i.to)})),!0):!1},tc=We.define({combine(n){return ms(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new wj(e),scrollToMatch:e=>Ve.scrollIntoView(e)})}});class s6{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Qz(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new pj(this):new hj(this)}getCursor(e,t=0,r){let i=e.doc?e:vt.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?wo(this,i,t,r):So(this,i,t,r)}}class a6{constructor(e){this.spec=e}}function So(n,e,t,r){return new Xo(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?uj(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function uj(n,e){return(t,r,i,s)=>((s>t||s+i.length<r)&&(s=Math.max(0,t-2),i=n.sliceString(s,Math.min(n.length,r+2))),(e(Md(i,t-s))!=fn.Word||e(Ld(i,t-s))!=fn.Word)&&(e(Ld(i,r-s))!=fn.Word||e(Md(i,r-s))!=fn.Word))}class hj extends a6{constructor(e){super(e)}nextMatch(e,t,r){let i=So(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);i=So(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==r?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),l=So(this.spec,e,s,i),c=null;for(;!l.nextOverlapping().done;)c=l.value;if(c)return c;if(s==t)return null;i-=1e4}}prevMatch(e,t,r){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=So(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=So(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function wo(n,e,t,r){return new r6(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?dj(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function Md(n,e){return n.slice(cr(n,e,!1),e)}function Ld(n,e){return n.slice(e,cr(n,e))}function dj(n){return(e,t,r)=>!r[0].length||(n(Md(r.input,r.index))!=fn.Word||n(Ld(r.input,r.index))!=fn.Word)&&(n(Ld(r.input,r.index+r[0].length))!=fn.Word||n(Md(r.input,r.index+r[0].length))!=fn.Word)}class pj extends a6{nextMatch(e,t,r){let i=wo(this.spec,e,r,e.doc.length).next();return i.done&&(i=wo(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let s=Math.max(t,r-i*1e4),l=wo(this.spec,e,s,r),c=null;for(;!l.next().done;)c=l.value;if(c&&(s==t||c.from>s+10))return c;if(s==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return t})}matchAll(e,t){let r=wo(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=wo(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const j0=lt.define(),Mv=lt.define(),ka=hr.define({create(n){return new g1(Ox(n).create(),null)},update(n,e){for(let t of e.effects)t.is(j0)?n=new g1(t.value.create(),n.panel):t.is(Mv)&&(n=new g1(n.query,t.value?Lv:null));return n},provide:n=>I0.from(n,e=>e.panel)});class g1{constructor(e,t){this.query=e,this.panel=t}}const mj=et.mark({class:"cm-searchMatch"}),gj=et.mark({class:"cm-searchMatch cm-searchMatch-selected"}),xj=Sn.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(ka))}update(n){let e=n.state.field(ka);(e!=n.startState.field(ka)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return et.none;let{view:t}=this,r=new Vs;for(let i=0,s=t.visibleRanges,l=s.length;i<l;i++){let{from:c,to:f}=s[i];for(;i<l-1&&f>s[i+1].from-500;)f=s[++i].to;n.highlight(t.state,c,f,(h,d)=>{let m=t.state.selection.ranges.some(g=>g.from==h&&g.to==d);r.add(h,d,m?gj:mj)})}return r.finish()}},{decorations:n=>n.decorations});function uf(n){return e=>{let t=e.state.field(ka,!1);return t&&t.query.spec.valid?n(e,t):c6(e)}}const Id=uf((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=De.single(r.from,r.to),s=n.state.facet(tc);return n.dispatch({selection:i,effects:[Iv(n,r),s.scrollToMatch(i.main,n)],userEvent:"select.search"}),o6(n),!0}),Pd=uf((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let s=De.single(i.from,i.to),l=n.state.facet(tc);return n.dispatch({selection:s,effects:[Iv(n,i),l.scrollToMatch(s.main,n)],userEvent:"select.search"}),o6(n),!0}),vj=uf((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:De.create(t.map(r=>De.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),yj=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,s=[],l=0;for(let c=new Xo(n.doc,n.sliceDoc(r,i));!c.next().done;){if(s.length>1e3)return!1;c.value.from==r&&(l=s.length),s.push(De.range(c.value.from,c.value.to))}return e(n.update({selection:De.create(s,l),userEvent:"select.search.matches"})),!0},qE=uf((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,r,r);if(!s)return!1;let l=s,c=[],f,h,d=[];l.from==r&&l.to==i&&(h=t.toText(e.getReplacement(l)),c.push({from:l.from,to:l.to,insert:h}),l=e.nextMatch(t,l.from,l.to),d.push(Ve.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+".")));let m=n.state.changes(c);return l&&(f=De.single(l.from,l.to).map(m),d.push(Iv(n,l)),d.push(t.facet(tc).scrollToMatch(f.main,n))),n.dispatch({changes:m,selection:f,effects:d,userEvent:"input.replace"}),!0}),bj=uf((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:s,to:l}=i;return{from:s,to:l,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:Ve.announce.of(r),userEvent:"input.replace.all"}),!0});function Lv(n){return n.state.facet(tc).createPanel(n)}function Ox(n,e){var t,r,i,s,l;let c=n.selection.main,f=c.empty||c.to>c.from+100?"":n.sliceDoc(c.from,c.to);if(e&&!f)return e;let h=n.facet(tc);return new s6({search:((t=e?.literal)!==null&&t!==void 0?t:h.literal)?f:f.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:h.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:h.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:h.regexp,wholeWord:(l=e?.wholeWord)!==null&&l!==void 0?l:h.wholeWord})}function l6(n){let e=L0(n,Lv);return e&&e.dom.querySelector("[main-field]")}function o6(n){let e=l6(n);e&&e==n.root.activeElement&&e.select()}const c6=n=>{let e=n.state.field(ka,!1);if(e&&e.panel){let t=l6(n);if(t&&t!=n.root.activeElement){let r=Ox(n.state,e.query.spec);r.valid&&n.dispatch({effects:j0.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[Mv.of(!0),e?j0.of(Ox(n.state,e.query.spec)):lt.appendConfig.of(Cj)]});return!0},f6=n=>{let e=n.state.field(ka,!1);if(!e||!e.panel)return!1;let t=L0(n,Lv);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:Mv.of(!1)}),!0},Sj=[{key:"Mod-f",run:c6,scope:"editor search-panel"},{key:"F3",run:Id,shift:Pd,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Id,shift:Pd,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:f6,scope:"editor search-panel"},{key:"Mod-Shift-l",run:yj},{key:"Mod-Alt-g",run:Zz},{key:"Mod-d",run:fj,preventDefault:!0}];class wj{constructor(e){this.view=e;let t=this.query=e.state.field(ka).query.spec;this.commit=this.commit.bind(this),this.searchField=$t("input",{value:t.search,placeholder:Jr(e,"Find"),"aria-label":Jr(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=$t("input",{value:t.replace,placeholder:Jr(e,"Replace"),"aria-label":Jr(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=$t("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=$t("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=$t("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function r(i,s,l){return $t("button",{class:"cm-button",name:i,onclick:s,type:"button"},l)}this.dom=$t("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>Id(e),[Jr(e,"next")]),r("prev",()=>Pd(e),[Jr(e,"previous")]),r("select",()=>vj(e),[Jr(e,"all")]),$t("label",null,[this.caseField,Jr(e,"match case")]),$t("label",null,[this.reField,Jr(e,"regexp")]),$t("label",null,[this.wordField,Jr(e,"by word")]),...e.state.readOnly?[]:[$t("br"),this.replaceField,r("replace",()=>qE(e),[Jr(e,"replace")]),r("replaceAll",()=>bj(e),[Jr(e,"replace all")])],$t("button",{name:"close",onclick:()=>f6(e),"aria-label":Jr(e,"close"),type:"button"},[""])])}commit(){let e=new s6({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:j0.of(e)}))}keydown(e){DI(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Pd:Id)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),qE(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(j0)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(tc).top}}function Jr(n,e){return n.state.phrase(e)}const th=30,nh=/[\s\.,:;?!]/;function Iv(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,s=Math.max(r.from,e-th),l=Math.min(i,t+th),c=n.state.sliceDoc(s,l);if(s!=r.from){for(let f=0;f<th;f++)if(!nh.test(c[f+1])&&nh.test(c[f])){c=c.slice(f);break}}if(l!=i){for(let f=c.length-1;f>c.length-th;f--)if(!nh.test(c[f-1])&&nh.test(c[f])){c=c.slice(0,f);break}}return Ve.announce.of(`${n.state.phrase("current match")}. ${c} ${n.state.phrase("on line")} ${r.number}.`)}const Ej=Ve.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Cj=[ka,Ml.low(xj),Ej];class u6{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Kn(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),s=i.search(d6(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function WE(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Aj(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=WE(e)+WE(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function h6(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Aj(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function Tj(n,e){return t=>{for(let r=Kn(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}class GE{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function yl(n){return n.selection.main.from}function d6(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?n:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const p6=ps.define();function _j(n,e,t,r){let{main:i}=n.selection,s=t-i.from,l=r-i.from;return{...n.changeByRange(c=>{if(c!=i&&t!=r&&n.sliceDoc(c.from+s,c.from+l)!=n.sliceDoc(t,r))return{range:c};let f=n.toText(e);return{changes:{from:c.from+s,to:r==i.from?c.to:c.from+l,insert:f},range:De.cursor(c.from+s+f.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const XE=new WeakMap;function Dj(n){if(!Array.isArray(n))return n;let e=XE.get(n);return e||XE.set(n,e=h6(n)),e}const Hd=lt.define(),U0=lt.define();class kj{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=Ir(e,t),i=ls(r);this.chars.push(r);let s=e.slice(t,t+i),l=s.toUpperCase();this.folded.push(Ir(l==s?s.toLowerCase():l,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:s,byWord:l}=this;if(t.length==1){let C=Ir(e,0),E=ls(C),D=E==e.length?0:-100;if(C!=t[0])if(C==r[0])D+=-200;else return null;return this.ret(D,[0,E])}let c=e.indexOf(this.pattern);if(c==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let f=t.length,h=0;if(c<0){for(let C=0,E=Math.min(e.length,200);C<E&&h<f;){let D=Ir(e,C);(D==t[h]||D==r[h])&&(i[h++]=C),C+=ls(D)}if(h<f)return null}let d=0,m=0,g=!1,x=0,S=-1,b=-1,w=/[a-z]/.test(e),A=!0;for(let C=0,E=Math.min(e.length,200),D=0;C<E&&m<f;){let B=Ir(e,C);c<0&&(d<f&&B==t[d]&&(s[d++]=C),x<f&&(B==t[x]||B==r[x]?(x==0&&(S=C),b=C+1,x++):x=0));let N,k=B<255?B>=48&&B<=57||B>=97&&B<=122?2:B>=65&&B<=90?1:0:(N=fv(B))!=N.toLowerCase()?1:N!=N.toUpperCase()?2:0;(!C||k==1&&w||D==0&&k!=0)&&(t[m]==B||r[m]==B&&(g=!0)?l[m++]=C:l.length&&(A=!1)),D=k,C+=ls(B)}return m==f&&l[0]==0&&A?this.result(-100+(g?-200:0),l,e):x==f&&S==0?this.ret(-200-e.length+(b==e.length?0:-100),[0,b]):c>-1?this.ret(-700-e.length,[c,c+this.pattern.length]):x==f?this.ret(-900-e.length,[S,b]):m==f?this.result(-100+(g?-200:0)+-700+(A?0:-1100),l,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],s=0;for(let l of t){let c=l+(this.astral?ls(Ir(r,l)):1);s&&i[s-1]==l?i[s-1]=c:(i[s++]=l,i[s++]=c)}return this.ret(e-r.length,i)}}class Oj{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Xn=We.define({combine(n){return ms(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Bj,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>$E(e(r),t(r)),optionClass:(e,t)=>r=>$E(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function $E(n,e){return n?e?n+" "+e:n:e}function Bj(n,e,t,r,i,s){let l=n.textDirection==nn.RTL,c=l,f=!1,h="top",d,m,g=e.left-i.left,x=i.right-e.right,S=r.right-r.left,b=r.bottom-r.top;if(c&&g<Math.min(S,x)?c=!1:!c&&x<Math.min(S,g)&&(c=!0),S<=(c?g:x))d=Math.max(i.top,Math.min(t.top,i.bottom-b))-e.top,m=Math.min(400,c?g:x);else{f=!0,m=Math.min(400,(l?e.right:i.right-e.left)-30);let C=i.bottom-e.bottom;C>=b||C>e.top?d=t.bottom-e.top:(h="bottom",d=e.bottom-t.top)}let w=(e.bottom-e.top)/s.offsetHeight,A=(e.right-e.left)/s.offsetWidth;return{style:`${h}: ${d/w}px; max-width: ${m/A}px`,class:"cm-completionInfo-"+(f?l?"left-narrow":"right-narrow":c?"left":"right")}}function Nj(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i,s){let l=document.createElement("span");l.className="cm-completionLabel";let c=t.displayLabel||t.label,f=0;for(let h=0;h<s.length;){let d=s[h++],m=s[h++];d>f&&l.appendChild(document.createTextNode(c.slice(f,d)));let g=l.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(c.slice(d,m))),g.className="cm-completionMatchedText",f=m}return f<c.length&&l.appendChild(document.createTextNode(c.slice(f))),l},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function x1(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class Rj{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:f=>this.placeInfo(f),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:l}=i.open,c=e.state.facet(Xn);this.optionContent=Nj(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=x1(s.length,l,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",f=>{let{options:h}=e.state.field(t).open;for(let d=f.target,m;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(m=/-(\d+)$/.exec(d.id))&&+m[1]<h.length){this.applyCompletion(e,h[+m[1]]),f.preventDefault();return}}),this.dom.addEventListener("focusout",f=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(Xn).closeOnBlur&&f.relatedTarget!=e.contentDOM&&e.dispatch({effects:U0.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:l,disabled:c}=r.open;(!i.open||i.open.options!=s)&&(this.range=x1(s.length,l,e.state.facet(Xn).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),c!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=x1(t.options.length,t.selected,this.view.state.facet(Xn).maxRenderedOptions),this.showOptions(t.options,e.id));let r=this.updateSelectedOption(t.selected);if(r){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:s}=i;if(!s)return;let l=typeof s=="string"?document.createTextNode(s):s(i);if(!l)return;"then"in l?l.then(c=>{c&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(c,i)}).catch(c=>Hr(this.view.state,c,"completion info")):(this.addInfoPane(l,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return t&&Mj(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let l=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:l.clientWidth,bottom:l.clientHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(Xn).positionInfo(this.view,t,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",l=>{l.target==i&&l.preventDefault()});let s=null;for(let l=r.from;l<r.to;l++){let{completion:c,match:f}=e[l],{section:h}=c;if(h){let g=typeof h=="string"?h:h.name;if(g!=s&&(l>r.from||r.from==0))if(s=g,typeof h!="string"&&h.header)i.appendChild(h.header(h));else{let x=i.appendChild(document.createElement("completion-section"));x.textContent=g}}const d=i.appendChild(document.createElement("li"));d.id=t+"-"+l,d.setAttribute("role","option");let m=this.optionClass(c);m&&(d.className=m);for(let g of this.optionContent){let x=g(c,this.view.state,this.view,f);x&&d.appendChild(x)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Fj(n,e){return t=>new Rj(t,n,e)}function Mj(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function YE(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function Lj(n,e){let t=[],r=null,i=null,s=d=>{t.push(d);let{section:m}=d.completion;if(m){r||(r=[]);let g=typeof m=="string"?m:m.name;r.some(x=>x.name==g)||r.push(typeof m=="string"?{name:g}:m)}},l=e.facet(Xn);for(let d of n)if(d.hasResult()){let m=d.result.getMatch;if(d.result.filter===!1)for(let g of d.result.options)s(new GE(g,d.source,m?m(g):[],1e9-t.length));else{let g=e.sliceDoc(d.from,d.to),x,S=l.filterStrict?new Oj(g):new kj(g);for(let b of d.result.options)if(x=S.match(b.label)){let w=b.displayLabel?m?m(b,x.matched):[]:x.matched,A=x.score+(b.boost||0);if(s(new GE(b,d.source,w,A)),typeof b.section=="object"&&b.section.rank==="dynamic"){let{name:C}=b.section;i||(i=Object.create(null)),i[C]=Math.max(A,i[C]||-1e9)}}}}if(r){let d=Object.create(null),m=0,g=(x,S)=>(x.rank==="dynamic"&&S.rank==="dynamic"?i[S.name]-i[x.name]:0)||(typeof x.rank=="number"?x.rank:1e9)-(typeof S.rank=="number"?S.rank:1e9)||(x.name<S.name?-1:1);for(let x of r.sort(g))m-=1e5,d[x.name]=m;for(let x of t){let{section:S}=x.completion;S&&(x.score+=d[typeof S=="string"?S:S.name])}}let c=[],f=null,h=l.compareCompletions;for(let d of t.sort((m,g)=>g.score-m.score||h(m.completion,g.completion))){let m=d.completion;!f||f.label!=m.label||f.detail!=m.detail||f.type!=null&&m.type!=null&&f.type!=m.type||f.apply!=m.apply||f.boost!=m.boost?c.push(d):YE(d.completion)>YE(f)&&(c[c.length-1]=d),f=d.completion}return c}class _o{constructor(e,t,r,i,s,l){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=l}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new _o(this.options,KE(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,s,l){if(i&&!l&&e.some(h=>h.isPending))return i.setDisabled();let c=Lj(e,t);if(!c.length)return i&&e.some(h=>h.isPending)?i.setDisabled():null;let f=t.facet(Xn).selectOnOpen?0:-1;if(i&&i.selected!=f&&i.selected!=-1){let h=i.options[i.selected].completion;for(let d=0;d<c.length;d++)if(c[d].completion==h){f=d;break}}return new _o(c,KE(r,f),{pos:e.reduce((h,d)=>d.hasResult()?Math.min(h,d.from):h,1e8),create:Uj,above:s.aboveCursor},i?i.timestamp:Date.now(),f,!1)}map(e){return new _o(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new _o(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class zd{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new zd(zj,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(Xn),s=(r.override||t.languageDataAt("autocomplete",yl(t)).map(Dj)).map(f=>(this.active.find(d=>d.source==f)||new Ai(f,this.active.some(d=>d.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((f,h)=>f==this.active[h])&&(s=this.active);let l=this.open,c=e.effects.some(f=>f.is(Pv));l&&e.docChanged&&(l=l.map(e.changes)),e.selection||s.some(f=>f.hasResult()&&e.changes.touchesRange(f.from,f.to))||!Ij(s,this.active)||c?l=_o.build(s,t,this.id,l,r,c):l&&l.disabled&&!s.some(f=>f.isPending)&&(l=null),!l&&s.every(f=>!f.isPending)&&s.some(f=>f.hasResult())&&(s=s.map(f=>f.hasResult()?new Ai(f.source,0):f));for(let f of e.effects)f.is(g6)&&(l=l&&l.setSelected(f.value,this.id));return s==this.active&&l==this.open?this:new zd(s,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Pj:Hj}}function Ij(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let i=t==n.length,s=r==e.length;if(i||s)return i==s;if(n[t++].result!=e[r++].result)return!1}}const Pj={"aria-autocomplete":"list"},Hj={};function KE(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const zj=[];function m6(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(p6);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Ai{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=m6(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new Ai(i.source,0)),r&4&&i.state==0&&(i=new Ai(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(Hd))i=new Ai(i.source,1,s.value);else if(s.is(U0))i=new Ai(i.source,0);else if(s.is(Pv))for(let l of s.value)l.source==i.source&&(i=l);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(yl(e.state))}}class Io extends Ai{constructor(e,t,r,i,s,l){super(e,3,t),this.limit=r,this.result=i,this.from=s,this.to=l}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),c=yl(e.state);if(c>l||!i||t&2&&(yl(e.startState)==this.from||c<this.limit))return new Ai(this.source,t&4?1:0);let f=e.changes.mapPos(this.limit);return jj(i.validFor,e.state,s,l)?new Io(this.source,this.explicit,f,i,s,l):i.update&&(i=i.update(i,s,l,new u6(e.state,c,!1)))?new Io(this.source,this.explicit,f,i,i.from,(r=i.to)!==null&&r!==void 0?r:yl(e.state)):new Ai(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Io(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Ai(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function jj(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):d6(n,!0).test(i)}const Pv=lt.define({map(n,e){return n.map(t=>t.map(e))}}),g6=lt.define(),Pr=hr.define({create(){return zd.start()},update(n,e){return n.update(e)},provide:n=>[Cv.from(n,e=>e.tooltip),Ve.contentAttributes.from(n,e=>e.attrs)]});function Hv(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(Pr).active.find(i=>i.source==e.source);return r instanceof Io?(typeof t=="string"?n.dispatch({..._j(n.state,t,r.from,r.to),annotations:p6.of(e.completion)}):t(n,e.completion,r.from,r.to),!0):!1}const Uj=Fj(Pr,Hv);function rh(n,e="option"){return t=>{let r=t.state.field(Pr,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(Xn).interactionDelay)return!1;let i=1,s;e=="page"&&(s=Y8(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:l}=r.open.options,c=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:l-1;return c<0?c=e=="page"?0:l-1:c>=l&&(c=e=="page"?l-1:0),t.dispatch({effects:g6.of(c)}),!0}}const Vj=n=>{let e=n.state.field(Pr,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(Xn).interactionDelay?!1:Hv(n,e.open.options[e.open.selected])},v1=n=>n.state.field(Pr,!1)?(n.dispatch({effects:Hd.of(!0)}),!0):!1,qj=n=>{let e=n.state.field(Pr,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:U0.of(null)}),!0)};class Wj{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Gj=50,Xj=1e3,$j=Sn.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Pr).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(Pr),t=n.state.facet(Xn);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Pr)==e)return;let r=n.transactions.some(s=>{let l=m6(s,t);return l&8||(s.selection||s.docChanged)&&!(l&3)});for(let s=0;s<this.running.length;s++){let l=this.running[s];if(r||l.context.abortOnDocChange&&n.docChanged||l.updates.length+n.transactions.length>Gj&&Date.now()-l.time>Xj){for(let c of l.context.abortListeners)try{c()}catch(f){Hr(this.view.state,f)}l.context.abortListeners=null,this.running.splice(s--,1)}else l.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(s=>s.effects.some(l=>l.is(Hd)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(l=>l.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of n.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Pr);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Xn).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=yl(e),r=new u6(e,t,n.explicit,this.view),i=new Wj(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:U0.of(null)}),Hr(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Xn).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Xn),r=this.view.state.field(Pr);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let c=yl(s.updates.length?s.updates[0].startState:this.view.state),f=Math.min(c,s.done.from+(s.active.explicit?0:1)),h=new Io(s.active.source,s.active.explicit,f,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:c);for(let d of s.updates)h=h.update(d,t);if(h.hasResult()){e.push(h);continue}}let l=r.active.find(c=>c.source==s.active.source);if(l&&l.isPending)if(s.done==null){let c=new Ai(s.active.source,0);for(let f of s.updates)c=c.update(f,t);c.isPending||e.push(c)}else this.startQuery(l)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:Pv.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Pr,!1);if(e&&e.tooltip&&this.view.state.facet(Xn).closeOnBlur){let t=e.open&&Y8(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:U0.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Hd.of(!1)}),20),this.composing=0}}}),Yj=typeof navigator=="object"&&/Win/.test(navigator.platform),Kj=Ml.highest(Ve.domEventHandlers({keydown(n,e){let t=e.state.field(Pr,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(Yj&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(l=>l.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(n.key)>-1&&Hv(e,r),!1}})),Qj=Ve.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),V0={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},gl=lt.define({map(n,e){let t=e.mapPos(n,-1,Cr.TrackAfter);return t??void 0}}),zv=new class extends El{};zv.startSide=1;zv.endSide=-1;const x6=hr.define({create(){return St.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(gl)&&(n=n.update({add:[zv.range(t.value,t.value+1)]}));return n}});function Zj(){return[eU,x6]}const y1="()[]{}<>";function v6(n){for(let e=0;e<y1.length;e+=2)if(y1.charCodeAt(e)==n)return y1.charAt(e+1);return fv(n<128?n:n+1)}function y6(n,e){return n.languageDataAt("closeBrackets",e)[0]||V0}const Jj=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),eU=Ve.inputHandler.of((n,e,t,r)=>{if((Jj?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&ls(Ir(r,0))==1||e!=i.from||t!=i.to)return!1;let s=rU(n.state,r);return s?(n.dispatch(s),!0):!1}),tU=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=y6(n,n.selection.main.head).brackets||V0.brackets,i=null,s=n.changeByRange(l=>{if(l.empty){let c=iU(n.doc,l.head);for(let f of r)if(f==c&&yp(n.doc,l.head)==v6(Ir(f,0)))return{changes:{from:l.head-f.length,to:l.head+f.length},range:De.cursor(l.head-f.length)}}return{range:i=l}});return i||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},nU=[{key:"Backspace",run:tU}];function rU(n,e){let t=y6(n,n.selection.main.head),r=t.brackets||V0.brackets;for(let i of r){let s=v6(Ir(i,0));if(e==i)return s==i?lU(n,i,r.indexOf(i+i+i)>-1,t):sU(n,i,s,t.before||V0.before);if(e==s&&b6(n,n.selection.main.from))return aU(n,i,s)}return null}function b6(n,e){let t=!1;return n.field(x6).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function yp(n,e){let t=n.sliceString(e,e+2);return t.slice(0,ls(Ir(t,0)))}function iU(n,e){let t=n.sliceString(e-2,e);return ls(Ir(t,0))==t.length?t:t.slice(1)}function sU(n,e,t,r){let i=null,s=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:t,from:l.to}],effects:gl.of(l.to+e.length),range:De.range(l.anchor+e.length,l.head+e.length)};let c=yp(n.doc,l.head);return!c||/\s/.test(c)||r.indexOf(c)>-1?{changes:{insert:e+t,from:l.head},effects:gl.of(l.head+e.length),range:De.cursor(l.head+e.length)}:{range:i=l}});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function aU(n,e,t){let r=null,i=n.changeByRange(s=>s.empty&&yp(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:De.cursor(s.head+t.length)}:r={range:s});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function lU(n,e,t,r){let i=r.stringPrefixes||V0.stringPrefixes,s=null,l=n.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:e,from:c.to}],effects:gl.of(c.to+e.length),range:De.range(c.anchor+e.length,c.head+e.length)};let f=c.head,h=yp(n.doc,f),d;if(h==e){if(QE(n,f))return{changes:{insert:e+e,from:f},effects:gl.of(f+e.length),range:De.cursor(f+e.length)};if(b6(n,f)){let g=t&&n.sliceDoc(f,f+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:f,to:f+g.length,insert:g},range:De.cursor(f+g.length)}}}else{if(t&&n.sliceDoc(f-2*e.length,f)==e+e&&(d=ZE(n,f-2*e.length,i))>-1&&QE(n,d))return{changes:{insert:e+e+e+e,from:f},effects:gl.of(f+e.length),range:De.cursor(f+e.length)};if(n.charCategorizer(f)(h)!=fn.Word&&ZE(n,f,i)>-1&&!oU(n,f,e,i))return{changes:{insert:e+e,from:f},effects:gl.of(f+e.length),range:De.cursor(f+e.length)}}return{range:s=c}});return s?null:n.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function QE(n,e){let t=Kn(n).resolveInner(e+1);return t.parent&&t.from==e}function oU(n,e,t,r){let i=Kn(n).resolveInner(e,-1),s=r.reduce((l,c)=>Math.max(l,c.length),0);for(let l=0;l<5;l++){let c=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),f=c.indexOf(t);if(!f||f>-1&&r.indexOf(c.slice(0,f))>-1){let d=i.firstChild;for(;d&&d.from==i.from&&d.to-d.from>t.length+f;){if(n.sliceDoc(d.to-t.length,d.to)==t)return!1;d=d.firstChild}return!0}let h=i.to==e&&i.parent;if(!h)break;i=h}return!1}function ZE(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=fn.Word)return e;for(let i of t){let s=e-i.length;if(n.sliceDoc(s,e)==i&&r(n.sliceDoc(s-1,s))!=fn.Word)return s}return-1}function cU(n={}){return[Kj,Pr,Xn.of(n),$j,fU,Qj]}const S6=[{key:"Ctrl-Space",run:v1},{mac:"Alt-`",run:v1},{mac:"Alt-i",run:v1},{key:"Escape",run:qj},{key:"ArrowDown",run:rh(!0)},{key:"ArrowUp",run:rh(!1)},{key:"PageDown",run:rh(!0,"page")},{key:"PageUp",run:rh(!1,"page")},{key:"Enter",run:Vj}],fU=Ml.highest(fp.computeN([Xn],n=>n.facet(Xn).defaultKeymap?[S6]:[]));class JE{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class hl{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=r.facet(q0).markerFilter;i&&(e=i(e,r));let s=e.slice().sort((x,S)=>x.from-S.from||x.to-S.to),l=new Vs,c=[],f=0,h=r.doc.iter(),d=0,m=r.doc.length;for(let x=0;;){let S=x==s.length?null:s[x];if(!S&&!c.length)break;let b,w;if(c.length)b=f,w=c.reduce((E,D)=>Math.min(E,D.to),S&&S.from>b?S.from:1e8);else{if(b=S.from,b>m)break;w=S.to,c.push(S),x++}for(;x<s.length;){let E=s[x];if(E.from==b&&(E.to>E.from||E.to==b))c.push(E),x++,w=Math.min(E.to,w);else{w=Math.min(E.from,w);break}}w=Math.min(w,m);let A=!1;if(c.some(E=>E.from==b&&(E.to==w||w==m))&&(A=b==w,!A&&w-b<10)){let E=b-(d+h.value.length);E>0&&(h.next(E),d=b);for(let D=b;;){if(D>=w){A=!0;break}if(!h.lineBreak&&d+h.value.length>D)break;D=d+h.value.length,d+=h.value.length,h.next()}}let C=EU(c);if(A)l.add(b,b,et.widget({widget:new yU(C),diagnostics:c.slice()}));else{let E=c.reduce((D,B)=>B.markClass?D+" "+B.markClass:D,"");l.add(b,w,et.mark({class:"cm-lintRange cm-lintRange-"+C+E,diagnostics:c.slice(),inclusiveEnd:c.some(D=>D.to>w)}))}if(f=w,f==m)break;for(let E=0;E<c.length;E++)c[E].to<=f&&c.splice(E--,1)}let g=l.finish();return new hl(g,t,$o(g))}}function $o(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,s,{spec:l})=>{if(!(e&&l.diagnostics.indexOf(e)<0))if(!r)r=new JE(i,s,e||l.diagnostics[0]);else{if(l.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new JE(r.from,s,r.diagnostic)}}),r}function uU(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(q0).hideOn(n,t,r);if(i!=null)return i;let s=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(l=>l.is(w6))||n.changes.touchesRange(s.from,Math.max(s.to,r)))}function hU(n,e){return n.field(ai,!1)?e:e.concat(lt.appendConfig.of(CU))}const w6=lt.define(),jv=lt.define(),E6=lt.define(),ai=hr.define({create(){return new hl(et.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let s=e.changes.mapPos(n.selected.from,1);r=$o(t,n.selected.diagnostic,s)||$o(t,null,s)}!t.size&&i&&e.state.facet(q0).autoPanel&&(i=null),n=new hl(t,i,r)}for(let t of e.effects)if(t.is(w6)){let r=e.state.facet(q0).autoPanel?t.value.length?W0.open:null:n.panel;n=hl.init(t.value,r,e.state)}else t.is(jv)?n=new hl(n.diagnostics,t.value?W0.open:null,n.selected):t.is(E6)&&(n=new hl(n.diagnostics,n.panel,t.value));return n},provide:n=>[I0.from(n,e=>e.panel),Ve.decorations.from(n,e=>e.diagnostics)]}),dU=et.mark({class:"cm-lintRange cm-lintRange-active"});function pU(n,e,t){let{diagnostics:r}=n.state.field(ai),i,s=-1,l=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(f,h,{spec:d})=>{if(e>=f&&e<=h&&(f==h||(e>f||t>0)&&(e<h||t<0)))return i=d.diagnostics,s=f,l=h,!1});let c=n.state.facet(q0).tooltipFilter;return i&&c&&(i=c(i,n.state)),i?{pos:s,end:l,above:n.state.doc.lineAt(s).to<l,create(){return{dom:mU(n,i)}}}:null}function mU(n,e){return $t("ul",{class:"cm-tooltip-lint"},e.map(t=>A6(n,t,!1)))}const gU=n=>{let e=n.state.field(ai,!1);(!e||!e.panel)&&n.dispatch({effects:hU(n.state,[jv.of(!0)])});let t=L0(n,W0.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},eC=n=>{let e=n.state.field(ai,!1);return!e||!e.panel?!1:(n.dispatch({effects:jv.of(!1)}),!0)},xU=n=>{let e=n.state.field(ai,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},vU=[{key:"Mod-Shift-m",run:gU,preventDefault:!0},{key:"F8",run:xU}],q0=We.define({combine(n){return{sources:n.map(e=>e.source).filter(e=>e!=null),...ms(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:tC,tooltipFilter:tC,needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t,hideOn:(e,t)=>e?t?(r,i,s)=>e(r,i,s)||t(r,i,s):e:t,autoPanel:(e,t)=>e||t})}}});function tC(n,e){return n?e?(t,r)=>e(n(t,r),r):n:e}function C6(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function A6(n,e,t){var r;let i=t?C6(e.actions):[];return $t("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},$t("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,l)=>{let c=!1,f=x=>{if(x.preventDefault(),c)return;c=!0;let S=$o(n.state.field(ai).diagnostics,e);S&&s.apply(n,S.from,S.to)},{name:h}=s,d=i[l]?h.indexOf(i[l]):-1,m=d<0?h:[h.slice(0,d),$t("u",h.slice(d,d+1)),h.slice(d+1)],g=s.markClass?" "+s.markClass:"";return $t("button",{type:"button",class:"cm-diagnosticAction"+g,onclick:f,onmousedown:f,"aria-label":` Action: ${h}${d<0?"":` (access key "${i[l]})"`}.`},m)}),e.source&&$t("div",{class:"cm-diagnosticSource"},e.source))}class yU extends Xs{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return $t("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class nC{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=A6(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class W0{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)eC(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],l=C6(s.actions);for(let c=0;c<l.length;c++)if(l[c].toUpperCase().charCodeAt(0)==i.keyCode){let f=$o(this.view.state.field(ai).diagnostics,s);f&&s.actions[c].apply(e,f.from,f.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=$t("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=$t("div",{class:"cm-panel-lint"},this.list,$t("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>eC(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(ai).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(ai),r=0,i=!1,s=null,l=new Set;for(e.between(0,this.view.state.doc.length,(c,f,{spec:h})=>{for(let d of h.diagnostics){if(l.has(d))continue;l.add(d);let m=-1,g;for(let x=r;x<this.items.length;x++)if(this.items[x].diagnostic==d){m=x;break}m<0?(g=new nC(this.view,d),this.items.splice(r,0,g),i=!0):(g=this.items[m],m>r&&(this.items.splice(r,m-r),i=!0)),t&&g.diagnostic==t.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),s=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new nC(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:c,panel:f})=>{let h=f.height/this.list.offsetHeight;c.top<f.top?this.list.scrollTop-=(f.top-c.top)/h:c.bottom>f.bottom&&(this.list.scrollTop+=(c.bottom-f.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(ai),r=$o(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:E6.of(r)})}static open(e){return new W0(e)}}function bU(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function ih(n){return bU(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const SU=Ve.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:ih("#d11")},".cm-lintRange-warning":{backgroundImage:ih("orange")},".cm-lintRange-info":{backgroundImage:ih("#999")},".cm-lintRange-hint":{backgroundImage:ih("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function wU(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function EU(n){let e="hint",t=1;for(let r of n){let i=wU(r.severity);i>t&&(t=i,e=r.severity)}return e}const CU=[ai,Ve.decorations.compute([ai],n=>{let{selected:e,panel:t}=n.field(ai);return!e||!t||e.from==e.to?et.none:et.set([dU.range(e.from,e.to)])}),gP(pU,{hideOn:uU}),SU];var rC=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(nU)),e.defaultKeymap!==!1&&(r=r.concat(Yz)),e.searchKeymap!==!1&&(r=r.concat(Sj)),e.historyKeymap!==!1&&(r=r.concat(nz)),e.foldKeymap!==!1&&(r=r.concat(gH)),e.completionKeymap!==!1&&(r=r.concat(S6)),e.lintKeymap!==!1&&(r=r.concat(vU));var i=[];return e.lineNumbers!==!1&&i.push(_P()),e.highlightActiveLineGutter!==!1&&i.push(OP()),e.highlightSpecialChars!==!1&&i.push(WI()),e.history!==!1&&i.push(XH()),e.foldGutter!==!1&&i.push(bH()),e.drawSelection!==!1&&i.push(FI()),e.dropCursor!==!1&&i.push(HI()),e.allowMultipleSelections!==!1&&i.push(vt.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(lH()),e.syntaxHighlighting!==!1&&i.push(yT(CH,{fallback:!0})),e.bracketMatching!==!1&&i.push(BH()),e.closeBrackets!==!1&&i.push(Zj()),e.autocompletion!==!1&&i.push(cU()),e.rectangularSelection!==!1&&i.push(sP()),t!==!1&&i.push(oP()),e.highlightActiveLine!==!1&&i.push(QI()),e.highlightSelectionMatches!==!1&&i.push(nj()),e.tabSize&&typeof e.tabSize=="number"&&i.push(hp.of(" ".repeat(e.tabSize))),i.concat([fp.of(r.flat())]).filter(Boolean)};const AU="#e5c07b",iC="#e06c75",TU="#56b6c2",_U="#ffffff",ed="#abb2bf",Bx="#7d8799",DU="#61afef",kU="#98c379",sC="#d19a66",OU="#c678dd",BU="#21252b",aC="#2c313a",lC="#282c34",b1="#353a42",NU="#3E4451",oC="#528bff",RU=Ve.theme({"&":{color:ed,backgroundColor:lC},".cm-content":{caretColor:oC},".cm-cursor, .cm-dropCursor":{borderLeftColor:oC},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:NU},".cm-panels":{backgroundColor:BU,color:ed},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:lC,color:Bx,border:"none"},".cm-activeLineGutter":{backgroundColor:aC},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:b1},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:b1,borderBottomColor:b1},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:aC,color:ed}}},{dark:!0}),FU=cf.define([{tag:pe.keyword,color:OU},{tag:[pe.name,pe.deleted,pe.character,pe.propertyName,pe.macroName],color:iC},{tag:[pe.function(pe.variableName),pe.labelName],color:DU},{tag:[pe.color,pe.constant(pe.name),pe.standard(pe.name)],color:sC},{tag:[pe.definition(pe.name),pe.separator],color:ed},{tag:[pe.typeName,pe.className,pe.number,pe.changed,pe.annotation,pe.modifier,pe.self,pe.namespace],color:AU},{tag:[pe.operator,pe.operatorKeyword,pe.url,pe.escape,pe.regexp,pe.link,pe.special(pe.string)],color:TU},{tag:[pe.meta,pe.comment],color:Bx},{tag:pe.strong,fontWeight:"bold"},{tag:pe.emphasis,fontStyle:"italic"},{tag:pe.strikethrough,textDecoration:"line-through"},{tag:pe.link,color:Bx,textDecoration:"underline"},{tag:pe.heading,fontWeight:"bold",color:iC},{tag:[pe.atom,pe.bool,pe.special(pe.variableName)],color:sC},{tag:[pe.processingInstruction,pe.string,pe.inserted],color:kU},{tag:pe.invalid,color:_U}]),MU=[RU,yT(FU)];var LU=Ve.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),IU=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:r=!0,readOnly:i=!1,theme:s="light",placeholder:l="",basicSetup:c=!0}=e,f=[];switch(t&&f.unshift(fp.of([Kz])),c&&(typeof c=="boolean"?f.unshift(rC()):f.unshift(rC(c))),l&&f.unshift(tP(l)),s){case"light":f.push(LU);break;case"dark":f.push(MU);break;case"none":break;default:f.push(s);break}return r===!1&&f.push(Ve.editable.of(!1)),i&&f.push(vt.readOnly.of(!0)),[...f]},PU=n=>({line:n.state.doc.lineAt(n.state.selection.main.from),lineCount:n.state.doc.lines,lineBreak:n.state.lineBreak,length:n.state.doc.length,readOnly:n.state.readOnly,tabSize:n.state.tabSize,selection:n.state.selection,selectionAsSingle:n.state.selection.asSingle().main,ranges:n.state.selection.ranges,selectionCode:n.state.sliceDoc(n.state.selection.main.from,n.state.selection.main.to),selections:n.state.selection.ranges.map(e=>n.state.sliceDoc(e.from,e.to)),selectedText:n.state.selection.ranges.some(e=>!e.empty)});class HU{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(t=>{try{t()}catch(r){console.error("TimeoutLatch callback error:",r)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class cC{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var S1=null,zU=()=>typeof window>"u"?new cC:(S1||(S1=new cC),S1),fC=ps.define(),jU=200,UU=[];function VU(n){var{value:e,selection:t,onChange:r,onStatistics:i,onCreateEditor:s,onUpdate:l,extensions:c=UU,autoFocus:f,theme:h="light",height:d=null,minHeight:m=null,maxHeight:g=null,width:x=null,minWidth:S=null,maxWidth:b=null,placeholder:w="",editable:A=!0,readOnly:C=!1,indentWithTab:E=!0,basicSetup:D=!0,root:B,initialState:N}=n,[k,R]=Q.useState(),[z,I]=Q.useState(),[j,q]=Q.useState(),K=Q.useState(()=>({current:null}))[0],oe=Q.useState(()=>({current:null}))[0],se=Ve.theme({"&":{height:d,minHeight:m,maxHeight:g,width:x,minWidth:S,maxWidth:b},"& .cm-scroller":{height:"100% !important"}}),J=Ve.updateListener.of(we=>{if(we.docChanged&&typeof r=="function"&&!we.transactions.some(O=>O.annotation(fC))){K.current?K.current.reset():(K.current=new HU(()=>{if(oe.current){var O=oe.current;oe.current=null,O()}K.current=null},jU),zU().add(K.current));var xe=we.state.doc,F=xe.toString();r(F,we)}i&&i(PU(we))}),ie=IU({theme:h,editable:A,readOnly:C,placeholder:w,indentWithTab:E,basicSetup:D}),Ee=[J,se,...ie];return l&&typeof l=="function"&&Ee.push(Ve.updateListener.of(l)),Ee=Ee.concat(c),Q.useLayoutEffect(()=>{if(k&&!j){var we={doc:e,selection:t,extensions:Ee},xe=N?vt.fromJSON(N.json,we,N.fields):vt.create(we);if(q(xe),!z){var F=new Ve({state:xe,parent:k,root:B});I(F),s&&s(F,xe)}}return()=>{z&&(q(void 0),I(void 0))}},[k,j]),Q.useEffect(()=>{n.container&&R(n.container)},[n.container]),Q.useEffect(()=>()=>{z&&(z.destroy(),I(void 0)),K.current&&(K.current.cancel(),K.current=null)},[z]),Q.useEffect(()=>{f&&z&&z.focus()},[f,z]),Q.useEffect(()=>{z&&z.dispatch({effects:lt.reconfigure.of(Ee)})},[h,c,d,m,g,x,S,b,w,A,C,E,D,r,l]),Q.useEffect(()=>{if(e!==void 0){var we=z?z.state.doc.toString():"";if(z&&e!==we){var xe=K.current&&!K.current.isDone,F=()=>{z&&e!==z.state.doc.toString()&&z.dispatch({changes:{from:0,to:z.state.doc.toString().length,insert:e||""},annotations:[fC.of(!0)]})};xe?oe.current=F:F()}}},[e,z]),{state:j,setState:q,view:z,setView:I,container:k,setContainer:R}}var qU=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],T6=Q.forwardRef((n,e)=>{var{className:t,value:r="",selection:i,extensions:s=[],onChange:l,onStatistics:c,onCreateEditor:f,onUpdate:h,autoFocus:d,theme:m="light",height:g,minHeight:x,maxHeight:S,width:b,minWidth:w,maxWidth:A,basicSetup:C,placeholder:E,indentWithTab:D,editable:B,readOnly:N,root:k,initialState:R}=n,z=kM(n,qU),I=Q.useRef(null),{state:j,view:q,container:K,setContainer:oe}=VU({root:k,value:r,autoFocus:d,theme:m,height:g,minHeight:x,maxHeight:S,width:b,minWidth:w,maxWidth:A,basicSetup:C,placeholder:E,indentWithTab:D,editable:B,readOnly:N,selection:i,onChange:l,onStatistics:c,onCreateEditor:f,onUpdate:h,extensions:s,initialState:R});Q.useImperativeHandle(e,()=>({editor:I.current,state:j,view:q}),[I,K,j,q]);var se=Q.useCallback(ie=>{I.current=ie,oe(ie)},[oe]);if(typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var J=typeof m=="string"?"cm-theme-"+m:"cm-theme";return T.jsx("div",M1({ref:se,className:""+J+(t?" "+t:"")},z))});T6.displayName="CodeMirror";var uC={};class jd{constructor(e,t,r,i,s,l,c,f,h,d=0,m){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=s,this.score=l,this.buffer=c,this.bufferBase=f,this.curContext=h,this.lookAhead=d,this.parent=m}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let i=e.parser.context;return new jd(e,[],t,r,r,0,[],0,i?new hC(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=e&65535,{parser:s}=this.p,l=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),c=s.dynamicPrecedence(i);if(c&&(this.score+=c),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(i,this.reducePos);return}let f=this.stack.length-(r-1)*3-(e&262144?6:0),h=f?this.stack[f-2]:this.p.ranges[0].from,d=this.reducePos-h;d>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=d));let m=f?this.stack[f-1]:0,g=this.bufferBase+this.buffer.length-m;if(i<s.minRepeatTerm||e&131072){let x=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,h,x,g+4,!0)}if(e&262144)this.state=this.stack[f];else{let x=this.stack[f-3];this.state=s.getGoto(x,i,!0)}for(;this.stack.length>f;)this.stack.pop();this.reduceContext(i,h)}storeNode(e,t,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,c=this.buffer.length;if(c==0&&l.parent&&(c=l.bufferBase-l.parent.bufferBase,l=l.parent),c>0&&l.buffer[c-4]==0&&l.buffer[c-1]>-1){if(t==r)return;if(l.buffer[c-2]>=t){l.buffer[c-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,t,r,i);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let c=!1;for(let f=l;f>0&&this.buffer[f-2]>r;f-=4)if(this.buffer[f-1]>=0){c=!0;break}if(c)for(;l>0&&this.buffer[l-2]>r;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,i>4&&(i-=4)}this.buffer[l]=e,this.buffer[l+1]=t,this.buffer[l+2]=r,this.buffer[l+3]=i}}shift(e,t,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:l}=this.p;(i>this.pos||t<=l.maxNode)&&(this.pos=i,l.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(t,r),t<=l.maxNode&&this.buffer.push(t,r,i,4)}else this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4)}apply(e,t,r,i){e&65536?this.reduce(e):this.shift(e,t,r,i)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new jd(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new WU(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if((r&65536)==0)return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let s=0,l;s<t.length;s+=2)(l=t[s+1])!=this.state&&this.p.parser.hasAction(l,e)&&i.push(t[s],l);if(this.stack.length<120)for(let s=0;i.length<8&&s<t.length;s+=2){let l=t[s+1];i.some((c,f)=>f&1&&c==l)||i.push(t[s],l)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let s=t[i+1];if(s==this.state)continue;let l=this.split();l.pushState(s,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(t[i],this.pos),l.reducePos=this.pos,l.score-=200,r.push(l)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let r=t>>19,i=t&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;t=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(i,s)=>{if(!t.includes(i))return t.push(i),e.allActions(i,l=>{if(!(l&393216))if(l&65536){let c=(l>>19)-s;if(c>1){let f=l&65535,h=this.stack.length-c*3;if(h>=0&&e.getGoto(this.stack[h],f,!1)>=0)return c<<19|65536|f}}else{let c=r(l,s+1);if(c!=null)return c}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new hC(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class hC{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class WU{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class Ud{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Ud(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Ud(this.stack,this.pos,this.index)}}function sh(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let r=0,i=0;r<n.length;){let s=0;for(;;){let l=n.charCodeAt(r++),c=!1;if(l==126){s=65535;break}l>=92&&l--,l>=34&&l--;let f=l-32;if(f>=46&&(f-=46,c=!0),s+=f,c)break;s*=46}t?t[i++]=s:t=new e(s)}return t}class td{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const dC=new td;class GU{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=dC,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let l=this.ranges[--i];s-=r.from-l.to,r=l}for(;t<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let l=this.ranges[++i];s+=l.from-r.to,r=l}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,i;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let l=this.rangeIndex,c=this.range;for(;c.to<=r;)c=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=dC,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class Po{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;$U(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}Po.prototype.contextual=Po.prototype.fallback=Po.prototype.extend=!1;Po.prototype.fallback=Po.prototype.extend=!1;class XU{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function $U(n,e,t,r,i,s){let l=0,c=1<<r,{dialect:f}=t.p.parser;e:for(;(c&n[l])!=0;){let h=n[l+1];for(let x=l+3;x<h;x+=2)if((n[x+1]&c)>0){let S=n[x];if(f.allows(S)&&(e.token.value==-1||e.token.value==S||YU(S,e.token.value,i,s))){e.acceptToken(S);break}}let d=e.next,m=0,g=n[l+2];if(e.next<0&&g>m&&n[h+g*3-3]==65535){l=n[h+g*3-1];continue e}for(;m<g;){let x=m+g>>1,S=h+x+(x<<1),b=n[S],w=n[S+1]||65536;if(d<b)g=x;else if(d>=w)m=x+1;else{l=n[S+2],e.advance();continue e}}break}}function pC(n,e,t){for(let r=e,i;(i=n[r])!=65535;r++)if(i==t)return r-e;return-1}function YU(n,e,t,r){let i=pC(t,r,e);return i<0||pC(t,r,n)<i}const ei=typeof process<"u"&&uC&&/\bparse\b/.test(uC.LOG);let w1=null;function mC(n,e,t){let r=n.cursor(Wn.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}class KU{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?mC(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?mC(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],l=this.start[t]+r.positions[i];if(l>e)return this.nextStart=l,null;if(s instanceof Bn){if(l==e){if(l<this.safeFrom)return null;let c=l+s.length;if(c<=this.safeTo){let f=s.prop(ft.lookAhead);if(!f||c+f<this.fragment.to)return s}}this.index[t]++,l+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(l),this.index.push(0))}else this.index[t]++,this.nextStart=l+s.length}}}class QU{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new td)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,l=i.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,f=0;for(let h=0;h<s.length;h++){if((1<<h&l)==0)continue;let d=s[h],m=this.tokens[h];if(!(r&&!d.fallback)&&((d.contextual||m.start!=e.pos||m.mask!=l||m.context!=c)&&(this.updateCachedToken(m,d,e),m.mask=l,m.context=c),m.lookAhead>m.end+25&&(f=Math.max(m.lookAhead,f)),m.value!=0)){let g=t;if(m.extended>-1&&(t=this.addActions(e,m.extended,m.end,t)),t=this.addActions(e,m.value,m.end,t),!d.extend&&(r=m,t>g))break}}for(;this.actions.length>t;)this.actions.pop();return f&&e.setLookAhead(f),!r&&e.pos==this.stream.end&&(r=new td,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new td,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let l=0;l<s.specialized.length;l++)if(s.specialized[l]==e.value){let c=s.specializers[l](this.stream.read(e.start,e.end),r);if(c>=0&&r.p.parser.dialect.allows(c>>1)){(c&1)==0?e.value=c>>1:e.extended=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:s}=e,{parser:l}=e.p,{data:c}=l;for(let f=0;f<2;f++)for(let h=l.stateSlot(s,f?2:1);;h+=3){if(c[h]==65535)if(c[h+1]==1)h=Fs(c,h+2);else{i==0&&c[h+1]==2&&(i=this.putAction(Fs(c,h+2),t,r,i));break}c[h]==t&&(i=this.putAction(Fs(c,h+1),t,r,i))}return i}}class ZU{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new GU(t,i),this.tokens=new QU(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[jd.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new KU(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let c=e[l];for(;;){if(this.tokens.mainToken=null,c.pos>t)r.push(c);else{if(this.advanceStack(c,r,e))continue;{i||(i=[],s=[]),i.push(c);let f=this.tokens.getMainToken(c);s.push(f.value,f.end)}}break}}if(!r.length){let l=i&&eV(i);if(l)return ei&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw ei&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let l=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(l)return ei&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(r.length>l)for(r.sort((c,f)=>f.score-c.score);r.length>l;)r.pop();r.some(c=>c.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let l=0;l<r.length-1;l++){let c=r[l];for(let f=l+1;f<r.length;f++){let h=r[f];if(c.sameState(h)||c.buffer.length>500&&h.buffer.length>500)if((c.score-h.score||c.buffer.length-h.buffer.length)>0)r.splice(f--,1);else{r.splice(l--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let l=1;l<r.length;l++)r[l].pos<this.minStackPos&&(this.minStackPos=r[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:s}=this,l=ei?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,d=h?e.curContext.hash:0;for(let m=this.fragments.nodeAt(i);m;){let g=this.parser.nodeSet.types[m.type.id]==m.type?s.getGoto(e.state,m.type.id):-1;if(g>-1&&m.length&&(!h||(m.prop(ft.contextHash)||0)==d))return e.useNode(m,g),ei&&console.log(l+this.stackID(e)+` (via reuse of ${s.getName(m.type.id)})`),!0;if(!(m instanceof Bn)||m.children.length==0||m.positions[0]>0)break;let x=m.children[0];if(x instanceof Bn&&m.positions[0]==0)m=x;else break}}let c=s.stateSlot(e.state,4);if(c>0)return e.reduce(c),ei&&console.log(l+this.stackID(e)+` (via always-reduce ${s.getName(c&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let f=this.tokens.getActions(e);for(let h=0;h<f.length;){let d=f[h++],m=f[h++],g=f[h++],x=h==f.length||!r,S=x?e:e.split(),b=this.tokens.mainToken;if(S.apply(d,m,b?b.start:S.pos,g),ei&&console.log(l+this.stackID(S)+` (via ${(d&65536)==0?"shift":`reduce of ${s.getName(d&65535)}`} for ${s.getName(m)} @ ${i}${S==e?"":", split"})`),x)return!0;S.pos>i?t.push(S):r.push(S)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return gC(e,t),!0}}runRecovery(e,t,r){let i=null,s=!1;for(let l=0;l<e.length;l++){let c=e[l],f=t[l<<1],h=t[(l<<1)+1],d=ei?this.stackID(c)+" -> ":"";if(c.deadEnd&&(s||(s=!0,c.restart(),ei&&console.log(d+this.stackID(c)+" (restarted)"),this.advanceFully(c,r))))continue;let m=c.split(),g=d;for(let x=0;x<10&&m.forceReduce()&&(ei&&console.log(g+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,r));x++)ei&&(g=this.stackID(m)+" -> ");for(let x of c.recoverByInsert(f))ei&&console.log(d+this.stackID(x)+" (via recover-insert)"),this.advanceFully(x,r);this.stream.end>c.pos?(h==c.pos&&(h++,f=0),c.recoverByDelete(f,h),ei&&console.log(d+this.stackID(c)+` (via recover-delete ${this.parser.getName(f)})`),gC(c,r)):(!i||i.score<c.score)&&(i=c)}return i}stackToTree(e){return e.close(),Bn.build({buffer:Ud.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(w1||(w1=new WeakMap)).get(e);return t||w1.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function gC(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class JU{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class Vd extends rT{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let c=0;c<e.repeatNodeCount;c++)t.push("");let r=Object.keys(e.topRules).map(c=>e.topRules[c][1]),i=[];for(let c=0;c<t.length;c++)i.push([]);function s(c,f,h){i[c].push([f,f.deserialize(String(h))])}if(e.nodeProps)for(let c of e.nodeProps){let f=c[0];typeof f=="string"&&(f=ft[f]);for(let h=1;h<c.length;){let d=c[h++];if(d>=0)s(d,f,c[h++]);else{let m=c[h+-d];for(let g=-d;g>0;g--)s(c[h++],f,m);h++}}}this.nodeSet=new Av(t.map((c,f)=>qr.define({name:f>=this.minRepeatTerm?void 0:c,id:f,props:i[f],top:r.indexOf(f)>-1,error:f==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(f)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=J8;let l=sh(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(xC),this.states=sh(e.states,Uint32Array),this.data=sh(e.stateData),this.goto=sh(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>typeof c=="number"?new Po(l,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new ZU(this,e,t,r);for(let s of this.wrappers)i=s(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let s=i[t+1];;){let l=i[s++],c=l&1,f=i[s++];if(c&&r)return f;for(let h=s+(l>>1);s<h;s++)if(i[s]==e)return f;if(c)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),l;;s+=3){if((l=r[s])==65535)if(r[s+1]==1)l=r[s=Fs(r,s+2)];else{if(r[s+1]==2)return Fs(r,s+2);break}if(l==t||l==0)return Fs(r,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),i=r?t(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Fs(this.data,s+2);else break;i=t(Fs(this.data,s+1))}return i}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Fs(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];t.some((s,l)=>l&1&&s==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(Vd.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(c=>c.from==r.external);if(!s)return r;let l=Object.assign(Object.assign({},r),{external:s.to});return t.specializers[i]=xC(l),l})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let s of e.split(" ")){let l=t.indexOf(s);l>=0&&(r[l]=!0)}let i=null;for(let s=0;s<t.length;s++)if(!r[s])for(let l=this.dialects[t[s]],c;(c=this.data[l++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[c]=1;return new JU(e,r,i)}static deserialize(e){return new Vd(e)}}function Fs(n,e){return n[e]|n[e+1]<<16}function eV(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function xC(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}const tV=36,vC=1,nV=2,yo=3,E1=4,rV=5,iV=6,sV=7,aV=8,lV=9,oV=10,cV=11,fV=12,uV=13,hV=14,dV=15,pV=16,mV=17,yC=18,gV=19,_6=20,D6=21,bC=22,xV=23,vV=24;function Nx(n){return n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57}function yV(n){return n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70}function cl(n,e,t){for(let r=!1;;){if(n.next<0)return;if(n.next==e&&!r){n.advance();return}r=t&&!r&&n.next==92,n.advance()}}function bV(n,e){e:for(;;){if(n.next<0)return;if(n.next==36){n.advance();for(let t=0;t<e.length;t++){if(n.next!=e.charCodeAt(t))continue e;n.advance()}if(n.next==36){n.advance();return}}else n.advance()}}function SV(n,e){let t="[{<(".indexOf(String.fromCharCode(e)),r=t<0?e:"]}>)".charCodeAt(t);for(;;){if(n.next<0)return;if(n.next==r&&n.peek(1)==39){n.advance(2);return}n.advance()}}function Rx(n,e){for(;!(n.next!=95&&!Nx(n.next));)e!=null&&(e+=String.fromCharCode(n.next)),n.advance();return e}function wV(n){if(n.next==39||n.next==34||n.next==96){let e=n.next;n.advance(),cl(n,e,!1)}else Rx(n)}function SC(n,e){for(;n.next==48||n.next==49;)n.advance();e&&n.next==e&&n.advance()}function wC(n,e){for(;;){if(n.next==46){if(e)break;e=!0}else if(n.next<48||n.next>57)break;n.advance()}if(n.next==69||n.next==101)for(n.advance(),(n.next==43||n.next==45)&&n.advance();n.next>=48&&n.next<=57;)n.advance()}function EC(n){for(;!(n.next<0||n.next==10);)n.advance()}function ll(n,e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)==n)return!0;return!1}const C1=` 	\r
`;function k6(n,e,t){let r=Object.create(null);r.true=r.false=rV,r.null=r.unknown=iV;for(let i of n.split(" "))i&&(r[i]=_6);for(let i of e.split(" "))i&&(r[i]=D6);for(let i of(t||"").split(" "))i&&(r[i]=vV);return r}const EV="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",CV="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",Fx={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:k6(CV,EV)};function AV(n,e,t,r){let i={};for(let s in Fx)i[s]=(n.hasOwnProperty(s)?n:Fx)[s];return e&&(i.words=k6(e,t||"",r)),i}function O6(n){return new XU(e=>{var t;let{next:r}=e;if(e.advance(),ll(r,C1)){for(;ll(e.next,C1);)e.advance();e.acceptToken(tV)}else if(r==36&&n.doubleDollarQuotedStrings){let i=Rx(e,"");e.next==36&&(e.advance(),bV(e,i),e.acceptToken(yo))}else if(r==39||r==34&&n.doubleQuotedStrings)cl(e,r,n.backslashEscapes),e.acceptToken(yo);else if(r==35&&n.hashComments||r==47&&e.next==47&&n.slashComments)EC(e),e.acceptToken(vC);else if(r==45&&e.next==45&&(!n.spaceAfterDashes||e.peek(1)==32))EC(e),e.acceptToken(vC);else if(r==47&&e.next==42){e.advance();for(let i=1;;){let s=e.next;if(e.next<0)break;if(e.advance(),s==42&&e.next==47){if(i--,e.advance(),!i)break}else s==47&&e.next==42&&(i++,e.advance())}e.acceptToken(nV)}else if((r==101||r==69)&&e.next==39)e.advance(),cl(e,39,!0),e.acceptToken(yo);else if((r==110||r==78)&&e.next==39&&n.charSetCasts)e.advance(),cl(e,39,n.backslashEscapes),e.acceptToken(yo);else if(r==95&&n.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),cl(e,39,n.backslashEscapes),e.acceptToken(yo);break}if(!Nx(e.next))break;e.advance()}else if(n.plsqlQuotingMechanism&&(r==113||r==81)&&e.next==39&&e.peek(1)>0&&!ll(e.peek(1),C1)){let i=e.peek(1);e.advance(2),SV(e,i),e.acceptToken(yo)}else if(ll(r,n.identifierQuotes)){const i=r==91?93:r;cl(e,i,!1),e.acceptToken(gV)}else if(r==40)e.acceptToken(sV);else if(r==41)e.acceptToken(aV);else if(r==123)e.acceptToken(lV);else if(r==125)e.acceptToken(oV);else if(r==91)e.acceptToken(cV);else if(r==93)e.acceptToken(fV);else if(r==59)e.acceptToken(uV);else if(n.unquotedBitLiterals&&r==48&&e.next==98)e.advance(),SC(e),e.acceptToken(bC);else if((r==98||r==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),n.treatBitsAsBytes?(cl(e,i,n.backslashEscapes),e.acceptToken(xV)):(SC(e,i),e.acceptToken(bC))}else if(r==48&&(e.next==120||e.next==88)||(r==120||r==88)&&e.next==39){let i=e.next==39;for(e.advance();yV(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(E1)}else if(r==46&&e.next>=48&&e.next<=57)wC(e,!0),e.acceptToken(E1);else if(r==46)e.acceptToken(hV);else if(r>=48&&r<=57)wC(e,!1),e.acceptToken(E1);else if(ll(r,n.operatorChars)){for(;ll(e.next,n.operatorChars);)e.advance();e.acceptToken(dV)}else if(ll(r,n.specialVar))e.next==r&&e.advance(),wV(e),e.acceptToken(mV);else if(r==58||r==44)e.acceptToken(pV);else if(Nx(r)){let i=Rx(e,String.fromCharCode(r));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?yC:(t=n.words[i.toLowerCase()])!==null&&t!==void 0?t:yC)}})}const B6=O6(Fx),TV=Vd.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,B6],topRules:{Script:[0,25]},tokenPrec:0});function Mx(n){let e=n.cursor().moveTo(n.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function G0(n,e){let t=n.sliceString(e.from,e.to),r=/^([`'"\[])(.*)([`'"\]])$/.exec(t);return r?r[2]:t}function qd(n){return n&&(n.name=="Identifier"||n.name=="QuotedIdentifier")}function _V(n,e){if(e.name=="CompositeIdentifier"){let t=[];for(let r=e.firstChild;r;r=r.nextSibling)qd(r)&&t.push(G0(n,r));return t}return[G0(n,e)]}function CC(n,e){for(let t=[];;){if(!e||e.name!=".")return t;let r=Mx(e);if(!qd(r))return t;t.unshift(G0(n,r)),e=Mx(r)}}function DV(n,e){let t=Kn(n).resolveInner(e,-1),r=OV(n.doc,t);return t.name=="Identifier"||t.name=="QuotedIdentifier"||t.name=="Keyword"?{from:t.from,quoted:t.name=="QuotedIdentifier"?n.doc.sliceString(t.from,t.from+1):null,parents:CC(n.doc,Mx(t)),aliases:r}:t.name=="."?{from:e,quoted:null,parents:CC(n.doc,t),aliases:r}:{from:e,quoted:null,parents:[],empty:!0,aliases:r}}const kV=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function OV(n,e){let t;for(let i=e;!t;i=i.parent){if(!i)return null;i.name=="Statement"&&(t=i)}let r=null;for(let i=t.firstChild,s=!1,l=null;i;i=i.nextSibling){let c=i.name=="Keyword"?n.sliceString(i.from,i.to).toLowerCase():null,f=null;if(!s)s=c=="from";else if(c=="as"&&l&&qd(i.nextSibling))f=G0(n,i.nextSibling);else{if(c&&kV.has(c))break;l&&qd(i)&&(f=G0(n,i))}f&&(r||(r=Object.create(null)),r[f]=_V(n,l)),l=/Identifier$/.test(i.name)?i:null}return r}function BV(n,e,t){return t.map(r=>({...r,label:r.label[0]==n?r.label:n+r.label+e,apply:void 0}))}const NV=/^\w*$/,RV=/^[`'"\[]?\w*[`'"\]]?$/;function AC(n){return n.self&&typeof n.self.label=="string"}class Uv{constructor(e,t){this.idQuote=e,this.idCaseInsensitive=t,this.list=[],this.children=void 0}child(e){let t=this.children||(this.children=Object.create(null)),r=t[e];return r||(e&&!this.list.some(i=>i.label==e)&&this.list.push(TC(e,"type",this.idQuote,this.idCaseInsensitive)),t[e]=new Uv(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let t=this.list.findIndex(r=>r.label==e.label);t>-1?this.list[t]=e:this.list.push(e)}addCompletions(e){for(let t of e)this.addCompletion(typeof t=="string"?TC(t,"property",this.idQuote,this.idCaseInsensitive):t)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):AC(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let t of Object.keys(e)){let r=e[t],i=null,s=t.replace(/\\?\./g,c=>c=="."?"\0":c).split("\0"),l=this;AC(r)&&(i=r.self,r=r.children);for(let c=0;c<s.length;c++)i&&c==s.length-1&&l.addCompletion(i),l=l.child(s[c].replace(/\\\./g,"."));l.addNamespace(r)}}}function TC(n,e,t,r){return new RegExp("^[a-z_][a-z_\\d]*$",r?"i":"").test(n)?{label:n,type:e}:{label:n,type:e,apply:t+n+N6(t)}}function N6(n){return n==="["?"]":n}function FV(n,e,t,r,i,s){var l;let c=((l=s?.spec.identifierQuotes)===null||l===void 0?void 0:l[0])||'"',f=new Uv(c,!!s?.spec.caseInsensitiveIdentifiers),h=i?f.child(i):null;return f.addNamespace(n),e&&(h||f).addCompletions(e),t&&f.addCompletions(t),h&&f.addCompletions(h.list),r&&f.addCompletions((h||f).child(r).list),d=>{let{parents:m,from:g,quoted:x,empty:S,aliases:b}=DV(d.state,d.pos);if(S&&!d.explicit)return null;b&&m.length==1&&(m=b[m[0]]||m);let w=f;for(let C of m){for(;!w.children||!w.children[C];)if(w==f&&h)w=h;else if(w==h&&r)w=w.child(r);else return null;let E=w.maybeChild(C);if(!E)return null;w=E}let A=w.list;if(w==f&&b&&(A=A.concat(Object.keys(b).map(C=>({label:C,type:"constant"})))),x){let C=x[0],E=N6(C),D=d.state.sliceDoc(d.pos,d.pos+1)==E;return{from:g,to:D?d.pos+1:void 0,options:BV(C,E,A),validFor:RV}}else return{from:g,options:A,validFor:NV}}}function MV(n){return n==D6?"type":n==_6?"keyword":"variable"}function LV(n,e,t){let r=Object.keys(n).map(i=>t(e?i.toUpperCase():i,MV(n[i])));return Tj(["QuotedIdentifier","String","LineComment","BlockComment","."],h6(r))}let IV=TV.configure({props:[oT.add({Statement:sH()}),fT.add({Statement(n,e){return{from:Math.min(n.from+100,e.doc.lineAt(n.from).to),to:n.to}},BlockComment(n){return{from:n.from+2,to:n.to-2}}}),iT({Keyword:pe.keyword,Type:pe.typeName,Builtin:pe.standard(pe.name),Bits:pe.number,Bytes:pe.string,Bool:pe.bool,Null:pe.null,Number:pe.number,String:pe.string,Identifier:pe.name,QuotedIdentifier:pe.special(pe.string),SpecialVar:pe.special(pe.name),LineComment:pe.lineComment,BlockComment:pe.blockComment,Operator:pe.operator,"Semi Punctuation":pe.punctuation,"( )":pe.paren,"{ }":pe.brace,"[ ]":pe.squareBracket})]});class Wd{constructor(e,t,r){this.dialect=e,this.language=t,this.spec=r}get extension(){return this.language.extension}configureLanguage(e,t){return new Wd(this.dialect,this.language.configure(e,t),this.spec)}static define(e){let t=AV(e,e.keywords,e.types,e.builtin),r=Dd.define({name:"sql",parser:IV.configure({tokenizers:[{from:B6,to:O6(t)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new Wd(t,r,e)}}function PV(n,e){return{label:n,type:e,boost:-1}}function HV(n,e=!1,t){return LV(n.dialect.words,e,t||PV)}function zV(n){return n.schema?FV(n.schema,n.tables,n.schemas,n.defaultTable,n.defaultSchema,n.dialect||Vv):()=>null}function jV(n){return n.schema?(n.dialect||Vv).language.data.of({autocomplete:zV(n)}):[]}function UV(n={}){let e=n.dialect||Vv;return new KP(e.language,[jV(n),e.language.data.of({autocomplete:HV(e,n.upperCaseKeywords,n.keywordCompletion)})])}const Vv=Wd.define({});function VV(){const{theme:n}=Q.useContext(Zv),[e,t]=Q.useState(""),[r,i]=Q.useState(null),[s,l]=Q.useState(!1),[c,f]=Q.useState(null),[h,d]=Q.useState(!1),[m,g]=Q.useState(1e3),[x,S]=Q.useState([]),[b,w]=Q.useState(""),[A,C]=Q.useState(!1),[E,D]=Q.useState(!0),[B,N]=Q.useState("saved"),[k,R]=Q.useState(""),[z,I]=Q.useState([]),[j,q]=Q.useState(null),[K,oe]=Q.useState([]),[se,J]=Q.useState(!1),[ie,Ee]=Q.useState({}),[we,xe]=Q.useState({}),[F,O]=Q.useState([]),[P,L]=Q.useState({}),[X,te]=Q.useState(!1),[Ae,be]=Q.useState(!1),[ke,Ce]=Q.useState(null);Q.useEffect(()=>{const ne=localStorage.getItem("hap_saved_queries");if(ne)try{S(JSON.parse(ne))}catch(Ne){console.error("Failed to parse saved queries",Ne)}},[]),Q.useEffect(()=>{if(r&&r.metaData){const ne={},Ne=r.metaData.map(Xe=>Xe.name);r.metaData.forEach(Xe=>ne[Xe.name]=!0),xe(ne),O(Ne),L({})}},[r]),Q.useEffect(()=>{B==="schema"&&nt(k)},[B,k]);const nt=async(ne="")=>{J(!0);try{const Xe=await(await fetch(`http://localhost:3001/api/tables?search=${encodeURIComponent(ne)}`)).json();I(Xe);const Ze={...ie};Xe.forEach(qe=>{Ze[qe]||(Ze[qe]=[])}),Ee(Ze)}catch(Ne){console.error("Failed to fetch schema tables",Ne)}finally{J(!1)}},Qe=async ne=>{if(j===ne){q(null),oe([]);return}q(ne);try{const Xe=await(await fetch(`http://localhost:3001/api/columns/${encodeURIComponent(ne)}`)).json();oe(Xe),Ee(Ze=>({...Ze,[ne]:Xe.map(qe=>qe.name)}))}catch(Ne){console.error("Failed to fetch columns",Ne)}},st=ne=>{t(Ne=>Ne+" "+ne)},Ge=async ne=>{const Ne=ne.target.files[0];if(!Ne)return;const Xe=new FormData;Xe.append("file",Ne),l(!0);try{const qe=await(await fetch("http://localhost:3001/api/upload/sql",{method:"POST",body:Xe})).json();if(qe.error)throw new Error(qe.error);t(qe.sql),w(Ne.name.replace(/\.sql$/i,""))}catch(Ze){f(Ze.message)}finally{l(!1)}},Nt=async()=>{l(!0),f(null);try{const ne=e.trim().replace(/;$/,""),Xe=await(await fetch("http://localhost:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:ne,limit:m})})).json();if(Xe.error)throw new Error(Xe.error);i(Xe)}catch(ne){f(ne.message)}finally{l(!1)}},it=()=>{if(!b){alert("Please enter a name for the query.");return}const ne={id:Date.now(),name:b,sql:e},Ne=[...x,ne];S(Ne),localStorage.setItem("hap_saved_queries",JSON.stringify(Ne)),C(!1),w("")},ze=ne=>{if(window.confirm("Are you sure you want to delete this query?")){const Ne=x.filter(Xe=>Xe.id!==ne);S(Ne),localStorage.setItem("hap_saved_queries",JSON.stringify(Ne))}},Bt=ne=>{t(ne.sql),w(ne.name)},Et=r?Object.values(P).some(Ne=>Ne&&Ne.trim()!=="")?r.rows.filter(Ne=>F.every((Xe,Ze)=>{const qe=P[Xe];if(!qe)return!0;const Wt=r.metaData.findIndex(an=>an.name===Xe);return String(Ne[Wt]||"").toLowerCase().includes(qe.toLowerCase())})):r.rows:[],bt=async ne=>{if(!r||!r.rows||r.rows.length===0){alert("No h dados para exportar.");return}d(!0);let Ne={metaData:r.metaData,rows:Et};if(!Object.values(P).some(Ze=>Ze&&Ze.trim()!=="")&&m!=="all"&&r.rows.length>=m&&window.confirm(`A visualizao atual est limitada a ${m} linhas. Deseja exportar TODAS as linhas? (Isso pode demorar um pouco)`))try{const qe=e.trim().replace(/;$/,""),mt=await(await fetch("http://localhost:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:qe,limit:"all"})})).json();if(mt.error)throw new Error(mt.error);Ne=mt}catch(qe){alert("Falha ao buscar todos os dados: "+qe.message),d(!1);return}setTimeout(()=>{try{const qe=[Ne.metaData.map(an=>an.name),...Ne.rows],mt=`sql_export_${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}`;if(ne==="xlsx"){const an=ss.book_new(),zn=ss.aoa_to_sheet(qe);ss.book_append_sheet(an,zn,"Results");const Gt=ov(an,{bookType:"xlsx",type:"array"}),wn=new Blob([Gt],{type:"application/octet-stream"});No.saveAs(wn,`${mt}.xlsx`)}else if(ne==="csv"){const an=ss.aoa_to_sheet(qe),zn=ss.sheet_to_csv(an),Gt=new Blob([zn],{type:"text/csv;charset=utf-8"});No.saveAs(Gt,`${mt}.csv`)}else if(ne==="txt"){const an=qe.map(Gt=>Gt.join("	")).join(`
`),zn=new Blob([an],{type:"text/plain;charset=utf-8"});No.saveAs(zn,`${mt}.txt`)}}catch(Ze){console.error("Export Error:",Ze),alert("Falha ao exportar: "+Ze.message)}finally{d(!1)}},100)},Ct=(ne,Ne)=>{Ce(Ne),ne.dataTransfer.effectAllowed="move"},ge=(ne,Ne)=>{if(ne.preventDefault(),!ke||ke===Ne)return;const Xe=[...F],Ze=Xe.indexOf(ke),qe=Xe.indexOf(Ne);Xe.splice(Ze,1),Xe.splice(qe,0,ke),O(Xe)},Oe=()=>{Ce(null)};return T.jsxs("div",{className:`space-y-6 relative h-full flex flex-col ${n.bg}`,children:[h&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl flex flex-col items-center",children:[T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#f37021] mb-4"}),T.jsx("p",{className:"text-gray-700 font-semibold",children:"Exportando dados..."}),T.jsx("p",{className:"text-sm text-gray-500",children:"Por favor, aguarde."})]})}),T.jsxs("div",{className:"flex gap-4 h-full overflow-hidden",children:[T.jsxs("div",{className:"flex-1 space-y-4 flex flex-col overflow-hidden",children:[T.jsxs("div",{className:`p-4 rounded border shadow-sm flex justify-between items-center ${n.panel} ${n.border}`,children:[T.jsxs("div",{children:[T.jsx("h3",{className:`font-bold ${n.sidebarText}`,children:"Editor SQL"}),T.jsx("p",{className:"text-xs text-gray-500",children:"Escreva ou importe sua query"})]}),T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("button",{onClick:()=>D(!E),className:`text-sm px-3 py-1.5 rounded border transition-colors ${E?`${n.primaryBtn}`:`${n.secondaryBtn}`}`,title:E?"Ocultar Lateral":"Mostrar Lateral",children:E?"Ocultar Lateral":"Mostrar Lateral"}),T.jsx("input",{type:"file",accept:".sql",onChange:Ge,className:"text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 transition-colors"})]})]}),T.jsxs("div",{className:"flex-none",children:[T.jsx("div",{className:`border rounded overflow-hidden ${n.border}`,children:T.jsx(T6,{value:e,height:"200px",extensions:[UV({schema:ie})],onChange:ne=>t(ne),theme:n.name==="Modo Escuro"||n.name==="Dracula"?"dark":"light",className:"text-sm"})}),T.jsxs("div",{className:`mt-2 flex items-center justify-between p-2 rounded border ${n.panel} ${n.border}`,children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("button",{onClick:Nt,disabled:!e||s,className:`py-2 px-6 rounded-lg shadow-md transition-all font-semibold flex items-center disabled:opacity-50 ${n.primaryBtn}`,children:s?T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Executando..."]}):T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"mr-2",children:""})," Executar"]})}),T.jsxs("div",{className:`flex items-center space-x-2 border-l pl-3 ${n.border}`,children:[T.jsx("span",{className:`text-sm font-medium ${n.sidebarText}`,children:"Limite:"}),T.jsxs("select",{value:m,onChange:ne=>g(ne.target.value==="all"?"all":Number(ne.target.value)),className:`border rounded p-1.5 text-sm focus:ring-2 focus:ring-blue-500 outline-none ${n.input} ${n.border}`,children:[T.jsx("option",{value:100,children:"100 linhas"}),T.jsx("option",{value:500,children:"500 linhas"}),T.jsx("option",{value:1e3,children:"1000 linhas"}),T.jsx("option",{value:5e3,children:"5000 linhas"}),T.jsx("option",{value:"all",children:"Todas (Cuidado)"})]})]})]}),T.jsx("div",{className:"flex items-center space-x-2",children:A?T.jsxs("div",{className:"flex items-center space-x-2 animate-fade-in",children:[T.jsx("input",{type:"text",value:b,onChange:ne=>w(ne.target.value),placeholder:"Nome da Query",className:`border rounded p-1.5 text-sm focus:ring-2 focus:ring-[#f37021] outline-none ${n.input} ${n.border}`,autoFocus:!0}),T.jsx("button",{onClick:it,className:"text-green-600 hover:bg-green-50 p-1.5 rounded",title:"Confirmar",children:""}),T.jsx("button",{onClick:()=>C(!1),className:"text-red-600 hover:bg-red-50 p-1.5 rounded",title:"Cancelar",children:""})]}):T.jsxs("button",{onClick:()=>C(!0),disabled:!e,className:`px-3 py-2 rounded transition-colors text-sm font-medium flex items-center disabled:opacity-50 ${n.secondaryBtn}`,children:[T.jsx("span",{className:"mr-1",children:""})," Salvar Query"]})})]})]}),c&&T.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded shadow-sm",children:[T.jsx("p",{className:"text-red-700 font-medium",children:"Erro ao executar query:"}),T.jsx("p",{className:"text-sm text-red-600 mt-1",children:c})]}),r&&T.jsxs("div",{className:`rounded-lg shadow-md border flex-1 flex flex-col overflow-hidden min-h-0 ${n.panel} ${n.border}`,children:[T.jsxs("div",{className:`p-3 border-b flex justify-between items-center ${n.header}`,children:[T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsxs("h3",{className:`text-sm font-bold ${n.sidebarText}`,children:["Resultados (",Et.length," linhas ",m!=="all"&&r.rows.length>=m?"(Limitado)":"",")"]}),T.jsxs("div",{className:"relative",children:[T.jsx("button",{onClick:()=>te(!X),className:`text-xs px-2 py-1 rounded border flex items-center ${n.secondaryBtn} ${n.border}`,children:" Colunas"}),X&&T.jsxs("div",{className:`absolute top-full left-0 mt-1 w-48 border rounded shadow-lg z-20 max-h-60 overflow-y-auto p-2 ${n.panel} ${n.border}`,children:[T.jsx("div",{className:"text-xs font-bold text-gray-500 mb-2 uppercase",children:"Exibir/Ocultar"}),F.map(ne=>T.jsxs("label",{className:"flex items-center space-x-2 mb-1 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[T.jsx("input",{type:"checkbox",checked:we[ne],onChange:Ne=>xe({...we,[ne]:Ne.target.checked}),className:"rounded text-blue-600 focus:ring-blue-500"}),T.jsx("span",{className:`text-sm truncate ${n.sidebarText}`,children:ne})]},ne))]})]}),T.jsx("button",{onClick:()=>be(!Ae),className:`text-xs px-2 py-1 rounded border flex items-center ${Ae?`${n.primaryBtn}`:`${n.secondaryBtn} ${n.border}`}`,children:" Filtros"})]}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsxs("button",{onClick:()=>bt("csv"),className:`text-xs border px-3 py-1.5 rounded transition-colors font-medium flex items-center ${n.secondaryBtn} ${n.border}`,children:[T.jsx("span",{className:"mr-1",children:""})," CSV"]}),T.jsxs("button",{onClick:()=>bt("xlsx"),className:`text-xs px-3 py-1.5 rounded shadow-sm transition-colors font-medium flex items-center ${n.primaryBtn}`,children:[T.jsx("span",{className:"mr-1",children:""})," Excel"]}),T.jsxs("button",{onClick:()=>bt("txt"),className:`text-xs border px-3 py-1.5 rounded transition-colors font-medium flex items-center ${n.secondaryBtn} ${n.border}`,children:[T.jsx("span",{className:"mr-1",children:""})," TXT"]})]})]}),T.jsx("div",{className:"overflow-auto flex-1 w-full relative",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:`sticky top-0 z-10 shadow-sm ${n.tableHeader}`,children:T.jsx("tr",{className:`divide-x ${n.border}`,children:F.map(ne=>we[ne]&&T.jsx("th",{draggable:!0,onDragStart:Ne=>Ct(Ne,ne),onDragOver:Ne=>ge(Ne,ne),onDragEnd:Oe,className:`px-6 py-3 text-left text-xs font-bold uppercase tracking-wider whitespace-nowrap border-b cursor-move transition-colors ${n.border} ${ke===ne?"opacity-50 bg-blue-50":""}`,children:T.jsxs("div",{className:"flex flex-col space-y-2",children:[T.jsx("span",{children:ne}),Ae&&T.jsx("input",{type:"text",placeholder:"Filtrar...",value:P[ne]||"",onChange:Ne=>L({...P,[ne]:Ne.target.value}),className:`w-full text-xs p-1 border rounded font-normal normal-case ${n.input} ${n.border}`,onClick:Ne=>Ne.stopPropagation()})]})},ne))})}),T.jsx("tbody",{className:`divide-y ${n.border} ${n.panel}`,children:Et.map((ne,Ne)=>T.jsx("tr",{className:`transition-colors divide-x ${n.border} ${n.tableRowHover}`,children:F.map(Xe=>{if(!we[Xe])return null;const Ze=r.metaData.findIndex(qe=>qe.name===Xe);return T.jsx("td",{className:`px-6 py-2 whitespace-nowrap text-sm ${n.sidebarText}`,children:ne[Ze]},`${Ne}-${Xe}`)})},Ne))})]})})]})]}),E&&T.jsxs("div",{className:`w-64 border-l flex flex-col shadow-sm transition-all duration-300 ${n.panel} ${n.border} overflow-hidden`,children:[T.jsxs("div",{className:`flex border-b ${n.border}`,children:[T.jsx("button",{onClick:()=>N("saved"),className:`flex-1 py-2 text-xs font-bold uppercase ${B==="saved"?`border-b-2 border-blue-500 ${n.accent}`:"text-gray-400"}`,children:"Salvas"}),T.jsx("button",{onClick:()=>N("schema"),className:`flex-1 py-2 text-xs font-bold uppercase ${B==="schema"?`border-b-2 border-blue-500 ${n.accent}`:"text-gray-400"}`,children:"Schema"}),T.jsx("button",{onClick:()=>D(!1),className:"px-3 text-gray-400 hover:text-gray-600",children:""})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:B==="saved"?T.jsxs(T.Fragment,{children:[x.length===0&&T.jsx("p",{className:"text-gray-400 text-xs text-center italic mt-4",children:"Nenhuma query salva."}),x.map(ne=>T.jsxs("div",{className:`group p-3 rounded border transition-all cursor-pointer relative ${n.border} hover:border-blue-300 hover:bg-blue-50`,onClick:()=>Bt(ne),children:[T.jsx("div",{className:`font-medium text-sm truncate pr-6 ${n.sidebarText}`,children:ne.name}),T.jsxs("div",{className:"text-xs text-gray-400 truncate mt-1",children:[ne.sql.substring(0,30),"..."]}),T.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),ze(ne.id)},className:"absolute top-2 right-2 text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity",title:"Excluir",children:""})]},ne.id))]}):T.jsxs("div",{className:"space-y-2",children:[T.jsx("input",{type:"text",placeholder:"Buscar tabela...",value:k,onChange:ne=>R(ne.target.value),className:`w-full text-xs p-2 border rounded mb-2 ${n.input} ${n.border}`}),se&&T.jsx("div",{className:"text-center text-xs text-gray-400",children:"Carregando..."}),z.map(ne=>T.jsxs("div",{className:`border rounded ${n.border}`,children:[T.jsxs("div",{className:`p-2 text-xs font-medium cursor-pointer flex justify-between items-center hover:bg-gray-100 ${n.sidebarText}`,onClick:()=>Qe(ne),children:[T.jsx("span",{className:"truncate",title:ne,children:ne}),T.jsx("span",{children:j===ne?"":""})]}),j===ne&&T.jsxs("div",{className:"bg-gray-50 p-2 border-t space-y-1",children:[K.length===0&&T.jsx("div",{className:"text-[10px] text-gray-400 italic",children:"Carregando colunas..."}),K.map(Ne=>T.jsxs("div",{className:"text-[10px] text-gray-600 flex justify-between group cursor-pointer hover:text-blue-600",title:"Clique duplo para inserir",onDoubleClick:()=>st(Ne.name),children:[T.jsx("span",{children:Ne.name}),T.jsx("span",{className:"text-gray-400",children:Ne.type})]},Ne.name)),T.jsx("div",{className:"pt-1 border-t mt-1",children:T.jsx("button",{onClick:()=>st(`SELECT * FROM ${ne}`),className:"w-full text-[10px] bg-blue-100 text-blue-700 rounded py-1 hover:bg-blue-200",children:"Gerar SELECT"})})]})]},ne))]})})]})]})]})}function qV(){const[n,e]=Q.useState(1),[t,r]=Q.useState(null),[i,s]=Q.useState(";"),[l,c]=Q.useState(""),[f,h]=Q.useState([]),[d,m]=Q.useState(!1),[g,x]=Q.useState(""),[S,b]=Q.useState(0),[w,A]=Q.useState([]),[C,E]=Q.useState(""),[D,B]=Q.useState([]),[N,k]=Q.useState(!1),[R,z]=Q.useState(!1);cn.useEffect(()=>{const xe=localStorage.getItem("hap_csv_history");if(xe)try{B(JSON.parse(xe))}catch(F){console.error("Failed to parse history",F)}},[]);const I=xe=>{const F=[xe,...D].slice(0,5);B(F),localStorage.setItem("hap_csv_history",JSON.stringify(F))},j=async xe=>{try{const O=await(await fetch("http://localhost:3001/api/check-table",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tableName:xe})})).json();k(O.exists),O.exists?x(`A tabela ${xe} j existe.`):x("")}catch(F){console.error("Error checking table:",F)}},[q,K]=Q.useState(null),[oe,se]=Q.useState(";"),[J,ie]=Q.useState(0),Ee=async xe=>{const F=xe.target.files[0];if(!F)return;r(F);const O=new FormData;O.append("file",F),O.append("delimiter",i),m(!0),x("Analisando arquivo..."),b(0);try{const L=await(await fetch("http://localhost:3001/api/upload/csv",{method:"POST",body:O})).json();if(L.error)throw new Error(L.error);A(L.preview),c(L.tableName),h(L.columns),K(L.filePath),ie(L.totalEstimatedRows||0),L.delimiter&&(s(L.delimiter),se(L.delimiter)),await j(L.tableName),e(2),m(!1),x("")}catch(P){x("Erro ao analisar arquivo: "+P.message),m(!1)}},we=async()=>{m(!0),x("Iniciando importao (Isso pode demorar)..."),b(0);try{const F=await(await fetch("http://localhost:3001/api/create-table",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tableName:l,columns:f,data:w,filePath:q,delimiter:i,grantToUser:C,dropIfExists:R})})).json();F.success?(x("Importao concluda com sucesso!"),b(100),I({fileName:t.name,tableName:l,date:new Date().toISOString(),grantUser:C||"Nenhum"}),setTimeout(()=>{e(1),r(null),A([]),h([]),c(""),E(""),K(null),ie(0),m(!1),k(!1),z(!1),alert(F.message)},1500)):(x("Erro: "+F.message),m(!1))}catch(xe){x("Erro de rede: "+xe.message),m(!1)}};return T.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm border border-gray-200 h-full flex flex-col",children:[T.jsx("h2",{className:"text-2xl font-bold text-[#0054a6] mb-6",children:"Importar Arquivo CSV"}),T.jsxs("div",{className:"flex items-center mb-8",children:[T.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${n>=1?"bg-[#f37021] text-white":"bg-gray-200 text-gray-600"} font-bold`,children:"1"}),T.jsx("div",{className:`flex-1 h-1 mx-2 ${n>=2?"bg-[#f37021]":"bg-gray-200"}`}),T.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${n>=2?"bg-[#f37021] text-white":"bg-gray-200 text-gray-600"} font-bold`,children:"2"}),T.jsx("div",{className:`flex-1 h-1 mx-2 ${n>=3?"bg-[#f37021]":"bg-gray-200"}`}),T.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${n>=3?"bg-[#f37021] text-white":"bg-gray-200 text-gray-600"} font-bold`,children:"3"})]}),n===1&&T.jsxs("div",{className:"flex-1 flex flex-col space-y-6 overflow-y-auto",children:[T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer min-h-[200px]",onClick:()=>document.getElementById("fileInput").click(),children:[T.jsx("input",{type:"file",id:"fileInput",accept:".csv",onChange:Ee,className:"hidden"}),T.jsx("div",{className:"text-6xl mb-4",children:""}),T.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"Clique para selecionar um arquivo CSV"}),T.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"ou arraste e solte aqui"}),d&&T.jsx("p",{className:"mt-4 text-blue-600",children:g}),g.startsWith("Erro")&&T.jsx("p",{className:"mt-4 text-red-600",children:g})]}),D.length>0&&T.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[T.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-3",children:"ltimas Importaes"}),T.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Arquivo"}),T.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Tabela"}),T.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Data"}),T.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Permisso"})]})}),T.jsx("tbody",{className:"divide-y divide-gray-200",children:D.map((xe,F)=>T.jsxs("tr",{className:"hover:bg-gray-50",children:[T.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:xe.fileName}),T.jsx("td",{className:"px-4 py-2 text-sm text-[#0054a6] font-medium",children:xe.tableName}),T.jsxs("td",{className:"px-4 py-2 text-sm text-gray-500",children:[new Date(xe.date).toLocaleDateString()," ",new Date(xe.date).toLocaleTimeString()]}),T.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:xe.grantUser})]},F))})]})})]})]}),n===2&&T.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Pr-visualizao e Estrutura"}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Delimitador:"}),T.jsxs("select",{value:i,onChange:xe=>{s(xe.target.value),alert("Para alterar o delimitador, por favor, reenvie o arquivo."),e(1),r(null)},className:"border border-gray-300 rounded-md p-1 text-sm focus:ring-[#0054a6] focus:border-[#0054a6]",children:[T.jsx("option",{value:",",children:"Vrgula (,)"}),T.jsx("option",{value:";",children:"Ponto e Vrgula (;)"}),T.jsx("option",{value:"|",children:"Pipe (|)"}),T.jsx("option",{value:"\\t",children:"Tabulao (\\t)"})]})]})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Tabela de Destino"}),T.jsx("input",{type:"text",value:l,onChange:xe=>{const F=xe.target.value.toUpperCase();c(F),j(F)},className:`w-full p-2 border ${N?"border-orange-500 focus:ring-orange-500":"border-gray-300 focus:ring-[#0054a6]"} rounded-md outline-none`}),N&&T.jsx("p",{className:"text-xs text-orange-600 mt-1",children:" Esta tabela j existe. Voc poder optar por recri-la no prximo passo."})]}),T.jsx("div",{className:"flex-1 overflow-auto border border-gray-200 rounded-lg",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50 sticky top-0",children:T.jsx("tr",{children:f.map((xe,F)=>T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T.jsxs("div",{className:"flex flex-col space-y-1",children:[T.jsx("input",{type:"text",value:xe.name,onChange:O=>{const P=[...f];P[F].name=O.target.value.toUpperCase(),h(P)},className:"bg-transparent border-b border-gray-300 focus:border-[#0054a6] outline-none text-xs font-bold"}),T.jsxs("select",{value:xe.type,onChange:O=>{const P=[...f];P[F].type=O.target.value,h(P)},className:"text-xs border-none bg-transparent focus:ring-0 p-0 text-gray-500",children:[T.jsx("option",{value:"VARCHAR2(255)",children:"VARCHAR2(255)"}),T.jsx("option",{value:"NUMBER",children:"NUMBER"}),T.jsx("option",{value:"DATE",children:"DATE"}),T.jsx("option",{value:"CLOB",children:"CLOB"})]})]})},F))})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.slice(0,5).map((xe,F)=>T.jsx("tr",{children:f.map((O,P)=>T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:xe[Object.keys(xe)[P]]},P))},F))})]})}),T.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[T.jsx("button",{onClick:()=>e(1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Voltar"}),T.jsx("button",{onClick:()=>e(3),className:"px-4 py-2 bg-[#0054a6] text-white rounded-md hover:bg-blue-800",children:"Prximo"})]})]}),n===3&&T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-lg mx-auto w-full",children:[T.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"Confirmar Importao"}),T.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg w-full mb-6 border border-gray-200",children:[T.jsxs("div",{className:"flex justify-between mb-2",children:[T.jsx("span",{className:"text-gray-600",children:"Arquivo:"}),T.jsx("span",{className:"font-medium",children:t?.name})]}),T.jsxs("div",{className:"flex justify-between mb-2",children:[T.jsx("span",{className:"text-gray-600",children:"Tabela Destino:"}),T.jsx("span",{className:"font-medium text-[#0054a6]",children:l})]}),T.jsxs("div",{className:"flex justify-between mb-2",children:[T.jsx("span",{className:"text-gray-600",children:"Colunas:"}),T.jsx("span",{className:"font-medium",children:f.length})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-gray-600",children:"Linhas Estimadas:"}),T.jsx("span",{className:"font-medium",children:J>0?J:"Calculando..."})]})]}),N&&T.jsxs("div",{className:"w-full mb-6 bg-orange-50 border border-orange-200 p-4 rounded-lg",children:[T.jsxs("h4",{className:"text-orange-800 font-bold mb-2 flex items-center",children:[T.jsx("span",{className:"mr-2",children:""})," Tabela Existente"]}),T.jsxs("p",{className:"text-sm text-orange-700 mb-3",children:["A tabela ",T.jsx("strong",{children:l})," j existe no banco de dados. O que voc deseja fazer?"]}),T.jsxs("div",{className:"flex space-x-3",children:[T.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[T.jsx("input",{type:"radio",checked:!R,onChange:()=>z(!1),className:"text-orange-600 focus:ring-orange-500"}),T.jsx("span",{className:"text-sm text-gray-700",children:"Cancelar e Renomear (Voltar)"})]}),T.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[T.jsx("input",{type:"radio",checked:R,onChange:()=>z(!0),className:"text-red-600 focus:ring-red-500"}),T.jsx("span",{className:"text-sm text-red-700 font-medium",children:"Recriar Tabela (Apagar dados antigos)"})]})]})]}),T.jsxs("div",{className:"w-full mb-6",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conceder Permisso de Acesso (GRANT ALL) para outro usurio (Opcional):"}),T.jsx("input",{type:"text",value:C,onChange:xe=>E(xe.target.value.toUpperCase()),placeholder:"Ex: OUTRO_USUARIO",className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0054a6] outline-none"}),T.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Se preenchido, executar: ",T.jsxs("code",{children:["GRANT ALL ON ",l," TO ",C||"USUARIO"]})]})]}),d?T.jsxs("div",{className:"w-full text-center",children:[T.jsxs("div",{className:"mb-2 flex justify-between text-sm font-medium text-gray-700",children:[T.jsx("span",{children:g}),T.jsxs("span",{children:[S,"%"]})]}),T.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:T.jsx("div",{className:"bg-[#0054a6] h-2.5 rounded-full transition-all duration-500",style:{width:`${S}%`}})})]}):T.jsxs("div",{className:"flex space-x-3 w-full",children:[T.jsx("button",{onClick:()=>e(2),className:"flex-1 px-4 py-3 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 font-medium",children:"Voltar"}),T.jsx("button",{onClick:()=>{N&&!R?(e(2),alert("Por favor, renomeie a tabela para continuar.")):we()},className:`flex-1 px-4 py-3 text-white rounded-md font-bold shadow-md ${N&&!R?"bg-gray-400 cursor-not-allowed":"bg-[#f37021] hover:bg-orange-600"}`,disabled:N&&!R,children:N&&R?"Recriar e Importar":"Iniciar Importao"})]})]})]})}var a0=VC();function WV(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Q.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const bp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function nc(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function qv(n){return"nodeType"in n}function Dr(n){var e,t;return n?nc(n)?n:qv(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Wv(n){const{Document:e}=Dr(n);return n instanceof e}function hf(n){return nc(n)?!1:n instanceof Dr(n).HTMLElement}function R6(n){return n instanceof Dr(n).SVGElement}function rc(n){return n?nc(n)?n.document:qv(n)?Wv(n)?n:hf(n)||R6(n)?n.ownerDocument:document:document:document}const Ui=bp?Q.useLayoutEffect:Q.useEffect;function Sp(n){const e=Q.useRef(n);return Ui(()=>{e.current=n}),Q.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function GV(){const n=Q.useRef(null),e=Q.useCallback((r,i)=>{n.current=setInterval(r,i)},[]),t=Q.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function X0(n,e){e===void 0&&(e=[n]);const t=Q.useRef(n);return Ui(()=>{t.current!==n&&(t.current=n)},e),t}function df(n,e){const t=Q.useRef();return Q.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function Gd(n){const e=Sp(n),t=Q.useRef(null),r=Q.useCallback(i=>{i!==t.current&&e?.(i,t.current),t.current=i},[]);return[t,r]}function Xd(n){const e=Q.useRef();return Q.useEffect(()=>{e.current=n},[n]),e.current}let A1={};function pf(n,e){return Q.useMemo(()=>{if(e)return e;const t=A1[n]==null?0:A1[n]+1;return A1[n]=t,n+"-"+t},[n,e])}function F6(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce((s,l)=>{const c=Object.entries(l);for(const[f,h]of c){const d=s[f];d!=null&&(s[f]=d+n*h)}return s},{...e})}}const Ho=F6(1),$0=F6(-1);function XV(n){return"clientX"in n&&"clientY"in n}function wp(n){if(!n)return!1;const{KeyboardEvent:e}=Dr(n.target);return e&&n instanceof e}function $V(n){if(!n)return!1;const{TouchEvent:e}=Dr(n.target);return e&&n instanceof e}function $d(n){if($V(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return XV(n)?{x:n.clientX,y:n.clientY}:null}const Pa=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Pa.Translate.toString(n),Pa.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),_C="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function YV(n){return n.matches(_C)?n:n.querySelector(_C)}const KV={display:"none"};function QV(n){let{id:e,value:t}=n;return cn.createElement("div",{id:e,style:KV},t)}function ZV(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return cn.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},t)}function JV(){const[n,e]=Q.useState("");return{announce:Q.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const M6=Q.createContext(null);function eq(n){const e=Q.useContext(M6);Q.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function tq(){const[n]=Q.useState(()=>new Set),e=Q.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[Q.useCallback(r=>{let{type:i,event:s}=r;n.forEach(l=>{var c;return(c=l[i])==null?void 0:c.call(l,s)})},[n]),e]}const nq={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},rq={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function iq(n){let{announcements:e=rq,container:t,hiddenTextDescribedById:r,screenReaderInstructions:i=nq}=n;const{announce:s,announcement:l}=JV(),c=pf("DndLiveRegion"),[f,h]=Q.useState(!1);if(Q.useEffect(()=>{h(!0)},[]),eq(Q.useMemo(()=>({onDragStart(m){let{active:g}=m;s(e.onDragStart({active:g}))},onDragMove(m){let{active:g,over:x}=m;e.onDragMove&&s(e.onDragMove({active:g,over:x}))},onDragOver(m){let{active:g,over:x}=m;s(e.onDragOver({active:g,over:x}))},onDragEnd(m){let{active:g,over:x}=m;s(e.onDragEnd({active:g,over:x}))},onDragCancel(m){let{active:g,over:x}=m;s(e.onDragCancel({active:g,over:x}))}}),[s,e])),!f)return null;const d=cn.createElement(cn.Fragment,null,cn.createElement(QV,{id:r,value:i.draggable}),cn.createElement(ZV,{id:c,announcement:l}));return t?a0.createPortal(d,t):d}var Pn;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(Pn||(Pn={}));function Yd(){}function DC(n,e){return Q.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function sq(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Q.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Vi=Object.freeze({x:0,y:0});function L6(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function aq(n,e){const t=$d(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function I6(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function lq(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function kC(n){let{left:e,top:t,height:r,width:i}=n;return[{x:e,y:t},{x:e+i,y:t},{x:e,y:t+r},{x:e+i,y:t+r}]}function P6(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function OC(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const oq=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=OC(e,e.left,e.top),s=[];for(const l of r){const{id:c}=l,f=t.get(c);if(f){const h=L6(OC(f),i);s.push({id:c,data:{droppableContainer:l,value:h}})}}return s.sort(I6)},cq=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=kC(e),s=[];for(const l of r){const{id:c}=l,f=t.get(c);if(f){const h=kC(f),d=i.reduce((g,x,S)=>g+L6(h[S],x),0),m=Number((d/4).toFixed(4));s.push({id:c,data:{droppableContainer:l,value:m}})}}return s.sort(I6)};function fq(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),i=Math.min(e.left+e.width,n.left+n.width),s=Math.min(e.top+e.height,n.top+n.height),l=i-r,c=s-t;if(r<i&&t<s){const f=e.width*e.height,h=n.width*n.height,d=l*c,m=d/(f+h-d);return Number(m.toFixed(4))}return 0}const uq=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=[];for(const s of r){const{id:l}=s,c=t.get(l);if(c){const f=fq(c,e);f>0&&i.push({id:l,data:{droppableContainer:s,value:f}})}}return i.sort(lq)};function hq(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function H6(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Vi}function dq(n){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((l,c)=>({...l,top:l.top+n*c.y,bottom:l.bottom+n*c.y,left:l.left+n*c.x,right:l.right+n*c.x}),{...t})}}const pq=dq(1);function z6(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function mq(n,e,t){const r=z6(e);if(!r)return n;const{scaleX:i,scaleY:s,x:l,y:c}=r,f=n.left-l-(1-i)*parseFloat(t),h=n.top-c-(1-s)*parseFloat(t.slice(t.indexOf(" ")+1)),d=i?n.width/i:n.width,m=s?n.height/s:n.height;return{width:d,height:m,top:h,right:f+d,bottom:h+m,left:f}}const gq={ignoreTransform:!1};function ic(n,e){e===void 0&&(e=gq);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:d}=Dr(n).getComputedStyle(n);h&&(t=mq(t,h,d))}const{top:r,left:i,width:s,height:l,bottom:c,right:f}=t;return{top:r,left:i,width:s,height:l,bottom:c,right:f}}function BC(n){return ic(n,{ignoreTransform:!0})}function xq(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function vq(n,e){return e===void 0&&(e=Dr(n).getComputedStyle(n)),e.position==="fixed"}function yq(n,e){e===void 0&&(e=Dr(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?t.test(s):!1})}function Ep(n,e){const t=[];function r(i){if(e!=null&&t.length>=e||!i)return t;if(Wv(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!hf(i)||R6(i)||t.includes(i))return t;const s=Dr(n).getComputedStyle(i);return i!==n&&yq(i,s)&&t.push(i),vq(i,s)?t:r(i.parentNode)}return n?r(n):t}function j6(n){const[e]=Ep(n,1);return e??null}function T1(n){return!bp||!n?null:nc(n)?n:qv(n)?Wv(n)||n===rc(n).scrollingElement?window:hf(n)?n:null:null}function U6(n){return nc(n)?n.scrollX:n.scrollLeft}function V6(n){return nc(n)?n.scrollY:n.scrollTop}function Lx(n){return{x:U6(n),y:V6(n)}}var qn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(qn||(qn={}));function q6(n){return!bp||!n?!1:n===document.scrollingElement}function W6(n){const e={x:0,y:0},t=q6(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},i=n.scrollTop<=e.y,s=n.scrollLeft<=e.x,l=n.scrollTop>=r.y,c=n.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:l,isRight:c,maxScroll:r,minScroll:e}}const bq={x:.2,y:.2};function Sq(n,e,t,r,i){let{top:s,left:l,right:c,bottom:f}=t;r===void 0&&(r=10),i===void 0&&(i=bq);const{isTop:h,isBottom:d,isLeft:m,isRight:g}=W6(n),x={x:0,y:0},S={x:0,y:0},b={height:e.height*i.y,width:e.width*i.x};return!h&&s<=e.top+b.height?(x.y=qn.Backward,S.y=r*Math.abs((e.top+b.height-s)/b.height)):!d&&f>=e.bottom-b.height&&(x.y=qn.Forward,S.y=r*Math.abs((e.bottom-b.height-f)/b.height)),!g&&c>=e.right-b.width?(x.x=qn.Forward,S.x=r*Math.abs((e.right-b.width-c)/b.width)):!m&&l<=e.left+b.width&&(x.x=qn.Backward,S.x=r*Math.abs((e.left+b.width-l)/b.width)),{direction:x,speed:S}}function wq(n){if(n===document.scrollingElement){const{innerWidth:s,innerHeight:l}=window;return{top:0,left:0,right:s,bottom:l,width:s,height:l}}const{top:e,left:t,right:r,bottom:i}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:i,width:n.clientWidth,height:n.clientHeight}}function G6(n){return n.reduce((e,t)=>Ho(e,Lx(t)),Vi)}function Eq(n){return n.reduce((e,t)=>e+U6(t),0)}function Cq(n){return n.reduce((e,t)=>e+V6(t),0)}function X6(n,e){if(e===void 0&&(e=ic),!n)return;const{top:t,left:r,bottom:i,right:s}=e(n);j6(n)&&(i<=0||s<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const Aq=[["x",["left","right"],Eq],["y",["top","bottom"],Cq]];class Gv{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Ep(t),i=G6(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,l,c]of Aq)for(const f of l)Object.defineProperty(this,f,{get:()=>{const h=c(r),d=i[s]-h;return this.rect[f]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class b0{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var i;(i=this.target)==null||i.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function Tq(n){const{EventTarget:e}=Dr(n);return n instanceof e?n:rc(n)}function _1(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var wi;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(wi||(wi={}));function NC(n){n.preventDefault()}function _q(n){n.stopPropagation()}var xt;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(xt||(xt={}));const $6={start:[xt.Space,xt.Enter],cancel:[xt.Esc],end:[xt.Space,xt.Enter,xt.Tab]},Dq=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case xt.Right:return{...t,x:t.x+25};case xt.Left:return{...t,x:t.x-25};case xt.Down:return{...t,y:t.y+25};case xt.Up:return{...t,y:t.y-25}}};class Xv{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new b0(rc(t)),this.windowListeners=new b0(Dr(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(wi.Resize,this.handleCancel),this.windowListeners.add(wi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(wi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&X6(r),t(Vi)}handleKeyDown(e){if(wp(e)){const{active:t,context:r,options:i}=this.props,{keyboardCodes:s=$6,coordinateGetter:l=Dq,scrollBehavior:c="smooth"}=i,{code:f}=e;if(s.end.includes(f)){this.handleEnd(e);return}if(s.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:h}=r.current,d=h?{x:h.left,y:h.top}:Vi;this.referenceCoordinates||(this.referenceCoordinates=d);const m=l(e,{active:t,context:r.current,currentCoordinates:d});if(m){const g=$0(m,d),x={x:0,y:0},{scrollableAncestors:S}=r.current;for(const b of S){const w=e.code,{isTop:A,isRight:C,isLeft:E,isBottom:D,maxScroll:B,minScroll:N}=W6(b),k=wq(b),R={x:Math.min(w===xt.Right?k.right-k.width/2:k.right,Math.max(w===xt.Right?k.left:k.left+k.width/2,m.x)),y:Math.min(w===xt.Down?k.bottom-k.height/2:k.bottom,Math.max(w===xt.Down?k.top:k.top+k.height/2,m.y))},z=w===xt.Right&&!C||w===xt.Left&&!E,I=w===xt.Down&&!D||w===xt.Up&&!A;if(z&&R.x!==m.x){const j=b.scrollLeft+g.x,q=w===xt.Right&&j<=B.x||w===xt.Left&&j>=N.x;if(q&&!g.y){b.scrollTo({left:j,behavior:c});return}q?x.x=b.scrollLeft-j:x.x=w===xt.Right?b.scrollLeft-B.x:b.scrollLeft-N.x,x.x&&b.scrollBy({left:-x.x,behavior:c});break}else if(I&&R.y!==m.y){const j=b.scrollTop+g.y,q=w===xt.Down&&j<=B.y||w===xt.Up&&j>=N.y;if(q&&!g.x){b.scrollTo({top:j,behavior:c});return}q?x.y=b.scrollTop-j:x.y=w===xt.Down?b.scrollTop-B.y:b.scrollTop-N.y,x.y&&b.scrollBy({top:-x.y,behavior:c});break}}this.handleMove(e,Ho($0(m,this.referenceCoordinates),x))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Xv.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=$6,onActivation:i}=e,{active:s}=t;const{code:l}=n.nativeEvent;if(r.start.includes(l)){const c=s.activatorNode.current;return c&&n.target!==c?!1:(n.preventDefault(),i?.({event:n.nativeEvent}),!0)}return!1}}];function RC(n){return!!(n&&"distance"in n)}function FC(n){return!!(n&&"delay"in n)}class $v{constructor(e,t,r){var i;r===void 0&&(r=Tq(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:l}=s;this.props=e,this.events=t,this.document=rc(l),this.documentListeners=new b0(this.document),this.listeners=new b0(r),this.windowListeners=new b0(Dr(l)),this.initialCoordinates=(i=$d(s))!=null?i:Vi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(wi.Resize,this.handleCancel),this.windowListeners.add(wi.DragStart,NC),this.windowListeners.add(wi.VisibilityChange,this.handleCancel),this.windowListeners.add(wi.ContextMenu,NC),this.documentListeners.add(wi.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(FC(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(RC(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(wi.Click,_q,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(wi.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:l,options:{activationConstraint:c}}=s;if(!i)return;const f=(t=$d(e))!=null?t:Vi,h=$0(i,f);if(!r&&c){if(RC(c)){if(c.tolerance!=null&&_1(h,c.tolerance))return this.handleCancel();if(_1(h,c.distance))return this.handleStart()}if(FC(c)&&_1(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}e.cancelable&&e.preventDefault(),l(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===xt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const kq={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Yv extends $v{constructor(e){const{event:t}=e,r=rc(t.target);super(e,kq,r)}}Yv.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r?.({event:t}),!0)}}];const Oq={move:{name:"mousemove"},end:{name:"mouseup"}};var Ix;(function(n){n[n.RightClick=2]="RightClick"})(Ix||(Ix={}));class Bq extends $v{constructor(e){super(e,Oq,rc(e.event.target))}}Bq.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===Ix.RightClick?!1:(r?.({event:t}),!0)}}];const D1={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Nq extends $v{constructor(e){super(e,D1)}static setup(){return window.addEventListener(D1.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(D1.move.name,e)};function e(){}}}Nq.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:i}=t;return i.length>1?!1:(r?.({event:t}),!0)}}];var S0;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(S0||(S0={}));var Kd;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(Kd||(Kd={}));function Rq(n){let{acceleration:e,activator:t=S0.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:l=5,order:c=Kd.TreeOrder,pointerCoordinates:f,scrollableAncestors:h,scrollableAncestorRects:d,delta:m,threshold:g}=n;const x=Mq({delta:m,disabled:!s}),[S,b]=GV(),w=Q.useRef({x:0,y:0}),A=Q.useRef({x:0,y:0}),C=Q.useMemo(()=>{switch(t){case S0.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case S0.DraggableRect:return i}},[t,i,f]),E=Q.useRef(null),D=Q.useCallback(()=>{const N=E.current;if(!N)return;const k=w.current.x*A.current.x,R=w.current.y*A.current.y;N.scrollBy(k,R)},[]),B=Q.useMemo(()=>c===Kd.TreeOrder?[...h].reverse():h,[c,h]);Q.useEffect(()=>{if(!s||!h.length||!C){b();return}for(const N of B){if(r?.(N)===!1)continue;const k=h.indexOf(N),R=d[k];if(!R)continue;const{direction:z,speed:I}=Sq(N,R,C,e,g);for(const j of["x","y"])x[j][z[j]]||(I[j]=0,z[j]=0);if(I.x>0||I.y>0){b(),E.current=N,S(D,l),w.current=I,A.current=z;return}}w.current={x:0,y:0},A.current={x:0,y:0},b()},[e,D,r,b,s,l,JSON.stringify(C),JSON.stringify(x),S,h,B,d,JSON.stringify(g)])}const Fq={x:{[qn.Backward]:!1,[qn.Forward]:!1},y:{[qn.Backward]:!1,[qn.Forward]:!1}};function Mq(n){let{delta:e,disabled:t}=n;const r=Xd(e);return df(i=>{if(t||!r||!i)return Fq;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[qn.Backward]:i.x[qn.Backward]||s.x===-1,[qn.Forward]:i.x[qn.Forward]||s.x===1},y:{[qn.Backward]:i.y[qn.Backward]||s.y===-1,[qn.Forward]:i.y[qn.Forward]||s.y===1}}},[t,e,r])}function Lq(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return df(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function Iq(n,e){return Q.useMemo(()=>n.reduce((t,r)=>{const{sensor:i}=r,s=i.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...t,...s]},[]),[n,e])}var Y0;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Y0||(Y0={}));var Px;(function(n){n.Optimized="optimized"})(Px||(Px={}));const MC=new Map;function Pq(n,e){let{dragging:t,dependencies:r,config:i}=e;const[s,l]=Q.useState(null),{frequency:c,measure:f,strategy:h}=i,d=Q.useRef(n),m=w(),g=X0(m),x=Q.useCallback(function(A){A===void 0&&(A=[]),!g.current&&l(C=>C===null?A:C.concat(A.filter(E=>!C.includes(E))))},[g]),S=Q.useRef(null),b=df(A=>{if(m&&!t)return MC;if(!A||A===MC||d.current!==n||s!=null){const C=new Map;for(let E of n){if(!E)continue;if(s&&s.length>0&&!s.includes(E.id)&&E.rect.current){C.set(E.id,E.rect.current);continue}const D=E.node.current,B=D?new Gv(f(D),D):null;E.rect.current=B,B&&C.set(E.id,B)}return C}return A},[n,s,t,m,f]);return Q.useEffect(()=>{d.current=n},[n]),Q.useEffect(()=>{m||x()},[t,m]),Q.useEffect(()=>{s&&s.length>0&&l(null)},[JSON.stringify(s)]),Q.useEffect(()=>{m||typeof c!="number"||S.current!==null||(S.current=setTimeout(()=>{x(),S.current=null},c))},[c,m,x,...r]),{droppableRects:b,measureDroppableContainers:x,measuringScheduled:s!=null};function w(){switch(h){case Y0.Always:return!1;case Y0.BeforeDragging:return t;default:return!t}}}function Kv(n,e){return df(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function Hq(n,e){return Kv(n,e)}function zq(n){let{callback:e,disabled:t}=n;const r=Sp(e),i=Q.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,t]);return Q.useEffect(()=>()=>i?.disconnect(),[i]),i}function Cp(n){let{callback:e,disabled:t}=n;const r=Sp(e),i=Q.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[t]);return Q.useEffect(()=>()=>i?.disconnect(),[i]),i}function jq(n){return new Gv(ic(n),n)}function LC(n,e,t){e===void 0&&(e=jq);const[r,i]=Q.useState(null);function s(){i(f=>{if(!n)return null;if(n.isConnected===!1){var h;return(h=f??t)!=null?h:null}const d=e(n);return JSON.stringify(f)===JSON.stringify(d)?f:d})}const l=zq({callback(f){if(n)for(const h of f){const{type:d,target:m}=h;if(d==="childList"&&m instanceof HTMLElement&&m.contains(n)){s();break}}}}),c=Cp({callback:s});return Ui(()=>{s(),n?(c?.observe(n),l?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),l?.disconnect())},[n]),r}function Uq(n){const e=Kv(n);return H6(n,e)}const IC=[];function Vq(n){const e=Q.useRef(n),t=df(r=>n?r&&r!==IC&&n&&e.current&&n.parentNode===e.current.parentNode?r:Ep(n):IC,[n]);return Q.useEffect(()=>{e.current=n},[n]),t}function qq(n){const[e,t]=Q.useState(null),r=Q.useRef(n),i=Q.useCallback(s=>{const l=T1(s.target);l&&t(c=>c?(c.set(l,Lx(l)),new Map(c)):null)},[]);return Q.useEffect(()=>{const s=r.current;if(n!==s){l(s);const c=n.map(f=>{const h=T1(f);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,Lx(h)]):null}).filter(f=>f!=null);t(c.length?new Map(c):null),r.current=n}return()=>{l(n),l(s)};function l(c){c.forEach(f=>{const h=T1(f);h?.removeEventListener("scroll",i)})}},[i,n]),Q.useMemo(()=>n.length?e?Array.from(e.values()).reduce((s,l)=>Ho(s,l),Vi):G6(n):Vi,[n,e])}function PC(n,e){e===void 0&&(e=[]);const t=Q.useRef(null);return Q.useEffect(()=>{t.current=null},e),Q.useEffect(()=>{const r=n!==Vi;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?$0(n,t.current):Vi}function Wq(n){Q.useEffect(()=>{if(!bp)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t?.()}},n.map(e=>{let{sensor:t}=e;return t}))}function Gq(n,e){return Q.useMemo(()=>n.reduce((t,r)=>{let{eventName:i,handler:s}=r;return t[i]=l=>{s(l,e)},t},{}),[n,e])}function Y6(n){return Q.useMemo(()=>n?xq(n):null,[n])}const HC=[];function Xq(n,e){e===void 0&&(e=ic);const[t]=n,r=Y6(t?Dr(t):null),[i,s]=Q.useState(HC);function l(){s(()=>n.length?n.map(f=>q6(f)?r:new Gv(e(f),f)):HC)}const c=Cp({callback:l});return Ui(()=>{c?.disconnect(),l(),n.forEach(f=>c?.observe(f))},[n]),i}function K6(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return hf(e)?e:n}function $q(n){let{measure:e}=n;const[t,r]=Q.useState(null),i=Q.useCallback(h=>{for(const{target:d}of h)if(hf(d)){r(m=>{const g=e(d);return m?{...m,width:g.width,height:g.height}:g});break}},[e]),s=Cp({callback:i}),l=Q.useCallback(h=>{const d=K6(h);s?.disconnect(),d&&s?.observe(d),r(d?e(d):null)},[e,s]),[c,f]=Gd(l);return Q.useMemo(()=>({nodeRef:c,rect:t,setRef:f}),[t,c,f])}const Yq=[{sensor:Yv,options:{}},{sensor:Xv,options:{}}],Kq={current:{}},nd={draggable:{measure:BC},droppable:{measure:BC,strategy:Y0.WhileDragging,frequency:Px.Optimized},dragOverlay:{measure:ic}};class w0 extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const Qq={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new w0,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Yd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:nd,measureDroppableContainers:Yd,windowRect:null,measuringScheduled:!1},Q6={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Yd,draggableNodes:new Map,over:null,measureDroppableContainers:Yd},mf=Q.createContext(Q6),Z6=Q.createContext(Qq);function Zq(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new w0}}}function Jq(n,e){switch(e.type){case Pn.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Pn.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case Pn.DragEnd:case Pn.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Pn.RegisterDroppable:{const{element:t}=e,{id:r}=t,i=new w0(n.droppable.containers);return i.set(r,t),{...n,droppable:{...n.droppable,containers:i}}}case Pn.SetDroppableDisabled:{const{id:t,key:r,disabled:i}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const l=new w0(n.droppable.containers);return l.set(t,{...s,disabled:i}),{...n,droppable:{...n.droppable,containers:l}}}case Pn.UnregisterDroppable:{const{id:t,key:r}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;const s=new w0(n.droppable.containers);return s.delete(t),{...n,droppable:{...n.droppable,containers:s}}}default:return n}}function eW(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:i}=Q.useContext(mf),s=Xd(r),l=Xd(t?.id);return Q.useEffect(()=>{if(!e&&!r&&s&&l!=null){if(!wp(s)||document.activeElement===s.target)return;const c=i.get(l);if(!c)return;const{activatorNode:f,node:h}=c;if(!f.current&&!h.current)return;requestAnimationFrame(()=>{for(const d of[f.current,h.current]){if(!d)continue;const m=YV(d);if(m){m.focus();break}}})}},[r,e,i,l,s]),null}function J6(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((i,s)=>s({transform:i,...r}),t):t}function tW(n){return Q.useMemo(()=>({draggable:{...nd.draggable,...n?.draggable},droppable:{...nd.droppable,...n?.droppable},dragOverlay:{...nd.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function nW(n){let{activeNode:e,measure:t,initialRect:r,config:i=!0}=n;const s=Q.useRef(!1),{x:l,y:c}=typeof i=="boolean"?{x:i,y:i}:i;Ui(()=>{if(!l&&!c||!e){s.current=!1;return}if(s.current||!r)return;const h=e?.node.current;if(!h||h.isConnected===!1)return;const d=t(h),m=H6(d,r);if(l||(m.x=0),c||(m.y=0),s.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const g=j6(h);g&&g.scrollBy({top:m.y,left:m.x})}},[e,l,c,r,t])}const Ap=Q.createContext({...Vi,scaleX:1,scaleY:1});var wa;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(wa||(wa={}));const rW=Q.memo(function(e){var t,r,i,s;let{id:l,accessibility:c,autoScroll:f=!0,children:h,sensors:d=Yq,collisionDetection:m=uq,measuring:g,modifiers:x,...S}=e;const b=Q.useReducer(Jq,void 0,Zq),[w,A]=b,[C,E]=tq(),[D,B]=Q.useState(wa.Uninitialized),N=D===wa.Initialized,{draggable:{active:k,nodes:R,translate:z},droppable:{containers:I}}=w,j=k!=null?R.get(k):null,q=Q.useRef({initial:null,translated:null}),K=Q.useMemo(()=>{var Kt;return k!=null?{id:k,data:(Kt=j?.data)!=null?Kt:Kq,rect:q}:null},[k,j]),oe=Q.useRef(null),[se,J]=Q.useState(null),[ie,Ee]=Q.useState(null),we=X0(S,Object.values(S)),xe=pf("DndDescribedBy",l),F=Q.useMemo(()=>I.getEnabled(),[I]),O=tW(g),{droppableRects:P,measureDroppableContainers:L,measuringScheduled:X}=Pq(F,{dragging:N,dependencies:[z.x,z.y],config:O.droppable}),te=Lq(R,k),Ae=Q.useMemo(()=>ie?$d(ie):null,[ie]),be=Xi(),ke=Hq(te,O.draggable.measure);nW({activeNode:k!=null?R.get(k):null,config:be.layoutShiftCompensation,initialRect:ke,measure:O.draggable.measure});const Ce=LC(te,O.draggable.measure,ke),nt=LC(te?te.parentElement:null),Qe=Q.useRef({activatorEvent:null,active:null,activeNode:te,collisionRect:null,collisions:null,droppableRects:P,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),st=I.getNodeFor((t=Qe.current.over)==null?void 0:t.id),Ge=$q({measure:O.dragOverlay.measure}),Nt=(r=Ge.nodeRef.current)!=null?r:te,it=N?(i=Ge.rect)!=null?i:Ce:null,ze=!!(Ge.nodeRef.current&&Ge.rect),Bt=Uq(ze?null:Ce),sn=Y6(Nt?Dr(Nt):null),Et=Vq(N?st??te:null),bt=Xq(Et),Ct=J6(x,{transform:{x:z.x-Bt.x,y:z.y-Bt.y,scaleX:1,scaleY:1},activatorEvent:ie,active:K,activeNodeRect:Ce,containerNodeRect:nt,draggingNodeRect:it,over:Qe.current.over,overlayNodeRect:Ge.rect,scrollableAncestors:Et,scrollableAncestorRects:bt,windowRect:sn}),ge=Ae?Ho(Ae,z):null,Oe=qq(Et),ne=PC(Oe),Ne=PC(Oe,[Ce]),Xe=Ho(Ct,ne),Ze=it?pq(it,Ct):null,qe=K&&Ze?m({active:K,collisionRect:Ze,droppableRects:P,droppableContainers:F,pointerCoordinates:ge}):null,Wt=P6(qe,"id"),[mt,an]=Q.useState(null),zn=ze?Ct:Ho(Ct,Ne),Gt=hq(zn,(s=mt?.rect)!=null?s:null,Ce),wn=Q.useRef(null),En=Q.useCallback((Kt,Ht)=>{let{sensor:dn,options:jn}=Ht;if(oe.current==null)return;const Fn=R.get(oe.current);if(!Fn)return;const Cn=Kt.nativeEvent,Un=new dn({active:oe.current,activeNode:Fn,event:Cn,options:jn,context:Qe,onAbort(un){if(!R.get(un))return;const{onDragAbort:Dt}=we.current,hn={id:un};Dt?.(hn),C({type:"onDragAbort",event:hn})},onPending(un,dr,Dt,hn){if(!R.get(un))return;const{onDragPending:Wr}=we.current,M={id:un,constraint:dr,initialCoordinates:Dt,offset:hn};Wr?.(M),C({type:"onDragPending",event:M})},onStart(un){const dr=oe.current;if(dr==null)return;const Dt=R.get(dr);if(!Dt)return;const{onDragStart:hn}=we.current,kr={activatorEvent:Cn,active:{id:dr,data:Dt.data,rect:q}};a0.unstable_batchedUpdates(()=>{hn?.(kr),B(wa.Initializing),A({type:Pn.DragStart,initialCoordinates:un,active:dr}),C({type:"onDragStart",event:kr}),J(wn.current),Ee(Cn)})},onMove(un){A({type:Pn.DragMove,coordinates:un})},onEnd:Zn(Pn.DragEnd),onCancel:Zn(Pn.DragCancel)});wn.current=Un;function Zn(un){return async function(){const{active:Dt,collisions:hn,over:kr,scrollAdjustedTranslate:Wr}=Qe.current;let M=null;if(Dt&&Wr){const{cancelDrop:G}=we.current;M={activatorEvent:Cn,active:Dt,collisions:hn,delta:Wr,over:kr},un===Pn.DragEnd&&typeof G=="function"&&await Promise.resolve(G(M))&&(un=Pn.DragCancel)}oe.current=null,a0.unstable_batchedUpdates(()=>{A({type:un}),B(wa.Uninitialized),an(null),J(null),Ee(null),wn.current=null;const G=un===Pn.DragEnd?"onDragEnd":"onDragCancel";if(M){const U=we.current[G];U?.(M),C({type:G,event:M})}})}}},[R]),Ua=Q.useCallback((Kt,Ht)=>(dn,jn)=>{const Fn=dn.nativeEvent,Cn=R.get(jn);if(oe.current!==null||!Cn||Fn.dndKit||Fn.defaultPrevented)return;const Un={active:Cn};Kt(dn,Ht.options,Un)===!0&&(Fn.dndKit={capturedBy:Ht.sensor},oe.current=jn,En(dn,Ht))},[R,En]),Gi=Iq(d,Ua);Wq(d),Ui(()=>{Ce&&D===wa.Initializing&&B(wa.Initialized)},[Ce,D]),Q.useEffect(()=>{const{onDragMove:Kt}=we.current,{active:Ht,activatorEvent:dn,collisions:jn,over:Fn}=Qe.current;if(!Ht||!dn)return;const Cn={active:Ht,activatorEvent:dn,collisions:jn,delta:{x:Xe.x,y:Xe.y},over:Fn};a0.unstable_batchedUpdates(()=>{Kt?.(Cn),C({type:"onDragMove",event:Cn})})},[Xe.x,Xe.y]),Q.useEffect(()=>{const{active:Kt,activatorEvent:Ht,collisions:dn,droppableContainers:jn,scrollAdjustedTranslate:Fn}=Qe.current;if(!Kt||oe.current==null||!Ht||!Fn)return;const{onDragOver:Cn}=we.current,Un=jn.get(Wt),Zn=Un&&Un.rect.current?{id:Un.id,rect:Un.rect.current,data:Un.data,disabled:Un.disabled}:null,un={active:Kt,activatorEvent:Ht,collisions:dn,delta:{x:Fn.x,y:Fn.y},over:Zn};a0.unstable_batchedUpdates(()=>{an(Zn),Cn?.(un),C({type:"onDragOver",event:un})})},[Wt]),Ui(()=>{Qe.current={activatorEvent:ie,active:K,activeNode:te,collisionRect:Ze,collisions:qe,droppableRects:P,draggableNodes:R,draggingNode:Nt,draggingNodeRect:it,droppableContainers:I,over:mt,scrollableAncestors:Et,scrollAdjustedTranslate:Xe},q.current={initial:it,translated:Ze}},[K,te,qe,Ze,R,Nt,it,P,I,mt,Et,Xe]),Rq({...be,delta:z,draggingRect:Ze,pointerCoordinates:ge,scrollableAncestors:Et,scrollableAncestorRects:bt});const $s=Q.useMemo(()=>({active:K,activeNode:te,activeNodeRect:Ce,activatorEvent:ie,collisions:qe,containerNodeRect:nt,dragOverlay:Ge,draggableNodes:R,droppableContainers:I,droppableRects:P,over:mt,measureDroppableContainers:L,scrollableAncestors:Et,scrollableAncestorRects:bt,measuringConfiguration:O,measuringScheduled:X,windowRect:sn}),[K,te,Ce,ie,qe,nt,Ge,R,I,P,mt,L,Et,bt,O,X,sn]),oi=Q.useMemo(()=>({activatorEvent:ie,activators:Gi,active:K,activeNodeRect:Ce,ariaDescribedById:{draggable:xe},dispatch:A,draggableNodes:R,over:mt,measureDroppableContainers:L}),[ie,Gi,K,Ce,A,xe,R,mt,L]);return cn.createElement(M6.Provider,{value:E},cn.createElement(mf.Provider,{value:oi},cn.createElement(Z6.Provider,{value:$s},cn.createElement(Ap.Provider,{value:Gt},h)),cn.createElement(eW,{disabled:c?.restoreFocus===!1})),cn.createElement(iq,{...c,hiddenTextDescribedById:xe}));function Xi(){const Kt=se?.autoScrollEnabled===!1,Ht=typeof f=="object"?f.enabled===!1:f===!1,dn=N&&!Kt&&!Ht;return typeof f=="object"?{...f,enabled:dn}:{enabled:dn}}}),iW=Q.createContext(null),zC="button",sW="Draggable";function aW(n){let{id:e,data:t,disabled:r=!1,attributes:i}=n;const s=pf(sW),{activators:l,activatorEvent:c,active:f,activeNodeRect:h,ariaDescribedById:d,draggableNodes:m,over:g}=Q.useContext(mf),{role:x=zC,roleDescription:S="draggable",tabIndex:b=0}=i??{},w=f?.id===e,A=Q.useContext(w?Ap:iW),[C,E]=Gd(),[D,B]=Gd(),N=Gq(l,e),k=X0(t);Ui(()=>(m.set(e,{id:e,key:s,node:C,activatorNode:D,data:k}),()=>{const z=m.get(e);z&&z.key===s&&m.delete(e)}),[m,e]);const R=Q.useMemo(()=>({role:x,tabIndex:b,"aria-disabled":r,"aria-pressed":w&&x===zC?!0:void 0,"aria-roledescription":S,"aria-describedby":d.draggable}),[r,x,b,w,S,d.draggable]);return{active:f,activatorEvent:c,activeNodeRect:h,attributes:R,isDragging:w,listeners:r?void 0:N,node:C,over:g,setNodeRef:E,setActivatorNodeRef:B,transform:A}}function e_(){return Q.useContext(Z6)}const lW="Droppable",oW={timeout:25};function t_(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:i}=n;const s=pf(lW),{active:l,dispatch:c,over:f,measureDroppableContainers:h}=Q.useContext(mf),d=Q.useRef({disabled:t}),m=Q.useRef(!1),g=Q.useRef(null),x=Q.useRef(null),{disabled:S,updateMeasurementsFor:b,timeout:w}={...oW,...i},A=X0(b??r),C=Q.useCallback(()=>{if(!m.current){m.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{h(Array.isArray(A.current)?A.current:[A.current]),x.current=null},w)},[w]),E=Cp({callback:C,disabled:S||!l}),D=Q.useCallback((R,z)=>{E&&(z&&(E.unobserve(z),m.current=!1),R&&E.observe(R))},[E]),[B,N]=Gd(D),k=X0(e);return Q.useEffect(()=>{!E||!B.current||(E.disconnect(),m.current=!1,E.observe(B.current))},[B,E]),Q.useEffect(()=>(c({type:Pn.RegisterDroppable,element:{id:r,key:s,disabled:t,node:B,rect:g,data:k}}),()=>c({type:Pn.UnregisterDroppable,key:s,id:r})),[r]),Q.useEffect(()=>{t!==d.current.disabled&&(c({type:Pn.SetDroppableDisabled,id:r,key:s,disabled:t}),d.current.disabled=t)},[r,s,t,c]),{active:l,rect:g,isOver:f?.id===r,node:B,over:f,setNodeRef:N}}function cW(n){let{animation:e,children:t}=n;const[r,i]=Q.useState(null),[s,l]=Q.useState(null),c=Xd(t);return!t&&!r&&c&&i(c),Ui(()=>{if(!s)return;const f=r?.key,h=r?.props.id;if(f==null||h==null){i(null);return}Promise.resolve(e(h,s)).then(()=>{i(null)})},[e,r,s]),cn.createElement(cn.Fragment,null,t,r?Q.cloneElement(r,{ref:l}):null)}const fW={x:0,y:0,scaleX:1,scaleY:1};function uW(n){let{children:e}=n;return cn.createElement(mf.Provider,{value:Q6},cn.createElement(Ap.Provider,{value:fW},e))}const hW={position:"fixed",touchAction:"none"},dW=n=>wp(n)?"transform 250ms ease":void 0,pW=Q.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:i,children:s,className:l,rect:c,style:f,transform:h,transition:d=dW}=n;if(!c)return null;const m=i?h:{...h,scaleX:1,scaleY:1},g={...hW,width:c.width,height:c.height,top:c.top,left:c.left,transform:Pa.Transform.toString(m),transformOrigin:i&&r?aq(r,c):void 0,transition:typeof d=="function"?d(r):d,...f};return cn.createElement(t,{className:l,style:g,ref:e},s)}),mW=n=>e=>{let{active:t,dragOverlay:r}=e;const i={},{styles:s,className:l}=n;if(s!=null&&s.active)for(const[c,f]of Object.entries(s.active))f!==void 0&&(i[c]=t.node.style.getPropertyValue(c),t.node.style.setProperty(c,f));if(s!=null&&s.dragOverlay)for(const[c,f]of Object.entries(s.dragOverlay))f!==void 0&&r.node.style.setProperty(c,f);return l!=null&&l.active&&t.node.classList.add(l.active),l!=null&&l.dragOverlay&&r.node.classList.add(l.dragOverlay),function(){for(const[f,h]of Object.entries(i))t.node.style.setProperty(f,h);l!=null&&l.active&&t.node.classList.remove(l.active)}},gW=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:Pa.Transform.toString(e)},{transform:Pa.Transform.toString(t)}]},xW={duration:250,easing:"ease",keyframes:gW,sideEffects:mW({styles:{active:{opacity:"0"}}})};function vW(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:i}=n;return Sp((s,l)=>{if(e===null)return;const c=t.get(s);if(!c)return;const f=c.node.current;if(!f)return;const h=K6(l);if(!h)return;const{transform:d}=Dr(l).getComputedStyle(l),m=z6(d);if(!m)return;const g=typeof e=="function"?e:yW(e);return X6(f,i.draggable.measure),g({active:{id:s,data:c.data,node:f,rect:i.draggable.measure(f)},draggableNodes:t,dragOverlay:{node:l,rect:i.dragOverlay.measure(h)},droppableContainers:r,measuringConfiguration:i,transform:m})})}function yW(n){const{duration:e,easing:t,sideEffects:r,keyframes:i}={...xW,...n};return s=>{let{active:l,dragOverlay:c,transform:f,...h}=s;if(!e)return;const d={x:c.rect.left-l.rect.left,y:c.rect.top-l.rect.top},m={scaleX:f.scaleX!==1?l.rect.width*f.scaleX/c.rect.width:1,scaleY:f.scaleY!==1?l.rect.height*f.scaleY/c.rect.height:1},g={x:f.x-d.x,y:f.y-d.y,...m},x=i({...h,active:l,dragOverlay:c,transform:{initial:f,final:g}}),[S]=x,b=x[x.length-1];if(JSON.stringify(S)===JSON.stringify(b))return;const w=r?.({active:l,dragOverlay:c,...h}),A=c.node.animate(x,{duration:e,easing:t,fill:"forwards"});return new Promise(C=>{A.onfinish=()=>{w?.(),C()}})}}let jC=0;function bW(n){return Q.useMemo(()=>{if(n!=null)return jC++,jC},[n])}const SW=cn.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:i,transition:s,modifiers:l,wrapperElement:c="div",className:f,zIndex:h=999}=n;const{activatorEvent:d,active:m,activeNodeRect:g,containerNodeRect:x,draggableNodes:S,droppableContainers:b,dragOverlay:w,over:A,measuringConfiguration:C,scrollableAncestors:E,scrollableAncestorRects:D,windowRect:B}=e_(),N=Q.useContext(Ap),k=bW(m?.id),R=J6(l,{activatorEvent:d,active:m,activeNodeRect:g,containerNodeRect:x,draggingNodeRect:w.rect,over:A,overlayNodeRect:w.rect,scrollableAncestors:E,scrollableAncestorRects:D,transform:N,windowRect:B}),z=Kv(g),I=vW({config:r,draggableNodes:S,droppableContainers:b,measuringConfiguration:C}),j=z?w.setRef:void 0;return cn.createElement(uW,null,cn.createElement(cW,{animation:I},m&&k?cn.createElement(pW,{key:k,id:m.id,ref:j,as:c,activatorEvent:d,adjustScale:e,className:f,transition:s,rect:z,style:{zIndex:h,...i},transform:R},t):null))});function Qv(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function wW(n,e){return n.reduce((t,r,i)=>{const s=e.get(r);return s&&(t[i]=s),t},Array(n.length))}function ah(n){return n!==null&&n>=0}function EW(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function CW(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const n_=n=>{let{rects:e,activeIndex:t,overIndex:r,index:i}=n;const s=Qv(e,r,t),l=e[i],c=s[i];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},lh={scaleX:1,scaleY:1},AW=n=>{var e;let{activeIndex:t,activeNodeRect:r,index:i,rects:s,overIndex:l}=n;const c=(e=s[t])!=null?e:r;if(!c)return null;if(i===t){const h=s[l];return h?{x:0,y:t<l?h.top+h.height-(c.top+c.height):h.top-c.top,...lh}:null}const f=TW(s,i,t);return i>t&&i<=l?{x:0,y:-c.height-f,...lh}:i<t&&i>=l?{x:0,y:c.height+f,...lh}:{x:0,y:0,...lh}};function TW(n,e,t){const r=n[e],i=n[e-1],s=n[e+1];return r?t<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const r_="Sortable",i_=cn.createContext({activeIndex:-1,containerId:r_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:n_,disabled:{draggable:!1,droppable:!1}});function _W(n){let{children:e,id:t,items:r,strategy:i=n_,disabled:s=!1}=n;const{active:l,dragOverlay:c,droppableRects:f,over:h,measureDroppableContainers:d}=e_(),m=pf(r_,t),g=c.rect!==null,x=Q.useMemo(()=>r.map(N=>typeof N=="object"&&"id"in N?N.id:N),[r]),S=l!=null,b=l?x.indexOf(l.id):-1,w=h?x.indexOf(h.id):-1,A=Q.useRef(x),C=!EW(x,A.current),E=w!==-1&&b===-1||C,D=CW(s);Ui(()=>{C&&S&&d(x)},[C,x,S,d]),Q.useEffect(()=>{A.current=x},[x]);const B=Q.useMemo(()=>({activeIndex:b,containerId:m,disabled:D,disableTransforms:E,items:x,overIndex:w,useDragOverlay:g,sortedRects:wW(x,f),strategy:i}),[b,m,D.draggable,D.droppable,E,x,w,f,g,i]);return cn.createElement(i_.Provider,{value:B},e)}const DW=n=>{let{id:e,items:t,activeIndex:r,overIndex:i}=n;return Qv(t,r,i).indexOf(e)},kW=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:i,items:s,newIndex:l,previousItems:c,previousContainerId:f,transition:h}=n;return!h||!r||c!==s&&i===l?!1:t?!0:l!==i&&e===f},OW={duration:200,easing:"ease"},s_="transform",BW=Pa.Transition.toString({property:s_,duration:0,easing:"linear"}),NW={roleDescription:"sortable"};function RW(n){let{disabled:e,index:t,node:r,rect:i}=n;const[s,l]=Q.useState(null),c=Q.useRef(t);return Ui(()=>{if(!e&&t!==c.current&&r.current){const f=i.current;if(f){const h=ic(r.current,{ignoreTransform:!0}),d={x:f.left-h.left,y:f.top-h.top,scaleX:f.width/h.width,scaleY:f.height/h.height};(d.x||d.y)&&l(d)}}t!==c.current&&(c.current=t)},[e,t,r,i]),Q.useEffect(()=>{s&&l(null)},[s]),s}function FW(n){let{animateLayoutChanges:e=kW,attributes:t,disabled:r,data:i,getNewIndex:s=DW,id:l,strategy:c,resizeObserverConfig:f,transition:h=OW}=n;const{items:d,containerId:m,activeIndex:g,disabled:x,disableTransforms:S,sortedRects:b,overIndex:w,useDragOverlay:A,strategy:C}=Q.useContext(i_),E=MW(r,x),D=d.indexOf(l),B=Q.useMemo(()=>({sortable:{containerId:m,index:D,items:d},...i}),[m,i,D,d]),N=Q.useMemo(()=>d.slice(d.indexOf(l)),[d,l]),{rect:k,node:R,isOver:z,setNodeRef:I}=t_({id:l,data:B,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...f}}),{active:j,activatorEvent:q,activeNodeRect:K,attributes:oe,setNodeRef:se,listeners:J,isDragging:ie,over:Ee,setActivatorNodeRef:we,transform:xe}=aW({id:l,data:B,attributes:{...NW,...t},disabled:E.draggable}),F=WV(I,se),O=!!j,P=O&&!S&&ah(g)&&ah(w),L=!A&&ie,X=L&&P?xe:null,Ae=P?X??(c??C)({rects:b,activeNodeRect:K,activeIndex:g,overIndex:w,index:D}):null,be=ah(g)&&ah(w)?s({id:l,items:d,activeIndex:g,overIndex:w}):D,ke=j?.id,Ce=Q.useRef({activeId:ke,items:d,newIndex:be,containerId:m}),nt=d!==Ce.current.items,Qe=e({active:j,containerId:m,isDragging:ie,isSorting:O,id:l,index:D,items:d,newIndex:Ce.current.newIndex,previousItems:Ce.current.items,previousContainerId:Ce.current.containerId,transition:h,wasDragging:Ce.current.activeId!=null}),st=RW({disabled:!Qe,index:D,node:R,rect:k});return Q.useEffect(()=>{O&&Ce.current.newIndex!==be&&(Ce.current.newIndex=be),m!==Ce.current.containerId&&(Ce.current.containerId=m),d!==Ce.current.items&&(Ce.current.items=d)},[O,be,m,d]),Q.useEffect(()=>{if(ke===Ce.current.activeId)return;if(ke!=null&&Ce.current.activeId==null){Ce.current.activeId=ke;return}const Nt=setTimeout(()=>{Ce.current.activeId=ke},50);return()=>clearTimeout(Nt)},[ke]),{active:j,activeIndex:g,attributes:oe,data:B,rect:k,index:D,newIndex:be,items:d,isOver:z,isSorting:O,isDragging:ie,listeners:J,node:R,overIndex:w,over:Ee,setNodeRef:F,setActivatorNodeRef:we,setDroppableNodeRef:I,setDraggableNodeRef:se,transform:st??Ae,transition:Ge()};function Ge(){if(st||nt&&Ce.current.newIndex===D)return BW;if(!(L&&!wp(q)||!h)&&(O||Qe))return Pa.Transition.toString({...h,property:s_})}}function MW(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n?.draggable)!=null?t:e.draggable,droppable:(r=n?.droppable)!=null?r:e.droppable}}function Qd(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const LW=[xt.Down,xt.Right,xt.Up,xt.Left],IW=(n,e)=>{let{context:{active:t,collisionRect:r,droppableRects:i,droppableContainers:s,over:l,scrollableAncestors:c}}=e;if(LW.includes(n.code)){if(n.preventDefault(),!t||!r)return;const f=[];s.getEnabled().forEach(m=>{if(!m||m!=null&&m.disabled)return;const g=i.get(m.id);if(g)switch(n.code){case xt.Down:r.top<g.top&&f.push(m);break;case xt.Up:r.top>g.top&&f.push(m);break;case xt.Left:r.left>g.left&&f.push(m);break;case xt.Right:r.left<g.left&&f.push(m);break}});const h=cq({collisionRect:r,droppableRects:i,droppableContainers:f});let d=P6(h,"id");if(d===l?.id&&h.length>1&&(d=h[1].id),d!=null){const m=s.get(t.id),g=s.get(d),x=g?i.get(g.id):null,S=g?.node.current;if(S&&x&&m&&g){const w=Ep(S).some((N,k)=>c[k]!==N),A=a_(m,g),C=PW(m,g),E=w||!A?{x:0,y:0}:{x:C?r.width-x.width:0,y:C?r.height-x.height:0},D={x:x.left,y:x.top};return E.x&&E.y?D:$0(D,E)}}}};function a_(n,e){return!Qd(n)||!Qd(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function PW(n,e){return!Qd(n)||!Qd(e)||!a_(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}const dl={PENDING:{id:"PENDING",title:"Pendente",color:"bg-yellow-50",headerColor:"bg-yellow-100",borderColor:"border-yellow-200",textColor:"text-yellow-800"},IN_PROGRESS:{id:"IN_PROGRESS",title:"Em Andamento",color:"bg-orange-50",headerColor:"bg-orange-100",borderColor:"border-orange-200",textColor:"text-orange-800"},OVERDUE:{id:"OVERDUE",title:"Em Atraso",color:"bg-red-50",headerColor:"bg-red-100",borderColor:"border-red-200",textColor:"text-red-800"},COMPLETED:{id:"COMPLETED",title:"Concludo",color:"bg-green-50",headerColor:"bg-green-100",borderColor:"border-green-200",textColor:"text-green-800"}};function HW({reminder:n,onClick:e,onDelete:t,onEdit:r,onMove:i}){const{attributes:s,listeners:l,setNodeRef:c,transform:f,transition:h,isDragging:d}=FW({id:n.id,data:{...n}}),m={transform:Pa.Transform.toString(f),transition:h,opacity:d?.5:1},g=x=>{const S=dl[x]||dl.PENDING;return T.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${S.headerColor} ${S.textColor}`,children:S.title})};return T.jsxs("div",{ref:c,style:m,...s,...l,className:"bg-white p-3 rounded-lg shadow-sm border border-gray-200 mb-3 cursor-grab hover:shadow-md transition-all group relative",onClick:x=>{x.target.closest("button")||e(n)},children:[T.jsxs("div",{className:"flex justify-between items-start mb-2",children:[T.jsx("h4",{className:"font-bold text-gray-800 text-sm line-clamp-2",children:n.title}),g(n.status)]}),n.startDate&&T.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[" ",new Date(n.startDate).toLocaleDateString()]}),n.image&&T.jsx("div",{className:"h-24 w-full rounded bg-gray-100 mb-2 overflow-hidden",children:T.jsx("img",{src:n.image,alt:"Cover",className:"w-full h-full object-cover"})}),T.jsx("p",{className:"text-xs text-gray-600 line-clamp-3 mb-3",children:n.description}),T.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 opacity-0 group-hover:opacity-100 transition-opacity",children:[T.jsxs("div",{className:"flex space-x-1",children:[n.status==="PENDING"&&T.jsx("button",{onClick:()=>i(n.id,"IN_PROGRESS"),title:"Iniciar",className:"p-1 hover:bg-orange-100 rounded text-orange-600",children:""}),n.status!=="COMPLETED"&&T.jsx("button",{onClick:()=>i(n.id,"COMPLETED"),title:"Concluir",className:"p-1 hover:bg-green-100 rounded text-green-600",children:""})]}),T.jsxs("div",{className:"flex space-x-1",children:[T.jsx("button",{onClick:()=>r(n),title:"Editar",className:"p-1 hover:bg-blue-100 rounded text-blue-600",children:""}),T.jsx("button",{onClick:()=>t(n.id),title:"Excluir",className:"p-1 hover:bg-red-100 rounded text-red-600",children:""})]})]})]})}function zW({id:n,title:e,reminders:t,color:r,headerColor:i,borderColor:s,textColor:l,onClickCard:c,onDelete:f,onEdit:h,onMove:d}){const{setNodeRef:m}=t_({id:n});return T.jsxs("div",{className:`flex flex-col h-full rounded-xl ${r} border ${s} min-w-[280px] w-full md:w-1/4`,children:[T.jsxs("div",{className:`p-3 rounded-t-xl ${i} border-b ${s} flex justify-between items-center sticky top-0 z-10`,children:[T.jsx("h3",{className:`font-bold ${l}`,children:e}),T.jsx("span",{className:`bg-white/50 px-2 py-0.5 rounded-full text-xs font-bold ${l}`,children:t.length})]}),T.jsxs("div",{ref:m,className:"p-2 flex-1 overflow-y-auto",children:[T.jsx(_W,{items:t.map(g=>g.id),strategy:AW,children:t.map(g=>T.jsx(HW,{reminder:g,onClick:c,onDelete:f,onEdit:h,onMove:d},g.id))}),t.length===0&&T.jsx("div",{className:"h-20 flex items-center justify-center text-gray-400 text-sm border-2 border-dashed border-gray-200 rounded-lg",children:"Arraste aqui"})]})]})}function jW(){const[n,e]=Q.useState([]),[t,r]=Q.useState(!1),[i,s]=Q.useState(null),[l,c]=Q.useState(null),[f,h]=Q.useState({title:"",startDate:"",description:"",image:null,status:"PENDING"}),[d,m]=Q.useState(null),g=sq(DC(Yv,{activationConstraint:{distance:5}}),DC(Xv,{coordinateGetter:IW}));Q.useEffect(()=>{const R=localStorage.getItem("hap_reminders");if(R)try{let z=JSON.parse(R);z=z.map(I=>I.status?I:{...I,status:I.completed?"COMPLETED":"PENDING"}),e(z)}catch(z){console.error("Failed to parse reminders",z)}},[]);const x=R=>{e(R),localStorage.setItem("hap_reminders",JSON.stringify(R))},S=R=>{m(R.active.id)},b=R=>{const{active:z,over:I}=R;if(m(null),!I)return;const j=z.id,q=I.id;let K=null;if(dl[q])K=q;else{const oe=n.find(se=>se.id===q);oe&&(K=oe.status)}if(K){e(se=>{const J=se.findIndex(Ee=>Ee.id===j),ie=[...se];return ie[J]={...ie[J],status:K},Qv(ie,J,J)});const oe=n.map(se=>se.id===j?{...se,status:K}:se);x(oe)}},w=(R,z)=>{const I=n.map(j=>j.id===R?{...j,status:z}:j);x(I)},A=R=>{if(window.confirm("Excluir este lembrete?")){const z=n.filter(I=>I.id!==R);x(z)}},C=()=>{window.confirm("ATENO: Isso apagar TODOS os lembretes. Deseja continuar?")&&x([])},E=R=>{if(R.preventDefault(),l){const z=n.map(I=>I.id===l?{...f,id:l,updatedAt:new Date().toISOString()}:I);x(z)}else{const z={...f,id:Date.now(),createdAt:new Date().toISOString()};x([...n,z])}D()},D=()=>{r(!1),c(null),h({title:"",startDate:"",description:"",image:null,status:"PENDING"})},B=R=>{c(R.id),h(R),r(!0)},N=R=>{const z=R.target.files[0];if(z){const I=new FileReader;I.onloadend=()=>{h({...f,image:I.result})},I.readAsDataURL(z)}},k=R=>n.filter(z=>z.status===R);return T.jsxs("div",{className:"h-full flex flex-col bg-gray-50/50",children:[T.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-4",children:[T.jsxs("div",{children:[T.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[" Kanban Board",T.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"v2.0"})]}),T.jsx("p",{className:"text-sm text-gray-500",children:"Arraste os cards para mover entre as fases"})]}),T.jsxs("div",{className:"flex space-x-3",children:[T.jsx("button",{onClick:C,className:"text-red-500 hover:text-red-700 font-medium text-sm px-3 py-2",children:"Limpar Tudo"}),T.jsxs("button",{onClick:()=>r(!0),className:"bg-[#f37021] text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors font-bold shadow-md flex items-center",children:[T.jsx("span",{className:"mr-2",children:""})," Novo Card"]})]})]}),T.jsxs(rW,{sensors:g,collisionDetection:oq,onDragStart:S,onDragEnd:b,children:[T.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden pb-2",children:T.jsx("div",{className:"flex h-full space-x-4 min-w-max px-1",children:Object.values(dl).map(R=>T.jsx(zW,{...R,reminders:k(R.id),onClickCard:s,onDelete:A,onEdit:B,onMove:w},R.id))})}),T.jsx(SW,{children:d?T.jsx("div",{className:"bg-white p-3 rounded-lg shadow-xl border border-blue-300 opacity-90 w-[280px] rotate-2 cursor-grabbing",children:T.jsx("h4",{className:"font-bold text-gray-800",children:n.find(R=>R.id===d)?.title})}):null})]}),t&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden animate-fade-in transform transition-all scale-100",children:[T.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[T.jsx("h3",{className:"font-bold text-lg text-gray-800",children:l?"Editar Card":"Novo Card"}),T.jsx("button",{onClick:D,className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),T.jsxs("form",{onSubmit:E,className:"p-6 space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),T.jsx("input",{type:"text",required:!0,value:f.title,onChange:R=>h({...f,title:R.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Ttulo da tarefa"})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Incio/Prazo"}),T.jsx("input",{type:"date",value:f.startDate,onChange:R=>h({...f,startDate:R.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Inicial"}),T.jsx("select",{value:f.status,onChange:R=>h({...f,status:R.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:Object.values(dl).map(R=>T.jsx("option",{value:R.id,children:R.title},R.id))})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),T.jsx("textarea",{rows:"4",value:f.description,onChange:R=>h({...f,description:R.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none resize-none",placeholder:"Detalhes..."})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anexar Imagem"}),T.jsx("input",{type:"file",accept:"image/*",onChange:N,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),f.image&&T.jsxs("div",{className:"mt-2 h-24 w-full rounded border overflow-hidden relative group bg-gray-100",children:[T.jsx("img",{src:f.image,alt:"Preview",className:"w-full h-full object-contain"}),T.jsx("button",{type:"button",onClick:()=>h({...f,image:null}),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 shadow-md hover:bg-red-600",children:""})]})]}),T.jsxs("div",{className:"pt-4 flex justify-end space-x-3",children:[T.jsx("button",{type:"button",onClick:D,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg font-medium",children:"Cancelar"}),T.jsx("button",{type:"submit",className:"px-6 py-2 bg-[#f37021] text-white rounded-lg hover:bg-orange-600 font-bold shadow-md transition-colors",children:"Salvar"})]})]})]})}),i&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",onClick:()=>s(null),children:T.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden animate-scale-in",onClick:R=>R.stopPropagation(),children:[T.jsxs("div",{className:`px-6 py-4 border-b border-gray-200 flex justify-between items-center ${dl[i.status]?.headerColor}`,children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("h3",{className:"font-bold text-xl text-gray-800",children:i.title}),T.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-bold bg-white/50 border border-black/10",children:dl[i.status]?.title})]}),T.jsx("button",{onClick:()=>s(null),className:"text-gray-500 hover:text-gray-800 text-2xl",children:""})]}),T.jsxs("div",{className:"p-6 overflow-y-auto max-h-[80vh]",children:[i.startDate&&T.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[T.jsx("span",{className:"mr-2",children:""}),T.jsxs("span",{className:"font-medium",children:["Data: ",new Date(i.startDate).toLocaleDateString()]})]}),i.image&&T.jsx("div",{className:"mb-6 rounded-lg overflow-hidden border border-gray-200 bg-gray-50",children:T.jsx("img",{src:i.image,alt:"Anexo",className:"w-full h-auto max-h-[400px] object-contain"})}),T.jsx("div",{className:"prose max-w-none text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg border border-gray-100",children:i.description||T.jsx("span",{className:"italic text-gray-400",children:"Sem descrio."})})]}),T.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between items-center",children:[T.jsxs("div",{className:"text-xs text-gray-400",children:["Criado em: ",new Date(i.createdAt||Date.now()).toLocaleString()]}),T.jsxs("div",{className:"flex space-x-3",children:[T.jsx("button",{onClick:()=>{B(i),s(null)},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 font-medium",children:"Editar"}),T.jsx("button",{onClick:()=>{A(i.id),s(null)},className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 font-medium",children:"Excluir"})]})]})]})})]})}const Zv=Q.createContext(),k1={default:{name:"Padro (Azul)",bg:"bg-gray-100",sidebar:"bg-white",sidebarText:"text-gray-700",primaryBtn:"bg-blue-600 hover:bg-blue-700 text-white",secondaryBtn:"bg-gray-100 hover:bg-gray-200 text-gray-600",accent:"text-blue-600",header:"bg-white border-b",tableHeader:"bg-gray-50 text-gray-500",tableRowHover:"hover:bg-blue-50",border:"border-gray-200",input:"bg-white text-gray-900",panel:"bg-white"},dark:{name:"Modo Escuro",bg:"bg-gray-900",sidebar:"bg-gray-800",sidebarText:"text-gray-200",primaryBtn:"bg-indigo-600 hover:bg-indigo-700 text-white",secondaryBtn:"bg-gray-700 hover:bg-gray-600 text-gray-200",accent:"text-indigo-400",header:"bg-gray-800 border-gray-700 border-b",tableHeader:"bg-gray-700 text-gray-300",tableRowHover:"hover:bg-gray-700",border:"border-gray-700",input:"bg-gray-700 text-white border-gray-600",panel:"bg-gray-800"},ubuntu:{name:"Ubuntu",bg:"bg-[#fdf6e3]",sidebar:"bg-[#300a24]",sidebarText:"text-white",primaryBtn:"bg-[#e95420] hover:bg-[#c7461b] text-white",secondaryBtn:"bg-[#aea79f] hover:bg-[#9e968d] text-white",accent:"text-[#e95420]",header:"bg-[#300a24] border-b border-[#5e2750]",tableHeader:"bg-[#aea79f] text-white",tableRowHover:"hover:bg-[#f2d7d0]",border:"border-[#aea79f]",input:"bg-white text-[#300a24]",panel:"bg-white"},forest:{name:"Floresta",bg:"bg-stone-100",sidebar:"bg-[#1c2e1f]",sidebarText:"text-stone-200",primaryBtn:"bg-[#2d4a33] hover:bg-[#3a5e42] text-white",secondaryBtn:"bg-stone-200 hover:bg-stone-300 text-stone-700",accent:"text-[#2d4a33]",header:"bg-white border-stone-200 border-b",tableHeader:"bg-stone-100 text-stone-600",tableRowHover:"hover:bg-[#e8f5e9]",border:"border-stone-200",input:"bg-white text-stone-800",panel:"bg-[#fdfbf7]"},ocean:{name:"Oceano",bg:"bg-cyan-50",sidebar:"bg-white",sidebarText:"text-slate-700",primaryBtn:"bg-cyan-600 hover:bg-cyan-700 text-white",secondaryBtn:"bg-cyan-100 hover:bg-cyan-200 text-cyan-800",accent:"text-cyan-600",header:"bg-white border-cyan-100 border-b",tableHeader:"bg-cyan-50 text-cyan-700",tableRowHover:"hover:bg-cyan-50",border:"border-cyan-200",input:"bg-white text-slate-700",panel:"bg-white"},dracula:{name:"Dracula",bg:"bg-[#282a36]",sidebar:"bg-[#44475a]",sidebarText:"text-[#f8f8f2]",primaryBtn:"bg-[#bd93f9] hover:bg-[#ff79c6] text-[#282a36] font-bold",secondaryBtn:"bg-[#6272a4] hover:bg-[#50fa7b] text-white",accent:"text-[#ff79c6]",header:"bg-[#44475a] border-[#6272a4] border-b",tableHeader:"bg-[#44475a] text-[#8be9fd]",tableRowHover:"hover:bg-[#44475a]",border:"border-[#6272a4]",input:"bg-[#282a36] text-[#f8f8f2] border-[#6272a4]",panel:"bg-[#282a36]"}};function UW(){const[n,e]=Q.useState(null),[t,r]=Q.useState("query-builder"),[i,s]=Q.useState(!0),[l,c]=Q.useState(()=>localStorage.getItem("app_theme")||"default"),f=k1[l]||k1.default,h=g=>{c(g),localStorage.setItem("app_theme",g)},d=g=>{e(g)},m=()=>{e(null),r("query-builder")};return n?T.jsx(Zv.Provider,{value:{theme:f,currentThemeName:l,changeTheme:h},children:T.jsxs("div",{className:`flex h-screen ${f.bg} font-sans overflow-hidden transition-colors duration-300`,children:[T.jsxs("div",{className:`${i?"w-64":"w-0"} ${f.sidebar} shadow-lg flex flex-col z-20 transition-all duration-300 overflow-hidden relative border-r ${f.border}`,children:[T.jsxs("div",{className:`p-6 flex flex-col items-center border-b ${f.border} min-w-[16rem]`,children:[T.jsx("img",{src:O1,alt:"Hap Query Report",className:"h-20 object-contain mb-3 transition-transform hover:scale-105"}),T.jsx("h1",{className:`text-lg font-bold tracking-tight text-center leading-tight ${f.sidebarText}`,children:"Hap Query Report"})]}),T.jsxs("nav",{className:"flex-1 py-6 space-y-1 px-3 overflow-y-auto min-w-[16rem]",children:[T.jsxs("button",{onClick:()=>r("query-builder"),className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 group ${t==="query-builder"?`${f.primaryBtn} shadow-sm`:`${f.sidebarText} hover:bg-opacity-10 hover:bg-black`}`,children:[T.jsx("span",{className:"mr-3 text-lg",children:""}),"Construtor de Consultas"]}),T.jsxs("button",{onClick:()=>r("sql-runner"),className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 group ${t==="sql-runner"?`${f.primaryBtn} shadow-sm`:`${f.sidebarText} hover:bg-opacity-10 hover:bg-black`}`,children:[T.jsx("span",{className:"mr-3 text-lg",children:""}),"Editor SQL"]}),T.jsxs("button",{onClick:()=>r("csv-importer"),className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 group ${t==="csv-importer"?`${f.primaryBtn} shadow-sm`:`${f.sidebarText} hover:bg-opacity-10 hover:bg-black`}`,children:[T.jsx("span",{className:"mr-3 text-lg",children:""}),"Importar CSV"]}),T.jsxs("button",{onClick:()=>r("reminders"),className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 group ${t==="reminders"?`${f.primaryBtn} shadow-sm`:`${f.sidebarText} hover:bg-opacity-10 hover:bg-black`}`,children:[T.jsx("span",{className:"mr-3 text-lg",children:""}),"Lembretes"]}),T.jsxs("div",{className:"mt-6 px-1",children:[T.jsx("label",{className:`block text-xs font-bold uppercase mb-2 ${f.sidebarText} opacity-70`,children:"Tema"}),T.jsx("select",{value:l,onChange:g=>h(g.target.value),className:`w-full text-xs p-2 rounded border outline-none ${f.input} ${f.border}`,children:Object.entries(k1).map(([g,x])=>T.jsx("option",{value:g,children:x.name},g))})]})]}),T.jsxs("div",{className:`p-4 border-t ${f.border} min-w-[16rem]`,children:[T.jsxs("div",{className:"flex items-center mb-3 px-2",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-[#f37021] flex items-center justify-center text-white font-bold text-xs shadow-sm",children:n.user.substring(0,2).toUpperCase()}),T.jsxs("div",{className:"ml-3 overflow-hidden",children:[T.jsx("p",{className:`text-sm font-medium truncate ${f.sidebarText}`,children:n.user}),T.jsx("p",{className:`text-xs truncate opacity-70 ${f.sidebarText}`,children:n.connectString})]})]}),T.jsx("button",{onClick:m,className:`w-full flex items-center justify-center px-4 py-2 border shadow-sm text-sm font-medium rounded-md transition-colors duration-200 ${f.secondaryBtn} ${f.border}`,children:"Desconectar"}),T.jsxs("div",{className:"mt-4 text-center",children:[T.jsx("p",{className:"text-[10px] text-gray-400",children:"Desenvolvido por:"}),T.jsx("p",{className:"text-xs font-semibold text-gray-500",children:"Jefferson Oliveira"})]})]})]}),T.jsxs("div",{className:"flex-1 overflow-hidden relative flex flex-col",children:[T.jsxs("div",{className:`${f.header} p-2 flex items-center shadow-sm z-10`,children:[T.jsx("button",{onClick:()=>s(!i),className:`p-2 rounded-md hover:bg-opacity-10 hover:bg-black focus:outline-none ${f.sidebarText}`,title:i?"Recolher Menu":"Expandir Menu",children:i?"":""}),!i&&T.jsxs("div",{className:"ml-4 flex items-center",children:[T.jsx("img",{src:O1,alt:"Logo",className:"h-8 object-contain mr-2"}),T.jsx("span",{className:`font-bold ${f.accent}`,children:"Hap Query Report"})]})]}),T.jsx("main",{className:"flex-1 overflow-auto p-2 sm:p-6 transition-all duration-300",children:T.jsxs("div",{className:"max-w-7xl mx-auto h-full flex flex-col",children:[t==="query-builder"&&T.jsx(DM,{}),t==="sql-runner"&&T.jsx(VV,{}),t==="csv-importer"&&T.jsx(qV,{}),t==="reminders"&&T.jsx(jW,{})]})})]})]})}):T.jsx(Ik,{onConnect:d})}ED.createRoot(document.getElementById("root")).render(T.jsx(Q.StrictMode,{children:T.jsx(UW,{})}));
