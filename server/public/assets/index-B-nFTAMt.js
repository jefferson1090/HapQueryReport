(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Jj(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var zw={exports:{}},md={};var zD;function Zj(){if(zD)return md;zD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:s}}return md.Fragment=e,md.jsx=n,md.jsxs=n,md}var HD;function e$(){return HD||(HD=1,zw.exports=Zj()),zw.exports}var C=e$(),Hw={exports:{}},Ot={};var UD;function t$(){if(UD)return Ot;UD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),p=Symbol.iterator;function g(U){return U===null||typeof U!="object"?null:(U=p&&U[p]||U["@@iterator"],typeof U=="function"?U:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function w(U,M,D){this.props=U,this.context=M,this.refs=v,this.updater=D||x}w.prototype.isReactComponent={},w.prototype.setState=function(U,M){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,M,"setState")},w.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function k(){}k.prototype=w.prototype;function A(U,M,D){this.props=U,this.context=M,this.refs=v,this.updater=D||x}var T=A.prototype=new k;T.constructor=A,b(T,w.prototype),T.isPureReactComponent=!0;var O=Array.isArray;function _(){}var N={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function L(U,M,D){var I=D.ref;return{$$typeof:t,type:U,key:M,ref:I!==void 0?I:null,props:D}}function R(U,M){return L(U.type,M,U.props)}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function z(U){var M={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(D){return M[D]})}var W=/\/+/g;function ee(U,M){return typeof U=="object"&&U!==null&&U.key!=null?z(""+U.key):M.toString(36)}function te(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(_,_):(U.status="pending",U.then(function(M){U.status==="pending"&&(U.status="fulfilled",U.value=M)},function(M){U.status==="pending"&&(U.status="rejected",U.reason=M)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function J(U,M,D,I,V){var re=typeof U;(re==="undefined"||re==="boolean")&&(U=null);var he=!1;if(U===null)he=!0;else switch(re){case"bigint":case"string":case"number":he=!0;break;case"object":switch(U.$$typeof){case t:case e:he=!0;break;case f:return he=U._init,J(he(U._payload),M,D,I,V)}}if(he)return V=V(U),he=I===""?"."+ee(U,0):I,O(V)?(D="",he!=null&&(D=he.replace(W,"$&/")+"/"),J(V,M,D,"",function(de){return de})):V!=null&&(P(V)&&(V=R(V,D+(V.key==null||U&&U.key===V.key?"":(""+V.key).replace(W,"$&/")+"/")+he)),M.push(V)),1;he=0;var oe=I===""?".":I+":";if(O(U))for(var Ee=0;Ee<U.length;Ee++)I=U[Ee],re=oe+ee(I,Ee),he+=J(I,M,D,re,V);else if(Ee=g(U),typeof Ee=="function")for(U=Ee.call(U),Ee=0;!(I=U.next()).done;)I=I.value,re=oe+ee(I,Ee++),he+=J(I,M,D,re,V);else if(re==="object"){if(typeof U.then=="function")return J(te(U),M,D,I,V);throw M=String(U),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return he}function ae(U,M,D){if(U==null)return U;var I=[],V=0;return J(U,I,"","",function(re){return M.call(D,re,V++)}),I}function ce(U){if(U._status===-1){var M=U._result;M=M(),M.then(function(D){(U._status===0||U._status===-1)&&(U._status=1,U._result=D)},function(D){(U._status===0||U._status===-1)&&(U._status=2,U._result=D)}),U._status===-1&&(U._status=0,U._result=M)}if(U._status===1)return U._result.default;throw U._result}var ve=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},q={map:ae,forEach:function(U,M,D){ae(U,function(){M.apply(this,arguments)},D)},count:function(U){var M=0;return ae(U,function(){M++}),M},toArray:function(U){return ae(U,function(M){return M})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ot.Activity=d,Ot.Children=q,Ot.Component=w,Ot.Fragment=n,Ot.Profiler=i,Ot.PureComponent=A,Ot.StrictMode=r,Ot.Suspense=l,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(U){return N.H.useMemoCache(U)}},Ot.cache=function(U){return function(){return U.apply(null,arguments)}},Ot.cacheSignal=function(){return null},Ot.cloneElement=function(U,M,D){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var I=b({},U.props),V=U.key;if(M!=null)for(re in M.key!==void 0&&(V=""+M.key),M)!F.call(M,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&M.ref===void 0||(I[re]=M[re]);var re=arguments.length-2;if(re===1)I.children=D;else if(1<re){for(var he=Array(re),oe=0;oe<re;oe++)he[oe]=arguments[oe+2];I.children=he}return L(U.type,V,I)},Ot.createContext=function(U){return U={$$typeof:o,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:s,_context:U},U},Ot.createElement=function(U,M,D){var I,V={},re=null;if(M!=null)for(I in M.key!==void 0&&(re=""+M.key),M)F.call(M,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(V[I]=M[I]);var he=arguments.length-2;if(he===1)V.children=D;else if(1<he){for(var oe=Array(he),Ee=0;Ee<he;Ee++)oe[Ee]=arguments[Ee+2];V.children=oe}if(U&&U.defaultProps)for(I in he=U.defaultProps,he)V[I]===void 0&&(V[I]=he[I]);return L(U,re,V)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(U){return{$$typeof:a,render:U}},Ot.isValidElement=P,Ot.lazy=function(U){return{$$typeof:f,_payload:{_status:-1,_result:U},_init:ce}},Ot.memo=function(U,M){return{$$typeof:c,type:U,compare:M===void 0?null:M}},Ot.startTransition=function(U){var M=N.T,D={};N.T=D;try{var I=U(),V=N.S;V!==null&&V(D,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(_,ve)}catch(re){ve(re)}finally{M!==null&&D.types!==null&&(M.types=D.types),N.T=M}},Ot.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ot.use=function(U){return N.H.use(U)},Ot.useActionState=function(U,M,D){return N.H.useActionState(U,M,D)},Ot.useCallback=function(U,M){return N.H.useCallback(U,M)},Ot.useContext=function(U){return N.H.useContext(U)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(U,M){return N.H.useDeferredValue(U,M)},Ot.useEffect=function(U,M){return N.H.useEffect(U,M)},Ot.useEffectEvent=function(U){return N.H.useEffectEvent(U)},Ot.useId=function(){return N.H.useId()},Ot.useImperativeHandle=function(U,M,D){return N.H.useImperativeHandle(U,M,D)},Ot.useInsertionEffect=function(U,M){return N.H.useInsertionEffect(U,M)},Ot.useLayoutEffect=function(U,M){return N.H.useLayoutEffect(U,M)},Ot.useMemo=function(U,M){return N.H.useMemo(U,M)},Ot.useOptimistic=function(U,M){return N.H.useOptimistic(U,M)},Ot.useReducer=function(U,M,D){return N.H.useReducer(U,M,D)},Ot.useRef=function(U){return N.H.useRef(U)},Ot.useState=function(U){return N.H.useState(U)},Ot.useSyncExternalStore=function(U,M,D){return N.H.useSyncExternalStore(U,M,D)},Ot.useTransition=function(){return N.H.useTransition()},Ot.version="19.2.0",Ot}var jD;function op(){return jD||(jD=1,Hw.exports=t$()),Hw.exports}var X=op();const un=xu(X);var Uw={exports:{}},gd={},jw={exports:{}},$w={};var $D;function n$(){return $D||($D=1,(function(t){function e(J,ae){var ce=J.length;J.push(ae);e:for(;0<ce;){var ve=ce-1>>>1,q=J[ve];if(0<i(q,ae))J[ve]=ae,J[ce]=q,ce=ve;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ae=J[0],ce=J.pop();if(ce!==ae){J[0]=ce;e:for(var ve=0,q=J.length,U=q>>>1;ve<U;){var M=2*(ve+1)-1,D=J[M],I=M+1,V=J[I];if(0>i(D,ce))I<q&&0>i(V,D)?(J[ve]=V,J[I]=ce,ve=I):(J[ve]=D,J[M]=ce,ve=M);else if(I<q&&0>i(V,ce))J[ve]=V,J[I]=ce,ve=I;else break e}}return ae}function i(J,ae){var ce=J.sortIndex-ae.sortIndex;return ce!==0?ce:J.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,d=null,p=3,g=!1,x=!1,b=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(J){for(var ae=n(c);ae!==null;){if(ae.callback===null)r(c);else if(ae.startTime<=J)r(c),ae.sortIndex=ae.expirationTime,e(l,ae);else break;ae=n(c)}}function O(J){if(b=!1,T(J),!x)if(n(l)!==null)x=!0,_||(_=!0,z());else{var ae=n(c);ae!==null&&te(O,ae.startTime-J)}}var _=!1,N=-1,F=5,L=-1;function R(){return v?!0:!(t.unstable_now()-L<F)}function P(){if(v=!1,_){var J=t.unstable_now();L=J;var ae=!0;try{e:{x=!1,b&&(b=!1,k(N),N=-1),g=!0;var ce=p;try{t:{for(T(J),d=n(l);d!==null&&!(d.expirationTime>J&&R());){var ve=d.callback;if(typeof ve=="function"){d.callback=null,p=d.priorityLevel;var q=ve(d.expirationTime<=J);if(J=t.unstable_now(),typeof q=="function"){d.callback=q,T(J),ae=!0;break t}d===n(l)&&r(l),T(J)}else r(l);d=n(l)}if(d!==null)ae=!0;else{var U=n(c);U!==null&&te(O,U.startTime-J),ae=!1}}break e}finally{d=null,p=ce,g=!1}ae=void 0}}finally{ae?z():_=!1}}}var z;if(typeof A=="function")z=function(){A(P)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ee=W.port2;W.port1.onmessage=P,z=function(){ee.postMessage(null)}}else z=function(){w(P,0)};function te(J,ae){N=w(function(){J(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(J){switch(p){case 1:case 2:case 3:var ae=3;break;default:ae=p}var ce=p;p=ae;try{return J()}finally{p=ce}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ce=p;p=J;try{return ae()}finally{p=ce}},t.unstable_scheduleCallback=function(J,ae,ce){var ve=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ve+ce:ve):ce=ve,J){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ce+q,J={id:f++,callback:ae,priorityLevel:J,startTime:ce,expirationTime:q,sortIndex:-1},ce>ve?(J.sortIndex=ce,e(c,J),n(l)===null&&J===n(c)&&(b?(k(N),N=-1):b=!0,te(O,ce-ve))):(J.sortIndex=q,e(l,J),x||g||(x=!0,_||(_=!0,z()))),J},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(J){var ae=p;return function(){var ce=p;p=ae;try{return J.apply(this,arguments)}finally{p=ce}}}})($w)),$w}var VD;function r$(){return VD||(VD=1,jw.exports=n$()),jw.exports}var Vw={exports:{}},vi={};var qD;function i$(){if(qD)return vi;qD=1;var t=op();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,c,f){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:d==null?null:""+d,children:l,containerInfo:c,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return vi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,vi.createPortal=function(l,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(l,c,null,f)},vi.flushSync=function(l){var c=o.T,f=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=c,r.p=f,r.d.f()}},vi.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},vi.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},vi.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var f=c.as,d=a(f,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,g=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;f==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:d,integrity:p,fetchPriority:g}):f==="script"&&r.d.X(l,{crossOrigin:d,integrity:p,fetchPriority:g,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},vi.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var f=a(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},vi.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var f=c.as,d=a(f,c.crossOrigin);r.d.L(l,f,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},vi.preloadModule=function(l,c){if(typeof l=="string")if(c){var f=a(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},vi.requestFormReset=function(l){r.d.r(l)},vi.unstable_batchedUpdates=function(l,c){return l(c)},vi.useFormState=function(l,c,f){return o.H.useFormState(l,c,f)},vi.useFormStatus=function(){return o.H.useHostTransitionStatus()},vi.version="19.2.0",vi}var WD;function VB(){if(WD)return Vw.exports;WD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vw.exports=i$(),Vw.exports}var GD;function s$(){if(GD)return gd;GD=1;var t=r$(),e=op(),n=VB();function r(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function s(u){var h=u,m=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(m=h.return),u=h.return;while(u)}return h.tag===3?m:null}function o(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function a(u){if(u.tag===31){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function l(u){if(s(u)!==u)throw Error(r(188))}function c(u){var h=u.alternate;if(!h){if(h=s(u),h===null)throw Error(r(188));return h!==u?null:u}for(var m=u,y=h;;){var E=m.return;if(E===null)break;var S=E.alternate;if(S===null){if(y=E.return,y!==null){m=y;continue}break}if(E.child===S.child){for(S=E.child;S;){if(S===m)return l(E),u;if(S===y)return l(E),h;S=S.sibling}throw Error(r(188))}if(m.return!==y.return)m=E,y=S;else{for(var B=!1,j=E.child;j;){if(j===m){B=!0,m=E,y=S;break}if(j===y){B=!0,y=E,m=S;break}j=j.sibling}if(!B){for(j=S.child;j;){if(j===m){B=!0,m=S,y=E;break}if(j===y){B=!0,y=S,m=E;break}j=j.sibling}if(!B)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?u:h}function f(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=f(u),h!==null)return h;u=u.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function z(u){return u===null||typeof u!="object"?null:(u=P&&u[P]||u["@@iterator"],typeof u=="function"?u:null)}var W=Symbol.for("react.client.reference");function ee(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===W?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case b:return"Fragment";case w:return"Profiler";case v:return"StrictMode";case O:return"Suspense";case _:return"SuspenseList";case L:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case x:return"Portal";case A:return u.displayName||"Context";case k:return(u._context.displayName||"Context")+".Consumer";case T:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case N:return h=u.displayName||null,h!==null?h:ee(u.type)||"Memo";case F:h=u._payload,u=u._init;try{return ee(u(h))}catch{}}return null}var te=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ve=[],q=-1;function U(u){return{current:u}}function M(u){0>q||(u.current=ve[q],ve[q]=null,q--)}function D(u,h){q++,ve[q]=u.current,u.current=h}var I=U(null),V=U(null),re=U(null),he=U(null);function oe(u,h){switch(D(re,h),D(V,u),D(I,null),h.nodeType){case 9:case 11:u=(u=h.documentElement)&&(u=u.namespaceURI)?lD(u):0;break;default:if(u=h.tagName,h=h.namespaceURI)h=lD(h),u=cD(h,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}M(I),D(I,u)}function Ee(){M(I),M(V),M(re)}function de(u){u.memoizedState!==null&&D(he,u);var h=I.current,m=cD(h,u.type);h!==m&&(D(V,u),D(I,m))}function ct(u){V.current===u&&(M(I),M(V)),he.current===u&&(M(he),fd._currentValue=ce)}var ot,_t;function et(u){if(ot===void 0)try{throw Error()}catch(m){var h=m.stack.trim().match(/\n( *(at )?)/);ot=h&&h[1]||"",_t=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+u+_t}var Ve=!1;function Ie(u,h){if(!u||Ve)return"";Ve=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(h){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(ke){var we=ke}Reflect.construct(u,[],Me)}else{try{Me.call()}catch(ke){we=ke}u.call(Me.prototype)}}else{try{throw Error()}catch(ke){we=ke}(Me=u())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(ke){if(ke&&we&&typeof ke.stack=="string")return[ke.stack,we.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=y.DetermineComponentFrameRoot(),B=S[0],j=S[1];if(B&&j){var se=B.split(`
`),ge=j.split(`
`);for(E=y=0;y<se.length&&!se[y].includes("DetermineComponentFrameRoot");)y++;for(;E<ge.length&&!ge[E].includes("DetermineComponentFrameRoot");)E++;if(y===se.length||E===ge.length)for(y=se.length-1,E=ge.length-1;1<=y&&0<=E&&se[y]!==ge[E];)E--;for(;1<=y&&0<=E;y--,E--)if(se[y]!==ge[E]){if(y!==1||E!==1)do if(y--,E--,0>E||se[y]!==ge[E]){var Ne=`
`+se[y].replace(" at new "," at ");return u.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",u.displayName)),Ne}while(1<=y&&0<=E);break}}}finally{Ve=!1,Error.prepareStackTrace=m}return(m=u?u.displayName||u.name:"")?et(m):""}function Be(u,h){switch(u.tag){case 26:case 27:case 5:return et(u.type);case 16:return et("Lazy");case 13:return u.child!==h&&h!==null?et("Suspense Fallback"):et("Suspense");case 19:return et("SuspenseList");case 0:case 15:return Ie(u.type,!1);case 11:return Ie(u.type.render,!1);case 1:return Ie(u.type,!0);case 31:return et("Activity");default:return""}}function it(u){try{var h="",m=null;do h+=Be(u,m),m=u,u=u.return;while(u);return h}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var Et=Object.prototype.hasOwnProperty,Mt=t.unstable_scheduleCallback,rn=t.unstable_cancelCallback,on=t.unstable_shouldYield,Qn=t.unstable_requestPaint,Nt=t.unstable_now,Ur=t.unstable_getCurrentPriorityLevel,Ce=t.unstable_ImmediatePriority,ze=t.unstable_UserBlockingPriority,at=t.unstable_NormalPriority,St=t.unstable_LowPriority,Rt=t.unstable_IdlePriority,Xt=t.log,Jn=t.unstable_setDisableYieldValue,$n=null,hn=null;function dn(u){if(typeof Xt=="function"&&Jn(u),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode($n,u)}catch{}}var jt=Math.clz32?Math.clz32:ps,Lr=Math.log,Ln=Math.LN2;function ps(u){return u>>>=0,u===0?32:31-(Lr(u)/Ln|0)|0}var ni=256,Wi=262144,pn=4194304;function Vt(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function ie(u,h,m){var y=u.pendingLanes;if(y===0)return 0;var E=0,S=u.suspendedLanes,B=u.pingedLanes;u=u.warmLanes;var j=y&134217727;return j!==0?(y=j&~S,y!==0?E=Vt(y):(B&=j,B!==0?E=Vt(B):m||(m=j&~u,m!==0&&(E=Vt(m))))):(j=y&~S,j!==0?E=Vt(j):B!==0?E=Vt(B):m||(m=y&~u,m!==0&&(E=Vt(m)))),E===0?0:h!==0&&h!==E&&(h&S)===0&&(S=E&-E,m=h&-h,S>=m||S===32&&(m&4194048)!==0)?h:E}function ne(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function fe(u,h){switch(u){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ae(){var u=pn;return pn<<=1,(pn&62914560)===0&&(pn=4194304),u}function Je(u){for(var h=[],m=0;31>m;m++)h.push(u);return h}function Ke(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Oe(u,h,m,y,E,S){var B=u.pendingLanes;u.pendingLanes=m,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=m,u.entangledLanes&=m,u.errorRecoveryDisabledLanes&=m,u.shellSuspendCounter=0;var j=u.entanglements,se=u.expirationTimes,ge=u.hiddenUpdates;for(m=B&~m;0<m;){var Ne=31-jt(m),Me=1<<Ne;j[Ne]=0,se[Ne]=-1;var we=ge[Ne];if(we!==null)for(ge[Ne]=null,Ne=0;Ne<we.length;Ne++){var ke=we[Ne];ke!==null&&(ke.lane&=-536870913)}m&=~Me}y!==0&&Le(u,y,0),S!==0&&E===0&&u.tag!==0&&(u.suspendedLanes|=S&~(B&~h))}function Le(u,h,m){u.pendingLanes|=h,u.suspendedLanes&=~h;var y=31-jt(h);u.entangledLanes|=h,u.entanglements[y]=u.entanglements[y]|1073741824|m&261930}function $e(u,h){var m=u.entangledLanes|=h;for(u=u.entanglements;m;){var y=31-jt(m),E=1<<y;E&h|u[y]&h&&(u[y]|=h),m&=~E}}function vt(u,h){var m=h&-h;return m=(m&42)!==0?1:Lt(m),(m&(u.suspendedLanes|h))!==0?0:m}function Lt(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function Vn(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function H(){var u=ae.p;return u!==0?u:(u=window.event,u===void 0?32:MD(u.type))}function Y(u,h){var m=ae.p;try{return ae.p=u,h()}finally{ae.p=m}}var G=Math.random().toString(36).slice(2),K="__reactFiber$"+G,Q="__reactProps$"+G,Z="__reactContainer$"+G,xe="__reactEvents$"+G,_e="__reactListeners$"+G,pe="__reactHandles$"+G,ye="__reactResources$"+G,be="__reactMarker$"+G;function Ue(u){delete u[K],delete u[Q],delete u[xe],delete u[_e],delete u[pe]}function qe(u){var h=u[K];if(h)return h;for(var m=u.parentNode;m;){if(h=m[Z]||m[K]){if(m=h.alternate,h.child!==null||m!==null&&m.child!==null)for(u=gD(u);u!==null;){if(m=u[K])return m;u=gD(u)}return h}u=m,m=u.parentNode}return null}function rt(u){if(u=u[K]||u[Z]){var h=u.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return u}return null}function je(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u.stateNode;throw Error(r(33))}function Ze(u){var h=u[ye];return h||(h=u[ye]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function ht(u){u[be]=!0}var _n=new Set,mn={};function qn(u,h){He(u,h),He(u+"Capture",h)}function He(u,h){for(mn[u]=h,u=0;u<h.length;u++)_n.add(h[u])}var dt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dt={},qt={};function Zn(u){return Et.call(qt,u)?!0:Et.call(Dt,u)?!1:dt.test(u)?qt[u]=!0:(Dt[u]=!0,!1)}function Wn(u,h,m){if(Zn(h))if(m===null)u.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":u.removeAttribute(h);return;case"boolean":var y=h.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){u.removeAttribute(h);return}}u.setAttribute(h,""+m)}}function ms(u,h,m){if(m===null)u.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(h);return}u.setAttribute(h,""+m)}}function Gi(u,h,m,y){if(y===null)u.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(m);return}u.setAttributeNS(h,m,""+y)}}function Gn(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function gs(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Rp(u,h,m){var y=Object.getOwnPropertyDescriptor(u.constructor.prototype,h);if(!u.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var E=y.get,S=y.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return E.call(this)},set:function(B){m=""+B,S.call(this,B)}}),Object.defineProperty(u,h,{enumerable:y.enumerable}),{getValue:function(){return m},setValue:function(B){m=""+B},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Nu(u){if(!u._valueTracker){var h=gs(u)?"checked":"value";u._valueTracker=Rp(u,h,""+u[h])}}function Ch(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var m=h.getValue(),y="";return u&&(y=gs(u)?u.checked?"true":"false":u.value),u=y,u!==m?(h.setValue(u),!0):!1}function Du(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var Pb=/[\n"\\]/g;function Ki(u){return u.replace(Pb,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function kh(u,h,m,y,E,S,B,j){u.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?u.type=B:u.removeAttribute("type"),h!=null?B==="number"?(h===0&&u.value===""||u.value!=h)&&(u.value=""+Gn(h)):u.value!==""+Gn(h)&&(u.value=""+Gn(h)):B!=="submit"&&B!=="reset"||u.removeAttribute("value"),h!=null?Ou(u,B,Gn(h)):m!=null?Ou(u,B,Gn(m)):y!=null&&u.removeAttribute("value"),E==null&&S!=null&&(u.defaultChecked=!!S),E!=null&&(u.checked=E&&typeof E!="function"&&typeof E!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?u.name=""+Gn(j):u.removeAttribute("name")}function dc(u,h,m,y,E,S,B,j){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(u.type=S),h!=null||m!=null){if(!(S!=="submit"&&S!=="reset"||h!=null)){Nu(u);return}m=m!=null?""+Gn(m):"",h=h!=null?""+Gn(h):m,j||h===u.value||(u.value=h),u.defaultValue=h}y=y??E,y=typeof y!="function"&&typeof y!="symbol"&&!!y,u.checked=j?u.checked:!!y,u.defaultChecked=!!y,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(u.name=B),Nu(u)}function Ou(u,h,m){h==="number"&&Du(u.ownerDocument)===u||u.defaultValue===""+m||(u.defaultValue=""+m)}function ri(u,h,m,y){if(u=u.options,h){h={};for(var E=0;E<m.length;E++)h["$"+m[E]]=!0;for(m=0;m<u.length;m++)E=h.hasOwnProperty("$"+u[m].value),u[m].selected!==E&&(u[m].selected=E),E&&y&&(u[m].defaultSelected=!0)}else{for(m=""+Gn(m),h=null,E=0;E<u.length;E++){if(u[E].value===m){u[E].selected=!0,y&&(u[E].defaultSelected=!0);return}h!==null||u[E].disabled||(h=u[E])}h!==null&&(h.selected=!0)}}function Bp(u,h,m){if(h!=null&&(h=""+Gn(h),h!==u.value&&(u.value=h),m==null)){u.defaultValue!==h&&(u.defaultValue=h);return}u.defaultValue=m!=null?""+Gn(m):""}function Mu(u,h,m,y){if(h==null){if(y!=null){if(m!=null)throw Error(r(92));if(te(y)){if(1<y.length)throw Error(r(93));y=y[0]}m=y}m==null&&(m=""),h=m}m=Gn(h),u.defaultValue=m,y=u.textContent,y===m&&y!==""&&y!==null&&(u.value=y),Nu(u)}function At(u,h){if(h){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=h;return}}u.textContent=h}var Lp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Er(u,h,m){var y=h.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?y?u.setProperty(h,""):h==="float"?u.cssFloat="":u[h]="":y?u.setProperty(h,m):typeof m!="number"||m===0||Lp.has(h)?h==="float"?u.cssFloat=m:u[h]=(""+m).trim():u[h]=m+"px"}function wn(u,h,m){if(h!=null&&typeof h!="object")throw Error(r(62));if(u=u.style,m!=null){for(var y in m)!m.hasOwnProperty(y)||h!=null&&h.hasOwnProperty(y)||(y.indexOf("--")===0?u.setProperty(y,""):y==="float"?u.cssFloat="":u[y]="");for(var E in h)y=h[E],h.hasOwnProperty(E)&&m[E]!==y&&Er(u,E,y)}else for(var S in h)h.hasOwnProperty(S)&&Er(u,S,h[S])}function Qa(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ah=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(u){return Ah.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function Qe(){}var pt=null;function Bt(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Yt=null,cr=null;function Ps(u){var h=rt(u);if(h&&(u=h.stateNode)){var m=u[Q]||null;e:switch(u=h.stateNode,h.type){case"input":if(kh(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),h=m.name,m.type==="radio"&&h!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Ki(""+h)+'"][type="radio"]'),h=0;h<m.length;h++){var y=m[h];if(y!==u&&y.form===u.form){var E=y[Q]||null;if(!E)throw Error(r(90));kh(y,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(h=0;h<m.length;h++)y=m[h],y.form===u.form&&Ch(y)}break e;case"textarea":Bp(u,m.value,m.defaultValue);break e;case"select":h=m.value,h!=null&&ri(u,!!m.multiple,h,!1)}}}var Th=!1;function Ip(u,h,m){if(Th)return u(h,m);Th=!0;try{var y=u(h);return y}finally{if(Th=!1,(Yt!==null||cr!==null)&&(Sm(),Yt&&(h=Yt,u=cr,cr=Yt=null,Ps(h),u)))for(h=0;h<u.length;h++)Ps(u[h])}}function _h(u,h){var m=u.stateNode;if(m===null)return null;var y=m[Q]||null;if(y===null)return null;m=y[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(u=u.type,y=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!y;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(r(231,h,typeof m));return m}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zb=!1;if(la)try{var Nh={};Object.defineProperty(Nh,"passive",{get:function(){zb=!0}}),window.addEventListener("test",Nh,Nh),window.removeEventListener("test",Nh,Nh)}catch{zb=!1}var Za=null,Hb=null,Fp=null;function cT(){if(Fp)return Fp;var u,h=Hb,m=h.length,y,E="value"in Za?Za.value:Za.textContent,S=E.length;for(u=0;u<m&&h[u]===E[u];u++);var B=m-u;for(y=1;y<=B&&h[m-y]===E[S-y];y++);return Fp=E.slice(u,1<y?1-y:void 0)}function Pp(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function zp(){return!0}function uT(){return!1}function Xi(u){function h(m,y,E,S,B){this._reactName=m,this._targetInst=E,this.type=y,this.nativeEvent=S,this.target=B,this.currentTarget=null;for(var j in u)u.hasOwnProperty(j)&&(m=u[j],this[j]=m?m(S):S[j]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?zp:uT,this.isPropagationStopped=uT,this}return d(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=zp)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=zp)},persist:function(){},isPersistent:zp}),h}var pc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hp=Xi(pc),Dh=d({},pc,{view:0,detail:0}),YH=Xi(Dh),Ub,jb,Oh,Up=d({},Dh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vb,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Oh&&(Oh&&u.type==="mousemove"?(Ub=u.screenX-Oh.screenX,jb=u.screenY-Oh.screenY):jb=Ub=0,Oh=u),Ub)},movementY:function(u){return"movementY"in u?u.movementY:jb}}),fT=Xi(Up),QH=d({},Up,{dataTransfer:0}),JH=Xi(QH),ZH=d({},Dh,{relatedTarget:0}),$b=Xi(ZH),eU=d({},pc,{animationName:0,elapsedTime:0,pseudoElement:0}),tU=Xi(eU),nU=d({},pc,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),rU=Xi(nU),iU=d({},pc,{data:0}),hT=Xi(iU),sU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lU(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=aU[u])?!!h[u]:!1}function Vb(){return lU}var cU=d({},Dh,{key:function(u){if(u.key){var h=sU[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=Pp(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?oU[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vb,charCode:function(u){return u.type==="keypress"?Pp(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Pp(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),uU=Xi(cU),fU=d({},Up,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dT=Xi(fU),hU=d({},Dh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vb}),dU=Xi(hU),pU=d({},pc,{propertyName:0,elapsedTime:0,pseudoElement:0}),mU=Xi(pU),gU=d({},Up,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),xU=Xi(gU),yU=d({},pc,{newState:0,oldState:0}),bU=Xi(yU),vU=[9,13,27,32],qb=la&&"CompositionEvent"in window,Mh=null;la&&"documentMode"in document&&(Mh=document.documentMode);var wU=la&&"TextEvent"in window&&!Mh,pT=la&&(!qb||Mh&&8<Mh&&11>=Mh),mT=" ",gT=!1;function xT(u,h){switch(u){case"keyup":return vU.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yT(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Ru=!1;function EU(u,h){switch(u){case"compositionend":return yT(h);case"keypress":return h.which!==32?null:(gT=!0,mT);case"textInput":return u=h.data,u===mT&&gT?null:u;default:return null}}function SU(u,h){if(Ru)return u==="compositionend"||!qb&&xT(u,h)?(u=cT(),Fp=Hb=Za=null,Ru=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return pT&&h.locale!=="ko"?null:h.data;default:return null}}var CU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bT(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!CU[u.type]:h==="textarea"}function vT(u,h,m,y){Yt?cr?cr.push(y):cr=[y]:Yt=y,h=Dm(h,"onChange"),0<h.length&&(m=new Hp("onChange","change",null,m,y),u.push({event:m,listeners:h}))}var Rh=null,Bh=null;function kU(u){nD(u,0)}function jp(u){var h=je(u);if(Ch(h))return u}function wT(u,h){if(u==="change")return h}var ET=!1;if(la){var Wb;if(la){var Gb="oninput"in document;if(!Gb){var ST=document.createElement("div");ST.setAttribute("oninput","return;"),Gb=typeof ST.oninput=="function"}Wb=Gb}else Wb=!1;ET=Wb&&(!document.documentMode||9<document.documentMode)}function CT(){Rh&&(Rh.detachEvent("onpropertychange",kT),Bh=Rh=null)}function kT(u){if(u.propertyName==="value"&&jp(Bh)){var h=[];vT(h,Bh,u,Bt(u)),Ip(kU,h)}}function AU(u,h,m){u==="focusin"?(CT(),Rh=h,Bh=m,Rh.attachEvent("onpropertychange",kT)):u==="focusout"&&CT()}function TU(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return jp(Bh)}function _U(u,h){if(u==="click")return jp(h)}function NU(u,h){if(u==="input"||u==="change")return jp(h)}function DU(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var xs=typeof Object.is=="function"?Object.is:DU;function Lh(u,h){if(xs(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var m=Object.keys(u),y=Object.keys(h);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var E=m[y];if(!Et.call(h,E)||!xs(u[E],h[E]))return!1}return!0}function AT(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function TT(u,h){var m=AT(u);u=0;for(var y;m;){if(m.nodeType===3){if(y=u+m.textContent.length,u<=h&&y>=h)return{node:m,offset:h-u};u=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=AT(m)}}function _T(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?_T(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function NT(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var h=Du(u.document);h instanceof u.HTMLIFrameElement;){try{var m=typeof h.contentWindow.location.href=="string"}catch{m=!1}if(m)u=h.contentWindow;else break;h=Du(u.document)}return h}function Kb(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}var OU=la&&"documentMode"in document&&11>=document.documentMode,Bu=null,Xb=null,Ih=null,Yb=!1;function DT(u,h,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Yb||Bu==null||Bu!==Du(y)||(y=Bu,"selectionStart"in y&&Kb(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ih&&Lh(Ih,y)||(Ih=y,y=Dm(Xb,"onSelect"),0<y.length&&(h=new Hp("onSelect","select",null,h,m),u.push({event:h,listeners:y}),h.target=Bu)))}function mc(u,h){var m={};return m[u.toLowerCase()]=h.toLowerCase(),m["Webkit"+u]="webkit"+h,m["Moz"+u]="moz"+h,m}var Lu={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionrun:mc("Transition","TransitionRun"),transitionstart:mc("Transition","TransitionStart"),transitioncancel:mc("Transition","TransitionCancel"),transitionend:mc("Transition","TransitionEnd")},Qb={},OT={};la&&(OT=document.createElement("div").style,"AnimationEvent"in window||(delete Lu.animationend.animation,delete Lu.animationiteration.animation,delete Lu.animationstart.animation),"TransitionEvent"in window||delete Lu.transitionend.transition);function gc(u){if(Qb[u])return Qb[u];if(!Lu[u])return u;var h=Lu[u],m;for(m in h)if(h.hasOwnProperty(m)&&m in OT)return Qb[u]=h[m];return u}var MT=gc("animationend"),RT=gc("animationiteration"),BT=gc("animationstart"),MU=gc("transitionrun"),RU=gc("transitionstart"),BU=gc("transitioncancel"),LT=gc("transitionend"),IT=new Map,Jb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jb.push("scrollEnd");function ho(u,h){IT.set(u,h),qn(h,[u])}var $p=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},zs=[],Iu=0,Zb=0;function Vp(){for(var u=Iu,h=Zb=Iu=0;h<u;){var m=zs[h];zs[h++]=null;var y=zs[h];zs[h++]=null;var E=zs[h];zs[h++]=null;var S=zs[h];if(zs[h++]=null,y!==null&&E!==null){var B=y.pending;B===null?E.next=E:(E.next=B.next,B.next=E),y.pending=E}S!==0&&FT(m,E,S)}}function qp(u,h,m,y){zs[Iu++]=u,zs[Iu++]=h,zs[Iu++]=m,zs[Iu++]=y,Zb|=y,u.lanes|=y,u=u.alternate,u!==null&&(u.lanes|=y)}function ev(u,h,m,y){return qp(u,h,m,y),Wp(u)}function xc(u,h){return qp(u,null,null,h),Wp(u)}function FT(u,h,m){u.lanes|=m;var y=u.alternate;y!==null&&(y.lanes|=m);for(var E=!1,S=u.return;S!==null;)S.childLanes|=m,y=S.alternate,y!==null&&(y.childLanes|=m),S.tag===22&&(u=S.stateNode,u===null||u._visibility&1||(E=!0)),u=S,S=S.return;return u.tag===3?(S=u.stateNode,E&&h!==null&&(E=31-jt(m),u=S.hiddenUpdates,y=u[E],y===null?u[E]=[h]:y.push(h),h.lane=m|536870912),S):null}function Wp(u){if(50<id)throw id=0,cw=null,Error(r(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}var Fu={};function LU(u,h,m,y){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(u,h,m,y){return new LU(u,h,m,y)}function tv(u){return u=u.prototype,!(!u||!u.isReactComponent)}function ca(u,h){var m=u.alternate;return m===null?(m=ys(u.tag,h,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=h,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&65011712,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,h=u.dependencies,m.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m.refCleanup=u.refCleanup,m}function PT(u,h){u.flags&=65011714;var m=u.alternate;return m===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=m.childLanes,u.lanes=m.lanes,u.child=m.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=m.memoizedProps,u.memoizedState=m.memoizedState,u.updateQueue=m.updateQueue,u.type=m.type,h=m.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function Gp(u,h,m,y,E,S){var B=0;if(y=u,typeof u=="function")tv(u)&&(B=1);else if(typeof u=="string")B=Hj(u,m,I.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case L:return u=ys(31,m,h,E),u.elementType=L,u.lanes=S,u;case b:return yc(m.children,E,S,h);case v:B=8,E|=24;break;case w:return u=ys(12,m,h,E|2),u.elementType=w,u.lanes=S,u;case O:return u=ys(13,m,h,E),u.elementType=O,u.lanes=S,u;case _:return u=ys(19,m,h,E),u.elementType=_,u.lanes=S,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case A:B=10;break e;case k:B=9;break e;case T:B=11;break e;case N:B=14;break e;case F:B=16,y=null;break e}B=29,m=Error(r(130,u===null?"null":typeof u,"")),y=null}return h=ys(B,m,h,E),h.elementType=u,h.type=y,h.lanes=S,h}function yc(u,h,m,y){return u=ys(7,u,y,h),u.lanes=m,u}function nv(u,h,m){return u=ys(6,u,null,h),u.lanes=m,u}function zT(u){var h=ys(18,null,null,0);return h.stateNode=u,h}function rv(u,h,m){return h=ys(4,u.children!==null?u.children:[],u.key,h),h.lanes=m,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}var HT=new WeakMap;function Hs(u,h){if(typeof u=="object"&&u!==null){var m=HT.get(u);return m!==void 0?m:(h={value:u,source:h,stack:it(h)},HT.set(u,h),h)}return{value:u,source:h,stack:it(h)}}var Pu=[],zu=0,Kp=null,Fh=0,Us=[],js=0,el=null,Bo=1,Lo="";function ua(u,h){Pu[zu++]=Fh,Pu[zu++]=Kp,Kp=u,Fh=h}function UT(u,h,m){Us[js++]=Bo,Us[js++]=Lo,Us[js++]=el,el=u;var y=Bo;u=Lo;var E=32-jt(y)-1;y&=~(1<<E),m+=1;var S=32-jt(h)+E;if(30<S){var B=E-E%5;S=(y&(1<<B)-1).toString(32),y>>=B,E-=B,Bo=1<<32-jt(h)+E|m<<E|y,Lo=S+u}else Bo=1<<S|m<<E|y,Lo=u}function iv(u){u.return!==null&&(ua(u,1),UT(u,1,0))}function sv(u){for(;u===Kp;)Kp=Pu[--zu],Pu[zu]=null,Fh=Pu[--zu],Pu[zu]=null;for(;u===el;)el=Us[--js],Us[js]=null,Lo=Us[--js],Us[js]=null,Bo=Us[--js],Us[js]=null}function jT(u,h){Us[js++]=Bo,Us[js++]=Lo,Us[js++]=el,Bo=h.id,Lo=h.overflow,el=u}var ii=null,er=null,Zt=!1,tl=null,$s=!1,ov=Error(r(519));function nl(u){var h=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ph(Hs(h,u)),ov}function $T(u){var h=u.stateNode,m=u.type,y=u.memoizedProps;switch(h[K]=u,h[Q]=y,m){case"dialog":Gt("cancel",h),Gt("close",h);break;case"iframe":case"object":case"embed":Gt("load",h);break;case"video":case"audio":for(m=0;m<od.length;m++)Gt(od[m],h);break;case"source":Gt("error",h);break;case"img":case"image":case"link":Gt("error",h),Gt("load",h);break;case"details":Gt("toggle",h);break;case"input":Gt("invalid",h),dc(h,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Gt("invalid",h);break;case"textarea":Gt("invalid",h),Mu(h,y.value,y.defaultValue,y.children)}m=y.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||h.textContent===""+m||y.suppressHydrationWarning===!0||oD(h.textContent,m)?(y.popover!=null&&(Gt("beforetoggle",h),Gt("toggle",h)),y.onScroll!=null&&Gt("scroll",h),y.onScrollEnd!=null&&Gt("scrollend",h),y.onClick!=null&&(h.onclick=Qe),h=!0):h=!1,h||nl(u,!0)}function VT(u){for(ii=u.return;ii;)switch(ii.tag){case 5:case 31:case 13:$s=!1;return;case 27:case 3:$s=!0;return;default:ii=ii.return}}function Hu(u){if(u!==ii)return!1;if(!Zt)return VT(u),Zt=!0,!1;var h=u.tag,m;if((m=h!==3&&h!==27)&&((m=h===5)&&(m=u.type,m=!(m!=="form"&&m!=="button")||Cw(u.type,u.memoizedProps)),m=!m),m&&er&&nl(u),VT(u),h===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));er=mD(u)}else if(h===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));er=mD(u)}else h===27?(h=er,gl(u.type)?(u=Nw,Nw=null,er=u):er=h):er=ii?qs(u.stateNode.nextSibling):null;return!0}function bc(){er=ii=null,Zt=!1}function av(){var u=tl;return u!==null&&(Zi===null?Zi=u:Zi.push.apply(Zi,u),tl=null),u}function Ph(u){tl===null?tl=[u]:tl.push(u)}var lv=U(null),vc=null,fa=null;function rl(u,h,m){D(lv,h._currentValue),h._currentValue=m}function ha(u){u._currentValue=lv.current,M(lv)}function cv(u,h,m){for(;u!==null;){var y=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,y!==null&&(y.childLanes|=h)):y!==null&&(y.childLanes&h)!==h&&(y.childLanes|=h),u===m)break;u=u.return}}function uv(u,h,m,y){var E=u.child;for(E!==null&&(E.return=u);E!==null;){var S=E.dependencies;if(S!==null){var B=E.child;S=S.firstContext;e:for(;S!==null;){var j=S;S=E;for(var se=0;se<h.length;se++)if(j.context===h[se]){S.lanes|=m,j=S.alternate,j!==null&&(j.lanes|=m),cv(S.return,m,u),y||(B=null);break e}S=j.next}}else if(E.tag===18){if(B=E.return,B===null)throw Error(r(341));B.lanes|=m,S=B.alternate,S!==null&&(S.lanes|=m),cv(B,m,u),B=null}else B=E.child;if(B!==null)B.return=E;else for(B=E;B!==null;){if(B===u){B=null;break}if(E=B.sibling,E!==null){E.return=B.return,B=E;break}B=B.return}E=B}}function Uu(u,h,m,y){u=null;for(var E=h,S=!1;E!==null;){if(!S){if((E.flags&524288)!==0)S=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var B=E.alternate;if(B===null)throw Error(r(387));if(B=B.memoizedProps,B!==null){var j=E.type;xs(E.pendingProps.value,B.value)||(u!==null?u.push(j):u=[j])}}else if(E===he.current){if(B=E.alternate,B===null)throw Error(r(387));B.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(u!==null?u.push(fd):u=[fd])}E=E.return}u!==null&&uv(h,u,m,y),h.flags|=262144}function Xp(u){for(u=u.firstContext;u!==null;){if(!xs(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function wc(u){vc=u,fa=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function si(u){return qT(vc,u)}function Yp(u,h){return vc===null&&wc(u),qT(u,h)}function qT(u,h){var m=h._currentValue;if(h={context:h,memoizedValue:m,next:null},fa===null){if(u===null)throw Error(r(308));fa=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else fa=fa.next=h;return m}var IU=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(m,y){u.push(y)}};this.abort=function(){h.aborted=!0,u.forEach(function(m){return m()})}},FU=t.unstable_scheduleCallback,PU=t.unstable_NormalPriority,Sr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fv(){return{controller:new IU,data:new Map,refCount:0}}function zh(u){u.refCount--,u.refCount===0&&FU(PU,function(){u.controller.abort()})}var Hh=null,hv=0,ju=0,$u=null;function zU(u,h){if(Hh===null){var m=Hh=[];hv=0,ju=mw(),$u={status:"pending",value:void 0,then:function(y){m.push(y)}}}return hv++,h.then(WT,WT),h}function WT(){if(--hv===0&&Hh!==null){$u!==null&&($u.status="fulfilled");var u=Hh;Hh=null,ju=0,$u=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function HU(u,h){var m=[],y={status:"pending",value:null,reason:null,then:function(E){m.push(E)}};return u.then(function(){y.status="fulfilled",y.value=h;for(var E=0;E<m.length;E++)(0,m[E])(h)},function(E){for(y.status="rejected",y.reason=E,E=0;E<m.length;E++)(0,m[E])(void 0)}),y}var GT=J.S;J.S=function(u,h){DN=Nt(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&zU(u,h),GT!==null&&GT(u,h)};var Ec=U(null);function dv(){var u=Ec.current;return u!==null?u:In.pooledCache}function Qp(u,h){h===null?D(Ec,Ec.current):D(Ec,h.pool)}function KT(){var u=dv();return u===null?null:{parent:Sr._currentValue,pool:u}}var Vu=Error(r(460)),pv=Error(r(474)),Jp=Error(r(542)),Zp={then:function(){}};function XT(u){return u=u.status,u==="fulfilled"||u==="rejected"}function YT(u,h,m){switch(m=u[m],m===void 0?u.push(h):m!==h&&(h.then(Qe,Qe),h=m),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,JT(u),u;default:if(typeof h.status=="string")h.then(Qe,Qe);else{if(u=In,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=h,u.status="pending",u.then(function(y){if(h.status==="pending"){var E=h;E.status="fulfilled",E.value=y}},function(y){if(h.status==="pending"){var E=h;E.status="rejected",E.reason=y}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,JT(u),u}throw Cc=h,Vu}}function Sc(u){try{var h=u._init;return h(u._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Cc=m,Vu):m}}var Cc=null;function QT(){if(Cc===null)throw Error(r(459));var u=Cc;return Cc=null,u}function JT(u){if(u===Vu||u===Jp)throw Error(r(483))}var qu=null,Uh=0;function em(u){var h=Uh;return Uh+=1,qu===null&&(qu=[]),YT(qu,u,h)}function jh(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function tm(u,h){throw h.$$typeof===p?Error(r(525)):(u=Object.prototype.toString.call(h),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function ZT(u){function h(ue,le){if(u){var me=ue.deletions;me===null?(ue.deletions=[le],ue.flags|=16):me.push(le)}}function m(ue,le){if(!u)return null;for(;le!==null;)h(ue,le),le=le.sibling;return null}function y(ue){for(var le=new Map;ue!==null;)ue.key!==null?le.set(ue.key,ue):le.set(ue.index,ue),ue=ue.sibling;return le}function E(ue,le){return ue=ca(ue,le),ue.index=0,ue.sibling=null,ue}function S(ue,le,me){return ue.index=me,u?(me=ue.alternate,me!==null?(me=me.index,me<le?(ue.flags|=67108866,le):me):(ue.flags|=67108866,le)):(ue.flags|=1048576,le)}function B(ue){return u&&ue.alternate===null&&(ue.flags|=67108866),ue}function j(ue,le,me,De){return le===null||le.tag!==6?(le=nv(me,ue.mode,De),le.return=ue,le):(le=E(le,me),le.return=ue,le)}function se(ue,le,me,De){var yt=me.type;return yt===b?Ne(ue,le,me.props.children,De,me.key):le!==null&&(le.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===F&&Sc(yt)===le.type)?(le=E(le,me.props),jh(le,me),le.return=ue,le):(le=Gp(me.type,me.key,me.props,null,ue.mode,De),jh(le,me),le.return=ue,le)}function ge(ue,le,me,De){return le===null||le.tag!==4||le.stateNode.containerInfo!==me.containerInfo||le.stateNode.implementation!==me.implementation?(le=rv(me,ue.mode,De),le.return=ue,le):(le=E(le,me.children||[]),le.return=ue,le)}function Ne(ue,le,me,De,yt){return le===null||le.tag!==7?(le=yc(me,ue.mode,De,yt),le.return=ue,le):(le=E(le,me),le.return=ue,le)}function Me(ue,le,me){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=nv(""+le,ue.mode,me),le.return=ue,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case g:return me=Gp(le.type,le.key,le.props,null,ue.mode,me),jh(me,le),me.return=ue,me;case x:return le=rv(le,ue.mode,me),le.return=ue,le;case F:return le=Sc(le),Me(ue,le,me)}if(te(le)||z(le))return le=yc(le,ue.mode,me,null),le.return=ue,le;if(typeof le.then=="function")return Me(ue,em(le),me);if(le.$$typeof===A)return Me(ue,Yp(ue,le),me);tm(ue,le)}return null}function we(ue,le,me,De){var yt=le!==null?le.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return yt!==null?null:j(ue,le,""+me,De);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case g:return me.key===yt?se(ue,le,me,De):null;case x:return me.key===yt?ge(ue,le,me,De):null;case F:return me=Sc(me),we(ue,le,me,De)}if(te(me)||z(me))return yt!==null?null:Ne(ue,le,me,De,null);if(typeof me.then=="function")return we(ue,le,em(me),De);if(me.$$typeof===A)return we(ue,le,Yp(ue,me),De);tm(ue,me)}return null}function ke(ue,le,me,De,yt){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return ue=ue.get(me)||null,j(le,ue,""+De,yt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case g:return ue=ue.get(De.key===null?me:De.key)||null,se(le,ue,De,yt);case x:return ue=ue.get(De.key===null?me:De.key)||null,ge(le,ue,De,yt);case F:return De=Sc(De),ke(ue,le,me,De,yt)}if(te(De)||z(De))return ue=ue.get(me)||null,Ne(le,ue,De,yt,null);if(typeof De.then=="function")return ke(ue,le,me,em(De),yt);if(De.$$typeof===A)return ke(ue,le,me,Yp(le,De),yt);tm(le,De)}return null}function ft(ue,le,me,De){for(var yt=null,an=null,mt=le,Pt=le=0,Jt=null;mt!==null&&Pt<me.length;Pt++){mt.index>Pt?(Jt=mt,mt=null):Jt=mt.sibling;var ln=we(ue,mt,me[Pt],De);if(ln===null){mt===null&&(mt=Jt);break}u&&mt&&ln.alternate===null&&h(ue,mt),le=S(ln,le,Pt),an===null?yt=ln:an.sibling=ln,an=ln,mt=Jt}if(Pt===me.length)return m(ue,mt),Zt&&ua(ue,Pt),yt;if(mt===null){for(;Pt<me.length;Pt++)mt=Me(ue,me[Pt],De),mt!==null&&(le=S(mt,le,Pt),an===null?yt=mt:an.sibling=mt,an=mt);return Zt&&ua(ue,Pt),yt}for(mt=y(mt);Pt<me.length;Pt++)Jt=ke(mt,ue,Pt,me[Pt],De),Jt!==null&&(u&&Jt.alternate!==null&&mt.delete(Jt.key===null?Pt:Jt.key),le=S(Jt,le,Pt),an===null?yt=Jt:an.sibling=Jt,an=Jt);return u&&mt.forEach(function(wl){return h(ue,wl)}),Zt&&ua(ue,Pt),yt}function kt(ue,le,me,De){if(me==null)throw Error(r(151));for(var yt=null,an=null,mt=le,Pt=le=0,Jt=null,ln=me.next();mt!==null&&!ln.done;Pt++,ln=me.next()){mt.index>Pt?(Jt=mt,mt=null):Jt=mt.sibling;var wl=we(ue,mt,ln.value,De);if(wl===null){mt===null&&(mt=Jt);break}u&&mt&&wl.alternate===null&&h(ue,mt),le=S(wl,le,Pt),an===null?yt=wl:an.sibling=wl,an=wl,mt=Jt}if(ln.done)return m(ue,mt),Zt&&ua(ue,Pt),yt;if(mt===null){for(;!ln.done;Pt++,ln=me.next())ln=Me(ue,ln.value,De),ln!==null&&(le=S(ln,le,Pt),an===null?yt=ln:an.sibling=ln,an=ln);return Zt&&ua(ue,Pt),yt}for(mt=y(mt);!ln.done;Pt++,ln=me.next())ln=ke(mt,ue,Pt,ln.value,De),ln!==null&&(u&&ln.alternate!==null&&mt.delete(ln.key===null?Pt:ln.key),le=S(ln,le,Pt),an===null?yt=ln:an.sibling=ln,an=ln);return u&&mt.forEach(function(Qj){return h(ue,Qj)}),Zt&&ua(ue,Pt),yt}function On(ue,le,me,De){if(typeof me=="object"&&me!==null&&me.type===b&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case g:e:{for(var yt=me.key;le!==null;){if(le.key===yt){if(yt=me.type,yt===b){if(le.tag===7){m(ue,le.sibling),De=E(le,me.props.children),De.return=ue,ue=De;break e}}else if(le.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===F&&Sc(yt)===le.type){m(ue,le.sibling),De=E(le,me.props),jh(De,me),De.return=ue,ue=De;break e}m(ue,le);break}else h(ue,le);le=le.sibling}me.type===b?(De=yc(me.props.children,ue.mode,De,me.key),De.return=ue,ue=De):(De=Gp(me.type,me.key,me.props,null,ue.mode,De),jh(De,me),De.return=ue,ue=De)}return B(ue);case x:e:{for(yt=me.key;le!==null;){if(le.key===yt)if(le.tag===4&&le.stateNode.containerInfo===me.containerInfo&&le.stateNode.implementation===me.implementation){m(ue,le.sibling),De=E(le,me.children||[]),De.return=ue,ue=De;break e}else{m(ue,le);break}else h(ue,le);le=le.sibling}De=rv(me,ue.mode,De),De.return=ue,ue=De}return B(ue);case F:return me=Sc(me),On(ue,le,me,De)}if(te(me))return ft(ue,le,me,De);if(z(me)){if(yt=z(me),typeof yt!="function")throw Error(r(150));return me=yt.call(me),kt(ue,le,me,De)}if(typeof me.then=="function")return On(ue,le,em(me),De);if(me.$$typeof===A)return On(ue,le,Yp(ue,me),De);tm(ue,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,le!==null&&le.tag===6?(m(ue,le.sibling),De=E(le,me),De.return=ue,ue=De):(m(ue,le),De=nv(me,ue.mode,De),De.return=ue,ue=De),B(ue)):m(ue,le)}return function(ue,le,me,De){try{Uh=0;var yt=On(ue,le,me,De);return qu=null,yt}catch(mt){if(mt===Vu||mt===Jp)throw mt;var an=ys(29,mt,null,ue.mode);return an.lanes=De,an.return=ue,an}finally{}}}var kc=ZT(!0),e_=ZT(!1),il=!1;function mv(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gv(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function sl(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function ol(u,h,m){var y=u.updateQueue;if(y===null)return null;if(y=y.shared,(gn&2)!==0){var E=y.pending;return E===null?h.next=h:(h.next=E.next,E.next=h),y.pending=h,h=Wp(u),FT(u,null,m),h}return qp(u,y,h,m),Wp(u)}function $h(u,h,m){if(h=h.updateQueue,h!==null&&(h=h.shared,(m&4194048)!==0)){var y=h.lanes;y&=u.pendingLanes,m|=y,h.lanes=m,$e(u,m)}}function xv(u,h){var m=u.updateQueue,y=u.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var E=null,S=null;if(m=m.firstBaseUpdate,m!==null){do{var B={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};S===null?E=S=B:S=S.next=B,m=m.next}while(m!==null);S===null?E=S=h:S=S.next=h}else E=S=h;m={baseState:y.baseState,firstBaseUpdate:E,lastBaseUpdate:S,shared:y.shared,callbacks:y.callbacks},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=h:u.next=h,m.lastBaseUpdate=h}var yv=!1;function Vh(){if(yv){var u=$u;if(u!==null)throw u}}function qh(u,h,m,y){yv=!1;var E=u.updateQueue;il=!1;var S=E.firstBaseUpdate,B=E.lastBaseUpdate,j=E.shared.pending;if(j!==null){E.shared.pending=null;var se=j,ge=se.next;se.next=null,B===null?S=ge:B.next=ge,B=se;var Ne=u.alternate;Ne!==null&&(Ne=Ne.updateQueue,j=Ne.lastBaseUpdate,j!==B&&(j===null?Ne.firstBaseUpdate=ge:j.next=ge,Ne.lastBaseUpdate=se))}if(S!==null){var Me=E.baseState;B=0,Ne=ge=se=null,j=S;do{var we=j.lane&-536870913,ke=we!==j.lane;if(ke?(Qt&we)===we:(y&we)===we){we!==0&&we===ju&&(yv=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var ft=u,kt=j;we=h;var On=m;switch(kt.tag){case 1:if(ft=kt.payload,typeof ft=="function"){Me=ft.call(On,Me,we);break e}Me=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=kt.payload,we=typeof ft=="function"?ft.call(On,Me,we):ft,we==null)break e;Me=d({},Me,we);break e;case 2:il=!0}}we=j.callback,we!==null&&(u.flags|=64,ke&&(u.flags|=8192),ke=E.callbacks,ke===null?E.callbacks=[we]:ke.push(we))}else ke={lane:we,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Ne===null?(ge=Ne=ke,se=Me):Ne=Ne.next=ke,B|=we;if(j=j.next,j===null){if(j=E.shared.pending,j===null)break;ke=j,j=ke.next,ke.next=null,E.lastBaseUpdate=ke,E.shared.pending=null}}while(!0);Ne===null&&(se=Me),E.baseState=se,E.firstBaseUpdate=ge,E.lastBaseUpdate=Ne,S===null&&(E.shared.lanes=0),fl|=B,u.lanes=B,u.memoizedState=Me}}function t_(u,h){if(typeof u!="function")throw Error(r(191,u));u.call(h)}function n_(u,h){var m=u.callbacks;if(m!==null)for(u.callbacks=null,u=0;u<m.length;u++)t_(m[u],h)}var Wu=U(null),nm=U(0);function r_(u,h){u=wa,D(nm,u),D(Wu,h),wa=u|h.baseLanes}function bv(){D(nm,wa),D(Wu,Wu.current)}function vv(){wa=nm.current,M(Wu),M(nm)}var bs=U(null),Vs=null;function al(u){var h=u.alternate;D(yr,yr.current&1),D(bs,u),Vs===null&&(h===null||Wu.current!==null||h.memoizedState!==null)&&(Vs=u)}function wv(u){D(yr,yr.current),D(bs,u),Vs===null&&(Vs=u)}function i_(u){u.tag===22?(D(yr,yr.current),D(bs,u),Vs===null&&(Vs=u)):ll()}function ll(){D(yr,yr.current),D(bs,bs.current)}function vs(u){M(bs),Vs===u&&(Vs=null),M(yr)}var yr=U(0);function rm(u){for(var h=u;h!==null;){if(h.tag===13){var m=h.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||Tw(m)||_w(m)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var da=0,It=null,Nn=null,Cr=null,im=!1,Gu=!1,Ac=!1,sm=0,Wh=0,Ku=null,UU=0;function fr(){throw Error(r(321))}function Ev(u,h){if(h===null)return!1;for(var m=0;m<h.length&&m<u.length;m++)if(!xs(u[m],h[m]))return!1;return!0}function Sv(u,h,m,y,E,S){return da=S,It=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,J.H=u===null||u.memoizedState===null?U_:Pv,Ac=!1,S=m(y,E),Ac=!1,Gu&&(S=o_(h,m,y,E)),s_(u),S}function s_(u){J.H=Xh;var h=Nn!==null&&Nn.next!==null;if(da=0,Cr=Nn=It=null,im=!1,Wh=0,Ku=null,h)throw Error(r(300));u===null||kr||(u=u.dependencies,u!==null&&Xp(u)&&(kr=!0))}function o_(u,h,m,y){It=u;var E=0;do{if(Gu&&(Ku=null),Wh=0,Gu=!1,25<=E)throw Error(r(301));if(E+=1,Cr=Nn=null,u.updateQueue!=null){var S=u.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}J.H=j_,S=h(m,y)}while(Gu);return S}function jU(){var u=J.H,h=u.useState()[0];return h=typeof h.then=="function"?Gh(h):h,u=u.useState()[0],(Nn!==null?Nn.memoizedState:null)!==u&&(It.flags|=1024),h}function Cv(){var u=sm!==0;return sm=0,u}function kv(u,h,m){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~m}function Av(u){if(im){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}im=!1}da=0,Cr=Nn=It=null,Gu=!1,Wh=sm=0,Ku=null}function Ri(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?It.memoizedState=Cr=u:Cr=Cr.next=u,Cr}function br(){if(Nn===null){var u=It.alternate;u=u!==null?u.memoizedState:null}else u=Nn.next;var h=Cr===null?It.memoizedState:Cr.next;if(h!==null)Cr=h,Nn=u;else{if(u===null)throw It.alternate===null?Error(r(467)):Error(r(310));Nn=u,u={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Cr===null?It.memoizedState=Cr=u:Cr=Cr.next=u}return Cr}function om(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gh(u){var h=Wh;return Wh+=1,Ku===null&&(Ku=[]),u=YT(Ku,u,h),h=It,(Cr===null?h.memoizedState:Cr.next)===null&&(h=h.alternate,J.H=h===null||h.memoizedState===null?U_:Pv),u}function am(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Gh(u);if(u.$$typeof===A)return si(u)}throw Error(r(438,String(u)))}function Tv(u){var h=null,m=It.updateQueue;if(m!==null&&(h=m.memoCache),h==null){var y=It.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(h={data:y.data.map(function(E){return E.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),m===null&&(m=om(),It.updateQueue=m),m.memoCache=h,m=h.data[h.index],m===void 0)for(m=h.data[h.index]=Array(u),y=0;y<u;y++)m[y]=R;return h.index++,m}function pa(u,h){return typeof h=="function"?h(u):h}function lm(u){var h=br();return _v(h,Nn,u)}function _v(u,h,m){var y=u.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=m;var E=u.baseQueue,S=y.pending;if(S!==null){if(E!==null){var B=E.next;E.next=S.next,S.next=B}h.baseQueue=E=S,y.pending=null}if(S=u.baseState,E===null)u.memoizedState=S;else{h=E.next;var j=B=null,se=null,ge=h,Ne=!1;do{var Me=ge.lane&-536870913;if(Me!==ge.lane?(Qt&Me)===Me:(da&Me)===Me){var we=ge.revertLane;if(we===0)se!==null&&(se=se.next={lane:0,revertLane:0,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),Me===ju&&(Ne=!0);else if((da&we)===we){ge=ge.next,we===ju&&(Ne=!0);continue}else Me={lane:0,revertLane:ge.revertLane,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},se===null?(j=se=Me,B=S):se=se.next=Me,It.lanes|=we,fl|=we;Me=ge.action,Ac&&m(S,Me),S=ge.hasEagerState?ge.eagerState:m(S,Me)}else we={lane:Me,revertLane:ge.revertLane,gesture:ge.gesture,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},se===null?(j=se=we,B=S):se=se.next=we,It.lanes|=Me,fl|=Me;ge=ge.next}while(ge!==null&&ge!==h);if(se===null?B=S:se.next=j,!xs(S,u.memoizedState)&&(kr=!0,Ne&&(m=$u,m!==null)))throw m;u.memoizedState=S,u.baseState=B,u.baseQueue=se,y.lastRenderedState=S}return E===null&&(y.lanes=0),[u.memoizedState,y.dispatch]}function Nv(u){var h=br(),m=h.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var y=m.dispatch,E=m.pending,S=h.memoizedState;if(E!==null){m.pending=null;var B=E=E.next;do S=u(S,B.action),B=B.next;while(B!==E);xs(S,h.memoizedState)||(kr=!0),h.memoizedState=S,h.baseQueue===null&&(h.baseState=S),m.lastRenderedState=S}return[S,y]}function a_(u,h,m){var y=It,E=br(),S=Zt;if(S){if(m===void 0)throw Error(r(407));m=m()}else m=h();var B=!xs((Nn||E).memoizedState,m);if(B&&(E.memoizedState=m,kr=!0),E=E.queue,Mv(u_.bind(null,y,E,u),[u]),E.getSnapshot!==h||B||Cr!==null&&Cr.memoizedState.tag&1){if(y.flags|=2048,Xu(9,{destroy:void 0},c_.bind(null,y,E,m,h),null),In===null)throw Error(r(349));S||(da&127)!==0||l_(y,h,m)}return m}function l_(u,h,m){u.flags|=16384,u={getSnapshot:h,value:m},h=It.updateQueue,h===null?(h=om(),It.updateQueue=h,h.stores=[u]):(m=h.stores,m===null?h.stores=[u]:m.push(u))}function c_(u,h,m,y){h.value=m,h.getSnapshot=y,f_(h)&&h_(u)}function u_(u,h,m){return m(function(){f_(h)&&h_(u)})}function f_(u){var h=u.getSnapshot;u=u.value;try{var m=h();return!xs(u,m)}catch{return!0}}function h_(u){var h=xc(u,2);h!==null&&es(h,u,2)}function Dv(u){var h=Ri();if(typeof u=="function"){var m=u;if(u=m(),Ac){dn(!0);try{m()}finally{dn(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:u},h}function d_(u,h,m,y){return u.baseState=m,_v(u,Nn,typeof y=="function"?y:pa)}function $U(u,h,m,y,E){if(fm(u))throw Error(r(485));if(u=h.action,u!==null){var S={payload:E,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){S.listeners.push(B)}};J.T!==null?m(!0):S.isTransition=!1,y(S),m=h.pending,m===null?(S.next=h.pending=S,p_(h,S)):(S.next=m.next,h.pending=m.next=S)}}function p_(u,h){var m=h.action,y=h.payload,E=u.state;if(h.isTransition){var S=J.T,B={};J.T=B;try{var j=m(E,y),se=J.S;se!==null&&se(B,j),m_(u,h,j)}catch(ge){Ov(u,h,ge)}finally{S!==null&&B.types!==null&&(S.types=B.types),J.T=S}}else try{S=m(E,y),m_(u,h,S)}catch(ge){Ov(u,h,ge)}}function m_(u,h,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(y){g_(u,h,y)},function(y){return Ov(u,h,y)}):g_(u,h,m)}function g_(u,h,m){h.status="fulfilled",h.value=m,x_(h),u.state=m,h=u.pending,h!==null&&(m=h.next,m===h?u.pending=null:(m=m.next,h.next=m,p_(u,m)))}function Ov(u,h,m){var y=u.pending;if(u.pending=null,y!==null){y=y.next;do h.status="rejected",h.reason=m,x_(h),h=h.next;while(h!==y)}u.action=null}function x_(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function y_(u,h){return h}function b_(u,h){if(Zt){var m=In.formState;if(m!==null){e:{var y=It;if(Zt){if(er){t:{for(var E=er,S=$s;E.nodeType!==8;){if(!S){E=null;break t}if(E=qs(E.nextSibling),E===null){E=null;break t}}S=E.data,E=S==="F!"||S==="F"?E:null}if(E){er=qs(E.nextSibling),y=E.data==="F!";break e}}nl(y)}y=!1}y&&(h=m[0])}}return m=Ri(),m.memoizedState=m.baseState=h,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y_,lastRenderedState:h},m.queue=y,m=P_.bind(null,It,y),y.dispatch=m,y=Dv(!1),S=Fv.bind(null,It,!1,y.queue),y=Ri(),E={state:h,dispatch:null,action:u,pending:null},y.queue=E,m=$U.bind(null,It,E,S,m),E.dispatch=m,y.memoizedState=u,[h,m,!1]}function v_(u){var h=br();return w_(h,Nn,u)}function w_(u,h,m){if(h=_v(u,h,y_)[0],u=lm(pa)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var y=Gh(h)}catch(B){throw B===Vu?Jp:B}else y=h;h=br();var E=h.queue,S=E.dispatch;return m!==h.memoizedState&&(It.flags|=2048,Xu(9,{destroy:void 0},VU.bind(null,E,m),null)),[y,S,u]}function VU(u,h){u.action=h}function E_(u){var h=br(),m=Nn;if(m!==null)return w_(h,m,u);br(),h=h.memoizedState,m=br();var y=m.queue.dispatch;return m.memoizedState=u,[h,y,!1]}function Xu(u,h,m,y){return u={tag:u,create:m,deps:y,inst:h,next:null},h=It.updateQueue,h===null&&(h=om(),It.updateQueue=h),m=h.lastEffect,m===null?h.lastEffect=u.next=u:(y=m.next,m.next=u,u.next=y,h.lastEffect=u),u}function S_(){return br().memoizedState}function cm(u,h,m,y){var E=Ri();It.flags|=u,E.memoizedState=Xu(1|h,{destroy:void 0},m,y===void 0?null:y)}function um(u,h,m,y){var E=br();y=y===void 0?null:y;var S=E.memoizedState.inst;Nn!==null&&y!==null&&Ev(y,Nn.memoizedState.deps)?E.memoizedState=Xu(h,S,m,y):(It.flags|=u,E.memoizedState=Xu(1|h,S,m,y))}function C_(u,h){cm(8390656,8,u,h)}function Mv(u,h){um(2048,8,u,h)}function qU(u){It.flags|=4;var h=It.updateQueue;if(h===null)h=om(),It.updateQueue=h,h.events=[u];else{var m=h.events;m===null?h.events=[u]:m.push(u)}}function k_(u){var h=br().memoizedState;return qU({ref:h,nextImpl:u}),function(){if((gn&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}function A_(u,h){return um(4,2,u,h)}function T_(u,h){return um(4,4,u,h)}function __(u,h){if(typeof h=="function"){u=u();var m=h(u);return function(){typeof m=="function"?m():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function N_(u,h,m){m=m!=null?m.concat([u]):null,um(4,4,__.bind(null,h,u),m)}function Rv(){}function D_(u,h){var m=br();h=h===void 0?null:h;var y=m.memoizedState;return h!==null&&Ev(h,y[1])?y[0]:(m.memoizedState=[u,h],u)}function O_(u,h){var m=br();h=h===void 0?null:h;var y=m.memoizedState;if(h!==null&&Ev(h,y[1]))return y[0];if(y=u(),Ac){dn(!0);try{u()}finally{dn(!1)}}return m.memoizedState=[y,h],y}function Bv(u,h,m){return m===void 0||(da&1073741824)!==0&&(Qt&261930)===0?u.memoizedState=h:(u.memoizedState=m,u=MN(),It.lanes|=u,fl|=u,m)}function M_(u,h,m,y){return xs(m,h)?m:Wu.current!==null?(u=Bv(u,m,y),xs(u,h)||(kr=!0),u):(da&42)===0||(da&1073741824)!==0&&(Qt&261930)===0?(kr=!0,u.memoizedState=m):(u=MN(),It.lanes|=u,fl|=u,h)}function R_(u,h,m,y,E){var S=ae.p;ae.p=S!==0&&8>S?S:8;var B=J.T,j={};J.T=j,Fv(u,!1,h,m);try{var se=E(),ge=J.S;if(ge!==null&&ge(j,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var Ne=HU(se,y);Kh(u,h,Ne,Ss(u))}else Kh(u,h,y,Ss(u))}catch(Me){Kh(u,h,{then:function(){},status:"rejected",reason:Me},Ss())}finally{ae.p=S,B!==null&&j.types!==null&&(B.types=j.types),J.T=B}}function WU(){}function Lv(u,h,m,y){if(u.tag!==5)throw Error(r(476));var E=B_(u).queue;R_(u,E,h,ce,m===null?WU:function(){return L_(u),m(y)})}function B_(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:ce},next:null};var m={};return h.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:m},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function L_(u){var h=B_(u);h.next===null&&(h=u.alternate.memoizedState),Kh(u,h.next.queue,{},Ss())}function Iv(){return si(fd)}function I_(){return br().memoizedState}function F_(){return br().memoizedState}function GU(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var m=Ss();u=sl(m);var y=ol(h,u,m);y!==null&&(es(y,h,m),$h(y,h,m)),h={cache:fv()},u.payload=h;return}h=h.return}}function KU(u,h,m){var y=Ss();m={lane:y,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},fm(u)?z_(h,m):(m=ev(u,h,m,y),m!==null&&(es(m,u,y),H_(m,h,y)))}function P_(u,h,m){var y=Ss();Kh(u,h,m,y)}function Kh(u,h,m,y){var E={lane:y,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(fm(u))z_(h,E);else{var S=u.alternate;if(u.lanes===0&&(S===null||S.lanes===0)&&(S=h.lastRenderedReducer,S!==null))try{var B=h.lastRenderedState,j=S(B,m);if(E.hasEagerState=!0,E.eagerState=j,xs(j,B))return qp(u,h,E,0),In===null&&Vp(),!1}catch{}finally{}if(m=ev(u,h,E,y),m!==null)return es(m,u,y),H_(m,h,y),!0}return!1}function Fv(u,h,m,y){if(y={lane:2,revertLane:mw(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},fm(u)){if(h)throw Error(r(479))}else h=ev(u,m,y,2),h!==null&&es(h,u,2)}function fm(u){var h=u.alternate;return u===It||h!==null&&h===It}function z_(u,h){Gu=im=!0;var m=u.pending;m===null?h.next=h:(h.next=m.next,m.next=h),u.pending=h}function H_(u,h,m){if((m&4194048)!==0){var y=h.lanes;y&=u.pendingLanes,m|=y,h.lanes=m,$e(u,m)}}var Xh={readContext:si,use:am,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useLayoutEffect:fr,useInsertionEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useSyncExternalStore:fr,useId:fr,useHostTransitionStatus:fr,useFormState:fr,useActionState:fr,useOptimistic:fr,useMemoCache:fr,useCacheRefresh:fr};Xh.useEffectEvent=fr;var U_={readContext:si,use:am,useCallback:function(u,h){return Ri().memoizedState=[u,h===void 0?null:h],u},useContext:si,useEffect:C_,useImperativeHandle:function(u,h,m){m=m!=null?m.concat([u]):null,cm(4194308,4,__.bind(null,h,u),m)},useLayoutEffect:function(u,h){return cm(4194308,4,u,h)},useInsertionEffect:function(u,h){cm(4,2,u,h)},useMemo:function(u,h){var m=Ri();h=h===void 0?null:h;var y=u();if(Ac){dn(!0);try{u()}finally{dn(!1)}}return m.memoizedState=[y,h],y},useReducer:function(u,h,m){var y=Ri();if(m!==void 0){var E=m(h);if(Ac){dn(!0);try{m(h)}finally{dn(!1)}}}else E=h;return y.memoizedState=y.baseState=E,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:E},y.queue=u,u=u.dispatch=KU.bind(null,It,u),[y.memoizedState,u]},useRef:function(u){var h=Ri();return u={current:u},h.memoizedState=u},useState:function(u){u=Dv(u);var h=u.queue,m=P_.bind(null,It,h);return h.dispatch=m,[u.memoizedState,m]},useDebugValue:Rv,useDeferredValue:function(u,h){var m=Ri();return Bv(m,u,h)},useTransition:function(){var u=Dv(!1);return u=R_.bind(null,It,u.queue,!0,!1),Ri().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,m){var y=It,E=Ri();if(Zt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=h(),In===null)throw Error(r(349));(Qt&127)!==0||l_(y,h,m)}E.memoizedState=m;var S={value:m,getSnapshot:h};return E.queue=S,C_(u_.bind(null,y,S,u),[u]),y.flags|=2048,Xu(9,{destroy:void 0},c_.bind(null,y,S,m,h),null),m},useId:function(){var u=Ri(),h=In.identifierPrefix;if(Zt){var m=Lo,y=Bo;m=(y&~(1<<32-jt(y)-1)).toString(32)+m,h="_"+h+"R_"+m,m=sm++,0<m&&(h+="H"+m.toString(32)),h+="_"}else m=UU++,h="_"+h+"r_"+m.toString(32)+"_";return u.memoizedState=h},useHostTransitionStatus:Iv,useFormState:b_,useActionState:b_,useOptimistic:function(u){var h=Ri();h.memoizedState=h.baseState=u;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=m,h=Fv.bind(null,It,!0,m),m.dispatch=h,[u,h]},useMemoCache:Tv,useCacheRefresh:function(){return Ri().memoizedState=GU.bind(null,It)},useEffectEvent:function(u){var h=Ri(),m={impl:u};return h.memoizedState=m,function(){if((gn&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},Pv={readContext:si,use:am,useCallback:D_,useContext:si,useEffect:Mv,useImperativeHandle:N_,useInsertionEffect:A_,useLayoutEffect:T_,useMemo:O_,useReducer:lm,useRef:S_,useState:function(){return lm(pa)},useDebugValue:Rv,useDeferredValue:function(u,h){var m=br();return M_(m,Nn.memoizedState,u,h)},useTransition:function(){var u=lm(pa)[0],h=br().memoizedState;return[typeof u=="boolean"?u:Gh(u),h]},useSyncExternalStore:a_,useId:I_,useHostTransitionStatus:Iv,useFormState:v_,useActionState:v_,useOptimistic:function(u,h){var m=br();return d_(m,Nn,u,h)},useMemoCache:Tv,useCacheRefresh:F_};Pv.useEffectEvent=k_;var j_={readContext:si,use:am,useCallback:D_,useContext:si,useEffect:Mv,useImperativeHandle:N_,useInsertionEffect:A_,useLayoutEffect:T_,useMemo:O_,useReducer:Nv,useRef:S_,useState:function(){return Nv(pa)},useDebugValue:Rv,useDeferredValue:function(u,h){var m=br();return Nn===null?Bv(m,u,h):M_(m,Nn.memoizedState,u,h)},useTransition:function(){var u=Nv(pa)[0],h=br().memoizedState;return[typeof u=="boolean"?u:Gh(u),h]},useSyncExternalStore:a_,useId:I_,useHostTransitionStatus:Iv,useFormState:E_,useActionState:E_,useOptimistic:function(u,h){var m=br();return Nn!==null?d_(m,Nn,u,h):(m.baseState=u,[u,m.queue.dispatch])},useMemoCache:Tv,useCacheRefresh:F_};j_.useEffectEvent=k_;function zv(u,h,m,y){h=u.memoizedState,m=m(y,h),m=m==null?h:d({},h,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var Hv={enqueueSetState:function(u,h,m){u=u._reactInternals;var y=Ss(),E=sl(y);E.payload=h,m!=null&&(E.callback=m),h=ol(u,E,y),h!==null&&(es(h,u,y),$h(h,u,y))},enqueueReplaceState:function(u,h,m){u=u._reactInternals;var y=Ss(),E=sl(y);E.tag=1,E.payload=h,m!=null&&(E.callback=m),h=ol(u,E,y),h!==null&&(es(h,u,y),$h(h,u,y))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var m=Ss(),y=sl(m);y.tag=2,h!=null&&(y.callback=h),h=ol(u,y,m),h!==null&&(es(h,u,m),$h(h,u,m))}};function $_(u,h,m,y,E,S,B){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(y,S,B):h.prototype&&h.prototype.isPureReactComponent?!Lh(m,y)||!Lh(E,S):!0}function V_(u,h,m,y){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(m,y),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(m,y),h.state!==u&&Hv.enqueueReplaceState(h,h.state,null)}function Tc(u,h){var m=h;if("ref"in h){m={};for(var y in h)y!=="ref"&&(m[y]=h[y])}if(u=u.defaultProps){m===h&&(m=d({},m));for(var E in u)m[E]===void 0&&(m[E]=u[E])}return m}function q_(u){$p(u)}function W_(u){console.error(u)}function G_(u){$p(u)}function hm(u,h){try{var m=u.onUncaughtError;m(h.value,{componentStack:h.stack})}catch(y){setTimeout(function(){throw y})}}function K_(u,h,m){try{var y=u.onCaughtError;y(m.value,{componentStack:m.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function Uv(u,h,m){return m=sl(m),m.tag=3,m.payload={element:null},m.callback=function(){hm(u,h)},m}function X_(u){return u=sl(u),u.tag=3,u}function Y_(u,h,m,y){var E=m.type.getDerivedStateFromError;if(typeof E=="function"){var S=y.value;u.payload=function(){return E(S)},u.callback=function(){K_(h,m,y)}}var B=m.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(u.callback=function(){K_(h,m,y),typeof E!="function"&&(hl===null?hl=new Set([this]):hl.add(this));var j=y.stack;this.componentDidCatch(y.value,{componentStack:j!==null?j:""})})}function XU(u,h,m,y,E){if(m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(h=m.alternate,h!==null&&Uu(h,m,E,!0),m=bs.current,m!==null){switch(m.tag){case 31:case 13:return Vs===null?Cm():m.alternate===null&&hr===0&&(hr=3),m.flags&=-257,m.flags|=65536,m.lanes=E,y===Zp?m.flags|=16384:(h=m.updateQueue,h===null?m.updateQueue=new Set([y]):h.add(y),hw(u,y,E)),!1;case 22:return m.flags|=65536,y===Zp?m.flags|=16384:(h=m.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([y])},m.updateQueue=h):(m=h.retryQueue,m===null?h.retryQueue=new Set([y]):m.add(y)),hw(u,y,E)),!1}throw Error(r(435,m.tag))}return hw(u,y,E),Cm(),!1}if(Zt)return h=bs.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=E,y!==ov&&(u=Error(r(422),{cause:y}),Ph(Hs(u,m)))):(y!==ov&&(h=Error(r(423),{cause:y}),Ph(Hs(h,m))),u=u.current.alternate,u.flags|=65536,E&=-E,u.lanes|=E,y=Hs(y,m),E=Uv(u.stateNode,y,E),xv(u,E),hr!==4&&(hr=2)),!1;var S=Error(r(520),{cause:y});if(S=Hs(S,m),rd===null?rd=[S]:rd.push(S),hr!==4&&(hr=2),h===null)return!0;y=Hs(y,m),m=h;do{switch(m.tag){case 3:return m.flags|=65536,u=E&-E,m.lanes|=u,u=Uv(m.stateNode,y,u),xv(m,u),!1;case 1:if(h=m.type,S=m.stateNode,(m.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(hl===null||!hl.has(S))))return m.flags|=65536,E&=-E,m.lanes|=E,E=X_(E),Y_(E,u,m,y),xv(m,E),!1}m=m.return}while(m!==null);return!1}var jv=Error(r(461)),kr=!1;function oi(u,h,m,y){h.child=u===null?e_(h,null,m,y):kc(h,u.child,m,y)}function Q_(u,h,m,y,E){m=m.render;var S=h.ref;if("ref"in y){var B={};for(var j in y)j!=="ref"&&(B[j]=y[j])}else B=y;return wc(h),y=Sv(u,h,m,B,S,E),j=Cv(),u!==null&&!kr?(kv(u,h,E),ma(u,h,E)):(Zt&&j&&iv(h),h.flags|=1,oi(u,h,y,E),h.child)}function J_(u,h,m,y,E){if(u===null){var S=m.type;return typeof S=="function"&&!tv(S)&&S.defaultProps===void 0&&m.compare===null?(h.tag=15,h.type=S,Z_(u,h,S,y,E)):(u=Gp(m.type,null,y,h,h.mode,E),u.ref=h.ref,u.return=h,h.child=u)}if(S=u.child,!Yv(u,E)){var B=S.memoizedProps;if(m=m.compare,m=m!==null?m:Lh,m(B,y)&&u.ref===h.ref)return ma(u,h,E)}return h.flags|=1,u=ca(S,y),u.ref=h.ref,u.return=h,h.child=u}function Z_(u,h,m,y,E){if(u!==null){var S=u.memoizedProps;if(Lh(S,y)&&u.ref===h.ref)if(kr=!1,h.pendingProps=y=S,Yv(u,E))(u.flags&131072)!==0&&(kr=!0);else return h.lanes=u.lanes,ma(u,h,E)}return $v(u,h,m,y,E)}function eN(u,h,m,y){var E=y.children,S=u!==null?u.memoizedState:null;if(u===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((h.flags&128)!==0){if(S=S!==null?S.baseLanes|m:m,u!==null){for(y=h.child=u.child,E=0;y!==null;)E=E|y.lanes|y.childLanes,y=y.sibling;y=E&~S}else y=0,h.child=null;return tN(u,h,S,m,y)}if((m&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&Qp(h,S!==null?S.cachePool:null),S!==null?r_(h,S):bv(),i_(h);else return y=h.lanes=536870912,tN(u,h,S!==null?S.baseLanes|m:m,m,y)}else S!==null?(Qp(h,S.cachePool),r_(h,S),ll(),h.memoizedState=null):(u!==null&&Qp(h,null),bv(),ll());return oi(u,h,E,m),h.child}function Yh(u,h){return u!==null&&u.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function tN(u,h,m,y,E){var S=dv();return S=S===null?null:{parent:Sr._currentValue,pool:S},h.memoizedState={baseLanes:m,cachePool:S},u!==null&&Qp(h,null),bv(),i_(h),u!==null&&Uu(u,h,y,!0),h.childLanes=E,null}function dm(u,h){return h=mm({mode:h.mode,children:h.children},u.mode),h.ref=u.ref,u.child=h,h.return=u,h}function nN(u,h,m){return kc(h,u.child,null,m),u=dm(h,h.pendingProps),u.flags|=2,vs(h),h.memoizedState=null,u}function YU(u,h,m){var y=h.pendingProps,E=(h.flags&128)!==0;if(h.flags&=-129,u===null){if(Zt){if(y.mode==="hidden")return u=dm(h,y),h.lanes=536870912,Yh(null,u);if(wv(h),(u=er)?(u=pD(u,$s),u=u!==null&&u.data==="&"?u:null,u!==null&&(h.memoizedState={dehydrated:u,treeContext:el!==null?{id:Bo,overflow:Lo}:null,retryLane:536870912,hydrationErrors:null},m=zT(u),m.return=h,h.child=m,ii=h,er=null)):u=null,u===null)throw nl(h);return h.lanes=536870912,null}return dm(h,y)}var S=u.memoizedState;if(S!==null){var B=S.dehydrated;if(wv(h),E)if(h.flags&256)h.flags&=-257,h=nN(u,h,m);else if(h.memoizedState!==null)h.child=u.child,h.flags|=128,h=null;else throw Error(r(558));else if(kr||Uu(u,h,m,!1),E=(m&u.childLanes)!==0,kr||E){if(y=In,y!==null&&(B=vt(y,m),B!==0&&B!==S.retryLane))throw S.retryLane=B,xc(u,B),es(y,u,B),jv;Cm(),h=nN(u,h,m)}else u=S.treeContext,er=qs(B.nextSibling),ii=h,Zt=!0,tl=null,$s=!1,u!==null&&jT(h,u),h=dm(h,y),h.flags|=4096;return h}return u=ca(u.child,{mode:y.mode,children:y.children}),u.ref=h.ref,h.child=u,u.return=h,u}function pm(u,h){var m=h.ref;if(m===null)u!==null&&u.ref!==null&&(h.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(u===null||u.ref!==m)&&(h.flags|=4194816)}}function $v(u,h,m,y,E){return wc(h),m=Sv(u,h,m,y,void 0,E),y=Cv(),u!==null&&!kr?(kv(u,h,E),ma(u,h,E)):(Zt&&y&&iv(h),h.flags|=1,oi(u,h,m,E),h.child)}function rN(u,h,m,y,E,S){return wc(h),h.updateQueue=null,m=o_(h,y,m,E),s_(u),y=Cv(),u!==null&&!kr?(kv(u,h,S),ma(u,h,S)):(Zt&&y&&iv(h),h.flags|=1,oi(u,h,m,S),h.child)}function iN(u,h,m,y,E){if(wc(h),h.stateNode===null){var S=Fu,B=m.contextType;typeof B=="object"&&B!==null&&(S=si(B)),S=new m(y,S),h.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Hv,h.stateNode=S,S._reactInternals=h,S=h.stateNode,S.props=y,S.state=h.memoizedState,S.refs={},mv(h),B=m.contextType,S.context=typeof B=="object"&&B!==null?si(B):Fu,S.state=h.memoizedState,B=m.getDerivedStateFromProps,typeof B=="function"&&(zv(h,m,B,y),S.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(B=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),B!==S.state&&Hv.enqueueReplaceState(S,S.state,null),qh(h,y,S,E),Vh(),S.state=h.memoizedState),typeof S.componentDidMount=="function"&&(h.flags|=4194308),y=!0}else if(u===null){S=h.stateNode;var j=h.memoizedProps,se=Tc(m,j);S.props=se;var ge=S.context,Ne=m.contextType;B=Fu,typeof Ne=="object"&&Ne!==null&&(B=si(Ne));var Me=m.getDerivedStateFromProps;Ne=typeof Me=="function"||typeof S.getSnapshotBeforeUpdate=="function",j=h.pendingProps!==j,Ne||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(j||ge!==B)&&V_(h,S,y,B),il=!1;var we=h.memoizedState;S.state=we,qh(h,y,S,E),Vh(),ge=h.memoizedState,j||we!==ge||il?(typeof Me=="function"&&(zv(h,m,Me,y),ge=h.memoizedState),(se=il||$_(h,m,se,y,we,ge,B))?(Ne||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(h.flags|=4194308)):(typeof S.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=y,h.memoizedState=ge),S.props=y,S.state=ge,S.context=B,y=se):(typeof S.componentDidMount=="function"&&(h.flags|=4194308),y=!1)}else{S=h.stateNode,gv(u,h),B=h.memoizedProps,Ne=Tc(m,B),S.props=Ne,Me=h.pendingProps,we=S.context,ge=m.contextType,se=Fu,typeof ge=="object"&&ge!==null&&(se=si(ge)),j=m.getDerivedStateFromProps,(ge=typeof j=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(B!==Me||we!==se)&&V_(h,S,y,se),il=!1,we=h.memoizedState,S.state=we,qh(h,y,S,E),Vh();var ke=h.memoizedState;B!==Me||we!==ke||il||u!==null&&u.dependencies!==null&&Xp(u.dependencies)?(typeof j=="function"&&(zv(h,m,j,y),ke=h.memoizedState),(Ne=il||$_(h,m,Ne,y,we,ke,se)||u!==null&&u.dependencies!==null&&Xp(u.dependencies))?(ge||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(y,ke,se),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(y,ke,se)),typeof S.componentDidUpdate=="function"&&(h.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof S.componentDidUpdate!="function"||B===u.memoizedProps&&we===u.memoizedState||(h.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||B===u.memoizedProps&&we===u.memoizedState||(h.flags|=1024),h.memoizedProps=y,h.memoizedState=ke),S.props=y,S.state=ke,S.context=se,y=Ne):(typeof S.componentDidUpdate!="function"||B===u.memoizedProps&&we===u.memoizedState||(h.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||B===u.memoizedProps&&we===u.memoizedState||(h.flags|=1024),y=!1)}return S=y,pm(u,h),y=(h.flags&128)!==0,S||y?(S=h.stateNode,m=y&&typeof m.getDerivedStateFromError!="function"?null:S.render(),h.flags|=1,u!==null&&y?(h.child=kc(h,u.child,null,E),h.child=kc(h,null,m,E)):oi(u,h,m,E),h.memoizedState=S.state,u=h.child):u=ma(u,h,E),u}function sN(u,h,m,y){return bc(),h.flags|=256,oi(u,h,m,y),h.child}var Vv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qv(u){return{baseLanes:u,cachePool:KT()}}function Wv(u,h,m){return u=u!==null?u.childLanes&~m:0,h&&(u|=Es),u}function oN(u,h,m){var y=h.pendingProps,E=!1,S=(h.flags&128)!==0,B;if((B=S)||(B=u!==null&&u.memoizedState===null?!1:(yr.current&2)!==0),B&&(E=!0,h.flags&=-129),B=(h.flags&32)!==0,h.flags&=-33,u===null){if(Zt){if(E?al(h):ll(),(u=er)?(u=pD(u,$s),u=u!==null&&u.data!=="&"?u:null,u!==null&&(h.memoizedState={dehydrated:u,treeContext:el!==null?{id:Bo,overflow:Lo}:null,retryLane:536870912,hydrationErrors:null},m=zT(u),m.return=h,h.child=m,ii=h,er=null)):u=null,u===null)throw nl(h);return _w(u)?h.lanes=32:h.lanes=536870912,null}var j=y.children;return y=y.fallback,E?(ll(),E=h.mode,j=mm({mode:"hidden",children:j},E),y=yc(y,E,m,null),j.return=h,y.return=h,j.sibling=y,h.child=j,y=h.child,y.memoizedState=qv(m),y.childLanes=Wv(u,B,m),h.memoizedState=Vv,Yh(null,y)):(al(h),Gv(h,j))}var se=u.memoizedState;if(se!==null&&(j=se.dehydrated,j!==null)){if(S)h.flags&256?(al(h),h.flags&=-257,h=Kv(u,h,m)):h.memoizedState!==null?(ll(),h.child=u.child,h.flags|=128,h=null):(ll(),j=y.fallback,E=h.mode,y=mm({mode:"visible",children:y.children},E),j=yc(j,E,m,null),j.flags|=2,y.return=h,j.return=h,y.sibling=j,h.child=y,kc(h,u.child,null,m),y=h.child,y.memoizedState=qv(m),y.childLanes=Wv(u,B,m),h.memoizedState=Vv,h=Yh(null,y));else if(al(h),_w(j)){if(B=j.nextSibling&&j.nextSibling.dataset,B)var ge=B.dgst;B=ge,y=Error(r(419)),y.stack="",y.digest=B,Ph({value:y,source:null,stack:null}),h=Kv(u,h,m)}else if(kr||Uu(u,h,m,!1),B=(m&u.childLanes)!==0,kr||B){if(B=In,B!==null&&(y=vt(B,m),y!==0&&y!==se.retryLane))throw se.retryLane=y,xc(u,y),es(B,u,y),jv;Tw(j)||Cm(),h=Kv(u,h,m)}else Tw(j)?(h.flags|=192,h.child=u.child,h=null):(u=se.treeContext,er=qs(j.nextSibling),ii=h,Zt=!0,tl=null,$s=!1,u!==null&&jT(h,u),h=Gv(h,y.children),h.flags|=4096);return h}return E?(ll(),j=y.fallback,E=h.mode,se=u.child,ge=se.sibling,y=ca(se,{mode:"hidden",children:y.children}),y.subtreeFlags=se.subtreeFlags&65011712,ge!==null?j=ca(ge,j):(j=yc(j,E,m,null),j.flags|=2),j.return=h,y.return=h,y.sibling=j,h.child=y,Yh(null,y),y=h.child,j=u.child.memoizedState,j===null?j=qv(m):(E=j.cachePool,E!==null?(se=Sr._currentValue,E=E.parent!==se?{parent:se,pool:se}:E):E=KT(),j={baseLanes:j.baseLanes|m,cachePool:E}),y.memoizedState=j,y.childLanes=Wv(u,B,m),h.memoizedState=Vv,Yh(u.child,y)):(al(h),m=u.child,u=m.sibling,m=ca(m,{mode:"visible",children:y.children}),m.return=h,m.sibling=null,u!==null&&(B=h.deletions,B===null?(h.deletions=[u],h.flags|=16):B.push(u)),h.child=m,h.memoizedState=null,m)}function Gv(u,h){return h=mm({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function mm(u,h){return u=ys(22,u,null,h),u.lanes=0,u}function Kv(u,h,m){return kc(h,u.child,null,m),u=Gv(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function aN(u,h,m){u.lanes|=h;var y=u.alternate;y!==null&&(y.lanes|=h),cv(u.return,h,m)}function Xv(u,h,m,y,E,S){var B=u.memoizedState;B===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:E,treeForkCount:S}:(B.isBackwards=h,B.rendering=null,B.renderingStartTime=0,B.last=y,B.tail=m,B.tailMode=E,B.treeForkCount=S)}function lN(u,h,m){var y=h.pendingProps,E=y.revealOrder,S=y.tail;y=y.children;var B=yr.current,j=(B&2)!==0;if(j?(B=B&1|2,h.flags|=128):B&=1,D(yr,B),oi(u,h,y,m),y=Zt?Fh:0,!j&&u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&aN(u,m,h);else if(u.tag===19)aN(u,m,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(E){case"forwards":for(m=h.child,E=null;m!==null;)u=m.alternate,u!==null&&rm(u)===null&&(E=m),m=m.sibling;m=E,m===null?(E=h.child,h.child=null):(E=m.sibling,m.sibling=null),Xv(h,!1,E,m,S,y);break;case"backwards":case"unstable_legacy-backwards":for(m=null,E=h.child,h.child=null;E!==null;){if(u=E.alternate,u!==null&&rm(u)===null){h.child=E;break}u=E.sibling,E.sibling=m,m=E,E=u}Xv(h,!0,m,null,S,y);break;case"together":Xv(h,!1,null,null,void 0,y);break;default:h.memoizedState=null}return h.child}function ma(u,h,m){if(u!==null&&(h.dependencies=u.dependencies),fl|=h.lanes,(m&h.childLanes)===0)if(u!==null){if(Uu(u,h,m,!1),(m&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(r(153));if(h.child!==null){for(u=h.child,m=ca(u,u.pendingProps),h.child=m,m.return=h;u.sibling!==null;)u=u.sibling,m=m.sibling=ca(u,u.pendingProps),m.return=h;m.sibling=null}return h.child}function Yv(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&Xp(u)))}function QU(u,h,m){switch(h.tag){case 3:oe(h,h.stateNode.containerInfo),rl(h,Sr,u.memoizedState.cache),bc();break;case 27:case 5:de(h);break;case 4:oe(h,h.stateNode.containerInfo);break;case 10:rl(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,wv(h),null;break;case 13:var y=h.memoizedState;if(y!==null)return y.dehydrated!==null?(al(h),h.flags|=128,null):(m&h.child.childLanes)!==0?oN(u,h,m):(al(h),u=ma(u,h,m),u!==null?u.sibling:null);al(h);break;case 19:var E=(u.flags&128)!==0;if(y=(m&h.childLanes)!==0,y||(Uu(u,h,m,!1),y=(m&h.childLanes)!==0),E){if(y)return lN(u,h,m);h.flags|=128}if(E=h.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),D(yr,yr.current),y)break;return null;case 22:return h.lanes=0,eN(u,h,m,h.pendingProps);case 24:rl(h,Sr,u.memoizedState.cache)}return ma(u,h,m)}function cN(u,h,m){if(u!==null)if(u.memoizedProps!==h.pendingProps)kr=!0;else{if(!Yv(u,m)&&(h.flags&128)===0)return kr=!1,QU(u,h,m);kr=(u.flags&131072)!==0}else kr=!1,Zt&&(h.flags&1048576)!==0&&UT(h,Fh,h.index);switch(h.lanes=0,h.tag){case 16:e:{var y=h.pendingProps;if(u=Sc(h.elementType),h.type=u,typeof u=="function")tv(u)?(y=Tc(u,y),h.tag=1,h=iN(null,h,u,y,m)):(h.tag=0,h=$v(null,h,u,y,m));else{if(u!=null){var E=u.$$typeof;if(E===T){h.tag=11,h=Q_(null,h,u,y,m);break e}else if(E===N){h.tag=14,h=J_(null,h,u,y,m);break e}}throw h=ee(u)||u,Error(r(306,h,""))}}return h;case 0:return $v(u,h,h.type,h.pendingProps,m);case 1:return y=h.type,E=Tc(y,h.pendingProps),iN(u,h,y,E,m);case 3:e:{if(oe(h,h.stateNode.containerInfo),u===null)throw Error(r(387));y=h.pendingProps;var S=h.memoizedState;E=S.element,gv(u,h),qh(h,y,null,m);var B=h.memoizedState;if(y=B.cache,rl(h,Sr,y),y!==S.cache&&uv(h,[Sr],m,!0),Vh(),y=B.element,S.isDehydrated)if(S={element:y,isDehydrated:!1,cache:B.cache},h.updateQueue.baseState=S,h.memoizedState=S,h.flags&256){h=sN(u,h,y,m);break e}else if(y!==E){E=Hs(Error(r(424)),h),Ph(E),h=sN(u,h,y,m);break e}else{switch(u=h.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(er=qs(u.firstChild),ii=h,Zt=!0,tl=null,$s=!0,m=e_(h,null,y,m),h.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(bc(),y===E){h=ma(u,h,m);break e}oi(u,h,y,m)}h=h.child}return h;case 26:return pm(u,h),u===null?(m=vD(h.type,null,h.pendingProps,null))?h.memoizedState=m:Zt||(m=h.type,u=h.pendingProps,y=Om(re.current).createElement(m),y[K]=h,y[Q]=u,ai(y,m,u),ht(y),h.stateNode=y):h.memoizedState=vD(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:return de(h),u===null&&Zt&&(y=h.stateNode=xD(h.type,h.pendingProps,re.current),ii=h,$s=!0,E=er,gl(h.type)?(Nw=E,er=qs(y.firstChild)):er=E),oi(u,h,h.pendingProps.children,m),pm(u,h),u===null&&(h.flags|=4194304),h.child;case 5:return u===null&&Zt&&((E=y=er)&&(y=Tj(y,h.type,h.pendingProps,$s),y!==null?(h.stateNode=y,ii=h,er=qs(y.firstChild),$s=!1,E=!0):E=!1),E||nl(h)),de(h),E=h.type,S=h.pendingProps,B=u!==null?u.memoizedProps:null,y=S.children,Cw(E,S)?y=null:B!==null&&Cw(E,B)&&(h.flags|=32),h.memoizedState!==null&&(E=Sv(u,h,jU,null,null,m),fd._currentValue=E),pm(u,h),oi(u,h,y,m),h.child;case 6:return u===null&&Zt&&((u=m=er)&&(m=_j(m,h.pendingProps,$s),m!==null?(h.stateNode=m,ii=h,er=null,u=!0):u=!1),u||nl(h)),null;case 13:return oN(u,h,m);case 4:return oe(h,h.stateNode.containerInfo),y=h.pendingProps,u===null?h.child=kc(h,null,y,m):oi(u,h,y,m),h.child;case 11:return Q_(u,h,h.type,h.pendingProps,m);case 7:return oi(u,h,h.pendingProps,m),h.child;case 8:return oi(u,h,h.pendingProps.children,m),h.child;case 12:return oi(u,h,h.pendingProps.children,m),h.child;case 10:return y=h.pendingProps,rl(h,h.type,y.value),oi(u,h,y.children,m),h.child;case 9:return E=h.type._context,y=h.pendingProps.children,wc(h),E=si(E),y=y(E),h.flags|=1,oi(u,h,y,m),h.child;case 14:return J_(u,h,h.type,h.pendingProps,m);case 15:return Z_(u,h,h.type,h.pendingProps,m);case 19:return lN(u,h,m);case 31:return YU(u,h,m);case 22:return eN(u,h,m,h.pendingProps);case 24:return wc(h),y=si(Sr),u===null?(E=dv(),E===null&&(E=In,S=fv(),E.pooledCache=S,S.refCount++,S!==null&&(E.pooledCacheLanes|=m),E=S),h.memoizedState={parent:y,cache:E},mv(h),rl(h,Sr,E)):((u.lanes&m)!==0&&(gv(u,h),qh(h,null,null,m),Vh()),E=u.memoizedState,S=h.memoizedState,E.parent!==y?(E={parent:y,cache:y},h.memoizedState=E,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=E),rl(h,Sr,y)):(y=S.cache,rl(h,Sr,y),y!==E.cache&&uv(h,[Sr],m,!0))),oi(u,h,h.pendingProps.children,m),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function ga(u){u.flags|=4}function Qv(u,h,m,y,E){if((h=(u.mode&32)!==0)&&(h=!1),h){if(u.flags|=16777216,(E&335544128)===E)if(u.stateNode.complete)u.flags|=8192;else if(IN())u.flags|=8192;else throw Cc=Zp,pv}else u.flags&=-16777217}function uN(u,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!kD(h))if(IN())u.flags|=8192;else throw Cc=Zp,pv}function gm(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?Ae():536870912,u.lanes|=h,Zu|=h)}function Qh(u,h){if(!Zt)switch(u.tailMode){case"hidden":h=u.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:y.sibling=null}}function tr(u){var h=u.alternate!==null&&u.alternate.child===u.child,m=0,y=0;if(h)for(var E=u.child;E!==null;)m|=E.lanes|E.childLanes,y|=E.subtreeFlags&65011712,y|=E.flags&65011712,E.return=u,E=E.sibling;else for(E=u.child;E!==null;)m|=E.lanes|E.childLanes,y|=E.subtreeFlags,y|=E.flags,E.return=u,E=E.sibling;return u.subtreeFlags|=y,u.childLanes=m,h}function JU(u,h,m){var y=h.pendingProps;switch(sv(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(h),null;case 1:return tr(h),null;case 3:return m=h.stateNode,y=null,u!==null&&(y=u.memoizedState.cache),h.memoizedState.cache!==y&&(h.flags|=2048),ha(Sr),Ee(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(u===null||u.child===null)&&(Hu(h)?ga(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,av())),tr(h),null;case 26:var E=h.type,S=h.memoizedState;return u===null?(ga(h),S!==null?(tr(h),uN(h,S)):(tr(h),Qv(h,E,null,y,m))):S?S!==u.memoizedState?(ga(h),tr(h),uN(h,S)):(tr(h),h.flags&=-16777217):(u=u.memoizedProps,u!==y&&ga(h),tr(h),Qv(h,E,u,y,m)),null;case 27:if(ct(h),m=re.current,E=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==y&&ga(h);else{if(!y){if(h.stateNode===null)throw Error(r(166));return tr(h),null}u=I.current,Hu(h)?$T(h):(u=xD(E,y,m),h.stateNode=u,ga(h))}return tr(h),null;case 5:if(ct(h),E=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==y&&ga(h);else{if(!y){if(h.stateNode===null)throw Error(r(166));return tr(h),null}if(S=I.current,Hu(h))$T(h);else{var B=Om(re.current);switch(S){case 1:S=B.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:S=B.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":S=B.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":S=B.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":S=B.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof y.is=="string"?B.createElement("select",{is:y.is}):B.createElement("select"),y.multiple?S.multiple=!0:y.size&&(S.size=y.size);break;default:S=typeof y.is=="string"?B.createElement(E,{is:y.is}):B.createElement(E)}}S[K]=h,S[Q]=y;e:for(B=h.child;B!==null;){if(B.tag===5||B.tag===6)S.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===h)break e;for(;B.sibling===null;){if(B.return===null||B.return===h)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}h.stateNode=S;e:switch(ai(S,E,y),E){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&ga(h)}}return tr(h),Qv(h,h.type,u===null?null:u.memoizedProps,h.pendingProps,m),null;case 6:if(u&&h.stateNode!=null)u.memoizedProps!==y&&ga(h);else{if(typeof y!="string"&&h.stateNode===null)throw Error(r(166));if(u=re.current,Hu(h)){if(u=h.stateNode,m=h.memoizedProps,y=null,E=ii,E!==null)switch(E.tag){case 27:case 5:y=E.memoizedProps}u[K]=h,u=!!(u.nodeValue===m||y!==null&&y.suppressHydrationWarning===!0||oD(u.nodeValue,m)),u||nl(h,!0)}else u=Om(u).createTextNode(y),u[K]=h,h.stateNode=u}return tr(h),null;case 31:if(m=h.memoizedState,u===null||u.memoizedState!==null){if(y=Hu(h),m!==null){if(u===null){if(!y)throw Error(r(318));if(u=h.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(557));u[K]=h}else bc(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;tr(h),u=!1}else m=av(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=m),u=!0;if(!u)return h.flags&256?(vs(h),h):(vs(h),null);if((h.flags&128)!==0)throw Error(r(558))}return tr(h),null;case 13:if(y=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(E=Hu(h),y!==null&&y.dehydrated!==null){if(u===null){if(!E)throw Error(r(318));if(E=h.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[K]=h}else bc(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;tr(h),E=!1}else E=av(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=E),E=!0;if(!E)return h.flags&256?(vs(h),h):(vs(h),null)}return vs(h),(h.flags&128)!==0?(h.lanes=m,h):(m=y!==null,u=u!==null&&u.memoizedState!==null,m&&(y=h.child,E=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(E=y.alternate.memoizedState.cachePool.pool),S=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(S=y.memoizedState.cachePool.pool),S!==E&&(y.flags|=2048)),m!==u&&m&&(h.child.flags|=8192),gm(h,h.updateQueue),tr(h),null);case 4:return Ee(),u===null&&bw(h.stateNode.containerInfo),tr(h),null;case 10:return ha(h.type),tr(h),null;case 19:if(M(yr),y=h.memoizedState,y===null)return tr(h),null;if(E=(h.flags&128)!==0,S=y.rendering,S===null)if(E)Qh(y,!1);else{if(hr!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(S=rm(u),S!==null){for(h.flags|=128,Qh(y,!1),u=S.updateQueue,h.updateQueue=u,gm(h,u),h.subtreeFlags=0,u=m,m=h.child;m!==null;)PT(m,u),m=m.sibling;return D(yr,yr.current&1|2),Zt&&ua(h,y.treeForkCount),h.child}u=u.sibling}y.tail!==null&&Nt()>wm&&(h.flags|=128,E=!0,Qh(y,!1),h.lanes=4194304)}else{if(!E)if(u=rm(S),u!==null){if(h.flags|=128,E=!0,u=u.updateQueue,h.updateQueue=u,gm(h,u),Qh(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!Zt)return tr(h),null}else 2*Nt()-y.renderingStartTime>wm&&m!==536870912&&(h.flags|=128,E=!0,Qh(y,!1),h.lanes=4194304);y.isBackwards?(S.sibling=h.child,h.child=S):(u=y.last,u!==null?u.sibling=S:h.child=S,y.last=S)}return y.tail!==null?(u=y.tail,y.rendering=u,y.tail=u.sibling,y.renderingStartTime=Nt(),u.sibling=null,m=yr.current,D(yr,E?m&1|2:m&1),Zt&&ua(h,y.treeForkCount),u):(tr(h),null);case 22:case 23:return vs(h),vv(),y=h.memoizedState!==null,u!==null?u.memoizedState!==null!==y&&(h.flags|=8192):y&&(h.flags|=8192),y?(m&536870912)!==0&&(h.flags&128)===0&&(tr(h),h.subtreeFlags&6&&(h.flags|=8192)):tr(h),m=h.updateQueue,m!==null&&gm(h,m.retryQueue),m=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==m&&(h.flags|=2048),u!==null&&M(Ec),null;case 24:return m=null,u!==null&&(m=u.memoizedState.cache),h.memoizedState.cache!==m&&(h.flags|=2048),ha(Sr),tr(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function ZU(u,h){switch(sv(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return ha(Sr),Ee(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return ct(h),null;case 31:if(h.memoizedState!==null){if(vs(h),h.alternate===null)throw Error(r(340));bc()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 13:if(vs(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(r(340));bc()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return M(yr),null;case 4:return Ee(),null;case 10:return ha(h.type),null;case 22:case 23:return vs(h),vv(),u!==null&&M(Ec),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return ha(Sr),null;case 25:return null;default:return null}}function fN(u,h){switch(sv(h),h.tag){case 3:ha(Sr),Ee();break;case 26:case 27:case 5:ct(h);break;case 4:Ee();break;case 31:h.memoizedState!==null&&vs(h);break;case 13:vs(h);break;case 19:M(yr);break;case 10:ha(h.type);break;case 22:case 23:vs(h),vv(),u!==null&&M(Ec);break;case 24:ha(Sr)}}function Jh(u,h){try{var m=h.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var E=y.next;m=E;do{if((m.tag&u)===u){y=void 0;var S=m.create,B=m.inst;y=S(),B.destroy=y}m=m.next}while(m!==E)}}catch(j){Sn(h,h.return,j)}}function cl(u,h,m){try{var y=h.updateQueue,E=y!==null?y.lastEffect:null;if(E!==null){var S=E.next;y=S;do{if((y.tag&u)===u){var B=y.inst,j=B.destroy;if(j!==void 0){B.destroy=void 0,E=h;var se=m,ge=j;try{ge()}catch(Ne){Sn(E,se,Ne)}}}y=y.next}while(y!==S)}}catch(Ne){Sn(h,h.return,Ne)}}function hN(u){var h=u.updateQueue;if(h!==null){var m=u.stateNode;try{n_(h,m)}catch(y){Sn(u,u.return,y)}}}function dN(u,h,m){m.props=Tc(u.type,u.memoizedProps),m.state=u.memoizedState;try{m.componentWillUnmount()}catch(y){Sn(u,h,y)}}function Zh(u,h){try{var m=u.ref;if(m!==null){switch(u.tag){case 26:case 27:case 5:var y=u.stateNode;break;case 30:y=u.stateNode;break;default:y=u.stateNode}typeof m=="function"?u.refCleanup=m(y):m.current=y}}catch(E){Sn(u,h,E)}}function Io(u,h){var m=u.ref,y=u.refCleanup;if(m!==null)if(typeof y=="function")try{y()}catch(E){Sn(u,h,E)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(E){Sn(u,h,E)}else m.current=null}function pN(u){var h=u.type,m=u.memoizedProps,y=u.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":m.autoFocus&&y.focus();break e;case"img":m.src?y.src=m.src:m.srcSet&&(y.srcset=m.srcSet)}}catch(E){Sn(u,u.return,E)}}function Jv(u,h,m){try{var y=u.stateNode;wj(y,u.type,m,h),y[Q]=h}catch(E){Sn(u,u.return,E)}}function mN(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&gl(u.type)||u.tag===4}function Zv(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||mN(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&gl(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function ew(u,h,m){var y=u.tag;if(y===5||y===6)u=u.stateNode,h?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(u,h):(h=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,h.appendChild(u),m=m._reactRootContainer,m!=null||h.onclick!==null||(h.onclick=Qe));else if(y!==4&&(y===27&&gl(u.type)&&(m=u.stateNode,h=null),u=u.child,u!==null))for(ew(u,h,m),u=u.sibling;u!==null;)ew(u,h,m),u=u.sibling}function xm(u,h,m){var y=u.tag;if(y===5||y===6)u=u.stateNode,h?m.insertBefore(u,h):m.appendChild(u);else if(y!==4&&(y===27&&gl(u.type)&&(m=u.stateNode),u=u.child,u!==null))for(xm(u,h,m),u=u.sibling;u!==null;)xm(u,h,m),u=u.sibling}function gN(u){var h=u.stateNode,m=u.memoizedProps;try{for(var y=u.type,E=h.attributes;E.length;)h.removeAttributeNode(E[0]);ai(h,y,m),h[K]=u,h[Q]=m}catch(S){Sn(u,u.return,S)}}var xa=!1,Ar=!1,tw=!1,xN=typeof WeakSet=="function"?WeakSet:Set,jr=null;function ej(u,h){if(u=u.containerInfo,Ew=Pm,u=NT(u),Kb(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var E=y.anchorOffset,S=y.focusNode;y=y.focusOffset;try{m.nodeType,S.nodeType}catch{m=null;break e}var B=0,j=-1,se=-1,ge=0,Ne=0,Me=u,we=null;t:for(;;){for(var ke;Me!==m||E!==0&&Me.nodeType!==3||(j=B+E),Me!==S||y!==0&&Me.nodeType!==3||(se=B+y),Me.nodeType===3&&(B+=Me.nodeValue.length),(ke=Me.firstChild)!==null;)we=Me,Me=ke;for(;;){if(Me===u)break t;if(we===m&&++ge===E&&(j=B),we===S&&++Ne===y&&(se=B),(ke=Me.nextSibling)!==null)break;Me=we,we=Me.parentNode}Me=ke}m=j===-1||se===-1?null:{start:j,end:se}}else m=null}m=m||{start:0,end:0}}else m=null;for(Sw={focusedElem:u,selectionRange:m},Pm=!1,jr=h;jr!==null;)if(h=jr,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,jr=u;else for(;jr!==null;){switch(h=jr,S=h.alternate,u=h.flags,h.tag){case 0:if((u&4)!==0&&(u=h.updateQueue,u=u!==null?u.events:null,u!==null))for(m=0;m<u.length;m++)E=u[m],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&S!==null){u=void 0,m=h,E=S.memoizedProps,S=S.memoizedState,y=m.stateNode;try{var ft=Tc(m.type,E);u=y.getSnapshotBeforeUpdate(ft,S),y.__reactInternalSnapshotBeforeUpdate=u}catch(kt){Sn(m,m.return,kt)}}break;case 3:if((u&1024)!==0){if(u=h.stateNode.containerInfo,m=u.nodeType,m===9)Aw(u);else if(m===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":Aw(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=h.sibling,u!==null){u.return=h.return,jr=u;break}jr=h.return}}function yN(u,h,m){var y=m.flags;switch(m.tag){case 0:case 11:case 15:ba(u,m),y&4&&Jh(5,m);break;case 1:if(ba(u,m),y&4)if(u=m.stateNode,h===null)try{u.componentDidMount()}catch(B){Sn(m,m.return,B)}else{var E=Tc(m.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(E,h,u.__reactInternalSnapshotBeforeUpdate)}catch(B){Sn(m,m.return,B)}}y&64&&hN(m),y&512&&Zh(m,m.return);break;case 3:if(ba(u,m),y&64&&(u=m.updateQueue,u!==null)){if(h=null,m.child!==null)switch(m.child.tag){case 27:case 5:h=m.child.stateNode;break;case 1:h=m.child.stateNode}try{n_(u,h)}catch(B){Sn(m,m.return,B)}}break;case 27:h===null&&y&4&&gN(m);case 26:case 5:ba(u,m),h===null&&y&4&&pN(m),y&512&&Zh(m,m.return);break;case 12:ba(u,m);break;case 31:ba(u,m),y&4&&wN(u,m);break;case 13:ba(u,m),y&4&&EN(u,m),y&64&&(u=m.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(m=cj.bind(null,m),Nj(u,m))));break;case 22:if(y=m.memoizedState!==null||xa,!y){h=h!==null&&h.memoizedState!==null||Ar,E=xa;var S=Ar;xa=y,(Ar=h)&&!S?va(u,m,(m.subtreeFlags&8772)!==0):ba(u,m),xa=E,Ar=S}break;case 30:break;default:ba(u,m)}}function bN(u){var h=u.alternate;h!==null&&(u.alternate=null,bN(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&Ue(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var or=null,Yi=!1;function ya(u,h,m){for(m=m.child;m!==null;)vN(u,h,m),m=m.sibling}function vN(u,h,m){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount($n,m)}catch{}switch(m.tag){case 26:Ar||Io(m,h),ya(u,h,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Ar||Io(m,h);var y=or,E=Yi;gl(m.type)&&(or=m.stateNode,Yi=!1),ya(u,h,m),ld(m.stateNode),or=y,Yi=E;break;case 5:Ar||Io(m,h);case 6:if(y=or,E=Yi,or=null,ya(u,h,m),or=y,Yi=E,or!==null)if(Yi)try{(or.nodeType===9?or.body:or.nodeName==="HTML"?or.ownerDocument.body:or).removeChild(m.stateNode)}catch(S){Sn(m,h,S)}else try{or.removeChild(m.stateNode)}catch(S){Sn(m,h,S)}break;case 18:or!==null&&(Yi?(u=or,hD(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,m.stateNode),lf(u)):hD(or,m.stateNode));break;case 4:y=or,E=Yi,or=m.stateNode.containerInfo,Yi=!0,ya(u,h,m),or=y,Yi=E;break;case 0:case 11:case 14:case 15:cl(2,m,h),Ar||cl(4,m,h),ya(u,h,m);break;case 1:Ar||(Io(m,h),y=m.stateNode,typeof y.componentWillUnmount=="function"&&dN(m,h,y)),ya(u,h,m);break;case 21:ya(u,h,m);break;case 22:Ar=(y=Ar)||m.memoizedState!==null,ya(u,h,m),Ar=y;break;default:ya(u,h,m)}}function wN(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{lf(u)}catch(m){Sn(h,h.return,m)}}}function EN(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{lf(u)}catch(m){Sn(h,h.return,m)}}function tj(u){switch(u.tag){case 31:case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new xN),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new xN),h;default:throw Error(r(435,u.tag))}}function ym(u,h){var m=tj(u);h.forEach(function(y){if(!m.has(y)){m.add(y);var E=uj.bind(null,u,y);y.then(E,E)}})}function Qi(u,h){var m=h.deletions;if(m!==null)for(var y=0;y<m.length;y++){var E=m[y],S=u,B=h,j=B;e:for(;j!==null;){switch(j.tag){case 27:if(gl(j.type)){or=j.stateNode,Yi=!1;break e}break;case 5:or=j.stateNode,Yi=!1;break e;case 3:case 4:or=j.stateNode.containerInfo,Yi=!0;break e}j=j.return}if(or===null)throw Error(r(160));vN(S,B,E),or=null,Yi=!1,S=E.alternate,S!==null&&(S.return=null),E.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)SN(h,u),h=h.sibling}var po=null;function SN(u,h){var m=u.alternate,y=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Qi(h,u),Ji(u),y&4&&(cl(3,u,u.return),Jh(3,u),cl(5,u,u.return));break;case 1:Qi(h,u),Ji(u),y&512&&(Ar||m===null||Io(m,m.return)),y&64&&xa&&(u=u.updateQueue,u!==null&&(y=u.callbacks,y!==null&&(m=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=m===null?y:m.concat(y))));break;case 26:var E=po;if(Qi(h,u),Ji(u),y&512&&(Ar||m===null||Io(m,m.return)),y&4){var S=m!==null?m.memoizedState:null;if(y=u.memoizedState,m===null)if(y===null)if(u.stateNode===null){e:{y=u.type,m=u.memoizedProps,E=E.ownerDocument||E;t:switch(y){case"title":S=E.getElementsByTagName("title")[0],(!S||S[be]||S[K]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=E.createElement(y),E.head.insertBefore(S,E.querySelector("head > title"))),ai(S,y,m),S[K]=u,ht(S),y=S;break e;case"link":var B=SD("link","href",E).get(y+(m.href||""));if(B){for(var j=0;j<B.length;j++)if(S=B[j],S.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&S.getAttribute("rel")===(m.rel==null?null:m.rel)&&S.getAttribute("title")===(m.title==null?null:m.title)&&S.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){B.splice(j,1);break t}}S=E.createElement(y),ai(S,y,m),E.head.appendChild(S);break;case"meta":if(B=SD("meta","content",E).get(y+(m.content||""))){for(j=0;j<B.length;j++)if(S=B[j],S.getAttribute("content")===(m.content==null?null:""+m.content)&&S.getAttribute("name")===(m.name==null?null:m.name)&&S.getAttribute("property")===(m.property==null?null:m.property)&&S.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&S.getAttribute("charset")===(m.charSet==null?null:m.charSet)){B.splice(j,1);break t}}S=E.createElement(y),ai(S,y,m),E.head.appendChild(S);break;default:throw Error(r(468,y))}S[K]=u,ht(S),y=S}u.stateNode=y}else CD(E,u.type,u.stateNode);else u.stateNode=ED(E,y,u.memoizedProps);else S!==y?(S===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):S.count--,y===null?CD(E,u.type,u.stateNode):ED(E,y,u.memoizedProps)):y===null&&u.stateNode!==null&&Jv(u,u.memoizedProps,m.memoizedProps)}break;case 27:Qi(h,u),Ji(u),y&512&&(Ar||m===null||Io(m,m.return)),m!==null&&y&4&&Jv(u,u.memoizedProps,m.memoizedProps);break;case 5:if(Qi(h,u),Ji(u),y&512&&(Ar||m===null||Io(m,m.return)),u.flags&32){E=u.stateNode;try{At(E,"")}catch(ft){Sn(u,u.return,ft)}}y&4&&u.stateNode!=null&&(E=u.memoizedProps,Jv(u,E,m!==null?m.memoizedProps:E)),y&1024&&(tw=!0);break;case 6:if(Qi(h,u),Ji(u),y&4){if(u.stateNode===null)throw Error(r(162));y=u.memoizedProps,m=u.stateNode;try{m.nodeValue=y}catch(ft){Sn(u,u.return,ft)}}break;case 3:if(Bm=null,E=po,po=Mm(h.containerInfo),Qi(h,u),po=E,Ji(u),y&4&&m!==null&&m.memoizedState.isDehydrated)try{lf(h.containerInfo)}catch(ft){Sn(u,u.return,ft)}tw&&(tw=!1,CN(u));break;case 4:y=po,po=Mm(u.stateNode.containerInfo),Qi(h,u),Ji(u),po=y;break;case 12:Qi(h,u),Ji(u);break;case 31:Qi(h,u),Ji(u),y&4&&(y=u.updateQueue,y!==null&&(u.updateQueue=null,ym(u,y)));break;case 13:Qi(h,u),Ji(u),u.child.flags&8192&&u.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(vm=Nt()),y&4&&(y=u.updateQueue,y!==null&&(u.updateQueue=null,ym(u,y)));break;case 22:E=u.memoizedState!==null;var se=m!==null&&m.memoizedState!==null,ge=xa,Ne=Ar;if(xa=ge||E,Ar=Ne||se,Qi(h,u),Ar=Ne,xa=ge,Ji(u),y&8192)e:for(h=u.stateNode,h._visibility=E?h._visibility&-2:h._visibility|1,E&&(m===null||se||xa||Ar||_c(u)),m=null,h=u;;){if(h.tag===5||h.tag===26){if(m===null){se=m=h;try{if(S=se.stateNode,E)B=S.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{j=se.stateNode;var Me=se.memoizedProps.style,we=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;j.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(ft){Sn(se,se.return,ft)}}}else if(h.tag===6){if(m===null){se=h;try{se.stateNode.nodeValue=E?"":se.memoizedProps}catch(ft){Sn(se,se.return,ft)}}}else if(h.tag===18){if(m===null){se=h;try{var ke=se.stateNode;E?dD(ke,!0):dD(se.stateNode,!1)}catch(ft){Sn(se,se.return,ft)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}y&4&&(y=u.updateQueue,y!==null&&(m=y.retryQueue,m!==null&&(y.retryQueue=null,ym(u,m))));break;case 19:Qi(h,u),Ji(u),y&4&&(y=u.updateQueue,y!==null&&(u.updateQueue=null,ym(u,y)));break;case 30:break;case 21:break;default:Qi(h,u),Ji(u)}}function Ji(u){var h=u.flags;if(h&2){try{for(var m,y=u.return;y!==null;){if(mN(y)){m=y;break}y=y.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var E=m.stateNode,S=Zv(u);xm(u,S,E);break;case 5:var B=m.stateNode;m.flags&32&&(At(B,""),m.flags&=-33);var j=Zv(u);xm(u,j,B);break;case 3:case 4:var se=m.stateNode.containerInfo,ge=Zv(u);ew(u,ge,se);break;default:throw Error(r(161))}}catch(Ne){Sn(u,u.return,Ne)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function CN(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;CN(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),u=u.sibling}}function ba(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)yN(u,h.alternate,h),h=h.sibling}function _c(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:cl(4,h,h.return),_c(h);break;case 1:Io(h,h.return);var m=h.stateNode;typeof m.componentWillUnmount=="function"&&dN(h,h.return,m),_c(h);break;case 27:ld(h.stateNode);case 26:case 5:Io(h,h.return),_c(h);break;case 22:h.memoizedState===null&&_c(h);break;case 30:_c(h);break;default:_c(h)}u=u.sibling}}function va(u,h,m){for(m=m&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var y=h.alternate,E=u,S=h,B=S.flags;switch(S.tag){case 0:case 11:case 15:va(E,S,m),Jh(4,S);break;case 1:if(va(E,S,m),y=S,E=y.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(ge){Sn(y,y.return,ge)}if(y=S,E=y.updateQueue,E!==null){var j=y.stateNode;try{var se=E.shared.hiddenCallbacks;if(se!==null)for(E.shared.hiddenCallbacks=null,E=0;E<se.length;E++)t_(se[E],j)}catch(ge){Sn(y,y.return,ge)}}m&&B&64&&hN(S),Zh(S,S.return);break;case 27:gN(S);case 26:case 5:va(E,S,m),m&&y===null&&B&4&&pN(S),Zh(S,S.return);break;case 12:va(E,S,m);break;case 31:va(E,S,m),m&&B&4&&wN(E,S);break;case 13:va(E,S,m),m&&B&4&&EN(E,S);break;case 22:S.memoizedState===null&&va(E,S,m),Zh(S,S.return);break;case 30:break;default:va(E,S,m)}h=h.sibling}}function nw(u,h){var m=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==m&&(u!=null&&u.refCount++,m!=null&&zh(m))}function rw(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&zh(u))}function mo(u,h,m,y){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)kN(u,h,m,y),h=h.sibling}function kN(u,h,m,y){var E=h.flags;switch(h.tag){case 0:case 11:case 15:mo(u,h,m,y),E&2048&&Jh(9,h);break;case 1:mo(u,h,m,y);break;case 3:mo(u,h,m,y),E&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&zh(u)));break;case 12:if(E&2048){mo(u,h,m,y),u=h.stateNode;try{var S=h.memoizedProps,B=S.id,j=S.onPostCommit;typeof j=="function"&&j(B,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(se){Sn(h,h.return,se)}}else mo(u,h,m,y);break;case 31:mo(u,h,m,y);break;case 13:mo(u,h,m,y);break;case 23:break;case 22:S=h.stateNode,B=h.alternate,h.memoizedState!==null?S._visibility&2?mo(u,h,m,y):ed(u,h):S._visibility&2?mo(u,h,m,y):(S._visibility|=2,Yu(u,h,m,y,(h.subtreeFlags&10256)!==0||!1)),E&2048&&nw(B,h);break;case 24:mo(u,h,m,y),E&2048&&rw(h.alternate,h);break;default:mo(u,h,m,y)}}function Yu(u,h,m,y,E){for(E=E&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var S=u,B=h,j=m,se=y,ge=B.flags;switch(B.tag){case 0:case 11:case 15:Yu(S,B,j,se,E),Jh(8,B);break;case 23:break;case 22:var Ne=B.stateNode;B.memoizedState!==null?Ne._visibility&2?Yu(S,B,j,se,E):ed(S,B):(Ne._visibility|=2,Yu(S,B,j,se,E)),E&&ge&2048&&nw(B.alternate,B);break;case 24:Yu(S,B,j,se,E),E&&ge&2048&&rw(B.alternate,B);break;default:Yu(S,B,j,se,E)}h=h.sibling}}function ed(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var m=u,y=h,E=y.flags;switch(y.tag){case 22:ed(m,y),E&2048&&nw(y.alternate,y);break;case 24:ed(m,y),E&2048&&rw(y.alternate,y);break;default:ed(m,y)}h=h.sibling}}var td=8192;function Qu(u,h,m){if(u.subtreeFlags&td)for(u=u.child;u!==null;)AN(u,h,m),u=u.sibling}function AN(u,h,m){switch(u.tag){case 26:Qu(u,h,m),u.flags&td&&u.memoizedState!==null&&Uj(m,po,u.memoizedState,u.memoizedProps);break;case 5:Qu(u,h,m);break;case 3:case 4:var y=po;po=Mm(u.stateNode.containerInfo),Qu(u,h,m),po=y;break;case 22:u.memoizedState===null&&(y=u.alternate,y!==null&&y.memoizedState!==null?(y=td,td=16777216,Qu(u,h,m),td=y):Qu(u,h,m));break;default:Qu(u,h,m)}}function TN(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function nd(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var m=0;m<h.length;m++){var y=h[m];jr=y,NN(y,u)}TN(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)_N(u),u=u.sibling}function _N(u){switch(u.tag){case 0:case 11:case 15:nd(u),u.flags&2048&&cl(9,u,u.return);break;case 3:nd(u);break;case 12:nd(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&2&&(u.return===null||u.return.tag!==13)?(h._visibility&=-3,bm(u)):nd(u);break;default:nd(u)}}function bm(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var m=0;m<h.length;m++){var y=h[m];jr=y,NN(y,u)}TN(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:cl(8,h,h.return),bm(h);break;case 22:m=h.stateNode,m._visibility&2&&(m._visibility&=-3,bm(h));break;default:bm(h)}u=u.sibling}}function NN(u,h){for(;jr!==null;){var m=jr;switch(m.tag){case 0:case 11:case 15:cl(8,m,h);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var y=m.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:zh(m.memoizedState.cache)}if(y=m.child,y!==null)y.return=m,jr=y;else e:for(m=u;jr!==null;){y=jr;var E=y.sibling,S=y.return;if(bN(y),y===m){jr=null;break e}if(E!==null){E.return=S,jr=E;break e}jr=S}}}var nj={getCacheForType:function(u){var h=si(Sr),m=h.data.get(u);return m===void 0&&(m=u(),h.data.set(u,m)),m},cacheSignal:function(){return si(Sr).controller.signal}},rj=typeof WeakMap=="function"?WeakMap:Map,gn=0,In=null,Wt=null,Qt=0,En=0,ws=null,ul=!1,Ju=!1,iw=!1,wa=0,hr=0,fl=0,Nc=0,sw=0,Es=0,Zu=0,rd=null,Zi=null,ow=!1,vm=0,DN=0,wm=1/0,Em=null,hl=null,Ir=0,dl=null,ef=null,Ea=0,aw=0,lw=null,ON=null,id=0,cw=null;function Ss(){return(gn&2)!==0&&Qt!==0?Qt&-Qt:J.T!==null?mw():H()}function MN(){if(Es===0)if((Qt&536870912)===0||Zt){var u=Wi;Wi<<=1,(Wi&3932160)===0&&(Wi=262144),Es=u}else Es=536870912;return u=bs.current,u!==null&&(u.flags|=32),Es}function es(u,h,m){(u===In&&(En===2||En===9)||u.cancelPendingCommit!==null)&&(tf(u,0),pl(u,Qt,Es,!1)),Ke(u,m),((gn&2)===0||u!==In)&&(u===In&&((gn&2)===0&&(Nc|=m),hr===4&&pl(u,Qt,Es,!1)),Fo(u))}function RN(u,h,m){if((gn&6)!==0)throw Error(r(327));var y=!m&&(h&127)===0&&(h&u.expiredLanes)===0||ne(u,h),E=y?oj(u,h):fw(u,h,!0),S=y;do{if(E===0){Ju&&!y&&pl(u,h,0,!1);break}else{if(m=u.current.alternate,S&&!ij(m)){E=fw(u,h,!1),S=!1;continue}if(E===2){if(S=h,u.errorRecoveryDisabledLanes&S)var B=0;else B=u.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){h=B;e:{var j=u;E=rd;var se=j.current.memoizedState.isDehydrated;if(se&&(tf(j,B).flags|=256),B=fw(j,B,!1),B!==2){if(iw&&!se){j.errorRecoveryDisabledLanes|=S,Nc|=S,E=4;break e}S=Zi,Zi=E,S!==null&&(Zi===null?Zi=S:Zi.push.apply(Zi,S))}E=B}if(S=!1,E!==2)continue}}if(E===1){tf(u,0),pl(u,h,0,!0);break}e:{switch(y=u,S=E,S){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:pl(y,h,Es,!ul);break e;case 2:Zi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(E=vm+300-Nt(),10<E)){if(pl(y,h,Es,!ul),ie(y,0,!0)!==0)break e;Ea=h,y.timeoutHandle=uD(BN.bind(null,y,m,Zi,Em,ow,h,Es,Nc,Zu,ul,S,"Throttled",-0,0),E);break e}BN(y,m,Zi,Em,ow,h,Es,Nc,Zu,ul,S,null,-0,0)}}break}while(!0);Fo(u)}function BN(u,h,m,y,E,S,B,j,se,ge,Ne,Me,we,ke){if(u.timeoutHandle=-1,Me=h.subtreeFlags,Me&8192||(Me&16785408)===16785408){Me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qe},AN(h,S,Me);var ft=(S&62914560)===S?vm-Nt():(S&4194048)===S?DN-Nt():0;if(ft=jj(Me,ft),ft!==null){Ea=S,u.cancelPendingCommit=ft(jN.bind(null,u,h,S,m,y,E,B,j,se,Ne,Me,null,we,ke)),pl(u,S,B,!ge);return}}jN(u,h,S,m,y,E,B,j,se)}function ij(u){for(var h=u;;){var m=h.tag;if((m===0||m===11||m===15)&&h.flags&16384&&(m=h.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var y=0;y<m.length;y++){var E=m[y],S=E.getSnapshot;E=E.value;try{if(!xs(S(),E))return!1}catch{return!1}}if(m=h.child,h.subtreeFlags&16384&&m!==null)m.return=h,h=m;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function pl(u,h,m,y){h&=~sw,h&=~Nc,u.suspendedLanes|=h,u.pingedLanes&=~h,y&&(u.warmLanes|=h),y=u.expirationTimes;for(var E=h;0<E;){var S=31-jt(E),B=1<<S;y[S]=-1,E&=~B}m!==0&&Le(u,m,h)}function Sm(){return(gn&6)===0?(sd(0),!1):!0}function uw(){if(Wt!==null){if(En===0)var u=Wt.return;else u=Wt,fa=vc=null,Av(u),qu=null,Uh=0,u=Wt;for(;u!==null;)fN(u.alternate,u),u=u.return;Wt=null}}function tf(u,h){var m=u.timeoutHandle;m!==-1&&(u.timeoutHandle=-1,Cj(m)),m=u.cancelPendingCommit,m!==null&&(u.cancelPendingCommit=null,m()),Ea=0,uw(),In=u,Wt=m=ca(u.current,null),Qt=h,En=0,ws=null,ul=!1,Ju=ne(u,h),iw=!1,Zu=Es=sw=Nc=fl=hr=0,Zi=rd=null,ow=!1,(h&8)!==0&&(h|=h&32);var y=u.entangledLanes;if(y!==0)for(u=u.entanglements,y&=h;0<y;){var E=31-jt(y),S=1<<E;h|=u[E],y&=~S}return wa=h,Vp(),m}function LN(u,h){It=null,J.H=Xh,h===Vu||h===Jp?(h=QT(),En=3):h===pv?(h=QT(),En=4):En=h===jv?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,ws=h,Wt===null&&(hr=1,hm(u,Hs(h,u.current)))}function IN(){var u=bs.current;return u===null?!0:(Qt&4194048)===Qt?Vs===null:(Qt&62914560)===Qt||(Qt&536870912)!==0?u===Vs:!1}function FN(){var u=J.H;return J.H=Xh,u===null?Xh:u}function PN(){var u=J.A;return J.A=nj,u}function Cm(){hr=4,ul||(Qt&4194048)!==Qt&&bs.current!==null||(Ju=!0),(fl&134217727)===0&&(Nc&134217727)===0||In===null||pl(In,Qt,Es,!1)}function fw(u,h,m){var y=gn;gn|=2;var E=FN(),S=PN();(In!==u||Qt!==h)&&(Em=null,tf(u,h)),h=!1;var B=hr;e:do try{if(En!==0&&Wt!==null){var j=Wt,se=ws;switch(En){case 8:uw(),B=6;break e;case 3:case 2:case 9:case 6:bs.current===null&&(h=!0);var ge=En;if(En=0,ws=null,nf(u,j,se,ge),m&&Ju){B=0;break e}break;default:ge=En,En=0,ws=null,nf(u,j,se,ge)}}sj(),B=hr;break}catch(Ne){LN(u,Ne)}while(!0);return h&&u.shellSuspendCounter++,fa=vc=null,gn=y,J.H=E,J.A=S,Wt===null&&(In=null,Qt=0,Vp()),B}function sj(){for(;Wt!==null;)zN(Wt)}function oj(u,h){var m=gn;gn|=2;var y=FN(),E=PN();In!==u||Qt!==h?(Em=null,wm=Nt()+500,tf(u,h)):Ju=ne(u,h);e:do try{if(En!==0&&Wt!==null){h=Wt;var S=ws;t:switch(En){case 1:En=0,ws=null,nf(u,h,S,1);break;case 2:case 9:if(XT(S)){En=0,ws=null,HN(h);break}h=function(){En!==2&&En!==9||In!==u||(En=7),Fo(u)},S.then(h,h);break e;case 3:En=7;break e;case 4:En=5;break e;case 7:XT(S)?(En=0,ws=null,HN(h)):(En=0,ws=null,nf(u,h,S,7));break;case 5:var B=null;switch(Wt.tag){case 26:B=Wt.memoizedState;case 5:case 27:var j=Wt;if(B?kD(B):j.stateNode.complete){En=0,ws=null;var se=j.sibling;if(se!==null)Wt=se;else{var ge=j.return;ge!==null?(Wt=ge,km(ge)):Wt=null}break t}}En=0,ws=null,nf(u,h,S,5);break;case 6:En=0,ws=null,nf(u,h,S,6);break;case 8:uw(),hr=6;break e;default:throw Error(r(462))}}aj();break}catch(Ne){LN(u,Ne)}while(!0);return fa=vc=null,J.H=y,J.A=E,gn=m,Wt!==null?0:(In=null,Qt=0,Vp(),hr)}function aj(){for(;Wt!==null&&!on();)zN(Wt)}function zN(u){var h=cN(u.alternate,u,wa);u.memoizedProps=u.pendingProps,h===null?km(u):Wt=h}function HN(u){var h=u,m=h.alternate;switch(h.tag){case 15:case 0:h=rN(m,h,h.pendingProps,h.type,void 0,Qt);break;case 11:h=rN(m,h,h.pendingProps,h.type.render,h.ref,Qt);break;case 5:Av(h);default:fN(m,h),h=Wt=PT(h,wa),h=cN(m,h,wa)}u.memoizedProps=u.pendingProps,h===null?km(u):Wt=h}function nf(u,h,m,y){fa=vc=null,Av(h),qu=null,Uh=0;var E=h.return;try{if(XU(u,E,h,m,Qt)){hr=1,hm(u,Hs(m,u.current)),Wt=null;return}}catch(S){if(E!==null)throw Wt=E,S;hr=1,hm(u,Hs(m,u.current)),Wt=null;return}h.flags&32768?(Zt||y===1?u=!0:Ju||(Qt&536870912)!==0?u=!1:(ul=u=!0,(y===2||y===9||y===3||y===6)&&(y=bs.current,y!==null&&y.tag===13&&(y.flags|=16384))),UN(h,u)):km(h)}function km(u){var h=u;do{if((h.flags&32768)!==0){UN(h,ul);return}u=h.return;var m=JU(h.alternate,h,wa);if(m!==null){Wt=m;return}if(h=h.sibling,h!==null){Wt=h;return}Wt=h=u}while(h!==null);hr===0&&(hr=5)}function UN(u,h){do{var m=ZU(u.alternate,u);if(m!==null){m.flags&=32767,Wt=m;return}if(m=u.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!h&&(u=u.sibling,u!==null)){Wt=u;return}Wt=u=m}while(u!==null);hr=6,Wt=null}function jN(u,h,m,y,E,S,B,j,se){u.cancelPendingCommit=null;do Am();while(Ir!==0);if((gn&6)!==0)throw Error(r(327));if(h!==null){if(h===u.current)throw Error(r(177));if(S=h.lanes|h.childLanes,S|=Zb,Oe(u,m,S,B,j,se),u===In&&(Wt=In=null,Qt=0),ef=h,dl=u,Ea=m,aw=S,lw=E,ON=y,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,fj(at,function(){return GN(),null})):(u.callbackNode=null,u.callbackPriority=0),y=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||y){y=J.T,J.T=null,E=ae.p,ae.p=2,B=gn,gn|=4;try{ej(u,h,m)}finally{gn=B,ae.p=E,J.T=y}}Ir=1,$N(),VN(),qN()}}function $N(){if(Ir===1){Ir=0;var u=dl,h=ef,m=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||m){m=J.T,J.T=null;var y=ae.p;ae.p=2;var E=gn;gn|=4;try{SN(h,u);var S=Sw,B=NT(u.containerInfo),j=S.focusedElem,se=S.selectionRange;if(B!==j&&j&&j.ownerDocument&&_T(j.ownerDocument.documentElement,j)){if(se!==null&&Kb(j)){var ge=se.start,Ne=se.end;if(Ne===void 0&&(Ne=ge),"selectionStart"in j)j.selectionStart=ge,j.selectionEnd=Math.min(Ne,j.value.length);else{var Me=j.ownerDocument||document,we=Me&&Me.defaultView||window;if(we.getSelection){var ke=we.getSelection(),ft=j.textContent.length,kt=Math.min(se.start,ft),On=se.end===void 0?kt:Math.min(se.end,ft);!ke.extend&&kt>On&&(B=On,On=kt,kt=B);var ue=TT(j,kt),le=TT(j,On);if(ue&&le&&(ke.rangeCount!==1||ke.anchorNode!==ue.node||ke.anchorOffset!==ue.offset||ke.focusNode!==le.node||ke.focusOffset!==le.offset)){var me=Me.createRange();me.setStart(ue.node,ue.offset),ke.removeAllRanges(),kt>On?(ke.addRange(me),ke.extend(le.node,le.offset)):(me.setEnd(le.node,le.offset),ke.addRange(me))}}}}for(Me=[],ke=j;ke=ke.parentNode;)ke.nodeType===1&&Me.push({element:ke,left:ke.scrollLeft,top:ke.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<Me.length;j++){var De=Me[j];De.element.scrollLeft=De.left,De.element.scrollTop=De.top}}Pm=!!Ew,Sw=Ew=null}finally{gn=E,ae.p=y,J.T=m}}u.current=h,Ir=2}}function VN(){if(Ir===2){Ir=0;var u=dl,h=ef,m=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||m){m=J.T,J.T=null;var y=ae.p;ae.p=2;var E=gn;gn|=4;try{yN(u,h.alternate,h)}finally{gn=E,ae.p=y,J.T=m}}Ir=3}}function qN(){if(Ir===4||Ir===3){Ir=0,Qn();var u=dl,h=ef,m=Ea,y=ON;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Ir=5:(Ir=0,ef=dl=null,WN(u,u.pendingLanes));var E=u.pendingLanes;if(E===0&&(hl=null),Vn(m),h=h.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot($n,h,void 0,(h.current.flags&128)===128)}catch{}if(y!==null){h=J.T,E=ae.p,ae.p=2,J.T=null;try{for(var S=u.onRecoverableError,B=0;B<y.length;B++){var j=y[B];S(j.value,{componentStack:j.stack})}}finally{J.T=h,ae.p=E}}(Ea&3)!==0&&Am(),Fo(u),E=u.pendingLanes,(m&261930)!==0&&(E&42)!==0?u===cw?id++:(id=0,cw=u):id=0,sd(0)}}function WN(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,zh(h)))}function Am(){return $N(),VN(),qN(),GN()}function GN(){if(Ir!==5)return!1;var u=dl,h=aw;aw=0;var m=Vn(Ea),y=J.T,E=ae.p;try{ae.p=32>m?32:m,J.T=null,m=lw,lw=null;var S=dl,B=Ea;if(Ir=0,ef=dl=null,Ea=0,(gn&6)!==0)throw Error(r(331));var j=gn;if(gn|=4,_N(S.current),kN(S,S.current,B,m),gn=j,sd(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot($n,S)}catch{}return!0}finally{ae.p=E,J.T=y,WN(u,h)}}function KN(u,h,m){h=Hs(m,h),h=Uv(u.stateNode,h,2),u=ol(u,h,2),u!==null&&(Ke(u,2),Fo(u))}function Sn(u,h,m){if(u.tag===3)KN(u,u,m);else for(;h!==null;){if(h.tag===3){KN(h,u,m);break}else if(h.tag===1){var y=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(hl===null||!hl.has(y))){u=Hs(m,u),m=X_(2),y=ol(h,m,2),y!==null&&(Y_(m,y,h,u),Ke(y,2),Fo(y));break}}h=h.return}}function hw(u,h,m){var y=u.pingCache;if(y===null){y=u.pingCache=new rj;var E=new Set;y.set(h,E)}else E=y.get(h),E===void 0&&(E=new Set,y.set(h,E));E.has(m)||(iw=!0,E.add(m),u=lj.bind(null,u,h,m),h.then(u,u))}function lj(u,h,m){var y=u.pingCache;y!==null&&y.delete(h),u.pingedLanes|=u.suspendedLanes&m,u.warmLanes&=~m,In===u&&(Qt&m)===m&&(hr===4||hr===3&&(Qt&62914560)===Qt&&300>Nt()-vm?(gn&2)===0&&tf(u,0):sw|=m,Zu===Qt&&(Zu=0)),Fo(u)}function XN(u,h){h===0&&(h=Ae()),u=xc(u,h),u!==null&&(Ke(u,h),Fo(u))}function cj(u){var h=u.memoizedState,m=0;h!==null&&(m=h.retryLane),XN(u,m)}function uj(u,h){var m=0;switch(u.tag){case 31:case 13:var y=u.stateNode,E=u.memoizedState;E!==null&&(m=E.retryLane);break;case 19:y=u.stateNode;break;case 22:y=u.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(h),XN(u,m)}function fj(u,h){return Mt(u,h)}var Tm=null,rf=null,dw=!1,_m=!1,pw=!1,ml=0;function Fo(u){u!==rf&&u.next===null&&(rf===null?Tm=rf=u:rf=rf.next=u),_m=!0,dw||(dw=!0,dj())}function sd(u,h){if(!pw&&_m){pw=!0;do for(var m=!1,y=Tm;y!==null;){if(u!==0){var E=y.pendingLanes;if(E===0)var S=0;else{var B=y.suspendedLanes,j=y.pingedLanes;S=(1<<31-jt(42|u)+1)-1,S&=E&~(B&~j),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(m=!0,ZN(y,S))}else S=Qt,S=ie(y,y===In?S:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(S&3)===0||ne(y,S)||(m=!0,ZN(y,S));y=y.next}while(m);pw=!1}}function hj(){YN()}function YN(){_m=dw=!1;var u=0;ml!==0&&Sj()&&(u=ml);for(var h=Nt(),m=null,y=Tm;y!==null;){var E=y.next,S=QN(y,h);S===0?(y.next=null,m===null?Tm=E:m.next=E,E===null&&(rf=m)):(m=y,(u!==0||(S&3)!==0)&&(_m=!0)),y=E}Ir!==0&&Ir!==5||sd(u),ml!==0&&(ml=0)}function QN(u,h){for(var m=u.suspendedLanes,y=u.pingedLanes,E=u.expirationTimes,S=u.pendingLanes&-62914561;0<S;){var B=31-jt(S),j=1<<B,se=E[B];se===-1?((j&m)===0||(j&y)!==0)&&(E[B]=fe(j,h)):se<=h&&(u.expiredLanes|=j),S&=~j}if(h=In,m=Qt,m=ie(u,u===h?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),y=u.callbackNode,m===0||u===h&&(En===2||En===9)||u.cancelPendingCommit!==null)return y!==null&&y!==null&&rn(y),u.callbackNode=null,u.callbackPriority=0;if((m&3)===0||ne(u,m)){if(h=m&-m,h===u.callbackPriority)return h;switch(y!==null&&rn(y),Vn(m)){case 2:case 8:m=ze;break;case 32:m=at;break;case 268435456:m=Rt;break;default:m=at}return y=JN.bind(null,u),m=Mt(m,y),u.callbackPriority=h,u.callbackNode=m,h}return y!==null&&y!==null&&rn(y),u.callbackPriority=2,u.callbackNode=null,2}function JN(u,h){if(Ir!==0&&Ir!==5)return u.callbackNode=null,u.callbackPriority=0,null;var m=u.callbackNode;if(Am()&&u.callbackNode!==m)return null;var y=Qt;return y=ie(u,u===In?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),y===0?null:(RN(u,y,h),QN(u,Nt()),u.callbackNode!=null&&u.callbackNode===m?JN.bind(null,u):null)}function ZN(u,h){if(Am())return null;RN(u,h,!0)}function dj(){kj(function(){(gn&6)!==0?Mt(Ce,hj):YN()})}function mw(){if(ml===0){var u=ju;u===0&&(u=ni,ni<<=1,(ni&261888)===0&&(ni=256)),ml=u}return ml}function eD(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Ja(""+u)}function tD(u,h){var m=h.ownerDocument.createElement("input");return m.name=h.name,m.value=h.value,u.id&&m.setAttribute("form",u.id),h.parentNode.insertBefore(m,h),u=new FormData(u),m.parentNode.removeChild(m),u}function pj(u,h,m,y,E){if(h==="submit"&&m&&m.stateNode===E){var S=eD((E[Q]||null).action),B=y.submitter;B&&(h=(h=B[Q]||null)?eD(h.formAction):B.getAttribute("formAction"),h!==null&&(S=h,B=null));var j=new Hp("action","action",null,y,E);u.push({event:j,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(ml!==0){var se=B?tD(E,B):new FormData(E);Lv(m,{pending:!0,data:se,method:E.method,action:S},null,se)}}else typeof S=="function"&&(j.preventDefault(),se=B?tD(E,B):new FormData(E),Lv(m,{pending:!0,data:se,method:E.method,action:S},S,se))},currentTarget:E}]})}}for(var gw=0;gw<Jb.length;gw++){var xw=Jb[gw],mj=xw.toLowerCase(),gj=xw[0].toUpperCase()+xw.slice(1);ho(mj,"on"+gj)}ho(MT,"onAnimationEnd"),ho(RT,"onAnimationIteration"),ho(BT,"onAnimationStart"),ho("dblclick","onDoubleClick"),ho("focusin","onFocus"),ho("focusout","onBlur"),ho(MU,"onTransitionRun"),ho(RU,"onTransitionStart"),ho(BU,"onTransitionCancel"),ho(LT,"onTransitionEnd"),He("onMouseEnter",["mouseout","mouseover"]),He("onMouseLeave",["mouseout","mouseover"]),He("onPointerEnter",["pointerout","pointerover"]),He("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(od));function nD(u,h){h=(h&4)!==0;for(var m=0;m<u.length;m++){var y=u[m],E=y.event;y=y.listeners;e:{var S=void 0;if(h)for(var B=y.length-1;0<=B;B--){var j=y[B],se=j.instance,ge=j.currentTarget;if(j=j.listener,se!==S&&E.isPropagationStopped())break e;S=j,E.currentTarget=ge;try{S(E)}catch(Ne){$p(Ne)}E.currentTarget=null,S=se}else for(B=0;B<y.length;B++){if(j=y[B],se=j.instance,ge=j.currentTarget,j=j.listener,se!==S&&E.isPropagationStopped())break e;S=j,E.currentTarget=ge;try{S(E)}catch(Ne){$p(Ne)}E.currentTarget=null,S=se}}}}function Gt(u,h){var m=h[xe];m===void 0&&(m=h[xe]=new Set);var y=u+"__bubble";m.has(y)||(rD(h,u,2,!1),m.add(y))}function yw(u,h,m){var y=0;h&&(y|=4),rD(m,u,y,h)}var Nm="_reactListening"+Math.random().toString(36).slice(2);function bw(u){if(!u[Nm]){u[Nm]=!0,_n.forEach(function(m){m!=="selectionchange"&&(xj.has(m)||yw(m,!1,u),yw(m,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Nm]||(h[Nm]=!0,yw("selectionchange",!1,h))}}function rD(u,h,m,y){switch(MD(h)){case 2:var E=qj;break;case 8:E=Wj;break;default:E=Bw}m=E.bind(null,h,m,u),E=void 0,!zb||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(E=!0),y?E!==void 0?u.addEventListener(h,m,{capture:!0,passive:E}):u.addEventListener(h,m,!0):E!==void 0?u.addEventListener(h,m,{passive:E}):u.addEventListener(h,m,!1)}function vw(u,h,m,y,E){var S=y;if((h&1)===0&&(h&2)===0&&y!==null)e:for(;;){if(y===null)return;var B=y.tag;if(B===3||B===4){var j=y.stateNode.containerInfo;if(j===E)break;if(B===4)for(B=y.return;B!==null;){var se=B.tag;if((se===3||se===4)&&B.stateNode.containerInfo===E)return;B=B.return}for(;j!==null;){if(B=qe(j),B===null)return;if(se=B.tag,se===5||se===6||se===26||se===27){y=S=B;continue e}j=j.parentNode}}y=y.return}Ip(function(){var ge=S,Ne=Bt(m),Me=[];e:{var we=IT.get(u);if(we!==void 0){var ke=Hp,ft=u;switch(u){case"keypress":if(Pp(m)===0)break e;case"keydown":case"keyup":ke=uU;break;case"focusin":ft="focus",ke=$b;break;case"focusout":ft="blur",ke=$b;break;case"beforeblur":case"afterblur":ke=$b;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=fT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=JH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=dU;break;case MT:case RT:case BT:ke=tU;break;case LT:ke=mU;break;case"scroll":case"scrollend":ke=YH;break;case"wheel":ke=xU;break;case"copy":case"cut":case"paste":ke=rU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=dT;break;case"toggle":case"beforetoggle":ke=bU}var kt=(h&4)!==0,On=!kt&&(u==="scroll"||u==="scrollend"),ue=kt?we!==null?we+"Capture":null:we;kt=[];for(var le=ge,me;le!==null;){var De=le;if(me=De.stateNode,De=De.tag,De!==5&&De!==26&&De!==27||me===null||ue===null||(De=_h(le,ue),De!=null&&kt.push(ad(le,De,me))),On)break;le=le.return}0<kt.length&&(we=new ke(we,ft,null,m,Ne),Me.push({event:we,listeners:kt}))}}if((h&7)===0){e:{if(we=u==="mouseover"||u==="pointerover",ke=u==="mouseout"||u==="pointerout",we&&m!==pt&&(ft=m.relatedTarget||m.fromElement)&&(qe(ft)||ft[Z]))break e;if((ke||we)&&(we=Ne.window===Ne?Ne:(we=Ne.ownerDocument)?we.defaultView||we.parentWindow:window,ke?(ft=m.relatedTarget||m.toElement,ke=ge,ft=ft?qe(ft):null,ft!==null&&(On=s(ft),kt=ft.tag,ft!==On||kt!==5&&kt!==27&&kt!==6)&&(ft=null)):(ke=null,ft=ge),ke!==ft)){if(kt=fT,De="onMouseLeave",ue="onMouseEnter",le="mouse",(u==="pointerout"||u==="pointerover")&&(kt=dT,De="onPointerLeave",ue="onPointerEnter",le="pointer"),On=ke==null?we:je(ke),me=ft==null?we:je(ft),we=new kt(De,le+"leave",ke,m,Ne),we.target=On,we.relatedTarget=me,De=null,qe(Ne)===ge&&(kt=new kt(ue,le+"enter",ft,m,Ne),kt.target=me,kt.relatedTarget=On,De=kt),On=De,ke&&ft)t:{for(kt=yj,ue=ke,le=ft,me=0,De=ue;De;De=kt(De))me++;De=0;for(var yt=le;yt;yt=kt(yt))De++;for(;0<me-De;)ue=kt(ue),me--;for(;0<De-me;)le=kt(le),De--;for(;me--;){if(ue===le||le!==null&&ue===le.alternate){kt=ue;break t}ue=kt(ue),le=kt(le)}kt=null}else kt=null;ke!==null&&iD(Me,we,ke,kt,!1),ft!==null&&On!==null&&iD(Me,On,ft,kt,!0)}}e:{if(we=ge?je(ge):window,ke=we.nodeName&&we.nodeName.toLowerCase(),ke==="select"||ke==="input"&&we.type==="file")var an=wT;else if(bT(we))if(ET)an=NU;else{an=TU;var mt=AU}else ke=we.nodeName,!ke||ke.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?ge&&Qa(ge.elementType)&&(an=wT):an=_U;if(an&&(an=an(u,ge))){vT(Me,an,m,Ne);break e}mt&&mt(u,we,ge),u==="focusout"&&ge&&we.type==="number"&&ge.memoizedProps.value!=null&&Ou(we,"number",we.value)}switch(mt=ge?je(ge):window,u){case"focusin":(bT(mt)||mt.contentEditable==="true")&&(Bu=mt,Xb=ge,Ih=null);break;case"focusout":Ih=Xb=Bu=null;break;case"mousedown":Yb=!0;break;case"contextmenu":case"mouseup":case"dragend":Yb=!1,DT(Me,m,Ne);break;case"selectionchange":if(OU)break;case"keydown":case"keyup":DT(Me,m,Ne)}var Pt;if(qb)e:{switch(u){case"compositionstart":var Jt="onCompositionStart";break e;case"compositionend":Jt="onCompositionEnd";break e;case"compositionupdate":Jt="onCompositionUpdate";break e}Jt=void 0}else Ru?xT(u,m)&&(Jt="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(Jt="onCompositionStart");Jt&&(pT&&m.locale!=="ko"&&(Ru||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&Ru&&(Pt=cT()):(Za=Ne,Hb="value"in Za?Za.value:Za.textContent,Ru=!0)),mt=Dm(ge,Jt),0<mt.length&&(Jt=new hT(Jt,u,null,m,Ne),Me.push({event:Jt,listeners:mt}),Pt?Jt.data=Pt:(Pt=yT(m),Pt!==null&&(Jt.data=Pt)))),(Pt=wU?EU(u,m):SU(u,m))&&(Jt=Dm(ge,"onBeforeInput"),0<Jt.length&&(mt=new hT("onBeforeInput","beforeinput",null,m,Ne),Me.push({event:mt,listeners:Jt}),mt.data=Pt)),pj(Me,u,ge,m,Ne)}nD(Me,h)})}function ad(u,h,m){return{instance:u,listener:h,currentTarget:m}}function Dm(u,h){for(var m=h+"Capture",y=[];u!==null;){var E=u,S=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||S===null||(E=_h(u,m),E!=null&&y.unshift(ad(u,E,S)),E=_h(u,h),E!=null&&y.push(ad(u,E,S))),u.tag===3)return y;u=u.return}return[]}function yj(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function iD(u,h,m,y,E){for(var S=h._reactName,B=[];m!==null&&m!==y;){var j=m,se=j.alternate,ge=j.stateNode;if(j=j.tag,se!==null&&se===y)break;j!==5&&j!==26&&j!==27||ge===null||(se=ge,E?(ge=_h(m,S),ge!=null&&B.unshift(ad(m,ge,se))):E||(ge=_h(m,S),ge!=null&&B.push(ad(m,ge,se)))),m=m.return}B.length!==0&&u.push({event:h,listeners:B})}var bj=/\r\n?/g,vj=/\u0000|\uFFFD/g;function sD(u){return(typeof u=="string"?u:""+u).replace(bj,`
`).replace(vj,"")}function oD(u,h){return h=sD(h),sD(u)===h}function Dn(u,h,m,y,E,S){switch(m){case"children":typeof y=="string"?h==="body"||h==="textarea"&&y===""||At(u,y):(typeof y=="number"||typeof y=="bigint")&&h!=="body"&&At(u,""+y);break;case"className":ms(u,"class",y);break;case"tabIndex":ms(u,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":ms(u,m,y);break;case"style":wn(u,y,S);break;case"data":if(h!=="object"){ms(u,"data",y);break}case"src":case"href":if(y===""&&(h!=="a"||m!=="href")){u.removeAttribute(m);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){u.removeAttribute(m);break}y=Ja(""+y),u.setAttribute(m,y);break;case"action":case"formAction":if(typeof y=="function"){u.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(m==="formAction"?(h!=="input"&&Dn(u,h,"name",E.name,E,null),Dn(u,h,"formEncType",E.formEncType,E,null),Dn(u,h,"formMethod",E.formMethod,E,null),Dn(u,h,"formTarget",E.formTarget,E,null)):(Dn(u,h,"encType",E.encType,E,null),Dn(u,h,"method",E.method,E,null),Dn(u,h,"target",E.target,E,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){u.removeAttribute(m);break}y=Ja(""+y),u.setAttribute(m,y);break;case"onClick":y!=null&&(u.onclick=Qe);break;case"onScroll":y!=null&&Gt("scroll",u);break;case"onScrollEnd":y!=null&&Gt("scrollend",u);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(m=y.__html,m!=null){if(E.children!=null)throw Error(r(60));u.innerHTML=m}}break;case"multiple":u.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":u.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){u.removeAttribute("xlink:href");break}m=Ja(""+y),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?u.setAttribute(m,""+y):u.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?u.setAttribute(m,""):u.removeAttribute(m);break;case"capture":case"download":y===!0?u.setAttribute(m,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?u.setAttribute(m,y):u.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?u.setAttribute(m,y):u.removeAttribute(m);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?u.removeAttribute(m):u.setAttribute(m,y);break;case"popover":Gt("beforetoggle",u),Gt("toggle",u),Wn(u,"popover",y);break;case"xlinkActuate":Gi(u,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Gi(u,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Gi(u,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Gi(u,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Gi(u,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Gi(u,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Gi(u,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Gi(u,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Gi(u,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Wn(u,"is",y);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=aa.get(m)||m,Wn(u,m,y))}}function ww(u,h,m,y,E,S){switch(m){case"style":wn(u,y,S);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(m=y.__html,m!=null){if(E.children!=null)throw Error(r(60));u.innerHTML=m}}break;case"children":typeof y=="string"?At(u,y):(typeof y=="number"||typeof y=="bigint")&&At(u,""+y);break;case"onScroll":y!=null&&Gt("scroll",u);break;case"onScrollEnd":y!=null&&Gt("scrollend",u);break;case"onClick":y!=null&&(u.onclick=Qe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mn.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(E=m.endsWith("Capture"),h=m.slice(2,E?m.length-7:void 0),S=u[Q]||null,S=S!=null?S[m]:null,typeof S=="function"&&u.removeEventListener(h,S,E),typeof y=="function")){typeof S!="function"&&S!==null&&(m in u?u[m]=null:u.hasAttribute(m)&&u.removeAttribute(m)),u.addEventListener(h,y,E);break e}m in u?u[m]=y:y===!0?u.setAttribute(m,""):Wn(u,m,y)}}}function ai(u,h,m){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",u),Gt("load",u);var y=!1,E=!1,S;for(S in m)if(m.hasOwnProperty(S)){var B=m[S];if(B!=null)switch(S){case"src":y=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Dn(u,h,S,B,m,null)}}E&&Dn(u,h,"srcSet",m.srcSet,m,null),y&&Dn(u,h,"src",m.src,m,null);return;case"input":Gt("invalid",u);var j=S=B=E=null,se=null,ge=null;for(y in m)if(m.hasOwnProperty(y)){var Ne=m[y];if(Ne!=null)switch(y){case"name":E=Ne;break;case"type":B=Ne;break;case"checked":se=Ne;break;case"defaultChecked":ge=Ne;break;case"value":S=Ne;break;case"defaultValue":j=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(r(137,h));break;default:Dn(u,h,y,Ne,m,null)}}dc(u,S,j,se,ge,B,E,!1);return;case"select":Gt("invalid",u),y=B=S=null;for(E in m)if(m.hasOwnProperty(E)&&(j=m[E],j!=null))switch(E){case"value":S=j;break;case"defaultValue":B=j;break;case"multiple":y=j;default:Dn(u,h,E,j,m,null)}h=S,m=B,u.multiple=!!y,h!=null?ri(u,!!y,h,!1):m!=null&&ri(u,!!y,m,!0);return;case"textarea":Gt("invalid",u),S=E=y=null;for(B in m)if(m.hasOwnProperty(B)&&(j=m[B],j!=null))switch(B){case"value":y=j;break;case"defaultValue":E=j;break;case"children":S=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:Dn(u,h,B,j,m,null)}Mu(u,y,E,S);return;case"option":for(se in m)if(m.hasOwnProperty(se)&&(y=m[se],y!=null))switch(se){case"selected":u.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Dn(u,h,se,y,m,null)}return;case"dialog":Gt("beforetoggle",u),Gt("toggle",u),Gt("cancel",u),Gt("close",u);break;case"iframe":case"object":Gt("load",u);break;case"video":case"audio":for(y=0;y<od.length;y++)Gt(od[y],u);break;case"image":Gt("error",u),Gt("load",u);break;case"details":Gt("toggle",u);break;case"embed":case"source":case"link":Gt("error",u),Gt("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in m)if(m.hasOwnProperty(ge)&&(y=m[ge],y!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Dn(u,h,ge,y,m,null)}return;default:if(Qa(h)){for(Ne in m)m.hasOwnProperty(Ne)&&(y=m[Ne],y!==void 0&&ww(u,h,Ne,y,m,void 0));return}}for(j in m)m.hasOwnProperty(j)&&(y=m[j],y!=null&&Dn(u,h,j,y,m,null))}function wj(u,h,m,y){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,S=null,B=null,j=null,se=null,ge=null,Ne=null;for(ke in m){var Me=m[ke];if(m.hasOwnProperty(ke)&&Me!=null)switch(ke){case"checked":break;case"value":break;case"defaultValue":se=Me;default:y.hasOwnProperty(ke)||Dn(u,h,ke,null,y,Me)}}for(var we in y){var ke=y[we];if(Me=m[we],y.hasOwnProperty(we)&&(ke!=null||Me!=null))switch(we){case"type":S=ke;break;case"name":E=ke;break;case"checked":ge=ke;break;case"defaultChecked":Ne=ke;break;case"value":B=ke;break;case"defaultValue":j=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,h));break;default:ke!==Me&&Dn(u,h,we,ke,y,Me)}}kh(u,B,j,se,ge,Ne,S,E);return;case"select":ke=B=j=we=null;for(S in m)if(se=m[S],m.hasOwnProperty(S)&&se!=null)switch(S){case"value":break;case"multiple":ke=se;default:y.hasOwnProperty(S)||Dn(u,h,S,null,y,se)}for(E in y)if(S=y[E],se=m[E],y.hasOwnProperty(E)&&(S!=null||se!=null))switch(E){case"value":we=S;break;case"defaultValue":j=S;break;case"multiple":B=S;default:S!==se&&Dn(u,h,E,S,y,se)}h=j,m=B,y=ke,we!=null?ri(u,!!m,we,!1):!!y!=!!m&&(h!=null?ri(u,!!m,h,!0):ri(u,!!m,m?[]:"",!1));return;case"textarea":ke=we=null;for(j in m)if(E=m[j],m.hasOwnProperty(j)&&E!=null&&!y.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Dn(u,h,j,null,y,E)}for(B in y)if(E=y[B],S=m[B],y.hasOwnProperty(B)&&(E!=null||S!=null))switch(B){case"value":we=E;break;case"defaultValue":ke=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==S&&Dn(u,h,B,E,y,S)}Bp(u,we,ke);return;case"option":for(var ft in m)if(we=m[ft],m.hasOwnProperty(ft)&&we!=null&&!y.hasOwnProperty(ft))switch(ft){case"selected":u.selected=!1;break;default:Dn(u,h,ft,null,y,we)}for(se in y)if(we=y[se],ke=m[se],y.hasOwnProperty(se)&&we!==ke&&(we!=null||ke!=null))switch(se){case"selected":u.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:Dn(u,h,se,we,y,ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in m)we=m[kt],m.hasOwnProperty(kt)&&we!=null&&!y.hasOwnProperty(kt)&&Dn(u,h,kt,null,y,we);for(ge in y)if(we=y[ge],ke=m[ge],y.hasOwnProperty(ge)&&we!==ke&&(we!=null||ke!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,h));break;default:Dn(u,h,ge,we,y,ke)}return;default:if(Qa(h)){for(var On in m)we=m[On],m.hasOwnProperty(On)&&we!==void 0&&!y.hasOwnProperty(On)&&ww(u,h,On,void 0,y,we);for(Ne in y)we=y[Ne],ke=m[Ne],!y.hasOwnProperty(Ne)||we===ke||we===void 0&&ke===void 0||ww(u,h,Ne,we,y,ke);return}}for(var ue in m)we=m[ue],m.hasOwnProperty(ue)&&we!=null&&!y.hasOwnProperty(ue)&&Dn(u,h,ue,null,y,we);for(Me in y)we=y[Me],ke=m[Me],!y.hasOwnProperty(Me)||we===ke||we==null&&ke==null||Dn(u,h,Me,we,y,ke)}function aD(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ej(){if(typeof performance.getEntriesByType=="function"){for(var u=0,h=0,m=performance.getEntriesByType("resource"),y=0;y<m.length;y++){var E=m[y],S=E.transferSize,B=E.initiatorType,j=E.duration;if(S&&j&&aD(B)){for(B=0,j=E.responseEnd,y+=1;y<m.length;y++){var se=m[y],ge=se.startTime;if(ge>j)break;var Ne=se.transferSize,Me=se.initiatorType;Ne&&aD(Me)&&(se=se.responseEnd,B+=Ne*(se<j?1:(j-ge)/(se-ge)))}if(--y,h+=8*(S+B)/(E.duration/1e3),u++,10<u)break}}if(0<u)return h/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var Ew=null,Sw=null;function Om(u){return u.nodeType===9?u:u.ownerDocument}function lD(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cD(u,h){if(u===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&h==="foreignObject"?0:u}function Cw(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var kw=null;function Sj(){var u=window.event;return u&&u.type==="popstate"?u===kw?!1:(kw=u,!0):(kw=null,!1)}var uD=typeof setTimeout=="function"?setTimeout:void 0,Cj=typeof clearTimeout=="function"?clearTimeout:void 0,fD=typeof Promise=="function"?Promise:void 0,kj=typeof queueMicrotask=="function"?queueMicrotask:typeof fD<"u"?function(u){return fD.resolve(null).then(u).catch(Aj)}:uD;function Aj(u){setTimeout(function(){throw u})}function gl(u){return u==="head"}function hD(u,h){var m=h,y=0;do{var E=m.nextSibling;if(u.removeChild(m),E&&E.nodeType===8)if(m=E.data,m==="/$"||m==="/&"){if(y===0){u.removeChild(E),lf(h);return}y--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")y++;else if(m==="html")ld(u.ownerDocument.documentElement);else if(m==="head"){m=u.ownerDocument.head,ld(m);for(var S=m.firstChild;S;){var B=S.nextSibling,j=S.nodeName;S[be]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&S.rel.toLowerCase()==="stylesheet"||m.removeChild(S),S=B}}else m==="body"&&ld(u.ownerDocument.body);m=E}while(m);lf(h)}function dD(u,h){var m=u;u=0;do{var y=m.nextSibling;if(m.nodeType===1?h?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(h?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),y&&y.nodeType===8)if(m=y.data,m==="/$"){if(u===0)break;u--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||u++;m=y}while(m)}function Aw(u){var h=u.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var m=h;switch(h=h.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Aw(m),Ue(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}u.removeChild(m)}}function Tj(u,h,m,y){for(;u.nodeType===1;){var E=m;if(u.nodeName.toLowerCase()!==h.toLowerCase()){if(!y&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(y){if(!u[be])switch(h){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(S=u.getAttribute("rel"),S==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(S!==E.rel||u.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||u.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||u.getAttribute("title")!==(E.title==null?null:E.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(S=u.getAttribute("src"),(S!==(E.src==null?null:E.src)||u.getAttribute("type")!==(E.type==null?null:E.type)||u.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&S&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(h==="input"&&u.type==="hidden"){var S=E.name==null?null:""+E.name;if(E.type==="hidden"&&u.getAttribute("name")===S)return u}else return u;if(u=qs(u.nextSibling),u===null)break}return null}function _j(u,h,m){if(h==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!m||(u=qs(u.nextSibling),u===null))return null;return u}function pD(u,h){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!h||(u=qs(u.nextSibling),u===null))return null;return u}function Tw(u){return u.data==="$?"||u.data==="$~"}function _w(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function Nj(u,h){var m=u.ownerDocument;if(u.data==="$~")u._reactRetry=h;else if(u.data!=="$?"||m.readyState!=="loading")h();else{var y=function(){h(),m.removeEventListener("DOMContentLoaded",y)};m.addEventListener("DOMContentLoaded",y),u._reactRetry=y}}function qs(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return u}var Nw=null;function mD(u){u=u.nextSibling;for(var h=0;u;){if(u.nodeType===8){var m=u.data;if(m==="/$"||m==="/&"){if(h===0)return qs(u.nextSibling);h--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||h++}u=u.nextSibling}return null}function gD(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(h===0)return u;h--}else m!=="/$"&&m!=="/&"||h++}u=u.previousSibling}return null}function xD(u,h,m){switch(h=Om(m),u){case"html":if(u=h.documentElement,!u)throw Error(r(452));return u;case"head":if(u=h.head,!u)throw Error(r(453));return u;case"body":if(u=h.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}function ld(u){for(var h=u.attributes;h.length;)u.removeAttributeNode(h[0]);Ue(u)}var Ws=new Map,yD=new Set;function Mm(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Sa=ae.d;ae.d={f:Dj,r:Oj,D:Mj,C:Rj,L:Bj,m:Lj,X:Fj,S:Ij,M:Pj};function Dj(){var u=Sa.f(),h=Sm();return u||h}function Oj(u){var h=rt(u);h!==null&&h.tag===5&&h.type==="form"?L_(h):Sa.r(u)}var sf=typeof document>"u"?null:document;function bD(u,h,m){var y=sf;if(y&&typeof h=="string"&&h){var E=Ki(h);E='link[rel="'+u+'"][href="'+E+'"]',typeof m=="string"&&(E+='[crossorigin="'+m+'"]'),yD.has(E)||(yD.add(E),u={rel:u,crossOrigin:m,href:h},y.querySelector(E)===null&&(h=y.createElement("link"),ai(h,"link",u),ht(h),y.head.appendChild(h)))}}function Mj(u){Sa.D(u),bD("dns-prefetch",u,null)}function Rj(u,h){Sa.C(u,h),bD("preconnect",u,h)}function Bj(u,h,m){Sa.L(u,h,m);var y=sf;if(y&&u&&h){var E='link[rel="preload"][as="'+Ki(h)+'"]';h==="image"&&m&&m.imageSrcSet?(E+='[imagesrcset="'+Ki(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(E+='[imagesizes="'+Ki(m.imageSizes)+'"]')):E+='[href="'+Ki(u)+'"]';var S=E;switch(h){case"style":S=of(u);break;case"script":S=af(u)}Ws.has(S)||(u=d({rel:"preload",href:h==="image"&&m&&m.imageSrcSet?void 0:u,as:h},m),Ws.set(S,u),y.querySelector(E)!==null||h==="style"&&y.querySelector(cd(S))||h==="script"&&y.querySelector(ud(S))||(h=y.createElement("link"),ai(h,"link",u),ht(h),y.head.appendChild(h)))}}function Lj(u,h){Sa.m(u,h);var m=sf;if(m&&u){var y=h&&typeof h.as=="string"?h.as:"script",E='link[rel="modulepreload"][as="'+Ki(y)+'"][href="'+Ki(u)+'"]',S=E;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=af(u)}if(!Ws.has(S)&&(u=d({rel:"modulepreload",href:u},h),Ws.set(S,u),m.querySelector(E)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(ud(S)))return}y=m.createElement("link"),ai(y,"link",u),ht(y),m.head.appendChild(y)}}}function Ij(u,h,m){Sa.S(u,h,m);var y=sf;if(y&&u){var E=Ze(y).hoistableStyles,S=of(u);h=h||"default";var B=E.get(S);if(!B){var j={loading:0,preload:null};if(B=y.querySelector(cd(S)))j.loading=5;else{u=d({rel:"stylesheet",href:u,"data-precedence":h},m),(m=Ws.get(S))&&Dw(u,m);var se=B=y.createElement("link");ht(se),ai(se,"link",u),se._p=new Promise(function(ge,Ne){se.onload=ge,se.onerror=Ne}),se.addEventListener("load",function(){j.loading|=1}),se.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Rm(B,h,y)}B={type:"stylesheet",instance:B,count:1,state:j},E.set(S,B)}}}function Fj(u,h){Sa.X(u,h);var m=sf;if(m&&u){var y=Ze(m).hoistableScripts,E=af(u),S=y.get(E);S||(S=m.querySelector(ud(E)),S||(u=d({src:u,async:!0},h),(h=Ws.get(E))&&Ow(u,h),S=m.createElement("script"),ht(S),ai(S,"link",u),m.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},y.set(E,S))}}function Pj(u,h){Sa.M(u,h);var m=sf;if(m&&u){var y=Ze(m).hoistableScripts,E=af(u),S=y.get(E);S||(S=m.querySelector(ud(E)),S||(u=d({src:u,async:!0,type:"module"},h),(h=Ws.get(E))&&Ow(u,h),S=m.createElement("script"),ht(S),ai(S,"link",u),m.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},y.set(E,S))}}function vD(u,h,m,y){var E=(E=re.current)?Mm(E):null;if(!E)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(h=of(m.href),m=Ze(E).hoistableStyles,y=m.get(h),y||(y={type:"style",instance:null,count:0,state:null},m.set(h,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){u=of(m.href);var S=Ze(E).hoistableStyles,B=S.get(u);if(B||(E=E.ownerDocument||E,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(u,B),(S=E.querySelector(cd(u)))&&!S._p&&(B.instance=S,B.state.loading=5),Ws.has(u)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Ws.set(u,m),S||zj(E,u,m,B.state))),h&&y===null)throw Error(r(528,""));return B}if(h&&y!==null)throw Error(r(529,""));return null;case"script":return h=m.async,m=m.src,typeof m=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=af(m),m=Ze(E).hoistableScripts,y=m.get(h),y||(y={type:"script",instance:null,count:0,state:null},m.set(h,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function of(u){return'href="'+Ki(u)+'"'}function cd(u){return'link[rel="stylesheet"]['+u+"]"}function wD(u){return d({},u,{"data-precedence":u.precedence,precedence:null})}function zj(u,h,m,y){u.querySelector('link[rel="preload"][as="style"]['+h+"]")?y.loading=1:(h=u.createElement("link"),y.preload=h,h.addEventListener("load",function(){return y.loading|=1}),h.addEventListener("error",function(){return y.loading|=2}),ai(h,"link",m),ht(h),u.head.appendChild(h))}function af(u){return'[src="'+Ki(u)+'"]'}function ud(u){return"script[async]"+u}function ED(u,h,m){if(h.count++,h.instance===null)switch(h.type){case"style":var y=u.querySelector('style[data-href~="'+Ki(m.href)+'"]');if(y)return h.instance=y,ht(y),y;var E=d({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return y=(u.ownerDocument||u).createElement("style"),ht(y),ai(y,"style",E),Rm(y,m.precedence,u),h.instance=y;case"stylesheet":E=of(m.href);var S=u.querySelector(cd(E));if(S)return h.state.loading|=4,h.instance=S,ht(S),S;y=wD(m),(E=Ws.get(E))&&Dw(y,E),S=(u.ownerDocument||u).createElement("link"),ht(S);var B=S;return B._p=new Promise(function(j,se){B.onload=j,B.onerror=se}),ai(S,"link",y),h.state.loading|=4,Rm(S,m.precedence,u),h.instance=S;case"script":return S=af(m.src),(E=u.querySelector(ud(S)))?(h.instance=E,ht(E),E):(y=m,(E=Ws.get(S))&&(y=d({},m),Ow(y,E)),u=u.ownerDocument||u,E=u.createElement("script"),ht(E),ai(E,"link",y),u.head.appendChild(E),h.instance=E);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(y=h.instance,h.state.loading|=4,Rm(y,m.precedence,u));return h.instance}function Rm(u,h,m){for(var y=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=y.length?y[y.length-1]:null,S=E,B=0;B<y.length;B++){var j=y[B];if(j.dataset.precedence===h)S=j;else if(S!==E)break}S?S.parentNode.insertBefore(u,S.nextSibling):(h=m.nodeType===9?m.head:m,h.insertBefore(u,h.firstChild))}function Dw(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.title==null&&(u.title=h.title)}function Ow(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.integrity==null&&(u.integrity=h.integrity)}var Bm=null;function SD(u,h,m){if(Bm===null){var y=new Map,E=Bm=new Map;E.set(m,y)}else E=Bm,y=E.get(m),y||(y=new Map,E.set(m,y));if(y.has(u))return y;for(y.set(u,null),m=m.getElementsByTagName(u),E=0;E<m.length;E++){var S=m[E];if(!(S[be]||S[K]||u==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var B=S.getAttribute(h)||"";B=u+B;var j=y.get(B);j?j.push(S):y.set(B,[S])}}return y}function CD(u,h,m){u=u.ownerDocument||u,u.head.insertBefore(m,h==="title"?u.querySelector("head > title"):null)}function Hj(u,h,m){if(m===1||h.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return u=h.disabled,typeof h.precedence=="string"&&u==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function kD(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function Uj(u,h,m,y){if(m.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var E=of(y.href),S=h.querySelector(cd(E));if(S){h=S._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(u.count++,u=Lm.bind(u),h.then(u,u)),m.state.loading|=4,m.instance=S,ht(S);return}S=h.ownerDocument||h,y=wD(y),(E=Ws.get(E))&&Dw(y,E),S=S.createElement("link"),ht(S);var B=S;B._p=new Promise(function(j,se){B.onload=j,B.onerror=se}),ai(S,"link",y),m.instance=S}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(m,h),(h=m.state.preload)&&(m.state.loading&3)===0&&(u.count++,m=Lm.bind(u),h.addEventListener("load",m),h.addEventListener("error",m))}}var Mw=0;function jj(u,h){return u.stylesheets&&u.count===0&&Fm(u,u.stylesheets),0<u.count||0<u.imgCount?function(m){var y=setTimeout(function(){if(u.stylesheets&&Fm(u,u.stylesheets),u.unsuspend){var S=u.unsuspend;u.unsuspend=null,S()}},6e4+h);0<u.imgBytes&&Mw===0&&(Mw=62500*Ej());var E=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&Fm(u,u.stylesheets),u.unsuspend)){var S=u.unsuspend;u.unsuspend=null,S()}},(u.imgBytes>Mw?50:800)+h);return u.unsuspend=m,function(){u.unsuspend=null,clearTimeout(y),clearTimeout(E)}}:null}function Lm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fm(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Im=null;function Fm(u,h){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Im=new Map,h.forEach($j,u),Im=null,Lm.call(u))}function $j(u,h){if(!(h.state.loading&4)){var m=Im.get(u);if(m)var y=m.get(null);else{m=new Map,Im.set(u,m);for(var E=u.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<E.length;S++){var B=E[S];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(m.set(B.dataset.precedence,B),y=B)}y&&m.set(null,y)}E=h.instance,B=E.getAttribute("data-precedence"),S=m.get(B)||y,S===y&&m.set(null,E),m.set(B,E),this.count++,y=Lm.bind(this),E.addEventListener("load",y),E.addEventListener("error",y),S?S.parentNode.insertBefore(E,S.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(E,u.firstChild)),h.state.loading|=4}}var fd={$$typeof:A,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Vj(u,h,m,y,E,S,B,j,se){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Je(0),this.hiddenUpdates=Je(null),this.identifierPrefix=y,this.onUncaughtError=E,this.onCaughtError=S,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function AD(u,h,m,y,E,S,B,j,se,ge,Ne,Me){return u=new Vj(u,h,m,B,se,ge,Ne,Me,j),h=1,S===!0&&(h|=24),S=ys(3,null,null,h),u.current=S,S.stateNode=u,h=fv(),h.refCount++,u.pooledCache=h,h.refCount++,S.memoizedState={element:y,isDehydrated:m,cache:h},mv(S),u}function TD(u){return u?(u=Fu,u):Fu}function _D(u,h,m,y,E,S){E=TD(E),y.context===null?y.context=E:y.pendingContext=E,y=sl(h),y.payload={element:m},S=S===void 0?null:S,S!==null&&(y.callback=S),m=ol(u,y,h),m!==null&&(es(m,u,h),$h(m,u,h))}function ND(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<h?m:h}}function Rw(u,h){ND(u,h),(u=u.alternate)&&ND(u,h)}function DD(u){if(u.tag===13||u.tag===31){var h=xc(u,67108864);h!==null&&es(h,u,67108864),Rw(u,67108864)}}function OD(u){if(u.tag===13||u.tag===31){var h=Ss();h=Lt(h);var m=xc(u,h);m!==null&&es(m,u,h),Rw(u,h)}}var Pm=!0;function qj(u,h,m,y){var E=J.T;J.T=null;var S=ae.p;try{ae.p=2,Bw(u,h,m,y)}finally{ae.p=S,J.T=E}}function Wj(u,h,m,y){var E=J.T;J.T=null;var S=ae.p;try{ae.p=8,Bw(u,h,m,y)}finally{ae.p=S,J.T=E}}function Bw(u,h,m,y){if(Pm){var E=Lw(y);if(E===null)vw(u,h,y,zm,m),RD(u,y);else if(Kj(E,u,h,m,y))y.stopPropagation();else if(RD(u,y),h&4&&-1<Gj.indexOf(u)){for(;E!==null;){var S=rt(E);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var B=Vt(S.pendingLanes);if(B!==0){var j=S;for(j.pendingLanes|=2,j.entangledLanes|=2;B;){var se=1<<31-jt(B);j.entanglements[1]|=se,B&=~se}Fo(S),(gn&6)===0&&(wm=Nt()+500,sd(0))}}break;case 31:case 13:j=xc(S,2),j!==null&&es(j,S,2),Sm(),Rw(S,2)}if(S=Lw(y),S===null&&vw(u,h,y,zm,m),S===E)break;E=S}E!==null&&y.stopPropagation()}else vw(u,h,y,null,m)}}function Lw(u){return u=Bt(u),Iw(u)}var zm=null;function Iw(u){if(zm=null,u=qe(u),u!==null){var h=s(u);if(h===null)u=null;else{var m=h.tag;if(m===13){if(u=o(h),u!==null)return u;u=null}else if(m===31){if(u=a(h),u!==null)return u;u=null}else if(m===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null)}}return zm=u,null}function MD(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ur()){case Ce:return 2;case ze:return 8;case at:case St:return 32;case Rt:return 268435456;default:return 32}default:return 32}}var Fw=!1,xl=null,yl=null,bl=null,hd=new Map,dd=new Map,vl=[],Gj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RD(u,h){switch(u){case"focusin":case"focusout":xl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":bl=null;break;case"pointerover":case"pointerout":hd.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":dd.delete(h.pointerId)}}function pd(u,h,m,y,E,S){return u===null||u.nativeEvent!==S?(u={blockedOn:h,domEventName:m,eventSystemFlags:y,nativeEvent:S,targetContainers:[E]},h!==null&&(h=rt(h),h!==null&&DD(h)),u):(u.eventSystemFlags|=y,h=u.targetContainers,E!==null&&h.indexOf(E)===-1&&h.push(E),u)}function Kj(u,h,m,y,E){switch(h){case"focusin":return xl=pd(xl,u,h,m,y,E),!0;case"dragenter":return yl=pd(yl,u,h,m,y,E),!0;case"mouseover":return bl=pd(bl,u,h,m,y,E),!0;case"pointerover":var S=E.pointerId;return hd.set(S,pd(hd.get(S)||null,u,h,m,y,E)),!0;case"gotpointercapture":return S=E.pointerId,dd.set(S,pd(dd.get(S)||null,u,h,m,y,E)),!0}return!1}function BD(u){var h=qe(u.target);if(h!==null){var m=s(h);if(m!==null){if(h=m.tag,h===13){if(h=o(m),h!==null){u.blockedOn=h,Y(u.priority,function(){OD(m)});return}}else if(h===31){if(h=a(m),h!==null){u.blockedOn=h,Y(u.priority,function(){OD(m)});return}}else if(h===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Hm(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var m=Lw(u.nativeEvent);if(m===null){m=u.nativeEvent;var y=new m.constructor(m.type,m);pt=y,m.target.dispatchEvent(y),pt=null}else return h=rt(m),h!==null&&DD(h),u.blockedOn=m,!1;h.shift()}return!0}function LD(u,h,m){Hm(u)&&m.delete(h)}function Xj(){Fw=!1,xl!==null&&Hm(xl)&&(xl=null),yl!==null&&Hm(yl)&&(yl=null),bl!==null&&Hm(bl)&&(bl=null),hd.forEach(LD),dd.forEach(LD)}function Um(u,h){u.blockedOn===h&&(u.blockedOn=null,Fw||(Fw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Xj)))}var jm=null;function ID(u){jm!==u&&(jm=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jm===u&&(jm=null);for(var h=0;h<u.length;h+=3){var m=u[h],y=u[h+1],E=u[h+2];if(typeof y!="function"){if(Iw(y||m)===null)continue;break}var S=rt(m);S!==null&&(u.splice(h,3),h-=3,Lv(S,{pending:!0,data:E,method:m.method,action:y},y,E))}}))}function lf(u){function h(se){return Um(se,u)}xl!==null&&Um(xl,u),yl!==null&&Um(yl,u),bl!==null&&Um(bl,u),hd.forEach(h),dd.forEach(h);for(var m=0;m<vl.length;m++){var y=vl[m];y.blockedOn===u&&(y.blockedOn=null)}for(;0<vl.length&&(m=vl[0],m.blockedOn===null);)BD(m),m.blockedOn===null&&vl.shift();if(m=(u.ownerDocument||u).$$reactFormReplay,m!=null)for(y=0;y<m.length;y+=3){var E=m[y],S=m[y+1],B=E[Q]||null;if(typeof S=="function")B||ID(m);else if(B){var j=null;if(S&&S.hasAttribute("formAction")){if(E=S,B=S[Q]||null)j=B.formAction;else if(Iw(E)!==null)continue}else j=B.action;typeof j=="function"?m[y+1]=j:(m.splice(y,3),y-=3),ID(m)}}}function FD(){function u(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(B){return E=B})},focusReset:"manual",scroll:"manual"})}function h(){E!==null&&(E(),E=null),y||setTimeout(m,20)}function m(){if(!y&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,E=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(m,100),function(){y=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),E!==null&&(E(),E=null)}}}function Pw(u){this._internalRoot=u}$m.prototype.render=Pw.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(r(409));var m=h.current,y=Ss();_D(m,y,u,h,null,null)},$m.prototype.unmount=Pw.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;_D(u.current,2,null,u,null,null),Sm(),h[Z]=null}};function $m(u){this._internalRoot=u}$m.prototype.unstable_scheduleHydration=function(u){if(u){var h=H();u={blockedOn:null,target:u,priority:h};for(var m=0;m<vl.length&&h!==0&&h<vl[m].priority;m++);vl.splice(m,0,u),m===0&&BD(u)}};var PD=e.version;if(PD!=="19.2.0")throw Error(r(527,PD,"19.2.0"));ae.findDOMNode=function(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=c(h),u=u!==null?f(u):null,u=u===null?null:u.stateNode,u};var Yj={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vm.isDisabled&&Vm.supportsFiber)try{$n=Vm.inject(Yj),hn=Vm}catch{}}return gd.createRoot=function(u,h){if(!i(u))throw Error(r(299));var m=!1,y="",E=q_,S=W_,B=G_;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(S=h.onCaughtError),h.onRecoverableError!==void 0&&(B=h.onRecoverableError)),h=AD(u,1,!1,null,null,m,y,null,E,S,B,FD),u[Z]=h.current,bw(u),new Pw(h)},gd.hydrateRoot=function(u,h,m){if(!i(u))throw Error(r(299));var y=!1,E="",S=q_,B=W_,j=G_,se=null;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onUncaughtError!==void 0&&(S=m.onUncaughtError),m.onCaughtError!==void 0&&(B=m.onCaughtError),m.onRecoverableError!==void 0&&(j=m.onRecoverableError),m.formState!==void 0&&(se=m.formState)),h=AD(u,1,!0,h,m??null,y,E,se,S,B,j,FD),h.context=TD(null),m=h.current,y=Ss(),y=Lt(y),E=sl(y),E.callback=null,ol(m,E,y),m=y,h.current.lanes=m,Ke(h,m),Fo(h),u[Z]=h.current,bw(u),new $m(h)},gd.version="19.2.0",gd}var KD;function o$(){if(KD)return Uw.exports;KD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Uw.exports=s$(),Uw.exports}var a$=o$();const l$=""+new URL("hap_full_logo-Dpsngzvu.jpg",import.meta.url).href;var Jg={exports:{}};function c$(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zg={exports:{}};const u$={},f$=Object.freeze(Object.defineProperty({__proto__:null,default:u$},Symbol.toStringTag,{value:"Module"})),h$=Jj(f$);var d$=Zg.exports,XD;function tn(){return XD||(XD=1,(function(t,e){(function(n,r){t.exports=r()})(d$,function(){var n=n||(function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Uc<"u"&&Uc.crypto&&(s=Uc.crypto),!s&&typeof c$=="function")try{s=h$}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||(function(){function k(){}return function(A){var T;return k.prototype=A,T=new k,k.prototype=null,T}})(),l={},c=l.lib={},f=c.Base=(function(){return{extend:function(k){var A=a(this);return k&&A.mixIn(k),(!A.hasOwnProperty("init")||this.init===A.init)&&(A.init=function(){A.$super.init.apply(this,arguments)}),A.init.prototype=A,A.$super=this,A},create:function(){var k=this.extend();return k.init.apply(k,arguments),k},init:function(){},mixIn:function(k){for(var A in k)k.hasOwnProperty(A)&&(this[A]=k[A]);k.hasOwnProperty("toString")&&(this.toString=k.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),d=c.WordArray=f.extend({init:function(k,A){k=this.words=k||[],A!=i?this.sigBytes=A:this.sigBytes=k.length*4},toString:function(k){return(k||g).stringify(this)},concat:function(k){var A=this.words,T=k.words,O=this.sigBytes,_=k.sigBytes;if(this.clamp(),O%4)for(var N=0;N<_;N++){var F=T[N>>>2]>>>24-N%4*8&255;A[O+N>>>2]|=F<<24-(O+N)%4*8}else for(var L=0;L<_;L+=4)A[O+L>>>2]=T[L>>>2];return this.sigBytes+=_,this},clamp:function(){var k=this.words,A=this.sigBytes;k[A>>>2]&=4294967295<<32-A%4*8,k.length=r.ceil(A/4)},clone:function(){var k=f.clone.call(this);return k.words=this.words.slice(0),k},random:function(k){for(var A=[],T=0;T<k;T+=4)A.push(o());return new d.init(A,k)}}),p=l.enc={},g=p.Hex={stringify:function(k){for(var A=k.words,T=k.sigBytes,O=[],_=0;_<T;_++){var N=A[_>>>2]>>>24-_%4*8&255;O.push((N>>>4).toString(16)),O.push((N&15).toString(16))}return O.join("")},parse:function(k){for(var A=k.length,T=[],O=0;O<A;O+=2)T[O>>>3]|=parseInt(k.substr(O,2),16)<<24-O%8*4;return new d.init(T,A/2)}},x=p.Latin1={stringify:function(k){for(var A=k.words,T=k.sigBytes,O=[],_=0;_<T;_++){var N=A[_>>>2]>>>24-_%4*8&255;O.push(String.fromCharCode(N))}return O.join("")},parse:function(k){for(var A=k.length,T=[],O=0;O<A;O++)T[O>>>2]|=(k.charCodeAt(O)&255)<<24-O%4*8;return new d.init(T,A)}},b=p.Utf8={stringify:function(k){try{return decodeURIComponent(escape(x.stringify(k)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(k){return x.parse(unescape(encodeURIComponent(k)))}},v=c.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(k){typeof k=="string"&&(k=b.parse(k)),this._data.concat(k),this._nDataBytes+=k.sigBytes},_process:function(k){var A,T=this._data,O=T.words,_=T.sigBytes,N=this.blockSize,F=N*4,L=_/F;k?L=r.ceil(L):L=r.max((L|0)-this._minBufferSize,0);var R=L*N,P=r.min(R*4,_);if(R){for(var z=0;z<R;z+=N)this._doProcessBlock(O,z);A=O.splice(0,R),T.sigBytes-=P}return new d.init(A,P)},clone:function(){var k=f.clone.call(this);return k._data=this._data.clone(),k},_minBufferSize:0});c.Hasher=v.extend({cfg:f.extend(),init:function(k){this.cfg=this.cfg.extend(k),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(k){return this._append(k),this._process(),this},finalize:function(k){k&&this._append(k);var A=this._doFinalize();return A},blockSize:16,_createHelper:function(k){return function(A,T){return new k.init(T).finalize(A)}},_createHmacHelper:function(k){return function(A,T){return new w.HMAC.init(k,T).finalize(A)}}});var w=l.algo={};return l})(Math);return n})})(Zg)),Zg.exports}var ex={exports:{}},p$=ex.exports,YD;function Uy(){return YD||(YD=1,(function(t,e){(function(n,r){t.exports=r(tn())})(p$,function(n){return(function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,l=i.x64={};l.Word=o.extend({init:function(c,f){this.high=c,this.low=f}}),l.WordArray=o.extend({init:function(c,f){c=this.words=c||[],f!=r?this.sigBytes=f:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,f=c.length,d=[],p=0;p<f;p++){var g=c[p];d.push(g.high),d.push(g.low)}return a.create(d,this.sigBytes)},clone:function(){for(var c=o.clone.call(this),f=c.words=this.words.slice(0),d=f.length,p=0;p<d;p++)f[p]=f[p].clone();return c}})})(),n})})(ex)),ex.exports}var tx={exports:{}},m$=tx.exports,QD;function g$(){return QD||(QD=1,(function(t,e){(function(n,r){t.exports=r(tn())})(m$,function(n){return(function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,s=i.WordArray,o=s.init,a=s.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,f=[],d=0;d<c;d++)f[d>>>2]|=l[d]<<24-d%4*8;o.call(this,f,c)}else o.apply(this,arguments)};a.prototype=s}})(),n.lib.WordArray})})(tx)),tx.exports}var nx={exports:{}},x$=nx.exports,JD;function y$(){return JD||(JD=1,(function(t,e){(function(n,r){t.exports=r(tn())})(x$,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var c=l.words,f=l.sigBytes,d=[],p=0;p<f;p+=2){var g=c[p>>>2]>>>16-p%4*8&65535;d.push(String.fromCharCode(g))}return d.join("")},parse:function(l){for(var c=l.length,f=[],d=0;d<c;d++)f[d>>>1]|=l.charCodeAt(d)<<16-d%2*16;return s.create(f,c*2)}},o.Utf16LE={stringify:function(l){for(var c=l.words,f=l.sigBytes,d=[],p=0;p<f;p+=2){var g=a(c[p>>>2]>>>16-p%4*8&65535);d.push(String.fromCharCode(g))}return d.join("")},parse:function(l){for(var c=l.length,f=[],d=0;d<c;d++)f[d>>>1]|=a(l.charCodeAt(d)<<16-d%2*16);return s.create(f,c*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}})(),n.enc.Utf16})})(nx)),nx.exports}var rx={exports:{}},b$=rx.exports,ZD;function yu(){return ZD||(ZD=1,(function(t,e){(function(n,r){t.exports=r(tn())})(b$,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64={stringify:function(l){var c=l.words,f=l.sigBytes,d=this._map;l.clamp();for(var p=[],g=0;g<f;g+=3)for(var x=c[g>>>2]>>>24-g%4*8&255,b=c[g+1>>>2]>>>24-(g+1)%4*8&255,v=c[g+2>>>2]>>>24-(g+2)%4*8&255,w=x<<16|b<<8|v,k=0;k<4&&g+k*.75<f;k++)p.push(d.charAt(w>>>6*(3-k)&63));var A=d.charAt(64);if(A)for(;p.length%4;)p.push(A);return p.join("")},parse:function(l){var c=l.length,f=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var p=0;p<f.length;p++)d[f.charCodeAt(p)]=p}var g=f.charAt(64);if(g){var x=l.indexOf(g);x!==-1&&(c=x)}return a(l,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,f){for(var d=[],p=0,g=0;g<c;g++)if(g%4){var x=f[l.charCodeAt(g-1)]<<g%4*2,b=f[l.charCodeAt(g)]>>>6-g%4*2,v=x|b;d[p>>>2]|=v<<24-p%4*8,p++}return s.create(d,p)}})(),n.enc.Base64})})(rx)),rx.exports}var ix={exports:{}},v$=ix.exports,e4;function w$(){return e4||(e4=1,(function(t,e){(function(n,r){t.exports=r(tn())})(v$,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64url={stringify:function(l,c){c===void 0&&(c=!0);var f=l.words,d=l.sigBytes,p=c?this._safe_map:this._map;l.clamp();for(var g=[],x=0;x<d;x+=3)for(var b=f[x>>>2]>>>24-x%4*8&255,v=f[x+1>>>2]>>>24-(x+1)%4*8&255,w=f[x+2>>>2]>>>24-(x+2)%4*8&255,k=b<<16|v<<8|w,A=0;A<4&&x+A*.75<d;A++)g.push(p.charAt(k>>>6*(3-A)&63));var T=p.charAt(64);if(T)for(;g.length%4;)g.push(T);return g.join("")},parse:function(l,c){c===void 0&&(c=!0);var f=l.length,d=c?this._safe_map:this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var g=0;g<d.length;g++)p[d.charCodeAt(g)]=g}var x=d.charAt(64);if(x){var b=l.indexOf(x);b!==-1&&(f=b)}return a(l,f,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,f){for(var d=[],p=0,g=0;g<c;g++)if(g%4){var x=f[l.charCodeAt(g-1)]<<g%4*2,b=f[l.charCodeAt(g)]>>>6-g%4*2,v=x|b;d[p>>>2]|=v<<24-p%4*8,p++}return s.create(d,p)}})(),n.enc.Base64url})})(ix)),ix.exports}var sx={exports:{}},E$=sx.exports,t4;function bu(){return t4||(t4=1,(function(t,e){(function(n,r){t.exports=r(tn())})(E$,function(n){return(function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=[];(function(){for(var b=0;b<64;b++)c[b]=r.abs(r.sin(b+1))*4294967296|0})();var f=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(b,v){for(var w=0;w<16;w++){var k=v+w,A=b[k];b[k]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}var T=this._hash.words,O=b[v+0],_=b[v+1],N=b[v+2],F=b[v+3],L=b[v+4],R=b[v+5],P=b[v+6],z=b[v+7],W=b[v+8],ee=b[v+9],te=b[v+10],J=b[v+11],ae=b[v+12],ce=b[v+13],ve=b[v+14],q=b[v+15],U=T[0],M=T[1],D=T[2],I=T[3];U=d(U,M,D,I,O,7,c[0]),I=d(I,U,M,D,_,12,c[1]),D=d(D,I,U,M,N,17,c[2]),M=d(M,D,I,U,F,22,c[3]),U=d(U,M,D,I,L,7,c[4]),I=d(I,U,M,D,R,12,c[5]),D=d(D,I,U,M,P,17,c[6]),M=d(M,D,I,U,z,22,c[7]),U=d(U,M,D,I,W,7,c[8]),I=d(I,U,M,D,ee,12,c[9]),D=d(D,I,U,M,te,17,c[10]),M=d(M,D,I,U,J,22,c[11]),U=d(U,M,D,I,ae,7,c[12]),I=d(I,U,M,D,ce,12,c[13]),D=d(D,I,U,M,ve,17,c[14]),M=d(M,D,I,U,q,22,c[15]),U=p(U,M,D,I,_,5,c[16]),I=p(I,U,M,D,P,9,c[17]),D=p(D,I,U,M,J,14,c[18]),M=p(M,D,I,U,O,20,c[19]),U=p(U,M,D,I,R,5,c[20]),I=p(I,U,M,D,te,9,c[21]),D=p(D,I,U,M,q,14,c[22]),M=p(M,D,I,U,L,20,c[23]),U=p(U,M,D,I,ee,5,c[24]),I=p(I,U,M,D,ve,9,c[25]),D=p(D,I,U,M,F,14,c[26]),M=p(M,D,I,U,W,20,c[27]),U=p(U,M,D,I,ce,5,c[28]),I=p(I,U,M,D,N,9,c[29]),D=p(D,I,U,M,z,14,c[30]),M=p(M,D,I,U,ae,20,c[31]),U=g(U,M,D,I,R,4,c[32]),I=g(I,U,M,D,W,11,c[33]),D=g(D,I,U,M,J,16,c[34]),M=g(M,D,I,U,ve,23,c[35]),U=g(U,M,D,I,_,4,c[36]),I=g(I,U,M,D,L,11,c[37]),D=g(D,I,U,M,z,16,c[38]),M=g(M,D,I,U,te,23,c[39]),U=g(U,M,D,I,ce,4,c[40]),I=g(I,U,M,D,O,11,c[41]),D=g(D,I,U,M,F,16,c[42]),M=g(M,D,I,U,P,23,c[43]),U=g(U,M,D,I,ee,4,c[44]),I=g(I,U,M,D,ae,11,c[45]),D=g(D,I,U,M,q,16,c[46]),M=g(M,D,I,U,N,23,c[47]),U=x(U,M,D,I,O,6,c[48]),I=x(I,U,M,D,z,10,c[49]),D=x(D,I,U,M,ve,15,c[50]),M=x(M,D,I,U,R,21,c[51]),U=x(U,M,D,I,ae,6,c[52]),I=x(I,U,M,D,F,10,c[53]),D=x(D,I,U,M,te,15,c[54]),M=x(M,D,I,U,_,21,c[55]),U=x(U,M,D,I,W,6,c[56]),I=x(I,U,M,D,q,10,c[57]),D=x(D,I,U,M,P,15,c[58]),M=x(M,D,I,U,ce,21,c[59]),U=x(U,M,D,I,L,6,c[60]),I=x(I,U,M,D,J,10,c[61]),D=x(D,I,U,M,N,15,c[62]),M=x(M,D,I,U,ee,21,c[63]),T[0]=T[0]+U|0,T[1]=T[1]+M|0,T[2]=T[2]+D|0,T[3]=T[3]+I|0},_doFinalize:function(){var b=this._data,v=b.words,w=this._nDataBytes*8,k=b.sigBytes*8;v[k>>>5]|=128<<24-k%32;var A=r.floor(w/4294967296),T=w;v[(k+64>>>9<<4)+15]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,v[(k+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,b.sigBytes=(v.length+1)*4,this._process();for(var O=this._hash,_=O.words,N=0;N<4;N++){var F=_[N];_[N]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return O},clone:function(){var b=a.clone.call(this);return b._hash=this._hash.clone(),b}});function d(b,v,w,k,A,T,O){var _=b+(v&w|~v&k)+A+O;return(_<<T|_>>>32-T)+v}function p(b,v,w,k,A,T,O){var _=b+(v&k|w&~k)+A+O;return(_<<T|_>>>32-T)+v}function g(b,v,w,k,A,T,O){var _=b+(v^w^k)+A+O;return(_<<T|_>>>32-T)+v}function x(b,v,w,k,A,T,O){var _=b+(w^(v|~k))+A+O;return(_<<T|_>>>32-T)+v}i.MD5=a._createHelper(f),i.HmacMD5=a._createHmacHelper(f)})(Math),n.MD5})})(sx)),sx.exports}var ox={exports:{}},S$=ox.exports,n4;function qB(){return n4||(n4=1,(function(t,e){(function(n,r){t.exports=r(tn())})(S$,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=i.Hasher,a=r.algo,l=[],c=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,d){for(var p=this._hash.words,g=p[0],x=p[1],b=p[2],v=p[3],w=p[4],k=0;k<80;k++){if(k<16)l[k]=f[d+k]|0;else{var A=l[k-3]^l[k-8]^l[k-14]^l[k-16];l[k]=A<<1|A>>>31}var T=(g<<5|g>>>27)+w+l[k];k<20?T+=(x&b|~x&v)+1518500249:k<40?T+=(x^b^v)+1859775393:k<60?T+=(x&b|x&v|b&v)-1894007588:T+=(x^b^v)-899497514,w=v,v=b,b=x<<30|x>>>2,x=g,g=T}p[0]=p[0]+g|0,p[1]=p[1]+x|0,p[2]=p[2]+b|0,p[3]=p[3]+v|0,p[4]=p[4]+w|0},_doFinalize:function(){var f=this._data,d=f.words,p=this._nDataBytes*8,g=f.sigBytes*8;return d[g>>>5]|=128<<24-g%32,d[(g+64>>>9<<4)+14]=Math.floor(p/4294967296),d[(g+64>>>9<<4)+15]=p,f.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var f=o.clone.call(this);return f._hash=this._hash.clone(),f}});r.SHA1=o._createHelper(c),r.HmacSHA1=o._createHmacHelper(c)})(),n.SHA1})})(ox)),ox.exports}var ax={exports:{}},C$=ax.exports,r4;function VC(){return r4||(r4=1,(function(t,e){(function(n,r){t.exports=r(tn())})(C$,function(n){return(function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=[],f=[];(function(){function g(w){for(var k=r.sqrt(w),A=2;A<=k;A++)if(!(w%A))return!1;return!0}function x(w){return(w-(w|0))*4294967296|0}for(var b=2,v=0;v<64;)g(b)&&(v<8&&(c[v]=x(r.pow(b,1/2))),f[v]=x(r.pow(b,1/3)),v++),b++})();var d=[],p=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(g,x){for(var b=this._hash.words,v=b[0],w=b[1],k=b[2],A=b[3],T=b[4],O=b[5],_=b[6],N=b[7],F=0;F<64;F++){if(F<16)d[F]=g[x+F]|0;else{var L=d[F-15],R=(L<<25|L>>>7)^(L<<14|L>>>18)^L>>>3,P=d[F-2],z=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;d[F]=R+d[F-7]+z+d[F-16]}var W=T&O^~T&_,ee=v&w^v&k^w&k,te=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),J=(T<<26|T>>>6)^(T<<21|T>>>11)^(T<<7|T>>>25),ae=N+J+W+f[F]+d[F],ce=te+ee;N=_,_=O,O=T,T=A+ae|0,A=k,k=w,w=v,v=ae+ce|0}b[0]=b[0]+v|0,b[1]=b[1]+w|0,b[2]=b[2]+k|0,b[3]=b[3]+A|0,b[4]=b[4]+T|0,b[5]=b[5]+O|0,b[6]=b[6]+_|0,b[7]=b[7]+N|0},_doFinalize:function(){var g=this._data,x=g.words,b=this._nDataBytes*8,v=g.sigBytes*8;return x[v>>>5]|=128<<24-v%32,x[(v+64>>>9<<4)+14]=r.floor(b/4294967296),x[(v+64>>>9<<4)+15]=b,g.sigBytes=x.length*4,this._process(),this._hash},clone:function(){var g=a.clone.call(this);return g._hash=this._hash.clone(),g}});i.SHA256=a._createHelper(p),i.HmacSHA256=a._createHmacHelper(p)})(Math),n.SHA256})})(ax)),ax.exports}var lx={exports:{}},k$=lx.exports,i4;function A$(){return i4||(i4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),VC())})(k$,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=r.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)})(),n.SHA224})})(lx)),lx.exports}var cx={exports:{}},T$=cx.exports,s4;function WB(){return s4||(s4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),Uy())})(T$,function(n){return(function(){var r=n,i=r.lib,s=i.Hasher,o=r.x64,a=o.Word,l=o.WordArray,c=r.algo;function f(){return a.create.apply(a,arguments)}var d=[f(1116352408,3609767458),f(1899447441,602891725),f(3049323471,3964484399),f(3921009573,2173295548),f(961987163,4081628472),f(1508970993,3053834265),f(2453635748,2937671579),f(2870763221,3664609560),f(3624381080,2734883394),f(310598401,1164996542),f(607225278,1323610764),f(1426881987,3590304994),f(1925078388,4068182383),f(2162078206,991336113),f(2614888103,633803317),f(3248222580,3479774868),f(3835390401,2666613458),f(4022224774,944711139),f(264347078,2341262773),f(604807628,2007800933),f(770255983,1495990901),f(1249150122,1856431235),f(1555081692,3175218132),f(1996064986,2198950837),f(2554220882,3999719339),f(2821834349,766784016),f(2952996808,2566594879),f(3210313671,3203337956),f(3336571891,1034457026),f(3584528711,2466948901),f(113926993,3758326383),f(338241895,168717936),f(666307205,1188179964),f(773529912,1546045734),f(1294757372,1522805485),f(1396182291,2643833823),f(1695183700,2343527390),f(1986661051,1014477480),f(2177026350,1206759142),f(2456956037,344077627),f(2730485921,1290863460),f(2820302411,3158454273),f(3259730800,3505952657),f(3345764771,106217008),f(3516065817,3606008344),f(3600352804,1432725776),f(4094571909,1467031594),f(275423344,851169720),f(430227734,3100823752),f(506948616,1363258195),f(659060556,3750685593),f(883997877,3785050280),f(958139571,3318307427),f(1322822218,3812723403),f(1537002063,2003034995),f(1747873779,3602036899),f(1955562222,1575990012),f(2024104815,1125592928),f(2227730452,2716904306),f(2361852424,442776044),f(2428436474,593698344),f(2756734187,3733110249),f(3204031479,2999351573),f(3329325298,3815920427),f(3391569614,3928383900),f(3515267271,566280711),f(3940187606,3454069534),f(4118630271,4000239992),f(116418474,1914138554),f(174292421,2731055270),f(289380356,3203993006),f(460393269,320620315),f(685471733,587496836),f(852142971,1086792851),f(1017036298,365543100),f(1126000580,2618297676),f(1288033470,3409855158),f(1501505948,4234509866),f(1607167915,987167468),f(1816402316,1246189591)],p=[];(function(){for(var x=0;x<80;x++)p[x]=f()})();var g=c.SHA512=s.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(x,b){for(var v=this._hash.words,w=v[0],k=v[1],A=v[2],T=v[3],O=v[4],_=v[5],N=v[6],F=v[7],L=w.high,R=w.low,P=k.high,z=k.low,W=A.high,ee=A.low,te=T.high,J=T.low,ae=O.high,ce=O.low,ve=_.high,q=_.low,U=N.high,M=N.low,D=F.high,I=F.low,V=L,re=R,he=P,oe=z,Ee=W,de=ee,ct=te,ot=J,_t=ae,et=ce,Ve=ve,Ie=q,Be=U,it=M,Et=D,Mt=I,rn=0;rn<80;rn++){var on,Qn,Nt=p[rn];if(rn<16)Qn=Nt.high=x[b+rn*2]|0,on=Nt.low=x[b+rn*2+1]|0;else{var Ur=p[rn-15],Ce=Ur.high,ze=Ur.low,at=(Ce>>>1|ze<<31)^(Ce>>>8|ze<<24)^Ce>>>7,St=(ze>>>1|Ce<<31)^(ze>>>8|Ce<<24)^(ze>>>7|Ce<<25),Rt=p[rn-2],Xt=Rt.high,Jn=Rt.low,$n=(Xt>>>19|Jn<<13)^(Xt<<3|Jn>>>29)^Xt>>>6,hn=(Jn>>>19|Xt<<13)^(Jn<<3|Xt>>>29)^(Jn>>>6|Xt<<26),dn=p[rn-7],jt=dn.high,Lr=dn.low,Ln=p[rn-16],ps=Ln.high,ni=Ln.low;on=St+Lr,Qn=at+jt+(on>>>0<St>>>0?1:0),on=on+hn,Qn=Qn+$n+(on>>>0<hn>>>0?1:0),on=on+ni,Qn=Qn+ps+(on>>>0<ni>>>0?1:0),Nt.high=Qn,Nt.low=on}var Wi=_t&Ve^~_t&Be,pn=et&Ie^~et&it,Vt=V&he^V&Ee^he&Ee,ie=re&oe^re&de^oe&de,ne=(V>>>28|re<<4)^(V<<30|re>>>2)^(V<<25|re>>>7),fe=(re>>>28|V<<4)^(re<<30|V>>>2)^(re<<25|V>>>7),Ae=(_t>>>14|et<<18)^(_t>>>18|et<<14)^(_t<<23|et>>>9),Je=(et>>>14|_t<<18)^(et>>>18|_t<<14)^(et<<23|_t>>>9),Ke=d[rn],Oe=Ke.high,Le=Ke.low,$e=Mt+Je,vt=Et+Ae+($e>>>0<Mt>>>0?1:0),$e=$e+pn,vt=vt+Wi+($e>>>0<pn>>>0?1:0),$e=$e+Le,vt=vt+Oe+($e>>>0<Le>>>0?1:0),$e=$e+on,vt=vt+Qn+($e>>>0<on>>>0?1:0),Lt=fe+ie,Vn=ne+Vt+(Lt>>>0<fe>>>0?1:0);Et=Be,Mt=it,Be=Ve,it=Ie,Ve=_t,Ie=et,et=ot+$e|0,_t=ct+vt+(et>>>0<ot>>>0?1:0)|0,ct=Ee,ot=de,Ee=he,de=oe,he=V,oe=re,re=$e+Lt|0,V=vt+Vn+(re>>>0<$e>>>0?1:0)|0}R=w.low=R+re,w.high=L+V+(R>>>0<re>>>0?1:0),z=k.low=z+oe,k.high=P+he+(z>>>0<oe>>>0?1:0),ee=A.low=ee+de,A.high=W+Ee+(ee>>>0<de>>>0?1:0),J=T.low=J+ot,T.high=te+ct+(J>>>0<ot>>>0?1:0),ce=O.low=ce+et,O.high=ae+_t+(ce>>>0<et>>>0?1:0),q=_.low=q+Ie,_.high=ve+Ve+(q>>>0<Ie>>>0?1:0),M=N.low=M+it,N.high=U+Be+(M>>>0<it>>>0?1:0),I=F.low=I+Mt,F.high=D+Et+(I>>>0<Mt>>>0?1:0)},_doFinalize:function(){var x=this._data,b=x.words,v=this._nDataBytes*8,w=x.sigBytes*8;b[w>>>5]|=128<<24-w%32,b[(w+128>>>10<<5)+30]=Math.floor(v/4294967296),b[(w+128>>>10<<5)+31]=v,x.sigBytes=b.length*4,this._process();var k=this._hash.toX32();return k},clone:function(){var x=s.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:1024/32});r.SHA512=s._createHelper(g),r.HmacSHA512=s._createHmacHelper(g)})(),n.SHA512})})(cx)),cx.exports}var ux={exports:{}},_$=ux.exports,o4;function N$(){return o4||(o4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),Uy(),WB())})(_$,function(n){return(function(){var r=n,i=r.x64,s=i.Word,o=i.WordArray,a=r.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var f=l._doFinalize.call(this);return f.sigBytes-=16,f}});r.SHA384=l._createHelper(c),r.HmacSHA384=l._createHmacHelper(c)})(),n.SHA384})})(ux)),ux.exports}var fx={exports:{}},D$=fx.exports,a4;function O$(){return a4||(a4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),Uy())})(D$,function(n){return(function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.x64,c=l.Word,f=i.algo,d=[],p=[],g=[];(function(){for(var v=1,w=0,k=0;k<24;k++){d[v+5*w]=(k+1)*(k+2)/2%64;var A=w%5,T=(2*v+3*w)%5;v=A,w=T}for(var v=0;v<5;v++)for(var w=0;w<5;w++)p[v+5*w]=w+(2*v+3*w)%5*5;for(var O=1,_=0;_<24;_++){for(var N=0,F=0,L=0;L<7;L++){if(O&1){var R=(1<<L)-1;R<32?F^=1<<R:N^=1<<R-32}O&128?O=O<<1^113:O<<=1}g[_]=c.create(N,F)}})();var x=[];(function(){for(var v=0;v<25;v++)x[v]=c.create()})();var b=f.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],w=0;w<25;w++)v[w]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,w){for(var k=this._state,A=this.blockSize/2,T=0;T<A;T++){var O=v[w+2*T],_=v[w+2*T+1];O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360;var N=k[T];N.high^=_,N.low^=O}for(var F=0;F<24;F++){for(var L=0;L<5;L++){for(var R=0,P=0,z=0;z<5;z++){var N=k[L+5*z];R^=N.high,P^=N.low}var W=x[L];W.high=R,W.low=P}for(var L=0;L<5;L++)for(var ee=x[(L+4)%5],te=x[(L+1)%5],J=te.high,ae=te.low,R=ee.high^(J<<1|ae>>>31),P=ee.low^(ae<<1|J>>>31),z=0;z<5;z++){var N=k[L+5*z];N.high^=R,N.low^=P}for(var ce=1;ce<25;ce++){var R,P,N=k[ce],ve=N.high,q=N.low,U=d[ce];U<32?(R=ve<<U|q>>>32-U,P=q<<U|ve>>>32-U):(R=q<<U-32|ve>>>64-U,P=ve<<U-32|q>>>64-U);var M=x[p[ce]];M.high=R,M.low=P}var D=x[0],I=k[0];D.high=I.high,D.low=I.low;for(var L=0;L<5;L++)for(var z=0;z<5;z++){var ce=L+5*z,N=k[ce],V=x[ce],re=x[(L+1)%5+5*z],he=x[(L+2)%5+5*z];N.high=V.high^~re.high&he.high,N.low=V.low^~re.low&he.low}var N=k[0],oe=g[F];N.high^=oe.high,N.low^=oe.low}},_doFinalize:function(){var v=this._data,w=v.words;this._nDataBytes*8;var k=v.sigBytes*8,A=this.blockSize*32;w[k>>>5]|=1<<24-k%32,w[(r.ceil((k+1)/A)*A>>>5)-1]|=128,v.sigBytes=w.length*4,this._process();for(var T=this._state,O=this.cfg.outputLength/8,_=O/8,N=[],F=0;F<_;F++){var L=T[F],R=L.high,P=L.low;R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,N.push(P),N.push(R)}return new o.init(N,O)},clone:function(){for(var v=a.clone.call(this),w=v._state=this._state.slice(0),k=0;k<25;k++)w[k]=w[k].clone();return v}});i.SHA3=a._createHelper(b),i.HmacSHA3=a._createHmacHelper(b)})(Math),n.SHA3})})(fx)),fx.exports}var hx={exports:{}},M$=hx.exports,l4;function R$(){return l4||(l4=1,(function(t,e){(function(n,r){t.exports=r(tn())})(M$,function(n){return(function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),p=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),g=o.create([0,1518500249,1859775393,2400959708,2840853838]),x=o.create([1352829926,1548603684,1836072691,2053994217,0]),b=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(_,N){for(var F=0;F<16;F++){var L=N+F,R=_[L];_[L]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}var P=this._hash.words,z=g.words,W=x.words,ee=c.words,te=f.words,J=d.words,ae=p.words,ce,ve,q,U,M,D,I,V,re,he;D=ce=P[0],I=ve=P[1],V=q=P[2],re=U=P[3],he=M=P[4];for(var oe,F=0;F<80;F+=1)oe=ce+_[N+ee[F]]|0,F<16?oe+=v(ve,q,U)+z[0]:F<32?oe+=w(ve,q,U)+z[1]:F<48?oe+=k(ve,q,U)+z[2]:F<64?oe+=A(ve,q,U)+z[3]:oe+=T(ve,q,U)+z[4],oe=oe|0,oe=O(oe,J[F]),oe=oe+M|0,ce=M,M=U,U=O(q,10),q=ve,ve=oe,oe=D+_[N+te[F]]|0,F<16?oe+=T(I,V,re)+W[0]:F<32?oe+=A(I,V,re)+W[1]:F<48?oe+=k(I,V,re)+W[2]:F<64?oe+=w(I,V,re)+W[3]:oe+=v(I,V,re)+W[4],oe=oe|0,oe=O(oe,ae[F]),oe=oe+he|0,D=he,he=re,re=O(V,10),V=I,I=oe;oe=P[1]+q+re|0,P[1]=P[2]+U+he|0,P[2]=P[3]+M+D|0,P[3]=P[4]+ce+I|0,P[4]=P[0]+ve+V|0,P[0]=oe},_doFinalize:function(){var _=this._data,N=_.words,F=this._nDataBytes*8,L=_.sigBytes*8;N[L>>>5]|=128<<24-L%32,N[(L+64>>>9<<4)+14]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,_.sigBytes=(N.length+1)*4,this._process();for(var R=this._hash,P=R.words,z=0;z<5;z++){var W=P[z];P[z]=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360}return R},clone:function(){var _=a.clone.call(this);return _._hash=this._hash.clone(),_}});function v(_,N,F){return _^N^F}function w(_,N,F){return _&N|~_&F}function k(_,N,F){return(_|~N)^F}function A(_,N,F){return _&F|N&~F}function T(_,N,F){return _^(N|~F)}function O(_,N){return _<<N|_>>>32-N}i.RIPEMD160=a._createHelper(b),i.HmacRIPEMD160=a._createHmacHelper(b)})(),n.RIPEMD160})})(hx)),hx.exports}var dx={exports:{}},B$=dx.exports,c4;function qC(){return c4||(c4=1,(function(t,e){(function(n,r){t.exports=r(tn())})(B$,function(n){(function(){var r=n,i=r.lib,s=i.Base,o=r.enc,a=o.Utf8,l=r.algo;l.HMAC=s.extend({init:function(c,f){c=this._hasher=new c.init,typeof f=="string"&&(f=a.parse(f));var d=c.blockSize,p=d*4;f.sigBytes>p&&(f=c.finalize(f)),f.clamp();for(var g=this._oKey=f.clone(),x=this._iKey=f.clone(),b=g.words,v=x.words,w=0;w<d;w++)b[w]^=1549556828,v[w]^=909522486;g.sigBytes=x.sigBytes=p,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var f=this._hasher,d=f.finalize(c);f.reset();var p=f.finalize(this._oKey.clone().concat(d));return p}})})()})})(dx)),dx.exports}var px={exports:{}},L$=px.exports,u4;function I$(){return u4||(u4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),VC(),qC())})(L$,function(n){return(function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.SHA256,c=a.HMAC,f=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,p){for(var g=this.cfg,x=c.create(g.hasher,d),b=o.create(),v=o.create([1]),w=b.words,k=v.words,A=g.keySize,T=g.iterations;w.length<A;){var O=x.update(p).finalize(v);x.reset();for(var _=O.words,N=_.length,F=O,L=1;L<T;L++){F=x.finalize(F),x.reset();for(var R=F.words,P=0;P<N;P++)_[P]^=R[P]}b.concat(O),k[0]++}return b.sigBytes=A*4,b}});r.PBKDF2=function(d,p,g){return f.create(g).compute(d,p)}})(),n.PBKDF2})})(px)),px.exports}var mx={exports:{}},F$=mx.exports,f4;function oc(){return f4||(f4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),qB(),qC())})(F$,function(n){return(function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.MD5,c=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,d){for(var p,g=this.cfg,x=g.hasher.create(),b=o.create(),v=b.words,w=g.keySize,k=g.iterations;v.length<w;){p&&x.update(p),p=x.update(f).finalize(d),x.reset();for(var A=1;A<k;A++)p=x.finalize(p),x.reset();b.concat(p)}return b.sigBytes=w*4,b}});r.EvpKDF=function(f,d,p){return c.create(p).compute(f,d)}})(),n.EvpKDF})})(mx)),mx.exports}var gx={exports:{}},P$=gx.exports,h4;function ei(){return h4||(h4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),oc())})(P$,function(n){n.lib.Cipher||(function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,l=s.BufferedBlockAlgorithm,c=i.enc;c.Utf8;var f=c.Base64,d=i.algo,p=d.EvpKDF,g=s.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(R,P){return this.create(this._ENC_XFORM_MODE,R,P)},createDecryptor:function(R,P){return this.create(this._DEC_XFORM_MODE,R,P)},init:function(R,P,z){this.cfg=this.cfg.extend(z),this._xformMode=R,this._key=P,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(R){return this._append(R),this._process()},finalize:function(R){R&&this._append(R);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function R(P){return typeof P=="string"?L:_}return function(P){return{encrypt:function(z,W,ee){return R(W).encrypt(P,z,W,ee)},decrypt:function(z,W,ee){return R(W).decrypt(P,z,W,ee)}}}})()});s.StreamCipher=g.extend({_doFinalize:function(){var R=this._process(!0);return R},blockSize:1});var x=i.mode={},b=s.BlockCipherMode=o.extend({createEncryptor:function(R,P){return this.Encryptor.create(R,P)},createDecryptor:function(R,P){return this.Decryptor.create(R,P)},init:function(R,P){this._cipher=R,this._iv=P}}),v=x.CBC=(function(){var R=b.extend();R.Encryptor=R.extend({processBlock:function(z,W){var ee=this._cipher,te=ee.blockSize;P.call(this,z,W,te),ee.encryptBlock(z,W),this._prevBlock=z.slice(W,W+te)}}),R.Decryptor=R.extend({processBlock:function(z,W){var ee=this._cipher,te=ee.blockSize,J=z.slice(W,W+te);ee.decryptBlock(z,W),P.call(this,z,W,te),this._prevBlock=J}});function P(z,W,ee){var te,J=this._iv;J?(te=J,this._iv=r):te=this._prevBlock;for(var ae=0;ae<ee;ae++)z[W+ae]^=te[ae]}return R})(),w=i.pad={},k=w.Pkcs7={pad:function(R,P){for(var z=P*4,W=z-R.sigBytes%z,ee=W<<24|W<<16|W<<8|W,te=[],J=0;J<W;J+=4)te.push(ee);var ae=a.create(te,W);R.concat(ae)},unpad:function(R){var P=R.words[R.sigBytes-1>>>2]&255;R.sigBytes-=P}};s.BlockCipher=g.extend({cfg:g.cfg.extend({mode:v,padding:k}),reset:function(){var R;g.reset.call(this);var P=this.cfg,z=P.iv,W=P.mode;this._xformMode==this._ENC_XFORM_MODE?R=W.createEncryptor:(R=W.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==R?this._mode.init(this,z&&z.words):(this._mode=R.call(W,this,z&&z.words),this._mode.__creator=R)},_doProcessBlock:function(R,P){this._mode.processBlock(R,P)},_doFinalize:function(){var R,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),R=this._process(!0)):(R=this._process(!0),P.unpad(R)),R},blockSize:128/32});var A=s.CipherParams=o.extend({init:function(R){this.mixIn(R)},toString:function(R){return(R||this.formatter).stringify(this)}}),T=i.format={},O=T.OpenSSL={stringify:function(R){var P,z=R.ciphertext,W=R.salt;return W?P=a.create([1398893684,1701076831]).concat(W).concat(z):P=z,P.toString(f)},parse:function(R){var P,z=f.parse(R),W=z.words;return W[0]==1398893684&&W[1]==1701076831&&(P=a.create(W.slice(2,4)),W.splice(0,4),z.sigBytes-=16),A.create({ciphertext:z,salt:P})}},_=s.SerializableCipher=o.extend({cfg:o.extend({format:O}),encrypt:function(R,P,z,W){W=this.cfg.extend(W);var ee=R.createEncryptor(z,W),te=ee.finalize(P),J=ee.cfg;return A.create({ciphertext:te,key:z,iv:J.iv,algorithm:R,mode:J.mode,padding:J.padding,blockSize:R.blockSize,formatter:W.format})},decrypt:function(R,P,z,W){W=this.cfg.extend(W),P=this._parse(P,W.format);var ee=R.createDecryptor(z,W).finalize(P.ciphertext);return ee},_parse:function(R,P){return typeof R=="string"?P.parse(R,this):R}}),N=i.kdf={},F=N.OpenSSL={execute:function(R,P,z,W,ee){if(W||(W=a.random(64/8)),ee)var te=p.create({keySize:P+z,hasher:ee}).compute(R,W);else var te=p.create({keySize:P+z}).compute(R,W);var J=a.create(te.words.slice(P),z*4);return te.sigBytes=P*4,A.create({key:te,iv:J,salt:W})}},L=s.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:F}),encrypt:function(R,P,z,W){W=this.cfg.extend(W);var ee=W.kdf.execute(z,R.keySize,R.ivSize,W.salt,W.hasher);W.iv=ee.iv;var te=_.encrypt.call(this,R,P,ee.key,W);return te.mixIn(ee),te},decrypt:function(R,P,z,W){W=this.cfg.extend(W),P=this._parse(P,W.format);var ee=W.kdf.execute(z,R.keySize,R.ivSize,P.salt,W.hasher);W.iv=ee.iv;var te=_.decrypt.call(this,R,P,ee.key,W);return te}})})()})})(gx)),gx.exports}var xx={exports:{}},z$=xx.exports,d4;function H$(){return d4||(d4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),ei())})(z$,function(n){return n.mode.CFB=(function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize;i.call(this,s,o,l,a),this._prevBlock=s.slice(o,o+l)}}),r.Decryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=s.slice(o,o+l);i.call(this,s,o,l,a),this._prevBlock=c}});function i(s,o,a,l){var c,f=this._iv;f?(c=f.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var d=0;d<a;d++)s[o+d]^=c[d]}return r})(),n.mode.CFB})})(xx)),xx.exports}var yx={exports:{}},U$=yx.exports,p4;function j$(){return p4||(p4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),ei())})(U$,function(n){return n.mode.CTR=(function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,f=this._counter;c&&(f=this._counter=c.slice(0),this._iv=void 0);var d=f.slice(0);a.encryptBlock(d,0),f[l-1]=f[l-1]+1|0;for(var p=0;p<l;p++)s[o+p]^=d[p]}});return r.Decryptor=i,r})(),n.mode.CTR})})(yx)),yx.exports}var bx={exports:{}},$$=bx.exports,m4;function V$(){return m4||(m4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),ei())})($$,function(n){return n.mode.CTRGladman=(function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,c=a>>8&255,f=a&255;l===255?(l=0,c===255?(c=0,f===255?f=0:++f):++c):++l,a=0,a+=l<<16,a+=c<<8,a+=f}else a+=1<<24;return a}function s(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,l){var c=this._cipher,f=c.blockSize,d=this._iv,p=this._counter;d&&(p=this._counter=d.slice(0),this._iv=void 0),s(p);var g=p.slice(0);c.encryptBlock(g,0);for(var x=0;x<f;x++)a[l+x]^=g[x]}});return r.Decryptor=o,r})(),n.mode.CTRGladman})})(bx)),bx.exports}var vx={exports:{}},q$=vx.exports,g4;function W$(){return g4||(g4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),ei())})(q$,function(n){return n.mode.OFB=(function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,f=this._keystream;c&&(f=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(f,0);for(var d=0;d<l;d++)s[o+d]^=f[d]}});return r.Decryptor=i,r})(),n.mode.OFB})})(vx)),vx.exports}var wx={exports:{}},G$=wx.exports,x4;function K$(){return x4||(x4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),ei())})(G$,function(n){return n.mode.ECB=(function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),r.Decryptor=r.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),r})(),n.mode.ECB})})(wx)),wx.exports}var Ex={exports:{}},X$=Ex.exports,y4;function Y$(){return y4||(y4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),ei())})(X$,function(n){return n.pad.AnsiX923={pad:function(r,i){var s=r.sigBytes,o=i*4,a=o-s%o,l=s+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})})(Ex)),Ex.exports}var Sx={exports:{}},Q$=Sx.exports,b4;function J$(){return b4||(b4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),ei())})(Q$,function(n){return n.pad.Iso10126={pad:function(r,i){var s=i*4,o=s-r.sigBytes%s;r.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})})(Sx)),Sx.exports}var Cx={exports:{}},Z$=Cx.exports,v4;function eV(){return v4||(v4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),ei())})(Z$,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})})(Cx)),Cx.exports}var kx={exports:{}},tV=kx.exports,w4;function nV(){return w4||(w4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),ei())})(tV,function(n){return n.pad.ZeroPadding={pad:function(r,i){var s=i*4;r.clamp(),r.sigBytes+=s-(r.sigBytes%s||s)},unpad:function(r){for(var i=r.words,s=r.sigBytes-1,s=r.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){r.sigBytes=s+1;break}}},n.pad.ZeroPadding})})(kx)),kx.exports}var Ax={exports:{}},rV=Ax.exports,E4;function iV(){return E4||(E4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),ei())})(rV,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})})(Ax)),Ax.exports}var Tx={exports:{}},sV=Tx.exports,S4;function oV(){return S4||(S4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),ei())})(sV,function(n){return(function(r){var i=n,s=i.lib,o=s.CipherParams,a=i.enc,l=a.Hex,c=i.format;c.Hex={stringify:function(f){return f.ciphertext.toString(l)},parse:function(f){var d=l.parse(f);return o.create({ciphertext:d})}}})(),n.format.Hex})})(Tx)),Tx.exports}var _x={exports:{}},aV=_x.exports,C4;function lV(){return C4||(C4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),yu(),bu(),oc(),ei())})(aV,function(n){return(function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo,a=[],l=[],c=[],f=[],d=[],p=[],g=[],x=[],b=[],v=[];(function(){for(var A=[],T=0;T<256;T++)T<128?A[T]=T<<1:A[T]=T<<1^283;for(var O=0,_=0,T=0;T<256;T++){var N=_^_<<1^_<<2^_<<3^_<<4;N=N>>>8^N&255^99,a[O]=N,l[N]=O;var F=A[O],L=A[F],R=A[L],P=A[N]*257^N*16843008;c[O]=P<<24|P>>>8,f[O]=P<<16|P>>>16,d[O]=P<<8|P>>>24,p[O]=P;var P=R*16843009^L*65537^F*257^O*16843008;g[N]=P<<24|P>>>8,x[N]=P<<16|P>>>16,b[N]=P<<8|P>>>24,v[N]=P,O?(O=F^A[A[A[R^F]]],_^=A[A[_]]):O=_=1}})();var w=[0,1,2,4,8,16,32,64,128,27,54],k=o.AES=s.extend({_doReset:function(){var A;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var T=this._keyPriorReset=this._key,O=T.words,_=T.sigBytes/4,N=this._nRounds=_+6,F=(N+1)*4,L=this._keySchedule=[],R=0;R<F;R++)R<_?L[R]=O[R]:(A=L[R-1],R%_?_>6&&R%_==4&&(A=a[A>>>24]<<24|a[A>>>16&255]<<16|a[A>>>8&255]<<8|a[A&255]):(A=A<<8|A>>>24,A=a[A>>>24]<<24|a[A>>>16&255]<<16|a[A>>>8&255]<<8|a[A&255],A^=w[R/_|0]<<24),L[R]=L[R-_]^A);for(var P=this._invKeySchedule=[],z=0;z<F;z++){var R=F-z;if(z%4)var A=L[R];else var A=L[R-4];z<4||R<=4?P[z]=A:P[z]=g[a[A>>>24]]^x[a[A>>>16&255]]^b[a[A>>>8&255]]^v[a[A&255]]}}},encryptBlock:function(A,T){this._doCryptBlock(A,T,this._keySchedule,c,f,d,p,a)},decryptBlock:function(A,T){var O=A[T+1];A[T+1]=A[T+3],A[T+3]=O,this._doCryptBlock(A,T,this._invKeySchedule,g,x,b,v,l);var O=A[T+1];A[T+1]=A[T+3],A[T+3]=O},_doCryptBlock:function(A,T,O,_,N,F,L,R){for(var P=this._nRounds,z=A[T]^O[0],W=A[T+1]^O[1],ee=A[T+2]^O[2],te=A[T+3]^O[3],J=4,ae=1;ae<P;ae++){var ce=_[z>>>24]^N[W>>>16&255]^F[ee>>>8&255]^L[te&255]^O[J++],ve=_[W>>>24]^N[ee>>>16&255]^F[te>>>8&255]^L[z&255]^O[J++],q=_[ee>>>24]^N[te>>>16&255]^F[z>>>8&255]^L[W&255]^O[J++],U=_[te>>>24]^N[z>>>16&255]^F[W>>>8&255]^L[ee&255]^O[J++];z=ce,W=ve,ee=q,te=U}var ce=(R[z>>>24]<<24|R[W>>>16&255]<<16|R[ee>>>8&255]<<8|R[te&255])^O[J++],ve=(R[W>>>24]<<24|R[ee>>>16&255]<<16|R[te>>>8&255]<<8|R[z&255])^O[J++],q=(R[ee>>>24]<<24|R[te>>>16&255]<<16|R[z>>>8&255]<<8|R[W&255])^O[J++],U=(R[te>>>24]<<24|R[z>>>16&255]<<16|R[W>>>8&255]<<8|R[ee&255])^O[J++];A[T]=ce,A[T+1]=ve,A[T+2]=q,A[T+3]=U},keySize:256/32});r.AES=s._createHelper(k)})(),n.AES})})(_x)),_x.exports}var Nx={exports:{}},cV=Nx.exports,k4;function uV(){return k4||(k4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),yu(),bu(),oc(),ei())})(cV,function(n){return(function(){var r=n,i=r.lib,s=i.WordArray,o=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],f=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],g=a.DES=o.extend({_doReset:function(){for(var w=this._key,k=w.words,A=[],T=0;T<56;T++){var O=l[T]-1;A[T]=k[O>>>5]>>>31-O%32&1}for(var _=this._subKeys=[],N=0;N<16;N++){for(var F=_[N]=[],L=f[N],T=0;T<24;T++)F[T/6|0]|=A[(c[T]-1+L)%28]<<31-T%6,F[4+(T/6|0)]|=A[28+(c[T+24]-1+L)%28]<<31-T%6;F[0]=F[0]<<1|F[0]>>>31;for(var T=1;T<7;T++)F[T]=F[T]>>>(T-1)*4+3;F[7]=F[7]<<5|F[7]>>>27}for(var R=this._invSubKeys=[],T=0;T<16;T++)R[T]=_[15-T]},encryptBlock:function(w,k){this._doCryptBlock(w,k,this._subKeys)},decryptBlock:function(w,k){this._doCryptBlock(w,k,this._invSubKeys)},_doCryptBlock:function(w,k,A){this._lBlock=w[k],this._rBlock=w[k+1],x.call(this,4,252645135),x.call(this,16,65535),b.call(this,2,858993459),b.call(this,8,16711935),x.call(this,1,1431655765);for(var T=0;T<16;T++){for(var O=A[T],_=this._lBlock,N=this._rBlock,F=0,L=0;L<8;L++)F|=d[L][((N^O[L])&p[L])>>>0];this._lBlock=N,this._rBlock=_^F}var R=this._lBlock;this._lBlock=this._rBlock,this._rBlock=R,x.call(this,1,1431655765),b.call(this,8,16711935),b.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),w[k]=this._lBlock,w[k+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function x(w,k){var A=(this._lBlock>>>w^this._rBlock)&k;this._rBlock^=A,this._lBlock^=A<<w}function b(w,k){var A=(this._rBlock>>>w^this._lBlock)&k;this._lBlock^=A,this._rBlock^=A<<w}r.DES=o._createHelper(g);var v=a.TripleDES=o.extend({_doReset:function(){var w=this._key,k=w.words;if(k.length!==2&&k.length!==4&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var A=k.slice(0,2),T=k.length<4?k.slice(0,2):k.slice(2,4),O=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=g.createEncryptor(s.create(A)),this._des2=g.createEncryptor(s.create(T)),this._des3=g.createEncryptor(s.create(O))},encryptBlock:function(w,k){this._des1.encryptBlock(w,k),this._des2.decryptBlock(w,k),this._des3.encryptBlock(w,k)},decryptBlock:function(w,k){this._des3.decryptBlock(w,k),this._des2.encryptBlock(w,k),this._des1.decryptBlock(w,k)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(v)})(),n.TripleDES})})(Nx)),Nx.exports}var Dx={exports:{}},fV=Dx.exports,A4;function hV(){return A4||(A4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),yu(),bu(),oc(),ei())})(fV,function(n){return(function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=o.RC4=s.extend({_doReset:function(){for(var f=this._key,d=f.words,p=f.sigBytes,g=this._S=[],x=0;x<256;x++)g[x]=x;for(var x=0,b=0;x<256;x++){var v=x%p,w=d[v>>>2]>>>24-v%4*8&255;b=(b+g[x]+w)%256;var k=g[x];g[x]=g[b],g[b]=k}this._i=this._j=0},_doProcessBlock:function(f,d){f[d]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var f=this._S,d=this._i,p=this._j,g=0,x=0;x<4;x++){d=(d+1)%256,p=(p+f[d])%256;var b=f[d];f[d]=f[p],f[p]=b,g|=f[(f[d]+f[p])%256]<<24-x*8}return this._i=d,this._j=p,g}r.RC4=s._createHelper(a);var c=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var f=this.cfg.drop;f>0;f--)l.call(this)}});r.RC4Drop=s._createHelper(c)})(),n.RC4})})(Dx)),Dx.exports}var Ox={exports:{}},dV=Ox.exports,T4;function pV(){return T4||(T4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),yu(),bu(),oc(),ei())})(dV,function(n){return(function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],c=[],f=o.Rabbit=s.extend({_doReset:function(){for(var p=this._key.words,g=this.cfg.iv,x=0;x<4;x++)p[x]=(p[x]<<8|p[x]>>>24)&16711935|(p[x]<<24|p[x]>>>8)&4278255360;var b=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],v=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var x=0;x<4;x++)d.call(this);for(var x=0;x<8;x++)v[x]^=b[x+4&7];if(g){var w=g.words,k=w[0],A=w[1],T=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,O=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,_=T>>>16|O&4294901760,N=O<<16|T&65535;v[0]^=T,v[1]^=_,v[2]^=O,v[3]^=N,v[4]^=T,v[5]^=_,v[6]^=O,v[7]^=N;for(var x=0;x<4;x++)d.call(this)}},_doProcessBlock:function(p,g){var x=this._X;d.call(this),a[0]=x[0]^x[5]>>>16^x[3]<<16,a[1]=x[2]^x[7]>>>16^x[5]<<16,a[2]=x[4]^x[1]>>>16^x[7]<<16,a[3]=x[6]^x[3]>>>16^x[1]<<16;for(var b=0;b<4;b++)a[b]=(a[b]<<8|a[b]>>>24)&16711935|(a[b]<<24|a[b]>>>8)&4278255360,p[g+b]^=a[b]},blockSize:128/32,ivSize:64/32});function d(){for(var p=this._X,g=this._C,x=0;x<8;x++)l[x]=g[x];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<l[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<l[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<l[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<l[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<l[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<l[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<l[6]>>>0?1:0)|0,this._b=g[7]>>>0<l[7]>>>0?1:0;for(var x=0;x<8;x++){var b=p[x]+g[x],v=b&65535,w=b>>>16,k=((v*v>>>17)+v*w>>>15)+w*w,A=((b&4294901760)*b|0)+((b&65535)*b|0);c[x]=k^A}p[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,p[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,p[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,p[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,p[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,p[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,p[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,p[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.Rabbit=s._createHelper(f)})(),n.Rabbit})})(Ox)),Ox.exports}var Mx={exports:{}},mV=Mx.exports,_4;function gV(){return _4||(_4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),yu(),bu(),oc(),ei())})(mV,function(n){return(function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],c=[],f=o.RabbitLegacy=s.extend({_doReset:function(){var p=this._key.words,g=this.cfg.iv,x=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],b=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var v=0;v<4;v++)d.call(this);for(var v=0;v<8;v++)b[v]^=x[v+4&7];if(g){var w=g.words,k=w[0],A=w[1],T=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,O=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,_=T>>>16|O&4294901760,N=O<<16|T&65535;b[0]^=T,b[1]^=_,b[2]^=O,b[3]^=N,b[4]^=T,b[5]^=_,b[6]^=O,b[7]^=N;for(var v=0;v<4;v++)d.call(this)}},_doProcessBlock:function(p,g){var x=this._X;d.call(this),a[0]=x[0]^x[5]>>>16^x[3]<<16,a[1]=x[2]^x[7]>>>16^x[5]<<16,a[2]=x[4]^x[1]>>>16^x[7]<<16,a[3]=x[6]^x[3]>>>16^x[1]<<16;for(var b=0;b<4;b++)a[b]=(a[b]<<8|a[b]>>>24)&16711935|(a[b]<<24|a[b]>>>8)&4278255360,p[g+b]^=a[b]},blockSize:128/32,ivSize:64/32});function d(){for(var p=this._X,g=this._C,x=0;x<8;x++)l[x]=g[x];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<l[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<l[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<l[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<l[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<l[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<l[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<l[6]>>>0?1:0)|0,this._b=g[7]>>>0<l[7]>>>0?1:0;for(var x=0;x<8;x++){var b=p[x]+g[x],v=b&65535,w=b>>>16,k=((v*v>>>17)+v*w>>>15)+w*w,A=((b&4294901760)*b|0)+((b&65535)*b|0);c[x]=k^A}p[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,p[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,p[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,p[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,p[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,p[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,p[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,p[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.RabbitLegacy=s._createHelper(f)})(),n.RabbitLegacy})})(Mx)),Mx.exports}var Rx={exports:{}},xV=Rx.exports,N4;function yV(){return N4||(N4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),yu(),bu(),oc(),ei())})(xV,function(n){return(function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var f={pbox:[],sbox:[]};function d(v,w){let k=w>>24&255,A=w>>16&255,T=w>>8&255,O=w&255,_=v.sbox[0][k]+v.sbox[1][A];return _=_^v.sbox[2][T],_=_+v.sbox[3][O],_}function p(v,w,k){let A=w,T=k,O;for(let _=0;_<a;++_)A=A^v.pbox[_],T=d(v,A)^T,O=A,A=T,T=O;return O=A,A=T,T=O,T=T^v.pbox[a],A=A^v.pbox[a+1],{left:A,right:T}}function g(v,w,k){let A=w,T=k,O;for(let _=a+1;_>1;--_)A=A^v.pbox[_],T=d(v,A)^T,O=A,A=T,T=O;return O=A,A=T,T=O,T=T^v.pbox[1],A=A^v.pbox[0],{left:A,right:T}}function x(v,w,k){for(let N=0;N<4;N++){v.sbox[N]=[];for(let F=0;F<256;F++)v.sbox[N][F]=c[N][F]}let A=0;for(let N=0;N<a+2;N++)v.pbox[N]=l[N]^w[A],A++,A>=k&&(A=0);let T=0,O=0,_=0;for(let N=0;N<a+2;N+=2)_=p(v,T,O),T=_.left,O=_.right,v.pbox[N]=T,v.pbox[N+1]=O;for(let N=0;N<4;N++)for(let F=0;F<256;F+=2)_=p(v,T,O),T=_.left,O=_.right,v.sbox[N][F]=T,v.sbox[N][F+1]=O;return!0}var b=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,w=v.words,k=v.sigBytes/4;x(f,w,k)}},encryptBlock:function(v,w){var k=p(f,v[w],v[w+1]);v[w]=k.left,v[w+1]=k.right},decryptBlock:function(v,w){var k=g(f,v[w],v[w+1]);v[w]=k.left,v[w+1]=k.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=s._createHelper(b)})(),n.Blowfish})})(Rx)),Rx.exports}var bV=Jg.exports,D4;function vV(){return D4||(D4=1,(function(t,e){(function(n,r,i){t.exports=r(tn(),Uy(),g$(),y$(),yu(),w$(),bu(),qB(),VC(),A$(),WB(),N$(),O$(),R$(),qC(),I$(),oc(),ei(),H$(),j$(),V$(),W$(),K$(),Y$(),J$(),eV(),nV(),iV(),oV(),lV(),uV(),hV(),pV(),gV(),yV())})(bV,function(n){return n})})(Jg)),Jg.exports}var wV=vV();const qw=xu(wV),O4="hap-query-report-secret-key",EV=[{id:"default_hml",connectionName:"Homologao",user:"c_stenio",password:"U2FsdGVkX1+diVLEnj1jZvw5sxormGTsBtESRfh/6qI=",connectString:"U2FsdGVkX19U80G4qXgfVWspNeUM1/u7eLMDucd94oLGmVlBl5jIXGEAgUHAR5qUKaQVNtBWZ215IVNQ7BcUmg==",isDefault:!0},{id:"default_prod",connectionName:"Produo",user:"c_stenio",password:"U2FsdGVkX18wBXPCBeTyxr4YfqfTum15kjrRFf1vBSc=",connectString:"U2FsdGVkX1/AUWNk4WMSarytTse8PePFGvDEaKgnRoWRDihwycxMJolWJiZylGcJoHEO/gtgT8cnKI/Ma+5VlQ==",isDefault:!0}];function SV({onConnect:t}){const[e,n]=X.useState({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}),[r,i]=X.useState([]),[s,o]=X.useState({type:"",message:""}),[a,l]=X.useState(!1),[c,f]=X.useState(null),[d,p]=X.useState(!1),[g,x]=X.useState(!1);X.useEffect(()=>{const L=localStorage.getItem("oracle_connections"),R=JSON.parse(localStorage.getItem("deleted_defaults")||"[]");let P=[];if(L)try{P=JSON.parse(L)}catch(ee){console.error("Failed to parse saved connections",ee)}let z=!1;EV.filter(ee=>!R.includes(ee.id)).forEach(ee=>{if(!P.some(J=>J.id===ee.id)){const J=P.findIndex(ae=>ae.connectionName===ee.connectionName&&!ae.isDefault);J!==-1&&(P[J].connectionName=`${P[J].connectionName}_OLD`,z=!0),P.unshift(ee),z=!0}}),z&&localStorage.setItem("oracle_connections",JSON.stringify(P)),i(P)},[]);const b=L=>L?qw.AES.encrypt(L,O4).toString():"",v=L=>{if(!L)return"";try{return qw.AES.decrypt(L,O4).toString(qw.enc.Utf8)||L}catch{return L}},w=L=>{n({...e,[L.target.name]:L.target.value})},k=async()=>{o({type:"info",message:"Testando conexo..."});try{const R=await(await fetch("http://127.0.0.1:3001/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();R.success?o({type:"success",message:"Conexo realizada com sucesso!"}):o({type:"error",message:"Falha na conexo: "+R.message})}catch(L){const R=L.message==="Failed to fetch"?"Falha na comunicao com o servidor (Verifique se o servidor est rodando)":L.message;o({type:"error",message:"Erro de rede: "+R})}},A=()=>{if(!e.user||!e.connectString||!e.connectionName){o({type:"error",message:"Por favor, preencha Nome, Usurio e Host."});return}const L={...e,password:b(e.password)};let R;if(a&&c)R=r.map(P=>P.id===c?{...L,id:c}:P),l(!1),f(null),o({type:"success",message:"Conexo atualizada!"});else{const P={...L,id:Date.now().toString()};R=[...r,P],o({type:"success",message:"Conexo salva!"})}i(R),localStorage.setItem("oracle_connections",JSON.stringify(R))},T=L=>{n({user:L.user,password:v(L.password),connectString:L.isDefault?v(L.connectString):L.connectString,connectionName:L.connectionName||""}),o({type:"",message:""}),p(!1),L.isDefault?(l(!1),f(null),x(!0),o({type:"info",message:"Conexo padro selecionada (Somente leitura)."})):(l(!0),f(L.id),x(!1))},O=(L,R)=>{if(R.stopPropagation(),L.isDefault){alert("Conexes padro no podem ser editadas.");return}T(L),o({type:"info",message:`Editando: ${L.connectionName}`})},_=(L,R,P)=>{if(R.stopPropagation(),window.confirm("Tem certeza que deseja excluir esta conexo?")){const z=r.filter(W=>W.id!==L);if(i(z),localStorage.setItem("oracle_connections",JSON.stringify(z)),P){const W=JSON.parse(localStorage.getItem("deleted_defaults")||"[]");W.push(L),localStorage.setItem("deleted_defaults",JSON.stringify(W))}c===L&&(l(!1),f(null),x(!1),n({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}))}},N=async()=>{o({type:"info",message:"Conectando..."});try{const R=await(await fetch("http://127.0.0.1:3001/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();R.success?t(e):o({type:"error",message:R.message})}catch(L){o({type:"error",message:L.message})}},F=()=>{l(!1),f(null),x(!1),n({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}),o({type:"",message:""})};return C.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans",children:[C.jsxs("div",{className:"w-1/3 bg-white border-r border-gray-200 p-6 flex flex-col shadow-lg z-10",children:[C.jsxs("div",{className:"flex flex-col items-center justify-center mb-8",children:[C.jsx("img",{src:l$,alt:"Hap Logo",className:"h-24 object-contain mb-4"}),C.jsx("h1",{className:"text-2xl font-bold text-[#0054a6] tracking-tight",children:"Hap Query Report"})]}),C.jsx("h2",{className:"text-lg font-bold text-gray-700 mb-4 px-2 border-l-4 border-[#f37021]",children:"Conexes Salvas"}),C.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:[r.length===0&&C.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[C.jsx("p",{className:"text-gray-400 italic",children:"Nenhuma conexo salva."}),C.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Preencha o formulrio para criar uma."})]}),r.map((L,R)=>C.jsxs("div",{onClick:()=>T(L),className:`p-4 rounded-lg border cursor-pointer transition-all hover:shadow-md group relative ${c===L.id?"border-[#f37021] bg-orange-50":"border-gray-200 hover:border-blue-300 bg-white"}`,children:[C.jsxs("div",{className:"font-bold text-gray-800 flex items-center",children:[L.connectionName||`Connection ${R+1}`,L.isDefault&&C.jsx("span",{className:"ml-2 text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded border border-blue-200",children:"PADRO"})]}),C.jsxs("div",{className:"text-sm text-gray-500",children:[L.user,"@",L.isDefault?"*****":L.connectString]}),C.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[!L.isDefault&&C.jsx("button",{onClick:P=>O(L,P),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Editar",children:""}),C.jsx("button",{onClick:P=>_(L.id,P,L.isDefault),className:"p-1.5 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Excluir",children:""})]})]},L.id||R))]}),C.jsxs("button",{onClick:()=>{l(!1),f(null),x(!1),n({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}),o({type:"",message:""})},className:"mt-6 w-full py-3 border-2 border-dashed border-gray-300 text-gray-500 rounded-lg hover:border-[#0054a6] hover:text-[#0054a6] transition-all font-medium flex items-center justify-center gap-2",children:[C.jsx("span",{className:"text-xl",children:"+"})," Nova Conexo"]})]}),C.jsx("div",{className:"w-2/3 p-10 flex flex-col justify-center bg-gradient-to-br from-gray-50 to-blue-50",children:C.jsxs("div",{className:"max-w-lg mx-auto w-full bg-white p-10 rounded-2xl shadow-xl border border-gray-100",children:[C.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:a?"Editar Conexo":"Nova Conexo"}),C.jsxs("div",{className:"space-y-5",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Nome da Conexo (Ex: DEV, PROD)"}),C.jsx("input",{type:"text",name:"connectionName",value:e.connectionName,onChange:w,disabled:g,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all disabled:bg-gray-100 disabled:text-gray-500",placeholder:"Minha Conexo"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Usurio"}),C.jsx("input",{type:"text",name:"user",value:e.user,onChange:w,disabled:g,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all disabled:bg-gray-100 disabled:text-gray-500"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Senha"}),C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:d?"text":"password",name:"password",value:e.password,onChange:w,disabled:g,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all disabled:bg-gray-100 disabled:text-gray-500 pr-10"}),!g&&C.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",title:d?"Ocultar senha":"Mostrar senha",children:d?C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Host (Connect String)"}),C.jsx("input",{type:g?"password":"text",name:"connectString",value:e.connectString,onChange:w,disabled:g,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all disabled:bg-gray-100 disabled:text-gray-500",placeholder:"localhost:1521/XEPDB1"})]}),s.message&&C.jsx("div",{className:`p-4 rounded-lg text-sm font-medium ${s.type==="error"?"bg-red-50 text-red-700 border border-red-200":s.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-blue-50 text-blue-700 border border-blue-200"}`,children:s.message}),C.jsxs("div",{className:"flex space-x-3 pt-6",children:[C.jsx("button",{onClick:k,className:"flex-1 py-3 px-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-bold border border-gray-300",children:"Testar"}),!g&&C.jsx("button",{onClick:A,className:"flex-1 py-3 px-4 bg-[#f37021] text-white rounded-lg hover:bg-orange-600 transition-colors font-bold shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:a?"Atualizar":"Salvar"}),C.jsx("button",{onClick:N,className:"flex-1 py-3 px-4 bg-[#0054a6] text-white rounded-lg hover:bg-blue-800 transition-colors font-bold shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"Conectar"})]}),a&&C.jsx("button",{onClick:F,className:"w-full mt-2 text-sm text-gray-500 hover:text-gray-700 underline text-center block",children:"Cancelar Edio"})]})]})})]})}var r1={};r1.version="0.18.5";var GB=1252,CV=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],KB=function(t){CV.indexOf(t)!=-1&&(GB=t)};function kV(){KB(1252)}var y0=function(t){KB(t)};function AV(){y0(1200),kV()}var qm=function(e){return String.fromCharCode(e)},M4=function(e){return String.fromCharCode(e)},i1,Fl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function b0(t){for(var e="",n=0,r=0,i=0,s=0,o=0,a=0,l=0,c=0;c<t.length;)n=t.charCodeAt(c++),s=n>>2,r=t.charCodeAt(c++),o=(n&3)<<4|r>>4,i=t.charCodeAt(c++),a=(r&15)<<2|i>>6,l=i&63,isNaN(r)?a=l=64:isNaN(i)&&(l=64),e+=Fl.charAt(s)+Fl.charAt(o)+Fl.charAt(a)+Fl.charAt(l);return e}function Ha(t){var e="",n=0,r=0,i=0,s=0,o=0,a=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=Fl.indexOf(t.charAt(c++)),o=Fl.indexOf(t.charAt(c++)),n=s<<2|o>>4,e+=String.fromCharCode(n),a=Fl.indexOf(t.charAt(c++)),r=(o&15)<<4|a>>2,a!==64&&(e+=String.fromCharCode(r)),l=Fl.indexOf(t.charAt(c++)),i=(a&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var xn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Wa=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function nu(t){return xn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function R4(t){return xn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var bo=function(e){return xn?Wa(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function jy(t){if(typeof ArrayBuffer>"u")return bo(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function ap(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function TV(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var pi=xn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Wa(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function _V(t){for(var e=[],n=0,r=t.length+250,i=nu(t.length+255),s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=t.charCodeAt(++s)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|a>>6&15|(o&3)<<4,i[n++]=128|a&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(e.push(i.slice(0,n)),n=0,i=nu(65535),r=65530)}return e.push(i.slice(0,n)),pi(e)}var jd=/\u0000/g,Wm=/[\u0001-\u0006]/g;function Bf(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function wo(t,e){var n=""+t;return n.length>=e?n:pr("0",e-n.length)+n}function WC(t,e){var n=""+t;return n.length>=e?n:pr(" ",e-n.length)+n}function s1(t,e){var n=""+t;return n.length>=e?n:n+pr(" ",e-n.length)}function NV(t,e){var n=""+Math.round(t);return n.length>=e?n:pr("0",e-n.length)+n}function DV(t,e){var n=""+t;return n.length>=e?n:pr("0",e-n.length)+n}var B4=Math.pow(2,32);function cf(t,e){if(t>B4||t<-B4)return NV(t,e);var n=Math.round(t);return DV(n,e)}function o1(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var L4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ww=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function OV(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var xr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},I4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},MV={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function a1(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,o=1,a=0,l=1,c=0,f=0,d=Math.floor(i);c<e&&(d=Math.floor(i),a=d*o+s,f=d*c+l,!(i-d<5e-8));)i=1/(i-d),s=o,o=a,l=c,c=f;if(f>e&&(c>e?(f=l,a=s):(f=c,a=o)),!n)return[0,r*a,f];var p=Math.floor(r*a/f);return[p,r*a-p*f,f]}function Gm(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,o=[],a={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),e&&e.date1904&&(r+=1462),a.u>.9999&&(a.u=0,++i==86400&&(a.T=i=0,++r,++a.D)),r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=zV(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var XB=new Date(1899,11,31,0,0,0),RV=XB.getTime(),BV=new Date(1900,2,1,0,0,0);function YB(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=BV&&(n+=1440*60*1e3),(n-(RV+(t.getTimezoneOffset()-XB.getTimezoneOffset())*6e4))/(1440*60*1e3)}function GC(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function LV(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function IV(t){var e=t<0?12:11,n=GC(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function FV(t){var e=GC(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function PV(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=IV(t):e===10?n=t.toFixed(10).substr(0,12):n=FV(t),GC(LV(n.toUpperCase()))}function P2(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):PV(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Yl(14,YB(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function zV(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function HV(t,e,n,r){var i="",s=0,o=0,a=n.y,l,c=0;switch(t){case 98:a=n.y+543;case 121:switch(e.length){case 1:case 2:l=a%100,c=2;break;default:l=a%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,c=e.length;break;case 3:return Ww[n.m-1][1];case 5:return Ww[n.m-1][0];default:return Ww[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,c=e.length;break;case 3:return L4[n.q][0];default:return L4[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?wo(n.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=wo(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=a,c=1;break}var f=c>0?wo(l,c):"";return f}function Pl(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var QB=/%/g;function UV(t,e,n){var r=e.replace(QB,""),i=e.length-r.length;return Ba(t,r,n*Math.pow(10,2*i))+pr("%",i)}function jV(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ba(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function JB(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+JB(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,f){return l+c+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var ZB=/# (\?+)( ?)\/( ?)(\d+)/;function $V(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,a=r;return n+(s===0?"":""+s)+" "+(o===0?pr(" ",t[1].length+1+t[4].length):WC(o,t[1].length)+t[2]+"/"+t[3]+wo(a,t[4].length))}function VV(t,e,n){return n+(e===0?"":""+e)+pr(" ",t[1].length+2+t[4].length)}var e5=/^#*0*\.([0#]+)/,t5=/\).*[0#]/,n5=/\(###\) ###\\?-####/;function Li(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function F4(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function P4(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function qV(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function WV(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ks(t,e,n){if(t.charCodeAt(0)===40&&!e.match(t5)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ks("n",r,n):"("+Ks("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return jV(t,e,n);if(e.indexOf("%")!==-1)return UV(t,e,n);if(e.indexOf("E")!==-1)return JB(e,n);if(e.charCodeAt(0)===36)return"$"+Ks(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,a,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+cf(l,e.length);if(e.match(/^[#?]+$/))return i=cf(n,0),i==="0"&&(i=""),i.length>e.length?i:Li(e.substr(0,e.length-i.length))+i;if(s=e.match(ZB))return $V(s,l,c);if(e.match(/^#+0+$/))return c+cf(l,e.length-e.indexOf("0"));if(s=e.match(e5))return i=F4(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Li(s[1])).replace(/\.$/,"."+Li(s[1])).replace(/\.(\d*)$/,function(x,b){return"."+b+pr("0",Li(s[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+F4(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Pl(cf(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ks(t,e,-n):Pl(""+(Math.floor(n)+qV(n,s[1].length)))+"."+wo(P4(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ks(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Bf(Ks(t,e.replace(/[\\-]/g,""),n)),o=0,Bf(Bf(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<i.length?i.charAt(o++):x==="0"?"0":""}));if(e.match(n5))return i=Ks(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=a1(l,Math.pow(10,o)-1,!1),i=""+c,f=Ba("n",s[1],a[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=s1(a[2],o),f.length<s[4].length&&(f=Li(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=a1(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?WC(a[1],o)+s[2]+"/"+s[3]+s1(a[2],o):pr(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=cf(n,0),e.length<=i.length?i:Li(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var d=e.indexOf(".")-o,p=e.length-i.length-d;return Li(e.substr(0,d)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=P4(n,s[1].length),n<0?"-"+Ks(t,e,-n):Pl(WV(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?wo(0,3-x.length):"")+x})+"."+wo(o,s[1].length);switch(e){case"###,##0.00":return Ks(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var g=Pl(cf(l,0));return g!=="0"?c+g:"";case"###,###.00":return Ks(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ks(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function GV(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ba(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function KV(t,e,n){var r=e.replace(QB,""),i=e.length-r.length;return Ba(t,r,n*Math.pow(10,2*i))+pr("%",i)}function r5(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+r5(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,f){return l+c+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Uo(t,e,n){if(t.charCodeAt(0)===40&&!e.match(t5)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Uo("n",r,n):"("+Uo("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return GV(t,e,n);if(e.indexOf("%")!==-1)return KV(t,e,n);if(e.indexOf("E")!==-1)return r5(e,n);if(e.charCodeAt(0)===36)return"$"+Uo(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,a,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+wo(l,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Li(e.substr(0,e.length-i.length))+i;if(s=e.match(ZB))return VV(s,l,c);if(e.match(/^#+0+$/))return c+wo(l,e.length-e.indexOf("0"));if(s=e.match(e5))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Li(s[1])).replace(/\.$/,"."+Li(s[1])),i=i.replace(/\.(\d*)$/,function(x,b){return"."+b+pr("0",Li(s[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Pl(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Uo(t,e,-n):Pl(""+n)+"."+pr("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Uo(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Bf(Uo(t,e.replace(/[\\-]/g,""),n)),o=0,Bf(Bf(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<i.length?i.charAt(o++):x==="0"?"0":""}));if(e.match(n5))return i=Uo(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=a1(l,Math.pow(10,o)-1,!1),i=""+c,f=Ba("n",s[1],a[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=s1(a[2],o),f.length<s[4].length&&(f=Li(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=a1(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?WC(a[1],o)+s[2]+"/"+s[3]+s1(a[2],o):pr(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Li(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var d=e.indexOf(".")-o,p=e.length-i.length-d;return Li(e.substr(0,d)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Uo(t,e,-n):Pl(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?wo(0,3-x.length):"")+x})+"."+wo(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var g=Pl(""+l);return g!=="0"?c+g:"";default:if(e.match(/\.[0#?]*$/))return Uo(t,e.slice(0,e.lastIndexOf(".")),n)+Li(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ba(t,e,n){return(n|0)===n?Uo(t,e,n):Ks(t,e,n)}function XV(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var i5=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function s5(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":o1(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(i5))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function YV(t,e,n,r){for(var i=[],s="",o=0,a="",l="t",c,f,d,p="H";o<t.length;)switch(a=t.charAt(o)){case"G":if(!o1(t,o))throw new Error("unrecognized character "+a+" in "+t);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(d=t.charCodeAt(++o))!==34&&o<t.length;)s+=String.fromCharCode(d);i[i.length]={t:"t",v:s},++o;break;case"\\":var g=t.charAt(++o),x=g==="("||g===")"?g:"t";i[i.length]={t:x,v:g},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(c==null&&(c=Gm(e,n,t.charAt(o+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=Gm(e,n),c==null))return"";for(s=a;++o<t.length&&t.charAt(o).toLowerCase()===a;)s+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=p),i[i.length]={t:a,v:s},l=a;break;case"A":case"a":case"":var b={t:a,v:a};if(c==null&&(c=Gm(e,n)),t.substr(o,3).toUpperCase()==="A/P"?(c!=null&&(b.v=c.H>=12?"P":"A"),b.t="T",p="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(c!=null&&(b.v=c.H>=12?"PM":"AM"),b.t="T",o+=5,p="h"):t.substr(o,5).toUpperCase()==="/"?(c!=null&&(b.v=c.H>=12?"":""),b.t="T",o+=5,p="h"):(b.t="t",++o),c==null&&b.t==="T")return"";i[i.length]=b,l=a;break;case"[":for(s=a;t.charAt(o++)!=="]"&&o<t.length;)s+=t.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(i5)){if(c==null&&(c=Gm(e,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",s5(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=a;++o<t.length&&(a=t.charAt(o))==="0";)s+=a;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<t.length&&"0#?.,E+-%".indexOf(a=t.charAt(o))>-1;)s+=a;i[i.length]={t:"n",v:s};break;case"?":for(s=a;t.charAt(++o)===a;)s+=a;i[i.length]={t:a,v:s},l=a;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)s+=t.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:a,v:a},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+t);i[i.length]={t:"t",v:a},++o;break}var v=0,w=0,k;for(o=i.length-1,l="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=p,l="h",v<1&&(v=1);break;case"s":(k=i[o].v.match(/\.0+$/))&&(w=Math.max(w,k[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=i[o].t;break;case"m":l==="s"&&(i[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&i[o].v.match(/[Hh]/)&&(v=1),v<2&&i[o].v.match(/[Mm]/)&&(v=2),v<3&&i[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var A="",T;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=HV(i[o].t.charCodeAt(0),i[o].v,c,w),i[o].t="t";break;case"n":case"?":for(T=o+1;i[T]!=null&&((a=i[T].t)==="?"||a==="D"||(a===" "||a==="t")&&i[T+1]!=null&&(i[T+1].t==="?"||i[T+1].t==="t"&&i[T+1].v==="/")||i[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(i[T].v==="/"||i[T].v===" "&&i[T+1]!=null&&i[T+1].t=="?"));)i[o].v+=i[T].v,i[T]={v:"",t:";"},++T;A+=i[o].v,o=T-1;break;case"G":i[o].t="t",i[o].v=P2(e,n);break}var O="",_,N;if(A.length>0){A.charCodeAt(0)==40?(_=e<0&&A.charCodeAt(0)===45?-e:e,N=Ba("n",A,_)):(_=e<0&&r>1?-e:e,N=Ba("n",A,_),_<0&&i[0]&&i[0].t=="t"&&(N=N.substr(1),i[0].v="-"+i[0].v)),T=N.length-1;var F=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){F=o;break}var L=i.length;if(F===i.length&&N.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(T>=i[o].v.length-1?(T-=i[o].v.length,i[o].v=N.substr(T+1,i[o].v.length)):T<0?i[o].v="":(i[o].v=N.substr(0,T+1),T=-1),i[o].t="t",L=o);T>=0&&L<i.length&&(i[L].v=N.substr(0,T+1)+i[L].v)}else if(F!==i.length&&N.indexOf("E")===-1){for(T=N.indexOf(".")-1,o=F;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(f=i[o].v.indexOf(".")>-1&&o===F?i[o].v.indexOf(".")-1:i[o].v.length-1,O=i[o].v.substr(f+1);f>=0;--f)T>=0&&(i[o].v.charAt(f)==="0"||i[o].v.charAt(f)==="#")&&(O=N.charAt(T--)+O);i[o].v=O,i[o].t="t",L=o}for(T>=0&&L<i.length&&(i[L].v=N.substr(0,T+1)+i[L].v),T=N.indexOf(".")+1,o=F;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==F)){for(f=i[o].v.indexOf(".")>-1&&o===F?i[o].v.indexOf(".")+1:0,O=i[o].v.substr(0,f);f<i[o].v.length;++f)T<N.length&&(O+=N.charAt(T++));i[o].v=O,i[o].t="t",L=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(_=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=Ba(i[o].t,i[o].v,_),i[o].t="t");var R="";for(o=0;o!==i.length;++o)i[o]!=null&&(R+=i[o].v);return R}var z4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function H4(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function QV(t,e){var n=XV(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(z4),a=n[1].match(z4);return H4(e,o)?[r,n[0]]:H4(e,a)?[r,n[1]]:[r,n[o!=null&&a!=null?2:1]]}return[r,s]}function Yl(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:xr)[t],r==null&&(r=n.table&&n.table[I4[t]]||xr[I4[t]]),r==null&&(r=MV[t]||"General");break}if(o1(r,0))return P2(e,n);e instanceof Date&&(e=YB(e,n.date1904));var i=QV(r,e);if(o1(i[1]))return P2(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return YV(i[1],e,n,i[0])}function o5(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(xr[n]==null){e<0&&(e=n);continue}if(xr[n]==t){e=n;break}}e<0&&(e=391)}return xr[e]=t,e}function $y(t){for(var e=0;e!=392;++e)t[e]!==void 0&&o5(t[e],e)}function Vy(){xr=OV()}var a5=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function JV(t){var e=typeof t=="number"?xr[t]:t;return e=e.replace(a5,"(\\d+)"),new RegExp("^"+e+"$")}function ZV(t,e,n){var r=-1,i=-1,s=-1,o=-1,a=-1,l=-1;(e.match(a5)||[]).forEach(function(d,p){var g=parseInt(n[p+1],10);switch(d.toLowerCase().charAt(0)){case"y":r=g;break;case"d":s=g;break;case"h":o=g;break;case"s":l=g;break;case"m":o>=0?a=g:i=g;break}}),l>=0&&a==-1&&i>=0&&(a=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?c:r==-1&&i==-1&&s==-1?f:c+"T"+f}var eq=(function(){var t={};t.version="1.2.0";function e(){for(var N=0,F=new Array(256),L=0;L!=256;++L)N=L,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,F[L]=N;return typeof Int32Array<"u"?new Int32Array(F):F}var n=e();function r(N){var F=0,L=0,R=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)P[R]=N[R];for(R=0;R!=256;++R)for(L=N[R],F=256+R;F<4096;F+=256)L=P[F]=L>>>8^N[L&255];var z=[];for(R=1;R!=16;++R)z[R-1]=typeof Int32Array<"u"?P.subarray(R*256,R*256+256):P.slice(R*256,R*256+256);return z}var i=r(n),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],f=i[5],d=i[6],p=i[7],g=i[8],x=i[9],b=i[10],v=i[11],w=i[12],k=i[13],A=i[14];function T(N,F){for(var L=F^-1,R=0,P=N.length;R<P;)L=L>>>8^n[(L^N.charCodeAt(R++))&255];return~L}function O(N,F){for(var L=F^-1,R=N.length-15,P=0;P<R;)L=A[N[P++]^L&255]^k[N[P++]^L>>8&255]^w[N[P++]^L>>16&255]^v[N[P++]^L>>>24]^b[N[P++]]^x[N[P++]]^g[N[P++]]^p[N[P++]]^d[N[P++]]^f[N[P++]]^c[N[P++]]^l[N[P++]]^a[N[P++]]^o[N[P++]]^s[N[P++]]^n[N[P++]];for(R+=15;P<R;)L=L>>>8^n[(L^N[P++])&255];return~L}function _(N,F){for(var L=F^-1,R=0,P=N.length,z=0,W=0;R<P;)z=N.charCodeAt(R++),z<128?L=L>>>8^n[(L^z)&255]:z<2048?(L=L>>>8^n[(L^(192|z>>6&31))&255],L=L>>>8^n[(L^(128|z&63))&255]):z>=55296&&z<57344?(z=(z&1023)+64,W=N.charCodeAt(R++)&1023,L=L>>>8^n[(L^(240|z>>8&7))&255],L=L>>>8^n[(L^(128|z>>2&63))&255],L=L>>>8^n[(L^(128|W>>6&15|(z&3)<<4))&255],L=L>>>8^n[(L^(128|W&63))&255]):(L=L>>>8^n[(L^(224|z>>12&15))&255],L=L>>>8^n[(L^(128|z>>6&63))&255],L=L>>>8^n[(L^(128|z&63))&255]);return~L}return t.table=n,t.bstr=T,t.buf=O,t.str=_,t})(),Rn=(function(){var e={};e.version="1.2.1";function n(H,Y){for(var G=H.split("/"),K=Y.split("/"),Q=0,Z=0,xe=Math.min(G.length,K.length);Q<xe;++Q){if(Z=G[Q].length-K[Q].length)return Z;if(G[Q]!=K[Q])return G[Q]<K[Q]?-1:1}return G.length-K.length}function r(H){if(H.charAt(H.length-1)=="/")return H.slice(0,-1).indexOf("/")===-1?H:r(H.slice(0,-1));var Y=H.lastIndexOf("/");return Y===-1?H:H.slice(0,Y+1)}function i(H){if(H.charAt(H.length-1)=="/")return i(H.slice(0,-1));var Y=H.lastIndexOf("/");return Y===-1?H:H.slice(Y+1)}function s(H,Y){typeof Y=="string"&&(Y=new Date(Y));var G=Y.getHours();G=G<<6|Y.getMinutes(),G=G<<5|Y.getSeconds()>>>1,H.write_shift(2,G);var K=Y.getFullYear()-1980;K=K<<4|Y.getMonth()+1,K=K<<5|Y.getDate(),H.write_shift(2,K)}function o(H){var Y=H.read_shift(2)&65535,G=H.read_shift(2)&65535,K=new Date,Q=G&31;G>>>=5;var Z=G&15;G>>>=4,K.setMilliseconds(0),K.setFullYear(G+1980),K.setMonth(Z-1),K.setDate(Q);var xe=Y&31;Y>>>=5;var _e=Y&63;return Y>>>=6,K.setHours(Y),K.setMinutes(_e),K.setSeconds(xe<<1),K}function a(H){Ns(H,0);for(var Y={},G=0;H.l<=H.length-4;){var K=H.read_shift(2),Q=H.read_shift(2),Z=H.l+Q,xe={};switch(K){case 21589:G=H.read_shift(1),G&1&&(xe.mtime=H.read_shift(4)),Q>5&&(G&2&&(xe.atime=H.read_shift(4)),G&4&&(xe.ctime=H.read_shift(4))),xe.mtime&&(xe.mt=new Date(xe.mtime*1e3));break}H.l=Z,Y[K]=xe}return Y}var l;function c(){return l||(l={})}function f(H,Y){if(H[0]==80&&H[1]==75)return ni(H,Y);if((H[0]|32)==109&&(H[1]|32)==105)return Ke(H,Y);if(H.length<512)throw new Error("CFB file size "+H.length+" < 512");var G=3,K=512,Q=0,Z=0,xe=0,_e=0,pe=0,ye=[],be=H.slice(0,512);Ns(be,0);var Ue=d(be);switch(G=Ue[0],G){case 3:K=512;break;case 4:K=4096;break;case 0:if(Ue[1]==0)return ni(H,Y);default:throw new Error("Major Version: Expected 3 or 4 saw "+G)}K!==512&&(be=H.slice(0,K),Ns(be,28));var qe=H.slice(0,K);p(be,G);var rt=be.read_shift(4,"i");if(G===3&&rt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+rt);be.l+=4,xe=be.read_shift(4,"i"),be.l+=4,be.chk("00100000","Mini Stream Cutoff Size: "),_e=be.read_shift(4,"i"),Q=be.read_shift(4,"i"),pe=be.read_shift(4,"i"),Z=be.read_shift(4,"i");for(var je=-1,Ze=0;Ze<109&&(je=be.read_shift(4,"i"),!(je<0));++Ze)ye[Ze]=je;var ht=g(H,K);v(pe,Z,ht,K,ye);var _n=k(ht,xe,ye,K);_n[xe].name="!Directory",Q>0&&_e!==W&&(_n[_e].name="!MiniFAT"),_n[ye[0]].name="!FAT",_n.fat_addrs=ye,_n.ssz=K;var mn={},qn=[],He=[],dt=[];A(xe,_n,ht,qn,Q,mn,He,_e),x(He,dt,qn),qn.shift();var Dt={FileIndex:He,FullPaths:dt};return Y&&Y.raw&&(Dt.raw={header:qe,sectors:ht}),Dt}function d(H){if(H[H.l]==80&&H[H.l+1]==75)return[0,0];H.chk(ee,"Header Signature: "),H.l+=16;var Y=H.read_shift(2,"u");return[H.read_shift(2,"u"),Y]}function p(H,Y){var G=9;switch(H.l+=2,G=H.read_shift(2)){case 9:if(Y!=3)throw new Error("Sector Shift: Expected 9 saw "+G);break;case 12:if(Y!=4)throw new Error("Sector Shift: Expected 12 saw "+G);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+G)}H.chk("0600","Mini Sector Shift: "),H.chk("000000000000","Reserved: ")}function g(H,Y){for(var G=Math.ceil(H.length/Y)-1,K=[],Q=1;Q<G;++Q)K[Q-1]=H.slice(Q*Y,(Q+1)*Y);return K[G-1]=H.slice(G*Y),K}function x(H,Y,G){for(var K=0,Q=0,Z=0,xe=0,_e=0,pe=G.length,ye=[],be=[];K<pe;++K)ye[K]=be[K]=K,Y[K]=G[K];for(;_e<be.length;++_e)K=be[_e],Q=H[K].L,Z=H[K].R,xe=H[K].C,ye[K]===K&&(Q!==-1&&ye[Q]!==Q&&(ye[K]=ye[Q]),Z!==-1&&ye[Z]!==Z&&(ye[K]=ye[Z])),xe!==-1&&(ye[xe]=K),Q!==-1&&K!=ye[K]&&(ye[Q]=ye[K],be.lastIndexOf(Q)<_e&&be.push(Q)),Z!==-1&&K!=ye[K]&&(ye[Z]=ye[K],be.lastIndexOf(Z)<_e&&be.push(Z));for(K=1;K<pe;++K)ye[K]===K&&(Z!==-1&&ye[Z]!==Z?ye[K]=ye[Z]:Q!==-1&&ye[Q]!==Q&&(ye[K]=ye[Q]));for(K=1;K<pe;++K)if(H[K].type!==0){if(_e=K,_e!=ye[_e])do _e=ye[_e],Y[K]=Y[_e]+"/"+Y[K];while(_e!==0&&ye[_e]!==-1&&_e!=ye[_e]);ye[K]=-1}for(Y[0]+="/",K=1;K<pe;++K)H[K].type!==2&&(Y[K]+="/")}function b(H,Y,G){for(var K=H.start,Q=H.size,Z=[],xe=K;G&&Q>0&&xe>=0;)Z.push(Y.slice(xe*z,xe*z+z)),Q-=z,xe=Ic(G,xe*4);return Z.length===0?Te(0):pi(Z).slice(0,H.size)}function v(H,Y,G,K,Q){var Z=W;if(H===W){if(Y!==0)throw new Error("DIFAT chain shorter than expected")}else if(H!==-1){var xe=G[H],_e=(K>>>2)-1;if(!xe)return;for(var pe=0;pe<_e&&(Z=Ic(xe,pe*4))!==W;++pe)Q.push(Z);v(Ic(xe,K-4),Y-1,G,K,Q)}}function w(H,Y,G,K,Q){var Z=[],xe=[];Q||(Q=[]);var _e=K-1,pe=0,ye=0;for(pe=Y;pe>=0;){Q[pe]=!0,Z[Z.length]=pe,xe.push(H[pe]);var be=G[Math.floor(pe*4/K)];if(ye=pe*4&_e,K<4+ye)throw new Error("FAT boundary crossed: "+pe+" 4 "+K);if(!H[be])break;pe=Ic(H[be],ye)}return{nodes:Z,data:K4([xe])}}function k(H,Y,G,K){var Q=H.length,Z=[],xe=[],_e=[],pe=[],ye=K-1,be=0,Ue=0,qe=0,rt=0;for(be=0;be<Q;++be)if(_e=[],qe=be+Y,qe>=Q&&(qe-=Q),!xe[qe]){pe=[];var je=[];for(Ue=qe;Ue>=0;){je[Ue]=!0,xe[Ue]=!0,_e[_e.length]=Ue,pe.push(H[Ue]);var Ze=G[Math.floor(Ue*4/K)];if(rt=Ue*4&ye,K<4+rt)throw new Error("FAT boundary crossed: "+Ue+" 4 "+K);if(!H[Ze]||(Ue=Ic(H[Ze],rt),je[Ue]))break}Z[qe]={nodes:_e,data:K4([pe])}}return Z}function A(H,Y,G,K,Q,Z,xe,_e){for(var pe=0,ye=K.length?2:0,be=Y[H].data,Ue=0,qe=0,rt;Ue<be.length;Ue+=128){var je=be.slice(Ue,Ue+128);Ns(je,64),qe=je.read_shift(2),rt=JC(je,0,qe-ye),K.push(rt);var Ze={name:rt,type:je.read_shift(1),color:je.read_shift(1),L:je.read_shift(4,"i"),R:je.read_shift(4,"i"),C:je.read_shift(4,"i"),clsid:je.read_shift(16),state:je.read_shift(4,"i"),start:0,size:0},ht=je.read_shift(2)+je.read_shift(2)+je.read_shift(2)+je.read_shift(2);ht!==0&&(Ze.ct=T(je,je.l-8));var _n=je.read_shift(2)+je.read_shift(2)+je.read_shift(2)+je.read_shift(2);_n!==0&&(Ze.mt=T(je,je.l-8)),Ze.start=je.read_shift(4,"i"),Ze.size=je.read_shift(4,"i"),Ze.size<0&&Ze.start<0&&(Ze.size=Ze.type=0,Ze.start=W,Ze.name=""),Ze.type===5?(pe=Ze.start,Q>0&&pe!==W&&(Y[pe].name="!StreamData")):Ze.size>=4096?(Ze.storage="fat",Y[Ze.start]===void 0&&(Y[Ze.start]=w(G,Ze.start,Y.fat_addrs,Y.ssz)),Y[Ze.start].name=Ze.name,Ze.content=Y[Ze.start].data.slice(0,Ze.size)):(Ze.storage="minifat",Ze.size<0?Ze.size=0:pe!==W&&Ze.start!==W&&Y[pe]&&(Ze.content=b(Ze,Y[pe].data,(Y[_e]||{}).data))),Ze.content&&Ns(Ze.content,0),Z[rt]=Ze,xe.push(Ze)}}function T(H,Y){return new Date((Os(H,Y+4)/1e7*Math.pow(2,32)+Os(H,Y)/1e7-11644473600)*1e3)}function O(H,Y){return c(),f(l.readFileSync(H),Y)}function _(H,Y){var G=Y&&Y.type;switch(G||xn&&Buffer.isBuffer(H)&&(G="buffer"),G||"base64"){case"file":return O(H,Y);case"base64":return f(bo(Ha(H)),Y);case"binary":return f(bo(H),Y)}return f(H,Y)}function N(H,Y){var G=Y||{},K=G.root||"Root Entry";if(H.FullPaths||(H.FullPaths=[]),H.FileIndex||(H.FileIndex=[]),H.FullPaths.length!==H.FileIndex.length)throw new Error("inconsistent CFB structure");H.FullPaths.length===0&&(H.FullPaths[0]=K+"/",H.FileIndex[0]={name:K,type:5}),G.CLSID&&(H.FileIndex[0].clsid=G.CLSID),F(H)}function F(H){var Y="Sh33tJ5";if(!Rn.find(H,"/"+Y)){var G=Te(4);G[0]=55,G[1]=G[3]=50,G[2]=54,H.FileIndex.push({name:Y,type:2,content:G,size:4,L:69,R:69,C:69}),H.FullPaths.push(H.FullPaths[0]+Y),L(H)}}function L(H,Y){N(H);for(var G=!1,K=!1,Q=H.FullPaths.length-1;Q>=0;--Q){var Z=H.FileIndex[Q];switch(Z.type){case 0:K?G=!0:(H.FileIndex.pop(),H.FullPaths.pop());break;case 1:case 2:case 5:K=!0,isNaN(Z.R*Z.L*Z.C)&&(G=!0),Z.R>-1&&Z.L>-1&&Z.R==Z.L&&(G=!0);break;default:G=!0;break}}if(!(!G&&!Y)){var xe=new Date(1987,1,19),_e=0,pe=Object.create?Object.create(null):{},ye=[];for(Q=0;Q<H.FullPaths.length;++Q)pe[H.FullPaths[Q]]=!0,H.FileIndex[Q].type!==0&&ye.push([H.FullPaths[Q],H.FileIndex[Q]]);for(Q=0;Q<ye.length;++Q){var be=r(ye[Q][0]);K=pe[be],K||(ye.push([be,{name:i(be).replace("/",""),type:1,clsid:J,ct:xe,mt:xe,content:null}]),pe[be]=!0)}for(ye.sort(function(rt,je){return n(rt[0],je[0])}),H.FullPaths=[],H.FileIndex=[],Q=0;Q<ye.length;++Q)H.FullPaths[Q]=ye[Q][0],H.FileIndex[Q]=ye[Q][1];for(Q=0;Q<ye.length;++Q){var Ue=H.FileIndex[Q],qe=H.FullPaths[Q];if(Ue.name=i(qe).replace("/",""),Ue.L=Ue.R=Ue.C=-(Ue.color=1),Ue.size=Ue.content?Ue.content.length:0,Ue.start=0,Ue.clsid=Ue.clsid||J,Q===0)Ue.C=ye.length>1?1:-1,Ue.size=0,Ue.type=5;else if(qe.slice(-1)=="/"){for(_e=Q+1;_e<ye.length&&r(H.FullPaths[_e])!=qe;++_e);for(Ue.C=_e>=ye.length?-1:_e,_e=Q+1;_e<ye.length&&r(H.FullPaths[_e])!=r(qe);++_e);Ue.R=_e>=ye.length?-1:_e,Ue.type=1}else r(H.FullPaths[Q+1]||"")==r(qe)&&(Ue.R=Q+1),Ue.type=2}}}function R(H,Y){var G=Y||{};if(G.fileType=="mad")return Oe(H,G);switch(L(H),G.fileType){case"zip":return pn(H,G)}var K=(function(rt){for(var je=0,Ze=0,ht=0;ht<rt.FileIndex.length;++ht){var _n=rt.FileIndex[ht];if(_n.content){var mn=_n.content.length;mn>0&&(mn<4096?je+=mn+63>>6:Ze+=mn+511>>9)}}for(var qn=rt.FullPaths.length+3>>2,He=je+7>>3,dt=je+127>>7,Dt=He+Ze+qn+dt,qt=Dt+127>>7,Zn=qt<=109?0:Math.ceil((qt-109)/127);Dt+qt+Zn+127>>7>qt;)Zn=++qt<=109?0:Math.ceil((qt-109)/127);var Wn=[1,Zn,qt,dt,qn,Ze,je,0];return rt.FileIndex[0].size=je<<6,Wn[7]=(rt.FileIndex[0].start=Wn[0]+Wn[1]+Wn[2]+Wn[3]+Wn[4]+Wn[5])+(Wn[6]+7>>3),Wn})(H),Q=Te(K[7]<<9),Z=0,xe=0;{for(Z=0;Z<8;++Z)Q.write_shift(1,te[Z]);for(Z=0;Z<8;++Z)Q.write_shift(2,0);for(Q.write_shift(2,62),Q.write_shift(2,3),Q.write_shift(2,65534),Q.write_shift(2,9),Q.write_shift(2,6),Z=0;Z<3;++Z)Q.write_shift(2,0);for(Q.write_shift(4,0),Q.write_shift(4,K[2]),Q.write_shift(4,K[0]+K[1]+K[2]+K[3]-1),Q.write_shift(4,0),Q.write_shift(4,4096),Q.write_shift(4,K[3]?K[0]+K[1]+K[2]-1:W),Q.write_shift(4,K[3]),Q.write_shift(-4,K[1]?K[0]-1:W),Q.write_shift(4,K[1]),Z=0;Z<109;++Z)Q.write_shift(-4,Z<K[2]?K[1]+Z:-1)}if(K[1])for(xe=0;xe<K[1];++xe){for(;Z<236+xe*127;++Z)Q.write_shift(-4,Z<K[2]?K[1]+Z:-1);Q.write_shift(-4,xe===K[1]-1?W:xe+1)}var _e=function(rt){for(xe+=rt;Z<xe-1;++Z)Q.write_shift(-4,Z+1);rt&&(++Z,Q.write_shift(-4,W))};for(xe=Z=0,xe+=K[1];Z<xe;++Z)Q.write_shift(-4,ae.DIFSECT);for(xe+=K[2];Z<xe;++Z)Q.write_shift(-4,ae.FATSECT);_e(K[3]),_e(K[4]);for(var pe=0,ye=0,be=H.FileIndex[0];pe<H.FileIndex.length;++pe)be=H.FileIndex[pe],be.content&&(ye=be.content.length,!(ye<4096)&&(be.start=xe,_e(ye+511>>9)));for(_e(K[6]+7>>3);Q.l&511;)Q.write_shift(-4,ae.ENDOFCHAIN);for(xe=Z=0,pe=0;pe<H.FileIndex.length;++pe)be=H.FileIndex[pe],be.content&&(ye=be.content.length,!(!ye||ye>=4096)&&(be.start=xe,_e(ye+63>>6)));for(;Q.l&511;)Q.write_shift(-4,ae.ENDOFCHAIN);for(Z=0;Z<K[4]<<2;++Z){var Ue=H.FullPaths[Z];if(!Ue||Ue.length===0){for(pe=0;pe<17;++pe)Q.write_shift(4,0);for(pe=0;pe<3;++pe)Q.write_shift(4,-1);for(pe=0;pe<12;++pe)Q.write_shift(4,0);continue}be=H.FileIndex[Z],Z===0&&(be.start=be.size?be.start-1:W);var qe=Z===0&&G.root||be.name;if(ye=2*(qe.length+1),Q.write_shift(64,qe,"utf16le"),Q.write_shift(2,ye),Q.write_shift(1,be.type),Q.write_shift(1,be.color),Q.write_shift(-4,be.L),Q.write_shift(-4,be.R),Q.write_shift(-4,be.C),be.clsid)Q.write_shift(16,be.clsid,"hex");else for(pe=0;pe<4;++pe)Q.write_shift(4,0);Q.write_shift(4,be.state||0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,be.start),Q.write_shift(4,be.size),Q.write_shift(4,0)}for(Z=1;Z<H.FileIndex.length;++Z)if(be=H.FileIndex[Z],be.size>=4096)if(Q.l=be.start+1<<9,xn&&Buffer.isBuffer(be.content))be.content.copy(Q,Q.l,0,be.size),Q.l+=be.size+511&-512;else{for(pe=0;pe<be.size;++pe)Q.write_shift(1,be.content[pe]);for(;pe&511;++pe)Q.write_shift(1,0)}for(Z=1;Z<H.FileIndex.length;++Z)if(be=H.FileIndex[Z],be.size>0&&be.size<4096)if(xn&&Buffer.isBuffer(be.content))be.content.copy(Q,Q.l,0,be.size),Q.l+=be.size+63&-64;else{for(pe=0;pe<be.size;++pe)Q.write_shift(1,be.content[pe]);for(;pe&63;++pe)Q.write_shift(1,0)}if(xn)Q.l=Q.length;else for(;Q.l<Q.length;)Q.write_shift(1,0);return Q}function P(H,Y){var G=H.FullPaths.map(function(pe){return pe.toUpperCase()}),K=G.map(function(pe){var ye=pe.split("/");return ye[ye.length-(pe.slice(-1)=="/"?2:1)]}),Q=!1;Y.charCodeAt(0)===47?(Q=!0,Y=G[0].slice(0,-1)+Y):Q=Y.indexOf("/")!==-1;var Z=Y.toUpperCase(),xe=Q===!0?G.indexOf(Z):K.indexOf(Z);if(xe!==-1)return H.FileIndex[xe];var _e=!Z.match(Wm);for(Z=Z.replace(jd,""),_e&&(Z=Z.replace(Wm,"!")),xe=0;xe<G.length;++xe)if((_e?G[xe].replace(Wm,"!"):G[xe]).replace(jd,"")==Z||(_e?K[xe].replace(Wm,"!"):K[xe]).replace(jd,"")==Z)return H.FileIndex[xe];return null}var z=64,W=-2,ee="d0cf11e0a1b11ae1",te=[208,207,17,224,161,177,26,225],J="00000000000000000000000000000000",ae={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:ee,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:J,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ce(H,Y,G){c();var K=R(H,G);l.writeFileSync(Y,K)}function ve(H){for(var Y=new Array(H.length),G=0;G<H.length;++G)Y[G]=String.fromCharCode(H[G]);return Y.join("")}function q(H,Y){var G=R(H,Y);switch(Y&&Y.type||"buffer"){case"file":return c(),l.writeFileSync(Y.filename,G),G;case"binary":return typeof G=="string"?G:ve(G);case"base64":return b0(typeof G=="string"?G:ve(G));case"buffer":if(xn)return Buffer.isBuffer(G)?G:Wa(G);case"array":return typeof G=="string"?bo(G):G}return G}var U;function M(H){try{var Y=H.InflateRaw,G=new Y;if(G._processChunk(new Uint8Array([3,0]),G._finishFlushFlag),G.bytesRead)U=H;else throw new Error("zlib does not expose bytesRead")}catch(K){console.error("cannot use native zlib: "+(K.message||K))}}function D(H,Y){if(!U)return Ln(H,Y);var G=U.InflateRaw,K=new G,Q=K._processChunk(H.slice(H.l),K._finishFlushFlag);return H.l+=K.bytesRead,Q}function I(H){return U?U.deflateRawSync(H):Rt(H)}var V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],he=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function oe(H){var Y=(H<<1|H<<11)&139536|(H<<5|H<<15)&558144;return(Y>>16|Y>>8|Y)&255}for(var Ee=typeof Uint8Array<"u",de=Ee?new Uint8Array(256):[],ct=0;ct<256;++ct)de[ct]=oe(ct);function ot(H,Y){var G=de[H&255];return Y<=8?G>>>8-Y:(G=G<<8|de[H>>8&255],Y<=16?G>>>16-Y:(G=G<<8|de[H>>16&255],G>>>24-Y))}function _t(H,Y){var G=Y&7,K=Y>>>3;return(H[K]|(G<=6?0:H[K+1]<<8))>>>G&3}function et(H,Y){var G=Y&7,K=Y>>>3;return(H[K]|(G<=5?0:H[K+1]<<8))>>>G&7}function Ve(H,Y){var G=Y&7,K=Y>>>3;return(H[K]|(G<=4?0:H[K+1]<<8))>>>G&15}function Ie(H,Y){var G=Y&7,K=Y>>>3;return(H[K]|(G<=3?0:H[K+1]<<8))>>>G&31}function Be(H,Y){var G=Y&7,K=Y>>>3;return(H[K]|(G<=1?0:H[K+1]<<8))>>>G&127}function it(H,Y,G){var K=Y&7,Q=Y>>>3,Z=(1<<G)-1,xe=H[Q]>>>K;return G<8-K||(xe|=H[Q+1]<<8-K,G<16-K)||(xe|=H[Q+2]<<16-K,G<24-K)||(xe|=H[Q+3]<<24-K),xe&Z}function Et(H,Y,G){var K=Y&7,Q=Y>>>3;return K<=5?H[Q]|=(G&7)<<K:(H[Q]|=G<<K&255,H[Q+1]=(G&7)>>8-K),Y+3}function Mt(H,Y,G){var K=Y&7,Q=Y>>>3;return G=(G&1)<<K,H[Q]|=G,Y+1}function rn(H,Y,G){var K=Y&7,Q=Y>>>3;return G<<=K,H[Q]|=G&255,G>>>=8,H[Q+1]=G,Y+8}function on(H,Y,G){var K=Y&7,Q=Y>>>3;return G<<=K,H[Q]|=G&255,G>>>=8,H[Q+1]=G&255,H[Q+2]=G>>>8,Y+16}function Qn(H,Y){var G=H.length,K=2*G>Y?2*G:Y+5,Q=0;if(G>=Y)return H;if(xn){var Z=R4(K);if(H.copy)H.copy(Z);else for(;Q<H.length;++Q)Z[Q]=H[Q];return Z}else if(Ee){var xe=new Uint8Array(K);if(xe.set)xe.set(H);else for(;Q<G;++Q)xe[Q]=H[Q];return xe}return H.length=K,H}function Nt(H){for(var Y=new Array(H),G=0;G<H;++G)Y[G]=0;return Y}function Ur(H,Y,G){var K=1,Q=0,Z=0,xe=0,_e=0,pe=H.length,ye=Ee?new Uint16Array(32):Nt(32);for(Z=0;Z<32;++Z)ye[Z]=0;for(Z=pe;Z<G;++Z)H[Z]=0;pe=H.length;var be=Ee?new Uint16Array(pe):Nt(pe);for(Z=0;Z<pe;++Z)ye[Q=H[Z]]++,K<Q&&(K=Q),be[Z]=0;for(ye[0]=0,Z=1;Z<=K;++Z)ye[Z+16]=_e=_e+ye[Z-1]<<1;for(Z=0;Z<pe;++Z)_e=H[Z],_e!=0&&(be[Z]=ye[_e+16]++);var Ue=0;for(Z=0;Z<pe;++Z)if(Ue=H[Z],Ue!=0)for(_e=ot(be[Z],K)>>K-Ue,xe=(1<<K+4-Ue)-1;xe>=0;--xe)Y[_e|xe<<Ue]=Ue&15|Z<<4;return K}var Ce=Ee?new Uint16Array(512):Nt(512),ze=Ee?new Uint16Array(32):Nt(32);if(!Ee){for(var at=0;at<512;++at)Ce[at]=0;for(at=0;at<32;++at)ze[at]=0}(function(){for(var H=[],Y=0;Y<32;Y++)H.push(5);Ur(H,ze,32);var G=[];for(Y=0;Y<=143;Y++)G.push(8);for(;Y<=255;Y++)G.push(9);for(;Y<=279;Y++)G.push(7);for(;Y<=287;Y++)G.push(8);Ur(G,Ce,288)})();var St=(function(){for(var Y=Ee?new Uint8Array(32768):[],G=0,K=0;G<he.length-1;++G)for(;K<he[G+1];++K)Y[K]=G;for(;K<32768;++K)Y[K]=29;var Q=Ee?new Uint8Array(259):[];for(G=0,K=0;G<re.length-1;++G)for(;K<re[G+1];++K)Q[K]=G;function Z(_e,pe){for(var ye=0;ye<_e.length;){var be=Math.min(65535,_e.length-ye),Ue=ye+be==_e.length;for(pe.write_shift(1,+Ue),pe.write_shift(2,be),pe.write_shift(2,~be&65535);be-- >0;)pe[pe.l++]=_e[ye++]}return pe.l}function xe(_e,pe){for(var ye=0,be=0,Ue=Ee?new Uint16Array(32768):[];be<_e.length;){var qe=Math.min(65535,_e.length-be);if(qe<10){for(ye=Et(pe,ye,+(be+qe==_e.length)),ye&7&&(ye+=8-(ye&7)),pe.l=ye/8|0,pe.write_shift(2,qe),pe.write_shift(2,~qe&65535);qe-- >0;)pe[pe.l++]=_e[be++];ye=pe.l*8;continue}ye=Et(pe,ye,+(be+qe==_e.length)+2);for(var rt=0;qe-- >0;){var je=_e[be];rt=(rt<<5^je)&32767;var Ze=-1,ht=0;if((Ze=Ue[rt])&&(Ze|=be&-32768,Ze>be&&(Ze-=32768),Ze<be))for(;_e[Ze+ht]==_e[be+ht]&&ht<250;)++ht;if(ht>2){je=Q[ht],je<=22?ye=rn(pe,ye,de[je+1]>>1)-1:(rn(pe,ye,3),ye+=5,rn(pe,ye,de[je-23]>>5),ye+=3);var _n=je<8?0:je-4>>2;_n>0&&(on(pe,ye,ht-re[je]),ye+=_n),je=Y[be-Ze],ye=rn(pe,ye,de[je]>>3),ye-=3;var mn=je<4?0:je-2>>1;mn>0&&(on(pe,ye,be-Ze-he[je]),ye+=mn);for(var qn=0;qn<ht;++qn)Ue[rt]=be&32767,rt=(rt<<5^_e[be])&32767,++be;qe-=ht-1}else je<=143?je=je+48:ye=Mt(pe,ye,1),ye=rn(pe,ye,de[je]),Ue[rt]=be&32767,++be}ye=rn(pe,ye,0)-1}return pe.l=(ye+7)/8|0,pe.l}return function(pe,ye){return pe.length<8?Z(pe,ye):xe(pe,ye)}})();function Rt(H){var Y=Te(50+Math.floor(H.length*1.1)),G=St(H,Y);return Y.slice(0,G)}var Xt=Ee?new Uint16Array(32768):Nt(32768),Jn=Ee?new Uint16Array(32768):Nt(32768),$n=Ee?new Uint16Array(128):Nt(128),hn=1,dn=1;function jt(H,Y){var G=Ie(H,Y)+257;Y+=5;var K=Ie(H,Y)+1;Y+=5;var Q=Ve(H,Y)+4;Y+=4;for(var Z=0,xe=Ee?new Uint8Array(19):Nt(19),_e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pe=1,ye=Ee?new Uint8Array(8):Nt(8),be=Ee?new Uint8Array(8):Nt(8),Ue=xe.length,qe=0;qe<Q;++qe)xe[V[qe]]=Z=et(H,Y),pe<Z&&(pe=Z),ye[Z]++,Y+=3;var rt=0;for(ye[0]=0,qe=1;qe<=pe;++qe)be[qe]=rt=rt+ye[qe-1]<<1;for(qe=0;qe<Ue;++qe)(rt=xe[qe])!=0&&(_e[qe]=be[rt]++);var je=0;for(qe=0;qe<Ue;++qe)if(je=xe[qe],je!=0){rt=de[_e[qe]]>>8-je;for(var Ze=(1<<7-je)-1;Ze>=0;--Ze)$n[rt|Ze<<je]=je&7|qe<<3}var ht=[];for(pe=1;ht.length<G+K;)switch(rt=$n[Be(H,Y)],Y+=rt&7,rt>>>=3){case 16:for(Z=3+_t(H,Y),Y+=2,rt=ht[ht.length-1];Z-- >0;)ht.push(rt);break;case 17:for(Z=3+et(H,Y),Y+=3;Z-- >0;)ht.push(0);break;case 18:for(Z=11+Be(H,Y),Y+=7;Z-- >0;)ht.push(0);break;default:ht.push(rt),pe<rt&&(pe=rt);break}var _n=ht.slice(0,G),mn=ht.slice(G);for(qe=G;qe<286;++qe)_n[qe]=0;for(qe=K;qe<30;++qe)mn[qe]=0;return hn=Ur(_n,Xt,286),dn=Ur(mn,Jn,30),Y}function Lr(H,Y){if(H[0]==3&&!(H[1]&3))return[nu(Y),2];for(var G=0,K=0,Q=R4(Y||1<<18),Z=0,xe=Q.length>>>0,_e=0,pe=0;(K&1)==0;){if(K=et(H,G),G+=3,K>>>1)K>>1==1?(_e=9,pe=5):(G=jt(H,G),_e=hn,pe=dn);else{G&7&&(G+=8-(G&7));var ye=H[G>>>3]|H[(G>>>3)+1]<<8;if(G+=32,ye>0)for(!Y&&xe<Z+ye&&(Q=Qn(Q,Z+ye),xe=Q.length);ye-- >0;)Q[Z++]=H[G>>>3],G+=8;continue}for(;;){!Y&&xe<Z+32767&&(Q=Qn(Q,Z+32767),xe=Q.length);var be=it(H,G,_e),Ue=K>>>1==1?Ce[be]:Xt[be];if(G+=Ue&15,Ue>>>=4,(Ue>>>8&255)===0)Q[Z++]=Ue;else{if(Ue==256)break;Ue-=257;var qe=Ue<8?0:Ue-4>>2;qe>5&&(qe=0);var rt=Z+re[Ue];qe>0&&(rt+=it(H,G,qe),G+=qe),be=it(H,G,pe),Ue=K>>>1==1?ze[be]:Jn[be],G+=Ue&15,Ue>>>=4;var je=Ue<4?0:Ue-2>>1,Ze=he[Ue];for(je>0&&(Ze+=it(H,G,je),G+=je),!Y&&xe<rt&&(Q=Qn(Q,rt+100),xe=Q.length);Z<rt;)Q[Z]=Q[Z-Ze],++Z}}}return Y?[Q,G+7>>>3]:[Q.slice(0,Z),G+7>>>3]}function Ln(H,Y){var G=H.slice(H.l||0),K=Lr(G,Y);return H.l+=K[1],K[0]}function ps(H,Y){if(H)typeof console<"u"&&console.error(Y);else throw new Error(Y)}function ni(H,Y){var G=H;Ns(G,0);var K=[],Q=[],Z={FileIndex:K,FullPaths:Q};N(Z,{root:Y.root});for(var xe=G.length-4;(G[xe]!=80||G[xe+1]!=75||G[xe+2]!=5||G[xe+3]!=6)&&xe>=0;)--xe;G.l=xe+4,G.l+=4;var _e=G.read_shift(2);G.l+=6;var pe=G.read_shift(4);for(G.l=pe,xe=0;xe<_e;++xe){G.l+=20;var ye=G.read_shift(4),be=G.read_shift(4),Ue=G.read_shift(2),qe=G.read_shift(2),rt=G.read_shift(2);G.l+=8;var je=G.read_shift(4),Ze=a(G.slice(G.l+Ue,G.l+Ue+qe));G.l+=Ue+qe+rt;var ht=G.l;G.l=je+4,Wi(G,ye,be,Z,Ze),G.l=ht}return Z}function Wi(H,Y,G,K,Q){H.l+=2;var Z=H.read_shift(2),xe=H.read_shift(2),_e=o(H);if(Z&8257)throw new Error("Unsupported ZIP encryption");for(var pe=H.read_shift(4),ye=H.read_shift(4),be=H.read_shift(4),Ue=H.read_shift(2),qe=H.read_shift(2),rt="",je=0;je<Ue;++je)rt+=String.fromCharCode(H[H.l++]);if(qe){var Ze=a(H.slice(H.l,H.l+qe));(Ze[21589]||{}).mt&&(_e=Ze[21589].mt),((Q||{})[21589]||{}).mt&&(_e=Q[21589].mt)}H.l+=qe;var ht=H.slice(H.l,H.l+ye);switch(xe){case 8:ht=D(H,be);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+xe)}var _n=!1;Z&8&&(pe=H.read_shift(4),pe==134695760&&(pe=H.read_shift(4),_n=!0),ye=H.read_shift(4),be=H.read_shift(4)),ye!=Y&&ps(_n,"Bad compressed size: "+Y+" != "+ye),be!=G&&ps(_n,"Bad uncompressed size: "+G+" != "+be),$e(K,rt,ht,{unsafe:!0,mt:_e})}function pn(H,Y){var G=Y||{},K=[],Q=[],Z=Te(1),xe=G.compression?8:0,_e=0,pe=0,ye=0,be=0,Ue=0,qe=H.FullPaths[0],rt=qe,je=H.FileIndex[0],Ze=[],ht=0;for(pe=1;pe<H.FullPaths.length;++pe)if(rt=H.FullPaths[pe].slice(qe.length),je=H.FileIndex[pe],!(!je.size||!je.content||rt=="Sh33tJ5")){var _n=be,mn=Te(rt.length);for(ye=0;ye<rt.length;++ye)mn.write_shift(1,rt.charCodeAt(ye)&127);mn=mn.slice(0,mn.l),Ze[Ue]=eq.buf(je.content,0);var qn=je.content;xe==8&&(qn=I(qn)),Z=Te(30),Z.write_shift(4,67324752),Z.write_shift(2,20),Z.write_shift(2,_e),Z.write_shift(2,xe),je.mt?s(Z,je.mt):Z.write_shift(4,0),Z.write_shift(-4,Ze[Ue]),Z.write_shift(4,qn.length),Z.write_shift(4,je.content.length),Z.write_shift(2,mn.length),Z.write_shift(2,0),be+=Z.length,K.push(Z),be+=mn.length,K.push(mn),be+=qn.length,K.push(qn),Z=Te(46),Z.write_shift(4,33639248),Z.write_shift(2,0),Z.write_shift(2,20),Z.write_shift(2,_e),Z.write_shift(2,xe),Z.write_shift(4,0),Z.write_shift(-4,Ze[Ue]),Z.write_shift(4,qn.length),Z.write_shift(4,je.content.length),Z.write_shift(2,mn.length),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(4,0),Z.write_shift(4,_n),ht+=Z.l,Q.push(Z),ht+=mn.length,Q.push(mn),++Ue}return Z=Te(22),Z.write_shift(4,101010256),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,Ue),Z.write_shift(2,Ue),Z.write_shift(4,ht),Z.write_shift(4,be),Z.write_shift(2,0),pi([pi(K),pi(Q),Z])}var Vt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ie(H,Y){if(H.ctype)return H.ctype;var G=H.name||"",K=G.match(/\.([^\.]+)$/);return K&&Vt[K[1]]||Y&&(K=(G=Y).match(/[\.\\]([^\.\\])+$/),K&&Vt[K[1]])?Vt[K[1]]:"application/octet-stream"}function ne(H){for(var Y=b0(H),G=[],K=0;K<Y.length;K+=76)G.push(Y.slice(K,K+76));return G.join(`\r
`)+`\r
`}function fe(H){var Y=H.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ye){var be=ye.charCodeAt(0).toString(16).toUpperCase();return"="+(be.length==1?"0"+be:be)});Y=Y.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Y.charAt(0)==`
`&&(Y="=0D"+Y.slice(1)),Y=Y.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var G=[],K=Y.split(`\r
`),Q=0;Q<K.length;++Q){var Z=K[Q];if(Z.length==0){G.push("");continue}for(var xe=0;xe<Z.length;){var _e=76,pe=Z.slice(xe,xe+_e);pe.charAt(_e-1)=="="?_e--:pe.charAt(_e-2)=="="?_e-=2:pe.charAt(_e-3)=="="&&(_e-=3),pe=Z.slice(xe,xe+_e),xe+=_e,xe<Z.length&&(pe+="="),G.push(pe)}}return G.join(`\r
`)}function Ae(H){for(var Y=[],G=0;G<H.length;++G){for(var K=H[G];G<=H.length&&K.charAt(K.length-1)=="=";)K=K.slice(0,K.length-1)+H[++G];Y.push(K)}for(var Q=0;Q<Y.length;++Q)Y[Q]=Y[Q].replace(/[=][0-9A-Fa-f]{2}/g,function(Z){return String.fromCharCode(parseInt(Z.slice(1),16))});return bo(Y.join(`\r
`))}function Je(H,Y,G){for(var K="",Q="",Z="",xe,_e=0;_e<10;++_e){var pe=Y[_e];if(!pe||pe.match(/^\s*$/))break;var ye=pe.match(/^(.*?):\s*([^\s].*)$/);if(ye)switch(ye[1].toLowerCase()){case"content-location":K=ye[2].trim();break;case"content-type":Z=ye[2].trim();break;case"content-transfer-encoding":Q=ye[2].trim();break}}switch(++_e,Q.toLowerCase()){case"base64":xe=bo(Ha(Y.slice(_e).join("")));break;case"quoted-printable":xe=Ae(Y.slice(_e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Q)}var be=$e(H,K.slice(G.length),xe,{unsafe:!0});Z&&(be.ctype=Z)}function Ke(H,Y){if(ve(H.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var G=Y&&Y.root||"",K=(xn&&Buffer.isBuffer(H)?H.toString("binary"):ve(H)).split(`\r
`),Q=0,Z="";for(Q=0;Q<K.length;++Q)if(Z=K[Q],!!/^Content-Location:/i.test(Z)&&(Z=Z.slice(Z.indexOf("file")),G||(G=Z.slice(0,Z.lastIndexOf("/")+1)),Z.slice(0,G.length)!=G))for(;G.length>0&&(G=G.slice(0,G.length-1),G=G.slice(0,G.lastIndexOf("/")+1),Z.slice(0,G.length)!=G););var xe=(K[1]||"").match(/boundary="(.*?)"/);if(!xe)throw new Error("MAD cannot find boundary");var _e="--"+(xe[1]||""),pe=[],ye=[],be={FileIndex:pe,FullPaths:ye};N(be);var Ue,qe=0;for(Q=0;Q<K.length;++Q){var rt=K[Q];rt!==_e&&rt!==_e+"--"||(qe++&&Je(be,K.slice(Ue,Q),G),Ue=Q)}return be}function Oe(H,Y){var G=Y||{},K=G.boundary||"SheetJS";K="------="+K;for(var Q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+K.slice(2)+'"',"","",""],Z=H.FullPaths[0],xe=Z,_e=H.FileIndex[0],pe=1;pe<H.FullPaths.length;++pe)if(xe=H.FullPaths[pe].slice(Z.length),_e=H.FileIndex[pe],!(!_e.size||!_e.content||xe=="Sh33tJ5")){xe=xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ht){return"_x"+ht.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ht){return"_u"+ht.charCodeAt(0).toString(16)+"_"});for(var ye=_e.content,be=xn&&Buffer.isBuffer(ye)?ye.toString("binary"):ve(ye),Ue=0,qe=Math.min(1024,be.length),rt=0,je=0;je<=qe;++je)(rt=be.charCodeAt(je))>=32&&rt<128&&++Ue;var Ze=Ue>=qe*4/5;Q.push(K),Q.push("Content-Location: "+(G.root||"file:///C:/SheetJS/")+xe),Q.push("Content-Transfer-Encoding: "+(Ze?"quoted-printable":"base64")),Q.push("Content-Type: "+ie(_e,xe)),Q.push(""),Q.push(Ze?fe(be):ne(be))}return Q.push(K+`--\r
`),Q.join(`\r
`)}function Le(H){var Y={};return N(Y,H),Y}function $e(H,Y,G,K){var Q=K&&K.unsafe;Q||N(H);var Z=!Q&&Rn.find(H,Y);if(!Z){var xe=H.FullPaths[0];Y.slice(0,xe.length)==xe?xe=Y:(xe.slice(-1)!="/"&&(xe+="/"),xe=(xe+Y).replace("//","/")),Z={name:i(Y),type:2},H.FileIndex.push(Z),H.FullPaths.push(xe),Q||Rn.utils.cfb_gc(H)}return Z.content=G,Z.size=G?G.length:0,K&&(K.CLSID&&(Z.clsid=K.CLSID),K.mt&&(Z.mt=K.mt),K.ct&&(Z.ct=K.ct)),Z}function vt(H,Y){N(H);var G=Rn.find(H,Y);if(G){for(var K=0;K<H.FileIndex.length;++K)if(H.FileIndex[K]==G)return H.FileIndex.splice(K,1),H.FullPaths.splice(K,1),!0}return!1}function Lt(H,Y,G){N(H);var K=Rn.find(H,Y);if(K){for(var Q=0;Q<H.FileIndex.length;++Q)if(H.FileIndex[Q]==K)return H.FileIndex[Q].name=i(G),H.FullPaths[Q]=G,!0}return!1}function Vn(H){L(H,!0)}return e.find=P,e.read=_,e.parse=f,e.write=q,e.writeFile=ce,e.utils={cfb_new:Le,cfb_add:$e,cfb_del:vt,cfb_mov:Lt,cfb_gc:Vn,ReadShift:Vd,CheckField:k5,prep_blob:Ns,bconcat:pi,use_zlib:M,_deflateRaw:Rt,_inflateRaw:Ln,consts:ae},e})();function tq(t){return typeof t=="string"?jy(t):Array.isArray(t)?TV(t):t}function lp(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=jy(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?w0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([tq(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(t);return a.open("w"),a.encoding="binary",Array.isArray(e)&&(e=ap(e)),a.write(e),a.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function yi(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function U4(t,e){for(var n=[],r=yi(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function KC(t){for(var e=[],n=yi(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function qy(t){for(var e=[],n=yi(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function nq(t){for(var e=[],n=yi(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var l1=new Date(1899,11,30,0,0,0);function fs(t,e){var n=t.getTime(),r=l1.getTime()+(t.getTimezoneOffset()-l1.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var l5=new Date,rq=l1.getTime()+(l5.getTimezoneOffset()-l1.getTimezoneOffset())*6e4,j4=l5.getTimezoneOffset();function c5(t){var e=new Date;return e.setTime(t*24*60*60*1e3+rq),e.getTimezoneOffset()!==j4&&e.setTime(e.getTime()+(e.getTimezoneOffset()-j4)*6e4),e}var $4=new Date("2017-02-19T19:06:09.000Z"),u5=isNaN($4.getFullYear())?new Date("2/19/17"):$4,iq=u5.getFullYear()==2017;function Hi(t,e){var n=new Date(t);if(iq)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(u5.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Wy(t,e){if(xn&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function hs(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=hs(t[n]));return e}function pr(t,e){for(var n="";n.length<e;)n+=t;return n}function La(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var sq=["january","february","march","april","may","june","july","august","september","october","november","december"];function v0(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&sq.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function Ut(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return xn?r=Wa(n):r=_V(n),Rn.utils.cfb_add(t,e,r)}Rn.utils.cfb_add(t,e,n)}else t.file(e,n)}function XC(){return Rn.utils.cfb_new()}var Br=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,oq={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},YC=KC(oq),QC=/[&<>'"]/g,aq=/[\u0000-\u0008\u000b-\u001f]/g;function An(t){var e=t+"";return e.replace(QC,function(n){return YC[n]}).replace(aq,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function V4(t){return An(t).replace(/ /g,"_x0020_")}var f5=/[\u0000-\u001f]/g;function lq(t){var e=t+"";return e.replace(QC,function(n){return YC[n]}).replace(/\n/g,"<br/>").replace(f5,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function cq(t){var e=t+"";return e.replace(QC,function(n){return YC[n]}).replace(f5,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function uq(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function fq(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Gw(t){for(var e="",n=0,r=0,i=0,s=0,o=0,a=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=t.charCodeAt(n++),a=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(a>>>10&1023)),e+=String.fromCharCode(56320+(a&1023))}return e}function q4(t){var e=nu(2*t.length),n,r,i=1,s=0,o=0,a;for(r=0;r<t.length;r+=i)i=1,(a=t.charCodeAt(r))<128?n=a:a<224?(n=(a&31)*64+(t.charCodeAt(r+1)&63),i=2):a<240?(n=(a&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(a&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function W4(t){return Wa(t,"binary").toString("utf8")}var Km="foo bar baz",$d=xn&&(W4(Km)==Gw(Km)&&W4||q4(Km)==Gw(Km)&&q4)||Gw,w0=xn?function(t){return Wa(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},hq=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),h5=/(^\s|\s$|\n)/;function mi(t,e){return"<"+t+(e.match(h5)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function E0(t){return yi(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Xe(t,e,n){return"<"+t+(n!=null?E0(n):"")+(e!=null?(e.match(h5)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function z2(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function dq(t,e){switch(typeof t){case"string":var n=Xe("vt:lpwstr",An(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Xe((t|0)==t?"vt:i4":"vt:r8",An(String(t)));case"boolean":return Xe("vt:bool",t?"true":"false")}if(t instanceof Date)return Xe("vt:filetime",z2(t));throw new Error("Unable to serialize "+t)}var Wr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},uh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ds={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function pq(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function mq(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var a=0;a<=5;++a,s/=256)t[n+a]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var G4=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},K4=xn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Wa(e)})):G4(t)}:G4,X4=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(Od(t,i)));return r.join("").replace(jd,"")},JC=xn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(jd,""):X4(t,e,n)}:X4,Y4=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},d5=xn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):Y4(t,e,n)}:Y4,Q4=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(xf(t,i)));return r.join("")},cp=xn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):Q4(e,n,r)}:Q4,p5=function(t,e){var n=Os(t,e);return n>0?cp(t,e+4,e+4+n-1):""},m5=p5,g5=function(t,e){var n=Os(t,e);return n>0?cp(t,e+4,e+4+n-1):""},x5=g5,y5=function(t,e){var n=2*Os(t,e);return n>0?cp(t,e+4,e+4+n-1):""},b5=y5,v5=function(e,n){var r=Os(e,n);return r>0?JC(e,n+4,n+4+r):""},w5=v5,E5=function(t,e){var n=Os(t,e);return n>0?cp(t,e+4,e+4+n):""},S5=E5,C5=function(t,e){return pq(t,e)},c1=C5,ZC=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};xn&&(m5=function(e,n){if(!Buffer.isBuffer(e))return p5(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},x5=function(e,n){if(!Buffer.isBuffer(e))return g5(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},b5=function(e,n){if(!Buffer.isBuffer(e))return y5(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},w5=function(e,n){if(!Buffer.isBuffer(e))return v5(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},S5=function(e,n){if(!Buffer.isBuffer(e))return E5(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},c1=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):C5(e,n)},ZC=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var xf=function(t,e){return t[e]},Od=function(t,e){return t[e+1]*256+t[e]},gq=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Os=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Ic=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},xq=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Vd(t,e){var n="",r,i,s=[],o,a,l,c;switch(e){case"dbcs":if(c=this.l,xn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(Od(this,c)),c+=2;t*=2;break;case"utf8":n=cp(this,this.l,this.l+t);break;case"utf16le":t*=2,n=JC(this,this.l,this.l+t);break;case"wstr":return Vd.call(this,t,"dbcs");case"lpstr-ansi":n=m5(this,this.l),t=4+Os(this,this.l);break;case"lpstr-cp":n=x5(this,this.l),t=4+Os(this,this.l);break;case"lpwstr":n=b5(this,this.l),t=4+2*Os(this,this.l);break;case"lpp4":t=4+Os(this,this.l),n=w5(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Os(this,this.l),n=S5(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(o=xf(this,this.l+t++))!==0;)s.push(qm(o));n=s.join("");break;case"_wstr":for(t=0,n="";(o=Od(this,this.l+t))!==0;)s.push(qm(o)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=xf(this,c),this.l=c+1,a=Vd.call(this,t-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(qm(Od(this,c))),c+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=xf(this,c),this.l=c+1,a=Vd.call(this,t-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(qm(xf(this,c))),c+=1}n=s.join("");break;default:switch(t){case 1:return r=xf(this,this.l),this.l++,r;case 2:return r=(e==="i"?gq:Od)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Ic:xq)(this,this.l),this.l+=4,r):(i=Os(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=c1(this,this.l):i=c1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=d5(this,this.l,t);break}}return this.l+=t,n}var yq=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},bq=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},vq=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function wq(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)vq(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,yq(this,e,this.l);break;case 8:if(r=8,n==="f"){mq(this,e,this.l);break}case 16:break;case-4:r=4,bq(this,e,this.l);break}return this.l+=r,this}function k5(t,e){var n=d5(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Ns(t,e){t.l=e,t.read_shift=Vd,t.chk=k5,t.write_shift=wq}function Zo(t,e){t.l+=e}function Te(t){var e=nu(t);return Ns(e,0),e}function ls(){var t=[],e=xn?256:2048,n=function(c){var f=Te(c);return Ns(f,0),f},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,e)))},o=function(){return i(),pi(t)},a=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:a,end:o,_bufs:t}}function Pe(t,e,n,r){var i=+e,s;if(!isNaN(i)){r||(r=pQ[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=t.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var a=0;a!=4;++a)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&ZC(n)&&t.push(n)}}function qd(t,e,n){var r=hs(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function J4(t,e,n){var r=hs(t);return r.s=qd(r.s,e.s,n),r.e=qd(r.e,e.s,n),r}function Wd(t,e){if(t.cRel&&t.c<0)for(t=hs(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=hs(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Tn(t);return!t.cRel&&t.cRel!=null&&(n=Cq(n)),!t.rRel&&t.rRel!=null&&(n=Eq(n)),n}function Kw(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Ai(t.s.c)+":"+(t.e.cRel?"":"$")+Ai(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+xi(t.s.r)+":"+(t.e.rRel?"":"$")+xi(t.e.r):Wd(t.s,e.biff)+":"+Wd(t.e,e.biff)}function ek(t){return parseInt(Sq(t),10)-1}function xi(t){return""+(t+1)}function Eq(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Sq(t){return t.replace(/\$(\d+)$/,"$1")}function tk(t){for(var e=kq(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Ai(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function Cq(t){return t.replace(/^([A-Z])/,"$$$1")}function kq(t){return t.replace(/^\$([A-Z])/,"$1")}function Aq(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Kr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Tn(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Fs(t){var e=t.indexOf(":");return e==-1?{s:Kr(t),e:Kr(t)}:{s:Kr(t.slice(0,e)),e:Kr(t.slice(e+1))}}function Mr(t,e){return typeof e>"u"||typeof e=="number"?Mr(t.s,t.e):(typeof t!="string"&&(t=Tn(t)),typeof e!="string"&&(e=Tn(e)),t==e?t:t+":"+e)}function sr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function Z4(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Yl(t.z,n?fs(e):e)}catch{}try{return t.w=Yl((t.XF||{}).numFmtId||(n?14:0),n?fs(e):e)}catch{return""+e}}function Ua(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?up[t.v]||t.v:e==null?Z4(t,t.v):Z4(t,e))}function vu(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function A5(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),o=0,a=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?Kr(r.origin):r.origin;o=l.r,a=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var f=sr(s["!ref"]);c.s.c=f.s.c,c.s.r=f.s.r,c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),o==-1&&(c.e.r=o=f.e.r+1)}for(var d=0;d!=e.length;++d)if(e[d]){if(!Array.isArray(e[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[d].length;++p)if(!(typeof e[d][p]>"u")){var g={v:e[d][p]},x=o+d,b=a+p;if(c.s.r>x&&(c.s.r=x),c.s.c>b&&(c.s.c=b),c.e.r<x&&(c.e.r=x),c.e.c<b&&(c.e.c=b),e[d][p]&&typeof e[d][p]=="object"&&!Array.isArray(e[d][p])&&!(e[d][p]instanceof Date))g=e[d][p];else if(Array.isArray(g.v)&&(g.f=e[d][p][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(r.nullError)g.t="e",g.v=0;else if(r.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=r.dateNF||xr[14],r.cellDates?(g.t="d",g.w=Yl(g.z,fs(g.v))):(g.t="n",g.v=fs(g.v),g.w=Yl(g.z,g.v))):g.t="s";if(i)s[x]||(s[x]=[]),s[x][b]&&s[x][b].z&&(g.z=s[x][b].z),s[x][b]=g;else{var v=Tn({c:b,r:x});s[v]&&s[v].z&&(g.z=s[v].z),s[v]=g}}}return c.s.c<1e7&&(s["!ref"]=Mr(c)),s}function fh(t,e){return A5(null,t,e)}function Tq(t){return t.read_shift(4,"i")}function Co(t,e){return e||(e=Te(4)),e.write_shift(4,t),e}function Ti(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Xr(t,e){var n=!1;return e==null&&(n=!0,e=Te(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function _q(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Nq(t,e){return e||(e=Te(4)),e.write_shift(2,0),e.write_shift(2,0),e}function nk(t,e){var n=t.l,r=t.read_shift(1),i=Ti(t),s=[],o={t:i,h:i};if((r&1)!==0){for(var a=t.read_shift(4),l=0;l!=a;++l)s.push(_q(t));o.r=s}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}function Dq(t,e){var n=!1;return e==null&&(n=!0,e=Te(15+4*t.t.length)),e.write_shift(1,0),Xr(t.t,e),n?e.slice(0,e.l):e}var Oq=nk;function Mq(t,e){var n=!1;return e==null&&(n=!0,e=Te(23+4*t.t.length)),e.write_shift(1,1),Xr(t.t,e),e.write_shift(4,1),Nq({},e),n?e.slice(0,e.l):e}function uo(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function wu(t,e){return e==null&&(e=Te(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Eu(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Su(t,e){return e==null&&(e=Te(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var Rq=Ti,T5=Xr;function rk(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function u1(t,e){var n=!1;return e==null&&(n=!0,e=Te(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var Bq=Ti,H2=rk,ik=u1;function _5(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?c1([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Ic(e,0)>>2;return n?i/100:i}function N5(t,e){e==null&&(e=Te(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function D5(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function Lq(t,e){return e||(e=Te(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Cu=D5,hh=Lq;function dh(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function ru(t,e){return(e||Te(8)).write_shift(8,t,"f")}function Iq(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),o=t.read_shift(1),a=t.read_shift(1),l=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=qq[i];c&&(e.rgb=uO(c));break;case 2:e.rgb=uO([o,a,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function f1(t,e){if(e||(e=Te(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function Fq(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function Pq(t,e){e||(e=Te(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var O5=2,Ts=3,Xm=11,h1=19,Ym=64,zq=65,Hq=71,Uq=4108,jq=4126,fi=80,eO={1:{n:"CodePage",t:O5},2:{n:"Category",t:fi},3:{n:"PresentationFormat",t:fi},4:{n:"ByteCount",t:Ts},5:{n:"LineCount",t:Ts},6:{n:"ParagraphCount",t:Ts},7:{n:"SlideCount",t:Ts},8:{n:"NoteCount",t:Ts},9:{n:"HiddenCount",t:Ts},10:{n:"MultimediaClipCount",t:Ts},11:{n:"ScaleCrop",t:Xm},12:{n:"HeadingPairs",t:Uq},13:{n:"TitlesOfParts",t:jq},14:{n:"Manager",t:fi},15:{n:"Company",t:fi},16:{n:"LinksUpToDate",t:Xm},17:{n:"CharacterCount",t:Ts},19:{n:"SharedDoc",t:Xm},22:{n:"HyperlinksChanged",t:Xm},23:{n:"AppVersion",t:Ts,p:"version"},24:{n:"DigSig",t:zq},26:{n:"ContentType",t:fi},27:{n:"ContentStatus",t:fi},28:{n:"Language",t:fi},29:{n:"Version",t:fi},255:{},2147483648:{n:"Locale",t:h1},2147483651:{n:"Behavior",t:h1},1919054434:{}},tO={1:{n:"CodePage",t:O5},2:{n:"Title",t:fi},3:{n:"Subject",t:fi},4:{n:"Author",t:fi},5:{n:"Keywords",t:fi},6:{n:"Comments",t:fi},7:{n:"Template",t:fi},8:{n:"LastAuthor",t:fi},9:{n:"RevNumber",t:fi},10:{n:"EditTime",t:Ym},11:{n:"LastPrinted",t:Ym},12:{n:"CreatedDate",t:Ym},13:{n:"ModifiedDate",t:Ym},14:{n:"PageCount",t:Ts},15:{n:"WordCount",t:Ts},16:{n:"CharCount",t:Ts},17:{n:"Thumbnail",t:Hq},18:{n:"Application",t:fi},19:{n:"DocSecurity",t:Ts},255:{},2147483648:{n:"Locale",t:h1},2147483651:{n:"Behavior",t:h1},1919054434:{}};function $q(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Vq=$q([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),qq=hs(Vq),up={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Wq={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Qm={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function M5(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function R5(t,e){var n=nq(Wq),r=[],i;r[r.length]=Br,r[r.length]=Xe("Types",null,{xmlns:Wr.CT,"xmlns:xsd":Wr.xsd,"xmlns:xsi":Wr.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Xe("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],r[r.length]=Xe("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Qm[l][e.bookType]||Qm[l].xlsx}))},o=function(l){(t[l]||[]).forEach(function(c){r[r.length]=Xe("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Qm[l][e.bookType]||Qm[l].xlsx})})},a=function(l){(t[l]||[]).forEach(function(c){r[r.length]=Xe("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return s("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var cn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function B5(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Lf(t){var e=[Br,Xe("Relationships",null,{xmlns:Wr.RELS})];return yi(t["!id"]).forEach(function(n){e[e.length]=Xe("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function kn(t,e,n,r,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[cn.HLINK,cn.XPATH,cn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function Gq(t){var e=[Br];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function nO(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Kq(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Xq(t){var e=[Br];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(nO(t[n][0],t[n][1])),e.push(Kq("",t[n][0]));return e.push(nO("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function L5(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+r1.version+"</meta:generator></office:meta></office:document-meta>"}var Kc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Xw(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=An(e),r[r.length]=n?Xe(t,e,n):mi(t,e))}function I5(t,e){var n=e||{},r=[Br,Xe("cp:coreProperties",null,{"xmlns:cp":Wr.CORE_PROPS,"xmlns:dc":Wr.dc,"xmlns:dcterms":Wr.dcterms,"xmlns:dcmitype":Wr.dcmitype,"xmlns:xsi":Wr.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&Xw("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:z2(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&Xw("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:z2(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=Kc.length;++s){var o=Kc[s],a=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:t?t[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&Xw(o[0],a,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var If=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],F5=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function P5(t){var e=[],n=Xe;return t||(t={}),t.Application="SheetJS",e[e.length]=Br,e[e.length]=Xe("Properties",null,{xmlns:Wr.EXT_PROPS,"xmlns:vt":Wr.vt}),If.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=An(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+An(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function z5(t){var e=[Br,Xe("Properties",null,{xmlns:Wr.CUST_PROPS,"xmlns:vt":Wr.vt})];if(!t)return e.join("");var n=1;return yi(t).forEach(function(i){++n,e[e.length]=Xe("property",dq(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:An(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var rO={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Yq(t,e){var n=[];return yi(rO).map(function(r){for(var i=0;i<Kc.length;++i)if(Kc[i][1]==r)return Kc[i];for(i=0;i<If.length;++i)if(If[i][1]==r)return If[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(mi(rO[r[1]]||r[1],i))}}),Xe("DocumentProperties",n.join(""),{xmlns:Ds.o})}function Qq(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&yi(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var o=0;o<Kc.length;++o)if(s==Kc[o][1])return;for(o=0;o<If.length;++o)if(s==If[o][1])return;for(o=0;o<n.length;++o)if(s==n[o])return;var a=t[s],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),i.push(Xe(V4(s),a,{"dt:dt":l}))}}),e&&yi(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var o=e[s],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),i.push(Xe(V4(s),o,{"dt:dt":a}))}}),"<"+r+' xmlns="'+Ds.o+'">'+i.join("")+"</"+r+">"}function Jq(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var o=Te(8);return o.write_shift(4,r),o.write_shift(4,i),o}function iO(t,e){var n=Te(4),r=Te(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=Te(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=Jq(e);break;case 31:case 80:for(r=Te(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return pi([n,r])}var H5=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Zq(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function sO(t,e,n){var r=Te(8),i=[],s=[],o=8,a=0,l=Te(8),c=Te(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),o+=8+l.length,!e){c=Te(8),c.write_shift(4,0),i.unshift(c);var f=[Te(4)];for(f[0].write_shift(4,t.length),a=0;a<t.length;++a){var d=t[a][0];for(l=Te(8+2*(d.length+1)+(d.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);f.push(l)}l=pi(f),s.unshift(l),o+=8+l.length}for(a=0;a<t.length;++a)if(!(e&&!e[t[a][0]])&&!(H5.indexOf(t[a][0])>-1||F5.indexOf(t[a][0])>-1)&&t[a][1]!=null){var p=t[a][1],g=0;if(e){g=+e[t[a][0]];var x=n[g];if(x.p=="version"&&typeof p=="string"){var b=p.split(".");p=(+b[0]<<16)+(+b[1]||0)}l=iO(x.t,p)}else{var v=Zq(p);v==-1&&(v=31,p=String(p)),l=iO(v,p)}s.push(l),c=Te(8),c.write_shift(4,e?g:2+a),i.push(c),o+=8+l.length}var w=8*(s.length+1);for(a=0;a<s.length;++a)i[a].write_shift(4,w),w+=s[a].length;return r.write_shift(4,o),r.write_shift(4,s.length),pi([r].concat(i).concat(s))}function oO(t,e,n,r,i,s){var o=Te(i?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Rn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var l=sO(t,n,r);if(a.push(l),i){var c=sO(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+l.length),a.push(c)}return pi(a)}function eW(t,e){e||(e=Te(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function tW(t,e){return t.read_shift(e)===1}function Ii(t,e){return e||(e=Te(2)),e.write_shift(2,+!!t),e}function U5(t){return t.read_shift(2,"u")}function Ys(t,e){return e||(e=Te(2)),e.write_shift(2,t),e}function j5(t,e,n){return n||(n=Te(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function $5(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?t.read_shift(r,i):"";return o}function nW(t){var e=t.t||"",n=Te(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=Te(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return pi(i)}function rW(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function iW(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):rW(t,r,n)}function sW(t,e,n){if(n.biff>5)return iW(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function V5(t,e,n){return n||(n=Te(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function aO(t,e){e||(e=Te(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function oW(t){var e=Te(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)e.write_shift(4,o[n]);if(s==28)r=r.slice(1),aO(r,e);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));var a=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(a.length+1)),n=0;n<a.length;++n)e.write_shift(2,a.charCodeAt(n));e.write_shift(2,0),s&8&&aO(i>-1?r.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)e.write_shift(1,parseInt(o[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)e.write_shift(1,r.charCodeAt(n+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function iu(t,e,n,r){return r||(r=Te(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function aW(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),o=t.read_shift(r,"i");return[i,s,o]}function lW(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function q5(t,e){return e||(e=Te(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function sk(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Te(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function cW(t,e){var n=!e||e.biff==8,r=Te(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function uW(t,e){var n=!e||e.biff>=8?2:1,r=Te(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function fW(t,e){var n=Te(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=nW(t[i]);var s=pi([n].concat(r));return s.parts=[n.length].concat(r.map(function(o){return o.length})),s}function hW(){var t=Te(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function dW(t){var e=Te(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function pW(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,s=Te(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function mW(t,e,n,r){var i=Te(10);return iu(t,e,r,i),i.write_shift(4,n),i}function gW(t,e,n,r,i){var s=!i||i.biff==8,o=Te(8+ +s+(1+s)*n.length);return iu(t,e,r,o),o.write_shift(2,n.length),s&&o.write_shift(1,1),o.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),o}function xW(t,e,n,r){var i=n&&n.biff==5;r||(r=Te(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function yW(t,e){var n=e.biff==8||!e.biff?4:2,r=Te(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function lO(t,e,n,r){var i=n&&n.biff==5;r||(r=Te(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function bW(t){var e=Te(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function vW(t,e,n,r,i,s){var o=Te(8);return iu(t,e,r,o),j5(n,s,o),o}function wW(t,e,n,r){var i=Te(14);return iu(t,e,r,i),ru(n,i),i}function EW(t,e,n){if(n.biff<8)return SW(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(aW(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function SW(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=$5(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function CW(t){var e=Te(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)q5(t[n],e);return e}function kW(t){var e=Te(24),n=Kr(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return pi([e,oW(t[1])])}function AW(t){var e=t[1].Tooltip,n=Te(10+2*(e.length+1));n.write_shift(2,2048);var r=Kr(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function TW(t){return t||(t=Te(4)),t.write_shift(2,1),t.write_shift(2,1),t}function _W(t,e,n){if(!n.cellStyles)return Zo(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),o=t.read_shift(r),a=t.read_shift(r),l=t.read_shift(2);r==2&&(t.l+=2);var c={s:i,e:s,w:o,ixfe:a,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function NW(t,e){var n=Te(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function DW(t){for(var e=Te(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function OW(t,e,n){var r=Te(15);return hp(r,t,e),r.write_shift(8,n,"f"),r}function MW(t,e,n){var r=Te(9);return hp(r,t,e),r.write_shift(2,n),r}var RW=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=KC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(a,l){var c=[],f=nu(1);switch(l.type){case"base64":f=bo(Ha(a));break;case"binary":f=bo(a);break;case"buffer":case"array":f=a;break}Ns(f,0);var d=f.read_shift(1),p=!!(d&136),g=!1,x=!1;switch(d){case 2:break;case 3:break;case 48:g=!0,p=!0;break;case 49:g=!0,p=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var b=0,v=521;d==2&&(b=f.read_shift(2)),f.l+=3,d!=2&&(b=f.read_shift(4)),b>1048576&&(b=1e6),d!=2&&(v=f.read_shift(2));var w=f.read_shift(2),k=l.codepage||1252;d!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(k=t[f[f.l]]),f.l+=1,f.l+=2),x&&(f.l+=36);for(var A=[],T={},O=Math.min(f.length,d==2?521:v-10-(g?264:0)),_=x?32:11;f.l<O&&f[f.l]!=13;)switch(T={},T.name=i1.utils.decode(k,f.slice(f.l,f.l+_)).replace(/[\u0000\r\n].*$/g,""),f.l+=_,T.type=String.fromCharCode(f.read_shift(1)),d!=2&&!x&&(T.offset=f.read_shift(4)),T.len=f.read_shift(1),d==2&&(T.offset=f.read_shift(2)),T.dec=f.read_shift(1),T.name.length&&A.push(T),d!=2&&(f.l+=x?13:14),T.type){case"B":(!g||T.len!=8)&&l.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(f[f.l]!==13&&(f.l=v-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=v;var N=0,F=0;for(c[0]=[],F=0;F!=A.length;++F)c[0][F]=A[F].name;for(;b-- >0;){if(f[f.l]===42){f.l+=w;continue}for(++f.l,c[++N]=[],F=0,F=0;F!=A.length;++F){var L=f.slice(f.l,f.l+A[F].len);f.l+=A[F].len,Ns(L,0);var R=i1.utils.decode(k,L);switch(A[F].type){case"C":R.trim().length&&(c[N][F]=R.replace(/\s+$/,""));break;case"D":R.length===8?c[N][F]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):c[N][F]=R;break;case"F":c[N][F]=parseFloat(R.trim());break;case"+":case"I":c[N][F]=x?L.read_shift(-4,"i")^2147483648:L.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":c[N][F]=!0;break;case"N":case"F":c[N][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[N][F]="##MEMO##"+(x?parseInt(R.trim(),10):L.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(c[N][F]=+R||0);break;case"@":c[N][F]=new Date(L.read_shift(-8,"f")-621356832e5);break;case"T":c[N][F]=new Date((L.read_shift(4)-2440588)*864e5+L.read_shift(4));break;case"Y":c[N][F]=L.read_shift(4,"i")/1e4+L.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[N][F]=-L.read_shift(-8,"f");break;case"B":if(g&&A[F].len==8){c[N][F]=L.read_shift(8,"f");break}case"G":case"P":L.l+=A[F].len;break;case"0":if(A[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[F].type)}}}if(d!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=A,c}function r(a,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var f=fh(n(a,c),c);return f["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,f}function i(a,l){try{return vu(r(a,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var c=l||{};if(+c.codepage>=0&&y0(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var f=ls(),d=x1(a,{header:1,raw:!0,cellDates:!0}),p=d[0],g=d.slice(1),x=a["!cols"]||[],b=0,v=0,w=0,k=1;for(b=0;b<p.length;++b){if(((x[b]||{}).DBF||{}).name){p[b]=x[b].DBF.name,++w;continue}if(p[b]!=null){if(++w,typeof p[b]=="number"&&(p[b]=p[b].toString(10)),typeof p[b]!="string")throw new Error("DBF Invalid column name "+p[b]+" |"+typeof p[b]+"|");if(p.indexOf(p[b])!==b){for(v=0;v<1024;++v)if(p.indexOf(p[b]+"_"+v)==-1){p[b]+="_"+v;break}}}}var A=sr(a["!ref"]),T=[],O=[],_=[];for(b=0;b<=A.e.c-A.s.c;++b){var N="",F="",L=0,R=[];for(v=0;v<g.length;++v)g[v][b]!=null&&R.push(g[v][b]);if(R.length==0||p[b]==null){T[b]="?";continue}for(v=0;v<R.length;++v){switch(typeof R[v]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=R[v]instanceof Date?"D":"C";break;default:F="C"}L=Math.max(L,String(R[v]).length),N=N&&N!=F?"C":F}L>250&&(L=250),F=((x[b]||{}).DBF||{}).type,F=="C"&&x[b].DBF.len>L&&(L=x[b].DBF.len),N=="B"&&F=="N"&&(N="N",_[b]=x[b].DBF.dec,L=x[b].DBF.len),O[b]=N=="C"||F=="N"?L:s[N]||0,k+=O[b],T[b]=N}var P=f.next(32);for(P.write_shift(4,318902576),P.write_shift(4,g.length),P.write_shift(2,296+32*w),P.write_shift(2,k),b=0;b<4;++b)P.write_shift(4,0);for(P.write_shift(4,0|(+e[GB]||3)<<8),b=0,v=0;b<p.length;++b)if(p[b]!=null){var z=f.next(32),W=(p[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);z.write_shift(1,W,"sbcs"),z.write_shift(1,T[b]=="?"?"C":T[b],"sbcs"),z.write_shift(4,v),z.write_shift(1,O[b]||s[T[b]]||0),z.write_shift(1,_[b]||0),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(1,0),z.write_shift(4,0),z.write_shift(4,0),v+=O[b]||s[T[b]]||0}var ee=f.next(264);for(ee.write_shift(4,13),b=0;b<65;++b)ee.write_shift(4,0);for(b=0;b<g.length;++b){var te=f.next(k);for(te.write_shift(1,0),v=0;v<p.length;++v)if(p[v]!=null)switch(T[v]){case"L":te.write_shift(1,g[b][v]==null?63:g[b][v]?84:70);break;case"B":te.write_shift(8,g[b][v]||0,"f");break;case"N":var J="0";for(typeof g[b][v]=="number"&&(J=g[b][v].toFixed(_[v]||0)),w=0;w<O[v]-J.length;++w)te.write_shift(1,32);te.write_shift(1,J,"sbcs");break;case"D":g[b][v]?(te.write_shift(4,("0000"+g[b][v].getFullYear()).slice(-4),"sbcs"),te.write_shift(2,("00"+(g[b][v].getMonth()+1)).slice(-2),"sbcs"),te.write_shift(2,("00"+g[b][v].getDate()).slice(-2),"sbcs")):te.write_shift(8,"00000000","sbcs");break;case"C":var ae=String(g[b][v]!=null?g[b][v]:"").slice(0,O[v]);for(te.write_shift(1,ae,"sbcs"),w=0;w<O[v]-ae.length;++w)te.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}})(),BW=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+yi(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,g){var x=t[g];return typeof x=="number"?M4(x):x},r=function(p,g,x){var b=g.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return b==59?p:M4(b)};t["|"]=254;function i(p,g){switch(g.type){case"base64":return s(Ha(p),g);case"binary":return s(p,g);case"buffer":return s(xn&&Buffer.isBuffer(p)?p.toString("binary"):ap(p),g);case"array":return s(Wy(p),g)}throw new Error("Unrecognized type "+g.type)}function s(p,g){var x=p.split(/[\n\r]+/),b=-1,v=-1,w=0,k=0,A=[],T=[],O=null,_={},N=[],F=[],L=[],R=0,P;for(+g.codepage>=0&&y0(+g.codepage);w!==x.length;++w){R=0;var z=x[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),W=z.replace(/;;/g,"\0").split(";").map(function(V){return V.replace(/\u0000/g,";")}),ee=W[0],te;if(z.length>0)switch(ee){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&T.push(z.slice(3).replace(/;;/g,";"));break;case"C":var J=!1,ae=!1,ce=!1,ve=!1,q=-1,U=-1;for(k=1;k<W.length;++k)switch(W[k].charAt(0)){case"A":break;case"X":v=parseInt(W[k].slice(1))-1,ae=!0;break;case"Y":for(b=parseInt(W[k].slice(1))-1,ae||(v=0),P=A.length;P<=b;++P)A[P]=[];break;case"K":te=W[k].slice(1),te.charAt(0)==='"'?te=te.slice(1,te.length-1):te==="TRUE"?te=!0:te==="FALSE"?te=!1:isNaN(La(te))?isNaN(v0(te).getDate())||(te=Hi(te)):(te=La(te),O!==null&&s5(O)&&(te=c5(te))),J=!0;break;case"E":ve=!0;var M=MG(W[k].slice(1),{r:b,c:v});A[b][v]=[A[b][v],M];break;case"S":ce=!0,A[b][v]=[A[b][v],"S5S"];break;case"G":break;case"R":q=parseInt(W[k].slice(1))-1;break;case"C":U=parseInt(W[k].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+z)}if(J&&(A[b][v]&&A[b][v].length==2?A[b][v][0]=te:A[b][v]=te,O=null),ce){if(ve)throw new Error("SYLK shared formula cannot have own formula");var D=q>-1&&A[q][U];if(!D||!D[1])throw new Error("SYLK shared formula cannot find base");A[b][v][1]=RG(D[1],{r:b-q,c:v-U})}break;case"F":var I=0;for(k=1;k<W.length;++k)switch(W[k].charAt(0)){case"X":v=parseInt(W[k].slice(1))-1,++I;break;case"Y":for(b=parseInt(W[k].slice(1))-1,P=A.length;P<=b;++P)A[P]=[];break;case"M":R=parseInt(W[k].slice(1))/20;break;case"F":break;case"G":break;case"P":O=T[parseInt(W[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(L=W[k].slice(1).split(" "),P=parseInt(L[0],10);P<=parseInt(L[1],10);++P)R=parseInt(L[2],10),F[P-1]=R===0?{hidden:!0}:{wch:R},ok(F[P-1]);break;case"C":v=parseInt(W[k].slice(1))-1,F[v]||(F[v]={});break;case"R":b=parseInt(W[k].slice(1))-1,N[b]||(N[b]={}),R>0?(N[b].hpt=R,N[b].hpx=Y5(R)):R===0&&(N[b].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+z)}I<1&&(O=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+z)}}return N.length>0&&(_["!rows"]=N),F.length>0&&(_["!cols"]=F),g&&g.sheetRows&&(A=A.slice(0,g.sheetRows)),[A,_]}function o(p,g){var x=i(p,g),b=x[0],v=x[1],w=fh(b,g);return yi(v).forEach(function(k){w[k]=v[k]}),w}function a(p,g){return vu(o(p,g),g)}function l(p,g,x,b){var v="C;Y"+(x+1)+";X"+(b+1)+";K";switch(p.t){case"n":v+=p.v||0,p.f&&!p.F&&(v+=";E"+lk(p.f,{r:x,c:b}));break;case"b":v+=p.v?"TRUE":"FALSE";break;case"e":v+=p.w||p.v;break;case"d":v+='"'+(p.w||p.v)+'"';break;case"s":v+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(p,g){g.forEach(function(x,b){var v="F;W"+(b+1)+" "+(b+1)+" ";x.hidden?v+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=d1(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=p1(x.wpx)),typeof x.wch=="number"&&(v+=Math.round(x.wch))),v.charAt(v.length-1)!=" "&&p.push(v)})}function f(p,g){g.forEach(function(x,b){var v="F;";x.hidden?v+="M0;":x.hpt?v+="M"+20*x.hpt+";":x.hpx&&(v+="M"+20*m1(x.hpx)+";"),v.length>2&&p.push(v+"R"+(b+1))})}function d(p,g){var x=["ID;PWXL;N;E"],b=[],v=sr(p["!ref"]),w,k=Array.isArray(p),A=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),p["!cols"]&&c(x,p["!cols"]),p["!rows"]&&f(x,p["!rows"]),x.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var T=v.s.r;T<=v.e.r;++T)for(var O=v.s.c;O<=v.e.c;++O){var _=Tn({r:T,c:O});w=k?(p[T]||[])[O]:p[_],!(!w||w.v==null&&(!w.f||w.F))&&b.push(l(w,p,T,O))}return x.join(A)+A+b.join(A)+A+"E"+A}return{to_workbook:a,to_sheet:o,from_sheet:d}})(),LW=(function(){function t(s,o){switch(o.type){case"base64":return e(Ha(s),o);case"binary":return e(s,o);case"buffer":return e(xn&&Buffer.isBuffer(s)?s.toString("binary"):ap(s),o);case"array":return e(Wy(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var a=s.split(`
`),l=-1,c=-1,f=0,d=[];f!==a.length;++f){if(a[f].trim()==="BOT"){d[++l]=[],c=0;continue}if(!(l<0)){var p=a[f].trim().split(","),g=p[0],x=p[1];++f;for(var b=a[f]||"";(b.match(/["]/g)||[]).length&1&&f<a.length-1;)b+=`
`+a[++f];switch(b=b.trim(),+g){case-1:if(b==="BOT"){d[++l]=[],c=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?d[l][c]=!0:b==="FALSE"?d[l][c]=!1:isNaN(La(x))?isNaN(v0(x).getDate())?d[l][c]=x:d[l][c]=Hi(x):d[l][c]=La(x),++c;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),d[l][c++]=b!==""?b:null;break}if(b==="EOD")break}}return o&&o.sheetRows&&(d=d.slice(0,o.sheetRows)),d}function n(s,o){return fh(t(s,o),o)}function r(s,o){return vu(n(s,o),o)}var i=(function(){var s=function(l,c,f,d,p){l.push(c),l.push(f+","+d),l.push('"'+p.replace(/"/g,'""')+'"')},o=function(l,c,f,d){l.push(c+","+f),l.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var c=[],f=sr(l["!ref"]),d,p=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,f.e.r-f.s.r+1,""),s(c,"TUPLES",0,f.e.c-f.s.c+1,""),s(c,"DATA",0,0,"");for(var g=f.s.r;g<=f.e.r;++g){o(c,-1,0,"BOT");for(var x=f.s.c;x<=f.e.c;++x){var b=Tn({r:g,c:x});if(d=p?(l[g]||[])[x]:l[b],!d){o(c,1,0,"");continue}switch(d.t){case"n":var v=d.w;!v&&d.v!=null&&(v=d.v),v==null?d.f&&!d.F?o(c,1,0,"="+d.f):o(c,1,0,""):o(c,0,v,"V");break;case"b":o(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":o(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=Yl(d.z||xr[14],fs(Hi(d.v)))),o(c,0,d.w,"V");break;default:o(c,1,0,"")}}}o(c,-1,0,"EOD");var w=`\r
`,k=c.join(w);return k}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),W5=(function(){function t(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(d,p){for(var g=d.split(`
`),x=-1,b=-1,v=0,w=[];v!==g.length;++v){var k=g[v].trim().split(":");if(k[0]==="cell"){var A=Kr(k[1]);if(w.length<=A.r)for(x=w.length;x<=A.r;++x)w[x]||(w[x]=[]);switch(x=A.r,b=A.c,k[2]){case"t":w[x][b]=t(k[3]);break;case"v":w[x][b]=+k[3];break;case"vtf":var T=k[k.length-1];case"vtc":switch(k[3]){case"nl":w[x][b]=!!+k[4];break;default:w[x][b]=+k[4];break}k[2]=="vtf"&&(w[x][b]=[w[x][b],T])}}}return p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),w}function r(d,p){return fh(n(d,p),p)}function i(d,p){return vu(r(d,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var p=[],g=[],x,b="",v=Fs(d["!ref"]),w=Array.isArray(d),k=v.s.r;k<=v.e.r;++k)for(var A=v.s.c;A<=v.e.c;++A)if(b=Tn({r:k,c:A}),x=w?(d[k]||[])[A]:d[b],!(!x||x.v==null||x.t==="z")){switch(g=["cell",b,"t"],x.t){case"s":case"str":g.push(e(x.v));break;case"n":x.f?(g[2]="vtf",g[3]="n",g[4]=x.v,g[5]=e(x.f)):(g[2]="v",g[3]=x.v);break;case"b":g[2]="vt"+(x.f?"f":"c"),g[3]="nl",g[4]=x.v?"1":"0",g[5]=e(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var T=fs(Hi(x.v));g[2]="vtc",g[3]="nd",g[4]=""+T,g[5]=x.w||Yl(x.z||xr[14],T);break;case"e":continue}p.push(g.join(":"))}return p.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function f(d){return[s,o,a,o,c(d),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:f}})(),IW=(function(){function t(f,d,p,g,x){x.raw?d[p][g]=f:f===""||(f==="TRUE"?d[p][g]=!0:f==="FALSE"?d[p][g]=!1:isNaN(La(f))?isNaN(v0(f).getDate())?d[p][g]=f:d[p][g]=Hi(f):d[p][g]=La(f))}function e(f,d){var p=d||{},g=[];if(!f||f.length===0)return g;for(var x=f.split(/[\r\n]/),b=x.length-1;b>=0&&x[b].length===0;)--b;for(var v=10,w=0,k=0;k<=b;++k)w=x[k].indexOf(" "),w==-1?w=x[k].length:w++,v=Math.max(v,w);for(k=0;k<=b;++k){g[k]=[];var A=0;for(t(x[k].slice(0,v).trim(),g,k,A,p),A=1;A<=(x[k].length-v)/10+1;++A)t(x[k].slice(v+(A-1)*10,v+A*10).trim(),g,k,A,p)}return p.sheetRows&&(g=g.slice(0,p.sheetRows)),g}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(f){for(var d={},p=!1,g=0,x=0;g<f.length;++g)(x=f.charCodeAt(g))==34?p=!p:!p&&x in n&&(d[x]=(d[x]||0)+1);x=[];for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&x.push([d[g],g]);if(!x.length){d=r;for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&x.push([d[g],g])}return x.sort(function(b,v){return b[0]-v[0]||r[b[1]]-r[v[1]]}),n[x.pop()[1]]||44}function s(f,d){var p=d||{},g="",x=p.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(g=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(g=f.charAt(4),f=f.slice(6)):g=i(f.slice(0,1024)):p&&p.FS?g=p.FS:g=i(f.slice(0,1024));var v=0,w=0,k=0,A=0,T=0,O=g.charCodeAt(0),_=!1,N=0,F=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var L=p.dateNF!=null?JV(p.dateNF):null;function R(){var P=f.slice(A,T),z={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)z.t="z";else if(p.raw)z.t="s",z.v=P;else if(P.trim().length===0)z.t="s",z.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(z.t="s",z.v=P.slice(2,-1).replace(/""/g,'"')):BG(P)?(z.t="n",z.f=P.slice(1)):(z.t="s",z.v=P);else if(P=="TRUE")z.t="b",z.v=!0;else if(P=="FALSE")z.t="b",z.v=!1;else if(!isNaN(k=La(P)))z.t="n",p.cellText!==!1&&(z.w=P),z.v=k;else if(!isNaN(v0(P).getDate())||L&&P.match(L)){z.z=p.dateNF||xr[14];var W=0;L&&P.match(L)&&(P=ZV(P,p.dateNF,P.match(L)||[]),W=1),p.cellDates?(z.t="d",z.v=Hi(P,W)):(z.t="n",z.v=fs(Hi(P,W))),p.cellText!==!1&&(z.w=Yl(z.z,z.v instanceof Date?fs(z.v):z.v)),p.cellNF||delete z.z}else z.t="s",z.v=P;if(z.t=="z"||(p.dense?(x[v]||(x[v]=[]),x[v][w]=z):x[Tn({c:w,r:v})]=z),A=T+1,F=f.charCodeAt(A),b.e.c<w&&(b.e.c=w),b.e.r<v&&(b.e.r=v),N==O)++w;else if(w=0,++v,p.sheetRows&&p.sheetRows<=v)return!0}e:for(;T<f.length;++T)switch(N=f.charCodeAt(T)){case 34:F===34&&(_=!_);break;case O:case 10:case 13:if(!_&&R())break e;break}return T-A>0&&R(),x["!ref"]=Mr(b),x}function o(f,d){return!(d&&d.PRN)||d.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?s(f,d):fh(e(f,d),d)}function a(f,d){var p="",g=d.type=="string"?[0,0,0,0]:KQ(f,d);switch(d.type){case"base64":p=Ha(f);break;case"binary":p=f;break;case"buffer":d.codepage==65001?p=f.toString("utf8"):d.codepage&&typeof i1<"u"||(p=xn&&Buffer.isBuffer(f)?f.toString("binary"):ap(f));break;case"array":p=Wy(f);break;case"string":p=f;break;default:throw new Error("Unrecognized type "+d.type)}return g[0]==239&&g[1]==187&&g[2]==191?p=$d(p.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?p=$d(p):d.type=="binary"&&typeof i1<"u",p.slice(0,19)=="socialcalc:version:"?W5.to_sheet(d.type=="string"?p:$d(p),d):o(p,d)}function l(f,d){return vu(a(f,d),d)}function c(f){for(var d=[],p=sr(f["!ref"]),g,x=Array.isArray(f),b=p.s.r;b<=p.e.r;++b){for(var v=[],w=p.s.c;w<=p.e.c;++w){var k=Tn({r:b,c:w});if(g=x?(f[b]||[])[w]:f[k],!g||g.v==null){v.push("          ");continue}for(var A=(g.w||(Ua(g),g.w)||"").slice(0,10);A.length<10;)A+=" ";v.push(A+(w===0?" ":""))}d.push(v.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:c}})(),cO=(function(){function t(M,D,I){if(M){Ns(M,M.l||0);for(var V=I.Enum||q;M.l<M.length;){var re=M.read_shift(2),he=V[re]||V[65535],oe=M.read_shift(2),Ee=M.l+oe,de=he.f&&he.f(M,oe,I);if(M.l=Ee,D(de,he,re))return}}}function e(M,D){switch(D.type){case"base64":return n(bo(Ha(M)),D);case"binary":return n(bo(M),D);case"buffer":case"array":return n(M,D)}throw"Unsupported type "+D.type}function n(M,D){if(!M)return M;var I=D||{},V=I.dense?[]:{},re="Sheet1",he="",oe=0,Ee={},de=[],ct=[],ot={s:{r:0,c:0},e:{r:0,c:0}},_t=I.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)I.Enum=q,t(M,function(Be,it,Et){switch(Et){case 0:I.vers=Be,Be>=4096&&(I.qpro=!0);break;case 6:ot=Be;break;case 204:Be&&(he=Be);break;case 222:he=Be;break;case 15:case 51:I.qpro||(Be[1].v=Be[1].v.slice(1));case 13:case 14:case 16:Et==14&&(Be[2]&112)==112&&(Be[2]&15)>1&&(Be[2]&15)<15&&(Be[1].z=I.dateNF||xr[14],I.cellDates&&(Be[1].t="d",Be[1].v=c5(Be[1].v))),I.qpro&&Be[3]>oe&&(V["!ref"]=Mr(ot),Ee[re]=V,de.push(re),V=I.dense?[]:{},ot={s:{r:0,c:0},e:{r:0,c:0}},oe=Be[3],re=he||"Sheet"+(oe+1),he="");var Mt=I.dense?(V[Be[0].r]||[])[Be[0].c]:V[Tn(Be[0])];if(Mt){Mt.t=Be[1].t,Mt.v=Be[1].v,Be[1].z!=null&&(Mt.z=Be[1].z),Be[1].f!=null&&(Mt.f=Be[1].f);break}I.dense?(V[Be[0].r]||(V[Be[0].r]=[]),V[Be[0].r][Be[0].c]=Be[1]):V[Tn(Be[0])]=Be[1];break}},I);else if(M[2]==26||M[2]==14)I.Enum=U,M[2]==14&&(I.qpro=!0,M.l=0),t(M,function(Be,it,Et){switch(Et){case 204:re=Be;break;case 22:Be[1].v=Be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Be[3]>oe&&(V["!ref"]=Mr(ot),Ee[re]=V,de.push(re),V=I.dense?[]:{},ot={s:{r:0,c:0},e:{r:0,c:0}},oe=Be[3],re="Sheet"+(oe+1)),_t>0&&Be[0].r>=_t)break;I.dense?(V[Be[0].r]||(V[Be[0].r]=[]),V[Be[0].r][Be[0].c]=Be[1]):V[Tn(Be[0])]=Be[1],ot.e.c<Be[0].c&&(ot.e.c=Be[0].c),ot.e.r<Be[0].r&&(ot.e.r=Be[0].r);break;case 27:Be[14e3]&&(ct[Be[14e3][0]]=Be[14e3][1]);break;case 1537:ct[Be[0]]=Be[1],Be[0]==oe&&(re=Be[1]);break}},I);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(V["!ref"]=Mr(ot),Ee[he||re]=V,de.push(he||re),!ct.length)return{SheetNames:de,Sheets:Ee};for(var et={},Ve=[],Ie=0;Ie<ct.length;++Ie)Ee[de[Ie]]?(Ve.push(ct[Ie]||de[Ie]),et[ct[Ie]]=Ee[ct[Ie]]||Ee[de[Ie]]):(Ve.push(ct[Ie]),et[ct[Ie]]={"!ref":"A1"});return{SheetNames:Ve,Sheets:et}}function r(M,D){var I=D||{};if(+I.codepage>=0&&y0(+I.codepage),I.type=="string")throw new Error("Cannot write WK1 to JS string");var V=ls(),re=sr(M["!ref"]),he=Array.isArray(M),oe=[];Ye(V,0,s(1030)),Ye(V,6,l(re));for(var Ee=Math.min(re.e.r,8191),de=re.s.r;de<=Ee;++de)for(var ct=xi(de),ot=re.s.c;ot<=re.e.c;++ot){de===re.s.r&&(oe[ot]=Ai(ot));var _t=oe[ot]+ct,et=he?(M[de]||[])[ot]:M[_t];if(!(!et||et.t=="z"))if(et.t=="n")(et.v|0)==et.v&&et.v>=-32768&&et.v<=32767?Ye(V,13,g(de,ot,et.v)):Ye(V,14,b(de,ot,et.v));else{var Ve=Ua(et);Ye(V,15,d(de,ot,Ve.slice(0,239)))}}return Ye(V,1),V.end()}function i(M,D){var I=D||{};if(+I.codepage>=0&&y0(+I.codepage),I.type=="string")throw new Error("Cannot write WK3 to JS string");var V=ls();Ye(V,0,o(M));for(var re=0,he=0;re<M.SheetNames.length;++re)(M.Sheets[M.SheetNames[re]]||{})["!ref"]&&Ye(V,27,ve(M.SheetNames[re],he++));var oe=0;for(re=0;re<M.SheetNames.length;++re){var Ee=M.Sheets[M.SheetNames[re]];if(!(!Ee||!Ee["!ref"])){for(var de=sr(Ee["!ref"]),ct=Array.isArray(Ee),ot=[],_t=Math.min(de.e.r,8191),et=de.s.r;et<=_t;++et)for(var Ve=xi(et),Ie=de.s.c;Ie<=de.e.c;++Ie){et===de.s.r&&(ot[Ie]=Ai(Ie));var Be=ot[Ie]+Ve,it=ct?(Ee[et]||[])[Ie]:Ee[Be];if(!(!it||it.t=="z"))if(it.t=="n")Ye(V,23,R(et,Ie,oe,it.v));else{var Et=Ua(it);Ye(V,22,N(et,Ie,oe,Et.slice(0,239)))}}++oe}}return Ye(V,1),V.end()}function s(M){var D=Te(2);return D.write_shift(2,M),D}function o(M){var D=Te(26);D.write_shift(2,4096),D.write_shift(2,4),D.write_shift(4,0);for(var I=0,V=0,re=0,he=0;he<M.SheetNames.length;++he){var oe=M.SheetNames[he],Ee=M.Sheets[oe];if(!(!Ee||!Ee["!ref"])){++re;var de=Fs(Ee["!ref"]);I<de.e.r&&(I=de.e.r),V<de.e.c&&(V=de.e.c)}}return I>8191&&(I=8191),D.write_shift(2,I),D.write_shift(1,re),D.write_shift(1,V),D.write_shift(2,0),D.write_shift(2,0),D.write_shift(1,1),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(4,0),D}function a(M,D,I){var V={s:{c:0,r:0},e:{c:0,r:0}};return D==8&&I.qpro?(V.s.c=M.read_shift(1),M.l++,V.s.r=M.read_shift(2),V.e.c=M.read_shift(1),M.l++,V.e.r=M.read_shift(2),V):(V.s.c=M.read_shift(2),V.s.r=M.read_shift(2),D==12&&I.qpro&&(M.l+=2),V.e.c=M.read_shift(2),V.e.r=M.read_shift(2),D==12&&I.qpro&&(M.l+=2),V.s.c==65535&&(V.s.c=V.e.c=V.s.r=V.e.r=0),V)}function l(M){var D=Te(8);return D.write_shift(2,M.s.c),D.write_shift(2,M.s.r),D.write_shift(2,M.e.c),D.write_shift(2,M.e.r),D}function c(M,D,I){var V=[{c:0,r:0},{t:"n",v:0},0,0];return I.qpro&&I.vers!=20768?(V[0].c=M.read_shift(1),V[3]=M.read_shift(1),V[0].r=M.read_shift(2),M.l+=2):(V[2]=M.read_shift(1),V[0].c=M.read_shift(2),V[0].r=M.read_shift(2)),V}function f(M,D,I){var V=M.l+D,re=c(M,D,I);if(re[1].t="s",I.vers==20768){M.l++;var he=M.read_shift(1);return re[1].v=M.read_shift(he,"utf8"),re}return I.qpro&&M.l++,re[1].v=M.read_shift(V-M.l,"cstr"),re}function d(M,D,I){var V=Te(7+I.length);V.write_shift(1,255),V.write_shift(2,D),V.write_shift(2,M),V.write_shift(1,39);for(var re=0;re<V.length;++re){var he=I.charCodeAt(re);V.write_shift(1,he>=128?95:he)}return V.write_shift(1,0),V}function p(M,D,I){var V=c(M,D,I);return V[1].v=M.read_shift(2,"i"),V}function g(M,D,I){var V=Te(7);return V.write_shift(1,255),V.write_shift(2,D),V.write_shift(2,M),V.write_shift(2,I,"i"),V}function x(M,D,I){var V=c(M,D,I);return V[1].v=M.read_shift(8,"f"),V}function b(M,D,I){var V=Te(13);return V.write_shift(1,255),V.write_shift(2,D),V.write_shift(2,M),V.write_shift(8,I,"f"),V}function v(M,D,I){var V=M.l+D,re=c(M,D,I);if(re[1].v=M.read_shift(8,"f"),I.qpro)M.l=V;else{var he=M.read_shift(2);T(M.slice(M.l,M.l+he),re),M.l+=he}return re}function w(M,D,I){var V=D&32768;return D&=-32769,D=(V?M:0)+(D>=8192?D-16384:D),(V?"":"$")+(I?Ai(D):xi(D))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(M,D){Ns(M,0);for(var I=[],V=0,re="",he="",oe="",Ee="";M.l<M.length;){var de=M[M.l++];switch(de){case 0:I.push(M.read_shift(8,"f"));break;case 1:he=w(D[0].c,M.read_shift(2),!0),re=w(D[0].r,M.read_shift(2),!1),I.push(he+re);break;case 2:{var ct=w(D[0].c,M.read_shift(2),!0),ot=w(D[0].r,M.read_shift(2),!1);he=w(D[0].c,M.read_shift(2),!0),re=w(D[0].r,M.read_shift(2),!1),I.push(ct+ot+":"+he+re)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:I.push("("+I.pop()+")");break;case 5:I.push(M.read_shift(2));break;case 6:{for(var _t="";de=M[M.l++];)_t+=String.fromCharCode(de);I.push('"'+_t.replace(/"/g,'""')+'"')}break;case 8:I.push("-"+I.pop());break;case 23:I.push("+"+I.pop());break;case 22:I.push("NOT("+I.pop()+")");break;case 20:case 21:Ee=I.pop(),oe=I.pop(),I.push(["AND","OR"][de-20]+"("+oe+","+Ee+")");break;default:if(de<32&&A[de])Ee=I.pop(),oe=I.pop(),I.push(oe+A[de]+Ee);else if(k[de]){if(V=k[de][1],V==69&&(V=M[M.l++]),V>I.length){console.error("WK1 bad formula parse 0x"+de.toString(16)+":|"+I.join("|")+"|");return}var et=I.slice(-V);I.length-=V,I.push(k[de][0]+"("+et.join(",")+")")}else return de<=7?console.error("WK1 invalid opcode "+de.toString(16)):de<=24?console.error("WK1 unsupported op "+de.toString(16)):de<=30?console.error("WK1 invalid opcode "+de.toString(16)):de<=115?console.error("WK1 unsupported function opcode "+de.toString(16)):console.error("WK1 unrecognized opcode "+de.toString(16))}}I.length==1?D[1].f=""+I[0]:console.error("WK1 bad formula parse |"+I.join("|")+"|")}function O(M){var D=[{c:0,r:0},{t:"n",v:0},0];return D[0].r=M.read_shift(2),D[3]=M[M.l++],D[0].c=M[M.l++],D}function _(M,D){var I=O(M);return I[1].t="s",I[1].v=M.read_shift(D-4,"cstr"),I}function N(M,D,I,V){var re=Te(6+V.length);re.write_shift(2,M),re.write_shift(1,I),re.write_shift(1,D),re.write_shift(1,39);for(var he=0;he<V.length;++he){var oe=V.charCodeAt(he);re.write_shift(1,oe>=128?95:oe)}return re.write_shift(1,0),re}function F(M,D){var I=O(M);I[1].v=M.read_shift(2);var V=I[1].v>>1;if(I[1].v&1)switch(V&7){case 0:V=(V>>3)*5e3;break;case 1:V=(V>>3)*500;break;case 2:V=(V>>3)/20;break;case 3:V=(V>>3)/200;break;case 4:V=(V>>3)/2e3;break;case 5:V=(V>>3)/2e4;break;case 6:V=(V>>3)/16;break;case 7:V=(V>>3)/64;break}return I[1].v=V,I}function L(M,D){var I=O(M),V=M.read_shift(4),re=M.read_shift(4),he=M.read_shift(2);if(he==65535)return V===0&&re===3221225472?(I[1].t="e",I[1].v=15):V===0&&re===3489660928?(I[1].t="e",I[1].v=42):I[1].v=0,I;var oe=he&32768;return he=(he&32767)-16446,I[1].v=(1-oe*2)*(re*Math.pow(2,he+32)+V*Math.pow(2,he)),I}function R(M,D,I,V){var re=Te(14);if(re.write_shift(2,M),re.write_shift(1,I),re.write_shift(1,D),V==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var he=0,oe=0,Ee=0,de=0;return V<0&&(he=1,V=-V),oe=Math.log2(V)|0,V/=Math.pow(2,oe-31),de=V>>>0,(de&2147483648)==0&&(V/=2,++oe,de=V>>>0),V-=de,de|=2147483648,de>>>=0,V*=Math.pow(2,32),Ee=V>>>0,re.write_shift(4,Ee),re.write_shift(4,de),oe+=16383+(he?32768:0),re.write_shift(2,oe),re}function P(M,D){var I=L(M);return M.l+=D-14,I}function z(M,D){var I=O(M),V=M.read_shift(4);return I[1].v=V>>6,I}function W(M,D){var I=O(M),V=M.read_shift(8,"f");return I[1].v=V,I}function ee(M,D){var I=W(M);return M.l+=D-10,I}function te(M,D){return M[M.l+D-1]==0?M.read_shift(D,"cstr"):""}function J(M,D){var I=M[M.l++];I>D-1&&(I=D-1);for(var V="";V.length<I;)V+=String.fromCharCode(M[M.l++]);return V}function ae(M,D,I){if(!(!I.qpro||D<21)){var V=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var re=M.read_shift(D-21,"cstr");return[V,re]}}function ce(M,D){for(var I={},V=M.l+D;M.l<V;){var re=M.read_shift(2);if(re==14e3){for(I[re]=[0,""],I[re][0]=M.read_shift(2);M[M.l];)I[re][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return I}function ve(M,D){var I=Te(5+M.length);I.write_shift(2,14e3),I.write_shift(2,D);for(var V=0;V<M.length;++V){var re=M.charCodeAt(V);I[I.l++]=re>127?95:re}return I[I.l++]=0,I}var q={0:{n:"BOF",f:U5},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:x},15:{n:"LABEL",f},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:te},222:{n:"SHEETNAMELP",f:J},65535:{n:""}},U={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_},23:{n:"NUMBER17",f:L},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ce},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:z},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:ee},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:te},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ae},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})(),FW=/^\s|\s$|[\t\n\r]/;function G5(t,e){if(!e.bookSST)return"";var n=[Br];n[n.length]=Xe("sst",null,{xmlns:uh[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(FW)&&(s+=' xml:space="preserve"'),s+=">"+An(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function PW(t){return[t.read_shift(4),t.read_shift(4)]}function zW(t,e){return e||(e=Te(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var HW=Dq;function UW(t){var e=ls();Pe(e,159,zW(t));for(var n=0;n<t.length;++n)Pe(e,19,HW(t[n]));return Pe(e,160),e.end()}function jW(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function K5(t){var e=0,n,r=jW(t),i=r.length+1,s,o,a,l,c;for(n=nu(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)o=n[s],a=(e&16384)===0?0:1,l=e<<1&32767,c=a|l,e=c^o;return e^52811}var $W=(function(){function t(i,s){switch(s.type){case"base64":return e(Ha(i),s);case"binary":return e(i,s);case"buffer":return e(xn&&Buffer.isBuffer(i)?i.toString("binary"):ap(i),s);case"array":return e(Wy(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},a=o.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(f,d){Array.isArray(a)&&(a[d]=[]);for(var p=/\\\w+\b/g,g=0,x,b=-1;x=p.exec(f);){switch(x[0]){case"\\cell":var v=f.slice(g,p.lastIndex-x[0].length);if(v[0]==" "&&(v=v.slice(1)),++b,v.length){var w={v,t:"s"};Array.isArray(a)?a[d][b]=w:a[Tn({r:d,c:b})]=w}break}g=p.lastIndex}b>c.e.c&&(c.e.c=b)}),a["!ref"]=Mr(c),a}function n(i,s){return vu(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=sr(i["!ref"]),a,l=Array.isArray(i),c=o.s.r;c<=o.e.r;++c){s.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)s.push("\\cellx"+(f+1));for(s.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var d=Tn({r:c,c:f});a=l?(i[c]||[])[f]:i[d],!(!a||a.v==null&&(!a.f||a.F))&&(s.push(" "+(a.w||(Ua(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function uO(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var VW=6,Ia=VW;function d1(t){return Math.floor((t+Math.round(128/Ia)/256)*Ia)}function p1(t){return Math.floor((t-5)/Ia*100+.5)/100}function U2(t){return Math.round((t*Ia+5)/Ia*256)/256}function ok(t){t.width?(t.wpx=d1(t.width),t.wch=p1(t.wpx),t.MDW=Ia):t.wpx?(t.wch=p1(t.wpx),t.width=U2(t.wch),t.MDW=Ia):typeof t.wch=="number"&&(t.width=U2(t.wch),t.wpx=d1(t.width),t.MDW=Ia),t.customWidth&&delete t.customWidth}var qW=96,X5=qW;function m1(t){return t*96/X5}function Y5(t){return t*X5/96}function WW(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=Xe("numFmt",null,{numFmtId:r,formatCode:An(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Xe("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function GW(t){var e=[];return e[e.length]=Xe("cellXfs",null),t.forEach(function(n){e[e.length]=Xe("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Xe("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Q5(t,e){var n=[Br,Xe("styleSheet",null,{xmlns:uh[0],"xmlns:vt":Wr.vt})],r;return t.SSF&&(r=WW(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=GW(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function KW(t,e){var n=t.read_shift(2),r=Ti(t);return[n,r]}function XW(t,e,n){n||(n=Te(6+4*e.length)),n.write_shift(2,t),Xr(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function YW(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=Fq(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(r.underline=o);var a=t.read_shift(1);a>0&&(r.family=a);var l=t.read_shift(1);switch(l>0&&(r.charset=l),t.l++,r.color=Iq(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Ti(t),r}function QW(t,e){e||(e=Te(153)),e.write_shift(2,t.sz*20),Pq(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),f1(t.color,e);var r=0;return r=2,e.write_shift(1,r),Xr(t.name,e),e.length>e.l?e.slice(0,e.l):e}var JW=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Yw,ZW=Zo;function fO(t,e){e||(e=Te(84)),Yw||(Yw=KC(JW));var n=Yw[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(f1({auto:1},e),f1({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function eG(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function J5(t,e,n){n||(n=Te(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function xd(t,e){return e||(e=Te(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var tG=Zo;function nG(t,e){return e||(e=Te(51)),e.write_shift(1,0),xd(null,e),xd(null,e),xd(null,e),xd(null,e),xd(null,e),e.length>e.l?e.slice(0,e.l):e}function rG(t,e){return e||(e=Te(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),u1(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function iG(t,e,n){var r=Te(2052);return r.write_shift(4,t),u1(e,r),u1(n,r),r.length>r.l?r.slice(0,r.l):r}function sG(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(Pe(t,615,Co(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Pe(t,44,XW(i,e[i]))}),Pe(t,616))}}function oG(t){var e=1;Pe(t,611,Co(e)),Pe(t,43,QW({sz:12,color:{theme:1},name:"Calibri",family:2})),Pe(t,612)}function aG(t){var e=2;Pe(t,603,Co(e)),Pe(t,45,fO({patternType:"none"})),Pe(t,45,fO({patternType:"gray125"})),Pe(t,604)}function lG(t){var e=1;Pe(t,613,Co(e)),Pe(t,46,nG()),Pe(t,614)}function cG(t){var e=1;Pe(t,626,Co(e)),Pe(t,47,J5({numFmtId:0},65535)),Pe(t,627)}function uG(t,e){Pe(t,617,Co(e.length)),e.forEach(function(n){Pe(t,47,J5(n,0))}),Pe(t,618)}function fG(t){var e=1;Pe(t,619,Co(e)),Pe(t,48,rG({xfId:0,name:"Normal"})),Pe(t,620)}function hG(t){var e=0;Pe(t,505,Co(e)),Pe(t,506)}function dG(t){var e=0;Pe(t,508,iG(e,"TableStyleMedium9","PivotStyleMedium4")),Pe(t,509)}function pG(t,e){var n=ls();return Pe(n,278),sG(n,t.SSF),oG(n),aG(n),lG(n),cG(n),uG(n,e.cellXfs),fG(n),hG(n),dG(n),Pe(n,279),n.end()}function Z5(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[Br];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function mG(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ti(t)}}function gG(t){var e=Te(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Xr(t.name,e),e.slice(0,e.l)}function xG(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function yG(t){var e=Te(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function bG(t,e){var n=Te(8+2*e.length);return n.write_shift(4,t),Xr(e,n),n.slice(0,n.l)}function vG(t){return t.l+=4,t.read_shift(4)!=0}function wG(t,e){var n=Te(8);return n.write_shift(4,t),n.write_shift(4,1),n}function EG(){var t=ls();return Pe(t,332),Pe(t,334,Co(1)),Pe(t,335,gG({name:"XLDAPR",version:12e4,flags:3496657072})),Pe(t,336),Pe(t,339,bG(1,"XLDAPR")),Pe(t,52),Pe(t,35,Co(514)),Pe(t,4096,Co(0)),Pe(t,4097,Ys(1)),Pe(t,36),Pe(t,53),Pe(t,340),Pe(t,337,wG(1)),Pe(t,51,yG([[1,0]])),Pe(t,338),Pe(t,333),t.end()}function e6(){var t=[Br];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function SG(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Tn(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var _f=1024;function t6(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[Xe("xml",null,{"xmlns:v":Ds.v,"xmlns:o":Ds.o,"xmlns:x":Ds.x,"xmlns:mv":Ds.mv}).replace(/\/>/,">"),Xe("o:shapelayout",Xe("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Xe("v:shapetype",[Xe("v:stroke",null,{joinstyle:"miter"}),Xe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];_f<t*1e3;)_f+=1e3;return e.forEach(function(s){var o=Kr(s[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?Xe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=Xe("v:fill",l,a),f={on:"t",obscured:"t"};++_f,i=i.concat(["<v:shape"+E0({id:"_x0000_s"+_f,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,Xe("v:shadow",null,f),Xe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",mi("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),mi("x:AutoFill","False"),mi("x:Row",String(o.r)),mi("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function n6(t){var e=[Br,Xe("comments",null,{xmlns:uh[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var s=An(i.a);n.indexOf(s)==-1&&(n.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=n.indexOf(An(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(mi("t",An(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,a=1;a<s.length;++a)o+=`Reply:
    `+s[a]+`
`;e.push(mi("t",An(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function CG(t,e,n){var r=[Br,Xe("ThreadedComments",null,{xmlns:Wr.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};a==0?s=l.id:l.parentId=s,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(Xe("threadedComment",mi("text",o.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function kG(t){var e=[Br,Xe("personList",null,{xmlns:Wr.TCMNT,"xmlns:x":uh[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(Xe("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function AG(t){var e={};e.iauthor=t.read_shift(4);var n=Cu(t);return e.rfx=n.s,e.ref=Tn(n.s),t.l+=16,e}function TG(t,e){return e==null&&(e=Te(36)),e.write_shift(4,t[1].iauthor),hh(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var _G=Ti;function NG(t){return Xr(t.slice(0,54))}function DG(t){var e=ls(),n=[];return Pe(e,628),Pe(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),Pe(e,632,NG(i.a)))})}),Pe(e,631),Pe(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:Kr(r[0]),e:Kr(r[0])};Pe(e,635,TG([s,i])),i.t&&i.t.length>0&&Pe(e,637,Mq(i)),Pe(e,636),delete i.iauthor})}),Pe(e,634),Pe(e,629),e.end()}function OG(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Rn.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var r6=["xlsb","xlsm","xlam","biff8","xla"],MG=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,o){var a=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return a?f+=e.c:--f,l?c+=e.r:--c,i+(a?"":"$")+Ai(f)+(l?"":"$")+xi(c)}return function(i,s){return e=s,i.replace(t,n)}})(),ak=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,lk=(function(){return function(e,n){return e.replace(ak,function(r,i,s,o,a,l){var c=tk(o)-(s?0:n.c),f=ek(l)-(a?0:n.r),d=f==0?"":a?f+1:"["+f+"]",p=c==0?"":s?c+1:"["+c+"]";return i+"R"+d+"C"+p})}})();function RG(t,e){return t.replace(ak,function(n,r,i,s,o,a){return r+(i=="$"?i+s:Ai(tk(s)+e.c))+(o=="$"?o+a:xi(ek(a)+e.r))})}function BG(t){return t.length!=1}function Tr(t){t.l+=1}function Ql(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function i6(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return s6(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),o=Ql(t),a=Ql(t);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function s6(t){var e=Ql(t),n=Ql(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function LG(t,e,n){if(n.biff<8)return s6(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=Ql(t),o=Ql(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function o6(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return IG(t);var r=t.read_shift(n&&n.biff==12?4:2),i=Ql(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function IG(t){var e=Ql(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function FG(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function PG(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return zG(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),o=(s&16384)>>14,a=(s&32768)>>15;if(s&=16383,a==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:a}}function zG(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function HG(t,e,n){var r=(t[t.l++]&96)>>5,i=i6(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function UG(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var o=i6(t,s,n);return[r,i,o]}function jG(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function $G(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function VG(t,e,n){var r=(t[t.l++]&96)>>5,i=LG(t,e-1,n);return[r,i]}function qG(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function hO(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function WG(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function GG(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function KG(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function XG(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function YG(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function a6(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function QG(t){return t.read_shift(2),a6(t)}function JG(t){return t.read_shift(2),a6(t)}function ZG(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=o6(t,0,n);return[r,i]}function eK(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=PG(t,0,n);return[r,i]}function tK(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=o6(t,0,n);return[r,i,s]}function nK(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[nX[i],u6[i],r]}function rK(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:iK(t);return[i,(s[0]===0?u6:tX)[s[1]]]}function iK(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function sK(t,e,n){t.l+=n&&n.biff==2?3:4}function oK(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function aK(t){return t.l++,up[t.read_shift(1)]}function lK(t){return t.l++,t.read_shift(2)}function cK(t){return t.l++,t.read_shift(1)!==0}function uK(t){return t.l++,dh(t)}function fK(t,e,n){return t.l++,$5(t,e-1,n)}function hK(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=tW(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=up[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=dh(t);break;case 2:n[1]=sW(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function dK(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?Cu:lW)(t));return i}function pK(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=hK(t,n.biff);return o}function mK(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function gK(t,e,n){if(n.biff==5)return xK(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function xK(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function yK(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function bK(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function vK(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function wK(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var EK=Zo,SK=Zo,CK=Zo;function fp(t,e,n){return t.l+=2,[FG(t)]}function ck(t){return t.l+=6,[]}var kK=fp,AK=ck,TK=ck,_K=fp;function l6(t){return t.l+=2,[U5(t),t.read_shift(2)&1]}var NK=fp,DK=l6,OK=ck,MK=fp,RK=fp,BK=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function LK(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),o=BK[n>>2&31];return{ixti:e,coltype:n&3,rt:o,idx:r,c:i,C:s}}function IK(t){return t.l+=2,[t.read_shift(4)]}function FK(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function PK(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function zK(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function HK(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function UK(t){return t.l+=4,[0,0]}var dO={1:{n:"PtgExp",f:oK},2:{n:"PtgTbl",f:CK},3:{n:"PtgAdd",f:Tr},4:{n:"PtgSub",f:Tr},5:{n:"PtgMul",f:Tr},6:{n:"PtgDiv",f:Tr},7:{n:"PtgPower",f:Tr},8:{n:"PtgConcat",f:Tr},9:{n:"PtgLt",f:Tr},10:{n:"PtgLe",f:Tr},11:{n:"PtgEq",f:Tr},12:{n:"PtgGe",f:Tr},13:{n:"PtgGt",f:Tr},14:{n:"PtgNe",f:Tr},15:{n:"PtgIsect",f:Tr},16:{n:"PtgUnion",f:Tr},17:{n:"PtgRange",f:Tr},18:{n:"PtgUplus",f:Tr},19:{n:"PtgUminus",f:Tr},20:{n:"PtgPercent",f:Tr},21:{n:"PtgParen",f:Tr},22:{n:"PtgMissArg",f:Tr},23:{n:"PtgStr",f:fK},26:{n:"PtgSheet",f:FK},27:{n:"PtgEndSheet",f:PK},28:{n:"PtgErr",f:aK},29:{n:"PtgBool",f:cK},30:{n:"PtgInt",f:lK},31:{n:"PtgNum",f:uK},32:{n:"PtgArray",f:qG},33:{n:"PtgFunc",f:nK},34:{n:"PtgFuncVar",f:rK},35:{n:"PtgName",f:mK},36:{n:"PtgRef",f:ZG},37:{n:"PtgArea",f:HG},38:{n:"PtgMemArea",f:yK},39:{n:"PtgMemErr",f:EK},40:{n:"PtgMemNoMem",f:SK},41:{n:"PtgMemFunc",f:bK},42:{n:"PtgRefErr",f:vK},43:{n:"PtgAreaErr",f:jG},44:{n:"PtgRefN",f:eK},45:{n:"PtgAreaN",f:VG},46:{n:"PtgMemAreaN",f:zK},47:{n:"PtgMemNoMemN",f:HK},57:{n:"PtgNameX",f:gK},58:{n:"PtgRef3d",f:tK},59:{n:"PtgArea3d",f:UG},60:{n:"PtgRefErr3d",f:wK},61:{n:"PtgAreaErr3d",f:$G},255:{}},jK={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},$K={1:{n:"PtgElfLel",f:l6},2:{n:"PtgElfRw",f:MK},3:{n:"PtgElfCol",f:kK},6:{n:"PtgElfRwV",f:RK},7:{n:"PtgElfColV",f:_K},10:{n:"PtgElfRadical",f:NK},11:{n:"PtgElfRadicalS",f:OK},13:{n:"PtgElfColS",f:AK},15:{n:"PtgElfColSV",f:TK},16:{n:"PtgElfRadicalLel",f:DK},25:{n:"PtgList",f:LK},29:{n:"PtgSxName",f:IK},255:{}},VK={0:{n:"PtgAttrNoop",f:UK},1:{n:"PtgAttrSemi",f:YG},2:{n:"PtgAttrIf",f:KG},4:{n:"PtgAttrChoose",f:WG},8:{n:"PtgAttrGoto",f:GG},16:{n:"PtgAttrSum",f:sK},32:{n:"PtgAttrBaxcel",f:hO},33:{n:"PtgAttrBaxcel",f:hO},64:{n:"PtgAttrSpace",f:QG},65:{n:"PtgAttrSpaceSemi",f:JG},128:{n:"PtgAttrIfError",f:XG},255:{}};function qK(t,e,n,r){if(r.biff<8)return Zo(t,e);for(var i=t.l+e,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=pK(t,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=dK(t,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=t.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return e=i-t.l,e!==0&&s.push(Zo(t,e)),s}function WK(t,e,n){for(var r=t.l+e,i,s,o=[];r!=t.l;)e=r-t.l,s=t[t.l],i=dO[s]||dO[jK[s]],(s===24||s===25)&&(i=(s===24?$K:VK)[t[t.l+1]]),!i||!i.f?Zo(t,e):o.push([i.n,i.f(t,e,n)]);return o}function GK(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var KK={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function XK(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function c6(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function pO(t,e,n){var r=c6(t,e,n);return r=="#REF"?r:XK(r,n)}function Kf(t,e,n,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},a=[],l,c,f,d=0,p=0,g,x="";if(!t[0]||!t[0][0])return"";for(var b=-1,v="",w=0,k=t[0].length;w<k;++w){var A=t[0][w];switch(A[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),c=a.pop(),b>=0){switch(t[0][b][1][0]){case 0:v=pr(" ",t[0][b][1][1]);break;case 1:v=pr("\r",t[0][b][1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}c=c+v,b=-1}a.push(c+KK[A[0]]+l);break;case"PtgIsect":l=a.pop(),c=a.pop(),a.push(c+" "+l);break;case"PtgUnion":l=a.pop(),c=a.pop(),a.push(c+","+l);break;case"PtgRange":l=a.pop(),c=a.pop(),a.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=qd(A[1][1],o,i),a.push(Wd(f,s));break;case"PtgRefN":f=n?qd(A[1][1],n,i):A[1][1],a.push(Wd(f,s));break;case"PtgRef3d":d=A[1][1],f=qd(A[1][2],o,i),x=pO(r,d,i),a.push(x+"!"+Wd(f,s));break;case"PtgFunc":case"PtgFuncVar":var T=A[1][0],O=A[1][1];T||(T=0),T&=127;var _=T==0?[]:a.slice(-T);a.length-=T,O==="User"&&(O=_.shift()),a.push(O+"("+_.join(",")+")");break;case"PtgBool":a.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(A[1]);break;case"PtgNum":a.push(String(A[1]));break;case"PtgStr":a.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(A[1]);break;case"PtgAreaN":g=J4(A[1][1],n?{s:n}:o,i),a.push(Kw(g,i));break;case"PtgArea":g=J4(A[1][1],o,i),a.push(Kw(g,i));break;case"PtgArea3d":d=A[1][1],g=A[1][2],x=pO(r,d,i),a.push(x+"!"+Kw(g,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=A[1][2];var N=(r.names||[])[p-1]||(r[0]||[])[p],F=N?N.Name:"SH33TJSNAME"+String(p);F&&F.slice(0,6)=="_xlfn."&&!i.xlfn&&(F=F.slice(6)),a.push(F);break;case"PtgNameX":var L=A[1][1];p=A[1][2];var R;if(i.biff<=5)L<0&&(L=-L),r[L]&&(R=r[L][p]);else{var P="";if(((r[L]||[])[0]||[])[0]==14849||(((r[L]||[])[0]||[])[0]==1025?r[L][p]&&r[L][p].itab>0&&(P=r.SheetNames[r[L][p].itab-1]+"!"):P=r.SheetNames[p-1]+"!"),r[L]&&r[L][p])P+=r[L][p].Name;else if(r[0]&&r[0][p])P+=r[0][p].Name;else{var z=(c6(r,L,i)||"").split(";;");z[p-1]?P=z[p-1]:P+="SH33TJSERRX"}a.push(P);break}R||(R={Name:"SH33TJSERRY"}),a.push(R.Name);break;case"PtgParen":var W="(",ee=")";if(b>=0){switch(v="",t[0][b][1][0]){case 2:W=pr(" ",t[0][b][1][1])+W;break;case 3:W=pr("\r",t[0][b][1][1])+W;break;case 4:ee=pr(" ",t[0][b][1][1])+ee;break;case 5:ee=pr("\r",t[0][b][1][1])+ee;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}b=-1}a.push(W+a.pop()+ee);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":f={c:A[1][1],r:A[1][0]};var te={c:n.c,r:n.r};if(r.sharedf[Tn(f)]){var J=r.sharedf[Tn(f)];a.push(Kf(J,o,te,r,i))}else{var ae=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(f.c<c[0].s.c||f.c>c[0].e.c)&&!(f.r<c[0].s.r||f.r>c[0].e.r)){a.push(Kf(c[1],o,te,r,i)),ae=!0;break}ae||a.push(A[1])}break;case"PtgArray":a.push("{"+GK(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var ce=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&ce.indexOf(t[0][w][0])==-1){A=t[0][b];var ve=!0;switch(A[1][0]){case 4:ve=!1;case 0:v=pr(" ",A[1][1]);break;case 5:ve=!1;case 1:v=pr("\r",A[1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}a.push((ve?v:"")+a.pop()+(ve?"":v)),b=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function YK(t){if(t==null){var e=Te(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return ru(t);return ru(0)}function QK(t,e,n,r,i){var s=iu(e,n,i),o=YK(t.v),a=Te(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var c=Te(t.bf.length),f=0;f<t.bf.length;++f)c[f]=t.bf[f];var d=pi([s,o,a,c]);return d}function Gy(t,e,n){var r=t.read_shift(4),i=WK(t,r,n),s=t.read_shift(4),o=s>0?qK(t,s,i,n):null;return[i,o]}var JK=Gy,Ky=Gy,ZK=Gy,eX=Gy,tX={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},u6={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},nX={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function rX(t){var e="of:="+t.replace(ak,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function iX(t){return t.replace(/\./,"!")}var Gd=typeof Map<"u";function uk(t,e,n){var r=0,i=t.length;if(n){if(Gd?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var s=Gd?n.get(e):n[e];r<s.length;++r)if(t[s[r]].t===e)return t.Count++,s[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(Gd?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function Xy(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(Ia=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=p1(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=U2(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function f6(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function ac(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){o5(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===r)return i;return t[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function sX(t,e,n){if(t&&t["!ref"]){var r=sr(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function oX(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+Mr(t[n])+'"/>';return e+"</mergeCells>"}function aX(t,e,n,r,i){var s=!1,o={},a=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[n];try{e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch{}s=!0,o.codeName=w0(An(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),a=(a||"")+Xe("outlinePr",null,c)}!s&&!a||(i[i.length]=Xe("sheetPr",a,o))}var lX=["objects","scenarios","selectLockedCells","selectUnlockedCells"],cX=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function uX(t){var e={sheet:1};return lX.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),cX.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=K5(t.password).toString(16).toUpperCase()),Xe("sheetProtection",null,e)}function fX(t){return f6(t),Xe("pageMargins",null,t)}function hX(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=Xe("col",null,Xy(i,r)));return n[n.length]="</cols>",n.join("")}function dX(t,e,n,r){var i=typeof t.ref=="string"?t.ref:Mr(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,o=Fs(i);o.s.r==o.e.r&&(o.e.r=Fs(e["!ref"]).e.r,i=Mr(o));for(var a=0;a<s.length;++a){var l=s[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Xe("autoFilter",null,{ref:i})}function pX(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Xe("sheetViews",Xe("sheetView",null,i),{})}function mX(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=up[t.v];break;case"d":r&&r.cellDates?i=Hi(t.v,-1).toISOString():(t=hs(t),t.t="n",i=""+(t.v=fs(Hi(t.v)))),typeof t.z>"u"&&(t.z=xr[14]);break;default:i=t.v;break}var a=mi("v",An(i)),l={r:e},c=ac(r.cellXfs,t,r);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){a=mi("v",""+uk(r.Strings,t.v,r.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=o),typeof t.f=="string"&&t.f){var f=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;a=Xe("f",An(t.f),f)+(t.v!=null?a:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(l.cm=1),Xe("c",a,l)}function gX(t,e,n,r){var i=[],s=[],o=sr(t["!ref"]),a="",l,c="",f=[],d=0,p=0,g=t["!rows"],x=Array.isArray(t),b={r:c},v,w=-1;for(p=o.s.c;p<=o.e.c;++p)f[p]=Ai(p);for(d=o.s.r;d<=o.e.r;++d){for(s=[],c=xi(d),p=o.s.c;p<=o.e.c;++p){l=f[p]+c;var k=x?(t[d]||[])[p]:t[l];k!==void 0&&(a=mX(k,l,t,e))!=null&&s.push(a)}(s.length>0||g&&g[d])&&(b={r:c},g&&g[d]&&(v=g[d],v.hidden&&(b.hidden=1),w=-1,v.hpx?w=m1(v.hpx):v.hpt&&(w=v.hpt),w>-1&&(b.ht=w,b.customHeight=1),v.level&&(b.outlineLevel=v.level)),i[i.length]=Xe("row",s.join(""),b))}if(g)for(;d<g.length;++d)g&&g[d]&&(b={r:d+1},v=g[d],v.hidden&&(b.hidden=1),w=-1,v.hpx?w=m1(v.hpx):v.hpt&&(w=v.hpt),w>-1&&(b.ht=w,b.customHeight=1),v.level&&(b.outlineLevel=v.level),i[i.length]=Xe("row","",b));return i.join("")}function h6(t,e,n,r){var i=[Br,Xe("worksheet",null,{xmlns:uh[0],"xmlns:r":Wr.r})],s=n.SheetNames[t],o=0,a="",l=n.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",f=sr(c);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),c=Mr(f)}r||(r={}),l["!comments"]=[];var d=[];aX(l,n,t,e,i),i[i.length]=Xe("dimension",null,{ref:c}),i[i.length]=pX(l,e,t,n),e.sheetFormat&&(i[i.length]=Xe("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=hX(l,l["!cols"])),i[o=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=gX(l,e),a.length>0&&(i[i.length]=a)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),l["!protect"]&&(i[i.length]=uX(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=dX(l["!autofilter"],l,n,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=oX(l["!merges"]));var p=-1,g,x=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(b){b[1].Target&&(g={ref:b[0]},b[1].Target.charAt(0)!="#"&&(x=kn(r,-1,An(b[1].Target).replace(/#.*$/,""),cn.HLINK),g["r:id"]="rId"+x),(p=b[1].Target.indexOf("#"))>-1&&(g.location=An(b[1].Target.slice(p+1))),b[1].Tooltip&&(g.tooltip=An(b[1].Tooltip)),i[i.length]=Xe("hyperlink",null,g))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=fX(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=mi("ignoredErrors",Xe("ignoredError",null,{numberStoredAsText:1,sqref:c}))),d.length>0&&(x=kn(r,-1,"../drawings/drawing"+(t+1)+".xml",cn.DRAW),i[i.length]=Xe("drawing",null,{"r:id":"rId"+x}),l["!drawing"]=d),l["!comments"].length>0&&(x=kn(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",cn.VML),i[i.length]=Xe("legacyDrawing",null,{"r:id":"rId"+x}),l["!legacy"]=x),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function xX(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function yX(t,e,n){var r=Te(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var s=320;i.hpx?s=m1(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var a=0,l=r.l;r.l+=4;for(var c={r:t,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var d=-1,p=-1,g=f<<10;g<f+1<<10;++g){c.c=g;var x=Array.isArray(n)?(n[c.r]||[])[c.c]:n[Tn(c)];x&&(d<0&&(d=g),p=g)}d<0||(++a,r.write_shift(4,d),r.write_shift(4,p))}var b=r.l;return r.l=l,r.write_shift(4,a),r.l=b,r.length>r.l?r.slice(0,r.l):r}function bX(t,e,n,r){var i=yX(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&Pe(t,0,i)}var vX=Cu,wX=hh;function EX(){}function SX(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=Rq(t),n}function CX(t,e,n){n==null&&(n=Te(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return f1({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),T5(t,n),n.slice(0,n.l)}function kX(t){var e=uo(t);return[e]}function AX(t,e,n){return n==null&&(n=Te(8)),wu(e,n)}function TX(t){var e=Eu(t);return[e]}function _X(t,e,n){return n==null&&(n=Te(4)),Su(e,n)}function NX(t){var e=uo(t),n=t.read_shift(1);return[e,n,"b"]}function DX(t,e,n){return n==null&&(n=Te(9)),wu(e,n),n.write_shift(1,t.v?1:0),n}function OX(t){var e=Eu(t),n=t.read_shift(1);return[e,n,"b"]}function MX(t,e,n){return n==null&&(n=Te(5)),Su(e,n),n.write_shift(1,t.v?1:0),n}function RX(t){var e=uo(t),n=t.read_shift(1);return[e,n,"e"]}function BX(t,e,n){return n==null&&(n=Te(9)),wu(e,n),n.write_shift(1,t.v),n}function LX(t){var e=Eu(t),n=t.read_shift(1);return[e,n,"e"]}function IX(t,e,n){return n==null&&(n=Te(8)),Su(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function FX(t){var e=uo(t),n=t.read_shift(4);return[e,n,"s"]}function PX(t,e,n){return n==null&&(n=Te(12)),wu(e,n),n.write_shift(4,e.v),n}function zX(t){var e=Eu(t),n=t.read_shift(4);return[e,n,"s"]}function HX(t,e,n){return n==null&&(n=Te(8)),Su(e,n),n.write_shift(4,e.v),n}function UX(t){var e=uo(t),n=dh(t);return[e,n,"n"]}function jX(t,e,n){return n==null&&(n=Te(16)),wu(e,n),ru(t.v,n),n}function $X(t){var e=Eu(t),n=dh(t);return[e,n,"n"]}function VX(t,e,n){return n==null&&(n=Te(12)),Su(e,n),ru(t.v,n),n}function qX(t){var e=uo(t),n=_5(t);return[e,n,"n"]}function WX(t,e,n){return n==null&&(n=Te(12)),wu(e,n),N5(t.v,n),n}function GX(t){var e=Eu(t),n=_5(t);return[e,n,"n"]}function KX(t,e,n){return n==null&&(n=Te(8)),Su(e,n),N5(t.v,n),n}function XX(t){var e=uo(t),n=nk(t);return[e,n,"is"]}function YX(t){var e=uo(t),n=Ti(t);return[e,n,"str"]}function QX(t,e,n){return n==null&&(n=Te(12+4*t.v.length)),wu(e,n),Xr(t.v,n),n.length>n.l?n.slice(0,n.l):n}function JX(t){var e=Eu(t),n=Ti(t);return[e,n,"str"]}function ZX(t,e,n){return n==null&&(n=Te(8+4*t.v.length)),Su(e,n),Xr(t.v,n),n.length>n.l?n.slice(0,n.l):n}function eY(t,e,n){var r=t.l+e,i=uo(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"b"];if(n.cellFormula){t.l+=2;var a=Ky(t,r-t.l,n);o[3]=Kf(a,null,i,n.supbooks,n)}else t.l=r;return o}function tY(t,e,n){var r=t.l+e,i=uo(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"e"];if(n.cellFormula){t.l+=2;var a=Ky(t,r-t.l,n);o[3]=Kf(a,null,i,n.supbooks,n)}else t.l=r;return o}function nY(t,e,n){var r=t.l+e,i=uo(t);i.r=n["!row"];var s=dh(t),o=[i,s,"n"];if(n.cellFormula){t.l+=2;var a=Ky(t,r-t.l,n);o[3]=Kf(a,null,i,n.supbooks,n)}else t.l=r;return o}function rY(t,e,n){var r=t.l+e,i=uo(t);i.r=n["!row"];var s=Ti(t),o=[i,s,"str"];if(n.cellFormula){t.l+=2;var a=Ky(t,r-t.l,n);o[3]=Kf(a,null,i,n.supbooks,n)}else t.l=r;return o}var iY=Cu,sY=hh;function oY(t,e){return e==null&&(e=Te(4)),e.write_shift(4,t),e}function aY(t,e){var n=t.l+e,r=Cu(t),i=rk(t),s=Ti(t),o=Ti(t),a=Ti(t);t.l=n;var l={rfx:r,relId:i,loc:s,display:a};return o&&(l.Tooltip=o),l}function lY(t,e){var n=Te(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));hh({s:Kr(t[0]),e:Kr(t[0])},n),ik("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return Xr(i||"",n),Xr(t[1].Tooltip||"",n),Xr("",n),n.slice(0,n.l)}function cY(){}function uY(t,e,n){var r=t.l+e,i=D5(t),s=t.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var a=JK(t,r-t.l,n);o[1]=a}else t.l=r;return o}function fY(t,e,n){var r=t.l+e,i=Cu(t),s=[i];if(n.cellFormula){var o=eX(t,r-t.l,n);s[1]=o,t.l=r}else t.l=r;return s}function hY(t,e,n){n==null&&(n=Te(18));var r=Xy(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var d6=["left","right","top","bottom","header","footer"];function dY(t){var e={};return d6.forEach(function(n){e[n]=dh(t)}),e}function pY(t,e){return e==null&&(e=Te(48)),f6(t),d6.forEach(function(n){ru(t[n],e)}),e}function mY(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function gY(t,e,n){n==null&&(n=Te(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function xY(t){var e=Te(24);return e.write_shift(4,4),e.write_shift(4,1),hh(t,e),e}function yY(t,e){return e==null&&(e=Te(66)),e.write_shift(2,t.password?K5(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function bY(){}function vY(){}function wY(t,e,n,r,i,s,o){if(e.v===void 0)return!1;var a="";switch(e.t){case"b":a=e.v?"1":"0";break;case"d":e=hs(e),e.z=e.z||xr[14],e.v=fs(Hi(e.v)),e.t="n";break;case"n":case"e":a=""+e.v;break;default:a=e.v;break}var l={r:n,c:r};switch(l.s=ac(i.cellXfs,e,i),e.l&&s["!links"].push([Tn(l),e.l]),e.c&&s["!comments"].push([Tn(l),e.c]),e.t){case"s":case"str":return i.bookSST?(a=uk(i.Strings,e.v,i.revStrings),l.t="s",l.v=a,o?Pe(t,18,HX(e,l)):Pe(t,7,PX(e,l))):(l.t="str",o?Pe(t,17,ZX(e,l)):Pe(t,6,QX(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?Pe(t,13,KX(e,l)):Pe(t,2,WX(e,l)):o?Pe(t,16,VX(e,l)):Pe(t,5,jX(e,l)),!0;case"b":return l.t="b",o?Pe(t,15,MX(e,l)):Pe(t,4,DX(e,l)),!0;case"e":return l.t="e",o?Pe(t,14,IX(e,l)):Pe(t,3,BX(e,l)),!0}return o?Pe(t,12,_X(e,l)):Pe(t,1,AX(e,l)),!0}function EY(t,e,n,r){var i=sr(e["!ref"]||"A1"),s,o="",a=[];Pe(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var f=i.s.r;f<=c;++f){o=xi(f),bX(t,e,i,f);var d=!1;if(f<=i.e.r)for(var p=i.s.c;p<=i.e.c;++p){f===i.s.r&&(a[p]=Ai(p)),s=a[p]+o;var g=l?(e[f]||[])[p]:e[s];if(!g){d=!1;continue}d=wY(t,g,f,p,r,e,d)}}Pe(t,146)}function SY(t,e){!e||!e["!merges"]||(Pe(t,177,oY(e["!merges"].length)),e["!merges"].forEach(function(n){Pe(t,176,sY(n))}),Pe(t,178))}function CY(t,e){!e||!e["!cols"]||(Pe(t,390),e["!cols"].forEach(function(n,r){n&&Pe(t,60,hY(r,n))}),Pe(t,391))}function kY(t,e){!e||!e["!ref"]||(Pe(t,648),Pe(t,649,xY(sr(e["!ref"]))),Pe(t,650))}function AY(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=kn(n,-1,r[1].Target.replace(/#.*$/,""),cn.HLINK);Pe(t,494,lY(r,i))}}),delete e["!links"]}function TY(t,e,n,r){if(e["!comments"].length>0){var i=kn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",cn.VML);Pe(t,551,ik("rId"+i)),e["!legacy"]=i}}function _Y(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Mr(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,a=Fs(s);a.s.r==a.e.r&&(a.e.r=Fs(e["!ref"]).e.r,s=Mr(a));for(var l=0;l<o.length;++l){var c=o[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+s;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),Pe(t,161,hh(sr(s))),Pe(t,162)}}function NY(t,e,n){Pe(t,133),Pe(t,137,gY(e,n)),Pe(t,138),Pe(t,134)}function DY(t,e){e["!protect"]&&Pe(t,535,yY(e["!protect"]))}function OY(t,e,n,r){var i=ls(),s=n.SheetNames[t],o=n.Sheets[s]||{},a=s;try{n&&n.Workbook&&(a=n.Workbook.Sheets[t].CodeName||a)}catch{}var l=sr(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Pe(i,129),(n.vbaraw||o["!outline"])&&Pe(i,147,CX(a,o["!outline"])),Pe(i,148,wX(l)),NY(i,o,n.Workbook),CY(i,o),EY(i,o,t,e),DY(i,o),_Y(i,o,n,t),SY(i,o),AY(i,o,r),o["!margins"]&&Pe(i,476,pY(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&kY(i,o),TY(i,o,t,r),Pe(i,130),i.end()}function MY(t,e){t.l+=10;var n=Ti(t);return{name:n}}var RY=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function BY(t){return!t.Workbook||!t.Workbook.WBProps?"false":fq(t.Workbook.WBProps.date1904)?"true":"false"}var LY="][*?/\\".split("");function p6(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return LY.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function IY(t,e,n){t.forEach(function(r,i){p6(r);for(var s=0;s<i;++s)if(r==t[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=e&&e[i]&&e[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function FY(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];IY(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)sX(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function m6(t){var e=[Br];e[e.length]=Xe("workbook",null,{xmlns:uh[0],"xmlns:r":Wr.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(RY.forEach(function(a){t.Workbook.WBProps[a[0]]!=null&&t.Workbook.WBProps[a[0]]!=a[1]&&(r[a[0]]=t.Workbook.WBProps[a[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Xe("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var o={name:An(t.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=Xe("sheet",null,o)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(e[e.length]=Xe("definedName",An(a.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function PY(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=H2(t),n.name=Ti(t),n}function zY(t,e){return e||(e=Te(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),ik(t.strRelID,e),Xr(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function HY(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Ti(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function UY(t,e){e||(e=Te(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),T5(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function jY(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=Bq(t),o=ZK(t,0,n),a=rk(t);t.l=r;var l={Name:s,Ptg:o};return i<268435455&&(l.Sheet=i),a&&(l.Comment=a),l}function $Y(t,e){Pe(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};Pe(t,156,zY(i))}Pe(t,144)}function VY(t,e){e||(e=Te(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Xr("SheetJS",e),Xr(r1.version,e),Xr(r1.version,e),Xr("7262",e),e.length>e.l?e.slice(0,e.l):e}function qY(t,e){e||(e=Te(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function WY(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(Pe(t,135),Pe(t,158,qY(i)),Pe(t,136))}}function GY(t,e){var n=ls();return Pe(n,131),Pe(n,128,VY()),Pe(n,153,UY(t.Workbook&&t.Workbook.WBProps||null)),WY(n,t),$Y(n,t),Pe(n,132),n.end()}function KY(t,e,n){return(e.slice(-4)===".bin"?GY:m6)(t)}function XY(t,e,n,r,i){return(e.slice(-4)===".bin"?OY:h6)(t,n,r,i)}function YY(t,e,n){return(e.slice(-4)===".bin"?pG:Q5)(t,n)}function QY(t,e,n){return(e.slice(-4)===".bin"?UW:G5)(t,n)}function JY(t,e,n){return(e.slice(-4)===".bin"?DG:n6)(t)}function ZY(t){return(t.slice(-4)===".bin"?EG:e6)()}function eQ(t,e){var n=[];return t.Props&&n.push(Yq(t.Props,e)),t.Custprops&&n.push(Qq(t.Props,t.Custprops)),n.join("")}function tQ(){return""}function nQ(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(Xe("NumberFormat",null,{"ss:Format":An(xr[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};n.push(Xe("Style",s.join(""),o))}),Xe("Styles",n.join(""))}function g6(t){return Xe("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+lk(t.Ref,{r:0,c:0})})}function rQ(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(g6(i)))}return Xe("Names",n.join(""))}function iQ(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var a=i[o];a.Sheet==n&&(a.Name.match(/^_xlfn\./)||s.push(g6(a)))}return s.join("")}function sQ(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Xe("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Xe("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Xe("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(Xe("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(mi("ProtectContents","True")),t["!protect"].objects&&i.push(mi("ProtectObjects","True")),t["!protect"].scenarios&&i.push(mi("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(mi("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(mi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":Xe("WorksheetOptions",i.join(""),{xmlns:Ds.x})}function oQ(t){return t.map(function(e){var n=uq(e.t||""),r=Xe("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Xe("Comment",r,{"ss:Author":e.a})}).join("")}function aQ(t,e,n,r,i,s,o){if(!t||t.v==null&&t.f==null)return"";var a={};if(t.f&&(a["ss:Formula"]="="+An(lk(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var l=Kr(t.F.slice(e.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(t.l&&t.l.Target&&(a["ss:HRef"]=An(t.l.Target),t.l.Tooltip&&(a["x:HRefScreenTip"]=An(t.l.Tooltip))),n["!merges"])for(var c=n["!merges"],f=0;f!=c.length;++f)c[f].s.c!=o.c||c[f].s.r!=o.r||(c[f].e.c>c[f].s.c&&(a["ss:MergeAcross"]=c[f].e.c-c[f].s.c),c[f].e.r>c[f].s.r&&(a["ss:MergeDown"]=c[f].e.r-c[f].s.r));var d="",p="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":d="Number",p=String(t.v);break;case"b":d="Boolean",p=t.v?"1":"0";break;case"e":d="Error",p=up[t.v];break;case"d":d="DateTime",p=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||xr[14]);break;case"s":d="String",p=cq(t.v||"");break}var g=ac(r.cellXfs,t,r);a["ss:StyleID"]="s"+(21+g),a["ss:Index"]=o.c+1;var x=t.v!=null?p:"",b=t.t=="z"?"":'<Data ss:Type="'+d+'">'+x+"</Data>";return(t.c||[]).length>0&&(b+=oQ(t.c)),Xe("Cell",b,a)}function lQ(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Y5(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function cQ(t,e,n,r){if(!t["!ref"])return"";var i=sr(t["!ref"]),s=t["!merges"]||[],o=0,a=[];t["!cols"]&&t["!cols"].forEach(function(v,w){ok(v);var k=!!v.width,A=Xy(w,v),T={"ss:Index":w+1};k&&(T["ss:Width"]=d1(A.width)),v.hidden&&(T["ss:Hidden"]="1"),a.push(Xe("Column",null,T))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var f=[lQ(c,(t["!rows"]||[])[c])],d=i.s.c;d<=i.e.c;++d){var p=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>d)&&!(s[o].s.r>c)&&!(s[o].e.c<d)&&!(s[o].e.r<c)){(s[o].s.c!=d||s[o].s.r!=c)&&(p=!0);break}if(!p){var g={r:c,c:d},x=Tn(g),b=l?(t[c]||[])[d]:t[x];f.push(aQ(b,x,t,e,n,r,g))}}f.push("</Row>"),f.length>2&&a.push(f.join(""))}return a.join("")}function uQ(t,e,n){var r=[],i=n.SheetNames[t],s=n.Sheets[i],o=s?iQ(s,e,t,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?cQ(s,e,t,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(sQ(s,e,t,n)),r.join("")}function fQ(t,e){e||(e={}),t.SSF||(t.SSF=hs(xr)),t.SSF&&(Vy(),$y(t.SSF),e.revssf=qy(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],ac(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(eQ(t,e)),n.push(tQ()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(Xe("Worksheet",uQ(r,e,t),{"ss:Name":An(t.SheetNames[r])}));return n[2]=nQ(t,e),n[3]=rQ(t),Br+Xe("Workbook",n.join(""),{xmlns:Ds.ss,"xmlns:o":Ds.o,"xmlns:x":Ds.x,"xmlns:ss":Ds.ss,"xmlns:dt":Ds.dt,"xmlns:html":Ds.html})}var Qw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function hQ(t,e){var n=[],r=[],i=[],s=0,o,a=U4(eO,"n"),l=U4(tO,"n");if(t.Props)for(o=yi(t.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(l,o[s])?r:i).push([o[s],t.Props[o[s]]]);if(t.Custprops)for(o=yi(t.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(l,o[s])?r:i).push([o[s],t.Custprops[o[s]]]);var c=[];for(s=0;s<i.length;++s)H5.indexOf(i[s][0])>-1||F5.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);r.length&&Rn.utils.cfb_add(e,"/SummaryInformation",oO(r,Qw.SI,l,tO)),(n.length||c.length)&&Rn.utils.cfb_add(e,"/DocumentSummaryInformation",oO(n,Qw.DSI,a,eO,c.length?c:null,Qw.UDI))}function dQ(t,e){var n=e||{},r=Rn.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Rn.utils.cfb_add(r,i,x6(t,n)),n.biff==8&&(t.Props||t.Custprops)&&hQ(t,r),n.biff==8&&t.vbaraw&&OG(r,Rn.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var pQ={0:{f:xX},1:{f:kX},2:{f:qX},3:{f:RX},4:{f:NX},5:{f:UX},6:{f:YX},7:{f:FX},8:{f:rY},9:{f:nY},10:{f:eY},11:{f:tY},12:{f:TX},13:{f:GX},14:{f:LX},15:{f:OX},16:{f:$X},17:{f:JX},18:{f:zX},19:{f:nk},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:jY},40:{},42:{},43:{f:YW},44:{f:KW},45:{f:ZW},46:{f:tG},47:{f:eG},48:{},49:{f:Tq},50:{},51:{f:xG},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:_W},62:{f:XX},63:{f:SG},64:{f:bY},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Zo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:mY},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:SX},148:{f:vX,p:16},151:{f:cY},152:{},153:{f:HY},154:{},155:{},156:{f:PY},157:{},158:{},159:{T:1,f:PW},160:{T:-1},161:{T:1,f:Cu},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:iY},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:mG},336:{T:-1},337:{f:vG,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:H2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:EW},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:uY},427:{f:fY},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:dY},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:EX},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:aY},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:H2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:_G},633:{T:1},634:{T:-1},635:{T:1,f:AG},636:{T:-1},637:{f:Oq},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:MY},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:vY},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ye(t,e,n,r){var i=e;if(!isNaN(i)){var s=r||(n||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&ZC(n)&&t.push(n)}}function mQ(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return Ye(t,e,n,i);var s=e;if(!isNaN(s)){for(var o=n.parts||[],a=0,l=0,c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;var f=t.next(4);for(f.write_shift(2,s),f.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c;l<i;){for(f=t.next(4),f.write_shift(2,60),c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;f.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c}}}function hp(t,e,n){return t||(t=Te(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function gQ(t,e,n,r){var i=Te(9);return hp(i,t,e),j5(n,r||"b",i),i}function xQ(t,e,n){var r=Te(8+2*n.length);return hp(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function yQ(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?fs(Hi(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Ye(t,2,MW(n,r,i)):Ye(t,3,OW(n,r,i));return;case"b":case"e":Ye(t,5,gQ(n,r,e.v,e.t));return;case"s":case"str":Ye(t,4,xQ(n,r,(e.v||"").slice(0,255)));return}Ye(t,1,hp(null,n,r))}function bQ(t,e,n,r){var i=Array.isArray(e),s=sr(e["!ref"]||"A1"),o,a="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=Mr(s)}for(var c=s.s.r;c<=s.e.r;++c){a=xi(c);for(var f=s.s.c;f<=s.e.c;++f){c===s.s.r&&(l[f]=Ai(f)),o=l[f]+a;var d=i?(e[c]||[])[f]:e[o];d&&yQ(t,d,c,f)}}}function vQ(t,e){for(var n=e||{},r=ls(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Ye(r,n.biff==4?1033:n.biff==3?521:9,sk(t,16,n)),bQ(r,t.Sheets[t.SheetNames[i]],i,n),Ye(r,10),r.end()}function wQ(t,e,n){Ye(t,49,pW({sz:12,name:"Arial"},n))}function EQ(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Ye(t,1054,xW(i,e[i],n))})}function SQ(t,e){var n=Te(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Ye(t,2151,n),n=Te(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),q5(sr(e["!ref"]||"A1"),n),n.write_shift(4,4),Ye(t,2152,n)}function CQ(t,e){for(var n=0;n<16;++n)Ye(t,224,lO({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Ye(t,224,lO(r,0,e))})}function kQ(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];Ye(t,440,kW(r)),r[1].Tooltip&&Ye(t,2048,AW(r))}delete e["!links"]}function AQ(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&Ye(t,125,NW(Xy(i,r),i))})}}function TQ(t,e,n,r,i){var s=16+ac(i.cellXfs,e,i);if(e.v==null&&!e.bf){Ye(t,513,iu(n,r,s));return}if(e.bf)Ye(t,6,QK(e,n,r,i,s));else switch(e.t){case"d":case"n":var o=e.t=="d"?fs(Hi(e.v)):e.v;Ye(t,515,wW(n,r,o,s));break;case"b":case"e":Ye(t,517,vW(n,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var a=uk(i.Strings,e.v,i.revStrings);Ye(t,253,mW(n,r,a,s))}else Ye(t,516,gW(n,r,(e.v||"").slice(0,255),s,i));break;default:Ye(t,513,iu(n,r,s))}}function _Q(t,e,n){var r=ls(),i=n.SheetNames[t],s=n.Sheets[i]||{},o=(n||{}).Workbook||{},a=(o.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,f,d="",p=[],g=sr(s["!ref"]||"A1"),x=c?65536:16384;if(g.e.c>255||g.e.r>=x){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,x-1)}Ye(r,2057,sk(n,16,e)),Ye(r,13,Ys(1)),Ye(r,12,Ys(100)),Ye(r,15,Ii(!0)),Ye(r,17,Ii(!1)),Ye(r,16,ru(.001)),Ye(r,95,Ii(!0)),Ye(r,42,Ii(!1)),Ye(r,43,Ii(!1)),Ye(r,130,Ys(1)),Ye(r,128,bW()),Ye(r,131,Ii(!1)),Ye(r,132,Ii(!1)),c&&AQ(r,s["!cols"]),Ye(r,512,yW(g,e)),c&&(s["!links"]=[]);for(var b=g.s.r;b<=g.e.r;++b){d=xi(b);for(var v=g.s.c;v<=g.e.c;++v){b===g.s.r&&(p[v]=Ai(v)),f=p[v]+d;var w=l?(s[b]||[])[v]:s[f];w&&(TQ(r,w,b,v,e),c&&w.l&&s["!links"].push([f,w.l]))}}var k=a.CodeName||a.name||i;return c&&Ye(r,574,dW((o.Views||[])[0])),c&&(s["!merges"]||[]).length&&Ye(r,229,CW(s["!merges"])),c&&kQ(r,s),Ye(r,442,V5(k)),c&&SQ(r,s),Ye(r,10),r.end()}function NQ(t,e,n){var r=ls(),i=(t||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},a=n.biff==8,l=n.biff==5;if(Ye(r,2057,sk(t,5,n)),n.bookType=="xla"&&Ye(r,135),Ye(r,225,a?Ys(1200):null),Ye(r,193,eW(2)),l&&Ye(r,191),l&&Ye(r,192),Ye(r,226),Ye(r,92,cW("SheetJS",n)),Ye(r,66,Ys(a?1200:1252)),a&&Ye(r,353,Ys(0)),a&&Ye(r,448),Ye(r,317,DW(t.SheetNames.length)),a&&t.vbaraw&&Ye(r,211),a&&t.vbaraw){var c=o.CodeName||"ThisWorkbook";Ye(r,442,V5(c))}Ye(r,156,Ys(17)),Ye(r,25,Ii(!1)),Ye(r,18,Ii(!1)),Ye(r,19,Ys(0)),a&&Ye(r,431,Ii(!1)),a&&Ye(r,444,Ys(0)),Ye(r,61,hW()),Ye(r,64,Ii(!1)),Ye(r,141,Ys(0)),Ye(r,34,Ii(BY(t)=="true")),Ye(r,14,Ii(!0)),a&&Ye(r,439,Ii(!1)),Ye(r,218,Ys(0)),wQ(r,t,n),EQ(r,t.SSF,n),CQ(r,n),a&&Ye(r,352,Ii(!1));var f=r.end(),d=ls();a&&Ye(d,140,TW()),a&&n.Strings&&mQ(d,252,fW(n.Strings)),Ye(d,10);var p=d.end(),g=ls(),x=0,b=0;for(b=0;b<t.SheetNames.length;++b)x+=(a?12:11)+(a?2:1)*t.SheetNames[b].length;var v=f.length+x+p.length;for(b=0;b<t.SheetNames.length;++b){var w=s[b]||{};Ye(g,133,uW({pos:v,hs:w.Hidden||0,dt:0,name:t.SheetNames[b]},n)),v+=e[b].length}var k=g.end();if(x!=k.length)throw new Error("BS8 "+x+" != "+k.length);var A=[];return f.length&&A.push(f),k.length&&A.push(k),p.length&&A.push(p),pi(A)}function DQ(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=hs(xr)),t&&t.SSF&&(Vy(),$y(t.SSF),n.revssf=qy(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,fk(n),n.cellXfs=[],ac(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=_Q(i,n,t);return r.unshift(NQ(t,r,n)),pi(r)}function x6(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=Fs(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return DQ(t,e);case 4:case 3:case 2:return vQ(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function OQ(t,e,n,r){for(var i=t["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var a=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>o)&&!(i[c].e.r<n||i[c].e.c<o)){if(i[c].s.r<n||i[c].s.c<o){a=-1;break}a=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(a<0)){var f=Tn({r:n,c:o}),d=r.dense?(t[n]||[])[o]:t[f],p=d&&d.v!=null&&(d.h||lq(d.w||(Ua(d),d.w)||""))||"",g={};a>1&&(g.rowspan=a),l>1&&(g.colspan=l),r.editable?p='<span contenteditable="true">'+p+"</span>":d&&(g["data-t"]=d&&d.t||"z",d.v!=null&&(g["data-v"]=d.v),d.z!=null&&(g["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+d.l.Target+'">'+p+"</a>")),g.id=(r.id||"sjs")+"-"+f,s.push(Xe("td",p,g))}}var x="<tr>";return x+s.join("")+"</tr>"}var MQ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',RQ="</body></html>";function BQ(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function y6(t,e){var n=e||{},r=n.header!=null?n.header:MQ,i=n.footer!=null?n.footer:RQ,s=[r],o=Fs(t["!ref"]);n.dense=Array.isArray(t),s.push(BQ(t,o,n));for(var a=o.s.r;a<=o.e.r;++a)s.push(OQ(t,o,a,n));return s.push("</table>"+i),s.join("")}function b6(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Kr(r.origin):r.origin;i=o.r,s=o.c}var a=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,a.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var f=Fs(t["!ref"]);c.s.r=Math.min(c.s.r,f.s.r),c.s.c=Math.min(c.s.c,f.s.c),c.e.r=Math.max(c.e.r,f.e.r),c.e.c=Math.max(c.e.c,f.e.c),i==-1&&(c.e.r=i=f.e.r+1)}var d=[],p=0,g=t["!rows"]||(t["!rows"]=[]),x=0,b=0,v=0,w=0,k=0,A=0;for(t["!cols"]||(t["!cols"]=[]);x<a.length&&b<l;++x){var T=a[x];if(mO(T)){if(r.display)continue;g[b]={hidden:!0}}var O=T.children;for(v=w=0;v<O.length;++v){var _=O[v];if(!(r.display&&mO(_))){var N=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):hq(_.innerHTML),F=_.getAttribute("data-z")||_.getAttribute("z");for(p=0;p<d.length;++p){var L=d[p];L.s.c==w+s&&L.s.r<b+i&&b+i<=L.e.r&&(w=L.e.c+1-s,p=-1)}A=+_.getAttribute("colspan")||1,((k=+_.getAttribute("rowspan")||1)>1||A>1)&&d.push({s:{r:b+i,c:w+s},e:{r:b+i+(k||1)-1,c:w+s+(A||1)-1}});var R={t:"s",v:N},P=_.getAttribute("data-t")||_.getAttribute("t")||"";N!=null&&(N.length==0?R.t=P||"z":r.raw||N.trim().length==0||P=="s"||(N==="TRUE"?R={t:"b",v:!0}:N==="FALSE"?R={t:"b",v:!1}:isNaN(La(N))?isNaN(v0(N).getDate())||(R={t:"d",v:Hi(N)},r.cellDates||(R={t:"n",v:fs(R.v)}),R.z=r.dateNF||xr[14]):R={t:"n",v:La(N)})),R.z===void 0&&F!=null&&(R.z=F);var z="",W=_.getElementsByTagName("A");if(W&&W.length)for(var ee=0;ee<W.length&&!(W[ee].hasAttribute("href")&&(z=W[ee].getAttribute("href"),z.charAt(0)!="#"));++ee);z&&z.charAt(0)!="#"&&(R.l={Target:z}),r.dense?(t[b+i]||(t[b+i]=[]),t[b+i][w+s]=R):t[Tn({c:w+s,r:b+i})]=R,c.e.c<w+s&&(c.e.c=w+s),w+=A}}++b}return d.length&&(t["!merges"]=(t["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,b-1+i),t["!ref"]=Mr(c),b>=l&&(t["!fullref"]=Mr((c.e.r=a.length-x+b-1+i,c))),t}function v6(t,e){var n=e||{},r=n.dense?[]:{};return b6(r,t,e)}function LQ(t,e){return vu(v6(t,e),e)}function mO(t){var e="",n=IQ(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function IQ(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var FQ=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+E0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Br+e}})(),gO=(function(){var t=function(s){return An(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,o,a){var l=[];l.push('      <table:table table:name="'+An(o.SheetNames[a])+`" table:style-name="ta1">
`);var c=0,f=0,d=Fs(s["!ref"]||"A1"),p=s["!merges"]||[],g=0,x=Array.isArray(s);if(s["!cols"])for(f=0;f<=d.e.c;++f)l.push("        <table:table-column"+(s["!cols"][f]?' table:style-name="co'+s["!cols"][f].ods+'"':"")+`></table:table-column>
`);var b="",v=s["!rows"]||[];for(c=0;c<d.s.r;++c)b=v[c]?' table:style-name="ro'+v[c].ods+'"':"",l.push("        <table:table-row"+b+`></table:table-row>
`);for(;c<=d.e.r;++c){for(b=v[c]?' table:style-name="ro'+v[c].ods+'"':"",l.push("        <table:table-row"+b+`>
`),f=0;f<d.s.c;++f)l.push(e);for(;f<=d.e.c;++f){var w=!1,k={},A="";for(g=0;g!=p.length;++g)if(!(p[g].s.c>f)&&!(p[g].s.r>c)&&!(p[g].e.c<f)&&!(p[g].e.r<c)){(p[g].s.c!=f||p[g].s.r!=c)&&(w=!0),k["table:number-columns-spanned"]=p[g].e.c-p[g].s.c+1,k["table:number-rows-spanned"]=p[g].e.r-p[g].s.r+1;break}if(w){l.push(n);continue}var T=Tn({r:c,c:f}),O=x?(s[c]||[])[f]:s[T];if(O&&O.f&&(k["table:formula"]=An(rX(O.f)),O.F&&O.F.slice(0,T.length)==T)){var _=Fs(O.F);k["table:number-matrix-columns-spanned"]=_.e.c-_.s.c+1,k["table:number-matrix-rows-spanned"]=_.e.r-_.s.r+1}if(!O){l.push(e);continue}switch(O.t){case"b":A=O.v?"TRUE":"FALSE",k["office:value-type"]="boolean",k["office:boolean-value"]=O.v?"true":"false";break;case"n":A=O.w||String(O.v||0),k["office:value-type"]="float",k["office:value"]=O.v||0;break;case"s":case"str":A=O.v==null?"":O.v,k["office:value-type"]="string";break;case"d":A=O.w||Hi(O.v).toISOString(),k["office:value-type"]="date",k["office:date-value"]=Hi(O.v).toISOString(),k["table:style-name"]="ce1";break;default:l.push(e);continue}var N=t(A);if(O.l&&O.l.Target){var F=O.l.Target;F=F.charAt(0)=="#"?"#"+iX(F.slice(1)):F,F.charAt(0)!="#"&&!F.match(/^\w+:/)&&(F="../"+F),N=Xe("text:a",N,{"xlink:href":F.replace(/&/g,"&amp;")})}l.push("          "+Xe("table:table-cell",Xe("text:p",N,{}),k)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var f=0;f<c["!cols"].length;++f)if(c["!cols"][f]){var d=c["!cols"][f];if(d.width==null&&d.wpx==null&&d.wch==null)continue;ok(d),d.ods=a;var p=c["!cols"][f].wpx+"px";s.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++a}}});var l=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var f=0;f<c["!rows"].length;++f)if(c["!rows"][f]){c["!rows"][f].ods=l;var d=c["!rows"][f].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,a){var l=[Br],c=E0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=E0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+c+f+`>
`),l.push(L5().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var d=0;d!=o.SheetNames.length;++d)l.push(r(o.Sheets[o.SheetNames[d]],o,d));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function w6(t,e){if(e.bookType=="fods")return gO(t,e);var n=XC(),r="",i=[],s=[];return r="mimetype",Ut(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Ut(n,r,gO(t,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",Ut(n,r,FQ(t,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",Ut(n,r,Br+L5()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",Ut(n,r,Xq(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Ut(n,r,Gq(i)),n}function g1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function PQ(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):bo(w0(t))}function zQ(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function Jl(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function HQ(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=n>=0?0:128}function S0(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Cn(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Ff(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Fr(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=S0(t,n),s=i&7;i=Math.floor(i/8);var o=0,a;if(i==0)break;switch(s){case 0:{for(var l=n[0];t[n[0]++]>=128;);a=t.slice(l,n[0])}break;case 5:o=4,a=t.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,a=t.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=S0(t,n),a=t.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:a,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function li(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(Cn(r*8+i.type)),i.type==2&&e.push(Cn(i.data.length)),e.push(i.data))})}),Jl(e)}function go(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=S0(t,r),s=Fr(t.slice(r[0],r[0]+i));r[0]+=i;var o={id:Ff(s[1][0].data),messages:[]};s[2].forEach(function(a){var l=Fr(a.data),c=Ff(l[3][0].data);o.messages.push({meta:l,data:t.slice(r[0],r[0]+c)}),r[0]+=c}),(e=s[3])!=null&&e[0]&&(o.merge=Ff(s[3][0].data)>>>0>0),n.push(o)}return n}function uf(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:Cn(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Cn(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:Cn(o.data.length)}],r[2].push({data:li(o.meta),type:2})});var s=li(r);e.push(Cn(s.length)),e.push(s),i.forEach(function(o){return e.push(o)})}),Jl(e)}function UQ(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=S0(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var o=e[n[0]++]>>2;if(o<60)++o;else{var a=o-59;o=e[n[0]],a>1&&(o|=e[n[0]+1]<<8),a>2&&(o|=e[n[0]+2]<<16),a>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=a}i.push(e.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var l=0,c=0;if(s==1?(c=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(c=(e[n[0]++]>>2)+1,s==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Jl(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var f=Jl(i);if(f.length!=r)throw new Error("Unexpected length: ".concat(f.length," != ").concat(r));return f}function xo(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(UQ(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Jl(e)}function ff(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var s=Cn(r),o=s.length;e.push(s),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,n+=r}return Jl(e)}function Jw(t,e){var n=new Uint8Array(32),r=g1(n),i=12,s=0;switch(n[0]=5,t.t){case"n":n[1]=2,HQ(n,i,t.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,s,!0),n.slice(0,i)}function Zw(t,e){var n=new Uint8Array(32),r=g1(n),i=12,s=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,s,!0),n.slice(0,i)}function El(t){var e=Fr(t);return S0(e[1][0].data)}function jQ(t,e,n){var r,i,s,o;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(s=t[8])==null?void 0:s[0])==null?void 0:o.data)&&Ff(t[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,c=g1(t[7][0].data),f=0,d=[],p=g1(t[4][0].data),g=0,x=[],b=0;b<e.length;++b){if(e[b]==null){c.setUint16(b*2,65535,!0),p.setUint16(b*2,65535);continue}c.setUint16(b*2,f,!0),p.setUint16(b*2,g,!0);var v,w;switch(typeof e[b]){case"string":v=Jw({t:"s",v:e[b]},n),w=Zw({t:"s",v:e[b]},n);break;case"number":v=Jw({t:"n",v:e[b]},n),w=Zw({t:"n",v:e[b]},n);break;case"boolean":v=Jw({t:"b",v:e[b]},n),w=Zw({t:"b",v:e[b]},n);break;default:throw new Error("Unsupported value "+e[b])}d.push(v),f+=v.length,x.push(w),g+=w.length,++l}for(t[2][0].data=Cn(l);b<t[7][0].data.length/2;++b)c.setUint16(b*2,65535,!0),p.setUint16(b*2,65535,!0);return t[6][0].data=Jl(d),t[3][0].data=Jl(x),l}function $Q(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Fs(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Mr(r)));var s=x1(n,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(D){return D.forEach(function(I){typeof I=="string"&&o.push(I)})});var a={},l=[],c=Rn.read(e.numbers,{type:"base64"});c.FileIndex.map(function(D,I){return[D,c.FullPaths[I]]}).forEach(function(D){var I=D[0],V=D[1];if(I.type==2&&I.name.match(/\.iwa/)){var re=I.content,he=xo(re),oe=go(he);oe.forEach(function(Ee){l.push(Ee.id),a[Ee.id]={deps:[],location:V,type:Ff(Ee.messages[0].meta[1][0].data)}})}}),l.sort(function(D,I){return D-I});var f=l.filter(function(D){return D>1}).map(function(D){return[D,Cn(D)]});c.FileIndex.map(function(D,I){return[D,c.FullPaths[I]]}).forEach(function(D){var I=D[0];if(D[1],!!I.name.match(/\.iwa/)){var V=go(xo(I.content));V.forEach(function(re){re.messages.forEach(function(he){f.forEach(function(oe){re.messages.some(function(Ee){return Ff(Ee.meta[1][0].data)!=11006&&zQ(Ee.data,oe[1])})&&a[oe[0]].deps.push(re.id)})})})}});for(var d=Rn.find(c,a[1].location),p=go(xo(d.content)),g,x=0;x<p.length;++x){var b=p[x];b.id==1&&(g=b)}var v=El(Fr(g.messages[0].data)[1][0].data);for(d=Rn.find(c,a[v].location),p=go(xo(d.content)),x=0;x<p.length;++x)b=p[x],b.id==v&&(g=b);for(v=El(Fr(g.messages[0].data)[2][0].data),d=Rn.find(c,a[v].location),p=go(xo(d.content)),x=0;x<p.length;++x)b=p[x],b.id==v&&(g=b);for(v=El(Fr(g.messages[0].data)[2][0].data),d=Rn.find(c,a[v].location),p=go(xo(d.content)),x=0;x<p.length;++x)b=p[x],b.id==v&&(g=b);var w=Fr(g.messages[0].data);{w[6][0].data=Cn(r.e.r+1),w[7][0].data=Cn(r.e.c+1);var k=El(w[46][0].data),A=Rn.find(c,a[k].location),T=go(xo(A.content));{for(var O=0;O<T.length&&T[O].id!=k;++O);if(T[O].id!=k)throw"Bad ColumnRowUIDMapArchive";var _=Fr(T[O].messages[0].data);_[1]=[],_[2]=[],_[3]=[];for(var N=0;N<=r.e.c;++N){var F=[];F[1]=F[2]=[{type:0,data:Cn(N+420690)}],_[1].push({type:2,data:li(F)}),_[2].push({type:0,data:Cn(N)}),_[3].push({type:0,data:Cn(N)})}_[4]=[],_[5]=[],_[6]=[];for(var L=0;L<=r.e.r;++L)F=[],F[1]=F[2]=[{type:0,data:Cn(L+726270)}],_[4].push({type:2,data:li(F)}),_[5].push({type:0,data:Cn(L)}),_[6].push({type:0,data:Cn(L)});T[O].messages[0].data=li(_)}A.content=ff(uf(T)),A.size=A.content.length,delete w[46];var R=Fr(w[4][0].data);{R[7][0].data=Cn(r.e.r+1);var P=Fr(R[1][0].data),z=El(P[2][0].data);A=Rn.find(c,a[z].location),T=go(xo(A.content));{if(T[0].id!=z)throw"Bad HeaderStorageBucket";var W=Fr(T[0].messages[0].data);for(L=0;L<s.length;++L){var ee=Fr(W[2][0].data);ee[1][0].data=Cn(L),ee[4][0].data=Cn(s[L].length),W[2][L]={type:W[2][0].type,data:li(ee)}}T[0].messages[0].data=li(W)}A.content=ff(uf(T)),A.size=A.content.length;var te=El(R[2][0].data);A=Rn.find(c,a[te].location),T=go(xo(A.content));{if(T[0].id!=te)throw"Bad HeaderStorageBucket";for(W=Fr(T[0].messages[0].data),N=0;N<=r.e.c;++N)ee=Fr(W[2][0].data),ee[1][0].data=Cn(N),ee[4][0].data=Cn(r.e.r+1),W[2][N]={type:W[2][0].type,data:li(ee)};T[0].messages[0].data=li(W)}A.content=ff(uf(T)),A.size=A.content.length;var J=El(R[4][0].data);(function(){for(var D=Rn.find(c,a[J].location),I=go(xo(D.content)),V,re=0;re<I.length;++re){var he=I[re];he.id==J&&(V=he)}var oe=Fr(V.messages[0].data);{oe[3]=[];var Ee=[];o.forEach(function(ot,_t){Ee[1]=[{type:0,data:Cn(_t)}],Ee[2]=[{type:0,data:Cn(1)}],Ee[3]=[{type:2,data:PQ(ot)}],oe[3].push({type:2,data:li(Ee)})})}V.messages[0].data=li(oe);var de=uf(I),ct=ff(de);D.content=ct,D.size=D.content.length})();var ae=Fr(R[3][0].data);{var ce=ae[1][0];delete ae[2];var ve=Fr(ce.data);{var q=El(ve[2][0].data);(function(){for(var D=Rn.find(c,a[q].location),I=go(xo(D.content)),V,re=0;re<I.length;++re){var he=I[re];he.id==q&&(V=he)}var oe=Fr(V.messages[0].data);{delete oe[6],delete ae[7];var Ee=new Uint8Array(oe[5][0].data);oe[5]=[];for(var de=0,ct=0;ct<=r.e.r;++ct){var ot=Fr(Ee);de+=jQ(ot,s[ct],o),ot[1][0].data=Cn(ct),oe[5].push({data:li(ot),type:2})}oe[1]=[{type:0,data:Cn(r.e.c+1)}],oe[2]=[{type:0,data:Cn(r.e.r+1)}],oe[3]=[{type:0,data:Cn(de)}],oe[4]=[{type:0,data:Cn(r.e.r+1)}]}V.messages[0].data=li(oe);var _t=uf(I),et=ff(_t);D.content=et,D.size=D.content.length})()}ce.data=li(ve)}R[3][0].data=li(ae)}w[4][0].data=li(R)}g.messages[0].data=li(w);var U=uf(p),M=ff(U);return d.content=M,d.size=d.content.length,c}function VQ(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function fk(t){VQ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function qQ(t,e){return e.bookType=="ods"?w6(t,e):e.bookType=="numbers"?$Q(t,e):e.bookType=="xlsb"?WQ(t,e):GQ(t,e)}function WQ(t,e){_f=1024,t&&!t.SSF&&(t.SSF=hs(xr)),t&&t.SSF&&(Vy(),$y(t.SSF),e.revssf=qy(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Gd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=r6.indexOf(e.bookType)>-1,i=M5();fk(e=e||{});var s=XC(),o="",a=0;if(e.cellXfs=[],ac(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Ut(s,o,I5(t.Props,e)),i.coreprops.push(o),kn(e.rels,2,o,cn.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Ut(s,o,P5(t.Props)),i.extprops.push(o),kn(e.rels,3,o,cn.EXT_PROPS),t.Custprops!==t.Props&&yi(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Ut(s,o,z5(t.Custprops)),i.custprops.push(o),kn(e.rels,4,o,cn.CUST_PROPS)),a=1;a<=t.SheetNames.length;++a){var f={"!id":{}},d=t.Sheets[t.SheetNames[a-1]],p=(d||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+a+"."+n,Ut(s,o,XY(a-1,o,e,t,f)),i.sheets.push(o),kn(e.wbrels,-1,"worksheets/sheet"+a+"."+n,cn.WS[0])}if(d){var g=d["!comments"],x=!1,b="";g&&g.length>0&&(b="xl/comments"+a+"."+n,Ut(s,b,JY(g,b)),i.comments.push(b),kn(f,-1,"../comments"+a+"."+n,cn.CMNT),x=!0),d["!legacy"]&&x&&Ut(s,"xl/drawings/vmlDrawing"+a+".vml",t6(a,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&Ut(s,B5(o),Lf(f))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,Ut(s,o,QY(e.Strings,o,e)),i.strs.push(o),kn(e.wbrels,-1,"sharedStrings."+n,cn.SST)),o="xl/workbook."+n,Ut(s,o,KY(t,o)),i.workbooks.push(o),kn(e.rels,1,o,cn.WB),o="xl/theme/theme1.xml",Ut(s,o,Z5(t.Themes,e)),i.themes.push(o),kn(e.wbrels,-1,"theme/theme1.xml",cn.THEME),o="xl/styles."+n,Ut(s,o,YY(t,o,e)),i.styles.push(o),kn(e.wbrels,-1,"styles."+n,cn.STY),t.vbaraw&&r&&(o="xl/vbaProject.bin",Ut(s,o,t.vbaraw),i.vba.push(o),kn(e.wbrels,-1,"vbaProject.bin",cn.VBA)),o="xl/metadata."+n,Ut(s,o,ZY(o)),i.metadata.push(o),kn(e.wbrels,-1,"metadata."+n,cn.XLMETA),Ut(s,"[Content_Types].xml",R5(i,e)),Ut(s,"_rels/.rels",Lf(e.rels)),Ut(s,"xl/_rels/workbook."+n+".rels",Lf(e.wbrels)),delete e.revssf,delete e.ssf,s}function GQ(t,e){_f=1024,t&&!t.SSF&&(t.SSF=hs(xr)),t&&t.SSF&&(Vy(),$y(t.SSF),e.revssf=qy(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Gd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=r6.indexOf(e.bookType)>-1,i=M5();fk(e=e||{});var s=XC(),o="",a=0;if(e.cellXfs=[],ac(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Ut(s,o,I5(t.Props,e)),i.coreprops.push(o),kn(e.rels,2,o,cn.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Ut(s,o,P5(t.Props)),i.extprops.push(o),kn(e.rels,3,o,cn.EXT_PROPS),t.Custprops!==t.Props&&yi(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Ut(s,o,z5(t.Custprops)),i.custprops.push(o),kn(e.rels,4,o,cn.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,a=1;a<=t.SheetNames.length;++a){var d={"!id":{}},p=t.Sheets[t.SheetNames[a-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+a+"."+n,Ut(s,o,h6(a-1,e,t,d)),i.sheets.push(o),kn(e.wbrels,-1,"worksheets/sheet"+a+"."+n,cn.WS[0])}if(p){var x=p["!comments"],b=!1,v="";if(x&&x.length>0){var w=!1;x.forEach(function(k){k[1].forEach(function(A){A.T==!0&&(w=!0)})}),w&&(v="xl/threadedComments/threadedComment"+a+"."+n,Ut(s,v,CG(x,f,e)),i.threadedcomments.push(v),kn(d,-1,"../threadedComments/threadedComment"+a+"."+n,cn.TCMNT)),v="xl/comments"+a+"."+n,Ut(s,v,n6(x)),i.comments.push(v),kn(d,-1,"../comments"+a+"."+n,cn.CMNT),b=!0}p["!legacy"]&&b&&Ut(s,"xl/drawings/vmlDrawing"+a+".vml",t6(a,p["!comments"])),delete p["!comments"],delete p["!legacy"]}d["!id"].rId1&&Ut(s,B5(o),Lf(d))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+n,Ut(s,o,G5(e.Strings,e)),i.strs.push(o),kn(e.wbrels,-1,"sharedStrings."+n,cn.SST)),o="xl/workbook."+n,Ut(s,o,m6(t)),i.workbooks.push(o),kn(e.rels,1,o,cn.WB),o="xl/theme/theme1.xml",Ut(s,o,Z5(t.Themes,e)),i.themes.push(o),kn(e.wbrels,-1,"theme/theme1.xml",cn.THEME),o="xl/styles."+n,Ut(s,o,Q5(t,e)),i.styles.push(o),kn(e.wbrels,-1,"styles."+n,cn.STY),t.vbaraw&&r&&(o="xl/vbaProject.bin",Ut(s,o,t.vbaraw),i.vba.push(o),kn(e.wbrels,-1,"vbaProject.bin",cn.VBA)),o="xl/metadata."+n,Ut(s,o,e6()),i.metadata.push(o),kn(e.wbrels,-1,"metadata."+n,cn.XLMETA),f.length>1&&(o="xl/persons/person.xml",Ut(s,o,kG(f)),i.people.push(o),kn(e.wbrels,-1,"persons/person.xml",cn.PEOPLE)),Ut(s,"[Content_Types].xml",R5(i,e)),Ut(s,"_rels/.rels",Lf(e.rels)),Ut(s,"xl/_rels/workbook."+n+".rels",Lf(e.wbrels)),delete e.revssf,delete e.ssf,s}function KQ(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Ha(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function E6(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return lp(e.file,Rn.write(t,{type:xn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Rn.write(t,e)}function XQ(t,e){var n=hs(e||{}),r=qQ(t,n);return YQ(r,n)}function YQ(t,e){var n={},r=xn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Rn.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(jy(i))}return e.password&&typeof encrypt_agile<"u"?E6(encrypt_agile(i,e.password),e):e.type==="file"?lp(e.file,i):e.type=="string"?$d(i):i}function QQ(t,e){var n=e||{},r=dQ(t,n);return E6(r,n)}function jo(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return b0(w0(r));case"binary":return w0(r);case"string":return t;case"file":return lp(e.file,r,"utf8");case"buffer":return xn?Wa(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):jo(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function JQ(t,e){switch(e.type){case"base64":return b0(t);case"binary":return t;case"string":return t;case"file":return lp(e.file,t,"binary");case"buffer":return xn?Wa(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Jm(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?b0(n):e.type=="string"?$d(n):n;case"file":return lp(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function j2(t,e){AV(),FY(t);var n=hs(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=j2(t,n);return n.type="array",jy(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return jo(fQ(t,n),n);case"slk":case"sylk":return jo(BW.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return jo(y6(t.Sheets[t.SheetNames[i]],n),n);case"txt":return JQ(S6(t.Sheets[t.SheetNames[i]],n),n);case"csv":return jo(hk(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return jo(LW.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return Jm(RW.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return jo(IW.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return jo($W.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return jo(W5.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return jo(w6(t,n),n);case"wk1":return Jm(cO.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return Jm(cO.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Jm(x6(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),QQ(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return XQ(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function ZQ(t,e,n,r,i,s,o,a){var l=xi(n),c=a.defval,f=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),d=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!o||t[n])for(var g=e.s.c;g<=e.e.c;++g){var x=o?t[n][g]:t[r[g]+l];if(x===void 0||x.t===void 0){if(c===void 0)continue;s[g]!=null&&(p[s[g]]=c);continue}var b=x.v;switch(x.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(s[g]!=null){if(b==null)if(x.t=="e"&&b===null)p[s[g]]=null;else if(c!==void 0)p[s[g]]=c;else if(f&&b===null)p[s[g]]=null;else continue;else p[s[g]]=f&&(x.t!=="n"||x.t==="n"&&a.rawNumbers!==!1)?b:Ua(x,b,a);b!=null&&(d=!1)}}return{row:p,isempty:d}}function x1(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},f=c.range!=null?c.range:t["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof f){case"string":l=sr(f);break;case"number":l=sr(t["!ref"]),l.s.r=f;break;default:l=f}r>0&&(i=0);var d=xi(l.s.r),p=[],g=[],x=0,b=0,v=Array.isArray(t),w=l.s.r,k=0,A={};v&&!t[w]&&(t[w]=[]);var T=c.skipHidden&&t["!cols"]||[],O=c.skipHidden&&t["!rows"]||[];for(k=l.s.c;k<=l.e.c;++k)if(!(T[k]||{}).hidden)switch(p[k]=Ai(k),n=v?t[w][k]:t[p[k]+d],r){case 1:s[k]=k-l.s.c;break;case 2:s[k]=p[k];break;case 3:s[k]=c.header[k-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),a=o=Ua(n,null,c),b=A[o]||0,!b)A[o]=1;else{do a=o+"_"+b++;while(A[a]);A[o]=b,A[a]=1}s[k]=a}for(w=l.s.r+i;w<=l.e.r;++w)if(!(O[w]||{}).hidden){var _=ZQ(t,l,w,p,r,s,v,c);(_.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(g[x++]=_.row)}return g.length=x,g}var xO=/"/g;function eJ(t,e,n,r,i,s,o,a){for(var l=!0,c=[],f="",d=xi(n),p=e.s.c;p<=e.e.c;++p)if(r[p]){var g=a.dense?(t[n]||[])[p]:t[r[p]+d];if(g==null)f="";else if(g.v!=null){l=!1,f=""+(a.rawNumbers&&g.t=="n"?g.v:Ua(g,null,a));for(var x=0,b=0;x!==f.length;++x)if((b=f.charCodeAt(x))===i||b===s||b===34||a.forceQuotes){f='"'+f.replace(xO,'""')+'"';break}f=="ID"&&(f='"ID"')}else g.f!=null&&!g.F?(l=!1,f="="+g.f,f.indexOf(",")>=0&&(f='"'+f.replace(xO,'""')+'"')):f="";c.push(f)}return a.blankrows===!1&&l?null:c.join(o)}function hk(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=sr(t["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),a=r.RS!==void 0?r.RS:`
`,l=a.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),f="",d=[];r.dense=Array.isArray(t);for(var p=r.skipHidden&&t["!cols"]||[],g=r.skipHidden&&t["!rows"]||[],x=i.s.c;x<=i.e.c;++x)(p[x]||{}).hidden||(d[x]=Ai(x));for(var b=0,v=i.s.r;v<=i.e.r;++v)(g[v]||{}).hidden||(f=eJ(t,i,v,d,o,l,s,r),f!=null&&(r.strip&&(f=f.replace(c,"")),(f||r.blankrows!==!1)&&n.push((b++?a:"")+f)));return delete r.dense,n.join("")}function S6(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=hk(t,e);return n}function tJ(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=sr(t["!ref"]),s="",o=[],a,l=[],c=Array.isArray(t);for(a=i.s.c;a<=i.e.c;++a)o[a]=Ai(a);for(var f=i.s.r;f<=i.e.r;++f)for(s=xi(f),a=i.s.c;a<=i.e.c;++a)if(e=o[a]+s,n=c?(t[f]||[])[a]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=e+"="+r}return l}function C6(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},o=0,a=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?Kr(r.origin):r.origin;o=l.r,a=l.c}var c,f={s:{c:0,r:0},e:{c:a,r:o+e.length-1+i}};if(s["!ref"]){var d=sr(s["!ref"]);f.e.c=Math.max(f.e.c,d.e.c),f.e.r=Math.max(f.e.r,d.e.r),o==-1&&(o=d.e.r+1,f.e.r=o+e.length-1+i)}else o==-1&&(o=0,f.e.r=e.length-1+i);var p=r.header||[],g=0;e.forEach(function(b,v){yi(b).forEach(function(w){(g=p.indexOf(w))==-1&&(p[g=p.length]=w);var k=b[w],A="z",T="",O=Tn({c:a+g,r:o+v+i});c=C0(s,O),k&&typeof k=="object"&&!(k instanceof Date)?s[O]=k:(typeof k=="number"?A="n":typeof k=="boolean"?A="b":typeof k=="string"?A="s":k instanceof Date?(A="d",r.cellDates||(A="n",k=fs(k)),T=r.dateNF||xr[14]):k===null&&r.nullError&&(A="e",k=0),c?(c.t=A,c.v=k,delete c.w,delete c.R,T&&(c.z=T)):s[O]=c={t:A,v:k},T&&(c.z=T))})}),f.e.c=Math.max(f.e.c,a+p.length-1);var x=xi(o);if(i)for(g=0;g<p.length;++g)s[Ai(g+a)+x]={t:"s",v:p[g]};return s["!ref"]=Mr(f),s}function nJ(t,e){return C6(null,t,e)}function C0(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Kr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?C0(t,Tn(e)):C0(t,Tn({r:e,c:n||0}))}function rJ(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function iJ(){return{SheetNames:[],Sheets:{}}}function sJ(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=o+i)!=-1;++i);}if(p6(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function oJ(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=rJ(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function aJ(t,e){return t.z=e,t}function k6(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function lJ(t,e,n){return k6(t,"#"+e,n)}function cJ(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function uJ(t,e,n,r){for(var i=typeof e!="string"?e:sr(e),s=typeof e=="string"?e:Mr(e),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var l=C0(t,o,a);l.t="n",l.F=s,delete l.v,o==i.s.r&&a==i.s.c&&(l.f=n,r&&(l.D=!0))}return t}var Sl={encode_col:Ai,encode_row:xi,encode_cell:Tn,encode_range:Mr,decode_col:tk,decode_row:ek,split_cell:Aq,decode_cell:Kr,decode_range:Fs,format_cell:Ua,sheet_add_aoa:A5,sheet_add_json:C6,sheet_add_dom:b6,aoa_to_sheet:fh,json_to_sheet:nJ,table_to_sheet:v6,table_to_book:LQ,sheet_to_csv:hk,sheet_to_txt:S6,sheet_to_json:x1,sheet_to_html:y6,sheet_to_formulae:tJ,sheet_to_row_object_array:x1,sheet_get_cell:C0,book_new:iJ,book_append_sheet:sJ,book_set_sheet_visibility:oJ,cell_set_number_format:aJ,cell_set_hyperlink:k6,cell_set_internal_link:lJ,cell_add_comment:cJ,sheet_set_array_formula:uJ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Bx={exports:{}},fJ=Bx.exports,yO;function hJ(){return yO||(yO=1,(function(t,e){(function(n,r){r()})(fJ,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,d){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){l(p.response,f,d)},p.onerror=function(){console.error("could not download file")},p.send()}function i(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Uc=="object"&&Uc.global===Uc?Uc:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,f,d){var p=o.URL||o.webkitURL,g=document.createElement("a");f=f||c.name||"download",g.download=f,g.rel="noopener",typeof c=="string"?(g.href=c,g.origin===location.origin?s(g):i(g.href)?r(c,f,d):s(g,g.target="_blank")):(g.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(g.href)},4e4),setTimeout(function(){s(g)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,d){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,d),f);else if(i(c))r(c,f,d);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){s(p)})}}:function(c,f,d,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,d);var g=c.type==="application/octet-stream",x=/constructor/i.test(o.HTMLElement)||o.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||g&&x||a)&&typeof FileReader<"u"){var v=new FileReader;v.onloadend=function(){var A=v.result;A=b?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=A:location=A,p=null},v.readAsDataURL(c)}else{var w=o.URL||o.webkitURL,k=w.createObjectURL(c);p?p.location=k:location.href=k,p=null,setTimeout(function(){w.revokeObjectURL(k)},4e4)}});o.saveAs=l.saveAs=l,t.exports=l})})(Bx)),Bx.exports}var eE=hJ();const Yy=X.createContext(),tE={default:{name:"Padro (Azul)",bg:"bg-gray-100",navbar:"bg-white",navbarText:"text-gray-700",text:"text-gray-700",primaryBtn:"bg-blue-600 hover:bg-blue-700 text-white",secondaryBtn:"bg-gray-100 hover:bg-gray-200 text-gray-600",accent:"text-blue-600",border:"border-gray-200",input:"bg-white text-gray-900",panel:"bg-white",tabActive:"bg-blue-50 text-blue-600 border-blue-600",tabInactive:"text-gray-500 hover:bg-gray-50 hover:text-blue-500"},dark:{name:"Modo Escuro",bg:"bg-gray-900",navbar:"bg-gray-800",navbarText:"text-gray-200",text:"text-gray-200",primaryBtn:"bg-indigo-600 hover:bg-indigo-700 text-white",secondaryBtn:"bg-gray-700 hover:bg-gray-600 text-gray-200",accent:"text-indigo-400",border:"border-gray-700",input:"bg-gray-700 text-white border-gray-600",panel:"bg-gray-800",tabActive:"bg-gray-700 text-indigo-400 border-indigo-400",tabInactive:"text-gray-400 hover:bg-gray-700 hover:text-indigo-300"},ubuntu:{name:"Ubuntu",bg:"bg-[#fdf6e3]",navbar:"bg-[#300a24]",navbarText:"text-white",text:"text-[#300a24]",primaryBtn:"bg-[#e95420] hover:bg-[#c7461b] text-white",secondaryBtn:"bg-[#aea79f] hover:bg-[#9e968d] text-white",accent:"text-[#e95420]",border:"border-[#aea79f]",input:"bg-white text-[#300a24]",panel:"bg-white",tabActive:"bg-[#4e103b] text-[#e95420] border-[#e95420]",tabInactive:"text-gray-300 hover:bg-[#4e103b] hover:text-[#e95420]"},forest:{name:"Floresta",bg:"bg-stone-100",navbar:"bg-[#1c2e1f]",navbarText:"text-stone-200",text:"text-[#1c2e1f]",primaryBtn:"bg-[#2d4a33] hover:bg-[#3a5e42] text-white",secondaryBtn:"bg-stone-200 hover:bg-stone-300 text-stone-700",accent:"text-[#2d4a33]",border:"border-stone-200",input:"bg-white text-stone-800",panel:"bg-[#fdfbf7]",tabActive:"bg-[#2d4a33] text-white border-[#4caf50]",tabInactive:"text-stone-400 hover:bg-[#2d4a33] hover:text-white"},ocean:{name:"Oceano",bg:"bg-cyan-50",navbar:"bg-white",navbarText:"text-slate-700",text:"text-slate-700",primaryBtn:"bg-cyan-600 hover:bg-cyan-700 text-white",secondaryBtn:"bg-cyan-100 hover:bg-cyan-200 text-cyan-800",accent:"text-cyan-600",border:"border-cyan-200",input:"bg-white text-slate-700",panel:"bg-white",tabActive:"bg-cyan-50 text-cyan-700 border-cyan-600",tabInactive:"text-slate-500 hover:bg-cyan-50 hover:text-cyan-600"},dracula:{name:"Dracula",bg:"bg-[#282a36]",navbar:"bg-[#44475a]",navbarText:"text-[#f8f8f2]",text:"text-[#f8f8f2]",primaryBtn:"bg-[#bd93f9] hover:bg-[#ff79c6] text-[#282a36]",secondaryBtn:"bg-[#6272a4] hover:bg-[#50fa7b] text-white",accent:"text-[#ff79c6]",border:"border-[#6272a4]",input:"bg-[#282a36] text-[#f8f8f2] border-[#6272a4]",panel:"bg-[#282a36]",tabActive:"bg-[#282a36] text-[#ff79c6] border-[#ff79c6]",tabInactive:"text-[#6272a4] hover:bg-[#282a36] hover:text-[#bd93f9]"},military:{name:"Militar",bg:"bg-[#f5f5f5]",navbar:"bg-[#3e2723]",navbarText:"text-[#efebe9]",text:"text-[#3e2723]",primaryBtn:"bg-[#558b2f] hover:bg-[#33691e] text-white",secondaryBtn:"bg-[#795548] hover:bg-[#5d4037] text-white",accent:"text-[#33691e]",border:"border-[#8d6e63]",input:"bg-white text-gray-900 border-[#8d6e63]",panel:"bg-[#fafafa]",tabActive:"bg-[#5d4037] text-[#efebe9] border-[#fafafa]",tabInactive:"text-[#efebe9] opacity-70 hover:opacity-100"}};function dJ(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const pJ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,mJ=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,gJ={};function bO(t,e){return(gJ.jsx?mJ:pJ).test(t)}const xJ=/[ \t\n\f\r]/g;function yJ(t){return typeof t=="object"?t.type==="text"?vO(t.value):!1:vO(t)}function vO(t){return t.replace(xJ,"")===""}let dp=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};dp.prototype.normal={};dp.prototype.property={};dp.prototype.space=void 0;function A6(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new dp(n,r,e)}function $2(t){return t.toLowerCase()}class ds{constructor(e,n){this.attribute=n,this.property=e}}ds.prototype.attribute="";ds.prototype.booleanish=!1;ds.prototype.boolean=!1;ds.prototype.commaOrSpaceSeparated=!1;ds.prototype.commaSeparated=!1;ds.prototype.defined=!1;ds.prototype.mustUseProperty=!1;ds.prototype.number=!1;ds.prototype.overloadedBoolean=!1;ds.prototype.property="";ds.prototype.spaceSeparated=!1;ds.prototype.space=void 0;let bJ=0;const zt=ku(),_r=ku(),V2=ku(),Ge=ku(),Kn=ku(),Pf=ku(),As=ku();function ku(){return 2**++bJ}const q2=Object.freeze(Object.defineProperty({__proto__:null,boolean:zt,booleanish:_r,commaOrSpaceSeparated:As,commaSeparated:Pf,number:Ge,overloadedBoolean:V2,spaceSeparated:Kn},Symbol.toStringTag,{value:"Module"})),nE=Object.keys(q2);class dk extends ds{constructor(e,n,r,i){let s=-1;if(super(e,n),wO(this,"space",i),typeof r=="number")for(;++s<nE.length;){const o=nE[s];wO(this,nE[s],(r&q2[o])===q2[o])}}}dk.prototype.defined=!0;function wO(t,e,n){n&&(t[e]=n)}function ph(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new dk(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[$2(r)]=r,n[$2(s.attribute)]=r}return new dp(e,n,t.space)}const T6=ph({properties:{ariaActiveDescendant:null,ariaAtomic:_r,ariaAutoComplete:null,ariaBusy:_r,ariaChecked:_r,ariaColCount:Ge,ariaColIndex:Ge,ariaColSpan:Ge,ariaControls:Kn,ariaCurrent:null,ariaDescribedBy:Kn,ariaDetails:null,ariaDisabled:_r,ariaDropEffect:Kn,ariaErrorMessage:null,ariaExpanded:_r,ariaFlowTo:Kn,ariaGrabbed:_r,ariaHasPopup:null,ariaHidden:_r,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Kn,ariaLevel:Ge,ariaLive:null,ariaModal:_r,ariaMultiLine:_r,ariaMultiSelectable:_r,ariaOrientation:null,ariaOwns:Kn,ariaPlaceholder:null,ariaPosInSet:Ge,ariaPressed:_r,ariaReadOnly:_r,ariaRelevant:null,ariaRequired:_r,ariaRoleDescription:Kn,ariaRowCount:Ge,ariaRowIndex:Ge,ariaRowSpan:Ge,ariaSelected:_r,ariaSetSize:Ge,ariaSort:null,ariaValueMax:Ge,ariaValueMin:Ge,ariaValueNow:Ge,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function _6(t,e){return e in t?t[e]:e}function N6(t,e){return _6(t,e.toLowerCase())}const vJ=ph({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Pf,acceptCharset:Kn,accessKey:Kn,action:null,allow:null,allowFullScreen:zt,allowPaymentRequest:zt,allowUserMedia:zt,alt:null,as:null,async:zt,autoCapitalize:null,autoComplete:Kn,autoFocus:zt,autoPlay:zt,blocking:Kn,capture:null,charSet:null,checked:zt,cite:null,className:Kn,cols:Ge,colSpan:null,content:null,contentEditable:_r,controls:zt,controlsList:Kn,coords:Ge|Pf,crossOrigin:null,data:null,dateTime:null,decoding:null,default:zt,defer:zt,dir:null,dirName:null,disabled:zt,download:V2,draggable:_r,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:zt,formTarget:null,headers:Kn,height:Ge,hidden:V2,high:Ge,href:null,hrefLang:null,htmlFor:Kn,httpEquiv:Kn,id:null,imageSizes:null,imageSrcSet:null,inert:zt,inputMode:null,integrity:null,is:null,isMap:zt,itemId:null,itemProp:Kn,itemRef:Kn,itemScope:zt,itemType:Kn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:zt,low:Ge,manifest:null,max:null,maxLength:Ge,media:null,method:null,min:null,minLength:Ge,multiple:zt,muted:zt,name:null,nonce:null,noModule:zt,noValidate:zt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:zt,optimum:Ge,pattern:null,ping:Kn,placeholder:null,playsInline:zt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:zt,referrerPolicy:null,rel:Kn,required:zt,reversed:zt,rows:Ge,rowSpan:Ge,sandbox:Kn,scope:null,scoped:zt,seamless:zt,selected:zt,shadowRootClonable:zt,shadowRootDelegatesFocus:zt,shadowRootMode:null,shape:null,size:Ge,sizes:null,slot:null,span:Ge,spellCheck:_r,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ge,step:null,style:null,tabIndex:Ge,target:null,title:null,translate:null,type:null,typeMustMatch:zt,useMap:null,value:_r,width:Ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Kn,axis:null,background:null,bgColor:null,border:Ge,borderColor:null,bottomMargin:Ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:zt,declare:zt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ge,leftMargin:Ge,link:null,longDesc:null,lowSrc:null,marginHeight:Ge,marginWidth:Ge,noResize:zt,noHref:zt,noShade:zt,noWrap:zt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ge,rules:null,scheme:null,scrolling:_r,standby:null,summary:null,text:null,topMargin:Ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:zt,disableRemotePlayback:zt,prefix:null,property:null,results:Ge,security:null,unselectable:null},space:"html",transform:N6}),wJ=ph({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:As,accentHeight:Ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ge,amplitude:Ge,arabicForm:null,ascent:Ge,attributeName:null,attributeType:null,azimuth:Ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ge,by:null,calcMode:null,capHeight:Ge,className:Kn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ge,diffuseConstant:Ge,direction:null,display:null,dur:null,divisor:Ge,dominantBaseline:null,download:zt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ge,enableBackground:null,end:null,event:null,exponent:Ge,externalResourcesRequired:null,fill:null,fillOpacity:Ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Pf,g2:Pf,glyphName:Pf,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ge,horizOriginX:Ge,horizOriginY:Ge,id:null,ideographic:Ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ge,k:Ge,k1:Ge,k2:Ge,k3:Ge,k4:Ge,kernelMatrix:As,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ge,overlineThickness:Ge,paintOrder:null,panose1:null,path:null,pathLength:Ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Kn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ge,pointsAtY:Ge,pointsAtZ:Ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:As,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:As,rev:As,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:As,requiredFeatures:As,requiredFonts:As,requiredFormats:As,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ge,specularExponent:Ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ge,strikethroughThickness:Ge,string:null,stroke:null,strokeDashArray:As,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ge,strokeOpacity:Ge,strokeWidth:null,style:null,surfaceScale:Ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:As,tabIndex:Ge,tableValues:null,target:null,targetX:Ge,targetY:Ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:As,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ge,underlineThickness:Ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ge,values:null,vAlphabetic:Ge,vMathematical:Ge,vectorEffect:null,vHanging:Ge,vIdeographic:Ge,version:null,vertAdvY:Ge,vertOriginX:Ge,vertOriginY:Ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:_6}),D6=ph({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),O6=ph({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:N6}),M6=ph({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),EJ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},SJ=/[A-Z]/g,EO=/-[a-z]/g,CJ=/^data[-\w.:]+$/i;function kJ(t,e){const n=$2(e);let r=e,i=ds;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&CJ.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(EO,TJ);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!EO.test(s)){let o=s.replace(SJ,AJ);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=dk}return new i(r,e)}function AJ(t){return"-"+t.toLowerCase()}function TJ(t){return t.charAt(1).toUpperCase()}const _J=A6([T6,vJ,D6,O6,M6],"html"),pk=A6([T6,wJ,D6,O6,M6],"svg");function NJ(t){return t.join(" ").trim()}var hf={},rE,SO;function DJ(){if(SO)return rE;SO=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,c="/",f="*",d="",p="comment",g="declaration";function x(v,w){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];w=w||{};var k=1,A=1;function T(ee){var te=ee.match(e);te&&(k+=te.length);var J=ee.lastIndexOf(l);A=~J?ee.length-J:A+ee.length}function O(){var ee={line:k,column:A};return function(te){return te.position=new _(ee),L(),te}}function _(ee){this.start=ee,this.end={line:k,column:A},this.source=w.source}_.prototype.content=v;function N(ee){var te=new Error(w.source+":"+k+":"+A+": "+ee);if(te.reason=ee,te.filename=w.source,te.line=k,te.column=A,te.source=v,!w.silent)throw te}function F(ee){var te=ee.exec(v);if(te){var J=te[0];return T(J),v=v.slice(J.length),te}}function L(){F(n)}function R(ee){var te;for(ee=ee||[];te=P();)te!==!1&&ee.push(te);return ee}function P(){var ee=O();if(!(c!=v.charAt(0)||f!=v.charAt(1))){for(var te=2;d!=v.charAt(te)&&(f!=v.charAt(te)||c!=v.charAt(te+1));)++te;if(te+=2,d===v.charAt(te-1))return N("End of comment missing");var J=v.slice(2,te-2);return A+=2,T(J),v=v.slice(te),A+=2,ee({type:p,comment:J})}}function z(){var ee=O(),te=F(r);if(te){if(P(),!F(i))return N("property missing ':'");var J=F(s),ae=ee({type:g,property:b(te[0].replace(t,d)),value:J?b(J[0].replace(t,d)):d});return F(o),ae}}function W(){var ee=[];R(ee);for(var te;te=z();)te!==!1&&(ee.push(te),R(ee));return ee}return L(),W()}function b(v){return v?v.replace(a,d):d}return rE=x,rE}var CO;function OJ(){if(CO)return hf;CO=1;var t=hf&&hf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hf,"__esModule",{value:!0}),hf.default=n;const e=t(DJ());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const o=(0,e.default)(r),a=typeof i=="function";return o.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:f}=l;a?i(c,f,l):f&&(s=s||{},s[c]=f)}),s}return hf}var yd={},kO;function MJ(){if(kO)return yd;kO=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||t.test(c)},o=function(c,f){return f.toUpperCase()},a=function(c,f){return"".concat(f,"-")},l=function(c,f){return f===void 0&&(f={}),s(c)?c:(c=c.toLowerCase(),f.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(e,o))};return yd.camelCase=l,yd}var bd,AO;function RJ(){if(AO)return bd;AO=1;var t=bd&&bd.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(OJ()),n=MJ();function r(i,s){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,bd=r,bd}var BJ=RJ();const LJ=xu(BJ),R6=B6("end"),mk=B6("start");function B6(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function IJ(t){const e=mk(t),n=R6(t);if(e&&n)return{start:e,end:n}}function Kd(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?TO(t.position):"start"in t||"end"in t?TO(t):"line"in t||"column"in t?W2(t):""}function W2(t){return _O(t&&t.line)+":"+_O(t&&t.column)}function TO(t){return W2(t&&t.start)+"-"+W2(t&&t.end)}function _O(t){return t&&typeof t=="number"?t:1}class Di extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=Kd(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Di.prototype.file="";Di.prototype.name="";Di.prototype.reason="";Di.prototype.message="";Di.prototype.stack="";Di.prototype.column=void 0;Di.prototype.line=void 0;Di.prototype.ancestors=void 0;Di.prototype.cause=void 0;Di.prototype.fatal=void 0;Di.prototype.place=void 0;Di.prototype.ruleId=void 0;Di.prototype.source=void 0;const gk={}.hasOwnProperty,FJ=new Map,PJ=/[A-Z]/g,zJ=new Set(["table","tbody","thead","tfoot","tr"]),HJ=new Set(["td","th"]),L6="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function UJ(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=XJ(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=KJ(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?pk:_J,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=I6(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function I6(t,e,n){if(e.type==="element")return jJ(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return $J(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return qJ(t,e,n);if(e.type==="mdxjsEsm")return VJ(t,e);if(e.type==="root")return WJ(t,e,n);if(e.type==="text")return GJ(t,e)}function jJ(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=pk,t.schema=i),t.ancestors.push(e);const s=P6(t,e.tagName,!1),o=YJ(t,e);let a=yk(t,e);return zJ.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!yJ(l):!0})),F6(t,o,s,e),xk(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function $J(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}k0(t,e.position)}function VJ(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);k0(t,e.position)}function qJ(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=pk,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:P6(t,e.name,!0),o=QJ(t,e),a=yk(t,e);return F6(t,o,s,e),xk(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function WJ(t,e,n){const r={};return xk(r,yk(t,e)),t.create(e,t.Fragment,r,n)}function GJ(t,e){return e.value}function F6(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function xk(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function KJ(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function XJ(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=mk(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function YJ(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&gk.call(e.properties,i)){const s=JJ(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&HJ.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function QJ(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else k0(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else k0(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function yk(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:FJ;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=I6(t,s,o);a!==void 0&&n.push(a)}return n}function JJ(t,e,n){const r=kJ(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?dJ(n):NJ(n)),r.property==="style"){let i=typeof n=="object"?n:ZJ(t,String(n));return t.stylePropertyNameCase==="css"&&(i=eZ(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?EJ[r.property]||r.property:r.attribute,n]}}function ZJ(t,e){try{return LJ(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Di("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=L6+"#cannot-parse-style-attribute",i}}function P6(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=bO(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=bO(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return gk.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);k0(t)}function k0(t,e){const n=new Di("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=L6+"#cannot-handle-mdx-estrees-without-createevaluater",n}function eZ(t){const e={};let n;for(n in t)gk.call(t,n)&&(e[tZ(n)]=t[n]);return e}function tZ(t){let e=t.replace(PJ,nZ);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function nZ(t){return"-"+t.toLowerCase()}const iE={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},rZ={};function bk(t,e){const n=rZ,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return z6(t,r,i)}function z6(t,e,n){if(iZ(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return NO(t.children,e,n)}return Array.isArray(t)?NO(t,e,n):""}function NO(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=z6(t[i],e,n);return r.join("")}function iZ(t){return!!(t&&typeof t=="object")}const DO=document.createElement("i");function vk(t){const e="&"+t+";";DO.innerHTML=e;const n=DO.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ls(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function Zs(t,e){return t.length>0?(Ls(t,t.length,0,e),t):e}const OO={}.hasOwnProperty;function H6(t){const e={};let n=-1;for(;++n<t.length;)sZ(e,t[n]);return e}function sZ(t,e){let n;for(n in e){const i=(OO.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){OO.call(i,o)||(i[o]=[]);const a=s[o];oZ(i[o],Array.isArray(a)?a:a?[a]:[])}}}function oZ(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ls(t,0,0,r)}function U6(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ko(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Pi=lc(/[A-Za-z]/),ki=lc(/[\dA-Za-z]/),aZ=lc(/[#-'*+\--9=?A-Z^-~]/);function y1(t){return t!==null&&(t<32||t===127)}const G2=lc(/\d/),lZ=lc(/[\dA-Fa-f]/),cZ=lc(/[!-/:-@[-`{-~]/);function Ct(t){return t!==null&&t<-2}function Un(t){return t!==null&&(t<0||t===32)}function Kt(t){return t===-2||t===-1||t===32}const Qy=lc(new RegExp("\\p{P}|\\p{S}","u")),su=lc(/\s/);function lc(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function mh(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&ki(t.charCodeAt(n+1))&&ki(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function nn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Kt(l)?(t.enter(n),a(l)):e(l)}function a(l){return Kt(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const uZ={tokenize:fZ};function fZ(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),nn(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return Ct(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const hZ={tokenize:dZ},MO={tokenize:pZ};function dZ(t){const e=this,n=[];let r=0,i,s,o;return a;function a(A){if(r<n.length){const T=n[r];return e.containerState=T[1],t.attempt(T[0].continuation,l,c)(A)}return c(A)}function l(A){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&k();const T=e.events.length;let O=T,_;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){_=e.events[O][1].end;break}w(r);let N=T;for(;N<e.events.length;)e.events[N][1].end={..._},N++;return Ls(e.events,O+1,0,e.events.slice(T)),e.events.length=N,c(A)}return a(A)}function c(A){if(r===n.length){if(!i)return p(A);if(i.currentConstruct&&i.currentConstruct.concrete)return x(A);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(MO,f,d)(A)}function f(A){return i&&k(),w(r),p(A)}function d(A){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,x(A)}function p(A){return e.containerState={},t.attempt(MO,g,x)(A)}function g(A){return r++,n.push([e.currentConstruct,e.containerState]),p(A)}function x(A){if(A===null){i&&k(),w(0),t.consume(A);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),b(A)}function b(A){if(A===null){v(t.exit("chunkFlow"),!0),w(0),t.consume(A);return}return Ct(A)?(t.consume(A),v(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(A),b)}function v(A,T){const O=e.sliceStream(A);if(T&&O.push(null),A.previous=s,s&&(s.next=A),s=A,i.defineSkip(A.start),i.write(O),e.parser.lazy[A.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<o&&(!i.events[_][1].end||i.events[_][1].end.offset>o))return;const N=e.events.length;let F=N,L,R;for(;F--;)if(e.events[F][0]==="exit"&&e.events[F][1].type==="chunkFlow"){if(L){R=e.events[F][1].end;break}L=!0}for(w(r),_=N;_<e.events.length;)e.events[_][1].end={...R},_++;Ls(e.events,F+1,0,e.events.slice(N)),e.events.length=_}}function w(A){let T=n.length;for(;T-- >A;){const O=n[T];e.containerState=O[1],O[0].exit.call(e,t)}n.length=A}function k(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function pZ(t,e,n){return nn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Xf(t){if(t===null||Un(t)||su(t))return 1;if(Qy(t))return 2}function Jy(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const K2={name:"attention",resolveAll:mZ,tokenize:gZ};function mZ(t,e){let n=-1,r,i,s,o,a,l,c,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},p={...t[n][1].start};RO(d,-l),RO(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Zs(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Zs(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=Zs(c,Jy(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Zs(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,c=Zs(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,Ls(t,r-1,n-r+3,c),n=r+c.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function gZ(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Xf(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),f=Xf(l),d=!f||f===2&&i||n.includes(l),p=!i||i===2&&f||n.includes(r);return c._open=!!(s===42?d:d&&(i||!p)),c._close=!!(s===42?p:p&&(f||!d)),e(l)}}function RO(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const xZ={name:"autolink",tokenize:yZ};function yZ(t,e,n){let r=0;return i;function i(g){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(g){return Pi(g)?(t.consume(g),o):g===64?n(g):c(g)}function o(g){return g===43||g===45||g===46||ki(g)?(r=1,a(g)):c(g)}function a(g){return g===58?(t.consume(g),r=0,l):(g===43||g===45||g===46||ki(g))&&r++<32?(t.consume(g),a):(r=0,c(g))}function l(g){return g===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):g===null||g===32||g===60||y1(g)?n(g):(t.consume(g),l)}function c(g){return g===64?(t.consume(g),f):aZ(g)?(t.consume(g),c):n(g)}function f(g){return ki(g)?d(g):n(g)}function d(g){return g===46?(t.consume(g),r=0,f):g===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):p(g)}function p(g){if((g===45||ki(g))&&r++<63){const x=g===45?p:d;return t.consume(g),x}return n(g)}}const pp={partial:!0,tokenize:bZ};function bZ(t,e,n){return r;function r(s){return Kt(s)?nn(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||Ct(s)?e(s):n(s)}}const j6={continuation:{tokenize:wZ},exit:EZ,name:"blockQuote",tokenize:vZ};function vZ(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Kt(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function wZ(t,e,n){const r=this;return i;function i(o){return Kt(o)?nn(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(j6,e,n)(o)}}function EZ(t){t.exit("blockQuote")}const $6={name:"characterEscape",tokenize:SZ};function SZ(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return cZ(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const V6={name:"characterReference",tokenize:CZ};function CZ(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=ki,f(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=lZ,f):(t.enter("characterReferenceValue"),s=7,o=G2,f(d))}function f(d){if(d===59&&i){const p=t.exit("characterReferenceValue");return o===ki&&!vk(r.sliceSerialize(p))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),f):n(d)}}const BO={partial:!0,tokenize:AZ},LO={concrete:!0,name:"codeFenced",tokenize:kZ};function kZ(t,e,n){const r=this,i={partial:!0,tokenize:O};let s=0,o=0,a;return l;function l(_){return c(_)}function c(_){const N=r.events[r.events.length-1];return s=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,a=_,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(_)}function f(_){return _===a?(o++,t.consume(_),f):o<3?n(_):(t.exit("codeFencedFenceSequence"),Kt(_)?nn(t,d,"whitespace")(_):d(_))}function d(_){return _===null||Ct(_)?(t.exit("codeFencedFence"),r.interrupt?e(_):t.check(BO,b,T)(_)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===null||Ct(_)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(_)):Kt(_)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),nn(t,g,"whitespace")(_)):_===96&&_===a?n(_):(t.consume(_),p)}function g(_){return _===null||Ct(_)?d(_):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(_))}function x(_){return _===null||Ct(_)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(_)):_===96&&_===a?n(_):(t.consume(_),x)}function b(_){return t.attempt(i,T,v)(_)}function v(_){return t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),w}function w(_){return s>0&&Kt(_)?nn(t,k,"linePrefix",s+1)(_):k(_)}function k(_){return _===null||Ct(_)?t.check(BO,b,T)(_):(t.enter("codeFlowValue"),A(_))}function A(_){return _===null||Ct(_)?(t.exit("codeFlowValue"),k(_)):(t.consume(_),A)}function T(_){return t.exit("codeFenced"),e(_)}function O(_,N,F){let L=0;return R;function R(te){return _.enter("lineEnding"),_.consume(te),_.exit("lineEnding"),P}function P(te){return _.enter("codeFencedFence"),Kt(te)?nn(_,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):z(te)}function z(te){return te===a?(_.enter("codeFencedFenceSequence"),W(te)):F(te)}function W(te){return te===a?(L++,_.consume(te),W):L>=o?(_.exit("codeFencedFenceSequence"),Kt(te)?nn(_,ee,"whitespace")(te):ee(te)):F(te)}function ee(te){return te===null||Ct(te)?(_.exit("codeFencedFence"),N(te)):F(te)}}}function AZ(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const sE={name:"codeIndented",tokenize:_Z},TZ={partial:!0,tokenize:NZ};function _Z(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),nn(t,s,"linePrefix",5)(c)}function s(c){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):Ct(c)?t.attempt(TZ,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||Ct(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function NZ(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Ct(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):nn(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):Ct(o)?i(o):n(o)}}const DZ={name:"codeText",previous:MZ,resolve:OZ,tokenize:RZ};function OZ(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function MZ(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function RZ(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,f(d)):Ct(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||Ct(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),c)}function f(d){return d===96?(t.consume(d),i++,f):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",c(d))}}class BZ{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&vd(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),vd(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),vd(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);vd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);vd(this.left,n.reverse())}}}function vd(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function q6(t){const e={};let n=-1,r,i,s,o,a,l,c;const f=new BZ(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,LZ(f,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=f.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},a=f.slice(i,n),a.unshift(r),f.splice(i,n-i+1,a))}}return Ls(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}function LZ(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let f,d,p=-1,g=n,x=0,b=0;const v=[b];for(;g;){for(;t.get(++i)[1]!==g;);s.push(i),g._tokenizer||(f=r.sliceStream(g),g.next||f.push(null),d&&o.defineSkip(g.start),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=g,g=g.next}for(g=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(b=p+1,v.push(b),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(o.events=[],g?(g._tokenizer=void 0,g.previous=void 0):v.pop(),p=v.length;p--;){const w=a.slice(v[p],v[p+1]),k=s.pop();l.push([k,k+w.length-1]),t.splice(k,2,w)}for(l.reverse(),p=-1;++p<l.length;)c[x+l[p][0]]=x+l[p][1],x+=l[p][1]-l[p][0]-1;return c}const IZ={resolve:PZ,tokenize:zZ},FZ={partial:!0,tokenize:HZ};function PZ(t){return q6(t),t}function zZ(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Ct(a)?t.check(FZ,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function HZ(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),nn(t,s,"linePrefix")}function s(o){if(o===null||Ct(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function W6(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let f=0;return d;function d(w){return w===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(w),t.exit(s),p):w===null||w===32||w===41||y1(w)?n(w):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),b(w))}function p(w){return w===62?(t.enter(s),t.consume(w),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===62?(t.exit("chunkString"),t.exit(a),p(w)):w===null||w===60||Ct(w)?n(w):(t.consume(w),w===92?x:g)}function x(w){return w===60||w===62||w===92?(t.consume(w),g):g(w)}function b(w){return!f&&(w===null||w===41||Un(w))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(w)):f<c&&w===40?(t.consume(w),f++,b):w===41?(t.consume(w),f--,b):w===null||w===32||w===40||y1(w)?n(w):(t.consume(w),w===92?v:b)}function v(w){return w===40||w===41||w===92?(t.consume(w),b):b(w)}}function G6(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(g){return t.enter(r),t.enter(i),t.consume(g),t.exit(i),t.enter(s),f}function f(g){return a>999||g===null||g===91||g===93&&!l||g===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(g):g===93?(t.exit(s),t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):Ct(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===null||g===91||g===93||Ct(g)||a++>999?(t.exit("chunkString"),f(g)):(t.consume(g),l||(l=!Kt(g)),g===92?p:d)}function p(g){return g===91||g===92||g===93?(t.consume(g),a++,d):d(g)}}function K6(t,e,n,r,i,s){let o;return a;function a(p){return p===34||p===39||p===40?(t.enter(r),t.enter(i),t.consume(p),t.exit(i),o=p===40?41:p,l):n(p)}function l(p){return p===o?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(s),c(p))}function c(p){return p===o?(t.exit(s),l(o)):p===null?n(p):Ct(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),nn(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===o||p===null||Ct(p)?(t.exit("chunkString"),c(p)):(t.consume(p),p===92?d:f)}function d(p){return p===o||p===92?(t.consume(p),f):f(p)}}function Xd(t,e){let n;return r;function r(i){return Ct(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Kt(i)?nn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const UZ={name:"definition",tokenize:$Z},jZ={partial:!0,tokenize:VZ};function $Z(t,e,n){const r=this;let i;return s;function s(g){return t.enter("definition"),o(g)}function o(g){return G6.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function a(g){return i=ko(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),l):n(g)}function l(g){return Un(g)?Xd(t,c)(g):c(g)}function c(g){return W6(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function f(g){return t.attempt(jZ,d,d)(g)}function d(g){return Kt(g)?nn(t,p,"whitespace")(g):p(g)}function p(g){return g===null||Ct(g)?(t.exit("definition"),r.parser.defined.push(i),e(g)):n(g)}}function VZ(t,e,n){return r;function r(a){return Un(a)?Xd(t,i)(a):n(a)}function i(a){return K6(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Kt(a)?nn(t,o,"whitespace")(a):o(a)}function o(a){return a===null||Ct(a)?e(a):n(a)}}const qZ={name:"hardBreakEscape",tokenize:WZ};function WZ(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return Ct(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const GZ={name:"headingAtx",resolve:KZ,tokenize:XZ};function KZ(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ls(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function XZ(t,e,n){let r=0;return i;function i(f){return t.enter("atxHeading"),s(f)}function s(f){return t.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&r++<6?(t.consume(f),o):f===null||Un(f)?(t.exit("atxHeadingSequence"),a(f)):n(f)}function a(f){return f===35?(t.enter("atxHeadingSequence"),l(f)):f===null||Ct(f)?(t.exit("atxHeading"),e(f)):Kt(f)?nn(t,a,"whitespace")(f):(t.enter("atxHeadingText"),c(f))}function l(f){return f===35?(t.consume(f),l):(t.exit("atxHeadingSequence"),a(f))}function c(f){return f===null||f===35||Un(f)?(t.exit("atxHeadingText"),a(f)):(t.consume(f),c)}}const YZ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],IO=["pre","script","style","textarea"],QZ={concrete:!0,name:"htmlFlow",resolveTo:eee,tokenize:tee},JZ={partial:!0,tokenize:ree},ZZ={partial:!0,tokenize:nee};function eee(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function tee(t,e,n){const r=this;let i,s,o,a,l;return c;function c(D){return f(D)}function f(D){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(D),d}function d(D){return D===33?(t.consume(D),p):D===47?(t.consume(D),s=!0,b):D===63?(t.consume(D),i=3,r.interrupt?e:q):Pi(D)?(t.consume(D),o=String.fromCharCode(D),v):n(D)}function p(D){return D===45?(t.consume(D),i=2,g):D===91?(t.consume(D),i=5,a=0,x):Pi(D)?(t.consume(D),i=4,r.interrupt?e:q):n(D)}function g(D){return D===45?(t.consume(D),r.interrupt?e:q):n(D)}function x(D){const I="CDATA[";return D===I.charCodeAt(a++)?(t.consume(D),a===I.length?r.interrupt?e:z:x):n(D)}function b(D){return Pi(D)?(t.consume(D),o=String.fromCharCode(D),v):n(D)}function v(D){if(D===null||D===47||D===62||Un(D)){const I=D===47,V=o.toLowerCase();return!I&&!s&&IO.includes(V)?(i=1,r.interrupt?e(D):z(D)):YZ.includes(o.toLowerCase())?(i=6,I?(t.consume(D),w):r.interrupt?e(D):z(D)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(D):s?k(D):A(D))}return D===45||ki(D)?(t.consume(D),o+=String.fromCharCode(D),v):n(D)}function w(D){return D===62?(t.consume(D),r.interrupt?e:z):n(D)}function k(D){return Kt(D)?(t.consume(D),k):R(D)}function A(D){return D===47?(t.consume(D),R):D===58||D===95||Pi(D)?(t.consume(D),T):Kt(D)?(t.consume(D),A):R(D)}function T(D){return D===45||D===46||D===58||D===95||ki(D)?(t.consume(D),T):O(D)}function O(D){return D===61?(t.consume(D),_):Kt(D)?(t.consume(D),O):A(D)}function _(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),l=D,N):Kt(D)?(t.consume(D),_):F(D)}function N(D){return D===l?(t.consume(D),l=null,L):D===null||Ct(D)?n(D):(t.consume(D),N)}function F(D){return D===null||D===34||D===39||D===47||D===60||D===61||D===62||D===96||Un(D)?O(D):(t.consume(D),F)}function L(D){return D===47||D===62||Kt(D)?A(D):n(D)}function R(D){return D===62?(t.consume(D),P):n(D)}function P(D){return D===null||Ct(D)?z(D):Kt(D)?(t.consume(D),P):n(D)}function z(D){return D===45&&i===2?(t.consume(D),J):D===60&&i===1?(t.consume(D),ae):D===62&&i===4?(t.consume(D),U):D===63&&i===3?(t.consume(D),q):D===93&&i===5?(t.consume(D),ve):Ct(D)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(JZ,M,W)(D)):D===null||Ct(D)?(t.exit("htmlFlowData"),W(D)):(t.consume(D),z)}function W(D){return t.check(ZZ,ee,M)(D)}function ee(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),te}function te(D){return D===null||Ct(D)?W(D):(t.enter("htmlFlowData"),z(D))}function J(D){return D===45?(t.consume(D),q):z(D)}function ae(D){return D===47?(t.consume(D),o="",ce):z(D)}function ce(D){if(D===62){const I=o.toLowerCase();return IO.includes(I)?(t.consume(D),U):z(D)}return Pi(D)&&o.length<8?(t.consume(D),o+=String.fromCharCode(D),ce):z(D)}function ve(D){return D===93?(t.consume(D),q):z(D)}function q(D){return D===62?(t.consume(D),U):D===45&&i===2?(t.consume(D),q):z(D)}function U(D){return D===null||Ct(D)?(t.exit("htmlFlowData"),M(D)):(t.consume(D),U)}function M(D){return t.exit("htmlFlow"),e(D)}}function nee(t,e,n){const r=this;return i;function i(o){return Ct(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function ree(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(pp,e,n)}}const iee={name:"htmlText",tokenize:see};function see(t,e,n){const r=this;let i,s,o;return a;function a(q){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(q),l}function l(q){return q===33?(t.consume(q),c):q===47?(t.consume(q),O):q===63?(t.consume(q),A):Pi(q)?(t.consume(q),F):n(q)}function c(q){return q===45?(t.consume(q),f):q===91?(t.consume(q),s=0,x):Pi(q)?(t.consume(q),k):n(q)}function f(q){return q===45?(t.consume(q),g):n(q)}function d(q){return q===null?n(q):q===45?(t.consume(q),p):Ct(q)?(o=d,ae(q)):(t.consume(q),d)}function p(q){return q===45?(t.consume(q),g):d(q)}function g(q){return q===62?J(q):q===45?p(q):d(q)}function x(q){const U="CDATA[";return q===U.charCodeAt(s++)?(t.consume(q),s===U.length?b:x):n(q)}function b(q){return q===null?n(q):q===93?(t.consume(q),v):Ct(q)?(o=b,ae(q)):(t.consume(q),b)}function v(q){return q===93?(t.consume(q),w):b(q)}function w(q){return q===62?J(q):q===93?(t.consume(q),w):b(q)}function k(q){return q===null||q===62?J(q):Ct(q)?(o=k,ae(q)):(t.consume(q),k)}function A(q){return q===null?n(q):q===63?(t.consume(q),T):Ct(q)?(o=A,ae(q)):(t.consume(q),A)}function T(q){return q===62?J(q):A(q)}function O(q){return Pi(q)?(t.consume(q),_):n(q)}function _(q){return q===45||ki(q)?(t.consume(q),_):N(q)}function N(q){return Ct(q)?(o=N,ae(q)):Kt(q)?(t.consume(q),N):J(q)}function F(q){return q===45||ki(q)?(t.consume(q),F):q===47||q===62||Un(q)?L(q):n(q)}function L(q){return q===47?(t.consume(q),J):q===58||q===95||Pi(q)?(t.consume(q),R):Ct(q)?(o=L,ae(q)):Kt(q)?(t.consume(q),L):J(q)}function R(q){return q===45||q===46||q===58||q===95||ki(q)?(t.consume(q),R):P(q)}function P(q){return q===61?(t.consume(q),z):Ct(q)?(o=P,ae(q)):Kt(q)?(t.consume(q),P):L(q)}function z(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(t.consume(q),i=q,W):Ct(q)?(o=z,ae(q)):Kt(q)?(t.consume(q),z):(t.consume(q),ee)}function W(q){return q===i?(t.consume(q),i=void 0,te):q===null?n(q):Ct(q)?(o=W,ae(q)):(t.consume(q),W)}function ee(q){return q===null||q===34||q===39||q===60||q===61||q===96?n(q):q===47||q===62||Un(q)?L(q):(t.consume(q),ee)}function te(q){return q===47||q===62||Un(q)?L(q):n(q)}function J(q){return q===62?(t.consume(q),t.exit("htmlTextData"),t.exit("htmlText"),e):n(q)}function ae(q){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),ce}function ce(q){return Kt(q)?nn(t,ve,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):ve(q)}function ve(q){return t.enter("htmlTextData"),o(q)}}const wk={name:"labelEnd",resolveAll:cee,resolveTo:uee,tokenize:fee},oee={tokenize:hee},aee={tokenize:dee},lee={tokenize:pee};function cee(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Ls(t,0,t.length,n),t}function uee(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},f={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=Zs(a,t.slice(s+1,s+r+3)),a=Zs(a,[["enter",f,e]]),a=Zs(a,Jy(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=Zs(a,[["exit",f,e],t[o-2],t[o-1],["exit",c,e]]),a=Zs(a,t.slice(o+1)),a=Zs(a,[["exit",l,e]]),Ls(t,s,t.length,a),t}function fee(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?d(p):(o=r.parser.defined.includes(ko(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),l):n(p)}function l(p){return p===40?t.attempt(oee,f,o?f:d)(p):p===91?t.attempt(aee,f,o?c:d)(p):o?f(p):d(p)}function c(p){return t.attempt(lee,f,d)(p)}function f(p){return e(p)}function d(p){return s._balanced=!0,n(p)}}function hee(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return Un(d)?Xd(t,s)(d):s(d)}function s(d){return d===41?f(d):W6(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Un(d)?Xd(t,l)(d):f(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?K6(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function c(d){return Un(d)?Xd(t,f)(d):f(d)}function f(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function dee(t,e,n){const r=this;return i;function i(a){return G6.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(ko(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function pee(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const mee={name:"labelStartImage",resolveAll:wk.resolveAll,tokenize:gee};function gee(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const xee={name:"labelStartLink",resolveAll:wk.resolveAll,tokenize:yee};function yee(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const oE={name:"lineEnding",tokenize:bee};function bee(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),nn(t,e,"linePrefix")}}const Lx={name:"thematicBreak",tokenize:vee};function vee(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Ct(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),Kt(c)?nn(t,a,"whitespace")(c):a(c))}}const ts={continuation:{tokenize:Cee},exit:Aee,name:"list",tokenize:See},wee={partial:!0,tokenize:Tee},Eee={partial:!0,tokenize:kee};function See(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(g){const x=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:G2(g)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),g===42||g===45?t.check(Lx,n,c)(g):c(g);if(!r.interrupt||g===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(g)}return n(g)}function l(g){return G2(g)&&++o<10?(t.consume(g),l):(!r.interrupt||o<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(t.exit("listItemValue"),c(g)):n(g)}function c(g){return t.enter("listItemMarker"),t.consume(g),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,t.check(pp,r.interrupt?n:f,t.attempt(wee,p,d))}function f(g){return r.containerState.initialBlankLine=!0,s++,p(g)}function d(g){return Kt(g)?(t.enter("listItemPrefixWhitespace"),t.consume(g),t.exit("listItemPrefixWhitespace"),p):n(g)}function p(g){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(g)}}function Cee(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(pp,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,nn(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Kt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Eee,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,nn(t,t.attempt(ts,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function kee(t,e,n){const r=this;return nn(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function Aee(t){t.exit(this.containerState.type)}function Tee(t,e,n){const r=this;return nn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Kt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const FO={name:"setextUnderline",resolveTo:_ee,tokenize:Nee};function _ee(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function Nee(t,e,n){const r=this;let i;return s;function s(c){let f=r.events.length,d;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){d=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),Kt(c)?nn(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Ct(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const Dee={tokenize:Oee};function Oee(t){const e=this,n=t.attempt(pp,r,t.attempt(this.parser.constructs.flowInitial,i,nn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(IZ,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Mee={resolveAll:Y6()},Ree=X6("string"),Bee=X6("text");function X6(t){return{resolveAll:Y6(t==="text"?Lee:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(f){return c(f)?s(f):a(f)}function a(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),l}function l(f){return c(f)?(n.exit("data"),s(f)):(n.consume(f),l)}function c(f){if(f===null)return!0;const d=i[f];let p=-1;if(d)for(;++p<d.length;){const g=d[p];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function Y6(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function Lee(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const Iee={42:ts,43:ts,45:ts,48:ts,49:ts,50:ts,51:ts,52:ts,53:ts,54:ts,55:ts,56:ts,57:ts,62:j6},Fee={91:UZ},Pee={[-2]:sE,[-1]:sE,32:sE},zee={35:GZ,42:Lx,45:[FO,Lx],60:QZ,61:FO,95:Lx,96:LO,126:LO},Hee={38:V6,92:$6},Uee={[-5]:oE,[-4]:oE,[-3]:oE,33:mee,38:V6,42:K2,60:[xZ,iee],91:xee,92:[qZ,$6],93:wk,95:K2,96:DZ},jee={null:[K2,Mee]},$ee={null:[42,95]},Vee={null:[]},qee=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:$ee,contentInitial:Fee,disable:Vee,document:Iee,flow:zee,flowInitial:Pee,insideSpan:jee,string:Hee,text:Uee},Symbol.toStringTag,{value:"Module"}));function Wee(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:N(O),check:N(_),consume:k,enter:A,exit:T,interrupt:N(_,{interrupt:!0})},c={code:null,containerState:{},defineSkip:b,events:[],now:x,parser:t,previous:null,sliceSerialize:p,sliceStream:g,write:d};let f=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function d(P){return o=Zs(o,P),v(),o[o.length-1]!==null?[]:(F(e,0),c.events=Jy(s,c.events,c),c.events)}function p(P,z){return Kee(g(P),z)}function g(P){return Gee(o,P)}function x(){const{_bufferIndex:P,_index:z,line:W,column:ee,offset:te}=r;return{_bufferIndex:P,_index:z,line:W,column:ee,offset:te}}function b(P){i[P.line]=P.column,R()}function v(){let P;for(;r._index<o.length;){const z=o[r._index];if(typeof z=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<z.length;)w(z.charCodeAt(r._bufferIndex));else w(z)}}function w(P){f=f(P)}function k(P){Ct(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,R()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=P}function A(P,z){const W=z||{};return W.type=P,W.start=x(),c.events.push(["enter",W,c]),a.push(W),W}function T(P){const z=a.pop();return z.end=x(),c.events.push(["exit",z,c]),z}function O(P,z){F(P,z.from)}function _(P,z){z.restore()}function N(P,z){return W;function W(ee,te,J){let ae,ce,ve,q;return Array.isArray(ee)?M(ee):"tokenize"in ee?M([ee]):U(ee);function U(re){return he;function he(oe){const Ee=oe!==null&&re[oe],de=oe!==null&&re.null,ct=[...Array.isArray(Ee)?Ee:Ee?[Ee]:[],...Array.isArray(de)?de:de?[de]:[]];return M(ct)(oe)}}function M(re){return ae=re,ce=0,re.length===0?J:D(re[ce])}function D(re){return he;function he(oe){return q=L(),ve=re,re.partial||(c.currentConstruct=re),re.name&&c.parser.constructs.disable.null.includes(re.name)?V():re.tokenize.call(z?Object.assign(Object.create(c),z):c,l,I,V)(oe)}}function I(re){return P(ve,q),te}function V(re){return q.restore(),++ce<ae.length?D(ae[ce]):J}}}function F(P,z){P.resolveAll&&!s.includes(P)&&s.push(P),P.resolve&&Ls(c.events,z,c.events.length-z,P.resolve(c.events.slice(z),c)),P.resolveTo&&(c.events=P.resolveTo(c.events,c))}function L(){const P=x(),z=c.previous,W=c.currentConstruct,ee=c.events.length,te=Array.from(a);return{from:ee,restore:J};function J(){r=P,c.previous=z,c.currentConstruct=W,c.events.length=ee,a=te,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Gee(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function Kee(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function Xee(t){const r={constructs:H6([qee,...(t||{}).extensions||[]]),content:i(uZ),defined:[],document:i(hZ),flow:i(Dee),lazy:{},string:i(Ree),text:i(Bee)};return r;function i(s){return o;function o(a){return Wee(r,s,a)}}}function Yee(t){for(;!q6(t););return t}const PO=/[\0\t\n\r]/g;function Qee(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,f,d,p,g;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(PO.lastIndex=d,c=PO.exec(s),p=c&&c.index!==void 0?c.index:s.length,g=s.charCodeAt(p),!c){e=s.slice(d);break}if(g===10&&d===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<p&&(l.push(s.slice(d,p)),t+=p-d),g){case 0:{l.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,l.push(-2);t++<f;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=p+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const Jee=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Zee(t){return t.replace(Jee,ete)}function ete(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return U6(n.slice(s?2:1),s?16:10)}return vk(n)||t}const Q6={}.hasOwnProperty;function tte(t,e,n){return typeof e!="string"&&(n=e,e=void 0),nte(n)(Yee(Xee(n).document().write(Qee()(t,e,!0))))}function nte(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Et),autolinkProtocol:L,autolinkEmail:L,atxHeading:s(Ve),blockQuote:s(de),characterEscape:L,characterReference:L,codeFenced:s(ct),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ct,o),codeText:s(ot,o),codeTextData:L,data:L,codeFlowValue:L,definition:s(_t),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(et),hardBreakEscape:s(Ie),hardBreakTrailing:s(Ie),htmlFlow:s(Be,o),htmlFlowData:L,htmlText:s(Be,o),htmlTextData:L,image:s(it),label:o,link:s(Et),listItem:s(rn),listItemValue:p,listOrdered:s(Mt,d),listUnordered:s(Mt),paragraph:s(on),reference:D,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Ve),strong:s(Qn),thematicBreak:s(Ur)},exit:{atxHeading:l(),atxHeadingSequence:O,autolink:l(),autolinkEmail:Ee,autolinkProtocol:oe,blockQuote:l(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:V,characterReferenceMarkerNumeric:V,characterReferenceValue:re,characterReference:he,codeFenced:l(v),codeFencedFence:b,codeFencedFenceInfo:g,codeFencedFenceMeta:x,codeFlowValue:R,codeIndented:l(w),codeText:l(te),codeTextData:R,data:R,definition:l(),definitionDestinationString:T,definitionLabelString:k,definitionTitleString:A,emphasis:l(),hardBreakEscape:l(z),hardBreakTrailing:l(z),htmlFlow:l(W),htmlFlowData:R,htmlText:l(ee),htmlTextData:R,image:l(ae),label:ve,labelText:ce,lineEnding:P,link:l(J),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:I,resourceDestinationString:q,resourceTitleString:U,resource:M,setextHeading:l(F),setextHeadingLineSequence:N,setextHeadingText:_,strong:l(),thematicBreak:l()}};J6(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(Ce){let ze={type:"root",children:[]};const at={stack:[ze],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:f,data:n},St=[];let Rt=-1;for(;++Rt<Ce.length;)if(Ce[Rt][1].type==="listOrdered"||Ce[Rt][1].type==="listUnordered")if(Ce[Rt][0]==="enter")St.push(Rt);else{const Xt=St.pop();Rt=i(Ce,Xt,Rt)}for(Rt=-1;++Rt<Ce.length;){const Xt=e[Ce[Rt][0]];Q6.call(Xt,Ce[Rt][1].type)&&Xt[Ce[Rt][1].type].call(Object.assign({sliceSerialize:Ce[Rt][2].sliceSerialize},at),Ce[Rt][1])}if(at.tokenStack.length>0){const Xt=at.tokenStack[at.tokenStack.length-1];(Xt[1]||zO).call(at,void 0,Xt[0])}for(ze.position={start:Cl(Ce.length>0?Ce[0][1].start:{line:1,column:1,offset:0}),end:Cl(Ce.length>0?Ce[Ce.length-2][1].end:{line:1,column:1,offset:0})},Rt=-1;++Rt<e.transforms.length;)ze=e.transforms[Rt](ze)||ze;return ze}function i(Ce,ze,at){let St=ze-1,Rt=-1,Xt=!1,Jn,$n,hn,dn;for(;++St<=at;){const jt=Ce[St];switch(jt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{jt[0]==="enter"?Rt++:Rt--,dn=void 0;break}case"lineEndingBlank":{jt[0]==="enter"&&(Jn&&!dn&&!Rt&&!hn&&(hn=St),dn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:dn=void 0}if(!Rt&&jt[0]==="enter"&&jt[1].type==="listItemPrefix"||Rt===-1&&jt[0]==="exit"&&(jt[1].type==="listUnordered"||jt[1].type==="listOrdered")){if(Jn){let Lr=St;for($n=void 0;Lr--;){const Ln=Ce[Lr];if(Ln[1].type==="lineEnding"||Ln[1].type==="lineEndingBlank"){if(Ln[0]==="exit")continue;$n&&(Ce[$n][1].type="lineEndingBlank",Xt=!0),Ln[1].type="lineEnding",$n=Lr}else if(!(Ln[1].type==="linePrefix"||Ln[1].type==="blockQuotePrefix"||Ln[1].type==="blockQuotePrefixWhitespace"||Ln[1].type==="blockQuoteMarker"||Ln[1].type==="listItemIndent"))break}hn&&(!$n||hn<$n)&&(Jn._spread=!0),Jn.end=Object.assign({},$n?Ce[$n][1].start:jt[1].end),Ce.splice($n||St,0,["exit",Jn,jt[2]]),St++,at++}if(jt[1].type==="listItemPrefix"){const Lr={type:"listItem",_spread:!1,start:Object.assign({},jt[1].start),end:void 0};Jn=Lr,Ce.splice(St,0,["enter",Lr,jt[2]]),St++,at++,hn=void 0,dn=!0}}}return Ce[ze][1]._spread=Xt,at}function s(Ce,ze){return at;function at(St){a.call(this,Ce(St),St),ze&&ze.call(this,St)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(Ce,ze,at){this.stack[this.stack.length-1].children.push(Ce),this.stack.push(Ce),this.tokenStack.push([ze,at||void 0]),Ce.position={start:Cl(ze.start),end:void 0}}function l(Ce){return ze;function ze(at){Ce&&Ce.call(this,at),c.call(this,at)}}function c(Ce,ze){const at=this.stack.pop(),St=this.tokenStack.pop();if(St)St[0].type!==Ce.type&&(ze?ze.call(this,Ce,St[0]):(St[1]||zO).call(this,Ce,St[0]));else throw new Error("Cannot close `"+Ce.type+"` ("+Kd({start:Ce.start,end:Ce.end})+"): its not open");at.position.end=Cl(Ce.end)}function f(){return bk(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function p(Ce){if(this.data.expectingFirstListItemValue){const ze=this.stack[this.stack.length-2];ze.start=Number.parseInt(this.sliceSerialize(Ce),10),this.data.expectingFirstListItemValue=void 0}}function g(){const Ce=this.resume(),ze=this.stack[this.stack.length-1];ze.lang=Ce}function x(){const Ce=this.resume(),ze=this.stack[this.stack.length-1];ze.meta=Ce}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const Ce=this.resume(),ze=this.stack[this.stack.length-1];ze.value=Ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const Ce=this.resume(),ze=this.stack[this.stack.length-1];ze.value=Ce.replace(/(\r?\n|\r)$/g,"")}function k(Ce){const ze=this.resume(),at=this.stack[this.stack.length-1];at.label=ze,at.identifier=ko(this.sliceSerialize(Ce)).toLowerCase()}function A(){const Ce=this.resume(),ze=this.stack[this.stack.length-1];ze.title=Ce}function T(){const Ce=this.resume(),ze=this.stack[this.stack.length-1];ze.url=Ce}function O(Ce){const ze=this.stack[this.stack.length-1];if(!ze.depth){const at=this.sliceSerialize(Ce).length;ze.depth=at}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function N(Ce){const ze=this.stack[this.stack.length-1];ze.depth=this.sliceSerialize(Ce).codePointAt(0)===61?1:2}function F(){this.data.setextHeadingSlurpLineEnding=void 0}function L(Ce){const at=this.stack[this.stack.length-1].children;let St=at[at.length-1];(!St||St.type!=="text")&&(St=Nt(),St.position={start:Cl(Ce.start),end:void 0},at.push(St)),this.stack.push(St)}function R(Ce){const ze=this.stack.pop();ze.value+=this.sliceSerialize(Ce),ze.position.end=Cl(Ce.end)}function P(Ce){const ze=this.stack[this.stack.length-1];if(this.data.atHardBreak){const at=ze.children[ze.children.length-1];at.position.end=Cl(Ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ze.type)&&(L.call(this,Ce),R.call(this,Ce))}function z(){this.data.atHardBreak=!0}function W(){const Ce=this.resume(),ze=this.stack[this.stack.length-1];ze.value=Ce}function ee(){const Ce=this.resume(),ze=this.stack[this.stack.length-1];ze.value=Ce}function te(){const Ce=this.resume(),ze=this.stack[this.stack.length-1];ze.value=Ce}function J(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const ze=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=ze,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function ae(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const ze=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=ze,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function ce(Ce){const ze=this.sliceSerialize(Ce),at=this.stack[this.stack.length-2];at.label=Zee(ze),at.identifier=ko(ze).toLowerCase()}function ve(){const Ce=this.stack[this.stack.length-1],ze=this.resume(),at=this.stack[this.stack.length-1];if(this.data.inReference=!0,at.type==="link"){const St=Ce.children;at.children=St}else at.alt=ze}function q(){const Ce=this.resume(),ze=this.stack[this.stack.length-1];ze.url=Ce}function U(){const Ce=this.resume(),ze=this.stack[this.stack.length-1];ze.title=Ce}function M(){this.data.inReference=void 0}function D(){this.data.referenceType="collapsed"}function I(Ce){const ze=this.resume(),at=this.stack[this.stack.length-1];at.label=ze,at.identifier=ko(this.sliceSerialize(Ce)).toLowerCase(),this.data.referenceType="full"}function V(Ce){this.data.characterReferenceType=Ce.type}function re(Ce){const ze=this.sliceSerialize(Ce),at=this.data.characterReferenceType;let St;at?(St=U6(ze,at==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):St=vk(ze);const Rt=this.stack[this.stack.length-1];Rt.value+=St}function he(Ce){const ze=this.stack.pop();ze.position.end=Cl(Ce.end)}function oe(Ce){R.call(this,Ce);const ze=this.stack[this.stack.length-1];ze.url=this.sliceSerialize(Ce)}function Ee(Ce){R.call(this,Ce);const ze=this.stack[this.stack.length-1];ze.url="mailto:"+this.sliceSerialize(Ce)}function de(){return{type:"blockquote",children:[]}}function ct(){return{type:"code",lang:null,meta:null,value:""}}function ot(){return{type:"inlineCode",value:""}}function _t(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function et(){return{type:"emphasis",children:[]}}function Ve(){return{type:"heading",depth:0,children:[]}}function Ie(){return{type:"break"}}function Be(){return{type:"html",value:""}}function it(){return{type:"image",title:null,url:"",alt:null}}function Et(){return{type:"link",title:null,url:"",children:[]}}function Mt(Ce){return{type:"list",ordered:Ce.type==="listOrdered",start:null,spread:Ce._spread,children:[]}}function rn(Ce){return{type:"listItem",spread:Ce._spread,checked:null,children:[]}}function on(){return{type:"paragraph",children:[]}}function Qn(){return{type:"strong",children:[]}}function Nt(){return{type:"text",value:""}}function Ur(){return{type:"thematicBreak"}}}function Cl(t){return{line:t.line,column:t.column,offset:t.offset}}function J6(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?J6(t,r):rte(t,r)}}function rte(t,e){let n;for(n in e)if(Q6.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function zO(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Kd({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Kd({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Kd({start:e.start,end:e.end})+") is still open")}function ite(t){const e=this;e.parser=n;function n(r){return tte(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function ste(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function ote(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function ate(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function lte(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function cte(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ute(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=mh(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function fte(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function hte(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Z6(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function dte(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Z6(t,e);const i={src:mh(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function pte(t,e){const n={src:mh(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function mte(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function gte(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Z6(t,e);const i={href:mh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function xte(t,e){const n={href:mh(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function yte(t,e,n){const r=t.all(e),i=n?bte(n):eL(e),s={},o=[];if(typeof e.checked=="boolean"){const f=r[0];let d;f&&f.type==="element"&&f.tagName==="p"?d=f:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const f=r[a];(i||a!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?o.push(...f.children):o.push(f)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function bte(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=eL(n[r])}return e}function eL(t){const e=t.spread;return e??t.children.length>1}function vte(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function wte(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Ete(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Ste(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Cte(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=mk(e.children[1]),l=R6(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function kte(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const d=e.children[l],p={},g=o?o[l]:void 0;g&&(p.align=g);let x={type:"element",tagName:s,properties:p,children:[]};d&&(x.children=t.all(d),t.patch(d,x),x=t.applyData(d,x)),c.push(x)}const f={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,f),t.applyData(e,f)}function Ate(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const HO=9,UO=32;function Tte(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(jO(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(jO(e.slice(i),i>0,!1)),s.join("")}function jO(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===HO||s===UO;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===HO||s===UO;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function _te(t,e){const n={type:"text",value:Tte(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Nte(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Dte={blockquote:ste,break:ote,code:ate,delete:lte,emphasis:cte,footnoteReference:ute,heading:fte,html:hte,imageReference:dte,image:pte,inlineCode:mte,linkReference:gte,link:xte,listItem:yte,list:vte,paragraph:wte,root:Ete,strong:Ste,table:Cte,tableCell:Ate,tableRow:kte,text:_te,thematicBreak:Nte,toml:Zm,yaml:Zm,definition:Zm,footnoteDefinition:Zm};function Zm(){}const tL=-1,Zy=0,Yd=1,b1=2,Ek=3,Sk=4,Ck=5,kk=6,nL=7,rL=8,$O=typeof self=="object"?self:globalThis,Ote=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case Zy:case tL:return n(o,i);case Yd:{const a=n([],i);for(const l of o)a.push(r(l));return a}case b1:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case Ek:return n(new Date(o),i);case Sk:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case Ck:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case kk:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case nL:{const{name:a,message:l}=o;return n(new $O[a](l),i)}case rL:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new $O[s](o),i)};return r},VO=t=>Ote(new Map,t)(0),df="",{toString:Mte}={},{keys:Rte}=Object,wd=t=>{const e=typeof t;if(e!=="object"||!t)return[Zy,e];const n=Mte.call(t).slice(8,-1);switch(n){case"Array":return[Yd,df];case"Object":return[b1,df];case"Date":return[Ek,df];case"RegExp":return[Sk,df];case"Map":return[Ck,df];case"Set":return[kk,df];case"DataView":return[Yd,n]}return n.includes("Array")?[Yd,n]:n.includes("Error")?[nL,n]:[b1,n]},eg=([t,e])=>t===Zy&&(e==="function"||e==="symbol"),Bte=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=wd(o);switch(a){case Zy:{let f=o;switch(l){case"bigint":a=rL,f=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);f=null;break;case"undefined":return i([tL],o)}return i([a,f],o)}case Yd:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),i([l,[...p]],o)}const f=[],d=i([a,f],o);for(const p of o)f.push(s(p));return d}case b1:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const f=[],d=i([a,f],o);for(const p of Rte(o))(t||!eg(wd(o[p])))&&f.push([s(p),s(o[p])]);return d}case Ek:return i([a,o.toISOString()],o);case Sk:{const{source:f,flags:d}=o;return i([a,{source:f,flags:d}],o)}case Ck:{const f=[],d=i([a,f],o);for(const[p,g]of o)(t||!(eg(wd(p))||eg(wd(g))))&&f.push([s(p),s(g)]);return d}case kk:{const f=[],d=i([a,f],o);for(const p of o)(t||!eg(wd(p)))&&f.push(s(p));return d}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},qO=(t,{json:e,lossy:n}={})=>{const r=[];return Bte(!(e||n),!!e,new Map,r)(t),r},v1=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?VO(qO(t,e)):structuredClone(t):(t,e)=>VO(qO(t,e));function Lte(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Ite(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Fte(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Lte,r=t.options.footnoteBackLabel||Ite,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const f=t.all(c),d=String(c.identifier).toUpperCase(),p=mh(d.toLowerCase());let g=0;const x=[],b=t.footnoteCounts.get(d);for(;b!==void 0&&++g<=b;){x.length>0&&x.push({type:"text",value:" "});let k=typeof n=="string"?n:n(l,g);typeof k=="string"&&(k={type:"text",value:k}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,g),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const v=f[f.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const k=v.children[v.children.length-1];k&&k.type==="text"?k.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...x)}else f.push(...x);const w={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(f,!0)};t.patch(c,w),a.push(w)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...v1(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const eb=(function(t){if(t==null)return Ute;if(typeof t=="function")return tb(t);if(typeof t=="object")return Array.isArray(t)?Pte(t):zte(t);if(typeof t=="string")return Hte(t);throw new Error("Expected function, string, or object as test")});function Pte(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=eb(t[n]);return tb(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function zte(t){const e=t;return tb(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function Hte(t){return tb(e);function e(n){return n&&n.type===t}}function tb(t){return e;function e(n,r,i){return!!(jte(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Ute(){return!0}function jte(t){return t!==null&&typeof t=="object"&&"type"in t}const iL=[],$te=!0,X2=!1,Vte="skip";function sL(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=eb(i),o=r?-1:1;a(t,void 0,[])();function a(l,c,f){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const g=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(g?"<"+g+">":""))+")"})}return p;function p(){let g=iL,x,b,v;if((!e||s(l,c,f[f.length-1]||void 0))&&(g=qte(n(l,f)),g[0]===X2))return g;if("children"in l&&l.children){const w=l;if(w.children&&g[0]!==Vte)for(b=(r?w.children.length:-1)+o,v=f.concat(w);b>-1&&b<w.children.length;){const k=w.children[b];if(x=a(k,b,v)(),x[0]===X2)return x;b=typeof x[1]=="number"?x[1]:b+o}}return g}}}function qte(t){return Array.isArray(t)?t:typeof t=="number"?[$te,t]:t==null?iL:[t]}function Ak(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),sL(t,s,a,i);function a(l,c){const f=c[c.length-1],d=f?f.children.indexOf(l):void 0;return o(l,d,f)}}const Y2={}.hasOwnProperty,Wte={};function Gte(t,e){const n=e||Wte,r=new Map,i=new Map,s=new Map,o={...Dte,...n.handlers},a={all:c,applyData:Xte,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:Kte,wrap:Qte};return Ak(t,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const d=f.type==="definition"?r:i,p=String(f.identifier).toUpperCase();d.has(p)||d.set(p,f)}}),a;function l(f,d){const p=f.type,g=a.handlers[p];if(Y2.call(a.handlers,p)&&g)return g(a,f,d);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in f){const{children:b,...v}=f,w=v1(v);return w.children=a.all(f),w}return v1(f)}return(a.options.unknownHandler||Yte)(a,f,d)}function c(f){const d=[];if("children"in f){const p=f.children;let g=-1;for(;++g<p.length;){const x=a.one(p[g],f);if(x){if(g&&p[g-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=WO(x.value)),!Array.isArray(x)&&x.type==="element")){const b=x.children[0];b&&b.type==="text"&&(b.value=WO(b.value))}Array.isArray(x)?d.push(...x):d.push(x)}}}return d}}function Kte(t,e){t.position&&(e.position=IJ(t))}function Xte(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,v1(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Yte(t,e){const n=e.data||{},r="value"in e&&!(Y2.call(n,"hProperties")||Y2.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Qte(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function WO(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function GO(t,e){const n=Gte(t,e),r=n.one(t,void 0),i=Fte(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Jte(t,e){return t&&"run"in t?async function(n,r){const i=GO(n,{file:r,...e});await t.run(i,r)}:function(n,r){return GO(n,{file:r,...t||e})}}function KO(t){if(t)throw t}var aE,XO;function Zte(){if(XO)return aE;XO=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},s=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var f=t.call(c,"constructor"),d=c.constructor&&c.constructor.prototype&&t.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!f&&!d)return!1;var p;for(p in c);return typeof p>"u"||t.call(c,p)},o=function(c,f){n&&f.name==="__proto__"?n(c,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):c[f.name]=f.newValue},a=function(c,f){if(f==="__proto__")if(t.call(c,f)){if(r)return r(c,f).value}else return;return c[f]};return aE=function l(){var c,f,d,p,g,x,b=arguments[0],v=1,w=arguments.length,k=!1;for(typeof b=="boolean"&&(k=b,b=arguments[1]||{},v=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});v<w;++v)if(c=arguments[v],c!=null)for(f in c)d=a(b,f),p=a(c,f),b!==p&&(k&&p&&(s(p)||(g=i(p)))?(g?(g=!1,x=d&&i(d)?d:[]):x=d&&s(d)?d:{},o(b,{name:f,newValue:l(k,x,p)})):typeof p<"u"&&o(b,{name:f,newValue:p}));return b},aE}var ene=Zte();const lE=xu(ene);function Q2(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function tne(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const f=t[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,f?nne(f,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function nne(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const f=c;if(a&&n)throw f;return i(f)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const qo={basename:rne,dirname:ine,extname:sne,join:one,sep:"/"};function rne(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');mp(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function ine(t){if(mp(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function sne(t){mp(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function one(...t){let e=-1,n;for(;++e<t.length;)mp(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":ane(n)}function ane(t){mp(t);const e=t.codePointAt(0)===47;let n=lne(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function lne(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function mp(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const cne={cwd:une};function une(){return"/"}function J2(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function fne(t){if(typeof t=="string")t=new URL(t);else if(!J2(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return hne(t)}function hne(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const cE=["history","path","basename","stem","extname","dirname"];class oL{constructor(e){let n;e?J2(e)?n={path:e}:typeof e=="string"||dne(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":cne.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<cE.length;){const s=cE[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)cE.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?qo.basename(this.path):void 0}set basename(e){fE(e,"basename"),uE(e,"basename"),this.path=qo.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?qo.dirname(this.path):void 0}set dirname(e){YO(this.basename,"dirname"),this.path=qo.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?qo.extname(this.path):void 0}set extname(e){if(uE(e,"extname"),YO(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=qo.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){J2(e)&&(e=fne(e)),fE(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?qo.basename(this.path,this.extname):void 0}set stem(e){fE(e,"stem"),uE(e,"stem"),this.path=qo.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Di(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function uE(t,e){if(t&&t.includes(qo.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+qo.sep+"`")}function fE(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function YO(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function dne(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const pne=(function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),mne={}.hasOwnProperty;class Tk extends pne{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=tne()}copy(){const e=new Tk;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(lE(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(pE("data",this.frozen),this.namespace[e]=n,this):mne.call(this.namespace,e)&&this.namespace[e]||void 0:e?(pE("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=tg(e),r=this.parser||this.Parser;return hE("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),hE("process",this.parser||this.Parser),dE("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=tg(e),l=r.parse(a);r.run(l,a,function(f,d,p){if(f||!d||!p)return c(f);const g=d,x=r.stringify(g,p);yne(x)?p.value=x:p.result=x,c(f,p)});function c(f,d){f||!d?o(f):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),hE("processSync",this.parser||this.Parser),dE("processSync",this.compiler||this.Compiler),this.process(e,i),JO("processSync","process",n),r;function i(s,o){n=!0,KO(s),r=o}}run(e,n,r){QO(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=tg(n);i.run(e,l,c);function c(f,d,p){const g=d||e;f?a(f):o?o(g):r(void 0,g,p)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),JO("runSync","run",r),i;function s(o,a){KO(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=tg(n),i=this.compiler||this.Compiler;return dE("stringify",i),QO(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(pE("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[f,...d]=c;l(f,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=lE(!0,i.settings,c.settings))}function a(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){const d=c[f];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,f){let d=-1,p=-1;for(;++d<r.length;)if(r[d][0]===c){p=d;break}if(p===-1)r.push([c,...f]);else if(f.length>0){let[g,...x]=f;const b=r[p][1];Q2(b)&&Q2(g)&&(g=lE(!0,b,g)),r[p]=[c,g,...x]}}}}const gne=new Tk().freeze();function hE(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function dE(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function pE(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function QO(t){if(!Q2(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function JO(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function tg(t){return xne(t)?t:new oL(t)}function xne(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function yne(t){return typeof t=="string"||bne(t)}function bne(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const vne="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ZO=[],eM={allowDangerousHtml:!0},wne=/^(https?|ircs?|mailto|xmpp)$/i,Ene=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Sne(t){const e=Cne(t),n=kne(t);return Ane(e.runSync(e.parse(n),n),t)}function Cne(t){const e=t.rehypePlugins||ZO,n=t.remarkPlugins||ZO,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...eM}:eM;return gne().use(ite).use(n).use(Jte,r).use(e)}function kne(t){const e=t.children||"",n=new oL;return typeof e=="string"&&(n.value=e),n}function Ane(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||Tne;for(const f of Ene)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+vne+f.id,void 0);return Ak(t,c),UJ(t,{Fragment:C.Fragment,components:i,ignoreInvalidStyle:!0,jsx:C.jsx,jsxs:C.jsxs,passKeys:!0,passNode:!0});function c(f,d,p){if(f.type==="raw"&&p&&typeof d=="number")return o?p.children.splice(d,1):p.children[d]={type:"text",value:f.value},d;if(f.type==="element"){let g;for(g in iE)if(Object.hasOwn(iE,g)&&Object.hasOwn(f.properties,g)){const x=f.properties[g],b=iE[g];(b===null||b.includes(f.tagName))&&(f.properties[g]=l(String(x||""),g,f))}}if(f.type==="element"){let g=n?!n.includes(f.tagName):s?s.includes(f.tagName):!1;if(!g&&r&&typeof d=="number"&&(g=!r(f,d,p)),g&&p&&typeof d=="number")return a&&f.children?p.children.splice(d,1,...f.children):p.children.splice(d,1),d}}}function Tne(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||wne.test(t.slice(0,e))?t:""}function tM(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function _ne(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Nne(t,e,n){const i=eb((n||{}).ignore||[]),s=Dne(e);let o=-1;for(;++o<s.length;)sL(t,"text",a);function a(c,f){let d=-1,p;for(;++d<f.length;){const g=f[d],x=p?p.children:void 0;if(i(g,x?x.indexOf(g):void 0,p))return;p=g}if(p)return l(c,f)}function l(c,f){const d=f[f.length-1],p=s[o][0],g=s[o][1];let x=0;const v=d.children.indexOf(c);let w=!1,k=[];p.lastIndex=0;let A=p.exec(c.value);for(;A;){const T=A.index,O={index:A.index,input:A.input,stack:[...f,c]};let _=g(...A,O);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?p.lastIndex=T+1:(x!==T&&k.push({type:"text",value:c.value.slice(x,T)}),Array.isArray(_)?k.push(..._):_&&k.push(_),x=T+A[0].length,w=!0),!p.global)break;A=p.exec(c.value)}return w?(x<c.value.length&&k.push({type:"text",value:c.value.slice(x)}),d.children.splice(v,1,...k)):k=[c],v+k.length}}function Dne(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([One(i[0]),Mne(i[1])])}return e}function One(t){return typeof t=="string"?new RegExp(_ne(t),"g"):t}function Mne(t){return typeof t=="function"?t:function(){return t}}const mE="phrasing",gE=["autolink","link","image","label"];function Rne(){return{transforms:[Hne],enter:{literalAutolink:Lne,literalAutolinkEmail:xE,literalAutolinkHttp:xE,literalAutolinkWww:xE},exit:{literalAutolink:zne,literalAutolinkEmail:Pne,literalAutolinkHttp:Ine,literalAutolinkWww:Fne}}}function Bne(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:mE,notInConstruct:gE},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:mE,notInConstruct:gE},{character:":",before:"[ps]",after:"\\/",inConstruct:mE,notInConstruct:gE}]}}function Lne(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function xE(t){this.config.enter.autolinkProtocol.call(this,t)}function Ine(t){this.config.exit.autolinkProtocol.call(this,t)}function Fne(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Pne(t){this.config.exit.autolinkEmail.call(this,t)}function zne(t){this.exit(t)}function Hne(t){Nne(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Une],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),jne]],{ignore:["link","linkReference"]})}function Une(t,e,n,r,i){let s="";if(!aL(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!$ne(n)))return!1;const o=Vne(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function jne(t,e,n,r){return!aL(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function $ne(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Vne(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=tM(t,"(");let s=tM(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function aL(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||su(n)||Qy(n))&&(!e||n!==47)}lL.peek=Zne;function qne(){this.buffer()}function Wne(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Gne(){this.buffer()}function Kne(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Xne(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ko(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Yne(t){this.exit(t)}function Qne(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ko(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Jne(t){this.exit(t)}function Zne(){return"["}function lL(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function ere(){return{enter:{gfmFootnoteCallString:qne,gfmFootnoteCall:Wne,gfmFootnoteDefinitionLabelString:Gne,gfmFootnoteDefinition:Kne},exit:{gfmFootnoteCallString:Xne,gfmFootnoteCall:Yne,gfmFootnoteDefinitionLabelString:Qne,gfmFootnoteDefinition:Jne}}}function tre(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:lL},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const c=s.enter("footnoteDefinition"),f=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),f(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?cL:nre))),c(),l}}function nre(t,e,n){return e===0?t:cL(t,e,n)}function cL(t,e,n){return(n?"":"    ")+t}const rre=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];uL.peek=lre;function ire(){return{canContainEols:["delete"],enter:{strikethrough:ore},exit:{strikethrough:are}}}function sre(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:rre}],handlers:{delete:uL}}}function ore(t){this.enter({type:"delete",children:[]},t)}function are(t){this.exit(t)}function uL(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function lre(){return"~"}function cre(t){return t.length}function ure(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||cre,s=[],o=[],a=[],l=[];let c=0,f=-1;for(;++f<t.length;){const b=[],v=[];let w=-1;for(t[f].length>c&&(c=t[f].length);++w<t[f].length;){const k=fre(t[f][w]);if(n.alignDelimiters!==!1){const A=i(k);v[w]=A,(l[w]===void 0||A>l[w])&&(l[w]=A)}b.push(k)}o[f]=b,a[f]=v}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<c;)s[d]=nM(r[d]);else{const b=nM(r);for(;++d<c;)s[d]=b}d=-1;const p=[],g=[];for(;++d<c;){const b=s[d];let v="",w="";b===99?(v=":",w=":"):b===108?v=":":b===114&&(w=":");let k=n.alignDelimiters===!1?1:Math.max(1,l[d]-v.length-w.length);const A=v+"-".repeat(k)+w;n.alignDelimiters!==!1&&(k=v.length+k+w.length,k>l[d]&&(l[d]=k),g[d]=k),p[d]=A}o.splice(1,0,p),a.splice(1,0,g),f=-1;const x=[];for(;++f<o.length;){const b=o[f],v=a[f];d=-1;const w=[];for(;++d<c;){const k=b[d]||"";let A="",T="";if(n.alignDelimiters!==!1){const O=l[d]-(v[d]||0),_=s[d];_===114?A=" ".repeat(O):_===99?O%2?(A=" ".repeat(O/2+.5),T=" ".repeat(O/2-.5)):(A=" ".repeat(O/2),T=A):T=" ".repeat(O)}n.delimiterStart!==!1&&!d&&w.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&k==="")&&(n.delimiterStart!==!1||d)&&w.push(" "),n.alignDelimiters!==!1&&w.push(A),w.push(k),n.alignDelimiters!==!1&&w.push(T),n.padding!==!1&&w.push(" "),(n.delimiterEnd!==!1||d!==c-1)&&w.push("|")}x.push(n.delimiterEnd===!1?w.join("").replace(/ +$/,""):w.join(""))}return x.join(`
`)}function fre(t){return t==null?"":String(t)}function nM(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function hre(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),dre);return i(),o}function dre(t,e,n){return">"+(n?"":" ")+t}function pre(t,e){return rM(t,e.inConstruct,!0)&&!rM(t,e.notInConstruct,!1)}function rM(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function iM(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&pre(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function mre(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function gre(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function xre(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function yre(t,e,n,r){const i=xre(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(gre(t,n)){const d=n.enter("codeIndented"),p=n.indentLines(s,bre);return d(),p}const a=n.createTracker(r),l=i.repeat(Math.max(mre(s,i)+1,3)),c=n.enter("codeFenced");let f=a.move(l);if(t.lang){const d=n.enter(`codeFencedLang${o}`);f+=a.move(n.safe(t.lang,{before:f,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${o}`);f+=a.move(" "),f+=a.move(n.safe(t.meta,{before:f,after:`
`,encode:["`"],...a.current()})),d()}return f+=a.move(`
`),s&&(f+=a.move(s+`
`)),f+=a.move(l),c(),f}function bre(t,e,n){return(n?"":"    ")+t}function _k(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function vre(t,e,n,r){const i=_k(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function wre(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function A0(t){return"&#x"+t.toString(16).toUpperCase()+";"}function w1(t,e,n){const r=Xf(t),i=Xf(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}fL.peek=Ere;function fL(t,e,n,r){const i=wre(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),f=w1(r.before.charCodeAt(r.before.length-1),c,i);f.inside&&(l=A0(c)+l.slice(1));const d=l.charCodeAt(l.length-1),p=w1(r.after.charCodeAt(0),d,i);p.inside&&(l=l.slice(0,-1)+A0(d));const g=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},a+l+g}function Ere(t,e,n){return n.options.emphasis||"*"}function Sre(t,e){let n=!1;return Ak(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,X2}),!!((!t.depth||t.depth<3)&&bk(t)&&(e.options.setext||n))}function Cre(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(Sre(t,n)){const f=n.enter("headingSetext"),d=n.enter("phrasing"),p=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),f(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=A0(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}hL.peek=kre;function hL(t){return t.value||""}function kre(){return"<"}dL.peek=Are;function dL(t,e,n,r){const i=_k(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function Are(){return"!"}pL.peek=Tre;function pL(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Tre(){return"!"}mL.peek=_re;function mL(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function _re(){return"`"}function gL(t,e){const n=bk(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}xL.peek=Nre;function xL(t,e,n,r){const i=_k(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(gL(t,n)){const f=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(t,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=f,d}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(t,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(t.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(t.url,{before:c,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(t.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function Nre(t,e,n){return gL(t,n)?"<":"["}yL.peek=Dre;function yL(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const f=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=f,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Dre(){return"["}function Nk(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Ore(t){const e=Nk(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Mre(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function bL(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Rre(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?Mre(n):Nk(n);const a=t.ordered?o==="."?")":".":Ore(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const f=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),bL(n)===o&&f){let d=-1;for(;++d<t.children.length;){const p=t.children[d];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function Bre(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Lre(t,e,n,r){const i=Bre(n);let s=n.bulletCurrent||Nk(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),f);return l(),c;function f(d,p,g){return p?(g?"":" ".repeat(o))+d:(g?s:s+" ".repeat(o-s.length))+d}}function Ire(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const Fre=eb(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Pre(t,e,n,r){return(t.children.some(function(o){return Fre(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function zre(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}vL.peek=Hre;function vL(t,e,n,r){const i=zre(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),f=w1(r.before.charCodeAt(r.before.length-1),c,i);f.inside&&(l=A0(c)+l.slice(1));const d=l.charCodeAt(l.length-1),p=w1(r.after.charCodeAt(0),d,i);p.inside&&(l=l.slice(0,-1)+A0(d));const g=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},a+l+g}function Hre(t,e,n){return n.options.strong||"*"}function Ure(t,e,n,r){return n.safe(t.value,r)}function jre(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function $re(t,e,n){const r=(bL(n)+(n.options.ruleSpaces?" ":"")).repeat(jre(n));return n.options.ruleSpaces?r.slice(0,-1):r}const wL={blockquote:hre,break:iM,code:yre,definition:vre,emphasis:fL,hardBreak:iM,heading:Cre,html:hL,image:dL,imageReference:pL,inlineCode:mL,link:xL,linkReference:yL,list:Rre,listItem:Lre,paragraph:Ire,root:Pre,strong:vL,text:Ure,thematicBreak:$re};function Vre(){return{enter:{table:qre,tableData:sM,tableHeader:sM,tableRow:Gre},exit:{codeText:Kre,table:Wre,tableData:yE,tableHeader:yE,tableRow:yE}}}function qre(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function Wre(t){this.exit(t),this.data.inTable=void 0}function Gre(t){this.enter({type:"tableRow",children:[]},t)}function yE(t){this.exit(t)}function sM(t){this.enter({type:"tableCell",children:[]},t)}function Kre(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,Xre));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function Xre(t,e){return e==="|"?e:t}function Yre(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:a}};function o(g,x,b,v){return c(f(g,b,v),g.align)}function a(g,x,b,v){const w=d(g,b,v),k=c([w]);return k.slice(0,k.indexOf(`
`))}function l(g,x,b,v){const w=b.enter("tableCell"),k=b.enter("phrasing"),A=b.containerPhrasing(g,{...v,before:s,after:s});return k(),w(),A}function c(g,x){return ure(g,{align:x,alignDelimiters:r,padding:n,stringLength:i})}function f(g,x,b){const v=g.children;let w=-1;const k=[],A=x.enter("table");for(;++w<v.length;)k[w]=d(v[w],x,b);return A(),k}function d(g,x,b){const v=g.children;let w=-1;const k=[],A=x.enter("tableRow");for(;++w<v.length;)k[w]=l(v[w],g,x,b);return A(),k}function p(g,x,b){let v=wL.inlineCode(g,x,b);return b.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function Qre(){return{exit:{taskListCheckValueChecked:oM,taskListCheckValueUnchecked:oM,paragraph:Zre}}}function Jre(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:eie}}}function oM(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function Zre(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function eie(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=wL.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(f){return f+o}}function tie(){return[Rne(),ere(),ire(),Vre(),Qre()]}function nie(t){return{extensions:[Bne(),tre(t),sre(),Yre(t),Jre()]}}const rie={tokenize:cie,partial:!0},EL={tokenize:uie,partial:!0},SL={tokenize:fie,partial:!0},CL={tokenize:hie,partial:!0},iie={tokenize:die,partial:!0},kL={name:"wwwAutolink",tokenize:aie,previous:TL},AL={name:"protocolAutolink",tokenize:lie,previous:_L},Ga={name:"emailAutolink",tokenize:oie,previous:NL},ra={};function sie(){return{text:ra}}let Dc=48;for(;Dc<123;)ra[Dc]=Ga,Dc++,Dc===58?Dc=65:Dc===91&&(Dc=97);ra[43]=Ga;ra[45]=Ga;ra[46]=Ga;ra[95]=Ga;ra[72]=[Ga,AL];ra[104]=[Ga,AL];ra[87]=[Ga,kL];ra[119]=[Ga,kL];function oie(t,e,n){const r=this;let i,s;return o;function o(d){return!Z2(d)||!NL.call(r,r.previous)||Dk(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(d))}function a(d){return Z2(d)?(t.consume(d),a):d===64?(t.consume(d),l):n(d)}function l(d){return d===46?t.check(iie,f,c)(d):d===45||d===95||ki(d)?(s=!0,t.consume(d),l):f(d)}function c(d){return t.consume(d),i=!0,l}function f(d){return s&&i&&Pi(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function aie(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!TL.call(r,r.previous)||Dk(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(rie,t.attempt(EL,t.attempt(SL,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function lie(t,e,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&_L.call(r,r.previous)&&!Dk(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),a):n(d)}function a(d){if(Pi(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),a;if(d===58){const p=i.toLowerCase();if(p==="http"||p==="https")return t.consume(d),l}return n(d)}function l(d){return d===47?(t.consume(d),s?c:(s=!0,l)):n(d)}function c(d){return d===null||y1(d)||Un(d)||su(d)||Qy(d)?n(d):t.attempt(EL,t.attempt(SL,f),n)(d)}function f(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function cie(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function uie(t,e,n){let r,i,s;return o;function o(c){return c===46||c===95?t.check(CL,l,a)(c):c===null||Un(c)||su(c)||c!==45&&Qy(c)?l(c):(s=!0,t.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),o}function l(c){return i||r||!s?n(c):e(c)}}function fie(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(CL,e,s)(o):o===null||Un(o)||su(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function hie(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||Un(a)||su(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||Un(a)||su(a)?e(a):r(a)}function s(a){return Pi(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):Pi(a)?(t.consume(a),o):n(a)}}function die(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return ki(s)?n(s):e(s)}}function TL(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Un(t)}function _L(t){return!Pi(t)}function NL(t){return!(t===47||Z2(t))}function Z2(t){return t===43||t===45||t===46||t===95||ki(t)}function Dk(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const pie={tokenize:Eie,partial:!0};function mie(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:bie,continuation:{tokenize:vie},exit:wie}},text:{91:{name:"gfmFootnoteCall",tokenize:yie},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:gie,resolveTo:xie}}}}function gie(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=ko(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function xie(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function yie(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(d){if(s>999||d===93&&!o||d===null||d===91||Un(d))return n(d);if(d===93){t.exit("chunkString");const p=t.exit("gfmFootnoteCallString");return i.includes(ko(r.sliceSerialize(p)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return Un(d)||(o=!0),s++,t.consume(d),d===92?f:c}function f(d){return d===91||d===92||d===93?(t.consume(d),s++,c):c(d)}}function bie(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(x){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(x){return x===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",f):n(x)}function f(x){if(o>999||x===93&&!a||x===null||x===91||Un(x))return n(x);if(x===93){t.exit("chunkString");const b=t.exit("gfmFootnoteDefinitionLabelString");return s=ko(r.sliceSerialize(b)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(x),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),p}return Un(x)||(a=!0),o++,t.consume(x),x===92?d:f}function d(x){return x===91||x===92||x===93?(t.consume(x),o++,f):f(x)}function p(x){return x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),i.includes(s)||i.push(s),nn(t,g,"gfmFootnoteDefinitionWhitespace")):n(x)}function g(x){return e(x)}}function vie(t,e,n){return t.check(pp,e,t.attempt(pie,e,n))}function wie(t){t.exit("gfmFootnoteDefinition")}function Eie(t,e,n){const r=this;return nn(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function Sie(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},p=[["enter",f,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",d,a]],g=a.parser.constructs.insideSpan.null;g&&Ls(p,p.length,0,Jy(g,o.slice(c+1,l),a)),Ls(p,p.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",f,a]]),Ls(o,c-1,l-c+3,p),l=c+p.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,f=this.events;let d=0;return p;function p(x){return c===126&&f[f.length-1][1].type!=="characterEscape"?l(x):(o.enter("strikethroughSequenceTemporary"),g(x))}function g(x){const b=Xf(c);if(x===126)return d>1?l(x):(o.consume(x),d++,g);if(d<2&&!n)return l(x);const v=o.exit("strikethroughSequenceTemporary"),w=Xf(x);return v._open=!w||w===2&&!!b,v._close=!b||b===2&&!!w,a(x)}}}class Cie{constructor(){this.map=[]}add(e,n,r){kie(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function kie(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function Aie(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function Tie(){return{flow:{null:{name:"table",tokenize:_ie,resolveAll:Nie}}}}function _ie(t,e,n){const r=this;let i=0,s=0,o;return a;function a(R){let P=r.events.length-1;for(;P>-1;){const ee=r.events[P][1].type;if(ee==="lineEnding"||ee==="linePrefix")P--;else break}const z=P>-1?r.events[P][1].type:null,W=z==="tableHead"||z==="tableRow"?_:l;return W===_&&r.parser.lazy[r.now().line]?n(R):W(R)}function l(R){return t.enter("tableHead"),t.enter("tableRow"),c(R)}function c(R){return R===124||(o=!0,s+=1),f(R)}function f(R){return R===null?n(R):Ct(R)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),g):n(R):Kt(R)?nn(t,f,"whitespace")(R):(s+=1,o&&(o=!1,i+=1),R===124?(t.enter("tableCellDivider"),t.consume(R),t.exit("tableCellDivider"),o=!0,f):(t.enter("data"),d(R)))}function d(R){return R===null||R===124||Un(R)?(t.exit("data"),f(R)):(t.consume(R),R===92?p:d)}function p(R){return R===92||R===124?(t.consume(R),d):d(R)}function g(R){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(R):(t.enter("tableDelimiterRow"),o=!1,Kt(R)?nn(t,x,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):x(R))}function x(R){return R===45||R===58?v(R):R===124?(o=!0,t.enter("tableCellDivider"),t.consume(R),t.exit("tableCellDivider"),b):O(R)}function b(R){return Kt(R)?nn(t,v,"whitespace")(R):v(R)}function v(R){return R===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(R),t.exit("tableDelimiterMarker"),w):R===45?(s+=1,w(R)):R===null||Ct(R)?T(R):O(R)}function w(R){return R===45?(t.enter("tableDelimiterFiller"),k(R)):O(R)}function k(R){return R===45?(t.consume(R),k):R===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(R),t.exit("tableDelimiterMarker"),A):(t.exit("tableDelimiterFiller"),A(R))}function A(R){return Kt(R)?nn(t,T,"whitespace")(R):T(R)}function T(R){return R===124?x(R):R===null||Ct(R)?!o||i!==s?O(R):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(R)):O(R)}function O(R){return n(R)}function _(R){return t.enter("tableRow"),N(R)}function N(R){return R===124?(t.enter("tableCellDivider"),t.consume(R),t.exit("tableCellDivider"),N):R===null||Ct(R)?(t.exit("tableRow"),e(R)):Kt(R)?nn(t,N,"whitespace")(R):(t.enter("data"),F(R))}function F(R){return R===null||R===124||Un(R)?(t.exit("data"),N(R)):(t.consume(R),R===92?L:F)}function L(R){return R===92||R===124?(t.consume(R),F):F(R)}}function Nie(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,f,d;const p=new Cie;for(;++n<t.length;){const g=t[n],x=g[1];g[0]==="enter"?x.type==="tableHead"?(a=!1,l!==0&&(aM(p,e,l,c,f),f=void 0,l=0),c={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},p.add(n,0,[["enter",c,e]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,f={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},p.add(n,0,[["enter",f,e]])),i=x.type==="tableDelimiterRow"?2:f?3:1):i&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=ng(p,e,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):x.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=ng(p,e,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):x.type==="tableHead"?(a=!0,l=n):x.type==="tableRow"||x.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=ng(p,e,s,i,n,d)):o[1]!==0&&(d=ng(p,e,o,i,n,d)),i=0):i&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&aM(p,e,l,c,f),p.consume(e.events),n=-1;++n<e.events.length;){const g=e.events[n];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=Aie(e.events,n))}return t}function ng(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},yf(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=yf(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=yf(e.events,n[2]),f=yf(e.events,n[3]),d={type:a,start:Object.assign({},c),end:Object.assign({},f)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const p=e.events[n[2]],g=e.events[n[3]];if(p[1].end=Object.assign({},g[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const x=n[2]+1,b=n[3]-n[2]-1;t.add(x,b,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},yf(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function aM(t,e,n,r,i){const s=[],o=yf(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function yf(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const Die={name:"tasklistCheck",tokenize:Mie};function Oie(){return{text:{91:Die}}}function Mie(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return Un(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return Ct(l)?e(l):Kt(l)?t.check({tokenize:Rie},e,n)(l):n(l)}}function Rie(t,e,n){return nn(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function Bie(t){return H6([sie(),mie(),Sie(t),Tie(),Oie()])}const Lie={};function Iie(t){const e=this,n=t||Lie,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Bie(n)),s.push(tie()),o.push(nie(n))}const Fie=({viewData:t,onSearch:e,onCancel:n})=>{if(!t)return null;const{tableName:r,value:i,columns:s}=t,[o,a]=X.useState([]),l=()=>{const f=o.length>0?o.join(", "):"todas as colunas";e(`Buscar valor "${i}" na tabela ${r} nas colunas: ${f}`)},c=f=>{o.includes(f)?a(o.filter(d=>d!==f)):a([...o,f])};return C.jsx("div",{className:"w-full h-full overflow-auto bg-gray-50 flex flex-col items-center p-6",children:C.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden flex flex-col max-h-full",children:[C.jsxs("div",{className:"p-6 border-b border-gray-100",children:[C.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Refinar Busca"}),C.jsxs("p",{className:"text-sm text-gray-500",children:["A tabela ",C.jsx("span",{className:"font-bold text-gray-700",children:r})," tem muitas colunas. Para tornar a busca pelo valor ",C.jsxs("span",{className:"font-bold text-blue-600",children:['"',i,'"']})," mais rpida e precisa, selecione onde devemos procurar."]})]}),C.jsx("div",{className:"flex-1 overflow-y-auto p-2 bg-gray-50/50",children:C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 p-2",children:s.map(f=>C.jsxs("label",{className:`flex items-center p-3 rounded-lg border cursor-pointer transition-all ${o.includes(f.name)?"bg-blue-50 border-blue-300 shadow-sm":"bg-white border-gray-200 hover:border-blue-200"}`,children:[C.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center mr-3 transition-colors ${o.includes(f.name)?"bg-blue-600 border-blue-600":"border-gray-300 bg-white"}`,children:o.includes(f.name)&&C.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),C.jsx("input",{type:"checkbox",className:"hidden",checked:o.includes(f.name),onChange:()=>c(f.name)}),C.jsxs("div",{className:"flex flex-col",children:[C.jsx("span",{className:`text-sm font-bold ${o.includes(f.name)?"text-blue-800":"text-gray-700"}`,children:f.name}),C.jsx("span",{className:"text-[10px] text-gray-400 font-mono",children:f.type})]})]},f.name))})}),C.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3",children:[C.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium text-sm",children:"Cancelar"}),C.jsxs("button",{onClick:l,disabled:o.length===0,className:`px-6 py-2 rounded-lg font-bold text-white shadow-md transition-all transform active:scale-95 ${o.length>0?"bg-blue-600 hover:bg-blue-700":"bg-gray-300 cursor-not-allowed"}`,children:["Buscar ",o.length>0?`em ${o.length} colunas`:""]})]})]})})},Pie=({isVisible:t})=>{const{theme:e}=X.useContext(Yy),[n,r]=X.useState([{id:1,sender:"ai",text:`Ol! Estou aqui para ajudar voc a descobrir insights nos seus dados.

O que vamos descobrir hoje?`,isSystem:!0}]),[i,s]=X.useState(""),[o,a]=X.useState(!1),[l,c]=X.useState(null),[f,d]=X.useState("welcome"),[p,g]=X.useState("ai"),[x,b]=X.useState(null),[v,w]=X.useState([]),[k,A]=X.useState([]),[T,O]=X.useState(!1),[_,N]=X.useState(null),[F,L]=X.useState({}),R=X.useRef(null),P=()=>{R.current?.scrollIntoView({behavior:"smooth"})};X.useEffect(()=>{P()},[n,t]),X.useEffect(()=>{t&&(z(),W())},[t]);const z=async()=>{try{const V=await(await fetch("http://localhost:3001/api/ai/suggestions")).json();Array.isArray(V)&&w(V)}catch(I){console.error("Failed to fetch suggestions",I)}},W=async()=>{try{const V=await(await fetch("http://localhost:3001/api/ai/skills")).json();Array.isArray(V)&&A(V)}catch(I){console.error("Failed to fetch skills",I)}},ee=(I,V)=>{N(I),L({}),r(re=>[...re,{id:Date.now(),sender:"ai",text:V,isSystem:!0}])},te=I=>{let V=I.prompt;I.type==="template"&&(V=V.replace("[TEMA]","")),s(V)},J=(I,V,re,he)=>{if(!x)return;const oe={...x};oe.columns[V][re]=he,b(oe)},ae=async()=>{a(!0);try{const V=await(await fetch("http://localhost:3001/api/ai/create-table-confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})).json();a(!1),V.error?r(re=>[...re,{id:Date.now(),sender:"ai",text:`Tive um problema ao criar: ${V.error}`}]):(r(re=>[...re,{id:Date.now(),sender:"ai",text:`Prontinho! A tabela **${V.tableName}** foi criada com sucesso.`}]),d("welcome"),b(null))}catch(I){a(!1),r(V=>[...V,{id:Date.now(),sender:"ai",text:`Erro de conexo: ${I.message}`}])}},ce=async(I=null)=>{let V=I||i;if(!V.trim())return;if(_&&!I)if(_==="SEARCH_KEYWORD")V=`Busque tabelas ${i}`,N(null);else if(_==="TRIGGER_NAME")V=`Ver triggers da tabela ${i}`,N(null);else if(_==="CREATE_NAME"){L({...F,name:i}),r(he=>[...he,{id:Date.now(),sender:"user",text:i}]),r(he=>[...he,{id:Date.now()+1,sender:"ai",text:"Quais colunas ela deve ter? (Ex: id number, nome varchar2(100))",isSystem:!0}]),N("CREATE_COLS"),s("");return}else _==="CREATE_COLS"&&(V=`${F.name}; ${i}`,N(null));const re={id:Date.now(),sender:"user",text:V};r(he=>[...he,re]),s(""),a(!0);try{const oe=await(await fetch("http://localhost:3001/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:V,mode:p})})).json();if(a(!1),oe.error){r(Ee=>[...Ee,{id:Date.now()+1,sender:"ai",text:"Ops: "+oe.error}]);return}if(oe.action==="switch_mode"){g(oe.mode),r(Ee=>[...Ee,{id:Date.now()+1,sender:"ai",text:oe.text}]);return}if(oe.action==="quota_exceeded"){r(Ee=>[...Ee,{id:Date.now()+1,sender:"ai",text:oe.text,isSystem:!0}]);return}r(Ee=>[...Ee,{id:Date.now()+1,sender:"ai",text:oe.text}]),oe.action&&oe.action!=="chat"&&(z(),W()),oe.action&&(oe.action==="list_tables"?(d("table_results"),c(oe.data)):oe.action==="describe_table"?(d("schema_view"),c(oe.data)):oe.action==="show_data"?(d("data_view"),c(oe.data.rows||oe.data)):oe.action==="draft_table"?(b(oe.data),d("draft_view")):oe.action==="column_selection"&&(d("column_selection"),c(oe.data)))}catch(he){console.error(he),a(!1),r(oe=>[...oe,{id:Date.now()+1,sender:"ai",text:"Erro de conexo: "+he.message}])}};X.useEffect(()=>{i.includes("[")&&i.includes("]")&&setTimeout(()=>{const I=document.querySelector('input[type="text"]');if(I){I.focus();const V=i.indexOf("["),re=i.indexOf("]")+1;I.setSelectionRange(V,re)}},50)},[i]),X.useEffect(()=>{if(x&&x.tableName&&Array.isArray(x.columns)&&(!x.indices||x.indices.length===0)){const I=x.columns.map(V=>{let re=V.name.toUpperCase();return{name:`IDX_${x.tableName.toUpperCase().substring(0,8)}_${re.substring(0,10)}`,column:V.name}});b(V=>({...V,indices:I}))}},[x?.tableName,x?.columns?.length]);const ve=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),ce())},q=()=>C.jsx("div",{className:"w-full h-full overflow-auto",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[C.jsx("thead",{className:"bg-gray-50 sticky top-0",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tabela"}),C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Comentrios"}),C.jsx("th",{className:"px-6 py-3 text-right",children:"Ao"})]})}),C.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l&&l.map((I,V)=>C.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I.owner}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:I.name}),C.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 truncate max-w-xs",children:I.comments}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:C.jsx("button",{onClick:()=>ce(`Estrutura da tabela ${I.owner}.${I.name}`),className:"text-blue-600 hover:text-blue-900 bg-blue-100 px-3 py-1 rounded",children:"Ver Detalhes"})})]},V))})]})}),U=()=>{if(!l)return C.jsx("div",{className:"p-4 text-gray-500",children:"Erro: Nenhum dado de estrutura disponvel."});const I=Array.isArray(l)?l:l?.columns||[];return I?C.jsxs("div",{className:"w-full h-full overflow-auto",children:[l?.tableName&&C.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 font-bold text-gray-700 text-sm uppercase tracking-wider sticky top-0 z-10 flex justify-between items-center",children:[C.jsxs("span",{children:["Estrutura: ",l.tableName]}),l.isView&&C.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:"VIEW"})]}),l?.viewDefinition&&C.jsxs("div",{className:"bg-slate-900 mx-6 mt-6 rounded-xl overflow-hidden shadow-2xl border border-slate-700",children:[C.jsxs("div",{className:"bg-slate-800 px-6 py-3 border-b border-slate-700 flex justify-between items-center",children:[C.jsx("h3",{className:"font-mono text-base font-bold text-emerald-400 tracking-wide",children:"Definio SQL (View)"}),C.jsx("span",{className:"text-xs text-white bg-slate-700 px-2 py-1 rounded font-bold uppercase tracking-wider",children:"READ-ONLY"})]}),C.jsx("div",{className:"p-6 overflow-x-auto bg-[#0f111a]",children:C.jsx("pre",{className:"font-mono text-base text-cyan-300 whitespace-pre-wrap leading-relaxed shadow-none",children:l.viewDefinition})})]}),C.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[C.jsx("thead",{className:"bg-gray-50 sticky top-10",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Coluna"}),C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nullable"}),C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Default"})]})}),C.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map((V,re)=>C.jsxs("tr",{className:"hover:bg-gray-50",children:[C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:V.COLUMN_NAME}),C.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[V.DATA_TYPE,"(",V.DATA_LENGTH,")"]}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V.NULLABLE}),C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V.DATA_DEFAULT})]},re))})]})]}):C.jsx("div",{className:"p-4 text-gray-500",children:"Erro: Formato de colunas invlido."})},M=()=>{try{if(!x)return null;const I=x.tableName||"NOVA_TABELA",V=Array.isArray(x.columns)?x.columns:[],re=Array.isArray(x.indices)?x.indices:[],he=Array.isArray(x.grants)?x.grants:[];return C.jsxs("div",{className:"w-full h-full overflow-auto p-4 bg-gray-50",children:[C.jsxs("div",{className:"mb-6 flex justify-between items-center bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[C.jsxs("div",{className:"flex-1 mr-4",children:[C.jsx("label",{className:"text-xs text-purple-600 font-bold uppercase tracking-wider mb-1 block",children:"Nome da Tabela"}),C.jsxs("div",{className:"flex items-center",children:[C.jsx("span",{className:"bg-purple-100 text-purple-600 p-2 rounded-lg mr-3 text-lg",children:""}),C.jsx("input",{value:I,onChange:oe=>b(Ee=>({...Ee,tableName:oe.target.value.toUpperCase()})),className:"text-xl font-bold text-gray-800 border-b-2 border-purple-200 focus:border-purple-600 focus:outline-none w-full bg-transparent ml-2 uppercase",placeholder:"NOME_DA_TABELA"})]}),C.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-11",children:"Revise o nome e campos antes de criar."})]}),C.jsxs("div",{className:"space-x-2 flex-shrink-0",children:[C.jsx("button",{onClick:()=>{d("welcome"),b(null)},className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancelar"}),C.jsx("button",{onClick:ae,className:"px-6 py-2 text-sm bg-purple-600 text-white font-bold rounded-lg hover:bg-purple-700 shadow-md transform active:scale-95 transition-all",children:"Confirmar Criao"})]})]}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[C.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[C.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-100 flex justify-between items-center",children:[C.jsx("h3",{className:"font-bold text-gray-700 text-sm",children:"Colunas Definidas"}),C.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:[V.length," campos"]})]}),C.jsxs("div",{className:"overflow-x-auto",children:[C.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[C.jsx("thead",{className:"bg-gray-50",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nome"}),C.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipo"}),C.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Remover"})]})}),C.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map((oe,Ee)=>C.jsxs("tr",{className:"hover:bg-gray-50",children:[C.jsx("td",{className:"px-4 py-3",children:C.jsx("input",{value:oe.name,onChange:de=>J("columns",Ee,"name",de.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm font-bold uppercase"})}),C.jsx("td",{className:"px-4 py-3",children:C.jsx("input",{value:oe.type,onChange:de=>J("columns",Ee,"type",de.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm font-mono text-blue-600 uppercase"})}),C.jsx("td",{className:"px-4 py-3 text-center",children:C.jsx("button",{onClick:()=>{const de={...x};de.columns.splice(Ee,1),b(de)},className:"text-red-400 hover:text-red-600 font-bold px-2",children:""})})]},Ee))})]}),C.jsx("div",{className:"p-3 bg-gray-50 border-t border-gray-200 text-center",children:C.jsx("button",{onClick:()=>{const oe={...x};Array.isArray(oe.columns)||(oe.columns=[]),oe.columns.push({name:"NOVA_COLUNA",type:"VARCHAR2(100)"}),b(oe)},className:"text-sm text-purple-600 font-medium hover:underline",children:"+ Adicionar Coluna"})})]})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4",children:[C.jsx("h3",{className:"font-bold text-gray-700 text-sm mb-3 border-b pb-2 flex justify-between items-center",children:C.jsx("span",{children:"ndices Sugeridos"})}),re.length===0?C.jsx("p",{className:"text-sm text-gray-400 italic",children:"Nenhum ndice definido."}):C.jsx("div",{className:"flex flex-col gap-2",children:re.map((oe,Ee)=>C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-[10px] bg-blue-50 text-blue-500 px-1 rounded w-16 truncate text-right font-bold",title:oe.column||"?",children:oe.column||"CUSTOM"}),C.jsx("input",{value:oe.name||oe,onChange:de=>{const ct={...x};typeof ct.indices[Ee]=="object"?ct.indices[Ee].name=de.target.value.toUpperCase():ct.indices[Ee]=de.target.value.toUpperCase(),b(ct)},placeholder:"NOME_INDICE",className:"flex-1 px-2 py-1 text-xs border border-blue-200 rounded text-blue-700 font-mono focus:border-blue-500 outline-none uppercase"}),C.jsx("button",{onClick:()=>{const de={...x};de.indices.splice(Ee,1),b(de)},className:"text-red-400 hover:text-red-600 font-bold",children:""})]},Ee))})]}),C.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4",children:[C.jsxs("h3",{className:"font-bold text-gray-700 text-sm mb-3 border-b pb-2 flex justify-between items-center",children:[C.jsx("span",{children:"Permisses (Grants)"}),C.jsx("button",{onClick:()=>{const oe={...x};oe.grants||(oe.grants=[]),oe.grants.push(`GRANT SELECT ON ${I} TO PUBLIC`),b(oe)},className:"text-xs bg-green-50 text-green-600 px-2 py-1 rounded hover:bg-green-100",children:"+ Add"})]}),he.length===0?C.jsx("p",{className:"text-sm text-gray-400 italic",children:"Nenhuma permisso definida."}):C.jsx("div",{className:"flex flex-col gap-2",children:he.map((oe,Ee)=>C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("input",{value:oe,onChange:de=>{const ct={...x};ct.grants[Ee]=de.target.value.toUpperCase(),b(ct)},className:"flex-1 px-2 py-1 text-xs border border-green-200 rounded text-green-700 font-mono focus:border-green-500 outline-none uppercase"}),C.jsx("button",{onClick:()=>{const de={...x};de.grants.splice(Ee,1),b(de)},className:"text-red-400 hover:text-red-600 font-bold",children:""})]},Ee))})]})]})]})]})}catch(I){return console.error("Error rendering Draft View:",I),C.jsxs("div",{className:"p-6 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[C.jsx("h3",{className:"font-bold",children:"Erro ao exibir rascunho"}),C.jsx("p",{children:"Ocorreu um problema ao renderizar a estrutura da tabela."}),C.jsx("p",{className:"text-xs mt-2 font-mono bg-white p-2 rounded border border-red-100",children:I.message}),C.jsx("button",{onClick:()=>b(null),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Fechar e Tentar Novamente"})]})}},D=()=>{if(!l||!l.length)return C.jsx("div",{className:"p-4 text-gray-500",children:"Nenhum dado para exibir."});const I=re=>{if(re==null)return"";if(typeof re=="object")return JSON.stringify(re);if(typeof re=="string"&&/^\d{4}-\d{2}-\d{2}T/.test(re)){const he=new Date(re);if(!isNaN(he.getTime())){const oe=he.getHours()!==0||he.getMinutes()!==0||he.getSeconds()!==0;return he.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:oe?"2-digit":void 0,minute:oe?"2-digit":void 0,second:oe?"2-digit":void 0})}}return re},V=Object.keys(l[0]);return C.jsx("div",{className:"w-full h-full overflow-auto",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[C.jsx("thead",{className:"bg-gray-50 sticky top-0",children:C.jsx("tr",{children:V.map(re=>C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:re},re))})}),C.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((re,he)=>C.jsx("tr",{className:"hover:bg-blue-50",children:V.map(oe=>C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I(re[oe])},oe))},he))})]})})};return C.jsxs("div",{className:`flex h-full ${e.bg} overflow-hidden font-sans`,children:[T&&C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:C.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-[500px] max-w-full m-4 border-2 border-blue-100",children:[C.jsxs("div",{className:"flex justify-between items-center mb-6",children:[C.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" O que eu j aprendi"}),C.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),C.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-3",children:k.length===0?C.jsx("p",{className:"text-center text-gray-500 py-8",children:"Ainda estou aprendendo! Use o assistente para me ensinar novos truques."}):k.map(I=>C.jsxs("div",{className:"p-3 bg-blue-50 rounded-xl flex justify-between items-center group hover:bg-blue-100 transition-colors",children:[C.jsxs("div",{children:[C.jsx("h4",{className:"font-bold text-blue-800 text-sm",children:I.name}),C.jsxs("p",{className:"text-xs text-blue-600 opacity-80",children:["Usado ",I.frequency," vezes"]})]}),C.jsx("button",{onClick:()=>{O(!1),I.id==="draft_table"?ee("CREATE_NAME","Qual o nome da nova tabela?"):I.id==="list_tables"?s("Listar todas as tabelas"):I.id==="describe_table"?s("Descreva a tabela [NOME]"):I.id==="list_triggers"?s("Listar triggers da tabela [NOME]"):s(`Executar ao: ${I.id}`)},className:"px-3 py-1 bg-white text-blue-600 text-xs font-bold rounded-lg shadow-sm opacity-0 group-hover:opacity-100 transition-opacity transform active:scale-95",children:"Testar "})]},I.id))}),C.jsx("button",{onClick:()=>O(!1),className:"mt-6 w-full py-2 bg-gray-100 font-bold text-gray-600 rounded-xl hover:bg-gray-200",children:"Fechar"})]})}),C.jsxs("div",{className:`w-[40%] flex flex-col border-r ${e.border} ${e.sidebar} shadow-sm z-10`,children:[C.jsxs("div",{className:`p-4 border-b ${e.border} flex items-center justify-between bg-white/50 backdrop-blur-sm`,children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-xs shadow-md transition-all ${p==="ai"?"bg-gradient-to-tr from-blue-500 to-purple-600":"bg-green-600"}`,children:p==="ai"?"AI":"LG"}),C.jsxs("div",{children:[C.jsx("h2",{className:`font-bold text-sm ${e.text}`,children:"Hap AI"}),C.jsx("p",{className:"text-[10px] text-gray-500 cursor-pointer hover:underline",onClick:()=>O(!0),children:p==="ai"?"Online  Ver Habilidades":"Modo Offline"})]})]}),C.jsxs("div",{className:"flex items-center bg-gray-200 rounded-full p-1 cursor-pointer",onClick:()=>g(p==="ai"?"local":"ai"),children:[C.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold transition-all duration-300 ${p==="ai"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"AI"}),C.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold transition-all duration-300 ${p==="local"?"bg-white text-green-600 shadow-sm":"text-gray-500"}`,children:"Off"})]})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50/50",children:[n.map(I=>C.jsx("div",{className:`flex ${I.sender==="user"?"justify-end":"justify-start"}`,children:C.jsx("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 text-sm shadow-sm ${I.sender==="user"?"bg-blue-600 text-white rounded-br-none":I.isSystem?"bg-indigo-50 text-indigo-900 border border-indigo-100":"bg-white text-gray-800 border border-gray-100 rounded-bl-none"}`,children:I.sender==="ai"?C.jsx(Sne,{remarkPlugins:[Iie],components:{code({node:V,inline:re,className:he,children:oe,...Ee}){return re?C.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-red-500 font-mono text-xs",...Ee,children:oe}):C.jsx("pre",{className:"bg-gray-800 text-gray-100 p-3 rounded-lg my-2 text-xs font-mono overflow-x-auto border border-gray-700 shadow-inner",children:C.jsx("code",{className:he,...Ee,children:oe})})},p({children:V}){return C.jsx("div",{className:"mb-2 whitespace-pre-wrap leading-relaxed",children:V})}},children:I.text}):C.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:I.text})})},I.id)),o&&C.jsx("div",{className:"flex justify-start",children:C.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl rounded-bl-none px-4 py-3 shadow-sm flex space-x-1 items-center",children:[C.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),C.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),C.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}),C.jsx("div",{ref:R})]}),C.jsx("div",{className:`p-3 border-t ${e.border} bg-white`,children:C.jsxs("div",{className:"relative",children:[C.jsx("textarea",{value:i,onChange:I=>s(I.target.value),onKeyDown:ve,placeholder:p==="ai"?"Ex: Quero ver os clientes de So Paulo...":"Comandos: Busque tabelas..., Estrutura de...",className:`w-full border-gray-200 rounded-xl pr-12 pl-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none shadow-sm ${e.input} ${e.border}`,rows:1,style:{minHeight:"44px",maxHeight:"120px"}}),C.jsx("button",{onClick:()=>ce(),disabled:!i.trim()||o,className:`absolute right-2 bottom-2 p-1.5 rounded-lg transition-colors ${i.trim()?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:C.jsx("path",{d:"M3.478 2.404a.75.75 0 00-.926.941l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.404z"})})})]})})]}),C.jsxs("div",{className:"flex-1 flex flex-col bg-white overflow-hidden relative border-l border-gray-100",children:[C.jsxs("div",{className:`h-14 border-b ${e.border} flex items-center justify-between px-6 bg-white overflow-hidden`,children:[C.jsxs("h3",{className:"font-bold text-gray-700 text-sm uppercase tracking-wider flex items-center",children:[C.jsx("span",{className:"text-lg mr-2",children:""}),f==="welcome"&&"Incio",f==="table_results"&&"Resultados da Busca",f==="schema_view"&&"Estrutura da Tabela",f==="data_view"&&"Dados",f==="draft_view"&&"Rascunho"]}),C.jsxs("div",{className:"flex space-x-2",children:[f!=="welcome"&&C.jsx("button",{onClick:()=>{d("welcome"),b(null)},className:"text-xs text-gray-400 hover:text-gray-600",children:"Voltar ao Incio"}),C.jsx("button",{onClick:()=>O(!0),className:"text-xs text-purple-600 font-bold bg-purple-50 px-2 py-1 rounded hover:bg-purple-100",children:"Ajuda"})]})]}),C.jsxs("div",{className:`flex-1 overflow-hidden relative ${f==="welcome"?"bg-gray-50 flex flex-col justify-center":"bg-white"}`,children:[f==="welcome"&&C.jsxs("div",{className:"max-w-4xl mx-auto p-8 w-full",children:[C.jsxs("div",{className:"text-center mb-10",children:[C.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-2 tracking-tight",children:"O que vamos construir hoje?"}),C.jsx("p",{className:"text-lg text-gray-500",children:"Escolha um atalho ou digite sua pergunta ao lado."})]}),C.jsxs("div",{className:"flex overflow-x-auto pb-6 space-x-6 px-2 snap-x",children:[v.map(I=>C.jsx("div",{onClick:()=>te(I),className:"snap-start shrink-0 w-96 bg-white p-6 rounded-2xl shadow-sm border border-gray-100 cursor-pointer transition-all duration-300 hover:shadow-md hover:-translate-y-1 hover:border-blue-200 group flex flex-col justify-between",children:C.jsxs("div",{children:[C.jsxs("div",{className:"flex justify-between items-start mb-4",children:[C.jsx("span",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg text-xl group-hover:bg-blue-600 group-hover:text-white transition-colors",children:I.type==="learned"?"":I.type==="template"?"":""}),I.type==="learned"&&C.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-green-600 bg-green-50 px-2 py-1 rounded-full",children:"Frequente"})]}),C.jsx("h3",{className:"font-bold text-gray-800 text-lg mb-2 group-hover:text-blue-600 transition-colors whitespace-normal",children:I.title}),C.jsxs("p",{className:"text-sm text-gray-500 line-clamp-3 whitespace-normal",children:['"',I.prompt,'"']})]})},I.id)),v.length===0&&C.jsx("div",{className:"w-full text-center text-gray-400 py-10",children:"Carregando sugestes inteligentes..."})]})]}),f==="draft_view"&&M(),f==="table_results"&&l&&q(),f==="schema_view"&&l&&U(),f==="column_selection"&&l&&C.jsx(Fie,{viewData:l,onSearch:ce,onCancel:()=>{d("welcome"),c(null)}}),f==="data_view"&&l&&D()]})]})]})};function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(null,arguments)}function zie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}let tS=[],DL=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?DL:tS).push(n=n+t[e])})();function Hie(t){if(t<768)return!1;for(let e=0,n=tS.length;;){let r=e+n>>1;if(t<tS[r])n=r;else if(t>=DL[r])e=r+1;else return!0;if(e==n)return!1}}function lM(t){return t>=127462&&t<=127487}const cM=8205;function Uie(t,e,n=!0,r=!0){return(n?OL:jie)(t,e,r)}function OL(t,e,n){if(e==t.length)return e;e&&ML(t.charCodeAt(e))&&RL(t.charCodeAt(e-1))&&e--;let r=bE(t,e);for(e+=uM(r);e<t.length;){let i=bE(t,e);if(r==cM||i==cM||n&&Hie(i))e+=uM(i),r=i;else if(lM(i)){let s=0,o=e-2;for(;o>=0&&lM(bE(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function jie(t,e,n){for(;e>0;){let r=OL(t,e-2,n);if(r<e)return r;e--}return 0}function bE(t,e){let n=t.charCodeAt(e);if(!RL(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return ML(r)?(n-55296<<10)+(r-56320)+65536:n}function ML(t){return t>=56320&&t<57344}function RL(t){return t>=55296&&t<56320}function uM(t){return t<65536?1:2}let yn=class BL{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=Yf(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Ix.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Yf(this,e,n);let r=[];return this.decompose(e,n,r,0),Ix.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Qd(this),s=new Qd(e);for(let o=n,a=n;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new Qd(this,e)}iterRange(e,n=this.length){return new LL(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new IL(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?BL.empty:e.length<=32?new vr(e):Ix.from(vr.split(e,[]))}};class vr extends yn{constructor(e,n=$ie(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((n?r:a)>=e)return new Vie(i,a,r,o);i=a+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new vr(fM(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=Fx(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new vr(a,o.length+s.length));else{let l=a.length>>1;r.push(new vr(a.slice(0,l)),new vr(a.slice(l)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof vr))return super.replace(e,n,r);[e,n]=Yf(this,e,n);let i=Fx(this.text,Fx(r.text,fM(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new vr(i,s):Ix.from(vr.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){[e,n]=Yf(this,e,n);let i="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new vr(r,i)),r=[],i=-1);return i>-1&&n.push(new vr(r,i)),n}}let Ix=class bf extends yn{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let c=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!c?r.push(a):a.decompose(e-o,n-o,r,c)}o=l+1}}replace(e,n,r){if([e,n]=Yf(this,e,n),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,r),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let f=this.children.slice();return f[i]=l,new bf(f,this.length-(n-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=Yf(this,e,n);let i="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.sliceString(e-o,n-o,r)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof bf))return 0;let r=0,[i,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==o||s==a)return r;let l=this.children[i],c=e.children[s];if(l!=c)return r+l.scanIdentical(c,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let g of e)r+=g.lines;if(r<32){let g=[];for(let x of e)x.flatten(g);return new vr(g,n)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,c=-1,f=[];function d(g){let x;if(g.lines>s&&g instanceof bf)for(let b of g.children)d(b);else g.lines>o&&(l>o||!l)?(p(),a.push(g)):g instanceof vr&&l&&(x=f[f.length-1])instanceof vr&&g.lines+x.lines<=32?(l+=g.lines,c+=g.length+1,f[f.length-1]=new vr(x.text.concat(g.text),x.length+1+g.length)):(l+g.lines>i&&p(),l+=g.lines,c+=g.length+1,f.push(g))}function p(){l!=0&&(a.push(f.length==1?f[0]:bf.from(f,c)),c=-1,l=f.length=0)}for(let g of e)d(g);return p(),a.length==1?a[0]:new bf(a,n)}};yn.empty=new vr([""],0);function $ie(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Fx(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let a=t[s],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function fM(t,e,n){return Fx(t,[""],e,n)}class Qd{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof vr?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof vr?i.text.length:i.children.length;if(o==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof vr){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof vr?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class LL{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Qd(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class IL{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(yn.prototype[Symbol.iterator]=function(){return this.iter()},Qd.prototype[Symbol.iterator]=LL.prototype[Symbol.iterator]=IL.prototype[Symbol.iterator]=function(){return this});class Vie{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function Yf(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function gi(t,e,n=!0,r=!0){return Uie(t,e,n,r)}function qie(t){return t>=56320&&t<57344}function Wie(t){return t>=55296&&t<56320}function ns(t,e){let n=t.charCodeAt(e);if(!Wie(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return qie(r)?(n-55296<<10)+(r-56320)+65536:n}function Ok(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Xo(t){return t<65536?1:2}const nS=/\r\n?|\n/;var zi=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(zi||(zi={}));class Jo{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,n=!1){rS(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Jo(e)}composeDesc(e){return this.empty?e:e.empty?this:FL(this,e)}mapDesc(e,n=!1){return e.empty?this:iS(this,e,n)}mapPos(e,n=-1,r=zi.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=i+a;if(l<0){if(c>e)return s+(e-i);s+=a}else{if(r!=zi.Simple&&c>=e&&(r==zi.TrackDel&&i<e&&c>e||r==zi.TrackBefore&&i<e||r==zi.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!a)return e==i||n<0?s:s+l;s+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Jo(e)}static create(e){return new Jo(e)}}class Pr extends Jo{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return rS(this,(n,r,i,s,o)=>e=e.replace(i,i+(r-n),o),!1),e}mapDesc(e,n=!1){return iS(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(yn.empty);r.push(o?e.slice(s,s+o):yn.empty)}s+=o}return new Pr(n,r)}compose(e){return this.empty?e:e.empty?this:FL(this,e,!0)}map(e,n=!1){return e.empty?this:iS(this,e,n,!0)}iterChanges(e,n=!1){rS(this,e,n)}get desc(){return Jo.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new T0(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let f=Math.min(s.len,l-a);Si(i,f,-1);let d=s.ins==-1?-1:s.off==0?s.ins:0;Si(n,f,d),d>0&&zl(r,n,s.text),s.forward(f),a+=f}let c=e[o++];for(;a<c;){if(s.done)break e;let f=Math.min(s.len,c-a);Si(n,f,-1),Si(i,f,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(f),a+=f}}return{changes:new Pr(n,r),filtered:Jo.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],o=0,a=null;function l(f=!1){if(!f&&!i.length)return;o<n&&Si(i,n-o,-1);let d=new Pr(i,s);a=a?a.compose(d.map(a)):d,i=[],s=[],o=0}function c(f){if(Array.isArray(f))for(let d of f)c(d);else if(f instanceof Pr){if(f.length!=n)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${n})`);l(),a=a?a.compose(f.map(a)):f}else{let{from:d,to:p=d,insert:g}=f;if(d>p||d<0||p>n)throw new RangeError(`Invalid change range ${d} to ${p} (in doc of length ${n})`);let x=g?typeof g=="string"?yn.of(g.split(r||nS)):g:yn.empty,b=x.length;if(d==p&&b==0)return;d<o&&l(),d>o&&Si(i,d-o,-1),Si(i,p-d,b),zl(s,i,x),o=p}}return c(e),l(!a),a}static empty(e){return new Pr(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(yn.empty);r[i]=yn.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new Pr(n,r)}static createSet(e,n){return new Pr(e,n)}}function Si(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function zl(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(yn.empty);t.push(n)}}function rS(t,e,n){let r=t.inserted;for(let i=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)i+=a,s+=a;else{let c=i,f=s,d=yn.empty;for(;c+=a,f+=l,l&&r&&(d=d.append(r[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(i,c,s,f,d),i=c,s=f}}}function iS(t,e,n,r=!1){let i=[],s=r?[]:null,o=new T0(t),a=new T0(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);Si(i,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let c=a.len;for(Si(i,a.ins,-1);c;){let f=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=f&&(Si(i,0,o.ins),s&&zl(s,i,o.text),l=o.i),o.forward(f),c-=f}a.next()}else if(o.ins>=0){let c=0,f=o.len;for(;f;)if(a.ins==-1){let d=Math.min(f,a.len);c+=d,f-=d,a.forward(d)}else if(a.ins==0&&a.len<f)f-=a.len,a.next();else break;Si(i,c,l<o.i?o.ins:0),s&&l<o.i&&zl(s,i,o.text),l=o.i,o.forward(o.len-f)}else{if(o.done&&a.done)return s?Pr.createSet(i,s):Jo.create(i);throw new Error("Mismatched change set lengths")}}}function FL(t,e,n=!1){let r=[],i=n?[]:null,s=new T0(t),o=new T0(e);for(let a=!1;;){if(s.done&&o.done)return i?Pr.createSet(r,i):Jo.create(r);if(s.ins==0)Si(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)Si(r,0,o.ins,a),i&&zl(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=r.length;if(s.ins==-1){let f=o.ins==-1?-1:o.off?0:o.ins;Si(r,l,f,a),i&&f&&zl(i,r,o.text)}else o.ins==-1?(Si(r,s.off?0:s.len,l,a),i&&zl(i,r,s.textBit(l))):(Si(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&zl(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>c),s.forward2(l),o.forward(l)}}}}class T0{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?yn.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?yn.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}let rg=class sS{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new sS(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Re.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Re.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Re.range(e.anchor,e.head)}static create(e,n,r){return new sS(e,n,r)}};class Re{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:Re.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Re([this.main],0)}addRange(e,n=!0){return Re.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,Re.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Re(e.ranges.map(n=>rg.fromJSON(n)),e.main)}static single(e,n=e){return new Re([Re.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return Re.normalized(e.slice(),n);r=s.to}return new Re(e,n)}static cursor(e,n=0,r,i){return rg.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?rg.create(n,e,48|s):rg.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?Re.range(l,a):Re.range(a,l))}}return new Re(e,n)}}function PL(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Mk=0;class ut{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=Mk++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new ut(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:Rk),!!e.static,e.enables)}of(e){return new Px([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Px(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Px(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function Rk(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Px{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=Mk++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,f=[];for(let d of this.dependencies)d=="doc"?l=!0:d=="selection"?c=!0:(((n=e[d.id])!==null&&n!==void 0?n:1)&1)==0&&f.push(e[d.id]);return{create(d){return d.values[o]=r(d),1},update(d,p){if(l&&p.docChanged||c&&(p.docChanged||p.selection)||oS(d,f)){let g=r(d);if(a?!hM(g,d.values[o],i):!i(g,d.values[o]))return d.values[o]=g,1}return 0},reconfigure:(d,p)=>{let g,x=p.config.address[s];if(x!=null){let b=E1(p,x);if(this.dependencies.every(v=>v instanceof ut?p.facet(v)===d.facet(v):v instanceof bi?p.field(v,!1)==d.field(v,!1):!0)||(a?hM(g=r(d),b,i):i(g=r(d),b)))return d.values[o]=b,0}else g=r(d);return d.values[o]=g,1}}}}function hM(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function oS(t,e){let n=!1;for(let r of e)Jd(t,r)&1&&(n=!0);return n}function Gie(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),s=r.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let c=[];for(let f=0;f<r.length;f++){let d=E1(l,r[f]);if(i[f]==2)for(let p of d)c.push(p);else c.push(d)}return e.combine(c)}return{create(l){for(let c of r)Jd(l,c);return l.values[o]=a(l),1},update(l,c){if(!oS(l,s))return 0;let f=a(l);return e.compare(f,l.values[o])?0:(l.values[o]=f,1)},reconfigure(l,c){let f=oS(l,r),d=c.config.facets[e.id],p=c.facet(e);if(d&&!f&&Rk(n,d))return l.values[o]=p,0;let g=a(l);return e.compare(g,p)?(l.values[o]=p,0):(l.values[o]=g,1)}}}const ig=ut.define({static:!0});class bi{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new bi(Mk++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(ig).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>{let s=r.facet(ig),o=i.facet(ig),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(r.values[n]=a.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,ig.of({field:this,create:e})]}get extension(){return this}}const Fc={lowest:4,low:3,default:2,high:1,highest:0};function Ed(t){return e=>new zL(e,t)}const Au={highest:Ed(Fc.highest),high:Ed(Fc.high),default:Ed(Fc.default),low:Ed(Fc.low),lowest:Ed(Fc.lowest)};class zL{constructor(e,n){this.inner=e,this.prec=n}}class nb{of(e){return new aS(this,e)}reconfigure(e){return nb.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class aS{constructor(e,n){this.compartment=e,this.inner=n}}let dM=class HL{constructor(e,n,r,i,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),o=new Map;for(let p of Kie(e,n,o))p instanceof bi?i.push(p):(s[p.facet.id]||(s[p.facet.id]=[])).push(p);let a=Object.create(null),l=[],c=[];for(let p of i)a[p.id]=c.length<<1,c.push(g=>p.slot(g));let f=r?.config.facets;for(let p in s){let g=s[p],x=g[0].facet,b=f&&f[p]||[];if(g.every(v=>v.type==0))if(a[x.id]=l.length<<1|1,Rk(b,g))l.push(r.facet(x));else{let v=x.combine(g.map(w=>w.value));l.push(r&&x.compare(v,r.facet(x))?r.facet(x):v)}else{for(let v of g)v.type==0?(a[v.id]=l.length<<1|1,l.push(v.value)):(a[v.id]=c.length<<1,c.push(w=>v.dynamicSlot(w)));a[x.id]=c.length<<1,c.push(v=>Gie(v,x,g))}}let d=c.map(p=>p(a));return new HL(e,o,d,a,l,s)}};function Kie(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let c=r[l].indexOf(o);c>-1&&r[l].splice(c,1),o instanceof aS&&n.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof aS){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;n.set(o.compartment,c),s(c,a)}else if(o instanceof zL)s(o.inner,o.prec);else if(o instanceof bi)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Px)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,Fc.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(t,Fc.default),r.reduce((o,a)=>o.concat(a))}function Jd(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function E1(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const UL=ut.define(),lS=ut.define({combine:t=>t.some(e=>e),static:!0}),jL=ut.define({combine:t=>t.length?t[0]:void 0,static:!0}),$L=ut.define(),VL=ut.define(),qL=ut.define(),WL=ut.define({combine:t=>t.length?t[0]:!1});class ia{constructor(e,n){this.type=e,this.value=n}static define(){return new Xie}}class Xie{of(e){return new ia(this,e)}}class Yie{constructor(e){this.map=e}of(e){return new Ft(this,e)}}class Ft{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Ft(this.type,n)}is(e){return this.type==e}static define(e={}){return new Yie(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}Ft.reconfigure=Ft.define();Ft.appendConfig=Ft.define();let cs=class Md{constructor(e,n,r,i,s,o){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&PL(r,n.newLength),s.some(a=>a.type==Md.time)||(this.annotations=s.concat(Md.time.of(Date.now())))}static create(e,n,r,i,s,o){return new Md(e,n,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Md.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}};cs.time=ia.define();cs.userEvent=ia.define();cs.addToHistory=ia.define();cs.remote=ia.define();function Qie(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else if(i<e.length)s=e[i++],o=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function GL(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=Pr.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Ft.mapEffects(t.effects,i).concat(Ft.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function cS(t,e,n){let r=e.selection,i=zf(e.annotations);return e.userEvent&&(i=i.concat(cs.userEvent.of(e.userEvent))),{changes:e.changes instanceof Pr?e.changes:Pr.of(e.changes||[],n,t.facet(jL)),selection:r&&(r instanceof Re?r:Re.single(r.anchor,r.head)),effects:zf(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function KL(t,e,n){let r=cS(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;r=GL(r,cS(t,e[s],o?r.changes.newLength:t.doc.length),o)}let i=cs.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return Zie(n?Jie(i):i)}function Jie(t){let e=t.startState,n=!0;for(let i of e.facet($L)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:Qie(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=Pr.empty(e.doc.length);else{let o=t.changes.filter(n);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=cs.create(e,i,t.selection&&t.selection.map(s),Ft.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(VL);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof cs?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof cs?t=s[0]:t=KL(e,zf(s),!1)}return t}function Zie(t){let e=t.startState,n=e.facet(qL),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=GL(r,cS(e,s,t.changes.newLength),!0))}return r==t?t:cs.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const ese=[];function zf(t){return t==null?ese:Array.isArray(t)?t:[t]}var ar=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(ar||(ar={}));const tse=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let uS;try{uS=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function nse(t){if(uS)return uS.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||tse.test(n)))return!0}return!1}function rse(t){return e=>{if(!/\S/.test(e))return ar.Space;if(nse(e))return ar.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return ar.Word;return ar.Other}}let lr=class yo{constructor(e,n,r,i,s,o){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Jd(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Jd(this,r),E1(this,r)}update(...e){return KL(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(nb.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,c)=>i.set(c,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(Ft.reconfigure)?(n=null,r=a.value):a.is(Ft.appendConfig)&&(n=null,r=zf(r).concat(a.value));let s;n?s=e.startState.values.slice():(n=dM.resolve(r,i,this),s=new yo(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(lS)?e.newSelection:e.newSelection.asSingle();new yo(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Re.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],o=zf(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),c=this.changes(l.changes),f=c.map(i);for(let p=0;p<a;p++)s[p]=s[p].map(f);let d=i.mapDesc(c,!0);s.push(l.range.map(d)),i=i.compose(f),o=Ft.mapEffects(o,f).concat(Ft.mapEffects(zf(l.effects),d))}return{changes:i,selection:Re.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof Pr?e:Pr.of(e,this.doc.length,this.facet(yo.lineSeparator))}toText(e){return yn.of(e.split(this.facet(yo.lineSeparator)||nS))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Jd(this,n),E1(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof bi&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return yo.create({doc:e.doc,selection:Re.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=dM.resolve(e.extensions||[],new Map),r=e.doc instanceof yn?e.doc:yn.of((e.doc||"").split(n.staticFacet(yo.lineSeparator)||nS)),i=e.selection?e.selection instanceof Re?e.selection:Re.single(e.selection.anchor,e.selection.head):Re.single(0);return PL(i,r.length),n.staticFacet(lS)||(i=i.asSingle()),new yo(n,r,i,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(yo.tabSize)}get lineBreak(){return this.facet(yo.lineSeparator)||`
`}get readOnly(){return this.facet(WL)}phrase(e,...n){for(let r of this.facet(yo.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(UL))for(let o of s(this,n,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return rse(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=gi(n,o,!1);if(s(n.slice(l,o))!=ar.Word)break;o=l}for(;a<i;){let l=gi(n,a);if(s(n.slice(a,l))!=ar.Word)break;a=l}return o==a?null:Re.range(o+r,a+r)}};lr.allowMultipleSelections=lS;lr.tabSize=ut.define({combine:t=>t.length?t[0]:4});lr.lineSeparator=jL;lr.readOnly=WL;lr.phrases=ut.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});lr.languageData=UL;lr.changeFilter=$L;lr.transactionFilter=VL;lr.transactionExtender=qL;nb.reconfigure=Ft.define();function sa(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class ou{eq(e){return this==e}range(e,n=e){return fS.create(e,n,this)}}ou.prototype.startSide=ou.prototype.endSide=0;ou.prototype.point=!1;ou.prototype.mapMode=zi.TrackDel;let fS=class XL{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new XL(e,n,r)}};function hS(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Bk{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],f=this.from[l]+e,d=this.to[l]+e,p,g;if(f==d){let x=n.mapPos(f,c.startSide,c.mapMode);if(x==null||(p=g=x,c.startSide!=c.endSide&&(g=n.mapPos(f,c.endSide),g<p)))continue}else if(p=n.mapPos(f,c.startSide),g=n.mapPos(d,c.endSide),p>g||p==g&&c.startSide>0&&c.endSide<=0)continue;(g-p||c.endSide-c.startSide)<0||(o<0&&(o=p),c.point&&(a=Math.max(a,g-p)),r.push(c),i.push(p-o),s.push(g-o))}return{mapped:r.length?new Bk(i,s,r,a):null,pos:o}}}class sn{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new sn(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(hS)),this.isEmpty)return n.length?sn.of(n):this;let a=new YL(this,null,-1).goto(0),l=0,c=[],f=new ja;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let d=n[l++];f.addInner(d.from,d.to,d.value)||c.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&f.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(f.addInner(a.from,a.to,a.value)||c.push(fS.create(a.from,a.to,a.value))),a.next());return f.finishInner(this.nextLayer.isEmpty&&!c.length?sn.empty:this.nextLayer.update({add:c,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(c===!0){let{mapped:f,pos:d}=l.map(a,e);f&&(i=Math.max(i,f.maxPoint),n.push(f),r.push(d))}}let s=this.nextLayer.map(e);return n.length==0?s:new sn(r,n,s||sn.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return _0.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return _0.from(e).goto(n)}static compare(e,n,r,i,s=-1){let o=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),a=n.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),l=pM(o,a,r),c=new Sd(o,l,s),f=new Sd(a,l,s);r.iterGaps((d,p,g)=>mM(c,d,f,p,g,i)),r.empty&&r.length==0&&mM(c,0,f,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let s=e.filter(f=>!f.isEmpty&&n.indexOf(f)<0),o=n.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=pM(s,o),l=new Sd(s,a,0).goto(r),c=new Sd(o,a,0).goto(r);for(;;){if(l.to!=c.to||!dS(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,n,r,i,s=-1){let o=new Sd(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let c=Math.min(o.to,r);if(o.point){let f=o.activeForPoint(o.to),d=o.pointFrom<n?f.length+1:o.point.startSide<0?f.length:Math.min(f.length,l);i.point(a,c,o.point,f,d,o.pointRank),l=Math.min(o.openEnd(c),f.length)}else c>a&&(i.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,n=!1){let r=new ja;for(let i of e instanceof fS?[e]:n?ise(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return sn.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=sn.empty;i=i.nextLayer)n=new sn(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}sn.empty=new sn([],[],null,-1);function ise(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(hS(e,r)>0)return t.slice().sort(hS);e=r}return t}sn.empty.nextLayer=sn.empty;class ja{finishChunk(e){this.chunks.push(new Bk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new ja)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(sn.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=sn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function pM(t,e,n){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!n?.touchesRange(a,a+s.chunk[o].length)&&i.add(s.chunk[o])}return i}class YL{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class _0{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new YL(o,n,r,s));return i.length==1?i[0]:new _0(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)vE(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)vE(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),vE(this.heap,0)}}}function vE(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Sd{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=_0.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){sg(this.active,e),sg(this.activeTo,e),sg(this.activeRank,e),this.minActive=gM(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||i-this.activeTo[n])>0;)n++;og(this.active,n,r),og(this.activeTo,n,i),og(this.activeRank,n,s),e&&og(e,n,this.cursor.from),this.minActive=gM(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&sg(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function mM(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,a=r,l=r-e;for(;;){let c=t.to+l-n.to,f=c||t.endSide-n.endSide,d=f<0?t.to+l:n.to,p=Math.min(d,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&dS(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,p,t.point,n.point):p>a&&!dS(t.active,n.active)&&s.compareRange(a,p,t.active,n.active),d>o)break;(c||t.openEnd!=n.openEnd)&&s.boundChange&&s.boundChange(d),a=d,f<=0&&t.next(),f>=0&&n.next()}}function dS(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function sg(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function og(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function gM(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function gh(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=gi(t,i));return r}function pS(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=gi(t,i)}return r===!0?-1:t.length}const mS="",xM=typeof Symbol>"u"?"__"+mS:Symbol.for(mS),gS=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),yM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Zl{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let f=[],d=/^@(\w+)\b/.exec(o[0]),p=d&&d[1]=="keyframes";if(d&&a==null)return l.push(o[0]+";");for(let g in a){let x=a[g];if(/&/.test(g))s(g.split(/,\s*/).map(b=>o.map(v=>b.replace(/&/,v))).reduce((b,v)=>b.concat(v)),x,l);else if(x&&typeof x=="object"){if(!d)throw new RangeError("The value of a property ("+g+") should be a primitive value.");s(i(g),x,f,p)}else x!=null&&f.push(g.replace(/_.*/,"").replace(/[A-Z]/g,b=>"-"+b.toLowerCase())+": "+x+";")}(f.length||p)&&l.push((r&&!d&&!c?o.map(r):o).join(", ")+" {"+f.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=yM[xM]||1;return yM[xM]=e+1,mS+e.toString(36)}static mount(e,n,r){let i=e[gS],s=r&&r.nonce;i?s&&i.setNonce(s):i=new sse(e,s),i.mount(Array.isArray(n)?n:[n],e)}}let bM=new Map;class sse{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=bM.get(r);if(s)return e[gS]=s;this.sheet=new i.CSSStyleSheet,bM.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[gS]=this}mount(e,n){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let c=0;c<a.rules.length;c++)r.insertRule(a.rules[c],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var $a={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},N0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ose=typeof navigator<"u"&&/Mac/.test(navigator.platform),ase=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var hi=0;hi<10;hi++)$a[48+hi]=$a[96+hi]=String(hi);for(var hi=1;hi<=24;hi++)$a[hi+111]="F"+hi;for(var hi=65;hi<=90;hi++)$a[hi]=String.fromCharCode(hi+32),N0[hi]=String.fromCharCode(hi);for(var wE in $a)N0.hasOwnProperty(wE)||(N0[wE]=$a[wE]);function QL(t){var e=ose&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ase&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?N0:$a)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function Fn(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)JL(t,arguments[e]);return t}function JL(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)JL(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}let Fi=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},xS=typeof document<"u"?document:{documentElement:{style:{}}};const yS=/Edge\/(\d+)/.exec(Fi.userAgent),ZL=/MSIE \d/.test(Fi.userAgent),bS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Fi.userAgent),rb=!!(ZL||bS||yS),vM=!rb&&/gecko\/(\d+)/i.test(Fi.userAgent),EE=!rb&&/Chrome\/(\d+)/.exec(Fi.userAgent),lse="webkitFontSmoothing"in xS.documentElement.style,vS=!rb&&/Apple Computer/.test(Fi.vendor),wM=vS&&(/Mobile\/\w+/.test(Fi.userAgent)||Fi.maxTouchPoints>2);var st={mac:wM||/Mac/.test(Fi.platform),windows:/Win/.test(Fi.platform),linux:/Linux|X11/.test(Fi.platform),ie:rb,ie_version:ZL?xS.documentMode||6:bS?+bS[1]:yS?+yS[1]:0,gecko:vM,gecko_version:vM?+(/Firefox\/(\d+)/.exec(Fi.userAgent)||[0,0])[1]:0,chrome:!!EE,chrome_version:EE?+EE[1]:0,ios:wM,android:/Android\b/.test(Fi.userAgent),webkit_version:lse?+(/\bAppleWebKit\/(\d+)/.exec(Fi.userAgent)||[0,0])[1]:0,safari:vS,safari_version:vS?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Fi.userAgent)||[0,0])[1]:0,tabSize:xS.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function D0(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function wS(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function zx(t,e){if(!e.anchorNode)return!1;try{return wS(t,e.anchorNode)}catch{return!1}}function Qf(t){return t.nodeType==3?lu(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Zd(t,e,n,r){return n?EM(t,e,n,r,-1)||EM(t,e,n,r,1):!1}function au(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function S1(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function EM(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:ea(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=au(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?ea(t):0}else return!1}}function ea(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function gp(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function cse(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function eI(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function use(t,e,n,r,i,s,o,a){let l=t.ownerDocument,c=l.defaultView||window;for(let f=t,d=!1;f&&!d;)if(f.nodeType==1){let p,g=f==l.body,x=1,b=1;if(g)p=cse(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(f).position)&&(d=!0),f.scrollHeight<=f.clientHeight&&f.scrollWidth<=f.clientWidth){f=f.assignedSlot||f.parentNode;continue}let k=f.getBoundingClientRect();({scaleX:x,scaleY:b}=eI(f,k)),p={left:k.left,right:k.left+f.clientWidth*x,top:k.top,bottom:k.top+f.clientHeight*b}}let v=0,w=0;if(i=="nearest")e.top<p.top?(w=e.top-(p.top+o),n>0&&e.bottom>p.bottom+w&&(w=e.bottom-p.bottom+o)):e.bottom>p.bottom&&(w=e.bottom-p.bottom+o,n<0&&e.top-w<p.top&&(w=e.top-(p.top+o)));else{let k=e.bottom-e.top,A=p.bottom-p.top;w=(i=="center"&&k<=A?e.top+k/2-A/2:i=="start"||i=="center"&&n<0?e.top-o:e.bottom-A+o)-p.top}if(r=="nearest"?e.left<p.left?(v=e.left-(p.left+s),n>0&&e.right>p.right+v&&(v=e.right-p.right+s)):e.right>p.right&&(v=e.right-p.right+s,n<0&&e.left<p.left+v&&(v=e.left-(p.left+s))):v=(r=="center"?e.left+(e.right-e.left)/2-(p.right-p.left)/2:r=="start"==a?e.left-s:e.right-(p.right-p.left)+s)-p.left,v||w)if(g)c.scrollBy(v,w);else{let k=0,A=0;if(w){let T=f.scrollTop;f.scrollTop+=w/b,A=(f.scrollTop-T)*b}if(v){let T=f.scrollLeft;f.scrollLeft+=v/x,k=(f.scrollLeft-T)*x}e={left:e.left-k,top:e.top-A,right:e.right-k,bottom:e.bottom-A},k&&Math.abs(k-v)<1&&(r="nearest"),A&&Math.abs(A-w)<1&&(i="nearest")}if(g)break;(e.top<p.top||e.bottom>p.bottom||e.left<p.left||e.right>p.right)&&(e={left:Math.max(e.left,p.left),right:Math.min(e.right,p.right),top:Math.max(e.top,p.top),bottom:Math.min(e.bottom,p.bottom)}),f=f.assignedSlot||f.parentNode}else if(f.nodeType==11)f=f.host;else break}function fse(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class hse{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?ea(n):0),r,Math.min(e.focusOffset,r?ea(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let Bc=null;st.safari&&st.safari_version>=26&&(Bc=!1);function tI(t){if(t.setActive)return t.setActive();if(Bc)return t.focus(Bc);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Bc==null?{get preventScroll(){return Bc={preventScroll:!0},!0}}:void 0),!Bc){Bc=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let SM;function lu(t,e,n=e){let r=SM||(SM=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Hf(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function dse(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function nI(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function pse(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,ea(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=ea(n))}else{if(n==t)return!0;r=au(n),n=n.parentNode}}function rI(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function iI(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=ea(n)}else if(n.parentNode&&!S1(n))r=au(n),n=n.parentNode;else return null}}function sI(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!S1(n))r=au(n)+1,n=n.parentNode;else return null}}class Ci{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Ci(e.parentNode,au(e),n)}static after(e,n){return new Ci(e.parentNode,au(e)+1,n)}}const Lk=[];class Bn{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=Bn.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&s!=o.dom&&(n.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=CM(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&n&&n.node==r&&(n.written=!0);s;)s=CM(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=ea(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Bn.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,c=r,f=r;l<this.children.length;l++){let d=this.children[l],p=c+d.length;if(c<e&&p>n)return d.domBoundsAround(e,n,c);if(p>=e&&i==-1&&(i=l,s=c),c>n&&d.dom.parentNode==this.dom){o=l,a=f;break}f=p,c=p+d.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=Lk){this.markDirty();for(let i=e;i<n;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new oI(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Bn.prototype.breakAfter=0;function CM(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class oI{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function aI(t,e,n,r,i,s,o,a,l){let{children:c}=t,f=c.length?c[e]:null,d=s.length?s[s.length-1]:null,p=d?d.breakAfter:o;if(!(e==r&&f&&!o&&!p&&s.length<2&&f.merge(n,i,s.length?d:null,n==0,a,l))){if(r<c.length){let g=c[r];g&&(i<g.length||g.breakAfter&&d?.breakAfter)?(e==r&&(g=g.split(i),i=0),!p&&d&&g.merge(0,i,d,!0,0,l)?s[s.length-1]=g:((i||g.children.length&&!g.children[0].length)&&g.merge(0,i,null,!1,0,l),s.push(g))):g?.breakAfter&&(d?d.breakAfter=1:o=1),r++}for(f&&(f.breakAfter=o,n>0&&(!o&&s.length&&f.merge(n,f.length,s[0],!1,a,0)?f.breakAfter=s.shift().breakAfter:(n<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(n,f.length,null,!1,a,0),e++));e<r&&s.length;)if(c[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,a,l)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function lI(t,e,n,r,i,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:c,off:f}=o.findPos(e,-1),d=e-n;for(let p of r)d+=p.length;t.length+=d,aI(t,c,f,a,l,r,0,i,s)}const mse=256;class To extends Bn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof To)||this.length-(n-e)+r.length>mse||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new To(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Ci(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return gse(this.dom,e,n)}}class Va extends Bn{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(nI(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,s,o){return r&&(!(r instanceof Va&&r.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(lI(this,e,n,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Va(this.mark,n,o)}domAtPos(e){return cI(this,e)}coordsAt(e,n){return fI(this,e,n)}}function gse(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&n<0||e==r&&n>=0?st.chrome||st.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let a=lu(t,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return st.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?gp(l,o<0):l||null}class Ma extends Bn{static create(e,n,r){return new Ma(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=Ma.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,s,o){return r&&(!(r instanceof Ma)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof Ma&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return yn.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):yn.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Ci.before(this.dom):Ci.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=o?-1:1);return gp(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Jf extends Bn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Jf&&e.side==this.side}split(){return new Jf(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Ci.before(this.dom):Ci.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return yn.empty}get isHidden(){return!0}}To.prototype.children=Ma.prototype.children=Jf.prototype.children=Lk;function cI(t,e){let n=t.dom,{children:r}=t,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new Ci(n,0)}function uI(t,e,n){let r,{children:i}=t;n>0&&e instanceof Va&&i.length&&(r=i[i.length-1])instanceof Va&&r.mark.eq(e.mark)?uI(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function fI(t,e,n){let r=null,i=-1,s=null,o=-1;function a(c,f){for(let d=0,p=0;d<c.children.length&&p<=f;d++){let g=c.children[d],x=p+g.length;x>=f&&(g.children.length?a(g,f-p):(!s||s.isHidden&&(n>0||yse(s,g)))&&(x>f||p==x&&g.getSide()>0)?(s=g,o=f-p):(p<f||p==x&&g.getSide()<0&&!g.isHidden)&&(r=g,i=f-p)),p=x}}a(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):xse(t)}function xse(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Qf(e);return n[n.length-1]||null}function yse(t,e){let n=t.coordsAt(0,1),r=e.coordsAt(0,1);return n&&r&&r.top<n.bottom}function ES(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const kM=Object.create(null);function C1(t,e,n){if(t==e)return!0;t||(t=kM),e||(e=kM);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let s of r)if(s!=n&&(i.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function SS(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function bse(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}let Ka=class{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}};var Ui=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(Ui||(Ui={}));let wt=class extends ou{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new xp(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new ec(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=hI(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(o?n?2e8:1:-6e8)+1}return new ec(e,r,i,n,e.widget||null,!0)}static line(e){return new yp(e)}static set(e,n=!1){return sn.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};wt.none=sn.empty;class xp extends wt{constructor(e){let{start:n,end:r}=hI(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof xp&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&C1(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}xp.prototype.point=!1;class yp extends wt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof yp&&this.spec.class==e.spec.class&&C1(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}yp.prototype.mapMode=zi.TrackBefore;yp.prototype.point=!0;class ec extends wt{constructor(e,n,r,i,s,o){super(n,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?n<=0?zi.TrackBefore:zi.TrackAfter:zi.TrackDel}get type(){return this.startSide!=this.endSide?Ui.WidgetRange:this.startSide<=0?Ui.WidgetBefore:Ui.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof ec&&vse(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}ec.prototype.point=!0;function hI(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function vse(t,e){return t==e||!!(t&&e&&t.compare(e))}function Hx(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class Nr extends Bn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,s,o){if(r){if(!(r instanceof Nr))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),lI(this,e,n,r?r.children.slice():[],s,o),!0}split(e){let n=new Nr;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)n.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){C1(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){uI(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=ES(n,this.attrs||{})),r&&(this.attrs=ES({class:r},this.attrs||{}))}domAtPos(e){return cI(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(nI(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(SS(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&Bn.get(i)instanceof Va;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Bn.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!st.ios||!this.children.some(s=>s instanceof To))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof To)||/[^ -~]/.test(r.text))return null;let i=Qf(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=fI(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof Nr&&this.children.length==0&&e.children.length==0&&C1(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=n){if(s instanceof Nr)return s;if(o>n)break}i=o+s.breakAfter}return null}}class Fa extends Bn{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,s,o){return r&&(!(r instanceof Fa)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Ci.before(this.dom):Ci.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new Fa(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return Lk}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):yn.empty}domBoundsAround(){return null}become(e){return e instanceof Fa&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof CS?null:gp(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class CS extends Ka{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class e0{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Fa&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Nr),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(ag(new Jf(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Fa)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:a,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e),s=Math.min(i,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(ag(new To(this.text.slice(this.textOff,this.textOff+s)),n),r),this.atCursorPos=!0,this.textOff+=s,e-=s,r=i<=s?0:n.length}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof ec){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof ec)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Fa(r.widget||Zf.block,a,r));else{let l=Ma.create(r.widget||Zf.inline,a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<n||r.startSide>0),f=!l.isEditable&&(e<n||s>i.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(d.append(ag(new Jf(1),i),s),s=i.length+Math.max(0,s-i.length)),d.append(ag(l,i),s),this.atCursorPos=f,this.pendingBuffer=f?e<n||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,r,i,s){let o=new e0(e,n,r,s);return o.openEnd=sn.spans(i,n,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function ag(t,e){for(let n of e)t=new Va(n,[t],t.length);return t}class Zf extends Ka{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Zf.inline=new Zf("span");Zf.block=new Zf("div");var ir=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(ir||(ir={}));const cu=ir.LTR,Ik=ir.RTL;function dI(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const wse=dI("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ese=dI("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),kS=Object.create(null),Po=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);kS[e]=n,kS[n]=-e}function pI(t){return t<=247?wse[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Ese[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Sse=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Hl{get dir(){return this.level%2?Ik:cu}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function mI(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!mI(r.inner,i.inner))return!1}return!0}const Pn=[];function Cse(t,e,n,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:n,l=s?256:i;for(let c=o,f=l,d=l;c<a;c++){let p=pI(t.charCodeAt(c));p==512?p=f:p==8&&d==4&&(p=16),Pn[c]=p==4?2:p,p&7&&(d=p),f=p}for(let c=o,f=l,d=l;c<a;c++){let p=Pn[c];if(p==128)c<a-1&&f==Pn[c+1]&&f&24?p=Pn[c]=f:Pn[c]=256;else if(p==64){let g=c+1;for(;g<a&&Pn[g]==64;)g++;let x=c&&f==8||g<n&&Pn[g]==8?d==1?1:8:256;for(let b=c;b<g;b++)Pn[b]=x;c=g-1}else p==8&&d==1&&(Pn[c]=1);f=p,p&7&&(d=p)}}}function kse(t,e,n,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let c=o?r[o-1].to:e,f=o<r.length?r[o].from:n;for(let d=c,p,g,x;d<f;d++)if(g=kS[p=t.charCodeAt(d)])if(g<0){for(let b=a-3;b>=0;b-=3)if(Po[b+1]==-g){let v=Po[b+2],w=v&2?i:v&4?v&1?s:i:0;w&&(Pn[d]=Pn[Po[b]]=w),a=b;break}}else{if(Po.length==189)break;Po[a++]=d,Po[a++]=p,Po[a++]=l}else if((x=Pn[d])==2||x==1){let b=x==i;l=b?0:1;for(let v=a-3;v>=0;v-=3){let w=Po[v+2];if(w&2)break;if(b)Po[v+2]|=2;else{if(w&4)break;Po[v+2]|=4}}}}}function Ase(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let l=o;l<a;){let c=Pn[l];if(c==256){let f=l+1;for(;;)if(f==a){if(i==n.length)break;f=n[i++].to,a=i<n.length?n[i].from:e}else if(Pn[f]==256)f++;else break;let d=s==1,p=(f<e?Pn[f]:r)==1,g=d==p?d?1:2:r;for(let x=f,b=i,v=b?n[b-1].to:t;x>l;)x==v&&(x=n[--b].from,v=b?n[b-1].to:t),Pn[--x]=g;l=f}else s=c,l++}}}function AS(t,e,n,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,c=0;l<n;){let f=!0,d=!1;if(c==s.length||l<s[c].from){let b=Pn[l];b!=a&&(f=!1,d=b==16)}let p=!f&&a==1?[]:null,g=f?r:r+1,x=l;e:for(;;)if(c<s.length&&x==s[c].from){if(d)break e;let b=s[c];if(!f)for(let v=b.to,w=c+1;;){if(v==n)break e;if(w<s.length&&s[w].from==v)v=s[w++].to;else{if(Pn[v]==a)break e;break}}if(c++,p)p.push(b);else{b.from>l&&o.push(new Hl(l,b.from,g));let v=b.direction==cu!=!(g%2);TS(t,v?r+1:r,i,b.inner,b.from,b.to,o),l=b.to}x=b.to}else{if(x==n||(f?Pn[x]!=a:Pn[x]==a))break;x++}p?AS(t,l,x,r+1,i,p,o):l<x&&o.push(new Hl(l,x,g)),l=x}else for(let l=n,c=s.length;l>e;){let f=!0,d=!1;if(!c||l>s[c-1].to){let b=Pn[l-1];b!=a&&(f=!1,d=b==16)}let p=!f&&a==1?[]:null,g=f?r:r+1,x=l;e:for(;;)if(c&&x==s[c-1].to){if(d)break e;let b=s[--c];if(!f)for(let v=b.from,w=c;;){if(v==e)break e;if(w&&s[w-1].to==v)v=s[--w].from;else{if(Pn[v-1]==a)break e;break}}if(p)p.push(b);else{b.to<l&&o.push(new Hl(b.to,l,g));let v=b.direction==cu!=!(g%2);TS(t,v?r+1:r,i,b.inner,b.from,b.to,o),l=b.from}x=b.from}else{if(x==e||(f?Pn[x-1]!=a:Pn[x-1]==a))break;x--}p?AS(t,x,l,r+1,i,p,o):x<l&&o.push(new Hl(x,l,g)),l=x}}function TS(t,e,n,r,i,s,o){let a=e%2?2:1;Cse(t,i,s,r,a),kse(t,i,s,r,a),Ase(i,s,r,a),AS(t,i,s,e,n,r,o)}function Tse(t,e,n){if(!t)return[new Hl(0,0,e==Ik?1:0)];if(e==cu&&!n.length&&!Sse.test(t))return gI(t.length);if(n.length)for(;t.length>Pn.length;)Pn[Pn.length]=256;let r=[],i=e==cu?0:1;return TS(t,i,i,n,0,t.length,r),r}function gI(t){return[new Hl(0,t,0)]}let xI="";function _se(t,e,n,r,i){var s;let o=r.head-t.from,a=Hl.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],c=l.side(i,n);if(o==c){let p=a+=i?1:-1;if(p<0||p>=e.length)return null;l=e[a=p],o=l.side(!i,n),c=l.side(i,n)}let f=gi(t.text,o,l.forward(i,n));(f<l.from||f>l.to)&&(f=c),xI=t.text.slice(Math.min(o,f),Math.max(o,f));let d=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return d&&f==c&&d.level+(i?0:1)<l.level?Re.cursor(d.side(!i,n)+t.from,d.forward(i,n)?1:-1,d.level):Re.cursor(f+t.from,l.forward(i,n)?-1:1,l.level)}function Nse(t,e,n){for(let r=e;r<n;r++){let i=pI(t.charCodeAt(r));if(i==1)return cu;if(i==2||i==4)return Ik}return cu}const yI=ut.define(),bI=ut.define(),vI=ut.define(),wI=ut.define(),_S=ut.define(),EI=ut.define(),SI=ut.define(),Fk=ut.define(),Pk=ut.define(),CI=ut.define({combine:t=>t.some(e=>e)}),kI=ut.define({combine:t=>t.some(e=>e)}),AI=ut.define();class Uf{constructor(e,n="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new Uf(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Uf(Re.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const lg=Ft.define({map:(t,e)=>t.map(e)}),TI=Ft.define();function ss(t,e,n){let r=t.facet(wI);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const Oa=ut.define({combine:t=>t.length?t[0]:!0});let Dse=0;const Nf=ut.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class wr{constructor(e,n,r,i,s){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(Nf.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Nf.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=n||{};return new wr(Dse++,e,r,i,a=>{let l=[];return o&&l.push(O0.of(c=>{let f=c.plugin(a);return f?o(f):wt.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return wr.define((r,i)=>new e(r,i),n)}}class SE{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(ss(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){ss(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){ss(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const _I=ut.define(),zk=ut.define(),O0=ut.define(),NI=ut.define(),bp=ut.define(),DI=ut.define();function AM(t,e){let n=t.state.facet(DI);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(t):s),i=[];return sn.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,f=o-e.from,d=i;for(let p=a.length-1;p>=0;p--,l--){let g=a[p].spec.bidiIsolate,x;if(g==null&&(g=Nse(e.text,c,f)),l>0&&d.length&&(x=d[d.length-1]).to==c&&x.direction==g)x.to=f,d=x.inner;else{let b={from:c,to:f,direction:g,inner:[]};d.push(b),d=b.inner}}}}),i}const OI=ut.define();function Hk(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(OI)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const Rd=ut.define();class io{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new io(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],c=o-a,f=l?l.fromB:1e9;for(;s<n.length&&n[s]<f;){let d=n[s],p=n[s+1],g=Math.max(a,d),x=Math.min(f,p);if(g<=x&&new io(g+c,x+c,g,x).addToSet(r),p>f)break;s+=2}if(!l)return r;new io(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class k1{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Pr.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new io(s,o,a,l))),this.changedRanges=i}static create(e,n,r){return new k1(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class TM extends Bn{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=wt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Nr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new io(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:f})=>f<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!Fse(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?Mse(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:f}=this.hasComposition;r=new io(c,f,e.changes.mapPos(c,-1),e.changes.mapPos(f,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(st.ie||st.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=Lse(o,a,e.changes);return r=io.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=st.chrome||st.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Fa&&o.widget instanceof CS&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let o=i.length-1;;o--){let a=o>=0?i[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:f,toB:d}=a,p,g,x,b;if(r&&r.range.fromB<d&&r.range.toB>f){let T=e0.build(this.view.state.doc,f,r.range.fromB,this.decorations,this.dynamicDecorationMap),O=e0.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);g=T.breakAtStart,x=T.openStart,b=O.openEnd;let _=this.compositionView(r);O.breakAtStart?_.breakAfter=1:O.content.length&&_.merge(_.length,_.length,O.content[0],!1,O.openStart,0)&&(_.breakAfter=O.content[0].breakAfter,O.content.shift()),T.content.length&&_.merge(0,0,T.content[T.content.length-1],!0,0,T.openEnd)&&T.content.pop(),p=T.content.concat(_).concat(O.content)}else({content:p,breakAtStart:g,openStart:x,openEnd:b}=e0.build(this.view.state.doc,f,d,this.decorations,this.dynamicDecorationMap));let{i:v,off:w}=s.findPos(c,1),{i:k,off:A}=s.findPos(l,-1);aI(this,k,A,v,w,p,g,x,b)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(TI)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new To(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new Va(i,[n],n.length);let r=new Nr;return r.append(n,0),r}fixCompositionDOM(e){let n=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Bn.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],n(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(Oa)||this.dom.tabIndex>-1)&&zx(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(st.gecko&&a.empty&&!this.hasComposition&&Ose(l)){let d=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(d,l.node.childNodes[l.offset]||null)),l=c=new Ci(d,0),o=!0}let f=this.view.observer.selectionRange;(o||!f.focusNode||(!Zd(l.node,l.offset,f.anchorNode,f.anchorOffset)||!Zd(c.node,c.offset,f.focusNode,f.focusOffset))&&!this.suppressWidgetCursorChange(f,a))&&(this.view.observer.ignore(()=>{st.android&&st.chrome&&this.dom.contains(f.focusNode)&&Ise(f.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=D0(this.view.root);if(d)if(a.empty){if(st.gecko){let p=Rse(l.node,l.offset);if(p&&p!=3){let g=(p==1?iI:sI)(l.node,l.offset);g&&(l=new Ci(g.node,g.offset))}}d.collapse(l.node,l.offset),a.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=a.bidiLevel)}else if(d.extend){d.collapse(l.node,l.offset);try{d.extend(c.node,c.offset)}catch{}}else{let p=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),p.setEnd(c.node,c.offset),p.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(p)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Ci(f.anchorNode,f.anchorOffset),this.impreciseHead=c.precise?null:new Ci(f.focusNode,f.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Zd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=D0(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let o=Nr.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let f=this.domAtPos(n.head+n.assoc);r.collapse(f.node,f.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=n.from&&r.collapse(i,s)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let s=Bn.get(n.childNodes[i]);s instanceof Nr&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=Bn.get(n.childNodes[i]);s instanceof Nr&&(r=s.domAtPos(s.length))}return r?new Ci(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=Bn.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof Nr)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof Nr&&!(r instanceof Nr&&n>=0)))r=a,i=c;else if(r&&c==e&&l==e&&a instanceof Fa&&Math.abs(n)<2){if(a.deco.startSide<0)break;o&&(r=null)}s=c}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof Nr))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof To))return null;let s=gi(i.text,r);if(s==r)return null;let o=lu(i.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==ir.LTR;for(let c=0,f=0;f<this.children.length;f++){let d=this.children[f],p=c+d.length;if(p>i)break;if(c>=r){let g=d.dom.getBoundingClientRect();if(n.push(g.height),o){let x=d.dom.lastChild,b=x?Qf(x):[];if(b.length){let v=b[b.length-1],w=l?v.right-g.left:g.right-v.left;w>a&&(a=w,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=p)}}}c=p+d.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?ir.RTL:ir.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Nr){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Qf(e.firstChild)[0];n=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new oI(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(wt.replace({widget:new CS(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return wt.set(e)}updateDeco(){let e=1,n=this.view.state.facet(O0).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(NI).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(sn.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(AI))try{if(c(this.view,e.range,e))return!0}catch(f){ss(this.view.state,f,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=Hk(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;use(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==ir.LTR)}lineHasWidget(e){let{i:n}=this.childCursor().findPos(e);if(n==this.children.length)return!1;let r=i=>i instanceof Ma||i.children.some(r);return r(this.children[n])}}function Ose(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function MI(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=iI(n.focusNode,n.focusOffset),i=sI(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=Bn.get(i.node);if(!a||a instanceof To&&a.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let l=Bn.get(r.node);!l||l instanceof To&&l.text!=r.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function Mse(t,e,n){let r=MI(t,n);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,c=new io(l.mapPos(s),l.mapPos(o),s,o),f=[];for(let d=i.parentNode;;d=d.parentNode){let p=Bn.get(d);if(p instanceof Va)f.push({node:d,deco:p.mark});else{if(p instanceof Nr||d.nodeName=="DIV"&&d.parentNode==t.contentDOM)return{range:c,text:i,marks:f,line:d};if(d!=t.contentDOM)f.push({node:d,deco:new xp({inclusive:!0,attributes:bse(d),tagName:d.tagName.toLowerCase()})});else return null}}}function Rse(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let Bse=class{constructor(){this.changes=[]}compareRange(e,n){Hx(e,n,this.changes)}comparePoint(e,n){Hx(e,n,this.changes)}boundChange(e){Hx(e,e,this.changes)}};function Lse(t,e,n){let r=new Bse;return sn.compare(t,e,n,r),r.changes}function Ise(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function Fse(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function Pse(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return Re.cursor(e);s==0?n=1:s==i.length&&(n=-1);let o=s,a=s;n<0?o=gi(i.text,s,!1):a=gi(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let c=gi(i.text,o,!1);if(r(i.text.slice(c,o))!=l)break;o=c}for(;a<i.length;){let c=gi(i.text,a);if(r(i.text.slice(a,c))!=l)break;a=c}return Re.range(o+i.from,a+i.from)}function zse(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Hse(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function CE(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function _M(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function NM(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function NS(t,e,n){let r,i,s,o,a=!1,l,c,f,d;for(let x=t.firstChild;x;x=x.nextSibling){let b=Qf(x);for(let v=0;v<b.length;v++){let w=b[v];i&&CE(i,w)&&(w=_M(NM(w,i.bottom),i.top));let k=zse(e,w),A=Hse(n,w);if(k==0&&A==0)return x.nodeType==3?DM(x,e,n):NS(x,e,n);(!r||o>A||o==A&&s>k)&&(r=x,i=w,s=k,o=A,a=k?e<w.left?v>0:v<b.length-1:!0),k==0?n>w.bottom&&(!f||f.bottom<w.bottom)?(l=x,f=w):n<w.top&&(!d||d.top>w.top)&&(c=x,d=w):f&&CE(f,w)?f=NM(f,w.bottom):d&&CE(d,w)&&(d=_M(d,w.top))}}if(f&&f.bottom>=n?(r=l,i=f):d&&d.top<=n&&(r=c,i=d),!r)return{node:t,offset:0};let p=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return DM(r,p,n);if(a&&r.contentEditable!="false")return NS(r,p,n);let g=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:g}}function DM(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=lu(t,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let f=l[c];if(f.top==f.bottom)continue;o||(o=e-f.left);let d=(f.top>n?f.top-n:n-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&d<s){let p=e>=(f.left+f.right)/2,g=p;if(st.chrome||st.gecko){let x=lu(t,a).getBoundingClientRect();Math.abs(x.left-f.right)<.1&&(g=!p)}if(d<=0)return{node:t,offset:a+(g?1:0)};i=a+(g?1:0),s=d}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function RI(t,e,n,r=-1){var i,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:f,y:d}=e,p=d-a;if(p<0)return 0;if(p>c)return t.state.doc.length;for(let T=t.viewState.heightOracle.textHeight/2,O=!1;l=t.elementAtHeight(p),l.type!=Ui.Text;)for(;p=r>0?l.bottom+T:l.top-T,!(p>=0&&p<=c);){if(O)return n?null:0;O=!0,r=-r}d=a+p;let g=l.from;if(g<t.viewport.from)return t.viewport.from==0?0:n?null:OM(t,o,l,f,d);if(g>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:OM(t,o,l,f,d);let x=t.dom.ownerDocument,b=t.root.elementFromPoint?t.root:x,v=b.elementFromPoint(f,d);v&&!t.contentDOM.contains(v)&&(v=null),v||(f=Math.max(o.left+1,Math.min(o.right-1,f)),v=b.elementFromPoint(f,d),v&&!t.contentDOM.contains(v)&&(v=null));let w,k=-1;if(v&&((i=t.docView.nearest(v))===null||i===void 0?void 0:i.isEditable)!=!1){if(x.caretPositionFromPoint){let T=x.caretPositionFromPoint(f,d);T&&({offsetNode:w,offset:k}=T)}else if(x.caretRangeFromPoint){let T=x.caretRangeFromPoint(f,d);T&&({startContainer:w,startOffset:k}=T)}w&&(!t.contentDOM.contains(w)||st.safari&&Use(w,k,f)||st.chrome&&jse(w,k,f))&&(w=void 0),w&&(k=Math.min(ea(w),k))}if(!w||!t.docView.dom.contains(w)){let T=Nr.find(t.docView,g);if(!T)return p>l.top+l.height/2?l.to:l.from;({node:w,offset:k}=NS(T.dom,f,d))}let A=t.docView.nearest(w);if(!A)return null;if(A.isWidget&&((s=A.dom)===null||s===void 0?void 0:s.nodeType)==1){let T=A.dom.getBoundingClientRect();return e.y<T.top||e.y<=T.bottom&&e.x<=(T.left+T.right)/2?A.posAtStart:A.posAtEnd}else return A.localPosFromDOM(w,k)+A.posAtStart}function OM(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+pS(o,s,t.state.tabSize)}function BI(t,e,n){let r,i=t;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(;;){let s=i.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let o=i.parentNode;if(!o||o.nodeName=="DIV")break;i=o}}return lu(t,r-1,r).getBoundingClientRect().right>n}function Use(t,e,n){return BI(t,e,n)}function jse(t,e,n){if(e!=0)return BI(t,e,n);for(let i=t;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=t.nodeType==1?t.getBoundingClientRect():lu(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function DS(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let s of r.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==Ui.Text&&(i.type!=s.type||(n<0?s.from<e:s.to>e)))&&(i=s)}}return i||r}return r}function $se(t,e,n,r){let i=DS(t,e.head,e.assoc||-1),s=!r||i.type!=Ui.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(a==ir.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return Re.cursor(l,n?-1:1)}return Re.cursor(n?i.to:i.from,n?-1:1)}function MM(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let a=e,l=null;;){let c=_se(i,s,o,a,n),f=xI;if(!c){if(i.number==(n?t.state.doc.lines:1))return a;f=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),c=t.visualLineSide(i,!n)}if(l){if(!l(f))return a}else{if(!r)return c;l=r(f)}a=c}}function Vse(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let o=r(s);return i==ar.Space&&(i=o),i==o}}function qse(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return Re.cursor(i,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(i,e.assoc||-1),f=t.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let g=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-g.from))),a=(s<0?g.top:g.bottom)+f}let d=l.left+o,p=r??t.viewState.heightOracle.textHeight>>1;for(let g=0;;g+=10){let x=a+(p+g)*s,b=RI(t,{x:d,y:x},!1,s);if(x<l.top||x>l.bottom||(s<0?b<i:b>i)){let v=t.docView.coordsForChar(b),w=!v||x<v.top?-1:1;return Re.cursor(b,w,void 0,o)}}}function t0(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||n||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function LI(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=t0(t,i.from,0);o!=i.from&&(s=Re.cursor(o,-1))}else{let o=t0(t,i.from,-1),a=t0(t,i.to,1);(o!=i.from||a!=i.to)&&(s=Re.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?Re.create(n,e.mainIndex):e}function kE(t,e,n){let r=t0(t.state.facet(bp).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:Re.cursor(r,r<n.from?1:-1)}const Bd="";class Wse{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(lr.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Bd}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==n)break;let a=Bn.get(i),l=Bn.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:S1(i))||S1(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&!Kse(o,n)&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let n=Bn.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(Gse(e,r.node,r.offset)?n:0))}}function Gse(t,e,n){for(;;){if(!e||n<ea(e))return!1;if(e==t)return!0;n=au(e)+1,e=e.parentNode}}function Kse(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=Bn.get(t);if(!(r?.isWidget||t.cmIgnore))return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i?.length)return!1}return!0}class RM{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class Xse{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=s||o?[]:Qse(e),l=new Wse(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Jse(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!wS(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!wS(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),f=e.viewport;if((st.ios||st.chrome)&&e.state.selection.main.empty&&l!=c&&(f.from>0||f.to<e.state.doc.length)){let d=Math.min(l,c),p=Math.max(l,c),g=f.from-d,x=f.to-p;(g==0||g==1||d==0)&&(x==0||x==-1||p==e.state.doc.length)&&(l=0,c=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(Re.range(c,l)):this.newSel=Re.single(c,l)}}}function II(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,c=null;(s===8||st.android&&e.text.length<a-o)&&(l=i.to,c="end");let f=FI(t.state.doc.sliceString(o,a,Bd),e.text,l-o,c);f&&(st.chrome&&s==13&&f.toB==f.from+2&&e.text.slice(f.from,f.toB)==Bd+Bd&&f.toB--,n={from:o+f.from,to:o+f.toA,insert:yn.of(e.text.slice(f.from,f.toB).split(Bd))})}else r&&(!t.hasFocus&&t.state.facet(Oa)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(st.mac||st.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Re.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:yn.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:t.state.doc.lineAt(i.from).to<i.to&&t.docView.lineHasWidget(i.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:t.state.toText(t.inputState.insertingText)}:st.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=Re.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:yn.of([" "])}),n)return Uk(t,n,r,s);if(r&&!r.main.eq(i)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin,a=="select.pointer"&&(r=LI(t.state.facet(bp).map(l=>l(t)),r))),t.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function Uk(t,e,n,r=-1){if(st.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(st.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Hf(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Hf(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Hf(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,a=()=>o||(o=Yse(t,e,n));return t.state.facet(EI).some(l=>l(t,e.from,e.to,s,a))||t.dispatch(a()),!0}function Yse(t,e,n){let r,i=t.state,s=i.selection.main,o=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let l=e.from<s.from?-1:1,c=l<0?s.from:s.to,f=t0(i.facet(bp).map(d=>d(t)),c,l);e.from==f&&(o=f)}if(o>-1)r={changes:e,selection:Re.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let l=s.from<e.from?i.sliceDoc(s.from,e.from):"",c=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(l+e.insert.sliceString(0,void 0,t.state.lineBreak)+c))}else{let l=i.changes(e),c=n&&n.main.to<=l.newLength?n.main:void 0;if(i.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let f=t.state.sliceDoc(e.from,e.to),d,p=n&&MI(t,n.main.head);if(p){let x=e.insert.length-(e.to-e.from);d={from:p.from,to:p.to-x}}else d=t.state.doc.lineAt(s.head);let g=s.to-e.to;r=i.changeByRange(x=>{if(x.from==s.from&&x.to==s.to)return{changes:l,range:c||x.map(l)};let b=x.to-g,v=b-f.length;if(t.state.sliceDoc(v,b)!=f||b>=d.from&&v<=d.to)return{range:x};let w=i.changes({from:v,to:b,insert:e.insert}),k=x.to-s.to;return{changes:w,range:c?Re.range(Math.max(0,c.anchor+k),Math.max(0,c.head+k)):x.map(w)}})}else r={changes:l,selection:c&&i.selection.replaceRange(c)}}let a="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,a+=".compose",t.inputState.compositionFirstChange&&(a+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:a,scrollIntoView:!0})}function FI(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function Qse(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new RM(n,r)),(i!=n||s!=r)&&e.push(new RM(i,s))),e}function Jse(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?Re.single(n+e,r+e):null}let Zse=class{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,st.safari&&e.contentDOM.addEventListener("input",()=>null),st.gecko&&moe(e.contentDOM.ownerDocument)}handleEvent(e){!aoe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=eoe(e),r=this.handlers,i=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!n[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&zI.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),st.android&&st.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return st.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=PI.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||toe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Hf(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:st.safari&&!st.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};function BM(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){ss(n.state,i)}}}function eoe(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,s=i&&i.plugin.domEventHandlers,o=i&&i.plugin.domEventObservers;if(s)for(let a in s){let l=s[a];l&&n(a).handlers.push(BM(r.value,l))}if(o)for(let a in o){let l=o[a];l&&n(a).observers.push(BM(r.value,l))}}for(let r in _o)n(r).handlers.push(_o[r]);for(let r in lo)n(r).observers.push(lo[r]);return e}const PI=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],toe="dthko",zI=[16,17,18,20,91,92,224,225],cg=6;function ug(t){return Math.max(0,t)*.7+8}function noe(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class roe{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=fse(e.contentDOM),this.atoms=e.state.facet(bp).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(lr.allowMultipleSelections)&&ioe(e,n),this.dragging=ooe(e,n)&&jI(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&noe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=Hk(this.view);e.clientX-l.left<=i+cg?n=-ug(i-e.clientX):e.clientX+l.right>=o-cg&&(n=ug(e.clientX-o)),e.clientY-l.top<=s+cg?r=-ug(s-e.clientY):e.clientY+l.bottom>=a-cg&&(r=ug(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=LI(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function ioe(t,e){let n=t.state.facet(yI);return n.length?n[0](e):st.mac?e.metaKey:e.ctrlKey}function soe(t,e){let n=t.state.facet(bI);return n.length?n[0](e):st.mac?!e.altKey:!e.ctrlKey}function ooe(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=D0(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function aoe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Bn.get(n))&&r.ignoreEvent(e))return!1;return!0}const _o=Object.create(null),lo=Object.create(null),HI=st.ie&&st.ie_version<15||st.ios&&st.webkit_version<604;function loe(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),UI(t,n.value)},50)}function ib(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function UI(t,e){e=ib(t.state,Fk,e);let{state:n}=t,r,i=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(OS!=null&&n.selection.ranges.every(l=>l.empty)&&OS==s.toString()){let l=-1;r=n.changeByRange(c=>{let f=n.doc.lineAt(c.from);if(f.from==l)return{range:c};l=f.from;let d=n.toText((o?s.line(i++).text:e)+n.lineBreak);return{changes:{from:f.from,insert:d},range:Re.cursor(c.from+d.length)}})}else o?r=n.changeByRange(l=>{let c=s.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:Re.cursor(l.from+c.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}lo.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};_o.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);lo.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};lo.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};_o.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(vI))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=foe(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new roe(t,e,n,r)),r&&t.observer.ignore(()=>{tI(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function LM(t,e,n,r){if(r==1)return Re.cursor(e,n);if(r==2)return Pse(t.state,e,n);{let i=Nr.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,Re.range(o,a)}}let IM=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function coe(t,e,n,r){let i=Nr.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&IM(n,r,o))return-1;let a=i.coordsAt(s,1);return a&&IM(n,r,a)?1:o&&o.bottom>=r?-1:1}function FM(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:coe(t,n,e.clientX,e.clientY)}}const uoe=st.ie&&st.ie_version<=11;let PM=null,zM=0,HM=0;function jI(t){if(!uoe)return t.detail;let e=PM,n=HM;return PM=t,HM=Date.now(),zM=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(zM+1)%3:1}function foe(t,e){let n=FM(t,e),r=jI(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,o,a){let l=FM(t,s),c,f=LM(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!o){let d=LM(t,n.pos,n.bias,r),p=Math.min(d.from,f.from),g=Math.max(d.to,f.to);f=p<f.from?Re.range(p,g):Re.range(g,p)}return o?i.replaceRange(i.main.extend(f.from,f.to)):a&&r==1&&i.ranges.length>1&&(c=hoe(i,l.pos))?c:a?i.addRange(f):Re.create([f])}}}function hoe(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return Re.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}_o.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=n.to||o<=n.from)&&(n=Re.range(s,o))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",ib(t.state,Pk,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};_o.dragend=t=>(t.inputState.draggedContent=null,!1);function UM(t,e,n,r){if(n=ib(t.state,Fk,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&soe(t,e)?{from:s.from,to:s.to}:null,a={from:i,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}_o.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&UM(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return UM(t,e,r,!0),!0}return!1};_o.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=HI?null:e.clipboardData;return n?(UI(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(loe(t),!1)};function doe(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function poe(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:ib(t,Pk,e.join(t.lineBreak)),ranges:n,linewise:r}}let OS=null;_o.copy=_o.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=poe(t.state);if(!n&&!i)return!1;OS=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=HI?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(doe(t,n),!1)};const $I=ia.define();function VI(t,e){let n=[];for(let r of t.facet(SI)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:$I.of(!0)}):null}function qI(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=VI(t.state,e);n?t.dispatch(n):t.update([])}},10)}lo.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),qI(t)};lo.blur=t=>{t.observer.clearSelectionRange(),qI(t)};lo.compositionstart=lo.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};lo.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,st.chrome&&st.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};lo.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};_o.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=t.posAtDOM(a.startContainer,a.startOffset),c=t.posAtDOM(a.endContainer,a.endOffset);return Uk(t,{from:l,to:c,insert:t.state.toText(s)},null),!0}}let i;if(st.chrome&&st.android&&(i=PI.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return st.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),st.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>lo.compositionend(t,e),20),!1};const jM=new Set;function moe(t){jM.has(t)||(jM.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const $M=["pre-wrap","normal","pre-line","break-spaces"];let eh=!1;function VM(){eh=!1}class goe{constructor(e){this.lineWrapping=e,this.doc=yn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return $M.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,o){let a=$M.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let f=o[c];f<0?c++:this.heightSamples[Math.floor(f*10)]=!0}}return l}}class xoe{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Yo{constructor(e,n,r,i,s){this.from=e,this.length=n,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Ui.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ec?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Yo(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var rr=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(rr||(rr={}));const Ux=.001;class ji{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Ux&&(eh=!0),this.height=e)}replace(e,n,r){return ji.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:f,toB:d}=i[a],p=s.lineAt(l,rr.ByPosNoHeight,r.setDoc(n),0,0),g=p.to>=c?p:s.lineAt(c,rr.ByPosNoHeight,r,0,0);for(d+=g.to-c,c=g.to;a>0&&p.from<=i[a-1].toA;)l=i[a-1].fromA,f=i[a-1].fromB,a--,l<p.from&&(p=s.lineAt(l,rr.ByPosNoHeight,r,0,0));f+=p.from-l,l=p.from;let x=jk.build(r.setDoc(o),e,f,d);s=A1(s,s.replace(l,c,x))}return s.updateHeight(r,0)}static empty(){return new _s(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,r++),new yoe(ji.of(e.slice(0,n)),o,ji.of(e.slice(r)))}}function A1(t,e){return t==e?t:(t.constructor!=e.constructor&&(eh=!0),e)}ji.prototype.size=1;class WI extends ji{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new Yo(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,n,r,i,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class _s extends WI{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new Yo(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof _s||i instanceof ui&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof ui?i=new _s(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):ji.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ui extends ji{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,n,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let c=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),f=n.doc.lineAt(c),d=a+f.length*l,p=Math.max(r,e-d/2);return new Yo(f.from,f.length,p,d,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:f,length:d}=n.doc.line(s+c);return new Yo(f,d,r+a*c,a,0)}}lineAt(e,n,r,i,s){if(n==rr.ByHeight)return this.blockAt(e,r,i,s);if(n==rr.ByPosNoHeight){let{from:g,to:x}=r.doc.lineAt(e);return new Yo(g,x-g,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),c=r.doc.lineAt(e),f=a+c.length*l,d=c.number-o,p=i+a*d+l*(c.from-s-d);return new Yo(c.from,c.length,Math.max(i,Math.min(p,i+this.height-f)),f,0)}forEachLine(e,n,r,i,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,s);for(let f=e,d=i;f<=n;){let p=r.doc.lineAt(f);if(f==e){let x=p.number-a;d+=l*x+c*(e-s-x)}let g=l+c*p.length;o(new Yo(p.from,p.length,d,g,0)),d+=g,f=p.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof ui?r[r.length-1]=new ui(s.length+i):r.push(null,new ui(i-1))}if(e>0){let s=r[0];s instanceof ui?r[0]=new ui(e+s.length):r.unshift(new ui(e-1),null)}return ji.of(r)}decomposeLeft(e,n){n.push(new ui(e-1),null)}decomposeRight(e,n){n.push(null,new ui(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let o=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&o.push(new ui(i.from-n-1).updateHeight(e,n));a<=s&&i.more;){let f=e.doc.lineAt(a).length;o.length&&o.push(null);let d=i.heights[i.index++];l==-1?l=d:Math.abs(d-l)>=Ux&&(l=-2);let p=new _s(f,d);p.outdated=!1,o.push(p),a+=f+1}a<=s&&o.push(null,new ui(s-a).updateHeight(e,a));let c=ji.of(o);return(l<0||Math.abs(c.height-this.height)>=Ux||Math.abs(l-this.heightMetrics(e,n).perLine)>=Ux)&&(eh=!0),A1(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class yoe extends ji{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=n==rr.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let f=n==rr.ByPosNoHeight?rr.ByPosNoHeight:rr.ByPos;return l?c.join(this.right.lineAt(a,f,r,o,a)):this.left.lineAt(a,f,r,i,s).join(c)}forEachLine(e,n,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,s,o),n>=l&&this.right.forEachLine(e,n,r,a,l,o);else{let c=this.lineAt(l,rr.ByPos,r,i,s);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,s,o),c.to>=e&&c.from<=n&&o(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,a,l,o)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&qM(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),qM(s,a)}return ji.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?ji.of(this.break?[e,null,n]:[e,n]):(this.left=A1(this.left,e),this.right=A1(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return i&&i.from<=n+s.length&&i.more?l=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function qM(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof ui&&(r=t[e+1])instanceof ui&&t.splice(e-1,3,new ui(n.length+1+r.length))}const boe=5;class jk{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof _s?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new _s(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=n-e;r.block?this.addBlock(new WI(o,i,r)):(o||s||i>=boe)&&this.addLineDeco(i,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new _s(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new ui(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof _s)return e;let n=new _s(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof _s)&&!this.isCovered?this.nodes.push(new _s(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof _s&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new jk(r,e);return sn.spans(n,r,i,s,0),s.finish(r)}}function voe(t,e,n){let r=new woe;return sn.compare(t,e,n,r,0),r.changes}class woe{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&Hx(e,n,this.changes,5)}}function Eoe(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=r.body;)if(c.nodeType==1){let f=c,d=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&d.overflow!="visible"){let p=f.getBoundingClientRect();s=Math.max(s,p.left),o=Math.min(o,p.right),a=Math.max(a,p.top),l=Math.min(c==t.parentNode?i.innerHeight:l,p.bottom)}c=d.position=="absolute"||d.position=="fixed"?f.offsetParent:f.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function Soe(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function Coe(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class AE{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,n){return wt.replace({widget:new koe(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class koe extends Ka{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class WM{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=GM,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ir.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(zk).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new goe(n),this.stateDeco=e.facet(O0).filter(r=>typeof r!="function"),this.heightMap=ji.empty().applyChanges(this.stateDeco,yn.empty,this.heightOracle.setDoc(e.doc),[new io(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=wt.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new fg(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?GM:new $k(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Ld(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(O0).filter(f=>typeof f!="function");let i=e.changedRanges,s=io.extendWithRanges(i,voe(r,this.stateDeco,e?e.changes:Pr.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);VM(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||eh)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(kI)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?ir.RTL:ir.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,f=0;if(a.width&&a.height){let{scaleX:T,scaleY:O}=eI(n,a);(T>.005&&Math.abs(this.scaleX-T)>.005||O>.005&&Math.abs(this.scaleY-O)>.005)&&(this.scaleX=T,this.scaleY=O,c|=16,o=l=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,p=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=p)&&(this.paddingTop=d,this.paddingBottom=p,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let g=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=g&&(this.scrollAnchorHeight=-1,this.scrollTop=g),this.scrolledToBottom=rI(e.scrollDOM);let x=(this.printing?Coe:Eoe)(n,this.paddingTop),b=x.top-this.pixelViewport.top,v=x.bottom-this.pixelViewport.bottom;this.pixelViewport=x;let w=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(w!=this.inView&&(this.inView=w,w&&(l=!0)),!this.inView&&!this.scrollTarget&&!Soe(e.dom))return 0;let k=a.width;if((this.contentDOMWidth!=k||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let T=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(T)&&(o=!0),o||i.lineWrapping&&Math.abs(k-this.contentDOMWidth)>i.charWidth){let{lineHeight:O,charWidth:_,textHeight:N}=e.docView.measureTextSize();o=O>0&&i.refresh(s,O,_,N,Math.max(5,k/_),T),o&&(e.docView.minWidth=0,c|=16)}b>0&&v>0?f=Math.max(b,v):b<0&&v<0&&(f=Math.min(b,v)),VM();for(let O of this.viewports){let _=O.from==this.viewport.from?T:e.docView.measureVisibleLineHeights(O);this.heightMap=(o?ji.empty().applyChanges(this.stateDeco,yn.empty,this.heightOracle,[new io(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new xoe(O.from,_))}eh&&(c|=2)}let A=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return A&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(f,this.scrollTarget),c|=this.updateForViewport()),(c&2||A)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new fg(i.lineAt(o-r*1e3,rr.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,rr.ByHeight,s,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(c,rr.ByPos,s,0,0),p;n.y=="center"?p=(d.top+d.bottom)/2-f/2:n.y=="start"||n.y=="nearest"&&c<l.from?p=d.top:p=d.bottom-f,l=new fg(i.lineAt(p-1e3/2,rr.ByHeight,s,0,0).from,i.lineAt(p+f+1e3/2,rr.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new fg(this.heightMap.lineAt(r,rr.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,rr.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,rr.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,rr.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new AE(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=ir.LTR&&!r)return[];let a=[],l=(f,d,p,g)=>{if(d-f<s)return;let x=this.state.selection.main,b=[x.from];x.empty||b.push(x.to);for(let w of b)if(w>f&&w<d){l(f,w-10,p,g),l(w+10,d,p,g);return}let v=Toe(e,w=>w.from>=p.from&&w.to<=p.to&&Math.abs(w.from-f)<s&&Math.abs(w.to-d)<s&&!b.some(k=>w.from<k&&w.to>k));if(!v){if(d<p.to&&n&&r&&n.visibleRanges.some(A=>A.from<=d&&A.to>=d)){let A=n.moveToLineBoundary(Re.cursor(d),!1,!0).head;A>f&&(d=A)}let w=this.gapSize(p,f,d,g),k=r||w<2e6?w:2e6;v=new AE(f,d,w,k)}a.push(v)},c=f=>{if(f.length<o||f.type!=Ui.Text)return;let d=Aoe(f.from,f.to,this.stateDeco);if(d.total<o)return;let p=this.scrollTarget?this.scrollTarget.range.head:null,g,x;if(r){let b=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,w;if(p!=null){let k=dg(d,p),A=((this.visibleBottom-this.visibleTop)/2+b)/f.height;v=k-A,w=k+A}else v=(this.visibleTop-f.top-b)/f.height,w=(this.visibleBottom-f.top+b)/f.height;g=hg(d,v),x=hg(d,w)}else{let b=d.total*this.heightOracle.charWidth,v=i*this.heightOracle.charWidth,w=0;if(b>2e6)for(let _ of e)_.from>=f.from&&_.from<f.to&&_.size!=_.displaySize&&_.from*this.heightOracle.charWidth+w<this.pixelViewport.left&&(w=_.size-_.displaySize);let k=this.pixelViewport.left+w,A=this.pixelViewport.right+w,T,O;if(p!=null){let _=dg(d,p),N=((A-k)/2+v)/b;T=_-N,O=_+N}else T=(k-v)/b,O=(A+v)/b;g=hg(d,T),x=hg(d,O)}g>f.from&&l(f.from,g,f,d),x<f.to&&l(x,f.to,f,d)};for(let f of this.viewportLines)Array.isArray(f.type)?f.type.forEach(c):c(f);return a}gapSize(e,n,r,i){let s=dg(i,r)-dg(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){AE.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=wt.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];sn.spans(n,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],a=r[s];(o.from!=a.from||o.to!=a.to)&&(i|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Ld(this.heightMap.lineAt(e,rr.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||Ld(this.heightMap.lineAt(this.scaler.fromDOM(e),rr.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return Ld(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class fg{constructor(e,n){this.from=e,this.to=n}}function Aoe(t,e,n){let r=[],i=t,s=0;return sn.spans(n,t,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function hg({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function dg(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function Toe(t,e){for(let n of t)if(e(n))return n}const GM={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class $k{constructor(e,n,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let c=n.lineAt(a,rr.ByPos,e,0,0).top,f=n.lineAt(l,rr.ByPos,e,0,0).bottom;return i+=f-c,{from:a,to:l,top:c,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof $k?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function Ld(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Yo(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>Ld(i,e)):t._content)}const pg=ut.define({combine:t=>t.join(" ")}),MS=ut.define({combine:t=>t.indexOf(!0)>-1}),RS=Zl.newName(),GI=Zl.newName(),KI=Zl.newName(),XI={"&light":"."+GI,"&dark":"."+KI};function BS(t,e,n){return new Zl(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const _oe=BS("."+RS,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},XI),Noe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},TE=st.ie&&st.ie_version<=11;let Doe=class{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new hse,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(st.ie&&st.ie_version<=11||st.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&st.android&&e.constructor.EDIT_CONTEXT!==!1&&!(st.chrome&&st.chrome_version<126)&&(this.editContext=new Moe(e),e.state.facet(Oa)&&(e.contentDOM.editContext=this.editContext.editContext)),TE&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Oa)?r.root.activeElement!=this.dom:!zx(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(st.ie&&st.ie_version<=11||st.android&&st.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Zd(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=D0(e.root);if(!n)return!1;let r=st.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Ooe(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=zx(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&pse(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Noe),TE&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),TE&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Hf(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),n==-1?{from:n,to:r}=o:(n=Math.min(o.from,n),r=Math.max(o.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&zx(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new Xse(this.view,e,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=II(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=KM(n,e.previousSibling||e.target.previousSibling,-1),i=KM(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Oa)!=e.state.facet(Oa)&&(e.view.contentDOM.editContext=e.state.facet(Oa)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}};function KM(t,e,n){for(;e;){let r=Bn.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function XM(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return Zd(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function Ooe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return XM(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?XM(t,n):null}class Moe{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let c=l-a>r.text.length;a==this.from&&s<this.from?a=s:l==this.to&&s>this.to&&(l=s);let f=FI(e.state.sliceDoc(a,l),r.text,(c?i.from:i.to)-a,c?"end":null);if(!f){let p=Re.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));p.main.eq(i)||e.dispatch({selection:p,userEvent:"select"});return}let d={from:f.from+a,to:f.toA+a,insert:yn.of(r.text.slice(f.from,f.toB).split(`
`))};if((st.mac||st.android)&&d.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(d={from:a,to:l,insert:yn.of([r.text.replace("."," ")])}),this.pendingContextChange=d,!e.state.readOnly){let p=this.to-this.from+(d.to-d.from+d.insert.length);Uk(e,d,Re.single(this.toEditorPos(r.selectionStart,p),this.toEditorPos(r.selectionEnd,p)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),d.from<d.to&&!d.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(!/none/i.test(o)&&!/none/i.test(a)){let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);if(l<c){let f=`text-decoration: underline ${/^[a-z]/.test(o)?o+" ":o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${/thin/i.test(a)?1:2}px`;i.push(wt.mark({attributes:{style:f}}).range(l,c))}}}e.dispatch({effects:TI.of(wt.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=D0(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(r)return;let f=c.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(c)){i=this.pendingContextChange=null,n+=f,this.to+=f;return}else i=null,this.revertPending(e.state);if(s+=n,o+=n,o<=this.from)this.from+=f,this.to+=f;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=f}n+=f}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}let lt=class LS{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||dse(e.parent)||document,this.viewState=new WM(e.state||lr.create(e)),e.scrollTo&&e.scrollTo.is(lg)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Nf).map(i=>new SE(i));for(let i of this.plugins)i.update(this);this.observer=new Doe(this),this.inputState=new Zse(this),this.inputState.ensureHandlers(this.plugins),this.docView=new TM(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof cs?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let p of e){if(p.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=p.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(p=>p.annotation($I))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=VI(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,f=null;if(c?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(f=null)):this.observer.clear(),s.facet(lr.phrases)!=this.state.facet(lr.phrases))return this.setState(s);i=k1.create(this,s,e),i.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let p of e){if(d&&(d=d.map(p.changes)),p.scrollIntoView){let{main:g}=p.state.selection;d=new Uf(g.empty?g:Re.cursor(g.head,g.head>g.anchor?-1:1))}for(let g of p.effects)g.is(lg)&&(d=g.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=T1.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(Rd)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(p=>p.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(pg)!=i.state.facet(pg)&&(this.viewState.mustMeasureContent=!0),(n||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let p of this.state.facet(_S))try{p(i)}catch(g){ss(this.state,g,"update listener")}(l||f)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),f&&!II(this,f)&&c.force&&Hf(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new WM(e),this.plugins=e.facet(Nf).map(r=>new SE(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new TM(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Nf),r=e.state.facet(Nf);if(n!=r){let i=[];for(let s of r){let o=n.indexOf(s);if(o<0)i.push(new SE(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){ss(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(rI(r))s=-1,o=this.viewState.heightMap.height;else{let g=this.viewState.scrollAnchorAt(i);s=g.from,o=g.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let f=c.map(g=>{try{return g.read(this)}catch(x){return ss(this.state,x),YM}}),d=k1.create(this,this.state,[]),p=!1;d.flags|=l,n?n.flags|=l:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),p=this.docView.update(d),p&&this.docViewUpdate());for(let g=0;g<c.length;g++)if(f[g]!=YM)try{let x=c[g];x.write&&x.write(f[g],this)}catch(x){ss(this.state,x)}if(p&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let x=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(x>1||x<-1){i=i+x,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(_S))a(n)}get themeClasses(){return RS+" "+(this.state.facet(MS)?KI:GI)+" "+this.state.facet(pg)}updateAttrs(){let e=QM(this,_I,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Oa)?"true":"false",class:"cm-content",style:`${st.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),QM(this,zk,n);let r=this.observer.ignore(()=>{let i=SS(this.contentDOM,this.contentAttrs,n),s=SS(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(LS.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Rd);let e=this.state.facet(LS.cspNonce);Zl.mount(this.root,this.styleModules.concat(_oe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return kE(this,e,MM(this,e,n,r))}moveByGroup(e,n){return kE(this,e,MM(this,e,n,r=>Vse(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[n?r.length-1:0];return Re.cursor(s.side(n,i)+e.from,s.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return $se(this,e,n,r)}moveVertically(e,n,r){return kE(this,e,qse(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),RI(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[Hl.find(s,e-i.from,-1,n)];return gp(r,o.dir==ir.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(CI)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Roe)return gI(e.length);let n=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||mI(s.isolates,r=AM(this,e))))return s.order;r||(r=AM(this,e));let i=Tse(e.text,n,r);return this.bidiCache.push(new T1(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||st.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{tI(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return lg.of(new Uf(typeof e=="number"?Re.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return lg.of(new Uf(Re.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return wr.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return wr.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Zl.newName(),i=[pg.of(r),Rd.of(BS(`.${r}`,e))];return n&&n.dark&&i.push(MS.of(!0)),i}static baseTheme(e){return Au.lowest(Rd.of(BS("."+RS,e,XI)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Bn.get(r)||Bn.get(e);return((n=i?.rootView)===null||n===void 0?void 0:n.view)||null}};lt.styleModule=Rd;lt.inputHandler=EI;lt.clipboardInputFilter=Fk;lt.clipboardOutputFilter=Pk;lt.scrollHandler=AI;lt.focusChangeEffect=SI;lt.perLineTextDirection=CI;lt.exceptionSink=wI;lt.updateListener=_S;lt.editable=Oa;lt.mouseSelectionStyle=vI;lt.dragMovesSelection=bI;lt.clickAddsSelectionRange=yI;lt.decorations=O0;lt.outerDecorations=NI;lt.atomicRanges=bp;lt.bidiIsolatedRanges=DI;lt.scrollMargins=OI;lt.darkTheme=MS;lt.cspNonce=ut.define({combine:t=>t.length?t[0]:""});lt.contentAttributes=zk;lt.editorAttributes=_I;lt.lineWrapping=lt.contentAttributes.of({class:"cm-lineWrapping"});lt.announce=Ft.define();const Roe=4096,YM={};class T1{constructor(e,n,r,i,s,o){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:ir.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new T1(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function QM(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(t):s;o&&ES(o,n)}return n}const Boe=st.mac?"mac":st.windows?"win":st.linux?"linux":"key";function Loe(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function mg(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Ioe=Au.default(lt.domEventHandlers({keydown(t,e){return QI(YI(e.state),t,e,"editor")}})),sb=ut.define({enables:Ioe}),JM=new WeakMap;function YI(t){let e=t.facet(sb),n=JM.get(e);return n||JM.set(e,n=zoe(e.reduce((r,i)=>r.concat(i),[]))),n}function Foe(t,e,n){return QI(YI(t.state),e,t,n)}let Rl=null;const Poe=4e3;function zoe(t,e=Boe){let n=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,f)=>{var d,p;let g=n[o]||(n[o]=Object.create(null)),x=a.split(/ (?!$)/).map(w=>Loe(w,e));for(let w=1;w<x.length;w++){let k=x.slice(0,w).join(" ");i(k,!0),g[k]||(g[k]={preventDefault:!0,stopPropagation:!1,run:[A=>{let T=Rl={view:A,prefix:k,scope:o};return setTimeout(()=>{Rl==T&&(Rl=null)},Poe),!0}]})}let b=x.join(" ");i(b,!1);let v=g[b]||(g[b]={preventDefault:!1,stopPropagation:!1,run:((p=(d=g._any)===null||d===void 0?void 0:d.run)===null||p===void 0?void 0:p.slice())||[]});l&&v.run.push(l),c&&(v.preventDefault=!0),f&&(v.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let f=n[c]||(n[c]=Object.create(null));f._any||(f._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=o;for(let p in f)f[p].run.push(g=>d(g,IS))}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}let IS=null;function QI(t,e,n,r){IS=e;let i=QL(e),s=ns(i,0),o=Xo(s)==i.length&&i!=" ",a="",l=!1,c=!1,f=!1;Rl&&Rl.view==n&&Rl.scope==r&&(a=Rl.prefix+" ",zI.indexOf(e.keyCode)<0&&(c=!0,Rl=null));let d=new Set,p=v=>{if(v){for(let w of v.run)if(!d.has(w)&&(d.add(w),w(n)))return v.stopPropagation&&(f=!0),!0;v.preventDefault&&(v.stopPropagation&&(f=!0),c=!0)}return!1},g=t[r],x,b;return g&&(p(g[a+mg(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(st.windows&&e.ctrlKey&&e.altKey)&&!(st.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(x=$a[e.keyCode])&&x!=i?(p(g[a+mg(x,e,!0)])||e.shiftKey&&(b=N0[e.keyCode])!=i&&b!=x&&p(g[a+mg(b,e,!1)]))&&(l=!0):o&&e.shiftKey&&p(g[a+mg(i,e,!0)])&&(l=!0),!l&&p(g._any)&&(l=!0)),c&&(l=!0),l&&f&&e.stopPropagation(),IS=null,l}class vp{constructor(e,n,r,i,s){this.className=e,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=JI(e);return[new vp(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return Hoe(e,n,r)}}function JI(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==ir.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function ZM(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let s=t.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=t.posAtCoords({x:s.left+1,y:o}),l=t.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function Hoe(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==ir.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=JI(t),c=o.querySelector(".cm-line"),f=c&&window.getComputedStyle(c),d=a.left+(f?parseInt(f.paddingLeft)+Math.min(0,parseInt(f.textIndent)):0),p=a.right-(f?parseInt(f.paddingRight):0),g=DS(t,r,1),x=DS(t,i,-1),b=g.type==Ui.Text?g:null,v=x.type==Ui.Text?x:null;if(b&&(t.lineWrapping||g.widgetLineBreaks)&&(b=ZM(t,r,1,b)),v&&(t.lineWrapping||x.widgetLineBreaks)&&(v=ZM(t,i,-1,v)),b&&v&&b.from==v.from&&b.to==v.to)return k(A(n.from,n.to,b));{let O=b?A(n.from,null,b):T(g,!1),_=v?A(null,n.to,v):T(x,!0),N=[];return(b||g).to<(v||x).from-(b&&v?1:0)||g.widgetLineBreaks>1&&O.bottom+t.defaultLineHeight/2<_.top?N.push(w(d,O.bottom,p,_.top)):O.bottom<_.top&&t.elementAtHeight((O.bottom+_.top)/2).type==Ui.Text&&(O.bottom=_.top=(O.bottom+_.top)/2),k(O).concat(N).concat(k(_))}function w(O,_,N,F){return new vp(e,O-l.left,_-l.top,N-O,F-_)}function k({top:O,bottom:_,horizontal:N}){let F=[];for(let L=0;L<N.length;L+=2)F.push(w(N[L],O,N[L+1],_));return F}function A(O,_,N){let F=1e9,L=-1e9,R=[];function P(ee,te,J,ae,ce){let ve=t.coordsAtPos(ee,ee==N.to?-2:2),q=t.coordsAtPos(J,J==N.from?2:-2);!ve||!q||(F=Math.min(ve.top,q.top,F),L=Math.max(ve.bottom,q.bottom,L),ce==ir.LTR?R.push(s&&te?d:ve.left,s&&ae?p:q.right):R.push(!s&&ae?d:q.left,!s&&te?p:ve.right))}let z=O??N.from,W=_??N.to;for(let ee of t.visibleRanges)if(ee.to>z&&ee.from<W)for(let te=Math.max(ee.from,z),J=Math.min(ee.to,W);;){let ae=t.state.doc.lineAt(te);for(let ce of t.bidiSpans(ae)){let ve=ce.from+ae.from,q=ce.to+ae.from;if(ve>=J)break;q>te&&P(Math.max(ve,te),O==null&&ve<=z,Math.min(q,J),_==null&&q>=W,ce.dir)}if(te=ae.to+1,te>=J)break}return R.length==0&&P(z,O==null,W,_==null,t.textDirection),{top:F,bottom:L,horizontal:R}}function T(O,_){let N=a.top+(_?O.top:O.bottom);return{top:N,bottom:N,horizontal:[]}}}function Uoe(t,e){return t.constructor==e.constructor&&t.eq(e)}class joe{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(jx)!=e.state.facet(jx)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(jx);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!Uoe(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e,st.safari&&st.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const jx=ut.define();function ZI(t){return[wr.define(e=>new joe(e,t)),jx.of(t)]}const M0=ut.define({combine(t){return sa(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function $oe(t={}){return[M0.of(t),Voe,qoe,Woe,kI.of(!0)]}function eF(t){return t.startState.facet(M0)!=t.state.facet(M0)}const Voe=ZI({above:!0,markers(t){let{state:e}=t,n=e.facet(M0),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:Re.cursor(i.head,i.head>i.anchor?-1:1);for(let l of vp.forRange(t,o,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=eF(t);return n&&e3(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){e3(e.state,t)},class:"cm-cursorLayer"});function e3(t,e){e.style.animationDuration=t.facet(M0).cursorBlinkRate+"ms"}const qoe=ZI({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:vp.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||eF(t)},class:"cm-selectionLayer"}),Woe=Au.highest(lt.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),tF=Ft.define({map(t,e){return t==null?null:e.mapPos(t)}}),Id=bi.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(tF)?r.value:n,t)}}),Goe=wr.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Id);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Id)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Id),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Id)!=t&&this.view.dispatch({effects:tF.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Koe(){return[Id,Goe]}function t3(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function Xoe(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class Yoe{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,c,f)=>i(f,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,f)=>{let d=r(a,l,c);d&&f(c,c+a[0].length,d)};else if(r)this.addMatch=(a,l,c,f)=>f(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new ja,r=n.add.bind(n);for(let{from:i,to:s}of Xoe(e,this.maxLength))t3(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>=o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,f=Math.max(s.from,l.from),d=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){f=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){d=a;break}}let p=[],g,x=(b,v,w)=>p.push(w.range(b,v));if(l==c)for(this.regexp.lastIndex=f-l.from;(g=this.regexp.exec(l.text))&&g.index<d-l.from;)this.addMatch(g,e,g.index+l.from,x);else t3(e.state.doc,this.regexp,f,d,(b,v)=>this.addMatch(v,e,b,x));n=n.update({filterFrom:f,filterTo:d,filter:(b,v)=>b<f||v>d,add:p})}}return n}}const FS=/x/.unicode!=null?"gu":"g",Qoe=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,FS),Joe={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _E=null;function Zoe(){var t;if(_E==null&&typeof document<"u"&&document.body){let e=document.body.style;_E=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return _E||!1}const $x=ut.define({combine(t){let e=sa(t,{render:null,specialChars:Qoe,addSpecialChars:null});return(e.replaceTabs=!Zoe())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,FS)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,FS)),e}});function eae(t={}){return[$x.of(t),tae()]}let n3=null;function tae(){return n3||(n3=wr.fromClass(class{constructor(t){this.view=t,this.decorations=wt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet($x)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Yoe({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=ns(e[0],0);if(s==9){let o=i.lineAt(r),a=n.state.tabSize,l=gh(o.text,a,r-o.from);return wt.replace({widget:new sae((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=wt.replace({widget:new iae(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet($x);t.startState.facet($x)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const nae="";function rae(t){return t>=32?nae:t==10?"":String.fromCharCode(9216+t)}class iae extends Ka{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=rae(this.code),r=e.state.phrase("Control character")+" "+(Joe[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class sae extends Ka{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function oae(){return lae}const aae=wt.line({class:"cm-activeLine"}),lae=wr.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(aae.range(i.from)),e=i.from)}return wt.set(n)}},{decorations:t=>t.decorations});let cae=class extends Ka{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?Qf(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=gp(n[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}};function uae(t){let e=wr.fromClass(class{constructor(n){this.view=n,this.placeholder=t?wt.set([wt.widget({widget:new cae(t),side:1}).range(0)]):wt.none}get decorations(){return this.view.state.doc.length?wt.none:this.placeholder}},{decorations:n=>n.decorations});return typeof t=="string"?[e,lt.contentAttributes.of({"aria-placeholder":t})]:e}const PS=2e3;function fae(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>PS||n.off>PS||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let c=t.doc.line(l);c.length<=a&&s.push(Re.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let c=t.doc.line(l),f=pS(c.text,o,t.tabSize,!0);if(f<0)s.push(Re.cursor(c.to));else{let d=pS(c.text,a,t.tabSize);s.push(Re.range(c.from+f,c.from+d))}}}return s}function hae(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function r3(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>PS?-1:i==r.length?hae(t,e.clientX):gh(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function dae(t,e){let n=r3(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),o=i.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=r3(t,i);if(!a)return r;let l=fae(t.state,n,a);return l.length?o?Re.create(l.concat(r.ranges)):Re.create(l):r}}:null}function pae(t){let e=(n=>n.altKey&&n.button==0);return lt.mouseSelectionStyle.of((n,r)=>e(r)?dae(n,r):null)}const mae={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},gae={style:"cursor: crosshair"};function xae(t={}){let[e,n]=mae[t.key||"Alt"],r=wr.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,lt.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?gae:null})]}const gg="-10000px";class nF{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,n){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let c=s[l],f=-1;if(c){for(let d=0;d<this.tooltips.length;d++){let p=this.tooltips[d];p&&p.create==c.create&&(f=d)}if(f<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let d=o[l]=this.tooltipViews[f];a&&(a[l]=n[f]),d.update&&d.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,c)=>n[c]=l),n.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function yae(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const NE=ut.define({combine:t=>{var e,n,r;return{position:st.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||yae}}}),i3=new WeakMap,Vk=wr.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(NE);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new nF(t,qk,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(NE);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=gg,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(st.safari){let o=s.getBoundingClientRect();n=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}else n=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(t=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=Hk(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(NE).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:f}=c,d=t.pos[a],p=t.size[a];if(!d||l.clip!==!1&&(d.bottom<=Math.max(n.top,r.top)||d.top>=Math.min(n.bottom,r.bottom)||d.right<Math.max(n.left,r.left)-.1||d.left>Math.min(n.right,r.right)+.1)){f.style.top=gg;continue}let g=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,x=g?7:0,b=p.right-p.left,v=(e=i3.get(c))!==null&&e!==void 0?e:p.bottom-p.top,w=c.offset||vae,k=this.view.textDirection==ir.LTR,A=p.width>r.right-r.left?k?r.left:r.right-p.width:k?Math.max(r.left,Math.min(d.left-(g?14:0)+w.x,r.right-b)):Math.min(Math.max(r.left,d.left-b+(g?14:0)-w.x),r.right-b),T=this.above[a];!l.strictSide&&(T?d.top-v-x-w.y<r.top:d.bottom+v+x+w.y>r.bottom)&&T==r.bottom-d.bottom>d.top-r.top&&(T=this.above[a]=!T);let O=(T?d.top-r.top:r.bottom-d.bottom)-x;if(O<v&&c.resize!==!1){if(O<this.view.defaultLineHeight){f.style.top=gg;continue}i3.set(c,v),f.style.height=(v=O)/s+"px"}else f.style.height&&(f.style.height="");let _=T?d.top-v-x-w.y:d.bottom+x+w.y,N=A+b;if(c.overlap!==!0)for(let F of o)F.left<N&&F.right>A&&F.top<_+v&&F.bottom>_&&(_=T?F.top-v-2-x:F.bottom+x+2);if(this.position=="absolute"?(f.style.top=(_-t.parent.top)/s+"px",s3(f,(A-t.parent.left)/i)):(f.style.top=_/s+"px",s3(f,A/i)),g){let F=d.left+(k?w.x:-w.x)-(A+14-7);g.style.left=F/i+"px"}c.overlap!==!0&&o.push({left:A,top:_,right:N,bottom:_+v}),f.classList.toggle("cm-tooltip-above",T),f.classList.toggle("cm-tooltip-below",!T),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=gg}},{eventObservers:{scroll(){this.maybeMeasure()}}});function s3(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const bae=lt.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),vae={x:0,y:0},qk=ut.define({enables:[Vk,bae]}),_1=ut.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class ob{static create(e){return new ob(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new nF(e,_1,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const wae=qk.compute([_1],t=>{let e=t.facet(_1);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:ob.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class Eae{constructor(e,n,r,i,s){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let i,s=1;if(r instanceof Ma)i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let a=e.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(f=>f.from<=i&&f.to>=i),c=l&&l.dir==ir.RTL?-1:1;s=n.x<a.left?-c:c}let o=this.source(e,i,s);if(o?.then){let a=this.pending={pos:i};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>ss(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(Vk),n=e?e.manager.tooltips.findIndex(r=>r.create==ob.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!Sae(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,a=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!Cae(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const xg=4;function Sae(t,e){let{left:n,right:r,top:i,bottom:s}=t.getBoundingClientRect(),o;if(o=t.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();i=Math.min(a.top,i),s=Math.max(a.bottom,s)}return e.clientX>=n-xg&&e.clientX<=r+xg&&e.clientY>=i-xg&&e.clientY<=s+xg}function Cae(t,e,n,r,i,s){let o=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function kae(t,e={}){let n=Ft.define(),r=bi.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of i){let l=s.changes.mapPos(a.pos,-1,zi.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=s.changes.mapPos(c.end)),o.push(c)}}i=o}for(let o of s.effects)o.is(n)&&(i=o.value),o.is(Aae)&&(i=[]);return i},provide:i=>_1.from(i)});return{active:r,extension:[r,wr.define(i=>new Eae(i,t,r,n,e.hoverTime||300)),wae]}}function rF(t,e){let n=t.plugin(Vk);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const Aae=Ft.define(),o3=ut.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function R0(t,e){let n=t.plugin(iF),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const iF=wr.fromClass(class{constructor(t){this.input=t.state.facet(B0),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(o3);this.top=new yg(t,!0,e.topContainer),this.bottom=new yg(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(o3);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new yg(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new yg(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(B0);if(n!=this.input){let r=n.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let c=this.specs.indexOf(l),f;c<0?(f=l(t.view),a.push(f)):(f=this.panels[c],f.update&&f.update(t)),i.push(f),(f.top?s:o).push(f)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>lt.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class yg{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=a3(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=a3(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function a3(t){let e=t.nextSibling;return t.remove(),e}const B0=ut.define({enables:iF});class qa extends ou{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}qa.prototype.elementClass="";qa.prototype.toDOM=void 0;qa.prototype.mapMode=zi.TrackBefore;qa.prototype.startSide=qa.prototype.endSide=-1;qa.prototype.point=!0;const Vx=ut.define(),Tae=ut.define(),_ae={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>sn.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},n0=ut.define();function Nae(t){return[sF(),n0.of({..._ae,...t})]}const l3=ut.define({combine:t=>t.some(e=>e)});function sF(t){return[Dae]}const Dae=wr.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(n0).map(e=>new u3(t,e)),this.fixed=!t.state.facet(l3);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(l3)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=sn.iter(this.view.state.facet(Vx),this.view.viewport.from),r=[],i=this.gutters.map(s=>new Oae(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==Ui.Text&&o){zS(n,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==Ui.Text){zS(n,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(n0),n=t.state.facet(n0),r=t.docChanged||t.heightChanged||t.viewportChanged||!sn.eq(t.startState.facet(Vx),t.state.facet(Vx),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let o=e.indexOf(s);o<0?i.push(new u3(this.view,s)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>lt.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==ir.LTR?{left:r,right:i}:{right:r,left:i}})});function c3(t){return Array.isArray(t)?t:[t]}function zS(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Oae{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=sn.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,s=(n.top-this.height)/e.scaleY,o=n.height/e.scaleY;if(this.i==i.elements.length){let a=new oF(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];zS(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let s of e.state.facet(Tae)){let o=s(e,n.widget,n);o&&(i||(i=[])).push(o)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class u3{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=c3(n.markers(e)),n.initialSpacer&&(this.spacer=new oF(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=c3(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!sn.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class oF{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),Mae(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,c=!1;if(l){let f=l.elementClass;f&&(r+=" "+f);for(let d=o;d<this.markers.length;d++)if(this.markers[d].compare(l)){a=d,c=!0;break}}else a=this.markers.length;for(;o<a;){let f=this.markers[o++];if(f.toDOM){f.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&o++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function Mae(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const Rae=ut.define(),Bae=ut.define(),Df=ut.define({combine(t){return sa(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],o=n[i];r[i]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return r}})}});class DE extends qa{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function OE(t,e){return t.state.facet(Df).formatNumber(e,t.state)}const Lae=n0.compute([Df],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Rae)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new DE(OE(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(Bae)){let s=i(e,n,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Df)!=e.state.facet(Df),initialSpacer(e){return new DE(OE(e,f3(e.state.doc.lines)))},updateSpacer(e,n){let r=OE(n.view,f3(n.view.state.doc.lines));return r==e.number?e:new DE(r)},domEventHandlers:t.facet(Df).domEventHandlers,side:"before"}));function Iae(t={}){return[Df.of(t),sF(),Lae]}function f3(t){let e=9;for(;e<t;)e=e*10+9;return e}const Fae=new class extends qa{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Pae=Vx.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Fae.range(i)))}return sn.of(e)});function zae(){return Pae}const aF=1024;let Hae=0;class ME{constructor(e,n){this.from=e,this.to=n}}class $t{constructor(e={}){this.id=Hae++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=co.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}$t.closedBy=new $t({deserialize:t=>t.split(" ")});$t.openedBy=new $t({deserialize:t=>t.split(" ")});$t.group=new $t({deserialize:t=>t.split(" ")});$t.isolate=new $t({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});$t.contextHash=new $t({perNode:!0});$t.lookAhead=new $t({perNode:!0});$t.mounted=new $t({perNode:!0});class N1{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[$t.mounted.id]}}const Uae=Object.create(null);let co=class lF{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):Uae,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new lF(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop($t.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop($t.group),s=-1;s<(i?i.length:0);s++){let o=n[s<0?r.name:i[s]];if(o)return o}}}};co.none=new co("",Object.create(null),0,8);class Wk{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);if(o){i||(i=Object.assign({},r.props));let a=o[1],l=o[0];l.combine&&l.id in i&&(a=l.combine(i[l.id],a)),i[l.id]=a}}n.push(i?new co(r.name,i,r.id,r.flags):r)}return new Wk(n)}}const bg=new WeakMap,h3=new WeakMap;var Vr;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Vr||(Vr={}));class Dr{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=N1.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new US(this.topNode,e)}cursorAt(e,n=0,r=0){let i=bg.get(this)||this.topNode,s=new US(i);return s.moveTo(e,n),bg.set(this,s._tree),s}get topNode(){return new so(this,0,0,null)}resolve(e,n=0){let r=L0(bg.get(this)||this.topNode,e,n,!1);return bg.set(this,r),r}resolveInner(e,n=0){let r=L0(h3.get(this)||this.topNode,e,n,!0);return h3.set(this,r),r}resolveStack(e,n=0){return Vae(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Vr.IncludeAnonymous)>0;for(let l=this.cursor(o|Vr.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:Xk(co.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Dr(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Dr(co.none,n,r,i)))}static build(e){return qae(e)}}Dr.empty=new Dr(co.none,[],[],0);class Gk{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Gk(this.buffer,this.index)}}class tc{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return co.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(cF(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new tc(s,o,this.set)}}function cF(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function L0(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof so&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=r?0:Vr.IgnoreOverlays;if(r)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof so&&o.index<0&&((i=a.enter(e,n,s))===null||i===void 0?void 0:i.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class uF{cursor(e=0){return new US(this,e)}getChild(e,n=null,r=null){let i=d3(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return d3(this,e,n,r)}resolve(e,n=0){return L0(this,e,n,!1)}resolveInner(e,n=0){return L0(this,e,n,!0)}matchContext(e){return HS(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class so extends uF{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=n>0?a.length:-1;e!=c;e+=n){let f=a[e],d=l[e]+o.from;if(cF(i,r,d,d+f.length)){if(f instanceof tc){if(s&Vr.ExcludeBuffers)continue;let p=f.findChild(0,f.buffer.length,n,r-d,i);if(p>-1)return new Ul(new jae(o,f,e,d),null,p)}else if(s&Vr.IncludeAnonymous||!f.type.isAnonymous||Kk(f)){let p;if(!(s&Vr.IgnoreMounts)&&(p=N1.get(f))&&!p.overlay)return new so(p.tree,d,e,o);let g=new so(f,d,e,o);return s&Vr.IncludeAnonymous||!g.type.isAnonymous?g:g.nextChild(n<0?f.children.length-1:0,n,r,i)}}}if(s&Vr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,n,r=0){let i;if(!(r&Vr.IgnoreOverlays)&&(i=N1.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new so(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function d3(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=i.type.is(n),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function HS(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class jae{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class Ul extends uF{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new Ul(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,n,r=0){if(r&Vr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new Ul(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Ul(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Ul(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),n.push(0)}return new Dr(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function fF(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let r=n instanceof so&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new $ae(i,n)}class $ae{constructor(e,n){this.heads=e,this.node=n}get next(){return fF(this.heads)}}function Vae(t,e,n){let r=t.resolveInner(e,n),i=null;for(let s=r instanceof so?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,n)),s=o}else{let o=N1.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new so(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(L0(a,e,n,!1))}}return i?fF(i):r}class US{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof so)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof so?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Vr.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Vr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Vr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Vr.IncludeAnonymous||a instanceof tc||!a.type.isAnonymous||Kk(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;n=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new Ul(this.buffer,n,this.stack[i]);return this.bufferNode=new Ul(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return HS(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return HS(this._tree,e,i);let o=r[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function Kk(t){return t.children.some(e=>e instanceof tc||!e.type.isAnonymous||Kk(e))}function qae(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=aF,reused:s=[],minRepeatType:o=r.types.length}=t,a=Array.isArray(n)?new Gk(n,n.length):n,l=r.types,c=0,f=0;function d(O,_,N,F,L,R){let{id:P,start:z,end:W,size:ee}=a,te=f,J=c;if(ee<0)if(a.next(),ee==-1){let U=s[P];N.push(U),F.push(z-O);return}else if(ee==-3){c=P;return}else if(ee==-4){f=P;return}else throw new RangeError(`Unrecognized record size: ${ee}`);let ae=l[P],ce,ve,q=z-O;if(W-z<=i&&(ve=v(a.pos-_,L))){let U=new Uint16Array(ve.size-ve.skip),M=a.pos-ve.size,D=U.length;for(;a.pos>M;)D=w(ve.start,U,D);ce=new tc(U,W-ve.start,r),q=ve.start-O}else{let U=a.pos-ee;a.next();let M=[],D=[],I=P>=o?P:-1,V=0,re=W;for(;a.pos>U;)I>=0&&a.id==I&&a.size>=0?(a.end<=re-i&&(x(M,D,z,V,a.end,re,I,te,J),V=M.length,re=a.end),a.next()):R>2500?p(z,U,M,D):d(z,U,M,D,I,R+1);if(I>=0&&V>0&&V<M.length&&x(M,D,z,V,z,re,I,te,J),M.reverse(),D.reverse(),I>-1&&V>0){let he=g(ae,J);ce=Xk(ae,M,D,0,M.length,0,W-z,he,he)}else ce=b(ae,M,D,W-z,te-W,J)}N.push(ce),F.push(q)}function p(O,_,N,F){let L=[],R=0,P=-1;for(;a.pos>_;){let{id:z,start:W,end:ee,size:te}=a;if(te>4)a.next();else{if(P>-1&&W<P)break;P<0&&(P=ee-i),L.push(z,W,ee),R++,a.next()}}if(R){let z=new Uint16Array(R*4),W=L[L.length-2];for(let ee=L.length-3,te=0;ee>=0;ee-=3)z[te++]=L[ee],z[te++]=L[ee+1]-W,z[te++]=L[ee+2]-W,z[te++]=te;N.push(new tc(z,L[2]-W,r)),F.push(W-O)}}function g(O,_){return(N,F,L)=>{let R=0,P=N.length-1,z,W;if(P>=0&&(z=N[P])instanceof Dr){if(!P&&z.type==O&&z.length==L)return z;(W=z.prop($t.lookAhead))&&(R=F[P]+z.length+W)}return b(O,N,F,L,R,_)}}function x(O,_,N,F,L,R,P,z,W){let ee=[],te=[];for(;O.length>F;)ee.push(O.pop()),te.push(_.pop()+N-L);O.push(b(r.types[P],ee,te,R-L,z-R,W)),_.push(L-N)}function b(O,_,N,F,L,R,P){if(R){let z=[$t.contextHash,R];P=P?[z].concat(P):[z]}if(L>25){let z=[$t.lookAhead,L];P=P?[z].concat(P):[z]}return new Dr(O,_,N,F,P)}function v(O,_){let N=a.fork(),F=0,L=0,R=0,P=N.end-i,z={size:0,start:0,skip:0};e:for(let W=N.pos-O;N.pos>W;){let ee=N.size;if(N.id==_&&ee>=0){z.size=F,z.start=L,z.skip=R,R+=4,F+=4,N.next();continue}let te=N.pos-ee;if(ee<0||te<W||N.start<P)break;let J=N.id>=o?4:0,ae=N.start;for(N.next();N.pos>te;){if(N.size<0)if(N.size==-3||N.size==-4)J+=4;else break e;else N.id>=o&&(J+=4);N.next()}L=ae,F+=ee,R+=J}return(_<0||F==O)&&(z.size=F,z.start=L,z.skip=R),z.size>4?z:void 0}function w(O,_,N){let{id:F,start:L,end:R,size:P}=a;if(a.next(),P>=0&&F<o){let z=N;if(P>4){let W=a.pos-(P-4);for(;a.pos>W;)N=w(O,_,N)}_[--N]=z,_[--N]=R-O,_[--N]=L-O,_[--N]=F}else P==-3?c=F:P==-4&&(f=F);return N}let k=[],A=[];for(;a.pos>0;)d(t.start||0,t.bufferStart||0,k,A,-1,0);let T=(e=t.length)!==null&&e!==void 0?e:k.length?A[0]+k[0].length:0;return new Dr(l[t.topID],k.reverse(),A.reverse(),T)}const p3=new WeakMap;function qx(t,e){if(!t.isAnonymous||e instanceof tc||e.type!=t)return 1;let n=p3.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Dr)){n=1;break}n+=qx(t,r)}p3.set(e,n)}return n}function Xk(t,e,n,r,i,s,o,a,l){let c=0;for(let x=r;x<i;x++)c+=qx(t,e[x]);let f=Math.ceil(c*1.5/8),d=[],p=[];function g(x,b,v,w,k){for(let A=v;A<w;){let T=A,O=b[A],_=qx(t,x[A]);for(A++;A<w;A++){let N=qx(t,x[A]);if(_+N>=f)break;_+=N}if(A==T+1){if(_>f){let N=x[T];g(N.children,N.positions,0,N.children.length,b[T]+k);continue}d.push(x[T])}else{let N=b[A-1]+x[A-1].length-O;d.push(Xk(t,x,b,T,A,O,N,null,l))}p.push(O+k-s)}}return g(e,n,r,i,0),(a||l)(d,p,o)}class Xc{constructor(e,n,r,i,s=!1,o=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new Xc(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let f=a<n.length?n[a]:null,d=f?f.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){let p=o;if(l>=p.from||d<=p.to||c){let g=Math.max(p.from,l)-c,x=Math.min(p.to,d)-c;p=g>=x?null:new Xc(g,x,p.tree,p.offset+c,a>0,!!f)}if(p&&i.push(p),o.to>d)break;o=s<e.length?e[s++]:null}if(!f)break;l=f.toA,c=f.toA-f.toB}return i}}class hF{startParse(e,n,r){return typeof e=="string"&&(e=new Wae(e)),r=r?r.length?r.map(i=>new ME(i.from,i.to)):[new ME(0,0)]:[new ME(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}}class Wae{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new $t({perNode:!0});let Gae=0;class eo{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=Gae++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof eo&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new eo(r,[],null,[]);if(i.set.push(i),n)for(let s of n.set)i.set.push(s);return i}static defineModifier(e){let n=new D1(e);return r=>r.modified.indexOf(n)>-1?r:D1.get(r.base||r,r.modified.concat(n).sort((i,s)=>i.id-s.id))}}let Kae=0;class D1{constructor(e){this.name=e,this.instances=[],this.id=Kae++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&Xae(n,a.modified));if(r)return r;let i=[],s=new eo(e.name,i,e,n);for(let a of n)a.instances.push(s);let o=Yae(n);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(D1.get(a,l));return s}}function Xae(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function Yae(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function dF(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],o=2,a=i;for(let d=0;;){if(a=="..."&&d>0&&d+3==i.length){o=1;break}let p=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!p)throw new RangeError("Invalid path: "+i);if(s.push(p[0]=="*"?"":p[0][0]=='"'?JSON.parse(p[0]):p[0]),d+=p[0].length,d==i.length)break;let g=i[d++];if(d==i.length&&g=="!"){o=0;break}if(g!="/")throw new RangeError("Invalid path: "+i);a=i.slice(d)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+i);let f=new I0(r,o,l>0?s.slice(0,l):null);e[c]=f.sort(e[c])}}return pF.add(e)}const pF=new $t({combine(t,e){let n,r,i;for(;t||e;){if(!t||e&&t.depth>=e.depth?(i=e,e=e.next):(i=t,t=t.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let s=new I0(i.tags,i.mode,i.context);n?n.next=s:r=s,n=s}return r}});class I0{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}I0.empty=new I0([],2,null);function mF(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let c=n[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:r}}function Qae(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function Jae(t,e,n,r=0,i=t.length){let s=new Zae(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class Zae{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=n)return;o.isTop&&(s=this.highlighters.filter(g=>!g.scope||g.scope(o)));let c=i,f=ele(e)||I0.empty,d=Qae(s,f.tags);if(d&&(c&&(c+=" "),c+=d,f.mode==1&&(i+=(i?" ":"")+d)),this.startSpan(Math.max(n,a),c),f.opaque)return;let p=e.tree&&e.tree.prop($t.mounted);if(p&&p.overlay){let g=e.node.enter(p.overlay[0].from+a,1),x=this.highlighters.filter(v=>!v.scope||v.scope(p.tree.type)),b=e.firstChild();for(let v=0,w=a;;v++){let k=v<p.overlay.length?p.overlay[v]:null,A=k?k.from+a:l,T=Math.max(n,w),O=Math.min(r,A);if(T<O&&b)for(;e.from<O&&(this.highlightRange(e,T,O,i,s),this.startSpan(Math.min(O,e.to),c),!(e.to>=A||!e.nextSibling())););if(!k||A>r)break;w=k.to+a,w>n&&(this.highlightRange(g.cursor(),Math.max(n,k.from+a),Math.min(r,w),"",x),this.startSpan(Math.min(r,w),c))}b&&e.parent()}else if(e.firstChild()){p&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function ele(t){let e=t.type.prop(pF);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const tt=eo.define,vg=tt(),Tl=tt(),m3=tt(Tl),g3=tt(Tl),_l=tt(),wg=tt(_l),RE=tt(_l),$o=tt(),Oc=tt($o),zo=tt(),Ho=tt(),jS=tt(),Cd=tt(jS),Eg=tt(),Se={comment:vg,lineComment:tt(vg),blockComment:tt(vg),docComment:tt(vg),name:Tl,variableName:tt(Tl),typeName:m3,tagName:tt(m3),propertyName:g3,attributeName:tt(g3),className:tt(Tl),labelName:tt(Tl),namespace:tt(Tl),macroName:tt(Tl),literal:_l,string:wg,docString:tt(wg),character:tt(wg),attributeValue:tt(wg),number:RE,integer:tt(RE),float:tt(RE),bool:tt(_l),regexp:tt(_l),escape:tt(_l),color:tt(_l),url:tt(_l),keyword:zo,self:tt(zo),null:tt(zo),atom:tt(zo),unit:tt(zo),modifier:tt(zo),operatorKeyword:tt(zo),controlKeyword:tt(zo),definitionKeyword:tt(zo),moduleKeyword:tt(zo),operator:Ho,derefOperator:tt(Ho),arithmeticOperator:tt(Ho),logicOperator:tt(Ho),bitwiseOperator:tt(Ho),compareOperator:tt(Ho),updateOperator:tt(Ho),definitionOperator:tt(Ho),typeOperator:tt(Ho),controlOperator:tt(Ho),punctuation:jS,separator:tt(jS),bracket:Cd,angleBracket:tt(Cd),squareBracket:tt(Cd),paren:tt(Cd),brace:tt(Cd),content:$o,heading:Oc,heading1:tt(Oc),heading2:tt(Oc),heading3:tt(Oc),heading4:tt(Oc),heading5:tt(Oc),heading6:tt(Oc),contentSeparator:tt($o),list:tt($o),quote:tt($o),emphasis:tt($o),strong:tt($o),link:tt($o),monospace:tt($o),strikethrough:tt($o),inserted:tt(),deleted:tt(),changed:tt(),invalid:tt(),meta:Eg,documentMeta:tt(Eg),annotation:tt(Eg),processingInstruction:tt(Eg),definition:eo.defineModifier("definition"),constant:eo.defineModifier("constant"),function:eo.defineModifier("function"),standard:eo.defineModifier("standard"),local:eo.defineModifier("local"),special:eo.defineModifier("special")};for(let t in Se){let e=Se[t];e instanceof eo&&(e.name=t)}mF([{tag:Se.link,class:"tok-link"},{tag:Se.heading,class:"tok-heading"},{tag:Se.emphasis,class:"tok-emphasis"},{tag:Se.strong,class:"tok-strong"},{tag:Se.keyword,class:"tok-keyword"},{tag:Se.atom,class:"tok-atom"},{tag:Se.bool,class:"tok-bool"},{tag:Se.url,class:"tok-url"},{tag:Se.labelName,class:"tok-labelName"},{tag:Se.inserted,class:"tok-inserted"},{tag:Se.deleted,class:"tok-deleted"},{tag:Se.literal,class:"tok-literal"},{tag:Se.string,class:"tok-string"},{tag:Se.number,class:"tok-number"},{tag:[Se.regexp,Se.escape,Se.special(Se.string)],class:"tok-string2"},{tag:Se.variableName,class:"tok-variableName"},{tag:Se.local(Se.variableName),class:"tok-variableName tok-local"},{tag:Se.definition(Se.variableName),class:"tok-variableName tok-definition"},{tag:Se.special(Se.variableName),class:"tok-variableName2"},{tag:Se.definition(Se.propertyName),class:"tok-propertyName tok-definition"},{tag:Se.typeName,class:"tok-typeName"},{tag:Se.namespace,class:"tok-namespace"},{tag:Se.className,class:"tok-className"},{tag:Se.macroName,class:"tok-macroName"},{tag:Se.propertyName,class:"tok-propertyName"},{tag:Se.operator,class:"tok-operator"},{tag:Se.comment,class:"tok-comment"},{tag:Se.meta,class:"tok-meta"},{tag:Se.invalid,class:"tok-invalid"},{tag:Se.punctuation,class:"tok-punctuation"}]);var BE;const Of=new $t;function tle(t){return ut.define({combine:t?e=>e.concat(t):void 0})}const nle=new $t;class Eo{constructor(e,n,r=[],i=""){this.data=e,this.name=i,lr.prototype.hasOwnProperty("tree")||Object.defineProperty(lr.prototype,"tree",{get(){return Zr(this)}}),this.parser=n,this.extension=[nc.of(this),lr.languageData.of((s,o,a)=>{let l=x3(s,o,a),c=l.type.prop(Of);if(!c)return[];let f=s.facet(c),d=l.type.prop(nle);if(d){let p=l.resolve(o-l.from,a);for(let g of d)if(g.test(p,s)){let x=s.facet(g.facet);return g.type=="replace"?x:x.concat(f)}}return f})].concat(r)}isActiveAt(e,n,r=-1){return x3(e,n,r).type.prop(Of)==this.data}findRegions(e){let n=e.facet(nc);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Of)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop($t.mounted);if(a){if(a.tree.prop(Of)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Dr&&i(c,s.positions[l]+o)}};return i(Zr(e),0),r}get allowsNesting(){return!0}}Eo.setState=Ft.define();function x3(t,e,n){let r=t.facet(nc),i=Zr(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,Vr.ExcludeBuffers))s.type.isTop&&(i=s);return i}class O1 extends Eo{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=tle(e.languageData);return new O1(n,e.parser.configure({props:[Of.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new O1(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Zr(t){let e=t.field(Eo.state,!1);return e?e.tree:Dr.empty}class rle{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let kd=null,ile=class $S{constructor(e,n,r=[],i,s,o,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new $S(e,n,[],Dr.empty,0,r,[],null)}startParse(){return this.parser.startParse(new rle(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Dr.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Xc.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Xc.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=kd;kd=this;try{return e()}finally{kd=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=y3(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,f,d,p)=>l.push({fromA:c,toA:f,fromB:d,toB:p})),r=Xc.applyChanges(r,l),i=Dr.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let f=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);f<d&&a.push({from:f,to:d})}}}return new $S(this.parser,n,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=y3(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends hF{createParse(n,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=kd;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Dr(co.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return kd}};function y3(t,e,n){return Xc.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class th{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new th(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=ile.create(e.facet(nc).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new th(r)}}Eo.state=bi.define({create:th.init,update(t,e){for(let n of e.effects)if(n.is(Eo.setState))return n.value;return e.startState.facet(nc)!=e.state.facet(nc)?th.init(e.state):t.apply(e)}});let gF=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(gF=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const LE=typeof navigator<"u"&&(!((BE=navigator.scheduling)===null||BE===void 0)&&BE.isInputPending)?()=>navigator.scheduling.isInputPending():null,sle=wr.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Eo.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Eo.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=gF(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Eo.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!LE?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>LE&&LE()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Eo.setState.of(new th(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>ss(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),nc=ut.define({combine(t){return t.length?t[0]:null},enables:t=>[Eo.state,sle,lt.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class ole{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const ale=ut.define(),ab=ut.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function M1(t){let e=t.facet(ab);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function F0(t,e){let n="",r=t.tabSize,i=t.facet(ab)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let s=0;s<e;s++)n+=i;return n}function Yk(t,e){t instanceof lr&&(t=new lb(t));for(let r of t.state.facet(ale)){let i=r(t,e);if(i!==void 0)return i}let n=Zr(t.state);return n.length>=e?lle(t,n,e):null}class lb{constructor(e,n={}){this.state=e,this.options=n,this.unit=M1(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return gh(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const xF=new $t;function lle(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from<r.node.from||o.to>r.node.to||o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return yF(r,t,n)}function yF(t,e,n){for(let r=t;r;r=r.next){let i=ule(r.node);if(i)return i(Qk.create(e,n,r))}return 0}function cle(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function ule(t){let e=t.type.prop(xF);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop($t.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>ple(o,!0,1,void 0,s&&!cle(o)?i.from:void 0)}return t.parent==null?fle:null}function fle(){return 0}class Qk extends lb{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new Qk(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(hle(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return yF(this.context.next,this.base,this.pos)}}function hle(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function dle(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+c}}a=l.to}}function ple(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==t.pos+o,l=dle(t);return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}function mle({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const gle=200;function xle(){return lr.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+gle)return t;let s=n.sliceString(i.from,r);if(!e.some(c=>c.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:c}of o.selection.ranges){let f=o.doc.lineAt(c);if(f.from==a)continue;a=f.from;let d=Yk(o,f.from);if(d==null)continue;let p=/^\s*/.exec(f.text)[0],g=F0(o,d);p!=g&&l.push({from:f.from,to:f.from+p.length,insert:g})}return l.length?[t,{changes:l,sequential:!0}]:t})}const yle=ut.define(),bF=new $t;function ble(t,e,n){let r=Zr(t);if(r.length<n)return null;let i=r.resolveStack(n,1),s=null;for(let o=i;o;o=o.next){let a=o.node;if(a.to<=n||a.from>n)continue;if(s&&a.from<e)break;let l=a.type.prop(bF);if(l&&(a.to<r.length-50||r.length==t.doc.length||!vle(a))){let c=l(a,t);c&&c.from<=n&&c.from>=e&&c.to>n&&(s=c)}}return s}function vle(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function R1(t,e,n){for(let r of t.facet(yle)){let i=r(t,e,n);if(i)return i}return ble(t,e,n)}function vF(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const cb=Ft.define({map:vF}),wp=Ft.define({map:vF});function wF(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const uu=bi.define({create(){return wt.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>t=b3(t,n,r)),t=t.map(e.changes);for(let n of e.effects)if(n.is(cb)&&!wle(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(CF),i=r?wt.replace({widget:new _le(r(e.state,n.value))}):v3;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(wp)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(t=b3(t,e.selection.main.head)),t},provide:t=>lt.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(v3.range(r,i))}return wt.set(e,!0)}});function b3(t,e,n=e){let r=!1;return t.between(e,n,(i,s)=>{i<n&&s>e&&(r=!0)}),r?t.update({filterFrom:e,filterTo:n,filter:(i,s)=>i>=n||s<=e}):t}function B1(t,e,n){var r;let i=null;return(r=t.field(uu,!1))===null||r===void 0||r.between(e,n,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function wle(t,e,n){let r=!1;return t.between(e,e,(i,s)=>{i==e&&s==n&&(r=!0)}),r}function EF(t,e){return t.field(uu,!1)?e:e.concat(Ft.appendConfig.of(kF()))}const Ele=t=>{for(let e of wF(t)){let n=R1(t.state,e.from,e.to);if(n)return t.dispatch({effects:EF(t.state,[cb.of(n),SF(t,n)])}),!0}return!1},Sle=t=>{if(!t.state.field(uu,!1))return!1;let e=[];for(let n of wF(t)){let r=B1(t.state,n.from,n.to);r&&e.push(wp.of(r),SF(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function SF(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return lt.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const Cle=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=R1(e,i.from,i.to);s&&n.push(cb.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:EF(t.state,n)}),!!n.length},kle=t=>{let e=t.state.field(uu,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(wp.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},Ale=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Ele},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Sle},{key:"Ctrl-Alt-[",run:Cle},{key:"Ctrl-Alt-]",run:kle}],Tle={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},CF=ut.define({combine(t){return sa(t,Tle)}});function kF(t){return[uu,Ole]}function AF(t,e){let{state:n}=t,r=n.facet(CF),i=o=>{let a=t.lineBlockAt(t.posAtDOM(o.target)),l=B1(t.state,a.from,a.to);l&&t.dispatch({effects:wp.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const v3=wt.replace({widget:new class extends Ka{toDOM(t){return AF(t,null)}}});class _le extends Ka{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return AF(e,this.value)}}const Nle={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class IE extends qa{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function Dle(t={}){let e={...Nle,...t},n=new IE(e,!0),r=new IE(e,!1),i=wr.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(nc)!=o.state.facet(nc)||o.startState.field(uu,!1)!=o.state.field(uu,!1)||Zr(o.startState)!=Zr(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new ja;for(let l of o.viewportLineBlocks){let c=B1(o.state,l.from,l.to)?r:R1(o.state,l.from,l.to)?n:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[i,Nae({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||sn.empty},initialSpacer(){return new IE(e,!1)},domEventHandlers:{...s,click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=B1(o.state,a.from,a.to);if(c)return o.dispatch({effects:wp.of(c)}),!0;let f=R1(o.state,a.from,a.to);return f?(o.dispatch({effects:cb.of(f)}),!0):!1}}}),kF()]}const Ole=lt.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Ep{constructor(e,n){this.specs=e;let r;function i(a){let l=Zl.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof Eo?a=>a.prop(Of)==o.data:o?a=>a==o:void 0,this.style=mF(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Zl(r):null,this.themeType=n.themeType}static define(e,n){return new Ep(e,n||{})}}const VS=ut.define(),TF=ut.define({combine(t){return t.length?[t[0]]:null}});function FE(t){let e=t.facet(VS);return e.length?e:t.facet(TF)}function _F(t,e){let n=[Rle],r;return t instanceof Ep&&(t.module&&n.push(lt.styleModule.of(t.module)),r=t.themeType),e?.fallback?n.push(TF.of(t)):r?n.push(VS.computeN([lt.darkTheme],i=>i.facet(lt.darkTheme)==(r=="dark")?[t]:[])):n.push(VS.of(t)),n}class Mle{constructor(e){this.markCache=Object.create(null),this.tree=Zr(e.state),this.decorations=this.buildDeco(e,FE(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=Zr(e.state),r=FE(e.state),i=r!=FE(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!i&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return wt.none;let r=new ja;for(let{from:i,to:s}of e.visibleRanges)Jae(this.tree,n,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=wt.mark({class:l})))},i,s);return r.finish()}}const Rle=Au.high(wr.fromClass(Mle,{decorations:t=>t.decorations})),Ble=Ep.define([{tag:Se.meta,color:"#404740"},{tag:Se.link,textDecoration:"underline"},{tag:Se.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Se.emphasis,fontStyle:"italic"},{tag:Se.strong,fontWeight:"bold"},{tag:Se.strikethrough,textDecoration:"line-through"},{tag:Se.keyword,color:"#708"},{tag:[Se.atom,Se.bool,Se.url,Se.contentSeparator,Se.labelName],color:"#219"},{tag:[Se.literal,Se.inserted],color:"#164"},{tag:[Se.string,Se.deleted],color:"#a11"},{tag:[Se.regexp,Se.escape,Se.special(Se.string)],color:"#e40"},{tag:Se.definition(Se.variableName),color:"#00f"},{tag:Se.local(Se.variableName),color:"#30a"},{tag:[Se.typeName,Se.namespace],color:"#085"},{tag:Se.className,color:"#167"},{tag:[Se.special(Se.variableName),Se.macroName],color:"#256"},{tag:Se.definition(Se.propertyName),color:"#00c"},{tag:Se.comment,color:"#940"},{tag:Se.invalid,color:"#f00"}]),Lle=lt.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),NF=1e4,DF="()[]{}",OF=ut.define({combine(t){return sa(t,{afterCursor:!0,brackets:DF,maxScanDistance:NF,renderMatch:Ple})}}),Ile=wt.mark({class:"cm-matchingBracket"}),Fle=wt.mark({class:"cm-nonmatchingBracket"});function Ple(t){let e=[],n=t.matched?Ile:Fle;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const zle=bi.define({create(){return wt.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(OF);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=Qo(e.state,i.head,-1,r)||i.head>0&&Qo(e.state,i.head-1,1,r)||r.afterCursor&&(Qo(e.state,i.head,1,r)||i.head<e.state.doc.length&&Qo(e.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,e.state)))}return wt.set(n,!0)},provide:t=>lt.decorations.from(t)}),Hle=[zle,Lle];function Ule(t={}){return[OF.of(t),Hle]}const jle=new $t;function qS(t,e,n){let r=t.prop(e<0?$t.openedBy:$t.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function WS(t){let e=t.type.prop(jle);return e?e(t.node):t}function Qo(t,e,n,r={}){let i=r.maxScanDistance||NF,s=r.brackets||DF,o=Zr(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let c=qS(l.type,n,s);if(c&&l.from<l.to){let f=WS(l);if(f&&(n>0?e>=f.from&&e<f.to:e>f.from&&e<=f.to))return $le(t,e,n,l,f,c,s)}}return Vle(t,e,n,o,a.type,i,s)}function $le(t,e,n,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},c=0,f=a?.cursor();if(f&&(n<0?f.childBefore(r.from):f.childAfter(r.to)))do if(n<0?f.to<=r.from:f.from>=r.to){if(c==0&&s.indexOf(f.type.name)>-1&&f.from<f.to){let d=WS(f);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(qS(f.type,n,o))c++;else if(qS(f.type,-n,o)){if(c==0){let d=WS(f);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}c--}}while(n<0?f.prevSibling():f.nextSibling());return{start:l,matched:!1}}function Vle(t,e,n,r,i,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},f=t.doc.iterRange(e,n>0?t.doc.length:0),d=0;for(let p=0;!f.next().done&&p<=s;){let g=f.value;n<0&&(p+=g.length);let x=e+p*n;for(let b=n>0?0:g.length-1,v=n>0?g.length:-1;b!=v;b+=n){let w=o.indexOf(g[b]);if(!(w<0||r.resolveInner(x+b,1).type!=i))if(w%2==0==n>0)d++;else{if(d==1)return{start:c,end:{from:x+b,to:x+b+1},matched:w>>1==l>>1};d--}}n>0&&(p+=g.length)}return f.done?{start:c,matched:!1}:null}const qle=Object.create(null),w3=[co.none],E3=[],S3=Object.create(null),Wle=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Wle[t]=Gle(qle,e);function PE(t,e){E3.indexOf(t)>-1||(E3.push(t),console.warn(e))}function Gle(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let f=t[c]||Se[c];f?typeof f=="function"?l.length?l=l.map(f):PE(c,`Modifier ${c} used at start of tag`):l.length?PE(c,`Tag ${c} used as modifier`):l=Array.isArray(f)?f:[f]:PE(c,`Unknown highlighting tag ${c}`)}for(let c of l)n.push(c)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),s=S3[i];if(s)return s.id;let o=S3[i]=co.define({id:w3.length,name:r,props:[dF({[r]:n})]});return w3.push(o),o.id}ir.RTL,ir.LTR;const Kle=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=Zk(t.state,n.from);return r.line?Xle(t):r.block?Qle(t):!1};function Jk(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const Xle=Jk(ece,0),Yle=Jk(MF,0),Qle=Jk((t,e)=>MF(t,e,Zle(e)),0);function Zk(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const Ad=50;function Jle(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-Ad,r),o=t.sliceDoc(i,i+Ad),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let f,d;i-r<=2*Ad?f=d=t.sliceDoc(r,i):(f=t.sliceDoc(r,r+Ad),d=t.sliceDoc(i-Ad,i));let p=/^\s*/.exec(f)[0].length,g=/\s*$/.exec(d)[0].length,x=d.length-g-n.length;return f.slice(p,p+e.length)==e&&d.slice(x,x+n.length)==n?{open:{pos:r+p+e.length,margin:/\s/.test(f.charAt(p+e.length))?1:0},close:{pos:i-g-n.length,margin:/\s/.test(d.charAt(x-1))?1:0}}:null}function Zle(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function MF(t,e,n=e.selection.ranges){let r=n.map(s=>Zk(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,o)=>Jle(e,r[o],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:c,close:f}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:f.pos-f.margin,to:f.pos+l.close.length})}return{changes:s}}return null}function ece(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of n){let a=r.length,l=1e9,c=Zk(e,s).line;if(c){for(let f=s;f<=o;){let d=e.doc.lineAt(f);if(d.from>i&&(s==o||o>d.from)){i=d.from;let p=/^\s*/.exec(d.text)[0].length,g=p==d.length,x=d.text.slice(p,p+c.length)==c?p:-1;p<d.text.length&&p<l&&(l=p),r.push({line:d,comment:x,token:c,indent:p,empty:g,single:!1})}f=d.to+1}if(l<1e9)for(let f=a;f<r.length;f++)r[f].indent<r[f].line.text.length&&(r[f].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:f,single:d}of r)(d||!f)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let c=o.from+a,f=c+l.length;o.text[f-o.from]==" "&&f++,s.push({from:c,to:f})}return{changes:s}}return null}const GS=ia.define(),tce=ia.define(),nce=ut.define(),RF=ut.define({combine(t){return sa(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),BF=bi.define({create(){return r0.empty},update(t,e){let n=e.state.facet(RF),r=e.annotation(GS);if(r){let l=as.fromTransaction(e,r.selection),c=r.side,f=c==0?t.undone:t.done;return l?f=L1(f,f.length,n.minDepth,l):f=FF(f,e.startState.selection),new r0(c==0?r.rest:f,c==0?f:r.rest)}let i=e.annotation(tce);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(cs.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=as.fromTransaction(e),o=e.annotation(cs.time),a=e.annotation(cs.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new r0(t.done.map(as.fromJSON),t.undone.map(as.fromJSON))}});function rce(t={}){return[BF,RF.of(t),lt.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?LF:e.inputType=="historyRedo"?KS:null;return r?(e.preventDefault(),r(n)):!1}})]}function ub(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(BF,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const LF=ub(0,!1),KS=ub(1,!1),ice=ub(0,!0),sce=ub(1,!0);class as{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new as(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new as(e.changes&&Pr.fromJSON(e.changes),[],e.mapped&&Jo.fromJSON(e.mapped),e.startSelection&&Re.fromJSON(e.startSelection),e.selectionsAfter.map(Re.fromJSON))}static fromTransaction(e,n){let r=no;for(let i of e.startState.facet(nce)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new as(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,no)}static selection(e){return new as(void 0,no,void 0,void 0,e)}}function L1(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function oce(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<n.length;){let c=n[l++],f=n[l++];a>=c&&o<=f&&(r=!0)}}),r}function ace(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function IF(t,e){return t.length?e.length?t.concat(e):t:e}const no=[],lce=200;function FF(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-lce));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),L1(t,t.length-1,1e9,n.setSelAfter(r)))}else return[as.selection([e])]}function cce(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function zE(t,e){if(!t.length)return t;let n=t.length,r=no;for(;n;){let i=uce(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[as.selection(r)]:no}function uce(t,e,n){let r=IF(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):no,n);if(!t.changes)return as.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new as(i,Ft.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const fce=/^(input\.type|delete)($|\.)/;let r0=class Fd{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Fd(this.done,this.undone):this}addChanges(e,n,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||fce.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,oce(a.changes,e.changes))||r=="input.type.compose")?o=L1(o,o.length-1,i.minDepth,new as(e.changes.compose(a.changes),IF(Ft.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,no)):o=L1(o,o.length,i.minDepth,e),new Fd(o,no,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:no;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&ace(s[s.length-1],e)?this:new Fd(FF(this.done,e),this.undone,n,r)}addMapping(e){return new Fd(zE(this.done,e),zE(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||n.selection;if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:GS.of({side:e,rest:cce(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?no:i.slice(0,i.length-1);return s.mapped&&(a=zE(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:GS.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}};r0.empty=new r0(no,no);const hce=[{key:"Mod-z",run:LF,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:KS,preventDefault:!0},{linux:"Ctrl-Shift-z",run:KS,preventDefault:!0},{key:"Mod-u",run:ice,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:sce,preventDefault:!0}];function xh(t,e){return Re.create(t.ranges.map(e),t.mainIndex)}function Oo(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Mo({state:t,dispatch:e},n){let r=xh(t.selection,n);return r.eq(t.selection,!0)?!1:(e(Oo(t,r)),!0)}function fb(t,e){return Re.cursor(e?t.to:t.from)}function PF(t,e){return Mo(t,n=>n.empty?t.moveByChar(n,e):fb(n,e))}function Oi(t){return t.textDirectionAt(t.state.selection.main.head)==ir.LTR}const zF=t=>PF(t,!Oi(t)),HF=t=>PF(t,Oi(t));function UF(t,e){return Mo(t,n=>n.empty?t.moveByGroup(n,e):fb(n,e))}const dce=t=>UF(t,!Oi(t)),pce=t=>UF(t,Oi(t));function mce(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function hb(t,e,n){let r=Zr(t).resolveInner(e.head),i=n?$t.closedBy:$t.openedBy;for(let l=e.head;;){let c=n?r.childAfter(l):r.childBefore(l);if(!c)break;mce(t,c,i)?r=c:l=n?c.to:c.from}let s=r.type.prop(i),o,a;return s&&(o=n?Qo(t,r.from,1):Qo(t,r.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?r.to:r.from,Re.cursor(a,n?-1:1)}const gce=t=>Mo(t,e=>hb(t.state,e,!Oi(t))),xce=t=>Mo(t,e=>hb(t.state,e,Oi(t)));function jF(t,e){return Mo(t,n=>{if(!n.empty)return fb(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const $F=t=>jF(t,!1),VF=t=>jF(t,!0);function qF(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(lt.scrollMargins)){let o=s(t);o?.top&&(n=Math.max(o?.top,n)),o?.bottom&&(r=Math.max(o?.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function WF(t,e){let n=qF(t),{state:r}=t,i=xh(r.selection,o=>o.empty?t.moveVertically(o,e,n.height):fb(o,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<c&&(s=lt.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(Oo(r,i),{effects:s}),!0}const C3=t=>WF(t,!1),XS=t=>WF(t,!0);function cc(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=Re.cursor(r.from+s))}return i}const yce=t=>Mo(t,e=>cc(t,e,!0)),bce=t=>Mo(t,e=>cc(t,e,!1)),vce=t=>Mo(t,e=>cc(t,e,!Oi(t))),wce=t=>Mo(t,e=>cc(t,e,Oi(t))),Ece=t=>Mo(t,e=>Re.cursor(t.lineBlockAt(e.head).from,1)),Sce=t=>Mo(t,e=>Re.cursor(t.lineBlockAt(e.head).to,-1));function Cce(t,e,n){let r=!1,i=xh(t.selection,s=>{let o=Qo(t,s.head,-1)||Qo(t,s.head,1)||s.head>0&&Qo(t,s.head-1,1)||s.head<t.doc.length&&Qo(t,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return Re.cursor(a)});return r?(e(Oo(t,i)),!0):!1}const kce=({state:t,dispatch:e})=>Cce(t,e);function fo(t,e){let n=xh(t.state.selection,r=>{let i=e(r);return Re.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Oo(t.state,n)),!0)}function GF(t,e){return fo(t,n=>t.moveByChar(n,e))}const KF=t=>GF(t,!Oi(t)),XF=t=>GF(t,Oi(t));function YF(t,e){return fo(t,n=>t.moveByGroup(n,e))}const Ace=t=>YF(t,!Oi(t)),Tce=t=>YF(t,Oi(t)),_ce=t=>fo(t,e=>hb(t.state,e,!Oi(t))),Nce=t=>fo(t,e=>hb(t.state,e,Oi(t)));function QF(t,e){return fo(t,n=>t.moveVertically(n,e))}const JF=t=>QF(t,!1),ZF=t=>QF(t,!0);function eP(t,e){return fo(t,n=>t.moveVertically(n,e,qF(t).height))}const k3=t=>eP(t,!1),A3=t=>eP(t,!0),Dce=t=>fo(t,e=>cc(t,e,!0)),Oce=t=>fo(t,e=>cc(t,e,!1)),Mce=t=>fo(t,e=>cc(t,e,!Oi(t))),Rce=t=>fo(t,e=>cc(t,e,Oi(t))),Bce=t=>fo(t,e=>Re.cursor(t.lineBlockAt(e.head).from)),Lce=t=>fo(t,e=>Re.cursor(t.lineBlockAt(e.head).to)),T3=({state:t,dispatch:e})=>(e(Oo(t,{anchor:0})),!0),_3=({state:t,dispatch:e})=>(e(Oo(t,{anchor:t.doc.length})),!0),N3=({state:t,dispatch:e})=>(e(Oo(t,{anchor:t.selection.main.anchor,head:0})),!0),D3=({state:t,dispatch:e})=>(e(Oo(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),Ice=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),Fce=({state:t,dispatch:e})=>{let n=db(t).map(({from:r,to:i})=>Re.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:Re.create(n),userEvent:"select"})),!0},Pce=({state:t,dispatch:e})=>{let n=xh(t.selection,r=>{let i=Zr(t),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return Re.range(a.to,a.from)}return r});return n.eq(t.selection)?!1:(e(Oo(t,n)),!0)};function tP(t,e){let{state:n}=t,r=n.selection,i=n.selection.ranges.slice();for(let s of n.selection.ranges){let o=n.doc.lineAt(s.head);if(e?o.to<t.state.doc.length:o.from>0)for(let a=s;;){let l=t.moveVertically(a,e);if(l.head<o.from||l.head>o.to){i.some(c=>c.head==l.head)||i.push(l);break}else{if(l.head==a.head)break;a=l}}}return i.length==r.ranges.length?!1:(t.dispatch(Oo(n,Re.create(i,i.length-1))),!0)}const zce=t=>tP(t,!1),Hce=t=>tP(t,!0),Uce=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Re.create([n.main]):n.main.empty||(r=Re.create([Re.cursor(n.main.head)])),r?(e(Oo(t,r)),!0):!1};function Sp(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=Sg(t,l,!1)):l>o&&(n="delete.forward",l=Sg(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=Sg(t,o,!1),a=Sg(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:Re.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?lt.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Sg(t,e,n){if(t instanceof lt)for(let r of t.state.facet(lt.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const nP=(t,e,n)=>Sp(t,r=>{let i=r.from,{state:s}=t,o=s.doc.lineAt(i),a,l;if(n&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let c=gh(a,s.tabSize),f=c%M1(s)||M1(s);for(let d=0;d<f&&a[a.length-1-d]==" ";d++)i--;l=i}else l=gi(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=gi(o.text,l-o.from,!1,!1)+o.from);return l}),YS=t=>nP(t,!1,!0),rP=t=>nP(t,!0,!1),iP=(t,e)=>Sp(t,n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=gi(s.text,r-s.from,e)+s.from,c=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),f=o(c);if(a!=null&&f!=a)break;(c!=" "||r!=n.head)&&(a=f),r=l}return r}),sP=t=>iP(t,!1),jce=t=>iP(t,!0),$ce=t=>Sp(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),Vce=t=>Sp(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),qce=t=>Sp(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),Wce=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:yn.of(["",""])},range:Re.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},Gce=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),o=i==s.from?i-1:gi(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:gi(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(o,i))},range:Re.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function db(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function oP(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of db(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)i.push(Re.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)i.push(Re.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:Re.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Kce=({state:t,dispatch:e})=>oP(t,e,!1),Xce=({state:t,dispatch:e})=>oP(t,e,!0);function aP(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of db(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Yce=({state:t,dispatch:e})=>aP(t,e,!1),Qce=({state:t,dispatch:e})=>aP(t,e,!0),Jce=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(db(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=xh(e.selection,i=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,s)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Zce(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Zr(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop($t.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const O3=lP(!1),eue=lP(!0);function lP(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!t&&s==o&&Zce(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new lb(e,{simulateBreak:s,simulateDoubleBreak:!!l}),f=Yk(c,s);for(f==null&&(f=gh(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let d=["",F0(e,f)];return l&&d.push(F0(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:yn.of(d)},range:Re.cursor(s+1+d[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function eA(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=t.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),o=a.to+1}let s=t.changes(i);return{changes:i,range:Re.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const tue=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new lb(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),i=eA(t,(s,o,a)=>{let l=Yk(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],f=F0(t,l);(c!=f||a.from<s.from+c.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:f}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},cP=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(eA(t,(n,r)=>{r.push({from:n.from,insert:t.facet(ab)})}),{userEvent:"input.indent"})),!0),uP=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(eA(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=gh(i,t.tabSize),o=0,a=F0(t,Math.max(0,s-M1(t)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:n.from+o,to:n.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),nue=t=>(t.setTabFocusMode(),!0),rue=[{key:"Ctrl-b",run:zF,shift:KF,preventDefault:!0},{key:"Ctrl-f",run:HF,shift:XF},{key:"Ctrl-p",run:$F,shift:JF},{key:"Ctrl-n",run:VF,shift:ZF},{key:"Ctrl-a",run:Ece,shift:Bce},{key:"Ctrl-e",run:Sce,shift:Lce},{key:"Ctrl-d",run:rP},{key:"Ctrl-h",run:YS},{key:"Ctrl-k",run:$ce},{key:"Ctrl-Alt-h",run:sP},{key:"Ctrl-o",run:Wce},{key:"Ctrl-t",run:Gce},{key:"Ctrl-v",run:XS}],iue=[{key:"ArrowLeft",run:zF,shift:KF,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:dce,shift:Ace,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:vce,shift:Mce,preventDefault:!0},{key:"ArrowRight",run:HF,shift:XF,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:pce,shift:Tce,preventDefault:!0},{mac:"Cmd-ArrowRight",run:wce,shift:Rce,preventDefault:!0},{key:"ArrowUp",run:$F,shift:JF,preventDefault:!0},{mac:"Cmd-ArrowUp",run:T3,shift:N3},{mac:"Ctrl-ArrowUp",run:C3,shift:k3},{key:"ArrowDown",run:VF,shift:ZF,preventDefault:!0},{mac:"Cmd-ArrowDown",run:_3,shift:D3},{mac:"Ctrl-ArrowDown",run:XS,shift:A3},{key:"PageUp",run:C3,shift:k3},{key:"PageDown",run:XS,shift:A3},{key:"Home",run:bce,shift:Oce,preventDefault:!0},{key:"Mod-Home",run:T3,shift:N3},{key:"End",run:yce,shift:Dce,preventDefault:!0},{key:"Mod-End",run:_3,shift:D3},{key:"Enter",run:O3,shift:O3},{key:"Mod-a",run:Ice},{key:"Backspace",run:YS,shift:YS,preventDefault:!0},{key:"Delete",run:rP,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:sP,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:jce,preventDefault:!0},{mac:"Mod-Backspace",run:Vce,preventDefault:!0},{mac:"Mod-Delete",run:qce,preventDefault:!0}].concat(rue.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),sue=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:gce,shift:_ce},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:xce,shift:Nce},{key:"Alt-ArrowUp",run:Kce},{key:"Shift-Alt-ArrowUp",run:Yce},{key:"Alt-ArrowDown",run:Xce},{key:"Shift-Alt-ArrowDown",run:Qce},{key:"Mod-Alt-ArrowUp",run:zce},{key:"Mod-Alt-ArrowDown",run:Hce},{key:"Escape",run:Uce},{key:"Mod-Enter",run:eue},{key:"Alt-l",mac:"Ctrl-l",run:Fce},{key:"Mod-i",run:Pce,preventDefault:!0},{key:"Mod-[",run:uP},{key:"Mod-]",run:cP},{key:"Mod-Alt-\\",run:tue},{key:"Shift-Mod-k",run:Jce},{key:"Shift-Mod-\\",run:kce},{key:"Mod-/",run:Kle},{key:"Alt-A",run:Yle},{key:"Ctrl-m",mac:"Shift-Alt-m",run:nue}].concat(iue),oue={key:"Tab",run:cP,shift:uP},M3=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class nh{constructor(e,n,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(M3(a)):M3,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ns(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=Ok(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Xo(e);let i=this.normalize(n);if(i.length)for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(nh.prototype[Symbol.iterator]=function(){return this});const fP={from:-1,to:-1,match:/.*/.exec("")},tA="gm"+(/x/.unicode==null?"":"u");class hP{constructor(e,n,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=fP,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new dP(e,n,r,i,s);this.re=new RegExp(n,tA+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=I1(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=I1(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const HE=new WeakMap;class jf{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=HE.get(e);if(!i||i.from>=r||i.to<=n){let a=new jf(n,e.sliceString(n,r));return HE.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:s,from:o}=i;return o>n&&(s=e.sliceString(n,o)+s,o=n),i.to<r&&(s+=e.sliceString(i.to,r)),HE.set(e,new jf(o,s)),new jf(n,s.slice(n-o,r-o))}}class dP{constructor(e,n,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=fP,this.matchPos=I1(e,i),this.re=new RegExp(n,tA+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=jf.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=I1(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=jf.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(hP.prototype[Symbol.iterator]=dP.prototype[Symbol.iterator]=function(){return this});function aue(t){try{return new RegExp(t,tA),!0}catch{return!1}}function I1(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function QS(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=Fn("input",{class:"cm-textfield",name:"line",value:e}),r=Fn("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),t.dispatch({effects:i0.of(!1)}),t.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},Fn("label",t.state.phrase("Go to line"),": ",n)," ",Fn("button",{class:"cm-button",type:"submit"},t.state.phrase("go")),Fn("button",{name:"close",onclick:()=>{t.dispatch({effects:i0.of(!1)}),t.focus()},"aria-label":t.state.phrase("close"),type:"button"},[""]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:o}=t,a=o.doc.lineAt(o.selection.main.head),[,l,c,f,d]=s,p=f?+f.slice(1):0,g=c?+c:a.number;if(c&&d){let v=g/100;l&&(v=v*(l=="-"?-1:1)+a.number/o.doc.lines),g=Math.round(o.doc.lines*v)}else c&&l&&(g=g*(l=="-"?-1:1)+a.number);let x=o.doc.line(Math.max(1,Math.min(o.doc.lines,g))),b=Re.cursor(x.from+Math.max(0,Math.min(p,x.length)));t.dispatch({effects:[i0.of(!1),lt.scrollIntoView(b.from,{y:"center"})],selection:b}),t.focus()}return{dom:r}}const i0=Ft.define(),R3=bi.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(i0)&&(t=n.value);return t},provide:t=>B0.from(t,e=>e?QS:null)}),lue=t=>{let e=R0(t,QS);if(!e){let n=[i0.of(!0)];t.state.field(R3,!1)==null&&n.push(Ft.appendConfig.of([R3,cue])),t.dispatch({effects:n}),e=R0(t,QS)}return e&&e.dom.querySelector("input").select(),!0},cue=lt.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),uue={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},fue=ut.define({combine(t){return sa(t,uue,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function hue(t){return[xue,gue]}const due=wt.mark({class:"cm-selectionMatch"}),pue=wt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function B3(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=ar.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=ar.Word)}function mue(t,e,n,r){return t(e.sliceDoc(n,n+1))==ar.Word&&t(e.sliceDoc(r-1,r))==ar.Word}const gue=wr.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(fue),{state:n}=t,r=n.selection;if(r.ranges.length>1)return wt.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return wt.none;let l=n.wordAt(i.head);if(!l)return wt.none;o=n.charCategorizer(i.head),s=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return wt.none;if(e.wholeWords){if(s=n.sliceDoc(i.from,i.to),o=n.charCategorizer(i.head),!(B3(o,n,i.from,i.to)&&mue(o,n,i.from,i.to)))return wt.none}else if(s=n.sliceDoc(i.from,i.to),!s)return wt.none}let a=[];for(let l of t.visibleRanges){let c=new nh(n.doc,s,l.from,l.to);for(;!c.next().done;){let{from:f,to:d}=c.value;if((!o||B3(o,n,f,d))&&(i.empty&&f<=i.from&&d>=i.to?a.push(pue.range(f,d)):(f>=i.to||d<=i.from)&&a.push(due.range(f,d)),a.length>e.maxMatches))return wt.none}}return wt.set(a)}},{decorations:t=>t.decorations}),xue=lt.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),yue=({state:t,dispatch:e})=>{let{selection:n}=t,r=Re.create(n.ranges.map(i=>t.wordAt(i.head)||Re.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function bue(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let o=!1,a=new nh(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new nh(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const vue=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return yue({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let i=bue(t,r);return i?(e(t.update({selection:t.selection.addRange(Re.range(i.from,i.to),!1),effects:lt.scrollIntoView(i.to)})),!0):!1},yh=ut.define({combine(t){return sa(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Mue(e),scrollToMatch:e=>lt.scrollIntoView(e)})}});class pP{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||aue(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Cue(this):new Eue(this)}getCursor(e,n=0,r){let i=e.doc?e:lr.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?wf(this,i,n,r):vf(this,i,n,r)}}class mP{constructor(e){this.spec=e}}function vf(t,e,n,r){return new nh(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?wue(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function wue(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),(e(F1(i,n-s))!=ar.Word||e(P1(i,n-s))!=ar.Word)&&(e(P1(i,r-s))!=ar.Word||e(F1(i,r-s))!=ar.Word))}class Eue extends mP{constructor(e){super(e)}nextMatch(e,n,r){let i=vf(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,n+this.spec.unquoted.length);i=vf(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),o=vf(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=vf(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=vf(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function wf(t,e,n,r){return new hP(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?Sue(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function F1(t,e){return t.slice(gi(t,e,!1),e)}function P1(t,e){return t.slice(e,gi(t,e))}function Sue(t){return(e,n,r)=>!r[0].length||(t(F1(r.input,r.index))!=ar.Word||t(P1(r.input,r.index))!=ar.Word)&&(t(P1(r.input,r.index+r[0].length))!=ar.Word||t(F1(r.input,r.index+r[0].length))!=ar.Word)}class Cue extends mP{nextMatch(e,n,r){let i=wf(this.spec,e,r,e.doc.length).next();return i.done&&(i=wf(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),o=wf(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return n})}matchAll(e,n){let r=wf(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=wf(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const P0=Ft.define(),nA=Ft.define(),ql=bi.define({create(t){return new UE(JS(t).create(),null)},update(t,e){for(let n of e.effects)n.is(P0)?t=new UE(n.value.create(),t.panel):n.is(nA)&&(t=new UE(t.query,n.value?rA:null));return t},provide:t=>B0.from(t,e=>e.panel)});class UE{constructor(e,n){this.query=e,this.panel=n}}const kue=wt.mark({class:"cm-searchMatch"}),Aue=wt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Tue=wr.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(ql))}update(t){let e=t.state.field(ql);(e!=t.startState.field(ql)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return wt.none;let{view:n}=this,r=new ja;for(let i=0,s=n.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-500;)l=s[++i].to;t.highlight(n.state,a,l,(c,f)=>{let d=n.state.selection.ranges.some(p=>p.from==c&&p.to==f);r.add(c,f,d?Aue:kue)})}return r.finish()}},{decorations:t=>t.decorations});function Cp(t){return e=>{let n=e.state.field(ql,!1);return n&&n.query.spec.valid?t(e,n):yP(e)}}const z1=Cp((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=Re.single(r.from,r.to),s=t.state.facet(yh);return t.dispatch({selection:i,effects:[iA(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),xP(t),!0}),H1=Cp((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=Re.single(i.from,i.to),o=t.state.facet(yh);return t.dispatch({selection:s,effects:[iA(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),xP(t),!0}),_ue=Cp((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:Re.create(n.map(r=>Re.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),Nue=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let a=new nh(t.doc,t.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(Re.range(a.value.from,a.value.to))}return e(t.update({selection:Re.create(s,o),userEvent:"select.search.matches"})),!0},L3=Cp((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o=s,a=[],l,c,f=[];o.from==r&&o.to==i&&(c=n.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(n,o.from,o.to),f.push(lt.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let d=t.state.changes(a);return o&&(l=Re.single(o.from,o.to).map(d),f.push(iA(t,o)),f.push(n.facet(yh).scrollToMatch(l.main,t))),t.dispatch({changes:d,selection:l,effects:f,userEvent:"input.replace"}),!0}),Due=Cp((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:lt.announce.of(r),userEvent:"input.replace.all"}),!0});function rA(t){return t.state.facet(yh).createPanel(t)}function JS(t,e){var n,r,i,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=t.facet(yh);return new pP({search:((n=e?.literal)!==null&&n!==void 0?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:c.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e?.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function gP(t){let e=R0(t,rA);return e&&e.dom.querySelector("[main-field]")}function xP(t){let e=gP(t);e&&e==t.root.activeElement&&e.select()}const yP=t=>{let e=t.state.field(ql,!1);if(e&&e.panel){let n=gP(t);if(n&&n!=t.root.activeElement){let r=JS(t.state,e.query.spec);r.valid&&t.dispatch({effects:P0.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[nA.of(!0),e?P0.of(JS(t.state,e.query.spec)):Ft.appendConfig.of(Bue)]});return!0},bP=t=>{let e=t.state.field(ql,!1);if(!e||!e.panel)return!1;let n=R0(t,rA);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:nA.of(!1)}),!0},Oue=[{key:"Mod-f",run:yP,scope:"editor search-panel"},{key:"F3",run:z1,shift:H1,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:z1,shift:H1,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:bP,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Nue},{key:"Mod-Alt-g",run:lue},{key:"Mod-d",run:vue,preventDefault:!0}];class Mue{constructor(e){this.view=e;let n=this.query=e.state.field(ql).query.spec;this.commit=this.commit.bind(this),this.searchField=Fn("input",{value:n.search,placeholder:Cs(e,"Find"),"aria-label":Cs(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Fn("input",{value:n.replace,placeholder:Cs(e,"Replace"),"aria-label":Cs(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Fn("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=Fn("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=Fn("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,o){return Fn("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=Fn("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>z1(e),[Cs(e,"next")]),r("prev",()=>H1(e),[Cs(e,"previous")]),r("select",()=>_ue(e),[Cs(e,"all")]),Fn("label",null,[this.caseField,Cs(e,"match case")]),Fn("label",null,[this.reField,Cs(e,"regexp")]),Fn("label",null,[this.wordField,Cs(e,"by word")]),...e.state.readOnly?[]:[Fn("br"),this.replaceField,r("replace",()=>L3(e),[Cs(e,"replace")]),r("replaceAll",()=>Due(e),[Cs(e,"replace all")])],Fn("button",{name:"close",onclick:()=>bP(e),"aria-label":Cs(e,"close"),type:"button"},[""])])}commit(){let e=new pP({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:P0.of(e)}))}keydown(e){Foe(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?H1:z1)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),L3(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(P0)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(yh).top}}function Cs(t,e){return t.state.phrase(e)}const Cg=30,kg=/[\s\.,:;?!]/;function iA(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-Cg),o=Math.min(i,n+Cg),a=t.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<Cg;l++)if(!kg.test(a[l+1])&&kg.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-Cg;l--)if(!kg.test(a[l-1])&&kg.test(a[l])){a=a.slice(0,l);break}}return lt.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const Rue=lt.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Bue=[ql,Au.low(Tue),Rue];class vP{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=Zr(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(EP(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function I3(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Lue(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=I3(e)+I3(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function wP(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Lue(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}function Iue(t,e){return n=>{for(let r=Zr(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class F3{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function Yc(t){return t.selection.main.from}function EP(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const SP=ia.define();function Fue(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return{...t.changeByRange(a=>{if(a!=i&&n!=r&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,r))return{range:a};let l=t.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:Re.cursor(a.from+s+l.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const P3=new WeakMap;function Pue(t){if(!Array.isArray(t))return t;let e=P3.get(t);return e||P3.set(t,e=wP(t)),e}const U1=Ft.define(),z0=Ft.define();class zue{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=ns(e,n),i=Xo(r);this.chars.push(r);let s=e.slice(n,n+i),o=s.toUpperCase();this.folded.push(ns(o==s?s.toLowerCase():o,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:o}=this;if(n.length==1){let k=ns(e,0),A=Xo(k),T=A==e.length?0:-100;if(k!=n[0])if(k==r[0])T+=-200;else return null;return this.ret(T,[0,A])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,c=0;if(a<0){for(let k=0,A=Math.min(e.length,200);k<A&&c<l;){let T=ns(e,k);(T==n[c]||T==r[c])&&(i[c++]=k),k+=Xo(T)}if(c<l)return null}let f=0,d=0,p=!1,g=0,x=-1,b=-1,v=/[a-z]/.test(e),w=!0;for(let k=0,A=Math.min(e.length,200),T=0;k<A&&d<l;){let O=ns(e,k);a<0&&(f<l&&O==n[f]&&(s[f++]=k),g<l&&(O==n[g]||O==r[g]?(g==0&&(x=k),b=k+1,g++):g=0));let _,N=O<255?O>=48&&O<=57||O>=97&&O<=122?2:O>=65&&O<=90?1:0:(_=Ok(O))!=_.toLowerCase()?1:_!=_.toUpperCase()?2:0;(!k||N==1&&v||T==0&&N!=0)&&(n[d]==O||r[d]==O&&(p=!0)?o[d++]=k:o.length&&(w=!1)),T=N,k+=Xo(O)}return d==l&&o[0]==0&&w?this.result(-100+(p?-200:0),o,e):g==l&&x==0?this.ret(-200-e.length+(b==e.length?0:-100),[0,b]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):g==l?this.ret(-900-e.length,[x,b]):d==l?this.result(-100+(p?-200:0)+-700+(w?0:-1100),o,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],s=0;for(let o of n){let a=o+(this.astral?Xo(ns(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class Hue{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Gr=ut.define({combine(t){return sa(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Uue,filterStrict:!1,compareCompletions:(e,n)=>(e.sortText||e.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>z3(e(r),n(r)),optionClass:(e,n)=>r=>z3(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function z3(t,e){return t?e?t+" "+e:t:e}function Uue(t,e,n,r,i,s){let o=t.textDirection==ir.RTL,a=o,l=!1,c="top",f,d,p=e.left-i.left,g=i.right-e.right,x=r.right-r.left,b=r.bottom-r.top;if(a&&p<Math.min(x,g)?a=!1:!a&&g<Math.min(x,p)&&(a=!0),x<=(a?p:g))f=Math.max(i.top,Math.min(n.top,i.bottom-b))-e.top,d=Math.min(400,a?p:g);else{l=!0,d=Math.min(400,(o?e.right:i.right-e.left)-30);let k=i.bottom-e.bottom;k>=b||k>e.top?f=n.bottom-e.top:(c="bottom",f=e.bottom-n.top)}let v=(e.bottom-e.top)/s.offsetHeight,w=(e.right-e.left)/s.offsetWidth;return{style:`${c}: ${f/v}px; max-width: ${d/w}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function jue(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let c=0;c<s.length;){let f=s[c++],d=s[c++];f>l&&o.appendChild(document.createTextNode(a.slice(l,f)));let p=o.appendChild(document.createElement("span"));p.appendChild(document.createTextNode(a.slice(f,d))),p.className="cm-completionMatchedText",l=d}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function jE(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class $ue{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:s,selected:o}=i.open,a=e.state.facet(Gr);this.optionContent=jue(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=jE(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(n).open;for(let f=l.target,d;f&&f!=this.dom;f=f.parentNode)if(f.nodeName=="LI"&&(d=/-(\d+)$/.exec(f.id))&&+d[1]<c.length){this.applyCompletion(e,c[+d[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(Gr).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:z0.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=jE(s.length,o,e.state.facet(Gr).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=jE(n.options.length,n.selected,this.view.state.facet(Gr).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:s}=i;if(!s)return;let o=typeof s=="string"?document.createTextNode(s):s(i);if(!o)return;"then"in o?o.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,i)}).catch(a=>ss(this.view.state,a,"completion info")):(this.addInfoPane(o,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&que(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(Gr).positionInfo(this.view,n,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let p=typeof c=="string"?c:c.name;if(p!=s&&(o>r.from||r.from==0))if(s=p,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let g=i.appendChild(document.createElement("completion-section"));g.textContent=p}}const f=i.appendChild(document.createElement("li"));f.id=n+"-"+o,f.setAttribute("role","option");let d=this.optionClass(a);d&&(f.className=d);for(let p of this.optionContent){let g=p(a,this.view.state,this.view,l);g&&f.appendChild(g)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Vue(t,e){return n=>new $ue(n,t,e)}function que(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function H3(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function Wue(t,e){let n=[],r=null,i=null,s=f=>{n.push(f);let{section:d}=f.completion;if(d){r||(r=[]);let p=typeof d=="string"?d:d.name;r.some(g=>g.name==p)||r.push(typeof d=="string"?{name:p}:d)}},o=e.facet(Gr);for(let f of t)if(f.hasResult()){let d=f.result.getMatch;if(f.result.filter===!1)for(let p of f.result.options)s(new F3(p,f.source,d?d(p):[],1e9-n.length));else{let p=e.sliceDoc(f.from,f.to),g,x=o.filterStrict?new Hue(p):new zue(p);for(let b of f.result.options)if(g=x.match(b.label)){let v=b.displayLabel?d?d(b,g.matched):[]:g.matched,w=g.score+(b.boost||0);if(s(new F3(b,f.source,v,w)),typeof b.section=="object"&&b.section.rank==="dynamic"){let{name:k}=b.section;i||(i=Object.create(null)),i[k]=Math.max(w,i[k]||-1e9)}}}}if(r){let f=Object.create(null),d=0,p=(g,x)=>(g.rank==="dynamic"&&x.rank==="dynamic"?i[x.name]-i[g.name]:0)||(typeof g.rank=="number"?g.rank:1e9)-(typeof x.rank=="number"?x.rank:1e9)||(g.name<x.name?-1:1);for(let g of r.sort(p))d-=1e5,f[g.name]=d;for(let g of n){let{section:x}=g.completion;x&&(g.score+=f[typeof x=="string"?x:x.name])}}let a=[],l=null,c=o.compareCompletions;for(let f of n.sort((d,p)=>p.score-d.score||c(d.completion,p.completion))){let d=f.completion;!l||l.label!=d.label||l.detail!=d.detail||l.type!=null&&d.type!=null&&l.type!=d.type||l.apply!=d.apply||l.boost!=d.boost?a.push(f):H3(f.completion)>H3(l)&&(a[a.length-1]=f),l=f.completion}return a}class Mf{constructor(e,n,r,i,s,o){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Mf(this.options,U3(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s,o){if(i&&!o&&e.some(c=>c.isPending))return i.setDisabled();let a=Wue(e,n);if(!a.length)return i&&e.some(c=>c.isPending)?i.setDisabled():null;let l=n.facet(Gr).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let c=i.options[i.selected].completion;for(let f=0;f<a.length;f++)if(a[f].completion==c){l=f;break}}return new Mf(a,U3(r,l),{pos:e.reduce((c,f)=>f.hasResult()?Math.min(c,f.from):c,1e8),create:Jue,above:s.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new Mf(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Mf(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class j1{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new j1(Yue,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(Gr),s=(r.override||n.languageDataAt("autocomplete",Yc(n)).map(Pue)).map(l=>(this.active.find(f=>f.source==l)||new ro(l,this.active.some(f=>f.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((l,c)=>l==this.active[c])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(sA));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!Gue(s,this.active)||a?o=Mf.build(s,n,this.id,o,r,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new ro(l.source,0):l));for(let l of e.effects)l.is(kP)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new j1(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Kue:Xue}}function Gue(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const Kue={"aria-autocomplete":"list"},Xue={};function U3(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const Yue=[];function CP(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(SP);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class ro{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=CP(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new ro(i.source,0)),r&4&&i.state==0&&(i=new ro(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(U1))i=new ro(i.source,1,s.value);else if(s.is(z0))i=new ro(i.source,0);else if(s.is(sA))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Yc(e.state))}}class $f extends ro{constructor(e,n,r,i,s,o){super(e,3,n),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=Yc(e.state);if(a>o||!i||n&2&&(Yc(e.startState)==this.from||a<this.limit))return new ro(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return Que(i.validFor,e.state,s,o)?new $f(this.source,this.explicit,l,i,s,o):i.update&&(i=i.update(i,s,o,new vP(e.state,a,!1)))?new $f(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:Yc(e.state)):new ro(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new $f(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ro(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function Que(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):EP(t,!0).test(i)}const sA=Ft.define({map(t,e){return t.map(n=>n.map(e))}}),kP=Ft.define(),rs=bi.define({create(){return j1.start()},update(t,e){return t.update(e)},provide:t=>[qk.from(t,e=>e.tooltip),lt.contentAttributes.from(t,e=>e.attrs)]});function oA(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(rs).active.find(i=>i.source==e.source);return r instanceof $f?(typeof n=="string"?t.dispatch({...Fue(t.state,n,r.from,r.to),annotations:SP.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const Jue=Vue(rs,oA);function Ag(t,e="option"){return n=>{let r=n.state.field(rs,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Gr).interactionDelay)return!1;let i=1,s;e=="page"&&(s=rF(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:kP.of(a)}),!0}}const Zue=t=>{let e=t.state.field(rs,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Gr).interactionDelay?!1:oA(t,e.open.options[e.open.selected])},$E=t=>t.state.field(rs,!1)?(t.dispatch({effects:U1.of(!0)}),!0):!1,efe=t=>{let e=t.state.field(rs,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:z0.of(null)}),!0)};class tfe{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const nfe=50,rfe=1e3,ife=wr.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(rs).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(rs),n=t.state.facet(Gr);if(!t.selectionSet&&!t.docChanged&&t.startState.field(rs)==e)return;let r=t.transactions.some(s=>{let o=CP(s,n);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>nfe&&Date.now()-o.time>rfe){for(let a of o.context.abortListeners)try{a()}catch(l){ss(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(U1)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(rs);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Gr).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=Yc(e),r=new vP(e,n,t.explicit,this.view),i=new tfe(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:z0.of(null)}),ss(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Gr).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Gr),r=this.view.state.field(rs);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let a=Yc(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),c=new $f(s.active.source,s.active.explicit,l,s.done,s.done.from,(t=s.done.to)!==null&&t!==void 0?t:a);for(let f of s.updates)c=c.update(f,n);if(c.hasResult()){e.push(c);continue}}let o=r.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new ro(s.active.source,0);for(let l of s.updates)a=a.update(l,n);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:sA.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(rs,!1);if(e&&e.tooltip&&this.view.state.facet(Gr).closeOnBlur){let n=e.open&&rF(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:z0.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:U1.of(!1)}),20),this.composing=0}}}),sfe=typeof navigator=="object"&&/Win/.test(navigator.platform),ofe=Au.highest(lt.domEventHandlers({keydown(t,e){let n=e.state.field(rs,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(sfe&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&oA(e,r),!1}})),afe=lt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),H0={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},jc=Ft.define({map(t,e){let n=e.mapPos(t,-1,zi.TrackAfter);return n??void 0}}),aA=new class extends ou{};aA.startSide=1;aA.endSide=-1;const AP=bi.define({create(){return sn.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(jc)&&(t=t.update({add:[aA.range(n.value,n.value+1)]}));return t}});function lfe(){return[ufe,AP]}const VE="()[]{}<>";function TP(t){for(let e=0;e<VE.length;e+=2)if(VE.charCodeAt(e)==t)return VE.charAt(e+1);return Ok(t<128?t:t+1)}function _P(t,e){return t.languageDataAt("closeBrackets",e)[0]||H0}const cfe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),ufe=lt.inputHandler.of((t,e,n,r)=>{if((cfe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&Xo(ns(r,0))==1||e!=i.from||n!=i.to)return!1;let s=dfe(t.state,r);return s?(t.dispatch(s),!0):!1}),ffe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=_P(t,t.selection.main.head).brackets||H0.brackets,i=null,s=t.changeByRange(o=>{if(o.empty){let a=pfe(t.doc,o.head);for(let l of r)if(l==a&&pb(t.doc,o.head)==TP(ns(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:Re.cursor(o.head-l.length)}}return{range:i=o}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},hfe=[{key:"Backspace",run:ffe}];function dfe(t,e){let n=_P(t,t.selection.main.head),r=n.brackets||H0.brackets;for(let i of r){let s=TP(ns(i,0));if(e==i)return s==i?xfe(t,i,r.indexOf(i+i+i)>-1,n):mfe(t,i,s,n.before||H0.before);if(e==s&&NP(t,t.selection.main.from))return gfe(t,i,s)}return null}function NP(t,e){let n=!1;return t.field(AP).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function pb(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Xo(ns(n,0)))}function pfe(t,e){let n=t.sliceString(e-2,e);return Xo(ns(n,0))==n.length?n:n.slice(1)}function mfe(t,e,n,r){let i=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:jc.of(o.to+e.length),range:Re.range(o.anchor+e.length,o.head+e.length)};let a=pb(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:jc.of(o.head+e.length),range:Re.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function gfe(t,e,n){let r=null,i=t.changeByRange(s=>s.empty&&pb(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:Re.cursor(s.head+n.length)}:r={range:s});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function xfe(t,e,n,r){let i=r.stringPrefixes||H0.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:jc.of(a.to+e.length),range:Re.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=pb(t.doc,l),f;if(c==e){if(j3(t,l))return{changes:{insert:e+e,from:l},effects:jc.of(l+e.length),range:Re.cursor(l+e.length)};if(NP(t,l)){let p=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+p.length,insert:p},range:Re.cursor(l+p.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(f=$3(t,l-2*e.length,i))>-1&&j3(t,f))return{changes:{insert:e+e+e+e,from:l},effects:jc.of(l+e.length),range:Re.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=ar.Word&&$3(t,l,i)>-1&&!yfe(t,l,e,i))return{changes:{insert:e+e,from:l},effects:jc.of(l+e.length),range:Re.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function j3(t,e){let n=Zr(t).resolveInner(e+1);return n.parent&&n.from==e}function yfe(t,e,n,r){let i=Zr(t).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let f=i.firstChild;for(;f&&f.from==i.from&&f.to-f.from>n.length+l;){if(t.sliceDoc(f.to-n.length,f.to)==n)return!1;f=f.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function $3(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=ar.Word)return e;for(let i of n){let s=e-i.length;if(t.sliceDoc(s,e)==i&&r(t.sliceDoc(s-1,s))!=ar.Word)return s}return-1}function DP(t={}){return[ofe,rs,Gr.of(t),ife,bfe,afe]}const OP=[{key:"Ctrl-Space",run:$E},{mac:"Alt-`",run:$E},{mac:"Alt-i",run:$E},{key:"Escape",run:efe},{key:"ArrowDown",run:Ag(!0)},{key:"ArrowUp",run:Ag(!1)},{key:"PageDown",run:Ag(!0,"page")},{key:"PageUp",run:Ag(!1,"page")},{key:"Enter",run:Zue}],bfe=Au.highest(sb.computeN([Gr],t=>t.facet(Gr).defaultKeymap?[OP]:[]));class V3{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Pc{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(U0).markerFilter;i&&(e=i(e,r));let s=e.slice().sort((g,x)=>g.from-x.from||g.to-x.to),o=new ja,a=[],l=0,c=r.doc.iter(),f=0,d=r.doc.length;for(let g=0;;){let x=g==s.length?null:s[g];if(!x&&!a.length)break;let b,v;if(a.length)b=l,v=a.reduce((A,T)=>Math.min(A,T.to),x&&x.from>b?x.from:1e8);else{if(b=x.from,b>d)break;v=x.to,a.push(x),g++}for(;g<s.length;){let A=s[g];if(A.from==b&&(A.to>A.from||A.to==b))a.push(A),g++,v=Math.min(A.to,v);else{v=Math.min(A.from,v);break}}v=Math.min(v,d);let w=!1;if(a.some(A=>A.from==b&&(A.to==v||v==d))&&(w=b==v,!w&&v-b<10)){let A=b-(f+c.value.length);A>0&&(c.next(A),f=b);for(let T=b;;){if(T>=v){w=!0;break}if(!c.lineBreak&&f+c.value.length>T)break;T=f+c.value.length,f+=c.value.length,c.next()}}let k=Mfe(a);if(w)o.add(b,b,wt.widget({widget:new _fe(k),diagnostics:a.slice()}));else{let A=a.reduce((T,O)=>O.markClass?T+" "+O.markClass:T,"");o.add(b,v,wt.mark({class:"cm-lintRange cm-lintRange-"+k+A,diagnostics:a.slice(),inclusiveEnd:a.some(T=>T.to>v)}))}if(l=v,l==d)break;for(let A=0;A<a.length;A++)a[A].to<=l&&a.splice(A--,1)}let p=o.finish();return new Pc(p,n,rh(p))}}function rh(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new V3(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new V3(r.from,s,r.diagnostic)}}),r}function vfe(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(U0).hideOn(t,n,r);if(i!=null)return i;let s=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(MP))||t.changes.touchesRange(s.from,Math.max(s.to,r)))}function wfe(t,e){return t.field(Bs,!1)?e:e.concat(Ft.appendConfig.of(Rfe))}const MP=Ft.define(),lA=Ft.define(),RP=Ft.define(),Bs=bi.define({create(){return new Pc(wt.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);r=rh(n,t.selected.diagnostic,s)||rh(n,null,s)}!n.size&&i&&e.state.facet(U0).autoPanel&&(i=null),t=new Pc(n,i,r)}for(let n of e.effects)if(n.is(MP)){let r=e.state.facet(U0).autoPanel?n.value.length?j0.open:null:t.panel;t=Pc.init(n.value,r,e.state)}else n.is(lA)?t=new Pc(t.diagnostics,n.value?j0.open:null,t.selected):n.is(RP)&&(t=new Pc(t.diagnostics,t.panel,n.value));return t},provide:t=>[B0.from(t,e=>e.panel),lt.decorations.from(t,e=>e.diagnostics)]}),Efe=wt.mark({class:"cm-lintRange cm-lintRange-active"});function Sfe(t,e,n){let{diagnostics:r}=t.state.field(Bs),i,s=-1,o=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,c,{spec:f})=>{if(e>=l&&e<=c&&(l==c||(e>l||n>0)&&(e<c||n<0)))return i=f.diagnostics,s=l,o=c,!1});let a=t.state.facet(U0).tooltipFilter;return i&&a&&(i=a(i,t.state)),i?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:Cfe(t,i)}}}:null}function Cfe(t,e){return Fn("ul",{class:"cm-tooltip-lint"},e.map(n=>LP(t,n,!1)))}const kfe=t=>{let e=t.state.field(Bs,!1);(!e||!e.panel)&&t.dispatch({effects:wfe(t.state,[lA.of(!0)])});let n=R0(t,j0.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},q3=t=>{let e=t.state.field(Bs,!1);return!e||!e.panel?!1:(t.dispatch({effects:lA.of(!1)}),!0)},Afe=t=>{let e=t.state.field(Bs,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},Tfe=[{key:"Mod-Shift-m",run:kfe,preventDefault:!0},{key:"F8",run:Afe}],U0=ut.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...sa(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:W3,tooltipFilter:W3,needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n,hideOn:(e,n)=>e?n?(r,i,s)=>e(r,i,s)||n(r,i,s):e:n,autoPanel:(e,n)=>e||n})}}});function W3(t,e){return t?e?(n,r)=>e(t(n,r),r):t:e}function BP(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function LP(t,e,n){var r;let i=n?BP(e.actions):[];return Fn("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Fn("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=g=>{if(g.preventDefault(),a)return;a=!0;let x=rh(t.state.field(Bs).diagnostics,e);x&&s.apply(t,x.from,x.to)},{name:c}=s,f=i[o]?c.indexOf(i[o]):-1,d=f<0?c:[c.slice(0,f),Fn("u",c.slice(f,f+1)),c.slice(f+1)],p=s.markClass?" "+s.markClass:"";return Fn("button",{type:"button",class:"cm-diagnosticAction"+p,onclick:l,onmousedown:l,"aria-label":` Action: ${c}${f<0?"":` (access key "${i[o]})"`}.`},d)}),e.source&&Fn("div",{class:"cm-diagnosticSource"},e.source))}class _fe extends Ka{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Fn("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class G3{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=LP(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class j0{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)q3(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=BP(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=rh(this.view.state.field(Bs).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=Fn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=Fn("div",{class:"cm-panel-lint"},this.list,Fn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>q3(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Bs).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Bs),r=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:c})=>{for(let f of c.diagnostics){if(o.has(f))continue;o.add(f);let d=-1,p;for(let g=r;g<this.items.length;g++)if(this.items[g].diagnostic==f){d=g;break}d<0?(p=new G3(this.view,f),this.items.splice(r,0,p),i=!0):(p=this.items[d],d>r&&(this.items.splice(r,d-r),i=!0)),n&&p.diagnostic==n.diagnostic?p.dom.hasAttribute("aria-selected")||(p.dom.setAttribute("aria-selected","true"),s=p):p.dom.hasAttribute("aria-selected")&&p.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new G3(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let c=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/c:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Bs),r=rh(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:RP.of(r)})}static open(e){return new j0(e)}}function Nfe(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Tg(t){return Nfe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Dfe=lt.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Tg("#d11")},".cm-lintRange-warning":{backgroundImage:Tg("orange")},".cm-lintRange-info":{backgroundImage:Tg("#999")},".cm-lintRange-hint":{backgroundImage:Tg("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Ofe(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function Mfe(t){let e="hint",n=1;for(let r of t){let i=Ofe(r.severity);i>n&&(n=i,e=r.severity)}return e}const Rfe=[Bs,lt.decorations.compute([Bs],t=>{let{selected:e,panel:n}=t.field(Bs);return!e||!n||e.from==e.to?wt.none:wt.set([Efe.range(e.from,e.to)])}),kae(Sfe,{hideOn:vfe}),Dfe];var K3=function(e){e===void 0&&(e={});var{crosshairCursor:n=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(hfe)),e.defaultKeymap!==!1&&(r=r.concat(sue)),e.searchKeymap!==!1&&(r=r.concat(Oue)),e.historyKeymap!==!1&&(r=r.concat(hce)),e.foldKeymap!==!1&&(r=r.concat(Ale)),e.completionKeymap!==!1&&(r=r.concat(OP)),e.lintKeymap!==!1&&(r=r.concat(Tfe));var i=[];return e.lineNumbers!==!1&&i.push(Iae()),e.highlightActiveLineGutter!==!1&&i.push(zae()),e.highlightSpecialChars!==!1&&i.push(eae()),e.history!==!1&&i.push(rce()),e.foldGutter!==!1&&i.push(Dle()),e.drawSelection!==!1&&i.push($oe()),e.dropCursor!==!1&&i.push(Koe()),e.allowMultipleSelections!==!1&&i.push(lr.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(xle()),e.syntaxHighlighting!==!1&&i.push(_F(Ble,{fallback:!0})),e.bracketMatching!==!1&&i.push(Ule()),e.closeBrackets!==!1&&i.push(lfe()),e.autocompletion!==!1&&i.push(DP()),e.rectangularSelection!==!1&&i.push(pae()),n!==!1&&i.push(xae()),e.highlightActiveLine!==!1&&i.push(oae()),e.highlightSelectionMatches!==!1&&i.push(hue()),e.tabSize&&typeof e.tabSize=="number"&&i.push(ab.of(" ".repeat(e.tabSize))),i.concat([sb.of(r.flat())]).filter(Boolean)};const Bfe="#e5c07b",X3="#e06c75",Lfe="#56b6c2",Ife="#ffffff",Wx="#abb2bf",ZS="#7d8799",Ffe="#61afef",Pfe="#98c379",Y3="#d19a66",zfe="#c678dd",Hfe="#21252b",Q3="#2c313a",J3="#282c34",qE="#353a42",Ufe="#3E4451",Z3="#528bff",jfe=lt.theme({"&":{color:Wx,backgroundColor:J3},".cm-content":{caretColor:Z3},".cm-cursor, .cm-dropCursor":{borderLeftColor:Z3},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Ufe},".cm-panels":{backgroundColor:Hfe,color:Wx},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:J3,color:ZS,border:"none"},".cm-activeLineGutter":{backgroundColor:Q3},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:qE},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:qE,borderBottomColor:qE},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Q3,color:Wx}}},{dark:!0}),$fe=Ep.define([{tag:Se.keyword,color:zfe},{tag:[Se.name,Se.deleted,Se.character,Se.propertyName,Se.macroName],color:X3},{tag:[Se.function(Se.variableName),Se.labelName],color:Ffe},{tag:[Se.color,Se.constant(Se.name),Se.standard(Se.name)],color:Y3},{tag:[Se.definition(Se.name),Se.separator],color:Wx},{tag:[Se.typeName,Se.className,Se.number,Se.changed,Se.annotation,Se.modifier,Se.self,Se.namespace],color:Bfe},{tag:[Se.operator,Se.operatorKeyword,Se.url,Se.escape,Se.regexp,Se.link,Se.special(Se.string)],color:Lfe},{tag:[Se.meta,Se.comment],color:ZS},{tag:Se.strong,fontWeight:"bold"},{tag:Se.emphasis,fontStyle:"italic"},{tag:Se.strikethrough,textDecoration:"line-through"},{tag:Se.link,color:ZS,textDecoration:"underline"},{tag:Se.heading,fontWeight:"bold",color:X3},{tag:[Se.atom,Se.bool,Se.special(Se.variableName)],color:Y3},{tag:[Se.processingInstruction,Se.string,Se.inserted],color:Pfe},{tag:Se.invalid,color:Ife}]),Vfe=[jfe,_F($fe)];var qfe=lt.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Wfe=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:s="light",placeholder:o="",basicSetup:a=!0}=e,l=[];switch(n&&l.unshift(sb.of([oue])),a&&(typeof a=="boolean"?l.unshift(K3()):l.unshift(K3(a))),o&&l.unshift(uae(o)),s){case"light":l.push(qfe);break;case"dark":l.push(Vfe);break;case"none":break;default:l.push(s);break}return r===!1&&l.push(lt.editable.of(!1)),i&&l.push(lr.readOnly.of(!0)),[...l]},Gfe=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)});class Kfe{constructor(e,n){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=n,this.timeoutMS=n,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(n=>{try{n()}catch(r){console.error("TimeoutLatch callback error:",r)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class eR{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var WE=null,Xfe=()=>typeof window>"u"?new eR:(WE||(WE=new eR),WE),tR=ia.define(),Yfe=200,Qfe=[];function Jfe(t){var{value:e,selection:n,onChange:r,onStatistics:i,onCreateEditor:s,onUpdate:o,extensions:a=Qfe,autoFocus:l,theme:c="light",height:f=null,minHeight:d=null,maxHeight:p=null,width:g=null,minWidth:x=null,maxWidth:b=null,placeholder:v="",editable:w=!0,readOnly:k=!1,indentWithTab:A=!0,basicSetup:T=!0,root:O,initialState:_}=t,[N,F]=X.useState(),[L,R]=X.useState(),[P,z]=X.useState(),W=X.useState(()=>({current:null}))[0],ee=X.useState(()=>({current:null}))[0],te=lt.theme({"&":{height:f,minHeight:d,maxHeight:p,width:g,minWidth:x,maxWidth:b},"& .cm-scroller":{height:"100% !important"}}),J=lt.updateListener.of(ve=>{if(ve.docChanged&&typeof r=="function"&&!ve.transactions.some(M=>M.annotation(tR))){W.current?W.current.reset():(W.current=new Kfe(()=>{if(ee.current){var M=ee.current;ee.current=null,M()}W.current=null},Yfe),Xfe().add(W.current));var q=ve.state.doc,U=q.toString();r(U,ve)}i&&i(Gfe(ve))}),ae=Wfe({theme:c,editable:w,readOnly:k,placeholder:v,indentWithTab:A,basicSetup:T}),ce=[J,te,...ae];return o&&typeof o=="function"&&ce.push(lt.updateListener.of(o)),ce=ce.concat(a),X.useLayoutEffect(()=>{if(N&&!P){var ve={doc:e,selection:n,extensions:ce},q=_?lr.fromJSON(_.json,ve,_.fields):lr.create(ve);if(z(q),!L){var U=new lt({state:q,parent:N,root:O});R(U),s&&s(U,q)}}return()=>{L&&(z(void 0),R(void 0))}},[N,P]),X.useEffect(()=>{t.container&&F(t.container)},[t.container]),X.useEffect(()=>()=>{L&&(L.destroy(),R(void 0)),W.current&&(W.current.cancel(),W.current=null)},[L]),X.useEffect(()=>{l&&L&&L.focus()},[l,L]),X.useEffect(()=>{L&&L.dispatch({effects:Ft.reconfigure.of(ce)})},[c,a,f,d,p,g,x,b,v,w,k,A,T,r,o]),X.useEffect(()=>{if(e!==void 0){var ve=L?L.state.doc.toString():"";if(L&&e!==ve){var q=W.current&&!W.current.isDone,U=()=>{L&&e!==L.state.doc.toString()&&L.dispatch({changes:{from:0,to:L.state.doc.toString().length,insert:e||""},annotations:[tR.of(!0)]})};q?ee.current=U:U()}}},[e,L]),{state:P,setState:z,view:L,setView:R,container:N,setContainer:F}}var Zfe=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],IP=X.forwardRef((t,e)=>{var{className:n,value:r="",selection:i,extensions:s=[],onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:c,autoFocus:f,theme:d="light",height:p,minHeight:g,maxHeight:x,width:b,minWidth:v,maxWidth:w,basicSetup:k,placeholder:A,indentWithTab:T,editable:O,readOnly:_,root:N,initialState:F}=t,L=zie(t,Zfe),R=X.useRef(null),{state:P,view:z,container:W,setContainer:ee}=Jfe({root:N,value:r,autoFocus:f,theme:d,height:p,minHeight:g,maxHeight:x,width:b,minWidth:v,maxWidth:w,basicSetup:k,placeholder:A,indentWithTab:T,editable:O,readOnly:_,selection:i,onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:c,extensions:s,initialState:F});X.useImperativeHandle(e,()=>({editor:R.current,state:P,view:z}),[R,W,P,z]);var te=X.useCallback(ae=>{R.current=ae,ee(ae)},[ee]);if(typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var J=typeof d=="string"?"cm-theme-"+d:"cm-theme";return C.jsx("div",eS({ref:te,className:""+J+(n?" "+n:"")},L))});IP.displayName="CodeMirror";var nR={};class $1{constructor(e,n,r,i,s,o,a,l,c,f=0,d){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=f,this.parent=d}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new $1(e,[],n,r,r,0,[],0,i?new rR(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),a=s.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,f=this.reducePos-c;f>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=f):this.p.lastBigReductionSize<f&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=f));let d=l?this.stack[l-1]:0,p=this.bufferBase+this.buffer.length-d;if(i<s.minRepeatTerm||e&131072){let g=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,g,p+4,!0)}if(e&262144)this.state=this.stack[l];else{let g=this.stack[l-3];this.state=s.getGoto(g,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,c)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==r)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let o=this.buffer.length;if(o>0&&(this.buffer[o-4]!=0||this.buffer[o-1]<0)){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:o}=this.p;(i>this.pos||n<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(n,r),n<=o.maxNode&&this.buffer.push(n,r,i,4)}else this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4)}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new $1(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new ehe(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(n[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let o=n[s+1];i.some((a,l)=>l&1&&a==o)||i.push(n[s],o)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,s)=>{if(!n.includes(i))return n.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new rR(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class rR{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class ehe{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class V1{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new V1(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new V1(this.stack,this.pos,this.index)}}function _g(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let o=t.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class Gx{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const iR=new Gx;class the{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=iR,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=iR,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class Vf{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;rhe(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}Vf.prototype.contextual=Vf.prototype.fallback=Vf.prototype.extend=!1;Vf.prototype.fallback=Vf.prototype.extend=!1;class nhe{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function rhe(t,e,n,r,i,s){let o=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;(a&t[o])!=0;){let c=t[o+1];for(let g=o+3;g<c;g+=2)if((t[g+1]&a)>0){let x=t[g];if(l.allows(x)&&(e.token.value==-1||e.token.value==x||ihe(x,e.token.value,i,s))){e.acceptToken(x);break}}let f=e.next,d=0,p=t[o+2];if(e.next<0&&p>d&&t[c+p*3-3]==65535){o=t[c+p*3-1];continue e}for(;d<p;){let g=d+p>>1,x=c+g+(g<<1),b=t[x],v=t[x+1]||65536;if(f<b)p=g;else if(f>=v)d=g+1;else{o=t[x+2],e.advance();continue e}}break}}function sR(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function ihe(t,e,n,r){let i=sR(n,r,e);return i<0||sR(n,r,t)<i}const ks=typeof process<"u"&&nR&&/\bparse\b/.test(nR.LOG);let GE=null;function oR(t,e,n){let r=t.cursor(Vr.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class she{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?oR(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?oR(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[n]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof Dr){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop($t.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class ohe{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Gx)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if((1<<c&o)==0)continue;let f=s[c],d=this.tokens[c];if(!(r&&!f.fallback)&&((f.contextual||d.start!=e.pos||d.mask!=o||d.context!=a)&&(this.updateCachedToken(d,f,e),d.mask=o,d.context=a),d.lookAhead>d.end+25&&(l=Math.max(d.lookAhead,l)),d.value!=0)){let p=n;if(d.extended>-1&&(n=this.addActions(e,d.extended,d.end,n)),n=this.addActions(e,d.value,d.end,n),!f.extend&&(r=d,n>p))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new Gx,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Gx,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){(a&1)==0?e.value=a>>1:e.extended=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=Da(a,c+2);else{i==0&&a[c+1]==2&&(i=this.putAction(Da(a,c+2),n,r,i));break}a[c]==n&&(i=this.putAction(Da(a,c+1),n,r,i))}return i}}class ahe{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new the(n,i),this.tokens=new ohe(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[$1.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new she(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&che(i);if(o)return ks&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw ks&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return ks&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let c=r[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,o=ks?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,f=c?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let p=this.parser.nodeSet.types[d.type.id]==d.type?s.getGoto(e.state,d.type.id):-1;if(p>-1&&d.length&&(!c||(d.prop($t.contextHash)||0)==f))return e.useNode(d,p),ks&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(d.type.id)})`),!0;if(!(d instanceof Dr)||d.children.length==0||d.positions[0]>0)break;let g=d.children[0];if(g instanceof Dr&&d.positions[0]==0)d=g;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),ks&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let f=l[c++],d=l[c++],p=l[c++],g=c==l.length||!r,x=g?e:e.split(),b=this.tokens.mainToken;if(x.apply(f,d,b?b.start:x.pos,p),ks&&console.log(o+this.stackID(x)+` (via ${(f&65536)==0?"shift":`reduce of ${s.getName(f&65535)}`} for ${s.getName(d)} @ ${i}${x==e?"":", split"})`),g)return!0;x.pos>i?n.push(x):r.push(x)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return aR(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],c=n[(o<<1)+1],f=ks?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),ks&&console.log(f+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let d=a.split(),p=f;for(let g=0;g<10&&d.forceReduce()&&(ks&&console.log(p+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));g++)ks&&(p=this.stackID(d)+" -> ");for(let g of a.recoverByInsert(l))ks&&console.log(f+this.stackID(g)+" (via recover-insert)"),this.advanceFully(g,r);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),ks&&console.log(f+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),aR(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),Dr.build({buffer:V1.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(GE||(GE=new WeakMap)).get(e);return n||GE.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function aR(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class lhe{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class q1 extends hF{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function s(a,l,c){i[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=$t[l]);for(let c=1;c<a.length;){let f=a[c++];if(f>=0)s(f,l,a[c++]);else{let d=a[c+-f];for(let p=-f;p>0;p--)s(a[c++],l,d);c++}}}this.nodeSet=new Wk(n.map((a,l)=>co.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=aF;let o=_g(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(lR),this.states=_g(e.states,Uint32Array),this.data=_g(e.stateData),this.goto=_g(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Vf(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new ahe(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let c=s+(o>>1);s<c;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=Da(r,s+2)];else{if(r[s+1]==2)return Da(r,s+2);break}if(o==n||o==0)return Da(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Da(this.data,s+2);else break;i=n(Da(this.data,s+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Da(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];n.some((s,o)=>o&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(q1.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=lR(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new lhe(e,r,i)}static deserialize(e){return new q1(e)}}function Da(t,e){return t[e]|t[e+1]<<16}function che(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function lR(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const uhe=36,cR=1,fhe=2,pf=3,KE=4,hhe=5,dhe=6,phe=7,mhe=8,ghe=9,xhe=10,yhe=11,bhe=12,vhe=13,whe=14,Ehe=15,She=16,Che=17,uR=18,khe=19,FP=20,PP=21,fR=22,Ahe=23,The=24;function eC(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function _he(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function Lc(t,e,n){for(let r=!1;;){if(t.next<0)return;if(t.next==e&&!r){t.advance();return}r=n&&!r&&t.next==92,t.advance()}}function Nhe(t,e){e:for(;;){if(t.next<0)return;if(t.next==36){t.advance();for(let n=0;n<e.length;n++){if(t.next!=e.charCodeAt(n))continue e;t.advance()}if(t.next==36){t.advance();return}}else t.advance()}}function Dhe(t,e){let n="[{<(".indexOf(String.fromCharCode(e)),r=n<0?e:"]}>)".charCodeAt(n);for(;;){if(t.next<0)return;if(t.next==r&&t.peek(1)==39){t.advance(2);return}t.advance()}}function tC(t,e){for(;!(t.next!=95&&!eC(t.next));)e!=null&&(e+=String.fromCharCode(t.next)),t.advance();return e}function Ohe(t){if(t.next==39||t.next==34||t.next==96){let e=t.next;t.advance(),Lc(t,e,!1)}else tC(t)}function hR(t,e){for(;t.next==48||t.next==49;)t.advance();e&&t.next==e&&t.advance()}function dR(t,e){for(;;){if(t.next==46){if(e)break;e=!0}else if(t.next<48||t.next>57)break;t.advance()}if(t.next==69||t.next==101)for(t.advance(),(t.next==43||t.next==45)&&t.advance();t.next>=48&&t.next<=57;)t.advance()}function pR(t){for(;!(t.next<0||t.next==10);)t.advance()}function Mc(t,e){for(let n=0;n<e.length;n++)if(e.charCodeAt(n)==t)return!0;return!1}const XE=` 	\r
`;function zP(t,e,n){let r=Object.create(null);r.true=r.false=hhe,r.null=r.unknown=dhe;for(let i of t.split(" "))i&&(r[i]=FP);for(let i of e.split(" "))i&&(r[i]=PP);for(let i of(n||"").split(" "))i&&(r[i]=The);return r}const HP="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",UP="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",nC={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:zP(UP,HP)};function Mhe(t,e,n,r){let i={};for(let s in nC)i[s]=(t.hasOwnProperty(s)?t:nC)[s];return e&&(i.words=zP(e,n||"",r)),i}function jP(t){return new nhe(e=>{var n;let{next:r}=e;if(e.advance(),Mc(r,XE)){for(;Mc(e.next,XE);)e.advance();e.acceptToken(uhe)}else if(r==36&&t.doubleDollarQuotedStrings){let i=tC(e,"");e.next==36&&(e.advance(),Nhe(e,i),e.acceptToken(pf))}else if(r==39||r==34&&t.doubleQuotedStrings)Lc(e,r,t.backslashEscapes),e.acceptToken(pf);else if(r==35&&t.hashComments||r==47&&e.next==47&&t.slashComments)pR(e),e.acceptToken(cR);else if(r==45&&e.next==45&&(!t.spaceAfterDashes||e.peek(1)==32))pR(e),e.acceptToken(cR);else if(r==47&&e.next==42){e.advance();for(let i=1;;){let s=e.next;if(e.next<0)break;if(e.advance(),s==42&&e.next==47){if(i--,e.advance(),!i)break}else s==47&&e.next==42&&(i++,e.advance())}e.acceptToken(fhe)}else if((r==101||r==69)&&e.next==39)e.advance(),Lc(e,39,!0),e.acceptToken(pf);else if((r==110||r==78)&&e.next==39&&t.charSetCasts)e.advance(),Lc(e,39,t.backslashEscapes),e.acceptToken(pf);else if(r==95&&t.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),Lc(e,39,t.backslashEscapes),e.acceptToken(pf);break}if(!eC(e.next))break;e.advance()}else if(t.plsqlQuotingMechanism&&(r==113||r==81)&&e.next==39&&e.peek(1)>0&&!Mc(e.peek(1),XE)){let i=e.peek(1);e.advance(2),Dhe(e,i),e.acceptToken(pf)}else if(Mc(r,t.identifierQuotes)){const i=r==91?93:r;Lc(e,i,!1),e.acceptToken(khe)}else if(r==40)e.acceptToken(phe);else if(r==41)e.acceptToken(mhe);else if(r==123)e.acceptToken(ghe);else if(r==125)e.acceptToken(xhe);else if(r==91)e.acceptToken(yhe);else if(r==93)e.acceptToken(bhe);else if(r==59)e.acceptToken(vhe);else if(t.unquotedBitLiterals&&r==48&&e.next==98)e.advance(),hR(e),e.acceptToken(fR);else if((r==98||r==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),t.treatBitsAsBytes?(Lc(e,i,t.backslashEscapes),e.acceptToken(Ahe)):(hR(e,i),e.acceptToken(fR))}else if(r==48&&(e.next==120||e.next==88)||(r==120||r==88)&&e.next==39){let i=e.next==39;for(e.advance();_he(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(KE)}else if(r==46&&e.next>=48&&e.next<=57)dR(e,!0),e.acceptToken(KE);else if(r==46)e.acceptToken(whe);else if(r>=48&&r<=57)dR(e,!1),e.acceptToken(KE);else if(Mc(r,t.operatorChars)){for(;Mc(e.next,t.operatorChars);)e.advance();e.acceptToken(Ehe)}else if(Mc(r,t.specialVar))e.next==r&&e.advance(),Ohe(e),e.acceptToken(Che);else if(r==58||r==44)e.acceptToken(She);else if(eC(r)){let i=tC(e,String.fromCharCode(r));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?uR:(n=t.words[i.toLowerCase()])!==null&&n!==void 0?n:uR)}})}const $P=jP(nC),Rhe=q1.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,$P],topRules:{Script:[0,25]},tokenPrec:0});function rC(t){let e=t.cursor().moveTo(t.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function $0(t,e){let n=t.sliceString(e.from,e.to),r=/^([`'"\[])(.*)([`'"\]])$/.exec(n);return r?r[2]:n}function W1(t){return t&&(t.name=="Identifier"||t.name=="QuotedIdentifier")}function Bhe(t,e){if(e.name=="CompositeIdentifier"){let n=[];for(let r=e.firstChild;r;r=r.nextSibling)W1(r)&&n.push($0(t,r));return n}return[$0(t,e)]}function mR(t,e){for(let n=[];;){if(!e||e.name!=".")return n;let r=rC(e);if(!W1(r))return n;n.unshift($0(t,r)),e=rC(r)}}function Lhe(t,e){let n=Zr(t).resolveInner(e,-1),r=Fhe(t.doc,n);return n.name=="Identifier"||n.name=="QuotedIdentifier"||n.name=="Keyword"?{from:n.from,quoted:n.name=="QuotedIdentifier"?t.doc.sliceString(n.from,n.from+1):null,parents:mR(t.doc,rC(n)),aliases:r}:n.name=="."?{from:e,quoted:null,parents:mR(t.doc,n),aliases:r}:{from:e,quoted:null,parents:[],empty:!0,aliases:r}}const Ihe=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function Fhe(t,e){let n;for(let i=e;!n;i=i.parent){if(!i)return null;i.name=="Statement"&&(n=i)}let r=null;for(let i=n.firstChild,s=!1,o=null;i;i=i.nextSibling){let a=i.name=="Keyword"?t.sliceString(i.from,i.to).toLowerCase():null,l=null;if(!s)s=a=="from";else if(a=="as"&&o&&W1(i.nextSibling))l=$0(t,i.nextSibling);else{if(a&&Ihe.has(a))break;o&&W1(i)&&(l=$0(t,i))}l&&(r||(r=Object.create(null)),r[l]=Bhe(t,o)),o=/Identifier$/.test(i.name)?i:null}return r}function Phe(t,e,n){return n.map(r=>({...r,label:r.label[0]==t?r.label:t+r.label+e,apply:void 0}))}const zhe=/^\w*$/,Hhe=/^[`'"\[]?\w*[`'"\]]?$/;function gR(t){return t.self&&typeof t.self.label=="string"}class cA{constructor(e,n){this.idQuote=e,this.idCaseInsensitive=n,this.list=[],this.children=void 0}child(e){let n=this.children||(this.children=Object.create(null)),r=n[e];return r||(e&&!this.list.some(i=>i.label==e)&&this.list.push(xR(e,"type",this.idQuote,this.idCaseInsensitive)),n[e]=new cA(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let n=this.list.findIndex(r=>r.label==e.label);n>-1?this.list[n]=e:this.list.push(e)}addCompletions(e){for(let n of e)this.addCompletion(typeof n=="string"?xR(n,"property",this.idQuote,this.idCaseInsensitive):n)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):gR(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let n of Object.keys(e)){let r=e[n],i=null,s=n.replace(/\\?\./g,a=>a=="."?"\0":a).split("\0"),o=this;gR(r)&&(i=r.self,r=r.children);for(let a=0;a<s.length;a++)i&&a==s.length-1&&o.addCompletion(i),o=o.child(s[a].replace(/\\\./g,"."));o.addNamespace(r)}}}function xR(t,e,n,r){return new RegExp("^[a-z_][a-z_\\d]*$",r?"i":"").test(t)?{label:t,type:e}:{label:t,type:e,apply:n+t+VP(n)}}function VP(t){return t==="["?"]":t}function Uhe(t,e,n,r,i,s){var o;let a=((o=s?.spec.identifierQuotes)===null||o===void 0?void 0:o[0])||'"',l=new cA(a,!!s?.spec.caseInsensitiveIdentifiers),c=i?l.child(i):null;return l.addNamespace(t),e&&(c||l).addCompletions(e),n&&l.addCompletions(n),c&&l.addCompletions(c.list),r&&l.addCompletions((c||l).child(r).list),f=>{let{parents:d,from:p,quoted:g,empty:x,aliases:b}=Lhe(f.state,f.pos);if(x&&!f.explicit)return null;b&&d.length==1&&(d=b[d[0]]||d);let v=l;for(let k of d){for(;!v.children||!v.children[k];)if(v==l&&c)v=c;else if(v==c&&r)v=v.child(r);else return null;let A=v.maybeChild(k);if(!A)return null;v=A}let w=v.list;if(v==l&&b&&(w=w.concat(Object.keys(b).map(k=>({label:k,type:"constant"})))),g){let k=g[0],A=VP(k),T=f.state.sliceDoc(f.pos,f.pos+1)==A;return{from:p,to:T?f.pos+1:void 0,options:Phe(k,A,w),validFor:Hhe}}else return{from:p,options:w,validFor:zhe}}}function jhe(t){return t==PP?"type":t==FP?"keyword":"variable"}function $he(t,e,n){let r=Object.keys(t).map(i=>n(e?i.toUpperCase():i,jhe(t[i])));return Iue(["QuotedIdentifier","String","LineComment","BlockComment","."],wP(r))}let Vhe=Rhe.configure({props:[xF.add({Statement:mle()}),bF.add({Statement(t,e){return{from:Math.min(t.from+100,e.doc.lineAt(t.from).to),to:t.to}},BlockComment(t){return{from:t.from+2,to:t.to-2}}}),dF({Keyword:Se.keyword,Type:Se.typeName,Builtin:Se.standard(Se.name),Bits:Se.number,Bytes:Se.string,Bool:Se.bool,Null:Se.null,Number:Se.number,String:Se.string,Identifier:Se.name,QuotedIdentifier:Se.special(Se.string),SpecialVar:Se.special(Se.name),LineComment:Se.lineComment,BlockComment:Se.blockComment,Operator:Se.operator,"Semi Punctuation":Se.punctuation,"( )":Se.paren,"{ }":Se.brace,"[ ]":Se.squareBracket})]});class V0{constructor(e,n,r){this.dialect=e,this.language=n,this.spec=r}get extension(){return this.language.extension}configureLanguage(e,n){return new V0(this.dialect,this.language.configure(e,n),this.spec)}static define(e){let n=Mhe(e,e.keywords,e.types,e.builtin),r=O1.define({name:"sql",parser:Vhe.configure({tokenizers:[{from:$P,to:jP(n)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new V0(n,r,e)}}function qhe(t,e){return{label:t,type:e,boost:-1}}function Whe(t,e=!1,n){return $he(t.dialect.words,e,n||qhe)}function Ghe(t){return t.schema?Uhe(t.schema,t.tables,t.schemas,t.defaultTable,t.defaultSchema,t.dialect||uA):()=>null}function Khe(t){return t.schema?(t.dialect||uA).language.data.of({autocomplete:Ghe(t)}):[]}function Xhe(t={}){let e=t.dialect||uA;return new ole(e.language,[Khe(t),e.language.data.of({autocomplete:Whe(e,t.upperCaseKeywords,t.keywordCompletion)})])}const uA=V0.define({}),Yhe=V0.define({keywords:UP+"abort accept access add all alter and any arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body by case cast char_base check close cluster clusters colauth column comment commit compress connected constant constraint crash create current currval cursor data_base database dba deallocate debugoff debugon declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry exception exception_init exchange exclusive exists external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base of off offline on online only option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw rebuild record ref references refresh rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work",builtin:"appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define echo editfile embedded feedback flagger flush heading headsep instance linesize lno loboffset logsource longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar repfooter repheader serveroutput shiftinout show showmode spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout timing trimout trimspool ttitle underline verify version wrap",types:HP+"ascii bfile bfilename bigserial bit blob dec long number nvarchar nvarchar2 serial smallint string text uid varchar2 xml",operatorChars:"*/+-%<>!=~",doubleQuotedStrings:!0,charSetCasts:!0,plsqlQuotingMechanism:!0});var YE={exports:{}},QE,yR;function Qhe(){if(yR)return QE;yR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return QE=t,QE}var JE,bR;function Jhe(){if(bR)return JE;bR=1;var t=Qhe();function e(){}function n(){}return n.resetWarningCache=e,JE=function(){function r(o,a,l,c,f,d){if(d!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},JE}var vR;function Zhe(){return vR||(vR=1,YE.exports=Jhe()()),YE.exports}var ede=Zhe();const Ei=xu(ede),qP=({children:t})=>{const e=X.useRef(null),[n,r]=X.useState({width:0,height:0});return X.useEffect(()=>{if(!e.current)return;const i=new ResizeObserver(s=>{for(let o of s){const{width:a,height:l}=o.contentRect;r({width:a,height:l})}});return i.observe(e.current),()=>i.disconnect()},[]),C.jsx("div",{ref:e,style:{width:"100%",height:"100%"},children:n.width>0&&n.height>0&&t(n)})};qP.propTypes={children:Ei.func.isRequired};const WP=({height:t,width:e,itemCount:n,itemSize:r,minWidth:i,header:s,headerHeight:o=40,children:a})=>{const[l,c]=X.useState(0),f=X.useRef(null),d=k=>{c(k.target.scrollTop)},p=n*r,g=5,x=Math.max(0,l-o),b=Math.max(0,Math.floor(x/r)-g),v=Math.min(n-1,Math.floor((x+t)/r)+g),w=[];for(let k=b;k<=v;k++)w.push(a({index:k,style:{position:"absolute",top:k*r+o,left:0,width:"100%",height:r}}));return C.jsx("div",{ref:f,onScroll:d,style:{height:t,width:e,overflow:"auto",position:"relative",willChange:"transform"},children:C.jsxs("div",{style:{height:p+o,position:"relative",width:"100%",minWidth:i||"100%"},children:[C.jsx("div",{style:{position:"sticky",top:0,zIndex:10,height:o,width:"100%"},children:s}),w]})})};WP.propTypes={height:Ei.number.isRequired,width:Ei.number.isRequired,itemCount:Ei.number.isRequired,itemSize:Ei.number.isRequired,minWidth:Ei.number,header:Ei.node,headerHeight:Ei.number,children:Ei.func.isRequired};function GP({isVisible:t,tabs:e,setTabs:n,activeTabId:r,setActiveTabId:i,savedQueries:s,setSavedQueries:o}){const{theme:a}=X.useContext(Yy),l=X.useRef(null),c=X.useRef(null),[f,d]=X.useState(null),p=X.useRef(null);X.useEffect(()=>{const ne=()=>{l.current&&l.current.focus()},fe=setTimeout(()=>{ne()},100),Ae=()=>{ne()};return window.addEventListener("focus",Ae),()=>{clearTimeout(fe),window.removeEventListener("focus",Ae)}},[]),X.useEffect(()=>{if(t){const ne=[setTimeout(()=>l.current?.focus(),50),setTimeout(()=>l.current?.focus(),200),setTimeout(()=>l.current?.focus(),500)];return()=>ne.forEach(fe=>clearTimeout(fe))}},[t]);const[g,x]=X.useState({}),b=X.useRef(null),v=(ne,fe)=>{ne.preventDefault(),ne.stopPropagation(),b.current={colName:fe,startX:ne.clientX,startWidth:g[fe]||150},document.addEventListener("mousemove",w),document.addEventListener("mouseup",k)},w=ne=>{if(!b.current)return;const{colName:fe,startX:Ae,startWidth:Je}=b.current,Ke=ne.clientX-Ae,Oe=Math.max(50,Je+Ke);x(Le=>({...Le,[fe]:Oe}))},k=()=>{b.current=null,document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",k)},A=(ne,fe="success",Ae=3e3)=>{p.current&&(clearTimeout(p.current),p.current=null),d({message:ne,type:fe}),Ae>0&&(p.current=setTimeout(()=>{d(null),p.current=null},Ae))},T=e.find(ne=>ne.id===r)||e[0],O=ne=>{n(fe=>fe.map(Ae=>Ae.id===r?{...Ae,...ne}:Ae))},[_,N]=X.useState(!1),[F,L]=X.useState(1e3),[R,P]=X.useState(""),[z,W]=X.useState(!1),[ee,te]=X.useState(!0),[J,ae]=X.useState("saved"),[ce,ve]=X.useState(""),[q,U]=X.useState([]),[M,D]=X.useState(null),[I,V]=X.useState([]),[re,he]=X.useState(!1),[oe,Ee]=X.useState({}),[de,ct]=X.useState({}),[ot,_t]=X.useState([]),[et,Ve]=X.useState({}),[Ie,Be]=X.useState(!1),[it,Et]=X.useState(!1),[Mt,rn]=X.useState(!1),[on,Qn]=X.useState(null);X.useEffect(()=>{if(T.results&&T.results.metaData){const ne={},fe=T.results.metaData.map(Ae=>Ae.name);T.results.metaData.forEach(Ae=>ne[Ae.name]=!0),ct(ne),_t(fe),Ve({})}},[T.results]);const Nt=async(ne="")=>{he(!0);try{const Ae=await(await fetch(`http://localhost:3001/api/tables?search=${encodeURIComponent(ne)}`)).json();U(Ae);const Je={...oe};Ae.forEach(Ke=>{Je[Ke]||(Je[Ke]=[])}),Ee(Je)}catch(fe){console.error("Failed to fetch schema tables",fe)}finally{he(!1)}},Ur=async ne=>{if(M===ne){D(null),V([]);return}D(ne);try{const Ae=await(await fetch(`http://localhost:3001/api/columns/${encodeURIComponent(ne)}`)).json();V(Ae),Ee(Je=>({...Je,[ne]:Ae.map(Ke=>Ke.name)}))}catch(fe){console.error("Failed to fetch columns",fe)}},Ce=ne=>{O({sqlContent:T.sqlContent+" "+ne})},ze=async ne=>{const fe=ne.target.files[0];if(!fe)return;const Ae=new FormData;Ae.append("file",fe),O({loading:!0});try{const Ke=await(await fetch("http://localhost:3001/api/upload/sql",{method:"POST",body:Ae})).json();if(Ke.error)throw new Error(Ke.error);O({sqlContent:Ke.sql,loading:!1}),P(fe.name.replace(/\.sql$/i,""))}catch(Je){O({error:Je.message,loading:!1})}},at=async()=>{O({loading:!0,error:null,results:null,totalRecords:void 0});try{const ne=T.sqlContent.trim().replace(/;+\s*$/,""),Ae=await(await fetch("http://127.0.0.1:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:ne,limit:F,filter:Mt?et:null})})).json();if(Ae.error)throw new Error(Ae.error);const Je={...Ae,rows:Ae.rows||[],metaData:Ae.metaData||[]};Ae.rowsAffected!==void 0?A(`Comando executado com sucesso. Linhas afetadas: ${Ae.rowsAffected}`):!Ae.rows&&!Ae.metaData&&A("Comando executado com sucesso."),O({results:Je,loading:!1});try{const Oe=await(await fetch("http://127.0.0.1:3001/api/query/count",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:ne})})).json();Oe.count!==void 0&&O({totalRecords:Oe.count})}catch(Ke){console.error("Failed to fetch count",Ke)}}catch(ne){O({error:ne.message,loading:!1})}},St=()=>{if(!R){alert("Por favor, insira um nome para a query.");return}const ne={id:Date.now(),name:R,sql:T.sqlContent},fe=[...s,ne];o(fe),W(!1),P("")},Rt=ne=>{if(window.confirm("Tem certeza que deseja excluir esta query?")){const fe=s.filter(Ae=>Ae.id!==ne);o(fe)}},Xt=ne=>{O({sqlContent:ne.sql}),P(ne.name)},Jn=()=>{const ne=Date.now(),fe={id:ne,title:`Query ${e.length+1}`,sqlContent:"",results:null,error:null,loading:!1};n([...e,fe]),i(ne)},$n=(ne,fe)=>{if(ne.stopPropagation(),e.length===1){n([{...e[0],sqlContent:"",results:null,error:null}]);return}const Ae=e.filter(Je=>Je.id!==fe);n(Ae),r===fe&&i(Ae[Ae.length-1].id)},dn=T.results?!Object.values(et).some(fe=>fe&&fe.trim()!=="")||Mt?T.results.rows:T.results.rows.filter(fe=>ot.every((Ae,Je)=>{const Ke=et[Ae];if(!Ke)return!0;const Oe=T.results.metaData.findIndex($e=>$e.name===Ae);return String(fe[Oe]||"").toLowerCase().includes(Ke.toLowerCase())})):[],jt=async()=>{A("Iniciando download do CSV...","info",0);try{const ne=T.sqlContent.trim().replace(/;$/,""),fe=await fetch("http://localhost:3001/api/export/csv",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:ne,filter:Mt?et:null})});if(!fe.ok)throw new Error("Erro na exportao");const Ae=await fe.blob();eE.saveAs(Ae,`export_${Date.now()}.csv`),A("Download concludo!")}catch(ne){console.error(ne),A("Erro ao exportar: "+ne.message,"error")}},Lr=async(ne,fe,Ae)=>{if(window.electronAPI&&window.electronAPI.saveFile){const Je=await window.electronAPI.saveFile({filename:ne,content:fe,type:Ae});Je&&(A("Arquivo salvo com sucesso!"),window.electronAPI.showItemInFolder(Je))}else{let Je;if(Ae==="xlsx"){const Ke=atob(fe),Oe=new Uint8Array(Ke.length);for(let Le=0;Le<Ke.length;Le++)Oe[Le]=Ke.charCodeAt(Le);Je=new Blob([Oe],{type:"application/octet-stream"})}else Je=new Blob([fe],{type:"text/csv;charset=utf-8"});eE.saveAs(Je,ne),A("Download concludo!")}},Ln=async ne=>{if(!T.results||!T.results.rows||T.results.rows.length===0){alert("No h dados para exportar.");return}if((F!=="all"&&T.results.rows.length>=F||Mt)&&window.confirm("A visualizao atual est limitada ou filtrada. Deseja exportar TODAS as linhas correspondentes?")){if(ne==="csv"){jt();return}else if(ne==="xlsx"){if(T.totalRecords>1e5&&window.confirm("Para grandes volumes (>100k), a exportao em Excel pode falhar ou ser lenta. Recomendamos CSV. Deseja exportar em CSV?")){jt();return}T.totalRecords>1e6&&alert("Ateno: O Excel suporta no mximo 1 milho de linhas. A exportao pode falhar. Recomendamos fortemente o uso de CSV."),A("Baixando dados do servidor...","info",0);try{const Je=T.sqlContent.trim().replace(/;$/,""),Oe=await(await fetch("http://127.0.0.1:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:Je,limit:"all",filter:Mt?et:null})})).json();if(Oe.error)throw new Error(Oe.error);const $e=[Oe.metaData.map(Z=>Z.name),...Oe.rows],vt=Sl.book_new(),Lt=Sl.aoa_to_sheet($e);Sl.book_append_sheet(vt,Lt,"Results");const Vn=j2(vt,{bookType:"xlsx",type:"array"}),H=new Uint8Array(Vn);let Y="";const G=H.byteLength;for(let Z=0;Z<G;Z++)Y+=String.fromCharCode(H[Z]);const K=window.btoa(Y),Q=`export_full_${Date.now()}.xlsx`;await Lr(Q,K,"xlsx")}catch(Je){alert("Falha ao buscar todos os dados: "+Je.message)}finally{}return}}A("Gerando arquivo...","info",0),setTimeout(async()=>{try{const Je=[T.results.metaData.map($e=>$e.name),...dn],Oe=`sql_export_${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}.${ne}`;let Le;if(ne==="xlsx"){const $e=Sl.book_new(),vt=Sl.aoa_to_sheet(Je);Sl.book_append_sheet($e,vt,"Results");const Lt=j2($e,{bookType:"xlsx",type:"array"}),Vn=new Uint8Array(Lt);let H="";const Y=Vn.byteLength;for(let G=0;G<Y;G++)H+=String.fromCharCode(Vn[G]);Le=window.btoa(H)}else if(ne==="csv"){const $e=Sl.aoa_to_sheet(Je);Le=Sl.sheet_to_csv($e)}else if(ne==="txt"){const $e=Je.map(Lt=>Lt.join("	")).join(`
`),vt=new Blob([$e],{type:"text/plain;charset=utf-8"});eE.saveAs(vt,`${Oe}.txt`),A("Download concludo!");return}await Lr(Oe,Le,ne)}catch(Ae){console.error("Export Error:",Ae),A("Falha ao exportar: "+Ae.message,"error")}},100)},ps=ne=>{if(typeof ne!="string")return ne;if(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?$/.test(ne)){const Ae=new Date(ne);if(isNaN(Ae.getTime()))return ne;const Je=Ae.getHours(),Ke=Ae.getMinutes(),Oe=Ae.getSeconds();return Je!==0||Ke!==0||Oe!==0?Ae.toLocaleString("pt-BR"):Ae.toLocaleDateString("pt-BR")}return ne},ni=(ne,fe)=>{Qn(fe),ne.dataTransfer.effectAllowed="move"},Wi=(ne,fe)=>{if(ne.preventDefault(),!on||on===fe)return;const Ae=[...ot],Je=Ae.indexOf(on),Ke=Ae.indexOf(fe);Ae.splice(Je,1),Ae.splice(Ke,0,on),_t(Ae)},pn=()=>{Qn(null)},Vt=({index:ne,style:fe})=>{const Ae=dn[ne];return C.jsx("div",{style:fe,className:`flex divide-x ${a.border} ${ne%2===0?a.panel:"bg-opacity-50 "+a.bg} hover:bg-blue-50 transition-colors`,children:ot.map(Je=>{if(!de[Je])return null;const Ke=T.results.metaData.findIndex(Le=>Le.name===Je),Oe=g[Je]||150;return C.jsx("div",{className:`px-2 py-2 text-sm ${a.sidebarText} overflow-hidden text-ellipsis whitespace-nowrap`,style:{width:`${Oe}px`,minWidth:`${Oe}px`,maxWidth:`${Oe}px`},title:String(Ae[Ke]),children:ps(Ae[Ke])},Je)})})},ie=()=>{l.current&&!l.current.hasFocus&&l.current.focus()};return C.jsxs("div",{className:`space-y-4 relative h-full flex flex-col ${a.bg}`,children:[f&&C.jsx("div",{className:`fixed bottom-4 right-4 px-6 py-3 rounded shadow-lg z-50 animate-fade-in-up text-white font-medium ${f.type==="error"?"bg-red-600":"bg-green-600"}`,children:f.message}),_&&C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:C.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl flex flex-col items-center",children:[C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#f37021] mb-4"}),C.jsx("p",{className:"text-gray-700 font-semibold",children:"Exportando dados..."}),C.jsx("p",{className:"text-sm text-gray-500",children:"Por favor, aguarde."})]})}),C.jsxs("div",{className:"flex gap-4 h-full overflow-hidden",children:[C.jsxs("div",{className:"flex-1 space-y-2 flex flex-col overflow-hidden",children:[C.jsxs("div",{className:"flex items-center space-x-1 overflow-x-auto border-b border-gray-200 pb-1",children:[e.map(ne=>C.jsxs("div",{onClick:()=>i(ne.id),className:`group flex items-center px-3 py-1.5 text-xs font-medium rounded-t-lg cursor-pointer border-t border-l border-r ${r===ne.id?"bg-white text-blue-600 border-gray-200 relative top-[1px]":"bg-gray-100 text-gray-500 hover:bg-gray-50 border-transparent"}`,children:[C.jsx("span",{className:"mr-2 max-w-[100px] truncate",children:ne.title}),C.jsx("button",{onClick:fe=>$n(fe,ne.id),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500",children:""})]},ne.id)),C.jsx("button",{onClick:Jn,className:"px-2 py-1 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Nova Aba",children:"+"})]}),C.jsxs("div",{className:"flex-none",children:[C.jsx("div",{ref:c,onClick:ie,className:`border rounded overflow-hidden ${a.border} cursor-text`,children:t&&C.jsx(IP,{value:T.sqlContent,height:"200px",extensions:[Xhe({schema:oe,dialect:Yhe}),DP({override:[ne=>{let fe=ne.matchBefore(/\w*/);if(!fe||fe.from==fe.to&&!ne.explicit)return null;const Ae=[{label:"NVL",type:"function",detail:"nvl(expr1, expr2)"},{label:"NVL2",type:"function",detail:"nvl2(expr1, expr2, expr3)"},{label:"DECODE",type:"function",detail:"decode(expr, search, result...)"},{label:"TO_CHAR",type:"function",detail:"to_char(n, [fmt])"},{label:"TO_DATE",type:"function",detail:"to_date(char, [fmt])"},{label:"TO_NUMBER",type:"function",detail:"to_number(expr, [fmt])"},{label:"SUBSTR",type:"function",detail:"substr(char, position, [len])"},{label:"INSTR",type:"function",detail:"instr(string, substring)"},{label:"REPLACE",type:"function",detail:"replace(char, search, [replace])"},{label:"TRUNC",type:"function",detail:"trunc(date, [fmt])"},{label:"ROUND",type:"function",detail:"round(n, [integer])"},{label:"SYSDATE",type:"keyword",detail:"Current Date"},{label:"UPPER",type:"function",detail:"upper(char)"},{label:"LOWER",type:"function",detail:"lower(char)"},{label:"COALESCE",type:"function",detail:"coalesce(expr1, ...)"},{label:"LISTAGG",type:"function",detail:"listagg(measure, delimiter)"},{label:"CASE",type:"keyword",detail:"CASE WHEN ... END"},{label:"WHEN",type:"keyword"},{label:"THEN",type:"keyword"},{label:"ELSE",type:"keyword"},{label:"END",type:"keyword"}];return{from:fe.from,options:Ae}}]})],onChange:ne=>O({sqlContent:ne}),theme:a.name==="Modo Escuro"||a.name==="Dracula"?"dark":"light",className:"text-sm",onCreateEditor:ne=>{l.current=ne,ne.focus()}})}),C.jsxs("div",{className:`mt-2 flex items-center justify-between p-2 rounded border ${a.panel} ${a.border}`,children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("button",{onClick:at,disabled:!T.sqlContent||T.loading,className:`py-2 px-6 rounded-lg shadow-md transition-all font-semibold flex items-center disabled:opacity-50 ${a.primaryBtn}`,children:T.loading?C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Executando..."]}):C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"mr-2",children:""})," Executar"]})}),T.totalRecords!==void 0&&C.jsxs("span",{className:"text-xs font-medium text-gray-500 ml-2",children:["Total: ",T.totalRecords.toLocaleString()," registros"]}),C.jsx("button",{onClick:()=>te(!ee),className:`p-2 rounded border transition-colors flex items-center justify-center ${ee?`${a.primaryBtn}`:`${a.secondaryBtn}`}`,title:ee?"Ocultar Menu Lateral":"Mostrar Menu Lateral",children:C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"}),C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 6v12"})]})}),C.jsxs("label",{className:"cursor-pointer p-2 rounded border transition-colors text-gray-500 hover:bg-blue-50 hover:text-blue-600",title:"Carregar Arquivo SQL",children:[C.jsx("input",{type:"file",accept:".sql",onChange:ze,className:"hidden"}),C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})]}),C.jsx("div",{className:`flex items-center border-l pl-2 ${a.border}`,children:C.jsxs("select",{value:F,onChange:ne=>L(ne.target.value==="all"?"all":Number(ne.target.value)),title:"Limite de Linhas",className:`border rounded p-1.5 text-xs focus:ring-2 focus:ring-blue-500 outline-none w-24 ${a.input} ${a.border}`,children:[C.jsx("option",{value:100,children:"100 linhas"}),C.jsx("option",{value:500,children:"500 linhas"}),C.jsx("option",{value:1e3,children:"1000 linhas"}),C.jsx("option",{value:5e3,children:"5000 linhas"}),C.jsx("option",{value:"all",children:"Todas"})]})})]}),C.jsx("div",{className:"flex items-center space-x-2",children:z?C.jsxs("div",{className:"flex items-center space-x-2 animate-fade-in",children:[C.jsx("input",{type:"text",value:R,onChange:ne=>P(ne.target.value),placeholder:"Nome da Query",className:`border rounded p-1.5 text-sm focus:ring-2 focus:ring-[#f37021] outline-none ${a.input} ${a.border}`,autoFocus:!0}),C.jsx("button",{onClick:St,className:"text-green-600 hover:bg-green-50 p-1.5 rounded",title:"Confirmar",children:""}),C.jsx("button",{onClick:()=>W(!1),className:"text-red-600 hover:bg-red-50 p-1.5 rounded",title:"Cancelar",children:""})]}):C.jsxs("button",{onClick:()=>W(!0),disabled:!T.sqlContent,className:`px-3 py-2 rounded transition-colors text-sm font-medium flex items-center disabled:opacity-50 ${a.secondaryBtn}`,children:[C.jsx("span",{className:"mr-1",children:""})," Salvar Query"]})})]})]}),T.error&&C.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded shadow-sm",children:[C.jsx("p",{className:"text-red-700 font-medium",children:"Erro ao executar query:"}),C.jsx("p",{className:"text-sm text-red-600 mt-1",children:T.error})]}),T.results&&C.jsxs("div",{className:`rounded-lg shadow-md border flex-1 flex flex-col overflow-hidden min-h-0 ${a.panel} ${a.border}`,children:[C.jsxs("div",{className:`p-3 border-b flex justify-between items-center ${a.header}`,children:[C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsxs("h3",{className:`text-sm font-bold ${a.sidebarText}`,children:["Resultados: ",dn.length," ",T.totalRecords!==void 0?`de ${T.totalRecords.toLocaleString()} (Total)`:""," ",F!=="all"&&T.results.rows.length>=F?"(Limitado)":""]}),C.jsxs("div",{className:"relative",children:[C.jsx("button",{onClick:()=>Be(!Ie),className:`text-xs px-2 py-1 rounded border flex items-center ${a.secondaryBtn} ${a.border}`,children:" Colunas"}),Ie&&C.jsxs("div",{className:`absolute top-full left-0 mt-1 w-48 border rounded shadow-lg z-20 max-h-60 overflow-y-auto p-2 ${a.panel} ${a.border}`,children:[C.jsx("div",{className:"text-xs font-bold text-gray-500 mb-2 uppercase",children:"Exibir/Ocultar"}),ot.map(ne=>C.jsxs("label",{className:"flex items-center space-x-2 mb-1 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[C.jsx("input",{type:"checkbox",checked:de[ne],onChange:fe=>ct({...de,[ne]:fe.target.checked}),className:"rounded text-blue-600 focus:ring-blue-500"}),C.jsx("span",{className:`text-sm truncate ${a.sidebarText}`,children:ne})]},ne))]})]}),C.jsx("button",{onClick:()=>Et(!it),className:`text-xs px-2 py-1 rounded border flex items-center ${it?`${a.primaryBtn}`:`${a.secondaryBtn} ${a.border}`}`,children:" Filtros"}),it&&C.jsxs("label",{className:"flex items-center space-x-1 cursor-pointer select-none",title:"Filtrar em todo o banco de dados (ignora limite)",children:[C.jsx("input",{type:"checkbox",checked:Mt,onChange:ne=>rn(ne.target.checked),className:"rounded text-blue-600 focus:ring-blue-500 h-3 w-3"}),C.jsx("span",{className:`text-[10px] font-medium ${a.sidebarText}`,children:"Filtrar Tudo (Servidor)"})]})]}),C.jsxs("div",{className:"flex space-x-2",children:[C.jsxs("button",{onClick:()=>Ln("csv"),className:`text-xs border px-3 py-1.5 rounded transition-colors font-medium flex items-center ${a.secondaryBtn} ${a.border}`,children:[C.jsx("span",{className:"mr-1",children:""})," CSV"]}),C.jsxs("button",{onClick:()=>Ln("xlsx"),className:`text-xs px-3 py-1.5 rounded shadow-sm transition-colors font-medium flex items-center ${a.primaryBtn}`,children:[C.jsx("span",{className:"mr-1",children:""})," Excel"]})]})]}),C.jsx("div",{className:"flex-1 w-full relative overflow-hidden",children:C.jsx(qP,{children:({height:ne,width:fe})=>{ot.filter(Ke=>de[Ke]).length;const Ae=ot.reduce((Ke,Oe)=>de[Oe]?Ke+(g[Oe]||150):Ke,0),Je=C.jsx("div",{className:`flex divide-x ${a.border} ${a.tableHeader} border-b font-bold text-xs uppercase tracking-wider h-full items-center bg-gray-50`,children:ot.map(Ke=>{if(!de[Ke])return null;const Oe=g[Ke]||150;return C.jsxs("div",{draggable:!0,onDragStart:Le=>ni(Le,Ke),onDragOver:Le=>Wi(Le,Ke),onDragEnd:pn,className:`relative px-2 py-3 flex-none overflow-hidden text-ellipsis cursor-move transition-colors ${on===Ke?"opacity-50 bg-blue-50":""}`,style:{width:`${Oe}px`,minWidth:`${Oe}px`,maxWidth:`${Oe}px`},children:[C.jsxs("div",{className:"flex flex-col space-y-2 w-full",children:[C.jsx("span",{className:"whitespace-normal break-words leading-tight cursor-pointer hover:text-blue-600",title:"Clique duplo para auto-ajustar largura",onDoubleClick:()=>{const $e=document.createElement("canvas").getContext("2d");$e.font='12px "Inter", "Segoe UI", sans-serif';let vt=$e.measureText(Ke).width;(T.results.rows.length>2e3?T.results.rows.slice(0,2e3):T.results.rows).forEach(H=>{const Y=T.results.metaData.findIndex(Q=>Q.name===Ke),G=String(H[Y]||""),K=$e.measureText(G).width;K>vt&&(vt=K)});const Vn=Math.min(Math.max(100,Math.ceil(vt+24)),800);x(H=>({...H,[Ke]:Vn}))},children:Ke}),it&&C.jsx("input",{type:"text",placeholder:Mt?"Filtrar (Enter)...":"Filtrar...",value:et[Ke]||"",onChange:Le=>Ve({...et,[Ke]:Le.target.value}),onKeyDown:Le=>{Le.key==="Enter"&&Mt&&at()},className:`w-full text-xs p-1 border rounded font-normal normal-case ${a.input} ${a.border} ${Mt?"border-blue-400 bg-blue-50":""}`,onClick:Le=>Le.stopPropagation(),title:Mt?"Pressione Enter para buscar no servidor":"Filtragem local"})]}),C.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-400 z-10",onMouseDown:Le=>v(Le,Ke),onClick:Le=>Le.stopPropagation()})]},Ke)})});return C.jsx(WP,{height:ne,width:fe,itemCount:dn.length,itemSize:40,minWidth:Ae,header:Je,headerHeight:it?80:45,children:Vt})}})})]})]}),ee&&C.jsxs("div",{className:`w-64 border-l flex flex-col shadow-sm transition-all duration-300 ${a.panel} ${a.border} overflow-hidden`,children:[C.jsxs("div",{className:`flex border-b ${a.border}`,children:[C.jsx("button",{onClick:()=>ae("saved"),className:`flex-1 py-2 text-xs font-bold uppercase ${J==="saved"?`border-b-2 border-blue-500 ${a.accent}`:"text-gray-400"}`,children:"Salvas"}),C.jsx("button",{onClick:()=>ae("schema"),className:`flex-1 py-2 text-xs font-bold uppercase ${J==="schema"?`border-b-2 border-blue-500 ${a.accent}`:"text-gray-400"}`,children:"Schema"}),C.jsx("button",{onClick:()=>te(!1),className:"px-3 text-gray-400 hover:text-gray-600",children:""})]}),C.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:J==="saved"?C.jsxs(C.Fragment,{children:[s.length===0&&C.jsx("p",{className:"text-gray-400 text-xs text-center italic mt-4",children:"Nenhuma query salva."}),s.map(ne=>C.jsxs("div",{className:`group p-3 rounded border transition-all cursor-pointer relative ${a.border} hover:border-blue-300 hover:bg-blue-50`,onClick:()=>Xt(ne),children:[C.jsx("div",{className:`font-medium text-sm truncate pr-6 ${a.text}`,children:ne.name}),C.jsxs("div",{className:"text-xs text-gray-400 truncate mt-1",children:[ne.sql.substring(0,30),"..."]}),C.jsx("button",{onClick:fe=>{fe.stopPropagation(),Rt(ne.id)},className:"absolute top-2 right-2 text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity",title:"Excluir",children:""})]},ne.id))]}):C.jsxs("div",{className:`${a.bg} p-2 border-t space-y-1 flex flex-col h-full`,children:[C.jsxs("div",{className:"flex space-x-2 mb-2",children:[C.jsx("input",{type:"text",placeholder:"Buscar tabelas...",value:ce,onChange:ne=>ve(ne.target.value),onKeyDown:ne=>ne.key==="Enter"&&Nt(ce),className:`w-full text-xs p-1.5 rounded border outline-none ${a.input} ${a.border}`}),C.jsx("button",{onClick:()=>Nt(ce),disabled:re,className:`px-3 py-1 text-xs rounded font-medium transition-colors ${a.primaryBtn} disabled:opacity-50`,children:re?"...":""})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1",children:[q.length===0&&!re&&C.jsx("div",{className:"text-[10px] text-gray-400 italic text-center mt-4",children:"Use a busca para encontrar tabelas."}),q.map(ne=>C.jsxs("div",{className:`rounded border ${a.border} overflow-hidden`,children:[C.jsxs("div",{onClick:()=>Ur(ne),className:`px-2 py-1.5 text-xs font-medium cursor-pointer flex justify-between items-center hover:bg-opacity-50 ${M===ne?"bg-blue-50 text-blue-700":a.sidebarText} ${a.tableRowHover}`,children:[C.jsx("span",{className:"truncate",title:ne,children:ne}),C.jsx("span",{className:"text-[10px] opacity-50",children:M===ne?"":""})]}),M===ne&&C.jsx("div",{className:`p-1 pl-3 border-t ${a.border} bg-opacity-30 ${a.bg}`,children:(oe[ne]||[]).length===0?C.jsx("div",{className:"text-[10px] text-gray-400 italic px-2",children:"Carregando colunas..."}):C.jsxs(C.Fragment,{children:[(oe[ne]||[]).map(fe=>C.jsx("div",{className:`text-[10px] ${a.text} flex justify-between group cursor-pointer hover:text-blue-600 py-0.5 px-1 rounded hover:bg-gray-100`,title:"Clique duplo para inserir",onDoubleClick:()=>Ce(fe),children:C.jsx("span",{children:fe})},fe)),C.jsx("div",{className:"pt-1 mt-1 border-t border-dashed border-gray-200",children:C.jsx("button",{onClick:()=>Ce(`SELECT * FROM ${ne}`),className:"w-full text-[10px] bg-blue-50 text-blue-600 rounded py-0.5 hover:bg-blue-100 transition-colors",children:"Gerar SELECT"})})]})})]},ne))]})]})})]})]})]})}GP.propTypes={isVisible:Ei.bool,tabs:Ei.array.isRequired,setTabs:Ei.func.isRequired,activeTabId:Ei.number.isRequired,setActiveTabId:Ei.func.isRequired,savedQueries:Ei.array.isRequired,setSavedQueries:Ei.func.isRequired};function tde({isVisible:t,connectionName:e}){if(!t)return null;const[n,r]=X.useState(1),[i,s]=X.useState(null),[o,a]=X.useState(";"),[l,c]=X.useState(""),[f,d]=X.useState([]),[p,g]=X.useState(!1),[x,b]=X.useState(""),[v,w]=X.useState(0),[k,A]=X.useState([]),[T,O]=X.useState(""),[_,N]=X.useState([]),[F,L]=X.useState(!1),[R,P]=X.useState(!1),[z,W]=X.useState(null),[ee,te]=X.useState(null),[J,ae]=X.useState(""),ce=(Ve,Ie)=>{te(Ie),ae(Ve.grantUser||"")},ve=()=>{te(null),ae("")},q=async(Ve,Ie)=>{if(!J.trim()){alert("Por favor, informe um usurio.");return}try{const it=await(await fetch("http://localhost:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:`GRANT ALL ON "${Ve.tableName}" TO "${J.toUpperCase()}"`})})).json();if(it.error){alert("Erro ao conceder permisso: "+it.error);return}const Et=[..._];Et[Ie].grantUser=J.toUpperCase(),N(Et),localStorage.setItem("hap_csv_history",JSON.stringify(Et)),te(null),ae(""),alert(`Permisso concedida para ${J.toUpperCase()} com sucesso!`)}catch(Be){alert("Erro de rede: "+Be.message)}};un.useEffect(()=>{const Ve=localStorage.getItem("hap_csv_history");if(Ve)try{N(JSON.parse(Ve))}catch(Ie){console.error("Failed to parse history",Ie)}},[]);const[U,M]=X.useState(5),D=Ve=>{const Ie=[Ve,..._].slice(0,50);N(Ie),localStorage.setItem("hap_csv_history",JSON.stringify(Ie))},I=async(Ve,Ie)=>{if(window.confirm(`Tem certeza que deseja excluir o histrico e a tabela "${Ve.tableName}"?`))try{const it=await(await fetch("http://localhost:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:`DROP TABLE "${Ve.tableName}"`})})).json();if(it.error&&!it.error.includes("ORA-00942")){alert("Erro ao excluir tabela: "+it.error);return}const Et=[..._];Et.splice(Ie,1),N(Et),localStorage.setItem("hap_csv_history",JSON.stringify(Et))}catch(Be){alert("Erro de rede: "+Be.message)}},V=async Ve=>{try{const Be=await(await fetch("http://localhost:3001/api/check-table",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tableName:Ve})})).json();L(Be.exists),Be.exists?b(`A tabela ${Ve} j existe.`):b("")}catch(Ie){console.error("Error checking table:",Ie)}},[re,he]=X.useState(null),[oe,Ee]=X.useState(";"),[de,ct]=X.useState(0),ot=async Ve=>{let Ie=null,Be=null;if(Ve&&Ve.target&&Ve.target.files&&Ve.target.files[0]){const it=Ve.target.files[0];Ie=it.path,Be=it.name}else{if(!window.electronAPI){alert("Funcionalidade disponvel apenas no App Desktop.");return}Ie=await window.electronAPI.selectFile(),Ie&&(Be=Ie.split(/[/\\]/).pop())}if(Ie){he(Ie),s({name:Be,path:Ie}),g(!0),b("Analisando arquivo..."),w(10);try{const Et=await(await fetch("http://127.0.0.1:3001/api/analyze-local-csv",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:Ie,delimiter:o})})).json();if(Et.error)throw new Error(Et.error);A(Et.preview),c(Et.tableName),d(Et.columns),he(Et.filePath),ct(Et.totalEstimatedRows||0),Et.delimiter&&(a(Et.delimiter),Ee(Et.delimiter)),await V(Et.tableName),r(2),g(!1),b("")}catch(it){b("Erro ao analisar arquivo: "+it.message),g(!1)}}},_t=async()=>{const Ve="job_"+Date.now()+"_"+Math.floor(Math.random()*1e3);W(Ve),g(!0),b("Iniciando importao..."),w(0);const Ie=setInterval(async()=>{try{const Be=await fetch(`http://127.0.0.1:3001/api/import-status/${Ve}`);if(Be.ok){const it=await Be.json();if(it.status&&b(it.status),it.insertedRows&&de>0){const Et=Math.min(Math.round(it.insertedRows/de*100),99);w(Et)}it.progress&&w(it.progress)}}catch(Be){console.error("Polling error",Be)}},1e3);try{const Be=await fetch("http://127.0.0.1:3001/api/create-table",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tableName:l,columns:f,data:k,filePath:re,delimiter:o,grantToUser:T,dropIfExists:R,jobId:Ve})});clearInterval(Ie);const it=await Be.json();it.success?(b("Importao concluda com sucesso!"),w(100),D({fileName:i.name,tableName:l,date:new Date().toISOString(),grantUser:T||"Nenhum",rowCount:it.totalInserted,connection:e}),setTimeout(()=>{r(1),s(null),A([]),d([]),c(""),O(""),he(null),ct(0),g(!1),L(!1),P(!1),W(null),alert(it.message)},1500)):(b("Erro: "+it.message),g(!1),W(null))}catch(Be){clearInterval(Ie),b("Erro de rede: "+Be.message),g(!1),W(null)}},et=async()=>{if(z)try{await fetch(`http://127.0.0.1:3001/api/cancel-import/${z}`,{method:"POST"}),b("Cancelando...")}catch(Ve){console.error("Cancel error",Ve)}};return C.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm border border-gray-200 h-full flex flex-col",children:[C.jsx("h2",{className:"text-2xl font-bold text-[#0054a6] mb-6",children:"Importar Arquivo CSV"}),C.jsxs("div",{className:"flex items-center mb-8",children:[C.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${n>=1?"bg-[#f37021] text-white":"bg-gray-200 text-gray-600"} font-bold`,children:"1"}),C.jsx("div",{className:`flex-1 h-1 mx-2 ${n>=2?"bg-[#f37021]":"bg-gray-200"}`}),C.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${n>=2?"bg-[#f37021] text-white":"bg-gray-200 text-gray-600"} font-bold`,children:"2"}),C.jsx("div",{className:`flex-1 h-1 mx-2 ${n>=3?"bg-[#f37021]":"bg-gray-200"}`}),C.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${n>=3?"bg-[#f37021] text-white":"bg-gray-200 text-gray-600"} font-bold`,children:"3"})]}),n===1&&C.jsxs("div",{className:"flex-1 flex flex-col space-y-6 overflow-y-auto",children:[C.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer min-h-[200px]",onClick:()=>ot(),onDragOver:Ve=>{Ve.preventDefault(),Ve.stopPropagation()},onDrop:Ve=>{Ve.preventDefault(),Ve.stopPropagation(),Ve.dataTransfer.files&&Ve.dataTransfer.files[0]&&ot({target:{files:Ve.dataTransfer.files}})},children:[C.jsx("div",{className:"text-6xl mb-4",children:""}),C.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"Clique para selecionar um arquivo CSV"}),C.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"ou arraste e solte aqui"}),p&&C.jsx("p",{className:"mt-4 text-blue-600",children:x}),x&&x.startsWith("Erro")&&C.jsx("p",{className:"mt-4 text-red-600",children:x})]}),_.length>0&&C.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[C.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-3",children:"ltimas Importaes"}),C.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden overflow-x-auto w-full max-w-[calc(100vw-80px)] md:max-w-full",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[C.jsx("thead",{className:"bg-gray-50",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Conexo"}),C.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Arquivo"}),C.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Tabela"}),C.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Data"}),C.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Registros"}),C.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Permisso"}),C.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Aes"})]})}),C.jsx("tbody",{className:"divide-y divide-gray-200",children:_.slice(0,U).map((Ve,Ie)=>C.jsxs("tr",{className:"hover:bg-gray-50 group",children:[C.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 whitespace-nowrap font-medium",children:Ve.connection||"-"}),C.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 whitespace-nowrap",children:Ve.fileName}),C.jsx("td",{className:"px-4 py-2 text-sm text-[#0054a6] font-medium whitespace-nowrap",children:Ve.tableName}),C.jsxs("td",{className:"px-4 py-2 text-sm text-gray-500 whitespace-nowrap",children:[new Date(Ve.date).toLocaleDateString()," ",new Date(Ve.date).toLocaleTimeString()]}),C.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 whitespace-nowrap",children:Ve.rowCount||"-"}),C.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 whitespace-nowrap",children:ee===Ie?C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("input",{type:"text",value:J,onChange:Be=>ae(Be.target.value),className:"border rounded px-2 py-1 text-xs w-24 uppercase",placeholder:"USURIO"}),C.jsx("button",{onClick:()=>q(Ve,Ie),className:"text-green-600 hover:text-green-800",title:"Salvar",children:""}),C.jsx("button",{onClick:ve,className:"text-red-600 hover:text-red-800",title:"Cancelar",children:""})]}):C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("span",{children:Ve.grantUser||"-"}),C.jsx("button",{onClick:()=>ce(Ve,Ie),className:"text-blue-600 hover:text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity",title:"Editar Permisso",children:""})]})}),C.jsx("td",{className:"px-4 py-2 text-center whitespace-nowrap",children:C.jsx("button",{onClick:()=>I(Ve,Ie),className:"text-red-600 hover:text-red-800 hover:bg-red-50 p-1 rounded transition-colors",title:"Excluir Histrico e Tabela",children:""})})]},Ie))})]})}),_.length>U&&C.jsx("div",{className:"mt-2 text-center",children:C.jsx("button",{onClick:()=>M(Ve=>Ve+5),className:"text-sm text-[#0054a6] hover:underline font-medium",children:"Ver mais..."})})]})]}),n===2&&C.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Visualizar e Editar Colunas"}),C.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 px-3 py-1 rounded border border-blue-100",children:[C.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Tabela:"}),C.jsx("input",{type:"text",value:l,onChange:Ve=>c(Ve.target.value.toUpperCase()),onBlur:()=>V(l),className:"bg-white border border-blue-200 rounded px-2 py-0.5 text-sm font-bold text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-400 uppercase",placeholder:"NOME_DA_TABELA"})]})]}),C.jsxs("div",{className:"text-sm text-gray-500",children:["Total estimado: ",C.jsx("span",{className:"font-bold",children:de})," linhas"]})]}),C.jsx("div",{className:"flex-1 overflow-auto border border-gray-200 rounded-lg",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[C.jsx("thead",{className:"bg-gray-50 sticky top-0",children:C.jsx("tr",{children:f.map((Ve,Ie)=>C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:C.jsxs("div",{className:"flex flex-col space-y-1",children:[C.jsx("input",{type:"text",value:Ve.name,onChange:Be=>{const it=[...f];it[Ie].name=Be.target.value.toUpperCase(),d(it)},className:"bg-transparent border-b border-gray-300 focus:border-[#0054a6] outline-none text-xs font-bold"}),C.jsxs("select",{value:Ve.type,onChange:Be=>{const it=[...f];it[Ie].type=Be.target.value,d(it)},className:"text-xs border-none bg-transparent focus:ring-0 p-0 text-gray-500",children:[C.jsx("option",{value:"VARCHAR2(255)",children:"VARCHAR2(255)"}),C.jsx("option",{value:"NUMBER",children:"NUMBER"}),C.jsx("option",{value:"DATE",children:"DATE"}),C.jsx("option",{value:"CLOB",children:"CLOB"})]})]})},Ie))})}),C.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.slice(0,5).map((Ve,Ie)=>C.jsx("tr",{children:f.map((Be,it)=>C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Ve[Object.keys(Ve)[it]]},it))},Ie))})]})}),C.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[C.jsx("button",{onClick:()=>r(1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Voltar"}),C.jsx("button",{onClick:()=>r(3),className:"px-4 py-2 bg-[#0054a6] text-white rounded-md hover:bg-blue-800",children:"Prximo"})]})]}),n===3&&C.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-lg mx-auto w-full",children:[C.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"Confirmar Importao"}),C.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg w-full mb-6 border border-gray-200",children:[C.jsxs("div",{className:"flex justify-between mb-2",children:[C.jsx("span",{className:"text-gray-600",children:"Arquivo:"}),C.jsx("span",{className:"font-medium",children:i?.name})]}),C.jsxs("div",{className:"flex justify-between mb-2",children:[C.jsx("span",{className:"text-gray-600",children:"Tabela Destino:"}),C.jsx("span",{className:"font-medium text-[#0054a6]",children:l})]}),C.jsxs("div",{className:"flex justify-between mb-2",children:[C.jsx("span",{className:"text-gray-600",children:"Colunas:"}),C.jsx("span",{className:"font-medium",children:f.length})]}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{className:"text-gray-600",children:"Linhas Estimadas:"}),C.jsx("span",{className:"font-medium",children:de>0?de:"Calculando..."})]})]}),F&&C.jsxs("div",{className:"w-full mb-6 bg-orange-50 border border-orange-200 p-4 rounded-lg",children:[C.jsxs("h4",{className:"text-orange-800 font-bold mb-2 flex items-center",children:[C.jsx("span",{className:"mr-2",children:""})," Tabela Existente"]}),C.jsxs("p",{className:"text-sm text-orange-700 mb-3",children:["A tabela ",C.jsx("strong",{children:l})," j existe no banco de dados. O que voc deseja fazer?"]}),C.jsxs("div",{className:"flex space-x-3",children:[C.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[C.jsx("input",{type:"radio",checked:!R,onChange:()=>P(!1),className:"text-orange-600 focus:ring-orange-500"}),C.jsx("span",{className:"text-sm text-gray-700",children:"Cancelar e Renomear (Voltar)"})]}),C.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[C.jsx("input",{type:"radio",checked:R,onChange:()=>P(!0),className:"text-red-600 focus:ring-red-500"}),C.jsx("span",{className:"text-sm text-red-700 font-medium",children:"Recriar Tabela (Apagar dados antigos)"})]})]})]}),C.jsxs("div",{className:"w-full mb-6",children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conceder Permisso de Acesso (GRANT ALL) para outro usurio (Opcional):"}),C.jsx("input",{type:"text",value:T,onChange:Ve=>O(Ve.target.value.toUpperCase()),placeholder:"Ex: OUTRO_USUARIO",className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0054a6] outline-none"}),C.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Se preenchido, executar: ",C.jsxs("code",{children:["GRANT ALL ON ",l," TO ",T||"USUARIO"]})]})]}),p?C.jsxs("div",{className:"w-full text-center",children:[C.jsxs("div",{className:"mb-2 flex justify-between text-sm font-medium text-gray-700",children:[C.jsx("span",{children:x}),C.jsxs("span",{children:[v,"%"]})]}),C.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:C.jsx("div",{className:"bg-[#0054a6] h-2.5 rounded-full transition-all duration-500",style:{width:`${v}%`}})}),C.jsx("button",{onClick:et,className:"px-4 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 text-sm font-medium",children:"Cancelar Importao"})]}):C.jsxs("div",{className:"flex flex-col w-full",children:[C.jsxs("div",{className:"flex space-x-3 w-full",children:[C.jsx("button",{onClick:()=>r(2),className:"flex-1 px-4 py-3 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 font-medium",children:"Voltar"}),C.jsx("button",{onClick:()=>{F&&!R?(r(2),alert("Por favor, renomeie a tabela para continuar.")):_t()},className:`flex-1 px-4 py-3 text-white rounded-md font-bold shadow-md ${F&&!R?"bg-gray-400 cursor-not-allowed":"bg-[#f37021] hover:bg-orange-600"}`,disabled:F&&!R,children:F&&R?"Recriar e Importar":"Iniciar Importao"})]}),x&&x.startsWith("Erro")&&C.jsx("p",{className:"mt-4 text-red-600 text-center font-medium",children:x})]})]})]})}const nde=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rde=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),wR=t=>{const e=rde(t);return e.charAt(0).toUpperCase()+e.slice(1)},KP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),ide=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var sde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ode=X.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>X.createElement("svg",{ref:l,...sde,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:KP("lucide",i),...!s&&!ide(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,f])=>X.createElement(c,f)),...Array.isArray(s)?s:[s]]));const fn=(t,e)=>{const n=X.forwardRef(({className:r,...i},s)=>X.createElement(ode,{ref:s,iconNode:e,className:KP(`lucide-${nde(wR(t))}`,`lucide-${t}`,r),...i}));return n.displayName=wR(t),n};const ade=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],lde=fn("bold",ade);const cde=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],ZE=fn("book",cde);const ude=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],fde=fn("check",ude);const hde=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dde=fn("chevron-down",hde);const pde=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],mde=fn("chevron-left",pde);const gde=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xde=fn("chevron-right",gde);const yde=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],bde=fn("code",yde);const vde=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],wde=fn("copy",vde);const Ede=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ER=fn("file-text",Ede);const Sde=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],Cde=fn("heading-1",Sde);const kde=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Ade=fn("heading-2",kde);const Tde=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],_de=fn("heading-3",Tde);const Nde=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],Dde=fn("highlighter",Nde);const Ode=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Mde=fn("image",Ode);const Rde=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Bde=fn("italic",Rde);const Lde=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Ide=fn("list-ordered",Lde);const Fde=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Pde=fn("list",Fde);const zde=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Hde=fn("maximize-2",zde);const Ude=[["path",{d:"M5 12h14",key:"1ays0h"}]],jde=fn("minus",Ude);const $de=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kx=fn("plus",$de);const Vde=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],qde=fn("quote",Vde);const Wde=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Gde=fn("save",Wde);const Kde=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Xde=fn("sparkles",Kde);const Yde=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qde=fn("square-check-big",Yde);const Jde=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],Zde=fn("strikethrough",Jde);const e0e=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],t0e=fn("table",e0e);const n0e=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],r0e=fn("text-align-center",n0e);const i0e=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],s0e=fn("text-align-end",i0e);const o0e=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]],a0e=fn("text-align-justify",o0e);const l0e=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],c0e=fn("text-align-start",l0e);const u0e=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],f0e=fn("underline",u0e);const h0e=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],d0e=fn("x",h0e);var $c=VB();const p0e=xu($c);var e2={exports:{}},t2={};var SR;function m0e(){if(SR)return t2;SR=1;var t=op();function e(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(d,p){var g=p(),x=r({inst:{value:g,getSnapshot:p}}),b=x[0].inst,v=x[1];return s(function(){b.value=g,b.getSnapshot=p,l(b)&&v({inst:b})},[d,g,p]),i(function(){return l(b)&&v({inst:b}),d(function(){l(b)&&v({inst:b})})},[d]),o(g),g}function l(d){var p=d.getSnapshot;d=d.value;try{var g=p();return!n(d,g)}catch{return!0}}function c(d,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return t2.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,t2}var CR;function XP(){return CR||(CR=1,e2.exports=m0e()),e2.exports}var YP=XP();function ci(t){this.content=t}ci.prototype={constructor:ci,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new ci(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new ci(n)},addToStart:function(t,e){return new ci([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new ci(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new ci(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=ci.from(t),t.size?new ci(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=ci.from(t),t.size?new ci(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=ci.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};ci.from=function(t){if(t instanceof ci)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new ci(e)};function QP(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=QP(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function JP(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,f=Math.min(o.text.length,a.text.length);for(;c<f&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=JP(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class Fe{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let f=a+1;l.nodesBetween(Math.max(0,e-f),Math.min(l.content.size,n-f),r,i+f)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new Fe(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new Fe(r,i)}cutByIndex(e,n){return e==n?Fe.empty:e==0&&n==this.content.length?this:new Fe(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new Fe(i,s)}addToStart(e){return new Fe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Fe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return QP(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return JP(this,e,n,r)}findIndex(e){if(e==0)return Ng(0,e);if(e==this.size)return Ng(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?Ng(n+1,s):Ng(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Fe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fe(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Fe.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new Fe(n||e,r)}static from(e){if(!e)return Fe.empty;if(e instanceof Fe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Fe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fe.empty=new Fe([],0);const n2={index:0,offset:0};function Ng(t,e){return n2.index=t,n2.offset=e,n2}function G1(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!G1(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!G1(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Hn=class iC{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&G1(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return iC.none;if(e instanceof iC)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Hn.none=[];class K1 extends Error{}class nt{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=e9(this.content,e+this.openStart,n);return r&&new nt(r,this.openStart,this.openEnd)}removeBetween(e,n){return new nt(ZP(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return nt.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new nt(Fe.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new nt(e,r,i)}}nt.empty=new nt(Fe.empty,0,0);function ZP(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(ZP(s.content,e-i-1,n-i-1)))}function e9(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=e9(o.content,e-s-1,n,o);return a&&t.replaceChild(i,o.copy(a))}function g0e(t,e,n){if(n.openStart>t.depth)throw new K1("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new K1("Inconsistent open depths");return t9(t,e,n,0)}function t9(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=t9(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return Jc(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=x0e(n,t);return Jc(s,r9(t,o,a,e,r))}else return Jc(s,X1(t,e,r))}function n9(t,e){if(!e.type.compatibleContent(t.type))throw new K1("Cannot join "+e.type.name+" onto "+t.type.name)}function sC(t,e,n){let r=t.node(n);return n9(r,e.node(n)),r}function Qc(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function s0(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Qc(t.nodeAfter,r),s++));for(let a=s;a<o;a++)Qc(i.child(a),r);e&&e.depth==n&&e.textOffset&&Qc(e.nodeBefore,r)}function Jc(t,e){return t.type.checkContent(e),t.copy(e)}function r9(t,e,n,r,i){let s=t.depth>i&&sC(t,e,i+1),o=r.depth>i&&sC(n,r,i+1),a=[];return s0(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(n9(s,o),Qc(Jc(s,r9(t,e,n,r,i+1)),a)):(s&&Qc(Jc(s,X1(t,e,i+1)),a),s0(e,n,i,a),o&&Qc(Jc(o,X1(n,r,i+1)),a)),s0(r,null,i,a),new Fe(a)}function X1(t,e,n){let r=[];if(s0(null,t,n,r),t.depth>n){let i=sC(t,e,n+1);Qc(Jc(i,X1(t,e,n+1)),r)}return s0(e,null,n,r),new Fe(r)}function x0e(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(Fe.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class q0{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Hn.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Y1(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new q0(n,r,s)}static resolveCached(e,n){let r=kR.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else kR.set(e,r=new y0e);let i=r.elts[r.i]=q0.resolve(e,n);return r.i=(r.i+1)%b0e,i}}class y0e{constructor(){this.elts=[],this.i=0}}const b0e=12,kR=new WeakMap;class Y1{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const v0e=Object.create(null);class Ao{constructor(e,n,r,i=Hn.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||Fe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&G1(this.attrs,n||e.defaultAttrs||v0e)&&Hn.sameSet(this.marks,r||Hn.none)}copy(e=null){return e==this.content?this:new Ao(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ao(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return nt.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new nt(c,i.depth-o,s.depth-o)}replace(e,n,r){return g0e(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return q0.resolveCached(this,e)}resolveNoCache(e){return q0.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),i9(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=Fe.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Hn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Hn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=Fe.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}}Ao.prototype.text=void 0;class Q1 extends Ao{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):i9(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Q1(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Q1(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function i9(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class fu{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new w0e(e,n);if(r.next==null)return fu.empty;let i=s9(r);r.next&&r.err("Unexpected trailing text");let s=_0e(T0e(i));return N0e(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return Fe.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:f,next:d}=o.next[c];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let p=s(d,a.concat(f));if(p)return p}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}fu.empty=new fu(!0);class w0e{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function s9(t){let e=[];do e.push(E0e(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function E0e(t){let e=[];do e.push(S0e(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function S0e(t){let e=A0e(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=C0e(t,e);else break;return e}function AR(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function C0e(t,e){let n=AR(t),r=n;return t.eat(",")&&(t.next!="}"?r=AR(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function k0e(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function A0e(t){if(t.eat("(")){let e=s9(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=k0e(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function T0e(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let f=n();i(s(o.expr,l),f),l=f}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let f=n();r(l,f),i(s(o.expr,l),f),l=f}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function o9(t,e){return e-t}function TR(t,e){let n=[];return r(e),n.sort(o9);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function _0e(t){let e=Object.create(null);return n(TR(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let f=0;f<i.length;f++)i[f][0]==a&&(c=i[f][1]);TR(t,l).forEach(f=>{c||i.push([a,c=[]]),c.indexOf(f)==-1&&c.push(f)})})});let s=e[r.join(",")]=new fu(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(o9);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function N0e(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function a9(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function l9(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function c9(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function u9(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new O0e(t,r,e[r]);return n}let _R=class f9{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=u9(e,r.attrs),this.defaultAttrs=a9(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==fu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:l9(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ao(this,this.computeAttrs(e),Fe.from(n),Hn.setFrom(r))}createChecked(e=null,n,r){return n=Fe.from(n),this.checkContent(n),new Ao(this,this.computeAttrs(e),n,Hn.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=Fe.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(Fe.empty,!0);return s?new Ao(this,e,n.append(s),Hn.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){c9(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Hn.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new f9(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function D0e(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class O0e{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?D0e(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class mb{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=u9(e,i.attrs),this.excluded=null;let s=a9(this.attrs);this.instance=s?new Hn(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Hn(this,l9(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new mb(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){c9(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class h9{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=ci.from(e.nodes),n.marks=ci.from(e.marks||{}),this.nodes=_R.compile(this.spec.nodes,this),this.marks=mb.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=fu.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?NR(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:NR(this,o.split(" "))}this.nodeFromJSON=i=>Ao.fromJSON(this,i),this.markFromJSON=i=>Hn.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof _R){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Q1(r,r.defaultAttrs,e,Hn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function NR(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function M0e(t){return t.tag!=null}function R0e(t){return t.style!=null}class Wl{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(M0e(i))this.tags.push(i);else if(R0e(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new OR(this,n,!1);return r.addAll(e,Hn.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new OR(this,n,!0);return r.addAll(e,Hn.none,n.from,n.to),nt.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(I0e(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=MR(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=MR(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Wl(e,Wl.schemaRules(e)))}}const d9={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},B0e={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},p9={ol:!0,ul:!0},W0=1,oC=2,o0=4;function DR(t,e,n){return e!=null?(e?W0:0)|(e==="full"?oC:0):t&&t.whitespace=="pre"?W0|oC:n&~o0}class Dg{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=Hn.none,this.match=s||(o&o0?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Fe.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&W0)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=Fe.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Fe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!d9.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class OR{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=DR(null,n.preserveWhitespace,0)|(r?o0:0);i?s=new Dg(i.type,i.attrs,Hn.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new Dg(null,null,Hn.none,!0,null,o):s=new Dg(e.schema.topNodeType,null,Hn.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&oC?"full":this.localPreserveWS||(i.options&W0)>0,{schema:o}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(o.linebreakReplacement.create())){let a=r.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(o.linebreakReplacement.create(),n,!0),a[l]&&this.insertNode(o.text(a[l]),n,!/\S/.test(a[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(o.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;p9.hasOwnProperty(o)&&this.parser.normalizeLists&&L0e(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:B0e.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,f=this.needsBlock;if(d9.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=l&&l.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(s),this.needsBlock=f}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],c=l.findWrapping(e);if(c&&(!i||i.length>c.length+a)&&(i=c,s=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)n=this.enterInner(i[o],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=Hn.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):RR(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=DR(e,s,o.options);o.options&o0&&o.content.length==0&&(a|=o0);let l=Hn.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):RR(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Dg(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=W0)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let f=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!f||f.name!=c&&!f.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function L0e(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&p9.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function I0e(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function MR(t){let e={};for(let n in t)e[n]=t[n];return e}function RR(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:f}=a.edge(l);if(c==e||s.indexOf(f)<0&&o(f))return!0}};if(o(i.contentMatch))return!0}}class Tu{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=r2(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],f=this.serializeMark(c,o.isInline,n);f&&(s.push([c,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Xx(r2(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Xx(r2(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Xx(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Tu(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=BR(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return BR(e.marks)}}function BR(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function r2(t){return t.document||window.document}const LR=new WeakMap;function F0e(t){let e=LR.get(t);return e===void 0&&LR.set(t,e=P0e(t)),e}function P0e(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Xx(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=F0e(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],f=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){f=2;for(let d in c)if(c[d]!=null){let p=d.indexOf(" ");p>0?l.setAttributeNS(d.slice(0,p),d.slice(p+1),c[d]):d=="style"&&l.style?l.style.cssText=c[d]:l.setAttribute(d,c[d])}}for(let d=f;d<e.length;d++){let p=e[d];if(p===0){if(d<e.length-1||d>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:g,contentDOM:x}=Xx(t,p,n,r);if(l.appendChild(g),x){if(a)throw new RangeError("Multiple content holes");a=x}}}return{dom:l,contentDOM:a}}const m9=65535,g9=Math.pow(2,16);function z0e(t,e){return t+e*g9}function IR(t){return t&m9}function H0e(t){return(t-(t&m9))/g9}const x9=1,y9=2,Yx=4,b9=8;class aC{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&b9)>0}get deletedBefore(){return(this.delInfo&(x9|Yx))>0}get deletedAfter(){return(this.delInfo&(y9|Yx))>0}get deletedAcross(){return(this.delInfo&Yx)>0}}class Ms{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Ms.empty)return Ms.empty}recover(e){let n=0,r=IR(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+H0e(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],f=this.ranges[a+o],d=l+c;if(e<=d){let p=c?e==l?-1:e==d?1:n:n,g=l+i+(p<0?0:f);if(r)return g;let x=e==(n<0?l:d)?null:z0e(a/3,e-l),b=e==l?y9:e==d?x9:Yx;return(n<0?e!=l:e!=d)&&(b|=b9),new aC(g,b,x)}i+=f-c}return r?e+i:new aC(e+i,0,null)}touches(e,n){let r=0,i=IR(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],f=l+c;if(e<=f&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],f=this.ranges[i+r];e(a,a+c,l,l+f),s+=f-c}}invert(){return new Ms(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ms.empty:new Ms(e<0?[0,-e,0]:[0,0,e])}}Ms.empty=new Ms([]);class G0{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new G0(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new G0;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new aC(e,i,null)}}const i2=Object.create(null);class Mi{getMap(){return Ms.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=i2[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in i2)throw new RangeError("Duplicate use of step JSON ID "+e);return i2[e]=n,n.prototype.jsonID=e,n}}class Or{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Or(e,null)}static fail(e){return new Or(null,e)}static fromReplace(e,n,r,i){try{return Or.ok(e.replace(n,r,i))}catch(s){if(s instanceof K1)return Or.fail(s.message);throw s}}}function fA(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(fA(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return Fe.fromArray(r)}class jl extends Mi{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new nt(fA(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return Or.fromReplace(e,this.from,this.to,s)}invert(){return new So(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new jl(n.pos,r.pos,this.mark)}merge(e){return e instanceof jl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new jl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new jl(n.from,n.to,e.markFromJSON(n.mark))}}Mi.jsonID("addMark",jl);class So extends Mi{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new nt(fA(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Or.fromReplace(e,this.from,this.to,r)}invert(){return new jl(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new So(n.pos,r.pos,this.mark)}merge(e){return e instanceof So&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new So(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new So(n.from,n.to,e.markFromJSON(n.mark))}}Mi.jsonID("removeMark",So);class $l extends Mi{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Or.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Or.fromReplace(e,this.pos,this.pos+1,new nt(Fe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new $l(this.pos,n.marks[i]);return new $l(this.pos,this.mark)}}return new hu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new $l(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new $l(n.pos,e.markFromJSON(n.mark))}}Mi.jsonID("addNodeMark",$l);class hu extends Mi{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Or.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Or.fromReplace(e,this.pos,this.pos+1,new nt(Fe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new $l(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new hu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new hu(n.pos,e.markFromJSON(n.mark))}}Mi.jsonID("removeNodeMark",hu);class qr extends Mi{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&lC(e,this.from,this.to)?Or.fail("Structure replace would overwrite content"):Or.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ms([this.from,this.to-this.from,this.slice.size])}invert(e){return new qr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new qr(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof qr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?nt.empty:new nt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new qr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?nt.empty:new nt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new qr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new qr(n.from,n.to,nt.fromJSON(e,n.slice),!!n.structure)}}Mi.jsonID("replace",qr);class Qr extends Mi{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(lC(e,this.from,this.gapFrom)||lC(e,this.gapTo,this.to)))return Or.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Or.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Or.fromReplace(e,this.from,this.to,r):Or.fail("Content does not fit in gap")}getMap(){return new Ms([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Qr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Qr(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Qr(n.from,n.to,n.gapFrom,n.gapTo,nt.fromJSON(e,n.slice),n.insert,!!n.structure)}}Mi.jsonID("replaceAround",Qr);function lC(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function U0e(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,c,f)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&f.type.allowsMarkType(r.type)){let p=Math.max(c,e),g=Math.min(c+l.nodeSize,n),x=r.addToSet(d);for(let b=0;b<d.length;b++)d[b].isInSet(x)||(o&&o.to==p&&o.mark.eq(d[b])?o.to=g:i.push(o=new So(p,g,d[b])));a&&a.to==p?a.to=g:s.push(a=new jl(p,g,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function j0e(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof mb){let c=o.marks,f;for(;f=r.isInSet(c);)(l||(l=[])).push(f),c=f.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let f=0;f<l.length;f++){let d=l[f],p;for(let g=0;g<i.length;g++){let x=i[g];x.step==s-1&&d.eq(i[g].style)&&(p=x)}p?(p.to=c,p.step=s):i.push({style:d,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>t.step(new So(o.from,o.to,o.style)))}function hA(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),f=a+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new qr(a,f,nt.empty));else{r=d;for(let p=0;p<c.marks.length;p++)n.allowsMarkType(c.marks[p].type)||t.step(new So(a,f,c.marks[p]));if(i&&c.isText&&n.whitespace!="pre"){let p,g=/\r?\n|\r/g,x;for(;p=g.exec(c.text);)x||(x=new nt(Fe.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new qr(a+p.index,a+p.index+p[0].length,x))}}a=f}if(!r.validEnd){let l=r.fillBefore(Fe.empty,!0);t.replace(a,a,new nt(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function $0e(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function bh(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,i=0,s=0;;--r){let o=t.$from.node(r),a=t.$from.index(r)+i,l=t.$to.indexAfter(r)-s;if(r<t.depth&&o.canReplace(a,l,n))return r;if(r==0||o.type.spec.isolating||!$0e(o,a,l))break;a&&(i=1),l<o.childCount&&(s=1)}return null}function V0e(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,f=Fe.empty,d=0;for(let x=s,b=!1;x>n;x--)b||r.index(x)>0?(b=!0,f=Fe.from(r.node(x).copy(f)),d++):l--;let p=Fe.empty,g=0;for(let x=s,b=!1;x>n;x--)b||i.after(x+1)<i.end(x)?(b=!0,p=Fe.from(i.node(x).copy(p)),g++):c++;t.step(new Qr(l,c,o,a,new nt(f.append(p),d,g),f.size-d,!0))}function dA(t,e,n=null,r=t){let i=q0e(t,e),s=i&&W0e(r,e);return s?i.map(FR).concat({type:e,attrs:n}).concat(s.map(FR)):null}function FR(t){return{type:t,attrs:null}}function q0e(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function W0e(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function G0e(t,e,n){let r=Fe.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Fe.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new Qr(i,s,i,s,new nt(r,0,0),n.length,!0))}function K0e(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&X0e(t.doc,t.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let g=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);g&&!x?c=!1:!g&&x&&(c=!0)}c===!1&&w9(t,o,a,s),hA(t,t.mapping.slice(s).map(a,1),r,void 0,c===null);let f=t.mapping.slice(s),d=f.map(a,1),p=f.map(a+o.nodeSize,1);return t.step(new Qr(d,p,d+1,p-1,new nt(Fe.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&v9(t,o,a,s),!1}})}function v9(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function w9(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function X0e(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Y0e(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Qr(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new nt(Fe.from(o),0,0),1,!0))}function Pa(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,f=n-2;c>s;c--,f--){let d=i.node(c),p=i.index(c);if(d.type.spec.isolating)return!1;let g=d.content.cutByIndex(p,d.childCount),x=r&&r[f+1];x&&(g=g.replaceChild(0,x.type.create(x.attrs)));let b=r&&r[f]||d;if(!d.canReplace(p+1,d.childCount)||!b.type.validContent(g))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function Q0e(t,e,n=1,r){let i=t.doc.resolve(e),s=Fe.empty,o=Fe.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=Fe.from(i.node(a).copy(s));let f=r&&r[c];o=Fe.from(f?f.type.create(f.attrs,o):i.node(a).copy(o))}t.step(new qr(e,e,new nt(s.append(o),n,n),!0))}function uc(t,e){let n=t.resolve(e),r=n.index();return E9(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function J0e(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function E9(t,e){return!!(t&&e&&!t.isLeaf&&J0e(t,e))}function gb(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&E9(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function Z0e(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let f=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);f&&!d?r=!1:!f&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let f=t.doc.resolve(e+n);w9(t,f.node(),f.before(),a)}o.inlineContent&&hA(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new qr(c,l.map(e+n,-1),nt.empty,!0)),r===!0){let f=t.doc.resolve(c);v9(t,f.node(),f.before(),t.steps.length)}return t}function epe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function S9(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),f=!1;if(s==1)f=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);f=d&&c.canReplaceWith(l,l,d[0])}if(f)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function xb(t,e,n=e,r=nt.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return C9(i,s,r)?new qr(e,n,r):new tpe(i,s,r).fit()}function C9(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class tpe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Fe.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Fe.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new nt(s,o,a);return e>-1?new Qr(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new qr(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=s2(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],f,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore(Fe.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(f=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:f};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=s2(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new nt(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=s2(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new nt(Pd(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new nt(Pd(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let b=0;b<s.length;b++)this.openFrontierNode(s[b]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,f=[],{match:d,type:p}=this.frontier[n];if(i){for(let b=0;b<i.childCount;b++)f.push(i.child(b));d=d.matchFragment(i)}let g=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let b=a.child(c),v=d.matchType(b.type);if(!v)break;c++,(c>1||l==0||b.content.size)&&(d=v,f.push(k9(b.mark(p.allowedMarks(b.marks)),c==1?l:0,c==a.childCount?g:-1)))}let x=c==a.childCount;x||(g=-1),this.placed=zd(this.placed,n,Fe.from(f)),this.frontier[n].match=d,x&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,v=a;b<g;b++){let w=v.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),v=w.content}this.unplaced=x?e==0?nt.empty:new nt(Pd(o.content,e-1,1),e-1,g<0?o.openEnd:e-1):new nt(Pd(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!o2(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=o2(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],f=o2(e,a,c,l,!0);if(!f||f.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=zd(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=zd(this.placed,this.depth,Fe.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Fe.empty,!0);n.childCount&&(this.placed=zd(this.placed,this.frontier.length,n))}}function Pd(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Pd(t.firstChild.content,e-1,n)))}function zd(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(zd(t.lastChild.content,e-1,n)))}function s2(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function k9(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,k9(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Fe.empty,!0)))),t.copy(r)}function o2(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!npe(n,s.content,o)?a:null}function npe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function rpe(t){return t.spec.defining||t.spec.definingForContent}function ipe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(C9(i,s,r))return t.step(new qr(e,n,r));let o=T9(i,s);o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let p=i.depth,g=i.pos-1;p>0;p--,g--){let x=i.node(p).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;o.indexOf(p)>-1?a=p:i.before(p)==g&&o.splice(1,0,-p)}let l=o.indexOf(a),c=[],f=r.openStart;for(let p=r.content,g=0;;g++){let x=p.firstChild;if(c.push(x),g==r.openStart)break;p=x.content}for(let p=f-1;p>=0;p--){let g=c[p],x=rpe(g.type);if(x&&!g.sameMarkup(i.node(Math.abs(a)-1)))f=p;else if(x||!g.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let g=(p+f+1)%(r.openStart+1),x=c[g];if(x)for(let b=0;b<o.length;b++){let v=o[(b+l)%o.length],w=!0;v<0&&(w=!1,v=-v);let k=i.node(v-1),A=i.index(v-1);if(k.canReplaceWith(A,A,x.type,x.marks))return t.replace(i.before(v),w?s.after(v):n,new nt(A9(r.content,0,r.openStart,g),g,r.openEnd))}}let d=t.steps.length;for(let p=o.length-1;p>=0&&(t.replace(e,n,r),!(t.steps.length>d));p--){let g=o[p];g<0||(e=i.before(g),n=s.after(g))}}function A9(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(A9(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(Fe.empty,!0))}return t}function spe(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=epe(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new nt(Fe.from(r),0,0))}function ope(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=T9(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function T9(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class qf extends Mi{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Or.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Or.fromReplace(e,this.pos,this.pos+1,new nt(Fe.from(i),0,n.isLeaf?0:1))}getMap(){return Ms.empty}invert(e){return new qf(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qf(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new qf(n.pos,n.attr,n.value)}}Mi.jsonID("attr",qf);class K0 extends Mi{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Or.ok(r)}getMap(){return Ms.empty}invert(e){return new K0(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new K0(n.attr,n.value)}}Mi.jsonID("docAttr",K0);let ih=class extends Error{};ih=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};ih.prototype=Object.create(Error.prototype);ih.prototype.constructor=ih;ih.prototype.name="TransformError";class pA{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new G0}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new ih(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=nt.empty){let i=xb(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new nt(Fe.from(r),0,0))}delete(e,n){return this.replace(e,n,nt.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return ipe(this,e,n,r),this}replaceRangeWith(e,n,r){return spe(this,e,n,r),this}deleteRange(e,n){return ope(this,e,n),this}lift(e,n){return V0e(this,e,n),this}join(e,n=1){return Z0e(this,e,n),this}wrap(e,n){return G0e(this,e,n),this}setBlockType(e,n=e,r,i=null){return K0e(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return Y0e(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new qf(e,n,r)),this}setDocAttribute(e,n){return this.step(new K0(e,n)),this}addNodeMark(e,n){return this.step(new $l(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Hn)n.isInSet(r.marks)&&this.step(new hu(e,n));else{let i=r.marks,s,o=[];for(;s=n.isInSet(i);)o.push(new hu(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,n=1,r){return Q0e(this,e,n,r),this}addMark(e,n,r){return U0e(this,e,n,r),this}removeMark(e,n,r){return j0e(this,e,n,r),this}clearIncompatible(e,n,r){return hA(this,e,n,r),this}}const a2=Object.create(null);class Tt{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new _9(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=nt.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],f=e.mapping.slice(s);e.replaceRange(f.map(l.pos),f.map(c.pos),a?nt.empty:n),a==0&&HR(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),f=l.map(a.pos);s?e.deleteRange(c,f):(e.replaceRangeWith(c,f,n),HR(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new bt(e):Ef(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?Ef(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Ef(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Is(e.node(0))}static atStart(e){return Ef(e,e,0,0,1)||new Is(e)}static atEnd(e){return Ef(e,e,e.content.size,e.childCount,-1)||new Is(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=a2[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in a2)throw new RangeError("Duplicate use of selection JSON ID "+e);return a2[e]=n,n.prototype.jsonID=e,n}getBookmark(){return bt.between(this.$anchor,this.$head).getBookmark()}}Tt.prototype.visible=!0;class _9{constructor(e,n){this.$from=e,this.$to=n}}let PR=!1;function zR(t){!PR&&!t.parent.inlineContent&&(PR=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class bt extends Tt{constructor(e,n=e){zR(e),zR(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Tt.near(r);let i=e.resolve(n.map(this.anchor));return new bt(i.parent.inlineContent?i:r,r)}replace(e,n=nt.empty){if(super.replace(e,n),n==nt.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof bt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new yb(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new bt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Tt.findFrom(n,r,!0)||Tt.findFrom(n,-r,!0);if(s)n=s.$head;else return Tt.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Tt.findFrom(e,-r,!0)||Tt.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new bt(e,n)}}Tt.jsonID("text",bt);class yb{constructor(e,n){this.anchor=e,this.head=n}map(e){return new yb(e.map(this.anchor),e.map(this.head))}resolve(e){return bt.between(e.resolve(this.anchor),e.resolve(this.head))}}class gt extends Tt{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Tt.near(s):new gt(s)}content(){return new nt(Fe.from(this.node),0,0)}eq(e){return e instanceof gt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new mA(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new gt(e.resolve(n.anchor))}static create(e,n){return new gt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}gt.prototype.visible=!1;Tt.jsonID("node",gt);class mA{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new yb(r,r):new mA(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&gt.isSelectable(r)?new gt(n):Tt.near(n)}}class Is extends Tt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=nt.empty){if(n==nt.empty){e.delete(0,e.doc.content.size);let r=Tt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Is(e)}map(e){return new Is(e)}eq(e){return e instanceof Is}getBookmark(){return ape}}Tt.jsonID("all",Is);const ape={map(){return this},resolve(t){return new Is(t)}};function Ef(t,e,n,r,i,s=!1){if(e.inlineContent)return bt.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&gt.isSelectable(a))return gt.create(t,n-(i<0?a.nodeSize:0))}else{let l=Ef(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function HR(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof qr||i instanceof Qr))return;let s=t.mapping.maps[r],o;s.forEach((a,l,c,f)=>{o==null&&(o=f)}),t.setSelection(Tt.near(t.doc.resolve(o),n))}const UR=1,Og=2,jR=4;class lpe extends pA{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UR)&~Og,this.storedMarks=null,this}get selectionSet(){return(this.updated&UR)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Og,this}ensureMarks(e){return Hn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Og)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Og,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Hn.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Tt.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=jR,this}get scrolledIntoView(){return(this.updated&jR)>0}}function $R(t,e){return!e||!t?t:t.bind(e)}class Hd{constructor(e,n,r){this.name=e,this.init=$R(n.init,r),this.apply=$R(n.apply,r)}}const cpe=[new Hd("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Hd("selection",{init(t,e){return t.selection||Tt.atStart(e.doc)},apply(t){return t.selection}}),new Hd("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Hd("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class l2{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=cpe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Hd(r.key,r.spec.state,r))})}}class Rf{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,f=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(f&&r.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(f),r=r.applyInner(f),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Rf(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new lpe(this)}static create(e){let n=new l2(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Rf(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new l2(this.schema,e.plugins),r=n.fields,i=new Rf(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new l2(e.schema,e.plugins),s=new Rf(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Ao.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=Tt.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function N9(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=N9(i,e,{})),n[r]=i}return n}class Yn{constructor(e){this.spec=e,this.props={},e.props&&N9(e.props,this,this.props),this.key=e.key?e.key.key:D9("plugin")}getState(e){return e[this.key]}}const c2=Object.create(null);function D9(t){return t in c2?t+"$"+ ++c2[t]:(c2[t]=0,t+"$")}class ur{constructor(e="key"){this.key=D9(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const gA=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function O9(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const M9=(t,e,n)=>{let r=O9(t,n);if(!r)return!1;let i=xA(r);if(!i){let o=r.blockRange(),a=o&&bh(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(U9(t,i,e,-1))return!0;if(r.parent.content.size==0&&(sh(s,"end")||gt.isSelectable(s)))for(let o=r.depth;;o--){let a=xb(t.doc,r.before(o),r.after(o),nt.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(sh(s,"end")?Tt.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):gt.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},upe=(t,e,n)=>{let r=O9(t,n);if(!r)return!1;let i=xA(r);return i?R9(t,i,e):!1},fpe=(t,e,n)=>{let r=L9(t,n);if(!r)return!1;let i=yA(r);return i?R9(t,i,e):!1};function R9(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let f=i.lastChild;if(!f)return!1;i=f}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let f=a.firstChild;if(!f)return!1;a=f}let c=xb(t.doc,s,l,nt.empty);if(!c||c.from!=s||c instanceof qr&&c.slice.size>=l-s)return!1;if(n){let f=t.tr.step(c);f.setSelection(bt.create(f.doc,s)),n(f.scrollIntoView())}return!0}function sh(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const B9=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=xA(r)}let o=s&&s.nodeBefore;return!o||!gt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(gt.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function xA(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function L9(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const I9=(t,e,n)=>{let r=L9(t,n);if(!r)return!1;let i=yA(r);if(!i)return!1;let s=i.nodeAfter;if(U9(t,i,e,1))return!0;if(r.parent.content.size==0&&(sh(s,"start")||gt.isSelectable(s))){let o=xb(t.doc,r.before(),r.after(),nt.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(sh(s,"start")?Tt.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):gt.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},F9=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=yA(r)}let o=s&&s.nodeAfter;return!o||!gt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(gt.create(t.doc,s.pos)).scrollIntoView()),!0)};function yA(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const hpe=(t,e)=>{let n=t.selection,r=n instanceof gt,i;if(r){if(n.node.isTextblock||!uc(t.doc,n.from))return!1;i=n.from}else if(i=gb(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(gt.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},dpe=(t,e)=>{let n=t.selection,r;if(n instanceof gt){if(n.node.isTextblock||!uc(t.doc,n.to))return!1;r=n.to}else if(r=gb(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},ppe=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&bh(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},P9=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function bA(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const mpe=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=bA(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Tt.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},z9=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Is||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=bA(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(bt.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},H9=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Pa(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&bh(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function gpe(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof gt&&e.selection.node.isBlock)return!r.parentOffset||!Pa(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,l=!1,c=!1;for(let g=r.depth;;g--)if(r.node(g).isBlock){l=r.end(g)==r.pos+(r.depth-g),c=r.start(g)==r.pos-(r.depth-g),a=bA(r.node(g-1).contentMatchAt(r.indexAfter(g-1))),s.unshift(l&&a?{type:a}:null),o=g;break}else{if(g==1)return!1;s.unshift(null)}let f=e.tr;(e.selection instanceof bt||e.selection instanceof Is)&&f.deleteSelection();let d=f.mapping.map(r.pos),p=Pa(f.doc,d,s.length,s);if(p||(s[0]=a?{type:a}:null,p=Pa(f.doc,d,s.length,s)),!p)return!1;if(f.split(d,s.length,s),!l&&c&&r.node(o).type!=a){let g=f.mapping.map(r.before(o)),x=f.doc.resolve(g);a&&r.node(o-1).canReplaceWith(x.index(),x.index()+1,a)&&f.setNodeMarkup(f.mapping.map(r.before(o)),a)}return n&&n(f.scrollIntoView()),!0}}const xpe=gpe(),ype=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(gt.create(t.doc,i))),!0)};function bpe(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||uc(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function U9(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&bpe(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let g=e.pos+s.nodeSize,x=Fe.empty;for(let w=o.length-1;w>=0;w--)x=Fe.from(o[w].create(null,x));x=Fe.from(i.copy(x));let b=t.tr.step(new Qr(e.pos-1,g,e.pos,g,new nt(x,1,0),o.length,!0)),v=b.doc.resolve(g+2*o.length);v.nodeAfter&&v.nodeAfter.type==i.type&&uc(b.doc,v.pos)&&b.join(v.pos),n(b.scrollIntoView())}return!0}let f=s.type.spec.isolating||r>0&&l?null:Tt.findFrom(e,1),d=f&&f.$from.blockRange(f.$to),p=d&&bh(d);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(d,p).scrollIntoView()),!0;if(c&&sh(s,"start",!0)&&sh(i,"end")){let g=i,x=[];for(;x.push(g),!g.isTextblock;)g=g.lastChild;let b=s,v=1;for(;!b.isTextblock;b=b.firstChild)v++;if(g.canReplace(g.childCount,g.childCount,b.content)){if(n){let w=Fe.empty;for(let A=x.length-1;A>=0;A--)w=Fe.from(x[A].copy(w));let k=t.tr.step(new Qr(e.pos-x.length,e.pos+s.nodeSize,e.pos+v,e.pos+s.nodeSize-v,new nt(w,x.length,0),0,!0));n(k.scrollIntoView())}return!0}}return!1}function j9(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(bt.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const vpe=j9(-1),wpe=j9(1);function Epe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&dA(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function VR(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let f=n.doc.resolve(c),d=f.index();i=f.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}function vA(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}vA(gA,M9,B9);vA(gA,I9,F9);vA(P9,z9,H9,xpe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Spe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let a=r?n.tr:null;return Cpe(a,o,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function Cpe(t,e,n,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new Y1(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Y1(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=dA(s,n,r,e);return a?(t&&kpe(t,e,a,i,n),!0):!1}function kpe(t,e,n,r,i){let s=Fe.empty;for(let f=n.length-1;f>=0;f--)s=Fe.from(n[f].type.create(n[f].attrs,s));t.step(new Qr(e.start-(r?2:0),e.end,e.start,e.end,new nt(s,0,0),n.length,!0));let o=0;for(let f=0;f<n.length;f++)n[f].type==i&&(o=f+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let f=e.startIndex,d=e.endIndex,p=!0;f<d;f++,p=!1)!p&&Pa(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(f).nodeSize;return t}function Ape(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?Tpe(e,n,t,s):_pe(e,n,s):!0:!1}}function Tpe(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Qr(s-1,o,s,o,new nt(Fe.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Y1(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=bh(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return uc(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function _pe(t,e,n){let r=t.tr,i=n.parent;for(let g=n.end,x=n.endIndex-1,b=n.startIndex;x>b;x--)g-=i.child(x).nodeSize,r.delete(g-1,g+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),f=s.index(-1);if(!c.canReplace(f+(a?0:1),f+1,o.content.append(l?Fe.empty:Fe.from(i))))return!1;let d=s.pos,p=d+o.nodeSize;return r.step(new Qr(d-(a?1:0),p+(l?1:0),d+1,p-1,new nt((a?Fe.empty:Fe.from(i.copy(Fe.empty))).append(l?Fe.empty:Fe.from(i.copy(Fe.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function Npe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,f=Fe.from(c?t.create():null),d=new nt(Fe.from(t.create(null,Fe.from(a.type.create(null,f)))),c?3:1,0),p=s.start,g=s.end;n(e.tr.step(new Qr(p-(c?3:1),g,p,g,d,1,!0)).scrollIntoView())}return!0}}const di=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},oh=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let cC=null;const Na=function(t,e,n){let r=cC||(cC=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Dpe=function(){cC=null},du=function(t,e,n,r){return n&&(qR(t,e,n,r,-1)||qR(t,e,n,r,1))},Ope=/^(img|br|input|textarea|hr)$/i;function qR(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:to(t))){let o=t.parentNode;if(!o||o.nodeType!=1||kp(t)||Ope.test(t.nodeName)||t.contentEditable=="false")return!1;e=di(t)+(i<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=o,e=i<0?to(t):0}else return!1}}function to(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Mpe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=to(t)}else if(t.parentNode&&!kp(t))e=di(t),t=t.parentNode;else return null}}function Rpe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!kp(t))e=di(t)+1,t=t.parentNode;else return null}}function Bpe(t,e,n){for(let r=e==0,i=e==to(t);r||i;){if(t==n)return!0;let s=di(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==to(t)}}function kp(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const bb=function(t){return t.focusNode&&du(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function zc(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Lpe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Ipe(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(to(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(to(r.startContainer),r.startOffset)}}}const ta=typeof navigator<"u"?navigator:null,WR=typeof document<"u"?document:null,fc=ta&&ta.userAgent||"",uC=/Edge\/(\d+)/.exec(fc),$9=/MSIE \d/.exec(fc),fC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fc),us=!!($9||fC||uC),Gl=$9?document.documentMode:fC?+fC[1]:uC?+uC[1]:0,oo=!us&&/gecko\/(\d+)/i.test(fc);oo&&+(/Firefox\/(\d+)/.exec(fc)||[0,0])[1];const hC=!us&&/Chrome\/(\d+)/.exec(fc),Yr=!!hC,V9=hC?+hC[1]:0,_i=!us&&!!ta&&/Apple Computer/.test(ta.vendor),ah=_i&&(/Mobile\/\w+/.test(fc)||!!ta&&ta.maxTouchPoints>2),Qs=ah||(ta?/Mac/.test(ta.platform):!1),q9=ta?/Win/.test(ta.platform):!1,Ra=/Android \d/.test(fc),Ap=!!WR&&"webkitFontSmoothing"in WR.documentElement.style,Fpe=Ap?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Ppe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ca(t,e){return typeof t=="number"?t:t[e]}function zpe(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function GR(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=oh(o);continue}let a=o,l=a==s.body,c=l?Ppe(s):zpe(a),f=0,d=0;if(e.top<c.top+Ca(r,"top")?d=-(c.top-e.top+Ca(i,"top")):e.bottom>c.bottom-Ca(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+Ca(i,"top")-c.top:e.bottom-c.bottom+Ca(i,"bottom")),e.left<c.left+Ca(r,"left")?f=-(c.left-e.left+Ca(i,"left")):e.right>c.right-Ca(r,"right")&&(f=e.right-c.right+Ca(i,"right")),f||d)if(l)s.defaultView.scrollBy(f,d);else{let g=a.scrollLeft,x=a.scrollTop;d&&(a.scrollTop+=d),f&&(a.scrollLeft+=f);let b=a.scrollLeft-g,v=a.scrollTop-x;e={left:e.left-b,top:e.top-v,right:e.right-b,bottom:e.bottom-v}}let p=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(p))break;o=p=="absolute"?o.offsetParent:oh(o)}}function Hpe(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:W9(t.dom)}}function W9(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=oh(r));return e}function Upe({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;G9(n,r==0?0:r-e)}function G9(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let mf=null;function jpe(t){if(t.setActive)return t.setActive();if(mf)return t.focus(mf);let e=W9(t);t.focus(mf==null?{get preventScroll(){return mf={preventScroll:!0},!0}}:void 0),mf||(mf=!1,G9(e,0))}function K9(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top,l,c;for(let f=t.firstChild,d=0;f;f=f.nextSibling,d++){let p;if(f.nodeType==1)p=f.getClientRects();else if(f.nodeType==3)p=Na(f).getClientRects();else continue;for(let g=0;g<p.length;g++){let x=p[g];if(x.top<=o&&x.bottom>=a){o=Math.max(x.bottom,o),a=Math.min(x.top,a);let b=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(b<r){n=f,r=b,i=b&&n.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,f.nodeType==1&&b&&(s=d+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!l&&x.left<=e.left&&x.right>=e.left&&(l=f,c={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!n&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(s=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?$pe(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:K9(n,i)}function $pe(t,e){let n=t.nodeValue.length,r=document.createRange(),i;for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let o=Al(r,1);if(o.top!=o.bottom&&wA(e,o)){i={node:t,offset:s+(e.left>=(o.left+o.right)/2?1:0)};break}}return r.detach(),i||{node:t,offset:0}}function wA(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Vpe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function qpe(t,e,n){let{node:r,offset:i}=K9(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function Wpe(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function X9(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(wA(e,c))return X9(o,e,c)}}if((s=(s+1)%r)==i)break}return t}function Gpe(t,e){let n=t.dom.ownerDocument,r,i=0,s=Ipe(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!wA(e,c)||(o=X9(t.dom,e,c),!o))return null}if(_i)for(let c=o;r&&c;c=oh(c))c.draggable&&(r=void 0);if(o=Vpe(o,e),r){if(oo&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let f=r.childNodes[i],d;f.nodeName=="IMG"&&(d=f.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;Ap&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=Wpe(t,r,i,e))}a==null&&(a=qpe(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function KR(t){return t.top<t.bottom||t.left<t.right}function Al(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(KR(r))return r}return Array.prototype.find.call(n,KR)||t.getBoundingClientRect()}const Kpe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Y9(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=Ap||oo;if(r.nodeType==3)if(o&&(Kpe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Al(Na(r,i,i),n);if(oo&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Al(Na(r,i-1,i-1),-1);if(c.top==l.top){let f=Al(Na(r,i,i+1),-1);if(f.top!=l.top)return Td(f,f.left<c.left)}}return l}else{let l=i,c=i,f=n<0?1:-1;return n<0&&!i?(c++,f=-1):n>=0&&i==r.nodeValue.length?(l--,f=1):n<0?l--:c++,Td(Al(Na(r,l,c),f),f<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==to(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return u2(l.getBoundingClientRect(),!1)}if(s==null&&i<to(r)){let l=r.childNodes[i];if(l.nodeType==1)return u2(l.getBoundingClientRect(),!0)}return u2(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==to(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Na(l,to(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Td(Al(c,1),!1)}if(s==null&&i<to(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Na(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return Td(Al(c,-1),!0)}return Td(Al(r.nodeType==3?Na(r):r,-n),n>=0)}function Td(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function u2(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Q9(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function Xpe(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return Q9(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=Y9(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Na(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let f=l[c];if(f.bottom>f.top+1&&(n=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const Ype=/[\u0590-\u08ac]/;function Qpe(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return a?!Ype.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:Q9(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:f,anchorOffset:d}=t.domSelectionRange(),p=a.caretBidiLevel;a.modify("move",n,"character");let g=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:x,focusOffset:b}=t.domSelectionRange(),v=x&&!g.contains(x.nodeType==1?x:x.parentNode)||l==x&&c==b;try{a.collapse(f,d),l&&(l!=f||c!=d)&&a.extend&&a.extend(l,c)}catch{}return p!=null&&(a.caretBidiLevel=p),v}):r.pos==r.start()||r.pos==r.end()}let XR=null,YR=null,QR=!1;function Jpe(t,e,n){return XR==e&&YR==n?QR:(XR=e,YR=n,QR=n=="up"||n=="down"?Xpe(t,e,n):Qpe(t,e,n))}const ao=0,JR=1,Vc=2,na=3;class Tp{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=ao,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>di(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof Z9){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof J9&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?di(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?di(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let f=o+l.border;if(e>=f&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,f);e=o;for(let d=a;d>0;d--){let p=this.children[d-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){i=di(p.dom)+1;break}e-=p.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let f=a+1;f<this.children.length;f++){let d=this.children[f];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=di(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let g=0,x=0;g<this.children.length;g++){let b=this.children[g],v=x+b.size;if(s>x&&o<v)return b.setSelection(e-x-b.border,n-x-b.border,r,i);x=v}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),f=r.domSelectionRange(),d=!1;if((oo||_i)&&e==n){let{node:g,offset:x}=a;if(g.nodeType==3){if(d=!!(x&&g.nodeValue[x-1]==`
`),d&&x==g.nodeValue.length)for(let b=g,v;b;b=b.parentNode){if(v=b.nextSibling){v.nodeName=="BR"&&(a=l={node:v.parentNode,offset:di(v)+1});break}let w=b.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let b=g.childNodes[x-1];d=b&&(b.nodeName=="BR"||b.contentEditable=="false")}}if(oo&&f.focusNode&&f.focusNode!=l.node&&f.focusNode.nodeType==1){let g=f.focusNode.childNodes[f.focusOffset];g&&g.contentEditable=="false"&&(i=!0)}if(!(i||d&&_i)&&du(a.node,a.offset,f.anchorNode,f.anchorOffset)&&du(l.node,l.offset,f.focusNode,f.focusOffset))return;let p=!1;if((c.extend||e==n)&&!(d&&oo)){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),p=!0}catch{}}if(!p){if(e>n){let x=a;a=l,l=x}let g=document.createRange();g.setEnd(l.node,l.offset),g.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(g)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?Vc:JR,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=na:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Vc:na}r=o}this.dirty=Vc}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Vc:JR;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class J9 extends Tp{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==ao&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Zpe extends Tp{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class pu extends Tp{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Tu.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new pu(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&na||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=na&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=ao){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ao}}slice(e,n,r){let i=pu.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=pC(s,n,o,r)),e>0&&(s=pC(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Kl extends Tp{constructor(e,n,r,i,s,o,a,l,c){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),f=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:d}=Tu.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let p=f;return f=n7(f,r,n),c?l=new eme(e,n,r,i,f,d||null,p,c,s,o+1):n.isText?new vb(e,n,r,i,f,p,s):new Kl(e,n,r,i,f,d||null,p,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Fe.empty)}return e}matchesNode(e,n,r){return this.dirty==ao&&e.eq(this.node)&&J1(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new nme(this,o&&o.node,e);sme(this.node,this.innerDeco,(c,f,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(f==this.node.childCount?Hn.none:this.node.child(f).marks,r,e),l.placeWidget(c,e,i)},(c,f,d,p)=>{l.syncToMarks(c.marks,r,e);let g;l.findNodeMatch(c,f,d,p)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(g=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,f,d,g,e)||l.updateNextNode(c,f,d,e,p,i)||l.addNode(c,f,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Vc)&&(o&&this.protectLocalComposition(e,o),e7(this.contentDOM,this.children,e),ah&&ome(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof bt)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=ame(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new Zpe(this,s,n,i);e.input.compositionNodes.push(o),this.children=pC(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==na||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=ao}updateOuterDeco(e){if(J1(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=t7(this.dom,this.nodeDOM,dC(this.outerDeco,this.node,n),dC(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function ZR(t,e,n,r,i){n7(r,e,t);let s=new Kl(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class vb extends Kl{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==na||this.dirty!=ao&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ao||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=ao,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new vb(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=na)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Z9 extends Tp{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ao&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class eme extends Kl{constructor(e,n,r,i,s,o,a,l,c,f){super(e,n,r,i,s,o,a,c,f),this.spec=l}update(e,n,r,i){if(this.dirty==na)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function e7(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=e8(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof pu){let l=r?r.previousSibling:t.lastChild;e7(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=e8(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const a0=function(t){t&&(this.nodeName=t)};a0.prototype=Object.create(null);const qc=[new a0];function dC(t,e,n){if(t.length==0)return qc;let r=n?qc[0]:new a0,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new a0(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new a0(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function t7(t,e,n,r){if(n==qc&&r==qc)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=qc[0]),i=l}tme(i,a||qc[0],o)}return i}function tme(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function n7(t,e,n){return t7(t,t,qc,dC(e,n,t.nodeType!=1))}function J1(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function e8(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class nme{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=rme(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=ao,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=pu.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==na&&o.dom==o.contentDOM&&(o.dirty=Vc),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Kl){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let f=l.dom,d,p=this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=na&&J1(n,l.outerDeco));if(!p&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=f&&(this.changed=!0),this.index++,!0;if(!p&&(d=this.recreateWrapper(l,e,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Vc,d.updateChildren(i,o+1),d.dirty=ao),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!J1(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Kl.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,s){let o=Kl.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new J9(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof pu;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof vb)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((_i||Yr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Z9(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function rme(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof pu)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function ime(t,e){return t.type.side-e.type.side}function sme(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let f=t.child(c);r(f,i,e.forChild(s,f),c),s+=f.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let f,d;for(;o<i.length&&i[o].to==s;){let v=i[o++];v.widget&&(f?(d||(d=[f])).push(v):f=v)}if(f)if(d){d.sort(ime);for(let v=0;v<d.length;v++)n(d[v],c,!!l)}else n(f,c,!!l);let p,g;if(l)g=-1,p=l,l=null;else if(c<t.childCount)g=c,p=t.child(c++);else break;for(let v=0;v<a.length;v++)a[v].to<=s&&a.splice(v--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let x=s+p.nodeSize;if(p.isText){let v=x;o<i.length&&i[o].from<v&&(v=i[o].from);for(let w=0;w<a.length;w++)a[w].to<v&&(v=a[w].to);v<x&&(l=p.cut(v-s),p=p.cut(0,v-s),x=v,g=-1)}else for(;o<i.length&&i[o].to<x;)o++;let b=p.isInline&&!p.isLeaf?a.filter(v=>!v.inline):a.slice();r(p,b,e.forChild(s,p),g),s=x}}function ome(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function ame(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function pC(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,f=a+=l.size;c>=n||f<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),f>n&&s.push(l.slice(n-c,l.size,r)))}return s}function EA(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(bb(n)){for(l=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&gt.isSelectable(d)&&i.parent&&!(d.isInline&&Bpe(n.focusNode,n.focusOffset,i.dom))){let p=i.posBefore;c=new gt(o==p?a:r.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,p=o;for(let g=0;g<n.rangeCount;g++){let x=n.getRangeAt(g);d=Math.min(d,t.docView.posFromDOM(x.startContainer,x.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(d<0)return null;[l,o]=p==t.state.selection.anchor?[p,d]:[d,p],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let f=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=SA(t,f,a,d)}return c}function r7(t){return t.editable?t.hasFocus():s7(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function za(t,e=!1){let n=t.state.selection;if(i7(t,n),!!r7(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Yr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&du(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)cme(t);else{let{anchor:r,head:i}=n,s,o;t8&&!(n instanceof bt)&&(n.$from.parent.inlineContent||(s=n8(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=n8(t,n.to))),t.docView.setSelection(r,i,t,e),t8&&(s&&r8(s),o&&r8(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&lme(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const t8=_i||Yr&&V9<63;function n8(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(_i&&i&&i.contentEditable=="false")return f2(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return f2(i);if(s)return f2(s)}}function f2(t){return t.contentEditable="true",_i&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function r8(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function lme(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!r7(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function cme(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,di(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&us&&Gl<=11&&(n.disabled=!0,n.disabled=!1)}function i7(t,e){if(e instanceof gt){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(i8(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else i8(t)}function i8(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function SA(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||bt.between(e,n,r)}function s8(t){return t.editable&&!t.hasFocus()?!1:s7(t)}function s7(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function ume(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return du(e.node,e.offset,n.anchorNode,n.anchorOffset)}function mC(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Tt.findFrom(s,e)}function Nl(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function o8(t,e,n){let r=t.state.selection;if(r instanceof bt)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Nl(t,new bt(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=mC(t.state,e);return i&&i instanceof gt?Nl(t,i):!1}else if(!(Qs&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?gt.isSelectable(s)?Nl(t,new gt(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Ap?Nl(t,new bt(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof gt&&r.node.isInline)return Nl(t,new bt(e>0?r.$to:r.$from));{let i=mC(t.state,e);return i?Nl(t,i):!1}}}function Z1(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function l0(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function gf(t,e){return e<0?fme(t):hme(t)}function fme(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(oo&&n.nodeType==1&&r<Z1(n)&&l0(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(l0(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(o7(n))break;{let a=n.previousSibling;for(;a&&l0(a,-1);)i=n.parentNode,s=di(a),a=a.previousSibling;if(a)n=a,r=Z1(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?gC(t,n,r):i&&gC(t,i,s)}function hme(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Z1(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(l0(a,1))s=n,o=++r;else break}else{if(o7(n))break;{let a=n.nextSibling;for(;a&&l0(a,1);)s=a.parentNode,o=di(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=Z1(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&gC(t,s,o)}function o7(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function dme(t,e){for(;t&&e==t.childNodes.length&&!kp(t);)e=di(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function pme(t,e){for(;t&&!e&&!kp(t);)e=di(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function gC(t,e,n){if(e.nodeType!=3){let s,o;(o=dme(e,n))?(e=o,n=0):(s=pme(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(bb(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&za(t)},50)}function a8(t,e){let n=t.state.doc.resolve(e);if(!(Yr||q9)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function l8(t,e,n){let r=t.state.selection;if(r instanceof bt&&!r.empty||n.indexOf("s")>-1||Qs&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=mC(t.state,e);if(o&&o instanceof gt)return Nl(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof Is?Tt.near(o,e):Tt.findFrom(o,e);return a?Nl(t,a):!1}return!1}function c8(t,e){if(!(t.state.selection instanceof bt))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function u8(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function mme(t){if(!_i||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;u8(t,r,"true"),setTimeout(()=>u8(t,r,"false"),20)}return!1}function gme(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function xme(t,e){let n=e.keyCode,r=gme(e);if(n==8||Qs&&n==72&&r=="c")return c8(t,-1)||gf(t,-1);if(n==46&&!e.shiftKey||Qs&&n==68&&r=="c")return c8(t,1)||gf(t,1);if(n==13||n==27)return!0;if(n==37||Qs&&n==66&&r=="c"){let i=n==37?a8(t,t.state.selection.from)=="ltr"?-1:1:-1;return o8(t,i,r)||gf(t,i)}else if(n==39||Qs&&n==70&&r=="c"){let i=n==39?a8(t,t.state.selection.from)=="ltr"?1:-1:1;return o8(t,i,r)||gf(t,i)}else{if(n==38||Qs&&n==80&&r=="c")return l8(t,-1,r)||gf(t,-1);if(n==40||Qs&&n==78&&r=="c")return mme(t)||l8(t,1,r)||gf(t,1);if(r==(Qs?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function CA(t,e){t.someProp("transformCopied",g=>{e=g(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let o=t.someProp("clipboardSerializer")||Tu.fromSchema(t.state.schema),a=h7(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,f,d=0;for(;c&&c.nodeType==1&&(f=f7[c.nodeName.toLowerCase()]);){for(let g=f.length-1;g>=0;g--){let x=a.createElement(f[g]);for(;l.firstChild;)x.appendChild(l.firstChild);l.appendChild(x),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",g=>g(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:p,slice:e}}function a7(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=!!e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",p=>{e=p(e,s||r,t)}),s)return a=new nt(Fe.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",p=>{a=p(a,t,!0)}),a;let d=t.someProp("clipboardTextParser",p=>p(e,i,r,t));if(d)a=d;else{let p=i.marks(),{schema:g}=t.state,x=Tu.fromSchema(g);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(b=>{let v=o.appendChild(document.createElement("p"));b&&v.appendChild(x.serializeNode(g.text(b,p)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=wme(n),Ap&&Eme(o);let c=o&&o.querySelector("[data-pm-slice]"),f=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let d=+f[3];d>0;d--){let p=o.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;o=p}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Wl.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||f),context:i,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!yme.test(p.parentNode.nodeName)?{ignore:!0}:null}})),f)a=Sme(f8(a,+f[1],+f[2]),f[4]);else if(a=nt.maxOpen(bme(a.content,i),!0),a.openStart||a.openEnd){let d=0,p=0;for(let g=a.content.firstChild;d<a.openStart&&!g.type.spec.isolating;d++,g=g.firstChild);for(let g=a.content.lastChild;p<a.openEnd&&!g.type.spec.isolating;p++,g=g.lastChild);a=f8(a,d,p)}return t.someProp("transformPasted",d=>{a=d(a,t,l)}),a}const yme=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function bme(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&c7(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=u7(o[o.length-1],s.length));let f=l7(a,l);o.push(f),i=i.matchType(f.type),s=l}}),o)return Fe.from(o)}return t}function l7(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,Fe.from(t));return t}function c7(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=c7(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(Fe.from(l7(n,t,i+1))))}}function u7(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,u7(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(Fe.empty,!0);return t.copy(n.append(r))}function xC(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=xC(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(Fe.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function f8(t,e,n){return e<t.openStart&&(t=new nt(xC(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new nt(xC(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const f7={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let h8=null;function h7(){return h8||(h8=document.implementation.createHTMLDocument("title"))}let h2=null;function vme(t){let e=window.trustedTypes;return e?(h2||(h2=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),h2.createHTML(t)):t}function wme(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=h7().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&f7[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=vme(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function Eme(t){let e=t.querySelectorAll(Yr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Sme(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=Fe.from(l.create(r[a+1],i)),s++,o++}return new nt(i,s,o)}const $i={},Vi={},Cme={touchstart:!0,touchmove:!0};class kme{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Ame(t){for(let e in $i){let n=$i[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{_me(t,r)&&!kA(t,r)&&(t.editable||!(r.type in Vi))&&n(t,r)},Cme[e]?{passive:!0}:void 0)}_i&&t.dom.addEventListener("input",()=>null),yC(t)}function Vl(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Tme(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function yC(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>kA(t,r))})}function kA(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function _me(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Nme(t,e){!kA(t,e)&&$i[e.type]&&(t.editable||!(e.type in Vi))&&$i[e.type](t,e)}Vi.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!p7(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ra&&Yr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),ah&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,zc(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||xme(t,n)?n.preventDefault():Vl(t,"key")};Vi.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Vi.keypress=(t,e)=>{let n=e;if(p7(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Qs&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof bt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function wb(t){return{left:t.clientX,top:t.clientY}}function Dme(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function AA(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Wf(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function Ome(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&gt.isSelectable(r)?(Wf(t,new gt(n)),!0):!1}function Mme(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof gt&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(gt.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Wf(t,gt.create(t.state.doc,i)),!0):!1}function Rme(t,e,n,r,i){return AA(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?Mme(t,n):Ome(t,n))}function Bme(t,e,n,r){return AA(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function Lme(t,e,n,r){return AA(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||Ime(t,n,r)}function Ime(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Wf(t,bt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Wf(t,bt.create(r,a+1,a+1+o.content.size));else if(gt.isSelectable(o))Wf(t,gt.create(r,a));else continue;return!0}}function TA(t){return ey(t)}const d7=Qs?"metaKey":"ctrlKey";$i.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=TA(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&Dme(n,t.input.lastClick)&&!n[d7]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let o=t.posAtCoords(wb(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Fme(t,o,n,!!r)):(s=="doubleClick"?Bme:Lme)(t,o.pos,o.inside,n)?n.preventDefault():Vl(t,"pointer"))};class Fme{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[d7],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let f=e.state.doc.resolve(n.pos);s=f.parent,o=f.depth?f.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof gt&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&oo&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Vl(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>za(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(wb(e))),this.updateAllowDefault(e),this.allowDefault||!n?Vl(this.view,"pointer"):Rme(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||_i&&this.mightDrag&&!this.mightDrag.node.isAtom||Yr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Wf(this.view,Tt.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Vl(this.view,"pointer")}move(e){this.updateAllowDefault(e),Vl(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}$i.touchstart=t=>{t.input.lastTouch=Date.now(),TA(t),Vl(t,"pointer")};$i.touchmove=t=>{t.input.lastTouch=Date.now(),Vl(t,"pointer")};$i.contextmenu=t=>TA(t);function p7(t,e){return t.composing?!0:_i&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Pme=Ra?5e3:-1;Vi.compositionstart=Vi.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof bt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Yr&&q9&&zme(t)))t.markCursor=t.state.storedMarks||n.marks(),ey(t,!0),t.markCursor=null;else if(ey(t,!e.selection.empty),oo&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}m7(t,Pme)};function zme(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}Vi.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,m7(t,20))};function m7(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>ey(t),e))}function g7(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Ume());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Hme(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=Mpe(e.focusNode,e.focusOffset),r=Rpe(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function Ume(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function ey(t,e=!1){if(!(Ra&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),g7(t),e||t.docView&&t.docView.dirty){let n=EA(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function jme(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const X0=us&&Gl<15||ah&&Fpe<604;$i.copy=Vi.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=X0?null:n.clipboardData,o=r.content(),{dom:a,text:l}=CA(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):jme(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function $me(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Vme(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Y0(t,r.value,null,i,e):Y0(t,r.textContent,r.innerHTML,i,e)},50)}function Y0(t,e,n,r,i){let s=a7(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||nt.empty)))return!0;if(!s)return!1;let o=$me(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function x7(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Vi.paste=(t,e)=>{let n=e;if(t.composing&&!Ra)return;let r=X0?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Y0(t,x7(r),r.getData("text/html"),i,n)?n.preventDefault():Vme(t,n)};class y7{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const qme=Qs?"altKey":"ctrlKey";function b7(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[qme]}$i.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(wb(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof gt?i.to-1:i.to))){if(r&&r.mightDrag)o=gt.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=gt.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:f}=CA(t,a);(!n.dataTransfer.files.length||!Yr||V9>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(X0?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",X0||n.dataTransfer.setData("text/plain",c),t.dragging=new y7(f,b7(t,n),o)};$i.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Vi.dragover=Vi.dragenter=(t,e)=>e.preventDefault();Vi.drop=(t,e)=>{try{Wme(t,e,t.dragging)}finally{t.dragging=null}};function Wme(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(wb(e));if(!r)return;let i=t.state.doc.resolve(r.pos),s=n&&n.slice;s?t.someProp("transformPasted",g=>{s=g(s,t,!1)}):s=a7(t,x7(e.dataTransfer),X0?null:e.dataTransfer.getData("text/html"),!1,i);let o=!!(n&&b7(t,e));if(t.someProp("handleDrop",g=>g(t,e,s||nt.empty,o))){e.preventDefault();return}if(!s)return;e.preventDefault();let a=s?S9(t.state.doc,i.pos,s):i.pos;a==null&&(a=i.pos);let l=t.state.tr;if(o){let{node:g}=n;g?g.replace(l):l.deleteSelection()}let c=l.mapping.map(a),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=l.doc;if(f?l.replaceRangeWith(c,c,s.content.firstChild):l.replaceRange(c,c,s),l.doc.eq(d))return;let p=l.doc.resolve(c);if(f&&gt.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))l.setSelection(new gt(p));else{let g=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((x,b,v,w)=>g=w),l.setSelection(SA(t,p,l.doc.resolve(g)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}$i.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&za(t)},20))};$i.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};$i.beforeinput=(t,e)=>{if(Yr&&Ra&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,zc(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Vi)$i[t]=Vi[t];function Q0(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class ty{constructor(e,n){this.toDOM=e,this.spec=n||Zc,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Hr(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof ty&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Q0(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Xl{constructor(e,n){this.attrs=e,this.spec=n||Zc}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Hr(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Xl&&Q0(this.attrs,e.attrs)&&Q0(this.spec,e.spec)}static is(e){return e.type instanceof Xl}destroy(){}}class _A{constructor(e,n){this.attrs=e,this.spec=n||Zc}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Hr(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof _A&&Q0(this.attrs,e.attrs)&&Q0(this.spec,e.spec)}destroy(){}}class Hr{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Hr(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Hr(e,e,new ty(n,r))}static inline(e,n,r,i){return new Hr(e,n,new Xl(r,i))}static node(e,n,r,i){return new Hr(e,n,new _A(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Xl}get widget(){return this.type instanceof ty}}const Sf=[],Zc={};class zn{constructor(e,n){this.local=e.length?e:Sf,this.children=n.length?n:Sf}static create(e,n){return n.length?ny(n,e,0,Zc):wi}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==wi||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Zc)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?Gme(this.children,o||[],e,n,r,i,s):o?new zn(o.sort(eu),Sf):wi}add(e,n){return n.length?this==wi?zn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,f;if(f=w7(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,f,c+1):i.splice(s,0,l,l+a.nodeSize,ny(f,a,c+1,Zc)),s+=3}});let o=v7(s?E7(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new zn(o.length?this.local.concat(o).sort(eu):this.local,i||this.children)}remove(e){return e.length==0||this==wi?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let f=0,d;f<e.length;f++)(d=e[f])&&d.from>a&&d.to<l&&(e[f]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=wi?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new zn(i,r):wi}forChild(e,n){if(this==wi)return this;if(n.isLeaf)return zn.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Xl){let c=Math.max(s,l.from)-s,f=Math.min(o,l.to)-s;c<f&&(i||(i=[])).push(l.copy(c,f))}}if(i){let a=new zn(i.sort(eu),Sf);return r?new Bl([a,r]):a}return r||wi}eq(e){if(this==e)return!0;if(!(e instanceof zn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return NA(this.localsInner(e))}localsInner(e){if(this==wi)return Sf;if(e.inlineContent||!this.local.some(Xl.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Xl||n.push(this.local[r]);return n}forEachSet(e){e(this)}}zn.empty=new zn([],[]);zn.removeOverlap=NA;const wi=zn.empty;class Bl{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Zc));return Bl.from(r)}forChild(e,n){if(n.isLeaf)return zn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=wi&&(s instanceof Bl?r=r.concat(s.members):r.push(s))}return Bl.from(r)}eq(e){if(!(e instanceof Bl)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?NA(r?n:n.sort(eu)):Sf}static from(e){switch(e.length){case 0:return wi;case 1:return e[0];default:return new Bl(e.every(n=>n instanceof zn)?e:e.reduce((n,r)=>n.concat(r instanceof zn?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function Gme(t,e,n,r,i,s,o){let a=t.slice();for(let c=0,f=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((p,g,x,b)=>{let v=b-x-(g-p);for(let w=0;w<a.length;w+=3){let k=a[w+1];if(k<0||p>k+f-d)continue;let A=a[w]+f-d;g>=A?a[w+1]=p<=A?-2:-1:p>=f&&v&&(a[w]+=v,a[w+1]+=v)}d+=v}),f=n.maps[c].map(f,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let f=n.map(t[c]+s),d=f-i;if(d<0||d>=r.content.size){l=!0;continue}let p=n.map(t[c+1]+s,-1),g=p-i,{index:x,offset:b}=r.content.findIndex(d),v=r.maybeChild(x);if(v&&b==d&&b+v.nodeSize==g){let w=a[c+2].mapInner(n,v,f+1,t[c]+s+1,o);w!=wi?(a[c]=d,a[c+1]=g,a[c+2]=w):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=Kme(a,t,e,n,i,s,o),f=ny(c,r,0,o);e=f.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,p=0;d<f.children.length;d+=3){let g=f.children[d];for(;p<a.length&&a[p]<g;)p+=3;a.splice(p,0,f.children[d],f.children[d+1],f.children[d+2])}}return new zn(e.sort(eu),a)}function v7(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Hr(i.from+e,i.to+e,i.type))}return n}function Kme(t,e,n,r,i,s,o){function a(l,c){for(let f=0;f<l.local.length;f++){let d=l.local[f].map(r,i,c);d?n.push(d):o.onRemove&&o.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)a(l.children[f+2],l.children[f]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function w7(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function E7(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function ny(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let c=w7(t,a,l+n);if(c){s=!0;let f=ny(c,a,n+l+1,r);f!=wi&&i.push(l,l+a.nodeSize,f)}});let o=v7(s?E7(t):t,-n).sort(eu);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new zn(o,i):wi}function eu(t,e){return t.from-e.from||t.to-e.to}function NA(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),d8(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),d8(e,i,r.copy(s.from,r.to)));break}}}return e}function d8(t,e,n){for(;e<t.length&&eu(n,t[e])>0;)e++;t.splice(e,0,n)}function d2(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=wi&&e.push(r)}),t.cursorWrapper&&e.push(zn.create(t.state.doc,[t.cursorWrapper.deco])),Bl.from(e)}const Xme={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Yme=us&&Gl<=11;class Qme{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Jme{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Qme,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);us&&Gl<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Yme&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Xme)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(s8(this.view)){if(this.suppressingSelectionUpdates)return za(this.view);if(us&&Gl<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&du(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=oh(s))n.add(s);for(let s=e.anchorNode;s;s=oh(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&s8(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let f=0;f<n.length;f++){let d=this.registerMutation(n[f],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(oo&&l.length){let f=l.filter(d=>d.nodeName=="BR");if(f.length==2){let[d,p]=f;d.parentNode&&d.parentNode.parentNode==p.parentNode?p.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let p of f){let g=p.parentNode;g&&g.nodeName=="LI"&&(!d||tge(e,d)!=g)&&p.remove()}}}else if((Yr||_i)&&l.some(f=>f.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let f of l)if(f.nodeName=="BR"&&f.parentNode){let d=f.nextSibling;d&&d.nodeType==1&&d.contentEditable=="false"&&f.parentNode.removeChild(f)}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&bb(r)&&(c=EA(e))&&c.eq(Tt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,za(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),Zme(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||za(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let d=e.addedNodes[f];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(us&&Gl<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:d,nextSibling:p}=e.addedNodes[f];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(s=p)}let o=i&&i.parentNode==e.target?di(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?di(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let p8=new WeakMap,m8=!1;function Zme(t){if(!p8.has(t)&&(p8.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=oo,m8)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),m8=!0}}function g8(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return du(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function ege(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return g8(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?g8(t,n):null}function tge(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function nge(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,f=l.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(c=[{node:f,offset:l.anchorOffset}],bb(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Yr&&t.input.lastKeyCode===8)for(let v=s;v>i;v--){let w=r.childNodes[v-1],k=w.pmViewDesc;if(w.nodeName=="BR"&&!k){s=v;break}if(!k||k.size)break}let d=t.state.doc,p=t.someProp("domParser")||Wl.fromSchema(t.state.schema),g=d.resolve(o),x=null,b=p.parse(r,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:s,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:rge,context:g});if(c&&c[0].pos!=null){let v=c[0].pos,w=c[1]&&c[1].pos;w==null&&(w=v),x={anchor:v+o,head:w+o}}return{doc:b,sel:x,from:o,to:a}}function rge(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(_i&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||_i&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const ige=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function sge(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let N=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,F=EA(t,N);if(F&&!t.state.selection.eq(F)){if(Yr&&Ra&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",R=>R(t,zc(13,"Enter"))))return;let L=t.state.tr.setSelection(F);N=="pointer"?L.setMeta("pointer",!0):N=="key"&&L.scrollIntoView(),s&&L.setMeta("composition",s),t.dispatch(L)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=nge(t,e,n),f=t.state.doc,d=f.slice(c.from,c.to),p,g;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,g="end"):(p=t.state.selection.from,g="start"),t.input.lastKeyCode=null;let x=lge(d.content,c.doc.content,c.from,p,g);if(x&&t.input.domChangeCount++,(ah&&t.input.lastIOSEnter>Date.now()-225||Ra)&&i.some(N=>N.nodeType==1&&!ige.test(N.nodeName))&&(!x||x.endA>=x.endB)&&t.someProp("handleKeyDown",N=>N(t,zc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!x)if(r&&l instanceof bt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))x={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let N=x8(t,t.state.doc,c.sel);if(N&&!N.eq(t.state.selection)){let F=t.state.tr.setSelection(N);s&&F.setMeta("composition",s),t.dispatch(F)}}return}t.state.selection.from<t.state.selection.to&&x.start==x.endB&&t.state.selection instanceof bt&&(x.start>t.state.selection.from&&x.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?x.start=t.state.selection.from:x.endA<t.state.selection.to&&x.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(x.endB+=t.state.selection.to-x.endA,x.endA=t.state.selection.to)),us&&Gl<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>c.from&&c.doc.textBetween(x.start-c.from-1,x.start-c.from+1)==" "&&(x.start--,x.endA--,x.endB--);let b=c.doc.resolveNoCache(x.start-c.from),v=c.doc.resolveNoCache(x.endB-c.from),w=f.resolve(x.start),k=b.sameParent(v)&&b.parent.inlineContent&&w.end()>=x.endA;if((ah&&t.input.lastIOSEnter>Date.now()-225&&(!k||i.some(N=>N.nodeName=="DIV"||N.nodeName=="P"))||!k&&b.pos<c.doc.content.size&&(!b.sameParent(v)||!b.parent.inlineContent)&&b.pos<v.pos&&!/\S/.test(c.doc.textBetween(b.pos,v.pos,"","")))&&t.someProp("handleKeyDown",N=>N(t,zc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>x.start&&age(f,x.start,x.endA,b,v)&&t.someProp("handleKeyDown",N=>N(t,zc(8,"Backspace")))){Ra&&Yr&&t.domObserver.suppressSelectionUpdates();return}Yr&&x.endB==x.start&&(t.input.lastChromeDelete=Date.now()),Ra&&!k&&b.start()!=v.start()&&v.parentOffset==0&&b.depth==v.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==x.endA&&(x.endB-=2,v=c.doc.resolveNoCache(x.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(N){return N(t,zc(13,"Enter"))})},20));let A=x.start,T=x.endA,O=N=>{let F=N||t.state.tr.replace(A,T,c.doc.slice(x.start-c.from,x.endB-c.from));if(c.sel){let L=x8(t,F.doc,c.sel);L&&!(Yr&&t.composing&&L.empty&&(x.start!=x.endB||t.input.lastChromeDelete<Date.now()-100)&&(L.head==A||L.head==F.mapping.map(T)-1)||us&&L.empty&&L.head==A)&&F.setSelection(L)}return s&&F.setMeta("composition",s),F.scrollIntoView()},_;if(k)if(b.pos==v.pos){us&&Gl<=11&&b.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>za(t),20));let N=O(t.state.tr.delete(A,T)),F=f.resolve(x.start).marksAcross(f.resolve(x.endA));F&&N.ensureMarks(F),t.dispatch(N)}else if(x.endA==x.endB&&(_=oge(b.parent.content.cut(b.parentOffset,v.parentOffset),w.parent.content.cut(w.parentOffset,x.endA-w.start())))){let N=O(t.state.tr);_.type=="add"?N.addMark(A,T,_.mark):N.removeMark(A,T,_.mark),t.dispatch(N)}else if(b.parent.child(b.index()).isText&&b.index()==v.index()-(v.textOffset?0:1)){let N=b.parent.textBetween(b.parentOffset,v.parentOffset),F=()=>O(t.state.tr.insertText(N,A,T));t.someProp("handleTextInput",L=>L(t,A,T,N,F))||t.dispatch(F())}else t.dispatch(O());else t.dispatch(O())}function x8(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:SA(t,e.resolve(n.anchor),e.resolve(n.head))}function oge(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);for(let f=0;f<n.length;f++)s=n[f].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=f=>f.mark(a.addToSet(f.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=f=>f.mark(a.removeFromSet(f.marks));else return null;let c=[];for(let f=0;f<e.childCount;f++)c.push(l(e.child(f)));if(Fe.from(c).eq(t))return{mark:a,type:o}}function age(t,e,n,r,i){if(n-e<=i.pos-r.pos||p2(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(p2(s,!0,!0));return!o.parent.isTextblock||o.pos>n||p2(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function p2(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function lge(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&t.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&y8(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&y8(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function y8(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class S7{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new kme,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(S8),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=w8(this),v8(this),this.nodeViews=E8(this),this.docView=ZR(this.state.doc,b8(this),d2(this),this.dom,this),this.domObserver=new Jme(this,(r,i,s,o)=>sge(this,r,i,s,o)),this.domObserver.start(),Ame(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&yC(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(S8),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(g7(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let g=E8(this);uge(g,this.nodeViews)&&(this.nodeViews=g,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&yC(this),this.editable=w8(this),v8(this);let l=d2(this),c=b8(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(o=!0);let p=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Hpe(this);if(o){this.domObserver.stop();let g=d&&(us||Yr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&cge(i.selection,e.selection);if(d){let x=Yr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Hme(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=ZR(e.doc,c,l,this.dom,this)),x&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&ume(this))?za(this,g):(i7(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():p&&Upe(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof gt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&GR(this,n.getBoundingClientRect(),e)}else GR(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new y7(e.slice,e.move,i<0?void 0:gt.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(us){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&jpe(this.dom),za(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Gpe(this,e)}coordsAtPos(e,n=1){return Y9(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return Jpe(this,n||this.state,e)}pasteHTML(e,n){return Y0(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Y0(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return CA(this,e)}destroy(){this.docView&&(Tme(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],d2(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Dpe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Nme(this,e)}domSelectionRange(){let e=this.domSelection();return e?_i&&this.root.nodeType===11&&Lpe(this.dom.ownerDocument)==this.dom&&ege(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}S7.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function b8(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Hr.node(0,t.state.doc.content.size,e)]}function v8(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Hr.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function w8(t){return!t.someProp("editable",e=>e(t.state)===!1)}function cge(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function E8(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function uge(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function S8(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const fge=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),hge=typeof navigator<"u"&&/Win/.test(navigator.platform);function dge(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))fge?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function pge(t){let e=Object.create(null);for(let n in t)e[dge(n)]=t[n];return e}function m2(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function mge(t){return new Yn({props:{handleKeyDown:DA(t)}})}function DA(t){let e=pge(t);return function(n,r){let i=QL(r),s,o=e[m2(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[m2(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(hge&&r.ctrlKey&&r.altKey)&&(s=$a[r.keyCode])&&s!=i){let a=e[m2(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var gge=Object.defineProperty,OA=(t,e)=>{for(var n in e)gge(t,n,{get:e[n],enumerable:!0})};function Eb(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var Sb=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([o,a])=>[o,(...c)=>{const f=a(...c)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o=[],a=!!t,l=t||i.tr,c=()=>(!a&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),o.every(d=>d===!0)),f={...Object.fromEntries(Object.entries(n).map(([d,p])=>[d,(...x)=>{const b=this.buildProps(l,e),v=p(...x)(b);return o.push(v),f}])),run:c};return f}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...c)=>l(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,o={tr:t,editor:r,view:s,state:Eb({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...c)=>l(...c)(o)]))}};return o}},C7={};OA(C7,{blur:()=>xge,clearContent:()=>yge,clearNodes:()=>bge,command:()=>vge,createParagraphNear:()=>wge,cut:()=>Ege,deleteCurrentNode:()=>Sge,deleteNode:()=>Cge,deleteRange:()=>kge,deleteSelection:()=>Age,enter:()=>Tge,exitCode:()=>_ge,extendMarkRange:()=>Nge,first:()=>Dge,focus:()=>Oge,forEach:()=>Mge,insertContent:()=>Rge,insertContentAt:()=>Ige,joinBackward:()=>zge,joinDown:()=>Pge,joinForward:()=>Hge,joinItemBackward:()=>Uge,joinItemForward:()=>jge,joinTextblockBackward:()=>$ge,joinTextblockForward:()=>Vge,joinUp:()=>Fge,keyboardShortcut:()=>Wge,lift:()=>Gge,liftEmptyBlock:()=>Kge,liftListItem:()=>Xge,newlineInCode:()=>Yge,resetAttributes:()=>Qge,scrollIntoView:()=>Jge,selectAll:()=>Zge,selectNodeBackward:()=>exe,selectNodeForward:()=>txe,selectParentNode:()=>nxe,selectTextblockEnd:()=>rxe,selectTextblockStart:()=>ixe,setContent:()=>sxe,setMark:()=>Cxe,setMeta:()=>kxe,setNode:()=>Axe,setNodeSelection:()=>Txe,setTextDirection:()=>_xe,setTextSelection:()=>Nxe,sinkListItem:()=>Dxe,splitBlock:()=>Oxe,splitListItem:()=>Mxe,toggleList:()=>Rxe,toggleMark:()=>Bxe,toggleNode:()=>Lxe,toggleWrap:()=>Ixe,undoInputRule:()=>Fxe,unsetAllMarks:()=>Pxe,unsetMark:()=>zxe,unsetTextDirection:()=>Hxe,updateAttributes:()=>Uxe,wrapIn:()=>jxe,wrapInList:()=>$xe});var xge=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),yge=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),bge=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:f}=e,d=c.resolve(f.map(l)),p=c.resolve(f.map(l+a.nodeSize)),g=d.blockRange(p);if(!g)return;const x=bh(g);if(a.type.isTextblock){const{defaultType:b}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(g.start,b)}(x||x===0)&&e.lift(g,x)})}),!0},vge=t=>e=>t(e),wge=()=>({state:t,dispatch:e})=>z9(t,e),Ege=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new bt(r.doc.resolve(Math.max(o-1,0)))),!0},Sge=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1};function Rr(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var Cge=t=>({tr:e,state:n,dispatch:r})=>{const i=Rr(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},kge=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},Age=()=>({state:t,dispatch:e})=>gA(t,e),Tge=()=>({commands:t})=>t.keyboardShortcut("Enter"),_ge=()=>({state:t,dispatch:e})=>mpe(t,e);function MA(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function ry(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:MA(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function k7(t,e,n={}){return t.find(r=>r.type===e&&ry(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function C8(t,e,n={}){return!!k7(t,e,n)}function RA(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(f=>f.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(f=>f.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!k7([...i.node.marks],e,n)))return;let o=i.index,a=t.start()+i.offset,l=o+1,c=a+i.node.nodeSize;for(;o>0&&C8([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&C8([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function Xa(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var Nge=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=Xa(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:f}=a;if(i){const d=RA(l,s,e);if(d&&d.from<=c&&d.to>=f){const p=bt.create(o,d.from,d.to);n.setSelection(p)}}return!0},Dge=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function A7(t){return t instanceof bt}function Wc(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function T7(t,e=null){if(!e)return null;const n=Tt.atStart(t),r=Tt.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?bt.create(t,Wc(0,i,s),Wc(t.content.size,i,s)):bt.create(t,Wc(e,i,s),Wc(e,i,s))}function _7(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Cb(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Oge=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(Cb()||_7())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!A7(n.state.selection))return o(),!0;const a=T7(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},Mge=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),Rge=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),N7=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&N7(r)}return t};function Mg(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return N7(n)}function J0(t,e,n){if(t instanceof Ao||t instanceof Fe)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return Fe.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),J0("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const l=new h9({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Wl.fromSchema(l).parseSlice(Mg(t),n.parseOptions):Wl.fromSchema(l).parse(Mg(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Wl.fromSchema(e);return n.slice?s.parseSlice(Mg(t),n.parseOptions).content:s.parse(Mg(t),n.parseOptions)}return J0("",e,n)}function Bge(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof qr||i instanceof Qr))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,l,c,f)=>{o===0&&(o=f)}),t.setSelection(Tt.near(t.doc.resolve(o),n))}var Lge=t=>!("type"in t),Ige=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=v=>{s.emit("contentError",{editor:s,error:v,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{J0(e,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(v){l(v)}try{a=J0(e,s.schema,{parseOptions:c,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:s.options.enableContentCheck})}catch(v){return l(v),!1}let{from:f,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},p=!0,g=!0;if((Lge(a)?a:[a]).forEach(v=>{v.check(),p=p?v.isText&&v.marks.length===0:!1,g=g?v.isBlock:!1}),f===d&&g){const{parent:v}=r.doc.resolve(f);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(f-=1,d+=1)}let b;if(p){if(Array.isArray(e))b=e.map(v=>v.text||"").join("");else if(e instanceof Fe){let v="";e.forEach(w=>{w.text&&(v+=w.text)}),b=v}else typeof e=="object"&&e&&e.text?b=e.text:b=e;r.insertText(b,f,d)}else{b=a;const v=r.doc.resolve(f),w=v.node(),k=v.parentOffset===0,A=w.isText||w.isTextblock,T=w.content.size>0;k&&A&&T&&(f=Math.max(0,f-1)),r.replaceWith(f,d,b)}n.updateSelection&&Bge(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:b}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:b})}return!0},Fge=()=>({state:t,dispatch:e})=>hpe(t,e),Pge=()=>({state:t,dispatch:e})=>dpe(t,e),zge=()=>({state:t,dispatch:e})=>M9(t,e),Hge=()=>({state:t,dispatch:e})=>I9(t,e),Uge=()=>({state:t,dispatch:e,tr:n})=>{try{const r=gb(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},jge=()=>({state:t,dispatch:e,tr:n})=>{try{const r=gb(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},$ge=()=>({state:t,dispatch:e})=>upe(t,e),Vge=()=>({state:t,dispatch:e})=>fpe(t,e);function D7(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function qge(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Cb()||D7()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var Wge=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=qge(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l?.steps.forEach(c=>{const f=c.map(r.mapping);f&&i&&r.maybeStep(f)}),!0};function rc(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?Rr(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(d,p)=>{if(d.isText)return;const g=Math.max(r,p),x=Math.min(i,p+d.nodeSize);a.push({node:d,from:g,to:x})});const l=i-r,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>ry(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,p)=>d+p.to-p.from,0)>=l}var Gge=(t,e={})=>({state:n,dispatch:r})=>{const i=Rr(t,n.schema);return rc(n,i,e)?ppe(n,r):!1},Kge=()=>({state:t,dispatch:e})=>H9(t,e),Xge=t=>({state:e,dispatch:n})=>{const r=Rr(t,e.schema);return Ape(r)(e,n)},Yge=()=>({state:t,dispatch:e})=>P9(t,e);function kb(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function k8(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var Qge=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=kb(typeof t=="string"?t:t.name,r.schema);if(!a)return!1;a==="node"&&(s=Rr(t,r.schema)),a==="mark"&&(o=Xa(t,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(f,d)=>{s&&s===f.type&&(l=!0,i&&n.setNodeMarkup(d,void 0,k8(f.attrs,e))),o&&f.marks.length&&f.marks.forEach(p=>{o===p.type&&(l=!0,i&&n.addMark(d,d+f.nodeSize,o.create(k8(p.attrs,e))))})})}),l},Jge=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Zge=()=>({tr:t,dispatch:e})=>{if(e){const n=new Is(t.doc);t.setSelection(n)}return!0},exe=()=>({state:t,dispatch:e})=>B9(t,e),txe=()=>({state:t,dispatch:e})=>F9(t,e),nxe=()=>({state:t,dispatch:e})=>ype(t,e),rxe=()=>({state:t,dispatch:e})=>wpe(t,e),ixe=()=>({state:t,dispatch:e})=>vpe(t,e);function bC(t,e,n={},r={}){return J0(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var sxe=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=bC(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return o&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return o&&s.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function O7(t,e){const n=Xa(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function M7(t,e){const n=new pA(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function oxe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function vC(t,e){const n=[];return t.descendants((r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function axe(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function R7(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Ab(t){return e=>R7(e.$from,t)}function xt(t,e,n){return t.config[e]===void 0&&t.parent?xt(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?xt(t.parent,e,n):null}):t.config[e]}function BA(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=xt(e,"addExtensions",n);return r?[e,...BA(r())]:e}).flat(10)}function LA(t,e){const n=Tu.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function B7(t){return typeof t=="function"}function bn(t,e=void 0,...n){return B7(t)?e?t.bind(e)(...n):t(...n):t}function lxe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function lh(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function L7(t){const e=[],{nodeExtensions:n,markExtensions:r}=lh(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=xt(o,"addGlobalAttributes",a);if(!l)return;l().forEach(f=>{f.types.forEach(d=>{Object.entries(f.attributes).forEach(([p,g])=>{e.push({type:d,name:p,attribute:{...s,...g}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=xt(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([f,d])=>{const p={...s,...d};typeof p?.default=="function"&&(p.default=p.default()),p?.isRequired&&p?.default===void 0&&delete p.default,e.push({type:o.name,name:f,attribute:p})})}),e}function jn(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(f=>!l.includes(f));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(f=>f.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(f=>f.trim()).filter(Boolean):[],c=new Map;l.forEach(f=>{const[d,p]=f.split(":").map(g=>g.trim());c.set(d,p)}),a.forEach(f=>{const[d,p]=f.split(":").map(g=>g.trim());c.set(d,p)}),r[i]=Array.from(c.entries()).map(([f,d])=>`${f}: ${d}`).join("; ")}else r[i]=s}),r},{})}function Z0(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>jn(n,r),{})}function cxe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function A8(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):cxe(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function T8(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&lxe(n)?!1:n!=null))}function _8(t){var e,n;const r={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(r.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function uxe(t,e){var n;const r=L7(t),{nodeExtensions:i,markExtensions:s}=lh(t),o=(n=i.find(c=>xt(c,"topNode")))==null?void 0:n.name,a=Object.fromEntries(i.map(c=>{const f=r.filter(w=>w.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((w,k)=>{const A=xt(k,"extendNodeSchema",d);return{...w,...A?A(c):{}}},{}),g=T8({...p,content:bn(xt(c,"content",d)),marks:bn(xt(c,"marks",d)),group:bn(xt(c,"group",d)),inline:bn(xt(c,"inline",d)),atom:bn(xt(c,"atom",d)),selectable:bn(xt(c,"selectable",d)),draggable:bn(xt(c,"draggable",d)),code:bn(xt(c,"code",d)),whitespace:bn(xt(c,"whitespace",d)),linebreakReplacement:bn(xt(c,"linebreakReplacement",d)),defining:bn(xt(c,"defining",d)),isolating:bn(xt(c,"isolating",d)),attrs:Object.fromEntries(f.map(_8))}),x=bn(xt(c,"parseHTML",d));x&&(g.parseDOM=x.map(w=>A8(w,f)));const b=xt(c,"renderHTML",d);b&&(g.toDOM=w=>b({node:w,HTMLAttributes:Z0(w,f)}));const v=xt(c,"renderText",d);return v&&(g.toText=v),[c.name,g]})),l=Object.fromEntries(s.map(c=>{const f=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((v,w)=>{const k=xt(w,"extendMarkSchema",d);return{...v,...k?k(c):{}}},{}),g=T8({...p,inclusive:bn(xt(c,"inclusive",d)),excludes:bn(xt(c,"excludes",d)),group:bn(xt(c,"group",d)),spanning:bn(xt(c,"spanning",d)),code:bn(xt(c,"code",d)),attrs:Object.fromEntries(f.map(_8))}),x=bn(xt(c,"parseHTML",d));x&&(g.parseDOM=x.map(v=>A8(v,f)));const b=xt(c,"renderHTML",d);return b&&(g.toDOM=v=>b({mark:v,HTMLAttributes:Z0(v,f)})),[c.name,g]}));return new h9({topNode:o,nodes:a,marks:l})}function fxe(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function IA(t){return t.sort((n,r)=>{const i=xt(n,"priority")||100,s=xt(r,"priority")||100;return i>s?-1:i<s?1:0})}function I7(t){const e=IA(BA(t)),n=fxe(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function F7(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,i,(l,c,f,d)=>{var p;l.isBlock&&c>r&&(a+=s);const g=o?.[l.type.name];if(g)return f&&(a+=g({node:l,pos:c,parent:f,index:d,range:e})),!1;l.isText&&(a+=(p=l?.text)==null?void 0:p.slice(Math.max(r,c)-c,i-c))}),a}function hxe(t,e){const n={from:0,to:t.content.size};return F7(t,n,e)}function P7(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function dxe(t,e){const n=Rr(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function z7(t,e){const n=kb(typeof e=="string"?e:e.name,t.schema);return n==="node"?dxe(t,e):n==="mark"?O7(t,e):{}}function pxe(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function mxe(t){const e=pxe(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function H7(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),f=e.slice(s).map(l),d=e.invert().map(c,-1),p=e.invert().map(f);r.push({oldRange:{from:d,to:p},newRange:{from:c,to:f}})})}),mxe(r)}function FA(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=RA(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}var gxe=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,o=null;for(;s>0&&o===null;){const a=i.node(s);a?.type.name===e?o=a:s-=1}return[o,s]};function g2(t,e){return e.nodes[t]||e.marks[t]||null}function Qx(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var xxe=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var l,c;const f=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?f:f.slice(0,Math.max(0,r-s))}),n};function wC(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?Xa(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>ry(d.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:d,$to:p})=>{const g=d.pos,x=p.pos;t.doc.nodesBetween(g,x,(b,v)=>{if(!b.isText&&!b.marks.length)return;const w=Math.max(g,v),k=Math.min(x,v+b.nodeSize),A=k-w;o+=A,a.push(...b.marks.map(T=>({mark:T,from:w,to:k})))})}),o===0)return!1;const l=a.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>ry(d.mark.attrs,n,{strict:!1})).reduce((d,p)=>d+p.to-p.from,0),c=a.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,p)=>d+p.to-p.from,0);return(l>0?l+c:l)>=o}function yxe(t,e,n={}){if(!e)return rc(t,null,n)||wC(t,null,n);const r=kb(e,t.schema);return r==="node"?rc(t,e,n):r==="mark"?wC(t,e,n):!1}var bxe=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=Ab(a=>a.type.name===e)(t.selection);if(!s)return!1;const o=t.doc.resolve(s.pos+1);return i.pos+1===o.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},vxe=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function N8(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function D8(t,e){const{nodeExtensions:n}=lh(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=bn(xt(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Tb(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(Tb(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function U7(t){return t instanceof gt}var j7=class $7{constructor(e){this.position=e}static fromJSON(e){return new $7(e.position)}toJSON(){return{position:this.position}}};function wxe(t,e){const n=e.mapping.mapResult(t.position);return{position:new j7(n.pos),mapResult:n}}function Exe(t){return new j7(t)}function Sxe(t,e,n){var r;const{selection:i}=e;let s=null;if(A7(i)&&(s=i.$cursor),s){const a=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(c=>c.type.excludes(n)))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(f,d,p)=>{if(c)return!1;if(f.isInline){const g=!p||p.type.allowsMarkType(n),x=!!n.isInSet(f.marks)||!f.marks.some(b=>b.type.excludes(n));c=g&&x}return!c}),c})}var Cxe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=Xa(t,r.schema);if(i)if(o){const c=O7(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const f=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(f,d,(p,g)=>{const x=Math.max(g,f),b=Math.min(g+p.nodeSize,d);p.marks.find(w=>w.type===l)?p.marks.forEach(w=>{l===w.type&&n.addMark(x,b,l.create({...w.attrs,...e}))}):n.addMark(x,b,l.create(e))})});return Sxe(r,n,l)},kxe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Axe=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Rr(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>VR(s,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>VR(s,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Txe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Wc(t,0,r.content.size),s=gt.create(r,i);e.setSelection(s)}return!0},_xe=(t,e)=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=r;let o,a;return typeof e=="number"?(o=e,a=e):e&&"from"in e&&"to"in e?(o=e.from,a=e.to):(o=s.from,a=s.to),i&&n.doc.nodesBetween(o,a,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:t})}),!0},Nxe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=bt.atStart(r).from,a=bt.atEnd(r).to,l=Wc(i,o,a),c=Wc(s,o,a),f=bt.create(r,l,c);e.setSelection(f)}return!0},Dxe=t=>({state:e,dispatch:n})=>{const r=Rr(t,e.schema);return Npe(r)(e,n)};function O8(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var Oxe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,f=Qx(c,a.node().type.name,a.node().attrs);if(s instanceof gt&&s.node.isBlock)return!a.parentOffset||!Pa(o,a.pos)?!1:(r&&(t&&O8(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,p=a.depth===0?void 0:oxe(a.node(-1).contentMatchAt(a.indexAfter(-1)));let g=d&&p?[{type:p,attrs:f}]:void 0,x=Pa(e.doc,e.mapping.map(a.pos),1,g);if(!g&&!x&&Pa(e.doc,e.mapping.map(a.pos),1,p?[{type:p}]:void 0)&&(x=!0,g=p?[{type:p,attrs:f}]:void 0),r){if(x&&(s instanceof bt&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,g),p&&!d&&!a.parentOffset&&a.parent.type!==p)){const b=e.mapping.map(a.before()),v=e.doc.resolve(b);a.node(-1).canReplaceWith(v.index(),v.index()+1,p)&&e.setNodeMarkup(e.mapping.map(a.before()),p)}t&&O8(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return x},Mxe=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=Rr(t,r.schema),{$from:l,$to:c}=r.selection,f=r.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const p=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let w=Fe.empty;const k=l.index(-1)?1:l.index(-2)?2:3;for(let F=l.depth-k;F>=l.depth-3;F-=1)w=Fe.from(l.node(F).copy(w));const A=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,T={...Qx(p,l.node().type.name,l.node().attrs),...e},O=((o=a.contentMatch.defaultType)==null?void 0:o.createAndFill(T))||void 0;w=w.append(Fe.from(a.createAndFill(null,O)||void 0));const _=l.before(l.depth-(k-1));n.replace(_,l.after(-A),new nt(w,4-k,0));let N=-1;n.doc.nodesBetween(_,n.doc.content.size,(F,L)=>{if(N>-1)return!1;F.isTextblock&&F.content.size===0&&(N=L+1)}),N>-1&&n.setSelection(bt.near(n.doc.resolve(N))),n.scrollIntoView()}return!0}const g=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,x={...Qx(p,d.type.name,d.attrs),...e},b={...Qx(p,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const v=g?[{type:a,attrs:x},{type:g,attrs:b}]:[{type:a,attrs:x}];if(!Pa(n.doc,l.pos,2))return!1;if(i){const{selection:w,storedMarks:k}=r,{splittableMarks:A}=s.extensionManager,T=k||w.$to.parentOffset&&w.$from.marks();if(n.split(l.pos,2,v).scrollIntoView(),!T||!i)return!0;const O=T.filter(_=>A.includes(_.type.name));n.ensureMarks(O)}return!0},x2=(t,e)=>{const n=Ab(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&uc(t.doc,n.pos)&&t.join(n.pos),!0},y2=(t,e)=>{const n=Ab(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&uc(t.doc,r)&&t.join(r),!0},Rxe=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:f})=>{const{extensions:d,splittableMarks:p}=i.extensionManager,g=Rr(t,o.schema),x=Rr(e,o.schema),{selection:b,storedMarks:v}=o,{$from:w,$to:k}=b,A=w.blockRange(k),T=v||b.$to.parentOffset&&b.$from.marks();if(!A)return!1;const O=Ab(_=>D8(_.type.name,d))(b);if(A.depth>=1&&O&&A.depth-O.depth<=1){if(O.node.type===g)return c.liftListItem(x);if(D8(O.node.type.name,d)&&g.validContent(O.node.content)&&a)return l().command(()=>(s.setNodeMarkup(O.pos,g),!0)).command(()=>x2(s,g)).command(()=>y2(s,g)).run()}return!n||!T||!a?l().command(()=>f().wrapInList(g,r)?!0:c.clearNodes()).wrapInList(g,r).command(()=>x2(s,g)).command(()=>y2(s,g)).run():l().command(()=>{const _=f().wrapInList(g,r),N=T.filter(F=>p.includes(F.type.name));return s.ensureMarks(N),_?!0:c.clearNodes()}).wrapInList(g,r).command(()=>x2(s,g)).command(()=>y2(s,g)).run()},Bxe=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=Xa(t,r.schema);return wC(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},Lxe=(t,e,n={})=>({state:r,commands:i})=>{const s=Rr(t,r.schema),o=Rr(e,r.schema),a=rc(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...n})},Ixe=(t,e={})=>({state:n,commands:r})=>{const i=Rr(t,n.schema);return rc(n,i,e)?r.lift(i):r.wrapIn(i,e)},Fxe=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},Pxe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},zxe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=Xa(t,r.schema),{$from:c,empty:f,ranges:d}=a;if(!i)return!0;if(f&&o){let{from:p,to:g}=a;const x=(s=c.marks().find(v=>v.type===l))==null?void 0:s.attrs,b=RA(c,l,x);b&&(p=b.from,g=b.to),n.removeMark(p,g,l)}else d.forEach(p=>{n.removeMark(p.$from.pos,p.$to.pos,l)});return n.removeStoredMark(l),!0},Hxe=t=>({tr:e,state:n,dispatch:r})=>{const{selection:i}=n;let s,o;return typeof t=="number"?(s=t,o=t):t&&"from"in t&&"to"in t?(s=t.from,o=t.to):(s=i.from,o=i.to),r&&e.doc.nodesBetween(s,o,(a,l)=>{if(a.isText)return;const c={...a.attrs};delete c.dir,e.setNodeMarkup(l,void 0,c)}),!0},Uxe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=kb(typeof t=="string"?t:t.name,r.schema);if(!a)return!1;a==="node"&&(s=Rr(t,r.schema)),a==="mark"&&(o=Xa(t,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const f=c.$from.pos,d=c.$to.pos;let p,g,x,b;n.selection.empty?r.doc.nodesBetween(f,d,(v,w)=>{s&&s===v.type&&(l=!0,x=Math.max(w,f),b=Math.min(w+v.nodeSize,d),p=w,g=v)}):r.doc.nodesBetween(f,d,(v,w)=>{w<f&&s&&s===v.type&&(l=!0,x=Math.max(w,f),b=Math.min(w+v.nodeSize,d),p=w,g=v),w>=f&&w<=d&&(s&&s===v.type&&(l=!0,i&&n.setNodeMarkup(w,void 0,{...v.attrs,...e})),o&&v.marks.length&&v.marks.forEach(k=>{if(o===k.type&&(l=!0,i)){const A=Math.max(w,f),T=Math.min(w+v.nodeSize,d);n.addMark(A,T,o.create({...k.attrs,...e}))}}))}),g&&(p!==void 0&&i&&n.setNodeMarkup(p,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(v=>{o===v.type&&i&&n.addMark(x,b,o.create({...v.attrs,...e}))}))}),l},jxe=(t,e={})=>({state:n,dispatch:r})=>{const i=Rr(t,n.schema);return Epe(i,e)(n,r)},$xe=(t,e={})=>({state:n,dispatch:r})=>{const i=Rr(t,n.schema);return Spe(i,e)(n,r)},Vxe=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},_b=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},qxe=(t,e)=>{if(MA(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Rg(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(e=c.nodeBefore||c.nodeAfter)!=null&&e.marks.find(p=>p.type.spec.code))return!1;let f=!1;const d=xxe(c)+s;return o.forEach(p=>{if(f)return;const g=qxe(d,p.find);if(!g)return;const x=l.state.tr,b=Eb({state:l.state,transaction:x}),v={from:r-(g[0].length-s.length),to:i},{commands:w,chain:k,can:A}=new Sb({editor:n,state:b});p.handler({state:b,range:v,match:g,commands:w,chain:k,can:A})===null||!x.steps.length||(p.undoable&&x.setMeta(a,{transform:x,from:r,to:i,text:s}),l.dispatch(x),f=!0)}),f}function Wxe(t){const{editor:e,rules:n}=t,r=new Yn({state:{init(){return null},apply(i,s,o){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:f}=l;typeof f=="string"?f=f:f=LA(Fe.from(f),o.schema);const{from:d}=l,p=d+f.length;Rg({editor:e,from:d,to:p,text:f,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return Rg({editor:e,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Rg({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?Rg({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Gxe(t){return Object.prototype.toString.call(t).slice(8,-1)}function Bg(t){return Gxe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function V7(t,e){const n={...t};return Bg(t)&&Bg(e)&&Object.keys(e).forEach(r=>{Bg(e[r])&&Bg(t[r])?n[r]=V7(t[r],e[r]):n[r]=e[r]}),n}var PA=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...bn(xt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...bn(xt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>V7(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Ya=class q7 extends PA{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new q7(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>c?.type.name===n.name))return!1;const l=o.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Kxe(t){return typeof t=="number"}var Xxe=class{constructor(t){this.find=t.find,this.handler=t.handler}},Yxe=(t,e,n)=>{if(MA(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function Qxe(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:f}=new Sb({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(g,x)=>{var b,v,w,k,A;if((v=(b=g.type)==null?void 0:b.spec)!=null&&v.code||!(g.isText||g.isTextblock||g.isInline))return;const T=(A=(k=(w=g.content)==null?void 0:w.size)!=null?k:g.nodeSize)!=null?A:0,O=Math.max(r,x),_=Math.min(i,x+T);if(O>=_)return;const N=g.isText?g.text||"":g.textBetween(O-x,_-x,void 0,"");Yxe(N,s.find,o).forEach(L=>{if(L.index===void 0)return;const R=O+L.index+1,P=R+L[0].length,z={from:n.tr.mapping.map(R),to:n.tr.mapping.map(P)},W=s.handler({state:n,range:z,match:L,commands:l,chain:c,can:f,pasteEvent:o,dropEvent:a});d.push(W)})}),d.every(g=>g!==null)}var Lg=null,Jxe=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function Zxe(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:f,from:d,to:p,rule:g,pasteEvt:x})=>{const b=f.tr,v=Eb({state:f,transaction:b});if(!(!Qxe({editor:e,state:v,from:Math.max(d-1,0),to:p.b-1,rule:g,pasteEvent:x,dropEvent:a})||!b.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,b}};return n.map(f=>new Yn({view(d){const p=x=>{var b;r=(b=d.dom.parentElement)!=null&&b.contains(x.target)?d.dom.parentElement:null,r&&(Lg=e)},g=()=>{Lg&&(Lg=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(d,p)=>{if(s=r===d.dom.parentElement,a=p,!s){const g=Lg;g?.isEditable&&setTimeout(()=>{const x=g.state.selection;x&&g.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(d,p)=>{var g;const x=(g=p.clipboardData)==null?void 0:g.getData("text/html");return o=p,i=!!x?.includes("data-pm-slice"),!1}}},appendTransaction:(d,p,g)=>{const x=d[0],b=x.getMeta("uiEvent")==="paste"&&!i,v=x.getMeta("uiEvent")==="drop"&&!s,w=x.getMeta("applyPasteRules"),k=!!w;if(!b&&!v&&!k)return;if(k){let{text:O}=w;typeof O=="string"?O=O:O=LA(Fe.from(O),g.schema);const{from:_}=w,N=_+O.length,F=Jxe(O);return l({rule:f,state:g,from:_,to:{b:N},pasteEvt:F})}const A=p.doc.content.findDiffStart(g.doc.content),T=p.doc.content.findDiffEnd(g.doc.content);if(!(!Kxe(A)||!T||A===T.b))return l({rule:f,state:g,from:A,to:T,pasteEvt:o})}}))}var Nb=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=I7(t),this.schema=uxe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:g2(e.name,this.schema)},r=xt(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return IA([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:g2(r.name,this.schema)},s=[],o=xt(r,"addKeyboardShortcuts",i);let a={};if(r.type==="mark"&&xt(r,"exitable",i)&&(a.ArrowRight=()=>Ya.handleExit({editor:t,mark:r})),o){const p=Object.fromEntries(Object.entries(o()).map(([g,x])=>[g,()=>x({editor:t})]));a={...a,...p}}const l=mge(a);s.push(l);const c=xt(r,"addInputRules",i);if(N8(r,t.options.enableInputRules)&&c){const p=c();if(p&&p.length){const g=Wxe({editor:t,rules:p}),x=Array.isArray(g)?g:[g];s.push(...x)}}const f=xt(r,"addPasteRules",i);if(N8(r,t.options.enablePasteRules)&&f){const p=f();if(p&&p.length){const g=Zxe({editor:t,rules:p});s.push(...g)}}const d=xt(r,"addProseMirrorPlugins",i);if(d){const p=d();s.push(...p)}return s})}get attributes(){return L7(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=lh(this.extensions);return Object.fromEntries(e.filter(n=>!!xt(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Rr(n.name,this.schema)},s=xt(n,"addNodeView",i);if(!s)return[];const o=s();if(!o)return[];const a=(l,c,f,d,p)=>{const g=Z0(l,r);return o({node:l,view:c,getPos:f,decorations:d,innerDecorations:p,editor:t,extension:n,HTMLAttributes:g})};return[n.name,a]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=lh(this.extensions);return Object.fromEntries(e.filter(n=>!!xt(n,"addMarkView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Xa(n.name,this.schema)},s=xt(n,"addMarkView",i);if(!s)return[];const o=(a,l,c)=>{const f=Z0(a,r);return s()({mark:a,view:l,inline:c,editor:t,extension:n,HTMLAttributes:f,updateAttributes:d=>{p1e(a,t,d)}})};return[n.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:g2(e.name,this.schema)};e.type==="mark"&&((n=bn(xt(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=xt(e,"onBeforeCreate",r),s=xt(e,"onCreate",r),o=xt(e,"onUpdate",r),a=xt(e,"onSelectionUpdate",r),l=xt(e,"onTransaction",r),c=xt(e,"onFocus",r),f=xt(e,"onBlur",r),d=xt(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),f&&this.editor.on("blur",f),d&&this.editor.on("destroy",d)})}};Nb.resolve=I7;Nb.sort=IA;Nb.flatten=BA;var e1e={};OA(e1e,{ClipboardTextSerializer:()=>G7,Commands:()=>K7,Delete:()=>X7,Drop:()=>Y7,Editable:()=>Q7,FocusEvents:()=>Z7,Keymap:()=>ez,Paste:()=>tz,Tabindex:()=>nz,TextDirection:()=>rz,focusEventsPluginKey:()=>J7});var vn=class W7 extends PA{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new W7(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},G7=vn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Yn({key:new ur("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(f=>f.$from.pos)),a=Math.max(...s.map(f=>f.$to.pos)),l=P7(n);return F7(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),K7=vn.create({name:"commands",addCommands(){return{...C7}}}),X7=vn.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var o,a,l,c;if((c=(l=(a=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,t))!=null?c:t.getMeta("y-sync$"))return;const f=M7(t.before,[t,...e]);H7(f).forEach(g=>{f.mapping.mapResult(g.oldRange.from).deletedAfter&&f.mapping.mapResult(g.oldRange.to).deletedBefore&&f.before.nodesBetween(g.oldRange.from,g.oldRange.to,(x,b)=>{const v=b+x.nodeSize-2,w=g.oldRange.from<=b&&v<=g.oldRange.to;this.editor.emit("delete",{type:"node",node:x,from:b,to:v,newFrom:f.mapping.map(b),newTo:f.mapping.map(v),deletedRange:g.oldRange,newRange:g.newRange,partial:!w,editor:this.editor,transaction:t,combinedTransform:f})})});const p=f.mapping;f.steps.forEach((g,x)=>{var b,v;if(g instanceof So){const w=p.slice(x).map(g.from,-1),k=p.slice(x).map(g.to),A=p.invert().map(w,-1),T=p.invert().map(k),O=(b=f.doc.nodeAt(w-1))==null?void 0:b.marks.some(N=>N.eq(g.mark)),_=(v=f.doc.nodeAt(k))==null?void 0:v.marks.some(N=>N.eq(g.mark));this.editor.emit("delete",{type:"mark",mark:g.mark,from:g.from,to:g.to,deletedRange:{from:A,to:T},newRange:{from:w,to:k},partial:!!(_||O),editor:this.editor,transaction:t,combinedTransform:f})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),Y7=vn.create({name:"drop",addProseMirrorPlugins(){return[new Yn({key:new ur("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),Q7=vn.create({name:"editable",addProseMirrorPlugins(){return[new Yn({key:new ur("editable"),props:{editable:()=>this.editor.options.editable}})]}}),J7=new ur("focusEvents"),Z7=vn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Yn({key:J7,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),ez=vn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:f,$anchor:d}=l,{pos:p,parent:g}=d,x=d.parent.isTextblock&&p>0?a.doc.resolve(p-1):d,b=x.parent.type.spec.isolating,v=d.pos-d.parentOffset,w=b&&x.parent.childCount===1?v===d.pos:Tt.atStart(c).from===p;return!f||!g.type.isTextblock||g.textContent.length||!w||w&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Cb()||D7()?s:i},addProseMirrorPlugins(){return[new Yn({key:new ur("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(b=>b.getMeta("composition")))return;const r=t.some(b=>b.docChanged)&&!e.doc.eq(n.doc),i=t.some(b=>b.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,l=Tt.atStart(e.doc).from,c=Tt.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!Tb(n.doc))return;const p=n.tr,g=Eb({state:n,transaction:p}),{commands:x}=new Sb({editor:this.editor,state:g});if(x.clearNodes(),!!p.steps.length)return p}})]}}),tz=vn.create({name:"paste",addProseMirrorPlugins(){return[new Yn({key:new ur("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),nz=vn.create({name:"tabindex",addProseMirrorPlugins(){return[new Yn({key:new ur("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),rz=vn.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=lh(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Yn({key:new ur("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),t1e=class Cf{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Cf(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Cf(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Cf(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new Cf(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new Cf(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(l=>n[l]===o.node.attrs[l])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},n1e=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function r1e(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var i1e=class extends Vxe{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:wxe,createMappablePosition:Exe},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=T7(e,this.options.autofocus);this.editorState=Rf.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=r1e(n1e,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=B7(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(o=>!o.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[Q7,G7.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),K7,Z7,ez,nz,Y7,tz,X7,rz.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new Nb(r,this)}createCommandManager(){this.commandManager=new Sb({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=bC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=bC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new S7(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(c=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(c)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),a=o?.getMeta("focus"),l=o?.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:o}),l&&this.emit("blur",{editor:this,event:l.event,transaction:o}),!(t.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return z7(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return yxe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return LA(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return hxe(this.state.doc,{blockSeparator:e,textSerializers:{...P7(this.schema),...n}})}get isEmpty(){return Tb(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new t1e(e,this)}get $doc(){return this.$pos(0)}};function mu(t){return new _b({find:t.find,handler:({state:e,range:n,match:r})=>{const i=bn(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),f=c+o.length;if(FA(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(b=>b===t.type&&b!==g.mark.type)).filter(g=>g.to>c).length)return null;f<n.to&&s.delete(f,n.to),c>n.from&&s.delete(n.from+l,c);const p=n.from+l+o.length;s.addMark(n.from+l,p,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function iz(t){return new _b({find:t.find,handler:({state:e,range:n,match:r})=>{const i=bn(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let f=o+c;f>a?f=a:a=f+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,o+r[0].length-1),s.replaceWith(f,a,l)}else if(r[0]){const c=t.type.isInline?o:o-1;s.insert(c,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()},undoable:t.undoable})}function EC(t){return new _b({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=bn(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function ch(t){return new _b({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=bn(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&dA(l,t.type,s);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:p}=e,{splittableMarks:g}=t.editor.extensionManager,x=p||d.$to.parentOffset&&d.$from.marks();if(x){const b=x.filter(v=>g.includes(v.type.name));o.ensureMarks(b)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const f=o.doc.resolve(n.from-1).nodeBefore;f&&f.type===t.type&&uc(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,f))&&o.join(n.from-1)},undoable:t.undoable})}var s1e=t=>"touches"in t,o1e=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=a=>{if(!this.isResizing||!this.activeHandle)return;const l=a.clientX-this.startX,c=a.clientY-this.startY;this.handleResize(l,c)},this.handleTouchMove=a=>{if(!this.isResizing||!this.activeHandle)return;const l=a.touches[0];if(!l)return;const c=l.clientX-this.startX,f=l.clientY-this.startY;this.handleResize(c,f)},this.handleMouseUp=()=>{if(!this.isResizing)return;const a=this.element.offsetWidth,l=this.element.offsetHeight;this.onCommit(a,l),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,r,i,s,o;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(r=t?.options)!=null&&r.directions&&(this.directions=t.options.directions),(i=t.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(s=t.options)!=null&&s.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(o=t.options)!=null&&o.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),r=e.includes("bottom"),i=e.includes("left"),s=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),i&&(t.style.left="0"),s&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,s1e(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:i}=this.calculateNewDimensions(this.activeHandle,t,e),s=this.applyConstraints(r,i,n);this.element.style.width=`${s.width}px`,this.element.style.height=`${s.height}px`,this.onResize&&this.onResize(s.width,s.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,i=this.startHeight;const s=t.includes("right"),o=t.includes("left"),a=t.includes("bottom"),l=t.includes("top");return s?r=this.startWidth+e:o&&(r=this.startWidth-e),a?i=this.startHeight+n:l&&(i=this.startHeight-n),(t==="right"||t==="left")&&(r=this.startWidth+(s?e:-e)),(t==="top"||t==="bottom")&&(i=this.startHeight+(a?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,i,t):{width:r,height:i}}applyConstraints(t,e,n){var r,i,s,o;if(!n){let c=Math.max(this.minSize.width,t),f=Math.max(this.minSize.height,e);return(r=this.maxSize)!=null&&r.width&&(c=Math.min(this.maxSize.width,c)),(i=this.maxSize)!=null&&i.height&&(f=Math.min(this.maxSize.height,f)),{width:c,height:f}}let a=t,l=e;return a<this.minSize.width&&(a=this.minSize.width,l=a/this.aspectRatio),l<this.minSize.height&&(l=this.minSize.height,a=l*this.aspectRatio),(s=this.maxSize)!=null&&s.width&&a>this.maxSize.width&&(a=this.maxSize.width,l=a/this.aspectRatio),(o=this.maxSize)!=null&&o.height&&l>this.maxSize.height&&(l=this.maxSize.height,a=l*this.aspectRatio),{width:a,height:l}}applyAspectRatio(t,e,n){const r=n==="left"||n==="right",i=n==="top"||n==="bottom";return r?{width:t,height:t/this.aspectRatio}:i?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function a1e(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof gt){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var l1e={};OA(l1e,{createAtomBlockMarkdownSpec:()=>c1e,createBlockMarkdownSpec:()=>u1e,createInlineMarkdownSpec:()=>d1e,parseAttributes:()=>zA,parseIndentedBlocks:()=>SC,renderNestedMarkdownContent:()=>UA,serializeAttributes:()=>HA});function zA(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(f=>f.trim().slice(1));e.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(o)).forEach(([,c,f])=>{var d;const p=parseInt(((d=f.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),g=n[p];g&&(e[c]=g.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(f=>{f.match(/^[a-zA-Z][\w-]*$/)&&(e[f]=!0)}),e}function HA(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function c1e(t){const{nodeName:e,name:n,parseAttributes:r=zA,serializeAttributes:i=HA,defaultAttributes:s={},requiredAttributes:o=[],allowedAttributes:a}=t,l=n||e,c=f=>{if(!a)return f;const d={};return a.forEach(p=>{p in f&&(d[p]=f[p])}),d};return{parseMarkdown:(f,d)=>{const p={...s,...f.attributes};return d.createNode(e,p,[])},markdownTokenizer:{name:e,level:"block",start(f){var d;const p=new RegExp(`^:::${l}(?:\\s|$)`,"m"),g=(d=f.match(p))==null?void 0:d.index;return g!==void 0?g:-1},tokenize(f,d,p){const g=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),x=f.match(g);if(!x)return;const b=x[1]||"",v=r(b);if(!o.find(k=>!(k in v)))return{type:e,raw:x[0],attributes:v}}},renderMarkdown:f=>{const d=c(f.attrs||{}),p=i(d),g=p?` {${p}}`:"";return`:::${l}${g} :::`}}}function u1e(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=zA,serializeAttributes:s=HA,defaultAttributes:o={},content:a="block",allowedAttributes:l}=t,c=n||e,f=d=>{if(!l)return d;const p={};return l.forEach(g=>{g in d&&(p[g]=d[g])}),p};return{parseMarkdown:(d,p)=>{let g;if(r){const b=r(d);g=typeof b=="string"?[{type:"text",text:b}]:b}else a==="block"?g=p.parseChildren(d.tokens||[]):g=p.parseInline(d.tokens||[]);const x={...o,...d.attributes};return p.createNode(e,x,g)},markdownTokenizer:{name:e,level:"block",start(d){var p;const g=new RegExp(`^:::${c}`,"m"),x=(p=d.match(g))==null?void 0:p.index;return x!==void 0?x:-1},tokenize(d,p,g){var x;const b=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),v=d.match(b);if(!v)return;const[w,k=""]=v,A=i(k);let T=1;const O=w.length;let _="";const N=/^:::([\w-]*)(\s.*)?/gm,F=d.slice(O);for(N.lastIndex=0;;){const L=N.exec(F);if(L===null)break;const R=L.index,P=L[1];if(!((x=L[2])!=null&&x.endsWith(":::"))){if(P)T+=1;else if(T-=1,T===0){const z=F.slice(0,R);_=z.trim();const W=d.slice(0,O+R+L[0].length);let ee=[];if(_)if(a==="block")for(ee=g.blockTokens(z),ee.forEach(te=>{te.text&&(!te.tokens||te.tokens.length===0)&&(te.tokens=g.inlineTokens(te.text))});ee.length>0;){const te=ee[ee.length-1];if(te.type==="paragraph"&&(!te.text||te.text.trim()===""))ee.pop();else break}else ee=g.inlineTokens(_);return{type:e,raw:W,attributes:A,content:_,tokens:ee}}}}}},renderMarkdown:(d,p)=>{const g=f(d.attrs||{}),x=s(g),b=x?` {${x}}`:"",v=p.renderChildren(d.content||[],`

`);return`:::${c}${b}

${v}

:::`}}}function f1e(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,s,o]=r;e[i]=s||o,r=n.exec(t)}return e}function h1e(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function d1e(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=f1e,serializeAttributes:s=h1e,defaultAttributes:o={},selfClosing:a=!1,allowedAttributes:l}=t,c=n||e,f=p=>{if(!l)return p;const g={};return l.forEach(x=>{const b=typeof x=="string"?x:x.name,v=typeof x=="string"?void 0:x.skipIfDefault;if(b in p){const w=p[b];if(v!==void 0&&w===v)return;g[b]=w}}),g},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(p,g)=>{const x={...o,...p.attributes};if(a)return g.createNode(e,x);const b=r?r(p):p.content||"";return b?g.createNode(e,x,[g.createTextNode(b)]):g.createNode(e,x,[])},markdownTokenizer:{name:e,level:"inline",start(p){const g=a?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),x=p.match(g),b=x?.index;return b!==void 0?b:-1},tokenize(p,g,x){const b=a?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),v=p.match(b);if(!v)return;let w="",k="";if(a){const[,T]=v;k=T}else{const[,T,O]=v;k=T,w=O||""}const A=i(k.trim());return{type:e,raw:v[0],content:w.trim(),attributes:A}}},renderMarkdown:p=>{let g="";r?g=r(p):p.content&&p.content.length>0&&(g=p.content.filter(w=>w.type==="text").map(w=>w.text).join(""));const x=f(p.attrs||{}),b=s(x),v=b?` ${b}`:"";return a?`[${c}${v}]`:`[${c}${v}]${g}[/${c}]`}}}function SC(t,e,n){var r,i,s,o;const a=t.split(`
`),l=[];let c="",f=0;const d=e.baseIndentSize||2;for(;f<a.length;){const p=a[f],g=p.match(e.itemPattern);if(!g){if(l.length>0)break;if(p.trim()===""){f+=1,c=`${c}${p}
`;continue}else return}const x=e.extractItemData(g),{indentLevel:b,mainContent:v}=x;c=`${c}${p}
`;const w=[v];for(f+=1;f<a.length;){const O=a[f];if(O.trim()===""){const N=a.slice(f+1).findIndex(R=>R.trim()!=="");if(N===-1)break;if((((i=(r=a[f+1+N].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>b){w.push(O),c=`${c}${O}
`,f+=1;continue}else break}if((((o=(s=O.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:o.length)||0)>b)w.push(O),c=`${c}${O}
`,f+=1;else break}let k;const A=w.slice(1);if(A.length>0){const O=A.map(_=>_.slice(b+d)).join(`
`);O.trim()&&(e.customNestedParser?k=e.customNestedParser(O):k=n.blockTokens(O))}const T=e.createToken(x,k);l.push(T)}if(l.length!==0)return{items:l,raw:c}}function UA(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[s,...o]=t.content,a=e.renderChildren([s]),l=[`${i}${a}`];return o&&o.length>0&&o.forEach(c=>{const f=e.renderChildren([c]);if(f){const d=f.split(`
`).map(p=>p?e.indent(p):"").join(`
`);l.push(d)}}),l.join(`
`)}function p1e(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,o=t;i.descendants((a,l)=>{const c=s.mapping.map(l),f=s.mapping.map(l)+a.nodeSize;let d=null;if(a.marks.forEach(g=>{if(g!==o)return!1;d=g}),!d)return;let p=!1;if(Object.keys(n).forEach(g=>{n[g]!==d.attrs[g]&&(p=!0)}),p){const g=t.type.create({...t.attrs,...n});s.removeMark(c,f,t.type),s.addMark(c,f,g)}}),s.docChanged&&e.view.dispatch(s)}var ti=class sz extends PA{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new sz(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},m1e=class{constructor(t,e,n){this.isDragging=!1,this.component=t,this.editor=e.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=e.extension,this.node=e.node,this.decorations=e.decorations,this.innerDecorations=e.innerDecorations,this.view=e.view,this.HTMLAttributes=e.HTMLAttributes,this.getPos=e.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var e,n,r,i,s,o,a;const{view:l}=this.editor,c=t.target,f=c.nodeType===3?(e=c.parentElement)==null?void 0:e.closest("[data-drag-handle]"):c.closest("[data-drag-handle]");if(!this.dom||(n=this.contentDOM)!=null&&n.contains(c)||!f)return;let d=0,p=0;if(this.dom!==f){const k=this.dom.getBoundingClientRect(),A=f.getBoundingClientRect(),T=(i=t.offsetX)!=null?i:(r=t.nativeEvent)==null?void 0:r.offsetX,O=(o=t.offsetY)!=null?o:(s=t.nativeEvent)==null?void 0:s.offsetY;d=A.x-k.x+T,p=A.y-k.y+O}const g=this.dom.cloneNode(!0);try{const k=this.dom.getBoundingClientRect();g.style.width=`${Math.round(k.width)}px`,g.style.height=`${Math.round(k.height)}px`,g.style.boxSizing="border-box",g.style.pointerEvents="none"}catch{}let x=null;try{x=document.createElement("div"),x.style.position="absolute",x.style.top="-9999px",x.style.left="-9999px",x.style.pointerEvents="none",x.appendChild(g),document.body.appendChild(x),(a=t.dataTransfer)==null||a.setDragImage(g,d,p)}finally{x&&setTimeout(()=>{try{x?.remove()}catch{}},0)}const b=this.getPos();if(typeof b!="number")return;const v=gt.create(l.state.doc,b),w=l.state.tr.setSelection(v);l.dispatch(w)}stopEvent(t){var e;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:t});const n=t.target;if(!(this.dom.contains(n)&&!((e=this.contentDOM)!=null&&e.contains(n))))return!1;const i=t.type.startsWith("drag"),s=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!s&&!i)return!0;const{isEditable:a}=this.editor,{isDragging:l}=this,c=!!this.node.type.spec.draggable,f=gt.isSelectable(this.node),d=t.type==="copy",p=t.type==="paste",g=t.type==="cut",x=t.type==="mousedown";if(!c&&f&&i&&t.target===this.dom&&t.preventDefault(),c&&i&&!l&&t.target===this.dom)return t.preventDefault(),!1;if(c&&a&&!l&&x){const b=n.closest("[data-drag-handle]");b&&(this.dom===b||this.dom.contains(b))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(l||s||d||p||g||x&&f)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&(Cb()||_7())&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(n=>n.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:e})=>{const n=this.getPos();return typeof n!="number"?!1:(e.setNodeMarkup(n,void 0,{...this.node.attrs,...t}),!0)})}deleteNode(){const t=this.getPos();if(typeof t!="number")return;const e=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:e})}};function ic(t){return new Xxe({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=bn(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const f=l.search(/\S/),d=n.from+l.indexOf(a),p=d+a.length;if(FA(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(v=>v===t.type&&v!==x.mark.type)).filter(x=>x.to>d).length)return null;p<n.to&&o.delete(p,n.to),d>n.from&&o.delete(n.from+f,d),c=n.from+f+a.length,o.addMark(n.from+f,c,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}var g1e=Object.getOwnPropertyNames,x1e=Object.getOwnPropertySymbols,y1e=Object.prototype.hasOwnProperty;function M8(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function Ig(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function b1e(t){return t?.[Symbol.toStringTag]}function R8(t){return g1e(t).concat(x1e(t))}var v1e=Object.hasOwn||(function(t,e){return y1e.call(t,e)});function _u(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var w1e="__v",E1e="__o",S1e="_owner",B8=Object.getOwnPropertyDescriptor,L8=Object.keys;function C1e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function k1e(t,e){return _u(t.getTime(),e.getTime())}function A1e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function T1e(t,e){return t===e}function I8(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,a,l=0;(o=s.next())&&!o.done;){for(var c=e.entries(),f=!1,d=0;(a=c.next())&&!a.done;){if(i[d]){d++;continue}var p=o.value,g=a.value;if(n.equals(p[0],g[0],l,d,t,e,n)&&n.equals(p[1],g[1],p[0],g[0],t,e,n)){f=i[d]=!0;break}d++}if(!f)return!1;l++}return!0}var _1e=_u;function N1e(t,e,n){var r=L8(t),i=r.length;if(L8(e).length!==i)return!1;for(;i-- >0;)if(!oz(t,e,n,r[i]))return!1;return!0}function _d(t,e,n){var r=R8(t),i=r.length;if(R8(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!oz(t,e,n,s)||(o=B8(t,s),a=B8(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function D1e(t,e){return _u(t.valueOf(),e.valueOf())}function O1e(t,e){return t.source===e.source&&t.flags===e.flags}function F8(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var l=e.values(),c=!1,f=0;(a=l.next())&&!a.done;){if(!i[f]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1}return!0}function M1e(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function R1e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function oz(t,e,n,r){return(r===S1e||r===E1e||r===w1e)&&(t.$$typeof||e.$$typeof)?!0:v1e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var B1e="[object Arguments]",L1e="[object Boolean]",I1e="[object Date]",F1e="[object Error]",P1e="[object Map]",z1e="[object Number]",H1e="[object Object]",U1e="[object RegExp]",j1e="[object Set]",$1e="[object String]",V1e="[object URL]",q1e=Array.isArray,P8=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,z8=Object.assign,W1e=Object.prototype.toString.call.bind(Object.prototype.toString);function G1e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,f=t.areSetsEqual,d=t.areTypedArraysEqual,p=t.areUrlsEqual,g=t.unknownTagComparators;return function(b,v,w){if(b===v)return!0;if(b==null||v==null)return!1;var k=typeof b;if(k!==typeof v)return!1;if(k!=="object")return k==="number"?o(b,v,w):k==="function"?i(b,v,w):!1;var A=b.constructor;if(A!==v.constructor)return!1;if(A===Object)return a(b,v,w);if(q1e(b))return e(b,v,w);if(P8!=null&&P8(b))return d(b,v,w);if(A===Date)return n(b,v,w);if(A===RegExp)return c(b,v,w);if(A===Map)return s(b,v,w);if(A===Set)return f(b,v,w);var T=W1e(b);if(T===I1e)return n(b,v,w);if(T===U1e)return c(b,v,w);if(T===P1e)return s(b,v,w);if(T===j1e)return f(b,v,w);if(T===H1e)return typeof b.then!="function"&&typeof v.then!="function"&&a(b,v,w);if(T===V1e)return p(b,v,w);if(T===F1e)return r(b,v,w);if(T===B1e)return a(b,v,w);if(T===L1e||T===z1e||T===$1e)return l(b,v,w);if(g){var O=g[T];if(!O){var _=b1e(b);_&&(O=g[_])}if(O)return O(b,v,w)}return!1}}function K1e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?_d:C1e,areDatesEqual:k1e,areErrorsEqual:A1e,areFunctionsEqual:T1e,areMapsEqual:r?M8(I8,_d):I8,areNumbersEqual:_1e,areObjectsEqual:r?_d:N1e,arePrimitiveWrappersEqual:D1e,areRegExpsEqual:O1e,areSetsEqual:r?M8(F8,_d):F8,areTypedArraysEqual:r?_d:M1e,areUrlsEqual:R1e,unknownTagComparators:void 0};if(n&&(i=z8({},i,n(i))),e){var s=Ig(i.areArraysEqual),o=Ig(i.areMapsEqual),a=Ig(i.areObjectsEqual),l=Ig(i.areSetsEqual);i=z8({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return i}function X1e(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function Y1e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var f=r(),d=f.cache,p=d===void 0?e?new WeakMap:void 0:d,g=f.meta;return n(l,c,{cache:p,equals:i,meta:g,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,o)}}var Q1e=hc();hc({strict:!0});hc({circular:!0});hc({circular:!0,strict:!0});hc({createInternalComparator:function(){return _u}});hc({strict:!0,createInternalComparator:function(){return _u}});hc({circular:!0,createInternalComparator:function(){return _u}});hc({circular:!0,createInternalComparator:function(){return _u},strict:!0});function hc(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=K1e(t),l=G1e(a),c=r?r(l):X1e(l);return Y1e({circular:n,comparator:l,createState:i,equals:c,strict:o})}var b2={exports:{}},v2={};var H8;function J1e(){if(H8)return v2;H8=1;var t=op(),e=XP();function n(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return v2.useSyncExternalStoreWithSelector=function(c,f,d,p,g){var x=s(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=a(function(){function w(_){if(!k){if(k=!0,A=_,_=p(_),g!==void 0&&b.hasValue){var N=b.value;if(g(N,_))return T=N}return T=_}if(N=T,r(A,_))return N;var F=p(_);return g!==void 0&&g(N,F)?(A=_,N):(A=_,T=F)}var k=!1,A,T,O=d===void 0?null:d;return[function(){return w(f())},O===null?void 0:function(){return w(O())}]},[f,d,p,g]);var v=i(c,x[0],x[1]);return o(function(){b.hasValue=!0,b.value=v},[v]),l(v),v},v2}var U8;function Z1e(){return U8||(U8=1,b2.exports=J1e()),b2.exports}var eye=Z1e(),tye=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},nye=({contentComponent:t})=>{const e=YP.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return C.jsx(C.Fragment,{children:Object.values(e)})};function rye(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:p0e.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var iye=class extends un.Component{constructor(t){var e;super(t),this.editorContentRef=un.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=rye(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return C.jsxs(C.Fragment,{children:[C.jsx("div",{ref:tye(e,this.editorContentRef),...n}),t?.contentComponent&&C.jsx(nye,{contentComponent:t.contentComponent})]})}},sye=X.forwardRef((t,e)=>{const n=un.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return un.createElement(iye,{key:n,innerRef:e,...t})}),oye=un.memo(sye),aye=typeof window<"u"?X.useLayoutEffect:X.useEffect,lye=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function cye(t){var e;const[n]=X.useState(()=>new lye(t.editor)),r=eye.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:Q1e);return aye(()=>n.watch(t.editor),[t.editor,n]),X.useDebugValue(r),r}var uye=!1,CC=typeof window>"u",fye=CC||!!(typeof window<"u"&&window.next),hye=class az{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?CC||fye?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new i1e(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var o;return i===((o=n.extensions)==null?void 0:o[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?az.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function dye(t={},e=[]){const n=X.useRef(t);n.current=t;const[r]=X.useState(()=>new hye(n)),i=YP.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return X.useDebugValue(i),X.useEffect(r.onRender(e)),cye({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var pye=X.createContext({editor:null});pye.Consumer;var lz=X.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),cz=()=>X.useContext(lz);function mye({as:t="div",...e}){const{nodeViewContentRef:n,nodeViewContentChildren:r}=cz();return C.jsx(t,{...e,ref:n,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...e.style},children:r})}var uz=un.forwardRef((t,e)=>{const{onDragStart:n}=cz(),r=t.as||"div";return C.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function j8(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function $8(t){return!!(typeof t=="object"&&t.$$typeof&&(t.$$typeof.toString()==="Symbol(react.forward_ref)"||t.$$typeof.description==="react.forward_ref"))}function gye(t){return!!(typeof t=="object"&&t.$$typeof&&(t.$$typeof.toString()==="Symbol(react.memo)"||t.$$typeof.description==="react.memo"))}function xye(t){if(j8(t)||$8(t))return!0;if(gye(t)){const e=t.type;if(e)return j8(e)||$8(e)}return!1}function yye(){try{if(X.version)return parseInt(X.version.split(".")[0],10)>=19}catch{}return!1}var bye=class{constructor(t,{editor:e,props:n={},as:r="div",className:i=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=t,this.editor=e,this.props=n,this.element=document.createElement(r),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.editor.isInitialized?$c.flushSync(()=>{this.render()}):queueMicrotask(()=>{this.render()})}render(){var t;const e=this.component,n=this.props,r=this.editor,i=yye(),s=xye(e),o={...n};o.ref&&!(i||s)&&delete o.ref,!o.ref&&(i||s)&&(o.ref=a=>{this.ref=a}),this.reactElement=C.jsx(e,{...o}),(t=r?.contentComponent)==null||t.setRenderer(this.id,this)}updateProps(t={}){this.props={...this.props,...t},this.render()}destroy(){var t;const e=this.editor;(t=e?.contentComponent)==null||t.removeRenderer(this.id);try{this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}catch{}}updateAttributes(t){Object.keys(t).forEach(e=>{this.element.setAttribute(e,t[e])})}};un.createContext({markViewContentRef:()=>{}});var vye=class extends m1e{constructor(t,e,n){if(super(t,e,n),this.selectionRafId=null,!this.node.isLeaf){this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.dataset.nodeViewWrapper="",this.contentDOMElement.style.whiteSpace="inherit";const r=this.dom.querySelector("[data-node-view-content]");if(!r)return;r.appendChild(this.contentDOMElement)}}mount(){const t={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(l={})=>this.updateAttributes(l),deleteNode:()=>this.deleteNode(),ref:X.createRef()};if(!this.component.displayName){const l=c=>c.charAt(0).toUpperCase()+c.substring(1);this.component.displayName=l(this.extension.name)}const r={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:l=>{l&&this.contentDOMElement&&l.firstChild!==this.contentDOMElement&&(l.hasAttribute("data-node-view-wrapper")&&l.removeAttribute("data-node-view-wrapper"),l.appendChild(this.contentDOMElement))}},i=this.component,s=X.memo(l=>C.jsx(lz.Provider,{value:r,children:X.createElement(i,l)}));s.displayName="ReactNodeView";let o=this.node.isInline?"span":"div";this.options.as&&(o=this.options.as);const{className:a=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new bye(s,{editor:this.editor,props:t,as:o,className:`node-${this.node.type.name} ${a}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var t;if(this.renderer.element.firstElementChild&&!((t=this.renderer.element.firstElementChild)!=null&&t.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){this.selectionRafId&&(cancelAnimationFrame(this.selectionRafId),this.selectionRafId=null),this.selectionRafId=requestAnimationFrame(()=>{this.selectionRafId=null;const{from:t,to:e}=this.editor.state.selection,n=this.getPos();if(typeof n=="number")if(t<=n&&e>=n+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}})}update(t,e,n){const r=i=>{this.renderer.updateProps(i),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(t.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const i=this.node,s=this.decorations,o=this.innerDecorations;return this.node=t,this.decorations=e,this.innerDecorations=n,this.options.update({oldNode:i,oldDecorations:s,newNode:t,newDecorations:e,oldInnerDecorations:o,innerDecorations:n,updateProps:()=>r({node:t,decorations:e,innerDecorations:n})})}return t===this.node&&this.decorations===e&&this.innerDecorations===n||(this.node=t,this.decorations=e,this.innerDecorations=n,r({node:t,decorations:e,innerDecorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null,this.selectionRafId&&(cancelAnimationFrame(this.selectionRafId),this.selectionRafId=null)}updateElementAttributes(){if(this.options.attrs){let t={};if(typeof this.options.attrs=="function"){const e=this.editor.extensionManager.attributes,n=Z0(this.node,e);t=this.options.attrs({node:this.node,HTMLAttributes:n})}else t=this.options.attrs;this.renderer.updateAttributes(t)}}};function fz(t,e){return n=>n.editor.contentComponent?new vye(t,n,e):{}}var iy=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},wye=/^\s*>\s$/,Eye=ti.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return iy("blockquote",{...jn(this.options.HTMLAttributes,t),children:iy("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(i=>{const a=e.renderChildren([i]).split(`
`).map(l=>l.trim()===""?n:`${n} ${l}`);r.push(a.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ch({find:wye,type:this.type})]}}),Sye=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Cye=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,kye=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Aye=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Tye=Ya.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return iy("strong",{...jn(this.options.HTMLAttributes,t),children:iy("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[mu({find:Sye,type:this.type}),mu({find:kye,type:this.type})]},addPasteRules(){return[ic({find:Cye,type:this.type}),ic({find:Aye,type:this.type})]}}),_ye=/(^|[^`])`([^`]+)`(?!`)$/,Nye=/(^|[^`])`([^`]+)`(?!`)/g,Dye=Ya.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",jn(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[mu({find:_ye,type:this.type})]},addPasteRules(){return[ic({find:Nye,type:this.type})]}}),w2=4,Oye=/^```([a-z]+)?[\s\n]$/,Mye=/^~~~([a-z]+)?[\s\n]$/,hz=ti.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:w2,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",jn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:w2,{state:r}=t,{selection:i}=r,{$from:s,empty:o}=i;if(s.parent.type!==this.type)return!1;const a=" ".repeat(n);return o?t.commands.insertContent(a):t.commands.command(({tr:l})=>{const{from:c,to:f}=i,g=r.doc.textBetween(c,f,`
`,`
`).split(`
`).map(x=>a+x).join(`
`);return l.replaceWith(c,f,r.schema.text(g)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:w2,{state:r}=t,{selection:i}=r,{$from:s,empty:o}=i;return s.parent.type!==this.type?!1:o?t.commands.command(({tr:a})=>{var l;const{pos:c}=s,f=s.start(),d=s.end(),g=r.doc.textBetween(f,d,`
`,`
`).split(`
`);let x=0,b=0;const v=c-f;for(let _=0;_<g.length;_+=1){if(b+g[_].length>=v){x=_;break}b+=g[_].length+1}const k=((l=g[x].match(/^ */))==null?void 0:l[0])||"",A=Math.min(k.length,n);if(A===0)return!0;let T=f;for(let _=0;_<x;_+=1)T+=g[_].length+1;return a.delete(T,T+A),c-T<=A&&a.setSelection(bt.create(a.doc,T)),!0}):t.commands.command(({tr:a})=>{const{from:l,to:c}=i,p=r.doc.textBetween(l,c,`
`,`
`).split(`
`).map(g=>{var x;const b=((x=g.match(/^ */))==null?void 0:x[0])||"",v=Math.min(b.length,n);return g.slice(v)}).join(`
`);return a.replaceWith(l,c,r.schema.text(p)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(Tt.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[EC({find:Oye,type:this.type,getAttributes:t=>({language:t[1]})}),EC({find:Mye,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Yn({key:new ur("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!n||!s)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(bt.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),Rye=hz,Bye=ti.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),Lye=ti.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",jn(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:f})=>{if(f&&l&&o){const d=l.filter(p=>a.includes(p.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Iye=ti.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,jn(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>EC({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),Fye=ti.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",jn(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!a1e(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return U7(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:o,dispatch:a})=>{if(a){const{$to:l}=o.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?o.setSelection(bt.create(o.doc,l.pos+1)):l.nodeAfter.isBlock?o.setSelection(gt.create(o.doc,l.pos)):o.setSelection(bt.create(o.doc,l.pos));else{const f=s.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,d=f?.create();d&&(o.insert(c,d),o.setSelection(bt.create(o.doc,c+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[iz({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Pye=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,zye=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Hye=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Uye=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,jye=Ya.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",jn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[mu({find:Pye,type:this.type}),mu({find:Hye,type:this.type})]},addPasteRules(){return[ic({find:zye,type:this.type}),ic({find:Uye,type:this.type})]}});const $ye="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Vye="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",kC="numeric",AC="ascii",TC="alpha",c0="asciinumeric",Ud="alphanumeric",_C="domain",dz="emoji",qye="scheme",Wye="slashscheme",E2="whitespace";function Gye(t,e){return t in e||(e[t]=[]),e[t]}function Gc(t,e,n){e[kC]&&(e[c0]=!0,e[Ud]=!0),e[AC]&&(e[c0]=!0,e[TC]=!0),e[c0]&&(e[Ud]=!0),e[TC]&&(e[Ud]=!0),e[Ud]&&(e[_C]=!0),e[dz]&&(e[_C]=!0);for(const r in e){const i=Gye(r,n);i.indexOf(t)<0&&i.push(t)}}function Kye(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function is(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}is.groups={};is.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||is.groups;let i;return e&&e.j?i=e:(i=new is(e),n&&r&&Gc(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||is.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,a=i.go(t);if(a?(o=new is,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new is,s){if(r)if(o.t&&typeof o.t=="string"){const l=Object.assign(Kye(o.t,r),n);Gc(s,l,r)}else n&&Gc(s,n,r);o.t=s}return i.j[t]=o,o}};const Ht=(t,e,n,r,i)=>t.ta(e,n,r,i),dr=(t,e,n,r,i)=>t.tr(e,n,r,i),V8=(t,e,n,r,i)=>t.ts(e,n,r,i),We=(t,e,n,r,i)=>t.tt(e,n,r,i),Ta="WORD",NC="UWORD",pz="ASCIINUMERICAL",mz="ALPHANUMERICAL",ep="LOCALHOST",DC="TLD",OC="UTLD",Jx="SCHEME",kf="SLASH_SCHEME",jA="NUM",MC="WS",$A="NL",u0="OPENBRACE",f0="CLOSEBRACE",sy="OPENBRACKET",oy="CLOSEBRACKET",ay="OPENPAREN",ly="CLOSEPAREN",cy="OPENANGLEBRACKET",uy="CLOSEANGLEBRACKET",fy="FULLWIDTHLEFTPAREN",hy="FULLWIDTHRIGHTPAREN",dy="LEFTCORNERBRACKET",py="RIGHTCORNERBRACKET",my="LEFTWHITECORNERBRACKET",gy="RIGHTWHITECORNERBRACKET",xy="FULLWIDTHLESSTHAN",yy="FULLWIDTHGREATERTHAN",by="AMPERSAND",vy="APOSTROPHE",wy="ASTERISK",Dl="AT",Ey="BACKSLASH",Sy="BACKTICK",Cy="CARET",Ll="COLON",VA="COMMA",ky="DOLLAR",Wo="DOT",Ay="EQUALS",qA="EXCLAMATION",Xs="HYPHEN",h0="PERCENT",Ty="PIPE",_y="PLUS",Ny="POUND",d0="QUERY",WA="QUOTE",gz="FULLWIDTHMIDDLEDOT",GA="SEMI",Go="SLASH",p0="TILDE",Dy="UNDERSCORE",xz="EMOJI",Oy="SYM";var yz=Object.freeze({__proto__:null,ALPHANUMERICAL:mz,AMPERSAND:by,APOSTROPHE:vy,ASCIINUMERICAL:pz,ASTERISK:wy,AT:Dl,BACKSLASH:Ey,BACKTICK:Sy,CARET:Cy,CLOSEANGLEBRACKET:uy,CLOSEBRACE:f0,CLOSEBRACKET:oy,CLOSEPAREN:ly,COLON:Ll,COMMA:VA,DOLLAR:ky,DOT:Wo,EMOJI:xz,EQUALS:Ay,EXCLAMATION:qA,FULLWIDTHGREATERTHAN:yy,FULLWIDTHLEFTPAREN:fy,FULLWIDTHLESSTHAN:xy,FULLWIDTHMIDDLEDOT:gz,FULLWIDTHRIGHTPAREN:hy,HYPHEN:Xs,LEFTCORNERBRACKET:dy,LEFTWHITECORNERBRACKET:my,LOCALHOST:ep,NL:$A,NUM:jA,OPENANGLEBRACKET:cy,OPENBRACE:u0,OPENBRACKET:sy,OPENPAREN:ay,PERCENT:h0,PIPE:Ty,PLUS:_y,POUND:Ny,QUERY:d0,QUOTE:WA,RIGHTCORNERBRACKET:py,RIGHTWHITECORNERBRACKET:gy,SCHEME:Jx,SEMI:GA,SLASH:Go,SLASH_SCHEME:kf,SYM:Oy,TILDE:p0,TLD:DC,UNDERSCORE:Dy,UTLD:OC,UWORD:NC,WORD:Ta,WS:MC});const ka=/[a-z]/,Nd=new RegExp("\\p{L}","u"),S2=new RegExp("\\p{Emoji}","u"),Aa=/\d/,C2=/\s/,q8="\r",k2=`
`,Xye="",Yye="",A2="";let Fg=null,Pg=null;function Qye(t=[]){const e={};is.groups=e;const n=new is;Fg==null&&(Fg=W8($ye)),Pg==null&&(Pg=W8(Vye)),We(n,"'",vy),We(n,"{",u0),We(n,"}",f0),We(n,"[",sy),We(n,"]",oy),We(n,"(",ay),We(n,")",ly),We(n,"<",cy),We(n,">",uy),We(n,"",fy),We(n,"",hy),We(n,"",dy),We(n,"",py),We(n,"",my),We(n,"",gy),We(n,"",xy),We(n,"",yy),We(n,"&",by),We(n,"*",wy),We(n,"@",Dl),We(n,"`",Sy),We(n,"^",Cy),We(n,":",Ll),We(n,",",VA),We(n,"$",ky),We(n,".",Wo),We(n,"=",Ay),We(n,"!",qA),We(n,"-",Xs),We(n,"%",h0),We(n,"|",Ty),We(n,"+",_y),We(n,"#",Ny),We(n,"?",d0),We(n,'"',WA),We(n,"/",Go),We(n,";",GA),We(n,"~",p0),We(n,"_",Dy),We(n,"\\",Ey),We(n,"",gz);const r=dr(n,Aa,jA,{[kC]:!0});dr(r,Aa,r);const i=dr(r,ka,pz,{[c0]:!0}),s=dr(r,Nd,mz,{[Ud]:!0}),o=dr(n,ka,Ta,{[AC]:!0});dr(o,Aa,i),dr(o,ka,o),dr(i,Aa,i),dr(i,ka,i);const a=dr(n,Nd,NC,{[TC]:!0});dr(a,ka),dr(a,Aa,s),dr(a,Nd,a),dr(s,Aa,s),dr(s,ka),dr(s,Nd,s);const l=We(n,k2,$A,{[E2]:!0}),c=We(n,q8,MC,{[E2]:!0}),f=dr(n,C2,MC,{[E2]:!0});We(n,A2,f),We(c,k2,l),We(c,A2,f),dr(c,C2,f),We(f,q8),We(f,k2),dr(f,C2,f),We(f,A2,f);const d=dr(n,S2,xz,{[dz]:!0});We(d,"#"),dr(d,S2,d),We(d,Xye,d);const p=We(d,Yye);We(p,"#"),dr(p,S2,d);const g=[[ka,o],[Aa,i]],x=[[ka,null],[Nd,a],[Aa,s]];for(let b=0;b<Fg.length;b++)kl(n,Fg[b],DC,Ta,g);for(let b=0;b<Pg.length;b++)kl(n,Pg[b],OC,NC,x);Gc(DC,{tld:!0,ascii:!0},e),Gc(OC,{utld:!0,alpha:!0},e),kl(n,"file",Jx,Ta,g),kl(n,"mailto",Jx,Ta,g),kl(n,"http",kf,Ta,g),kl(n,"https",kf,Ta,g),kl(n,"ftp",kf,Ta,g),kl(n,"ftps",kf,Ta,g),Gc(Jx,{scheme:!0,ascii:!0},e),Gc(kf,{slashscheme:!0,ascii:!0},e),t=t.sort((b,v)=>b[0]>v[0]?1:-1);for(let b=0;b<t.length;b++){const v=t[b][0],k=t[b][1]?{[qye]:!0}:{[Wye]:!0};v.indexOf("-")>=0?k[_C]=!0:ka.test(v)?Aa.test(v)?k[c0]=!0:k[AC]=!0:k[kC]=!0,V8(n,v,v,k)}return V8(n,"localhost",ep,{ascii:!0}),n.jd=new is(Oy),{start:n,tokens:Object.assign({groups:e},yz)}}function bz(t,e){const n=Jye(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let a=t,l=null,c=0,f=null,d=-1,p=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,p=0,f=a):d>=0&&(d+=n[o].length,p++),c+=n[o].length,s+=n[o].length,o++;s-=d,o-=p,c-=d,i.push({t:f.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}function Jye(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function kl(t,e,n,r,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new is(r),s.jr=i.slice(),t.j[l]=s),t=s}return s=new is(n),s.jr=i.slice(),t.j[e[o-1]]=s,s}function W8(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+s),10);o>0;o--)n.pop();r+=s}else n.push(t[r]),r++}return e}const tp={defaultProtocol:"http",events:null,format:G8,formatHref:G8,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function KA(t,e=null){let n=Object.assign({},tp);t&&(n=Object.assign(n,t instanceof KA?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}KA.prototype={o:tp,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:tp[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function G8(t){return t}function vz(t,e){this.t="token",this.v=t,this.tk=e}vz.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=tp.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),o={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),f=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),f&&Object.assign(o,f),{tagName:i,attributes:o,content:s,eventListeners:d}}};function Db(t,e){class n extends vz{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const K8=Db("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),X8=Db("text"),Zye=Db("nl"),zg=Db("url",{isLink:!0,toHref(t=tp.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==ep&&t[1].t===Ll}}),Gs=t=>new is(t);function ebe({groups:t}){const e=t.domain.concat([by,wy,Dl,Ey,Sy,Cy,ky,Ay,Xs,jA,h0,Ty,_y,Ny,Go,Oy,p0,Dy]),n=[vy,Ll,VA,Wo,qA,h0,d0,WA,GA,cy,uy,u0,f0,oy,sy,ay,ly,fy,hy,dy,py,my,gy,xy,yy],r=[by,vy,wy,Ey,Sy,Cy,ky,Ay,Xs,u0,f0,h0,Ty,_y,Ny,d0,Go,Oy,p0,Dy],i=Gs(),s=We(i,p0);Ht(s,r,s),Ht(s,t.domain,s);const o=Gs(),a=Gs(),l=Gs();Ht(i,t.domain,o),Ht(i,t.scheme,a),Ht(i,t.slashscheme,l),Ht(o,r,s),Ht(o,t.domain,o);const c=We(o,Dl);We(s,Dl,c),We(a,Dl,c),We(l,Dl,c);const f=We(s,Wo);Ht(f,r,s),Ht(f,t.domain,s);const d=Gs();Ht(c,t.domain,d),Ht(d,t.domain,d);const p=We(d,Wo);Ht(p,t.domain,d);const g=Gs(K8);Ht(p,t.tld,g),Ht(p,t.utld,g),We(c,ep,g);const x=We(d,Xs);We(x,Xs,x),Ht(x,t.domain,d),Ht(g,t.domain,d),We(g,Wo,p),We(g,Xs,x);const b=We(g,Ll);Ht(b,t.numeric,K8);const v=We(o,Xs),w=We(o,Wo);We(v,Xs,v),Ht(v,t.domain,o),Ht(w,r,s),Ht(w,t.domain,o);const k=Gs(zg);Ht(w,t.tld,k),Ht(w,t.utld,k),Ht(k,t.domain,o),Ht(k,r,s),We(k,Wo,w),We(k,Xs,v),We(k,Dl,c);const A=We(k,Ll),T=Gs(zg);Ht(A,t.numeric,T);const O=Gs(zg),_=Gs();Ht(O,e,O),Ht(O,n,_),Ht(_,e,O),Ht(_,n,_),We(k,Go,O),We(T,Go,O);const N=We(a,Ll),F=We(l,Ll),L=We(F,Go),R=We(L,Go);Ht(a,t.domain,o),We(a,Wo,w),We(a,Xs,v),Ht(l,t.domain,o),We(l,Wo,w),We(l,Xs,v),Ht(N,t.domain,O),We(N,Go,O),We(N,d0,O),Ht(R,t.domain,O),Ht(R,e,O),We(R,Go,O);const P=[[u0,f0],[sy,oy],[ay,ly],[cy,uy],[fy,hy],[dy,py],[my,gy],[xy,yy]];for(let z=0;z<P.length;z++){const[W,ee]=P[z],te=We(O,W);We(_,W,te),We(te,ee,O);const J=Gs(zg);Ht(te,e,J);const ae=Gs();Ht(te,n),Ht(J,e,J),Ht(J,n,ae),Ht(ae,e,J),Ht(ae,n,ae),We(J,ee,O),We(ae,ee,O)}return We(i,ep,k),We(i,$A,Zye),{start:i,tokens:yz}}function tbe(t,e,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let a=t,l=null,c=null,f=0,d=null,p=-1;for(;i<r&&!(l=a.go(n[i].t));)o.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(p=0,d=a):p>=0&&p++,i++,f++;if(p<0)i-=f,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(T2(X8,e,o)),o=[]),i-=p,f-=p;const g=d.t,x=n.slice(i-f,i);s.push(T2(g,e,x))}}return o.length>0&&s.push(T2(X8,e,o)),s}function T2(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const nbe=typeof console<"u"&&console&&console.warn||(()=>{}),rbe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",nr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function ibe(){return is.groups={},nr.scanner=null,nr.parser=null,nr.tokenQueue=[],nr.pluginQueue=[],nr.customSchemes=[],nr.initialized=!1,nr}function Y8(t,e=!1){if(nr.initialized&&nbe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${rbe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);nr.customSchemes.push([t,e])}function sbe(){nr.scanner=Qye(nr.customSchemes);for(let t=0;t<nr.tokenQueue.length;t++)nr.tokenQueue[t][1]({scanner:nr.scanner});nr.parser=ebe(nr.scanner.tokens);for(let t=0;t<nr.pluginQueue.length;t++)nr.pluginQueue[t][1]({scanner:nr.scanner,parser:nr.parser});return nr.initialized=!0,nr}function XA(t){return nr.initialized||sbe(),tbe(nr.parser.start,t,bz(nr.scanner.start,t))}XA.scan=bz;function wz(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new KA(n),i=XA(t),s=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&r.check(a)&&s.push(a.toFormattedObject(r))}return s}var YA="[\0- -\u2029]",obe=new RegExp(YA),abe=new RegExp(`${YA}$`),lbe=new RegExp(YA,"g");function cbe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function ube(t){return new Yn({key:new ur("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,a=M7(n.doc,[...e]);if(H7(a).forEach(({newRange:c})=>{const f=axe(r.doc,c,g=>g.isTextblock);let d,p;if(f.length>1)d=f[0],p=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(f.length){const g=r.doc.textBetween(c.from,c.to," "," ");if(!abe.test(g))return;d=f[0],p=r.doc.textBetween(d.pos,c.to,void 0," ")}if(d&&p){const g=p.split(obe).filter(Boolean);if(g.length<=0)return!1;const x=g[g.length-1],b=d.pos+p.lastIndexOf(x);if(!x)return!1;const v=XA(x).map(w=>w.toObject(t.defaultProtocol));if(!cbe(v))return!1;v.filter(w=>w.isLink).map(w=>({...w,from:b+w.start+1,to:b+w.end+1})).filter(w=>r.schema.marks.code?!r.doc.rangeHasMark(w.from,w.to,r.schema.marks.code):!0).filter(w=>t.validate(w.value)).filter(w=>t.shouldAutoLink(w.value)).forEach(w=>{FA(w.from,w.to,r.doc).some(k=>k.mark.type===t.type)||o.addMark(w.from,w.to,t.type.create({href:w.href}))})}}),!!o.steps.length)return o}})}function fbe(t){return new Yn({key:new ur("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=!1;if(t.enableClickSelection&&(o=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let d=r.target;const p=[];for(;d.nodeName!=="DIV";)p.push(d),d=d.parentNode;a=p.find(g=>g.nodeName==="A")}if(!a)return o;const l=z7(e.state,t.type.name),c=(i=a?.href)!=null?i:l.href,f=(s=a?.target)!=null?s:l.target;a&&c&&(window.open(c,f),o=!0)}return o}}})}function hbe(t){return new Yn({key:new ur("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:s}=e,{selection:o}=s,{empty:a}=o;if(a)return!1;let l="";r.content.forEach(f=>{l+=f.textContent});const c=wz(l,{defaultProtocol:t.defaultProtocol}).find(f=>f.isLink&&f.value===l);return!l||!c||i!==void 0&&!i(c.href)?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function Rc(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(lbe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var dbe=Ya.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){Y8(t);return}Y8(t.scheme,t.optionalSlashes)})},onDestroy(){ibe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Rc(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Rc(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Rc(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",jn(this.options.HTMLAttributes,t),0]:["a",jn(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Rc(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Rc(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ic({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=wz(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!Rc(o,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(ube({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Rc(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(fbe({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(hbe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),pbe=Object.defineProperty,mbe=(t,e)=>{for(var n in e)pbe(t,n,{get:e[n],enumerable:!0})},gbe="listItem",Q8="textStyle",J8=/^\s*([-+*])\s$/,Ez=ti.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",jn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(gbe,this.editor.getAttributes(Q8)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ch({find:J8,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ch({find:J8,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Q8),editor:this.editor})),[t]}}),Sz=ti.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",jn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const o=t.tokens.slice(1),a=e.parseChildren(o);n.push(...a)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>UA(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),xbe={};mbe(xbe,{findListItemPos:()=>_p,getNextListDepth:()=>QA,handleBackspace:()=>RC,handleDelete:()=>BC,hasListBefore:()=>Cz,hasListItemAfter:()=>ybe,hasListItemBefore:()=>kz,listItemHasSubList:()=>Az,nextListIsDeeper:()=>Tz,nextListIsHigher:()=>_z});var _p=(t,e)=>{const{$from:n}=e.selection,r=Rr(t,e.schema);let i=null,s=n.depth,o=n.pos,a=null;for(;s>0&&a===null;)i=n.node(s),i.type===r?a=s:(s-=1,o-=1);return a===null?null:{$pos:e.doc.resolve(o),depth:a}},QA=(t,e)=>{const n=_p(t,e);if(!n)return!1;const[,r]=gxe(e,t,n.$pos.pos+4);return r},Cz=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},kz=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},Az=(t,e,n)=>{if(!n)return!1;const r=Rr(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},RC=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!rc(t.state,e)&&Cz(t.state,e,n)){const{$anchor:a}=t.state.selection,l=t.state.doc.resolve(a.before()-1),c=[];l.node().descendants((p,g)=>{p.type.name===e&&c.push({node:p,pos:g})});const f=c.at(-1);if(!f)return!1;const d=t.state.doc.resolve(l.start()+f.pos+1);return t.chain().cut({from:a.start()-1,to:a.end()+1},d.end()).joinForward().run()}if(!rc(t.state,e)||!vxe(t.state))return!1;const r=_p(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=Az(e,t.state,s);return kz(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},Tz=(t,e)=>{const n=QA(t,e),r=_p(t,e);return!r||!n?!1:n>r.depth},_z=(t,e)=>{const n=QA(t,e),r=_p(t,e);return!r||!n?!1:n<r.depth},BC=(t,e)=>{if(!rc(t.state,e)||!bxe(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:Tz(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():_z(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},ybe=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},Nz=vn.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&BC(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&BC(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&RC(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&RC(t,n,r)&&(e=!0)}),e}}}}),Z8=/^(\s*)(\d+)\.\s+(.*)$/,bbe=/^\s/;function vbe(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],s=i.match(Z8);if(!s)break;const[,o,a,l]=s,c=o.length;let f=l,d=n+1;const p=[i];for(;d<t.length;){const g=t[d];if(g.match(Z8))break;if(g.trim()==="")p.push(g),f+=`
`,d+=1;else if(g.match(bbe))p.push(g),f+=`
${g.slice(c+2)}`,d+=1;else break}e.push({indent:c,number:parseInt(a,10),content:f.trim(),raw:p.join(`
`)}),r=d,n=d}return[e,r]}function Dz(t,e,n){var r;const i=[];let s=0;for(;s<t.length;){const o=t[s];if(o.indent===e){const a=o.content.split(`
`),l=((r=a[0])==null?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const f=a.slice(1).join(`
`).trim();if(f){const g=n.blockTokens(f);c.push(...g)}let d=s+1;const p=[];for(;d<t.length&&t[d].indent>e;)p.push(t[d]),d+=1;if(p.length>0){const g=Math.min(...p.map(b=>b.indent)),x=Dz(p,g,n);c.push({type:"list",ordered:!0,start:p[0].number,items:x,raw:p.map(b=>b.raw).join(`
`)})}i.push({type:"list_item",raw:o.raw,tokens:c}),s=d}else s+=1}return i}function wbe(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=e.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=e.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var Ebe="listItem",eB="textStyle",tB=/^(\d+)\.\s$/,Oz=ti.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",jn(this.options.HTMLAttributes,n),0]:["ol",jn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?wbe(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[s,o]=vbe(i);if(s.length===0)return;const a=Dz(s,0,n);return a.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:a,raw:i.slice(0,o).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Ebe,this.editor.getAttributes(eB)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ch({find:tB,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ch({find:tB,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(eB)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Sbe=/^\s*(\[([( |x])?\])\s$/,Mz=ti.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",jn(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return UA(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=f=>{var d,p;a.ariaLabel=((p=(d=this.options.a11y)==null?void 0:d.checkboxLabel)==null?void 0:p.call(d,f,a.checked))||`Task item checkbox for ${f.textContent||"empty task item"}`};return c(t),s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",f=>f.preventDefault()),a.addEventListener("change",f=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:d}=f.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const g=n();if(typeof g!="number")return!1;const x=p.doc.nodeAt(g);return p.setNodeMarkup(g,void 0,{...x?.attrs,checked:d}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,d)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,d])=>{i.setAttribute(f,d)}),i.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,s.append(a,o),i.append(s,l),Object.entries(e).forEach(([f,d])=>{i.setAttribute(f,d)}),{dom:i,contentDOM:l,update:f=>f.type!==this.type?!1:(i.dataset.checked=f.attrs.checked,a.checked=f.attrs.checked,c(f),!0)}}},addInputRules(){return[ch({find:Sbe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),Rz=ti.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",jn(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=s=>{const o=SC(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,l)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:l}),customNestedParser:r},n);return o?[{type:"taskList",raw:o.raw,items:o.items}]:n.blockTokens(s)},i=SC(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,o)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:o}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});vn.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(Ez.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(Sz.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(Nz.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(Oz.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(Mz.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(Rz.configure(this.options.taskList)),t}});var Cbe=ti.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",jn(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),kbe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Abe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Tbe=Ya.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",jn(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[mu({find:kbe,type:this.type})]},addPasteRules(){return[ic({find:Abe,type:this.type})]}}),_be=ti.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),Bz=Ya.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",jn(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Nbe(t={}){return new Yn({view(e){return new Dbe(e,t)}})}class Dbe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,a=s.height/i.offsetHeight;if(n){let d=e.nodeBefore,p=e.nodeAfter;if(d||p){let g=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(g){let x=g.getBoundingClientRect(),b=d?x.bottom:x.top;d&&p&&(b=(b+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let v=this.width/2*a;r={left:x.left,right:x.right,top:b-v,bottom:b+v}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*o;r={left:d.left-p,right:d.left+p,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,f;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,f=-pageYOffset;else{let d=l.getBoundingClientRect(),p=d.width/l.offsetWidth,g=d.height/l.offsetHeight;c=d.left-l.scrollLeft*p,f=d.top-l.scrollTop*g}this.element.style.left=(r.left-c)/o+"px",this.element.style.top=(r.top-f)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=S9(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class mr extends Tt{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return mr.valid(r)?new mr(r):Tt.near(r)}content(){return nt.empty}eq(e){return e instanceof mr&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new mr(e.resolve(n.pos))}getBookmark(){return new JA(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Obe(e)||!Mbe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&mr.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(mr.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!gt.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(mr.valid(a))return a}return null}}}mr.prototype.visible=!1;mr.findFrom=mr.findGapCursorFrom;Tt.jsonID("gapcursor",mr);class JA{constructor(e){this.pos=e}map(e){return new JA(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return mr.valid(n)?new mr(n):Tt.near(n)}}function Lz(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function Obe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||Lz(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Mbe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||Lz(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Rbe(){return new Yn({props:{decorations:Fbe,createSelectionBetween(t,e,n){return e.pos==n.pos&&mr.valid(n)?new mr(n):null},handleClick:Lbe,handleKeyDown:Bbe,handleDOMEvents:{beforeinput:Ibe}}})}const Bbe=DA({ArrowLeft:Hg("horiz",-1),ArrowRight:Hg("horiz",1),ArrowUp:Hg("vert",-1),ArrowDown:Hg("vert",1)});function Hg(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof bt){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=mr.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new mr(c))),!0):!1}}function Lbe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!mr.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&gt.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new mr(r))),!0)}function Ibe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof mr))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=Fe.empty;for(let o=r.length-1;o>=0;o--)i=Fe.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new nt(i,0,0));return s.setSelection(bt.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function Fbe(t){if(!(t.selection instanceof mr))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",zn.create(t.doc,[Hr.widget(t.selection.head,e,{key:"gapcursor"})])}var My=200,Jr=function(){};Jr.prototype.append=function(e){return e.length?(e=Jr.from(e),!this.length&&e||e.length<My&&this.leafAppend(e)||this.length<My&&e.leafPrepend(this)||this.appendInner(e)):this};Jr.prototype.prepend=function(e){return e.length?Jr.from(e).append(this):this};Jr.prototype.appendInner=function(e){return new Pbe(this,e)};Jr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Jr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Jr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Jr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Jr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};Jr.from=function(e){return e instanceof Jr?e:e&&e.length?new Iz(e):Jr.empty};var Iz=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=My)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=My)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Jr);Jr.empty=new Iz([]);var Pbe=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(Jr);const zbe=500;class vo{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],f=[];return this.items.forEach((d,p)=>{if(!d.step){i||(i=this.remapping(r,p+1),s=i.maps.length),s--,f.push(d);return}if(i){f.push(new Ko(d.map));let g=d.step.map(i.slice(s)),x;g&&o.maybeStep(g).doc&&(x=o.mapping.maps[o.mapping.maps.length-1],c.push(new Ko(x,void 0,void 0,c.length+f.length))),s--,x&&i.appendMap(x,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new vo(this.items.slice(0,r).append(f.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let f=0;f<e.steps.length;f++){let d=e.steps[f].invert(e.docs[f]),p=new Ko(e.mapping.maps[f],d,n),g;(g=l&&l.merge(p))&&(p=g,f?s.pop():a=a.slice(0,a.length-1)),s.push(p),n&&(o++,n=void 0),i||(l=p)}let c=o-r.depth;return c>Ube&&(a=Hbe(a,c),o-=c),new vo(a.append(s),o)}remapping(e,n){let r=new G0;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new vo(this.items.append(e.map(n=>new Ko(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(p=>{p.selection&&a--},i);let l=n;this.items.forEach(p=>{let g=s.getMirror(--l);if(g==null)return;o=Math.min(o,g);let x=s.maps[g];if(p.step){let b=e.steps[g].invert(e.docs[g]),v=p.selection&&p.selection.map(s.slice(l+1,g));v&&a++,r.push(new Ko(x,b,v))}else r.push(new Ko(x))},i);let c=[];for(let p=n;p<o;p++)c.push(new Ko(s.maps[p]));let f=this.items.slice(0,i).append(c).append(r),d=new vo(f,a);return d.emptyItemCount()>zbe&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let f=o.selection&&o.selection.map(n.slice(r));f&&s++;let d=new Ko(c.invert(),l,f),p,g=i.length-1;(p=i.length&&i[g].merge(d))?i[g]=p:i.push(d)}}else o.map&&r--},this.items.length,0),new vo(Jr.from(i.reverse()),s)}}vo.empty=new vo(Jr.empty,0);function Hbe(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Ko{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ko(n.getMap().invert(),n,this.selection)}}}class Ol{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const Ube=20;function jbe(t,e,n,r){let i=n.getMeta(tu),s;if(i)return i.historyState;n.getMeta(qbe)&&(t=new Ol(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(tu))return o.getMeta(tu).redo?new Ol(t.done.addTransform(n,void 0,r,Zx(e)),t.undone,nB(n.mapping.maps),t.prevTime,t.prevComposition):new Ol(t.done,t.undone.addTransform(n,void 0,r,Zx(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!$be(n,t.prevRanges)),c=o?_2(t.prevRanges,n.mapping):nB(n.mapping.maps);return new Ol(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,Zx(e)),vo.empty,c,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Ol(t.done.rebased(n,s),t.undone.rebased(n,s),_2(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Ol(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),_2(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function $be(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function nB(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function _2(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function Vbe(t,e,n){let r=Zx(e),i=tu.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new Ol(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(tu,{redo:n,historyState:l})}let N2=!1,rB=null;function Zx(t){let e=t.plugins;if(rB!=e){N2=!1,rB=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){N2=!0;break}}return N2}const tu=new ur("history"),qbe=new ur("closeHistory");function Wbe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Yn({key:tu,state:{init(){return new Ol(vo.empty,vo.empty,null,0,-1)},apply(e,n,r){return jbe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?Pz:r=="historyRedo"?zz:null;return!i||!e.editable?!1:(n.preventDefault(),i(e.state,e.dispatch))}}}})}function Fz(t,e){return(n,r)=>{let i=tu.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=Vbe(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const Pz=Fz(!1,!0),zz=Fz(!0,!0);vn.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Yn({key:new ur("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const o=s-i,a=0,l=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(a,l);return t=!0,c}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const a=e.selection.$head.pos,l=s-r,c=a-l,f=a;return e.deleteRange(c,f),!(this.storage.characters({node:e.doc})>r)}})]}});var Gbe=vn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Nbe(this.options)]}});vn.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Yn({key:new ur("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return zn.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;o+=1});let a=0;return t.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&o-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";s.push(Hr.node(c,c+l.nodeSize,{class:this.options.className}))}),zn.create(t,s)}}})]}});var Kbe=vn.create({name:"gapCursor",addProseMirrorPlugins(){return[Rbe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=bn(xt(t,"allowGapCursor",n)))!=null?e:null}}}),Xbe=vn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Yn({key:new ur("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((o,a)=>{const l=r>=a&&r<=a+o.nodeSize,c=!o.isLeaf&&Tb(o);if((l||!this.options.showOnlyCurrent)&&c){const f=[this.options.emptyNodeClass];s&&f.push(this.options.emptyEditorClass);const d=Hr.node(a,a+o.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),zn.create(t,i)}}})]}});vn.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Yn({key:new ur("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||U7(n.selection)||t.view.dragging?null:zn.create(n.doc,[Hr.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function iB({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var Ybe=vn.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new ur(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new Yn({key:e,appendTransaction:(i,s,o)=>{const{doc:a,tr:l,schema:c}=o,f=e.getState(o),d=a.content.size,p=c.nodes[n];if(f)return l.insert(d,p.create())},state:{init:(i,s)=>{const o=s.tr.doc.lastChild;return!iB({node:o,types:r})},apply:(i,s)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return s;const o=i.doc.lastChild;return!iB({node:o,types:r})}}})]}}),Qbe=vn.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Pz(t,e),redo:()=>({state:t,dispatch:e})=>zz(t,e)}},addProseMirrorPlugins(){return[Wbe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Jbe=vn.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(Tye.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(Eye.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(Ez.configure(this.options.bulletList)),this.options.code!==!1&&i.push(Dye.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(hz.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(Bye.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(Gbe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(Kbe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(Lye.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(Iye.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(Qbe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(Fye.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(jye.configure(this.options.italic)),this.options.listItem!==!1&&i.push(Sz.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(Nz.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(dbe.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(Oz.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(Cbe.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(Tbe.configure(this.options.strike)),this.options.text!==!1&&i.push(_be.configure(this.options.text)),this.options.underline!==!1&&i.push(Bz.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(Ybe.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),Zbe=Jbe,eve=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,tve=ti.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",jn(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,i,s,o;const a=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",l=(i=(r=t.attrs)==null?void 0:r.alt)!=null?i:"",c=(o=(s=t.attrs)==null?void 0:s.title)!=null?o:"";return c?`![${l}](${a} "${c}")`:`![${l}](${a})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:i,getPos:s,HTMLAttributes:o,editor:a})=>{const l=document.createElement("img");Object.entries(o).forEach(([d,p])=>{if(p!=null)switch(d){case"width":case"height":break;default:l.setAttribute(d,p);break}}),l.src=o.src;const c=new o1e({element:l,editor:a,node:i,getPos:s,onResize:(d,p)=>{l.style.width=`${d}px`,l.style.height=`${p}px`},onCommit:(d,p)=>{const g=s();g!==void 0&&this.editor.chain().setNodeSelection(g).updateAttributes(this.name,{width:d,height:p}).run()},onUpdate:(d,p,g)=>d.type===i.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:r===!0}}),f=c.dom;return f.style.visibility="hidden",f.style.pointerEvents="none",l.onload=()=>{f.style.visibility="",f.style.pointerEvents=""},c}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[iz({find:eve,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),nve=tve,D2,sB;function rve(){if(sB)return D2;sB=1;function t(ie){return ie instanceof Map?ie.clear=ie.delete=ie.set=function(){throw new Error("map is read-only")}:ie instanceof Set&&(ie.add=ie.clear=ie.delete=function(){throw new Error("set is read-only")}),Object.freeze(ie),Object.getOwnPropertyNames(ie).forEach(ne=>{const fe=ie[ne],Ae=typeof fe;(Ae==="object"||Ae==="function")&&!Object.isFrozen(fe)&&t(fe)}),ie}class e{constructor(ne){ne.data===void 0&&(ne.data={}),this.data=ne.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(ie){return ie.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(ie,...ne){const fe=Object.create(null);for(const Ae in ie)fe[Ae]=ie[Ae];return ne.forEach(function(Ae){for(const Je in Ae)fe[Je]=Ae[Je]}),fe}const i="</span>",s=ie=>!!ie.scope,o=(ie,{prefix:ne})=>{if(ie.startsWith("language:"))return ie.replace("language:","language-");if(ie.includes(".")){const fe=ie.split(".");return[`${ne}${fe.shift()}`,...fe.map((Ae,Je)=>`${Ae}${"_".repeat(Je+1)}`)].join(" ")}return`${ne}${ie}`};class a{constructor(ne,fe){this.buffer="",this.classPrefix=fe.classPrefix,ne.walk(this)}addText(ne){this.buffer+=n(ne)}openNode(ne){if(!s(ne))return;const fe=o(ne.scope,{prefix:this.classPrefix});this.span(fe)}closeNode(ne){s(ne)&&(this.buffer+=i)}value(){return this.buffer}span(ne){this.buffer+=`<span class="${ne}">`}}const l=(ie={})=>{const ne={children:[]};return Object.assign(ne,ie),ne};class c{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(ne){this.top.children.push(ne)}openNode(ne){const fe=l({scope:ne});this.add(fe),this.stack.push(fe)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(ne){return this.constructor._walk(ne,this.rootNode)}static _walk(ne,fe){return typeof fe=="string"?ne.addText(fe):fe.children&&(ne.openNode(fe),fe.children.forEach(Ae=>this._walk(ne,Ae)),ne.closeNode(fe)),ne}static _collapse(ne){typeof ne!="string"&&ne.children&&(ne.children.every(fe=>typeof fe=="string")?ne.children=[ne.children.join("")]:ne.children.forEach(fe=>{c._collapse(fe)}))}}class f extends c{constructor(ne){super(),this.options=ne}addText(ne){ne!==""&&this.add(ne)}startScope(ne){this.openNode(ne)}endScope(){this.closeNode()}__addSublanguage(ne,fe){const Ae=ne.root;fe&&(Ae.scope=`language:${fe}`),this.add(Ae)}toHTML(){return new a(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function d(ie){return ie?typeof ie=="string"?ie:ie.source:null}function p(ie){return b("(?=",ie,")")}function g(ie){return b("(?:",ie,")*")}function x(ie){return b("(?:",ie,")?")}function b(...ie){return ie.map(fe=>d(fe)).join("")}function v(ie){const ne=ie[ie.length-1];return typeof ne=="object"&&ne.constructor===Object?(ie.splice(ie.length-1,1),ne):{}}function w(...ie){return"("+(v(ie).capture?"":"?:")+ie.map(Ae=>d(Ae)).join("|")+")"}function k(ie){return new RegExp(ie.toString()+"|").exec("").length-1}function A(ie,ne){const fe=ie&&ie.exec(ne);return fe&&fe.index===0}const T=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function O(ie,{joinWith:ne}){let fe=0;return ie.map(Ae=>{fe+=1;const Je=fe;let Ke=d(Ae),Oe="";for(;Ke.length>0;){const Le=T.exec(Ke);if(!Le){Oe+=Ke;break}Oe+=Ke.substring(0,Le.index),Ke=Ke.substring(Le.index+Le[0].length),Le[0][0]==="\\"&&Le[1]?Oe+="\\"+String(Number(Le[1])+Je):(Oe+=Le[0],Le[0]==="("&&fe++)}return Oe}).map(Ae=>`(${Ae})`).join(ne)}const _=/\b\B/,N="[a-zA-Z]\\w*",F="[a-zA-Z_]\\w*",L="\\b\\d+(\\.\\d+)?",R="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",P="\\b(0b[01]+)",z="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",W=(ie={})=>{const ne=/^#![ ]*\//;return ie.binary&&(ie.begin=b(ne,/.*\b/,ie.binary,/\b.*/)),r({scope:"meta",begin:ne,end:/$/,relevance:0,"on:begin":(fe,Ae)=>{fe.index!==0&&Ae.ignoreMatch()}},ie)},ee={begin:"\\\\[\\s\\S]",relevance:0},te={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ee]},J={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ee]},ae={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},ce=function(ie,ne,fe={}){const Ae=r({scope:"comment",begin:ie,end:ne,contains:[]},fe);Ae.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const Je=w("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return Ae.contains.push({begin:b(/[ ]+/,"(",Je,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),Ae},ve=ce("//","$"),q=ce("/\\*","\\*/"),U=ce("#","$"),M={scope:"number",begin:L,relevance:0},D={scope:"number",begin:R,relevance:0},I={scope:"number",begin:P,relevance:0},V={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[ee,{begin:/\[/,end:/\]/,relevance:0,contains:[ee]}]},re={scope:"title",begin:N,relevance:0},he={scope:"title",begin:F,relevance:0},oe={begin:"\\.\\s*"+F,relevance:0};var de=Object.freeze({__proto__:null,APOS_STRING_MODE:te,BACKSLASH_ESCAPE:ee,BINARY_NUMBER_MODE:I,BINARY_NUMBER_RE:P,COMMENT:ce,C_BLOCK_COMMENT_MODE:q,C_LINE_COMMENT_MODE:ve,C_NUMBER_MODE:D,C_NUMBER_RE:R,END_SAME_AS_BEGIN:function(ie){return Object.assign(ie,{"on:begin":(ne,fe)=>{fe.data._beginMatch=ne[1]},"on:end":(ne,fe)=>{fe.data._beginMatch!==ne[1]&&fe.ignoreMatch()}})},HASH_COMMENT_MODE:U,IDENT_RE:N,MATCH_NOTHING_RE:_,METHOD_GUARD:oe,NUMBER_MODE:M,NUMBER_RE:L,PHRASAL_WORDS_MODE:ae,QUOTE_STRING_MODE:J,REGEXP_MODE:V,RE_STARTERS_RE:z,SHEBANG:W,TITLE_MODE:re,UNDERSCORE_IDENT_RE:F,UNDERSCORE_TITLE_MODE:he});function ct(ie,ne){ie.input[ie.index-1]==="."&&ne.ignoreMatch()}function ot(ie,ne){ie.className!==void 0&&(ie.scope=ie.className,delete ie.className)}function _t(ie,ne){ne&&ie.beginKeywords&&(ie.begin="\\b("+ie.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",ie.__beforeBegin=ct,ie.keywords=ie.keywords||ie.beginKeywords,delete ie.beginKeywords,ie.relevance===void 0&&(ie.relevance=0))}function et(ie,ne){Array.isArray(ie.illegal)&&(ie.illegal=w(...ie.illegal))}function Ve(ie,ne){if(ie.match){if(ie.begin||ie.end)throw new Error("begin & end are not supported with match");ie.begin=ie.match,delete ie.match}}function Ie(ie,ne){ie.relevance===void 0&&(ie.relevance=1)}const Be=(ie,ne)=>{if(!ie.beforeMatch)return;if(ie.starts)throw new Error("beforeMatch cannot be used with starts");const fe=Object.assign({},ie);Object.keys(ie).forEach(Ae=>{delete ie[Ae]}),ie.keywords=fe.keywords,ie.begin=b(fe.beforeMatch,p(fe.begin)),ie.starts={relevance:0,contains:[Object.assign(fe,{endsParent:!0})]},ie.relevance=0,delete fe.beforeMatch},it=["of","and","for","in","not","or","if","then","parent","list","value"],Et="keyword";function Mt(ie,ne,fe=Et){const Ae=Object.create(null);return typeof ie=="string"?Je(fe,ie.split(" ")):Array.isArray(ie)?Je(fe,ie):Object.keys(ie).forEach(function(Ke){Object.assign(Ae,Mt(ie[Ke],ne,Ke))}),Ae;function Je(Ke,Oe){ne&&(Oe=Oe.map(Le=>Le.toLowerCase())),Oe.forEach(function(Le){const $e=Le.split("|");Ae[$e[0]]=[Ke,rn($e[0],$e[1])]})}}function rn(ie,ne){return ne?Number(ne):on(ie)?0:1}function on(ie){return it.includes(ie.toLowerCase())}const Qn={},Nt=ie=>{console.error(ie)},Ur=(ie,...ne)=>{console.log(`WARN: ${ie}`,...ne)},Ce=(ie,ne)=>{Qn[`${ie}/${ne}`]||(console.log(`Deprecated as of ${ie}. ${ne}`),Qn[`${ie}/${ne}`]=!0)},ze=new Error;function at(ie,ne,{key:fe}){let Ae=0;const Je=ie[fe],Ke={},Oe={};for(let Le=1;Le<=ne.length;Le++)Oe[Le+Ae]=Je[Le],Ke[Le+Ae]=!0,Ae+=k(ne[Le-1]);ie[fe]=Oe,ie[fe]._emit=Ke,ie[fe]._multi=!0}function St(ie){if(Array.isArray(ie.begin)){if(ie.skip||ie.excludeBegin||ie.returnBegin)throw Nt("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ze;if(typeof ie.beginScope!="object"||ie.beginScope===null)throw Nt("beginScope must be object"),ze;at(ie,ie.begin,{key:"beginScope"}),ie.begin=O(ie.begin,{joinWith:""})}}function Rt(ie){if(Array.isArray(ie.end)){if(ie.skip||ie.excludeEnd||ie.returnEnd)throw Nt("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ze;if(typeof ie.endScope!="object"||ie.endScope===null)throw Nt("endScope must be object"),ze;at(ie,ie.end,{key:"endScope"}),ie.end=O(ie.end,{joinWith:""})}}function Xt(ie){ie.scope&&typeof ie.scope=="object"&&ie.scope!==null&&(ie.beginScope=ie.scope,delete ie.scope)}function Jn(ie){Xt(ie),typeof ie.beginScope=="string"&&(ie.beginScope={_wrap:ie.beginScope}),typeof ie.endScope=="string"&&(ie.endScope={_wrap:ie.endScope}),St(ie),Rt(ie)}function $n(ie){function ne(Oe,Le){return new RegExp(d(Oe),"m"+(ie.case_insensitive?"i":"")+(ie.unicodeRegex?"u":"")+(Le?"g":""))}class fe{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(Le,$e){$e.position=this.position++,this.matchIndexes[this.matchAt]=$e,this.regexes.push([$e,Le]),this.matchAt+=k(Le)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const Le=this.regexes.map($e=>$e[1]);this.matcherRe=ne(O(Le,{joinWith:"|"}),!0),this.lastIndex=0}exec(Le){this.matcherRe.lastIndex=this.lastIndex;const $e=this.matcherRe.exec(Le);if(!$e)return null;const vt=$e.findIndex((Vn,H)=>H>0&&Vn!==void 0),Lt=this.matchIndexes[vt];return $e.splice(0,vt),Object.assign($e,Lt)}}class Ae{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(Le){if(this.multiRegexes[Le])return this.multiRegexes[Le];const $e=new fe;return this.rules.slice(Le).forEach(([vt,Lt])=>$e.addRule(vt,Lt)),$e.compile(),this.multiRegexes[Le]=$e,$e}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(Le,$e){this.rules.push([Le,$e]),$e.type==="begin"&&this.count++}exec(Le){const $e=this.getMatcher(this.regexIndex);$e.lastIndex=this.lastIndex;let vt=$e.exec(Le);if(this.resumingScanAtSamePosition()&&!(vt&&vt.index===this.lastIndex)){const Lt=this.getMatcher(0);Lt.lastIndex=this.lastIndex+1,vt=Lt.exec(Le)}return vt&&(this.regexIndex+=vt.position+1,this.regexIndex===this.count&&this.considerAll()),vt}}function Je(Oe){const Le=new Ae;return Oe.contains.forEach($e=>Le.addRule($e.begin,{rule:$e,type:"begin"})),Oe.terminatorEnd&&Le.addRule(Oe.terminatorEnd,{type:"end"}),Oe.illegal&&Le.addRule(Oe.illegal,{type:"illegal"}),Le}function Ke(Oe,Le){const $e=Oe;if(Oe.isCompiled)return $e;[ot,Ve,Jn,Be].forEach(Lt=>Lt(Oe,Le)),ie.compilerExtensions.forEach(Lt=>Lt(Oe,Le)),Oe.__beforeBegin=null,[_t,et,Ie].forEach(Lt=>Lt(Oe,Le)),Oe.isCompiled=!0;let vt=null;return typeof Oe.keywords=="object"&&Oe.keywords.$pattern&&(Oe.keywords=Object.assign({},Oe.keywords),vt=Oe.keywords.$pattern,delete Oe.keywords.$pattern),vt=vt||/\w+/,Oe.keywords&&(Oe.keywords=Mt(Oe.keywords,ie.case_insensitive)),$e.keywordPatternRe=ne(vt,!0),Le&&(Oe.begin||(Oe.begin=/\B|\b/),$e.beginRe=ne($e.begin),!Oe.end&&!Oe.endsWithParent&&(Oe.end=/\B|\b/),Oe.end&&($e.endRe=ne($e.end)),$e.terminatorEnd=d($e.end)||"",Oe.endsWithParent&&Le.terminatorEnd&&($e.terminatorEnd+=(Oe.end?"|":"")+Le.terminatorEnd)),Oe.illegal&&($e.illegalRe=ne(Oe.illegal)),Oe.contains||(Oe.contains=[]),Oe.contains=[].concat(...Oe.contains.map(function(Lt){return dn(Lt==="self"?Oe:Lt)})),Oe.contains.forEach(function(Lt){Ke(Lt,$e)}),Oe.starts&&Ke(Oe.starts,Le),$e.matcher=Je($e),$e}if(ie.compilerExtensions||(ie.compilerExtensions=[]),ie.contains&&ie.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return ie.classNameAliases=r(ie.classNameAliases||{}),Ke(ie)}function hn(ie){return ie?ie.endsWithParent||hn(ie.starts):!1}function dn(ie){return ie.variants&&!ie.cachedVariants&&(ie.cachedVariants=ie.variants.map(function(ne){return r(ie,{variants:null},ne)})),ie.cachedVariants?ie.cachedVariants:hn(ie)?r(ie,{starts:ie.starts?r(ie.starts):null}):Object.isFrozen(ie)?r(ie):ie}var jt="11.11.1";class Lr extends Error{constructor(ne,fe){super(ne),this.name="HTMLInjectionError",this.html=fe}}const Ln=n,ps=r,ni=Symbol("nomatch"),Wi=7,pn=function(ie){const ne=Object.create(null),fe=Object.create(null),Ae=[];let Je=!0;const Ke="Could not find the language '{}', did you forget to load/include a language module?",Oe={disableAutodetect:!0,name:"Plain text",contains:[]};let Le={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:f};function $e(He){return Le.noHighlightRe.test(He)}function vt(He){let dt=He.className+" ";dt+=He.parentNode?He.parentNode.className:"";const Dt=Le.languageDetectRe.exec(dt);if(Dt){const qt=qe(Dt[1]);return qt||(Ur(Ke.replace("{}",Dt[1])),Ur("Falling back to no-highlight mode for this block.",He)),qt?Dt[1]:"no-highlight"}return dt.split(/\s+/).find(qt=>$e(qt)||qe(qt))}function Lt(He,dt,Dt){let qt="",Zn="";typeof dt=="object"?(qt=He,Dt=dt.ignoreIllegals,Zn=dt.language):(Ce("10.7.0","highlight(lang, code, ...args) has been deprecated."),Ce("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Zn=He,qt=dt),Dt===void 0&&(Dt=!0);const Wn={code:qt,language:Zn};mn("before:highlight",Wn);const ms=Wn.result?Wn.result:Vn(Wn.language,Wn.code,Dt);return ms.code=Wn.code,mn("after:highlight",ms),ms}function Vn(He,dt,Dt,qt){const Zn=Object.create(null);function Wn(Qe,pt){return Qe.keywords[pt]}function ms(){if(!At.keywords){Er.addText(wn);return}let Qe=0;At.keywordPatternRe.lastIndex=0;let pt=At.keywordPatternRe.exec(wn),Bt="";for(;pt;){Bt+=wn.substring(Qe,pt.index);const Yt=ri.case_insensitive?pt[0].toLowerCase():pt[0],cr=Wn(At,Yt);if(cr){const[Ps,Th]=cr;if(Er.addText(Bt),Bt="",Zn[Yt]=(Zn[Yt]||0)+1,Zn[Yt]<=Wi&&(Qa+=Th),Ps.startsWith("_"))Bt+=pt[0];else{const Ip=ri.classNameAliases[Ps]||Ps;gs(pt[0],Ip)}}else Bt+=pt[0];Qe=At.keywordPatternRe.lastIndex,pt=At.keywordPatternRe.exec(wn)}Bt+=wn.substring(Qe),Er.addText(Bt)}function Gi(){if(wn==="")return;let Qe=null;if(typeof At.subLanguage=="string"){if(!ne[At.subLanguage]){Er.addText(wn);return}Qe=Vn(At.subLanguage,wn,!0,Lp[At.subLanguage]),Lp[At.subLanguage]=Qe._top}else Qe=Y(wn,At.subLanguage.length?At.subLanguage:null);At.relevance>0&&(Qa+=Qe.relevance),Er.__addSublanguage(Qe._emitter,Qe.language)}function Gn(){At.subLanguage!=null?Gi():ms(),wn=""}function gs(Qe,pt){Qe!==""&&(Er.startScope(pt),Er.addText(Qe),Er.endScope())}function Rp(Qe,pt){let Bt=1;const Yt=pt.length-1;for(;Bt<=Yt;){if(!Qe._emit[Bt]){Bt++;continue}const cr=ri.classNameAliases[Qe[Bt]]||Qe[Bt],Ps=pt[Bt];cr?gs(Ps,cr):(wn=Ps,ms(),wn=""),Bt++}}function Nu(Qe,pt){return Qe.scope&&typeof Qe.scope=="string"&&Er.openNode(ri.classNameAliases[Qe.scope]||Qe.scope),Qe.beginScope&&(Qe.beginScope._wrap?(gs(wn,ri.classNameAliases[Qe.beginScope._wrap]||Qe.beginScope._wrap),wn=""):Qe.beginScope._multi&&(Rp(Qe.beginScope,pt),wn="")),At=Object.create(Qe,{parent:{value:At}}),At}function Ch(Qe,pt,Bt){let Yt=A(Qe.endRe,Bt);if(Yt){if(Qe["on:end"]){const cr=new e(Qe);Qe["on:end"](pt,cr),cr.isMatchIgnored&&(Yt=!1)}if(Yt){for(;Qe.endsParent&&Qe.parent;)Qe=Qe.parent;return Qe}}if(Qe.endsWithParent)return Ch(Qe.parent,pt,Bt)}function Du(Qe){return At.matcher.regexIndex===0?(wn+=Qe[0],1):(Ja=!0,0)}function Pb(Qe){const pt=Qe[0],Bt=Qe.rule,Yt=new e(Bt),cr=[Bt.__beforeBegin,Bt["on:begin"]];for(const Ps of cr)if(Ps&&(Ps(Qe,Yt),Yt.isMatchIgnored))return Du(pt);return Bt.skip?wn+=pt:(Bt.excludeBegin&&(wn+=pt),Gn(),!Bt.returnBegin&&!Bt.excludeBegin&&(wn=pt)),Nu(Bt,Qe),Bt.returnBegin?0:pt.length}function Ki(Qe){const pt=Qe[0],Bt=dt.substring(Qe.index),Yt=Ch(At,Qe,Bt);if(!Yt)return ni;const cr=At;At.endScope&&At.endScope._wrap?(Gn(),gs(pt,At.endScope._wrap)):At.endScope&&At.endScope._multi?(Gn(),Rp(At.endScope,Qe)):cr.skip?wn+=pt:(cr.returnEnd||cr.excludeEnd||(wn+=pt),Gn(),cr.excludeEnd&&(wn=pt));do At.scope&&Er.closeNode(),!At.skip&&!At.subLanguage&&(Qa+=At.relevance),At=At.parent;while(At!==Yt.parent);return Yt.starts&&Nu(Yt.starts,Qe),cr.returnEnd?0:pt.length}function kh(){const Qe=[];for(let pt=At;pt!==ri;pt=pt.parent)pt.scope&&Qe.unshift(pt.scope);Qe.forEach(pt=>Er.openNode(pt))}let dc={};function Ou(Qe,pt){const Bt=pt&&pt[0];if(wn+=Qe,Bt==null)return Gn(),0;if(dc.type==="begin"&&pt.type==="end"&&dc.index===pt.index&&Bt===""){if(wn+=dt.slice(pt.index,pt.index+1),!Je){const Yt=new Error(`0 width match regex (${He})`);throw Yt.languageName=He,Yt.badRule=dc.rule,Yt}return 1}if(dc=pt,pt.type==="begin")return Pb(pt);if(pt.type==="illegal"&&!Dt){const Yt=new Error('Illegal lexeme "'+Bt+'" for mode "'+(At.scope||"<unnamed>")+'"');throw Yt.mode=At,Yt}else if(pt.type==="end"){const Yt=Ki(pt);if(Yt!==ni)return Yt}if(pt.type==="illegal"&&Bt==="")return wn+=`
`,1;if(Ah>1e5&&Ah>pt.index*3)throw new Error("potential infinite loop, way more iterations than matches");return wn+=Bt,Bt.length}const ri=qe(He);if(!ri)throw Nt(Ke.replace("{}",He)),new Error('Unknown language: "'+He+'"');const Bp=$n(ri);let Mu="",At=qt||Bp;const Lp={},Er=new Le.__emitter(Le);kh();let wn="",Qa=0,aa=0,Ah=0,Ja=!1;try{if(ri.__emitTokens)ri.__emitTokens(dt,Er);else{for(At.matcher.considerAll();;){Ah++,Ja?Ja=!1:At.matcher.considerAll(),At.matcher.lastIndex=aa;const Qe=At.matcher.exec(dt);if(!Qe)break;const pt=dt.substring(aa,Qe.index),Bt=Ou(pt,Qe);aa=Qe.index+Bt}Ou(dt.substring(aa))}return Er.finalize(),Mu=Er.toHTML(),{language:He,value:Mu,relevance:Qa,illegal:!1,_emitter:Er,_top:At}}catch(Qe){if(Qe.message&&Qe.message.includes("Illegal"))return{language:He,value:Ln(dt),illegal:!0,relevance:0,_illegalBy:{message:Qe.message,index:aa,context:dt.slice(aa-100,aa+100),mode:Qe.mode,resultSoFar:Mu},_emitter:Er};if(Je)return{language:He,value:Ln(dt),illegal:!1,relevance:0,errorRaised:Qe,_emitter:Er,_top:At};throw Qe}}function H(He){const dt={value:Ln(He),illegal:!1,relevance:0,_top:Oe,_emitter:new Le.__emitter(Le)};return dt._emitter.addText(He),dt}function Y(He,dt){dt=dt||Le.languages||Object.keys(ne);const Dt=H(He),qt=dt.filter(qe).filter(je).map(Gn=>Vn(Gn,He,!1));qt.unshift(Dt);const Zn=qt.sort((Gn,gs)=>{if(Gn.relevance!==gs.relevance)return gs.relevance-Gn.relevance;if(Gn.language&&gs.language){if(qe(Gn.language).supersetOf===gs.language)return 1;if(qe(gs.language).supersetOf===Gn.language)return-1}return 0}),[Wn,ms]=Zn,Gi=Wn;return Gi.secondBest=ms,Gi}function G(He,dt,Dt){const qt=dt&&fe[dt]||Dt;He.classList.add("hljs"),He.classList.add(`language-${qt}`)}function K(He){let dt=null;const Dt=vt(He);if($e(Dt))return;if(mn("before:highlightElement",{el:He,language:Dt}),He.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",He);return}if(He.children.length>0&&(Le.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(He)),Le.throwUnescapedHTML))throw new Lr("One of your code blocks includes unescaped HTML.",He.innerHTML);dt=He;const qt=dt.textContent,Zn=Dt?Lt(qt,{language:Dt,ignoreIllegals:!0}):Y(qt);He.innerHTML=Zn.value,He.dataset.highlighted="yes",G(He,Dt,Zn.language),He.result={language:Zn.language,re:Zn.relevance,relevance:Zn.relevance},Zn.secondBest&&(He.secondBest={language:Zn.secondBest.language,relevance:Zn.secondBest.relevance}),mn("after:highlightElement",{el:He,result:Zn,text:qt})}function Q(He){Le=ps(Le,He)}const Z=()=>{pe(),Ce("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function xe(){pe(),Ce("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let _e=!1;function pe(){function He(){pe()}if(document.readyState==="loading"){_e||window.addEventListener("DOMContentLoaded",He,!1),_e=!0;return}document.querySelectorAll(Le.cssSelector).forEach(K)}function ye(He,dt){let Dt=null;try{Dt=dt(ie)}catch(qt){if(Nt("Language definition for '{}' could not be registered.".replace("{}",He)),Je)Nt(qt);else throw qt;Dt=Oe}Dt.name||(Dt.name=He),ne[He]=Dt,Dt.rawDefinition=dt.bind(null,ie),Dt.aliases&&rt(Dt.aliases,{languageName:He})}function be(He){delete ne[He];for(const dt of Object.keys(fe))fe[dt]===He&&delete fe[dt]}function Ue(){return Object.keys(ne)}function qe(He){return He=(He||"").toLowerCase(),ne[He]||ne[fe[He]]}function rt(He,{languageName:dt}){typeof He=="string"&&(He=[He]),He.forEach(Dt=>{fe[Dt.toLowerCase()]=dt})}function je(He){const dt=qe(He);return dt&&!dt.disableAutodetect}function Ze(He){He["before:highlightBlock"]&&!He["before:highlightElement"]&&(He["before:highlightElement"]=dt=>{He["before:highlightBlock"](Object.assign({block:dt.el},dt))}),He["after:highlightBlock"]&&!He["after:highlightElement"]&&(He["after:highlightElement"]=dt=>{He["after:highlightBlock"](Object.assign({block:dt.el},dt))})}function ht(He){Ze(He),Ae.push(He)}function _n(He){const dt=Ae.indexOf(He);dt!==-1&&Ae.splice(dt,1)}function mn(He,dt){const Dt=He;Ae.forEach(function(qt){qt[Dt]&&qt[Dt](dt)})}function qn(He){return Ce("10.7.0","highlightBlock will be removed entirely in v12.0"),Ce("10.7.0","Please use highlightElement now."),K(He)}Object.assign(ie,{highlight:Lt,highlightAuto:Y,highlightAll:pe,highlightElement:K,highlightBlock:qn,configure:Q,initHighlighting:Z,initHighlightingOnLoad:xe,registerLanguage:ye,unregisterLanguage:be,listLanguages:Ue,getLanguage:qe,registerAliases:rt,autoDetection:je,inherit:ps,addPlugin:ht,removePlugin:_n}),ie.debugMode=function(){Je=!1},ie.safeMode=function(){Je=!0},ie.versionString=jt,ie.regex={concat:b,lookahead:p,either:w,optional:x,anyNumberOfTimes:g};for(const He in de)typeof de[He]=="object"&&t(de[He]);return Object.assign(ie,de),ie},Vt=pn({});return Vt.newInstance=()=>pn({}),D2=Vt,Vt.HighlightJS=Vt,Vt.default=Vt,D2}var ive=rve();const Hz=xu(ive);function Uz(t,e=[]){return t.flatMap(n=>{const r=[...e,...n.properties?n.properties.className:[]];return n.children?Uz(n.children,r):{text:n.value,classes:r}})}function oB(t){return t.value||t.children||[]}function sve(t){return!!Hz.getLanguage(t)}function aB({doc:t,name:e,lowlight:n,defaultLanguage:r}){const i=[];return vC(t,s=>s.type.name===e).forEach(s=>{var o;let a=s.pos+1;const l=s.node.attrs.language||r,c=n.listLanguages(),f=l&&(c.includes(l)||sve(l)||(o=n.registered)!=null&&o.call(n,l))?oB(n.highlight(l,s.node.textContent)):oB(n.highlightAuto(s.node.textContent));Uz(f).forEach(d=>{const p=a+d.text.length;if(d.classes.length){const g=Hr.inline(a,p,{class:d.classes.join(" ")});i.push(g)}a=p})}),zn.create(t,i)}function ove(t){return typeof t=="function"}function ave({name:t,lowlight:e,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(i=>ove(e[i])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new Yn({key:new ur("lowlight"),state:{init:(i,{doc:s})=>aB({doc:s,name:t,lowlight:e,defaultLanguage:n}),apply:(i,s,o,a)=>{const l=o.selection.$head.parent.type.name,c=a.selection.$head.parent.type.name,f=vC(o.doc,p=>p.type.name===t),d=vC(a.doc,p=>p.type.name===t);return i.docChanged&&([l,c].includes(t)||d.length!==f.length||i.steps.some(p=>p.from!==void 0&&p.to!==void 0&&f.some(g=>g.pos>=p.from&&g.pos+g.node.nodeSize<=p.to)))?aB({doc:i.doc,name:t,lowlight:e,defaultLanguage:n}):s.map(i.mapping,i.doc)}},props:{decorations(i){return r.getState(i)}}});return r}var lve=Rye.extend({addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}},addProseMirrorPlugins(){var t;return[...((t=this.parent)==null?void 0:t.call(this))||[],ave({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}}),cve=lve,uve=Xbe;let LC,IC;if(typeof WeakMap<"u"){let t=new WeakMap;LC=e=>t.get(e),IC=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;LC=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},IC=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var gr=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,o=i+1;for(let a=1;s<this.width&&this.map[e+a]==n;a++)s++;for(let a=1;o<this.height&&this.map[e+this.width*a]==n;a++)o++;return{left:r,top:i,right:s,bottom:o}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:s,bottom:o}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:o==this.height)?null:this.map[r+this.width*(n<0?s-1:o)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:s}=this.findCell(t),{left:o,right:a,top:l,bottom:c}=this.findCell(e);return{left:Math.min(n,o),top:Math.min(i,l),right:Math.max(r,a),bottom:Math.max(s,c)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const s=r*this.width+i,o=this.map[s];n[o]||(n[o]=!0,!(i==t.left&&i&&this.map[s-1]==o||r==t.top&&r&&this.map[s-this.width]==o)&&e.push(o))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==t){let o=e+t*this.width;const a=(t+1)*this.width;for(;o<a&&this.map[o]<i;)o++;return o==a?s-1:this.map[o]}i=s}}static get(t){return LC(t)||IC(t,fve(t))}};function fve(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=hve(t),n=t.childCount,r=[];let i=0,s=null;const o=[];for(let c=0,f=e*n;c<f;c++)r[c]=0;for(let c=0,f=0;c<n;c++){const d=t.child(c);f++;for(let x=0;;x++){for(;i<r.length&&r[i]!=0;)i++;if(x==d.childCount)break;const b=d.child(x),{colspan:v,rowspan:w,colwidth:k}=b.attrs;for(let A=0;A<w;A++){if(A+c>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:f,n:w-A});break}const T=i+A*e;for(let O=0;O<v;O++){r[T+O]==0?r[T+O]=f:(s||(s=[])).push({type:"collision",row:c,pos:f,n:v-O});const _=k&&k[O];if(_){const N=(T+O)%e*2,F=o[N];F==null||F!=_&&o[N+1]==1?(o[N]=_,o[N+1]=1):F==_&&o[N+1]++}}}i+=v,f+=b.nodeSize}const p=(c+1)*e;let g=0;for(;i<p;)r[i++]==0&&g++;g&&(s||(s=[])).push({type:"missing",row:c,n:g}),f++}(e===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const a=new gr(e,n,r,s);let l=!1;for(let c=0;!l&&c<o.length;c+=2)o[c]!=null&&o[c+1]<n&&(l=!0);return l&&dve(a,o,t),a}function hve(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let s=0;if(n)for(let o=0;o<r;o++){const a=t.child(o);for(let l=0;l<a.childCount;l++){const c=a.child(l);o+c.attrs.rowspan>r&&(s+=c.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const a=i.child(o);s+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function dve(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const s=t.map[i];if(r[s])continue;r[s]=!0;const o=n.nodeAt(s);if(!o)throw new RangeError(`No cell with offset ${s} found`);let a=null;const l=o.attrs;for(let c=0;c<l.colspan;c++){const f=e[(i+c)%t.width*2];f!=null&&(!l.colwidth||l.colwidth[c]!=f)&&((a||(a=pve(l)))[c]=f)}a&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:a})}}function pve(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function Ni(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}const Il=new ur("selectingCells");function vh(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function mve(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Ro(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function Ob(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=vh(e.$head)||gve(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function gve(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function FC(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function xve(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function ZA(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function jz(t,e,n){const r=t.node(-1),i=gr.get(r),s=t.start(-1),o=i.nextCell(t.pos-s,e,n);return o==null?null:t.node(0).resolve(s+o)}function gu(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function $z(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function yve(t,e,n){const r=Ni(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var Xn=class _a extends Tt{constructor(e,n=e){const r=e.node(-1),i=gr.get(r),s=e.start(-1),o=i.rectBetween(e.pos-s,n.pos-s),a=e.node(0),l=i.cellsInRect(o).filter(f=>f!=n.pos-s);l.unshift(n.pos-s);const c=l.map(f=>{const d=r.nodeAt(f);if(!d)throw new RangeError(`No cell with offset ${f} found`);const p=s+f+1;return new _9(a.resolve(p),a.resolve(p+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(FC(r)&&FC(i)&&ZA(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?_a.rowSelection(r,i):s&&this.isColSelection()?_a.colSelection(r,i):new _a(r,i)}return bt.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=gr.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},o=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let f=l*n.width+i.left,d=i.left;d<i.right;d++,f++){const p=n.map[f];if(s[p])continue;s[p]=!0;const g=n.findCell(p);let x=e.nodeAt(p);if(!x)throw new RangeError(`No cell with offset ${p} found`);const b=i.left-g.left,v=g.right-i.right;if(b>0||v>0){let w=x.attrs;if(b>0&&(w=gu(w,0,b)),v>0&&(w=gu(w,w.colspan-v,v)),g.left<i.left){if(x=x.type.createAndFill(w),!x)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(w)}`)}else x=x.type.create(w,x.content)}if(g.top<i.top||g.bottom>i.bottom){const w={...x.attrs,rowspan:Math.min(g.bottom,i.bottom)-Math.max(g.top,i.top)};g.top<i.top?x=x.type.createAndFill(w):x=x.type.create(w,x.content)}c.push(x)}o.push(e.child(l).copy(Fe.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?e:o;return new nt(Fe.from(a),1,1)}replace(e,n=nt.empty){const r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:a,$to:l}=i[o],c=e.mapping.slice(r);e.replace(c.map(a.pos),c.map(l.pos),o?nt.empty:n)}const s=Tt.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new nt(Fe.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=gr.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<s.length;o++)e(n.nodeAt(s[o]),i+s[o])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=gr.get(r),s=e.start(-1),o=i.findCell(e.pos-s),a=i.findCell(n.pos-s),l=e.node(0);return o.top<=a.top?(o.top>0&&(e=l.resolve(s+i.map[o.left])),a.bottom<i.height&&(n=l.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(s+i.map[a.left])),o.bottom<i.height&&(e=l.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))),new _a(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=gr.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const o=i+this.$anchorCell.nodeAfter.attrs.colspan,a=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,a)==n.width}eq(e){return e instanceof _a&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=gr.get(r),s=e.start(-1),o=i.findCell(e.pos-s),a=i.findCell(n.pos-s),l=e.node(0);return o.left<=a.left?(o.left>0&&(e=l.resolve(s+i.map[o.top*i.width])),a.right<i.width&&(n=l.resolve(s+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(s+i.map[a.top*i.width])),o.right<i.width&&(e=l.resolve(s+i.map[i.width*(o.top+1)-1]))),new _a(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new _a(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new _a(e.resolve(n),e.resolve(r))}getBookmark(){return new bve(this.$anchorCell.pos,this.$headCell.pos)}};Xn.prototype.visible=!1;Tt.jsonID("cell",Xn);var bve=class Vz{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Vz(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&ZA(n,r)?new Xn(n,r):Tt.near(r,1)}};function vve(t){if(!(t.selection instanceof Xn))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(Hr.node(r,r+n.nodeSize,{class:"selectedCell"}))}),zn.create(t.doc,e)}function wve({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function Eve({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&e.parentOffset===0}function Sve(t,e,n){const r=(e||t).selection,i=(e||t).doc;let s,o;if(r instanceof gt&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")s=Xn.create(i,r.from);else if(o=="row"){const a=i.resolve(r.from+1);s=Xn.rowSelection(a,a)}else if(!n){const a=gr.get(r.node),l=r.from+1,c=l+a.map[a.width*a.height-1];s=Xn.create(i,l+1,c)}}else r instanceof bt&&wve(r)?s=bt.create(i,r.from):r instanceof bt&&Eve(r)&&(s=bt.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}const Cve=new ur("fix-tables");function qz(t,e,n,r){const i=t.childCount,s=e.childCount;e:for(let o=0,a=0;o<s;o++){const l=e.child(o);for(let c=a,f=Math.min(i,o+3);c<f;c++)if(t.child(c)==l){a=c+1,n+=l.nodeSize;continue e}r(l,n),a<i&&t.child(a).sameMarkup(l)?qz(t.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function Wz(t,e){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=kve(t,i,s,n))};return e?e.doc!=t.doc&&qz(e.doc,t.doc,0,r):t.doc.descendants(r),n}function kve(t,e,n,r){const i=gr.get(e);if(!i.problems)return r;r||(r=t.tr);const s=[];for(let l=0;l<i.height;l++)s.push(0);for(let l=0;l<i.problems.length;l++){const c=i.problems[l];if(c.type=="collision"){const f=e.nodeAt(c.pos);if(!f)continue;const d=f.attrs;for(let p=0;p<d.rowspan;p++)s[c.row+p]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,gu(d,d.colspan-c.n,c.n))}else if(c.type=="missing")s[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const f=e.nodeAt(c.pos);if(!f)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...f.attrs,rowspan:f.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const f=e.nodeAt(c.pos);if(!f)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...f.attrs,colwidth:c.colwidth})}else if(c.type=="zero_sized"){const f=r.mapping.map(n);r.delete(f,f+e.nodeSize)}}let o,a;for(let l=0;l<s.length;l++)s[l]&&(o==null&&(o=l),a=l);for(let l=0,c=n+1;l<i.height;l++){const f=e.child(l),d=c+f.nodeSize,p=s[l];if(p>0){let g="cell";f.firstChild&&(g=f.firstChild.type.spec.tableRole);const x=[];for(let v=0;v<p;v++){const w=Ni(t.schema)[g].createAndFill();w&&x.push(w)}const b=(l==0||o==l-1)&&a==l?c+1:d-1;r.insert(r.mapping.map(b),x)}c=d}return r.setMeta(Cve,{fixTables:!0})}function oa(t){const e=t.selection,n=Ob(t),r=n.node(-1),i=n.start(-1),s=gr.get(r);return{...e instanceof Xn?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function Gz(t,{map:e,tableStart:n,table:r},i){let s=i>0?-1:0;yve(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let o=0;o<e.height;o++){const a=o*e.width+i;if(i>0&&i<e.width&&e.map[a-1]==e.map[a]){const l=e.map[a],c=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,$z(c.attrs,i-e.colCount(l))),o+=c.attrs.rowspan-1}else{const l=s==null?Ni(r.type.schema).cell:r.nodeAt(e.map[a+s]).type,c=e.positionAt(o,i,r);t.insert(t.mapping.map(n+c),l.createAndFill())}}return t}function Ave(t,e){if(!Ro(t))return!1;if(e){const n=oa(t);e(Gz(t.tr,n,n.left))}return!0}function Tve(t,e){if(!Ro(t))return!1;if(e){const n=oa(t);e(Gz(t.tr,n,n.right))}return!0}function _ve(t,{map:e,table:n,tableStart:r},i){const s=t.mapping.maps.length;for(let o=0;o<e.height;){const a=o*e.width+i,l=e.map[a],c=n.nodeAt(l),f=c.attrs;if(i>0&&e.map[a-1]==l||i<e.width-1&&e.map[a+1]==l)t.setNodeMarkup(t.mapping.slice(s).map(r+l),null,gu(f,i-e.colCount(l)));else{const d=t.mapping.slice(s).map(r+l);t.delete(d,d+c.nodeSize)}o+=f.rowspan}}function Nve(t,e){if(!Ro(t))return!1;if(e){const n=oa(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;_ve(r,n,i),i!=n.left;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw new RangeError("No table found");n.table=s,n.map=gr.get(s)}e(r)}return!0}function Dve(t,e,n){var r;const i=Ni(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(((r=e.nodeAt(t.map[s+n*t.width]))===null||r===void 0?void 0:r.type)!=i)return!1;return!0}function Kz(t,{map:e,tableStart:n,table:r},i){let s=n;for(let c=0;c<i;c++)s+=r.child(c).nodeSize;const o=[];let a=i>0?-1:0;Dve(e,r,i+a)&&(a=i==0||i==e.height?null:0);for(let c=0,f=e.width*i;c<e.width;c++,f++)if(i>0&&i<e.height&&e.map[f]==e.map[f-e.width]){const d=e.map[f],p=r.nodeAt(d).attrs;t.setNodeMarkup(n+d,null,{...p,rowspan:p.rowspan+1}),c+=p.colspan-1}else{var l;const d=a==null?Ni(r.type.schema).cell:(l=r.nodeAt(e.map[f+a*e.width]))===null||l===void 0?void 0:l.type,p=d?.createAndFill();p&&o.push(p)}return t.insert(s,Ni(r.type.schema).row.create(null,o)),t}function Ove(t,e){if(!Ro(t))return!1;if(e){const n=oa(t);e(Kz(t.tr,n,n.top))}return!0}function Mve(t,e){if(!Ro(t))return!1;if(e){const n=oa(t);e(Kz(t.tr,n,n.bottom))}return!0}function Rve(t,{map:e,table:n,tableStart:r},i){let s=0;for(let c=0;c<i;c++)s+=n.child(c).nodeSize;const o=s+n.child(i).nodeSize,a=t.mapping.maps.length;t.delete(s+r,o+r);const l=new Set;for(let c=0,f=i*e.width;c<e.width;c++,f++){const d=e.map[f];if(!l.has(d)){if(l.add(d),i>0&&d==e.map[f-e.width]){const p=n.nodeAt(d).attrs;t.setNodeMarkup(t.mapping.slice(a).map(d+r),null,{...p,rowspan:p.rowspan-1}),c+=p.colspan-1}else if(i<e.height&&d==e.map[f+e.width]){const p=n.nodeAt(d),g=p.attrs,x=p.type.create({...g,rowspan:p.attrs.rowspan-1},p.content),b=e.positionAt(i+1,c,n);t.insert(t.mapping.slice(a).map(r+b),x),c+=g.colspan-1}}}}function Bve(t,e){if(!Ro(t))return!1;if(e){const n=oa(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;Rve(r,n,i),i!=n.top;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw new RangeError("No table found");n.table=s,n.map=gr.get(n.table)}e(r)}return!0}function lB(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function Lve({width:t,height:e,map:n},r){let i=r.top*t+r.left,s=i,o=(r.bottom-1)*t+r.left,a=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[s]==n[s-1]||r.right<t&&n[a]==n[a+1])return!0;s+=t,a+=t}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[o]==n[o+t])return!0;i++,o++}return!1}function cB(t,e){const n=t.selection;if(!(n instanceof Xn)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=oa(t),{map:i}=r;if(Lve(i,r))return!1;if(e){const s=t.tr,o={};let a=Fe.empty,l,c;for(let f=r.top;f<r.bottom;f++)for(let d=r.left;d<r.right;d++){const p=i.map[f*i.width+d],g=r.table.nodeAt(p);if(!(o[p]||!g))if(o[p]=!0,l==null)l=p,c=g;else{lB(g)||(a=a.append(g.content));const x=s.mapping.map(p+r.tableStart);s.delete(x,x+g.nodeSize)}}if(l==null||c==null)return!0;if(s.setNodeMarkup(l+r.tableStart,null,{...$z(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),a.size>0){const f=l+1+c.content.size,d=lB(c)?l+1:f;s.replaceWith(d+r.tableStart,f+r.tableStart,a)}s.setSelection(new Xn(s.doc.resolve(l+r.tableStart))),e(s)}return!0}function uB(t,e){const n=Ni(t.schema);return Ive(({node:r})=>n[r.type.spec.tableRole])(t,e)}function Ive(t){return(e,n)=>{const r=e.selection;let i,s;if(r instanceof Xn){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;i=r.$anchorCell.nodeAfter,s=r.$anchorCell.pos}else{var o;if(i=mve(r.$from),!i)return!1;s=(o=vh(r.$from))===null||o===void 0?void 0:o.pos}if(i==null||s==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let a=i.attrs;const l=[],c=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const f=oa(e),d=e.tr;for(let g=0;g<f.right-f.left;g++)l.push(c?{...a,colwidth:c&&c[g]?[c[g]]:null}:a);let p;for(let g=f.top;g<f.bottom;g++){let x=f.map.positionAt(g,f.left,f.table);g==f.top&&(x+=i.nodeSize);for(let b=f.left,v=0;b<f.right;b++,v++)b==f.left&&g==f.top||d.insert(p=d.mapping.map(x+f.tableStart,1),t({node:i,row:g,col:b}).createAndFill(l[v]))}d.setNodeMarkup(s,t({node:i,row:f.top,col:f.left}),l[0]),r instanceof Xn&&d.setSelection(new Xn(d.doc.resolve(r.$anchorCell.pos),p?d.doc.resolve(p):void 0)),n(d)}return!0}}function Fve(t,e){return function(n,r){if(!Ro(n))return!1;const i=Ob(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const s=n.tr;n.selection instanceof Xn?n.selection.forEachCell((o,a)=>{o.attrs[t]!==e&&s.setNodeMarkup(a,null,{...o.attrs,[t]:e})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(s)}return!0}}function Pve(t){return function(e,n){if(!Ro(e))return!1;if(n){const r=Ni(e.schema),i=oa(e),s=e.tr,o=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),a=o.map(l=>i.table.nodeAt(l));for(let l=0;l<o.length;l++)a[l].type==r.header_cell&&s.setNodeMarkup(i.tableStart+o[l],r.cell,a[l].attrs);if(s.steps.length===0)for(let l=0;l<o.length;l++)s.setNodeMarkup(i.tableStart+o[l],r.header_cell,a[l].attrs);n(s)}return!0}}function fB(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function np(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?Pve(t):function(n,r){if(!Ro(n))return!1;if(r){const i=Ni(n.schema),s=oa(n),o=n.tr,a=fB("row",s,i),l=fB("column",s,i),c=(t==="column"?a:t==="row"&&l)?1:0,f=t=="column"?{left:0,top:c,right:1,bottom:s.map.height}:t=="row"?{left:c,top:0,right:s.map.width,bottom:1}:s,d=t=="column"?l?i.cell:i.header_cell:t=="row"?a?i.cell:i.header_cell:i.cell;s.map.cellsInRect(f).forEach(p=>{const g=p+s.tableStart,x=o.doc.nodeAt(g);x&&o.setNodeMarkup(g,d,x.attrs)}),r(o)}return!0}}np("row",{useDeprecatedLogic:!0});np("column",{useDeprecatedLogic:!0});const zve=np("cell",{useDeprecatedLogic:!0});function Hve(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const s=t.node(-1).child(r),o=s.lastChild;if(o)return i-1-o.nodeSize;i-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function hB(t){return function(e,n){if(!Ro(e))return!1;const r=Hve(Ob(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(bt.between(i,xve(i))).scrollIntoView())}return!0}}function Uve(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function Ug(t,e){const n=t.selection;if(!(n instanceof Xn))return!1;if(e){const r=t.tr,i=Ni(t.schema).cell.createAndFill().content;n.forEachCell((s,o)=>{s.content.eq(i)||r.replace(r.mapping.map(o+1),r.mapping.map(o+s.nodeSize-1),new nt(i,0,0))}),r.docChanged&&e(r)}return!0}function jve(t){if(t.size===0)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,o=i.type.schema,a=[];if(s=="row")for(let l=0;l<e.childCount;l++){let c=e.child(l).content;const f=l?0:Math.max(0,n-1),d=l<e.childCount-1?0:Math.max(0,r-1);(f||d)&&(c=PC(Ni(o).row,new nt(c,f,d)).content),a.push(c)}else if(s=="cell"||s=="header_cell")a.push(n||r?PC(Ni(o).row,new nt(e,n,r)).content:e);else return null;return $ve(o,a)}function $ve(t,e){const n=[];for(let i=0;i<e.length;i++){const s=e[i];for(let o=s.childCount-1;o>=0;o--){const{rowspan:a,colspan:l}=s.child(o).attrs;for(let c=i;c<i+a;c++)n[c]=(n[c]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(Fe.empty),n[i]<r){const s=Ni(t).cell.createAndFill(),o=[];for(let a=n[i];a<r;a++)o.push(s);e[i]=e[i].append(Fe.from(o))}return{height:e.length,width:r,rows:e}}function PC(t,e){const n=t.createAndFill();return new pA(n).replace(0,n.content.size,e).doc}function Vve({width:t,height:e,rows:n},r,i){if(t!=r){const s=[],o=[];for(let a=0;a<n.length;a++){const l=n[a],c=[];for(let f=s[a]||0,d=0;f<r;d++){let p=l.child(d%l.childCount);f+p.attrs.colspan>r&&(p=p.type.createChecked(gu(p.attrs,p.attrs.colspan,f+p.attrs.colspan-r),p.content)),c.push(p),f+=p.attrs.colspan;for(let g=1;g<p.attrs.rowspan;g++)s[a+g]=(s[a+g]||0)+p.attrs.colspan}o.push(Fe.from(c))}n=o,t=r}if(e!=i){const s=[];for(let o=0,a=0;o<i;o++,a++){const l=[],c=n[a%e];for(let f=0;f<c.childCount;f++){let d=c.child(f);o+d.attrs.rowspan>i&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,i-d.attrs.rowspan)},d.content)),l.push(d)}s.push(Fe.from(l))}n=s,e=i}return{width:t,height:e,rows:n}}function qve(t,e,n,r,i,s,o){const a=t.doc.type.schema,l=Ni(a);let c,f;if(i>e.width)for(let d=0,p=0;d<e.height;d++){const g=n.child(d);p+=g.nodeSize;const x=[];let b;g.lastChild==null||g.lastChild.type==l.cell?b=c||(c=l.cell.createAndFill()):b=f||(f=l.header_cell.createAndFill());for(let v=e.width;v<i;v++)x.push(b);t.insert(t.mapping.slice(o).map(p-1+r),x)}if(s>e.height){const d=[];for(let x=0,b=(e.height-1)*e.width;x<Math.max(e.width,i);x++){const v=x>=e.width?!1:n.nodeAt(e.map[b+x]).type==l.header_cell;d.push(v?f||(f=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const p=l.row.create(null,Fe.from(d)),g=[];for(let x=e.height;x<s;x++)g.push(p);t.insert(t.mapping.slice(o).map(r+n.nodeSize-2),g)}return!!(c||f)}function dB(t,e,n,r,i,s,o,a){if(o==0||o==e.height)return!1;let l=!1;for(let c=i;c<s;c++){const f=o*e.width+c,d=e.map[f];if(e.map[f-e.width]==d){l=!0;const p=n.nodeAt(d),{top:g,left:x}=e.findCell(d);t.setNodeMarkup(t.mapping.slice(a).map(d+r),null,{...p.attrs,rowspan:o-g}),t.insert(t.mapping.slice(a).map(e.positionAt(o,x,n)),p.type.createAndFill({...p.attrs,rowspan:g+p.attrs.rowspan-o})),c+=p.attrs.colspan-1}}return l}function pB(t,e,n,r,i,s,o,a){if(o==0||o==e.width)return!1;let l=!1;for(let c=i;c<s;c++){const f=c*e.width+o,d=e.map[f];if(e.map[f-1]==d){l=!0;const p=n.nodeAt(d),g=e.colCount(d),x=t.mapping.slice(a).map(d+r);t.setNodeMarkup(x,null,gu(p.attrs,o-g,p.attrs.colspan-(o-g))),t.insert(x+p.nodeSize,p.type.createAndFill(gu(p.attrs,0,o-g))),c+=p.attrs.rowspan-1}}return l}function mB(t,e,n,r,i){let s=n?t.doc.nodeAt(n-1):t.doc;if(!s)throw new Error("No table found");let o=gr.get(s);const{top:a,left:l}=r,c=l+i.width,f=a+i.height,d=t.tr;let p=0;function g(){if(s=n?d.doc.nodeAt(n-1):d.doc,!s)throw new Error("No table found");o=gr.get(s),p=d.mapping.maps.length}qve(d,o,s,n,c,f,p)&&g(),dB(d,o,s,n,l,c,a,p)&&g(),dB(d,o,s,n,l,c,f,p)&&g(),pB(d,o,s,n,a,f,l,p)&&g(),pB(d,o,s,n,a,f,c,p)&&g();for(let x=a;x<f;x++){const b=o.positionAt(x,l,s),v=o.positionAt(x,c,s);d.replace(d.mapping.slice(p).map(b+n),d.mapping.slice(p).map(v+n),new nt(i.rows[x-a],0,0))}g(),d.setSelection(new Xn(d.doc.resolve(n+o.positionAt(a,l,s)),d.doc.resolve(n+o.positionAt(f-1,c-1,s)))),e(d)}const Wve=DA({ArrowLeft:jg("horiz",-1),ArrowRight:jg("horiz",1),ArrowUp:jg("vert",-1),ArrowDown:jg("vert",1),"Shift-ArrowLeft":$g("horiz",-1),"Shift-ArrowRight":$g("horiz",1),"Shift-ArrowUp":$g("vert",-1),"Shift-ArrowDown":$g("vert",1),Backspace:Ug,"Mod-Backspace":Ug,Delete:Ug,"Mod-Delete":Ug});function e1(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function jg(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof Xn)return e1(n,r,Tt.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const o=Xz(i,t,e);if(o==null)return!1;if(t=="horiz")return e1(n,r,Tt.near(n.doc.resolve(s.head+e),e));{const a=n.doc.resolve(o),l=jz(a,t,e);let c;return l?c=Tt.near(l,1):e<0?c=Tt.near(n.doc.resolve(a.before(-1)),-1):c=Tt.near(n.doc.resolve(a.after(-1)),1),e1(n,r,c)}}}function $g(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let o;if(s instanceof Xn)o=s;else{const l=Xz(i,t,e);if(l==null)return!1;o=new Xn(n.doc.resolve(l))}const a=jz(o.$headCell,t,e);return a?e1(n,r,new Xn(o.$anchorCell,a)):!1}}function Gve(t,e){const n=t.state.doc,r=vh(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Xn(r))),!0):!1}function Kve(t,e,n){if(!Ro(t.state))return!1;let r=jve(n);const i=t.state.selection;if(i instanceof Xn){r||(r={width:1,height:1,rows:[Fe.from(PC(Ni(t.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),a=gr.get(s).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=Vve(r,a.right-a.left,a.bottom-a.top),mB(t.state,t.dispatch,o,a,r),!0}else if(r){const s=Ob(t.state),o=s.start(-1);return mB(t.state,t.dispatch,o,gr.get(s.node(-1)).findCell(s.pos-o),r),!0}else return!1}function Xve(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=gB(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof Xn)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=vh(t.state.selection.$anchor))!=null&&((n=O2(t,e))===null||n===void 0?void 0:n.pos)!=i.pos)s(i,e),e.preventDefault();else if(!r)return;function s(l,c){let f=O2(t,c);const d=Il.getState(t.state)==null;if(!f||!ZA(l,f))if(d)f=l;else return;const p=new Xn(l,f);if(d||!t.state.selection.eq(p)){const g=t.state.tr.setSelection(p);d&&g.setMeta(Il,l.pos),t.dispatch(g)}}function o(){t.root.removeEventListener("mouseup",o),t.root.removeEventListener("dragstart",o),t.root.removeEventListener("mousemove",a),Il.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Il,-1))}function a(l){const c=l,f=Il.getState(t.state);let d;if(f!=null)d=t.state.doc.resolve(f);else if(gB(t,c.target)!=r&&(d=O2(t,e),!d))return o();d&&s(d,c)}t.root.addEventListener("mouseup",o),t.root.addEventListener("dragstart",o),t.root.addEventListener("mousemove",a)}function Xz(t,e,n){if(!(t.state.selection instanceof bt))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const o=r.before(i),a=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(a)?o:null}}return null}function gB(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function O2(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});if(!n)return null;const r=n.inside>=0?n.inside:n.pos;return vh(t.state.doc.resolve(r))}var Yve=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),zC(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,zC(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function zC(t,e,n,r,i,s){let o=0,a=!0,l=e.firstChild;const c=t.firstChild;if(c){for(let d=0,p=0;d<c.childCount;d++){const{colspan:g,colwidth:x}=c.child(d).attrs;for(let b=0;b<g;b++,p++){const v=i==p?s:x&&x[b],w=v?v+"px":"";if(o+=v||r,v||(a=!1),l)l.style.width!=w&&(l.style.width=w),l=l.nextSibling;else{const k=document.createElement("col");k.style.width=w,e.appendChild(k)}}}for(;l;){var f;const d=l.nextSibling;(f=l.parentNode)===null||f===void 0||f.removeChild(l),l=d}a?(n.style.width=o+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=o+"px")}}const Rs=new ur("tableColumnResizing");function Qve({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=Yve,lastColumnResizable:i=!0}={}){const s=new Yn({key:Rs,state:{init(o,a){var l;const c=(l=s.spec)===null||l===void 0||(l=l.props)===null||l===void 0?void 0:l.nodeViews,f=Ni(a.schema).table.name;return r&&c&&(c[f]=(d,p)=>new r(d,n,p)),new Jve(-1,!1)},apply(o,a){return a.apply(o)}},props:{attributes:o=>{const a=Rs.getState(o);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,a)=>{Zve(o,a,t,i)},mouseleave:o=>{ewe(o)},mousedown:(o,a)=>{twe(o,a,e,n)}},decorations:o=>{const a=Rs.getState(o);if(a&&a.activeHandle>-1)return owe(o,a.activeHandle)},nodeViews:{}}});return s}var Jve=class t1{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(Rs);if(r&&r.setHandle!=null)return new t1(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new t1(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return FC(e.doc.resolve(i))||(i=-1),new t1(i,n.dragging)}return n}};function Zve(t,e,n,r){if(!t.editable)return;const i=Rs.getState(t.state);if(i&&!i.dragging){const s=rwe(e.target);let o=-1;if(s){const{left:a,right:l}=s.getBoundingClientRect();e.clientX-a<=n?o=xB(t,e,"left",n):l-e.clientX<=n&&(o=xB(t,e,"right",n))}if(o!=i.activeHandle){if(!r&&o!==-1){const a=t.state.doc.resolve(o),l=a.node(-1),c=gr.get(l),f=a.start(-1);if(c.colCount(a.pos-f)+a.nodeAfter.attrs.colspan-1==c.width-1)return}Yz(t,o)}}}function ewe(t){if(!t.editable)return;const e=Rs.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&Yz(t,-1)}function twe(t,e,n,r){var i;if(!t.editable)return!1;const s=(i=t.dom.ownerDocument.defaultView)!==null&&i!==void 0?i:window,o=Rs.getState(t.state);if(!o||o.activeHandle==-1||o.dragging)return!1;const a=t.state.doc.nodeAt(o.activeHandle),l=nwe(t,o.activeHandle,a.attrs);t.dispatch(t.state.tr.setMeta(Rs,{setDragging:{startX:e.clientX,startWidth:l}}));function c(d){s.removeEventListener("mouseup",c),s.removeEventListener("mousemove",f);const p=Rs.getState(t.state);p?.dragging&&(iwe(t,p.activeHandle,yB(p.dragging,d,n)),t.dispatch(t.state.tr.setMeta(Rs,{setDragging:null})))}function f(d){if(!d.which)return c(d);const p=Rs.getState(t.state);if(p&&p.dragging){const g=yB(p.dragging,d,n);bB(t,p.activeHandle,g,r)}}return bB(t,o.activeHandle,l,r),s.addEventListener("mouseup",c),s.addEventListener("mousemove",f),e.preventDefault(),!0}function nwe(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=t.domAtPos(e);let o=s.node.childNodes[s.offset].offsetWidth,a=n;if(r)for(let l=0;l<n;l++)r[l]&&(o-=r[l],a--);return o/a}function rwe(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function xB(t,e,n,r){const i=n=="right"?-r:r,s=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:o}=s,a=vh(t.state.doc.resolve(o));if(!a)return-1;if(n=="right")return a.pos;const l=gr.get(a.node(-1)),c=a.start(-1),f=l.map.indexOf(a.pos-c);return f%l.width==0?-1:c+l.map[f-1]}function yB(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function Yz(t,e){t.dispatch(t.state.tr.setMeta(Rs,{setHandle:e}))}function iwe(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),s=gr.get(i),o=r.start(-1),a=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let c=0;c<s.height;c++){const f=c*s.width+a;if(c&&s.map[f]==s.map[f-s.width])continue;const d=s.map[f],p=i.nodeAt(d).attrs,g=p.colspan==1?0:a-s.colCount(d);if(p.colwidth&&p.colwidth[g]==n)continue;const x=p.colwidth?p.colwidth.slice():swe(p.colspan);x[g]=n,l.setNodeMarkup(o+d,null,{...p,colwidth:x})}l.docChanged&&t.dispatch(l)}function bB(t,e,n,r){const i=t.state.doc.resolve(e),s=i.node(-1),o=i.start(-1),a=gr.get(s).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let l=t.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&zC(s,l.firstChild,l,r,a,n)}function swe(t){return Array(t).fill(0)}function owe(t,e){const n=[],r=t.doc.resolve(e),i=r.node(-1);if(!i)return zn.empty;const s=gr.get(i),o=r.start(-1),a=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1;for(let c=0;c<s.height;c++){const f=a+c*s.width;if((a==s.width-1||s.map[f]!=s.map[f+1])&&(c==0||s.map[f]!=s.map[f-s.width])){var l;const d=s.map[f],p=o+d+i.nodeAt(d).nodeSize-1,g=document.createElement("div");g.className="column-resize-handle",!((l=Rs.getState(t))===null||l===void 0)&&l.dragging&&n.push(Hr.node(o+d,o+d+i.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),n.push(Hr.widget(p,g))}}return zn.create(t.doc,n)}function awe({allowTableNodeSelection:t=!1}={}){return new Yn({key:Il,state:{init(){return null},apply(e,n){const r=e.getMeta(Il);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:s}=e.mapping.mapResult(n);return i?null:s}},props:{decorations:vve,handleDOMEvents:{mousedown:Xve},createSelectionBetween(e){return Il.getState(e.state)!=null?e.state.selection:null},handleTripleClick:Gve,handleKeyDown:Wve,handlePaste:Kve},appendTransaction(e,n,r){return Sve(r,Wz(r,n),t)}})}var Qz=ti.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{var e,n;const r=t.getAttribute("colwidth"),i=r?r.split(",").map(s=>parseInt(s,10)):null;if(!i){const s=(e=t.closest("table"))==null?void 0:e.querySelectorAll("colgroup > col"),o=Array.from(((n=t.parentElement)==null?void 0:n.children)||[]).indexOf(t);if(o&&o>-1&&s&&s[o]){const a=s[o].getAttribute("width");return a?[parseInt(a,10)]:null}}return i}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",jn(this.options.HTMLAttributes,t),0]}}),Jz=ti.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",jn(this.options.HTMLAttributes,t),0]}}),Zz=ti.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",jn(this.options.HTMLAttributes,t),0]}});function HC(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function vB(t,e,n,r,i,s){var o;let a=0,l=!0,c=e.firstChild;const f=t.firstChild;if(f!==null)for(let p=0,g=0;p<f.childCount;p+=1){const{colspan:x,colwidth:b}=f.child(p).attrs;for(let v=0;v<x;v+=1,g+=1){const w=i===g?s:b&&b[v],k=w?`${w}px`:"";if(a+=w||r,w||(l=!1),c){if(c.style.width!==k){const[A,T]=HC(r,w);c.style.setProperty(A,T)}c=c.nextSibling}else{const A=document.createElement("col"),[T,O]=HC(r,w);A.style.setProperty(T,O),e.appendChild(A)}}}for(;c;){const p=c.nextSibling;(o=c.parentNode)==null||o.removeChild(c),c=p}const d=t.attrs.style&&typeof t.attrs.style=="string"&&/\bwidth\s*:/i.test(t.attrs.style);l&&!d?(n.style.width=`${a}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${a}px`)}var lwe=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),t.attrs.style&&(this.table.style.cssText=t.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),vB(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,vB(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){const e=t.target,n=this.dom.contains(e),r=this.contentDOM.contains(e);return!!(n&&!r&&(t.type==="attributes"||t.type==="childList"||t.type==="characterData"))}};function cwe(t,e,n,r){let i=0,s=!0;const o=[],a=t.firstChild;if(!a)return{};for(let d=0,p=0;d<a.childCount;d+=1){const{colspan:g,colwidth:x}=a.child(d).attrs;for(let b=0;b<g;b+=1,p+=1){const v=n===p?r:x&&x[b];i+=v||e,v||(s=!1);const[w,k]=HC(e,v);o.push(["col",{style:`${w}: ${k}`}])}}const l=s?`${i}px`:"",c=s?"":`${i}px`;return{colgroup:["colgroup",{},...o],tableWidth:l,tableMinWidth:c}}function wB(t,e){return t.createAndFill()}function uwe(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function fwe(t,e,n,r,i){const s=uwe(t),o=[],a=[];for(let c=0;c<n;c+=1){const f=wB(s.cell);if(f&&a.push(f),r){const d=wB(s.header_cell);d&&o.push(d)}}const l=[];for(let c=0;c<e;c+=1)l.push(s.row.createChecked(null,r&&c===0?o:a));return s.table.createChecked(null,l)}function hwe(t){return t instanceof Xn}var Vg=({editor:t})=>{const{selection:e}=t.state;if(!hwe(e))return!1;let n=0;const r=R7(e.ranges[0].$from,s=>s.type.name==="table");return r?.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},dwe="";function pwe(t){return(t||"").replace(/\s+/g," ").trim()}function mwe(t,e,n={}){var r;const i=(r=n.cellLineSeparator)!=null?r:dwe;if(!t||!t.content||t.content.length===0)return"";const s=[];t.content.forEach(x=>{const b=[];x.content&&x.content.forEach(v=>{let w="";v.content&&Array.isArray(v.content)&&v.content.length>1?w=v.content.map(O=>e.renderChildren(O)).join(i):w=v.content?e.renderChildren(v.content):"";const k=pwe(w),A=v.type==="tableHeader";b.push({text:k,isHeader:A})}),s.push(b)});const o=s.reduce((x,b)=>Math.max(x,b.length),0);if(o===0)return"";const a=new Array(o).fill(0);s.forEach(x=>{var b;for(let v=0;v<o;v+=1){const k=(((b=x[v])==null?void 0:b.text)||"").length;k>a[v]&&(a[v]=k),a[v]<3&&(a[v]=3)}});const l=(x,b)=>x+" ".repeat(Math.max(0,b-x.length)),c=s[0],f=c.some(x=>x.isHeader);let d=`
`;const p=new Array(o).fill(0).map((x,b)=>f&&c[b]&&c[b].text||"");return d+=`| ${p.map((x,b)=>l(x,a[b])).join(" | ")} |
`,d+=`| ${a.map(x=>"-".repeat(Math.max(3,x))).join(" | ")} |
`,(f?s.slice(1):s).forEach(x=>{d+=`| ${new Array(o).fill(0).map((b,v)=>l(x[v]&&x[v].text||"",a[v])).join(" | ")} |
`}),d}var gwe=mwe,eH=ti.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:lwe,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=cwe(t,this.options.cellMinWidth),s=e.style;function o(){return s||(r?`width: ${r}`:`min-width: ${i}`)}const a=["table",jn(this.options.HTMLAttributes,e,{style:o()}),n,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},a]:a},parseMarkdown:(t,e)=>{const n=[];if(t.header){const r=[];t.header.forEach(i=>{r.push(e.createNode("tableHeader",{},[{type:"paragraph",content:e.parseInline(i.tokens)}]))}),n.push(e.createNode("tableRow",{},r))}return t.rows&&t.rows.forEach(r=>{const i=[];r.forEach(s=>{i.push(e.createNode("tableCell",{},[{type:"paragraph",content:e.parseInline(s.tokens)}]))}),n.push(e.createNode("tableRow",{},i))}),e.createNode("table",void 0,n)},renderMarkdown:(t,e)=>gwe(t,e),addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:s})=>{const o=fwe(s.schema,t,e,n);if(i){const a=r.selection.from+1;r.replaceSelectionWith(o).scrollIntoView().setSelection(bt.near(r.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>Ave(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>Tve(t,e),deleteColumn:()=>({state:t,dispatch:e})=>Nve(t,e),addRowBefore:()=>({state:t,dispatch:e})=>Ove(t,e),addRowAfter:()=>({state:t,dispatch:e})=>Mve(t,e),deleteRow:()=>({state:t,dispatch:e})=>Bve(t,e),deleteTable:()=>({state:t,dispatch:e})=>Uve(t,e),mergeCells:()=>({state:t,dispatch:e})=>cB(t,e),splitCell:()=>({state:t,dispatch:e})=>uB(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>np("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>np("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>zve(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>cB(t,e)?!0:uB(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>Fve(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>hB(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>hB(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&Wz(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=Xn.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Vg,"Mod-Backspace":Vg,Delete:Vg,"Mod-Delete":Vg}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[Qve({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],awe({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:bn(xt(t,"tableRole",e))}}});vn.create({name:"tableKit",addExtensions(){const t=[];return this.options.table!==!1&&t.push(eH.configure(this.options.table)),this.options.tableCell!==!1&&t.push(Qz.configure(this.options.tableCell)),this.options.tableHeader!==!1&&t.push(Jz.configure(this.options.tableHeader)),this.options.tableRow!==!1&&t.push(Zz.configure(this.options.tableRow)),t}});var xwe=20,tH=(t,e=0)=>{const n=[];return!t.children.length||e>xwe||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...tH(r,e+1))}),n},ywe=t=>{if(!t.children.length)return;const e=tH(t);e&&e.forEach(n=>{var r,i;const s=n.getAttribute("style"),o=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${o};${s}`)})},nH=Ya.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&ywe(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",jn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),bwe=vn.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const o=s[0].trim().toLowerCase(),a=s.slice(1).join(":").trim();if(o==="background-color")return a.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),rH=vn.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const s=r[i].split(":");if(s.length>=2){const o=s[0].trim().toLowerCase(),a=s.slice(1).join(":").trim();if(o==="color")return a.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),iH=vn.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),vwe=vn.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),wwe=vn.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});vn.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(bwe.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(rH.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(iH.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(vwe.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(wwe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(nH.configure(this.options.textStyle)),t}});var Ewe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,Swe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,Cwe=Ya.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",jn(this.options.HTMLAttributes,t),0]},renderMarkdown:(t,e)=>`==${e.renderChildren(t)}==`,parseMarkdown:(t,e)=>e.applyMark("highlight",e.parseInline(t.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:t=>t.indexOf("=="),tokenize(t,e,n){const i=/^(==)([^=]+)(==)/.exec(t);if(i){const s=i[2].trim(),o=n.inlineTokens(s);return{type:"highlight",raw:i[0],text:s,tokens:o}}}},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[mu({find:Ewe,type:this.type})]},addPasteRules(){return[ic({find:Swe,type:this.type})]}}),kwe=vn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).some(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Awe=iH,Twe=Rz,_we=Mz;function Nwe(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},f={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},p={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},g=e.optional(i)+t.IDENT_RE+"\\s*\\(",x=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],b=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],v=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],w=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],T={type:b,keyword:x,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:v},O={className:"function.dispatch",relevance:0,keywords:{_hint:w},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},_=[O,d,a,n,t.C_BLOCK_COMMENT_MODE,f,c],N={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:T,contains:_.concat([{begin:/\(/,end:/\)/,keywords:T,contains:_.concat(["self"]),relevance:0}]),relevance:0},F={className:"function",begin:"("+o+"[\\*&\\s]+)+"+g,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:T,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:T,relevance:0},{begin:g,returnBegin:!0,contains:[p],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,f]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,f,a,{begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,f,a]}]},a,n,t.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:T,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(N,F,O,_,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:T,contains:["self",a]},{begin:t.IDENT_RE+"::",keywords:T},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Dwe(t){const e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=Nwe(t),r=n.keywords;return r.type=[...r.type,...e.type],r.literal=[...r.literal,...e.literal],r.built_in=[...r.built_in,...e.built_in],r._hints=e._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function Owe(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},s=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},a={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,i]};i.contains.push(a);const l={match:/\\"/},c={className:"string",begin:/'/,end:/'/},f={match:/\\'/},d={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},p=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],g=t.SHEBANG({binary:`(${p.join("|")})`,relevance:10}),x={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},b=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],v=["true","false"],w={match:/(\/[a-z._-]+)+/},k=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],A=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],T=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],O=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:b,literal:v,built_in:[...k,...A,"set","shopt",...T,...O]},contains:[g,t.SHEBANG(),x,d,s,o,w,a,l,c,f,n]}}function Mwe(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},f={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},p={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},g=e.optional(i)+t.IDENT_RE+"\\s*\\(",v={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},w=[d,a,n,t.C_BLOCK_COMMENT_MODE,f,c],k={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:v,contains:w.concat([{begin:/\(/,end:/\)/,keywords:v,contains:w.concat(["self"]),relevance:0}]),relevance:0},A={begin:"("+o+"[\\*&\\s]+)+"+g,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:v,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:v,relevance:0},{begin:g,returnBegin:!0,contains:[t.inherit(p,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:v,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,f,a,{begin:/\(/,end:/\)/,keywords:v,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,f,a]}]},a,n,t.C_BLOCK_COMMENT_MODE,d]};return{name:"C",aliases:["h"],keywords:v,disableAutodetect:!0,illegal:"</",contains:[].concat(k,A,w,[d,{begin:t.IDENT_RE+"::",keywords:v},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:d,strings:c,keywords:v}}}function Rwe(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},f={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},p={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},g=e.optional(i)+t.IDENT_RE+"\\s*\\(",x=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],b=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],v=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],w=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],T={type:b,keyword:x,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:v},O={className:"function.dispatch",relevance:0,keywords:{_hint:w},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},_=[O,d,a,n,t.C_BLOCK_COMMENT_MODE,f,c],N={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:T,contains:_.concat([{begin:/\(/,end:/\)/,keywords:T,contains:_.concat(["self"]),relevance:0}]),relevance:0},F={className:"function",begin:"("+o+"[\\*&\\s]+)+"+g,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:T,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:T,relevance:0},{begin:g,returnBegin:!0,contains:[p],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,f]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,f,a,{begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,f,a]}]},a,n,t.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:T,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(N,F,O,_,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:T,contains:["self",a]},{begin:t.IDENT_RE+"::",keywords:T},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Bwe(t){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],o={keyword:i.concat(s),built_in:e,literal:r},a=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},f={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},d=t.inherit(f,{illegal:/\n/}),p={className:"subst",begin:/\{/,end:/\}/,keywords:o},g=t.inherit(p,{illegal:/\n/}),x={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,g]},b={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},p]},v=t.inherit(b,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},g]});p.contains=[b,x,f,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,l,t.C_BLOCK_COMMENT_MODE],g.contains=[v,x,d,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,l,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const w={variants:[c,b,x,f,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},k={begin:"<",end:">",contains:[{beginKeywords:"in out"},a]},A=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",T={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:o,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},w,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},a,k,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,k,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+A+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:o,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,k],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,relevance:0,contains:[w,l,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},T]}}const Lwe=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Iwe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Fwe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Pwe=[...Iwe,...Fwe],zwe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Hwe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Uwe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),jwe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function $we(t){const e=t.regex,n=Lwe(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",a=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Hwe.join("|")+")"},{begin:":(:)?("+Uwe.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+jwe.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...a,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...a,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:zwe.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...a,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Pwe.join("|")+")\\b"}]}}function Vwe(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function qwe(t){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function Wwe(t){const e=t.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[t.HASH_COMMENT_MODE,t.QUOTE_STRING_MODE,t.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(n,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function Gwe(t){const e=t.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},r=t.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},a={begin:/\[/,end:/\]/,contains:[r,s,i,o,n,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,c=/"(\\"|[^"])*"/,f=/'[^']*'/,d=e.either(l,c,f),p=e.concat(d,"(\\s*\\.\\s*",d,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:p,className:"attr",starts:{end:/$/,contains:[r,a,s,i,o,n]}}]}}var Af="[0-9](_*[0-9])*",qg=`\\.(${Af})`,Wg="[0-9a-fA-F](_*[0-9a-fA-F])*",EB={className:"number",variants:[{begin:`(\\b(${Af})((${qg})|\\.)?|(${qg}))[eE][+-]?(${Af})[fFdD]?\\b`},{begin:`\\b(${Af})((${qg})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${qg})[fFdD]?\\b`},{begin:`\\b(${Af})[fFdD]\\b`},{begin:`\\b0[xX]((${Wg})\\.?|(${Wg})?\\.(${Wg}))[pP][+-]?(${Af})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Wg})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function sH(t,e,n){return n===-1?"":t.replace(e,r=>sH(t,e,n-1))}function Kwe(t){const e=t.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+sH("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},f={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[f,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[c,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,EB,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},EB,c]}}const SB="[A-Za-z$_][0-9A-Za-z$_]*",Xwe=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Ywe=["true","false","null","undefined","NaN","Infinity"],oH=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],aH=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],lH=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Qwe=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Jwe=[].concat(lH,oH,aH);function Zwe(t){const e=t.regex,n=(ce,{after:ve})=>{const q="</"+ce[0].slice(1);return ce.input.indexOf(q,ve)!==-1},r=SB,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(ce,ve)=>{const q=ce[0].length+ce.index,U=ce.input[q];if(U==="<"||U===","){ve.ignoreMatch();return}U===">"&&(n(ce,{after:q})||ve.ignoreMatch());let M;const D=ce.input.substring(q);if(M=D.match(/^\s*=/)){ve.ignoreMatch();return}if((M=D.match(/^\s+extends\s+/))&&M.index===0){ve.ignoreMatch();return}}},a={$pattern:SB,keyword:Xwe,literal:Ywe,built_in:Jwe,"variable.language":Qwe},l="[0-9](_?[0-9])*",c=`\\.(${l})`,f="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${f})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${f})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},p={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},g={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,p],subLanguage:"xml"}},x={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,p],subLanguage:"css"}},b={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,p],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,p]},k={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},A=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,g,x,b,v,{match:/\$\d+/},d];p.contains=A.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(A)});const T=[].concat(k,p.contains),O=T.concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(T)}]),_={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:O},N={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},F={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...oH,...aH]}},L={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},R={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[_],illegal:/%/},P={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function z(ce){return e.concat("(?!",ce.join("|"),")")}const W={match:e.concat(/\b/,z([...lH,"super","import"].map(ce=>`${ce}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},ee={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},te={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},_]},J="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",ae={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(J)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[_]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:O,CLASS_REFERENCE:F},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),L,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,g,x,b,v,k,{match:/\$\d+/},d,F,{scope:"attr",match:r+e.lookahead(":"),relevance:0},ae,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[k,t.REGEXP_MODE,{className:"function",begin:J,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:O}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},R,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[_,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},ee,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[_]},W,P,N,te,{match:/\$[(.]/}]}}function eEe(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,i,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Tf="[0-9](_*[0-9])*",Gg=`\\.(${Tf})`,Kg="[0-9a-fA-F](_*[0-9a-fA-F])*",tEe={className:"number",variants:[{begin:`(\\b(${Tf})((${Gg})|\\.)?|(${Gg}))[eE][+-]?(${Tf})[fFdD]?\\b`},{begin:`\\b(${Tf})((${Gg})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Gg})[fFdD]?\\b`},{begin:`\\b(${Tf})[fFdD]\\b`},{begin:`\\b0[xX]((${Kg})\\.?|(${Kg})?\\.(${Kg}))[pP][+-]?(${Tf})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Kg})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function nEe(t){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[t.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+t.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(o);const a={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+t.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[t.inherit(o,{className:"string"}),"self"]}]},c=tEe,f=t.COMMENT("/\\*","\\*/",{contains:[t.C_BLOCK_COMMENT_MODE]}),d={variants:[{className:"type",begin:t.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},p=d;return p.variants[1].contains=[d],d.variants[1].contains=[p],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,f,n,r,a,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[d,t.C_LINE_COMMENT_MODE,f],relevance:0},t.C_LINE_COMMENT_MODE,f,a,l,o,t.C_NUMBER_MODE]},f]},{begin:[/class|interface|trait/,/\s+/,t.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},t.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},a,l]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},c]}}const rEe=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),iEe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],sEe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],oEe=[...iEe,...sEe],aEe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),cH=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),uH=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),lEe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),cEe=cH.concat(uH).sort().reverse();function uEe(t){const e=rEe(t),n=cEe,r="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",o=[],a=[],l=function(A){return{className:"string",begin:"~?"+A+".*?"+A}},c=function(A,T,O){return{className:A,begin:T,relevance:O}},f={$pattern:/[a-z-]+/,keyword:r,attribute:aEe.join(" ")},d={begin:"\\(",end:"\\)",contains:a,keywords:f,relevance:0};a.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,l("'"),l('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,d,c("variable","@@?"+i,10),c("variable","@\\{"+i+"\\}"),c("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);const p=a.concat({begin:/\{/,end:/\}/,contains:o}),g={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(a)},x={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+lEe.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:a}}]},b={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:f,returnEnd:!0,contains:a,relevance:0}},v={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:p}},w={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,g,c("keyword","all\\b"),c("variable","@\\{"+i+"\\}"),{begin:"\\b("+oEe.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,c("selector-tag",s,0),c("selector-id","#"+s),c("selector-class","\\."+s,0),c("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+cH.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+uH.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:p},{begin:"!important"},e.FUNCTION_DISPATCH]},k={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[w]};return o.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,b,v,k,x,w,g,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:o}}function fEe(t){const e="\\[=*\\[",n="\\]=*\\]",r={begin:e,end:n,contains:["self"]},i=[t.COMMENT("--(?!"+e+")","$"),t.COMMENT("--"+e,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:t.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[t.inherit(t.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},t.C_NUMBER_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"string",begin:e,end:n,contains:[r],relevance:5}])}}function hEe(t){const e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e,n]},i={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,n,r,i,s,o]}}function dEe(t){const e=t.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},a=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,a,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},f={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},d=t.inherit(c,{contains:[]}),p=t.inherit(f,{contains:[]});c.contains.push(p),f.contains.push(d);let g=[n,l];return[c,f,d,p].forEach(w=>{w.contains=w.contains.concat(g)}),g=g.concat(c,f),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:g},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:g}]}]},n,s,c,f,{className:"quote",begin:"^>\\s+",contains:g,end:"$"},i,r,l,o,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function pEe(t){const e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,a={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:a,illegal:"</",contains:[e,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}function mEe(t){const e=t.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},o={begin:/->\{/,end:/\}/},a={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},l={scope:"variable",variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[a]},c={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},f=[t.BACKSLASH_ESCAPE,s,l],d=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],p=(b,v,w="\\1")=>{const k=w==="\\1"?w:e.concat(w,v);return e.concat(e.concat("(?:",b,")"),v,/(?:\\.|[^\\\/])*?/,k,/(?:\\.|[^\\\/])*?/,w,r)},g=(b,v,w)=>e.concat(e.concat("(?:",b,")"),v,/(?:\\.|[^\\\/])*?/,w,r),x=[l,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:f,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},c,{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:p("s|tr|y",e.either(...d,{capture:!0}))},{begin:p("s|tr|y","\\(","\\)")},{begin:p("s|tr|y","\\[","\\]")},{begin:p("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:g("(?:m|qr)?",/\//,/\//)},{begin:g("m|qr",e.either(...d,{capture:!0}),/\1/)},{begin:g("m|qr",/\(/,/\)/)},{begin:g("m|qr",/\[/,/\]/)},{begin:g("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,a]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,a,c]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=x,o.contains=x,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:x}}function gEe(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),s=e.concat(/[A-Z]+/,n),o={scope:"variable",match:"\\$+"+r},a={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},l={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},c=t.inherit(t.APOS_STRING_MODE,{illegal:null}),f=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(l)}),d={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(l),"on:begin":(ee,te)=>{te.data._beginMatch=ee[1]||ee[2]},"on:end":(ee,te)=>{te.data._beginMatch!==ee[1]&&te.ignoreMatch()}},p=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),g=`[ 	
]`,x={scope:"string",variants:[f,c,d,p]},b={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},v=["false","null","true"],w=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],k=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],T={keyword:w,literal:(ee=>{const te=[];return ee.forEach(J=>{te.push(J),J.toLowerCase()===J?te.push(J.toUpperCase()):te.push(J.toLowerCase())}),te})(v),built_in:k},O=ee=>ee.map(te=>te.replace(/\|\d+$/,"")),_={variants:[{match:[/new/,e.concat(g,"+"),e.concat("(?!",O(k).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},N=e.concat(r,"\\b(?!\\()"),F={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),N],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),N],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},L={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},R={relevance:0,begin:/\(/,end:/\)/,keywords:T,contains:[L,o,F,t.C_BLOCK_COMMENT_MODE,x,b,_]},P={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",O(w).join("\\b|"),"|",O(k).join("\\b|"),"\\b)"),r,e.concat(g,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[R]};R.contains.push(P);const z=[L,F,t.C_BLOCK_COMMENT_MODE,x,b,_],W={begin:e.concat(/#\[\s*\\?/,e.either(i,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:v,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:v,keyword:["new","array"]},contains:["self",...z]},...z,{scope:"meta",variants:[{match:i},{match:s}]}]};return{case_insensitive:!1,keywords:T,contains:[W,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},a,{scope:"variable.language",match:/\$this\b/},o,P,F,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},_,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:T,contains:["self",W,o,F,t.C_BLOCK_COMMENT_MODE,x,b]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},x,b]}}function xEe(t){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function yEe(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function bEe(t){const e=t.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],a={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:a,illegal:/#/},f={begin:/\{\{/,relevance:0},d={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l,f,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l,f,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,f,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,f,c]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},p="[0-9](_?[0-9])*",g=`(\\b(${p}))?\\.(${p})|\\b(${p})\\.`,x=`\\b|${r.join("|")}`,b={className:"number",relevance:0,variants:[{begin:`(\\b(${p})|(${g}))[eE][+-]?(${p})[jJ]?(?=${x})`},{begin:`(${g})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${x})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${x})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${x})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${x})`},{begin:`\\b(${p})[jJ](?=${x})`}]},v={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:a,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},w={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:["self",l,b,d,t.HASH_COMMENT_MODE]}]};return c.contains=[d,b,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:a,illegal:/(<\/|\?)|=>/,contains:[l,b,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},d,v,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[w]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[b,w,d]}]}}function vEe(t){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function wEe(t){const e=t.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[t.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),t.HASH_COMMENT_MODE,{scope:"string",contains:[t.BACKSLASH_ESCAPE],variants:[t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function EEe(t){const e=t.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(r,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},a={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},c=[t.COMMENT("#","$",{contains:[a]}),t.COMMENT("^=begin","^=end",{contains:[a],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],f={className:"subst",begin:/#\{/,end:/\}/,keywords:o},d={className:"string",contains:[t.BACKSLASH_ESCAPE,f],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,f]})]}]},p="[1-9](_?[0-9])*|0",g="[0-9](_?[0-9])*",x={className:"number",relevance:0,variants:[{begin:`\\b(${p})(\\.(${g}))?([eE][+-]?(${g})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},b={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},_=[d,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:o},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[b]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[d,{begin:n}],relevance:0},x,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,f],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,c),relevance:0}].concat(l,c);f.contains=_,b.contains=_;const R=[{begin:/^\s*=>/,starts:{end:"$",contains:_}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:_}}];return c.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(R).concat(c).concat(_)}}function SEe(t){const e=t.regex,n=/(r#)?/,r=e.concat(n,t.UNDERSCORE_IDENT_RE),i=e.concat(n,t.IDENT_RE),s={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,e.lookahead(/\s*\(/))},o="([ui](8|16|32|64|128|size)|f(32|64))?",a=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],l=["true","false","Some","None","Ok","Err"],c=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],f=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:f,keyword:a,literal:l,built_in:c},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+o},{begin:"\\b0o([0-7_]+)"+o},{begin:"\\b0x([A-Fa-f0-9_]+)"+o},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+o}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:c,type:f}},{className:"punctuation",begin:"->"},s]}}const CEe=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),kEe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],AEe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],TEe=[...kEe,...AEe],_Ee=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),NEe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),DEe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),OEe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function MEe(t){const e=CEe(t),n=DEe,r=NEe,i="@[a-z-]+",s="and or not only",a={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+TEe.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},a,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+OEe.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,a,e.HEXCOLOR,e.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:_Ee.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},a,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function REe(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function BEe(t){const e=t.regex,n=t.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],a=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],f=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],d=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],p=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],g=f,x=[...c,...l].filter(O=>!f.includes(O)),b={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},v={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},w={match:e.concat(/\b/,e.either(...g),/\s*\(/),relevance:0,keywords:{built_in:g}};function k(O){return e.concat(/\b/,e.either(...O.map(_=>_.replace(/\s+/,"\\s+"))),/\b/)}const A={scope:"keyword",match:k(p),relevance:0};function T(O,{exceptions:_,when:N}={}){const F=N;return _=_||[],O.map(L=>L.match(/\|\d+$/)||_.includes(L)?L:F(L)?`${L}|0`:L)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:T(x,{when:O=>O.length<3}),literal:s,type:a,built_in:d},contains:[{scope:"type",match:k(o)},A,w,b,r,i,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,v]}}function fH(t){return t?typeof t=="string"?t:t.source:null}function Dd(t){return Mn("(?=",t,")")}function Mn(...t){return t.map(n=>fH(n)).join("")}function LEe(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function Bi(...t){return"("+(LEe(t).capture?"":"?:")+t.map(r=>fH(r)).join("|")+")"}const eT=t=>Mn(/\b/,t,/\w$/.test(t)?/\b/:/\B/),IEe=["Protocol","Type"].map(eT),CB=["init","self"].map(eT),FEe=["Any","Self"],M2=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],kB=["false","nil","true"],PEe=["assignment","associativity","higherThan","left","lowerThan","none","right"],zEe=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],AB=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],hH=Bi(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),dH=Bi(hH,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),R2=Mn(hH,dH,"*"),pH=Bi(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Ry=Bi(pH,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Vo=Mn(pH,Ry,"*"),Xg=Mn(/[A-Z]/,Ry,"*"),HEe=["attached","autoclosure",Mn(/convention\(/,Bi("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Mn(/objc\(/,Vo,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],UEe=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function jEe(t){const e={match:/\s+/,relevance:0},n=t.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[t.C_LINE_COMMENT_MODE,n],i={match:[/\./,Bi(...IEe,...CB)],className:{2:"keyword"}},s={match:Mn(/\./,Bi(...M2)),relevance:0},o=M2.filter(Ie=>typeof Ie=="string").concat(["_|0"]),a=M2.filter(Ie=>typeof Ie!="string").concat(FEe).map(eT),l={variants:[{className:"keyword",match:Bi(...a,...CB)}]},c={$pattern:Bi(/\b\w+/,/#\w+/),keyword:o.concat(zEe),literal:kB},f=[i,s,l],d={match:Mn(/\./,Bi(...AB)),relevance:0},p={className:"built_in",match:Mn(/\b/,Bi(...AB),/(?=\()/)},g=[d,p],x={match:/->/,relevance:0},b={className:"operator",relevance:0,variants:[{match:R2},{match:`\\.(\\.|${dH})+`}]},v=[x,b],w="([0-9]_*)+",k="([0-9a-fA-F]_*)+",A={className:"number",relevance:0,variants:[{match:`\\b(${w})(\\.(${w}))?([eE][+-]?(${w}))?\\b`},{match:`\\b0x(${k})(\\.(${k}))?([pP][+-]?(${w}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},T=(Ie="")=>({className:"subst",variants:[{match:Mn(/\\/,Ie,/[0\\tnr"']/)},{match:Mn(/\\/,Ie,/u\{[0-9a-fA-F]{1,8}\}/)}]}),O=(Ie="")=>({className:"subst",match:Mn(/\\/,Ie,/[\t ]*(?:[\r\n]|\r\n)/)}),_=(Ie="")=>({className:"subst",label:"interpol",begin:Mn(/\\/,Ie,/\(/),end:/\)/}),N=(Ie="")=>({begin:Mn(Ie,/"""/),end:Mn(/"""/,Ie),contains:[T(Ie),O(Ie),_(Ie)]}),F=(Ie="")=>({begin:Mn(Ie,/"/),end:Mn(/"/,Ie),contains:[T(Ie),_(Ie)]}),L={className:"string",variants:[N(),N("#"),N("##"),N("###"),F(),F("#"),F("##"),F("###")]},R=[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}],P={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:R},z=Ie=>{const Be=Mn(Ie,/\//),it=Mn(/\//,Ie);return{begin:Be,end:it,contains:[...R,{scope:"comment",begin:`#(?!.*${it})`,end:/$/}]}},W={scope:"regexp",variants:[z("###"),z("##"),z("#"),P]},ee={match:Mn(/`/,Vo,/`/)},te={className:"variable",match:/\$\d+/},J={className:"variable",match:`\\$${Ry}+`},ae=[ee,te,J],ce={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:UEe,contains:[...v,A,L]}]}},ve={scope:"keyword",match:Mn(/@/,Bi(...HEe),Dd(Bi(/\(/,/\s+/)))},q={scope:"meta",match:Mn(/@/,Vo)},U=[ce,ve,q],M={match:Dd(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Mn(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Ry,"+")},{className:"type",match:Xg,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Mn(/\s+&\s+/,Dd(Xg)),relevance:0}]},D={begin:/</,end:/>/,keywords:c,contains:[...r,...f,...U,x,M]};M.contains.push(D);const I={match:Mn(Vo,/\s*:/),keywords:"_|0",relevance:0},V={begin:/\(/,end:/\)/,relevance:0,keywords:c,contains:["self",I,...r,W,...f,...g,...v,A,L,...ae,...U,M]},re={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,M]},he={begin:Bi(Dd(Mn(Vo,/\s*:/)),Dd(Mn(Vo,/\s+/,Vo,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Vo}]},oe={begin:/\(/,end:/\)/,keywords:c,contains:[he,...r,...f,...v,A,L,...U,M,V],endsParent:!0,illegal:/["']/},Ee={match:[/(func|macro)/,/\s+/,Bi(ee.match,Vo,R2)],className:{1:"keyword",3:"title.function"},contains:[re,oe,e],illegal:[/\[/,/%/]},de={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[re,oe,e],illegal:/\[|%/},ct={match:[/operator/,/\s+/,R2],className:{1:"keyword",3:"title"}},ot={begin:[/precedencegroup/,/\s+/,Xg],className:{1:"keyword",3:"title"},contains:[M],keywords:[...PEe,...kB],end:/}/},_t={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},et={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Ve={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Vo,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:c,contains:[re,...f,{begin:/:/,end:/\{/,keywords:c,contains:[{scope:"title.class.inherited",match:Xg},...f],relevance:0}]};for(const Ie of L.variants){const Be=Ie.contains.find(Et=>Et.label==="interpol");Be.keywords=c;const it=[...f,...g,...v,A,L,...ae];Be.contains=[...it,{begin:/\(/,end:/\)/,contains:["self",...it]}]}return{name:"Swift",keywords:c,contains:[...r,Ee,de,_t,et,Ve,ct,ot,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},W,...f,...g,...v,A,L,...ae,...U,M,V]}}const By="[A-Za-z$_][0-9A-Za-z$_]*",mH=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],gH=["true","false","null","undefined","NaN","Infinity"],xH=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],yH=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],bH=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],vH=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],wH=[].concat(bH,xH,yH);function $Ee(t){const e=t.regex,n=(ce,{after:ve})=>{const q="</"+ce[0].slice(1);return ce.input.indexOf(q,ve)!==-1},r=By,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(ce,ve)=>{const q=ce[0].length+ce.index,U=ce.input[q];if(U==="<"||U===","){ve.ignoreMatch();return}U===">"&&(n(ce,{after:q})||ve.ignoreMatch());let M;const D=ce.input.substring(q);if(M=D.match(/^\s*=/)){ve.ignoreMatch();return}if((M=D.match(/^\s+extends\s+/))&&M.index===0){ve.ignoreMatch();return}}},a={$pattern:By,keyword:mH,literal:gH,built_in:wH,"variable.language":vH},l="[0-9](_?[0-9])*",c=`\\.(${l})`,f="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${f})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${f})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},p={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},g={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,p],subLanguage:"xml"}},x={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,p],subLanguage:"css"}},b={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,p],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,p]},k={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},A=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,g,x,b,v,{match:/\$\d+/},d];p.contains=A.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(A)});const T=[].concat(k,p.contains),O=T.concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(T)}]),_={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:O},N={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},F={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...xH,...yH]}},L={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},R={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[_],illegal:/%/},P={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function z(ce){return e.concat("(?!",ce.join("|"),")")}const W={match:e.concat(/\b/,z([...bH,"super","import"].map(ce=>`${ce}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},ee={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},te={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},_]},J="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",ae={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(J)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[_]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:O,CLASS_REFERENCE:F},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),L,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,g,x,b,v,k,{match:/\$\d+/},d,F,{scope:"attr",match:r+e.lookahead(":"),relevance:0},ae,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[k,t.REGEXP_MODE,{className:"function",begin:J,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:O}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},R,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[_,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},ee,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[_]},W,P,N,te,{match:/\$[(.]/}]}}function VEe(t){const e=t.regex,n=$Ee(t),r=By,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},a={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:By,keyword:mH.concat(l),literal:gH,built_in:wH.concat(i),"variable.language":vH},f={className:"meta",begin:"@"+r},d=(b,v,w)=>{const k=b.contains.findIndex(A=>A.label===v);if(k===-1)throw new Error("can not find mode to replace");b.contains.splice(k,1,w)};Object.assign(n.keywords,c),n.exports.PARAMS_CONTAINS.push(f);const p=n.contains.find(b=>b.scope==="attr"),g=Object.assign({},p,{match:e.concat(r,e.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,p,g]),n.contains=n.contains.concat([f,s,o,g]),d(n,"shebang",t.SHEBANG()),d(n,"use_strict",a);const x=n.contains.find(b=>b.label==="func.def");return x.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function qEe(t){const e=t.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,o=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,a=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:e.concat(/# */,e.either(s,i),/ *#/)},{begin:e.concat(/# */,a,/ *#/)},{begin:e.concat(/# */,o,/ *#/)},{begin:e.concat(/# */,e.either(s,i),/ +/,e.either(o,a),/ *#/)}]},c={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},f={className:"label",begin:/^\w+:/},d=t.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),p=t.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,l,c,f,d,p,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[p]}]}}function WEe(t){t.regex;const e=t.COMMENT(/\(;/,/;\)/);e.contains.push("self");const n=t.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},o={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},a={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},c={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,o,i,t.QUOTE_STRING_MODE,l,c,a]}}function GEe(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=t.inherit(s,{begin:/\(/,end:/\)/}),a=t.inherit(t.APOS_STRING_MODE,{className:"string"}),l=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,l,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,o,l,a]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function KEe(t){const e="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},o={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,i]},a=t.inherit(o,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),p={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},g={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},x={begin:/\{/,end:/\}/,contains:[g],illegal:"\\n",relevance:0},b={begin:"\\[",end:"\\]",contains:[g],illegal:"\\n",relevance:0},v=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},p,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},x,b,s,o],w=[...v];return w.pop(),w.push(a),g.contains=w,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:v}}const XEe={arduino:Dwe,bash:Owe,c:Mwe,cpp:Rwe,csharp:Bwe,css:$we,diff:Vwe,go:qwe,graphql:Wwe,ini:Gwe,java:Kwe,javascript:Zwe,json:eEe,kotlin:nEe,less:uEe,lua:fEe,makefile:hEe,markdown:dEe,objectivec:pEe,perl:mEe,php:gEe,"php-template":xEe,plaintext:yEe,python:bEe,"python-repl":vEe,r:wEe,ruby:EEe,rust:SEe,scss:MEe,shell:REe,sql:BEe,swift:jEe,typescript:VEe,vbnet:qEe,wasm:WEe,xml:GEe,yaml:KEe},TB={},YEe="hljs-";function QEe(t){const e=Hz.newInstance();return t&&s(t),{highlight:n,highlightAuto:r,listLanguages:i,register:s,registerAlias:o,registered:a};function n(l,c,f){const d=f||TB,p=typeof d.prefix=="string"?d.prefix:YEe;if(!e.getLanguage(l))throw new Error("Unknown language: `"+l+"` is not registered");e.configure({__emitter:JEe,classPrefix:p});const g=e.highlight(c,{ignoreIllegals:!0,language:l});if(g.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:g.errorRaised});const x=g._emitter.root,b=x.data;return b.language=g.language,b.relevance=g.relevance,x}function r(l,c){const d=(c||TB).subset||i();let p=-1,g=0,x;for(;++p<d.length;){const b=d[p];if(!e.getLanguage(b))continue;const v=n(b,l,c);v.data&&v.data.relevance!==void 0&&v.data.relevance>g&&(g=v.data.relevance,x=v)}return x||{type:"root",children:[],data:{language:void 0,relevance:g}}}function i(){return e.listLanguages()}function s(l,c){if(typeof l=="string")e.registerLanguage(l,c);else{let f;for(f in l)Object.hasOwn(l,f)&&e.registerLanguage(f,l[f])}}function o(l,c){if(typeof l=="string")e.registerAliases(typeof c=="string"?c:[...c],{languageName:l});else{let f;for(f in l)if(Object.hasOwn(l,f)){const d=l[f];e.registerAliases(typeof d=="string"?d:[...d],{languageName:f})}}}function a(l){return!!e.getLanguage(l)}}class JEe{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=e:n.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,n){const r=this.stack[this.stack.length-1],i=e.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(e){const n=this,r=e.split(".").map(function(o,a){return a?o+"_".repeat(a):n.options.classPrefix+o}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const ZEe=QEe(XEe),e2e=vn.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize?t.style.fontSize.replace(/px/g,""):null,renderHTML:t=>t.fontSize?{style:`font-size: ${String(t.fontSize).replace(/px/g,"")}px`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).run()}}}),t2e=({node:t,updateAttributes:e,selected:n})=>{const r=t.attrs.textAlign||"left";let i={display:"flex",width:"100%"};return r==="center"?i.justifyContent="center":r==="right"?i.justifyContent="flex-end":i.justifyContent="flex-start",C.jsx(uz,{className:"image-resizer my-2",style:i,children:C.jsxs("div",{className:`relative inline-block ${n?"ring-2 ring-blue-500":""}`,children:[C.jsx("img",{src:t.attrs.src,alt:t.attrs.alt,draggable:"true","data-drag-handle":!0,style:{width:t.attrs.width?`${t.attrs.width}px`:"auto",maxWidth:"100%",display:"block"},className:"rounded-lg shadow-sm bg-white"}),C.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-blue-500 rounded-full cursor-se-resize opacity-0 group-hover:opacity-100 transition-opacity z-10 border-2 border-white",onMouseDown:s=>{s.preventDefault();const o=s.clientX,a=t.attrs.width||s.target.parentElement.querySelector("img").offsetWidth,l=f=>{const p=f.clientX-o,g=Math.max(50,a+p);e({width:g})},c=()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",c)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",c)}})]})})},n2e=nve.extend({addAttributes(){return{...this.parent?.(),width:{default:null,renderHTML:t=>t.width?{width:t.width}:{}},textAlign:{default:"left",renderHTML:t=>t.textAlign?{"data-text-align":t.textAlign}:{},parseHTML:t=>t.getAttribute("data-text-align")}}},addNodeView(){return fz(t2e)}}),r2e=({node:t,updateAttributes:e,extension:n})=>{const[r,i]=X.useState(!1),s=n.options.lowlight.listLanguages(),o=()=>{const a=t.textContent;navigator.clipboard.writeText(a),i(!0),setTimeout(()=>i(!1),2e3)};return C.jsxs(uz,{className:"code-block-wrapper my-4 rounded-md overflow-hidden border border-gray-700 shadow-md bg-[#282c34] text-gray-300",children:[C.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 bg-[#21252b] border-b border-gray-700 text-xs select-none",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsxs("div",{className:"flex gap-1.5",children:[C.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-400 opacity-80"}),C.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-400 opacity-80"}),C.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-400 opacity-80"})]}),C.jsxs("div",{className:"relative group ml-2",children:[C.jsxs("select",{contentEditable:!1,value:t.attrs.language||"auto",onChange:a=>e({language:a.target.value}),className:"bg-[#21252b] text-gray-300 hover:text-white cursor-pointer appearance-none pr-4 outline-none font-mono text-xs border border-gray-600 rounded px-1 py-0.5 focus:border-blue-500",children:[C.jsx("option",{value:"auto",className:"bg-[#21252b] text-white",children:"auto"}),s.map((a,l)=>C.jsx("option",{value:a,className:"bg-[#21252b] text-white",children:a},l))]}),C.jsx(dde,{size:10,className:"absolute right-1 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400"})]})]}),C.jsxs("button",{onClick:o,className:`flex items-center gap-1 px-2 py-0.5 rounded transition-colors ${r?"text-green-400":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:[r?C.jsx(fde,{size:12}):C.jsx(wde,{size:12}),C.jsx("span",{children:r?"Copiado!":"Copiar"})]})]}),C.jsx("pre",{className:"m-0 p-0 bg-[#282c34]",children:C.jsx(mye,{as:"code",className:`language-${t.attrs.language||"javascript"} block p-4 outline-none font-mono text-sm leading-relaxed`})})]})},i2e=({editor:t,onSave:e,isSaving:n,theme:r,onAiRequest:i})=>{if(!t)return null;const s=X.useRef(null),o=async w=>{if(!w)return;const k=new FormData;k.append("file",w);try{const T=await(await fetch("http://localhost:3001/api/upload/attachment",{method:"POST",body:k})).json();T.url&&t.chain().focus().setImage({src:`http://localhost:3001${T.url}`}).run()}catch(A){console.error(A),alert("Falha no upload da imagem")}},a=()=>s.current?.click(),l=()=>{const w=t.state.selection,k=t.state.doc.textBetween(w.from,w.to," ");i(k)},[,c]=X.useState();X.useEffect(()=>{if(!t)return;const w=()=>c({});return t.on("transaction",w),t.on("selectionUpdate",w),()=>{t.off("transaction",w),t.off("selectionUpdate",w)}},[t]);const f=[8,10,12,14,16,18,20,24,30,36,48,60,72],d=()=>{const w=t.getAttributes("textStyle")?.fontSize;if(!w)return 16;let k=Array.isArray(w)?w[0]:w;const A=parseInt(String(k).replace(/px/g,""));return isNaN(A)?16:A},p=d(),g=w=>{const k=d();let T=f.reduce((_,N,F)=>Math.abs(N-k)<Math.abs(f[_]-k)?F:_,0)+w;T=Math.max(0,Math.min(T,f.length-1));const O=f[T];t.chain().focus().setFontSize(O).run()},x=w=>t.chain().focus().setFontSize(w).run(),b=w=>{t.isActive("image")||t.state.selection.node?.type.name==="image"?t.chain().focus().updateAttributes("image",{textAlign:w}).run():t.chain().focus().setTextAlign(w).run()},v=w=>t.isActive("image")||t.state.selection.node?.type.name==="image"?t.getAttributes("image").textAlign===w:t.isActive({textAlign:w});return C.jsxs("div",{className:`border-b ${r?r.border:"border-gray-300"} p-2 flex flex-wrap gap-1 ${r?r.panel:"bg-white"} sticky top-0 z-20 items-center shadow-sm`,children:[C.jsx("div",{className:"flex items-center gap-1 mr-2 border-r border-gray-700/30 pr-2",children:C.jsxs("select",{className:`text-xs p-1.5 rounded border ${r?.border} ${r?.input} w-32`,onChange:w=>t.chain().focus().setFontFamily(w.target.value).run(),value:t.getAttributes("textStyle").fontFamily||"",title:"Fonte",children:[C.jsx("option",{value:"",children:"Padro (Inter)"}),C.jsx("option",{value:"Arial",children:"Arial"}),C.jsx("option",{value:"Arial Black",children:"Arial Black"}),C.jsx("option",{value:"Comic Sans MS",children:"Comic Sans"}),C.jsx("option",{value:"Courier New",children:"Courier New"}),C.jsx("option",{value:"Georgia",children:"Georgia"}),C.jsx("option",{value:"Impact",children:"Impact"}),C.jsx("option",{value:"Tahoma",children:"Tahoma"}),C.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),C.jsx("option",{value:"Trebuchet MS",children:"Trebuchet MS"}),C.jsx("option",{value:"Verdana",children:"Verdana"})]})}),C.jsxs("div",{className:"flex items-center gap-1 mr-2 border-r border-gray-700/30 pr-2",children:[C.jsx("button",{onClick:()=>g(-1),className:"p-1 rounded hover:bg-gray-200",title:"Diminuir",children:C.jsx(jde,{size:12})}),C.jsx("select",{value:f.includes(p)?p:16,onChange:w=>x(parseInt(w.target.value)),className:"w-14 text-xs text-center border rounded p-1 bg-white cursor-pointer",title:"Tamanho da Fonte",children:f.map(w=>C.jsx("option",{value:w,children:w},w))}),C.jsx("button",{onClick:()=>g(1),className:"p-1 rounded hover:bg-gray-200",title:"Aumentar",children:C.jsx(Kx,{size:12})})]}),C.jsxs("div",{className:"flex items-center gap-1 mr-2 border-r border-gray-700/30 pr-2",children:[C.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:`p-1.5 rounded hover:bg-gray-500/10 ${t.isActive("heading",{level:1})?"text-blue-500 bg-blue-500/10":"opacity-70"}`,title:"Ttulo 1 (H1)",children:C.jsx(Cde,{size:18})}),C.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`p-1.5 rounded hover:bg-gray-500/10 ${t.isActive("heading",{level:2})?"text-blue-500 bg-blue-500/10":"opacity-70"}`,title:"Ttulo 2 (H2)",children:C.jsx(Ade,{size:18})}),C.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`p-1.5 rounded hover:bg-gray-500/10 ${t.isActive("heading",{level:3})?"text-blue-500 bg-blue-500/10":"opacity-70"}`,title:"Ttulo 3 (H3)",children:C.jsx(_de,{size:18})})]}),C.jsxs("div",{className:"flex items-center gap-0.5 mr-2 border-r border-gray-700/30 pr-2",children:[C.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:`p-1.5 rounded hover:bg-gray-500/10 ${t.isActive("bold")?"text-blue-500 bg-blue-500/10":"opacity-70"}`,title:"Negrito",children:C.jsx(lde,{size:16})}),C.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:`p-1.5 rounded hover:bg-gray-500/10 ${t.isActive("italic")?"text-blue-500 bg-blue-500/10":"opacity-70"}`,title:"Itlico",children:C.jsx(Bde,{size:16})}),C.jsx("button",{onClick:()=>t.chain().focus().toggleUnderline().run(),className:`p-1.5 rounded hover:bg-gray-500/10 ${t.isActive("underline")?"text-blue-500 bg-blue-500/10":"opacity-70"}`,title:"Sublinhado",children:C.jsx(f0e,{size:16})}),C.jsx("button",{onClick:()=>t.chain().focus().toggleStrike().run(),className:`p-1.5 rounded hover:bg-gray-500/10 ${t.isActive("strike")?"text-blue-500 bg-blue-500/10":"opacity-70"}`,title:"Tachado",children:C.jsx(Zde,{size:16})}),C.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),C.jsx("button",{onClick:()=>t.chain().focus().toggleHighlight().run(),className:`p-1.5 rounded hover:bg-gray-500/10 ${t.isActive("highlight")?"text-amber-500 bg-amber-500/10":"opacity-70"}`,title:"Marca-texto",children:C.jsx(Dde,{size:16})}),C.jsx("button",{onClick:()=>t.chain().focus().toggleCode().run(),className:`p-1.5 rounded hover:bg-gray-500/10 ${t.isActive("code")?"text-blue-500 bg-blue-500/10":"opacity-70"}`,title:"Cdigo Inline",children:C.jsx(bde,{size:16})}),C.jsx("button",{onClick:()=>t.chain().focus().toggleCodeBlock().run(),className:`p-1.5 rounded hover:bg-gray-500/10 ${t.isActive("codeBlock")?"text-purple-600 bg-purple-100 ring-2 ring-purple-500/20":"opacity-70"}`,title:"Bloco de Cdigo",children:C.jsx(Hde,{size:16})})]}),C.jsxs("div",{className:"flex items-center gap-0.5 mr-2 border-r border-gray-700/30 pr-2",children:[C.jsx("button",{onClick:()=>b("left"),className:`p-1.5 rounded hover:bg-gray-500/10 ${v("left")?"text-blue-500":"opacity-70"}`,title:"Esquerda",children:C.jsx(c0e,{size:16})}),C.jsx("button",{onClick:()=>b("center"),className:`p-1.5 rounded hover:bg-gray-500/10 ${v("center")?"text-blue-500":"opacity-70"}`,title:"Centro",children:C.jsx(r0e,{size:16})}),C.jsx("button",{onClick:()=>b("right"),className:`p-1.5 rounded hover:bg-gray-500/10 ${v("right")?"text-blue-500":"opacity-70"}`,title:"Direita",children:C.jsx(s0e,{size:16})}),C.jsx("button",{onClick:()=>b("justify"),className:`p-1.5 rounded hover:bg-gray-500/10 ${v("justify")?"text-blue-500":"opacity-70"}`,title:"Justificado",children:C.jsx(a0e,{size:16})})]}),C.jsx("div",{className:"flex items-center gap-1 mr-2 border-r border-gray-700/30 pr-2",children:C.jsx("input",{type:"color",onInput:w=>t.chain().focus().setColor(w.target.value).run(),value:t.getAttributes("textStyle").color||"#000000",className:"w-8 h-8 p-0 border border-gray-300 rounded cursor-pointer",title:"Cor do Texto"})}),C.jsxs("div",{className:"flex items-center gap-0.5 mr-2 border-r border-gray-700/30 pr-2",children:[C.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:`p-1.5 rounded hover:bg-gray-500/10 ${t.isActive("bulletList")?"text-blue-500":"opacity-70"}`,title:"Lista de Pontos",children:C.jsx(Pde,{size:16})}),C.jsx("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`p-1.5 rounded hover:bg-gray-500/10 ${t.isActive("orderedList")?"text-blue-500":"opacity-70"}`,title:"Lista Numerada",children:C.jsx(Ide,{size:16})}),C.jsx("button",{onClick:()=>t.chain().focus().toggleTaskList().run(),className:`p-1.5 rounded hover:bg-gray-500/10 ${t.isActive("taskList")?"text-blue-500":"opacity-70"}`,title:"Lista de Tarefas",children:C.jsx(Qde,{size:16})}),C.jsx("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:`p-1.5 rounded hover:bg-gray-500/10 ${t.isActive("blockquote")?"text-blue-500":"opacity-70"}`,title:"Citao",children:C.jsx(qde,{size:16})})]}),C.jsxs("div",{className:"flex items-center gap-1 mr-2",children:[C.jsxs("button",{onClick:l,className:"p-1 px-3 rounded hover:bg-purple-100 text-purple-600 flex items-center gap-1 font-semibold border border-purple-200 transition-colors",title:"Assistente AI",children:[C.jsx(Xde,{size:16}),C.jsx("span",{className:"text-xs",children:"AI"})]}),C.jsx("input",{type:"file",ref:s,className:"hidden",accept:"image/*",onChange:w=>o(w.target.files[0])}),C.jsx("button",{onClick:a,className:"p-1.5 rounded hover:bg-gray-500/10 opacity-70",title:"Inserir Imagem",children:C.jsx(Mde,{size:16})}),C.jsx("button",{onClick:()=>t.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),className:"p-1.5 rounded hover:bg-gray-500/10 opacity-70",title:"Inserir Tabela",children:C.jsx(t0e,{size:16})})]}),C.jsx("div",{className:"ml-auto flex items-center",children:C.jsxs("button",{onClick:e,className:`p-1.5 px-3 rounded flex items-center gap-2 transition-colors ${n?"bg-green-600":"bg-blue-600 hover:bg-blue-700"} text-white font-medium text-xs shadow-sm`,children:[C.jsx(Gde,{size:14}),n?"Salvando...":"Salvar"]})})]})},s2e=({initialContent:t,onSave:e,theme:n,readOnly:r=!1})=>{const[i,s]=X.useState(!1),o=async()=>{if(!c)return;s(!0);const f=c.getHTML();await e(f),setTimeout(()=>s(!1),500)},a=async f=>{const d=prompt("Como a IA pode ajudar? (ex: 'Resumir', 'Melhorar gramtica', 'Continuar texto')");d&&alert("Ao enviada para IA (Simulao): "+d)},l=(f,d,p,g)=>{if(g)return!1;if(d.dataTransfer&&d.dataTransfer.files&&d.dataTransfer.files.length>0){const b=d.dataTransfer.files[0];if(b.type.startsWith("image/")){d.preventDefault();const v=new FormData;return v.append("file",b),fetch("http://localhost:3001/api/upload/attachment",{method:"POST",body:v}).then(w=>w.json()).then(w=>{if(w.url){const{schema:k}=f.state,A=f.posAtCoords({left:d.clientX,top:d.clientY});A&&f.dispatch(f.state.tr.insert(A.pos,k.nodes.image.create({src:`http://localhost:3001${w.url}`})))}}).catch(w=>console.error("Drop upload failed",w)),!0}}return!1},c=dye({extensions:[Zbe.configure({codeBlock:!1}),n2e,cve.configure({lowlight:ZEe}).extend({addNodeView(){return fz(r2e)}}),uve.configure({placeholder:'Comece a escrever sua documentao... (Use "/" para comandos)'}),eH.configure({resizable:!0}),Zz,Jz,Qz,nH,rH,Cwe.configure({multicolor:!0}),Bz,kwe.configure({types:["heading","paragraph"]}),Awe,e2e,Twe,_we.configure({nested:!0})],content:t||"",editable:!r,editorProps:{attributes:{class:`prose max-w-none focus:outline-none min-h-[500px] px-12 py-8 shadow-sm bg-white dark:bg-[#1e1e1e] mx-auto my-4 rounded-lg w-full md:w-[850px] lg:w-[1000px] outline-none ${n&&n.name==="Modo Escuro"?"prose-invert text-white":"text-gray-800"}`},handleDrop:l}});return X.useEffect(()=>{c&&t&&c.isEmpty&&c.commands.setContent(t)},[t,c]),C.jsxs("div",{className:`flex flex-col h-full ${n?n.bg:"bg-gray-50"}`,children:[C.jsx(i2e,{editor:c,onSave:o,isSaving:i,theme:n,onAiRequest:a}),C.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar flex justify-center bg-gray-100 dark:bg-black/20 pb-20",children:C.jsx(oye,{editor:c,className:"w-full flex justify-center"})})]})},o2e=()=>{const{theme:t}=X.useContext(Yy),[e,n]=X.useState([]),[r,i]=X.useState(null),[s,o]=X.useState([]),[a,l]=X.useState(null),[c,f]=X.useState(!1),[d,p]=X.useState(300),[g,x]=X.useState(!1),[b,v]=X.useState(!1),[w,k]=X.useState({title:"",desc:"",parentId:null});X.useEffect(()=>{A()},[]);const A=async()=>{try{const z=await fetch("http://localhost:3001/api/docs/books");if(!z.ok)throw new Error(`HTTP ${z.status}`);const W=await z.json();Array.isArray(W)?n(W):n([])}catch(z){console.error("Failed to load books",z)}},T=async z=>{f(!0);try{const ee=await(await fetch(`http://localhost:3001/api/docs/books/${z}/tree`)).json();o(ee);const te=e.find(J=>J.ID_BOOK===z)||{TITLE:"Book",ID_BOOK:z};i(te),l(null)}catch(W){console.error("Failed to load tree",W)}finally{f(!1)}},O=()=>{k({title:"",desc:"",parentId:null}),x(!0)},_=async()=>{if(console.log("Creating book:",w),!w.title){alert("Por favor, digite um ttulo.");return}try{console.log("Sending request...");const z=await fetch("http://localhost:3001/api/docs/books",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:w.title,description:w.desc})});if(console.log("Response status:",z.status),z.ok){const W=await z.json();console.log("Success:",W),A(),x(!1)}else{const W=await z.json();console.error("Server error:",W),alert("Erro do Servidor: "+(W.error||z.statusText))}}catch(z){console.error("Network error:",z),alert("Erro de Rede/Cdigo: "+z.message)}},N=(z=null)=>{k({title:"",desc:"",parentId:z}),v(!0)},F=async()=>{if(!(!r||!w.title))try{const z=await fetch("http://localhost:3001/api/docs/nodes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookId:r.ID_BOOK,parentId:w.parentId,title:w.title,type:"PAGE"})});if(z.ok){const{id:W}=await z.json();T(r.ID_BOOK),L({ID_NODE:W,NM_TITLE:w.title,CL_CONTENT:""}),v(!1)}}catch(z){alert("Erro ao criar pgina: "+z.message)}},L=async z=>{f(!0);try{const ee=await(await fetch(`http://localhost:3001/api/docs/nodes/${z.ID_NODE}`)).json();l(ee)}catch(W){console.error("Failed to load node",W)}finally{f(!1)}},R=async z=>{if(a)try{await fetch(`http://localhost:3001/api/docs/nodes/${a.ID_NODE}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:z,title:a.NM_TITLE})})}catch(W){alert("Erro ao salvar: "+W.message)}},P=(z,W=0)=>z.map(ee=>C.jsxs("div",{children:[C.jsxs("div",{className:`flex items-center gap-2 p-1 px-2 rounded cursor-pointer transition-colors ${a?.ID_NODE===ee.ID_NODE?"bg-blue-600/20 text-blue-500":`${t.text} hover:opacity-80`}`,style:{paddingLeft:`${W*12+8}px`},onClick:()=>L(ee),children:[C.jsx(ER,{size:14,className:a?.ID_NODE===ee.ID_NODE?"text-blue-500":"opacity-70"}),C.jsx("span",{className:"truncate text-sm",children:ee.NM_TITLE}),C.jsx("button",{onClick:te=>{te.stopPropagation(),N(ee.ID_NODE)},className:"ml-auto opacity-0 hover:opacity-100 group-hover:opacity-100 p-0.5 hover:bg-black/10 rounded",title:"Adicionar Sub-pgina",children:C.jsx(Kx,{size:12})})]}),ee.children&&ee.children.length>0&&C.jsx("div",{children:P(ee.children,W+1)})]},ee.ID_NODE));return C.jsxs("div",{className:`flex h-full ${t.bg} ${t.text} overflow-hidden font-sans`,children:[C.jsxs("div",{className:`flex flex-col border-r ${t.border} ${t.panel} transition-all duration-300`,style:{width:d},children:[C.jsxs("div",{className:`p-4 border-b ${t.border} flex items-center justify-between`,children:[C.jsx("h2",{className:"font-semibold text-sm tracking-wide opacity-70 uppercase",children:r?r.NM_TITLE:"Biblioteca"}),C.jsx("div",{className:"flex gap-1",children:r?C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:()=>N(),className:`p-1 hover:bg-black/5 rounded ${t.accent}`,title:"Nova Pgina Raiz",children:C.jsx(Kx,{size:16})}),C.jsx("button",{onClick:()=>i(null),className:"p-1 hover:bg-black/5 rounded opacity-70",title:"Voltar aos Livros",children:C.jsx(mde,{size:16})})]}):C.jsx("button",{onClick:O,className:`p-1 hover:bg-black/5 rounded ${t.accent}`,title:"Novo Livro",children:C.jsx(Kx,{size:16})})})]}),C.jsx("div",{className:"flex-1 overflow-y-auto p-2 scrollbar-thin",children:r?C.jsxs("div",{className:"space-y-0.5",children:[s.length===0&&C.jsxs("div",{className:"text-center p-4 opacity-50 text-xs italic",children:["Livro vazio.",C.jsx("br",{}),C.jsx("button",{onClick:()=>N(),className:`${t.accent} hover:underline mt-1`,children:"Criar primeira pgina"})]}),P(s)]}):C.jsxs("div",{className:"space-y-1",children:[e.map(z=>C.jsxs("div",{onClick:()=>T(z.ID_BOOK),className:`flex items-center gap-3 p-3 hover:bg-black/5 rounded cursor-pointer group transition-all border border-transparent hover:${t.border}`,children:[C.jsx(ZE,{size:20,className:t.accent.split(" ")[0]}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("div",{className:`truncate font-medium text-sm ${t.text}`,children:z.NM_TITLE}),z.DS_DESCRIPTION&&C.jsx("div",{className:"truncate text-xs opacity-60",children:z.DS_DESCRIPTION})]}),C.jsx(xde,{size:16,className:"opacity-0 group-hover:opacity-100 transition-opacity"})]},z.ID_BOOK)),e.length===0&&C.jsxs("div",{className:"text-center p-8 opacity-50 text-sm flex flex-col items-center",children:[C.jsx(ZE,{size:32,className:"mb-2 opacity-20"}),C.jsx("p",{children:"Nenhuma documentao encontrada."}),C.jsx("button",{onClick:O,className:`mt-2 ${t.accent} hover:underline text-xs`,children:"Criar o primeiro livro"})]})]})})]}),C.jsx("div",{className:`flex-1 flex flex-col ${t.bg} overflow-hidden`,children:a?C.jsx(s2e,{initialContent:a.CL_CONTENT,onSave:R,theme:t},a.ID_NODE):C.jsx("div",{className:"flex-1 flex flex-col items-center justify-center opacity-40",children:r?C.jsxs(C.Fragment,{children:[C.jsx(ER,{size:48,className:"mb-4"}),C.jsx("p",{className:"text-lg font-medium",children:"Selecione uma pgina para editar"})]}):C.jsxs(C.Fragment,{children:[C.jsx(ZE,{size:48,className:"mb-4"}),C.jsx("p",{className:"text-lg font-medium",children:"Selecione um Livro"})]})})}),(g||b)&&C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:C.jsxs("div",{className:`${t.panel} p-6 rounded-lg shadow-xl w-96 border ${t.border}`,children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsx("h3",{className:`text-lg font-bold ${t.text}`,children:g?"Novo Livro":"Nova Pgina"}),C.jsx("button",{onClick:()=>{x(!1),v(!1)},className:"opacity-50 hover:opacity-100",children:C.jsx(d0e,{size:20})})]}),C.jsx("input",{type:"text",placeholder:"Ttulo",className:`w-full p-2 mb-3 border rounded ${t.input}`,value:w.title,onChange:z=>k({...w,title:z.target.value}),autoFocus:!0}),g&&C.jsx("textarea",{placeholder:"Descrio (Opcional)",className:`w-full p-2 mb-4 border rounded ${t.input} h-24 resize-none`,value:w.desc,onChange:z=>k({...w,desc:z.target.value})}),C.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[C.jsx("button",{onClick:()=>{x(!1),v(!1)},className:`px-4 py-2 rounded ${t.secondaryBtn}`,children:"Cancelar"}),C.jsx("button",{onClick:g?_:F,className:`px-4 py-2 rounded ${t.primaryBtn}`,children:"Criar"})]})]})})]})};function a2e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return X.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Mb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function wh(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function tT(t){return"nodeType"in t}function qi(t){var e,n;return t?wh(t)?t:tT(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function nT(t){const{Document:e}=qi(t);return t instanceof e}function Np(t){return wh(t)?!1:t instanceof qi(t).HTMLElement}function EH(t){return t instanceof qi(t).SVGElement}function Eh(t){return t?wh(t)?t.document:tT(t)?nT(t)?t:Np(t)||EH(t)?t.ownerDocument:document:document:document}const No=Mb?X.useLayoutEffect:X.useEffect;function Rb(t){const e=X.useRef(t);return No(()=>{e.current=t}),X.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function l2e(){const t=X.useRef(null),e=X.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=X.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function rp(t,e){e===void 0&&(e=[t]);const n=X.useRef(t);return No(()=>{n.current!==t&&(n.current=t)},e),n}function Dp(t,e){const n=X.useRef();return X.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Ly(t){const e=Rb(t),n=X.useRef(null),r=X.useCallback(i=>{i!==n.current&&e?.(i,n.current),n.current=i},[]);return[n,r]}function Iy(t){const e=X.useRef();return X.useEffect(()=>{e.current=t},[t]),e.current}let B2={};function Op(t,e){return X.useMemo(()=>{if(e)return e;const n=B2[t]==null?0:B2[t]+1;return B2[t]=n,t+"-"+n},[t,e])}function SH(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[l,c]of a){const f=s[l];f!=null&&(s[l]=f+t*c)}return s},{...e})}}const Gf=SH(1),ip=SH(-1);function c2e(t){return"clientX"in t&&"clientY"in t}function Bb(t){if(!t)return!1;const{KeyboardEvent:e}=qi(t.target);return e&&t instanceof e}function u2e(t){if(!t)return!1;const{TouchEvent:e}=qi(t.target);return e&&t instanceof e}function Fy(t){if(u2e(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return c2e(t)?{x:t.clientX,y:t.clientY}:null}const sc=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[sc.Translate.toString(t),sc.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),_B="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function f2e(t){return t.matches(_B)?t:t.querySelector(_B)}const h2e={display:"none"};function d2e(t){let{id:e,value:n}=t;return un.createElement("div",{id:e,style:h2e},n)}function p2e(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return un.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function m2e(){const[t,e]=X.useState("");return{announce:X.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const CH=X.createContext(null);function g2e(t){const e=X.useContext(CH);X.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function x2e(){const[t]=X.useState(()=>new Set),e=X.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[X.useCallback(r=>{let{type:i,event:s}=r;t.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[t]),e]}const y2e={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},b2e={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function v2e(t){let{announcements:e=b2e,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=y2e}=t;const{announce:s,announcement:o}=m2e(),a=Op("DndLiveRegion"),[l,c]=X.useState(!1);if(X.useEffect(()=>{c(!0)},[]),g2e(X.useMemo(()=>({onDragStart(d){let{active:p}=d;s(e.onDragStart({active:p}))},onDragMove(d){let{active:p,over:g}=d;e.onDragMove&&s(e.onDragMove({active:p,over:g}))},onDragOver(d){let{active:p,over:g}=d;s(e.onDragOver({active:p,over:g}))},onDragEnd(d){let{active:p,over:g}=d;s(e.onDragEnd({active:p,over:g}))},onDragCancel(d){let{active:p,over:g}=d;s(e.onDragCancel({active:p,over:g}))}}),[s,e])),!l)return null;const f=un.createElement(un.Fragment,null,un.createElement(d2e,{id:r,value:i.draggable}),un.createElement(p2e,{id:a,announcement:o}));return n?$c.createPortal(f,n):f}var zr;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(zr||(zr={}));function Py(){}function NB(t,e){return X.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function w2e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return X.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Do=Object.freeze({x:0,y:0});function kH(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function E2e(t,e){const n=Fy(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function AH(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function S2e(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function DB(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function TH(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function OB(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const C2e=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=OB(e,e.left,e.top),s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const c=kH(OB(l),i);s.push({id:a,data:{droppableContainer:o,value:c}})}}return s.sort(AH)},k2e=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=DB(e),s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const c=DB(l),f=i.reduce((p,g,x)=>p+kH(c[x],g),0),d=Number((f/4).toFixed(4));s.push({id:a,data:{droppableContainer:o,value:d}})}}return s.sort(AH)};function A2e(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-r,a=s-n;if(r<i&&n<s){const l=e.width*e.height,c=t.width*t.height,f=o*a,d=f/(l+c-f);return Number(d.toFixed(4))}return 0}const T2e=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:o}=s,a=n.get(o);if(a){const l=A2e(a,e);l>0&&i.push({id:o,data:{droppableContainer:s,value:l}})}}return i.sort(S2e)};function _2e(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function _H(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Do}function N2e(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const D2e=N2e(1);function NH(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function O2e(t,e,n){const r=NH(e);if(!r)return t;const{scaleX:i,scaleY:s,x:o,y:a}=r,l=t.left-o-(1-i)*parseFloat(n),c=t.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),f=i?t.width/i:t.width,d=s?t.height/s:t.height;return{width:f,height:d,top:c,right:l+f,bottom:c+d,left:l}}const M2e={ignoreTransform:!1};function Sh(t,e){e===void 0&&(e=M2e);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:f}=qi(t).getComputedStyle(t);c&&(n=O2e(n,c,f))}const{top:r,left:i,width:s,height:o,bottom:a,right:l}=n;return{top:r,left:i,width:s,height:o,bottom:a,right:l}}function MB(t){return Sh(t,{ignoreTransform:!0})}function R2e(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function B2e(t,e){return e===void 0&&(e=qi(t).getComputedStyle(t)),e.position==="fixed"}function L2e(t,e){e===void 0&&(e=qi(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function Lb(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(nT(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Np(i)||EH(i)||n.includes(i))return n;const s=qi(t).getComputedStyle(i);return i!==t&&L2e(i,s)&&n.push(i),B2e(i,s)?n:r(i.parentNode)}return t?r(t):n}function DH(t){const[e]=Lb(t,1);return e??null}function L2(t){return!Mb||!t?null:wh(t)?t:tT(t)?nT(t)||t===Eh(t).scrollingElement?window:Np(t)?t:null:null}function OH(t){return wh(t)?t.scrollX:t.scrollLeft}function MH(t){return wh(t)?t.scrollY:t.scrollTop}function UC(t){return{x:OH(t),y:MH(t)}}var $r;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})($r||($r={}));function RH(t){return!Mb||!t?!1:t===document.scrollingElement}function BH(t){const e={x:0,y:0},n=RH(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const I2e={x:.2,y:.2};function F2e(t,e,n,r,i){let{top:s,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=I2e);const{isTop:c,isBottom:f,isLeft:d,isRight:p}=BH(t),g={x:0,y:0},x={x:0,y:0},b={height:e.height*i.y,width:e.width*i.x};return!c&&s<=e.top+b.height?(g.y=$r.Backward,x.y=r*Math.abs((e.top+b.height-s)/b.height)):!f&&l>=e.bottom-b.height&&(g.y=$r.Forward,x.y=r*Math.abs((e.bottom-b.height-l)/b.height)),!p&&a>=e.right-b.width?(g.x=$r.Forward,x.x=r*Math.abs((e.right-b.width-a)/b.width)):!d&&o<=e.left+b.width&&(g.x=$r.Backward,x.x=r*Math.abs((e.left+b.width-o)/b.width)),{direction:g,speed:x}}function P2e(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function LH(t){return t.reduce((e,n)=>Gf(e,UC(n)),Do)}function z2e(t){return t.reduce((e,n)=>e+OH(n),0)}function H2e(t){return t.reduce((e,n)=>e+MH(n),0)}function IH(t,e){if(e===void 0&&(e=Sh),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);DH(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const U2e=[["x",["left","right"],z2e],["y",["top","bottom"],H2e]];class rT{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Lb(n),i=LH(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,a]of U2e)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(r),f=i[s]-c;return this.rect[l]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class m0{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function j2e(t){const{EventTarget:e}=qi(t);return t instanceof e?t:Eh(t)}function I2(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Js;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Js||(Js={}));function RB(t){t.preventDefault()}function $2e(t){t.stopPropagation()}var en;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(en||(en={}));const FH={start:[en.Space,en.Enter],cancel:[en.Esc],end:[en.Space,en.Enter,en.Tab]},V2e=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case en.Right:return{...n,x:n.x+25};case en.Left:return{...n,x:n.x-25};case en.Down:return{...n,y:n.y+25};case en.Up:return{...n,y:n.y-25}}};class iT{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new m0(Eh(n)),this.windowListeners=new m0(qi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Js.Resize,this.handleCancel),this.windowListeners.add(Js.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Js.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&IH(r),n(Do)}handleKeyDown(e){if(Bb(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=FH,coordinateGetter:o=V2e,scrollBehavior:a="smooth"}=i,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,f=c?{x:c.left,y:c.top}:Do;this.referenceCoordinates||(this.referenceCoordinates=f);const d=o(e,{active:n,context:r.current,currentCoordinates:f});if(d){const p=ip(d,f),g={x:0,y:0},{scrollableAncestors:x}=r.current;for(const b of x){const v=e.code,{isTop:w,isRight:k,isLeft:A,isBottom:T,maxScroll:O,minScroll:_}=BH(b),N=P2e(b),F={x:Math.min(v===en.Right?N.right-N.width/2:N.right,Math.max(v===en.Right?N.left:N.left+N.width/2,d.x)),y:Math.min(v===en.Down?N.bottom-N.height/2:N.bottom,Math.max(v===en.Down?N.top:N.top+N.height/2,d.y))},L=v===en.Right&&!k||v===en.Left&&!A,R=v===en.Down&&!T||v===en.Up&&!w;if(L&&F.x!==d.x){const P=b.scrollLeft+p.x,z=v===en.Right&&P<=O.x||v===en.Left&&P>=_.x;if(z&&!p.y){b.scrollTo({left:P,behavior:a});return}z?g.x=b.scrollLeft-P:g.x=v===en.Right?b.scrollLeft-O.x:b.scrollLeft-_.x,g.x&&b.scrollBy({left:-g.x,behavior:a});break}else if(R&&F.y!==d.y){const P=b.scrollTop+p.y,z=v===en.Down&&P<=O.y||v===en.Up&&P>=_.y;if(z&&!p.x){b.scrollTo({top:P,behavior:a});return}z?g.y=b.scrollTop-P:g.y=v===en.Down?b.scrollTop-O.y:b.scrollTop-_.y,g.y&&b.scrollBy({top:-g.y,behavior:a});break}}this.handleMove(e,Gf(ip(d,this.referenceCoordinates),g))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}iT.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=FH,onActivation:i}=e,{active:s}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function BB(t){return!!(t&&"distance"in t)}function LB(t){return!!(t&&"delay"in t)}class sT{constructor(e,n,r){var i;r===void 0&&(r=j2e(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:o}=s;this.props=e,this.events=n,this.document=Eh(o),this.documentListeners=new m0(this.document),this.listeners=new m0(r),this.windowListeners=new m0(qi(o)),this.initialCoordinates=(i=Fy(s))!=null?i:Do,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Js.Resize,this.handleCancel),this.windowListeners.add(Js.DragStart,RB),this.windowListeners.add(Js.VisibilityChange,this.handleCancel),this.windowListeners.add(Js.ContextMenu,RB),this.documentListeners.add(Js.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(LB(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(BB(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Js.Click,$2e,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Js.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const l=(n=Fy(e))!=null?n:Do,c=ip(i,l);if(!r&&a){if(BB(a)){if(a.tolerance!=null&&I2(c,a.tolerance))return this.handleCancel();if(I2(c,a.distance))return this.handleStart()}if(LB(a)&&I2(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===en.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const q2e={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class oT extends sT{constructor(e){const{event:n}=e,r=Eh(n.target);super(e,q2e,r)}}oT.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const W2e={move:{name:"mousemove"},end:{name:"mouseup"}};var jC;(function(t){t[t.RightClick=2]="RightClick"})(jC||(jC={}));class G2e extends sT{constructor(e){super(e,W2e,Eh(e.event.target))}}G2e.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===jC.RightClick?!1:(r?.({event:n}),!0)}}];const F2={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class K2e extends sT{constructor(e){super(e,F2)}static setup(){return window.addEventListener(F2.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(F2.move.name,e)};function e(){}}}K2e.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var g0;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(g0||(g0={}));var zy;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(zy||(zy={}));function X2e(t){let{acceleration:e,activator:n=g0.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=zy.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:f,delta:d,threshold:p}=t;const g=Q2e({delta:d,disabled:!s}),[x,b]=l2e(),v=X.useRef({x:0,y:0}),w=X.useRef({x:0,y:0}),k=X.useMemo(()=>{switch(n){case g0.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case g0.DraggableRect:return i}},[n,i,l]),A=X.useRef(null),T=X.useCallback(()=>{const _=A.current;if(!_)return;const N=v.current.x*w.current.x,F=v.current.y*w.current.y;_.scrollBy(N,F)},[]),O=X.useMemo(()=>a===zy.TreeOrder?[...c].reverse():c,[a,c]);X.useEffect(()=>{if(!s||!c.length||!k){b();return}for(const _ of O){if(r?.(_)===!1)continue;const N=c.indexOf(_),F=f[N];if(!F)continue;const{direction:L,speed:R}=F2e(_,F,k,e,p);for(const P of["x","y"])g[P][L[P]]||(R[P]=0,L[P]=0);if(R.x>0||R.y>0){b(),A.current=_,x(T,o),v.current=R,w.current=L;return}}v.current={x:0,y:0},w.current={x:0,y:0},b()},[e,T,r,b,s,o,JSON.stringify(k),JSON.stringify(g),x,c,O,f,JSON.stringify(p)])}const Y2e={x:{[$r.Backward]:!1,[$r.Forward]:!1},y:{[$r.Backward]:!1,[$r.Forward]:!1}};function Q2e(t){let{delta:e,disabled:n}=t;const r=Iy(e);return Dp(i=>{if(n||!r||!i)return Y2e;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[$r.Backward]:i.x[$r.Backward]||s.x===-1,[$r.Forward]:i.x[$r.Forward]||s.x===1},y:{[$r.Backward]:i.y[$r.Backward]||s.y===-1,[$r.Forward]:i.y[$r.Forward]||s.y===1}}},[n,e,r])}function J2e(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Dp(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function Z2e(t,e){return X.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...s]},[]),[t,e])}var sp;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(sp||(sp={}));var $C;(function(t){t.Optimized="optimized"})($C||($C={}));const IB=new Map;function eSe(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,o]=X.useState(null),{frequency:a,measure:l,strategy:c}=i,f=X.useRef(t),d=v(),p=rp(d),g=X.useCallback(function(w){w===void 0&&(w=[]),!p.current&&o(k=>k===null?w:k.concat(w.filter(A=>!k.includes(A))))},[p]),x=X.useRef(null),b=Dp(w=>{if(d&&!n)return IB;if(!w||w===IB||f.current!==t||s!=null){const k=new Map;for(let A of t){if(!A)continue;if(s&&s.length>0&&!s.includes(A.id)&&A.rect.current){k.set(A.id,A.rect.current);continue}const T=A.node.current,O=T?new rT(l(T),T):null;A.rect.current=O,O&&k.set(A.id,O)}return k}return w},[t,s,n,d,l]);return X.useEffect(()=>{f.current=t},[t]),X.useEffect(()=>{d||g()},[n,d]),X.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),X.useEffect(()=>{d||typeof a!="number"||x.current!==null||(x.current=setTimeout(()=>{g(),x.current=null},a))},[a,d,g,...r]),{droppableRects:b,measureDroppableContainers:g,measuringScheduled:s!=null};function v(){switch(c){case sp.Always:return!1;case sp.BeforeDragging:return n;default:return!n}}}function aT(t,e){return Dp(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function tSe(t,e){return aT(t,e)}function nSe(t){let{callback:e,disabled:n}=t;const r=Rb(e),i=X.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return X.useEffect(()=>()=>i?.disconnect(),[i]),i}function Ib(t){let{callback:e,disabled:n}=t;const r=Rb(e),i=X.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return X.useEffect(()=>()=>i?.disconnect(),[i]),i}function rSe(t){return new rT(Sh(t),t)}function FB(t,e,n){e===void 0&&(e=rSe);const[r,i]=X.useState(null);function s(){i(l=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}const f=e(t);return JSON.stringify(l)===JSON.stringify(f)?l:f})}const o=nSe({callback(l){if(t)for(const c of l){const{type:f,target:d}=c;if(f==="childList"&&d instanceof HTMLElement&&d.contains(t)){s();break}}}}),a=Ib({callback:s});return No(()=>{s(),t?(a?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),o?.disconnect())},[t]),r}function iSe(t){const e=aT(t);return _H(t,e)}const PB=[];function sSe(t){const e=X.useRef(t),n=Dp(r=>t?r&&r!==PB&&t&&e.current&&t.parentNode===e.current.parentNode?r:Lb(t):PB,[t]);return X.useEffect(()=>{e.current=t},[t]),n}function oSe(t){const[e,n]=X.useState(null),r=X.useRef(t),i=X.useCallback(s=>{const o=L2(s.target);o&&n(a=>a?(a.set(o,UC(o)),new Map(a)):null)},[]);return X.useEffect(()=>{const s=r.current;if(t!==s){o(s);const a=t.map(l=>{const c=L2(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,UC(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(s)};function o(a){a.forEach(l=>{const c=L2(l);c?.removeEventListener("scroll",i)})}},[i,t]),X.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>Gf(s,o),Do):LH(t):Do,[t,e])}function zB(t,e){e===void 0&&(e=[]);const n=X.useRef(null);return X.useEffect(()=>{n.current=null},e),X.useEffect(()=>{const r=t!==Do;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?ip(t,n.current):Do}function aSe(t){X.useEffect(()=>{if(!Mb)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function lSe(t,e){return X.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,e)},n},{}),[t,e])}function PH(t){return X.useMemo(()=>t?R2e(t):null,[t])}const HB=[];function cSe(t,e){e===void 0&&(e=Sh);const[n]=t,r=PH(n?qi(n):null),[i,s]=X.useState(HB);function o(){s(()=>t.length?t.map(l=>RH(l)?r:new rT(e(l),l)):HB)}const a=Ib({callback:o});return No(()=>{a?.disconnect(),o(),t.forEach(l=>a?.observe(l))},[t]),i}function zH(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Np(e)?e:t}function uSe(t){let{measure:e}=t;const[n,r]=X.useState(null),i=X.useCallback(c=>{for(const{target:f}of c)if(Np(f)){r(d=>{const p=e(f);return d?{...d,width:p.width,height:p.height}:p});break}},[e]),s=Ib({callback:i}),o=X.useCallback(c=>{const f=zH(c);s?.disconnect(),f&&s?.observe(f),r(f?e(f):null)},[e,s]),[a,l]=Ly(o);return X.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const fSe=[{sensor:oT,options:{}},{sensor:iT,options:{}}],hSe={current:{}},n1={draggable:{measure:MB},droppable:{measure:MB,strategy:sp.WhileDragging,frequency:$C.Optimized},dragOverlay:{measure:Sh}};class x0 extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const dSe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new x0,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Py},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:n1,measureDroppableContainers:Py,windowRect:null,measuringScheduled:!1},HH={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Py,draggableNodes:new Map,over:null,measureDroppableContainers:Py},Mp=X.createContext(HH),UH=X.createContext(dSe);function pSe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new x0}}}function mSe(t,e){switch(e.type){case zr.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case zr.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case zr.DragEnd:case zr.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case zr.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new x0(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case zr.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new x0(t.droppable.containers);return o.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case zr.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new x0(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function gSe(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=X.useContext(Mp),s=Iy(r),o=Iy(n?.id);return X.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!Bb(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const f of[l.current,c.current]){if(!f)continue;const d=f2e(f);if(d){d.focus();break}}})}},[r,e,i,o,s]),null}function jH(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function xSe(t){return X.useMemo(()=>({draggable:{...n1.draggable,...t?.draggable},droppable:{...n1.droppable,...t?.droppable},dragOverlay:{...n1.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function ySe(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=X.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;No(()=>{if(!o&&!a||!e){s.current=!1;return}if(s.current||!r)return;const c=e?.node.current;if(!c||c.isConnected===!1)return;const f=n(c),d=_H(f,r);if(o||(d.x=0),a||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const p=DH(c);p&&p.scrollBy({top:d.y,left:d.x})}},[e,o,a,r,n])}const Fb=X.createContext({...Do,scaleX:1,scaleY:1});var Ml;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ml||(Ml={}));const bSe=X.memo(function(e){var n,r,i,s;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:f=fSe,collisionDetection:d=T2e,measuring:p,modifiers:g,...x}=e;const b=X.useReducer(mSe,void 0,pSe),[v,w]=b,[k,A]=x2e(),[T,O]=X.useState(Ml.Uninitialized),_=T===Ml.Initialized,{draggable:{active:N,nodes:F,translate:L},droppable:{containers:R}}=v,P=N!=null?F.get(N):null,z=X.useRef({initial:null,translated:null}),W=X.useMemo(()=>{var pn;return N!=null?{id:N,data:(pn=P?.data)!=null?pn:hSe,rect:z}:null},[N,P]),ee=X.useRef(null),[te,J]=X.useState(null),[ae,ce]=X.useState(null),ve=rp(x,Object.values(x)),q=Op("DndDescribedBy",o),U=X.useMemo(()=>R.getEnabled(),[R]),M=xSe(p),{droppableRects:D,measureDroppableContainers:I,measuringScheduled:V}=eSe(U,{dragging:_,dependencies:[L.x,L.y],config:M.droppable}),re=J2e(F,N),he=X.useMemo(()=>ae?Fy(ae):null,[ae]),oe=Wi(),Ee=tSe(re,M.draggable.measure);ySe({activeNode:N!=null?F.get(N):null,config:oe.layoutShiftCompensation,initialRect:Ee,measure:M.draggable.measure});const de=FB(re,M.draggable.measure,Ee),ct=FB(re?re.parentElement:null),ot=X.useRef({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:D,draggableNodes:F,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),_t=R.getNodeFor((n=ot.current.over)==null?void 0:n.id),et=uSe({measure:M.dragOverlay.measure}),Ve=(r=et.nodeRef.current)!=null?r:re,Ie=_?(i=et.rect)!=null?i:de:null,Be=!!(et.nodeRef.current&&et.rect),it=iSe(Be?null:de),Et=PH(Ve?qi(Ve):null),Mt=sSe(_?_t??re:null),rn=cSe(Mt),on=jH(g,{transform:{x:L.x-it.x,y:L.y-it.y,scaleX:1,scaleY:1},activatorEvent:ae,active:W,activeNodeRect:de,containerNodeRect:ct,draggingNodeRect:Ie,over:ot.current.over,overlayNodeRect:et.rect,scrollableAncestors:Mt,scrollableAncestorRects:rn,windowRect:Et}),Qn=he?Gf(he,L):null,Nt=oSe(Mt),Ur=zB(Nt),Ce=zB(Nt,[de]),ze=Gf(on,Ur),at=Ie?D2e(Ie,on):null,St=W&&at?d({active:W,collisionRect:at,droppableRects:D,droppableContainers:U,pointerCoordinates:Qn}):null,Rt=TH(St,"id"),[Xt,Jn]=X.useState(null),$n=Be?on:Gf(on,Ce),hn=_2e($n,(s=Xt?.rect)!=null?s:null,de),dn=X.useRef(null),jt=X.useCallback((pn,Vt)=>{let{sensor:ie,options:ne}=Vt;if(ee.current==null)return;const fe=F.get(ee.current);if(!fe)return;const Ae=pn.nativeEvent,Je=new ie({active:ee.current,activeNode:fe,event:Ae,options:ne,context:ot,onAbort(Oe){if(!F.get(Oe))return;const{onDragAbort:$e}=ve.current,vt={id:Oe};$e?.(vt),k({type:"onDragAbort",event:vt})},onPending(Oe,Le,$e,vt){if(!F.get(Oe))return;const{onDragPending:Vn}=ve.current,H={id:Oe,constraint:Le,initialCoordinates:$e,offset:vt};Vn?.(H),k({type:"onDragPending",event:H})},onStart(Oe){const Le=ee.current;if(Le==null)return;const $e=F.get(Le);if(!$e)return;const{onDragStart:vt}=ve.current,Lt={activatorEvent:Ae,active:{id:Le,data:$e.data,rect:z}};$c.unstable_batchedUpdates(()=>{vt?.(Lt),O(Ml.Initializing),w({type:zr.DragStart,initialCoordinates:Oe,active:Le}),k({type:"onDragStart",event:Lt}),J(dn.current),ce(Ae)})},onMove(Oe){w({type:zr.DragMove,coordinates:Oe})},onEnd:Ke(zr.DragEnd),onCancel:Ke(zr.DragCancel)});dn.current=Je;function Ke(Oe){return async function(){const{active:$e,collisions:vt,over:Lt,scrollAdjustedTranslate:Vn}=ot.current;let H=null;if($e&&Vn){const{cancelDrop:Y}=ve.current;H={activatorEvent:Ae,active:$e,collisions:vt,delta:Vn,over:Lt},Oe===zr.DragEnd&&typeof Y=="function"&&await Promise.resolve(Y(H))&&(Oe=zr.DragCancel)}ee.current=null,$c.unstable_batchedUpdates(()=>{w({type:Oe}),O(Ml.Uninitialized),Jn(null),J(null),ce(null),dn.current=null;const Y=Oe===zr.DragEnd?"onDragEnd":"onDragCancel";if(H){const G=ve.current[Y];G?.(H),k({type:Y,event:H})}})}}},[F]),Lr=X.useCallback((pn,Vt)=>(ie,ne)=>{const fe=ie.nativeEvent,Ae=F.get(ne);if(ee.current!==null||!Ae||fe.dndKit||fe.defaultPrevented)return;const Je={active:Ae};pn(ie,Vt.options,Je)===!0&&(fe.dndKit={capturedBy:Vt.sensor},ee.current=ne,jt(ie,Vt))},[F,jt]),Ln=Z2e(f,Lr);aSe(f),No(()=>{de&&T===Ml.Initializing&&O(Ml.Initialized)},[de,T]),X.useEffect(()=>{const{onDragMove:pn}=ve.current,{active:Vt,activatorEvent:ie,collisions:ne,over:fe}=ot.current;if(!Vt||!ie)return;const Ae={active:Vt,activatorEvent:ie,collisions:ne,delta:{x:ze.x,y:ze.y},over:fe};$c.unstable_batchedUpdates(()=>{pn?.(Ae),k({type:"onDragMove",event:Ae})})},[ze.x,ze.y]),X.useEffect(()=>{const{active:pn,activatorEvent:Vt,collisions:ie,droppableContainers:ne,scrollAdjustedTranslate:fe}=ot.current;if(!pn||ee.current==null||!Vt||!fe)return;const{onDragOver:Ae}=ve.current,Je=ne.get(Rt),Ke=Je&&Je.rect.current?{id:Je.id,rect:Je.rect.current,data:Je.data,disabled:Je.disabled}:null,Oe={active:pn,activatorEvent:Vt,collisions:ie,delta:{x:fe.x,y:fe.y},over:Ke};$c.unstable_batchedUpdates(()=>{Jn(Ke),Ae?.(Oe),k({type:"onDragOver",event:Oe})})},[Rt]),No(()=>{ot.current={activatorEvent:ae,active:W,activeNode:re,collisionRect:at,collisions:St,droppableRects:D,draggableNodes:F,draggingNode:Ve,draggingNodeRect:Ie,droppableContainers:R,over:Xt,scrollableAncestors:Mt,scrollAdjustedTranslate:ze},z.current={initial:Ie,translated:at}},[W,re,St,at,F,Ve,Ie,D,R,Xt,Mt,ze]),X2e({...oe,delta:L,draggingRect:at,pointerCoordinates:Qn,scrollableAncestors:Mt,scrollableAncestorRects:rn});const ps=X.useMemo(()=>({active:W,activeNode:re,activeNodeRect:de,activatorEvent:ae,collisions:St,containerNodeRect:ct,dragOverlay:et,draggableNodes:F,droppableContainers:R,droppableRects:D,over:Xt,measureDroppableContainers:I,scrollableAncestors:Mt,scrollableAncestorRects:rn,measuringConfiguration:M,measuringScheduled:V,windowRect:Et}),[W,re,de,ae,St,ct,et,F,R,D,Xt,I,Mt,rn,M,V,Et]),ni=X.useMemo(()=>({activatorEvent:ae,activators:Ln,active:W,activeNodeRect:de,ariaDescribedById:{draggable:q},dispatch:w,draggableNodes:F,over:Xt,measureDroppableContainers:I}),[ae,Ln,W,de,w,q,F,Xt,I]);return un.createElement(CH.Provider,{value:A},un.createElement(Mp.Provider,{value:ni},un.createElement(UH.Provider,{value:ps},un.createElement(Fb.Provider,{value:hn},c)),un.createElement(gSe,{disabled:a?.restoreFocus===!1})),un.createElement(v2e,{...a,hiddenTextDescribedById:q}));function Wi(){const pn=te?.autoScrollEnabled===!1,Vt=typeof l=="object"?l.enabled===!1:l===!1,ie=_&&!pn&&!Vt;return typeof l=="object"?{...l,enabled:ie}:{enabled:ie}}}),vSe=X.createContext(null),UB="button",wSe="Draggable";function ESe(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=Op(wSe),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:f,draggableNodes:d,over:p}=X.useContext(Mp),{role:g=UB,roleDescription:x="draggable",tabIndex:b=0}=i??{},v=l?.id===e,w=X.useContext(v?Fb:vSe),[k,A]=Ly(),[T,O]=Ly(),_=lSe(o,e),N=rp(n);No(()=>(d.set(e,{id:e,key:s,node:k,activatorNode:T,data:N}),()=>{const L=d.get(e);L&&L.key===s&&d.delete(e)}),[d,e]);const F=X.useMemo(()=>({role:g,tabIndex:b,"aria-disabled":r,"aria-pressed":v&&g===UB?!0:void 0,"aria-roledescription":x,"aria-describedby":f.draggable}),[r,g,b,v,x,f.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:F,isDragging:v,listeners:r?void 0:_,node:k,over:p,setNodeRef:A,setActivatorNodeRef:O,transform:w}}function $H(){return X.useContext(UH)}const SSe="Droppable",CSe={timeout:25};function VH(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=Op(SSe),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=X.useContext(Mp),f=X.useRef({disabled:n}),d=X.useRef(!1),p=X.useRef(null),g=X.useRef(null),{disabled:x,updateMeasurementsFor:b,timeout:v}={...CSe,...i},w=rp(b??r),k=X.useCallback(()=>{if(!d.current){d.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{c(Array.isArray(w.current)?w.current:[w.current]),g.current=null},v)},[v]),A=Ib({callback:k,disabled:x||!o}),T=X.useCallback((F,L)=>{A&&(L&&(A.unobserve(L),d.current=!1),F&&A.observe(F))},[A]),[O,_]=Ly(T),N=rp(e);return X.useEffect(()=>{!A||!O.current||(A.disconnect(),d.current=!1,A.observe(O.current))},[O,A]),X.useEffect(()=>(a({type:zr.RegisterDroppable,element:{id:r,key:s,disabled:n,node:O,rect:p,data:N}}),()=>a({type:zr.UnregisterDroppable,key:s,id:r})),[r]),X.useEffect(()=>{n!==f.current.disabled&&(a({type:zr.SetDroppableDisabled,id:r,key:s,disabled:n}),f.current.disabled=n)},[r,s,n,a]),{active:o,rect:p,isOver:l?.id===r,node:O,over:l,setNodeRef:_}}function kSe(t){let{animation:e,children:n}=t;const[r,i]=X.useState(null),[s,o]=X.useState(null),a=Iy(n);return!n&&!r&&a&&i(a),No(()=>{if(!s)return;const l=r?.key,c=r?.props.id;if(l==null||c==null){i(null);return}Promise.resolve(e(c,s)).then(()=>{i(null)})},[e,r,s]),un.createElement(un.Fragment,null,n,r?X.cloneElement(r,{ref:o}):null)}const ASe={x:0,y:0,scaleX:1,scaleY:1};function TSe(t){let{children:e}=t;return un.createElement(Mp.Provider,{value:HH},un.createElement(Fb.Provider,{value:ASe},e))}const _Se={position:"fixed",touchAction:"none"},NSe=t=>Bb(t)?"transform 250ms ease":void 0,DSe=X.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:s,className:o,rect:a,style:l,transform:c,transition:f=NSe}=t;if(!a)return null;const d=i?c:{...c,scaleX:1,scaleY:1},p={..._Se,width:a.width,height:a.height,top:a.top,left:a.left,transform:sc.Transform.toString(d),transformOrigin:i&&r?E2e(r,a):void 0,transition:typeof f=="function"?f(r):f,...l};return un.createElement(n,{className:o,style:p,ref:e},s)}),OSe=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:s,className:o}=t;if(s!=null&&s.active)for(const[a,l]of Object.entries(s.active))l!==void 0&&(i[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,l));if(s!=null&&s.dragOverlay)for(const[a,l]of Object.entries(s.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[l,c]of Object.entries(i))n.node.style.setProperty(l,c);o!=null&&o.active&&n.node.classList.remove(o.active)}},MSe=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:sc.Transform.toString(e)},{transform:sc.Transform.toString(n)}]},RSe={duration:250,easing:"ease",keyframes:MSe,sideEffects:OSe({styles:{active:{opacity:"0"}}})};function BSe(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return Rb((s,o)=>{if(e===null)return;const a=n.get(s);if(!a)return;const l=a.node.current;if(!l)return;const c=zH(o);if(!c)return;const{transform:f}=qi(o).getComputedStyle(o),d=NH(f);if(!d)return;const p=typeof e=="function"?e:LSe(e);return IH(l,i.draggable.measure),p({active:{id:s,data:a.data,node:l,rect:i.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:o,rect:i.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:i,transform:d})})}function LSe(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...RSe,...t};return s=>{let{active:o,dragOverlay:a,transform:l,...c}=s;if(!e)return;const f={x:a.rect.left-o.rect.left,y:a.rect.top-o.rect.top},d={scaleX:l.scaleX!==1?o.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?o.rect.height*l.scaleY/a.rect.height:1},p={x:l.x-f.x,y:l.y-f.y,...d},g=i({...c,active:o,dragOverlay:a,transform:{initial:l,final:p}}),[x]=g,b=g[g.length-1];if(JSON.stringify(x)===JSON.stringify(b))return;const v=r?.({active:o,dragOverlay:a,...c}),w=a.node.animate(g,{duration:e,easing:n,fill:"forwards"});return new Promise(k=>{w.onfinish=()=>{v?.(),k()}})}}let jB=0;function ISe(t){return X.useMemo(()=>{if(t!=null)return jB++,jB},[t])}const FSe=un.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:s,modifiers:o,wrapperElement:a="div",className:l,zIndex:c=999}=t;const{activatorEvent:f,active:d,activeNodeRect:p,containerNodeRect:g,draggableNodes:x,droppableContainers:b,dragOverlay:v,over:w,measuringConfiguration:k,scrollableAncestors:A,scrollableAncestorRects:T,windowRect:O}=$H(),_=X.useContext(Fb),N=ISe(d?.id),F=jH(o,{activatorEvent:f,active:d,activeNodeRect:p,containerNodeRect:g,draggingNodeRect:v.rect,over:w,overlayNodeRect:v.rect,scrollableAncestors:A,scrollableAncestorRects:T,transform:_,windowRect:O}),L=aT(p),R=BSe({config:r,draggableNodes:x,droppableContainers:b,measuringConfiguration:k}),P=L?v.setRef:void 0;return un.createElement(TSe,null,un.createElement(kSe,{animation:R},d&&N?un.createElement(DSe,{key:N,id:d.id,ref:P,as:a,activatorEvent:f,adjustScale:e,className:l,transition:s,rect:L,style:{zIndex:c,...i},transform:F},n):null))});function lT(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function PSe(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function Yg(t){return t!==null&&t>=0}function zSe(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function HSe(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const qH=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=lT(e,r,n),o=e[i],a=s[i];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},Qg={scaleX:1,scaleY:1},USe=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=t;const a=(e=s[n])!=null?e:r;if(!a)return null;if(i===n){const c=s[o];return c?{x:0,y:n<o?c.top+c.height-(a.top+a.height):c.top-a.top,...Qg}:null}const l=jSe(s,i,n);return i>n&&i<=o?{x:0,y:-a.height-l,...Qg}:i<n&&i>=o?{x:0,y:a.height+l,...Qg}:{x:0,y:0,...Qg}};function jSe(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const WH="Sortable",GH=un.createContext({activeIndex:-1,containerId:WH,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:qH,disabled:{draggable:!1,droppable:!1}});function $Se(t){let{children:e,id:n,items:r,strategy:i=qH,disabled:s=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:f}=$H(),d=Op(WH,n),p=a.rect!==null,g=X.useMemo(()=>r.map(_=>typeof _=="object"&&"id"in _?_.id:_),[r]),x=o!=null,b=o?g.indexOf(o.id):-1,v=c?g.indexOf(c.id):-1,w=X.useRef(g),k=!zSe(g,w.current),A=v!==-1&&b===-1||k,T=HSe(s);No(()=>{k&&x&&f(g)},[k,g,x,f]),X.useEffect(()=>{w.current=g},[g]);const O=X.useMemo(()=>({activeIndex:b,containerId:d,disabled:T,disableTransforms:A,items:g,overIndex:v,useDragOverlay:p,sortedRects:PSe(g,l),strategy:i}),[b,d,T.draggable,T.droppable,A,g,v,l,p,i]);return un.createElement(GH.Provider,{value:O},e)}const VSe=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return lT(n,r,i).indexOf(e)},qSe=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=t;return!c||!r||a!==s&&i===o?!1:n?!0:o!==i&&e===l},WSe={duration:200,easing:"ease"},KH="transform",GSe=sc.Transition.toString({property:KH,duration:0,easing:"linear"}),KSe={roleDescription:"sortable"};function XSe(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,o]=X.useState(null),a=X.useRef(n);return No(()=>{if(!e&&n!==a.current&&r.current){const l=i.current;if(l){const c=Sh(r.current,{ignoreTransform:!0}),f={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(f.x||f.y)&&o(f)}}n!==a.current&&(a.current=n)},[e,n,r,i]),X.useEffect(()=>{s&&o(null)},[s]),s}function YSe(t){let{animateLayoutChanges:e=qSe,attributes:n,disabled:r,data:i,getNewIndex:s=VSe,id:o,strategy:a,resizeObserverConfig:l,transition:c=WSe}=t;const{items:f,containerId:d,activeIndex:p,disabled:g,disableTransforms:x,sortedRects:b,overIndex:v,useDragOverlay:w,strategy:k}=X.useContext(GH),A=QSe(r,g),T=f.indexOf(o),O=X.useMemo(()=>({sortable:{containerId:d,index:T,items:f},...i}),[d,i,T,f]),_=X.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:N,node:F,isOver:L,setNodeRef:R}=VH({id:o,data:O,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:_,...l}}),{active:P,activatorEvent:z,activeNodeRect:W,attributes:ee,setNodeRef:te,listeners:J,isDragging:ae,over:ce,setActivatorNodeRef:ve,transform:q}=ESe({id:o,data:O,attributes:{...KSe,...n},disabled:A.draggable}),U=a2e(R,te),M=!!P,D=M&&!x&&Yg(p)&&Yg(v),I=!w&&ae,V=I&&D?q:null,he=D?V??(a??k)({rects:b,activeNodeRect:W,activeIndex:p,overIndex:v,index:T}):null,oe=Yg(p)&&Yg(v)?s({id:o,items:f,activeIndex:p,overIndex:v}):T,Ee=P?.id,de=X.useRef({activeId:Ee,items:f,newIndex:oe,containerId:d}),ct=f!==de.current.items,ot=e({active:P,containerId:d,isDragging:ae,isSorting:M,id:o,index:T,items:f,newIndex:de.current.newIndex,previousItems:de.current.items,previousContainerId:de.current.containerId,transition:c,wasDragging:de.current.activeId!=null}),_t=XSe({disabled:!ot,index:T,node:F,rect:N});return X.useEffect(()=>{M&&de.current.newIndex!==oe&&(de.current.newIndex=oe),d!==de.current.containerId&&(de.current.containerId=d),f!==de.current.items&&(de.current.items=f)},[M,oe,d,f]),X.useEffect(()=>{if(Ee===de.current.activeId)return;if(Ee!=null&&de.current.activeId==null){de.current.activeId=Ee;return}const Ve=setTimeout(()=>{de.current.activeId=Ee},50);return()=>clearTimeout(Ve)},[Ee]),{active:P,activeIndex:p,attributes:ee,data:O,rect:N,index:T,newIndex:oe,items:f,isOver:L,isSorting:M,isDragging:ae,listeners:J,node:F,overIndex:v,over:ce,setNodeRef:U,setActivatorNodeRef:ve,setDroppableNodeRef:R,setDraggableNodeRef:te,transform:_t??he,transition:et()};function et(){if(_t||ct&&de.current.newIndex===T)return GSe;if(!(I&&!Bb(z)||!c)&&(M||ot))return sc.Transition.toString({...c,property:KH})}}function QSe(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function Hy(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const JSe=[en.Down,en.Right,en.Up,en.Left],ZSe=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:o,scrollableAncestors:a}}=e;if(JSe.includes(t.code)){if(t.preventDefault(),!n||!r)return;const l=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const p=i.get(d.id);if(p)switch(t.code){case en.Down:r.top<p.top&&l.push(d);break;case en.Up:r.top>p.top&&l.push(d);break;case en.Left:r.left>p.left&&l.push(d);break;case en.Right:r.left<p.left&&l.push(d);break}});const c=k2e({collisionRect:r,droppableRects:i,droppableContainers:l});let f=TH(c,"id");if(f===o?.id&&c.length>1&&(f=c[1].id),f!=null){const d=s.get(n.id),p=s.get(f),g=p?i.get(p.id):null,x=p?.node.current;if(x&&g&&d&&p){const v=Lb(x).some((_,N)=>a[N]!==_),w=XH(d,p),k=eCe(d,p),A=v||!w?{x:0,y:0}:{x:k?r.width-g.width:0,y:k?r.height-g.height:0},T={x:g.left,y:g.top};return A.x&&A.y?T:ip(T,A)}}}};function XH(t,e){return!Hy(t)||!Hy(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function eCe(t,e){return!Hy(t)||!Hy(e)||!XH(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const Hc={PENDING:{id:"PENDING",title:"Pendente",color:"bg-gray-50",headerColor:"bg-gray-100",borderColor:"border-gray-200",textColor:"text-gray-800"},IN_PROGRESS:{id:"IN_PROGRESS",title:"Em Andamento",color:"bg-blue-50",headerColor:"bg-blue-100",borderColor:"border-blue-200",textColor:"text-blue-800"},OVERDUE:{id:"OVERDUE",title:"Em Atraso",color:"bg-red-50",headerColor:"bg-red-100",borderColor:"border-red-200",textColor:"text-red-800"},COMPLETED:{id:"COMPLETED",title:"Concludo",color:"bg-green-50",headerColor:"bg-green-100",borderColor:"border-green-200",textColor:"text-green-800"}};function tCe({reminder:t,onClick:e,onDelete:n,onEdit:r,onMove:i}){const{attributes:s,listeners:o,setNodeRef:a,transform:l,transition:c,isDragging:f}=YSe({id:t.id,data:{...t}}),d={transform:sc.Transform.toString(l),transition:c,opacity:f?.5:1},p=g=>{const x=Hc[g]||Hc.PENDING;return C.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${x.headerColor} ${x.textColor}`,children:x.title})};return C.jsxs("div",{ref:a,style:d,...s,...o,className:"bg-white p-3 rounded-lg shadow-sm border border-gray-200 mb-3 cursor-grab hover:shadow-md transition-all group relative",onClick:g=>{g.target.closest("button")||e(t)},children:[C.jsxs("div",{className:"flex justify-between items-start mb-2",children:[C.jsx("h4",{className:"font-bold text-gray-800 text-sm line-clamp-2",children:t.title}),p(t.status)]}),t.startDate&&C.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[" ",new Date(t.startDate).toLocaleDateString()]}),t.endDate&&C.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[" ",new Date(t.endDate).toLocaleDateString()]}),t.attachments&&t.attachments.length>0&&C.jsx("div",{className:"flex items-center space-x-1 mb-2",children:C.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded flex items-center",children:[" ",t.attachments.length," anexo(s)"]})}),t.image&&(!t.attachments||t.attachments.length===0)&&C.jsx("div",{className:"h-24 w-full rounded bg-gray-100 mb-2 overflow-hidden",children:C.jsx("img",{src:t.image,alt:"Cover",className:"w-full h-full object-cover"})}),C.jsx("p",{className:"text-xs text-gray-600 line-clamp-3 mb-3",children:t.description}),C.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 opacity-0 group-hover:opacity-100 transition-opacity",children:[C.jsxs("div",{className:"flex space-x-1",children:[t.status==="PENDING"&&C.jsx("button",{onClick:()=>i(t.id,"IN_PROGRESS"),title:"Iniciar",className:"p-1 hover:bg-orange-100 rounded text-orange-600",children:""}),t.status!=="COMPLETED"&&C.jsx("button",{onClick:()=>i(t.id,"COMPLETED"),title:"Concluir",className:"p-1 hover:bg-green-100 rounded text-green-600",children:""})]}),C.jsxs("div",{className:"flex space-x-1",children:[C.jsx("button",{onClick:()=>r(t),title:"Editar",className:"p-1 hover:bg-blue-100 rounded text-blue-600",children:""}),C.jsx("button",{onClick:()=>n(t.id),title:"Excluir",className:"p-1 hover:bg-red-100 rounded text-red-600",children:""})]})]})]})}function nCe({id:t,title:e,reminders:n,color:r,headerColor:i,borderColor:s,textColor:o,onClickCard:a,onDelete:l,onEdit:c,onMove:f}){const{setNodeRef:d}=VH({id:t});return C.jsxs("div",{className:`flex flex-col h-full rounded-xl ${r} border ${s} min-w-[280px] w-full md:w-1/4`,children:[C.jsxs("div",{className:`p-3 rounded-t-xl ${i} border-b ${s} flex justify-between items-center sticky top-0 z-10`,children:[C.jsx("h3",{className:`font-bold ${o}`,children:e}),C.jsx("span",{className:`bg-white/50 px-2 py-0.5 rounded-full text-xs font-bold ${o}`,children:n.length})]}),C.jsxs("div",{ref:d,className:"p-2 flex-1 overflow-y-auto",children:[C.jsx($Se,{items:n.map(p=>p.id),strategy:USe,children:n.map(p=>C.jsx(tCe,{reminder:p,onClick:a,onDelete:l,onEdit:c,onMove:f},p.id))}),n.length===0&&C.jsx("div",{className:"h-20 flex items-center justify-center text-gray-400 text-sm border-2 border-dashed border-gray-200 rounded-lg",children:"Arraste aqui"})]})]})}function rCe({isVisible:t}){if(!t)return null;const[e,n]=X.useState([]),[r,i]=X.useState(!1),[s,o]=X.useState(null),[a,l]=X.useState(null),[c,f]=X.useState({title:"",startDate:"",endDate:"",description:"",image:null,attachments:[],status:"PENDING"}),[d,p]=X.useState(null),[g,x]=X.useState(0),[b,v]=X.useState(!1),[w,k]=X.useState("carousel"),A=w2e(NB(oT,{activationConstraint:{distance:5}}),NB(iT,{coordinateGetter:ZSe}));X.useEffect(()=>{const M=localStorage.getItem("hap_reminders");if(M)try{let D=JSON.parse(M);D=D.map(I=>I.status?I:{...I,status:I.completed?"COMPLETED":"PENDING"}),n(D)}catch(D){console.error("Failed to parse reminders",D)}},[]);const T=M=>{n(M),localStorage.setItem("hap_reminders",JSON.stringify(M))},O=M=>{p(M.active.id)},_=M=>{const{active:D,over:I}=M;if(p(null),!I)return;const V=D.id,re=I.id;let he=null;if(Hc[re])he=re;else{const oe=e.find(Ee=>Ee.id===re);oe&&(he=oe.status)}if(he){n(Ee=>{const de=Ee.findIndex(ot=>ot.id===V),ct=[...Ee];return ct[de]={...ct[de],status:he},lT(ct,de,de)});const oe=e.map(Ee=>Ee.id===V?{...Ee,status:he}:Ee);T(oe)}},N=(M,D)=>{const I=e.map(V=>V.id===M?{...V,status:D}:V);T(I)},F=M=>{if(window.confirm("Excluir este lembrete?")){const D=e.filter(I=>I.id!==M);T(D)}},L=()=>{window.confirm("ATENO: Isso apagar TODOS os lembretes. Deseja continuar?")&&T([])},R=M=>{if(M.preventDefault(),a){const D=e.map(I=>I.id===a?{...c,id:a,updatedAt:new Date().toISOString()}:I);T(D)}else{const D={...c,id:Date.now(),createdAt:new Date().toISOString()};T([...e,D])}P()},P=()=>{i(!1),l(null),f({title:"",startDate:"",endDate:"",description:"",image:null,attachments:[],status:"PENDING"})},z=M=>{l(M.id),f(M),i(!0)},W=()=>{l(null),f({title:"",startDate:"",endDate:"",description:"",image:null,attachments:[],status:"PENDING"}),i(!0)},ee=async M=>{const D=Array.from(M.target.files);if(D.length===0)return;const I=[...c.attachments||[]];for(const V of D){if(V.size>5*1024*1024){alert(`O arquivo ${V.name} excede o limite de 5MB.`);continue}const re=new FormData;re.append("file",V);try{const oe=await(await fetch("http://localhost:3001/api/upload/attachment",{method:"POST",body:re})).json();if(oe.error)throw new Error(oe.error);I.push({name:oe.filename,url:`http://localhost:3001${oe.url}`,type:V.type})}catch(he){console.error("Upload failed",he),alert(`Falha ao enviar ${V.name}: ${he.message}`)}}f(V=>({...V,attachments:I}))},te=M=>{const D=[...c.attachments];D.splice(M,1),f({...c,attachments:D})},J=M=>e.filter(D=>D.status===M),ce=s?(M=>{if(!M)return[];const D=(M.attachments||[]).filter(I=>I.type&&I.type.startsWith("image/"));return M.image&&(!D||D.length===0)?[{url:M.image,name:"Cover"}]:D})(s):[],ve=ce.length>0,q=M=>{M.stopPropagation(),x(D=>(D+1)%ce.length)},U=M=>{M.stopPropagation(),x(D=>(D-1+ce.length)%ce.length)};return C.jsxs("div",{className:"h-full flex flex-col bg-gray-50/50",children:[C.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-4",children:[C.jsxs("div",{children:[C.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[" Kanban Board",C.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"v2.2"})]}),C.jsx("p",{className:"text-sm text-gray-500",children:"Arraste os cards para mover entre as fases"})]}),C.jsxs("div",{className:"flex space-x-3",children:[C.jsx("button",{onClick:L,className:"text-red-500 hover:text-red-700 font-medium text-sm px-3 py-2",children:"Limpar Tudo"}),C.jsxs("button",{onClick:W,className:"bg-[#f37021] text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors font-bold shadow-md flex items-center",children:[C.jsx("span",{className:"mr-2",children:""})," Novo Card"]})]})]}),C.jsxs(bSe,{sensors:A,collisionDetection:C2e,onDragStart:O,onDragEnd:_,children:[C.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden pb-2",children:C.jsx("div",{className:"flex h-full space-x-4 min-w-max px-1",children:Object.values(Hc).map(M=>C.jsx(nCe,{...M,reminders:J(M.id),onClickCard:D=>{o(D),x(0),k("carousel")},onDelete:F,onEdit:z,onMove:N},M.id))})}),C.jsx(FSe,{children:d?C.jsx("div",{className:"bg-white p-3 rounded-lg shadow-xl border border-blue-300 opacity-90 w-[280px] rotate-2 cursor-grabbing",children:C.jsx("h4",{className:"font-bold text-gray-800",children:e.find(M=>M.id===d)?.title})}):null})]}),r&&C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:C.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg h-[90vh] flex flex-col overflow-hidden animate-fade-in",children:[C.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center flex-shrink-0",children:[C.jsx("h3",{className:"font-bold text-lg text-gray-800",children:a?"Editar Card":"Novo Card"}),C.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),C.jsx("input",{type:"text",required:!0,autoFocus:!0,value:c.title,onChange:M=>f({...c,title:M.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Ttulo da tarefa"})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Incio/Prazo"}),C.jsx("input",{type:"date",value:c.startDate,onChange:M=>f({...c,startDate:M.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Trmino"}),C.jsx("input",{type:"date",value:c.endDate||"",onChange:M=>f({...c,endDate:M.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),C.jsx("div",{className:"grid grid-cols-2 gap-4",children:C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Inicial"}),C.jsx("select",{value:c.status,onChange:M=>f({...c,status:M.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:Object.values(Hc).map(M=>C.jsx("option",{value:M.id,children:M.title},M.id))})]})}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),C.jsx("textarea",{rows:"4",value:c.description,onChange:M=>f({...c,description:M.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none resize-none",placeholder:"Detalhes..."})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anexar Arquivos (Mx 5MB)"}),C.jsx("input",{type:"file",multiple:!0,onChange:ee,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),c.attachments&&c.attachments.length>0&&C.jsx("div",{className:"mt-2 space-y-2",children:c.attachments.map((M,D)=>C.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded border",children:[C.jsxs("div",{className:"flex items-center space-x-2 truncate",children:[C.jsx("span",{className:"text-lg",children:M.type&&M.type.startsWith("image/")?"":""}),C.jsx("a",{href:M.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate max-w-[200px]",children:M.name})]}),C.jsx("button",{type:"button",onClick:()=>te(D),className:"text-red-500 hover:text-red-700",children:""})]},D))})]})]}),C.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-end space-x-3 flex-shrink-0",children:[C.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg font-medium",children:"Cancelar"}),C.jsx("button",{onClick:R,className:"px-6 py-2 bg-[#f37021] text-white rounded-lg hover:bg-orange-600 font-bold shadow-md transition-colors",children:"Salvar"})]})]})}),s&&C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",onClick:()=>o(null),children:C.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-scale-in",onClick:M=>M.stopPropagation(),children:[C.jsxs("div",{className:`px-6 py-4 border-b border-gray-200 flex justify-between items-center ${Hc[s.status]?.headerColor} flex-shrink-0`,children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("h3",{className:"font-bold text-xl text-gray-800",children:s.title}),C.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-bold bg-white/50 border border-black/10",children:Hc[s.status]?.title})]}),C.jsxs("div",{className:"flex items-center space-x-2",children:[ve&&C.jsx("button",{onClick:()=>k(w==="carousel"?"grid":"carousel"),className:"text-xs bg-white/50 hover:bg-white/80 px-2 py-1 rounded border border-black/10 transition-colors",title:"Mudar Visualizao",children:w==="carousel"?" Grade":" Slide"}),C.jsx("button",{onClick:()=>o(null),className:"text-gray-500 hover:text-gray-800 text-2xl",children:""})]})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.startDate&&C.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[C.jsx("span",{className:"mr-2",children:""}),C.jsxs("span",{className:"font-medium",children:["Data: ",new Date(s.startDate).toLocaleDateString()]})]}),s.endDate&&C.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[C.jsx("span",{className:"mr-2",children:""}),C.jsxs("span",{className:"font-medium",children:["Trmino: ",new Date(s.endDate).toLocaleDateString()]})]}),ve&&w==="carousel"&&C.jsxs("div",{className:"mb-6 relative group bg-black/5 rounded-lg overflow-hidden border border-gray-200",children:[C.jsx("div",{className:"h-[300px] flex items-center justify-center bg-gray-100 cursor-zoom-in",onClick:()=>v(!0),children:C.jsx("img",{src:ce[g].url,alt:"Slide",className:"max-h-full max-w-full object-contain"})}),ce.length>1&&C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:U,className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",children:""}),C.jsx("button",{onClick:q,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",children:""}),C.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full",children:[g+1," / ",ce.length]})]})]}),ve&&w==="grid"&&C.jsxs("div",{className:"mb-6 space-y-2",children:[C.jsx("h4",{className:"font-bold text-gray-700 text-sm",children:"Imagens:"}),C.jsx("div",{className:"grid grid-cols-2 gap-2",children:ce.map((M,D)=>C.jsxs("div",{className:"border rounded p-2 flex flex-col items-center bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>{x(D),v(!0)},children:[C.jsx("img",{src:M.url,alt:M.name,className:"h-32 object-contain mb-2"}),C.jsx("span",{className:"text-xs text-gray-500 truncate w-full text-center",children:M.name})]},D))})]}),s.attachments&&s.attachments.some(M=>!M.type?.startsWith("image/"))&&C.jsxs("div",{className:"mb-6 space-y-2",children:[C.jsx("h4",{className:"font-bold text-gray-700 text-sm",children:"Outros Anexos:"}),C.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.attachments.filter(M=>!M.type?.startsWith("image/")).map((M,D)=>C.jsxs("div",{className:"border rounded p-2 flex flex-col items-center bg-gray-50 hover:bg-gray-100 transition-colors",children:[C.jsx("div",{className:"h-12 flex items-center justify-center text-2xl",children:""}),C.jsx("a",{href:M.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline text-center w-full truncate",title:M.name,children:M.name})]},D))})]}),C.jsx("div",{className:"prose max-w-none text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg border border-gray-100",children:s.description||C.jsx("span",{className:"italic text-gray-400",children:"Sem descrio."})})]}),C.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between items-center flex-shrink-0",children:[C.jsxs("div",{className:"text-xs text-gray-400",children:["Criado em: ",new Date(s.createdAt||Date.now()).toLocaleString()]}),C.jsxs("div",{className:"flex space-x-3",children:[C.jsx("button",{onClick:()=>{z(s),o(null)},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 font-medium",children:"Editar"}),C.jsx("button",{onClick:()=>{F(s.id),o(null)},className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 font-medium",children:"Excluir"})]})]})]})}),b&&s&&ve&&C.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[60] flex items-center justify-center p-4 animate-fade-in",onClick:()=>v(!1),children:[C.jsx("button",{onClick:()=>v(!1),className:"absolute top-4 right-4 text-white text-4xl hover:text-gray-300",children:""}),C.jsx("img",{src:ce[g].url,alt:"Full Screen",className:"max-h-[90vh] max-w-[90vw] object-contain shadow-2xl",onClick:M=>M.stopPropagation()}),ce.length>1&&C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:U,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white text-6xl hover:text-gray-300",children:""}),C.jsx("button",{onClick:q,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white text-6xl hover:text-gray-300",children:""}),C.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white text-sm bg-black/50 px-3 py-1 rounded-full",children:[g+1," / ",ce.length]})]})]})]})}class $B extends un.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n),this.setState({errorInfo:n})}render(){return this.state.hasError?C.jsxs("div",{className:"p-8 bg-red-50 border border-red-200 rounded-xl m-4 text-center",children:[C.jsx("div",{className:"text-4xl mb-4",children:""}),C.jsx("h2",{className:"text-xl font-bold text-red-800 mb-2",children:"Ops, algo deu errado nesta seo."}),C.jsx("p",{className:"text-red-600 mb-4",children:"Ocorreu um erro inesperado ao exibir este componente."}),C.jsx("div",{className:"bg-white p-4 rounded border border-red-100 text-left overflow-auto max-h-60 text-xs font-mono text-red-500 mb-4",children:this.state.error&&this.state.error.toString()}),C.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition",children:"Recarregar Aplicao"})]}):this.props.children}}function iCe(){const[t,e]=X.useState(null),[n,r]=X.useState("query-builder"),[i,s]=X.useState(()=>localStorage.getItem("app_theme")||"default"),o=tE[i]||tE.default,a=_=>{s(_),localStorage.setItem("app_theme",_)},[l,c]=X.useState(()=>{const _=localStorage.getItem("hap_sql_tabs");if(_)try{return JSON.parse(_)}catch(N){console.error("Failed to parse saved tabs",N)}return[{id:1,title:"Query 1",sqlContent:"",results:null,error:null,loading:!1}]}),[f,d]=X.useState(()=>{const _=localStorage.getItem("hap_sql_active_tab");return _?Number(_):1}),[p,g]=X.useState(()=>{const _=localStorage.getItem("hap_saved_queries");if(_)try{return JSON.parse(_)}catch(N){console.error("Failed to parse saved queries",N)}return[]}),[x,b]=X.useState(!1),[v,w]=X.useState(!1);X.useEffect(()=>{document.title="Hap Query Report v1.15.17",window.electronAPI&&(window.electronAPI.onUpdateAvailable(()=>b(!0)),window.electronAPI.onUpdateDownloaded(()=>{w(!0),b(!1)}))},[]);const k=()=>{window.electronAPI&&window.electronAPI.restartApp()};X.useEffect(()=>{const _=l.map(N=>({...N,results:null,error:null,loading:!1}));localStorage.setItem("hap_sql_tabs",JSON.stringify(_))},[l]),X.useEffect(()=>{localStorage.setItem("hap_sql_active_tab",f)},[f]),X.useEffect(()=>{localStorage.setItem("hap_saved_queries",JSON.stringify(p))},[p]);const A=_=>{e(_)},T=()=>{e(null),r("query-builder")},O=({id:_,icon:N,label:F})=>{const L=n===_;return C.jsxs("button",{onClick:()=>{window.electronAPI?.resetFocus(),window.focus(),document.activeElement&&document.activeElement.blur(),r(_)},className:`
                    relative group px-4 py-2 text-sm font-medium rounded-md transition-all duration-300 ease-out flex items-center space-x-2
                    ${L?o.tabActive:o.tabInactive}
                    hover:-translate-y-0.5
                `,children:[C.jsx("span",{className:"text-lg",children:N}),C.jsx("span",{children:F}),L&&C.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[2px] bg-current rounded-full opacity-60"})]})};return t?C.jsx(Yy.Provider,{value:{theme:o,currentThemeName:i,changeTheme:a},children:C.jsxs("div",{className:`flex flex-col h-screen ${o.bg} font-sans overflow-hidden transition-colors duration-300`,children:[(x||v)&&C.jsxs("div",{className:"fixed top-20 right-4 z-50 bg-white border border-blue-200 shadow-lg rounded-lg p-4 flex items-center space-x-4 animate-fade-in-down",children:[C.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:C.jsx("span",{className:"text-xl",children:""})}),C.jsxs("div",{children:[C.jsx("h4",{className:"font-bold text-gray-800",children:"Nova verso disponvel!"}),C.jsx("p",{className:"text-sm text-gray-600",children:v?"Pronto para instalar.":"Baixando atualizao..."})]}),v&&C.jsx("button",{onClick:k,className:"bg-green-600 text-white px-3 py-1 rounded-md text-sm font-bold hover:bg-green-700 transition-colors",children:"Reiniciar"})]}),C.jsxs("header",{className:`${o.navbar} ${o.navbarText} h-16 shadow-md flex items-center justify-between px-6 z-20 border-b ${o.border}`,children:[C.jsxs("div",{className:"flex-1 flex justify-start space-x-2",children:[C.jsx(O,{id:"query-builder",icon:"",label:"Construtor AI"}),C.jsx(O,{id:"sql-runner",icon:"",label:"Editor SQL"}),C.jsx(O,{id:"csv-importer",icon:"",label:"Importar CSV"}),C.jsx(O,{id:"reminders",icon:"",label:"Lembretes"}),C.jsx(O,{id:"docs",icon:"",label:"Docs"})]}),C.jsxs("div",{className:"flex items-center space-x-4 min-w-[200px] justify-end",children:[C.jsx("div",{className:"relative group",children:C.jsx("select",{value:i,onChange:_=>a(_.target.value),className:`textxs py-1 px-2 rounded border outline-none cursor-pointer opacity-70 hover:opacity-100 transition-opacity ${o.input} ${o.border}`,title:"Mudar Tema",children:Object.entries(tE).map(([_,N])=>C.jsx("option",{value:_,children:N.name},_))})}),C.jsx("div",{className:"h-8 w-[1px] bg-current opacity-20 mx-2"}),C.jsxs("div",{className:"text-right hidden md:block",children:[C.jsx("p",{className:"text-sm font-bold leading-tight",children:t.user}),C.jsx("p",{className:"text-[10px] opacity-70 truncate max-w-[150px]",children:t.connectString})]}),C.jsx("button",{onClick:T,className:"p-2 rounded-full hover:bg-red-500 hover:text-white transition-all duration-300 group",title:"Desconectar",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})})})]})]}),C.jsx("main",{className:"flex-1 overflow-hidden relative",children:C.jsxs("div",{className:"absolute inset-0 overflow-auto p-0",children:[" ",C.jsxs("div",{className:"h-full flex flex-col relative w-full",children:[C.jsx("div",{className:`${n==="query-builder"?"block h-full":"hidden"} p-4 sm:p-6 max-w-7xl mx-auto w-full`,children:C.jsx($B,{children:C.jsx(Pie,{isVisible:n==="query-builder"})})}),C.jsx("div",{className:`${n==="sql-runner"?"block h-full":"hidden"} p-4 sm:p-6 max-w-7xl mx-auto w-full`,children:C.jsx(GP,{isVisible:n==="sql-runner",tabs:l,setTabs:c,activeTabId:f,setActiveTabId:d,savedQueries:p,setSavedQueries:g})}),C.jsx("div",{className:`${n==="csv-importer"?"block h-full":"hidden"} p-4 sm:p-6 max-w-7xl mx-auto w-full`,children:C.jsx(tde,{isVisible:n==="csv-importer",connectionName:t?.connectionName||t?.user||"Desconhecido"})}),C.jsx("div",{className:`${n==="reminders"?"block h-full":"hidden"} p-4 sm:p-6 max-w-7xl mx-auto w-full`,children:C.jsx(rCe,{isVisible:n==="reminders"})}),C.jsx("div",{className:n==="docs"?"block h-full":"hidden",children:C.jsx($B,{children:C.jsx(o2e,{})})})]})]})})]})}):C.jsx(SV,{onConnect:A})}console.log("Frontend starting...");a$.createRoot(document.getElementById("root")).render(C.jsx(X.StrictMode,{children:C.jsx(iCe,{})}));
