(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function _D(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var Mg={exports:{}},Xc={};var US;function DD(){if(US)return Xc;US=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:r,type:n,key:l,ref:i!==void 0?i:null,props:s}}return Xc.Fragment=e,Xc.jsx=t,Xc.jsxs=t,Xc}var VS;function kD(){return VS||(VS=1,Mg.exports=DD()),Mg.exports}var C=kD(),Lg={exports:{}},ht={};var qS;function OD(){if(qS)return ht;qS=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=g&&j[g]||j["@@iterator"],typeof j=="function"?j:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function T(j,D,M){this.props=j,this.context=D,this.refs=w,this.updater=M||b}T.prototype.isReactComponent={},T.prototype.setState=function(j,D){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,D,"setState")},T.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function A(){}A.prototype=T.prototype;function E(j,D,M){this.props=j,this.context=D,this.refs=w,this.updater=M||b}var _=E.prototype=new A;_.constructor=E,S(_,T.prototype),_.isPureReactComponent=!0;var B=Array.isArray;function F(){}var O={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function N(j,D,M){var R=M.ref;return{$$typeof:r,type:j,key:D,ref:R!==void 0?R:null,props:M}}function I(j,D){return N(j.type,D,j.props)}function P(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function q(j){var D={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(M){return D[M]})}var K=/\/+/g;function ie(j,D){return typeof j=="object"&&j!==null&&j.key!=null?q(""+j.key):D.toString(36)}function le(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(F,F):(j.status="pending",j.then(function(D){j.status==="pending"&&(j.status="fulfilled",j.value=D)},function(D){j.status==="pending"&&(j.status="rejected",j.reason=D)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Z(j,D,M,R,W){var ee=typeof j;(ee==="undefined"||ee==="boolean")&&(j=null);var ye=!1;if(j===null)ye=!0;else switch(ee){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(j.$$typeof){case r:case e:ye=!0;break;case d:return ye=j._init,Z(ye(j._payload),D,M,R,W)}}if(ye)return W=W(j),ye=R===""?"."+ie(j,0):R,B(W)?(M="",ye!=null&&(M=ye.replace(K,"$&/")+"/"),Z(W,D,M,"",function(be){return be})):W!=null&&(P(W)&&(W=I(W,M+(W.key==null||j&&j.key===W.key?"":(""+W.key).replace(K,"$&/")+"/")+ye)),D.push(W)),1;ye=0;var xe=R===""?".":R+":";if(B(j))for(var Te=0;Te<j.length;Te++)R=j[Te],ee=xe+ie(R,Te),ye+=Z(R,D,M,ee,W);else if(Te=x(j),typeof Te=="function")for(j=Te.call(j),Te=0;!(R=j.next()).done;)R=R.value,ee=xe+ie(R,Te++),ye+=Z(R,D,M,ee,W);else if(ee==="object"){if(typeof j.then=="function")return Z(le(j),D,M,R,W);throw D=String(j),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return ye}function ne(j,D,M){if(j==null)return j;var R=[],W=0;return Z(j,R,"","",function(ee){return D.call(M,ee,W++)}),R}function ve(j){if(j._status===-1){var D=j._result;D=D(),D.then(function(M){(j._status===0||j._status===-1)&&(j._status=1,j._result=M)},function(M){(j._status===0||j._status===-1)&&(j._status=2,j._result=M)}),j._status===-1&&(j._status=0,j._result=D)}if(j._status===1)return j._result.default;throw j._result}var Ee=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ne={map:ne,forEach:function(j,D,M){ne(j,function(){D.apply(this,arguments)},M)},count:function(j){var D=0;return ne(j,function(){D++}),D},toArray:function(j){return ne(j,function(D){return D})||[]},only:function(j){if(!P(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return ht.Activity=m,ht.Children=Ne,ht.Component=T,ht.Fragment=t,ht.Profiler=i,ht.PureComponent=E,ht.StrictMode=n,ht.Suspense=f,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ht.__COMPILER_RUNTIME={__proto__:null,c:function(j){return O.H.useMemoCache(j)}},ht.cache=function(j){return function(){return j.apply(null,arguments)}},ht.cacheSignal=function(){return null},ht.cloneElement=function(j,D,M){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var R=S({},j.props),W=j.key;if(D!=null)for(ee in D.key!==void 0&&(W=""+D.key),D)!H.call(D,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&D.ref===void 0||(R[ee]=D[ee]);var ee=arguments.length-2;if(ee===1)R.children=M;else if(1<ee){for(var ye=Array(ee),xe=0;xe<ee;xe++)ye[xe]=arguments[xe+2];R.children=ye}return N(j.type,W,R)},ht.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},ht.createElement=function(j,D,M){var R,W={},ee=null;if(D!=null)for(R in D.key!==void 0&&(ee=""+D.key),D)H.call(D,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(W[R]=D[R]);var ye=arguments.length-2;if(ye===1)W.children=M;else if(1<ye){for(var xe=Array(ye),Te=0;Te<ye;Te++)xe[Te]=arguments[Te+2];W.children=xe}if(j&&j.defaultProps)for(R in ye=j.defaultProps,ye)W[R]===void 0&&(W[R]=ye[R]);return N(j,ee,W)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(j){return{$$typeof:c,render:j}},ht.isValidElement=P,ht.lazy=function(j){return{$$typeof:d,_payload:{_status:-1,_result:j},_init:ve}},ht.memo=function(j,D){return{$$typeof:h,type:j,compare:D===void 0?null:D}},ht.startTransition=function(j){var D=O.T,M={};O.T=M;try{var R=j(),W=O.S;W!==null&&W(M,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(F,Ee)}catch(ee){Ee(ee)}finally{D!==null&&M.types!==null&&(D.types=M.types),O.T=D}},ht.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ht.use=function(j){return O.H.use(j)},ht.useActionState=function(j,D,M){return O.H.useActionState(j,D,M)},ht.useCallback=function(j,D){return O.H.useCallback(j,D)},ht.useContext=function(j){return O.H.useContext(j)},ht.useDebugValue=function(){},ht.useDeferredValue=function(j,D){return O.H.useDeferredValue(j,D)},ht.useEffect=function(j,D){return O.H.useEffect(j,D)},ht.useEffectEvent=function(j){return O.H.useEffectEvent(j)},ht.useId=function(){return O.H.useId()},ht.useImperativeHandle=function(j,D,M){return O.H.useImperativeHandle(j,D,M)},ht.useInsertionEffect=function(j,D){return O.H.useInsertionEffect(j,D)},ht.useLayoutEffect=function(j,D){return O.H.useLayoutEffect(j,D)},ht.useMemo=function(j,D){return O.H.useMemo(j,D)},ht.useOptimistic=function(j,D){return O.H.useOptimistic(j,D)},ht.useReducer=function(j,D,M){return O.H.useReducer(j,D,M)},ht.useRef=function(j){return O.H.useRef(j)},ht.useState=function(j){return O.H.useState(j)},ht.useSyncExternalStore=function(j,D,M){return O.H.useSyncExternalStore(j,D,M)},ht.useTransition=function(){return O.H.useTransition()},ht.version="19.2.0",ht}var WS;function q1(){return WS||(WS=1,Lg.exports=OD()),Lg.exports}var Q=q1();const gr=V1(Q);var Ig={exports:{}},Yc={},Pg={exports:{}},jg={};var GS;function BD(){return GS||(GS=1,(function(r){function e(Z,ne){var ve=Z.length;Z.push(ne);e:for(;0<ve;){var Ee=ve-1>>>1,Ne=Z[Ee];if(0<i(Ne,ne))Z[Ee]=ne,Z[ve]=Ne,ve=Ee;else break e}}function t(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var ne=Z[0],ve=Z.pop();if(ve!==ne){Z[0]=ve;e:for(var Ee=0,Ne=Z.length,j=Ne>>>1;Ee<j;){var D=2*(Ee+1)-1,M=Z[D],R=D+1,W=Z[R];if(0>i(M,ve))R<Ne&&0>i(W,M)?(Z[Ee]=W,Z[R]=ve,Ee=R):(Z[Ee]=M,Z[D]=ve,Ee=D);else if(R<Ne&&0>i(W,ve))Z[Ee]=W,Z[R]=ve,Ee=R;else break e}}return ne}function i(Z,ne){var ve=Z.sortIndex-ne.sortIndex;return ve!==0?ve:Z.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var f=[],h=[],d=1,m=null,g=3,x=!1,b=!1,S=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function _(Z){for(var ne=t(h);ne!==null;){if(ne.callback===null)n(h);else if(ne.startTime<=Z)n(h),ne.sortIndex=ne.expirationTime,e(f,ne);else break;ne=t(h)}}function B(Z){if(S=!1,_(Z),!b)if(t(f)!==null)b=!0,F||(F=!0,q());else{var ne=t(h);ne!==null&&le(B,ne.startTime-Z)}}var F=!1,O=-1,H=5,N=-1;function I(){return w?!0:!(r.unstable_now()-N<H)}function P(){if(w=!1,F){var Z=r.unstable_now();N=Z;var ne=!0;try{e:{b=!1,S&&(S=!1,A(O),O=-1),x=!0;var ve=g;try{t:{for(_(Z),m=t(f);m!==null&&!(m.expirationTime>Z&&I());){var Ee=m.callback;if(typeof Ee=="function"){m.callback=null,g=m.priorityLevel;var Ne=Ee(m.expirationTime<=Z);if(Z=r.unstable_now(),typeof Ne=="function"){m.callback=Ne,_(Z),ne=!0;break t}m===t(f)&&n(f),_(Z)}else n(f);m=t(f)}if(m!==null)ne=!0;else{var j=t(h);j!==null&&le(B,j.startTime-Z),ne=!1}}break e}finally{m=null,g=ve,x=!1}ne=void 0}}finally{ne?q():F=!1}}}var q;if(typeof E=="function")q=function(){E(P)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ie=K.port2;K.port1.onmessage=P,q=function(){ie.postMessage(null)}}else q=function(){T(P,0)};function le(Z,ne){O=T(function(){Z(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var ve=g;g=ne;try{return Z()}finally{g=ve}},r.unstable_requestPaint=function(){w=!0},r.unstable_runWithPriority=function(Z,ne){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ve=g;g=Z;try{return ne()}finally{g=ve}},r.unstable_scheduleCallback=function(Z,ne,ve){var Ee=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ee+ve:Ee):ve=Ee,Z){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ve+Ne,Z={id:d++,callback:ne,priorityLevel:Z,startTime:ve,expirationTime:Ne,sortIndex:-1},ve>Ee?(Z.sortIndex=ve,e(h,Z),t(f)===null&&Z===t(h)&&(S?(A(O),O=-1):S=!0,le(B,ve-Ee))):(Z.sortIndex=Ne,e(f,Z),b||x||(b=!0,F||(F=!0,q()))),Z},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(Z){var ne=g;return function(){var ve=g;g=ne;try{return Z.apply(this,arguments)}finally{g=ve}}}})(jg)),jg}var $S;function ND(){return $S||($S=1,Pg.exports=BD()),Pg.exports}var zg={exports:{}},pn={};var XS;function RD(){if(XS)return pn;XS=1;var r=q1();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:h,implementation:d}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,pn.createPortal=function(f,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,d)},pn.flushSync=function(f){var h=l.T,d=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=h,n.p=d,n.d.f()}},pn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},pn.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},pn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var d=h.as,m=c(d,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):d==="script"&&n.d.X(f,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},pn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=c(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},pn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,m=c(d,h.crossOrigin);n.d.L(f,d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},pn.preloadModule=function(f,h){if(typeof f=="string")if(h){var d=c(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},pn.requestFormReset=function(f){n.d.r(f)},pn.unstable_batchedUpdates=function(f,h){return f(h)},pn.useFormState=function(f,h,d){return l.H.useFormState(f,h,d)},pn.useFormStatus=function(){return l.H.useHostTransitionStatus()},pn.version="19.2.0",pn}var YS;function KC(){if(YS)return zg.exports;YS=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zg.exports=RD(),zg.exports}var KS;function FD(){if(KS)return Yc;KS=1;var r=ND(),e=q1(),t=KC();function n(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(n(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(n(188));return o!==a?null:a}for(var u=a,p=o;;){var v=u.return;if(v===null)break;var y=v.alternate;if(y===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===u)return f(v),a;if(y===p)return f(v),o;y=y.sibling}throw Error(n(188))}if(u.return!==p.return)u=v,p=y;else{for(var k=!1,z=v.child;z;){if(z===u){k=!0,u=v,p=y;break}if(z===p){k=!0,p=v,u=y;break}z=z.sibling}if(!k){for(z=y.child;z;){if(z===u){k=!0,u=y,p=v;break}if(z===p){k=!0,p=y,u=v;break}z=z.sibling}if(!k)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?a:o}function d(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=d(a),o!==null)return o;a=a.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),E=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=P&&a[P]||a["@@iterator"],typeof a=="function"?a:null)}var K=Symbol.for("react.client.reference");function ie(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===K?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case B:return"Suspense";case F:return"SuspenseList";case N:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case E:return a.displayName||"Context";case A:return(a._context.displayName||"Context")+".Consumer";case _:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return o=a.displayName||null,o!==null?o:ie(a.type)||"Memo";case H:o=a._payload,a=a._init;try{return ie(a(o))}catch{}}return null}var le=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Ee=[],Ne=-1;function j(a){return{current:a}}function D(a){0>Ne||(a.current=Ee[Ne],Ee[Ne]=null,Ne--)}function M(a,o){Ne++,Ee[Ne]=a.current,a.current=o}var R=j(null),W=j(null),ee=j(null),ye=j(null);function xe(a,o){switch(M(ee,o),M(W,a),M(R,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?uS(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=uS(o),a=hS(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}D(R),M(R,a)}function Te(){D(R),D(W),D(ee)}function be(a){a.memoizedState!==null&&M(ye,a);var o=R.current,u=hS(o,a.type);o!==u&&(M(W,a),M(R,u))}function tt(a){W.current===a&&(D(R),D(W)),ye.current===a&&(D(ye),qc._currentValue=ve)}var Ke,ct;function Ce(a){if(Ke===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Ke=o&&o[1]||"",ct=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ke+a+ct}var Ye=!1;function $e(a,o){if(!a||Ye)return"";Ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(ge){var ue=ge}Reflect.construct(a,[],ke)}else{try{ke.call()}catch(ge){ue=ge}a.call(ke.prototype)}}else{try{throw Error()}catch(ge){ue=ge}(ke=a())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(ge){if(ge&&ue&&typeof ge.stack=="string")return[ge.stack,ue.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=p.DetermineComponentFrameRoot(),k=y[0],z=y[1];if(k&&z){var J=k.split(`
`),ae=z.split(`
`);for(v=p=0;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;for(;v<ae.length&&!ae[v].includes("DetermineComponentFrameRoot");)v++;if(p===J.length||v===ae.length)for(p=J.length-1,v=ae.length-1;1<=p&&0<=v&&J[p]!==ae[v];)v--;for(;1<=p&&0<=v;p--,v--)if(J[p]!==ae[v]){if(p!==1||v!==1)do if(p--,v--,0>v||J[p]!==ae[v]){var we=`
`+J[p].replace(" at new "," at ");return a.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",a.displayName)),we}while(1<=p&&0<=v);break}}}finally{Ye=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Ce(u):""}function De(a,o){switch(a.tag){case 26:case 27:case 5:return Ce(a.type);case 16:return Ce("Lazy");case 13:return a.child!==o&&o!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return $e(a.type,!1);case 11:return $e(a.type.render,!1);case 1:return $e(a.type,!0);case 31:return Ce("Activity");default:return""}}function ot(a){try{var o="",u=null;do o+=De(a,u),u=a,a=a.return;while(a);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var St=Object.prototype.hasOwnProperty,jt=r.unstable_scheduleCallback,Ct=r.unstable_cancelCallback,er=r.unstable_shouldYield,Gt=r.unstable_requestPaint,he=r.unstable_now,Ie=r.unstable_getCurrentPriorityLevel,Be=r.unstable_ImmediatePriority,rt=r.unstable_UserBlockingPriority,vt=r.unstable_NormalPriority,$t=r.unstable_LowPriority,ft=r.unstable_IdlePriority,Bt=r.log,Er=r.unstable_setDisableYieldValue,Xn=null,tr=null;function Cr(a){if(typeof Bt=="function"&&Er(a),tr&&typeof tr.setStrictMode=="function")try{tr.setStrictMode(Xn,a)}catch{}}var vr=Math.clz32?Math.clz32:Ki,vs=Math.log,ui=Math.LN2;function Ki(a){return a>>>=0,a===0?32:31-(vs(a)/ui|0)|0}var Nn=256,hi=262144,Xt=4194304;function pe(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Me(a,o,u){var p=a.pendingLanes;if(p===0)return 0;var v=0,y=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var z=p&134217727;return z!==0?(p=z&~y,p!==0?v=pe(p):(k&=z,k!==0?v=pe(k):u||(u=z&~a,u!==0&&(v=pe(u))))):(z=p&~y,z!==0?v=pe(z):k!==0?v=pe(k):u||(u=p&~a,u!==0&&(v=pe(u)))),v===0?0:o!==0&&o!==v&&(o&y)===0&&(y=v&-v,u=o&-o,y>=u||y===32&&(u&4194048)!==0)?o:v}function Ve(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function it(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ze(){var a=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),a}function ut(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function at(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function At(a,o,u,p,v,y){var k=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var z=a.entanglements,J=a.expirationTimes,ae=a.hiddenUpdates;for(u=k&~u;0<u;){var we=31-vr(u),ke=1<<we;z[we]=0,J[we]=-1;var ue=ae[we];if(ue!==null)for(ae[we]=null,we=0;we<ue.length;we++){var ge=ue[we];ge!==null&&(ge.lane&=-536870913)}u&=~ke}p!==0&&rr(a,p,0),y!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=y&~(k&~o))}function rr(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var p=31-vr(o);a.entangledLanes|=o,a.entanglements[p]=a.entanglements[p]|1073741824|u&261930}function Tt(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var p=31-vr(u),v=1<<p;v&o|a[p]&o&&(a[p]|=o),u&=~v}}function or(a,o){var u=o&-o;return u=(u&42)!==0?1:dn(u),(u&(a.suspendedLanes|o))!==0?0:u}function dn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function wn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function L(){var a=ne.p;return a!==0?a:(a=window.event,a===void 0?32:MS(a.type))}function X(a,o){var u=ne.p;try{return ne.p=a,o()}finally{ne.p=u}}var U=Math.random().toString(36).slice(2),V="__reactFiber$"+U,G="__reactProps$"+U,Y="__reactContainer$"+U,oe="__reactEvents$"+U,Ae="__reactListeners$"+U,ce="__reactHandles$"+U,fe="__reactResources$"+U,de="__reactMarker$"+U;function Fe(a){delete a[V],delete a[G],delete a[oe],delete a[Ae],delete a[ce]}function Pe(a){var o=a[V];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Y]||u[V]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=yS(a);a!==null;){if(u=a[V])return u;a=yS(a)}return o}a=u,u=a.parentNode}return null}function qe(a){if(a=a[V]||a[Y]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Le(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(n(33))}function He(a){var o=a[fe];return o||(o=a[fe]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Je(a){a[de]=!0}var ar=new Set,lr={};function pr(a,o){di(a,o),di(a+"Capture",o)}function di(a,o){for(lr[a]=o,a=0;a<o.length;a++)ar.add(o[a])}var Wa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zs={},Qi={};function ac(a){return St.call(Qi,a)?!0:St.call(Zs,a)?!1:Wa.test(a)?Qi[a]=!0:(Zs[a]=!0,!1)}function Rn(a,o,u){if(ac(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function yf(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function ys(a,o,u,p){if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+p)}}function pi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function n2(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function b6(a,o,u){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var v=p.get,y=p.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(k){u=""+k,y.call(this,k)}}),Object.defineProperty(a,o,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(k){u=""+k},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Dp(a){if(!a._valueTracker){var o=n2(a)?"checked":"value";a._valueTracker=b6(a,o,""+a[o])}}function i2(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return a&&(p=n2(a)?a.checked?"true":"false":a.value),a=p,a!==u?(o.setValue(a),!0):!1}function bf(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var S6=/[\n"\\]/g;function mi(a){return a.replace(S6,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function kp(a,o,u,p,v,y,k,z){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),o!=null?k==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+pi(o)):a.value!==""+pi(o)&&(a.value=""+pi(o)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),o!=null?Op(a,k,pi(o)):u!=null?Op(a,k,pi(u)):p!=null&&a.removeAttribute("value"),v==null&&y!=null&&(a.defaultChecked=!!y),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?a.name=""+pi(z):a.removeAttribute("name")}function s2(a,o,u,p,v,y,k,z){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),o!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||o!=null)){Dp(a);return}u=u!=null?""+pi(u):"",o=o!=null?""+pi(o):u,z||o===a.value||(a.value=o),a.defaultValue=o}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=z?a.checked:!!p,a.defaultChecked=!!p,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k),Dp(a)}function Op(a,o,u){o==="number"&&bf(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Pl(a,o,u,p){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&p&&(a[u].defaultSelected=!0)}else{for(u=""+pi(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,p&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function a2(a,o,u){if(o!=null&&(o=""+pi(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+pi(u):""}function l2(a,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(n(92));if(le(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=pi(o),a.defaultValue=u,p=a.textContent,p===u&&p!==""&&p!==null&&(a.value=p),Dp(a)}function jl(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var w6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function o2(a,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":p?a.setProperty(o,u):typeof u!="number"||u===0||w6.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function c2(a,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(a=a.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var v in o)p=o[v],o.hasOwnProperty(v)&&u[v]!==p&&o2(a,v,p)}else for(var y in o)o.hasOwnProperty(y)&&o2(a,y,o[y])}function Bp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),C6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sf(a){return C6.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function bs(){}var Np=null;function Rp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var zl=null,Hl=null;function f2(a){var o=qe(a);if(o&&(a=o.stateNode)){var u=a[G]||null;e:switch(a=o.stateNode,o.type){case"input":if(kp(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+mi(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==a&&p.form===a.form){var v=p[G]||null;if(!v)throw Error(n(90));kp(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===a.form&&i2(p)}break e;case"textarea":a2(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Pl(a,!!u.multiple,o,!1)}}}var Fp=!1;function u2(a,o,u){if(Fp)return a(o,u);Fp=!0;try{var p=a(o);return p}finally{if(Fp=!1,(zl!==null||Hl!==null)&&(ou(),zl&&(o=zl,a=Hl,Hl=zl=null,f2(o),a)))for(o=0;o<a.length;o++)f2(a[o])}}function lc(a,o){var u=a.stateNode;if(u===null)return null;var p=u[G]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mp=!1;if(Ss)try{var oc={};Object.defineProperty(oc,"passive",{get:function(){Mp=!0}}),window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{Mp=!1}var Js=null,Lp=null,wf=null;function h2(){if(wf)return wf;var a,o=Lp,u=o.length,p,v="value"in Js?Js.value:Js.textContent,y=v.length;for(a=0;a<u&&o[a]===v[a];a++);var k=u-a;for(p=1;p<=k&&o[u-p]===v[y-p];p++);return wf=v.slice(a,1<p?1-p:void 0)}function Ef(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Cf(){return!0}function d2(){return!1}function Fn(a){function o(u,p,v,y,k){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var z in a)a.hasOwnProperty(z)&&(u=a[z],this[z]=u?u(y):y[z]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Cf:d2,this.isPropagationStopped=d2,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Cf)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Cf)},persist:function(){},isPersistent:Cf}),o}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Af=Fn(Ga),cc=m({},Ga,{view:0,detail:0}),A6=Fn(cc),Ip,Pp,fc,Tf=m({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==fc&&(fc&&a.type==="mousemove"?(Ip=a.screenX-fc.screenX,Pp=a.screenY-fc.screenY):Pp=Ip=0,fc=a),Ip)},movementY:function(a){return"movementY"in a?a.movementY:Pp}}),p2=Fn(Tf),T6=m({},Tf,{dataTransfer:0}),_6=Fn(T6),D6=m({},cc,{relatedTarget:0}),jp=Fn(D6),k6=m({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),O6=Fn(k6),B6=m({},Ga,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),N6=Fn(B6),R6=m({},Ga,{data:0}),m2=Fn(R6),F6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I6(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=L6[a])?!!o[a]:!1}function zp(){return I6}var P6=m({},cc,{key:function(a){if(a.key){var o=F6[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Ef(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?M6[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zp,charCode:function(a){return a.type==="keypress"?Ef(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ef(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),j6=Fn(P6),z6=m({},Tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g2=Fn(z6),H6=m({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zp}),U6=Fn(H6),V6=m({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),q6=Fn(V6),W6=m({},Tf,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),G6=Fn(W6),$6=m({},Ga,{newState:0,oldState:0}),X6=Fn($6),Y6=[9,13,27,32],Hp=Ss&&"CompositionEvent"in window,uc=null;Ss&&"documentMode"in document&&(uc=document.documentMode);var K6=Ss&&"TextEvent"in window&&!uc,x2=Ss&&(!Hp||uc&&8<uc&&11>=uc),v2=" ",y2=!1;function b2(a,o){switch(a){case"keyup":return Y6.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S2(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ul=!1;function Q6(a,o){switch(a){case"compositionend":return S2(o);case"keypress":return o.which!==32?null:(y2=!0,v2);case"textInput":return a=o.data,a===v2&&y2?null:a;default:return null}}function Z6(a,o){if(Ul)return a==="compositionend"||!Hp&&b2(a,o)?(a=h2(),wf=Lp=Js=null,Ul=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return x2&&o.locale!=="ko"?null:o.data;default:return null}}var J6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w2(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!J6[a.type]:o==="textarea"}function E2(a,o,u,p){zl?Hl?Hl.push(p):Hl=[p]:zl=p,o=mu(o,"onChange"),0<o.length&&(u=new Af("onChange","change",null,u,p),a.push({event:u,listeners:o}))}var hc=null,dc=null;function e5(a){sS(a,0)}function _f(a){var o=Le(a);if(i2(o))return a}function C2(a,o){if(a==="change")return o}var A2=!1;if(Ss){var Up;if(Ss){var Vp="oninput"in document;if(!Vp){var T2=document.createElement("div");T2.setAttribute("oninput","return;"),Vp=typeof T2.oninput=="function"}Up=Vp}else Up=!1;A2=Up&&(!document.documentMode||9<document.documentMode)}function _2(){hc&&(hc.detachEvent("onpropertychange",D2),dc=hc=null)}function D2(a){if(a.propertyName==="value"&&_f(dc)){var o=[];E2(o,dc,a,Rp(a)),u2(e5,o)}}function t5(a,o,u){a==="focusin"?(_2(),hc=o,dc=u,hc.attachEvent("onpropertychange",D2)):a==="focusout"&&_2()}function r5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return _f(dc)}function n5(a,o){if(a==="click")return _f(o)}function i5(a,o){if(a==="input"||a==="change")return _f(o)}function s5(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Yn=typeof Object.is=="function"?Object.is:s5;function pc(a,o){if(Yn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!St.call(o,v)||!Yn(a[v],o[v]))return!1}return!0}function k2(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function O2(a,o){var u=k2(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=o&&p>=o)return{node:u,offset:o-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=k2(u)}}function B2(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?B2(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function N2(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=bf(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=bf(a.document)}return o}function qp(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var a5=Ss&&"documentMode"in document&&11>=document.documentMode,Vl=null,Wp=null,mc=null,Gp=!1;function R2(a,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Gp||Vl==null||Vl!==bf(p)||(p=Vl,"selectionStart"in p&&qp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),mc&&pc(mc,p)||(mc=p,p=mu(Wp,"onSelect"),0<p.length&&(o=new Af("onSelect","select",null,o,u),a.push({event:o,listeners:p}),o.target=Vl)))}function $a(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var ql={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},$p={},F2={};Ss&&(F2=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function Xa(a){if($p[a])return $p[a];if(!ql[a])return a;var o=ql[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in F2)return $p[a]=o[u];return a}var M2=Xa("animationend"),L2=Xa("animationiteration"),I2=Xa("animationstart"),l5=Xa("transitionrun"),o5=Xa("transitionstart"),c5=Xa("transitioncancel"),P2=Xa("transitionend"),j2=new Map,Xp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xp.push("scrollEnd");function Mi(a,o){j2.set(a,o),pr(o,[a])}var Df=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},gi=[],Wl=0,Yp=0;function kf(){for(var a=Wl,o=Yp=Wl=0;o<a;){var u=gi[o];gi[o++]=null;var p=gi[o];gi[o++]=null;var v=gi[o];gi[o++]=null;var y=gi[o];if(gi[o++]=null,p!==null&&v!==null){var k=p.pending;k===null?v.next=v:(v.next=k.next,k.next=v),p.pending=v}y!==0&&z2(u,v,y)}}function Of(a,o,u,p){gi[Wl++]=a,gi[Wl++]=o,gi[Wl++]=u,gi[Wl++]=p,Yp|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function Kp(a,o,u,p){return Of(a,o,u,p),Bf(a)}function Ya(a,o){return Of(a,null,null,o),Bf(a)}function z2(a,o,u){a.lanes|=u;var p=a.alternate;p!==null&&(p.lanes|=u);for(var v=!1,y=a.return;y!==null;)y.childLanes|=u,p=y.alternate,p!==null&&(p.childLanes|=u),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(v=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,v&&o!==null&&(v=31-vr(u),a=y.hiddenUpdates,p=a[v],p===null?a[v]=[o]:p.push(o),o.lane=u|536870912),y):null}function Bf(a){if(50<Ic)throw Ic=0,sg=null,Error(n(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Gl={};function f5(a,o,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(a,o,u,p){return new f5(a,o,u,p)}function Qp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ws(a,o){var u=a.alternate;return u===null?(u=Kn(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function H2(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Nf(a,o,u,p,v,y){var k=0;if(p=a,typeof a=="function")Qp(a)&&(k=1);else if(typeof a=="string")k=mD(a,u,R.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case N:return a=Kn(31,u,o,v),a.elementType=N,a.lanes=y,a;case S:return Ka(u.children,v,y,o);case w:k=8,v|=24;break;case T:return a=Kn(12,u,o,v|2),a.elementType=T,a.lanes=y,a;case B:return a=Kn(13,u,o,v),a.elementType=B,a.lanes=y,a;case F:return a=Kn(19,u,o,v),a.elementType=F,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case E:k=10;break e;case A:k=9;break e;case _:k=11;break e;case O:k=14;break e;case H:k=16,p=null;break e}k=29,u=Error(n(130,a===null?"null":typeof a,"")),p=null}return o=Kn(k,u,o,v),o.elementType=a,o.type=p,o.lanes=y,o}function Ka(a,o,u,p){return a=Kn(7,a,p,o),a.lanes=u,a}function Zp(a,o,u){return a=Kn(6,a,null,o),a.lanes=u,a}function U2(a){var o=Kn(18,null,null,0);return o.stateNode=a,o}function Jp(a,o,u){return o=Kn(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var V2=new WeakMap;function xi(a,o){if(typeof a=="object"&&a!==null){var u=V2.get(a);return u!==void 0?u:(o={value:a,source:o,stack:ot(o)},V2.set(a,o),o)}return{value:a,source:o,stack:ot(o)}}var $l=[],Xl=0,Rf=null,gc=0,vi=[],yi=0,ea=null,Zi=1,Ji="";function Es(a,o){$l[Xl++]=gc,$l[Xl++]=Rf,Rf=a,gc=o}function q2(a,o,u){vi[yi++]=Zi,vi[yi++]=Ji,vi[yi++]=ea,ea=a;var p=Zi;a=Ji;var v=32-vr(p)-1;p&=~(1<<v),u+=1;var y=32-vr(o)+v;if(30<y){var k=v-v%5;y=(p&(1<<k)-1).toString(32),p>>=k,v-=k,Zi=1<<32-vr(o)+v|u<<v|p,Ji=y+a}else Zi=1<<y|u<<v|p,Ji=a}function em(a){a.return!==null&&(Es(a,1),q2(a,1,0))}function tm(a){for(;a===Rf;)Rf=$l[--Xl],$l[Xl]=null,gc=$l[--Xl],$l[Xl]=null;for(;a===ea;)ea=vi[--yi],vi[yi]=null,Ji=vi[--yi],vi[yi]=null,Zi=vi[--yi],vi[yi]=null}function W2(a,o){vi[yi++]=Zi,vi[yi++]=Ji,vi[yi++]=ea,Zi=o.id,Ji=o.overflow,ea=a}var Zr=null,cr=null,_t=!1,ta=null,bi=!1,rm=Error(n(519));function ra(a){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xc(xi(o,a)),rm}function G2(a){var o=a.stateNode,u=a.type,p=a.memoizedProps;switch(o[V]=a,o[G]=p,u){case"dialog":bt("cancel",o),bt("close",o);break;case"iframe":case"object":case"embed":bt("load",o);break;case"video":case"audio":for(u=0;u<jc.length;u++)bt(jc[u],o);break;case"source":bt("error",o);break;case"img":case"image":case"link":bt("error",o),bt("load",o);break;case"details":bt("toggle",o);break;case"input":bt("invalid",o),s2(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":bt("invalid",o);break;case"textarea":bt("invalid",o),l2(o,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||cS(o.textContent,u)?(p.popover!=null&&(bt("beforetoggle",o),bt("toggle",o)),p.onScroll!=null&&bt("scroll",o),p.onScrollEnd!=null&&bt("scrollend",o),p.onClick!=null&&(o.onclick=bs),o=!0):o=!1,o||ra(a,!0)}function $2(a){for(Zr=a.return;Zr;)switch(Zr.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:Zr=Zr.return}}function Yl(a){if(a!==Zr)return!1;if(!_t)return $2(a),_t=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||bg(a.type,a.memoizedProps)),u=!u),u&&cr&&ra(a),$2(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));cr=vS(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));cr=vS(a)}else o===27?(o=cr,ga(a.type)?(a=Ag,Ag=null,cr=a):cr=o):cr=Zr?wi(a.stateNode.nextSibling):null;return!0}function Qa(){cr=Zr=null,_t=!1}function nm(){var a=ta;return a!==null&&(Pn===null?Pn=a:Pn.push.apply(Pn,a),ta=null),a}function xc(a){ta===null?ta=[a]:ta.push(a)}var im=j(null),Za=null,Cs=null;function na(a,o,u){M(im,o._currentValue),o._currentValue=u}function As(a){a._currentValue=im.current,D(im)}function sm(a,o,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===u)break;a=a.return}}function am(a,o,u,p){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var y=v.dependencies;if(y!==null){var k=v.child;y=y.firstContext;e:for(;y!==null;){var z=y;y=v;for(var J=0;J<o.length;J++)if(z.context===o[J]){y.lanes|=u,z=y.alternate,z!==null&&(z.lanes|=u),sm(y.return,u,a),p||(k=null);break e}y=z.next}}else if(v.tag===18){if(k=v.return,k===null)throw Error(n(341));k.lanes|=u,y=k.alternate,y!==null&&(y.lanes|=u),sm(k,u,a),k=null}else k=v.child;if(k!==null)k.return=v;else for(k=v;k!==null;){if(k===a){k=null;break}if(v=k.sibling,v!==null){v.return=k.return,k=v;break}k=k.return}v=k}}function Kl(a,o,u,p){a=null;for(var v=o,y=!1;v!==null;){if(!y){if((v.flags&524288)!==0)y=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var k=v.alternate;if(k===null)throw Error(n(387));if(k=k.memoizedProps,k!==null){var z=v.type;Yn(v.pendingProps.value,k.value)||(a!==null?a.push(z):a=[z])}}else if(v===ye.current){if(k=v.alternate,k===null)throw Error(n(387));k.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(qc):a=[qc])}v=v.return}a!==null&&am(o,a,u,p),o.flags|=262144}function Ff(a){for(a=a.firstContext;a!==null;){if(!Yn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ja(a){Za=a,Cs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Jr(a){return X2(Za,a)}function Mf(a,o){return Za===null&&Ja(a),X2(a,o)}function X2(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Cs===null){if(a===null)throw Error(n(308));Cs=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Cs=Cs.next=o;return u}var u5=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,p){a.push(p)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},h5=r.unstable_scheduleCallback,d5=r.unstable_NormalPriority,kr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new u5,data:new Map,refCount:0}}function vc(a){a.refCount--,a.refCount===0&&h5(d5,function(){a.controller.abort()})}var yc=null,om=0,Ql=0,Zl=null;function p5(a,o){if(yc===null){var u=yc=[];om=0,Ql=ug(),Zl={status:"pending",value:void 0,then:function(p){u.push(p)}}}return om++,o.then(Y2,Y2),o}function Y2(){if(--om===0&&yc!==null){Zl!==null&&(Zl.status="fulfilled");var a=yc;yc=null,Ql=0,Zl=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function m5(a,o){var u=[],p={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){p.status="fulfilled",p.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(p.status="rejected",p.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),p}var K2=Z.S;Z.S=function(a,o){Rb=he(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&p5(a,o),K2!==null&&K2(a,o)};var el=j(null);function cm(){var a=el.current;return a!==null?a:nr.pooledCache}function Lf(a,o){o===null?M(el,el.current):M(el,o.pool)}function Q2(){var a=cm();return a===null?null:{parent:kr._currentValue,pool:a}}var Jl=Error(n(460)),fm=Error(n(474)),If=Error(n(542)),Pf={then:function(){}};function Z2(a){return a=a.status,a==="fulfilled"||a==="rejected"}function J2(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(bs,bs),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,ty(a),a;default:if(typeof o.status=="string")o.then(bs,bs);else{if(a=nr,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=o,a.status="pending",a.then(function(p){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=p}},function(p){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,ty(a),a}throw rl=o,Jl}}function tl(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(rl=u,Jl):u}}var rl=null;function ey(){if(rl===null)throw Error(n(459));var a=rl;return rl=null,a}function ty(a){if(a===Jl||a===If)throw Error(n(483))}var eo=null,bc=0;function jf(a){var o=bc;return bc+=1,eo===null&&(eo=[]),J2(eo,a,o)}function Sc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function zf(a,o){throw o.$$typeof===g?Error(n(525)):(a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function ry(a){function o(re,te){if(a){var se=re.deletions;se===null?(re.deletions=[te],re.flags|=16):se.push(te)}}function u(re,te){if(!a)return null;for(;te!==null;)o(re,te),te=te.sibling;return null}function p(re){for(var te=new Map;re!==null;)re.key!==null?te.set(re.key,re):te.set(re.index,re),re=re.sibling;return te}function v(re,te){return re=ws(re,te),re.index=0,re.sibling=null,re}function y(re,te,se){return re.index=se,a?(se=re.alternate,se!==null?(se=se.index,se<te?(re.flags|=67108866,te):se):(re.flags|=67108866,te)):(re.flags|=1048576,te)}function k(re){return a&&re.alternate===null&&(re.flags|=67108866),re}function z(re,te,se,_e){return te===null||te.tag!==6?(te=Zp(se,re.mode,_e),te.return=re,te):(te=v(te,se),te.return=re,te)}function J(re,te,se,_e){var nt=se.type;return nt===S?we(re,te,se.props.children,_e,se.key):te!==null&&(te.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===H&&tl(nt)===te.type)?(te=v(te,se.props),Sc(te,se),te.return=re,te):(te=Nf(se.type,se.key,se.props,null,re.mode,_e),Sc(te,se),te.return=re,te)}function ae(re,te,se,_e){return te===null||te.tag!==4||te.stateNode.containerInfo!==se.containerInfo||te.stateNode.implementation!==se.implementation?(te=Jp(se,re.mode,_e),te.return=re,te):(te=v(te,se.children||[]),te.return=re,te)}function we(re,te,se,_e,nt){return te===null||te.tag!==7?(te=Ka(se,re.mode,_e,nt),te.return=re,te):(te=v(te,se),te.return=re,te)}function ke(re,te,se){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=Zp(""+te,re.mode,se),te.return=re,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return se=Nf(te.type,te.key,te.props,null,re.mode,se),Sc(se,te),se.return=re,se;case b:return te=Jp(te,re.mode,se),te.return=re,te;case H:return te=tl(te),ke(re,te,se)}if(le(te)||q(te))return te=Ka(te,re.mode,se,null),te.return=re,te;if(typeof te.then=="function")return ke(re,jf(te),se);if(te.$$typeof===E)return ke(re,Mf(re,te),se);zf(re,te)}return null}function ue(re,te,se,_e){var nt=te!==null?te.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return nt!==null?null:z(re,te,""+se,_e);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return se.key===nt?J(re,te,se,_e):null;case b:return se.key===nt?ae(re,te,se,_e):null;case H:return se=tl(se),ue(re,te,se,_e)}if(le(se)||q(se))return nt!==null?null:we(re,te,se,_e,null);if(typeof se.then=="function")return ue(re,te,jf(se),_e);if(se.$$typeof===E)return ue(re,te,Mf(re,se),_e);zf(re,se)}return null}function ge(re,te,se,_e,nt){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return re=re.get(se)||null,z(te,re,""+_e,nt);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case x:return re=re.get(_e.key===null?se:_e.key)||null,J(te,re,_e,nt);case b:return re=re.get(_e.key===null?se:_e.key)||null,ae(te,re,_e,nt);case H:return _e=tl(_e),ge(re,te,se,_e,nt)}if(le(_e)||q(_e))return re=re.get(se)||null,we(te,re,_e,nt,null);if(typeof _e.then=="function")return ge(re,te,se,jf(_e),nt);if(_e.$$typeof===E)return ge(re,te,se,Mf(te,_e),nt);zf(te,_e)}return null}function Qe(re,te,se,_e){for(var nt=null,Ft=null,et=te,mt=te=0,Et=null;et!==null&&mt<se.length;mt++){et.index>mt?(Et=et,et=null):Et=et.sibling;var Mt=ue(re,et,se[mt],_e);if(Mt===null){et===null&&(et=Et);break}a&&et&&Mt.alternate===null&&o(re,et),te=y(Mt,te,mt),Ft===null?nt=Mt:Ft.sibling=Mt,Ft=Mt,et=Et}if(mt===se.length)return u(re,et),_t&&Es(re,mt),nt;if(et===null){for(;mt<se.length;mt++)et=ke(re,se[mt],_e),et!==null&&(te=y(et,te,mt),Ft===null?nt=et:Ft.sibling=et,Ft=et);return _t&&Es(re,mt),nt}for(et=p(et);mt<se.length;mt++)Et=ge(et,re,mt,se[mt],_e),Et!==null&&(a&&Et.alternate!==null&&et.delete(Et.key===null?mt:Et.key),te=y(Et,te,mt),Ft===null?nt=Et:Ft.sibling=Et,Ft=Et);return a&&et.forEach(function(Sa){return o(re,Sa)}),_t&&Es(re,mt),nt}function lt(re,te,se,_e){if(se==null)throw Error(n(151));for(var nt=null,Ft=null,et=te,mt=te=0,Et=null,Mt=se.next();et!==null&&!Mt.done;mt++,Mt=se.next()){et.index>mt?(Et=et,et=null):Et=et.sibling;var Sa=ue(re,et,Mt.value,_e);if(Sa===null){et===null&&(et=Et);break}a&&et&&Sa.alternate===null&&o(re,et),te=y(Sa,te,mt),Ft===null?nt=Sa:Ft.sibling=Sa,Ft=Sa,et=Et}if(Mt.done)return u(re,et),_t&&Es(re,mt),nt;if(et===null){for(;!Mt.done;mt++,Mt=se.next())Mt=ke(re,Mt.value,_e),Mt!==null&&(te=y(Mt,te,mt),Ft===null?nt=Mt:Ft.sibling=Mt,Ft=Mt);return _t&&Es(re,mt),nt}for(et=p(et);!Mt.done;mt++,Mt=se.next())Mt=ge(et,re,mt,Mt.value,_e),Mt!==null&&(a&&Mt.alternate!==null&&et.delete(Mt.key===null?mt:Mt.key),te=y(Mt,te,mt),Ft===null?nt=Mt:Ft.sibling=Mt,Ft=Mt);return a&&et.forEach(function(TD){return o(re,TD)}),_t&&Es(re,mt),nt}function Qt(re,te,se,_e){if(typeof se=="object"&&se!==null&&se.type===S&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case x:e:{for(var nt=se.key;te!==null;){if(te.key===nt){if(nt=se.type,nt===S){if(te.tag===7){u(re,te.sibling),_e=v(te,se.props.children),_e.return=re,re=_e;break e}}else if(te.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===H&&tl(nt)===te.type){u(re,te.sibling),_e=v(te,se.props),Sc(_e,se),_e.return=re,re=_e;break e}u(re,te);break}else o(re,te);te=te.sibling}se.type===S?(_e=Ka(se.props.children,re.mode,_e,se.key),_e.return=re,re=_e):(_e=Nf(se.type,se.key,se.props,null,re.mode,_e),Sc(_e,se),_e.return=re,re=_e)}return k(re);case b:e:{for(nt=se.key;te!==null;){if(te.key===nt)if(te.tag===4&&te.stateNode.containerInfo===se.containerInfo&&te.stateNode.implementation===se.implementation){u(re,te.sibling),_e=v(te,se.children||[]),_e.return=re,re=_e;break e}else{u(re,te);break}else o(re,te);te=te.sibling}_e=Jp(se,re.mode,_e),_e.return=re,re=_e}return k(re);case H:return se=tl(se),Qt(re,te,se,_e)}if(le(se))return Qe(re,te,se,_e);if(q(se)){if(nt=q(se),typeof nt!="function")throw Error(n(150));return se=nt.call(se),lt(re,te,se,_e)}if(typeof se.then=="function")return Qt(re,te,jf(se),_e);if(se.$$typeof===E)return Qt(re,te,Mf(re,se),_e);zf(re,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,te!==null&&te.tag===6?(u(re,te.sibling),_e=v(te,se),_e.return=re,re=_e):(u(re,te),_e=Zp(se,re.mode,_e),_e.return=re,re=_e),k(re)):u(re,te)}return function(re,te,se,_e){try{bc=0;var nt=Qt(re,te,se,_e);return eo=null,nt}catch(et){if(et===Jl||et===If)throw et;var Ft=Kn(29,et,null,re.mode);return Ft.lanes=_e,Ft.return=re,Ft}finally{}}}var nl=ry(!0),ny=ry(!1),ia=!1;function um(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hm(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function sa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function aa(a,o,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(It&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,o=Bf(a),z2(a,null,u),o}return Of(a,p,o,u),Bf(a)}function wc(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=a.pendingLanes,u|=p,o.lanes=u,Tt(a,u)}}function dm(a,o){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?v=y=k:y=y.next=k,u=u.next}while(u!==null);y===null?v=y=o:y=y.next=o}else v=y=o;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:p.shared,callbacks:p.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var pm=!1;function Ec(){if(pm){var a=Zl;if(a!==null)throw a}}function Cc(a,o,u,p){pm=!1;var v=a.updateQueue;ia=!1;var y=v.firstBaseUpdate,k=v.lastBaseUpdate,z=v.shared.pending;if(z!==null){v.shared.pending=null;var J=z,ae=J.next;J.next=null,k===null?y=ae:k.next=ae,k=J;var we=a.alternate;we!==null&&(we=we.updateQueue,z=we.lastBaseUpdate,z!==k&&(z===null?we.firstBaseUpdate=ae:z.next=ae,we.lastBaseUpdate=J))}if(y!==null){var ke=v.baseState;k=0,we=ae=J=null,z=y;do{var ue=z.lane&-536870913,ge=ue!==z.lane;if(ge?(wt&ue)===ue:(p&ue)===ue){ue!==0&&ue===Ql&&(pm=!0),we!==null&&(we=we.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Qe=a,lt=z;ue=o;var Qt=u;switch(lt.tag){case 1:if(Qe=lt.payload,typeof Qe=="function"){ke=Qe.call(Qt,ke,ue);break e}ke=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=lt.payload,ue=typeof Qe=="function"?Qe.call(Qt,ke,ue):Qe,ue==null)break e;ke=m({},ke,ue);break e;case 2:ia=!0}}ue=z.callback,ue!==null&&(a.flags|=64,ge&&(a.flags|=8192),ge=v.callbacks,ge===null?v.callbacks=[ue]:ge.push(ue))}else ge={lane:ue,tag:z.tag,payload:z.payload,callback:z.callback,next:null},we===null?(ae=we=ge,J=ke):we=we.next=ge,k|=ue;if(z=z.next,z===null){if(z=v.shared.pending,z===null)break;ge=z,z=ge.next,ge.next=null,v.lastBaseUpdate=ge,v.shared.pending=null}}while(!0);we===null&&(J=ke),v.baseState=J,v.firstBaseUpdate=ae,v.lastBaseUpdate=we,y===null&&(v.shared.lanes=0),ua|=k,a.lanes=k,a.memoizedState=ke}}function iy(a,o){if(typeof a!="function")throw Error(n(191,a));a.call(o)}function sy(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)iy(u[a],o)}var to=j(null),Hf=j(0);function ay(a,o){a=Fs,M(Hf,a),M(to,o),Fs=a|o.baseLanes}function mm(){M(Hf,Fs),M(to,to.current)}function gm(){Fs=Hf.current,D(to),D(Hf)}var Qn=j(null),Si=null;function la(a){var o=a.alternate;M(Ar,Ar.current&1),M(Qn,a),Si===null&&(o===null||to.current!==null||o.memoizedState!==null)&&(Si=a)}function xm(a){M(Ar,Ar.current),M(Qn,a),Si===null&&(Si=a)}function ly(a){a.tag===22?(M(Ar,Ar.current),M(Qn,a),Si===null&&(Si=a)):oa()}function oa(){M(Ar,Ar.current),M(Qn,Qn.current)}function Zn(a){D(Qn),Si===a&&(Si=null),D(Ar)}var Ar=j(0);function Uf(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Eg(u)||Cg(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ts=0,dt=null,Yt=null,Or=null,Vf=!1,ro=!1,il=!1,qf=0,Ac=0,no=null,g5=0;function yr(){throw Error(n(321))}function vm(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Yn(a[u],o[u]))return!1;return!0}function ym(a,o,u,p,v,y){return Ts=y,dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Z.H=a===null||a.memoizedState===null?qy:Fm,il=!1,y=u(p,v),il=!1,ro&&(y=cy(o,u,p,v)),oy(a),y}function oy(a){Z.H=Dc;var o=Yt!==null&&Yt.next!==null;if(Ts=0,Or=Yt=dt=null,Vf=!1,Ac=0,no=null,o)throw Error(n(300));a===null||Br||(a=a.dependencies,a!==null&&Ff(a)&&(Br=!0))}function cy(a,o,u,p){dt=a;var v=0;do{if(ro&&(no=null),Ac=0,ro=!1,25<=v)throw Error(n(301));if(v+=1,Or=Yt=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Z.H=Wy,y=o(u,p)}while(ro);return y}function x5(){var a=Z.H,o=a.useState()[0];return o=typeof o.then=="function"?Tc(o):o,a=a.useState()[0],(Yt!==null?Yt.memoizedState:null)!==a&&(dt.flags|=1024),o}function bm(){var a=qf!==0;return qf=0,a}function Sm(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function wm(a){if(Vf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Vf=!1}Ts=0,Or=Yt=dt=null,ro=!1,Ac=qf=0,no=null}function En(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?dt.memoizedState=Or=a:Or=Or.next=a,Or}function Tr(){if(Yt===null){var a=dt.alternate;a=a!==null?a.memoizedState:null}else a=Yt.next;var o=Or===null?dt.memoizedState:Or.next;if(o!==null)Or=o,Yt=a;else{if(a===null)throw dt.alternate===null?Error(n(467)):Error(n(310));Yt=a,a={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Or===null?dt.memoizedState=Or=a:Or=Or.next=a}return Or}function Wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tc(a){var o=Ac;return Ac+=1,no===null&&(no=[]),a=J2(no,a,o),o=dt,(Or===null?o.memoizedState:Or.next)===null&&(o=o.alternate,Z.H=o===null||o.memoizedState===null?qy:Fm),a}function Gf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Tc(a);if(a.$$typeof===E)return Jr(a)}throw Error(n(438,String(a)))}function Em(a){var o=null,u=dt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=dt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Wf(),dt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),p=0;p<a;p++)u[p]=I;return o.index++,u}function _s(a,o){return typeof o=="function"?o(a):o}function $f(a){var o=Tr();return Cm(o,Yt,a)}function Cm(a,o,u){var p=a.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=u;var v=a.baseQueue,y=p.pending;if(y!==null){if(v!==null){var k=v.next;v.next=y.next,y.next=k}o.baseQueue=v=y,p.pending=null}if(y=a.baseState,v===null)a.memoizedState=y;else{o=v.next;var z=k=null,J=null,ae=o,we=!1;do{var ke=ae.lane&-536870913;if(ke!==ae.lane?(wt&ke)===ke:(Ts&ke)===ke){var ue=ae.revertLane;if(ue===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ke===Ql&&(we=!0);else if((Ts&ue)===ue){ae=ae.next,ue===Ql&&(we=!0);continue}else ke={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},J===null?(z=J=ke,k=y):J=J.next=ke,dt.lanes|=ue,ua|=ue;ke=ae.action,il&&u(y,ke),y=ae.hasEagerState?ae.eagerState:u(y,ke)}else ue={lane:ke,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},J===null?(z=J=ue,k=y):J=J.next=ue,dt.lanes|=ke,ua|=ke;ae=ae.next}while(ae!==null&&ae!==o);if(J===null?k=y:J.next=z,!Yn(y,a.memoizedState)&&(Br=!0,we&&(u=Zl,u!==null)))throw u;a.memoizedState=y,a.baseState=k,a.baseQueue=J,p.lastRenderedState=y}return v===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Am(a){var o=Tr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var p=u.dispatch,v=u.pending,y=o.memoizedState;if(v!==null){u.pending=null;var k=v=v.next;do y=a(y,k.action),k=k.next;while(k!==v);Yn(y,o.memoizedState)||(Br=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,p]}function fy(a,o,u){var p=dt,v=Tr(),y=_t;if(y){if(u===void 0)throw Error(n(407));u=u()}else u=o();var k=!Yn((Yt||v).memoizedState,u);if(k&&(v.memoizedState=u,Br=!0),v=v.queue,Dm(dy.bind(null,p,v,a),[a]),v.getSnapshot!==o||k||Or!==null&&Or.memoizedState.tag&1){if(p.flags|=2048,io(9,{destroy:void 0},hy.bind(null,p,v,u,o),null),nr===null)throw Error(n(349));y||(Ts&127)!==0||uy(p,o,u)}return u}function uy(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=dt.updateQueue,o===null?(o=Wf(),dt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function hy(a,o,u,p){o.value=u,o.getSnapshot=p,py(o)&&my(a)}function dy(a,o,u){return u(function(){py(o)&&my(a)})}function py(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Yn(a,u)}catch{return!0}}function my(a){var o=Ya(a,2);o!==null&&jn(o,a,2)}function Tm(a){var o=En();if(typeof a=="function"){var u=a;if(a=u(),il){Cr(!0);try{u()}finally{Cr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:a},o}function gy(a,o,u,p){return a.baseState=u,Cm(a,Yt,typeof p=="function"?p:_s)}function v5(a,o,u,p,v){if(Kf(a))throw Error(n(485));if(a=o.action,a!==null){var y={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){y.listeners.push(k)}};Z.T!==null?u(!0):y.isTransition=!1,p(y),u=o.pending,u===null?(y.next=o.pending=y,xy(o,y)):(y.next=u.next,o.pending=u.next=y)}}function xy(a,o){var u=o.action,p=o.payload,v=a.state;if(o.isTransition){var y=Z.T,k={};Z.T=k;try{var z=u(v,p),J=Z.S;J!==null&&J(k,z),vy(a,o,z)}catch(ae){_m(a,o,ae)}finally{y!==null&&k.types!==null&&(y.types=k.types),Z.T=y}}else try{y=u(v,p),vy(a,o,y)}catch(ae){_m(a,o,ae)}}function vy(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){yy(a,o,p)},function(p){return _m(a,o,p)}):yy(a,o,u)}function yy(a,o,u){o.status="fulfilled",o.value=u,by(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,xy(a,u)))}function _m(a,o,u){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,by(o),o=o.next;while(o!==p)}a.action=null}function by(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Sy(a,o){return o}function wy(a,o){if(_t){var u=nr.formState;if(u!==null){e:{var p=dt;if(_t){if(cr){t:{for(var v=cr,y=bi;v.nodeType!==8;){if(!y){v=null;break t}if(v=wi(v.nextSibling),v===null){v=null;break t}}y=v.data,v=y==="F!"||y==="F"?v:null}if(v){cr=wi(v.nextSibling),p=v.data==="F!";break e}}ra(p)}p=!1}p&&(o=u[0])}}return u=En(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:o},u.queue=p,u=Hy.bind(null,dt,p),p.dispatch=u,p=Tm(!1),y=Rm.bind(null,dt,!1,p.queue),p=En(),v={state:o,dispatch:null,action:a,pending:null},p.queue=v,u=v5.bind(null,dt,v,y,u),v.dispatch=u,p.memoizedState=a,[o,u,!1]}function Ey(a){var o=Tr();return Cy(o,Yt,a)}function Cy(a,o,u){if(o=Cm(a,o,Sy)[0],a=$f(_s)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Tc(o)}catch(k){throw k===Jl?If:k}else p=o;o=Tr();var v=o.queue,y=v.dispatch;return u!==o.memoizedState&&(dt.flags|=2048,io(9,{destroy:void 0},y5.bind(null,v,u),null)),[p,y,a]}function y5(a,o){a.action=o}function Ay(a){var o=Tr(),u=Yt;if(u!==null)return Cy(o,u,a);Tr(),o=o.memoizedState,u=Tr();var p=u.queue.dispatch;return u.memoizedState=a,[o,p,!1]}function io(a,o,u,p){return a={tag:a,create:u,deps:p,inst:o,next:null},o=dt.updateQueue,o===null&&(o=Wf(),dt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,o.lastEffect=a),a}function Ty(){return Tr().memoizedState}function Xf(a,o,u,p){var v=En();dt.flags|=a,v.memoizedState=io(1|o,{destroy:void 0},u,p===void 0?null:p)}function Yf(a,o,u,p){var v=Tr();p=p===void 0?null:p;var y=v.memoizedState.inst;Yt!==null&&p!==null&&vm(p,Yt.memoizedState.deps)?v.memoizedState=io(o,y,u,p):(dt.flags|=a,v.memoizedState=io(1|o,y,u,p))}function _y(a,o){Xf(8390656,8,a,o)}function Dm(a,o){Yf(2048,8,a,o)}function b5(a){dt.flags|=4;var o=dt.updateQueue;if(o===null)o=Wf(),dt.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function Dy(a){var o=Tr().memoizedState;return b5({ref:o,nextImpl:a}),function(){if((It&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function ky(a,o){return Yf(4,2,a,o)}function Oy(a,o){return Yf(4,4,a,o)}function By(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function Ny(a,o,u){u=u!=null?u.concat([a]):null,Yf(4,4,By.bind(null,o,a),u)}function km(){}function Ry(a,o){var u=Tr();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&vm(o,p[1])?p[0]:(u.memoizedState=[a,o],a)}function Fy(a,o){var u=Tr();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&vm(o,p[1]))return p[0];if(p=a(),il){Cr(!0);try{a()}finally{Cr(!1)}}return u.memoizedState=[p,o],p}function Om(a,o,u){return u===void 0||(Ts&1073741824)!==0&&(wt&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=Mb(),dt.lanes|=a,ua|=a,u)}function My(a,o,u,p){return Yn(u,o)?u:to.current!==null?(a=Om(a,u,p),Yn(a,o)||(Br=!0),a):(Ts&42)===0||(Ts&1073741824)!==0&&(wt&261930)===0?(Br=!0,a.memoizedState=u):(a=Mb(),dt.lanes|=a,ua|=a,o)}function Ly(a,o,u,p,v){var y=ne.p;ne.p=y!==0&&8>y?y:8;var k=Z.T,z={};Z.T=z,Rm(a,!1,o,u);try{var J=v(),ae=Z.S;if(ae!==null&&ae(z,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var we=m5(J,p);_c(a,o,we,ti(a))}else _c(a,o,p,ti(a))}catch(ke){_c(a,o,{then:function(){},status:"rejected",reason:ke},ti())}finally{ne.p=y,k!==null&&z.types!==null&&(k.types=z.types),Z.T=k}}function S5(){}function Bm(a,o,u,p){if(a.tag!==5)throw Error(n(476));var v=Iy(a).queue;Ly(a,v,o,ve,u===null?S5:function(){return Py(a),u(p)})}function Iy(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:ve},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function Py(a){var o=Iy(a);o.next===null&&(o=a.alternate.memoizedState),_c(a,o.next.queue,{},ti())}function Nm(){return Jr(qc)}function jy(){return Tr().memoizedState}function zy(){return Tr().memoizedState}function w5(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=ti();a=sa(u);var p=aa(o,a,u);p!==null&&(jn(p,o,u),wc(p,o,u)),o={cache:lm()},a.payload=o;return}o=o.return}}function E5(a,o,u){var p=ti();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Kf(a)?Uy(o,u):(u=Kp(a,o,u,p),u!==null&&(jn(u,a,p),Vy(u,o,p)))}function Hy(a,o,u){var p=ti();_c(a,o,u,p)}function _c(a,o,u,p){var v={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Kf(a))Uy(o,v);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var k=o.lastRenderedState,z=y(k,u);if(v.hasEagerState=!0,v.eagerState=z,Yn(z,k))return Of(a,o,v,0),nr===null&&kf(),!1}catch{}finally{}if(u=Kp(a,o,v,p),u!==null)return jn(u,a,p),Vy(u,o,p),!0}return!1}function Rm(a,o,u,p){if(p={lane:2,revertLane:ug(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Kf(a)){if(o)throw Error(n(479))}else o=Kp(a,u,p,2),o!==null&&jn(o,a,2)}function Kf(a){var o=a.alternate;return a===dt||o!==null&&o===dt}function Uy(a,o){ro=Vf=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function Vy(a,o,u){if((u&4194048)!==0){var p=o.lanes;p&=a.pendingLanes,u|=p,o.lanes=u,Tt(a,u)}}var Dc={readContext:Jr,use:Gf,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useLayoutEffect:yr,useInsertionEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useSyncExternalStore:yr,useId:yr,useHostTransitionStatus:yr,useFormState:yr,useActionState:yr,useOptimistic:yr,useMemoCache:yr,useCacheRefresh:yr};Dc.useEffectEvent=yr;var qy={readContext:Jr,use:Gf,useCallback:function(a,o){return En().memoizedState=[a,o===void 0?null:o],a},useContext:Jr,useEffect:_y,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Xf(4194308,4,By.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Xf(4194308,4,a,o)},useInsertionEffect:function(a,o){Xf(4,2,a,o)},useMemo:function(a,o){var u=En();o=o===void 0?null:o;var p=a();if(il){Cr(!0);try{a()}finally{Cr(!1)}}return u.memoizedState=[p,o],p},useReducer:function(a,o,u){var p=En();if(u!==void 0){var v=u(o);if(il){Cr(!0);try{u(o)}finally{Cr(!1)}}}else v=o;return p.memoizedState=p.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},p.queue=a,a=a.dispatch=E5.bind(null,dt,a),[p.memoizedState,a]},useRef:function(a){var o=En();return a={current:a},o.memoizedState=a},useState:function(a){a=Tm(a);var o=a.queue,u=Hy.bind(null,dt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:km,useDeferredValue:function(a,o){var u=En();return Om(u,a,o)},useTransition:function(){var a=Tm(!1);return a=Ly.bind(null,dt,a.queue,!0,!1),En().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var p=dt,v=En();if(_t){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),nr===null)throw Error(n(349));(wt&127)!==0||uy(p,o,u)}v.memoizedState=u;var y={value:u,getSnapshot:o};return v.queue=y,_y(dy.bind(null,p,y,a),[a]),p.flags|=2048,io(9,{destroy:void 0},hy.bind(null,p,y,u,o),null),u},useId:function(){var a=En(),o=nr.identifierPrefix;if(_t){var u=Ji,p=Zi;u=(p&~(1<<32-vr(p)-1)).toString(32)+u,o="_"+o+"R_"+u,u=qf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=g5++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Nm,useFormState:wy,useActionState:wy,useOptimistic:function(a){var o=En();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Rm.bind(null,dt,!0,u),u.dispatch=o,[a,o]},useMemoCache:Em,useCacheRefresh:function(){return En().memoizedState=w5.bind(null,dt)},useEffectEvent:function(a){var o=En(),u={impl:a};return o.memoizedState=u,function(){if((It&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},Fm={readContext:Jr,use:Gf,useCallback:Ry,useContext:Jr,useEffect:Dm,useImperativeHandle:Ny,useInsertionEffect:ky,useLayoutEffect:Oy,useMemo:Fy,useReducer:$f,useRef:Ty,useState:function(){return $f(_s)},useDebugValue:km,useDeferredValue:function(a,o){var u=Tr();return My(u,Yt.memoizedState,a,o)},useTransition:function(){var a=$f(_s)[0],o=Tr().memoizedState;return[typeof a=="boolean"?a:Tc(a),o]},useSyncExternalStore:fy,useId:jy,useHostTransitionStatus:Nm,useFormState:Ey,useActionState:Ey,useOptimistic:function(a,o){var u=Tr();return gy(u,Yt,a,o)},useMemoCache:Em,useCacheRefresh:zy};Fm.useEffectEvent=Dy;var Wy={readContext:Jr,use:Gf,useCallback:Ry,useContext:Jr,useEffect:Dm,useImperativeHandle:Ny,useInsertionEffect:ky,useLayoutEffect:Oy,useMemo:Fy,useReducer:Am,useRef:Ty,useState:function(){return Am(_s)},useDebugValue:km,useDeferredValue:function(a,o){var u=Tr();return Yt===null?Om(u,a,o):My(u,Yt.memoizedState,a,o)},useTransition:function(){var a=Am(_s)[0],o=Tr().memoizedState;return[typeof a=="boolean"?a:Tc(a),o]},useSyncExternalStore:fy,useId:jy,useHostTransitionStatus:Nm,useFormState:Ay,useActionState:Ay,useOptimistic:function(a,o){var u=Tr();return Yt!==null?gy(u,Yt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Em,useCacheRefresh:zy};Wy.useEffectEvent=Dy;function Mm(a,o,u,p){o=a.memoizedState,u=u(p,o),u=u==null?o:m({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Lm={enqueueSetState:function(a,o,u){a=a._reactInternals;var p=ti(),v=sa(p);v.payload=o,u!=null&&(v.callback=u),o=aa(a,v,p),o!==null&&(jn(o,a,p),wc(o,a,p))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var p=ti(),v=sa(p);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=aa(a,v,p),o!==null&&(jn(o,a,p),wc(o,a,p))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=ti(),p=sa(u);p.tag=2,o!=null&&(p.callback=o),o=aa(a,p,u),o!==null&&(jn(o,a,u),wc(o,a,u))}};function Gy(a,o,u,p,v,y,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,y,k):o.prototype&&o.prototype.isPureReactComponent?!pc(u,p)||!pc(v,y):!0}function $y(a,o,u,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==a&&Lm.enqueueReplaceState(o,o.state,null)}function sl(a,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(a=a.defaultProps){u===o&&(u=m({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function Xy(a){Df(a)}function Yy(a){console.error(a)}function Ky(a){Df(a)}function Qf(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function Qy(a,o,u){try{var p=a.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Im(a,o,u){return u=sa(u),u.tag=3,u.payload={element:null},u.callback=function(){Qf(a,o)},u}function Zy(a){return a=sa(a),a.tag=3,a}function Jy(a,o,u,p){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var y=p.value;a.payload=function(){return v(y)},a.callback=function(){Qy(o,u,p)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){Qy(o,u,p),typeof v!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var z=p.stack;this.componentDidCatch(p.value,{componentStack:z!==null?z:""})})}function C5(a,o,u,p,v){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&Kl(o,u,v,!0),u=Qn.current,u!==null){switch(u.tag){case 31:case 13:return Si===null?cu():u.alternate===null&&br===0&&(br=3),u.flags&=-257,u.flags|=65536,u.lanes=v,p===Pf?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),og(a,p,v)),!1;case 22:return u.flags|=65536,p===Pf?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),og(a,p,v)),!1}throw Error(n(435,u.tag))}return og(a,p,v),cu(),!1}if(_t)return o=Qn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,p!==rm&&(a=Error(n(422),{cause:p}),xc(xi(a,u)))):(p!==rm&&(o=Error(n(423),{cause:p}),xc(xi(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,p=xi(p,u),v=Im(a.stateNode,p,v),dm(a,v),br!==4&&(br=2)),!1;var y=Error(n(520),{cause:p});if(y=xi(y,u),Lc===null?Lc=[y]:Lc.push(y),br!==4&&(br=2),o===null)return!0;p=xi(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=Im(u.stateNode,p,a),dm(u,a),!1;case 1:if(o=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ha===null||!ha.has(y))))return u.flags|=65536,v&=-v,u.lanes|=v,v=Zy(v),Jy(v,a,u,p),dm(u,v),!1}u=u.return}while(u!==null);return!1}var Pm=Error(n(461)),Br=!1;function en(a,o,u,p){o.child=a===null?ny(o,null,u,p):nl(o,a.child,u,p)}function eb(a,o,u,p,v){u=u.render;var y=o.ref;if("ref"in p){var k={};for(var z in p)z!=="ref"&&(k[z]=p[z])}else k=p;return Ja(o),p=ym(a,o,u,k,y,v),z=bm(),a!==null&&!Br?(Sm(a,o,v),Ds(a,o,v)):(_t&&z&&em(o),o.flags|=1,en(a,o,p,v),o.child)}function tb(a,o,u,p,v){if(a===null){var y=u.type;return typeof y=="function"&&!Qp(y)&&y.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=y,rb(a,o,y,p,v)):(a=Nf(u.type,null,p,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(y=a.child,!Gm(a,v)){var k=y.memoizedProps;if(u=u.compare,u=u!==null?u:pc,u(k,p)&&a.ref===o.ref)return Ds(a,o,v)}return o.flags|=1,a=ws(y,p),a.ref=o.ref,a.return=o,o.child=a}function rb(a,o,u,p,v){if(a!==null){var y=a.memoizedProps;if(pc(y,p)&&a.ref===o.ref)if(Br=!1,o.pendingProps=p=y,Gm(a,v))(a.flags&131072)!==0&&(Br=!0);else return o.lanes=a.lanes,Ds(a,o,v)}return jm(a,o,u,p,v)}function nb(a,o,u,p){var v=p.children,y=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(y=y!==null?y.baseLanes|u:u,a!==null){for(p=o.child=a.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;p=v&~y}else p=0,o.child=null;return ib(a,o,y,u,p)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Lf(o,y!==null?y.cachePool:null),y!==null?ay(o,y):mm(),ly(o);else return p=o.lanes=536870912,ib(a,o,y!==null?y.baseLanes|u:u,u,p)}else y!==null?(Lf(o,y.cachePool),ay(o,y),oa(),o.memoizedState=null):(a!==null&&Lf(o,null),mm(),oa());return en(a,o,v,u),o.child}function kc(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function ib(a,o,u,p,v){var y=cm();return y=y===null?null:{parent:kr._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},a!==null&&Lf(o,null),mm(),ly(o),a!==null&&Kl(a,o,p,!0),o.childLanes=v,null}function Zf(a,o){return o=eu({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function sb(a,o,u){return nl(o,a.child,null,u),a=Zf(o,o.pendingProps),a.flags|=2,Zn(o),o.memoizedState=null,a}function A5(a,o,u){var p=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(_t){if(p.mode==="hidden")return a=Zf(o,p),o.lanes=536870912,kc(null,a);if(xm(o),(a=cr)?(a=xS(a,bi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ea!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},u=U2(a),u.return=o,o.child=u,Zr=o,cr=null)):a=null,a===null)throw ra(o);return o.lanes=536870912,null}return Zf(o,p)}var y=a.memoizedState;if(y!==null){var k=y.dehydrated;if(xm(o),v)if(o.flags&256)o.flags&=-257,o=sb(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(n(558));else if(Br||Kl(a,o,u,!1),v=(u&a.childLanes)!==0,Br||v){if(p=nr,p!==null&&(k=or(p,u),k!==0&&k!==y.retryLane))throw y.retryLane=k,Ya(a,k),jn(p,a,k),Pm;cu(),o=sb(a,o,u)}else a=y.treeContext,cr=wi(k.nextSibling),Zr=o,_t=!0,ta=null,bi=!1,a!==null&&W2(o,a),o=Zf(o,p),o.flags|=4096;return o}return a=ws(a.child,{mode:p.mode,children:p.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Jf(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function jm(a,o,u,p,v){return Ja(o),u=ym(a,o,u,p,void 0,v),p=bm(),a!==null&&!Br?(Sm(a,o,v),Ds(a,o,v)):(_t&&p&&em(o),o.flags|=1,en(a,o,u,v),o.child)}function ab(a,o,u,p,v,y){return Ja(o),o.updateQueue=null,u=cy(o,p,u,v),oy(a),p=bm(),a!==null&&!Br?(Sm(a,o,y),Ds(a,o,y)):(_t&&p&&em(o),o.flags|=1,en(a,o,u,y),o.child)}function lb(a,o,u,p,v){if(Ja(o),o.stateNode===null){var y=Gl,k=u.contextType;typeof k=="object"&&k!==null&&(y=Jr(k)),y=new u(p,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Lm,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=p,y.state=o.memoizedState,y.refs={},um(o),k=u.contextType,y.context=typeof k=="object"&&k!==null?Jr(k):Gl,y.state=o.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(Mm(o,u,k,p),y.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(k=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),k!==y.state&&Lm.enqueueReplaceState(y,y.state,null),Cc(o,p,y,v),Ec(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(a===null){y=o.stateNode;var z=o.memoizedProps,J=sl(u,z);y.props=J;var ae=y.context,we=u.contextType;k=Gl,typeof we=="object"&&we!==null&&(k=Jr(we));var ke=u.getDerivedStateFromProps;we=typeof ke=="function"||typeof y.getSnapshotBeforeUpdate=="function",z=o.pendingProps!==z,we||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(z||ae!==k)&&$y(o,y,p,k),ia=!1;var ue=o.memoizedState;y.state=ue,Cc(o,p,y,v),Ec(),ae=o.memoizedState,z||ue!==ae||ia?(typeof ke=="function"&&(Mm(o,u,ke,p),ae=o.memoizedState),(J=ia||Gy(o,u,J,p,ue,ae,k))?(we||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=ae),y.props=p,y.state=ae,y.context=k,p=J):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{y=o.stateNode,hm(a,o),k=o.memoizedProps,we=sl(u,k),y.props=we,ke=o.pendingProps,ue=y.context,ae=u.contextType,J=Gl,typeof ae=="object"&&ae!==null&&(J=Jr(ae)),z=u.getDerivedStateFromProps,(ae=typeof z=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==ke||ue!==J)&&$y(o,y,p,J),ia=!1,ue=o.memoizedState,y.state=ue,Cc(o,p,y,v),Ec();var ge=o.memoizedState;k!==ke||ue!==ge||ia||a!==null&&a.dependencies!==null&&Ff(a.dependencies)?(typeof z=="function"&&(Mm(o,u,z,p),ge=o.memoizedState),(we=ia||Gy(o,u,we,p,ue,ge,J)||a!==null&&a.dependencies!==null&&Ff(a.dependencies))?(ae||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(p,ge,J),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(p,ge,J)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||k===a.memoizedProps&&ue===a.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&ue===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=ge),y.props=p,y.state=ge,y.context=J,p=we):(typeof y.componentDidUpdate!="function"||k===a.memoizedProps&&ue===a.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&ue===a.memoizedState||(o.flags|=1024),p=!1)}return y=p,Jf(a,o),p=(o.flags&128)!==0,y||p?(y=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,a!==null&&p?(o.child=nl(o,a.child,null,v),o.child=nl(o,null,u,v)):en(a,o,u,v),o.memoizedState=y.state,a=o.child):a=Ds(a,o,v),a}function ob(a,o,u,p){return Qa(),o.flags|=256,en(a,o,u,p),o.child}var zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hm(a){return{baseLanes:a,cachePool:Q2()}}function Um(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ei),a}function cb(a,o,u){var p=o.pendingProps,v=!1,y=(o.flags&128)!==0,k;if((k=y)||(k=a!==null&&a.memoizedState===null?!1:(Ar.current&2)!==0),k&&(v=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,a===null){if(_t){if(v?la(o):oa(),(a=cr)?(a=xS(a,bi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ea!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},u=U2(a),u.return=o,o.child=u,Zr=o,cr=null)):a=null,a===null)throw ra(o);return Cg(a)?o.lanes=32:o.lanes=536870912,null}var z=p.children;return p=p.fallback,v?(oa(),v=o.mode,z=eu({mode:"hidden",children:z},v),p=Ka(p,v,u,null),z.return=o,p.return=o,z.sibling=p,o.child=z,p=o.child,p.memoizedState=Hm(u),p.childLanes=Um(a,k,u),o.memoizedState=zm,kc(null,p)):(la(o),Vm(o,z))}var J=a.memoizedState;if(J!==null&&(z=J.dehydrated,z!==null)){if(y)o.flags&256?(la(o),o.flags&=-257,o=qm(a,o,u)):o.memoizedState!==null?(oa(),o.child=a.child,o.flags|=128,o=null):(oa(),z=p.fallback,v=o.mode,p=eu({mode:"visible",children:p.children},v),z=Ka(z,v,u,null),z.flags|=2,p.return=o,z.return=o,p.sibling=z,o.child=p,nl(o,a.child,null,u),p=o.child,p.memoizedState=Hm(u),p.childLanes=Um(a,k,u),o.memoizedState=zm,o=kc(null,p));else if(la(o),Cg(z)){if(k=z.nextSibling&&z.nextSibling.dataset,k)var ae=k.dgst;k=ae,p=Error(n(419)),p.stack="",p.digest=k,xc({value:p,source:null,stack:null}),o=qm(a,o,u)}else if(Br||Kl(a,o,u,!1),k=(u&a.childLanes)!==0,Br||k){if(k=nr,k!==null&&(p=or(k,u),p!==0&&p!==J.retryLane))throw J.retryLane=p,Ya(a,p),jn(k,a,p),Pm;Eg(z)||cu(),o=qm(a,o,u)}else Eg(z)?(o.flags|=192,o.child=a.child,o=null):(a=J.treeContext,cr=wi(z.nextSibling),Zr=o,_t=!0,ta=null,bi=!1,a!==null&&W2(o,a),o=Vm(o,p.children),o.flags|=4096);return o}return v?(oa(),z=p.fallback,v=o.mode,J=a.child,ae=J.sibling,p=ws(J,{mode:"hidden",children:p.children}),p.subtreeFlags=J.subtreeFlags&65011712,ae!==null?z=ws(ae,z):(z=Ka(z,v,u,null),z.flags|=2),z.return=o,p.return=o,p.sibling=z,o.child=p,kc(null,p),p=o.child,z=a.child.memoizedState,z===null?z=Hm(u):(v=z.cachePool,v!==null?(J=kr._currentValue,v=v.parent!==J?{parent:J,pool:J}:v):v=Q2(),z={baseLanes:z.baseLanes|u,cachePool:v}),p.memoizedState=z,p.childLanes=Um(a,k,u),o.memoizedState=zm,kc(a.child,p)):(la(o),u=a.child,a=u.sibling,u=ws(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,a!==null&&(k=o.deletions,k===null?(o.deletions=[a],o.flags|=16):k.push(a)),o.child=u,o.memoizedState=null,u)}function Vm(a,o){return o=eu({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function eu(a,o){return a=Kn(22,a,null,o),a.lanes=0,a}function qm(a,o,u){return nl(o,a.child,null,u),a=Vm(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function fb(a,o,u){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),sm(a.return,o,u)}function Wm(a,o,u,p,v,y){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v,treeForkCount:y}:(k.isBackwards=o,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=u,k.tailMode=v,k.treeForkCount=y)}function ub(a,o,u){var p=o.pendingProps,v=p.revealOrder,y=p.tail;p=p.children;var k=Ar.current,z=(k&2)!==0;if(z?(k=k&1|2,o.flags|=128):k&=1,M(Ar,k),en(a,o,p,u),p=_t?gc:0,!z&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&fb(a,u,o);else if(a.tag===19)fb(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&Uf(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Wm(o,!1,v,u,y,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Uf(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}Wm(o,!0,u,null,y,p);break;case"together":Wm(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function Ds(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),ua|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(Kl(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,u=ws(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=ws(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function Gm(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Ff(a)))}function T5(a,o,u){switch(o.tag){case 3:xe(o,o.stateNode.containerInfo),na(o,kr,a.memoizedState.cache),Qa();break;case 27:case 5:be(o);break;case 4:xe(o,o.stateNode.containerInfo);break;case 10:na(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,xm(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(la(o),o.flags|=128,null):(u&o.child.childLanes)!==0?cb(a,o,u):(la(o),a=Ds(a,o,u),a!==null?a.sibling:null);la(o);break;case 19:var v=(a.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(Kl(a,o,u,!1),p=(u&o.childLanes)!==0),v){if(p)return ub(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),M(Ar,Ar.current),p)break;return null;case 22:return o.lanes=0,nb(a,o,u,o.pendingProps);case 24:na(o,kr,a.memoizedState.cache)}return Ds(a,o,u)}function hb(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Br=!0;else{if(!Gm(a,u)&&(o.flags&128)===0)return Br=!1,T5(a,o,u);Br=(a.flags&131072)!==0}else Br=!1,_t&&(o.flags&1048576)!==0&&q2(o,gc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(a=tl(o.elementType),o.type=a,typeof a=="function")Qp(a)?(p=sl(a,p),o.tag=1,o=lb(null,o,a,p,u)):(o.tag=0,o=jm(null,o,a,p,u));else{if(a!=null){var v=a.$$typeof;if(v===_){o.tag=11,o=eb(null,o,a,p,u);break e}else if(v===O){o.tag=14,o=tb(null,o,a,p,u);break e}}throw o=ie(a)||a,Error(n(306,o,""))}}return o;case 0:return jm(a,o,o.type,o.pendingProps,u);case 1:return p=o.type,v=sl(p,o.pendingProps),lb(a,o,p,v,u);case 3:e:{if(xe(o,o.stateNode.containerInfo),a===null)throw Error(n(387));p=o.pendingProps;var y=o.memoizedState;v=y.element,hm(a,o),Cc(o,p,null,u);var k=o.memoizedState;if(p=k.cache,na(o,kr,p),p!==y.cache&&am(o,[kr],u,!0),Ec(),p=k.element,y.isDehydrated)if(y={element:p,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=ob(a,o,p,u);break e}else if(p!==v){v=xi(Error(n(424)),o),xc(v),o=ob(a,o,p,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(cr=wi(a.firstChild),Zr=o,_t=!0,ta=null,bi=!0,u=ny(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Qa(),p===v){o=Ds(a,o,u);break e}en(a,o,p,u)}o=o.child}return o;case 26:return Jf(a,o),a===null?(u=ES(o.type,null,o.pendingProps,null))?o.memoizedState=u:_t||(u=o.type,a=o.pendingProps,p=gu(ee.current).createElement(u),p[V]=o,p[G]=a,tn(p,u,a),Je(p),o.stateNode=p):o.memoizedState=ES(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return be(o),a===null&&_t&&(p=o.stateNode=bS(o.type,o.pendingProps,ee.current),Zr=o,bi=!0,v=cr,ga(o.type)?(Ag=v,cr=wi(p.firstChild)):cr=v),en(a,o,o.pendingProps.children,u),Jf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&_t&&((v=p=cr)&&(p=rD(p,o.type,o.pendingProps,bi),p!==null?(o.stateNode=p,Zr=o,cr=wi(p.firstChild),bi=!1,v=!0):v=!1),v||ra(o)),be(o),v=o.type,y=o.pendingProps,k=a!==null?a.memoizedProps:null,p=y.children,bg(v,y)?p=null:k!==null&&bg(v,k)&&(o.flags|=32),o.memoizedState!==null&&(v=ym(a,o,x5,null,null,u),qc._currentValue=v),Jf(a,o),en(a,o,p,u),o.child;case 6:return a===null&&_t&&((a=u=cr)&&(u=nD(u,o.pendingProps,bi),u!==null?(o.stateNode=u,Zr=o,cr=null,a=!0):a=!1),a||ra(o)),null;case 13:return cb(a,o,u);case 4:return xe(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=nl(o,null,p,u):en(a,o,p,u),o.child;case 11:return eb(a,o,o.type,o.pendingProps,u);case 7:return en(a,o,o.pendingProps,u),o.child;case 8:return en(a,o,o.pendingProps.children,u),o.child;case 12:return en(a,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,na(o,o.type,p.value),en(a,o,p.children,u),o.child;case 9:return v=o.type._context,p=o.pendingProps.children,Ja(o),v=Jr(v),p=p(v),o.flags|=1,en(a,o,p,u),o.child;case 14:return tb(a,o,o.type,o.pendingProps,u);case 15:return rb(a,o,o.type,o.pendingProps,u);case 19:return ub(a,o,u);case 31:return A5(a,o,u);case 22:return nb(a,o,u,o.pendingProps);case 24:return Ja(o),p=Jr(kr),a===null?(v=cm(),v===null&&(v=nr,y=lm(),v.pooledCache=y,y.refCount++,y!==null&&(v.pooledCacheLanes|=u),v=y),o.memoizedState={parent:p,cache:v},um(o),na(o,kr,v)):((a.lanes&u)!==0&&(hm(a,o),Cc(o,null,null,u),Ec()),v=a.memoizedState,y=o.memoizedState,v.parent!==p?(v={parent:p,cache:p},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),na(o,kr,p)):(p=y.cache,na(o,kr,p),p!==v.cache&&am(o,[kr],u,!0))),en(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function ks(a){a.flags|=4}function $m(a,o,u,p,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(jb())a.flags|=8192;else throw rl=Pf,fm}else a.flags&=-16777217}function db(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!DS(o))if(jb())a.flags|=8192;else throw rl=Pf,fm}function tu(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Ze():536870912,a.lanes|=o,oo|=o)}function Oc(a,o){if(!_t)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function fr(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=p,a.childLanes=u,o}function _5(a,o,u){var p=o.pendingProps;switch(tm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(o),null;case 1:return fr(o),null;case 3:return u=o.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),As(kr),Te(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Yl(o)?ks(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,nm())),fr(o),null;case 26:var v=o.type,y=o.memoizedState;return a===null?(ks(o),y!==null?(fr(o),db(o,y)):(fr(o),$m(o,v,null,p,u))):y?y!==a.memoizedState?(ks(o),fr(o),db(o,y)):(fr(o),o.flags&=-16777217):(a=a.memoizedProps,a!==p&&ks(o),fr(o),$m(o,v,a,p,u)),null;case 27:if(tt(o),u=ee.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&ks(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return fr(o),null}a=R.current,Yl(o)?G2(o):(a=bS(v,p,u),o.stateNode=a,ks(o))}return fr(o),null;case 5:if(tt(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&ks(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return fr(o),null}if(y=R.current,Yl(o))G2(o);else{var k=gu(ee.current);switch(y){case 1:y=k.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:y=k.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":y=k.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":y=k.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":y=k.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof p.is=="string"?k.createElement("select",{is:p.is}):k.createElement("select"),p.multiple?y.multiple=!0:p.size&&(y.size=p.size);break;default:y=typeof p.is=="string"?k.createElement(v,{is:p.is}):k.createElement(v)}}y[V]=o,y[G]=p;e:for(k=o.child;k!==null;){if(k.tag===5||k.tag===6)y.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===o)break e;for(;k.sibling===null;){if(k.return===null||k.return===o)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}o.stateNode=y;e:switch(tn(y,v,p),v){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ks(o)}}return fr(o),$m(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==p&&ks(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(a=ee.current,Yl(o)){if(a=o.stateNode,u=o.memoizedProps,p=null,v=Zr,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}a[V]=o,a=!!(a.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||cS(a.nodeValue,u)),a||ra(o,!0)}else a=gu(a).createTextNode(p),a[V]=o,o.stateNode=a}return fr(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(p=Yl(o),u!==null){if(a===null){if(!p)throw Error(n(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[V]=o}else Qa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;fr(o),a=!1}else u=nm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Zn(o),o):(Zn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return fr(o),null;case 13:if(p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Yl(o),p!==null&&p.dehydrated!==null){if(a===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[V]=o}else Qa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;fr(o),v=!1}else v=nm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Zn(o),o):(Zn(o),null)}return Zn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=p!==null,a=a!==null&&a.memoizedState!==null,u&&(p=o.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool),y=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(y=p.memoizedState.cachePool.pool),y!==v&&(p.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),tu(o,o.updateQueue),fr(o),null);case 4:return Te(),a===null&&mg(o.stateNode.containerInfo),fr(o),null;case 10:return As(o.type),fr(o),null;case 19:if(D(Ar),p=o.memoizedState,p===null)return fr(o),null;if(v=(o.flags&128)!==0,y=p.rendering,y===null)if(v)Oc(p,!1);else{if(br!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(y=Uf(a),y!==null){for(o.flags|=128,Oc(p,!1),a=y.updateQueue,o.updateQueue=a,tu(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)H2(u,a),u=u.sibling;return M(Ar,Ar.current&1|2),_t&&Es(o,p.treeForkCount),o.child}a=a.sibling}p.tail!==null&&he()>au&&(o.flags|=128,v=!0,Oc(p,!1),o.lanes=4194304)}else{if(!v)if(a=Uf(y),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,tu(o,a),Oc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!_t)return fr(o),null}else 2*he()-p.renderingStartTime>au&&u!==536870912&&(o.flags|=128,v=!0,Oc(p,!1),o.lanes=4194304);p.isBackwards?(y.sibling=o.child,o.child=y):(a=p.last,a!==null?a.sibling=y:o.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=he(),a.sibling=null,u=Ar.current,M(Ar,v?u&1|2:u&1),_t&&Es(o,p.treeForkCount),a):(fr(o),null);case 22:case 23:return Zn(o),gm(),p=o.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(fr(o),o.subtreeFlags&6&&(o.flags|=8192)):fr(o),u=o.updateQueue,u!==null&&tu(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),a!==null&&D(el),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),As(kr),fr(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function D5(a,o){switch(tm(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return As(kr),Te(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return tt(o),null;case 31:if(o.memoizedState!==null){if(Zn(o),o.alternate===null)throw Error(n(340));Qa()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Zn(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Qa()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return D(Ar),null;case 4:return Te(),null;case 10:return As(o.type),null;case 22:case 23:return Zn(o),gm(),a!==null&&D(el),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return As(kr),null;case 25:return null;default:return null}}function pb(a,o){switch(tm(o),o.tag){case 3:As(kr),Te();break;case 26:case 27:case 5:tt(o);break;case 4:Te();break;case 31:o.memoizedState!==null&&Zn(o);break;case 13:Zn(o);break;case 19:D(Ar);break;case 10:As(o.type);break;case 22:case 23:Zn(o),gm(),a!==null&&D(el);break;case 24:As(kr)}}function Bc(a,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&a)===a){p=void 0;var y=u.create,k=u.inst;p=y(),k.destroy=p}u=u.next}while(u!==v)}}catch(z){Ht(o,o.return,z)}}function ca(a,o,u){try{var p=o.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var y=v.next;p=y;do{if((p.tag&a)===a){var k=p.inst,z=k.destroy;if(z!==void 0){k.destroy=void 0,v=o;var J=u,ae=z;try{ae()}catch(we){Ht(v,J,we)}}}p=p.next}while(p!==y)}}catch(we){Ht(o,o.return,we)}}function mb(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{sy(o,u)}catch(p){Ht(a,a.return,p)}}}function gb(a,o,u){u.props=sl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(p){Ht(a,o,p)}}function Nc(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof u=="function"?a.refCleanup=u(p):u.current=p}}catch(v){Ht(a,o,v)}}function es(a,o){var u=a.ref,p=a.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(v){Ht(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Ht(a,o,v)}else u.current=null}function xb(a){var o=a.type,u=a.memoizedProps,p=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(v){Ht(a,a.return,v)}}function Xm(a,o,u){try{var p=a.stateNode;K5(p,a.type,u,o),p[G]=o}catch(v){Ht(a,a.return,v)}}function vb(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ga(a.type)||a.tag===4}function Ym(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||vb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ga(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Km(a,o,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=bs));else if(p!==4&&(p===27&&ga(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(Km(a,o,u),a=a.sibling;a!==null;)Km(a,o,u),a=a.sibling}function ru(a,o,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(p!==4&&(p===27&&ga(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(ru(a,o,u),a=a.sibling;a!==null;)ru(a,o,u),a=a.sibling}function yb(a){var o=a.stateNode,u=a.memoizedProps;try{for(var p=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);tn(o,p,u),o[V]=a,o[G]=u}catch(y){Ht(a,a.return,y)}}var Os=!1,Nr=!1,Qm=!1,bb=typeof WeakSet=="function"?WeakSet:Set,Vr=null;function k5(a,o){if(a=a.containerInfo,vg=Eu,a=N2(a),qp(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,y=p.focusNode;p=p.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var k=0,z=-1,J=-1,ae=0,we=0,ke=a,ue=null;t:for(;;){for(var ge;ke!==u||v!==0&&ke.nodeType!==3||(z=k+v),ke!==y||p!==0&&ke.nodeType!==3||(J=k+p),ke.nodeType===3&&(k+=ke.nodeValue.length),(ge=ke.firstChild)!==null;)ue=ke,ke=ge;for(;;){if(ke===a)break t;if(ue===u&&++ae===v&&(z=k),ue===y&&++we===p&&(J=k),(ge=ke.nextSibling)!==null)break;ke=ue,ue=ke.parentNode}ke=ge}u=z===-1||J===-1?null:{start:z,end:J}}else u=null}u=u||{start:0,end:0}}else u=null;for(yg={focusedElem:a,selectionRange:u},Eu=!1,Vr=o;Vr!==null;)if(o=Vr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Vr=a;else for(;Vr!==null;){switch(o=Vr,y=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,u=o,v=y.memoizedProps,y=y.memoizedState,p=u.stateNode;try{var Qe=sl(u.type,v);a=p.getSnapshotBeforeUpdate(Qe,y),p.__reactInternalSnapshotBeforeUpdate=a}catch(lt){Ht(u,u.return,lt)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)wg(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":wg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=o.sibling,a!==null){a.return=o.return,Vr=a;break}Vr=o.return}}function Sb(a,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:Ns(a,u),p&4&&Bc(5,u);break;case 1:if(Ns(a,u),p&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(k){Ht(u,u.return,k)}else{var v=sl(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(k){Ht(u,u.return,k)}}p&64&&mb(u),p&512&&Nc(u,u.return);break;case 3:if(Ns(a,u),p&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{sy(a,o)}catch(k){Ht(u,u.return,k)}}break;case 27:o===null&&p&4&&yb(u);case 26:case 5:Ns(a,u),o===null&&p&4&&xb(u),p&512&&Nc(u,u.return);break;case 12:Ns(a,u);break;case 31:Ns(a,u),p&4&&Cb(a,u);break;case 13:Ns(a,u),p&4&&Ab(a,u),p&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=P5.bind(null,u),iD(a,u))));break;case 22:if(p=u.memoizedState!==null||Os,!p){o=o!==null&&o.memoizedState!==null||Nr,v=Os;var y=Nr;Os=p,(Nr=o)&&!y?Rs(a,u,(u.subtreeFlags&8772)!==0):Ns(a,u),Os=v,Nr=y}break;case 30:break;default:Ns(a,u)}}function wb(a){var o=a.alternate;o!==null&&(a.alternate=null,wb(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Fe(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var mr=null,Mn=!1;function Bs(a,o,u){for(u=u.child;u!==null;)Eb(a,o,u),u=u.sibling}function Eb(a,o,u){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Xn,u)}catch{}switch(u.tag){case 26:Nr||es(u,o),Bs(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Nr||es(u,o);var p=mr,v=Mn;ga(u.type)&&(mr=u.stateNode,Mn=!1),Bs(a,o,u),Hc(u.stateNode),mr=p,Mn=v;break;case 5:Nr||es(u,o);case 6:if(p=mr,v=Mn,mr=null,Bs(a,o,u),mr=p,Mn=v,mr!==null)if(Mn)try{(mr.nodeType===9?mr.body:mr.nodeName==="HTML"?mr.ownerDocument.body:mr).removeChild(u.stateNode)}catch(y){Ht(u,o,y)}else try{mr.removeChild(u.stateNode)}catch(y){Ht(u,o,y)}break;case 18:mr!==null&&(Mn?(a=mr,mS(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),xo(a)):mS(mr,u.stateNode));break;case 4:p=mr,v=Mn,mr=u.stateNode.containerInfo,Mn=!0,Bs(a,o,u),mr=p,Mn=v;break;case 0:case 11:case 14:case 15:ca(2,u,o),Nr||ca(4,u,o),Bs(a,o,u);break;case 1:Nr||(es(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&gb(u,o,p)),Bs(a,o,u);break;case 21:Bs(a,o,u);break;case 22:Nr=(p=Nr)||u.memoizedState!==null,Bs(a,o,u),Nr=p;break;default:Bs(a,o,u)}}function Cb(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{xo(a)}catch(u){Ht(o,o.return,u)}}}function Ab(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{xo(a)}catch(u){Ht(o,o.return,u)}}function O5(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new bb),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new bb),o;default:throw Error(n(435,a.tag))}}function nu(a,o){var u=O5(a);o.forEach(function(p){if(!u.has(p)){u.add(p);var v=j5.bind(null,a,p);p.then(v,v)}})}function Ln(a,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p],y=a,k=o,z=k;e:for(;z!==null;){switch(z.tag){case 27:if(ga(z.type)){mr=z.stateNode,Mn=!1;break e}break;case 5:mr=z.stateNode,Mn=!1;break e;case 3:case 4:mr=z.stateNode.containerInfo,Mn=!0;break e}z=z.return}if(mr===null)throw Error(n(160));Eb(y,k,v),mr=null,Mn=!1,y=v.alternate,y!==null&&(y.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Tb(o,a),o=o.sibling}var Li=null;function Tb(a,o){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ln(o,a),In(a),p&4&&(ca(3,a,a.return),Bc(3,a),ca(5,a,a.return));break;case 1:Ln(o,a),In(a),p&512&&(Nr||u===null||es(u,u.return)),p&64&&Os&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var v=Li;if(Ln(o,a),In(a),p&512&&(Nr||u===null||es(u,u.return)),p&4){var y=u!==null?u.memoizedState:null;if(p=a.memoizedState,u===null)if(p===null)if(a.stateNode===null){e:{p=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":y=v.getElementsByTagName("title")[0],(!y||y[de]||y[V]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=v.createElement(p),v.head.insertBefore(y,v.querySelector("head > title"))),tn(y,p,u),y[V]=a,Je(y),p=y;break e;case"link":var k=TS("link","href",v).get(p+(u.href||""));if(k){for(var z=0;z<k.length;z++)if(y=k[z],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(z,1);break t}}y=v.createElement(p),tn(y,p,u),v.head.appendChild(y);break;case"meta":if(k=TS("meta","content",v).get(p+(u.content||""))){for(z=0;z<k.length;z++)if(y=k[z],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(z,1);break t}}y=v.createElement(p),tn(y,p,u),v.head.appendChild(y);break;default:throw Error(n(468,p))}y[V]=a,Je(y),p=y}a.stateNode=p}else _S(v,a.type,a.stateNode);else a.stateNode=AS(v,p,a.memoizedProps);else y!==p?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,p===null?_S(v,a.type,a.stateNode):AS(v,p,a.memoizedProps)):p===null&&a.stateNode!==null&&Xm(a,a.memoizedProps,u.memoizedProps)}break;case 27:Ln(o,a),In(a),p&512&&(Nr||u===null||es(u,u.return)),u!==null&&p&4&&Xm(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Ln(o,a),In(a),p&512&&(Nr||u===null||es(u,u.return)),a.flags&32){v=a.stateNode;try{jl(v,"")}catch(Qe){Ht(a,a.return,Qe)}}p&4&&a.stateNode!=null&&(v=a.memoizedProps,Xm(a,v,u!==null?u.memoizedProps:v)),p&1024&&(Qm=!0);break;case 6:if(Ln(o,a),In(a),p&4){if(a.stateNode===null)throw Error(n(162));p=a.memoizedProps,u=a.stateNode;try{u.nodeValue=p}catch(Qe){Ht(a,a.return,Qe)}}break;case 3:if(yu=null,v=Li,Li=xu(o.containerInfo),Ln(o,a),Li=v,In(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{xo(o.containerInfo)}catch(Qe){Ht(a,a.return,Qe)}Qm&&(Qm=!1,_b(a));break;case 4:p=Li,Li=xu(a.stateNode.containerInfo),Ln(o,a),In(a),Li=p;break;case 12:Ln(o,a),In(a);break;case 31:Ln(o,a),In(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,nu(a,p)));break;case 13:Ln(o,a),In(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(su=he()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,nu(a,p)));break;case 22:v=a.memoizedState!==null;var J=u!==null&&u.memoizedState!==null,ae=Os,we=Nr;if(Os=ae||v,Nr=we||J,Ln(o,a),Nr=we,Os=ae,In(a),p&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||J||Os||Nr||al(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){J=u=o;try{if(y=J.stateNode,v)k=y.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{z=J.stateNode;var ke=J.memoizedProps.style,ue=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;z.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(Qe){Ht(J,J.return,Qe)}}}else if(o.tag===6){if(u===null){J=o;try{J.stateNode.nodeValue=v?"":J.memoizedProps}catch(Qe){Ht(J,J.return,Qe)}}}else if(o.tag===18){if(u===null){J=o;try{var ge=J.stateNode;v?gS(ge,!0):gS(J.stateNode,!1)}catch(Qe){Ht(J,J.return,Qe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=a.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,nu(a,u))));break;case 19:Ln(o,a),In(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,nu(a,p)));break;case 30:break;case 21:break;default:Ln(o,a),In(a)}}function In(a){var o=a.flags;if(o&2){try{for(var u,p=a.return;p!==null;){if(vb(p)){u=p;break}p=p.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var v=u.stateNode,y=Ym(a);ru(a,y,v);break;case 5:var k=u.stateNode;u.flags&32&&(jl(k,""),u.flags&=-33);var z=Ym(a);ru(a,z,k);break;case 3:case 4:var J=u.stateNode.containerInfo,ae=Ym(a);Km(a,ae,J);break;default:throw Error(n(161))}}catch(we){Ht(a,a.return,we)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function _b(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;_b(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ns(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Sb(a,o.alternate,o),o=o.sibling}function al(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:ca(4,o,o.return),al(o);break;case 1:es(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&gb(o,o.return,u),al(o);break;case 27:Hc(o.stateNode);case 26:case 5:es(o,o.return),al(o);break;case 22:o.memoizedState===null&&al(o);break;case 30:al(o);break;default:al(o)}a=a.sibling}}function Rs(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,v=a,y=o,k=y.flags;switch(y.tag){case 0:case 11:case 15:Rs(v,y,u),Bc(4,y);break;case 1:if(Rs(v,y,u),p=y,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ae){Ht(p,p.return,ae)}if(p=y,v=p.updateQueue,v!==null){var z=p.stateNode;try{var J=v.shared.hiddenCallbacks;if(J!==null)for(v.shared.hiddenCallbacks=null,v=0;v<J.length;v++)iy(J[v],z)}catch(ae){Ht(p,p.return,ae)}}u&&k&64&&mb(y),Nc(y,y.return);break;case 27:yb(y);case 26:case 5:Rs(v,y,u),u&&p===null&&k&4&&xb(y),Nc(y,y.return);break;case 12:Rs(v,y,u);break;case 31:Rs(v,y,u),u&&k&4&&Cb(v,y);break;case 13:Rs(v,y,u),u&&k&4&&Ab(v,y);break;case 22:y.memoizedState===null&&Rs(v,y,u),Nc(y,y.return);break;case 30:break;default:Rs(v,y,u)}o=o.sibling}}function Zm(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&vc(u))}function Jm(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&vc(a))}function Ii(a,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Db(a,o,u,p),o=o.sibling}function Db(a,o,u,p){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Ii(a,o,u,p),v&2048&&Bc(9,o);break;case 1:Ii(a,o,u,p);break;case 3:Ii(a,o,u,p),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&vc(a)));break;case 12:if(v&2048){Ii(a,o,u,p),a=o.stateNode;try{var y=o.memoizedProps,k=y.id,z=y.onPostCommit;typeof z=="function"&&z(k,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(J){Ht(o,o.return,J)}}else Ii(a,o,u,p);break;case 31:Ii(a,o,u,p);break;case 13:Ii(a,o,u,p);break;case 23:break;case 22:y=o.stateNode,k=o.alternate,o.memoizedState!==null?y._visibility&2?Ii(a,o,u,p):Rc(a,o):y._visibility&2?Ii(a,o,u,p):(y._visibility|=2,so(a,o,u,p,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Zm(k,o);break;case 24:Ii(a,o,u,p),v&2048&&Jm(o.alternate,o);break;default:Ii(a,o,u,p)}}function so(a,o,u,p,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var y=a,k=o,z=u,J=p,ae=k.flags;switch(k.tag){case 0:case 11:case 15:so(y,k,z,J,v),Bc(8,k);break;case 23:break;case 22:var we=k.stateNode;k.memoizedState!==null?we._visibility&2?so(y,k,z,J,v):Rc(y,k):(we._visibility|=2,so(y,k,z,J,v)),v&&ae&2048&&Zm(k.alternate,k);break;case 24:so(y,k,z,J,v),v&&ae&2048&&Jm(k.alternate,k);break;default:so(y,k,z,J,v)}o=o.sibling}}function Rc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,p=o,v=p.flags;switch(p.tag){case 22:Rc(u,p),v&2048&&Zm(p.alternate,p);break;case 24:Rc(u,p),v&2048&&Jm(p.alternate,p);break;default:Rc(u,p)}o=o.sibling}}var Fc=8192;function ao(a,o,u){if(a.subtreeFlags&Fc)for(a=a.child;a!==null;)kb(a,o,u),a=a.sibling}function kb(a,o,u){switch(a.tag){case 26:ao(a,o,u),a.flags&Fc&&a.memoizedState!==null&&gD(u,Li,a.memoizedState,a.memoizedProps);break;case 5:ao(a,o,u);break;case 3:case 4:var p=Li;Li=xu(a.stateNode.containerInfo),ao(a,o,u),Li=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Fc,Fc=16777216,ao(a,o,u),Fc=p):ao(a,o,u));break;default:ao(a,o,u)}}function Ob(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Mc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Vr=p,Nb(p,a)}Ob(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Bb(a),a=a.sibling}function Bb(a){switch(a.tag){case 0:case 11:case 15:Mc(a),a.flags&2048&&ca(9,a,a.return);break;case 3:Mc(a);break;case 12:Mc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,iu(a)):Mc(a);break;default:Mc(a)}}function iu(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Vr=p,Nb(p,a)}Ob(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:ca(8,o,o.return),iu(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,iu(o));break;default:iu(o)}a=a.sibling}}function Nb(a,o){for(;Vr!==null;){var u=Vr;switch(u.tag){case 0:case 11:case 15:ca(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:vc(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Vr=p;else e:for(u=a;Vr!==null;){p=Vr;var v=p.sibling,y=p.return;if(wb(p),p===u){Vr=null;break e}if(v!==null){v.return=y,Vr=v;break e}Vr=y}}}var B5={getCacheForType:function(a){var o=Jr(kr),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return Jr(kr).controller.signal}},N5=typeof WeakMap=="function"?WeakMap:Map,It=0,nr=null,yt=null,wt=0,zt=0,Jn=null,fa=!1,lo=!1,eg=!1,Fs=0,br=0,ua=0,ll=0,tg=0,ei=0,oo=0,Lc=null,Pn=null,rg=!1,su=0,Rb=0,au=1/0,lu=null,ha=null,Pr=0,da=null,co=null,Ms=0,ng=0,ig=null,Fb=null,Ic=0,sg=null;function ti(){return(It&2)!==0&&wt!==0?wt&-wt:Z.T!==null?ug():L()}function Mb(){if(ei===0)if((wt&536870912)===0||_t){var a=hi;hi<<=1,(hi&3932160)===0&&(hi=262144),ei=a}else ei=536870912;return a=Qn.current,a!==null&&(a.flags|=32),ei}function jn(a,o,u){(a===nr&&(zt===2||zt===9)||a.cancelPendingCommit!==null)&&(fo(a,0),pa(a,wt,ei,!1)),at(a,u),((It&2)===0||a!==nr)&&(a===nr&&((It&2)===0&&(ll|=u),br===4&&pa(a,wt,ei,!1)),ts(a))}function Lb(a,o,u){if((It&6)!==0)throw Error(n(327));var p=!u&&(o&127)===0&&(o&a.expiredLanes)===0||Ve(a,o),v=p?M5(a,o):lg(a,o,!0),y=p;do{if(v===0){lo&&!p&&pa(a,o,0,!1);break}else{if(u=a.current.alternate,y&&!R5(u)){v=lg(a,o,!1),y=!1;continue}if(v===2){if(y=o,a.errorRecoveryDisabledLanes&y)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;e:{var z=a;v=Lc;var J=z.current.memoizedState.isDehydrated;if(J&&(fo(z,k).flags|=256),k=lg(z,k,!1),k!==2){if(eg&&!J){z.errorRecoveryDisabledLanes|=y,ll|=y,v=4;break e}y=Pn,Pn=v,y!==null&&(Pn===null?Pn=y:Pn.push.apply(Pn,y))}v=k}if(y=!1,v!==2)continue}}if(v===1){fo(a,0),pa(a,o,0,!0);break}e:{switch(p=a,y=v,y){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:pa(p,o,ei,!fa);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(v=su+300-he(),10<v)){if(pa(p,o,ei,!fa),Me(p,0,!0)!==0)break e;Ms=o,p.timeoutHandle=dS(Ib.bind(null,p,u,Pn,lu,rg,o,ei,ll,oo,fa,y,"Throttled",-0,0),v);break e}Ib(p,u,Pn,lu,rg,o,ei,ll,oo,fa,y,null,-0,0)}}break}while(!0);ts(a)}function Ib(a,o,u,p,v,y,k,z,J,ae,we,ke,ue,ge){if(a.timeoutHandle=-1,ke=o.subtreeFlags,ke&8192||(ke&16785408)===16785408){ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bs},kb(o,y,ke);var Qe=(y&62914560)===y?su-he():(y&4194048)===y?Rb-he():0;if(Qe=xD(ke,Qe),Qe!==null){Ms=y,a.cancelPendingCommit=Qe(Wb.bind(null,a,o,y,u,p,v,k,z,J,we,ke,null,ue,ge)),pa(a,y,k,!ae);return}}Wb(a,o,y,u,p,v,k,z,J)}function R5(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var v=u[p],y=v.getSnapshot;v=v.value;try{if(!Yn(y(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function pa(a,o,u,p){o&=~tg,o&=~ll,a.suspendedLanes|=o,a.pingedLanes&=~o,p&&(a.warmLanes|=o),p=a.expirationTimes;for(var v=o;0<v;){var y=31-vr(v),k=1<<y;p[y]=-1,v&=~k}u!==0&&rr(a,u,o)}function ou(){return(It&6)===0?(Pc(0),!1):!0}function ag(){if(yt!==null){if(zt===0)var a=yt.return;else a=yt,Cs=Za=null,wm(a),eo=null,bc=0,a=yt;for(;a!==null;)pb(a.alternate,a),a=a.return;yt=null}}function fo(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,J5(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ms=0,ag(),nr=a,yt=u=ws(a.current,null),wt=o,zt=0,Jn=null,fa=!1,lo=Ve(a,o),eg=!1,oo=ei=tg=ll=ua=br=0,Pn=Lc=null,rg=!1,(o&8)!==0&&(o|=o&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=o;0<p;){var v=31-vr(p),y=1<<v;o|=a[v],p&=~y}return Fs=o,kf(),u}function Pb(a,o){dt=null,Z.H=Dc,o===Jl||o===If?(o=ey(),zt=3):o===fm?(o=ey(),zt=4):zt=o===Pm?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Jn=o,yt===null&&(br=1,Qf(a,xi(o,a.current)))}function jb(){var a=Qn.current;return a===null?!0:(wt&4194048)===wt?Si===null:(wt&62914560)===wt||(wt&536870912)!==0?a===Si:!1}function zb(){var a=Z.H;return Z.H=Dc,a===null?Dc:a}function Hb(){var a=Z.A;return Z.A=B5,a}function cu(){br=4,fa||(wt&4194048)!==wt&&Qn.current!==null||(lo=!0),(ua&134217727)===0&&(ll&134217727)===0||nr===null||pa(nr,wt,ei,!1)}function lg(a,o,u){var p=It;It|=2;var v=zb(),y=Hb();(nr!==a||wt!==o)&&(lu=null,fo(a,o)),o=!1;var k=br;e:do try{if(zt!==0&&yt!==null){var z=yt,J=Jn;switch(zt){case 8:ag(),k=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(o=!0);var ae=zt;if(zt=0,Jn=null,uo(a,z,J,ae),u&&lo){k=0;break e}break;default:ae=zt,zt=0,Jn=null,uo(a,z,J,ae)}}F5(),k=br;break}catch(we){Pb(a,we)}while(!0);return o&&a.shellSuspendCounter++,Cs=Za=null,It=p,Z.H=v,Z.A=y,yt===null&&(nr=null,wt=0,kf()),k}function F5(){for(;yt!==null;)Ub(yt)}function M5(a,o){var u=It;It|=2;var p=zb(),v=Hb();nr!==a||wt!==o?(lu=null,au=he()+500,fo(a,o)):lo=Ve(a,o);e:do try{if(zt!==0&&yt!==null){o=yt;var y=Jn;t:switch(zt){case 1:zt=0,Jn=null,uo(a,o,y,1);break;case 2:case 9:if(Z2(y)){zt=0,Jn=null,Vb(o);break}o=function(){zt!==2&&zt!==9||nr!==a||(zt=7),ts(a)},y.then(o,o);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:Z2(y)?(zt=0,Jn=null,Vb(o)):(zt=0,Jn=null,uo(a,o,y,7));break;case 5:var k=null;switch(yt.tag){case 26:k=yt.memoizedState;case 5:case 27:var z=yt;if(k?DS(k):z.stateNode.complete){zt=0,Jn=null;var J=z.sibling;if(J!==null)yt=J;else{var ae=z.return;ae!==null?(yt=ae,fu(ae)):yt=null}break t}}zt=0,Jn=null,uo(a,o,y,5);break;case 6:zt=0,Jn=null,uo(a,o,y,6);break;case 8:ag(),br=6;break e;default:throw Error(n(462))}}L5();break}catch(we){Pb(a,we)}while(!0);return Cs=Za=null,Z.H=p,Z.A=v,It=u,yt!==null?0:(nr=null,wt=0,kf(),br)}function L5(){for(;yt!==null&&!er();)Ub(yt)}function Ub(a){var o=hb(a.alternate,a,Fs);a.memoizedProps=a.pendingProps,o===null?fu(a):yt=o}function Vb(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=ab(u,o,o.pendingProps,o.type,void 0,wt);break;case 11:o=ab(u,o,o.pendingProps,o.type.render,o.ref,wt);break;case 5:wm(o);default:pb(u,o),o=yt=H2(o,Fs),o=hb(u,o,Fs)}a.memoizedProps=a.pendingProps,o===null?fu(a):yt=o}function uo(a,o,u,p){Cs=Za=null,wm(o),eo=null,bc=0;var v=o.return;try{if(C5(a,v,o,u,wt)){br=1,Qf(a,xi(u,a.current)),yt=null;return}}catch(y){if(v!==null)throw yt=v,y;br=1,Qf(a,xi(u,a.current)),yt=null;return}o.flags&32768?(_t||p===1?a=!0:lo||(wt&536870912)!==0?a=!1:(fa=a=!0,(p===2||p===9||p===3||p===6)&&(p=Qn.current,p!==null&&p.tag===13&&(p.flags|=16384))),qb(o,a)):fu(o)}function fu(a){var o=a;do{if((o.flags&32768)!==0){qb(o,fa);return}a=o.return;var u=_5(o.alternate,o,Fs);if(u!==null){yt=u;return}if(o=o.sibling,o!==null){yt=o;return}yt=o=a}while(o!==null);br===0&&(br=5)}function qb(a,o){do{var u=D5(a.alternate,a);if(u!==null){u.flags&=32767,yt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){yt=a;return}yt=a=u}while(a!==null);br=6,yt=null}function Wb(a,o,u,p,v,y,k,z,J){a.cancelPendingCommit=null;do uu();while(Pr!==0);if((It&6)!==0)throw Error(n(327));if(o!==null){if(o===a.current)throw Error(n(177));if(y=o.lanes|o.childLanes,y|=Yp,At(a,u,y,k,z,J),a===nr&&(yt=nr=null,wt=0),co=o,da=a,Ms=u,ng=y,ig=v,Fb=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,z5(vt,function(){return Kb(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=Z.T,Z.T=null,v=ne.p,ne.p=2,k=It,It|=4;try{k5(a,o,u)}finally{It=k,ne.p=v,Z.T=p}}Pr=1,Gb(),$b(),Xb()}}function Gb(){if(Pr===1){Pr=0;var a=da,o=co,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null;var p=ne.p;ne.p=2;var v=It;It|=4;try{Tb(o,a);var y=yg,k=N2(a.containerInfo),z=y.focusedElem,J=y.selectionRange;if(k!==z&&z&&z.ownerDocument&&B2(z.ownerDocument.documentElement,z)){if(J!==null&&qp(z)){var ae=J.start,we=J.end;if(we===void 0&&(we=ae),"selectionStart"in z)z.selectionStart=ae,z.selectionEnd=Math.min(we,z.value.length);else{var ke=z.ownerDocument||document,ue=ke&&ke.defaultView||window;if(ue.getSelection){var ge=ue.getSelection(),Qe=z.textContent.length,lt=Math.min(J.start,Qe),Qt=J.end===void 0?lt:Math.min(J.end,Qe);!ge.extend&&lt>Qt&&(k=Qt,Qt=lt,lt=k);var re=O2(z,lt),te=O2(z,Qt);if(re&&te&&(ge.rangeCount!==1||ge.anchorNode!==re.node||ge.anchorOffset!==re.offset||ge.focusNode!==te.node||ge.focusOffset!==te.offset)){var se=ke.createRange();se.setStart(re.node,re.offset),ge.removeAllRanges(),lt>Qt?(ge.addRange(se),ge.extend(te.node,te.offset)):(se.setEnd(te.node,te.offset),ge.addRange(se))}}}}for(ke=[],ge=z;ge=ge.parentNode;)ge.nodeType===1&&ke.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<ke.length;z++){var _e=ke[z];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}Eu=!!vg,yg=vg=null}finally{It=v,ne.p=p,Z.T=u}}a.current=o,Pr=2}}function $b(){if(Pr===2){Pr=0;var a=da,o=co,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Z.T,Z.T=null;var p=ne.p;ne.p=2;var v=It;It|=4;try{Sb(a,o.alternate,o)}finally{It=v,ne.p=p,Z.T=u}}Pr=3}}function Xb(){if(Pr===4||Pr===3){Pr=0,Gt();var a=da,o=co,u=Ms,p=Fb;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Pr=5:(Pr=0,co=da=null,Yb(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(ha=null),wn(u),o=o.stateNode,tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Xn,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=Z.T,v=ne.p,ne.p=2,Z.T=null;try{for(var y=a.onRecoverableError,k=0;k<p.length;k++){var z=p[k];y(z.value,{componentStack:z.stack})}}finally{Z.T=o,ne.p=v}}(Ms&3)!==0&&uu(),ts(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===sg?Ic++:(Ic=0,sg=a):Ic=0,Pc(0)}}function Yb(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,vc(o)))}function uu(){return Gb(),$b(),Xb(),Kb()}function Kb(){if(Pr!==5)return!1;var a=da,o=ng;ng=0;var u=wn(Ms),p=Z.T,v=ne.p;try{ne.p=32>u?32:u,Z.T=null,u=ig,ig=null;var y=da,k=Ms;if(Pr=0,co=da=null,Ms=0,(It&6)!==0)throw Error(n(331));var z=It;if(It|=4,Bb(y.current),Db(y,y.current,k,u),It=z,Pc(0,!1),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Xn,y)}catch{}return!0}finally{ne.p=v,Z.T=p,Yb(a,o)}}function Qb(a,o,u){o=xi(u,o),o=Im(a.stateNode,o,2),a=aa(a,o,2),a!==null&&(at(a,2),ts(a))}function Ht(a,o,u){if(a.tag===3)Qb(a,a,u);else for(;o!==null;){if(o.tag===3){Qb(o,a,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ha===null||!ha.has(p))){a=xi(u,a),u=Zy(2),p=aa(o,u,2),p!==null&&(Jy(u,p,o,a),at(p,2),ts(p));break}}o=o.return}}function og(a,o,u){var p=a.pingCache;if(p===null){p=a.pingCache=new N5;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(u)||(eg=!0,v.add(u),a=I5.bind(null,a,o,u),o.then(a,a))}function I5(a,o,u){var p=a.pingCache;p!==null&&p.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,nr===a&&(wt&u)===u&&(br===4||br===3&&(wt&62914560)===wt&&300>he()-su?(It&2)===0&&fo(a,0):tg|=u,oo===wt&&(oo=0)),ts(a)}function Zb(a,o){o===0&&(o=Ze()),a=Ya(a,o),a!==null&&(at(a,o),ts(a))}function P5(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),Zb(a,u)}function j5(a,o){var u=0;switch(a.tag){case 31:case 13:var p=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),Zb(a,u)}function z5(a,o){return jt(a,o)}var hu=null,ho=null,cg=!1,du=!1,fg=!1,ma=0;function ts(a){a!==ho&&a.next===null&&(ho===null?hu=ho=a:ho=ho.next=a),du=!0,cg||(cg=!0,U5())}function Pc(a,o){if(!fg&&du){fg=!0;do for(var u=!1,p=hu;p!==null;){if(a!==0){var v=p.pendingLanes;if(v===0)var y=0;else{var k=p.suspendedLanes,z=p.pingedLanes;y=(1<<31-vr(42|a)+1)-1,y&=v&~(k&~z),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,rS(p,y))}else y=wt,y=Me(p,p===nr?y:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(y&3)===0||Ve(p,y)||(u=!0,rS(p,y));p=p.next}while(u);fg=!1}}function H5(){Jb()}function Jb(){du=cg=!1;var a=0;ma!==0&&Z5()&&(a=ma);for(var o=he(),u=null,p=hu;p!==null;){var v=p.next,y=eS(p,o);y===0?(p.next=null,u===null?hu=v:u.next=v,v===null&&(ho=u)):(u=p,(a!==0||(y&3)!==0)&&(du=!0)),p=v}Pr!==0&&Pr!==5||Pc(a),ma!==0&&(ma=0)}function eS(a,o){for(var u=a.suspendedLanes,p=a.pingedLanes,v=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var k=31-vr(y),z=1<<k,J=v[k];J===-1?((z&u)===0||(z&p)!==0)&&(v[k]=it(z,o)):J<=o&&(a.expiredLanes|=z),y&=~z}if(o=nr,u=wt,u=Me(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,u===0||a===o&&(zt===2||zt===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Ct(p),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Ve(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(p!==null&&Ct(p),wn(u)){case 2:case 8:u=rt;break;case 32:u=vt;break;case 268435456:u=ft;break;default:u=vt}return p=tS.bind(null,a),u=jt(u,p),a.callbackPriority=o,a.callbackNode=u,o}return p!==null&&p!==null&&Ct(p),a.callbackPriority=2,a.callbackNode=null,2}function tS(a,o){if(Pr!==0&&Pr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(uu()&&a.callbackNode!==u)return null;var p=wt;return p=Me(a,a===nr?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(Lb(a,p,o),eS(a,he()),a.callbackNode!=null&&a.callbackNode===u?tS.bind(null,a):null)}function rS(a,o){if(uu())return null;Lb(a,o,!0)}function U5(){eD(function(){(It&6)!==0?jt(Be,H5):Jb()})}function ug(){if(ma===0){var a=Ql;a===0&&(a=Nn,Nn<<=1,(Nn&261888)===0&&(Nn=256)),ma=a}return ma}function nS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Sf(""+a)}function iS(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function V5(a,o,u,p,v){if(o==="submit"&&u&&u.stateNode===v){var y=nS((v[G]||null).action),k=p.submitter;k&&(o=(o=k[G]||null)?nS(o.formAction):k.getAttribute("formAction"),o!==null&&(y=o,k=null));var z=new Af("action","action",null,p,v);a.push({event:z,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ma!==0){var J=k?iS(v,k):new FormData(v);Bm(u,{pending:!0,data:J,method:v.method,action:y},null,J)}}else typeof y=="function"&&(z.preventDefault(),J=k?iS(v,k):new FormData(v),Bm(u,{pending:!0,data:J,method:v.method,action:y},y,J))},currentTarget:v}]})}}for(var hg=0;hg<Xp.length;hg++){var dg=Xp[hg],q5=dg.toLowerCase(),W5=dg[0].toUpperCase()+dg.slice(1);Mi(q5,"on"+W5)}Mi(M2,"onAnimationEnd"),Mi(L2,"onAnimationIteration"),Mi(I2,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(l5,"onTransitionRun"),Mi(o5,"onTransitionStart"),Mi(c5,"onTransitionCancel"),Mi(P2,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jc));function sS(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],v=p.event;p=p.listeners;e:{var y=void 0;if(o)for(var k=p.length-1;0<=k;k--){var z=p[k],J=z.instance,ae=z.currentTarget;if(z=z.listener,J!==y&&v.isPropagationStopped())break e;y=z,v.currentTarget=ae;try{y(v)}catch(we){Df(we)}v.currentTarget=null,y=J}else for(k=0;k<p.length;k++){if(z=p[k],J=z.instance,ae=z.currentTarget,z=z.listener,J!==y&&v.isPropagationStopped())break e;y=z,v.currentTarget=ae;try{y(v)}catch(we){Df(we)}v.currentTarget=null,y=J}}}}function bt(a,o){var u=o[oe];u===void 0&&(u=o[oe]=new Set);var p=a+"__bubble";u.has(p)||(aS(o,a,2,!1),u.add(p))}function pg(a,o,u){var p=0;o&&(p|=4),aS(u,a,p,o)}var pu="_reactListening"+Math.random().toString(36).slice(2);function mg(a){if(!a[pu]){a[pu]=!0,ar.forEach(function(u){u!=="selectionchange"&&(G5.has(u)||pg(u,!1,a),pg(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[pu]||(o[pu]=!0,pg("selectionchange",!1,o))}}function aS(a,o,u,p){switch(MS(o)){case 2:var v=bD;break;case 8:v=SD;break;default:v=Og}u=v.bind(null,o,u,a),v=void 0,!Mp||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function gg(a,o,u,p,v){var y=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var z=p.stateNode.containerInfo;if(z===v)break;if(k===4)for(k=p.return;k!==null;){var J=k.tag;if((J===3||J===4)&&k.stateNode.containerInfo===v)return;k=k.return}for(;z!==null;){if(k=Pe(z),k===null)return;if(J=k.tag,J===5||J===6||J===26||J===27){p=y=k;continue e}z=z.parentNode}}p=p.return}u2(function(){var ae=y,we=Rp(u),ke=[];e:{var ue=j2.get(a);if(ue!==void 0){var ge=Af,Qe=a;switch(a){case"keypress":if(Ef(u)===0)break e;case"keydown":case"keyup":ge=j6;break;case"focusin":Qe="focus",ge=jp;break;case"focusout":Qe="blur",ge=jp;break;case"beforeblur":case"afterblur":ge=jp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=p2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=_6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=U6;break;case M2:case L2:case I2:ge=O6;break;case P2:ge=q6;break;case"scroll":case"scrollend":ge=A6;break;case"wheel":ge=G6;break;case"copy":case"cut":case"paste":ge=N6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=g2;break;case"toggle":case"beforetoggle":ge=X6}var lt=(o&4)!==0,Qt=!lt&&(a==="scroll"||a==="scrollend"),re=lt?ue!==null?ue+"Capture":null:ue;lt=[];for(var te=ae,se;te!==null;){var _e=te;if(se=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||se===null||re===null||(_e=lc(te,re),_e!=null&&lt.push(zc(te,_e,se))),Qt)break;te=te.return}0<lt.length&&(ue=new ge(ue,Qe,null,u,we),ke.push({event:ue,listeners:lt}))}}if((o&7)===0){e:{if(ue=a==="mouseover"||a==="pointerover",ge=a==="mouseout"||a==="pointerout",ue&&u!==Np&&(Qe=u.relatedTarget||u.fromElement)&&(Pe(Qe)||Qe[Y]))break e;if((ge||ue)&&(ue=we.window===we?we:(ue=we.ownerDocument)?ue.defaultView||ue.parentWindow:window,ge?(Qe=u.relatedTarget||u.toElement,ge=ae,Qe=Qe?Pe(Qe):null,Qe!==null&&(Qt=s(Qe),lt=Qe.tag,Qe!==Qt||lt!==5&&lt!==27&&lt!==6)&&(Qe=null)):(ge=null,Qe=ae),ge!==Qe)){if(lt=p2,_e="onMouseLeave",re="onMouseEnter",te="mouse",(a==="pointerout"||a==="pointerover")&&(lt=g2,_e="onPointerLeave",re="onPointerEnter",te="pointer"),Qt=ge==null?ue:Le(ge),se=Qe==null?ue:Le(Qe),ue=new lt(_e,te+"leave",ge,u,we),ue.target=Qt,ue.relatedTarget=se,_e=null,Pe(we)===ae&&(lt=new lt(re,te+"enter",Qe,u,we),lt.target=se,lt.relatedTarget=Qt,_e=lt),Qt=_e,ge&&Qe)t:{for(lt=$5,re=ge,te=Qe,se=0,_e=re;_e;_e=lt(_e))se++;_e=0;for(var nt=te;nt;nt=lt(nt))_e++;for(;0<se-_e;)re=lt(re),se--;for(;0<_e-se;)te=lt(te),_e--;for(;se--;){if(re===te||te!==null&&re===te.alternate){lt=re;break t}re=lt(re),te=lt(te)}lt=null}else lt=null;ge!==null&&lS(ke,ue,ge,lt,!1),Qe!==null&&Qt!==null&&lS(ke,Qt,Qe,lt,!0)}}e:{if(ue=ae?Le(ae):window,ge=ue.nodeName&&ue.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ue.type==="file")var Ft=C2;else if(w2(ue))if(A2)Ft=i5;else{Ft=r5;var et=t5}else ge=ue.nodeName,!ge||ge.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?ae&&Bp(ae.elementType)&&(Ft=C2):Ft=n5;if(Ft&&(Ft=Ft(a,ae))){E2(ke,Ft,u,we);break e}et&&et(a,ue,ae),a==="focusout"&&ae&&ue.type==="number"&&ae.memoizedProps.value!=null&&Op(ue,"number",ue.value)}switch(et=ae?Le(ae):window,a){case"focusin":(w2(et)||et.contentEditable==="true")&&(Vl=et,Wp=ae,mc=null);break;case"focusout":mc=Wp=Vl=null;break;case"mousedown":Gp=!0;break;case"contextmenu":case"mouseup":case"dragend":Gp=!1,R2(ke,u,we);break;case"selectionchange":if(a5)break;case"keydown":case"keyup":R2(ke,u,we)}var mt;if(Hp)e:{switch(a){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else Ul?b2(a,u)&&(Et="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Et="onCompositionStart");Et&&(x2&&u.locale!=="ko"&&(Ul||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Ul&&(mt=h2()):(Js=we,Lp="value"in Js?Js.value:Js.textContent,Ul=!0)),et=mu(ae,Et),0<et.length&&(Et=new m2(Et,a,null,u,we),ke.push({event:Et,listeners:et}),mt?Et.data=mt:(mt=S2(u),mt!==null&&(Et.data=mt)))),(mt=K6?Q6(a,u):Z6(a,u))&&(Et=mu(ae,"onBeforeInput"),0<Et.length&&(et=new m2("onBeforeInput","beforeinput",null,u,we),ke.push({event:et,listeners:Et}),et.data=mt)),V5(ke,a,ae,u,we)}sS(ke,o)})}function zc(a,o,u){return{instance:a,listener:o,currentTarget:u}}function mu(a,o){for(var u=o+"Capture",p=[];a!==null;){var v=a,y=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||y===null||(v=lc(a,u),v!=null&&p.unshift(zc(a,v,y)),v=lc(a,o),v!=null&&p.push(zc(a,v,y))),a.tag===3)return p;a=a.return}return[]}function $5(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function lS(a,o,u,p,v){for(var y=o._reactName,k=[];u!==null&&u!==p;){var z=u,J=z.alternate,ae=z.stateNode;if(z=z.tag,J!==null&&J===p)break;z!==5&&z!==26&&z!==27||ae===null||(J=ae,v?(ae=lc(u,y),ae!=null&&k.unshift(zc(u,ae,J))):v||(ae=lc(u,y),ae!=null&&k.push(zc(u,ae,J)))),u=u.return}k.length!==0&&a.push({event:o,listeners:k})}var X5=/\r\n?/g,Y5=/\u0000|\uFFFD/g;function oS(a){return(typeof a=="string"?a:""+a).replace(X5,`
`).replace(Y5,"")}function cS(a,o){return o=oS(o),oS(a)===o}function Kt(a,o,u,p,v,y){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||jl(a,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&jl(a,""+p);break;case"className":yf(a,"class",p);break;case"tabIndex":yf(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":yf(a,u,p);break;case"style":c2(a,p,y);break;case"data":if(o!=="object"){yf(a,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=Sf(""+p),a.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(o!=="input"&&Kt(a,o,"name",v.name,v,null),Kt(a,o,"formEncType",v.formEncType,v,null),Kt(a,o,"formMethod",v.formMethod,v,null),Kt(a,o,"formTarget",v.formTarget,v,null)):(Kt(a,o,"encType",v.encType,v,null),Kt(a,o,"method",v.method,v,null),Kt(a,o,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=Sf(""+p),a.setAttribute(u,p);break;case"onClick":p!=null&&(a.onclick=bs);break;case"onScroll":p!=null&&bt("scroll",a);break;case"onScrollEnd":p!=null&&bt("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}u=Sf(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""+p):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":p===!0?a.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,p):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(u,p):a.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(u):a.setAttribute(u,p);break;case"popover":bt("beforetoggle",a),bt("toggle",a),Rn(a,"popover",p);break;case"xlinkActuate":ys(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ys(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ys(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ys(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ys(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ys(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ys(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ys(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ys(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Rn(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=E6.get(u)||u,Rn(a,u,p))}}function xg(a,o,u,p,v,y){switch(u){case"style":c2(a,p,y);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"children":typeof p=="string"?jl(a,p):(typeof p=="number"||typeof p=="bigint")&&jl(a,""+p);break;case"onScroll":p!=null&&bt("scroll",a);break;case"onScrollEnd":p!=null&&bt("scrollend",a);break;case"onClick":p!=null&&(a.onclick=bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lr.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),y=a[G]||null,y=y!=null?y[u]:null,typeof y=="function"&&a.removeEventListener(o,y,v),typeof p=="function")){typeof y!="function"&&y!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,p,v);break e}u in a?a[u]=p:p===!0?a.setAttribute(u,""):Rn(a,u,p)}}}function tn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",a),bt("load",a);var p=!1,v=!1,y;for(y in u)if(u.hasOwnProperty(y)){var k=u[y];if(k!=null)switch(y){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Kt(a,o,y,k,u,null)}}v&&Kt(a,o,"srcSet",u.srcSet,u,null),p&&Kt(a,o,"src",u.src,u,null);return;case"input":bt("invalid",a);var z=y=k=v=null,J=null,ae=null;for(p in u)if(u.hasOwnProperty(p)){var we=u[p];if(we!=null)switch(p){case"name":v=we;break;case"type":k=we;break;case"checked":J=we;break;case"defaultChecked":ae=we;break;case"value":y=we;break;case"defaultValue":z=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(n(137,o));break;default:Kt(a,o,p,we,u,null)}}s2(a,y,z,J,ae,k,v,!1);return;case"select":bt("invalid",a),p=k=y=null;for(v in u)if(u.hasOwnProperty(v)&&(z=u[v],z!=null))switch(v){case"value":y=z;break;case"defaultValue":k=z;break;case"multiple":p=z;default:Kt(a,o,v,z,u,null)}o=y,u=k,a.multiple=!!p,o!=null?Pl(a,!!p,o,!1):u!=null&&Pl(a,!!p,u,!0);return;case"textarea":bt("invalid",a),y=v=p=null;for(k in u)if(u.hasOwnProperty(k)&&(z=u[k],z!=null))switch(k){case"value":p=z;break;case"defaultValue":v=z;break;case"children":y=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(n(91));break;default:Kt(a,o,k,z,u,null)}l2(a,p,v,y);return;case"option":for(J in u)if(u.hasOwnProperty(J)&&(p=u[J],p!=null))switch(J){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Kt(a,o,J,p,u,null)}return;case"dialog":bt("beforetoggle",a),bt("toggle",a),bt("cancel",a),bt("close",a);break;case"iframe":case"object":bt("load",a);break;case"video":case"audio":for(p=0;p<jc.length;p++)bt(jc[p],a);break;case"image":bt("error",a),bt("load",a);break;case"details":bt("toggle",a);break;case"embed":case"source":case"link":bt("error",a),bt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in u)if(u.hasOwnProperty(ae)&&(p=u[ae],p!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Kt(a,o,ae,p,u,null)}return;default:if(Bp(o)){for(we in u)u.hasOwnProperty(we)&&(p=u[we],p!==void 0&&xg(a,o,we,p,u,void 0));return}}for(z in u)u.hasOwnProperty(z)&&(p=u[z],p!=null&&Kt(a,o,z,p,u,null))}function K5(a,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,y=null,k=null,z=null,J=null,ae=null,we=null;for(ge in u){var ke=u[ge];if(u.hasOwnProperty(ge)&&ke!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":J=ke;default:p.hasOwnProperty(ge)||Kt(a,o,ge,null,p,ke)}}for(var ue in p){var ge=p[ue];if(ke=u[ue],p.hasOwnProperty(ue)&&(ge!=null||ke!=null))switch(ue){case"type":y=ge;break;case"name":v=ge;break;case"checked":ae=ge;break;case"defaultChecked":we=ge;break;case"value":k=ge;break;case"defaultValue":z=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(137,o));break;default:ge!==ke&&Kt(a,o,ue,ge,p,ke)}}kp(a,k,z,J,ae,we,y,v);return;case"select":ge=k=z=ue=null;for(y in u)if(J=u[y],u.hasOwnProperty(y)&&J!=null)switch(y){case"value":break;case"multiple":ge=J;default:p.hasOwnProperty(y)||Kt(a,o,y,null,p,J)}for(v in p)if(y=p[v],J=u[v],p.hasOwnProperty(v)&&(y!=null||J!=null))switch(v){case"value":ue=y;break;case"defaultValue":z=y;break;case"multiple":k=y;default:y!==J&&Kt(a,o,v,y,p,J)}o=z,u=k,p=ge,ue!=null?Pl(a,!!u,ue,!1):!!p!=!!u&&(o!=null?Pl(a,!!u,o,!0):Pl(a,!!u,u?[]:"",!1));return;case"textarea":ge=ue=null;for(z in u)if(v=u[z],u.hasOwnProperty(z)&&v!=null&&!p.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Kt(a,o,z,null,p,v)}for(k in p)if(v=p[k],y=u[k],p.hasOwnProperty(k)&&(v!=null||y!=null))switch(k){case"value":ue=v;break;case"defaultValue":ge=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==y&&Kt(a,o,k,v,p,y)}a2(a,ue,ge);return;case"option":for(var Qe in u)if(ue=u[Qe],u.hasOwnProperty(Qe)&&ue!=null&&!p.hasOwnProperty(Qe))switch(Qe){case"selected":a.selected=!1;break;default:Kt(a,o,Qe,null,p,ue)}for(J in p)if(ue=p[J],ge=u[J],p.hasOwnProperty(J)&&ue!==ge&&(ue!=null||ge!=null))switch(J){case"selected":a.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:Kt(a,o,J,ue,p,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in u)ue=u[lt],u.hasOwnProperty(lt)&&ue!=null&&!p.hasOwnProperty(lt)&&Kt(a,o,lt,null,p,ue);for(ae in p)if(ue=p[ae],ge=u[ae],p.hasOwnProperty(ae)&&ue!==ge&&(ue!=null||ge!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(n(137,o));break;default:Kt(a,o,ae,ue,p,ge)}return;default:if(Bp(o)){for(var Qt in u)ue=u[Qt],u.hasOwnProperty(Qt)&&ue!==void 0&&!p.hasOwnProperty(Qt)&&xg(a,o,Qt,void 0,p,ue);for(we in p)ue=p[we],ge=u[we],!p.hasOwnProperty(we)||ue===ge||ue===void 0&&ge===void 0||xg(a,o,we,ue,p,ge);return}}for(var re in u)ue=u[re],u.hasOwnProperty(re)&&ue!=null&&!p.hasOwnProperty(re)&&Kt(a,o,re,null,p,ue);for(ke in p)ue=p[ke],ge=u[ke],!p.hasOwnProperty(ke)||ue===ge||ue==null&&ge==null||Kt(a,o,ke,ue,p,ge)}function fS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Q5(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var v=u[p],y=v.transferSize,k=v.initiatorType,z=v.duration;if(y&&z&&fS(k)){for(k=0,z=v.responseEnd,p+=1;p<u.length;p++){var J=u[p],ae=J.startTime;if(ae>z)break;var we=J.transferSize,ke=J.initiatorType;we&&fS(ke)&&(J=J.responseEnd,k+=we*(J<z?1:(z-ae)/(J-ae)))}if(--p,o+=8*(y+k)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var vg=null,yg=null;function gu(a){return a.nodeType===9?a:a.ownerDocument}function uS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hS(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function bg(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Sg=null;function Z5(){var a=window.event;return a&&a.type==="popstate"?a===Sg?!1:(Sg=a,!0):(Sg=null,!1)}var dS=typeof setTimeout=="function"?setTimeout:void 0,J5=typeof clearTimeout=="function"?clearTimeout:void 0,pS=typeof Promise=="function"?Promise:void 0,eD=typeof queueMicrotask=="function"?queueMicrotask:typeof pS<"u"?function(a){return pS.resolve(null).then(a).catch(tD)}:dS;function tD(a){setTimeout(function(){throw a})}function ga(a){return a==="head"}function mS(a,o){var u=o,p=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(p===0){a.removeChild(v),xo(o);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")Hc(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Hc(u);for(var y=u.firstChild;y;){var k=y.nextSibling,z=y.nodeName;y[de]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&y.rel.toLowerCase()==="stylesheet"||u.removeChild(y),y=k}}else u==="body"&&Hc(a.ownerDocument.body);u=v}while(u);xo(o)}function gS(a,o){var u=a;a=0;do{var p=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=p}while(u)}function wg(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":wg(u),Fe(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function rD(a,o,u,p){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[de])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var y=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=wi(a.nextSibling),a===null)break}return null}function nD(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=wi(a.nextSibling),a===null))return null;return a}function xS(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=wi(a.nextSibling),a===null))return null;return a}function Eg(a){return a.data==="$?"||a.data==="$~"}function Cg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function iD(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function wi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Ag=null;function vS(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return wi(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function yS(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function bS(a,o,u){switch(o=gu(u),a){case"html":if(a=o.documentElement,!a)throw Error(n(452));return a;case"head":if(a=o.head,!a)throw Error(n(453));return a;case"body":if(a=o.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Hc(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Fe(a)}var Ei=new Map,SS=new Set;function xu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ls=ne.d;ne.d={f:sD,r:aD,D:lD,C:oD,L:cD,m:fD,X:hD,S:uD,M:dD};function sD(){var a=Ls.f(),o=ou();return a||o}function aD(a){var o=qe(a);o!==null&&o.tag===5&&o.type==="form"?Py(o):Ls.r(a)}var po=typeof document>"u"?null:document;function wS(a,o,u){var p=po;if(p&&typeof o=="string"&&o){var v=mi(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),SS.has(v)||(SS.add(v),a={rel:a,crossOrigin:u,href:o},p.querySelector(v)===null&&(o=p.createElement("link"),tn(o,"link",a),Je(o),p.head.appendChild(o)))}}function lD(a){Ls.D(a),wS("dns-prefetch",a,null)}function oD(a,o){Ls.C(a,o),wS("preconnect",a,o)}function cD(a,o,u){Ls.L(a,o,u);var p=po;if(p&&a&&o){var v='link[rel="preload"][as="'+mi(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+mi(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+mi(u.imageSizes)+'"]')):v+='[href="'+mi(a)+'"]';var y=v;switch(o){case"style":y=mo(a);break;case"script":y=go(a)}Ei.has(y)||(a=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Ei.set(y,a),p.querySelector(v)!==null||o==="style"&&p.querySelector(Uc(y))||o==="script"&&p.querySelector(Vc(y))||(o=p.createElement("link"),tn(o,"link",a),Je(o),p.head.appendChild(o)))}}function fD(a,o){Ls.m(a,o);var u=po;if(u&&a){var p=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+mi(p)+'"][href="'+mi(a)+'"]',y=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=go(a)}if(!Ei.has(y)&&(a=m({rel:"modulepreload",href:a},o),Ei.set(y,a),u.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Vc(y)))return}p=u.createElement("link"),tn(p,"link",a),Je(p),u.head.appendChild(p)}}}function uD(a,o,u){Ls.S(a,o,u);var p=po;if(p&&a){var v=He(p).hoistableStyles,y=mo(a);o=o||"default";var k=v.get(y);if(!k){var z={loading:0,preload:null};if(k=p.querySelector(Uc(y)))z.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Ei.get(y))&&Tg(a,u);var J=k=p.createElement("link");Je(J),tn(J,"link",a),J._p=new Promise(function(ae,we){J.onload=ae,J.onerror=we}),J.addEventListener("load",function(){z.loading|=1}),J.addEventListener("error",function(){z.loading|=2}),z.loading|=4,vu(k,o,p)}k={type:"stylesheet",instance:k,count:1,state:z},v.set(y,k)}}}function hD(a,o){Ls.X(a,o);var u=po;if(u&&a){var p=He(u).hoistableScripts,v=go(a),y=p.get(v);y||(y=u.querySelector(Vc(v)),y||(a=m({src:a,async:!0},o),(o=Ei.get(v))&&_g(a,o),y=u.createElement("script"),Je(y),tn(y,"link",a),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},p.set(v,y))}}function dD(a,o){Ls.M(a,o);var u=po;if(u&&a){var p=He(u).hoistableScripts,v=go(a),y=p.get(v);y||(y=u.querySelector(Vc(v)),y||(a=m({src:a,async:!0,type:"module"},o),(o=Ei.get(v))&&_g(a,o),y=u.createElement("script"),Je(y),tn(y,"link",a),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},p.set(v,y))}}function ES(a,o,u,p){var v=(v=ee.current)?xu(v):null;if(!v)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=mo(u.href),u=He(v).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=mo(u.href);var y=He(v).hoistableStyles,k=y.get(a);if(k||(v=v.ownerDocument||v,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,k),(y=v.querySelector(Uc(a)))&&!y._p&&(k.instance=y,k.state.loading=5),Ei.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ei.set(a,u),y||pD(v,a,u,k.state))),o&&p===null)throw Error(n(528,""));return k}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=go(u),u=He(v).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function mo(a){return'href="'+mi(a)+'"'}function Uc(a){return'link[rel="stylesheet"]['+a+"]"}function CS(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function pD(a,o,u,p){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=a.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),tn(o,"link",u),Je(o),a.head.appendChild(o))}function go(a){return'[src="'+mi(a)+'"]'}function Vc(a){return"script[async]"+a}function AS(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=a.querySelector('style[data-href~="'+mi(u.href)+'"]');if(p)return o.instance=p,Je(p),p;var v=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Je(p),tn(p,"style",v),vu(p,u.precedence,a),o.instance=p;case"stylesheet":v=mo(u.href);var y=a.querySelector(Uc(v));if(y)return o.state.loading|=4,o.instance=y,Je(y),y;p=CS(u),(v=Ei.get(v))&&Tg(p,v),y=(a.ownerDocument||a).createElement("link"),Je(y);var k=y;return k._p=new Promise(function(z,J){k.onload=z,k.onerror=J}),tn(y,"link",p),o.state.loading|=4,vu(y,u.precedence,a),o.instance=y;case"script":return y=go(u.src),(v=a.querySelector(Vc(y)))?(o.instance=v,Je(v),v):(p=u,(v=Ei.get(y))&&(p=m({},u),_g(p,v)),a=a.ownerDocument||a,v=a.createElement("script"),Je(v),tn(v,"link",p),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,vu(p,u.precedence,a));return o.instance}function vu(a,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,y=v,k=0;k<p.length;k++){var z=p[k];if(z.dataset.precedence===o)y=z;else if(y!==v)break}y?y.parentNode.insertBefore(a,y.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Tg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function _g(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var yu=null;function TS(a,o,u){if(yu===null){var p=new Map,v=yu=new Map;v.set(u,p)}else v=yu,p=v.get(u),p||(p=new Map,v.set(u,p));if(p.has(a))return p;for(p.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var y=u[v];if(!(y[de]||y[V]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var k=y.getAttribute(o)||"";k=a+k;var z=p.get(k);z?z.push(y):p.set(k,[y])}}return p}function _S(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function mD(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function DS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function gD(a,o,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=mo(p.href),y=o.querySelector(Uc(v));if(y){o=y._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=bu.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=y,Je(y);return}y=o.ownerDocument||o,p=CS(p),(v=Ei.get(v))&&Tg(p,v),y=y.createElement("link"),Je(y);var k=y;k._p=new Promise(function(z,J){k.onload=z,k.onerror=J}),tn(y,"link",p),u.instance=y}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=bu.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Dg=0;function xD(a,o){return a.stylesheets&&a.count===0&&wu(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var p=setTimeout(function(){if(a.stylesheets&&wu(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4+o);0<a.imgBytes&&Dg===0&&(Dg=62500*Q5());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&wu(a,a.stylesheets),a.unsuspend)){var y=a.unsuspend;a.unsuspend=null,y()}},(a.imgBytes>Dg?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(v)}}:null}function bu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wu(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Su=null;function wu(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Su=new Map,o.forEach(vD,a),Su=null,bu.call(a))}function vD(a,o){if(!(o.state.loading&4)){var u=Su.get(a);if(u)var p=u.get(null);else{u=new Map,Su.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<v.length;y++){var k=v[y];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),p=k)}p&&u.set(null,p)}v=o.instance,k=v.getAttribute("data-precedence"),y=u.get(k)||p,y===p&&u.set(null,v),u.set(k,v),this.count++,p=bu.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),y?y.parentNode.insertBefore(v,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var qc={$$typeof:E,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function yD(a,o,u,p,v,y,k,z,J){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ut(0),this.hiddenUpdates=ut(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=y,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function kS(a,o,u,p,v,y,k,z,J,ae,we,ke){return a=new yD(a,o,u,k,J,ae,we,ke,z),o=1,y===!0&&(o|=24),y=Kn(3,null,null,o),a.current=y,y.stateNode=a,o=lm(),o.refCount++,a.pooledCache=o,o.refCount++,y.memoizedState={element:p,isDehydrated:u,cache:o},um(y),a}function OS(a){return a?(a=Gl,a):Gl}function BS(a,o,u,p,v,y){v=OS(v),p.context===null?p.context=v:p.pendingContext=v,p=sa(o),p.payload={element:u},y=y===void 0?null:y,y!==null&&(p.callback=y),u=aa(a,p,o),u!==null&&(jn(u,a,o),wc(u,a,o))}function NS(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function kg(a,o){NS(a,o),(a=a.alternate)&&NS(a,o)}function RS(a){if(a.tag===13||a.tag===31){var o=Ya(a,67108864);o!==null&&jn(o,a,67108864),kg(a,67108864)}}function FS(a){if(a.tag===13||a.tag===31){var o=ti();o=dn(o);var u=Ya(a,o);u!==null&&jn(u,a,o),kg(a,o)}}var Eu=!0;function bD(a,o,u,p){var v=Z.T;Z.T=null;var y=ne.p;try{ne.p=2,Og(a,o,u,p)}finally{ne.p=y,Z.T=v}}function SD(a,o,u,p){var v=Z.T;Z.T=null;var y=ne.p;try{ne.p=8,Og(a,o,u,p)}finally{ne.p=y,Z.T=v}}function Og(a,o,u,p){if(Eu){var v=Bg(p);if(v===null)gg(a,o,p,Cu,u),LS(a,p);else if(ED(v,a,o,u,p))p.stopPropagation();else if(LS(a,p),o&4&&-1<wD.indexOf(a)){for(;v!==null;){var y=qe(v);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var k=pe(y.pendingLanes);if(k!==0){var z=y;for(z.pendingLanes|=2,z.entangledLanes|=2;k;){var J=1<<31-vr(k);z.entanglements[1]|=J,k&=~J}ts(y),(It&6)===0&&(au=he()+500,Pc(0))}}break;case 31:case 13:z=Ya(y,2),z!==null&&jn(z,y,2),ou(),kg(y,2)}if(y=Bg(p),y===null&&gg(a,o,p,Cu,u),y===v)break;v=y}v!==null&&p.stopPropagation()}else gg(a,o,p,null,u)}}function Bg(a){return a=Rp(a),Ng(a)}var Cu=null;function Ng(a){if(Cu=null,a=Pe(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Cu=a,null}function MS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ie()){case Be:return 2;case rt:return 8;case vt:case $t:return 32;case ft:return 268435456;default:return 32}default:return 32}}var Rg=!1,xa=null,va=null,ya=null,Wc=new Map,Gc=new Map,ba=[],wD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LS(a,o){switch(a){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":Wc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(o.pointerId)}}function $c(a,o,u,p,v,y){return a===null||a.nativeEvent!==y?(a={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:y,targetContainers:[v]},o!==null&&(o=qe(o),o!==null&&RS(o)),a):(a.eventSystemFlags|=p,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function ED(a,o,u,p,v){switch(o){case"focusin":return xa=$c(xa,a,o,u,p,v),!0;case"dragenter":return va=$c(va,a,o,u,p,v),!0;case"mouseover":return ya=$c(ya,a,o,u,p,v),!0;case"pointerover":var y=v.pointerId;return Wc.set(y,$c(Wc.get(y)||null,a,o,u,p,v)),!0;case"gotpointercapture":return y=v.pointerId,Gc.set(y,$c(Gc.get(y)||null,a,o,u,p,v)),!0}return!1}function IS(a){var o=Pe(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,X(a.priority,function(){FS(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,X(a.priority,function(){FS(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Au(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Bg(a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);Np=p,u.target.dispatchEvent(p),Np=null}else return o=qe(u),o!==null&&RS(o),a.blockedOn=u,!1;o.shift()}return!0}function PS(a,o,u){Au(a)&&u.delete(o)}function CD(){Rg=!1,xa!==null&&Au(xa)&&(xa=null),va!==null&&Au(va)&&(va=null),ya!==null&&Au(ya)&&(ya=null),Wc.forEach(PS),Gc.forEach(PS)}function Tu(a,o){a.blockedOn===o&&(a.blockedOn=null,Rg||(Rg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,CD)))}var _u=null;function jS(a){_u!==a&&(_u=a,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_u===a&&(_u=null);for(var o=0;o<a.length;o+=3){var u=a[o],p=a[o+1],v=a[o+2];if(typeof p!="function"){if(Ng(p||u)===null)continue;break}var y=qe(u);y!==null&&(a.splice(o,3),o-=3,Bm(y,{pending:!0,data:v,method:u.method,action:p},p,v))}}))}function xo(a){function o(J){return Tu(J,a)}xa!==null&&Tu(xa,a),va!==null&&Tu(va,a),ya!==null&&Tu(ya,a),Wc.forEach(o),Gc.forEach(o);for(var u=0;u<ba.length;u++){var p=ba[u];p.blockedOn===a&&(p.blockedOn=null)}for(;0<ba.length&&(u=ba[0],u.blockedOn===null);)IS(u),u.blockedOn===null&&ba.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var v=u[p],y=u[p+1],k=v[G]||null;if(typeof y=="function")k||jS(u);else if(k){var z=null;if(y&&y.hasAttribute("formAction")){if(v=y,k=y[G]||null)z=k.formAction;else if(Ng(v)!==null)continue}else z=k.action;typeof z=="function"?u[p+1]=z:(u.splice(p,3),p-=3),jS(u)}}}function zS(){function a(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(k){return v=k})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Fg(a){this._internalRoot=a}Du.prototype.render=Fg.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,p=ti();BS(u,p,a,o,null,null)},Du.prototype.unmount=Fg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;BS(a.current,2,null,a,null,null),ou(),o[Y]=null}};function Du(a){this._internalRoot=a}Du.prototype.unstable_scheduleHydration=function(a){if(a){var o=L();a={blockedOn:null,target:a,priority:o};for(var u=0;u<ba.length&&o!==0&&o<ba[u].priority;u++);ba.splice(u,0,a),u===0&&IS(a)}};var HS=e.version;if(HS!=="19.2.0")throw Error(n(527,HS,"19.2.0"));ne.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(o),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var AD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{Xn=ku.inject(AD),tr=ku}catch{}}return Yc.createRoot=function(a,o){if(!i(a))throw Error(n(299));var u=!1,p="",v=Xy,y=Yy,k=Ky;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),o=kS(a,1,!1,null,null,u,p,null,v,y,k,zS),a[Y]=o.current,mg(a),new Fg(o)},Yc.hydrateRoot=function(a,o,u){if(!i(a))throw Error(n(299));var p=!1,v="",y=Xy,k=Yy,z=Ky,J=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(z=u.onRecoverableError),u.formState!==void 0&&(J=u.formState)),o=kS(a,1,!0,o,u??null,p,v,J,y,k,z,zS),o.context=OS(null),u=o.current,p=ti(),p=dn(p),v=sa(p),v.callback=null,aa(u,v,p),u=p,o.current.lanes=u,at(o,u),ts(o),a[Y]=o.current,mg(a),new Du(o)},Yc.version="19.2.0",Yc}var QS;function MD(){if(QS)return Ig.exports;QS=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ig.exports=FD(),Ig.exports}var LD=MD();const ID="/assets/hap_full_logo-Dpsngzvu.jpg";var uh={exports:{}};function PD(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hh={exports:{}};const jD={},zD=Object.freeze(Object.defineProperty({__proto__:null,default:jD},Symbol.toStringTag,{value:"Module"})),HD=_D(zD);var UD=hh.exports,ZS;function Ot(){return ZS||(ZS=1,(function(r,e){(function(t,n){r.exports=n()})(UD,function(){var t=t||(function(n,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof gl<"u"&&gl.crypto&&(s=gl.crypto),!s&&typeof PD=="function")try{s=HD}catch{}var l=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||(function(){function A(){}return function(E){var _;return A.prototype=E,_=new A,A.prototype=null,_}})(),f={},h=f.lib={},d=h.Base=(function(){return{extend:function(A){var E=c(this);return A&&E.mixIn(A),(!E.hasOwnProperty("init")||this.init===E.init)&&(E.init=function(){E.$super.init.apply(this,arguments)}),E.init.prototype=E,E.$super=this,E},create:function(){var A=this.extend();return A.init.apply(A,arguments),A},init:function(){},mixIn:function(A){for(var E in A)A.hasOwnProperty(E)&&(this[E]=A[E]);A.hasOwnProperty("toString")&&(this.toString=A.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),m=h.WordArray=d.extend({init:function(A,E){A=this.words=A||[],E!=i?this.sigBytes=E:this.sigBytes=A.length*4},toString:function(A){return(A||x).stringify(this)},concat:function(A){var E=this.words,_=A.words,B=this.sigBytes,F=A.sigBytes;if(this.clamp(),B%4)for(var O=0;O<F;O++){var H=_[O>>>2]>>>24-O%4*8&255;E[B+O>>>2]|=H<<24-(B+O)%4*8}else for(var N=0;N<F;N+=4)E[B+N>>>2]=_[N>>>2];return this.sigBytes+=F,this},clamp:function(){var A=this.words,E=this.sigBytes;A[E>>>2]&=4294967295<<32-E%4*8,A.length=n.ceil(E/4)},clone:function(){var A=d.clone.call(this);return A.words=this.words.slice(0),A},random:function(A){for(var E=[],_=0;_<A;_+=4)E.push(l());return new m.init(E,A)}}),g=f.enc={},x=g.Hex={stringify:function(A){for(var E=A.words,_=A.sigBytes,B=[],F=0;F<_;F++){var O=E[F>>>2]>>>24-F%4*8&255;B.push((O>>>4).toString(16)),B.push((O&15).toString(16))}return B.join("")},parse:function(A){for(var E=A.length,_=[],B=0;B<E;B+=2)_[B>>>3]|=parseInt(A.substr(B,2),16)<<24-B%8*4;return new m.init(_,E/2)}},b=g.Latin1={stringify:function(A){for(var E=A.words,_=A.sigBytes,B=[],F=0;F<_;F++){var O=E[F>>>2]>>>24-F%4*8&255;B.push(String.fromCharCode(O))}return B.join("")},parse:function(A){for(var E=A.length,_=[],B=0;B<E;B++)_[B>>>2]|=(A.charCodeAt(B)&255)<<24-B%4*8;return new m.init(_,E)}},S=g.Utf8={stringify:function(A){try{return decodeURIComponent(escape(b.stringify(A)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(A){return b.parse(unescape(encodeURIComponent(A)))}},w=h.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new m.init,this._nDataBytes=0},_append:function(A){typeof A=="string"&&(A=S.parse(A)),this._data.concat(A),this._nDataBytes+=A.sigBytes},_process:function(A){var E,_=this._data,B=_.words,F=_.sigBytes,O=this.blockSize,H=O*4,N=F/H;A?N=n.ceil(N):N=n.max((N|0)-this._minBufferSize,0);var I=N*O,P=n.min(I*4,F);if(I){for(var q=0;q<I;q+=O)this._doProcessBlock(B,q);E=B.splice(0,I),_.sigBytes-=P}return new m.init(E,P)},clone:function(){var A=d.clone.call(this);return A._data=this._data.clone(),A},_minBufferSize:0});h.Hasher=w.extend({cfg:d.extend(),init:function(A){this.cfg=this.cfg.extend(A),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(A){return this._append(A),this._process(),this},finalize:function(A){A&&this._append(A);var E=this._doFinalize();return E},blockSize:16,_createHelper:function(A){return function(E,_){return new A.init(_).finalize(E)}},_createHmacHelper:function(A){return function(E,_){return new T.HMAC.init(A,_).finalize(E)}}});var T=f.algo={};return f})(Math);return t})})(hh)),hh.exports}var dh={exports:{}},VD=dh.exports,JS;function ep(){return JS||(JS=1,(function(r,e){(function(t,n){r.exports=n(Ot())})(VD,function(t){return(function(n){var i=t,s=i.lib,l=s.Base,c=s.WordArray,f=i.x64={};f.Word=l.extend({init:function(h,d){this.high=h,this.low=d}}),f.WordArray=l.extend({init:function(h,d){h=this.words=h||[],d!=n?this.sigBytes=d:this.sigBytes=h.length*8},toX32:function(){for(var h=this.words,d=h.length,m=[],g=0;g<d;g++){var x=h[g];m.push(x.high),m.push(x.low)}return c.create(m,this.sigBytes)},clone:function(){for(var h=l.clone.call(this),d=h.words=this.words.slice(0),m=d.length,g=0;g<m;g++)d[g]=d[g].clone();return h}})})(),t})})(dh)),dh.exports}var ph={exports:{}},qD=ph.exports,e4;function WD(){return e4||(e4=1,(function(r,e){(function(t,n){r.exports=n(Ot())})(qD,function(t){return(function(){if(typeof ArrayBuffer=="function"){var n=t,i=n.lib,s=i.WordArray,l=s.init,c=s.init=function(f){if(f instanceof ArrayBuffer&&(f=new Uint8Array(f)),(f instanceof Int8Array||typeof Uint8ClampedArray<"u"&&f instanceof Uint8ClampedArray||f instanceof Int16Array||f instanceof Uint16Array||f instanceof Int32Array||f instanceof Uint32Array||f instanceof Float32Array||f instanceof Float64Array)&&(f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength)),f instanceof Uint8Array){for(var h=f.byteLength,d=[],m=0;m<h;m++)d[m>>>2]|=f[m]<<24-m%4*8;l.call(this,d,h)}else l.apply(this,arguments)};c.prototype=s}})(),t.lib.WordArray})})(ph)),ph.exports}var mh={exports:{}},GD=mh.exports,t4;function $D(){return t4||(t4=1,(function(r,e){(function(t,n){r.exports=n(Ot())})(GD,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,l=n.enc;l.Utf16=l.Utf16BE={stringify:function(f){for(var h=f.words,d=f.sigBytes,m=[],g=0;g<d;g+=2){var x=h[g>>>2]>>>16-g%4*8&65535;m.push(String.fromCharCode(x))}return m.join("")},parse:function(f){for(var h=f.length,d=[],m=0;m<h;m++)d[m>>>1]|=f.charCodeAt(m)<<16-m%2*16;return s.create(d,h*2)}},l.Utf16LE={stringify:function(f){for(var h=f.words,d=f.sigBytes,m=[],g=0;g<d;g+=2){var x=c(h[g>>>2]>>>16-g%4*8&65535);m.push(String.fromCharCode(x))}return m.join("")},parse:function(f){for(var h=f.length,d=[],m=0;m<h;m++)d[m>>>1]|=c(f.charCodeAt(m)<<16-m%2*16);return s.create(d,h*2)}};function c(f){return f<<8&4278255360|f>>>8&16711935}})(),t.enc.Utf16})})(mh)),mh.exports}var gh={exports:{}},XD=gh.exports,r4;function Ol(){return r4||(r4=1,(function(r,e){(function(t,n){r.exports=n(Ot())})(XD,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,l=n.enc;l.Base64={stringify:function(f){var h=f.words,d=f.sigBytes,m=this._map;f.clamp();for(var g=[],x=0;x<d;x+=3)for(var b=h[x>>>2]>>>24-x%4*8&255,S=h[x+1>>>2]>>>24-(x+1)%4*8&255,w=h[x+2>>>2]>>>24-(x+2)%4*8&255,T=b<<16|S<<8|w,A=0;A<4&&x+A*.75<d;A++)g.push(m.charAt(T>>>6*(3-A)&63));var E=m.charAt(64);if(E)for(;g.length%4;)g.push(E);return g.join("")},parse:function(f){var h=f.length,d=this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var g=0;g<d.length;g++)m[d.charCodeAt(g)]=g}var x=d.charAt(64);if(x){var b=f.indexOf(x);b!==-1&&(h=b)}return c(f,h,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(f,h,d){for(var m=[],g=0,x=0;x<h;x++)if(x%4){var b=d[f.charCodeAt(x-1)]<<x%4*2,S=d[f.charCodeAt(x)]>>>6-x%4*2,w=b|S;m[g>>>2]|=w<<24-g%4*8,g++}return s.create(m,g)}})(),t.enc.Base64})})(gh)),gh.exports}var xh={exports:{}},YD=xh.exports,n4;function KD(){return n4||(n4=1,(function(r,e){(function(t,n){r.exports=n(Ot())})(YD,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,l=n.enc;l.Base64url={stringify:function(f,h){h===void 0&&(h=!0);var d=f.words,m=f.sigBytes,g=h?this._safe_map:this._map;f.clamp();for(var x=[],b=0;b<m;b+=3)for(var S=d[b>>>2]>>>24-b%4*8&255,w=d[b+1>>>2]>>>24-(b+1)%4*8&255,T=d[b+2>>>2]>>>24-(b+2)%4*8&255,A=S<<16|w<<8|T,E=0;E<4&&b+E*.75<m;E++)x.push(g.charAt(A>>>6*(3-E)&63));var _=g.charAt(64);if(_)for(;x.length%4;)x.push(_);return x.join("")},parse:function(f,h){h===void 0&&(h=!0);var d=f.length,m=h?this._safe_map:this._map,g=this._reverseMap;if(!g){g=this._reverseMap=[];for(var x=0;x<m.length;x++)g[m.charCodeAt(x)]=x}var b=m.charAt(64);if(b){var S=f.indexOf(b);S!==-1&&(d=S)}return c(f,d,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(f,h,d){for(var m=[],g=0,x=0;x<h;x++)if(x%4){var b=d[f.charCodeAt(x-1)]<<x%4*2,S=d[f.charCodeAt(x)]>>>6-x%4*2,w=b|S;m[g>>>2]|=w<<24-g%4*8,g++}return s.create(m,g)}})(),t.enc.Base64url})})(xh)),xh.exports}var vh={exports:{}},QD=vh.exports,i4;function Bl(){return i4||(i4=1,(function(r,e){(function(t,n){r.exports=n(Ot())})(QD,function(t){return(function(n){var i=t,s=i.lib,l=s.WordArray,c=s.Hasher,f=i.algo,h=[];(function(){for(var S=0;S<64;S++)h[S]=n.abs(n.sin(S+1))*4294967296|0})();var d=f.MD5=c.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(S,w){for(var T=0;T<16;T++){var A=w+T,E=S[A];S[A]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var _=this._hash.words,B=S[w+0],F=S[w+1],O=S[w+2],H=S[w+3],N=S[w+4],I=S[w+5],P=S[w+6],q=S[w+7],K=S[w+8],ie=S[w+9],le=S[w+10],Z=S[w+11],ne=S[w+12],ve=S[w+13],Ee=S[w+14],Ne=S[w+15],j=_[0],D=_[1],M=_[2],R=_[3];j=m(j,D,M,R,B,7,h[0]),R=m(R,j,D,M,F,12,h[1]),M=m(M,R,j,D,O,17,h[2]),D=m(D,M,R,j,H,22,h[3]),j=m(j,D,M,R,N,7,h[4]),R=m(R,j,D,M,I,12,h[5]),M=m(M,R,j,D,P,17,h[6]),D=m(D,M,R,j,q,22,h[7]),j=m(j,D,M,R,K,7,h[8]),R=m(R,j,D,M,ie,12,h[9]),M=m(M,R,j,D,le,17,h[10]),D=m(D,M,R,j,Z,22,h[11]),j=m(j,D,M,R,ne,7,h[12]),R=m(R,j,D,M,ve,12,h[13]),M=m(M,R,j,D,Ee,17,h[14]),D=m(D,M,R,j,Ne,22,h[15]),j=g(j,D,M,R,F,5,h[16]),R=g(R,j,D,M,P,9,h[17]),M=g(M,R,j,D,Z,14,h[18]),D=g(D,M,R,j,B,20,h[19]),j=g(j,D,M,R,I,5,h[20]),R=g(R,j,D,M,le,9,h[21]),M=g(M,R,j,D,Ne,14,h[22]),D=g(D,M,R,j,N,20,h[23]),j=g(j,D,M,R,ie,5,h[24]),R=g(R,j,D,M,Ee,9,h[25]),M=g(M,R,j,D,H,14,h[26]),D=g(D,M,R,j,K,20,h[27]),j=g(j,D,M,R,ve,5,h[28]),R=g(R,j,D,M,O,9,h[29]),M=g(M,R,j,D,q,14,h[30]),D=g(D,M,R,j,ne,20,h[31]),j=x(j,D,M,R,I,4,h[32]),R=x(R,j,D,M,K,11,h[33]),M=x(M,R,j,D,Z,16,h[34]),D=x(D,M,R,j,Ee,23,h[35]),j=x(j,D,M,R,F,4,h[36]),R=x(R,j,D,M,N,11,h[37]),M=x(M,R,j,D,q,16,h[38]),D=x(D,M,R,j,le,23,h[39]),j=x(j,D,M,R,ve,4,h[40]),R=x(R,j,D,M,B,11,h[41]),M=x(M,R,j,D,H,16,h[42]),D=x(D,M,R,j,P,23,h[43]),j=x(j,D,M,R,ie,4,h[44]),R=x(R,j,D,M,ne,11,h[45]),M=x(M,R,j,D,Ne,16,h[46]),D=x(D,M,R,j,O,23,h[47]),j=b(j,D,M,R,B,6,h[48]),R=b(R,j,D,M,q,10,h[49]),M=b(M,R,j,D,Ee,15,h[50]),D=b(D,M,R,j,I,21,h[51]),j=b(j,D,M,R,ne,6,h[52]),R=b(R,j,D,M,H,10,h[53]),M=b(M,R,j,D,le,15,h[54]),D=b(D,M,R,j,F,21,h[55]),j=b(j,D,M,R,K,6,h[56]),R=b(R,j,D,M,Ne,10,h[57]),M=b(M,R,j,D,P,15,h[58]),D=b(D,M,R,j,ve,21,h[59]),j=b(j,D,M,R,N,6,h[60]),R=b(R,j,D,M,Z,10,h[61]),M=b(M,R,j,D,O,15,h[62]),D=b(D,M,R,j,ie,21,h[63]),_[0]=_[0]+j|0,_[1]=_[1]+D|0,_[2]=_[2]+M|0,_[3]=_[3]+R|0},_doFinalize:function(){var S=this._data,w=S.words,T=this._nDataBytes*8,A=S.sigBytes*8;w[A>>>5]|=128<<24-A%32;var E=n.floor(T/4294967296),_=T;w[(A+64>>>9<<4)+15]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,w[(A+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,S.sigBytes=(w.length+1)*4,this._process();for(var B=this._hash,F=B.words,O=0;O<4;O++){var H=F[O];F[O]=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360}return B},clone:function(){var S=c.clone.call(this);return S._hash=this._hash.clone(),S}});function m(S,w,T,A,E,_,B){var F=S+(w&T|~w&A)+E+B;return(F<<_|F>>>32-_)+w}function g(S,w,T,A,E,_,B){var F=S+(w&A|T&~A)+E+B;return(F<<_|F>>>32-_)+w}function x(S,w,T,A,E,_,B){var F=S+(w^T^A)+E+B;return(F<<_|F>>>32-_)+w}function b(S,w,T,A,E,_,B){var F=S+(T^(w|~A))+E+B;return(F<<_|F>>>32-_)+w}i.MD5=c._createHelper(d),i.HmacMD5=c._createHmacHelper(d)})(Math),t.MD5})})(vh)),vh.exports}var yh={exports:{}},ZD=yh.exports,s4;function QC(){return s4||(s4=1,(function(r,e){(function(t,n){r.exports=n(Ot())})(ZD,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,l=i.Hasher,c=n.algo,f=[],h=c.SHA1=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,m){for(var g=this._hash.words,x=g[0],b=g[1],S=g[2],w=g[3],T=g[4],A=0;A<80;A++){if(A<16)f[A]=d[m+A]|0;else{var E=f[A-3]^f[A-8]^f[A-14]^f[A-16];f[A]=E<<1|E>>>31}var _=(x<<5|x>>>27)+T+f[A];A<20?_+=(b&S|~b&w)+1518500249:A<40?_+=(b^S^w)+1859775393:A<60?_+=(b&S|b&w|S&w)-1894007588:_+=(b^S^w)-899497514,T=w,w=S,S=b<<30|b>>>2,b=x,x=_}g[0]=g[0]+x|0,g[1]=g[1]+b|0,g[2]=g[2]+S|0,g[3]=g[3]+w|0,g[4]=g[4]+T|0},_doFinalize:function(){var d=this._data,m=d.words,g=this._nDataBytes*8,x=d.sigBytes*8;return m[x>>>5]|=128<<24-x%32,m[(x+64>>>9<<4)+14]=Math.floor(g/4294967296),m[(x+64>>>9<<4)+15]=g,d.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var d=l.clone.call(this);return d._hash=this._hash.clone(),d}});n.SHA1=l._createHelper(h),n.HmacSHA1=l._createHmacHelper(h)})(),t.SHA1})})(yh)),yh.exports}var bh={exports:{}},JD=bh.exports,a4;function W1(){return a4||(a4=1,(function(r,e){(function(t,n){r.exports=n(Ot())})(JD,function(t){return(function(n){var i=t,s=i.lib,l=s.WordArray,c=s.Hasher,f=i.algo,h=[],d=[];(function(){function x(T){for(var A=n.sqrt(T),E=2;E<=A;E++)if(!(T%E))return!1;return!0}function b(T){return(T-(T|0))*4294967296|0}for(var S=2,w=0;w<64;)x(S)&&(w<8&&(h[w]=b(n.pow(S,1/2))),d[w]=b(n.pow(S,1/3)),w++),S++})();var m=[],g=f.SHA256=c.extend({_doReset:function(){this._hash=new l.init(h.slice(0))},_doProcessBlock:function(x,b){for(var S=this._hash.words,w=S[0],T=S[1],A=S[2],E=S[3],_=S[4],B=S[5],F=S[6],O=S[7],H=0;H<64;H++){if(H<16)m[H]=x[b+H]|0;else{var N=m[H-15],I=(N<<25|N>>>7)^(N<<14|N>>>18)^N>>>3,P=m[H-2],q=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;m[H]=I+m[H-7]+q+m[H-16]}var K=_&B^~_&F,ie=w&T^w&A^T&A,le=(w<<30|w>>>2)^(w<<19|w>>>13)^(w<<10|w>>>22),Z=(_<<26|_>>>6)^(_<<21|_>>>11)^(_<<7|_>>>25),ne=O+Z+K+d[H]+m[H],ve=le+ie;O=F,F=B,B=_,_=E+ne|0,E=A,A=T,T=w,w=ne+ve|0}S[0]=S[0]+w|0,S[1]=S[1]+T|0,S[2]=S[2]+A|0,S[3]=S[3]+E|0,S[4]=S[4]+_|0,S[5]=S[5]+B|0,S[6]=S[6]+F|0,S[7]=S[7]+O|0},_doFinalize:function(){var x=this._data,b=x.words,S=this._nDataBytes*8,w=x.sigBytes*8;return b[w>>>5]|=128<<24-w%32,b[(w+64>>>9<<4)+14]=n.floor(S/4294967296),b[(w+64>>>9<<4)+15]=S,x.sigBytes=b.length*4,this._process(),this._hash},clone:function(){var x=c.clone.call(this);return x._hash=this._hash.clone(),x}});i.SHA256=c._createHelper(g),i.HmacSHA256=c._createHmacHelper(g)})(Math),t.SHA256})})(bh)),bh.exports}var Sh={exports:{}},ek=Sh.exports,l4;function tk(){return l4||(l4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),W1())})(ek,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,l=n.algo,c=l.SHA256,f=l.SHA224=c.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var h=c._doFinalize.call(this);return h.sigBytes-=4,h}});n.SHA224=c._createHelper(f),n.HmacSHA224=c._createHmacHelper(f)})(),t.SHA224})})(Sh)),Sh.exports}var wh={exports:{}},rk=wh.exports,o4;function ZC(){return o4||(o4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),ep())})(rk,function(t){return(function(){var n=t,i=n.lib,s=i.Hasher,l=n.x64,c=l.Word,f=l.WordArray,h=n.algo;function d(){return c.create.apply(c,arguments)}var m=[d(1116352408,3609767458),d(1899447441,602891725),d(3049323471,3964484399),d(3921009573,2173295548),d(961987163,4081628472),d(1508970993,3053834265),d(2453635748,2937671579),d(2870763221,3664609560),d(3624381080,2734883394),d(310598401,1164996542),d(607225278,1323610764),d(1426881987,3590304994),d(1925078388,4068182383),d(2162078206,991336113),d(2614888103,633803317),d(3248222580,3479774868),d(3835390401,2666613458),d(4022224774,944711139),d(264347078,2341262773),d(604807628,2007800933),d(770255983,1495990901),d(1249150122,1856431235),d(1555081692,3175218132),d(1996064986,2198950837),d(2554220882,3999719339),d(2821834349,766784016),d(2952996808,2566594879),d(3210313671,3203337956),d(3336571891,1034457026),d(3584528711,2466948901),d(113926993,3758326383),d(338241895,168717936),d(666307205,1188179964),d(773529912,1546045734),d(1294757372,1522805485),d(1396182291,2643833823),d(1695183700,2343527390),d(1986661051,1014477480),d(2177026350,1206759142),d(2456956037,344077627),d(2730485921,1290863460),d(2820302411,3158454273),d(3259730800,3505952657),d(3345764771,106217008),d(3516065817,3606008344),d(3600352804,1432725776),d(4094571909,1467031594),d(275423344,851169720),d(430227734,3100823752),d(506948616,1363258195),d(659060556,3750685593),d(883997877,3785050280),d(958139571,3318307427),d(1322822218,3812723403),d(1537002063,2003034995),d(1747873779,3602036899),d(1955562222,1575990012),d(2024104815,1125592928),d(2227730452,2716904306),d(2361852424,442776044),d(2428436474,593698344),d(2756734187,3733110249),d(3204031479,2999351573),d(3329325298,3815920427),d(3391569614,3928383900),d(3515267271,566280711),d(3940187606,3454069534),d(4118630271,4000239992),d(116418474,1914138554),d(174292421,2731055270),d(289380356,3203993006),d(460393269,320620315),d(685471733,587496836),d(852142971,1086792851),d(1017036298,365543100),d(1126000580,2618297676),d(1288033470,3409855158),d(1501505948,4234509866),d(1607167915,987167468),d(1816402316,1246189591)],g=[];(function(){for(var b=0;b<80;b++)g[b]=d()})();var x=h.SHA512=s.extend({_doReset:function(){this._hash=new f.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(b,S){for(var w=this._hash.words,T=w[0],A=w[1],E=w[2],_=w[3],B=w[4],F=w[5],O=w[6],H=w[7],N=T.high,I=T.low,P=A.high,q=A.low,K=E.high,ie=E.low,le=_.high,Z=_.low,ne=B.high,ve=B.low,Ee=F.high,Ne=F.low,j=O.high,D=O.low,M=H.high,R=H.low,W=N,ee=I,ye=P,xe=q,Te=K,be=ie,tt=le,Ke=Z,ct=ne,Ce=ve,Ye=Ee,$e=Ne,De=j,ot=D,St=M,jt=R,Ct=0;Ct<80;Ct++){var er,Gt,he=g[Ct];if(Ct<16)Gt=he.high=b[S+Ct*2]|0,er=he.low=b[S+Ct*2+1]|0;else{var Ie=g[Ct-15],Be=Ie.high,rt=Ie.low,vt=(Be>>>1|rt<<31)^(Be>>>8|rt<<24)^Be>>>7,$t=(rt>>>1|Be<<31)^(rt>>>8|Be<<24)^(rt>>>7|Be<<25),ft=g[Ct-2],Bt=ft.high,Er=ft.low,Xn=(Bt>>>19|Er<<13)^(Bt<<3|Er>>>29)^Bt>>>6,tr=(Er>>>19|Bt<<13)^(Er<<3|Bt>>>29)^(Er>>>6|Bt<<26),Cr=g[Ct-7],vr=Cr.high,vs=Cr.low,ui=g[Ct-16],Ki=ui.high,Nn=ui.low;er=$t+vs,Gt=vt+vr+(er>>>0<$t>>>0?1:0),er=er+tr,Gt=Gt+Xn+(er>>>0<tr>>>0?1:0),er=er+Nn,Gt=Gt+Ki+(er>>>0<Nn>>>0?1:0),he.high=Gt,he.low=er}var hi=ct&Ye^~ct&De,Xt=Ce&$e^~Ce&ot,pe=W&ye^W&Te^ye&Te,Me=ee&xe^ee&be^xe&be,Ve=(W>>>28|ee<<4)^(W<<30|ee>>>2)^(W<<25|ee>>>7),it=(ee>>>28|W<<4)^(ee<<30|W>>>2)^(ee<<25|W>>>7),Ze=(ct>>>14|Ce<<18)^(ct>>>18|Ce<<14)^(ct<<23|Ce>>>9),ut=(Ce>>>14|ct<<18)^(Ce>>>18|ct<<14)^(Ce<<23|ct>>>9),at=m[Ct],At=at.high,rr=at.low,Tt=jt+ut,or=St+Ze+(Tt>>>0<jt>>>0?1:0),Tt=Tt+Xt,or=or+hi+(Tt>>>0<Xt>>>0?1:0),Tt=Tt+rr,or=or+At+(Tt>>>0<rr>>>0?1:0),Tt=Tt+er,or=or+Gt+(Tt>>>0<er>>>0?1:0),dn=it+Me,wn=Ve+pe+(dn>>>0<it>>>0?1:0);St=De,jt=ot,De=Ye,ot=$e,Ye=ct,$e=Ce,Ce=Ke+Tt|0,ct=tt+or+(Ce>>>0<Ke>>>0?1:0)|0,tt=Te,Ke=be,Te=ye,be=xe,ye=W,xe=ee,ee=Tt+dn|0,W=or+wn+(ee>>>0<Tt>>>0?1:0)|0}I=T.low=I+ee,T.high=N+W+(I>>>0<ee>>>0?1:0),q=A.low=q+xe,A.high=P+ye+(q>>>0<xe>>>0?1:0),ie=E.low=ie+be,E.high=K+Te+(ie>>>0<be>>>0?1:0),Z=_.low=Z+Ke,_.high=le+tt+(Z>>>0<Ke>>>0?1:0),ve=B.low=ve+Ce,B.high=ne+ct+(ve>>>0<Ce>>>0?1:0),Ne=F.low=Ne+$e,F.high=Ee+Ye+(Ne>>>0<$e>>>0?1:0),D=O.low=D+ot,O.high=j+De+(D>>>0<ot>>>0?1:0),R=H.low=R+jt,H.high=M+St+(R>>>0<jt>>>0?1:0)},_doFinalize:function(){var b=this._data,S=b.words,w=this._nDataBytes*8,T=b.sigBytes*8;S[T>>>5]|=128<<24-T%32,S[(T+128>>>10<<5)+30]=Math.floor(w/4294967296),S[(T+128>>>10<<5)+31]=w,b.sigBytes=S.length*4,this._process();var A=this._hash.toX32();return A},clone:function(){var b=s.clone.call(this);return b._hash=this._hash.clone(),b},blockSize:1024/32});n.SHA512=s._createHelper(x),n.HmacSHA512=s._createHmacHelper(x)})(),t.SHA512})})(wh)),wh.exports}var Eh={exports:{}},nk=Eh.exports,c4;function ik(){return c4||(c4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),ep(),ZC())})(nk,function(t){return(function(){var n=t,i=n.x64,s=i.Word,l=i.WordArray,c=n.algo,f=c.SHA512,h=c.SHA384=f.extend({_doReset:function(){this._hash=new l.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var d=f._doFinalize.call(this);return d.sigBytes-=16,d}});n.SHA384=f._createHelper(h),n.HmacSHA384=f._createHmacHelper(h)})(),t.SHA384})})(Eh)),Eh.exports}var Ch={exports:{}},sk=Ch.exports,f4;function ak(){return f4||(f4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),ep())})(sk,function(t){return(function(n){var i=t,s=i.lib,l=s.WordArray,c=s.Hasher,f=i.x64,h=f.Word,d=i.algo,m=[],g=[],x=[];(function(){for(var w=1,T=0,A=0;A<24;A++){m[w+5*T]=(A+1)*(A+2)/2%64;var E=T%5,_=(2*w+3*T)%5;w=E,T=_}for(var w=0;w<5;w++)for(var T=0;T<5;T++)g[w+5*T]=T+(2*w+3*T)%5*5;for(var B=1,F=0;F<24;F++){for(var O=0,H=0,N=0;N<7;N++){if(B&1){var I=(1<<N)-1;I<32?H^=1<<I:O^=1<<I-32}B&128?B=B<<1^113:B<<=1}x[F]=h.create(O,H)}})();var b=[];(function(){for(var w=0;w<25;w++)b[w]=h.create()})();var S=d.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var w=this._state=[],T=0;T<25;T++)w[T]=new h.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(w,T){for(var A=this._state,E=this.blockSize/2,_=0;_<E;_++){var B=w[T+2*_],F=w[T+2*_+1];B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360;var O=A[_];O.high^=F,O.low^=B}for(var H=0;H<24;H++){for(var N=0;N<5;N++){for(var I=0,P=0,q=0;q<5;q++){var O=A[N+5*q];I^=O.high,P^=O.low}var K=b[N];K.high=I,K.low=P}for(var N=0;N<5;N++)for(var ie=b[(N+4)%5],le=b[(N+1)%5],Z=le.high,ne=le.low,I=ie.high^(Z<<1|ne>>>31),P=ie.low^(ne<<1|Z>>>31),q=0;q<5;q++){var O=A[N+5*q];O.high^=I,O.low^=P}for(var ve=1;ve<25;ve++){var I,P,O=A[ve],Ee=O.high,Ne=O.low,j=m[ve];j<32?(I=Ee<<j|Ne>>>32-j,P=Ne<<j|Ee>>>32-j):(I=Ne<<j-32|Ee>>>64-j,P=Ee<<j-32|Ne>>>64-j);var D=b[g[ve]];D.high=I,D.low=P}var M=b[0],R=A[0];M.high=R.high,M.low=R.low;for(var N=0;N<5;N++)for(var q=0;q<5;q++){var ve=N+5*q,O=A[ve],W=b[ve],ee=b[(N+1)%5+5*q],ye=b[(N+2)%5+5*q];O.high=W.high^~ee.high&ye.high,O.low=W.low^~ee.low&ye.low}var O=A[0],xe=x[H];O.high^=xe.high,O.low^=xe.low}},_doFinalize:function(){var w=this._data,T=w.words;this._nDataBytes*8;var A=w.sigBytes*8,E=this.blockSize*32;T[A>>>5]|=1<<24-A%32,T[(n.ceil((A+1)/E)*E>>>5)-1]|=128,w.sigBytes=T.length*4,this._process();for(var _=this._state,B=this.cfg.outputLength/8,F=B/8,O=[],H=0;H<F;H++){var N=_[H],I=N.high,P=N.low;I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,O.push(P),O.push(I)}return new l.init(O,B)},clone:function(){for(var w=c.clone.call(this),T=w._state=this._state.slice(0),A=0;A<25;A++)T[A]=T[A].clone();return w}});i.SHA3=c._createHelper(S),i.HmacSHA3=c._createHmacHelper(S)})(Math),t.SHA3})})(Ch)),Ch.exports}var Ah={exports:{}},lk=Ah.exports,u4;function ok(){return u4||(u4=1,(function(r,e){(function(t,n){r.exports=n(Ot())})(lk,function(t){return(function(n){var i=t,s=i.lib,l=s.WordArray,c=s.Hasher,f=i.algo,h=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),m=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),x=l.create([0,1518500249,1859775393,2400959708,2840853838]),b=l.create([1352829926,1548603684,1836072691,2053994217,0]),S=f.RIPEMD160=c.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(F,O){for(var H=0;H<16;H++){var N=O+H,I=F[N];F[N]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var P=this._hash.words,q=x.words,K=b.words,ie=h.words,le=d.words,Z=m.words,ne=g.words,ve,Ee,Ne,j,D,M,R,W,ee,ye;M=ve=P[0],R=Ee=P[1],W=Ne=P[2],ee=j=P[3],ye=D=P[4];for(var xe,H=0;H<80;H+=1)xe=ve+F[O+ie[H]]|0,H<16?xe+=w(Ee,Ne,j)+q[0]:H<32?xe+=T(Ee,Ne,j)+q[1]:H<48?xe+=A(Ee,Ne,j)+q[2]:H<64?xe+=E(Ee,Ne,j)+q[3]:xe+=_(Ee,Ne,j)+q[4],xe=xe|0,xe=B(xe,Z[H]),xe=xe+D|0,ve=D,D=j,j=B(Ne,10),Ne=Ee,Ee=xe,xe=M+F[O+le[H]]|0,H<16?xe+=_(R,W,ee)+K[0]:H<32?xe+=E(R,W,ee)+K[1]:H<48?xe+=A(R,W,ee)+K[2]:H<64?xe+=T(R,W,ee)+K[3]:xe+=w(R,W,ee)+K[4],xe=xe|0,xe=B(xe,ne[H]),xe=xe+ye|0,M=ye,ye=ee,ee=B(W,10),W=R,R=xe;xe=P[1]+Ne+ee|0,P[1]=P[2]+j+ye|0,P[2]=P[3]+D+M|0,P[3]=P[4]+ve+R|0,P[4]=P[0]+Ee+W|0,P[0]=xe},_doFinalize:function(){var F=this._data,O=F.words,H=this._nDataBytes*8,N=F.sigBytes*8;O[N>>>5]|=128<<24-N%32,O[(N+64>>>9<<4)+14]=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360,F.sigBytes=(O.length+1)*4,this._process();for(var I=this._hash,P=I.words,q=0;q<5;q++){var K=P[q];P[q]=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360}return I},clone:function(){var F=c.clone.call(this);return F._hash=this._hash.clone(),F}});function w(F,O,H){return F^O^H}function T(F,O,H){return F&O|~F&H}function A(F,O,H){return(F|~O)^H}function E(F,O,H){return F&H|O&~H}function _(F,O,H){return F^(O|~H)}function B(F,O){return F<<O|F>>>32-O}i.RIPEMD160=c._createHelper(S),i.HmacRIPEMD160=c._createHmacHelper(S)})(),t.RIPEMD160})})(Ah)),Ah.exports}var Th={exports:{}},ck=Th.exports,h4;function G1(){return h4||(h4=1,(function(r,e){(function(t,n){r.exports=n(Ot())})(ck,function(t){(function(){var n=t,i=n.lib,s=i.Base,l=n.enc,c=l.Utf8,f=n.algo;f.HMAC=s.extend({init:function(h,d){h=this._hasher=new h.init,typeof d=="string"&&(d=c.parse(d));var m=h.blockSize,g=m*4;d.sigBytes>g&&(d=h.finalize(d)),d.clamp();for(var x=this._oKey=d.clone(),b=this._iKey=d.clone(),S=x.words,w=b.words,T=0;T<m;T++)S[T]^=1549556828,w[T]^=909522486;x.sigBytes=b.sigBytes=g,this.reset()},reset:function(){var h=this._hasher;h.reset(),h.update(this._iKey)},update:function(h){return this._hasher.update(h),this},finalize:function(h){var d=this._hasher,m=d.finalize(h);d.reset();var g=d.finalize(this._oKey.clone().concat(m));return g}})})()})})(Th)),Th.exports}var _h={exports:{}},fk=_h.exports,d4;function uk(){return d4||(d4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),W1(),G1())})(fk,function(t){return(function(){var n=t,i=n.lib,s=i.Base,l=i.WordArray,c=n.algo,f=c.SHA256,h=c.HMAC,d=c.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:f,iterations:25e4}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,g){for(var x=this.cfg,b=h.create(x.hasher,m),S=l.create(),w=l.create([1]),T=S.words,A=w.words,E=x.keySize,_=x.iterations;T.length<E;){var B=b.update(g).finalize(w);b.reset();for(var F=B.words,O=F.length,H=B,N=1;N<_;N++){H=b.finalize(H),b.reset();for(var I=H.words,P=0;P<O;P++)F[P]^=I[P]}S.concat(B),A[0]++}return S.sigBytes=E*4,S}});n.PBKDF2=function(m,g,x){return d.create(x).compute(m,g)}})(),t.PBKDF2})})(_h)),_h.exports}var Dh={exports:{}},hk=Dh.exports,p4;function Ua(){return p4||(p4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),QC(),G1())})(hk,function(t){return(function(){var n=t,i=n.lib,s=i.Base,l=i.WordArray,c=n.algo,f=c.MD5,h=c.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:f,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,m){for(var g,x=this.cfg,b=x.hasher.create(),S=l.create(),w=S.words,T=x.keySize,A=x.iterations;w.length<T;){g&&b.update(g),g=b.update(d).finalize(m),b.reset();for(var E=1;E<A;E++)g=b.finalize(g),b.reset();S.concat(g)}return S.sigBytes=T*4,S}});n.EvpKDF=function(d,m,g){return h.create(g).compute(d,m)}})(),t.EvpKDF})})(Dh)),Dh.exports}var kh={exports:{}},dk=kh.exports,m4;function Qr(){return m4||(m4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Ua())})(dk,function(t){t.lib.Cipher||(function(n){var i=t,s=i.lib,l=s.Base,c=s.WordArray,f=s.BufferedBlockAlgorithm,h=i.enc;h.Utf8;var d=h.Base64,m=i.algo,g=m.EvpKDF,x=s.Cipher=f.extend({cfg:l.extend(),createEncryptor:function(I,P){return this.create(this._ENC_XFORM_MODE,I,P)},createDecryptor:function(I,P){return this.create(this._DEC_XFORM_MODE,I,P)},init:function(I,P,q){this.cfg=this.cfg.extend(q),this._xformMode=I,this._key=P,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(I){return this._append(I),this._process()},finalize:function(I){I&&this._append(I);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function I(P){return typeof P=="string"?N:F}return function(P){return{encrypt:function(q,K,ie){return I(K).encrypt(P,q,K,ie)},decrypt:function(q,K,ie){return I(K).decrypt(P,q,K,ie)}}}})()});s.StreamCipher=x.extend({_doFinalize:function(){var I=this._process(!0);return I},blockSize:1});var b=i.mode={},S=s.BlockCipherMode=l.extend({createEncryptor:function(I,P){return this.Encryptor.create(I,P)},createDecryptor:function(I,P){return this.Decryptor.create(I,P)},init:function(I,P){this._cipher=I,this._iv=P}}),w=b.CBC=(function(){var I=S.extend();I.Encryptor=I.extend({processBlock:function(q,K){var ie=this._cipher,le=ie.blockSize;P.call(this,q,K,le),ie.encryptBlock(q,K),this._prevBlock=q.slice(K,K+le)}}),I.Decryptor=I.extend({processBlock:function(q,K){var ie=this._cipher,le=ie.blockSize,Z=q.slice(K,K+le);ie.decryptBlock(q,K),P.call(this,q,K,le),this._prevBlock=Z}});function P(q,K,ie){var le,Z=this._iv;Z?(le=Z,this._iv=n):le=this._prevBlock;for(var ne=0;ne<ie;ne++)q[K+ne]^=le[ne]}return I})(),T=i.pad={},A=T.Pkcs7={pad:function(I,P){for(var q=P*4,K=q-I.sigBytes%q,ie=K<<24|K<<16|K<<8|K,le=[],Z=0;Z<K;Z+=4)le.push(ie);var ne=c.create(le,K);I.concat(ne)},unpad:function(I){var P=I.words[I.sigBytes-1>>>2]&255;I.sigBytes-=P}};s.BlockCipher=x.extend({cfg:x.cfg.extend({mode:w,padding:A}),reset:function(){var I;x.reset.call(this);var P=this.cfg,q=P.iv,K=P.mode;this._xformMode==this._ENC_XFORM_MODE?I=K.createEncryptor:(I=K.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==I?this._mode.init(this,q&&q.words):(this._mode=I.call(K,this,q&&q.words),this._mode.__creator=I)},_doProcessBlock:function(I,P){this._mode.processBlock(I,P)},_doFinalize:function(){var I,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),I=this._process(!0)):(I=this._process(!0),P.unpad(I)),I},blockSize:128/32});var E=s.CipherParams=l.extend({init:function(I){this.mixIn(I)},toString:function(I){return(I||this.formatter).stringify(this)}}),_=i.format={},B=_.OpenSSL={stringify:function(I){var P,q=I.ciphertext,K=I.salt;return K?P=c.create([1398893684,1701076831]).concat(K).concat(q):P=q,P.toString(d)},parse:function(I){var P,q=d.parse(I),K=q.words;return K[0]==1398893684&&K[1]==1701076831&&(P=c.create(K.slice(2,4)),K.splice(0,4),q.sigBytes-=16),E.create({ciphertext:q,salt:P})}},F=s.SerializableCipher=l.extend({cfg:l.extend({format:B}),encrypt:function(I,P,q,K){K=this.cfg.extend(K);var ie=I.createEncryptor(q,K),le=ie.finalize(P),Z=ie.cfg;return E.create({ciphertext:le,key:q,iv:Z.iv,algorithm:I,mode:Z.mode,padding:Z.padding,blockSize:I.blockSize,formatter:K.format})},decrypt:function(I,P,q,K){K=this.cfg.extend(K),P=this._parse(P,K.format);var ie=I.createDecryptor(q,K).finalize(P.ciphertext);return ie},_parse:function(I,P){return typeof I=="string"?P.parse(I,this):I}}),O=i.kdf={},H=O.OpenSSL={execute:function(I,P,q,K,ie){if(K||(K=c.random(64/8)),ie)var le=g.create({keySize:P+q,hasher:ie}).compute(I,K);else var le=g.create({keySize:P+q}).compute(I,K);var Z=c.create(le.words.slice(P),q*4);return le.sigBytes=P*4,E.create({key:le,iv:Z,salt:K})}},N=s.PasswordBasedCipher=F.extend({cfg:F.cfg.extend({kdf:H}),encrypt:function(I,P,q,K){K=this.cfg.extend(K);var ie=K.kdf.execute(q,I.keySize,I.ivSize,K.salt,K.hasher);K.iv=ie.iv;var le=F.encrypt.call(this,I,P,ie.key,K);return le.mixIn(ie),le},decrypt:function(I,P,q,K){K=this.cfg.extend(K),P=this._parse(P,K.format);var ie=K.kdf.execute(q,I.keySize,I.ivSize,P.salt,K.hasher);K.iv=ie.iv;var le=F.decrypt.call(this,I,P,ie.key,K);return le}})})()})})(kh)),kh.exports}var Oh={exports:{}},pk=Oh.exports,g4;function mk(){return g4||(g4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Qr())})(pk,function(t){return t.mode.CFB=(function(){var n=t.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(s,l){var c=this._cipher,f=c.blockSize;i.call(this,s,l,f,c),this._prevBlock=s.slice(l,l+f)}}),n.Decryptor=n.extend({processBlock:function(s,l){var c=this._cipher,f=c.blockSize,h=s.slice(l,l+f);i.call(this,s,l,f,c),this._prevBlock=h}});function i(s,l,c,f){var h,d=this._iv;d?(h=d.slice(0),this._iv=void 0):h=this._prevBlock,f.encryptBlock(h,0);for(var m=0;m<c;m++)s[l+m]^=h[m]}return n})(),t.mode.CFB})})(Oh)),Oh.exports}var Bh={exports:{}},gk=Bh.exports,x4;function xk(){return x4||(x4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Qr())})(gk,function(t){return t.mode.CTR=(function(){var n=t.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,l){var c=this._cipher,f=c.blockSize,h=this._iv,d=this._counter;h&&(d=this._counter=h.slice(0),this._iv=void 0);var m=d.slice(0);c.encryptBlock(m,0),d[f-1]=d[f-1]+1|0;for(var g=0;g<f;g++)s[l+g]^=m[g]}});return n.Decryptor=i,n})(),t.mode.CTR})})(Bh)),Bh.exports}var Nh={exports:{}},vk=Nh.exports,v4;function yk(){return v4||(v4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Qr())})(vk,function(t){return t.mode.CTRGladman=(function(){var n=t.lib.BlockCipherMode.extend();function i(c){if((c>>24&255)===255){var f=c>>16&255,h=c>>8&255,d=c&255;f===255?(f=0,h===255?(h=0,d===255?d=0:++d):++h):++f,c=0,c+=f<<16,c+=h<<8,c+=d}else c+=1<<24;return c}function s(c){return(c[0]=i(c[0]))===0&&(c[1]=i(c[1])),c}var l=n.Encryptor=n.extend({processBlock:function(c,f){var h=this._cipher,d=h.blockSize,m=this._iv,g=this._counter;m&&(g=this._counter=m.slice(0),this._iv=void 0),s(g);var x=g.slice(0);h.encryptBlock(x,0);for(var b=0;b<d;b++)c[f+b]^=x[b]}});return n.Decryptor=l,n})(),t.mode.CTRGladman})})(Nh)),Nh.exports}var Rh={exports:{}},bk=Rh.exports,y4;function Sk(){return y4||(y4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Qr())})(bk,function(t){return t.mode.OFB=(function(){var n=t.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,l){var c=this._cipher,f=c.blockSize,h=this._iv,d=this._keystream;h&&(d=this._keystream=h.slice(0),this._iv=void 0),c.encryptBlock(d,0);for(var m=0;m<f;m++)s[l+m]^=d[m]}});return n.Decryptor=i,n})(),t.mode.OFB})})(Rh)),Rh.exports}var Fh={exports:{}},wk=Fh.exports,b4;function Ek(){return b4||(b4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Qr())})(wk,function(t){return t.mode.ECB=(function(){var n=t.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),n.Decryptor=n.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),n})(),t.mode.ECB})})(Fh)),Fh.exports}var Mh={exports:{}},Ck=Mh.exports,S4;function Ak(){return S4||(S4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Qr())})(Ck,function(t){return t.pad.AnsiX923={pad:function(n,i){var s=n.sigBytes,l=i*4,c=l-s%l,f=s+c-1;n.clamp(),n.words[f>>>2]|=c<<24-f%4*8,n.sigBytes+=c},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},t.pad.Ansix923})})(Mh)),Mh.exports}var Lh={exports:{}},Tk=Lh.exports,w4;function _k(){return w4||(w4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Qr())})(Tk,function(t){return t.pad.Iso10126={pad:function(n,i){var s=i*4,l=s-n.sigBytes%s;n.concat(t.lib.WordArray.random(l-1)).concat(t.lib.WordArray.create([l<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},t.pad.Iso10126})})(Lh)),Lh.exports}var Ih={exports:{}},Dk=Ih.exports,E4;function kk(){return E4||(E4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Qr())})(Dk,function(t){return t.pad.Iso97971={pad:function(n,i){n.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(n,i)},unpad:function(n){t.pad.ZeroPadding.unpad(n),n.sigBytes--}},t.pad.Iso97971})})(Ih)),Ih.exports}var Ph={exports:{}},Ok=Ph.exports,C4;function Bk(){return C4||(C4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Qr())})(Ok,function(t){return t.pad.ZeroPadding={pad:function(n,i){var s=i*4;n.clamp(),n.sigBytes+=s-(n.sigBytes%s||s)},unpad:function(n){for(var i=n.words,s=n.sigBytes-1,s=n.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){n.sigBytes=s+1;break}}},t.pad.ZeroPadding})})(Ph)),Ph.exports}var jh={exports:{}},Nk=jh.exports,A4;function Rk(){return A4||(A4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Qr())})(Nk,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})})(jh)),jh.exports}var zh={exports:{}},Fk=zh.exports,T4;function Mk(){return T4||(T4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Qr())})(Fk,function(t){return(function(n){var i=t,s=i.lib,l=s.CipherParams,c=i.enc,f=c.Hex,h=i.format;h.Hex={stringify:function(d){return d.ciphertext.toString(f)},parse:function(d){var m=f.parse(d);return l.create({ciphertext:m})}}})(),t.format.Hex})})(zh)),zh.exports}var Hh={exports:{}},Lk=Hh.exports,_4;function Ik(){return _4||(_4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Ol(),Bl(),Ua(),Qr())})(Lk,function(t){return(function(){var n=t,i=n.lib,s=i.BlockCipher,l=n.algo,c=[],f=[],h=[],d=[],m=[],g=[],x=[],b=[],S=[],w=[];(function(){for(var E=[],_=0;_<256;_++)_<128?E[_]=_<<1:E[_]=_<<1^283;for(var B=0,F=0,_=0;_<256;_++){var O=F^F<<1^F<<2^F<<3^F<<4;O=O>>>8^O&255^99,c[B]=O,f[O]=B;var H=E[B],N=E[H],I=E[N],P=E[O]*257^O*16843008;h[B]=P<<24|P>>>8,d[B]=P<<16|P>>>16,m[B]=P<<8|P>>>24,g[B]=P;var P=I*16843009^N*65537^H*257^B*16843008;x[O]=P<<24|P>>>8,b[O]=P<<16|P>>>16,S[O]=P<<8|P>>>24,w[O]=P,B?(B=H^E[E[E[I^H]]],F^=E[E[F]]):B=F=1}})();var T=[0,1,2,4,8,16,32,64,128,27,54],A=l.AES=s.extend({_doReset:function(){var E;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var _=this._keyPriorReset=this._key,B=_.words,F=_.sigBytes/4,O=this._nRounds=F+6,H=(O+1)*4,N=this._keySchedule=[],I=0;I<H;I++)I<F?N[I]=B[I]:(E=N[I-1],I%F?F>6&&I%F==4&&(E=c[E>>>24]<<24|c[E>>>16&255]<<16|c[E>>>8&255]<<8|c[E&255]):(E=E<<8|E>>>24,E=c[E>>>24]<<24|c[E>>>16&255]<<16|c[E>>>8&255]<<8|c[E&255],E^=T[I/F|0]<<24),N[I]=N[I-F]^E);for(var P=this._invKeySchedule=[],q=0;q<H;q++){var I=H-q;if(q%4)var E=N[I];else var E=N[I-4];q<4||I<=4?P[q]=E:P[q]=x[c[E>>>24]]^b[c[E>>>16&255]]^S[c[E>>>8&255]]^w[c[E&255]]}}},encryptBlock:function(E,_){this._doCryptBlock(E,_,this._keySchedule,h,d,m,g,c)},decryptBlock:function(E,_){var B=E[_+1];E[_+1]=E[_+3],E[_+3]=B,this._doCryptBlock(E,_,this._invKeySchedule,x,b,S,w,f);var B=E[_+1];E[_+1]=E[_+3],E[_+3]=B},_doCryptBlock:function(E,_,B,F,O,H,N,I){for(var P=this._nRounds,q=E[_]^B[0],K=E[_+1]^B[1],ie=E[_+2]^B[2],le=E[_+3]^B[3],Z=4,ne=1;ne<P;ne++){var ve=F[q>>>24]^O[K>>>16&255]^H[ie>>>8&255]^N[le&255]^B[Z++],Ee=F[K>>>24]^O[ie>>>16&255]^H[le>>>8&255]^N[q&255]^B[Z++],Ne=F[ie>>>24]^O[le>>>16&255]^H[q>>>8&255]^N[K&255]^B[Z++],j=F[le>>>24]^O[q>>>16&255]^H[K>>>8&255]^N[ie&255]^B[Z++];q=ve,K=Ee,ie=Ne,le=j}var ve=(I[q>>>24]<<24|I[K>>>16&255]<<16|I[ie>>>8&255]<<8|I[le&255])^B[Z++],Ee=(I[K>>>24]<<24|I[ie>>>16&255]<<16|I[le>>>8&255]<<8|I[q&255])^B[Z++],Ne=(I[ie>>>24]<<24|I[le>>>16&255]<<16|I[q>>>8&255]<<8|I[K&255])^B[Z++],j=(I[le>>>24]<<24|I[q>>>16&255]<<16|I[K>>>8&255]<<8|I[ie&255])^B[Z++];E[_]=ve,E[_+1]=Ee,E[_+2]=Ne,E[_+3]=j},keySize:256/32});n.AES=s._createHelper(A)})(),t.AES})})(Hh)),Hh.exports}var Uh={exports:{}},Pk=Uh.exports,D4;function jk(){return D4||(D4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Ol(),Bl(),Ua(),Qr())})(Pk,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,l=i.BlockCipher,c=n.algo,f=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],d=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],m=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],g=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],x=c.DES=l.extend({_doReset:function(){for(var T=this._key,A=T.words,E=[],_=0;_<56;_++){var B=f[_]-1;E[_]=A[B>>>5]>>>31-B%32&1}for(var F=this._subKeys=[],O=0;O<16;O++){for(var H=F[O]=[],N=d[O],_=0;_<24;_++)H[_/6|0]|=E[(h[_]-1+N)%28]<<31-_%6,H[4+(_/6|0)]|=E[28+(h[_+24]-1+N)%28]<<31-_%6;H[0]=H[0]<<1|H[0]>>>31;for(var _=1;_<7;_++)H[_]=H[_]>>>(_-1)*4+3;H[7]=H[7]<<5|H[7]>>>27}for(var I=this._invSubKeys=[],_=0;_<16;_++)I[_]=F[15-_]},encryptBlock:function(T,A){this._doCryptBlock(T,A,this._subKeys)},decryptBlock:function(T,A){this._doCryptBlock(T,A,this._invSubKeys)},_doCryptBlock:function(T,A,E){this._lBlock=T[A],this._rBlock=T[A+1],b.call(this,4,252645135),b.call(this,16,65535),S.call(this,2,858993459),S.call(this,8,16711935),b.call(this,1,1431655765);for(var _=0;_<16;_++){for(var B=E[_],F=this._lBlock,O=this._rBlock,H=0,N=0;N<8;N++)H|=m[N][((O^B[N])&g[N])>>>0];this._lBlock=O,this._rBlock=F^H}var I=this._lBlock;this._lBlock=this._rBlock,this._rBlock=I,b.call(this,1,1431655765),S.call(this,8,16711935),S.call(this,2,858993459),b.call(this,16,65535),b.call(this,4,252645135),T[A]=this._lBlock,T[A+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function b(T,A){var E=(this._lBlock>>>T^this._rBlock)&A;this._rBlock^=E,this._lBlock^=E<<T}function S(T,A){var E=(this._rBlock>>>T^this._lBlock)&A;this._lBlock^=E,this._rBlock^=E<<T}n.DES=l._createHelper(x);var w=c.TripleDES=l.extend({_doReset:function(){var T=this._key,A=T.words;if(A.length!==2&&A.length!==4&&A.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=A.slice(0,2),_=A.length<4?A.slice(0,2):A.slice(2,4),B=A.length<6?A.slice(0,2):A.slice(4,6);this._des1=x.createEncryptor(s.create(E)),this._des2=x.createEncryptor(s.create(_)),this._des3=x.createEncryptor(s.create(B))},encryptBlock:function(T,A){this._des1.encryptBlock(T,A),this._des2.decryptBlock(T,A),this._des3.encryptBlock(T,A)},decryptBlock:function(T,A){this._des3.decryptBlock(T,A),this._des2.encryptBlock(T,A),this._des1.decryptBlock(T,A)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=l._createHelper(w)})(),t.TripleDES})})(Uh)),Uh.exports}var Vh={exports:{}},zk=Vh.exports,k4;function Hk(){return k4||(k4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Ol(),Bl(),Ua(),Qr())})(zk,function(t){return(function(){var n=t,i=n.lib,s=i.StreamCipher,l=n.algo,c=l.RC4=s.extend({_doReset:function(){for(var d=this._key,m=d.words,g=d.sigBytes,x=this._S=[],b=0;b<256;b++)x[b]=b;for(var b=0,S=0;b<256;b++){var w=b%g,T=m[w>>>2]>>>24-w%4*8&255;S=(S+x[b]+T)%256;var A=x[b];x[b]=x[S],x[S]=A}this._i=this._j=0},_doProcessBlock:function(d,m){d[m]^=f.call(this)},keySize:256/32,ivSize:0});function f(){for(var d=this._S,m=this._i,g=this._j,x=0,b=0;b<4;b++){m=(m+1)%256,g=(g+d[m])%256;var S=d[m];d[m]=d[g],d[g]=S,x|=d[(d[m]+d[g])%256]<<24-b*8}return this._i=m,this._j=g,x}n.RC4=s._createHelper(c);var h=l.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var d=this.cfg.drop;d>0;d--)f.call(this)}});n.RC4Drop=s._createHelper(h)})(),t.RC4})})(Vh)),Vh.exports}var qh={exports:{}},Uk=qh.exports,O4;function Vk(){return O4||(O4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Ol(),Bl(),Ua(),Qr())})(Uk,function(t){return(function(){var n=t,i=n.lib,s=i.StreamCipher,l=n.algo,c=[],f=[],h=[],d=l.Rabbit=s.extend({_doReset:function(){for(var g=this._key.words,x=this.cfg.iv,b=0;b<4;b++)g[b]=(g[b]<<8|g[b]>>>24)&16711935|(g[b]<<24|g[b]>>>8)&4278255360;var S=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],w=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var b=0;b<4;b++)m.call(this);for(var b=0;b<8;b++)w[b]^=S[b+4&7];if(x){var T=x.words,A=T[0],E=T[1],_=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,B=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,F=_>>>16|B&4294901760,O=B<<16|_&65535;w[0]^=_,w[1]^=F,w[2]^=B,w[3]^=O,w[4]^=_,w[5]^=F,w[6]^=B,w[7]^=O;for(var b=0;b<4;b++)m.call(this)}},_doProcessBlock:function(g,x){var b=this._X;m.call(this),c[0]=b[0]^b[5]>>>16^b[3]<<16,c[1]=b[2]^b[7]>>>16^b[5]<<16,c[2]=b[4]^b[1]>>>16^b[7]<<16,c[3]=b[6]^b[3]>>>16^b[1]<<16;for(var S=0;S<4;S++)c[S]=(c[S]<<8|c[S]>>>24)&16711935|(c[S]<<24|c[S]>>>8)&4278255360,g[x+S]^=c[S]},blockSize:128/32,ivSize:64/32});function m(){for(var g=this._X,x=this._C,b=0;b<8;b++)f[b]=x[b];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<f[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<f[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<f[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<f[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<f[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<f[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<f[6]>>>0?1:0)|0,this._b=x[7]>>>0<f[7]>>>0?1:0;for(var b=0;b<8;b++){var S=g[b]+x[b],w=S&65535,T=S>>>16,A=((w*w>>>17)+w*T>>>15)+T*T,E=((S&4294901760)*S|0)+((S&65535)*S|0);h[b]=A^E}g[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,g[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,g[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,g[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,g[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,g[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,g[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,g[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}n.Rabbit=s._createHelper(d)})(),t.Rabbit})})(qh)),qh.exports}var Wh={exports:{}},qk=Wh.exports,B4;function Wk(){return B4||(B4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Ol(),Bl(),Ua(),Qr())})(qk,function(t){return(function(){var n=t,i=n.lib,s=i.StreamCipher,l=n.algo,c=[],f=[],h=[],d=l.RabbitLegacy=s.extend({_doReset:function(){var g=this._key.words,x=this.cfg.iv,b=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],S=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var w=0;w<4;w++)m.call(this);for(var w=0;w<8;w++)S[w]^=b[w+4&7];if(x){var T=x.words,A=T[0],E=T[1],_=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,B=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,F=_>>>16|B&4294901760,O=B<<16|_&65535;S[0]^=_,S[1]^=F,S[2]^=B,S[3]^=O,S[4]^=_,S[5]^=F,S[6]^=B,S[7]^=O;for(var w=0;w<4;w++)m.call(this)}},_doProcessBlock:function(g,x){var b=this._X;m.call(this),c[0]=b[0]^b[5]>>>16^b[3]<<16,c[1]=b[2]^b[7]>>>16^b[5]<<16,c[2]=b[4]^b[1]>>>16^b[7]<<16,c[3]=b[6]^b[3]>>>16^b[1]<<16;for(var S=0;S<4;S++)c[S]=(c[S]<<8|c[S]>>>24)&16711935|(c[S]<<24|c[S]>>>8)&4278255360,g[x+S]^=c[S]},blockSize:128/32,ivSize:64/32});function m(){for(var g=this._X,x=this._C,b=0;b<8;b++)f[b]=x[b];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<f[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<f[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<f[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<f[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<f[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<f[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<f[6]>>>0?1:0)|0,this._b=x[7]>>>0<f[7]>>>0?1:0;for(var b=0;b<8;b++){var S=g[b]+x[b],w=S&65535,T=S>>>16,A=((w*w>>>17)+w*T>>>15)+T*T,E=((S&4294901760)*S|0)+((S&65535)*S|0);h[b]=A^E}g[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,g[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,g[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,g[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,g[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,g[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,g[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,g[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}n.RabbitLegacy=s._createHelper(d)})(),t.RabbitLegacy})})(Wh)),Wh.exports}var Gh={exports:{}},Gk=Gh.exports,N4;function $k(){return N4||(N4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),Ol(),Bl(),Ua(),Qr())})(Gk,function(t){return(function(){var n=t,i=n.lib,s=i.BlockCipher,l=n.algo;const c=16,f=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],h=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var d={pbox:[],sbox:[]};function m(w,T){let A=T>>24&255,E=T>>16&255,_=T>>8&255,B=T&255,F=w.sbox[0][A]+w.sbox[1][E];return F=F^w.sbox[2][_],F=F+w.sbox[3][B],F}function g(w,T,A){let E=T,_=A,B;for(let F=0;F<c;++F)E=E^w.pbox[F],_=m(w,E)^_,B=E,E=_,_=B;return B=E,E=_,_=B,_=_^w.pbox[c],E=E^w.pbox[c+1],{left:E,right:_}}function x(w,T,A){let E=T,_=A,B;for(let F=c+1;F>1;--F)E=E^w.pbox[F],_=m(w,E)^_,B=E,E=_,_=B;return B=E,E=_,_=B,_=_^w.pbox[1],E=E^w.pbox[0],{left:E,right:_}}function b(w,T,A){for(let O=0;O<4;O++){w.sbox[O]=[];for(let H=0;H<256;H++)w.sbox[O][H]=h[O][H]}let E=0;for(let O=0;O<c+2;O++)w.pbox[O]=f[O]^T[E],E++,E>=A&&(E=0);let _=0,B=0,F=0;for(let O=0;O<c+2;O+=2)F=g(w,_,B),_=F.left,B=F.right,w.pbox[O]=_,w.pbox[O+1]=B;for(let O=0;O<4;O++)for(let H=0;H<256;H+=2)F=g(w,_,B),_=F.left,B=F.right,w.sbox[O][H]=_,w.sbox[O][H+1]=B;return!0}var S=l.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var w=this._keyPriorReset=this._key,T=w.words,A=w.sigBytes/4;b(d,T,A)}},encryptBlock:function(w,T){var A=g(d,w[T],w[T+1]);w[T]=A.left,w[T+1]=A.right},decryptBlock:function(w,T){var A=x(d,w[T],w[T+1]);w[T]=A.left,w[T+1]=A.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=s._createHelper(S)})(),t.Blowfish})})(Gh)),Gh.exports}var Xk=uh.exports,R4;function Yk(){return R4||(R4=1,(function(r,e){(function(t,n,i){r.exports=n(Ot(),ep(),WD(),$D(),Ol(),KD(),Bl(),QC(),W1(),tk(),ZC(),ik(),ak(),ok(),G1(),uk(),Ua(),Qr(),mk(),xk(),yk(),Sk(),Ek(),Ak(),_k(),kk(),Bk(),Rk(),Mk(),Ik(),jk(),Hk(),Vk(),Wk(),$k())})(Xk,function(t){return t})})(uh)),uh.exports}var Kk=Yk();const Hg=V1(Kk),F4="hap-query-report-secret-key",Qk=[{id:"default_hml",connectionName:"Homologao",user:"c_stenio",password:"U2FsdGVkX1+diVLEnj1jZvw5sxormGTsBtESRfh/6qI=",connectString:"U2FsdGVkX19U80G4qXgfVWspNeUM1/u7eLMDucd94oLGmVlBl5jIXGEAgUHAR5qUKaQVNtBWZ215IVNQ7BcUmg==",isDefault:!0},{id:"default_prod",connectionName:"Produo",user:"c_stenio",password:"U2FsdGVkX18wBXPCBeTyxr4YfqfTum15kjrRFf1vBSc=",connectString:"U2FsdGVkX1/AUWNk4WMSarytTse8PePFGvDEaKgnRoWRDihwycxMJolWJiZylGcJoHEO/gtgT8cnKI/Ma+5VlQ==",isDefault:!0}];function Zk({onConnect:r}){const[e,t]=Q.useState({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}),[n,i]=Q.useState([]),[s,l]=Q.useState({type:"",message:""}),[c,f]=Q.useState(!1),[h,d]=Q.useState(null),[m,g]=Q.useState(!1),[x,b]=Q.useState(!1);Q.useEffect(()=>{const N=localStorage.getItem("oracle_connections"),I=JSON.parse(localStorage.getItem("deleted_defaults")||"[]");let P=[];if(N)try{P=JSON.parse(N)}catch(ie){console.error("Failed to parse saved connections",ie)}let q=!1;Qk.filter(ie=>!I.includes(ie.id)).forEach(ie=>{if(!P.some(Z=>Z.id===ie.id)){const Z=P.findIndex(ne=>ne.connectionName===ie.connectionName&&!ne.isDefault);Z!==-1&&(P[Z].connectionName=`${P[Z].connectionName}_OLD`,q=!0),P.unshift(ie),q=!0}}),q&&localStorage.setItem("oracle_connections",JSON.stringify(P)),i(P)},[]);const S=N=>N?Hg.AES.encrypt(N,F4).toString():"",w=N=>{if(!N)return"";try{return Hg.AES.decrypt(N,F4).toString(Hg.enc.Utf8)||N}catch{return N}},T=N=>{t({...e,[N.target.name]:N.target.value})},A=async()=>{l({type:"info",message:"Testando conexo..."});try{const I=await(await fetch("http://127.0.0.1:3001/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();I.success?l({type:"success",message:"Conexo realizada com sucesso!"}):l({type:"error",message:"Falha na conexo: "+I.message})}catch(N){const I=N.message==="Failed to fetch"?"Falha na comunicao com o servidor (Verifique se o servidor est rodando)":N.message;l({type:"error",message:"Erro de rede: "+I})}},E=()=>{if(!e.user||!e.connectString||!e.connectionName){l({type:"error",message:"Por favor, preencha Nome, Usurio e Host."});return}const N={...e,password:S(e.password)};let I;if(c&&h)I=n.map(P=>P.id===h?{...N,id:h}:P),f(!1),d(null),l({type:"success",message:"Conexo atualizada!"});else{const P={...N,id:Date.now().toString()};I=[...n,P],l({type:"success",message:"Conexo salva!"})}i(I),localStorage.setItem("oracle_connections",JSON.stringify(I))},_=N=>{t({user:N.user,password:w(N.password),connectString:N.isDefault?w(N.connectString):N.connectString,connectionName:N.connectionName||""}),l({type:"",message:""}),g(!1),N.isDefault?(f(!1),d(null),b(!0),l({type:"info",message:"Conexo padro selecionada (Somente leitura)."})):(f(!0),d(N.id),b(!1))},B=(N,I)=>{if(I.stopPropagation(),N.isDefault){alert("Conexes padro no podem ser editadas.");return}_(N),l({type:"info",message:`Editando: ${N.connectionName}`})},F=(N,I,P)=>{if(I.stopPropagation(),window.confirm("Tem certeza que deseja excluir esta conexo?")){const q=n.filter(K=>K.id!==N);if(i(q),localStorage.setItem("oracle_connections",JSON.stringify(q)),P){const K=JSON.parse(localStorage.getItem("deleted_defaults")||"[]");K.push(N),localStorage.setItem("deleted_defaults",JSON.stringify(K))}h===N&&(f(!1),d(null),b(!1),t({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}))}},O=async()=>{l({type:"info",message:"Conectando..."});try{const I=await(await fetch("http://127.0.0.1:3001/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();I.success?r(e):l({type:"error",message:I.message})}catch(N){l({type:"error",message:N.message})}},H=()=>{f(!1),d(null),b(!1),t({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}),l({type:"",message:""})};return C.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans",children:[C.jsxs("div",{className:"w-1/3 bg-white border-r border-gray-200 p-6 flex flex-col shadow-lg z-10",children:[C.jsxs("div",{className:"flex flex-col items-center justify-center mb-8",children:[C.jsx("img",{src:ID,alt:"Hap Logo",className:"h-24 object-contain mb-4"}),C.jsx("h1",{className:"text-2xl font-bold text-[#0054a6] tracking-tight",children:"Hap Query Report"})]}),C.jsx("h2",{className:"text-lg font-bold text-gray-700 mb-4 px-2 border-l-4 border-[#f37021]",children:"Conexes Salvas"}),C.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:[n.length===0&&C.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[C.jsx("p",{className:"text-gray-400 italic",children:"Nenhuma conexo salva."}),C.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Preencha o formulrio para criar uma."})]}),n.map((N,I)=>C.jsxs("div",{onClick:()=>_(N),className:`p-4 rounded-lg border cursor-pointer transition-all hover:shadow-md group relative ${h===N.id?"border-[#f37021] bg-orange-50":"border-gray-200 hover:border-blue-300 bg-white"}`,children:[C.jsxs("div",{className:"font-bold text-gray-800 flex items-center",children:[N.connectionName||`Connection ${I+1}`,N.isDefault&&C.jsx("span",{className:"ml-2 text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded border border-blue-200",children:"PADRO"})]}),C.jsxs("div",{className:"text-sm text-gray-500",children:[N.user,"@",N.isDefault?"*****":N.connectString]}),C.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[!N.isDefault&&C.jsx("button",{onClick:P=>B(N,P),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Editar",children:""}),C.jsx("button",{onClick:P=>F(N.id,P,N.isDefault),className:"p-1.5 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Excluir",children:""})]})]},N.id||I))]}),C.jsxs("button",{onClick:()=>{f(!1),d(null),b(!1),t({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}),l({type:"",message:""})},className:"mt-6 w-full py-3 border-2 border-dashed border-gray-300 text-gray-500 rounded-lg hover:border-[#0054a6] hover:text-[#0054a6] transition-all font-medium flex items-center justify-center gap-2",children:[C.jsx("span",{className:"text-xl",children:"+"})," Nova Conexo"]})]}),C.jsx("div",{className:"w-2/3 p-10 flex flex-col justify-center bg-gradient-to-br from-gray-50 to-blue-50",children:C.jsxs("div",{className:"max-w-lg mx-auto w-full bg-white p-10 rounded-2xl shadow-xl border border-gray-100",children:[C.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:c?"Editar Conexo":"Nova Conexo"}),C.jsxs("div",{className:"space-y-5",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Nome da Conexo (Ex: DEV, PROD)"}),C.jsx("input",{type:"text",name:"connectionName",value:e.connectionName,onChange:T,disabled:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all disabled:bg-gray-100 disabled:text-gray-500",placeholder:"Minha Conexo"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Usurio"}),C.jsx("input",{type:"text",name:"user",value:e.user,onChange:T,disabled:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all disabled:bg-gray-100 disabled:text-gray-500"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Senha"}),C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:m?"text":"password",name:"password",value:e.password,onChange:T,disabled:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all disabled:bg-gray-100 disabled:text-gray-500 pr-10"}),!x&&C.jsx("button",{type:"button",onClick:()=>g(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",title:m?"Ocultar senha":"Mostrar senha",children:m?C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Host (Connect String)"}),C.jsx("input",{type:x?"password":"text",name:"connectString",value:e.connectString,onChange:T,disabled:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all disabled:bg-gray-100 disabled:text-gray-500",placeholder:"localhost:1521/XEPDB1"})]}),s.message&&C.jsx("div",{className:`p-4 rounded-lg text-sm font-medium ${s.type==="error"?"bg-red-50 text-red-700 border border-red-200":s.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-blue-50 text-blue-700 border border-blue-200"}`,children:s.message}),C.jsxs("div",{className:"flex space-x-3 pt-6",children:[C.jsx("button",{onClick:A,className:"flex-1 py-3 px-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-bold border border-gray-300",children:"Testar"}),!x&&C.jsx("button",{onClick:E,className:"flex-1 py-3 px-4 bg-[#f37021] text-white rounded-lg hover:bg-orange-600 transition-colors font-bold shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:c?"Atualizar":"Salvar"}),C.jsx("button",{onClick:O,className:"flex-1 py-3 px-4 bg-[#0054a6] text-white rounded-lg hover:bg-blue-800 transition-colors font-bold shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"Conectar"})]}),c&&C.jsx("button",{onClick:H,className:"w-full mt-2 text-sm text-gray-500 hover:text-gray-700 underline text-center block",children:"Cancelar Edio"})]})]})})]})}var ad={};ad.version="0.18.5";var JC=1252,Jk=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],eA=function(r){Jk.indexOf(r)!=-1&&(JC=r)};function eO(){eA(1252)}var A0=function(r){eA(r)};function tO(){A0(1200),eO()}var Ou=function(e){return String.fromCharCode(e)},M4=function(e){return String.fromCharCode(e)},ld,_a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function T0(r){for(var e="",t=0,n=0,i=0,s=0,l=0,c=0,f=0,h=0;h<r.length;)t=r.charCodeAt(h++),s=t>>2,n=r.charCodeAt(h++),l=(t&3)<<4|n>>4,i=r.charCodeAt(h++),c=(n&15)<<2|i>>6,f=i&63,isNaN(n)?c=f=64:isNaN(i)&&(f=64),e+=_a.charAt(s)+_a.charAt(l)+_a.charAt(c)+_a.charAt(f);return e}function Ws(r){var e="",t=0,n=0,i=0,s=0,l=0,c=0,f=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<r.length;)s=_a.indexOf(r.charAt(h++)),l=_a.indexOf(r.charAt(h++)),t=s<<2|l>>4,e+=String.fromCharCode(t),c=_a.indexOf(r.charAt(h++)),n=(l&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(n)),f=_a.indexOf(r.charAt(h++)),i=(c&3)<<6|f,f!==64&&(e+=String.fromCharCode(i));return e}var Pt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ks=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function wl(r){return Pt?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function L4(r){return Pt?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var zi=function(e){return Pt?Ks(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function tp(r){if(typeof ArrayBuffer>"u")return zi(r);for(var e=new ArrayBuffer(r.length),t=new Uint8Array(e),n=0;n!=r.length;++n)t[n]=r.charCodeAt(n)&255;return e}function J0(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function rO(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}var ln=Pt?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:Ks(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),i=0;for(e=0,t=0;e<r.length;t+=i,++e)if(i=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function nO(r){for(var e=[],t=0,n=r.length+250,i=wl(r.length+255),s=0;s<r.length;++s){var l=r.charCodeAt(s);if(l<128)i[t++]=l;else if(l<2048)i[t++]=192|l>>6&31,i[t++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=r.charCodeAt(++s)&1023;i[t++]=240|l>>8&7,i[t++]=128|l>>2&63,i[t++]=128|c>>6&15|(l&3)<<4,i[t++]=128|c&63}else i[t++]=224|l>>12&15,i[t++]=128|l>>6&63,i[t++]=128|l&63;t>n&&(e.push(i.slice(0,t)),t=0,i=wl(65535),n=65530)}return e.push(i.slice(0,t)),ln(e)}var o0=/\u0000/g,Bu=/[\u0001-\u0006]/g;function Oo(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function Hi(r,e){var t=""+r;return t.length>=e?t:Sr("0",e-t.length)+t}function $1(r,e){var t=""+r;return t.length>=e?t:Sr(" ",e-t.length)+t}function od(r,e){var t=""+r;return t.length>=e?t:t+Sr(" ",e-t.length)}function iO(r,e){var t=""+Math.round(r);return t.length>=e?t:Sr("0",e-t.length)+t}function sO(r,e){var t=""+r;return t.length>=e?t:Sr("0",e-t.length)+t}var I4=Math.pow(2,32);function vo(r,e){if(r>I4||r<-I4)return iO(r,e);var t=Math.round(r);return sO(t,e)}function cd(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var P4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ug=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function aO(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var wr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},j4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},lO={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function fd(r,e,t){for(var n=r<0?-1:1,i=r*n,s=0,l=1,c=0,f=1,h=0,d=0,m=Math.floor(i);h<e&&(m=Math.floor(i),c=m*l+s,d=m*h+f,!(i-m<5e-8));)i=1/(i-m),s=l,l=c,f=h,h=d;if(d>e&&(h>e?(d=f,c=s):(d=h,c=l)),!t)return[0,n*c,d];var g=Math.floor(n*c/d);return[g,n*c-g*d,d]}function Nu(r,e,t){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),s=0,l=[],c={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++n,++c.D)),n===60)l=t?[1317,10,29]:[1900,2,29],s=3;else if(n===0)l=t?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var f=new Date(1900,0,1);f.setDate(f.getDate()+n-1),l=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=f.getDay(),n<60&&(s=(s+6)%7),t&&(s=pO(f,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=s,c}var tA=new Date(1899,11,31,0,0,0),oO=tA.getTime(),cO=new Date(1900,2,1,0,0,0);function rA(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=cO&&(t+=1440*60*1e3),(t-(oO+(r.getTimezoneOffset()-tA.getTimezoneOffset())*6e4))/(1440*60*1e3)}function X1(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function fO(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function uO(r){var e=r<0?12:11,t=X1(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function hO(r){var e=X1(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function dO(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=uO(r):e===10?t=r.toFixed(10).substr(0,12):t=hO(r),X1(fO(t.toUpperCase()))}function Mx(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):dO(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return Ra(14,rA(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function pO(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function mO(r,e,t,n){var i="",s=0,l=0,c=t.y,f,h=0;switch(r){case 98:c=t.y+543;case 121:switch(e.length){case 1:case 2:f=c%100,h=2;break;default:f=c%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:f=t.m,h=e.length;break;case 3:return Ug[t.m-1][1];case 5:return Ug[t.m-1][0];default:return Ug[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=t.d,h=e.length;break;case 3:return P4[t.q][0];default:return P4[t.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(t.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=t.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=t.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Hi(t.S,e.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,s=Math.round(l*(t.S+t.u)),s>=60*l&&(s=0),e==="s"?s===0?"0":""+s/l:(i=Hi(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=t.D*24+t.H;break;case"[m]":case"[mm]":f=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":f=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:f=c,h=1;break}var d=h>0?Hi(f,h):"";return d}function Da(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var nA=/%/g;function gO(r,e,t){var n=e.replace(nA,""),i=e.length-n.length;return Hs(r,n,t*Math.pow(10,2*i))+Sr("%",i)}function xO(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Hs(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function iA(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+iA(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),t.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+s):t+="E+"+(l-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,h,d){return f+h+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var sA=/# (\?+)( ?)\/( ?)(\d+)/;function vO(r,e,t){var n=parseInt(r[4],10),i=Math.round(e*n),s=Math.floor(i/n),l=i-s*n,c=n;return t+(s===0?"":""+s)+" "+(l===0?Sr(" ",r[1].length+1+r[4].length):$1(l,r[1].length)+r[2]+"/"+r[3]+Hi(c,r[4].length))}function yO(r,e,t){return t+(e===0?"":""+e)+Sr(" ",r[1].length+2+r[4].length)}var aA=/^#*0*\.([0#]+)/,lA=/\).*[0#]/,oA=/\(###\) ###\\?-####/;function Cn(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function z4(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function H4(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function bO(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function SO(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function Ci(r,e,t){if(r.charCodeAt(0)===40&&!e.match(lA)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ci("n",n,t):"("+Ci("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return xO(r,e,t);if(e.indexOf("%")!==-1)return gO(r,e,t);if(e.indexOf("E")!==-1)return iA(e,t);if(e.charCodeAt(0)===36)return"$"+Ci(r,e.substr(e.charAt(1)==" "?2:1),t);var i,s,l,c,f=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+vo(f,e.length);if(e.match(/^[#?]+$/))return i=vo(t,0),i==="0"&&(i=""),i.length>e.length?i:Cn(e.substr(0,e.length-i.length))+i;if(s=e.match(sA))return vO(s,f,h);if(e.match(/^#+0+$/))return h+vo(f,e.length-e.indexOf("0"));if(s=e.match(aA))return i=z4(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Cn(s[1])).replace(/\.$/,"."+Cn(s[1])).replace(/\.(\d*)$/,function(b,S){return"."+S+Sr("0",Cn(s[1]).length-S.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+z4(f,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+Da(vo(f,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ci(r,e,-t):Da(""+(Math.floor(t)+bO(t,s[1].length)))+"."+Hi(H4(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ci(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Oo(Ci(r,e.replace(/[\\-]/g,""),t)),l=0,Oo(Oo(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<i.length?i.charAt(l++):b==="0"?"0":""}));if(e.match(oA))return i=Ci(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),c=fd(f,Math.pow(10,l)-1,!1),i=""+h,d=Hs("n",s[1],c[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=od(c[2],l),d.length<s[4].length&&(d=Cn(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),c=fd(f,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?$1(c[1],l)+s[2]+"/"+s[3]+od(c[2],l):Sr(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=vo(t,0),e.length<=i.length?i:Cn(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var m=e.indexOf(".")-l,g=e.length-i.length-m;return Cn(e.substr(0,m)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return l=H4(t,s[1].length),t<0?"-"+Ci(r,e,-t):Da(SO(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Hi(0,3-b.length):"")+b})+"."+Hi(l,s[1].length);switch(e){case"###,##0.00":return Ci(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var x=Da(vo(f,0));return x!=="0"?h+x:"";case"###,###.00":return Ci(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Ci(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function wO(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Hs(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function EO(r,e,t){var n=e.replace(nA,""),i=e.length-n.length;return Hs(r,n,t*Math.pow(10,2*i))+Sr("%",i)}function cA(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+cA(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!t.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+s):t+="E+"+(l-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,h,d){return f+h+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function ss(r,e,t){if(r.charCodeAt(0)===40&&!e.match(lA)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ss("n",n,t):"("+ss("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return wO(r,e,t);if(e.indexOf("%")!==-1)return EO(r,e,t);if(e.indexOf("E")!==-1)return cA(e,t);if(e.charCodeAt(0)===36)return"$"+ss(r,e.substr(e.charAt(1)==" "?2:1),t);var i,s,l,c,f=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+Hi(f,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Cn(e.substr(0,e.length-i.length))+i;if(s=e.match(sA))return yO(s,f,h);if(e.match(/^#+0+$/))return h+Hi(f,e.length-e.indexOf("0"));if(s=e.match(aA))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Cn(s[1])).replace(/\.$/,"."+Cn(s[1])),i=i.replace(/\.(\d*)$/,function(b,S){return"."+S+Sr("0",Cn(s[1]).length-S.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+Da(""+f);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ss(r,e,-t):Da(""+t)+"."+Sr("0",s[1].length);if(s=e.match(/^#,#*,#0/))return ss(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Oo(ss(r,e.replace(/[\\-]/g,""),t)),l=0,Oo(Oo(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<i.length?i.charAt(l++):b==="0"?"0":""}));if(e.match(oA))return i=ss(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),c=fd(f,Math.pow(10,l)-1,!1),i=""+h,d=Hs("n",s[1],c[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=od(c[2],l),d.length<s[4].length&&(d=Cn(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),c=fd(f,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?$1(c[1],l)+s[2]+"/"+s[3]+od(c[2],l):Sr(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Cn(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var m=e.indexOf(".")-l,g=e.length-i.length-m;return Cn(e.substr(0,m)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+ss(r,e,-t):Da(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Hi(0,3-b.length):"")+b})+"."+Hi(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var x=Da(""+f);return x!=="0"?h+x:"";default:if(e.match(/\.[0#?]*$/))return ss(r,e.slice(0,e.lastIndexOf(".")),t)+Cn(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Hs(r,e,t){return(t|0)===t?ss(r,e,t):Ci(r,e,t)}function CO(r){for(var e=[],t=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(i,n-i),i=n+1}if(e[e.length]=r.substr(i),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var fA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function uA(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":cd(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(fA))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function AO(r,e,t,n){for(var i=[],s="",l=0,c="",f="t",h,d,m,g="H";l<r.length;)switch(c=r.charAt(l)){case"G":if(!cd(r,l))throw new Error("unrecognized character "+c+" in "+r);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(m=r.charCodeAt(++l))!==34&&l<r.length;)s+=String.fromCharCode(m);i[i.length]={t:"t",v:s},++l;break;case"\\":var x=r.charAt(++l),b=x==="("||x===")"?x:"t";i[i.length]={t:b,v:x},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:e},++l;break;case"B":case"b":if(r.charAt(l+1)==="1"||r.charAt(l+1)==="2"){if(h==null&&(h=Nu(e,t,r.charAt(l+1)==="2"),h==null))return"";i[i.length]={t:"X",v:r.substr(l,2)},f=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=Nu(e,t),h==null))return"";for(s=c;++l<r.length&&r.charAt(l).toLowerCase()===c;)s+=c;c==="m"&&f.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=g),i[i.length]={t:c,v:s},f=c;break;case"A":case"a":case"":var S={t:c,v:c};if(h==null&&(h=Nu(e,t)),r.substr(l,3).toUpperCase()==="A/P"?(h!=null&&(S.v=h.H>=12?"P":"A"),S.t="T",g="h",l+=3):r.substr(l,5).toUpperCase()==="AM/PM"?(h!=null&&(S.v=h.H>=12?"PM":"AM"),S.t="T",l+=5,g="h"):r.substr(l,5).toUpperCase()==="/"?(h!=null&&(S.v=h.H>=12?"":""),S.t="T",l+=5,g="h"):(S.t="t",++l),h==null&&S.t==="T")return"";i[i.length]=S,f=c;break;case"[":for(s=c;r.charAt(l++)!=="]"&&l<r.length;)s+=r.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(fA)){if(h==null&&(h=Nu(e,t),h==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},f=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",uA(r)||(i[i.length]={t:"t",v:s}));break;case".":if(h!=null){for(s=c;++l<r.length&&(c=r.charAt(l))==="0";)s+=c;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++l<r.length&&"0#?.,E+-%".indexOf(c=r.charAt(l))>-1;)s+=c;i[i.length]={t:"n",v:s};break;case"?":for(s=c;r.charAt(++l)===c;)s+=c;i[i.length]={t:c,v:s},f=c;break;case"*":++l,(r.charAt(l)==" "||r.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:n===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;l<r.length&&"0123456789".indexOf(r.charAt(++l))>-1;)s+=r.charAt(l);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:c,v:c},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+r);i[i.length]={t:"t",v:c},++l;break}var w=0,T=0,A;for(l=i.length-1,f="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=g,f="h",w<1&&(w=1);break;case"s":(A=i[l].v.match(/\.0+$/))&&(T=Math.max(T,A[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":f=i[l].t;break;case"m":f==="s"&&(i[l].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&i[l].v.match(/[Hh]/)&&(w=1),w<2&&i[l].v.match(/[Mm]/)&&(w=2),w<3&&i[l].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var E="",_;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=mO(i[l].t.charCodeAt(0),i[l].v,h,T),i[l].t="t";break;case"n":case"?":for(_=l+1;i[_]!=null&&((c=i[_].t)==="?"||c==="D"||(c===" "||c==="t")&&i[_+1]!=null&&(i[_+1].t==="?"||i[_+1].t==="t"&&i[_+1].v==="/")||i[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[_].v==="/"||i[_].v===" "&&i[_+1]!=null&&i[_+1].t=="?"));)i[l].v+=i[_].v,i[_]={v:"",t:";"},++_;E+=i[l].v,l=_-1;break;case"G":i[l].t="t",i[l].v=Mx(e,t);break}var B="",F,O;if(E.length>0){E.charCodeAt(0)==40?(F=e<0&&E.charCodeAt(0)===45?-e:e,O=Hs("n",E,F)):(F=e<0&&n>1?-e:e,O=Hs("n",E,F),F<0&&i[0]&&i[0].t=="t"&&(O=O.substr(1),i[0].v="-"+i[0].v)),_=O.length-1;var H=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){H=l;break}var N=i.length;if(H===i.length&&O.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(_>=i[l].v.length-1?(_-=i[l].v.length,i[l].v=O.substr(_+1,i[l].v.length)):_<0?i[l].v="":(i[l].v=O.substr(0,_+1),_=-1),i[l].t="t",N=l);_>=0&&N<i.length&&(i[N].v=O.substr(0,_+1)+i[N].v)}else if(H!==i.length&&O.indexOf("E")===-1){for(_=O.indexOf(".")-1,l=H;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(d=i[l].v.indexOf(".")>-1&&l===H?i[l].v.indexOf(".")-1:i[l].v.length-1,B=i[l].v.substr(d+1);d>=0;--d)_>=0&&(i[l].v.charAt(d)==="0"||i[l].v.charAt(d)==="#")&&(B=O.charAt(_--)+B);i[l].v=B,i[l].t="t",N=l}for(_>=0&&N<i.length&&(i[N].v=O.substr(0,_+1)+i[N].v),_=O.indexOf(".")+1,l=H;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==H)){for(d=i[l].v.indexOf(".")>-1&&l===H?i[l].v.indexOf(".")+1:0,B=i[l].v.substr(0,d);d<i[l].v.length;++d)_<O.length&&(B+=O.charAt(_++));i[l].v=B,i[l].t="t",N=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(F=n>1&&e<0&&l>0&&i[l-1].v==="-"?-e:e,i[l].v=Hs(i[l].t,i[l].v,F),i[l].t="t");var I="";for(l=0;l!==i.length;++l)i[l]!=null&&(I+=i[l].v);return I}var U4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function V4(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function TO(r,e){var t=CO(r),n=t.length,i=t[n-1].indexOf("@");if(n<4&&i>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var l=t[0].match(U4),c=t[1].match(U4);return V4(e,l)?[n,t[0]]:V4(e,c)?[n,t[1]]:[n,t[l!=null&&c!=null?2:1]]}return[n,s]}function Ra(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:wr)[r],n==null&&(n=t.table&&t.table[j4[r]]||wr[j4[r]]),n==null&&(n=lO[r]||"General");break}if(cd(n,0))return Mx(e,t);e instanceof Date&&(e=rA(e,t.date1904));var i=TO(n,e);if(cd(i[1]))return Mx(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return AO(i[1],e,t,i[0])}function hA(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(wr[t]==null){e<0&&(e=t);continue}if(wr[t]==r){e=t;break}}e<0&&(e=391)}return wr[e]=r,e}function rp(r){for(var e=0;e!=392;++e)r[e]!==void 0&&hA(r[e],e)}function np(){wr=aO()}var dA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function _O(r){var e=typeof r=="number"?wr[r]:r;return e=e.replace(dA,"(\\d+)"),new RegExp("^"+e+"$")}function DO(r,e,t){var n=-1,i=-1,s=-1,l=-1,c=-1,f=-1;(e.match(dA)||[]).forEach(function(m,g){var x=parseInt(t[g+1],10);switch(m.toLowerCase().charAt(0)){case"y":n=x;break;case"d":s=x;break;case"h":l=x;break;case"s":f=x;break;case"m":l>=0?c=x:i=x;break}}),f>=0&&c==-1&&i>=0&&(c=i,i=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var d=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return l==-1&&c==-1&&f==-1?h:n==-1&&i==-1&&s==-1?d:h+"T"+d}var kO=(function(){var r={};r.version="1.2.0";function e(){for(var O=0,H=new Array(256),N=0;N!=256;++N)O=N,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,H[N]=O;return typeof Int32Array<"u"?new Int32Array(H):H}var t=e();function n(O){var H=0,N=0,I=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)P[I]=O[I];for(I=0;I!=256;++I)for(N=O[I],H=256+I;H<4096;H+=256)N=P[H]=N>>>8^O[N&255];var q=[];for(I=1;I!=16;++I)q[I-1]=typeof Int32Array<"u"?P.subarray(I*256,I*256+256):P.slice(I*256,I*256+256);return q}var i=n(t),s=i[0],l=i[1],c=i[2],f=i[3],h=i[4],d=i[5],m=i[6],g=i[7],x=i[8],b=i[9],S=i[10],w=i[11],T=i[12],A=i[13],E=i[14];function _(O,H){for(var N=H^-1,I=0,P=O.length;I<P;)N=N>>>8^t[(N^O.charCodeAt(I++))&255];return~N}function B(O,H){for(var N=H^-1,I=O.length-15,P=0;P<I;)N=E[O[P++]^N&255]^A[O[P++]^N>>8&255]^T[O[P++]^N>>16&255]^w[O[P++]^N>>>24]^S[O[P++]]^b[O[P++]]^x[O[P++]]^g[O[P++]]^m[O[P++]]^d[O[P++]]^h[O[P++]]^f[O[P++]]^c[O[P++]]^l[O[P++]]^s[O[P++]]^t[O[P++]];for(I+=15;P<I;)N=N>>>8^t[(N^O[P++])&255];return~N}function F(O,H){for(var N=H^-1,I=0,P=O.length,q=0,K=0;I<P;)q=O.charCodeAt(I++),q<128?N=N>>>8^t[(N^q)&255]:q<2048?(N=N>>>8^t[(N^(192|q>>6&31))&255],N=N>>>8^t[(N^(128|q&63))&255]):q>=55296&&q<57344?(q=(q&1023)+64,K=O.charCodeAt(I++)&1023,N=N>>>8^t[(N^(240|q>>8&7))&255],N=N>>>8^t[(N^(128|q>>2&63))&255],N=N>>>8^t[(N^(128|K>>6&15|(q&3)<<4))&255],N=N>>>8^t[(N^(128|K&63))&255]):(N=N>>>8^t[(N^(224|q>>12&15))&255],N=N>>>8^t[(N^(128|q>>6&63))&255],N=N>>>8^t[(N^(128|q&63))&255]);return~N}return r.table=t,r.bstr=_,r.buf=B,r.str=F,r})(),Zt=(function(){var e={};e.version="1.2.1";function t(L,X){for(var U=L.split("/"),V=X.split("/"),G=0,Y=0,oe=Math.min(U.length,V.length);G<oe;++G){if(Y=U[G].length-V[G].length)return Y;if(U[G]!=V[G])return U[G]<V[G]?-1:1}return U.length-V.length}function n(L){if(L.charAt(L.length-1)=="/")return L.slice(0,-1).indexOf("/")===-1?L:n(L.slice(0,-1));var X=L.lastIndexOf("/");return X===-1?L:L.slice(0,X+1)}function i(L){if(L.charAt(L.length-1)=="/")return i(L.slice(0,-1));var X=L.lastIndexOf("/");return X===-1?L:L.slice(X+1)}function s(L,X){typeof X=="string"&&(X=new Date(X));var U=X.getHours();U=U<<6|X.getMinutes(),U=U<<5|X.getSeconds()>>>1,L.write_shift(2,U);var V=X.getFullYear()-1980;V=V<<4|X.getMonth()+1,V=V<<5|X.getDate(),L.write_shift(2,V)}function l(L){var X=L.read_shift(2)&65535,U=L.read_shift(2)&65535,V=new Date,G=U&31;U>>>=5;var Y=U&15;U>>>=4,V.setMilliseconds(0),V.setFullYear(U+1980),V.setMonth(Y-1),V.setDate(G);var oe=X&31;X>>>=5;var Ae=X&63;return X>>>=6,V.setHours(X),V.setMinutes(Ae),V.setSeconds(oe<<1),V}function c(L){ai(L,0);for(var X={},U=0;L.l<=L.length-4;){var V=L.read_shift(2),G=L.read_shift(2),Y=L.l+G,oe={};switch(V){case 21589:U=L.read_shift(1),U&1&&(oe.mtime=L.read_shift(4)),G>5&&(U&2&&(oe.atime=L.read_shift(4)),U&4&&(oe.ctime=L.read_shift(4))),oe.mtime&&(oe.mt=new Date(oe.mtime*1e3));break}L.l=Y,X[V]=oe}return X}var f;function h(){return f||(f={})}function d(L,X){if(L[0]==80&&L[1]==75)return Nn(L,X);if((L[0]|32)==109&&(L[1]|32)==105)return at(L,X);if(L.length<512)throw new Error("CFB file size "+L.length+" < 512");var U=3,V=512,G=0,Y=0,oe=0,Ae=0,ce=0,fe=[],de=L.slice(0,512);ai(de,0);var Fe=m(de);switch(U=Fe[0],U){case 3:V=512;break;case 4:V=4096;break;case 0:if(Fe[1]==0)return Nn(L,X);default:throw new Error("Major Version: Expected 3 or 4 saw "+U)}V!==512&&(de=L.slice(0,V),ai(de,28));var Pe=L.slice(0,V);g(de,U);var qe=de.read_shift(4,"i");if(U===3&&qe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+qe);de.l+=4,oe=de.read_shift(4,"i"),de.l+=4,de.chk("00100000","Mini Stream Cutoff Size: "),Ae=de.read_shift(4,"i"),G=de.read_shift(4,"i"),ce=de.read_shift(4,"i"),Y=de.read_shift(4,"i");for(var Le=-1,He=0;He<109&&(Le=de.read_shift(4,"i"),!(Le<0));++He)fe[He]=Le;var Je=x(L,V);w(ce,Y,Je,V,fe);var ar=A(Je,oe,fe,V);ar[oe].name="!Directory",G>0&&Ae!==K&&(ar[Ae].name="!MiniFAT"),ar[fe[0]].name="!FAT",ar.fat_addrs=fe,ar.ssz=V;var lr={},pr=[],di=[],Wa=[];E(oe,ar,Je,pr,G,lr,di,Ae),b(di,Wa,pr),pr.shift();var Zs={FileIndex:di,FullPaths:Wa};return X&&X.raw&&(Zs.raw={header:Pe,sectors:Je}),Zs}function m(L){if(L[L.l]==80&&L[L.l+1]==75)return[0,0];L.chk(ie,"Header Signature: "),L.l+=16;var X=L.read_shift(2,"u");return[L.read_shift(2,"u"),X]}function g(L,X){var U=9;switch(L.l+=2,U=L.read_shift(2)){case 9:if(X!=3)throw new Error("Sector Shift: Expected 9 saw "+U);break;case 12:if(X!=4)throw new Error("Sector Shift: Expected 12 saw "+U);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+U)}L.chk("0600","Mini Sector Shift: "),L.chk("000000000000","Reserved: ")}function x(L,X){for(var U=Math.ceil(L.length/X)-1,V=[],G=1;G<U;++G)V[G-1]=L.slice(G*X,(G+1)*X);return V[U-1]=L.slice(U*X),V}function b(L,X,U){for(var V=0,G=0,Y=0,oe=0,Ae=0,ce=U.length,fe=[],de=[];V<ce;++V)fe[V]=de[V]=V,X[V]=U[V];for(;Ae<de.length;++Ae)V=de[Ae],G=L[V].L,Y=L[V].R,oe=L[V].C,fe[V]===V&&(G!==-1&&fe[G]!==G&&(fe[V]=fe[G]),Y!==-1&&fe[Y]!==Y&&(fe[V]=fe[Y])),oe!==-1&&(fe[oe]=V),G!==-1&&V!=fe[V]&&(fe[G]=fe[V],de.lastIndexOf(G)<Ae&&de.push(G)),Y!==-1&&V!=fe[V]&&(fe[Y]=fe[V],de.lastIndexOf(Y)<Ae&&de.push(Y));for(V=1;V<ce;++V)fe[V]===V&&(Y!==-1&&fe[Y]!==Y?fe[V]=fe[Y]:G!==-1&&fe[G]!==G&&(fe[V]=fe[G]));for(V=1;V<ce;++V)if(L[V].type!==0){if(Ae=V,Ae!=fe[Ae])do Ae=fe[Ae],X[V]=X[Ae]+"/"+X[V];while(Ae!==0&&fe[Ae]!==-1&&Ae!=fe[Ae]);fe[V]=-1}for(X[0]+="/",V=1;V<ce;++V)L[V].type!==2&&(X[V]+="/")}function S(L,X,U){for(var V=L.start,G=L.size,Y=[],oe=V;U&&G>0&&oe>=0;)Y.push(X.slice(oe*q,oe*q+q)),G-=q,oe=hl(U,oe*4);return Y.length===0?Se(0):ln(Y).slice(0,L.size)}function w(L,X,U,V,G){var Y=K;if(L===K){if(X!==0)throw new Error("DIFAT chain shorter than expected")}else if(L!==-1){var oe=U[L],Ae=(V>>>2)-1;if(!oe)return;for(var ce=0;ce<Ae&&(Y=hl(oe,ce*4))!==K;++ce)G.push(Y);w(hl(oe,V-4),X-1,U,V,G)}}function T(L,X,U,V,G){var Y=[],oe=[];G||(G=[]);var Ae=V-1,ce=0,fe=0;for(ce=X;ce>=0;){G[ce]=!0,Y[Y.length]=ce,oe.push(L[ce]);var de=U[Math.floor(ce*4/V)];if(fe=ce*4&Ae,V<4+fe)throw new Error("FAT boundary crossed: "+ce+" 4 "+V);if(!L[de])break;ce=hl(L[de],fe)}return{nodes:Y,data:Q4([oe])}}function A(L,X,U,V){var G=L.length,Y=[],oe=[],Ae=[],ce=[],fe=V-1,de=0,Fe=0,Pe=0,qe=0;for(de=0;de<G;++de)if(Ae=[],Pe=de+X,Pe>=G&&(Pe-=G),!oe[Pe]){ce=[];var Le=[];for(Fe=Pe;Fe>=0;){Le[Fe]=!0,oe[Fe]=!0,Ae[Ae.length]=Fe,ce.push(L[Fe]);var He=U[Math.floor(Fe*4/V)];if(qe=Fe*4&fe,V<4+qe)throw new Error("FAT boundary crossed: "+Fe+" 4 "+V);if(!L[He]||(Fe=hl(L[He],qe),Le[Fe]))break}Y[Pe]={nodes:Ae,data:Q4([ce])}}return Y}function E(L,X,U,V,G,Y,oe,Ae){for(var ce=0,fe=V.length?2:0,de=X[L].data,Fe=0,Pe=0,qe;Fe<de.length;Fe+=128){var Le=de.slice(Fe,Fe+128);ai(Le,64),Pe=Le.read_shift(2),qe=J1(Le,0,Pe-fe),V.push(qe);var He={name:qe,type:Le.read_shift(1),color:Le.read_shift(1),L:Le.read_shift(4,"i"),R:Le.read_shift(4,"i"),C:Le.read_shift(4,"i"),clsid:Le.read_shift(16),state:Le.read_shift(4,"i"),start:0,size:0},Je=Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2);Je!==0&&(He.ct=_(Le,Le.l-8));var ar=Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2);ar!==0&&(He.mt=_(Le,Le.l-8)),He.start=Le.read_shift(4,"i"),He.size=Le.read_shift(4,"i"),He.size<0&&He.start<0&&(He.size=He.type=0,He.start=K,He.name=""),He.type===5?(ce=He.start,G>0&&ce!==K&&(X[ce].name="!StreamData")):He.size>=4096?(He.storage="fat",X[He.start]===void 0&&(X[He.start]=T(U,He.start,X.fat_addrs,X.ssz)),X[He.start].name=He.name,He.content=X[He.start].data.slice(0,He.size)):(He.storage="minifat",He.size<0?He.size=0:ce!==K&&He.start!==K&&X[ce]&&(He.content=S(He,X[ce].data,(X[Ae]||{}).data))),He.content&&ai(He.content,0),Y[qe]=He,oe.push(He)}}function _(L,X){return new Date((oi(L,X+4)/1e7*Math.pow(2,32)+oi(L,X)/1e7-11644473600)*1e3)}function B(L,X){return h(),d(f.readFileSync(L),X)}function F(L,X){var U=X&&X.type;switch(U||Pt&&Buffer.isBuffer(L)&&(U="buffer"),U||"base64"){case"file":return B(L,X);case"base64":return d(zi(Ws(L)),X);case"binary":return d(zi(L),X)}return d(L,X)}function O(L,X){var U=X||{},V=U.root||"Root Entry";if(L.FullPaths||(L.FullPaths=[]),L.FileIndex||(L.FileIndex=[]),L.FullPaths.length!==L.FileIndex.length)throw new Error("inconsistent CFB structure");L.FullPaths.length===0&&(L.FullPaths[0]=V+"/",L.FileIndex[0]={name:V,type:5}),U.CLSID&&(L.FileIndex[0].clsid=U.CLSID),H(L)}function H(L){var X="Sh33tJ5";if(!Zt.find(L,"/"+X)){var U=Se(4);U[0]=55,U[1]=U[3]=50,U[2]=54,L.FileIndex.push({name:X,type:2,content:U,size:4,L:69,R:69,C:69}),L.FullPaths.push(L.FullPaths[0]+X),N(L)}}function N(L,X){O(L);for(var U=!1,V=!1,G=L.FullPaths.length-1;G>=0;--G){var Y=L.FileIndex[G];switch(Y.type){case 0:V?U=!0:(L.FileIndex.pop(),L.FullPaths.pop());break;case 1:case 2:case 5:V=!0,isNaN(Y.R*Y.L*Y.C)&&(U=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(U=!0);break;default:U=!0;break}}if(!(!U&&!X)){var oe=new Date(1987,1,19),Ae=0,ce=Object.create?Object.create(null):{},fe=[];for(G=0;G<L.FullPaths.length;++G)ce[L.FullPaths[G]]=!0,L.FileIndex[G].type!==0&&fe.push([L.FullPaths[G],L.FileIndex[G]]);for(G=0;G<fe.length;++G){var de=n(fe[G][0]);V=ce[de],V||(fe.push([de,{name:i(de).replace("/",""),type:1,clsid:Z,ct:oe,mt:oe,content:null}]),ce[de]=!0)}for(fe.sort(function(qe,Le){return t(qe[0],Le[0])}),L.FullPaths=[],L.FileIndex=[],G=0;G<fe.length;++G)L.FullPaths[G]=fe[G][0],L.FileIndex[G]=fe[G][1];for(G=0;G<fe.length;++G){var Fe=L.FileIndex[G],Pe=L.FullPaths[G];if(Fe.name=i(Pe).replace("/",""),Fe.L=Fe.R=Fe.C=-(Fe.color=1),Fe.size=Fe.content?Fe.content.length:0,Fe.start=0,Fe.clsid=Fe.clsid||Z,G===0)Fe.C=fe.length>1?1:-1,Fe.size=0,Fe.type=5;else if(Pe.slice(-1)=="/"){for(Ae=G+1;Ae<fe.length&&n(L.FullPaths[Ae])!=Pe;++Ae);for(Fe.C=Ae>=fe.length?-1:Ae,Ae=G+1;Ae<fe.length&&n(L.FullPaths[Ae])!=n(Pe);++Ae);Fe.R=Ae>=fe.length?-1:Ae,Fe.type=1}else n(L.FullPaths[G+1]||"")==n(Pe)&&(Fe.R=G+1),Fe.type=2}}}function I(L,X){var U=X||{};if(U.fileType=="mad")return At(L,U);switch(N(L),U.fileType){case"zip":return Xt(L,U)}var V=(function(qe){for(var Le=0,He=0,Je=0;Je<qe.FileIndex.length;++Je){var ar=qe.FileIndex[Je];if(ar.content){var lr=ar.content.length;lr>0&&(lr<4096?Le+=lr+63>>6:He+=lr+511>>9)}}for(var pr=qe.FullPaths.length+3>>2,di=Le+7>>3,Wa=Le+127>>7,Zs=di+He+pr+Wa,Qi=Zs+127>>7,ac=Qi<=109?0:Math.ceil((Qi-109)/127);Zs+Qi+ac+127>>7>Qi;)ac=++Qi<=109?0:Math.ceil((Qi-109)/127);var Rn=[1,ac,Qi,Wa,pr,He,Le,0];return qe.FileIndex[0].size=Le<<6,Rn[7]=(qe.FileIndex[0].start=Rn[0]+Rn[1]+Rn[2]+Rn[3]+Rn[4]+Rn[5])+(Rn[6]+7>>3),Rn})(L),G=Se(V[7]<<9),Y=0,oe=0;{for(Y=0;Y<8;++Y)G.write_shift(1,le[Y]);for(Y=0;Y<8;++Y)G.write_shift(2,0);for(G.write_shift(2,62),G.write_shift(2,3),G.write_shift(2,65534),G.write_shift(2,9),G.write_shift(2,6),Y=0;Y<3;++Y)G.write_shift(2,0);for(G.write_shift(4,0),G.write_shift(4,V[2]),G.write_shift(4,V[0]+V[1]+V[2]+V[3]-1),G.write_shift(4,0),G.write_shift(4,4096),G.write_shift(4,V[3]?V[0]+V[1]+V[2]-1:K),G.write_shift(4,V[3]),G.write_shift(-4,V[1]?V[0]-1:K),G.write_shift(4,V[1]),Y=0;Y<109;++Y)G.write_shift(-4,Y<V[2]?V[1]+Y:-1)}if(V[1])for(oe=0;oe<V[1];++oe){for(;Y<236+oe*127;++Y)G.write_shift(-4,Y<V[2]?V[1]+Y:-1);G.write_shift(-4,oe===V[1]-1?K:oe+1)}var Ae=function(qe){for(oe+=qe;Y<oe-1;++Y)G.write_shift(-4,Y+1);qe&&(++Y,G.write_shift(-4,K))};for(oe=Y=0,oe+=V[1];Y<oe;++Y)G.write_shift(-4,ne.DIFSECT);for(oe+=V[2];Y<oe;++Y)G.write_shift(-4,ne.FATSECT);Ae(V[3]),Ae(V[4]);for(var ce=0,fe=0,de=L.FileIndex[0];ce<L.FileIndex.length;++ce)de=L.FileIndex[ce],de.content&&(fe=de.content.length,!(fe<4096)&&(de.start=oe,Ae(fe+511>>9)));for(Ae(V[6]+7>>3);G.l&511;)G.write_shift(-4,ne.ENDOFCHAIN);for(oe=Y=0,ce=0;ce<L.FileIndex.length;++ce)de=L.FileIndex[ce],de.content&&(fe=de.content.length,!(!fe||fe>=4096)&&(de.start=oe,Ae(fe+63>>6)));for(;G.l&511;)G.write_shift(-4,ne.ENDOFCHAIN);for(Y=0;Y<V[4]<<2;++Y){var Fe=L.FullPaths[Y];if(!Fe||Fe.length===0){for(ce=0;ce<17;++ce)G.write_shift(4,0);for(ce=0;ce<3;++ce)G.write_shift(4,-1);for(ce=0;ce<12;++ce)G.write_shift(4,0);continue}de=L.FileIndex[Y],Y===0&&(de.start=de.size?de.start-1:K);var Pe=Y===0&&U.root||de.name;if(fe=2*(Pe.length+1),G.write_shift(64,Pe,"utf16le"),G.write_shift(2,fe),G.write_shift(1,de.type),G.write_shift(1,de.color),G.write_shift(-4,de.L),G.write_shift(-4,de.R),G.write_shift(-4,de.C),de.clsid)G.write_shift(16,de.clsid,"hex");else for(ce=0;ce<4;++ce)G.write_shift(4,0);G.write_shift(4,de.state||0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,de.start),G.write_shift(4,de.size),G.write_shift(4,0)}for(Y=1;Y<L.FileIndex.length;++Y)if(de=L.FileIndex[Y],de.size>=4096)if(G.l=de.start+1<<9,Pt&&Buffer.isBuffer(de.content))de.content.copy(G,G.l,0,de.size),G.l+=de.size+511&-512;else{for(ce=0;ce<de.size;++ce)G.write_shift(1,de.content[ce]);for(;ce&511;++ce)G.write_shift(1,0)}for(Y=1;Y<L.FileIndex.length;++Y)if(de=L.FileIndex[Y],de.size>0&&de.size<4096)if(Pt&&Buffer.isBuffer(de.content))de.content.copy(G,G.l,0,de.size),G.l+=de.size+63&-64;else{for(ce=0;ce<de.size;++ce)G.write_shift(1,de.content[ce]);for(;ce&63;++ce)G.write_shift(1,0)}if(Pt)G.l=G.length;else for(;G.l<G.length;)G.write_shift(1,0);return G}function P(L,X){var U=L.FullPaths.map(function(ce){return ce.toUpperCase()}),V=U.map(function(ce){var fe=ce.split("/");return fe[fe.length-(ce.slice(-1)=="/"?2:1)]}),G=!1;X.charCodeAt(0)===47?(G=!0,X=U[0].slice(0,-1)+X):G=X.indexOf("/")!==-1;var Y=X.toUpperCase(),oe=G===!0?U.indexOf(Y):V.indexOf(Y);if(oe!==-1)return L.FileIndex[oe];var Ae=!Y.match(Bu);for(Y=Y.replace(o0,""),Ae&&(Y=Y.replace(Bu,"!")),oe=0;oe<U.length;++oe)if((Ae?U[oe].replace(Bu,"!"):U[oe]).replace(o0,"")==Y||(Ae?V[oe].replace(Bu,"!"):V[oe]).replace(o0,"")==Y)return L.FileIndex[oe];return null}var q=64,K=-2,ie="d0cf11e0a1b11ae1",le=[208,207,17,224,161,177,26,225],Z="00000000000000000000000000000000",ne={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:K,FREESECT:-1,HEADER_SIGNATURE:ie,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ve(L,X,U){h();var V=I(L,U);f.writeFileSync(X,V)}function Ee(L){for(var X=new Array(L.length),U=0;U<L.length;++U)X[U]=String.fromCharCode(L[U]);return X.join("")}function Ne(L,X){var U=I(L,X);switch(X&&X.type||"buffer"){case"file":return h(),f.writeFileSync(X.filename,U),U;case"binary":return typeof U=="string"?U:Ee(U);case"base64":return T0(typeof U=="string"?U:Ee(U));case"buffer":if(Pt)return Buffer.isBuffer(U)?U:Ks(U);case"array":return typeof U=="string"?zi(U):U}return U}var j;function D(L){try{var X=L.InflateRaw,U=new X;if(U._processChunk(new Uint8Array([3,0]),U._finishFlushFlag),U.bytesRead)j=L;else throw new Error("zlib does not expose bytesRead")}catch(V){console.error("cannot use native zlib: "+(V.message||V))}}function M(L,X){if(!j)return ui(L,X);var U=j.InflateRaw,V=new U,G=V._processChunk(L.slice(L.l),V._finishFlushFlag);return L.l+=V.bytesRead,G}function R(L){return j?j.deflateRawSync(L):ft(L)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(L){var X=(L<<1|L<<11)&139536|(L<<5|L<<15)&558144;return(X>>16|X>>8|X)&255}for(var Te=typeof Uint8Array<"u",be=Te?new Uint8Array(256):[],tt=0;tt<256;++tt)be[tt]=xe(tt);function Ke(L,X){var U=be[L&255];return X<=8?U>>>8-X:(U=U<<8|be[L>>8&255],X<=16?U>>>16-X:(U=U<<8|be[L>>16&255],U>>>24-X))}function ct(L,X){var U=X&7,V=X>>>3;return(L[V]|(U<=6?0:L[V+1]<<8))>>>U&3}function Ce(L,X){var U=X&7,V=X>>>3;return(L[V]|(U<=5?0:L[V+1]<<8))>>>U&7}function Ye(L,X){var U=X&7,V=X>>>3;return(L[V]|(U<=4?0:L[V+1]<<8))>>>U&15}function $e(L,X){var U=X&7,V=X>>>3;return(L[V]|(U<=3?0:L[V+1]<<8))>>>U&31}function De(L,X){var U=X&7,V=X>>>3;return(L[V]|(U<=1?0:L[V+1]<<8))>>>U&127}function ot(L,X,U){var V=X&7,G=X>>>3,Y=(1<<U)-1,oe=L[G]>>>V;return U<8-V||(oe|=L[G+1]<<8-V,U<16-V)||(oe|=L[G+2]<<16-V,U<24-V)||(oe|=L[G+3]<<24-V),oe&Y}function St(L,X,U){var V=X&7,G=X>>>3;return V<=5?L[G]|=(U&7)<<V:(L[G]|=U<<V&255,L[G+1]=(U&7)>>8-V),X+3}function jt(L,X,U){var V=X&7,G=X>>>3;return U=(U&1)<<V,L[G]|=U,X+1}function Ct(L,X,U){var V=X&7,G=X>>>3;return U<<=V,L[G]|=U&255,U>>>=8,L[G+1]=U,X+8}function er(L,X,U){var V=X&7,G=X>>>3;return U<<=V,L[G]|=U&255,U>>>=8,L[G+1]=U&255,L[G+2]=U>>>8,X+16}function Gt(L,X){var U=L.length,V=2*U>X?2*U:X+5,G=0;if(U>=X)return L;if(Pt){var Y=L4(V);if(L.copy)L.copy(Y);else for(;G<L.length;++G)Y[G]=L[G];return Y}else if(Te){var oe=new Uint8Array(V);if(oe.set)oe.set(L);else for(;G<U;++G)oe[G]=L[G];return oe}return L.length=V,L}function he(L){for(var X=new Array(L),U=0;U<L;++U)X[U]=0;return X}function Ie(L,X,U){var V=1,G=0,Y=0,oe=0,Ae=0,ce=L.length,fe=Te?new Uint16Array(32):he(32);for(Y=0;Y<32;++Y)fe[Y]=0;for(Y=ce;Y<U;++Y)L[Y]=0;ce=L.length;var de=Te?new Uint16Array(ce):he(ce);for(Y=0;Y<ce;++Y)fe[G=L[Y]]++,V<G&&(V=G),de[Y]=0;for(fe[0]=0,Y=1;Y<=V;++Y)fe[Y+16]=Ae=Ae+fe[Y-1]<<1;for(Y=0;Y<ce;++Y)Ae=L[Y],Ae!=0&&(de[Y]=fe[Ae+16]++);var Fe=0;for(Y=0;Y<ce;++Y)if(Fe=L[Y],Fe!=0)for(Ae=Ke(de[Y],V)>>V-Fe,oe=(1<<V+4-Fe)-1;oe>=0;--oe)X[Ae|oe<<Fe]=Fe&15|Y<<4;return V}var Be=Te?new Uint16Array(512):he(512),rt=Te?new Uint16Array(32):he(32);if(!Te){for(var vt=0;vt<512;++vt)Be[vt]=0;for(vt=0;vt<32;++vt)rt[vt]=0}(function(){for(var L=[],X=0;X<32;X++)L.push(5);Ie(L,rt,32);var U=[];for(X=0;X<=143;X++)U.push(8);for(;X<=255;X++)U.push(9);for(;X<=279;X++)U.push(7);for(;X<=287;X++)U.push(8);Ie(U,Be,288)})();var $t=(function(){for(var X=Te?new Uint8Array(32768):[],U=0,V=0;U<ye.length-1;++U)for(;V<ye[U+1];++V)X[V]=U;for(;V<32768;++V)X[V]=29;var G=Te?new Uint8Array(259):[];for(U=0,V=0;U<ee.length-1;++U)for(;V<ee[U+1];++V)G[V]=U;function Y(Ae,ce){for(var fe=0;fe<Ae.length;){var de=Math.min(65535,Ae.length-fe),Fe=fe+de==Ae.length;for(ce.write_shift(1,+Fe),ce.write_shift(2,de),ce.write_shift(2,~de&65535);de-- >0;)ce[ce.l++]=Ae[fe++]}return ce.l}function oe(Ae,ce){for(var fe=0,de=0,Fe=Te?new Uint16Array(32768):[];de<Ae.length;){var Pe=Math.min(65535,Ae.length-de);if(Pe<10){for(fe=St(ce,fe,+(de+Pe==Ae.length)),fe&7&&(fe+=8-(fe&7)),ce.l=fe/8|0,ce.write_shift(2,Pe),ce.write_shift(2,~Pe&65535);Pe-- >0;)ce[ce.l++]=Ae[de++];fe=ce.l*8;continue}fe=St(ce,fe,+(de+Pe==Ae.length)+2);for(var qe=0;Pe-- >0;){var Le=Ae[de];qe=(qe<<5^Le)&32767;var He=-1,Je=0;if((He=Fe[qe])&&(He|=de&-32768,He>de&&(He-=32768),He<de))for(;Ae[He+Je]==Ae[de+Je]&&Je<250;)++Je;if(Je>2){Le=G[Je],Le<=22?fe=Ct(ce,fe,be[Le+1]>>1)-1:(Ct(ce,fe,3),fe+=5,Ct(ce,fe,be[Le-23]>>5),fe+=3);var ar=Le<8?0:Le-4>>2;ar>0&&(er(ce,fe,Je-ee[Le]),fe+=ar),Le=X[de-He],fe=Ct(ce,fe,be[Le]>>3),fe-=3;var lr=Le<4?0:Le-2>>1;lr>0&&(er(ce,fe,de-He-ye[Le]),fe+=lr);for(var pr=0;pr<Je;++pr)Fe[qe]=de&32767,qe=(qe<<5^Ae[de])&32767,++de;Pe-=Je-1}else Le<=143?Le=Le+48:fe=jt(ce,fe,1),fe=Ct(ce,fe,be[Le]),Fe[qe]=de&32767,++de}fe=Ct(ce,fe,0)-1}return ce.l=(fe+7)/8|0,ce.l}return function(ce,fe){return ce.length<8?Y(ce,fe):oe(ce,fe)}})();function ft(L){var X=Se(50+Math.floor(L.length*1.1)),U=$t(L,X);return X.slice(0,U)}var Bt=Te?new Uint16Array(32768):he(32768),Er=Te?new Uint16Array(32768):he(32768),Xn=Te?new Uint16Array(128):he(128),tr=1,Cr=1;function vr(L,X){var U=$e(L,X)+257;X+=5;var V=$e(L,X)+1;X+=5;var G=Ye(L,X)+4;X+=4;for(var Y=0,oe=Te?new Uint8Array(19):he(19),Ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ce=1,fe=Te?new Uint8Array(8):he(8),de=Te?new Uint8Array(8):he(8),Fe=oe.length,Pe=0;Pe<G;++Pe)oe[W[Pe]]=Y=Ce(L,X),ce<Y&&(ce=Y),fe[Y]++,X+=3;var qe=0;for(fe[0]=0,Pe=1;Pe<=ce;++Pe)de[Pe]=qe=qe+fe[Pe-1]<<1;for(Pe=0;Pe<Fe;++Pe)(qe=oe[Pe])!=0&&(Ae[Pe]=de[qe]++);var Le=0;for(Pe=0;Pe<Fe;++Pe)if(Le=oe[Pe],Le!=0){qe=be[Ae[Pe]]>>8-Le;for(var He=(1<<7-Le)-1;He>=0;--He)Xn[qe|He<<Le]=Le&7|Pe<<3}var Je=[];for(ce=1;Je.length<U+V;)switch(qe=Xn[De(L,X)],X+=qe&7,qe>>>=3){case 16:for(Y=3+ct(L,X),X+=2,qe=Je[Je.length-1];Y-- >0;)Je.push(qe);break;case 17:for(Y=3+Ce(L,X),X+=3;Y-- >0;)Je.push(0);break;case 18:for(Y=11+De(L,X),X+=7;Y-- >0;)Je.push(0);break;default:Je.push(qe),ce<qe&&(ce=qe);break}var ar=Je.slice(0,U),lr=Je.slice(U);for(Pe=U;Pe<286;++Pe)ar[Pe]=0;for(Pe=V;Pe<30;++Pe)lr[Pe]=0;return tr=Ie(ar,Bt,286),Cr=Ie(lr,Er,30),X}function vs(L,X){if(L[0]==3&&!(L[1]&3))return[wl(X),2];for(var U=0,V=0,G=L4(X||1<<18),Y=0,oe=G.length>>>0,Ae=0,ce=0;(V&1)==0;){if(V=Ce(L,U),U+=3,V>>>1)V>>1==1?(Ae=9,ce=5):(U=vr(L,U),Ae=tr,ce=Cr);else{U&7&&(U+=8-(U&7));var fe=L[U>>>3]|L[(U>>>3)+1]<<8;if(U+=32,fe>0)for(!X&&oe<Y+fe&&(G=Gt(G,Y+fe),oe=G.length);fe-- >0;)G[Y++]=L[U>>>3],U+=8;continue}for(;;){!X&&oe<Y+32767&&(G=Gt(G,Y+32767),oe=G.length);var de=ot(L,U,Ae),Fe=V>>>1==1?Be[de]:Bt[de];if(U+=Fe&15,Fe>>>=4,(Fe>>>8&255)===0)G[Y++]=Fe;else{if(Fe==256)break;Fe-=257;var Pe=Fe<8?0:Fe-4>>2;Pe>5&&(Pe=0);var qe=Y+ee[Fe];Pe>0&&(qe+=ot(L,U,Pe),U+=Pe),de=ot(L,U,ce),Fe=V>>>1==1?rt[de]:Er[de],U+=Fe&15,Fe>>>=4;var Le=Fe<4?0:Fe-2>>1,He=ye[Fe];for(Le>0&&(He+=ot(L,U,Le),U+=Le),!X&&oe<qe&&(G=Gt(G,qe+100),oe=G.length);Y<qe;)G[Y]=G[Y-He],++Y}}}return X?[G,U+7>>>3]:[G.slice(0,Y),U+7>>>3]}function ui(L,X){var U=L.slice(L.l||0),V=vs(U,X);return L.l+=V[1],V[0]}function Ki(L,X){if(L)typeof console<"u"&&console.error(X);else throw new Error(X)}function Nn(L,X){var U=L;ai(U,0);var V=[],G=[],Y={FileIndex:V,FullPaths:G};O(Y,{root:X.root});for(var oe=U.length-4;(U[oe]!=80||U[oe+1]!=75||U[oe+2]!=5||U[oe+3]!=6)&&oe>=0;)--oe;U.l=oe+4,U.l+=4;var Ae=U.read_shift(2);U.l+=6;var ce=U.read_shift(4);for(U.l=ce,oe=0;oe<Ae;++oe){U.l+=20;var fe=U.read_shift(4),de=U.read_shift(4),Fe=U.read_shift(2),Pe=U.read_shift(2),qe=U.read_shift(2);U.l+=8;var Le=U.read_shift(4),He=c(U.slice(U.l+Fe,U.l+Fe+Pe));U.l+=Fe+Pe+qe;var Je=U.l;U.l=Le+4,hi(U,fe,de,Y,He),U.l=Je}return Y}function hi(L,X,U,V,G){L.l+=2;var Y=L.read_shift(2),oe=L.read_shift(2),Ae=l(L);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var ce=L.read_shift(4),fe=L.read_shift(4),de=L.read_shift(4),Fe=L.read_shift(2),Pe=L.read_shift(2),qe="",Le=0;Le<Fe;++Le)qe+=String.fromCharCode(L[L.l++]);if(Pe){var He=c(L.slice(L.l,L.l+Pe));(He[21589]||{}).mt&&(Ae=He[21589].mt),((G||{})[21589]||{}).mt&&(Ae=G[21589].mt)}L.l+=Pe;var Je=L.slice(L.l,L.l+fe);switch(oe){case 8:Je=M(L,de);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+oe)}var ar=!1;Y&8&&(ce=L.read_shift(4),ce==134695760&&(ce=L.read_shift(4),ar=!0),fe=L.read_shift(4),de=L.read_shift(4)),fe!=X&&Ki(ar,"Bad compressed size: "+X+" != "+fe),de!=U&&Ki(ar,"Bad uncompressed size: "+U+" != "+de),Tt(V,qe,Je,{unsafe:!0,mt:Ae})}function Xt(L,X){var U=X||{},V=[],G=[],Y=Se(1),oe=U.compression?8:0,Ae=0,ce=0,fe=0,de=0,Fe=0,Pe=L.FullPaths[0],qe=Pe,Le=L.FileIndex[0],He=[],Je=0;for(ce=1;ce<L.FullPaths.length;++ce)if(qe=L.FullPaths[ce].slice(Pe.length),Le=L.FileIndex[ce],!(!Le.size||!Le.content||qe=="Sh33tJ5")){var ar=de,lr=Se(qe.length);for(fe=0;fe<qe.length;++fe)lr.write_shift(1,qe.charCodeAt(fe)&127);lr=lr.slice(0,lr.l),He[Fe]=kO.buf(Le.content,0);var pr=Le.content;oe==8&&(pr=R(pr)),Y=Se(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,Ae),Y.write_shift(2,oe),Le.mt?s(Y,Le.mt):Y.write_shift(4,0),Y.write_shift(-4,He[Fe]),Y.write_shift(4,pr.length),Y.write_shift(4,Le.content.length),Y.write_shift(2,lr.length),Y.write_shift(2,0),de+=Y.length,V.push(Y),de+=lr.length,V.push(lr),de+=pr.length,V.push(pr),Y=Se(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,Ae),Y.write_shift(2,oe),Y.write_shift(4,0),Y.write_shift(-4,He[Fe]),Y.write_shift(4,pr.length),Y.write_shift(4,Le.content.length),Y.write_shift(2,lr.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,ar),Je+=Y.l,G.push(Y),Je+=lr.length,G.push(lr),++Fe}return Y=Se(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,Fe),Y.write_shift(2,Fe),Y.write_shift(4,Je),Y.write_shift(4,de),Y.write_shift(2,0),ln([ln(V),ln(G),Y])}var pe={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Me(L,X){if(L.ctype)return L.ctype;var U=L.name||"",V=U.match(/\.([^\.]+)$/);return V&&pe[V[1]]||X&&(V=(U=X).match(/[\.\\]([^\.\\])+$/),V&&pe[V[1]])?pe[V[1]]:"application/octet-stream"}function Ve(L){for(var X=T0(L),U=[],V=0;V<X.length;V+=76)U.push(X.slice(V,V+76));return U.join(`\r
`)+`\r
`}function it(L){var X=L.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(fe){var de=fe.charCodeAt(0).toString(16).toUpperCase();return"="+(de.length==1?"0"+de:de)});X=X.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),X.charAt(0)==`
`&&(X="=0D"+X.slice(1)),X=X.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var U=[],V=X.split(`\r
`),G=0;G<V.length;++G){var Y=V[G];if(Y.length==0){U.push("");continue}for(var oe=0;oe<Y.length;){var Ae=76,ce=Y.slice(oe,oe+Ae);ce.charAt(Ae-1)=="="?Ae--:ce.charAt(Ae-2)=="="?Ae-=2:ce.charAt(Ae-3)=="="&&(Ae-=3),ce=Y.slice(oe,oe+Ae),oe+=Ae,oe<Y.length&&(ce+="="),U.push(ce)}}return U.join(`\r
`)}function Ze(L){for(var X=[],U=0;U<L.length;++U){for(var V=L[U];U<=L.length&&V.charAt(V.length-1)=="=";)V=V.slice(0,V.length-1)+L[++U];X.push(V)}for(var G=0;G<X.length;++G)X[G]=X[G].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return zi(X.join(`\r
`))}function ut(L,X,U){for(var V="",G="",Y="",oe,Ae=0;Ae<10;++Ae){var ce=X[Ae];if(!ce||ce.match(/^\s*$/))break;var fe=ce.match(/^(.*?):\s*([^\s].*)$/);if(fe)switch(fe[1].toLowerCase()){case"content-location":V=fe[2].trim();break;case"content-type":Y=fe[2].trim();break;case"content-transfer-encoding":G=fe[2].trim();break}}switch(++Ae,G.toLowerCase()){case"base64":oe=zi(Ws(X.slice(Ae).join("")));break;case"quoted-printable":oe=Ze(X.slice(Ae));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+G)}var de=Tt(L,V.slice(U.length),oe,{unsafe:!0});Y&&(de.ctype=Y)}function at(L,X){if(Ee(L.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var U=X&&X.root||"",V=(Pt&&Buffer.isBuffer(L)?L.toString("binary"):Ee(L)).split(`\r
`),G=0,Y="";for(G=0;G<V.length;++G)if(Y=V[G],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),U||(U=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,U.length)!=U))for(;U.length>0&&(U=U.slice(0,U.length-1),U=U.slice(0,U.lastIndexOf("/")+1),Y.slice(0,U.length)!=U););var oe=(V[1]||"").match(/boundary="(.*?)"/);if(!oe)throw new Error("MAD cannot find boundary");var Ae="--"+(oe[1]||""),ce=[],fe=[],de={FileIndex:ce,FullPaths:fe};O(de);var Fe,Pe=0;for(G=0;G<V.length;++G){var qe=V[G];qe!==Ae&&qe!==Ae+"--"||(Pe++&&ut(de,V.slice(Fe,G),U),Fe=G)}return de}function At(L,X){var U=X||{},V=U.boundary||"SheetJS";V="------="+V;for(var G=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+V.slice(2)+'"',"","",""],Y=L.FullPaths[0],oe=Y,Ae=L.FileIndex[0],ce=1;ce<L.FullPaths.length;++ce)if(oe=L.FullPaths[ce].slice(Y.length),Ae=L.FileIndex[ce],!(!Ae.size||!Ae.content||oe=="Sh33tJ5")){oe=oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Je){return"_x"+Je.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Je){return"_u"+Je.charCodeAt(0).toString(16)+"_"});for(var fe=Ae.content,de=Pt&&Buffer.isBuffer(fe)?fe.toString("binary"):Ee(fe),Fe=0,Pe=Math.min(1024,de.length),qe=0,Le=0;Le<=Pe;++Le)(qe=de.charCodeAt(Le))>=32&&qe<128&&++Fe;var He=Fe>=Pe*4/5;G.push(V),G.push("Content-Location: "+(U.root||"file:///C:/SheetJS/")+oe),G.push("Content-Transfer-Encoding: "+(He?"quoted-printable":"base64")),G.push("Content-Type: "+Me(Ae,oe)),G.push(""),G.push(He?it(de):Ve(de))}return G.push(V+`--\r
`),G.join(`\r
`)}function rr(L){var X={};return O(X,L),X}function Tt(L,X,U,V){var G=V&&V.unsafe;G||O(L);var Y=!G&&Zt.find(L,X);if(!Y){var oe=L.FullPaths[0];X.slice(0,oe.length)==oe?oe=X:(oe.slice(-1)!="/"&&(oe+="/"),oe=(oe+X).replace("//","/")),Y={name:i(X),type:2},L.FileIndex.push(Y),L.FullPaths.push(oe),G||Zt.utils.cfb_gc(L)}return Y.content=U,Y.size=U?U.length:0,V&&(V.CLSID&&(Y.clsid=V.CLSID),V.mt&&(Y.mt=V.mt),V.ct&&(Y.ct=V.ct)),Y}function or(L,X){O(L);var U=Zt.find(L,X);if(U){for(var V=0;V<L.FileIndex.length;++V)if(L.FileIndex[V]==U)return L.FileIndex.splice(V,1),L.FullPaths.splice(V,1),!0}return!1}function dn(L,X,U){O(L);var V=Zt.find(L,X);if(V){for(var G=0;G<L.FileIndex.length;++G)if(L.FileIndex[G]==V)return L.FileIndex[G].name=i(U),L.FullPaths[G]=U,!0}return!1}function wn(L){N(L,!0)}return e.find=P,e.read=F,e.parse=d,e.write=Ne,e.writeFile=ve,e.utils={cfb_new:rr,cfb_add:Tt,cfb_del:or,cfb_mov:dn,cfb_gc:wn,ReadShift:f0,CheckField:BA,prep_blob:ai,bconcat:ln,use_zlib:D,_deflateRaw:ft,_inflateRaw:ui,consts:ne},e})();function OO(r){return typeof r=="string"?tp(r):Array.isArray(r)?rO(r):r}function ef(r,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=tp(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(r,e)}var n=t=="utf8"?D0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,r);if(typeof Blob<"u"){var i=new Blob([OO(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,r);if(typeof saveAs<"u")return saveAs(i,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:r,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=r,l.href=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(r);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=J0(e)),c.write(e),c.close(),e}catch(f){if(!f.message||!f.message.match(/onstruct/))throw f}throw new Error("cannot save file "+r)}function un(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function q4(r,e){for(var t=[],n=un(r),i=0;i!==n.length;++i)t[r[n[i]][e]]==null&&(t[r[n[i]][e]]=n[i]);return t}function Y1(r){for(var e=[],t=un(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}function ip(r){for(var e=[],t=un(r),n=0;n!==t.length;++n)e[r[t[n]]]=parseInt(t[n],10);return e}function BO(r){for(var e=[],t=un(r),n=0;n!==t.length;++n)e[r[t[n]]]==null&&(e[r[t[n]]]=[]),e[r[t[n]]].push(t[n]);return e}var ud=new Date(1899,11,30,0,0,0);function Wn(r,e){var t=r.getTime(),n=ud.getTime()+(r.getTimezoneOffset()-ud.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var pA=new Date,NO=ud.getTime()+(pA.getTimezoneOffset()-ud.getTimezoneOffset())*6e4,W4=pA.getTimezoneOffset();function mA(r){var e=new Date;return e.setTime(r*24*60*60*1e3+NO),e.getTimezoneOffset()!==W4&&e.setTime(e.getTime()+(e.getTimezoneOffset()-W4)*6e4),e}var G4=new Date("2017-02-19T19:06:09.000Z"),gA=isNaN(G4.getFullYear())?new Date("2/19/17"):G4,RO=gA.getFullYear()==2017;function Dn(r,e){var t=new Date(r);if(RO)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(gA.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function sp(r,e){if(Pt&&Buffer.isBuffer(r))return r.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function Gn(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=Gn(r[t]));return e}function Sr(r,e){for(var t="";t.length<e;)t+=r;return t}function Us(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(n)))?e/t:e}var FO=["january","february","march","april","may","june","july","august","september","october","november","december"];function _0(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var l=r.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&FO.indexOf(l)==-1)return t}else if(l.match(/[a-z]/))return t;return n<0||n>8099?t:(i>0||s>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}function gt(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return Pt?n=Ks(t):n=nO(t),Zt.utils.cfb_add(r,e,n)}Zt.utils.cfb_add(r,e,t)}else r.file(e,t)}function K1(){return Zt.utils.cfb_new()}var Ir=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,MO={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Q1=Y1(MO),Z1=/[&<>'"]/g,LO=/[\u0000-\u0008\u000b-\u001f]/g;function qt(r){var e=r+"";return e.replace(Z1,function(t){return Q1[t]}).replace(LO,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function $4(r){return qt(r).replace(/ /g,"_x0020_")}var xA=/[\u0000-\u001f]/g;function IO(r){var e=r+"";return e.replace(Z1,function(t){return Q1[t]}).replace(/\n/g,"<br/>").replace(xA,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function PO(r){var e=r+"";return e.replace(Z1,function(t){return Q1[t]}).replace(xA,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function jO(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function zO(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Vg(r){for(var e="",t=0,n=0,i=0,s=0,l=0,c=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(i=r.charCodeAt(t++),n>191&&n<224){l=(n&31)<<6,l|=i&63,e+=String.fromCharCode(l);continue}if(s=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}l=r.charCodeAt(t++),c=((n&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function X4(r){var e=wl(2*r.length),t,n,i=1,s=0,l=0,c;for(n=0;n<r.length;n+=i)i=1,(c=r.charCodeAt(n))<128?t=c:c<224?(t=(c&31)*64+(r.charCodeAt(n+1)&63),i=2):c<240?(t=(c&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,t=(c&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,l=55296+(t>>>10&1023),t=56320+(t&1023)),l!==0&&(e[s++]=l&255,e[s++]=l>>>8,l=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function Y4(r){return Ks(r,"binary").toString("utf8")}var Ru="foo bar baz",c0=Pt&&(Y4(Ru)==Vg(Ru)&&Y4||X4(Ru)==Vg(Ru)&&X4)||Vg,D0=Pt?function(r){return Ks(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,i=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},HO=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}})(),vA=/(^\s|\s$|\n)/;function on(r,e){return"<"+r+(e.match(vA)?' xml:space="preserve"':"")+">"+e+"</"+r+">"}function k0(r){return un(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function je(r,e,t){return"<"+r+(t!=null?k0(t):"")+(e!=null?(e.match(vA)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function Lx(r,e){try{return r.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function UO(r,e){switch(typeof r){case"string":var t=je("vt:lpwstr",qt(r));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return je((r|0)==r?"vt:i4":"vt:r8",qt(String(r)));case"boolean":return je("vt:bool",r?"true":"false")}if(r instanceof Date)return je("vt:filetime",Lx(r));throw new Error("Unable to serialize "+r)}var Gr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ko=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],li={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function VO(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),i=r[e+6]&15,s=5;s>=0;--s)i=i*256+r[e+s];return n==2047?i==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),t*Math.pow(2,n-52)*i)}function qO(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,l=n?-e:e;isFinite(l)?l==0?i=s=0:(i=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)r[t+c]=s&255;r[t+6]=(i&15)<<4|s&15,r[t+7]=i>>4|n}var K4=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,s=r[0][n].length;i<s;i+=t)e.push.apply(e,r[0][n].slice(i,i+t));return e},Q4=Pt?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:Ks(e)})):K4(r)}:K4,Z4=function(r,e,t){for(var n=[],i=e;i<t;i+=2)n.push(String.fromCharCode(r0(r,i)));return n.join("").replace(o0,"")},J1=Pt?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(o0,""):Z4(r,e,t)}:Z4,J4=function(r,e,t){for(var n=[],i=e;i<e+t;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},yA=Pt?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):J4(r,e,t)}:J4,ew=function(r,e,t){for(var n=[],i=e;i<t;i++)n.push(String.fromCharCode(wo(r,i)));return n.join("")},tf=Pt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):ew(e,t,n)}:ew,bA=function(r,e){var t=oi(r,e);return t>0?tf(r,e+4,e+4+t-1):""},SA=bA,wA=function(r,e){var t=oi(r,e);return t>0?tf(r,e+4,e+4+t-1):""},EA=wA,CA=function(r,e){var t=2*oi(r,e);return t>0?tf(r,e+4,e+4+t-1):""},AA=CA,TA=function(e,t){var n=oi(e,t);return n>0?J1(e,t+4,t+4+n):""},_A=TA,DA=function(r,e){var t=oi(r,e);return t>0?tf(r,e+4,e+4+t):""},kA=DA,OA=function(r,e){return VO(r,e)},hd=OA,ev=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Pt&&(SA=function(e,t){if(!Buffer.isBuffer(e))return bA(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},EA=function(e,t){if(!Buffer.isBuffer(e))return wA(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},AA=function(e,t){if(!Buffer.isBuffer(e))return CA(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},_A=function(e,t){if(!Buffer.isBuffer(e))return TA(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},kA=function(e,t){if(!Buffer.isBuffer(e))return DA(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},hd=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):OA(e,t)},ev=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var wo=function(r,e){return r[e]},r0=function(r,e){return r[e+1]*256+r[e]},WO=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},oi=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},hl=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},GO=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function f0(r,e){var t="",n,i,s=[],l,c,f,h;switch(e){case"dbcs":if(h=this.l,Pt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(f=0;f<r;++f)t+=String.fromCharCode(r0(this,h)),h+=2;r*=2;break;case"utf8":t=tf(this,this.l,this.l+r);break;case"utf16le":r*=2,t=J1(this,this.l,this.l+r);break;case"wstr":return f0.call(this,r,"dbcs");case"lpstr-ansi":t=SA(this,this.l),r=4+oi(this,this.l);break;case"lpstr-cp":t=EA(this,this.l),r=4+oi(this,this.l);break;case"lpwstr":t=AA(this,this.l),r=4+2*oi(this,this.l);break;case"lpp4":r=4+oi(this,this.l),t=_A(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+oi(this,this.l),t=kA(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(l=wo(this,this.l+r++))!==0;)s.push(Ou(l));t=s.join("");break;case"_wstr":for(r=0,t="";(l=r0(this,this.l+r))!==0;)s.push(Ou(l)),r+=2;r+=2,t=s.join("");break;case"dbcs-cont":for(t="",h=this.l,f=0;f<r;++f){if(this.lens&&this.lens.indexOf(h)!==-1)return l=wo(this,h),this.l=h+1,c=f0.call(this,r-f,l?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(Ou(r0(this,h))),h+=2}t=s.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",h=this.l,f=0;f!=r;++f){if(this.lens&&this.lens.indexOf(h)!==-1)return l=wo(this,h),this.l=h+1,c=f0.call(this,r-f,l?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(Ou(wo(this,h))),h+=1}t=s.join("");break;default:switch(r){case 1:return n=wo(this,this.l),this.l++,n;case 2:return n=(e==="i"?WO:r0)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?hl:GO)(this,this.l),this.l+=4,n):(i=oi(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return r==8?i=hd(this,this.l):i=hd([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:t=yA(this,this.l,r);break}}return this.l+=r,t}var $O=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},XO=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},YO=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function KO(r,e,t){var n=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)YO(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(t==="hex"){for(;i<r;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+r,this.length);for(i=0;i<Math.min(e.length,r);++i){var l=e.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,$O(this,e,this.l);break;case 8:if(n=8,t==="f"){qO(this,e,this.l);break}case 16:break;case-4:n=4,XO(this,e,this.l);break}return this.l+=n,this}function BA(r,e){var t=yA(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function ai(r,e){r.l=e,r.read_shift=f0,r.chk=BA,r.write_shift=KO}function ps(r,e){r.l+=e}function Se(r){var e=wl(r);return ai(e,0),e}function qn(){var r=[],e=Pt?256:2048,t=function(h){var d=Se(h);return ai(d,0),d},n=t(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},s=function(h){return n&&h<n.length-n.l?n:(i(),n=t(Math.max(h+1,e)))},l=function(){return i(),ln(r)},c=function(h){i(),n=h,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:c,end:l,_bufs:r}}function Re(r,e,t,n){var i=+e,s;if(!isNaN(i)){n||(n=VF[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var l=r.next(s);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var c=0;c!=4;++c)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&ev(t)&&r.push(t)}}function u0(r,e,t){var n=Gn(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function tw(r,e,t){var n=Gn(r);return n.s=u0(n.s,e.s,t),n.e=u0(n.e,e.s,t),n}function h0(r,e){if(r.cRel&&r.c<0)for(r=Gn(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=Gn(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=Wt(r);return!r.cRel&&r.cRel!=null&&(t=JO(t)),!r.rRel&&r.rRel!=null&&(t=QO(t)),t}function qg(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+yn(r.s.c)+":"+(r.e.cRel?"":"$")+yn(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+fn(r.s.r)+":"+(r.e.rRel?"":"$")+fn(r.e.r):h0(r.s,e.biff)+":"+h0(r.e,e.biff)}function tv(r){return parseInt(ZO(r),10)-1}function fn(r){return""+(r+1)}function QO(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ZO(r){return r.replace(/\$(\d+)$/,"$1")}function rv(r){for(var e=eB(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function yn(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function JO(r){return r.replace(/^([A-Z])/,"$$$1")}function eB(r){return r.replace(/^\$([A-Z])/,"$1")}function tB(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Xr(r){for(var e=0,t=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Wt(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function fi(r){var e=r.indexOf(":");return e==-1?{s:Xr(r),e:Xr(r)}:{s:Xr(r.slice(0,e)),e:Xr(r.slice(e+1))}}function Lr(r,e){return typeof e>"u"||typeof e=="number"?Lr(r.s,r.e):(typeof r!="string"&&(r=Wt(r)),typeof e!="string"&&(e=Wt(e)),r==e?r:r+":"+e)}function dr(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,i=0,s=r.length;for(t=0;n<s&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.s.c=--t,t=0;n<s&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;if(e.s.r=--t,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=s&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.e.c=--t,t=0;n!=s&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;return e.e.r=--t,e}function rw(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=Ra(r.z,t?Wn(e):e)}catch{}try{return r.w=Ra((r.XF||{}).numFmtId||(t?14:0),t?Wn(e):e)}catch{return""+e}}function Gs(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?rf[r.v]||r.v:e==null?rw(r,r.v):rw(r,e))}function Nl(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function NA(r,e,t){var n=t||{},i=r?Array.isArray(r):n.dense,s=r||(i?[]:{}),l=0,c=0;if(s&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var f=typeof n.origin=="string"?Xr(n.origin):n.origin;l=f.r,c=f.c}s["!ref"]||(s["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=dr(s["!ref"]);h.s.c=d.s.c,h.s.r=d.s.r,h.e.c=Math.max(h.e.c,d.e.c),h.e.r=Math.max(h.e.r,d.e.r),l==-1&&(h.e.r=l=d.e.r+1)}for(var m=0;m!=e.length;++m)if(e[m]){if(!Array.isArray(e[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[m].length;++g)if(!(typeof e[m][g]>"u")){var x={v:e[m][g]},b=l+m,S=c+g;if(h.s.r>b&&(h.s.r=b),h.s.c>S&&(h.s.c=S),h.e.r<b&&(h.e.r=b),h.e.c<S&&(h.e.c=S),e[m][g]&&typeof e[m][g]=="object"&&!Array.isArray(e[m][g])&&!(e[m][g]instanceof Date))x=e[m][g];else if(Array.isArray(x.v)&&(x.f=e[m][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(n.nullError)x.t="e",x.v=0;else if(n.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=n.dateNF||wr[14],n.cellDates?(x.t="d",x.w=Ra(x.z,Wn(x.v))):(x.t="n",x.v=Wn(x.v),x.w=Ra(x.z,x.v))):x.t="s";if(i)s[b]||(s[b]=[]),s[b][S]&&s[b][S].z&&(x.z=s[b][S].z),s[b][S]=x;else{var w=Wt({c:S,r:b});s[w]&&s[w].z&&(x.z=s[w].z),s[w]=x}}}return h.s.c<1e7&&(s["!ref"]=Lr(h)),s}function Qo(r,e){return NA(null,r,e)}function rB(r){return r.read_shift(4,"i")}function Vi(r,e){return e||(e=Se(4)),e.write_shift(4,r),e}function bn(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function Yr(r,e){var t=!1;return e==null&&(t=!0,e=Se(4+2*r.length)),e.write_shift(4,r.length),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}function nB(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function iB(r,e){return e||(e=Se(4)),e.write_shift(2,0),e.write_shift(2,0),e}function nv(r,e){var t=r.l,n=r.read_shift(1),i=bn(r),s=[],l={t:i,h:i};if((n&1)!==0){for(var c=r.read_shift(4),f=0;f!=c;++f)s.push(nB(r));l.r=s}else l.r=[{ich:0,ifnt:0}];return r.l=t+e,l}function sB(r,e){var t=!1;return e==null&&(t=!0,e=Se(15+4*r.t.length)),e.write_shift(1,0),Yr(r.t,e),t?e.slice(0,e.l):e}var aB=nv;function lB(r,e){var t=!1;return e==null&&(t=!0,e=Se(23+4*r.t.length)),e.write_shift(1,1),Yr(r.t,e),e.write_shift(4,1),iB({},e),t?e.slice(0,e.l):e}function Ri(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function Rl(r,e){return e==null&&(e=Se(8)),e.write_shift(-4,r.c),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}function Fl(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}function Ml(r,e){return e==null&&(e=Se(4)),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}var oB=bn,RA=Yr;function iv(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}function dd(r,e){var t=!1;return e==null&&(t=!0,e=Se(127)),e.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}var cB=bn,Ix=iv,sv=dd;function FA(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var i=n===0?hd([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):hl(e,0)>>2;return t?i/100:i}function MA(r,e){e==null&&(e=Se(4));var t=0,n=0,i=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,t=1),n)e.write_shift(-4,((t?i:r)<<2)+(t+2));else throw new Error("unsupported RkNumber "+r)}function LA(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}function fB(r,e){return e||(e=Se(16)),e.write_shift(4,r.s.r),e.write_shift(4,r.e.r),e.write_shift(4,r.s.c),e.write_shift(4,r.e.c),e}var Ll=LA,Zo=fB;function Jo(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function El(r,e){return(e||Se(8)).write_shift(8,r,"f")}function uB(r){var e={},t=r.read_shift(1),n=t>>>1,i=r.read_shift(1),s=r.read_shift(2,"i"),l=r.read_shift(1),c=r.read_shift(1),f=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var h=bB[i];h&&(e.rgb=dw(h));break;case 2:e.rgb=dw([l,c,f]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function pd(r,e){if(e||(e=Se(8)),!r||r.auto)return e.write_shift(4,0),e.write_shift(4,0),e;r.index!=null?(e.write_shift(1,2),e.write_shift(1,r.index)):r.theme!=null?(e.write_shift(1,6),e.write_shift(1,r.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=r.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!r.rgb||r.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=r.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function hB(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function dB(r,e){e||(e=Se(2));var t=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var IA=2,ii=3,Fu=11,md=19,Mu=64,pB=65,mB=71,gB=4108,xB=4126,sn=80,nw={1:{n:"CodePage",t:IA},2:{n:"Category",t:sn},3:{n:"PresentationFormat",t:sn},4:{n:"ByteCount",t:ii},5:{n:"LineCount",t:ii},6:{n:"ParagraphCount",t:ii},7:{n:"SlideCount",t:ii},8:{n:"NoteCount",t:ii},9:{n:"HiddenCount",t:ii},10:{n:"MultimediaClipCount",t:ii},11:{n:"ScaleCrop",t:Fu},12:{n:"HeadingPairs",t:gB},13:{n:"TitlesOfParts",t:xB},14:{n:"Manager",t:sn},15:{n:"Company",t:sn},16:{n:"LinksUpToDate",t:Fu},17:{n:"CharacterCount",t:ii},19:{n:"SharedDoc",t:Fu},22:{n:"HyperlinksChanged",t:Fu},23:{n:"AppVersion",t:ii,p:"version"},24:{n:"DigSig",t:pB},26:{n:"ContentType",t:sn},27:{n:"ContentStatus",t:sn},28:{n:"Language",t:sn},29:{n:"Version",t:sn},255:{},2147483648:{n:"Locale",t:md},2147483651:{n:"Behavior",t:md},1919054434:{}},iw={1:{n:"CodePage",t:IA},2:{n:"Title",t:sn},3:{n:"Subject",t:sn},4:{n:"Author",t:sn},5:{n:"Keywords",t:sn},6:{n:"Comments",t:sn},7:{n:"Template",t:sn},8:{n:"LastAuthor",t:sn},9:{n:"RevNumber",t:sn},10:{n:"EditTime",t:Mu},11:{n:"LastPrinted",t:Mu},12:{n:"CreatedDate",t:Mu},13:{n:"ModifiedDate",t:Mu},14:{n:"PageCount",t:ii},15:{n:"WordCount",t:ii},16:{n:"CharCount",t:ii},17:{n:"Thumbnail",t:mB},18:{n:"Application",t:sn},19:{n:"DocSecurity",t:ii},255:{},2147483648:{n:"Locale",t:md},2147483651:{n:"Behavior",t:md},1919054434:{}};function vB(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var yB=vB([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),bB=Gn(yB),rf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},SB={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Lu={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function PA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function jA(r,e){var t=BO(SB),n=[],i;n[n.length]=Ir,n[n.length]=je("Types",null,{xmlns:Gr.CT,"xmlns:xsd":Gr.xsd,"xmlns:xsi":Gr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(f){return je("Default",null,{Extension:f[0],ContentType:f[1]})}));var s=function(f){r[f]&&r[f].length>0&&(i=r[f][0],n[n.length]=je("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Lu[f][e.bookType]||Lu[f].xlsx}))},l=function(f){(r[f]||[]).forEach(function(h){n[n.length]=je("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Lu[f][e.bookType]||Lu[f].xlsx})})},c=function(f){(r[f]||[]).forEach(function(h){n[n.length]=je("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:t[f][0]})})};return s("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Lt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function zA(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function Bo(r){var e=[Ir,je("Relationships",null,{xmlns:Gr.RELS})];return un(r["!id"]).forEach(function(t){e[e.length]=je("Relationship",null,r["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Vt(r,e,t,n,i,s){if(i||(i={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),e<0)for(e=r["!idx"];r["!id"]["rId"+e];++e);if(r["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=t,[Lt.HLINK,Lt.XPATH,Lt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),r["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return r["!id"][i.Id]=i,r[("/"+i.Target).replace("//","/")]=i,e}function wB(r){var e=[Ir];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<r.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+r[t][0]+'" manifest:media-type="'+r[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function sw(r,e,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function EB(r,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function CB(r){var e=[Ir];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=r.length;++t)e.push(sw(r[t][0],r[t][1])),e.push(EB("",r[t][0]));return e.push(sw("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function HA(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+ad.version+"</meta:generator></office:meta></office:document-meta>"}var yl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Wg(r,e,t,n,i){i[r]!=null||e==null||e===""||(i[r]=e,e=qt(e),n[n.length]=t?je(r,e,t):on(r,e))}function UA(r,e){var t=e||{},n=[Ir,je("cp:coreProperties",null,{"xmlns:cp":Gr.CORE_PROPS,"xmlns:dc":Gr.dc,"xmlns:dcterms":Gr.dcterms,"xmlns:dcmitype":Gr.dcmitype,"xmlns:xsi":Gr.xsi})],i={};if(!r&&!t.Props)return n.join("");r&&(r.CreatedDate!=null&&Wg("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:Lx(r.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),r.ModifiedDate!=null&&Wg("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:Lx(r.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=yl.length;++s){var l=yl[s],c=t.Props&&t.Props[l[1]]!=null?t.Props[l[1]]:r?r[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&Wg(l[0],c,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var No=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],VA=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function qA(r){var e=[],t=je;return r||(r={}),r.Application="SheetJS",e[e.length]=Ir,e[e.length]=je("Properties",null,{xmlns:Gr.EXT_PROPS,"xmlns:vt":Gr.vt}),No.forEach(function(n){if(r[n[1]]!==void 0){var i;switch(n[2]){case"string":i=qt(String(r[n[1]]));break;case"bool":i=r[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(n[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",r.SheetNames.map(function(n){return"<vt:lpstr>"+qt(n)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function WA(r){var e=[Ir,je("Properties",null,{xmlns:Gr.CUST_PROPS,"xmlns:vt":Gr.vt})];if(!r)return e.join("");var t=1;return un(r).forEach(function(i){++t,e[e.length]=je("property",UO(r[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:qt(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var aw={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function AB(r,e){var t=[];return un(aw).map(function(n){for(var i=0;i<yl.length;++i)if(yl[i][1]==n)return yl[i];for(i=0;i<No.length;++i)if(No[i][1]==n)return No[i];throw n}).forEach(function(n){if(r[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:r[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(on(aw[n[1]]||n[1],i))}}),je("DocumentProperties",t.join(""),{xmlns:li.o})}function TB(r,e){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return r&&un(r).forEach(function(s){if(Object.prototype.hasOwnProperty.call(r,s)){for(var l=0;l<yl.length;++l)if(s==yl[l][1])return;for(l=0;l<No.length;++l)if(s==No[l][1])return;for(l=0;l<t.length;++l)if(s==t[l])return;var c=r[s],f="string";typeof c=="number"?(f="float",c=String(c)):c===!0||c===!1?(f="boolean",c=c?"1":"0"):c=String(c),i.push(je($4(s),c,{"dt:dt":f}))}}),e&&un(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(r&&Object.prototype.hasOwnProperty.call(r,s))){var l=e[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),i.push(je($4(s),l,{"dt:dt":c}))}}),"<"+n+' xmlns="'+li.o+'">'+i.join("")+"</"+n+">"}function _B(r){var e=typeof r=="string"?new Date(Date.parse(r)):r,t=e.getTime()/1e3+11644473600,n=t%Math.pow(2,32),i=(t-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var l=Se(8);return l.write_shift(4,n),l.write_shift(4,i),l}function lw(r,e){var t=Se(4),n=Se(4);switch(t.write_shift(4,r==80?31:r),r){case 3:n.write_shift(-4,e);break;case 5:n=Se(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=_B(e);break;case 31:case 80:for(n=Se(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}return ln([t,n])}var GA=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function DB(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function ow(r,e,t){var n=Se(8),i=[],s=[],l=8,c=0,f=Se(8),h=Se(8);if(f.write_shift(4,2),f.write_shift(4,1200),h.write_shift(4,1),s.push(f),i.push(h),l+=8+f.length,!e){h=Se(8),h.write_shift(4,0),i.unshift(h);var d=[Se(4)];for(d[0].write_shift(4,r.length),c=0;c<r.length;++c){var m=r[c][0];for(f=Se(8+2*(m.length+1)+(m.length%2?0:2)),f.write_shift(4,c+2),f.write_shift(4,m.length+1),f.write_shift(0,m,"dbcs");f.l!=f.length;)f.write_shift(1,0);d.push(f)}f=ln(d),s.unshift(f),l+=8+f.length}for(c=0;c<r.length;++c)if(!(e&&!e[r[c][0]])&&!(GA.indexOf(r[c][0])>-1||VA.indexOf(r[c][0])>-1)&&r[c][1]!=null){var g=r[c][1],x=0;if(e){x=+e[r[c][0]];var b=t[x];if(b.p=="version"&&typeof g=="string"){var S=g.split(".");g=(+S[0]<<16)+(+S[1]||0)}f=lw(b.t,g)}else{var w=DB(g);w==-1&&(w=31,g=String(g)),f=lw(w,g)}s.push(f),h=Se(8),h.write_shift(4,e?x:2+c),i.push(h),l+=8+f.length}var T=8*(s.length+1);for(c=0;c<s.length;++c)i[c].write_shift(4,T),T+=s[c].length;return n.write_shift(4,l),n.write_shift(4,s.length),ln([n].concat(i).concat(s))}function cw(r,e,t,n,i,s){var l=Se(i?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,Zt.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,i?68:48);var f=ow(r,t,n);if(c.push(f),i){var h=ow(i,null,null);l.write_shift(16,s,"hex"),l.write_shift(4,68+f.length),c.push(h)}return ln(c)}function kB(r,e){e||(e=Se(r));for(var t=0;t<r;++t)e.write_shift(1,0);return e}function OB(r,e){return r.read_shift(e)===1}function An(r,e){return e||(e=Se(2)),e.write_shift(2,+!!r),e}function $A(r){return r.read_shift(2,"u")}function Ai(r,e){return e||(e=Se(2)),e.write_shift(2,r),e}function XA(r,e,t){return t||(t=Se(2)),t.write_shift(1,e=="e"?+r:+!!r),t.write_shift(1,e=="e"?1:0),t}function YA(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=r.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var l=n?r.read_shift(n,i):"";return l}function BB(r){var e=r.t||"",t=Se(3);t.write_shift(2,e.length),t.write_shift(1,1);var n=Se(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[t,n];return ln(i)}function NB(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function RB(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):NB(r,n,t)}function FB(r,e,t){if(t.biff>5)return RB(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function KA(r,e,t){return t||(t=Se(3+2*r.length)),t.write_shift(2,r.length),t.write_shift(1,1),t.write_shift(31,r,"utf16le"),t}function fw(r,e){e||(e=Se(6+r.length*2)),e.write_shift(4,1+r.length);for(var t=0;t<r.length;++t)e.write_shift(2,r.charCodeAt(t));return e.write_shift(2,0),e}function MB(r){var e=Se(512),t=0,n=r.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var l=[8,6815827,6619237,4849780,83];for(t=0;t<l.length;++t)e.write_shift(4,l[t]);if(s==28)n=n.slice(1),fw(n,e);else if(s&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));var c=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(c.length+1)),t=0;t<c.length;++t)e.write_shift(2,c.charCodeAt(t));e.write_shift(2,0),s&8&&fw(i>-1?n.slice(i+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));for(var f=0;n.slice(f*3,f*3+3)=="../"||n.slice(f*3,f*3+3)=="..\\";)++f;for(e.write_shift(2,f),e.write_shift(4,n.length-3*f+1),t=0;t<n.length-3*f;++t)e.write_shift(1,n.charCodeAt(t+3*f)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function Cl(r,e,t,n){return n||(n=Se(6)),n.write_shift(2,r),n.write_shift(2,e),n.write_shift(2,t||0),n}function LB(r,e,t){var n=t.biff>8?4:2,i=r.read_shift(n),s=r.read_shift(n,"i"),l=r.read_shift(n,"i");return[i,s,l]}function IB(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:e},e:{c:i,r:t}}}function QA(r,e){return e||(e=Se(8)),e.write_shift(2,r.s.r),e.write_shift(2,r.e.r),e.write_shift(2,r.s.c),e.write_shift(2,r.e.c),e}function av(r,e,t){var n=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Se(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function PB(r,e){var t=!e||e.biff==8,n=Se(t?112:54);for(n.write_shift(e.biff==8?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}function jB(r,e){var t=!e||e.biff>=8?2:1,n=Se(8+t*r.name.length);n.write_shift(4,r.pos),n.write_shift(1,r.hs||0),n.write_shift(1,r.dt),n.write_shift(1,r.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(t*r.name.length,r.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function zB(r,e){var t=Se(8);t.write_shift(4,r.Count),t.write_shift(4,r.Unique);for(var n=[],i=0;i<r.length;++i)n[i]=BB(r[i]);var s=ln([t].concat(n));return s.parts=[t.length].concat(n.map(function(l){return l.length})),s}function HB(){var r=Se(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function UB(r){var e=Se(18),t=1718;return r&&r.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function VB(r,e){var t=r.name||"Arial",n=e&&e.biff==5,i=n?15+t.length:16+2*t.length,s=Se(i);return s.write_shift(2,r.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),s}function qB(r,e,t,n){var i=Se(10);return Cl(r,e,n,i),i.write_shift(4,t),i}function WB(r,e,t,n,i){var s=!i||i.biff==8,l=Se(8+ +s+(1+s)*t.length);return Cl(r,e,n,l),l.write_shift(2,t.length),s&&l.write_shift(1,1),l.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),l}function GB(r,e,t,n){var i=t&&t.biff==5;n||(n=Se(i?3+e.length:5+2*e.length)),n.write_shift(2,r),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function $B(r,e){var t=e.biff==8||!e.biff?4:2,n=Se(2*t+6);return n.write_shift(t,r.s.r),n.write_shift(t,r.e.r+1),n.write_shift(2,r.s.c),n.write_shift(2,r.e.c+1),n.write_shift(2,0),n}function uw(r,e,t,n){var i=t&&t.biff==5;n||(n=Se(i?16:20)),n.write_shift(2,0),r.style?(n.write_shift(2,r.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,r.numFmtId||0),n.write_shift(2,e<<4));var s=0;return r.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function XB(r){var e=Se(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function YB(r,e,t,n,i,s){var l=Se(8);return Cl(r,e,n,l),XA(t,s,l),l}function KB(r,e,t,n){var i=Se(14);return Cl(r,e,n,i),El(t,i),i}function QB(r,e,t){if(t.biff<8)return ZB(r,e,t);for(var n=[],i=r.l+e,s=r.read_shift(t.biff>8?4:2);s--!==0;)n.push(LB(r,t.biff>8?12:6,t));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function ZB(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=YA(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function JB(r){var e=Se(2+r.length*8);e.write_shift(2,r.length);for(var t=0;t<r.length;++t)QA(r[t],e);return e}function eN(r){var e=Se(24),t=Xr(r[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return ln([e,MB(r[1])])}function tN(r){var e=r[1].Tooltip,t=Se(10+2*(e.length+1));t.write_shift(2,2048);var n=Xr(r[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function rN(r){return r||(r=Se(4)),r.write_shift(2,1),r.write_shift(2,1),r}function nN(r,e,t){if(!t.cellStyles)return ps(r,e);var n=t&&t.biff>=12?4:2,i=r.read_shift(n),s=r.read_shift(n),l=r.read_shift(n),c=r.read_shift(n),f=r.read_shift(2);n==2&&(r.l+=2);var h={s:i,e:s,w:l,ixfe:c,flags:f};return(t.biff>=5||!t.biff)&&(h.level=f>>8&7),h}function iN(r,e){var t=Se(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,r.width*256),t.write_shift(2,0);var n=0;return r.hidden&&(n|=1),t.write_shift(1,n),n=r.level||0,t.write_shift(1,n),t.write_shift(2,0),t}function sN(r){for(var e=Se(2*r),t=0;t<r;++t)e.write_shift(2,t+1);return e}function aN(r,e,t){var n=Se(15);return sf(n,r,e),n.write_shift(8,t,"f"),n}function lN(r,e,t){var n=Se(9);return sf(n,r,e),n.write_shift(2,t),n}var oN=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Y1({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(c,f){var h=[],d=wl(1);switch(f.type){case"base64":d=zi(Ws(c));break;case"binary":d=zi(c);break;case"buffer":case"array":d=c;break}ai(d,0);var m=d.read_shift(1),g=!!(m&136),x=!1,b=!1;switch(m){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var S=0,w=521;m==2&&(S=d.read_shift(2)),d.l+=3,m!=2&&(S=d.read_shift(4)),S>1048576&&(S=1e6),m!=2&&(w=d.read_shift(2));var T=d.read_shift(2),A=f.codepage||1252;m!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(A=r[d[d.l]]),d.l+=1,d.l+=2),b&&(d.l+=36);for(var E=[],_={},B=Math.min(d.length,m==2?521:w-10-(x?264:0)),F=b?32:11;d.l<B&&d[d.l]!=13;)switch(_={},_.name=ld.utils.decode(A,d.slice(d.l,d.l+F)).replace(/[\u0000\r\n].*$/g,""),d.l+=F,_.type=String.fromCharCode(d.read_shift(1)),m!=2&&!b&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),m==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&E.push(_),m!=2&&(d.l+=b?13:14),_.type){case"B":(!x||_.len!=8)&&f.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=w-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=w;var O=0,H=0;for(h[0]=[],H=0;H!=E.length;++H)h[0][H]=E[H].name;for(;S-- >0;){if(d[d.l]===42){d.l+=T;continue}for(++d.l,h[++O]=[],H=0,H=0;H!=E.length;++H){var N=d.slice(d.l,d.l+E[H].len);d.l+=E[H].len,ai(N,0);var I=ld.utils.decode(A,N);switch(E[H].type){case"C":I.trim().length&&(h[O][H]=I.replace(/\s+$/,""));break;case"D":I.length===8?h[O][H]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):h[O][H]=I;break;case"F":h[O][H]=parseFloat(I.trim());break;case"+":case"I":h[O][H]=b?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":h[O][H]=!0;break;case"N":case"F":h[O][H]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));h[O][H]="##MEMO##"+(b?parseInt(I.trim(),10):N.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(h[O][H]=+I||0);break;case"@":h[O][H]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":h[O][H]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":h[O][H]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[O][H]=-N.read_shift(-8,"f");break;case"B":if(x&&E[H].len==8){h[O][H]=N.read_shift(8,"f");break}case"G":case"P":N.l+=E[H].len;break;case"0":if(E[H].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[H].type)}}}if(m!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return f&&f.sheetRows&&(h=h.slice(0,f.sheetRows)),f.DBF=E,h}function n(c,f){var h=f||{};h.dateNF||(h.dateNF="yyyymmdd");var d=Qo(t(c,h),h);return d["!cols"]=h.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete h.DBF,d}function i(c,f){try{return Nl(n(c,f),f)}catch(h){if(f&&f.WTF)throw h}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,f){var h=f||{};if(+h.codepage>=0&&A0(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var d=qn(),m=bd(c,{header:1,raw:!0,cellDates:!0}),g=m[0],x=m.slice(1),b=c["!cols"]||[],S=0,w=0,T=0,A=1;for(S=0;S<g.length;++S){if(((b[S]||{}).DBF||{}).name){g[S]=b[S].DBF.name,++T;continue}if(g[S]!=null){if(++T,typeof g[S]=="number"&&(g[S]=g[S].toString(10)),typeof g[S]!="string")throw new Error("DBF Invalid column name "+g[S]+" |"+typeof g[S]+"|");if(g.indexOf(g[S])!==S){for(w=0;w<1024;++w)if(g.indexOf(g[S]+"_"+w)==-1){g[S]+="_"+w;break}}}}var E=dr(c["!ref"]),_=[],B=[],F=[];for(S=0;S<=E.e.c-E.s.c;++S){var O="",H="",N=0,I=[];for(w=0;w<x.length;++w)x[w][S]!=null&&I.push(x[w][S]);if(I.length==0||g[S]==null){_[S]="?";continue}for(w=0;w<I.length;++w){switch(typeof I[w]){case"number":H="B";break;case"string":H="C";break;case"boolean":H="L";break;case"object":H=I[w]instanceof Date?"D":"C";break;default:H="C"}N=Math.max(N,String(I[w]).length),O=O&&O!=H?"C":H}N>250&&(N=250),H=((b[S]||{}).DBF||{}).type,H=="C"&&b[S].DBF.len>N&&(N=b[S].DBF.len),O=="B"&&H=="N"&&(O="N",F[S]=b[S].DBF.dec,N=b[S].DBF.len),B[S]=O=="C"||H=="N"?N:s[O]||0,A+=B[S],_[S]=O}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,x.length),P.write_shift(2,296+32*T),P.write_shift(2,A),S=0;S<4;++S)P.write_shift(4,0);for(P.write_shift(4,0|(+e[JC]||3)<<8),S=0,w=0;S<g.length;++S)if(g[S]!=null){var q=d.next(32),K=(g[S].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);q.write_shift(1,K,"sbcs"),q.write_shift(1,_[S]=="?"?"C":_[S],"sbcs"),q.write_shift(4,w),q.write_shift(1,B[S]||s[_[S]]||0),q.write_shift(1,F[S]||0),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(1,0),q.write_shift(4,0),q.write_shift(4,0),w+=B[S]||s[_[S]]||0}var ie=d.next(264);for(ie.write_shift(4,13),S=0;S<65;++S)ie.write_shift(4,0);for(S=0;S<x.length;++S){var le=d.next(A);for(le.write_shift(1,0),w=0;w<g.length;++w)if(g[w]!=null)switch(_[w]){case"L":le.write_shift(1,x[S][w]==null?63:x[S][w]?84:70);break;case"B":le.write_shift(8,x[S][w]||0,"f");break;case"N":var Z="0";for(typeof x[S][w]=="number"&&(Z=x[S][w].toFixed(F[w]||0)),T=0;T<B[w]-Z.length;++T)le.write_shift(1,32);le.write_shift(1,Z,"sbcs");break;case"D":x[S][w]?(le.write_shift(4,("0000"+x[S][w].getFullYear()).slice(-4),"sbcs"),le.write_shift(2,("00"+(x[S][w].getMonth()+1)).slice(-2),"sbcs"),le.write_shift(2,("00"+x[S][w].getDate()).slice(-2),"sbcs")):le.write_shift(8,"00000000","sbcs");break;case"C":var ne=String(x[S][w]!=null?x[S][w]:"").slice(0,B[w]);for(le.write_shift(1,ne,"sbcs"),T=0;T<B[w]-ne.length;++T)le.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:n,from_sheet:l}})(),cN=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+un(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(g,x){var b=r[x];return typeof b=="number"?M4(b):b},n=function(g,x,b){var S=x.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return S==59?g:M4(S)};r["|"]=254;function i(g,x){switch(x.type){case"base64":return s(Ws(g),x);case"binary":return s(g,x);case"buffer":return s(Pt&&Buffer.isBuffer(g)?g.toString("binary"):J0(g),x);case"array":return s(sp(g),x)}throw new Error("Unrecognized type "+x.type)}function s(g,x){var b=g.split(/[\n\r]+/),S=-1,w=-1,T=0,A=0,E=[],_=[],B=null,F={},O=[],H=[],N=[],I=0,P;for(+x.codepage>=0&&A0(+x.codepage);T!==b.length;++T){I=0;var q=b[T].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),K=q.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),ie=K[0],le;if(q.length>0)switch(ie){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":K[1].charAt(0)=="P"&&_.push(q.slice(3).replace(/;;/g,";"));break;case"C":var Z=!1,ne=!1,ve=!1,Ee=!1,Ne=-1,j=-1;for(A=1;A<K.length;++A)switch(K[A].charAt(0)){case"A":break;case"X":w=parseInt(K[A].slice(1))-1,ne=!0;break;case"Y":for(S=parseInt(K[A].slice(1))-1,ne||(w=0),P=E.length;P<=S;++P)E[P]=[];break;case"K":le=K[A].slice(1),le.charAt(0)==='"'?le=le.slice(1,le.length-1):le==="TRUE"?le=!0:le==="FALSE"?le=!1:isNaN(Us(le))?isNaN(_0(le).getDate())||(le=Dn(le)):(le=Us(le),B!==null&&uA(B)&&(le=mA(le))),Z=!0;break;case"E":Ee=!0;var D=lR(K[A].slice(1),{r:S,c:w});E[S][w]=[E[S][w],D];break;case"S":ve=!0,E[S][w]=[E[S][w],"S5S"];break;case"G":break;case"R":Ne=parseInt(K[A].slice(1))-1;break;case"C":j=parseInt(K[A].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+q)}if(Z&&(E[S][w]&&E[S][w].length==2?E[S][w][0]=le:E[S][w]=le,B=null),ve){if(Ee)throw new Error("SYLK shared formula cannot have own formula");var M=Ne>-1&&E[Ne][j];if(!M||!M[1])throw new Error("SYLK shared formula cannot find base");E[S][w][1]=oR(M[1],{r:S-Ne,c:w-j})}break;case"F":var R=0;for(A=1;A<K.length;++A)switch(K[A].charAt(0)){case"X":w=parseInt(K[A].slice(1))-1,++R;break;case"Y":for(S=parseInt(K[A].slice(1))-1,P=E.length;P<=S;++P)E[P]=[];break;case"M":I=parseInt(K[A].slice(1))/20;break;case"F":break;case"G":break;case"P":B=_[parseInt(K[A].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=K[A].slice(1).split(" "),P=parseInt(N[0],10);P<=parseInt(N[1],10);++P)I=parseInt(N[2],10),H[P-1]=I===0?{hidden:!0}:{wch:I},lv(H[P-1]);break;case"C":w=parseInt(K[A].slice(1))-1,H[w]||(H[w]={});break;case"R":S=parseInt(K[A].slice(1))-1,O[S]||(O[S]={}),I>0?(O[S].hpt=I,O[S].hpx=r3(I)):I===0&&(O[S].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+q)}R<1&&(B=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+q)}}return O.length>0&&(F["!rows"]=O),H.length>0&&(F["!cols"]=H),x&&x.sheetRows&&(E=E.slice(0,x.sheetRows)),[E,F]}function l(g,x){var b=i(g,x),S=b[0],w=b[1],T=Qo(S,x);return un(w).forEach(function(A){T[A]=w[A]}),T}function c(g,x){return Nl(l(g,x),x)}function f(g,x,b,S){var w="C;Y"+(b+1)+";X"+(S+1)+";K";switch(g.t){case"n":w+=g.v||0,g.f&&!g.F&&(w+=";E"+cv(g.f,{r:b,c:S}));break;case"b":w+=g.v?"TRUE":"FALSE";break;case"e":w+=g.w||g.v;break;case"d":w+='"'+(g.w||g.v)+'"';break;case"s":w+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function h(g,x){x.forEach(function(b,S){var w="F;W"+(S+1)+" "+(S+1)+" ";b.hidden?w+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=gd(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=xd(b.wpx)),typeof b.wch=="number"&&(w+=Math.round(b.wch))),w.charAt(w.length-1)!=" "&&g.push(w)})}function d(g,x){x.forEach(function(b,S){var w="F;";b.hidden?w+="M0;":b.hpt?w+="M"+20*b.hpt+";":b.hpx&&(w+="M"+20*vd(b.hpx)+";"),w.length>2&&g.push(w+"R"+(S+1))})}function m(g,x){var b=["ID;PWXL;N;E"],S=[],w=dr(g["!ref"]),T,A=Array.isArray(g),E=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),g["!cols"]&&h(b,g["!cols"]),g["!rows"]&&d(b,g["!rows"]),b.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var _=w.s.r;_<=w.e.r;++_)for(var B=w.s.c;B<=w.e.c;++B){var F=Wt({r:_,c:B});T=A?(g[_]||[])[B]:g[F],!(!T||T.v==null&&(!T.f||T.F))&&S.push(f(T,g,_,B))}return b.join(E)+E+S.join(E)+E+"E"+E}return{to_workbook:c,to_sheet:l,from_sheet:m}})(),fN=(function(){function r(s,l){switch(l.type){case"base64":return e(Ws(s),l);case"binary":return e(s,l);case"buffer":return e(Pt&&Buffer.isBuffer(s)?s.toString("binary"):J0(s),l);case"array":return e(sp(s),l)}throw new Error("Unrecognized type "+l.type)}function e(s,l){for(var c=s.split(`
`),f=-1,h=-1,d=0,m=[];d!==c.length;++d){if(c[d].trim()==="BOT"){m[++f]=[],h=0;continue}if(!(f<0)){var g=c[d].trim().split(","),x=g[0],b=g[1];++d;for(var S=c[d]||"";(S.match(/["]/g)||[]).length&1&&d<c.length-1;)S+=`
`+c[++d];switch(S=S.trim(),+x){case-1:if(S==="BOT"){m[++f]=[],h=0;continue}else if(S!=="EOD")throw new Error("Unrecognized DIF special command "+S);break;case 0:S==="TRUE"?m[f][h]=!0:S==="FALSE"?m[f][h]=!1:isNaN(Us(b))?isNaN(_0(b).getDate())?m[f][h]=b:m[f][h]=Dn(b):m[f][h]=Us(b),++h;break;case 1:S=S.slice(1,S.length-1),S=S.replace(/""/g,'"'),S&&S.match(/^=".*"$/)&&(S=S.slice(2,-1)),m[f][h++]=S!==""?S:null;break}if(S==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function t(s,l){return Qo(r(s,l),l)}function n(s,l){return Nl(t(s,l),l)}var i=(function(){var s=function(f,h,d,m,g){f.push(h),f.push(d+","+m),f.push('"'+g.replace(/"/g,'""')+'"')},l=function(f,h,d,m){f.push(h+","+d),f.push(h==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(f){var h=[],d=dr(f["!ref"]),m,g=Array.isArray(f);s(h,"TABLE",0,1,"sheetjs"),s(h,"VECTORS",0,d.e.r-d.s.r+1,""),s(h,"TUPLES",0,d.e.c-d.s.c+1,""),s(h,"DATA",0,0,"");for(var x=d.s.r;x<=d.e.r;++x){l(h,-1,0,"BOT");for(var b=d.s.c;b<=d.e.c;++b){var S=Wt({r:x,c:b});if(m=g?(f[x]||[])[b]:f[S],!m){l(h,1,0,"");continue}switch(m.t){case"n":var w=m.w;!w&&m.v!=null&&(w=m.v),w==null?m.f&&!m.F?l(h,1,0,"="+m.f):l(h,1,0,""):l(h,0,w,"V");break;case"b":l(h,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(h,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=Ra(m.z||wr[14],Wn(Dn(m.v)))),l(h,0,m.w,"V");break;default:l(h,1,0,"")}}}l(h,-1,0,"EOD");var T=`\r
`,A=h.join(T);return A}})();return{to_workbook:n,to_sheet:t,from_sheet:i}})(),ZA=(function(){function r(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(m,g){for(var x=m.split(`
`),b=-1,S=-1,w=0,T=[];w!==x.length;++w){var A=x[w].trim().split(":");if(A[0]==="cell"){var E=Xr(A[1]);if(T.length<=E.r)for(b=T.length;b<=E.r;++b)T[b]||(T[b]=[]);switch(b=E.r,S=E.c,A[2]){case"t":T[b][S]=r(A[3]);break;case"v":T[b][S]=+A[3];break;case"vtf":var _=A[A.length-1];case"vtc":switch(A[3]){case"nl":T[b][S]=!!+A[4];break;default:T[b][S]=+A[4];break}A[2]=="vtf"&&(T[b][S]=[T[b][S],_])}}}return g&&g.sheetRows&&(T=T.slice(0,g.sheetRows)),T}function n(m,g){return Qo(t(m,g),g)}function i(m,g){return Nl(n(m,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function h(m){if(!m||!m["!ref"])return"";for(var g=[],x=[],b,S="",w=fi(m["!ref"]),T=Array.isArray(m),A=w.s.r;A<=w.e.r;++A)for(var E=w.s.c;E<=w.e.c;++E)if(S=Wt({r:A,c:E}),b=T?(m[A]||[])[E]:m[S],!(!b||b.v==null||b.t==="z")){switch(x=["cell",S,"t"],b.t){case"s":case"str":x.push(e(b.v));break;case"n":b.f?(x[2]="vtf",x[3]="n",x[4]=b.v,x[5]=e(b.f)):(x[2]="v",x[3]=b.v);break;case"b":x[2]="vt"+(b.f?"f":"c"),x[3]="nl",x[4]=b.v?"1":"0",x[5]=e(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var _=Wn(Dn(b.v));x[2]="vtc",x[3]="nd",x[4]=""+_,x[5]=b.w||Ra(b.z||wr[14],_);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function d(m){return[s,l,c,l,h(m),f].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:d}})(),uN=(function(){function r(d,m,g,x,b){b.raw?m[g][x]=d:d===""||(d==="TRUE"?m[g][x]=!0:d==="FALSE"?m[g][x]=!1:isNaN(Us(d))?isNaN(_0(d).getDate())?m[g][x]=d:m[g][x]=Dn(d):m[g][x]=Us(d))}function e(d,m){var g=m||{},x=[];if(!d||d.length===0)return x;for(var b=d.split(/[\r\n]/),S=b.length-1;S>=0&&b[S].length===0;)--S;for(var w=10,T=0,A=0;A<=S;++A)T=b[A].indexOf(" "),T==-1?T=b[A].length:T++,w=Math.max(w,T);for(A=0;A<=S;++A){x[A]=[];var E=0;for(r(b[A].slice(0,w).trim(),x,A,E,g),E=1;E<=(b[A].length-w)/10+1;++E)r(b[A].slice(w+(E-1)*10,w+E*10).trim(),x,A,E,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(d){for(var m={},g=!1,x=0,b=0;x<d.length;++x)(b=d.charCodeAt(x))==34?g=!g:!g&&b in t&&(m[b]=(m[b]||0)+1);b=[];for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([m[x],x]);if(!b.length){m=n;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([m[x],x])}return b.sort(function(S,w){return S[0]-w[0]||n[S[1]]-n[w[1]]}),t[b.pop()[1]]||44}function s(d,m){var g=m||{},x="",b=g.dense?[]:{},S={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(x=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(x=d.charAt(4),d=d.slice(6)):x=i(d.slice(0,1024)):g&&g.FS?x=g.FS:x=i(d.slice(0,1024));var w=0,T=0,A=0,E=0,_=0,B=x.charCodeAt(0),F=!1,O=0,H=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var N=g.dateNF!=null?_O(g.dateNF):null;function I(){var P=d.slice(E,_),q={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)q.t="z";else if(g.raw)q.t="s",q.v=P;else if(P.trim().length===0)q.t="s",q.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(q.t="s",q.v=P.slice(2,-1).replace(/""/g,'"')):cR(P)?(q.t="n",q.f=P.slice(1)):(q.t="s",q.v=P);else if(P=="TRUE")q.t="b",q.v=!0;else if(P=="FALSE")q.t="b",q.v=!1;else if(!isNaN(A=Us(P)))q.t="n",g.cellText!==!1&&(q.w=P),q.v=A;else if(!isNaN(_0(P).getDate())||N&&P.match(N)){q.z=g.dateNF||wr[14];var K=0;N&&P.match(N)&&(P=DO(P,g.dateNF,P.match(N)||[]),K=1),g.cellDates?(q.t="d",q.v=Dn(P,K)):(q.t="n",q.v=Wn(Dn(P,K))),g.cellText!==!1&&(q.w=Ra(q.z,q.v instanceof Date?Wn(q.v):q.v)),g.cellNF||delete q.z}else q.t="s",q.v=P;if(q.t=="z"||(g.dense?(b[w]||(b[w]=[]),b[w][T]=q):b[Wt({c:T,r:w})]=q),E=_+1,H=d.charCodeAt(E),S.e.c<T&&(S.e.c=T),S.e.r<w&&(S.e.r=w),O==B)++T;else if(T=0,++w,g.sheetRows&&g.sheetRows<=w)return!0}e:for(;_<d.length;++_)switch(O=d.charCodeAt(_)){case 34:H===34&&(F=!F);break;case B:case 10:case 13:if(!F&&I())break e;break}return _-E>0&&I(),b["!ref"]=Lr(S),b}function l(d,m){return!(m&&m.PRN)||m.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,m):Qo(e(d,m),m)}function c(d,m){var g="",x=m.type=="string"?[0,0,0,0]:EM(d,m);switch(m.type){case"base64":g=Ws(d);break;case"binary":g=d;break;case"buffer":m.codepage==65001?g=d.toString("utf8"):m.codepage&&typeof ld<"u"||(g=Pt&&Buffer.isBuffer(d)?d.toString("binary"):J0(d));break;case"array":g=sp(d);break;case"string":g=d;break;default:throw new Error("Unrecognized type "+m.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=c0(g.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?g=c0(g):m.type=="binary"&&typeof ld<"u",g.slice(0,19)=="socialcalc:version:"?ZA.to_sheet(m.type=="string"?g:c0(g),m):l(g,m)}function f(d,m){return Nl(c(d,m),m)}function h(d){for(var m=[],g=dr(d["!ref"]),x,b=Array.isArray(d),S=g.s.r;S<=g.e.r;++S){for(var w=[],T=g.s.c;T<=g.e.c;++T){var A=Wt({r:S,c:T});if(x=b?(d[S]||[])[T]:d[A],!x||x.v==null){w.push("          ");continue}for(var E=(x.w||(Gs(x),x.w)||"").slice(0,10);E.length<10;)E+=" ";w.push(E+(T===0?" ":""))}m.push(w.join(""))}return m.join(`
`)}return{to_workbook:f,to_sheet:c,from_sheet:h}})(),hw=(function(){function r(D,M,R){if(D){ai(D,D.l||0);for(var W=R.Enum||Ne;D.l<D.length;){var ee=D.read_shift(2),ye=W[ee]||W[65535],xe=D.read_shift(2),Te=D.l+xe,be=ye.f&&ye.f(D,xe,R);if(D.l=Te,M(be,ye,ee))return}}}function e(D,M){switch(M.type){case"base64":return t(zi(Ws(D)),M);case"binary":return t(zi(D),M);case"buffer":case"array":return t(D,M)}throw"Unsupported type "+M.type}function t(D,M){if(!D)return D;var R=M||{},W=R.dense?[]:{},ee="Sheet1",ye="",xe=0,Te={},be=[],tt=[],Ke={s:{r:0,c:0},e:{r:0,c:0}},ct=R.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)R.Enum=Ne,r(D,function(De,ot,St){switch(St){case 0:R.vers=De,De>=4096&&(R.qpro=!0);break;case 6:Ke=De;break;case 204:De&&(ye=De);break;case 222:ye=De;break;case 15:case 51:R.qpro||(De[1].v=De[1].v.slice(1));case 13:case 14:case 16:St==14&&(De[2]&112)==112&&(De[2]&15)>1&&(De[2]&15)<15&&(De[1].z=R.dateNF||wr[14],R.cellDates&&(De[1].t="d",De[1].v=mA(De[1].v))),R.qpro&&De[3]>xe&&(W["!ref"]=Lr(Ke),Te[ee]=W,be.push(ee),W=R.dense?[]:{},Ke={s:{r:0,c:0},e:{r:0,c:0}},xe=De[3],ee=ye||"Sheet"+(xe+1),ye="");var jt=R.dense?(W[De[0].r]||[])[De[0].c]:W[Wt(De[0])];if(jt){jt.t=De[1].t,jt.v=De[1].v,De[1].z!=null&&(jt.z=De[1].z),De[1].f!=null&&(jt.f=De[1].f);break}R.dense?(W[De[0].r]||(W[De[0].r]=[]),W[De[0].r][De[0].c]=De[1]):W[Wt(De[0])]=De[1];break}},R);else if(D[2]==26||D[2]==14)R.Enum=j,D[2]==14&&(R.qpro=!0,D.l=0),r(D,function(De,ot,St){switch(St){case 204:ee=De;break;case 22:De[1].v=De[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(De[3]>xe&&(W["!ref"]=Lr(Ke),Te[ee]=W,be.push(ee),W=R.dense?[]:{},Ke={s:{r:0,c:0},e:{r:0,c:0}},xe=De[3],ee="Sheet"+(xe+1)),ct>0&&De[0].r>=ct)break;R.dense?(W[De[0].r]||(W[De[0].r]=[]),W[De[0].r][De[0].c]=De[1]):W[Wt(De[0])]=De[1],Ke.e.c<De[0].c&&(Ke.e.c=De[0].c),Ke.e.r<De[0].r&&(Ke.e.r=De[0].r);break;case 27:De[14e3]&&(tt[De[14e3][0]]=De[14e3][1]);break;case 1537:tt[De[0]]=De[1],De[0]==xe&&(ee=De[1]);break}},R);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(W["!ref"]=Lr(Ke),Te[ye||ee]=W,be.push(ye||ee),!tt.length)return{SheetNames:be,Sheets:Te};for(var Ce={},Ye=[],$e=0;$e<tt.length;++$e)Te[be[$e]]?(Ye.push(tt[$e]||be[$e]),Ce[tt[$e]]=Te[tt[$e]]||Te[be[$e]]):(Ye.push(tt[$e]),Ce[tt[$e]]={"!ref":"A1"});return{SheetNames:Ye,Sheets:Ce}}function n(D,M){var R=M||{};if(+R.codepage>=0&&A0(+R.codepage),R.type=="string")throw new Error("Cannot write WK1 to JS string");var W=qn(),ee=dr(D["!ref"]),ye=Array.isArray(D),xe=[];ze(W,0,s(1030)),ze(W,6,f(ee));for(var Te=Math.min(ee.e.r,8191),be=ee.s.r;be<=Te;++be)for(var tt=fn(be),Ke=ee.s.c;Ke<=ee.e.c;++Ke){be===ee.s.r&&(xe[Ke]=yn(Ke));var ct=xe[Ke]+tt,Ce=ye?(D[be]||[])[Ke]:D[ct];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?ze(W,13,x(be,Ke,Ce.v)):ze(W,14,S(be,Ke,Ce.v));else{var Ye=Gs(Ce);ze(W,15,m(be,Ke,Ye.slice(0,239)))}}return ze(W,1),W.end()}function i(D,M){var R=M||{};if(+R.codepage>=0&&A0(+R.codepage),R.type=="string")throw new Error("Cannot write WK3 to JS string");var W=qn();ze(W,0,l(D));for(var ee=0,ye=0;ee<D.SheetNames.length;++ee)(D.Sheets[D.SheetNames[ee]]||{})["!ref"]&&ze(W,27,Ee(D.SheetNames[ee],ye++));var xe=0;for(ee=0;ee<D.SheetNames.length;++ee){var Te=D.Sheets[D.SheetNames[ee]];if(!(!Te||!Te["!ref"])){for(var be=dr(Te["!ref"]),tt=Array.isArray(Te),Ke=[],ct=Math.min(be.e.r,8191),Ce=be.s.r;Ce<=ct;++Ce)for(var Ye=fn(Ce),$e=be.s.c;$e<=be.e.c;++$e){Ce===be.s.r&&(Ke[$e]=yn($e));var De=Ke[$e]+Ye,ot=tt?(Te[Ce]||[])[$e]:Te[De];if(!(!ot||ot.t=="z"))if(ot.t=="n")ze(W,23,I(Ce,$e,xe,ot.v));else{var St=Gs(ot);ze(W,22,O(Ce,$e,xe,St.slice(0,239)))}}++xe}}return ze(W,1),W.end()}function s(D){var M=Se(2);return M.write_shift(2,D),M}function l(D){var M=Se(26);M.write_shift(2,4096),M.write_shift(2,4),M.write_shift(4,0);for(var R=0,W=0,ee=0,ye=0;ye<D.SheetNames.length;++ye){var xe=D.SheetNames[ye],Te=D.Sheets[xe];if(!(!Te||!Te["!ref"])){++ee;var be=fi(Te["!ref"]);R<be.e.r&&(R=be.e.r),W<be.e.c&&(W=be.e.c)}}return R>8191&&(R=8191),M.write_shift(2,R),M.write_shift(1,ee),M.write_shift(1,W),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(1,1),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(4,0),M}function c(D,M,R){var W={s:{c:0,r:0},e:{c:0,r:0}};return M==8&&R.qpro?(W.s.c=D.read_shift(1),D.l++,W.s.r=D.read_shift(2),W.e.c=D.read_shift(1),D.l++,W.e.r=D.read_shift(2),W):(W.s.c=D.read_shift(2),W.s.r=D.read_shift(2),M==12&&R.qpro&&(D.l+=2),W.e.c=D.read_shift(2),W.e.r=D.read_shift(2),M==12&&R.qpro&&(D.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function f(D){var M=Se(8);return M.write_shift(2,D.s.c),M.write_shift(2,D.s.r),M.write_shift(2,D.e.c),M.write_shift(2,D.e.r),M}function h(D,M,R){var W=[{c:0,r:0},{t:"n",v:0},0,0];return R.qpro&&R.vers!=20768?(W[0].c=D.read_shift(1),W[3]=D.read_shift(1),W[0].r=D.read_shift(2),D.l+=2):(W[2]=D.read_shift(1),W[0].c=D.read_shift(2),W[0].r=D.read_shift(2)),W}function d(D,M,R){var W=D.l+M,ee=h(D,M,R);if(ee[1].t="s",R.vers==20768){D.l++;var ye=D.read_shift(1);return ee[1].v=D.read_shift(ye,"utf8"),ee}return R.qpro&&D.l++,ee[1].v=D.read_shift(W-D.l,"cstr"),ee}function m(D,M,R){var W=Se(7+R.length);W.write_shift(1,255),W.write_shift(2,M),W.write_shift(2,D),W.write_shift(1,39);for(var ee=0;ee<W.length;++ee){var ye=R.charCodeAt(ee);W.write_shift(1,ye>=128?95:ye)}return W.write_shift(1,0),W}function g(D,M,R){var W=h(D,M,R);return W[1].v=D.read_shift(2,"i"),W}function x(D,M,R){var W=Se(7);return W.write_shift(1,255),W.write_shift(2,M),W.write_shift(2,D),W.write_shift(2,R,"i"),W}function b(D,M,R){var W=h(D,M,R);return W[1].v=D.read_shift(8,"f"),W}function S(D,M,R){var W=Se(13);return W.write_shift(1,255),W.write_shift(2,M),W.write_shift(2,D),W.write_shift(8,R,"f"),W}function w(D,M,R){var W=D.l+M,ee=h(D,M,R);if(ee[1].v=D.read_shift(8,"f"),R.qpro)D.l=W;else{var ye=D.read_shift(2);_(D.slice(D.l,D.l+ye),ee),D.l+=ye}return ee}function T(D,M,R){var W=M&32768;return M&=-32769,M=(W?D:0)+(M>=8192?M-16384:M),(W?"":"$")+(R?yn(M):fn(M))}var A={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(D,M){ai(D,0);for(var R=[],W=0,ee="",ye="",xe="",Te="";D.l<D.length;){var be=D[D.l++];switch(be){case 0:R.push(D.read_shift(8,"f"));break;case 1:ye=T(M[0].c,D.read_shift(2),!0),ee=T(M[0].r,D.read_shift(2),!1),R.push(ye+ee);break;case 2:{var tt=T(M[0].c,D.read_shift(2),!0),Ke=T(M[0].r,D.read_shift(2),!1);ye=T(M[0].c,D.read_shift(2),!0),ee=T(M[0].r,D.read_shift(2),!1),R.push(tt+Ke+":"+ye+ee)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:R.push("("+R.pop()+")");break;case 5:R.push(D.read_shift(2));break;case 6:{for(var ct="";be=D[D.l++];)ct+=String.fromCharCode(be);R.push('"'+ct.replace(/"/g,'""')+'"')}break;case 8:R.push("-"+R.pop());break;case 23:R.push("+"+R.pop());break;case 22:R.push("NOT("+R.pop()+")");break;case 20:case 21:Te=R.pop(),xe=R.pop(),R.push(["AND","OR"][be-20]+"("+xe+","+Te+")");break;default:if(be<32&&E[be])Te=R.pop(),xe=R.pop(),R.push(xe+E[be]+Te);else if(A[be]){if(W=A[be][1],W==69&&(W=D[D.l++]),W>R.length){console.error("WK1 bad formula parse 0x"+be.toString(16)+":|"+R.join("|")+"|");return}var Ce=R.slice(-W);R.length-=W,R.push(A[be][0]+"("+Ce.join(",")+")")}else return be<=7?console.error("WK1 invalid opcode "+be.toString(16)):be<=24?console.error("WK1 unsupported op "+be.toString(16)):be<=30?console.error("WK1 invalid opcode "+be.toString(16)):be<=115?console.error("WK1 unsupported function opcode "+be.toString(16)):console.error("WK1 unrecognized opcode "+be.toString(16))}}R.length==1?M[1].f=""+R[0]:console.error("WK1 bad formula parse |"+R.join("|")+"|")}function B(D){var M=[{c:0,r:0},{t:"n",v:0},0];return M[0].r=D.read_shift(2),M[3]=D[D.l++],M[0].c=D[D.l++],M}function F(D,M){var R=B(D);return R[1].t="s",R[1].v=D.read_shift(M-4,"cstr"),R}function O(D,M,R,W){var ee=Se(6+W.length);ee.write_shift(2,D),ee.write_shift(1,R),ee.write_shift(1,M),ee.write_shift(1,39);for(var ye=0;ye<W.length;++ye){var xe=W.charCodeAt(ye);ee.write_shift(1,xe>=128?95:xe)}return ee.write_shift(1,0),ee}function H(D,M){var R=B(D);R[1].v=D.read_shift(2);var W=R[1].v>>1;if(R[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return R[1].v=W,R}function N(D,M){var R=B(D),W=D.read_shift(4),ee=D.read_shift(4),ye=D.read_shift(2);if(ye==65535)return W===0&&ee===3221225472?(R[1].t="e",R[1].v=15):W===0&&ee===3489660928?(R[1].t="e",R[1].v=42):R[1].v=0,R;var xe=ye&32768;return ye=(ye&32767)-16446,R[1].v=(1-xe*2)*(ee*Math.pow(2,ye+32)+W*Math.pow(2,ye)),R}function I(D,M,R,W){var ee=Se(14);if(ee.write_shift(2,D),ee.write_shift(1,R),ee.write_shift(1,M),W==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var ye=0,xe=0,Te=0,be=0;return W<0&&(ye=1,W=-W),xe=Math.log2(W)|0,W/=Math.pow(2,xe-31),be=W>>>0,(be&2147483648)==0&&(W/=2,++xe,be=W>>>0),W-=be,be|=2147483648,be>>>=0,W*=Math.pow(2,32),Te=W>>>0,ee.write_shift(4,Te),ee.write_shift(4,be),xe+=16383+(ye?32768:0),ee.write_shift(2,xe),ee}function P(D,M){var R=N(D);return D.l+=M-14,R}function q(D,M){var R=B(D),W=D.read_shift(4);return R[1].v=W>>6,R}function K(D,M){var R=B(D),W=D.read_shift(8,"f");return R[1].v=W,R}function ie(D,M){var R=K(D);return D.l+=M-10,R}function le(D,M){return D[D.l+M-1]==0?D.read_shift(M,"cstr"):""}function Z(D,M){var R=D[D.l++];R>M-1&&(R=M-1);for(var W="";W.length<R;)W+=String.fromCharCode(D[D.l++]);return W}function ne(D,M,R){if(!(!R.qpro||M<21)){var W=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var ee=D.read_shift(M-21,"cstr");return[W,ee]}}function ve(D,M){for(var R={},W=D.l+M;D.l<W;){var ee=D.read_shift(2);if(ee==14e3){for(R[ee]=[0,""],R[ee][0]=D.read_shift(2);D[D.l];)R[ee][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return R}function Ee(D,M){var R=Se(5+D.length);R.write_shift(2,14e3),R.write_shift(2,M);for(var W=0;W<D.length;++W){var ee=D.charCodeAt(W);R[R.l++]=ee>127?95:ee}return R[R.l++]=0,R}var Ne={0:{n:"BOF",f:$A},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:le},222:{n:"SHEETNAMELP",f:Z},65535:{n:""}},j={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:F},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:H},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ve},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:q},38:{n:"??"},39:{n:"NUMBER27",f:K},40:{n:"FORMULA28",f:ie},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:le},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ne},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})(),hN=/^\s|\s$|[\t\n\r]/;function JA(r,e){if(!e.bookSST)return"";var t=[Ir];t[t.length]=je("sst",null,{xmlns:Ko[0],count:r.Count,uniqueCount:r.Unique});for(var n=0;n!=r.length;++n)if(r[n]!=null){var i=r[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(hN)&&(s+=' xml:space="preserve"'),s+=">"+qt(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function dN(r){return[r.read_shift(4),r.read_shift(4)]}function pN(r,e){return e||(e=Se(8)),e.write_shift(4,r.Count),e.write_shift(4,r.Unique),e}var mN=sB;function gN(r){var e=qn();Re(e,159,pN(r));for(var t=0;t<r.length;++t)Re(e,19,mN(r[t]));return Re(e,160),e.end()}function xN(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function e3(r){var e=0,t,n=xN(r),i=n.length+1,s,l,c,f,h;for(t=wl(i),t[0]=n.length,s=1;s!=i;++s)t[s]=n[s-1];for(s=i-1;s>=0;--s)l=t[s],c=(e&16384)===0?0:1,f=e<<1&32767,h=c|f,e=h^l;return e^52811}var vN=(function(){function r(i,s){switch(s.type){case"base64":return e(Ws(i),s);case"binary":return e(i,s);case"buffer":return e(Pt&&Buffer.isBuffer(i)?i.toString("binary"):J0(i),s);case"array":return e(sp(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var l=s||{},c=l.dense?[]:{},f=i.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(d,m){Array.isArray(c)&&(c[m]=[]);for(var g=/\\\w+\b/g,x=0,b,S=-1;b=g.exec(d);){switch(b[0]){case"\\cell":var w=d.slice(x,g.lastIndex-b[0].length);if(w[0]==" "&&(w=w.slice(1)),++S,w.length){var T={v:w,t:"s"};Array.isArray(c)?c[m][S]=T:c[Wt({r:m,c:S})]=T}break}x=g.lastIndex}S>h.e.c&&(h.e.c=S)}),c["!ref"]=Lr(h),c}function t(i,s){return Nl(r(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],l=dr(i["!ref"]),c,f=Array.isArray(i),h=l.s.r;h<=l.e.r;++h){s.push("\\trowd\\trautofit1");for(var d=l.s.c;d<=l.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=l.s.c;d<=l.e.c;++d){var m=Wt({r:h,c:d});c=f?(i[h]||[])[d]:i[m],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(Gs(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}})();function dw(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}var yN=6,Vs=yN;function gd(r){return Math.floor((r+Math.round(128/Vs)/256)*Vs)}function xd(r){return Math.floor((r-5)/Vs*100+.5)/100}function Px(r){return Math.round((r*Vs+5)/Vs*256)/256}function lv(r){r.width?(r.wpx=gd(r.width),r.wch=xd(r.wpx),r.MDW=Vs):r.wpx?(r.wch=xd(r.wpx),r.width=Px(r.wch),r.MDW=Vs):typeof r.wch=="number"&&(r.width=Px(r.wch),r.wpx=gd(r.width),r.MDW=Vs),r.customWidth&&delete r.customWidth}var bN=96,t3=bN;function vd(r){return r*96/t3}function r3(r){return r*t3/96}function SN(r){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)r[n]!=null&&(e[e.length]=je("numFmt",null,{numFmtId:n,formatCode:qt(r[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=je("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function wN(r){var e=[];return e[e.length]=je("cellXfs",null),r.forEach(function(t){e[e.length]=je("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=je("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function n3(r,e){var t=[Ir,je("styleSheet",null,{xmlns:Ko[0],"xmlns:vt":Gr.vt})],n;return r.SSF&&(n=SN(r.SSF))!=null&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=wN(e.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function EN(r,e){var t=r.read_shift(2),n=bn(r);return[t,n]}function CN(r,e,t){t||(t=Se(6+4*e.length)),t.write_shift(2,r),Yr(e,t);var n=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),n}function AN(r,e,t){var n={};n.sz=r.read_shift(2)/20;var i=hB(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=r.read_shift(2);switch(s===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=r.read_shift(1);l!=0&&(n.underline=l);var c=r.read_shift(1);c>0&&(n.family=c);var f=r.read_shift(1);switch(f>0&&(n.charset=f),r.l++,n.color=uB(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=bn(r),n}function TN(r,e){e||(e=Se(153)),e.write_shift(2,r.sz*20),dB(r,e),e.write_shift(2,r.bold?700:400);var t=0;r.vertAlign=="superscript"?t=1:r.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,r.underline||0),e.write_shift(1,r.family||0),e.write_shift(1,r.charset||0),e.write_shift(1,0),pd(r.color,e);var n=0;return n=2,e.write_shift(1,n),Yr(r.name,e),e.length>e.l?e.slice(0,e.l):e}var _N=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Gg,DN=ps;function pw(r,e){e||(e=Se(84)),Gg||(Gg=Y1(_N));var t=Gg[r.patternType];t==null&&(t=40),e.write_shift(4,t);var n=0;if(t!=40)for(pd({auto:1},e),pd({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function kN(r,e){var t=r.l+e,n=r.read_shift(2),i=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:i}}function i3(r,e,t){t||(t=Se(16)),t.write_shift(2,e||0),t.write_shift(2,r.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var n=0;return t.write_shift(1,n),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Kc(r,e){return e||(e=Se(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var ON=ps;function BN(r,e){return e||(e=Se(51)),e.write_shift(1,0),Kc(null,e),Kc(null,e),Kc(null,e),Kc(null,e),Kc(null,e),e.length>e.l?e.slice(0,e.l):e}function NN(r,e){return e||(e=Se(52)),e.write_shift(4,r.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),dd(r.name||"",e),e.length>e.l?e.slice(0,e.l):e}function RN(r,e,t){var n=Se(2052);return n.write_shift(4,r),dd(e,n),dd(t,n),n.length>n.l?n.slice(0,n.l):n}function FN(r,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++t}),t!=0&&(Re(r,615,Vi(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Re(r,44,CN(i,e[i]))}),Re(r,616))}}function MN(r){var e=1;Re(r,611,Vi(e)),Re(r,43,TN({sz:12,color:{theme:1},name:"Calibri",family:2})),Re(r,612)}function LN(r){var e=2;Re(r,603,Vi(e)),Re(r,45,pw({patternType:"none"})),Re(r,45,pw({patternType:"gray125"})),Re(r,604)}function IN(r){var e=1;Re(r,613,Vi(e)),Re(r,46,BN()),Re(r,614)}function PN(r){var e=1;Re(r,626,Vi(e)),Re(r,47,i3({numFmtId:0},65535)),Re(r,627)}function jN(r,e){Re(r,617,Vi(e.length)),e.forEach(function(t){Re(r,47,i3(t,0))}),Re(r,618)}function zN(r){var e=1;Re(r,619,Vi(e)),Re(r,48,NN({xfId:0,name:"Normal"})),Re(r,620)}function HN(r){var e=0;Re(r,505,Vi(e)),Re(r,506)}function UN(r){var e=0;Re(r,508,RN(e,"TableStyleMedium9","PivotStyleMedium4")),Re(r,509)}function VN(r,e){var t=qn();return Re(t,278),FN(t,r.SSF),MN(t),LN(t),IN(t),PN(t),jN(t,e.cellXfs),zN(t),HN(t),UN(t),Re(t,279),t.end()}function s3(r,e){if(e&&e.themeXLSX)return e.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var t=[Ir];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function qN(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:bn(r)}}function WN(r){var e=Se(12+2*r.name.length);return e.write_shift(4,r.flags),e.write_shift(4,r.version),Yr(r.name,e),e.slice(0,e.l)}function GN(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function $N(r){var e=Se(4+8*r.length);e.write_shift(4,r.length);for(var t=0;t<r.length;++t)e.write_shift(4,r[t][0]),e.write_shift(4,r[t][1]);return e}function XN(r,e){var t=Se(8+2*e.length);return t.write_shift(4,r),Yr(e,t),t.slice(0,t.l)}function YN(r){return r.l+=4,r.read_shift(4)!=0}function KN(r,e){var t=Se(8);return t.write_shift(4,r),t.write_shift(4,1),t}function QN(){var r=qn();return Re(r,332),Re(r,334,Vi(1)),Re(r,335,WN({name:"XLDAPR",version:12e4,flags:3496657072})),Re(r,336),Re(r,339,XN(1,"XLDAPR")),Re(r,52),Re(r,35,Vi(514)),Re(r,4096,Vi(0)),Re(r,4097,Ai(1)),Re(r,36),Re(r,53),Re(r,340),Re(r,337,KN(1)),Re(r,51,$N([[1,0]])),Re(r,338),Re(r,333),r.end()}function a3(){var r=[Ir];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function ZN(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=Wt(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Ao=1024;function l3(r,e){for(var t=[21600,21600],n=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[je("xml",null,{"xmlns:v":li.v,"xmlns:o":li.o,"xmlns:x":li.x,"xmlns:mv":li.mv}).replace(/\/>/,">"),je("o:shapelayout",je("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),je("v:shapetype",[je("v:stroke",null,{joinstyle:"miter"}),je("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:n})];Ao<r*1e3;)Ao+=1e3;return e.forEach(function(s){var l=Xr(s[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var f=c.type=="gradient"?je("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=je("v:fill",f,c),d={on:"t",obscured:"t"};++Ao,i=i.concat(["<v:shape"+k0({id:"_x0000_s"+Ao,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,je("v:shadow",null,d),je("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",on("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),on("x:AutoFill","False"),on("x:Row",String(l.r)),on("x:Column",String(l.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function o3(r){var e=[Ir,je("comments",null,{xmlns:Ko[0]})],t=[];return e.push("<authors>"),r.forEach(function(n){n[1].forEach(function(i){var s=qt(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),r.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=t.indexOf("tc="+n[1][0].ID):n[1].forEach(function(f){f.a&&(i=t.indexOf(qt(f.a))),s.push(f.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(on("t",qt(s[0]||"")));else{for(var l=`Comment:
    `+s[0]+`
`,c=1;c<s.length;++c)l+=`Reply:
    `+s[c]+`
`;e.push(on("t",qt(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function JN(r,e,t){var n=[Ir,je("ThreadedComments",null,{xmlns:Gr.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(i){var s="";(i[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var f={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};c==0?s=f.id:f.parentId=s,l.ID=f.id,l.a&&(f.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),n.push(je("threadedComment",on("text",l.t||""),f))})}),n.push("</ThreadedComments>"),n.join("")}function eR(r){var e=[Ir,je("personList",null,{xmlns:Gr.TCMNT,"xmlns:x":Ko[0]}).replace(/[\/]>/,">")];return r.forEach(function(t,n){e.push(je("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function tR(r){var e={};e.iauthor=r.read_shift(4);var t=Ll(r);return e.rfx=t.s,e.ref=Wt(t.s),r.l+=16,e}function rR(r,e){return e==null&&(e=Se(36)),e.write_shift(4,r[1].iauthor),Zo(r[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var nR=bn;function iR(r){return Yr(r.slice(0,54))}function sR(r){var e=qn(),t=[];return Re(e,628),Re(e,630),r.forEach(function(n){n[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),Re(e,632,iR(i.a)))})}),Re(e,631),Re(e,633),r.forEach(function(n){n[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:Xr(n[0]),e:Xr(n[0])};Re(e,635,rR([s,i])),i.t&&i.t.length>0&&Re(e,637,lB(i)),Re(e,636),delete i.iauthor})}),Re(e,634),Re(e,629),e.end()}function aR(r,e){e.FullPaths.forEach(function(t,n){if(n!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Zt.utils.cfb_add(r,i,e.FileIndex[n].content)}})}var c3=["xlsb","xlsm","xlam","biff8","xla"],lR=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,i,s,l){var c=!1,f=!1;s.length==0?f=!0:s.charAt(0)=="["&&(f=!0,s=s.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var h=s.length>0?parseInt(s,10)|0:0,d=l.length>0?parseInt(l,10)|0:0;return c?d+=e.c:--d,f?h+=e.r:--h,i+(c?"":"$")+yn(d)+(f?"":"$")+fn(h)}return function(i,s){return e=s,i.replace(r,t)}})(),ov=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,cv=(function(){return function(e,t){return e.replace(ov,function(n,i,s,l,c,f){var h=rv(l)-(s?0:t.c),d=tv(f)-(c?0:t.r),m=d==0?"":c?d+1:"["+d+"]",g=h==0?"":s?h+1:"["+h+"]";return i+"R"+m+"C"+g})}})();function oR(r,e){return r.replace(ov,function(t,n,i,s,l,c){return n+(i=="$"?i+s:yn(rv(s)+e.c))+(l=="$"?l+c:fn(tv(c)+e.r))})}function cR(r){return r.length!=1}function Rr(r){r.l+=1}function Fa(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function f3(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return u3(r);t.biff==12&&(n=4)}var i=r.read_shift(n),s=r.read_shift(n),l=Fa(r),c=Fa(r);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function u3(r){var e=Fa(r),t=Fa(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function fR(r,e,t){if(t.biff<8)return u3(r);var n=r.read_shift(t.biff==12?4:2),i=r.read_shift(t.biff==12?4:2),s=Fa(r),l=Fa(r);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function h3(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return uR(r);var n=r.read_shift(t&&t.biff==12?4:2),i=Fa(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function uR(r){var e=Fa(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function hR(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function dR(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return pR(r);var i=r.read_shift(n>=12?4:2),s=r.read_shift(2),l=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;i>524287;)i-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:l,rRel:c}}function pR(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:n}}function mR(r,e,t){var n=(r[r.l++]&96)>>5,i=f3(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,i]}function gR(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}var l=f3(r,s,t);return[n,i,l]}function xR(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function vR(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}return r.l+=s,[n,i]}function yR(r,e,t){var n=(r[r.l++]&96)>>5,i=fR(r,e-1,t);return[n,i]}function bR(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function mw(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function SR(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(r.read_shift(t&&t.biff==2?1:2));return i}function wR(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function ER(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function CR(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function AR(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function d3(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function TR(r){return r.read_shift(2),d3(r)}function _R(r){return r.read_shift(2),d3(r)}function DR(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=h3(r,0,t);return[n,i]}function kR(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=dR(r,0,t);return[n,i]}function OR(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var s=h3(r,0,t);return[n,i,s]}function BR(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(t&&t.biff<=3?1:2);return[B7[i],g3[i],n]}function NR(r,e,t){var n=r[r.l++],i=r.read_shift(1),s=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:RR(r);return[i,(s[0]===0?g3:O7)[s[1]]]}function RR(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function FR(r,e,t){r.l+=t&&t.biff==2?3:4}function MR(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function LR(r){return r.l++,rf[r.read_shift(1)]}function IR(r){return r.l++,r.read_shift(2)}function PR(r){return r.l++,r.read_shift(1)!==0}function jR(r){return r.l++,Jo(r)}function zR(r,e,t){return r.l++,YA(r,e-1,t)}function HR(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=OB(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=rf[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=Jo(r);break;case 2:t[1]=FB(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function UR(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((t.biff==12?Ll:IB)(r));return i}function VR(r,e,t){var n=0,i=0;t.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--i==0&&(i=256));for(var s=0,l=[];s!=n&&(l[s]=[]);++s)for(var c=0;c!=i;++c)l[s][c]=HR(r,t.biff);return l}function qR(r,e,t){var n=r.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=r.read_shift(i);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,s]}function WR(r,e,t){if(t.biff==5)return GR(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),s=r.read_shift(4);return[n,i,s]}function GR(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function $R(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function XR(r,e,t){var n=r.read_shift(1)>>>5&3,i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function YR(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function KR(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return r.l+=s,[n,i]}var QR=ps,ZR=ps,JR=ps;function nf(r,e,t){return r.l+=2,[hR(r)]}function fv(r){return r.l+=6,[]}var e7=nf,t7=fv,r7=fv,n7=nf;function p3(r){return r.l+=2,[$A(r),r.read_shift(2)&1]}var i7=nf,s7=p3,a7=fv,l7=nf,o7=nf,c7=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function f7(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),s=r.read_shift(2),l=c7[t>>2&31];return{ixti:e,coltype:t&3,rt:l,idx:n,c:i,C:s}}function u7(r){return r.l+=2,[r.read_shift(4)]}function h7(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function d7(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function p7(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function m7(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function g7(r){return r.l+=4,[0,0]}var gw={1:{n:"PtgExp",f:MR},2:{n:"PtgTbl",f:JR},3:{n:"PtgAdd",f:Rr},4:{n:"PtgSub",f:Rr},5:{n:"PtgMul",f:Rr},6:{n:"PtgDiv",f:Rr},7:{n:"PtgPower",f:Rr},8:{n:"PtgConcat",f:Rr},9:{n:"PtgLt",f:Rr},10:{n:"PtgLe",f:Rr},11:{n:"PtgEq",f:Rr},12:{n:"PtgGe",f:Rr},13:{n:"PtgGt",f:Rr},14:{n:"PtgNe",f:Rr},15:{n:"PtgIsect",f:Rr},16:{n:"PtgUnion",f:Rr},17:{n:"PtgRange",f:Rr},18:{n:"PtgUplus",f:Rr},19:{n:"PtgUminus",f:Rr},20:{n:"PtgPercent",f:Rr},21:{n:"PtgParen",f:Rr},22:{n:"PtgMissArg",f:Rr},23:{n:"PtgStr",f:zR},26:{n:"PtgSheet",f:h7},27:{n:"PtgEndSheet",f:d7},28:{n:"PtgErr",f:LR},29:{n:"PtgBool",f:PR},30:{n:"PtgInt",f:IR},31:{n:"PtgNum",f:jR},32:{n:"PtgArray",f:bR},33:{n:"PtgFunc",f:BR},34:{n:"PtgFuncVar",f:NR},35:{n:"PtgName",f:qR},36:{n:"PtgRef",f:DR},37:{n:"PtgArea",f:mR},38:{n:"PtgMemArea",f:$R},39:{n:"PtgMemErr",f:QR},40:{n:"PtgMemNoMem",f:ZR},41:{n:"PtgMemFunc",f:XR},42:{n:"PtgRefErr",f:YR},43:{n:"PtgAreaErr",f:xR},44:{n:"PtgRefN",f:kR},45:{n:"PtgAreaN",f:yR},46:{n:"PtgMemAreaN",f:p7},47:{n:"PtgMemNoMemN",f:m7},57:{n:"PtgNameX",f:WR},58:{n:"PtgRef3d",f:OR},59:{n:"PtgArea3d",f:gR},60:{n:"PtgRefErr3d",f:KR},61:{n:"PtgAreaErr3d",f:vR},255:{}},x7={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},v7={1:{n:"PtgElfLel",f:p3},2:{n:"PtgElfRw",f:l7},3:{n:"PtgElfCol",f:e7},6:{n:"PtgElfRwV",f:o7},7:{n:"PtgElfColV",f:n7},10:{n:"PtgElfRadical",f:i7},11:{n:"PtgElfRadicalS",f:a7},13:{n:"PtgElfColS",f:t7},15:{n:"PtgElfColSV",f:r7},16:{n:"PtgElfRadicalLel",f:s7},25:{n:"PtgList",f:f7},29:{n:"PtgSxName",f:u7},255:{}},y7={0:{n:"PtgAttrNoop",f:g7},1:{n:"PtgAttrSemi",f:AR},2:{n:"PtgAttrIf",f:ER},4:{n:"PtgAttrChoose",f:SR},8:{n:"PtgAttrGoto",f:wR},16:{n:"PtgAttrSum",f:FR},32:{n:"PtgAttrBaxcel",f:mw},33:{n:"PtgAttrBaxcel",f:mw},64:{n:"PtgAttrSpace",f:TR},65:{n:"PtgAttrSpaceSemi",f:_R},128:{n:"PtgAttrIfError",f:CR},255:{}};function b7(r,e,t,n){if(n.biff<8)return ps(r,e);for(var i=r.l+e,s=[],l=0;l!==t.length;++l)switch(t[l][0]){case"PtgArray":t[l][1]=VR(r,0,n),s.push(t[l][1]);break;case"PtgMemArea":t[l][2]=UR(r,t[l][1],n),s.push(t[l][2]);break;case"PtgExp":n&&n.biff==12&&(t[l][1][1]=r.read_shift(4),s.push(t[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[l][0]}return e=i-r.l,e!==0&&s.push(ps(r,e)),s}function S7(r,e,t){for(var n=r.l+e,i,s,l=[];n!=r.l;)e=n-r.l,s=r[r.l],i=gw[s]||gw[x7[s]],(s===24||s===25)&&(i=(s===24?v7:y7)[r[r.l+1]]),!i||!i.f?ps(r,e):l.push([i.n,i.f(r,e,t)]);return l}function w7(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],i=[],s=0;s<n.length;++s){var l=n[s];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var E7={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function C7(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function m3(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(t.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function xw(r,e,t){var n=m3(r,e,t);return n=="#REF"?n:C7(n,t)}function Ho(r,e,t,n,i){var s=i&&i.biff||8,l={s:{c:0,r:0}},c=[],f,h,d,m=0,g=0,x,b="";if(!r[0]||!r[0][0])return"";for(var S=-1,w="",T=0,A=r[0].length;T<A;++T){var E=r[0][T];switch(E[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=c.pop(),h=c.pop(),S>=0){switch(r[0][S][1][0]){case 0:w=Sr(" ",r[0][S][1][1]);break;case 1:w=Sr("\r",r[0][S][1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][S][1][0])}h=h+w,S=-1}c.push(h+E7[E[0]]+f);break;case"PtgIsect":f=c.pop(),h=c.pop(),c.push(h+" "+f);break;case"PtgUnion":f=c.pop(),h=c.pop(),c.push(h+","+f);break;case"PtgRange":f=c.pop(),h=c.pop(),c.push(h+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=u0(E[1][1],l,i),c.push(h0(d,s));break;case"PtgRefN":d=t?u0(E[1][1],t,i):E[1][1],c.push(h0(d,s));break;case"PtgRef3d":m=E[1][1],d=u0(E[1][2],l,i),b=xw(n,m,i),c.push(b+"!"+h0(d,s));break;case"PtgFunc":case"PtgFuncVar":var _=E[1][0],B=E[1][1];_||(_=0),_&=127;var F=_==0?[]:c.slice(-_);c.length-=_,B==="User"&&(B=F.shift()),c.push(B+"("+F.join(",")+")");break;case"PtgBool":c.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(E[1]);break;case"PtgNum":c.push(String(E[1]));break;case"PtgStr":c.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(E[1]);break;case"PtgAreaN":x=tw(E[1][1],t?{s:t}:l,i),c.push(qg(x,i));break;case"PtgArea":x=tw(E[1][1],l,i),c.push(qg(x,i));break;case"PtgArea3d":m=E[1][1],x=E[1][2],b=xw(n,m,i),c.push(b+"!"+qg(x,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=E[1][2];var O=(n.names||[])[g-1]||(n[0]||[])[g],H=O?O.Name:"SH33TJSNAME"+String(g);H&&H.slice(0,6)=="_xlfn."&&!i.xlfn&&(H=H.slice(6)),c.push(H);break;case"PtgNameX":var N=E[1][1];g=E[1][2];var I;if(i.biff<=5)N<0&&(N=-N),n[N]&&(I=n[N][g]);else{var P="";if(((n[N]||[])[0]||[])[0]==14849||(((n[N]||[])[0]||[])[0]==1025?n[N][g]&&n[N][g].itab>0&&(P=n.SheetNames[n[N][g].itab-1]+"!"):P=n.SheetNames[g-1]+"!"),n[N]&&n[N][g])P+=n[N][g].Name;else if(n[0]&&n[0][g])P+=n[0][g].Name;else{var q=(m3(n,N,i)||"").split(";;");q[g-1]?P=q[g-1]:P+="SH33TJSERRX"}c.push(P);break}I||(I={Name:"SH33TJSERRY"}),c.push(I.Name);break;case"PtgParen":var K="(",ie=")";if(S>=0){switch(w="",r[0][S][1][0]){case 2:K=Sr(" ",r[0][S][1][1])+K;break;case 3:K=Sr("\r",r[0][S][1][1])+K;break;case 4:ie=Sr(" ",r[0][S][1][1])+ie;break;case 5:ie=Sr("\r",r[0][S][1][1])+ie;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][S][1][0])}S=-1}c.push(K+c.pop()+ie);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":d={c:E[1][1],r:E[1][0]};var le={c:t.c,r:t.r};if(n.sharedf[Wt(d)]){var Z=n.sharedf[Wt(d)];c.push(Ho(Z,l,le,n,i))}else{var ne=!1;for(f=0;f!=n.arrayf.length;++f)if(h=n.arrayf[f],!(d.c<h[0].s.c||d.c>h[0].e.c)&&!(d.r<h[0].s.r||d.r>h[0].e.r)){c.push(Ho(h[1],l,le,n,i)),ne=!0;break}ne||c.push(E[1])}break;case"PtgArray":c.push("{"+w7(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":S=T;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var ve=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&S>=0&&ve.indexOf(r[0][T][0])==-1){E=r[0][S];var Ee=!0;switch(E[1][0]){case 4:Ee=!1;case 0:w=Sr(" ",E[1][1]);break;case 5:Ee=!1;case 1:w=Sr("\r",E[1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}c.push((Ee?w:"")+c.pop()+(Ee?"":w)),S=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function A7(r){if(r==null){var e=Se(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof r=="number")return El(r);return El(0)}function T7(r,e,t,n,i){var s=Cl(e,t,i),l=A7(r.v),c=Se(6),f=33;c.write_shift(2,f),c.write_shift(4,0);for(var h=Se(r.bf.length),d=0;d<r.bf.length;++d)h[d]=r.bf[d];var m=ln([s,l,c,h]);return m}function ap(r,e,t){var n=r.read_shift(4),i=S7(r,n,t),s=r.read_shift(4),l=s>0?b7(r,s,i,t):null;return[i,l]}var _7=ap,lp=ap,D7=ap,k7=ap,O7={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},g3={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},B7={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function N7(r){var e="of:="+r.replace(ov,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function R7(r){return r.replace(/\./,"!")}var d0=typeof Map<"u";function uv(r,e,t){var n=0,i=r.length;if(t){if(d0?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=d0?t.get(e):t[e];n<s.length;++n)if(r[s[n]].t===e)return r.Count++,s[n]}}else for(;n<i;++n)if(r[n].t===e)return r.Count++,n;return r[i]={t:e},r.Count++,r.Unique++,t&&(d0?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function op(r,e){var t={min:r+1,max:r+1},n=-1;return e.MDW&&(Vs=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?n=xd(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(t.width=Px(n),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function x3(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function Va(r,e,t){var n=t.revssf[e.z!=null?e.z:"General"],i=60,s=r.length;if(n==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){hA(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(r[i].numFmtId===n)return i;return r[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function F7(r,e,t){if(r&&r["!ref"]){var n=dr(r["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+r["!ref"])}}function M7(r){if(r.length===0)return"";for(var e='<mergeCells count="'+r.length+'">',t=0;t!=r.length;++t)e+='<mergeCell ref="'+Lr(r[t])+'"/>';return e+"</mergeCells>"}function L7(r,e,t,n,i){var s=!1,l={},c=null;if(n.bookType!=="xlsx"&&e.vbaraw){var f=e.SheetNames[t];try{e.Workbook&&(f=e.Workbook.Sheets[t].CodeName||f)}catch{}s=!0,l.codeName=D0(qt(f))}if(r&&r["!outline"]){var h={summaryBelow:1,summaryRight:1};r["!outline"].above&&(h.summaryBelow=0),r["!outline"].left&&(h.summaryRight=0),c=(c||"")+je("outlinePr",null,h)}!s&&!c||(i[i.length]=je("sheetPr",c,l))}var I7=["objects","scenarios","selectLockedCells","selectUnlockedCells"],P7=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function j7(r){var e={sheet:1};return I7.forEach(function(t){r[t]!=null&&r[t]&&(e[t]="1")}),P7.forEach(function(t){r[t]!=null&&!r[t]&&(e[t]="0")}),r.password&&(e.password=e3(r.password).toString(16).toUpperCase()),je("sheetProtection",null,e)}function z7(r){return x3(r),je("pageMargins",null,r)}function H7(r,e){for(var t=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(t[t.length]=je("col",null,op(i,n)));return t[t.length]="</cols>",t.join("")}function U7(r,e,t,n){var i=typeof r.ref=="string"?r.ref:Lr(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,l=fi(i);l.s.r==l.e.r&&(l.e.r=fi(e["!ref"]).e.r,i=Lr(l));for(var c=0;c<s.length;++c){var f=s[c];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+t.SheetNames[n]+"'!"+i;break}}return c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+i}),je("autoFilter",null,{ref:i})}function V7(r,e,t,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),je("sheetViews",je("sheetView",null,i),{})}function q7(r,e,t,n){if(r.c&&t["!comments"].push([e,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var i="",s=r.t,l=r.v;if(r.t!=="z")switch(r.t){case"b":i=r.v?"1":"0";break;case"n":i=""+r.v;break;case"e":i=rf[r.v];break;case"d":n&&n.cellDates?i=Dn(r.v,-1).toISOString():(r=Gn(r),r.t="n",i=""+(r.v=Wn(Dn(r.v)))),typeof r.z>"u"&&(r.z=wr[14]);break;default:i=r.v;break}var c=on("v",qt(i)),f={r:e},h=Va(n.cellXfs,r,n);switch(h!==0&&(f.s=h),r.t){case"n":break;case"d":f.t="d";break;case"b":f.t="b";break;case"e":f.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){c=on("v",""+uv(n.Strings,r.v,n.revStrings)),f.t="s";break}f.t="str";break}if(r.t!=s&&(r.t=s,r.v=l),typeof r.f=="string"&&r.f){var d=r.F&&r.F.slice(0,e.length)==e?{t:"array",ref:r.F}:null;c=je("f",qt(r.f),d)+(r.v!=null?c:"")}return r.l&&t["!links"].push([e,r.l]),r.D&&(f.cm=1),je("c",c,f)}function W7(r,e,t,n){var i=[],s=[],l=dr(r["!ref"]),c="",f,h="",d=[],m=0,g=0,x=r["!rows"],b=Array.isArray(r),S={r:h},w,T=-1;for(g=l.s.c;g<=l.e.c;++g)d[g]=yn(g);for(m=l.s.r;m<=l.e.r;++m){for(s=[],h=fn(m),g=l.s.c;g<=l.e.c;++g){f=d[g]+h;var A=b?(r[m]||[])[g]:r[f];A!==void 0&&(c=q7(A,f,r,e))!=null&&s.push(c)}(s.length>0||x&&x[m])&&(S={r:h},x&&x[m]&&(w=x[m],w.hidden&&(S.hidden=1),T=-1,w.hpx?T=vd(w.hpx):w.hpt&&(T=w.hpt),T>-1&&(S.ht=T,S.customHeight=1),w.level&&(S.outlineLevel=w.level)),i[i.length]=je("row",s.join(""),S))}if(x)for(;m<x.length;++m)x&&x[m]&&(S={r:m+1},w=x[m],w.hidden&&(S.hidden=1),T=-1,w.hpx?T=vd(w.hpx):w.hpt&&(T=w.hpt),T>-1&&(S.ht=T,S.customHeight=1),w.level&&(S.outlineLevel=w.level),i[i.length]=je("row","",S));return i.join("")}function v3(r,e,t,n){var i=[Ir,je("worksheet",null,{xmlns:Ko[0],"xmlns:r":Gr.r})],s=t.SheetNames[r],l=0,c="",f=t.Sheets[s];f==null&&(f={});var h=f["!ref"]||"A1",d=dr(h);if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),h=Lr(d)}n||(n={}),f["!comments"]=[];var m=[];L7(f,t,r,e,i),i[i.length]=je("dimension",null,{ref:h}),i[i.length]=V7(f,e,r,t),e.sheetFormat&&(i[i.length]=je("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),f["!cols"]!=null&&f["!cols"].length>0&&(i[i.length]=H7(f,f["!cols"])),i[l=i.length]="<sheetData/>",f["!links"]=[],f["!ref"]!=null&&(c=W7(f,e),c.length>0&&(i[i.length]=c)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),f["!protect"]&&(i[i.length]=j7(f["!protect"])),f["!autofilter"]!=null&&(i[i.length]=U7(f["!autofilter"],f,t,r)),f["!merges"]!=null&&f["!merges"].length>0&&(i[i.length]=M7(f["!merges"]));var g=-1,x,b=-1;return f["!links"].length>0&&(i[i.length]="<hyperlinks>",f["!links"].forEach(function(S){S[1].Target&&(x={ref:S[0]},S[1].Target.charAt(0)!="#"&&(b=Vt(n,-1,qt(S[1].Target).replace(/#.*$/,""),Lt.HLINK),x["r:id"]="rId"+b),(g=S[1].Target.indexOf("#"))>-1&&(x.location=qt(S[1].Target.slice(g+1))),S[1].Tooltip&&(x.tooltip=qt(S[1].Tooltip)),i[i.length]=je("hyperlink",null,x))}),i[i.length]="</hyperlinks>"),delete f["!links"],f["!margins"]!=null&&(i[i.length]=z7(f["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=on("ignoredErrors",je("ignoredError",null,{numberStoredAsText:1,sqref:h}))),m.length>0&&(b=Vt(n,-1,"../drawings/drawing"+(r+1)+".xml",Lt.DRAW),i[i.length]=je("drawing",null,{"r:id":"rId"+b}),f["!drawing"]=m),f["!comments"].length>0&&(b=Vt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Lt.VML),i[i.length]=je("legacyDrawing",null,{"r:id":"rId"+b}),f["!legacy"]=b),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function G7(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var s=r.read_shift(1);return r.l=n,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function $7(r,e,t){var n=Se(145),i=(t["!rows"]||[])[r]||{};n.write_shift(4,r),n.write_shift(4,0);var s=320;i.hpx?s=vd(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var c=0,f=n.l;n.l+=4;for(var h={r,c:0},d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var m=-1,g=-1,x=d<<10;x<d+1<<10;++x){h.c=x;var b=Array.isArray(t)?(t[h.r]||[])[h.c]:t[Wt(h)];b&&(m<0&&(m=x),g=x)}m<0||(++c,n.write_shift(4,m),n.write_shift(4,g))}var S=n.l;return n.l=f,n.write_shift(4,c),n.l=S,n.length>n.l?n.slice(0,n.l):n}function X7(r,e,t,n){var i=$7(n,t,e);(i.length>17||(e["!rows"]||[])[n])&&Re(r,0,i)}var Y7=Ll,K7=Zo;function Q7(){}function Z7(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=oB(r),t}function J7(r,e,t){t==null&&(t=Se(84+4*r.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),t.write_shift(1,n);for(var i=1;i<3;++i)t.write_shift(1,0);return pd({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),RA(r,t),t.slice(0,t.l)}function e9(r){var e=Ri(r);return[e]}function t9(r,e,t){return t==null&&(t=Se(8)),Rl(e,t)}function r9(r){var e=Fl(r);return[e]}function n9(r,e,t){return t==null&&(t=Se(4)),Ml(e,t)}function i9(r){var e=Ri(r),t=r.read_shift(1);return[e,t,"b"]}function s9(r,e,t){return t==null&&(t=Se(9)),Rl(e,t),t.write_shift(1,r.v?1:0),t}function a9(r){var e=Fl(r),t=r.read_shift(1);return[e,t,"b"]}function l9(r,e,t){return t==null&&(t=Se(5)),Ml(e,t),t.write_shift(1,r.v?1:0),t}function o9(r){var e=Ri(r),t=r.read_shift(1);return[e,t,"e"]}function c9(r,e,t){return t==null&&(t=Se(9)),Rl(e,t),t.write_shift(1,r.v),t}function f9(r){var e=Fl(r),t=r.read_shift(1);return[e,t,"e"]}function u9(r,e,t){return t==null&&(t=Se(8)),Ml(e,t),t.write_shift(1,r.v),t.write_shift(2,0),t.write_shift(1,0),t}function h9(r){var e=Ri(r),t=r.read_shift(4);return[e,t,"s"]}function d9(r,e,t){return t==null&&(t=Se(12)),Rl(e,t),t.write_shift(4,e.v),t}function p9(r){var e=Fl(r),t=r.read_shift(4);return[e,t,"s"]}function m9(r,e,t){return t==null&&(t=Se(8)),Ml(e,t),t.write_shift(4,e.v),t}function g9(r){var e=Ri(r),t=Jo(r);return[e,t,"n"]}function x9(r,e,t){return t==null&&(t=Se(16)),Rl(e,t),El(r.v,t),t}function v9(r){var e=Fl(r),t=Jo(r);return[e,t,"n"]}function y9(r,e,t){return t==null&&(t=Se(12)),Ml(e,t),El(r.v,t),t}function b9(r){var e=Ri(r),t=FA(r);return[e,t,"n"]}function S9(r,e,t){return t==null&&(t=Se(12)),Rl(e,t),MA(r.v,t),t}function w9(r){var e=Fl(r),t=FA(r);return[e,t,"n"]}function E9(r,e,t){return t==null&&(t=Se(8)),Ml(e,t),MA(r.v,t),t}function C9(r){var e=Ri(r),t=nv(r);return[e,t,"is"]}function A9(r){var e=Ri(r),t=bn(r);return[e,t,"str"]}function T9(r,e,t){return t==null&&(t=Se(12+4*r.v.length)),Rl(e,t),Yr(r.v,t),t.length>t.l?t.slice(0,t.l):t}function _9(r){var e=Fl(r),t=bn(r);return[e,t,"str"]}function D9(r,e,t){return t==null&&(t=Se(8+4*r.v.length)),Ml(e,t),Yr(r.v,t),t.length>t.l?t.slice(0,t.l):t}function k9(r,e,t){var n=r.l+e,i=Ri(r);i.r=t["!row"];var s=r.read_shift(1),l=[i,s,"b"];if(t.cellFormula){r.l+=2;var c=lp(r,n-r.l,t);l[3]=Ho(c,null,i,t.supbooks,t)}else r.l=n;return l}function O9(r,e,t){var n=r.l+e,i=Ri(r);i.r=t["!row"];var s=r.read_shift(1),l=[i,s,"e"];if(t.cellFormula){r.l+=2;var c=lp(r,n-r.l,t);l[3]=Ho(c,null,i,t.supbooks,t)}else r.l=n;return l}function B9(r,e,t){var n=r.l+e,i=Ri(r);i.r=t["!row"];var s=Jo(r),l=[i,s,"n"];if(t.cellFormula){r.l+=2;var c=lp(r,n-r.l,t);l[3]=Ho(c,null,i,t.supbooks,t)}else r.l=n;return l}function N9(r,e,t){var n=r.l+e,i=Ri(r);i.r=t["!row"];var s=bn(r),l=[i,s,"str"];if(t.cellFormula){r.l+=2;var c=lp(r,n-r.l,t);l[3]=Ho(c,null,i,t.supbooks,t)}else r.l=n;return l}var R9=Ll,F9=Zo;function M9(r,e){return e==null&&(e=Se(4)),e.write_shift(4,r),e}function L9(r,e){var t=r.l+e,n=Ll(r),i=iv(r),s=bn(r),l=bn(r),c=bn(r);r.l=t;var f={rfx:n,relId:i,loc:s,display:c};return l&&(f.Tooltip=l),f}function I9(r,e){var t=Se(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));Zo({s:Xr(r[0]),e:Xr(r[0])},t),sv("rId"+e,t);var n=r[1].Target.indexOf("#"),i=n==-1?"":r[1].Target.slice(n+1);return Yr(i||"",t),Yr(r[1].Tooltip||"",t),Yr("",t),t.slice(0,t.l)}function P9(){}function j9(r,e,t){var n=r.l+e,i=LA(r),s=r.read_shift(1),l=[i];if(l[2]=s,t.cellFormula){var c=_7(r,n-r.l,t);l[1]=c}else r.l=n;return l}function z9(r,e,t){var n=r.l+e,i=Ll(r),s=[i];if(t.cellFormula){var l=k7(r,n-r.l,t);s[1]=l,r.l=n}else r.l=n;return s}function H9(r,e,t){t==null&&(t=Se(18));var n=op(r,e);t.write_shift(-4,r),t.write_shift(-4,r),t.write_shift(4,(n.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var y3=["left","right","top","bottom","header","footer"];function U9(r){var e={};return y3.forEach(function(t){e[t]=Jo(r)}),e}function V9(r,e){return e==null&&(e=Se(48)),x3(r),y3.forEach(function(t){El(r[t],e)}),e}function q9(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function W9(r,e,t){t==null&&(t=Se(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function G9(r){var e=Se(24);return e.write_shift(4,4),e.write_shift(4,1),Zo(r,e),e}function $9(r,e){return e==null&&(e=Se(66)),e.write_shift(2,r.password?e3(r.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,r[t[0]]!=null&&!r[t[0]]?1:0):e.write_shift(4,r[t[0]]!=null&&r[t[0]]?0:1)}),e}function X9(){}function Y9(){}function K9(r,e,t,n,i,s,l){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=Gn(e),e.z=e.z||wr[14],e.v=Wn(Dn(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var f={r:t,c:n};switch(f.s=Va(i.cellXfs,e,i),e.l&&s["!links"].push([Wt(f),e.l]),e.c&&s["!comments"].push([Wt(f),e.c]),e.t){case"s":case"str":return i.bookSST?(c=uv(i.Strings,e.v,i.revStrings),f.t="s",f.v=c,l?Re(r,18,m9(e,f)):Re(r,7,d9(e,f))):(f.t="str",l?Re(r,17,D9(e,f)):Re(r,6,T9(e,f))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?Re(r,13,E9(e,f)):Re(r,2,S9(e,f)):l?Re(r,16,y9(e,f)):Re(r,5,x9(e,f)),!0;case"b":return f.t="b",l?Re(r,15,l9(e,f)):Re(r,4,s9(e,f)),!0;case"e":return f.t="e",l?Re(r,14,u9(e,f)):Re(r,3,c9(e,f)),!0}return l?Re(r,12,n9(e,f)):Re(r,1,t9(e,f)),!0}function Q9(r,e,t,n){var i=dr(e["!ref"]||"A1"),s,l="",c=[];Re(r,145);var f=Array.isArray(e),h=i.e.r;e["!rows"]&&(h=Math.max(i.e.r,e["!rows"].length-1));for(var d=i.s.r;d<=h;++d){l=fn(d),X7(r,e,i,d);var m=!1;if(d<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){d===i.s.r&&(c[g]=yn(g)),s=c[g]+l;var x=f?(e[d]||[])[g]:e[s];if(!x){m=!1;continue}m=K9(r,x,d,g,n,e,m)}}Re(r,146)}function Z9(r,e){!e||!e["!merges"]||(Re(r,177,M9(e["!merges"].length)),e["!merges"].forEach(function(t){Re(r,176,F9(t))}),Re(r,178))}function J9(r,e){!e||!e["!cols"]||(Re(r,390),e["!cols"].forEach(function(t,n){t&&Re(r,60,H9(n,t))}),Re(r,391))}function eF(r,e){!e||!e["!ref"]||(Re(r,648),Re(r,649,G9(dr(e["!ref"]))),Re(r,650))}function tF(r,e,t){e["!links"].forEach(function(n){if(n[1].Target){var i=Vt(t,-1,n[1].Target.replace(/#.*$/,""),Lt.HLINK);Re(r,494,I9(n,i))}}),delete e["!links"]}function rF(r,e,t,n){if(e["!comments"].length>0){var i=Vt(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Lt.VML);Re(r,551,sv("rId"+i)),e["!legacy"]=i}}function nF(r,e,t,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Lr(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var l=t.Workbook.Names,c=fi(s);c.s.r==c.e.r&&(c.e.r=fi(e["!ref"]).e.r,s=Lr(c));for(var f=0;f<l.length;++f){var h=l[f];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+t.SheetNames[n]+"'!"+s;break}}f==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+s}),Re(r,161,Zo(dr(s))),Re(r,162)}}function iF(r,e,t){Re(r,133),Re(r,137,W9(e,t)),Re(r,138),Re(r,134)}function sF(r,e){e["!protect"]&&Re(r,535,$9(e["!protect"]))}function aF(r,e,t,n){var i=qn(),s=t.SheetNames[r],l=t.Sheets[s]||{},c=s;try{t&&t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}var f=dr(l["!ref"]||"A1");if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Re(i,129),(t.vbaraw||l["!outline"])&&Re(i,147,J7(c,l["!outline"])),Re(i,148,K7(f)),iF(i,l,t.Workbook),J9(i,l),Q9(i,l,r,e),sF(i,l),nF(i,l,t,r),Z9(i,l),tF(i,l,n),l["!margins"]&&Re(i,476,V9(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&eF(i,l),rF(i,l,r,n),Re(i,130),i.end()}function lF(r,e){r.l+=10;var t=bn(r);return{name:t}}var oF=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function cF(r){return!r.Workbook||!r.Workbook.WBProps?"false":zO(r.Workbook.WBProps.date1904)?"true":"false"}var fF="][*?/\\".split("");function b3(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return fF.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function uF(r,e,t){r.forEach(function(n,i){b3(n);for(var s=0;s<i;++s)if(n==r[s])throw new Error("Duplicate Sheet Name: "+n);if(t){var l=e&&e[i]&&e[i].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function hF(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var e=r.Workbook&&r.Workbook.Sheets||[];uF(r.SheetNames,e,!!r.vbaraw);for(var t=0;t<r.SheetNames.length;++t)F7(r.Sheets[r.SheetNames[t]],r.SheetNames[t],t)}function S3(r){var e=[Ir];e[e.length]=je("workbook",null,{xmlns:Ko[0],"xmlns:r":Gr.r});var t=r.Workbook&&(r.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(oF.forEach(function(c){r.Workbook.WBProps[c[0]]!=null&&r.Workbook.WBProps[c[0]]!=c[1]&&(n[c[0]]=r.Workbook.WBProps[c[0]])}),r.Workbook.WBProps.CodeName&&(n.codeName=r.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=je("workbookPr",null,n);var i=r.Workbook&&r.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=r.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==r.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=r.SheetNames.length;++s){var l={name:qt(r.SheetNames[s].slice(0,31))};if(l.sheetId=""+(s+1),l["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=je("sheet",null,l)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(c){var f={name:c.Name};c.Comment&&(f.comment=c.Comment),c.Sheet!=null&&(f.localSheetId=""+c.Sheet),c.Hidden&&(f.hidden="1"),c.Ref&&(e[e.length]=je("definedName",qt(c.Ref),f))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function dF(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=Ix(r),t.name=bn(r),t}function pF(r,e){return e||(e=Se(127)),e.write_shift(4,r.Hidden),e.write_shift(4,r.iTabID),sv(r.strRelID,e),Yr(r.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function mF(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var i=e>8?bn(r):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function gF(r,e){e||(e=Se(72));var t=0;return r&&r.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),RA(r&&r.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function xF(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var i=r.read_shift(4),s=cB(r),l=D7(r,0,t),c=iv(r);r.l=n;var f={Name:s,Ptg:l};return i<268435455&&(f.Sheet=i),c&&(f.Comment=c),f}function vF(r,e){Re(r,143);for(var t=0;t!=e.SheetNames.length;++t){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:n,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Re(r,156,pF(i))}Re(r,144)}function yF(r,e){e||(e=Se(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Yr("SheetJS",e),Yr(ad.version,e),Yr(ad.version,e),Yr("7262",e),e.length>e.l?e.slice(0,e.l):e}function bF(r,e){e||(e=Se(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,r),e.write_shift(4,r);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function SF(r,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,n=0,i=-1,s=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&i==-1?i=n:t[n].Hidden==1&&s==-1&&(s=n);s>i||(Re(r,135),Re(r,158,bF(i)),Re(r,136))}}function wF(r,e){var t=qn();return Re(t,131),Re(t,128,yF()),Re(t,153,gF(r.Workbook&&r.Workbook.WBProps||null)),SF(t,r),vF(t,r),Re(t,132),t.end()}function EF(r,e,t){return(e.slice(-4)===".bin"?wF:S3)(r)}function CF(r,e,t,n,i){return(e.slice(-4)===".bin"?aF:v3)(r,t,n,i)}function AF(r,e,t){return(e.slice(-4)===".bin"?VN:n3)(r,t)}function TF(r,e,t){return(e.slice(-4)===".bin"?gN:JA)(r,t)}function _F(r,e,t){return(e.slice(-4)===".bin"?sR:o3)(r)}function DF(r){return(r.slice(-4)===".bin"?QN:a3)()}function kF(r,e){var t=[];return r.Props&&t.push(AB(r.Props,e)),r.Custprops&&t.push(TB(r.Props,r.Custprops)),t.join("")}function OF(){return""}function BF(r,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(je("NumberFormat",null,{"ss:Format":qt(wr[n.numFmtId])}));var l={"ss:ID":"s"+(21+i)};t.push(je("Style",s.join(""),l))}),je("Styles",t.join(""))}function w3(r){return je("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+cv(r.Ref,{r:0,c:0})})}function NF(r){if(!((r||{}).Workbook||{}).Names)return"";for(var e=r.Workbook.Names,t=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(w3(i)))}return je("Names",t.join(""))}function RF(r,e,t,n){if(!r||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],l=0;l<i.length;++l){var c=i[l];c.Sheet==t&&(c.Name.match(/^_xlfn\./)||s.push(w3(c)))}return s.join("")}function FF(r,e,t,n){if(!r)return"";var i=[];if(r["!margins"]&&(i.push("<PageSetup>"),r["!margins"].header&&i.push(je("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&i.push(je("Footer",null,{"x:Margin":r["!margins"].footer})),i.push(je("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)i.push(je("Visible",n.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),r["!protect"]&&(i.push(on("ProtectContents","True")),r["!protect"].objects&&i.push(on("ProtectObjects","True")),r["!protect"].scenarios&&i.push(on("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?i.push(on("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&i.push(on("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){r["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":je("WorksheetOptions",i.join(""),{xmlns:li.x})}function MF(r){return r.map(function(e){var t=jO(e.t||""),n=je("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return je("Comment",n,{"ss:Author":e.a})}).join("")}function LF(r,e,t,n,i,s,l){if(!r||r.v==null&&r.f==null)return"";var c={};if(r.f&&(c["ss:Formula"]="="+qt(cv(r.f,l))),r.F&&r.F.slice(0,e.length)==e){var f=Xr(r.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(f.r==l.r?"":"["+(f.r-l.r)+"]")+"C"+(f.c==l.c?"":"["+(f.c-l.c)+"]")}if(r.l&&r.l.Target&&(c["ss:HRef"]=qt(r.l.Target),r.l.Tooltip&&(c["x:HRefScreenTip"]=qt(r.l.Tooltip))),t["!merges"])for(var h=t["!merges"],d=0;d!=h.length;++d)h[d].s.c!=l.c||h[d].s.r!=l.r||(h[d].e.c>h[d].s.c&&(c["ss:MergeAcross"]=h[d].e.c-h[d].s.c),h[d].e.r>h[d].s.r&&(c["ss:MergeDown"]=h[d].e.r-h[d].s.r));var m="",g="";switch(r.t){case"z":if(!n.sheetStubs)return"";break;case"n":m="Number",g=String(r.v);break;case"b":m="Boolean",g=r.v?"1":"0";break;case"e":m="Error",g=rf[r.v];break;case"d":m="DateTime",g=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||wr[14]);break;case"s":m="String",g=PO(r.v||"");break}var x=Va(n.cellXfs,r,n);c["ss:StyleID"]="s"+(21+x),c["ss:Index"]=l.c+1;var b=r.v!=null?g:"",S=r.t=="z"?"":'<Data ss:Type="'+m+'">'+b+"</Data>";return(r.c||[]).length>0&&(S+=MF(r.c)),je("Cell",S,c)}function IF(r,e){var t='<Row ss:Index="'+(r+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=r3(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function PF(r,e,t,n){if(!r["!ref"])return"";var i=dr(r["!ref"]),s=r["!merges"]||[],l=0,c=[];r["!cols"]&&r["!cols"].forEach(function(w,T){lv(w);var A=!!w.width,E=op(T,w),_={"ss:Index":T+1};A&&(_["ss:Width"]=gd(E.width)),w.hidden&&(_["ss:Hidden"]="1"),c.push(je("Column",null,_))});for(var f=Array.isArray(r),h=i.s.r;h<=i.e.r;++h){for(var d=[IF(h,(r["!rows"]||[])[h])],m=i.s.c;m<=i.e.c;++m){var g=!1;for(l=0;l!=s.length;++l)if(!(s[l].s.c>m)&&!(s[l].s.r>h)&&!(s[l].e.c<m)&&!(s[l].e.r<h)){(s[l].s.c!=m||s[l].s.r!=h)&&(g=!0);break}if(!g){var x={r:h,c:m},b=Wt(x),S=f?(r[h]||[])[m]:r[b];d.push(LF(S,b,r,e,t,n,x))}}d.push("</Row>"),d.length>2&&c.push(d.join(""))}return c.join("")}function jF(r,e,t){var n=[],i=t.SheetNames[r],s=t.Sheets[i],l=s?RF(s,e,r,t):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=s?PF(s,e,r,t):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(FF(s,e,r,t)),n.join("")}function zF(r,e){e||(e={}),r.SSF||(r.SSF=Gn(wr)),r.SSF&&(np(),rp(r.SSF),e.revssf=ip(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF,e.cellXfs=[],Va(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(kF(r,e)),t.push(OF()),t.push(""),t.push("");for(var n=0;n<r.SheetNames.length;++n)t.push(je("Worksheet",jF(n,e,r),{"ss:Name":qt(r.SheetNames[n])}));return t[2]=BF(r,e),t[3]=NF(r),Ir+je("Workbook",t.join(""),{xmlns:li.ss,"xmlns:o":li.o,"xmlns:x":li.x,"xmlns:ss":li.ss,"xmlns:dt":li.dt,"xmlns:html":li.html})}var $g={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function HF(r,e){var t=[],n=[],i=[],s=0,l,c=q4(nw,"n"),f=q4(iw,"n");if(r.Props)for(l=un(r.Props),s=0;s<l.length;++s)(Object.prototype.hasOwnProperty.call(c,l[s])?t:Object.prototype.hasOwnProperty.call(f,l[s])?n:i).push([l[s],r.Props[l[s]]]);if(r.Custprops)for(l=un(r.Custprops),s=0;s<l.length;++s)Object.prototype.hasOwnProperty.call(r.Props||{},l[s])||(Object.prototype.hasOwnProperty.call(c,l[s])?t:Object.prototype.hasOwnProperty.call(f,l[s])?n:i).push([l[s],r.Custprops[l[s]]]);var h=[];for(s=0;s<i.length;++s)GA.indexOf(i[s][0])>-1||VA.indexOf(i[s][0])>-1||i[s][1]!=null&&h.push(i[s]);n.length&&Zt.utils.cfb_add(e,"/SummaryInformation",cw(n,$g.SI,f,iw)),(t.length||h.length)&&Zt.utils.cfb_add(e,"/DocumentSummaryInformation",cw(t,$g.DSI,c,nw,h.length?h:null,$g.UDI))}function UF(r,e){var t=e||{},n=Zt.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Zt.utils.cfb_add(n,i,E3(r,t)),t.biff==8&&(r.Props||r.Custprops)&&HF(r,n),t.biff==8&&r.vbaraw&&aR(n,Zt.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),n}var VF={0:{f:G7},1:{f:e9},2:{f:b9},3:{f:o9},4:{f:i9},5:{f:g9},6:{f:A9},7:{f:h9},8:{f:N9},9:{f:B9},10:{f:k9},11:{f:O9},12:{f:r9},13:{f:w9},14:{f:f9},15:{f:a9},16:{f:v9},17:{f:_9},18:{f:p9},19:{f:nv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:xF},40:{},42:{},43:{f:AN},44:{f:EN},45:{f:DN},46:{f:ON},47:{f:kN},48:{},49:{f:rB},50:{},51:{f:GN},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:nN},62:{f:C9},63:{f:ZN},64:{f:X9},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ps,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:q9},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Z7},148:{f:Y7,p:16},151:{f:P9},152:{},153:{f:mF},154:{},155:{},156:{f:dF},157:{},158:{},159:{T:1,f:dN},160:{T:-1},161:{T:1,f:Ll},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:R9},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:qN},336:{T:-1},337:{f:YN,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ix},357:{},358:{},359:{},360:{T:1},361:{},362:{f:QB},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:j9},427:{f:z9},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:U9},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Q7},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:L9},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ix},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:nR},633:{T:1},634:{T:-1},635:{T:1,f:tR},636:{T:-1},637:{f:aB},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:lF},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Y9},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ze(r,e,t,n){var i=e;if(!isNaN(i)){var s=n||(t||[]).length||0,l=r.next(4);l.write_shift(2,i),l.write_shift(2,s),s>0&&ev(t)&&r.push(t)}}function qF(r,e,t,n){var i=(t||[]).length||0;if(i<=8224)return ze(r,e,t,i);var s=e;if(!isNaN(s)){for(var l=t.parts||[],c=0,f=0,h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;var d=r.next(4);for(d.write_shift(2,s),d.write_shift(2,h),r.push(t.slice(f,f+h)),f+=h;f<i;){for(d=r.next(4),d.write_shift(2,60),h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;d.write_shift(2,h),r.push(t.slice(f,f+h)),f+=h}}}function sf(r,e,t){return r||(r=Se(7)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,0),r.write_shift(1,0),r}function WF(r,e,t,n){var i=Se(9);return sf(i,r,e),XA(t,n||"b",i),i}function GF(r,e,t){var n=Se(8+2*t.length);return sf(n,r,e),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function $F(r,e,t,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Wn(Dn(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?ze(r,2,lN(t,n,i)):ze(r,3,aN(t,n,i));return;case"b":case"e":ze(r,5,WF(t,n,e.v,e.t));return;case"s":case"str":ze(r,4,GF(t,n,(e.v||"").slice(0,255)));return}ze(r,1,sf(null,t,n))}function XF(r,e,t,n){var i=Array.isArray(e),s=dr(e["!ref"]||"A1"),l,c="",f=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),l=Lr(s)}for(var h=s.s.r;h<=s.e.r;++h){c=fn(h);for(var d=s.s.c;d<=s.e.c;++d){h===s.s.r&&(f[d]=yn(d)),l=f[d]+c;var m=i?(e[h]||[])[d]:e[l];m&&$F(r,m,h,d)}}}function YF(r,e){for(var t=e||{},n=qn(),i=0,s=0;s<r.SheetNames.length;++s)r.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&r.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return ze(n,t.biff==4?1033:t.biff==3?521:9,av(r,16,t)),XF(n,r.Sheets[r.SheetNames[i]],i,t),ze(n,10),n.end()}function KF(r,e,t){ze(r,49,VB({sz:12,name:"Arial"},t))}function QF(r,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ze(r,1054,GB(i,e[i],t))})}function ZF(r,e){var t=Se(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),ze(r,2151,t),t=Se(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),QA(dr(e["!ref"]||"A1"),t),t.write_shift(4,4),ze(r,2152,t)}function JF(r,e){for(var t=0;t<16;++t)ze(r,224,uw({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){ze(r,224,uw(n,0,e))})}function eM(r,e){for(var t=0;t<e["!links"].length;++t){var n=e["!links"][t];ze(r,440,eN(n)),n[1].Tooltip&&ze(r,2048,tN(n))}delete e["!links"]}function tM(r,e){if(e){var t=0;e.forEach(function(n,i){++t<=256&&n&&ze(r,125,iN(op(i,n),i))})}}function rM(r,e,t,n,i){var s=16+Va(i.cellXfs,e,i);if(e.v==null&&!e.bf){ze(r,513,Cl(t,n,s));return}if(e.bf)ze(r,6,T7(e,t,n,i,s));else switch(e.t){case"d":case"n":var l=e.t=="d"?Wn(Dn(e.v)):e.v;ze(r,515,KB(t,n,l,s));break;case"b":case"e":ze(r,517,YB(t,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var c=uv(i.Strings,e.v,i.revStrings);ze(r,253,qB(t,n,c,s))}else ze(r,516,WB(t,n,(e.v||"").slice(0,255),s,i));break;default:ze(r,513,Cl(t,n,s))}}function nM(r,e,t){var n=qn(),i=t.SheetNames[r],s=t.Sheets[i]||{},l=(t||{}).Workbook||{},c=(l.Sheets||[])[r]||{},f=Array.isArray(s),h=e.biff==8,d,m="",g=[],x=dr(s["!ref"]||"A1"),b=h?65536:16384;if(x.e.c>255||x.e.r>=b){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,b-1)}ze(n,2057,av(t,16,e)),ze(n,13,Ai(1)),ze(n,12,Ai(100)),ze(n,15,An(!0)),ze(n,17,An(!1)),ze(n,16,El(.001)),ze(n,95,An(!0)),ze(n,42,An(!1)),ze(n,43,An(!1)),ze(n,130,Ai(1)),ze(n,128,XB()),ze(n,131,An(!1)),ze(n,132,An(!1)),h&&tM(n,s["!cols"]),ze(n,512,$B(x,e)),h&&(s["!links"]=[]);for(var S=x.s.r;S<=x.e.r;++S){m=fn(S);for(var w=x.s.c;w<=x.e.c;++w){S===x.s.r&&(g[w]=yn(w)),d=g[w]+m;var T=f?(s[S]||[])[w]:s[d];T&&(rM(n,T,S,w,e),h&&T.l&&s["!links"].push([d,T.l]))}}var A=c.CodeName||c.name||i;return h&&ze(n,574,UB((l.Views||[])[0])),h&&(s["!merges"]||[]).length&&ze(n,229,JB(s["!merges"])),h&&eM(n,s),ze(n,442,KA(A)),h&&ZF(n,s),ze(n,10),n.end()}function iM(r,e,t){var n=qn(),i=(r||{}).Workbook||{},s=i.Sheets||[],l=i.WBProps||{},c=t.biff==8,f=t.biff==5;if(ze(n,2057,av(r,5,t)),t.bookType=="xla"&&ze(n,135),ze(n,225,c?Ai(1200):null),ze(n,193,kB(2)),f&&ze(n,191),f&&ze(n,192),ze(n,226),ze(n,92,PB("SheetJS",t)),ze(n,66,Ai(c?1200:1252)),c&&ze(n,353,Ai(0)),c&&ze(n,448),ze(n,317,sN(r.SheetNames.length)),c&&r.vbaraw&&ze(n,211),c&&r.vbaraw){var h=l.CodeName||"ThisWorkbook";ze(n,442,KA(h))}ze(n,156,Ai(17)),ze(n,25,An(!1)),ze(n,18,An(!1)),ze(n,19,Ai(0)),c&&ze(n,431,An(!1)),c&&ze(n,444,Ai(0)),ze(n,61,HB()),ze(n,64,An(!1)),ze(n,141,Ai(0)),ze(n,34,An(cF(r)=="true")),ze(n,14,An(!0)),c&&ze(n,439,An(!1)),ze(n,218,Ai(0)),KF(n,r,t),QF(n,r.SSF,t),JF(n,t),c&&ze(n,352,An(!1));var d=n.end(),m=qn();c&&ze(m,140,rN()),c&&t.Strings&&qF(m,252,zB(t.Strings)),ze(m,10);var g=m.end(),x=qn(),b=0,S=0;for(S=0;S<r.SheetNames.length;++S)b+=(c?12:11)+(c?2:1)*r.SheetNames[S].length;var w=d.length+b+g.length;for(S=0;S<r.SheetNames.length;++S){var T=s[S]||{};ze(x,133,jB({pos:w,hs:T.Hidden||0,dt:0,name:r.SheetNames[S]},t)),w+=e[S].length}var A=x.end();if(b!=A.length)throw new Error("BS8 "+b+" != "+A.length);var E=[];return d.length&&E.push(d),A.length&&E.push(A),g.length&&E.push(g),ln(E)}function sM(r,e){var t=e||{},n=[];r&&!r.SSF&&(r.SSF=Gn(wr)),r&&r.SSF&&(np(),rp(r.SSF),t.revssf=ip(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,hv(t),t.cellXfs=[],Va(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var i=0;i<r.SheetNames.length;++i)n[n.length]=nM(i,t,r);return n.unshift(iM(r,n,t)),ln(n)}function E3(r,e){for(var t=0;t<=r.SheetNames.length;++t){var n=r.Sheets[r.SheetNames[t]];if(!(!n||!n["!ref"])){var i=fi(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return sM(r,e);case 4:case 3:case 2:return YF(r,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function aM(r,e,t,n){for(var i=r["!merges"]||[],s=[],l=e.s.c;l<=e.e.c;++l){for(var c=0,f=0,h=0;h<i.length;++h)if(!(i[h].s.r>t||i[h].s.c>l)&&!(i[h].e.r<t||i[h].e.c<l)){if(i[h].s.r<t||i[h].s.c<l){c=-1;break}c=i[h].e.r-i[h].s.r+1,f=i[h].e.c-i[h].s.c+1;break}if(!(c<0)){var d=Wt({r:t,c:l}),m=n.dense?(r[t]||[])[l]:r[d],g=m&&m.v!=null&&(m.h||IO(m.w||(Gs(m),m.w)||""))||"",x={};c>1&&(x.rowspan=c),f>1&&(x.colspan=f),n.editable?g='<span contenteditable="true">'+g+"</span>":m&&(x["data-t"]=m&&m.t||"z",m.v!=null&&(x["data-v"]=m.v),m.z!=null&&(x["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+m.l.Target+'">'+g+"</a>")),x.id=(n.id||"sjs")+"-"+d,s.push(je("td",g,x))}}var b="<tr>";return b+s.join("")+"</tr>"}var lM='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',oM="</body></html>";function cM(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function C3(r,e){var t=e||{},n=t.header!=null?t.header:lM,i=t.footer!=null?t.footer:oM,s=[n],l=fi(r["!ref"]);t.dense=Array.isArray(r),s.push(cM(r,l,t));for(var c=l.s.r;c<=l.e.r;++c)s.push(aM(r,l,c,t));return s.push("</table>"+i),s.join("")}function A3(r,e,t){var n=t||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?Xr(n.origin):n.origin;i=l.r,s=l.c}var c=e.getElementsByTagName("tr"),f=Math.min(n.sheetRows||1e7,c.length),h={s:{r:0,c:0},e:{r:i,c:s}};if(r["!ref"]){var d=fi(r["!ref"]);h.s.r=Math.min(h.s.r,d.s.r),h.s.c=Math.min(h.s.c,d.s.c),h.e.r=Math.max(h.e.r,d.e.r),h.e.c=Math.max(h.e.c,d.e.c),i==-1&&(h.e.r=i=d.e.r+1)}var m=[],g=0,x=r["!rows"]||(r["!rows"]=[]),b=0,S=0,w=0,T=0,A=0,E=0;for(r["!cols"]||(r["!cols"]=[]);b<c.length&&S<f;++b){var _=c[b];if(vw(_)){if(n.display)continue;x[S]={hidden:!0}}var B=_.children;for(w=T=0;w<B.length;++w){var F=B[w];if(!(n.display&&vw(F))){var O=F.hasAttribute("data-v")?F.getAttribute("data-v"):F.hasAttribute("v")?F.getAttribute("v"):HO(F.innerHTML),H=F.getAttribute("data-z")||F.getAttribute("z");for(g=0;g<m.length;++g){var N=m[g];N.s.c==T+s&&N.s.r<S+i&&S+i<=N.e.r&&(T=N.e.c+1-s,g=-1)}E=+F.getAttribute("colspan")||1,((A=+F.getAttribute("rowspan")||1)>1||E>1)&&m.push({s:{r:S+i,c:T+s},e:{r:S+i+(A||1)-1,c:T+s+(E||1)-1}});var I={t:"s",v:O},P=F.getAttribute("data-t")||F.getAttribute("t")||"";O!=null&&(O.length==0?I.t=P||"z":n.raw||O.trim().length==0||P=="s"||(O==="TRUE"?I={t:"b",v:!0}:O==="FALSE"?I={t:"b",v:!1}:isNaN(Us(O))?isNaN(_0(O).getDate())||(I={t:"d",v:Dn(O)},n.cellDates||(I={t:"n",v:Wn(I.v)}),I.z=n.dateNF||wr[14]):I={t:"n",v:Us(O)})),I.z===void 0&&H!=null&&(I.z=H);var q="",K=F.getElementsByTagName("A");if(K&&K.length)for(var ie=0;ie<K.length&&!(K[ie].hasAttribute("href")&&(q=K[ie].getAttribute("href"),q.charAt(0)!="#"));++ie);q&&q.charAt(0)!="#"&&(I.l={Target:q}),n.dense?(r[S+i]||(r[S+i]=[]),r[S+i][T+s]=I):r[Wt({c:T+s,r:S+i})]=I,h.e.c<T+s&&(h.e.c=T+s),T+=E}}++S}return m.length&&(r["!merges"]=(r["!merges"]||[]).concat(m)),h.e.r=Math.max(h.e.r,S-1+i),r["!ref"]=Lr(h),S>=f&&(r["!fullref"]=Lr((h.e.r=c.length-b+S-1+i,h))),r}function T3(r,e){var t=e||{},n=t.dense?[]:{};return A3(n,r,e)}function fM(r,e){return Nl(T3(r,e),e)}function vw(r){var e="",t=uM(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function uM(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var hM=(function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+k0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return Ir+e}})(),yw=(function(){var r=function(s){return qt(s).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,n=function(s,l,c){var f=[];f.push('      <table:table table:name="'+qt(l.SheetNames[c])+`" table:style-name="ta1">
`);var h=0,d=0,m=fi(s["!ref"]||"A1"),g=s["!merges"]||[],x=0,b=Array.isArray(s);if(s["!cols"])for(d=0;d<=m.e.c;++d)f.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var S="",w=s["!rows"]||[];for(h=0;h<m.s.r;++h)S=w[h]?' table:style-name="ro'+w[h].ods+'"':"",f.push("        <table:table-row"+S+`></table:table-row>
`);for(;h<=m.e.r;++h){for(S=w[h]?' table:style-name="ro'+w[h].ods+'"':"",f.push("        <table:table-row"+S+`>
`),d=0;d<m.s.c;++d)f.push(e);for(;d<=m.e.c;++d){var T=!1,A={},E="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>d)&&!(g[x].s.r>h)&&!(g[x].e.c<d)&&!(g[x].e.r<h)){(g[x].s.c!=d||g[x].s.r!=h)&&(T=!0),A["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,A["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(T){f.push(t);continue}var _=Wt({r:h,c:d}),B=b?(s[h]||[])[d]:s[_];if(B&&B.f&&(A["table:formula"]=qt(N7(B.f)),B.F&&B.F.slice(0,_.length)==_)){var F=fi(B.F);A["table:number-matrix-columns-spanned"]=F.e.c-F.s.c+1,A["table:number-matrix-rows-spanned"]=F.e.r-F.s.r+1}if(!B){f.push(e);continue}switch(B.t){case"b":E=B.v?"TRUE":"FALSE",A["office:value-type"]="boolean",A["office:boolean-value"]=B.v?"true":"false";break;case"n":E=B.w||String(B.v||0),A["office:value-type"]="float",A["office:value"]=B.v||0;break;case"s":case"str":E=B.v==null?"":B.v,A["office:value-type"]="string";break;case"d":E=B.w||Dn(B.v).toISOString(),A["office:value-type"]="date",A["office:date-value"]=Dn(B.v).toISOString(),A["table:style-name"]="ce1";break;default:f.push(e);continue}var O=r(E);if(B.l&&B.l.Target){var H=B.l.Target;H=H.charAt(0)=="#"?"#"+R7(H.slice(1)):H,H.charAt(0)!="#"&&!H.match(/^\w+:/)&&(H="../"+H),O=je("text:a",O,{"xlink:href":H.replace(/&/g,"&amp;")})}f.push("          "+je("table:table-cell",je("text:p",O,{}),A)+`
`)}f.push(`        </table:table-row>
`)}return f.push(`      </table:table>
`),f.join("")},i=function(s,l){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var d=0;d<h["!cols"].length;++d)if(h["!cols"][d]){var m=h["!cols"][d];if(m.width==null&&m.wpx==null&&m.wch==null)continue;lv(m),m.ods=c;var g=h["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++c}}});var f=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var d=0;d<h["!rows"].length;++d)if(h["!rows"][d]){h["!rows"][d].ods=f;var m=h["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+f+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),s.push(`  </style:style>
`),++f}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(l,c){var f=[Ir],h=k0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=k0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(f.push("<office:document"+h+d+`>
`),f.push(HA().replace(/office:document-meta/g,"office:meta"))):f.push("<office:document-content"+h+`>
`),i(f,l),f.push(`  <office:body>
`),f.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)f.push(n(l.Sheets[l.SheetNames[m]],l,m));return f.push(`    </office:spreadsheet>
`),f.push(`  </office:body>
`),c.bookType=="fods"?f.push("</office:document>"):f.push("</office:document-content>"),f.join("")}})();function _3(r,e){if(e.bookType=="fods")return yw(r,e);var t=K1(),n="",i=[],s=[];return n="mimetype",gt(t,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",gt(t,n,yw(r,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",gt(t,n,hM(r,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",gt(t,n,Ir+HA()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",gt(t,n,CB(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",gt(t,n,wB(i)),t}function yd(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function dM(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):zi(D0(r))}function pM(r,e){e:for(var t=0;t<=r.length-e.length;++t){for(var n=0;n<e.length;++n)if(r[t+n]!=e[n])continue e;return!0}return!1}function Ma(r){var e=r.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(i){t.set(i,n),n+=i.length}),t}function mM(r,e,t){var n=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,n-6176);r[e+15]|=n>>7,r[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)r[e+s]=i&255;r[e+15]|=t>=0?0:128}function O0(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function Ut(r){var e=new Uint8Array(7);e[0]=r&127;var t=1;e:if(r>127){if(e[t-1]|=128,e[t]=r>>7&127,++t,r<=16383||(e[t-1]|=128,e[t]=r>>14&127,++t,r<=2097151)||(e[t-1]|=128,e[t]=r>>21&127,++t,r<=268435455)||(e[t-1]|=128,e[t]=r/256>>>21&127,++t,r<=34359738367)||(e[t-1]|=128,e[t]=r/65536>>>21&127,++t,r<=4398046511103))break e;e[t-1]|=128,e[t]=r/16777216>>>21&127,++t}return e.slice(0,t)}function Ro(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function jr(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],i=O0(r,t),s=i&7;i=Math.floor(i/8);var l=0,c;if(i==0)break;switch(s){case 0:{for(var f=t[0];r[t[0]++]>=128;);c=r.slice(f,t[0])}break;case 5:l=4,c=r.slice(t[0],t[0]+l),t[0]+=l;break;case 1:l=8,c=r.slice(t[0],t[0]+l),t[0]+=l;break;case 2:l=O0(r,t),c=r.slice(t[0],t[0]+l),t[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var h={data:c,type:s};e[i]==null?e[i]=[h]:e[i].push(h)}return e}function rn(r){var e=[];return r.forEach(function(t,n){t.forEach(function(i){i.data&&(e.push(Ut(n*8+i.type)),i.type==2&&e.push(Ut(i.data.length)),e.push(i.data))})}),Ma(e)}function Pi(r){for(var e,t=[],n=[0];n[0]<r.length;){var i=O0(r,n),s=jr(r.slice(n[0],n[0]+i));n[0]+=i;var l={id:Ro(s[1][0].data),messages:[]};s[2].forEach(function(c){var f=jr(c.data),h=Ro(f[3][0].data);l.messages.push({meta:f,data:r.slice(n[0],n[0]+h)}),n[0]+=h}),(e=s[3])!=null&&e[0]&&(l.merge=Ro(s[3][0].data)>>>0>0),t.push(l)}return t}function yo(r){var e=[];return r.forEach(function(t){var n=[];n[1]=[{data:Ut(t.id),type:0}],n[2]=[],t.merge!=null&&(n[3]=[{data:Ut(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:Ut(l.data.length)}],n[2].push({data:rn(l.meta),type:2})});var s=rn(n);e.push(Ut(s.length)),e.push(s),i.forEach(function(l){return e.push(l)})}),Ma(e)}function gM(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=O0(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var l=e[t[0]++]>>2;if(l<60)++l;else{var c=l-59;l=e[t[0]],c>1&&(l|=e[t[0]+1]<<8),c>2&&(l|=e[t[0]+2]<<16),c>3&&(l|=e[t[0]+3]<<24),l>>>=0,l++,t[0]+=c}i.push(e.slice(t[0],t[0]+l)),t[0]+=l;continue}else{var f=0,h=0;if(s==1?(h=(e[t[0]]>>2&7)+4,f=(e[t[0]++]&224)<<3,f|=e[t[0]++]):(h=(e[t[0]++]>>2)+1,s==2?(f=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(f=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[Ma(i)],f==0)throw new Error("Invalid offset 0");if(f>i[0].length)throw new Error("Invalid offset beyond length");if(h>=f)for(i.push(i[0].slice(-f)),h-=f;h>=i[i.length-1].length;)i.push(i[i.length-1]),h-=i[i.length-1].length;i.push(i[0].slice(-f,-f+h))}}var d=Ma(i);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function ji(r){for(var e=[],t=0;t<r.length;){var n=r[t++],i=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(gM(n,r.slice(t,t+i))),t+=i}if(t!==r.length)throw new Error("data is not a valid framed stream!");return Ma(e)}function bo(r){for(var e=[],t=0;t<r.length;){var n=Math.min(r.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=Ut(n),l=s.length;e.push(s),n<=60?(l++,e.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(r.slice(t,t+n)),l+=n,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,t+=n}return Ma(e)}function Xg(r,e){var t=new Uint8Array(32),n=yd(t),i=12,s=0;switch(t[0]=5,r.t){case"n":t[1]=2,mM(t,i,r.v),s|=1,i+=16;break;case"b":t[1]=6,n.setFloat64(i,r.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[1]=3,n.setUint32(i,e.indexOf(r.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(8,s,!0),t.slice(0,i)}function Yg(r,e){var t=new Uint8Array(32),n=yd(t),i=12,s=0;switch(t[0]=3,r.t){case"n":t[2]=2,n.setFloat64(i,r.v,!0),s|=32,i+=8;break;case"b":t[2]=6,n.setFloat64(i,r.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[2]=3,n.setUint32(i,e.indexOf(r.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(4,s,!0),t.slice(0,i)}function wa(r){var e=jr(r);return O0(e[1][0].data)}function xM(r,e,t){var n,i,s,l;if(!((n=r[6])!=null&&n[0])||!((i=r[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(s=r[8])==null?void 0:s[0])==null?void 0:l.data)&&Ro(r[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var f=0,h=yd(r[7][0].data),d=0,m=[],g=yd(r[4][0].data),x=0,b=[],S=0;S<e.length;++S){if(e[S]==null){h.setUint16(S*2,65535,!0),g.setUint16(S*2,65535);continue}h.setUint16(S*2,d,!0),g.setUint16(S*2,x,!0);var w,T;switch(typeof e[S]){case"string":w=Xg({t:"s",v:e[S]},t),T=Yg({t:"s",v:e[S]},t);break;case"number":w=Xg({t:"n",v:e[S]},t),T=Yg({t:"n",v:e[S]},t);break;case"boolean":w=Xg({t:"b",v:e[S]},t),T=Yg({t:"b",v:e[S]},t);break;default:throw new Error("Unsupported value "+e[S])}m.push(w),d+=w.length,b.push(T),x+=T.length,++f}for(r[2][0].data=Ut(f);S<r[7][0].data.length/2;++S)h.setUint16(S*2,65535,!0),g.setUint16(S*2,65535,!0);return r[6][0].data=Ma(m),r[3][0].data=Ma(b),f}function vM(r,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=fi(t["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Lr(n)));var s=bd(t,{range:n,header:1}),l=["~Sh33tJ5~"];s.forEach(function(M){return M.forEach(function(R){typeof R=="string"&&l.push(R)})});var c={},f=[],h=Zt.read(e.numbers,{type:"base64"});h.FileIndex.map(function(M,R){return[M,h.FullPaths[R]]}).forEach(function(M){var R=M[0],W=M[1];if(R.type==2&&R.name.match(/\.iwa/)){var ee=R.content,ye=ji(ee),xe=Pi(ye);xe.forEach(function(Te){f.push(Te.id),c[Te.id]={deps:[],location:W,type:Ro(Te.messages[0].meta[1][0].data)}})}}),f.sort(function(M,R){return M-R});var d=f.filter(function(M){return M>1}).map(function(M){return[M,Ut(M)]});h.FileIndex.map(function(M,R){return[M,h.FullPaths[R]]}).forEach(function(M){var R=M[0];if(M[1],!!R.name.match(/\.iwa/)){var W=Pi(ji(R.content));W.forEach(function(ee){ee.messages.forEach(function(ye){d.forEach(function(xe){ee.messages.some(function(Te){return Ro(Te.meta[1][0].data)!=11006&&pM(Te.data,xe[1])})&&c[xe[0]].deps.push(ee.id)})})})}});for(var m=Zt.find(h,c[1].location),g=Pi(ji(m.content)),x,b=0;b<g.length;++b){var S=g[b];S.id==1&&(x=S)}var w=wa(jr(x.messages[0].data)[1][0].data);for(m=Zt.find(h,c[w].location),g=Pi(ji(m.content)),b=0;b<g.length;++b)S=g[b],S.id==w&&(x=S);for(w=wa(jr(x.messages[0].data)[2][0].data),m=Zt.find(h,c[w].location),g=Pi(ji(m.content)),b=0;b<g.length;++b)S=g[b],S.id==w&&(x=S);for(w=wa(jr(x.messages[0].data)[2][0].data),m=Zt.find(h,c[w].location),g=Pi(ji(m.content)),b=0;b<g.length;++b)S=g[b],S.id==w&&(x=S);var T=jr(x.messages[0].data);{T[6][0].data=Ut(n.e.r+1),T[7][0].data=Ut(n.e.c+1);var A=wa(T[46][0].data),E=Zt.find(h,c[A].location),_=Pi(ji(E.content));{for(var B=0;B<_.length&&_[B].id!=A;++B);if(_[B].id!=A)throw"Bad ColumnRowUIDMapArchive";var F=jr(_[B].messages[0].data);F[1]=[],F[2]=[],F[3]=[];for(var O=0;O<=n.e.c;++O){var H=[];H[1]=H[2]=[{type:0,data:Ut(O+420690)}],F[1].push({type:2,data:rn(H)}),F[2].push({type:0,data:Ut(O)}),F[3].push({type:0,data:Ut(O)})}F[4]=[],F[5]=[],F[6]=[];for(var N=0;N<=n.e.r;++N)H=[],H[1]=H[2]=[{type:0,data:Ut(N+726270)}],F[4].push({type:2,data:rn(H)}),F[5].push({type:0,data:Ut(N)}),F[6].push({type:0,data:Ut(N)});_[B].messages[0].data=rn(F)}E.content=bo(yo(_)),E.size=E.content.length,delete T[46];var I=jr(T[4][0].data);{I[7][0].data=Ut(n.e.r+1);var P=jr(I[1][0].data),q=wa(P[2][0].data);E=Zt.find(h,c[q].location),_=Pi(ji(E.content));{if(_[0].id!=q)throw"Bad HeaderStorageBucket";var K=jr(_[0].messages[0].data);for(N=0;N<s.length;++N){var ie=jr(K[2][0].data);ie[1][0].data=Ut(N),ie[4][0].data=Ut(s[N].length),K[2][N]={type:K[2][0].type,data:rn(ie)}}_[0].messages[0].data=rn(K)}E.content=bo(yo(_)),E.size=E.content.length;var le=wa(I[2][0].data);E=Zt.find(h,c[le].location),_=Pi(ji(E.content));{if(_[0].id!=le)throw"Bad HeaderStorageBucket";for(K=jr(_[0].messages[0].data),O=0;O<=n.e.c;++O)ie=jr(K[2][0].data),ie[1][0].data=Ut(O),ie[4][0].data=Ut(n.e.r+1),K[2][O]={type:K[2][0].type,data:rn(ie)};_[0].messages[0].data=rn(K)}E.content=bo(yo(_)),E.size=E.content.length;var Z=wa(I[4][0].data);(function(){for(var M=Zt.find(h,c[Z].location),R=Pi(ji(M.content)),W,ee=0;ee<R.length;++ee){var ye=R[ee];ye.id==Z&&(W=ye)}var xe=jr(W.messages[0].data);{xe[3]=[];var Te=[];l.forEach(function(Ke,ct){Te[1]=[{type:0,data:Ut(ct)}],Te[2]=[{type:0,data:Ut(1)}],Te[3]=[{type:2,data:dM(Ke)}],xe[3].push({type:2,data:rn(Te)})})}W.messages[0].data=rn(xe);var be=yo(R),tt=bo(be);M.content=tt,M.size=M.content.length})();var ne=jr(I[3][0].data);{var ve=ne[1][0];delete ne[2];var Ee=jr(ve.data);{var Ne=wa(Ee[2][0].data);(function(){for(var M=Zt.find(h,c[Ne].location),R=Pi(ji(M.content)),W,ee=0;ee<R.length;++ee){var ye=R[ee];ye.id==Ne&&(W=ye)}var xe=jr(W.messages[0].data);{delete xe[6],delete ne[7];var Te=new Uint8Array(xe[5][0].data);xe[5]=[];for(var be=0,tt=0;tt<=n.e.r;++tt){var Ke=jr(Te);be+=xM(Ke,s[tt],l),Ke[1][0].data=Ut(tt),xe[5].push({data:rn(Ke),type:2})}xe[1]=[{type:0,data:Ut(n.e.c+1)}],xe[2]=[{type:0,data:Ut(n.e.r+1)}],xe[3]=[{type:0,data:Ut(be)}],xe[4]=[{type:0,data:Ut(n.e.r+1)}]}W.messages[0].data=rn(xe);var ct=yo(R),Ce=bo(ct);M.content=Ce,M.size=M.content.length})()}ve.data=rn(Ee)}I[3][0].data=rn(ne)}T[4][0].data=rn(I)}x.messages[0].data=rn(T);var j=yo(g),D=bo(j);return m.content=D,m.size=m.content.length,h}function yM(r){return function(t){for(var n=0;n!=r.length;++n){var i=r[n];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function hv(r){yM([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function bM(r,e){return e.bookType=="ods"?_3(r,e):e.bookType=="numbers"?vM(r,e):e.bookType=="xlsb"?SM(r,e):wM(r,e)}function SM(r,e){Ao=1024,r&&!r.SSF&&(r.SSF=Gn(wr)),r&&r.SSF&&(np(),rp(r.SSF),e.revssf=ip(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,d0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",n=c3.indexOf(e.bookType)>-1,i=PA();hv(e=e||{});var s=K1(),l="",c=0;if(e.cellXfs=[],Va(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),l="docProps/core.xml",gt(s,l,UA(r.Props,e)),i.coreprops.push(l),Vt(e.rels,2,l,Lt.CORE_PROPS),l="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var f=[],h=0;h<r.SheetNames.length;++h)(r.Workbook.Sheets[h]||{}).Hidden!=2&&f.push(r.SheetNames[h]);r.Props.SheetNames=f}for(r.Props.Worksheets=r.Props.SheetNames.length,gt(s,l,qA(r.Props)),i.extprops.push(l),Vt(e.rels,3,l,Lt.EXT_PROPS),r.Custprops!==r.Props&&un(r.Custprops||{}).length>0&&(l="docProps/custom.xml",gt(s,l,WA(r.Custprops)),i.custprops.push(l),Vt(e.rels,4,l,Lt.CUST_PROPS)),c=1;c<=r.SheetNames.length;++c){var d={"!id":{}},m=r.Sheets[r.SheetNames[c-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+c+"."+t,gt(s,l,CF(c-1,l,e,r,d)),i.sheets.push(l),Vt(e.wbrels,-1,"worksheets/sheet"+c+"."+t,Lt.WS[0])}if(m){var x=m["!comments"],b=!1,S="";x&&x.length>0&&(S="xl/comments"+c+"."+t,gt(s,S,_F(x,S)),i.comments.push(S),Vt(d,-1,"../comments"+c+"."+t,Lt.CMNT),b=!0),m["!legacy"]&&b&&gt(s,"xl/drawings/vmlDrawing"+c+".vml",l3(c,m["!comments"])),delete m["!comments"],delete m["!legacy"]}d["!id"].rId1&&gt(s,zA(l),Bo(d))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,gt(s,l,TF(e.Strings,l,e)),i.strs.push(l),Vt(e.wbrels,-1,"sharedStrings."+t,Lt.SST)),l="xl/workbook."+t,gt(s,l,EF(r,l)),i.workbooks.push(l),Vt(e.rels,1,l,Lt.WB),l="xl/theme/theme1.xml",gt(s,l,s3(r.Themes,e)),i.themes.push(l),Vt(e.wbrels,-1,"theme/theme1.xml",Lt.THEME),l="xl/styles."+t,gt(s,l,AF(r,l,e)),i.styles.push(l),Vt(e.wbrels,-1,"styles."+t,Lt.STY),r.vbaraw&&n&&(l="xl/vbaProject.bin",gt(s,l,r.vbaraw),i.vba.push(l),Vt(e.wbrels,-1,"vbaProject.bin",Lt.VBA)),l="xl/metadata."+t,gt(s,l,DF(l)),i.metadata.push(l),Vt(e.wbrels,-1,"metadata."+t,Lt.XLMETA),gt(s,"[Content_Types].xml",jA(i,e)),gt(s,"_rels/.rels",Bo(e.rels)),gt(s,"xl/_rels/workbook."+t+".rels",Bo(e.wbrels)),delete e.revssf,delete e.ssf,s}function wM(r,e){Ao=1024,r&&!r.SSF&&(r.SSF=Gn(wr)),r&&r.SSF&&(np(),rp(r.SSF),e.revssf=ip(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,d0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",n=c3.indexOf(e.bookType)>-1,i=PA();hv(e=e||{});var s=K1(),l="",c=0;if(e.cellXfs=[],Va(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),l="docProps/core.xml",gt(s,l,UA(r.Props,e)),i.coreprops.push(l),Vt(e.rels,2,l,Lt.CORE_PROPS),l="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var f=[],h=0;h<r.SheetNames.length;++h)(r.Workbook.Sheets[h]||{}).Hidden!=2&&f.push(r.SheetNames[h]);r.Props.SheetNames=f}r.Props.Worksheets=r.Props.SheetNames.length,gt(s,l,qA(r.Props)),i.extprops.push(l),Vt(e.rels,3,l,Lt.EXT_PROPS),r.Custprops!==r.Props&&un(r.Custprops||{}).length>0&&(l="docProps/custom.xml",gt(s,l,WA(r.Custprops)),i.custprops.push(l),Vt(e.rels,4,l,Lt.CUST_PROPS));var d=["SheetJ5"];for(e.tcid=0,c=1;c<=r.SheetNames.length;++c){var m={"!id":{}},g=r.Sheets[r.SheetNames[c-1]],x=(g||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+c+"."+t,gt(s,l,v3(c-1,e,r,m)),i.sheets.push(l),Vt(e.wbrels,-1,"worksheets/sheet"+c+"."+t,Lt.WS[0])}if(g){var b=g["!comments"],S=!1,w="";if(b&&b.length>0){var T=!1;b.forEach(function(A){A[1].forEach(function(E){E.T==!0&&(T=!0)})}),T&&(w="xl/threadedComments/threadedComment"+c+"."+t,gt(s,w,JN(b,d,e)),i.threadedcomments.push(w),Vt(m,-1,"../threadedComments/threadedComment"+c+"."+t,Lt.TCMNT)),w="xl/comments"+c+"."+t,gt(s,w,o3(b)),i.comments.push(w),Vt(m,-1,"../comments"+c+"."+t,Lt.CMNT),S=!0}g["!legacy"]&&S&&gt(s,"xl/drawings/vmlDrawing"+c+".vml",l3(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}m["!id"].rId1&&gt(s,zA(l),Bo(m))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,gt(s,l,JA(e.Strings,e)),i.strs.push(l),Vt(e.wbrels,-1,"sharedStrings."+t,Lt.SST)),l="xl/workbook."+t,gt(s,l,S3(r)),i.workbooks.push(l),Vt(e.rels,1,l,Lt.WB),l="xl/theme/theme1.xml",gt(s,l,s3(r.Themes,e)),i.themes.push(l),Vt(e.wbrels,-1,"theme/theme1.xml",Lt.THEME),l="xl/styles."+t,gt(s,l,n3(r,e)),i.styles.push(l),Vt(e.wbrels,-1,"styles."+t,Lt.STY),r.vbaraw&&n&&(l="xl/vbaProject.bin",gt(s,l,r.vbaraw),i.vba.push(l),Vt(e.wbrels,-1,"vbaProject.bin",Lt.VBA)),l="xl/metadata."+t,gt(s,l,a3()),i.metadata.push(l),Vt(e.wbrels,-1,"metadata."+t,Lt.XLMETA),d.length>1&&(l="xl/persons/person.xml",gt(s,l,eR(d)),i.people.push(l),Vt(e.wbrels,-1,"persons/person.xml",Lt.PEOPLE)),gt(s,"[Content_Types].xml",jA(i,e)),gt(s,"_rels/.rels",Bo(e.rels)),gt(s,"xl/_rels/workbook."+t+".rels",Bo(e.wbrels)),delete e.revssf,delete e.ssf,s}function EM(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=Ws(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function D3(r,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return ef(e.file,Zt.write(r,{type:Pt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Zt.write(r,e)}function CM(r,e){var t=Gn(e||{}),n=bM(r,t);return AM(n,t)}function AM(r,e){var t={},n=Pt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=n;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=r.FullPaths?Zt.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):r.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(tp(i))}return e.password&&typeof encrypt_agile<"u"?D3(encrypt_agile(i,e.password),e):e.type==="file"?ef(e.file,i):e.type=="string"?c0(i):i}function TM(r,e){var t=e||{},n=UF(r,t);return D3(n,t)}function as(r,e,t){t||(t="");var n=t+r;switch(e.type){case"base64":return T0(D0(n));case"binary":return D0(n);case"string":return r;case"file":return ef(e.file,n,"utf8");case"buffer":return Pt?Ks(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):as(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function _M(r,e){switch(e.type){case"base64":return T0(r);case"binary":return r;case"string":return r;case"file":return ef(e.file,r,"binary");case"buffer":return Pt?Ks(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Iu(r,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",n=0;n<r.length;++n)t+=String.fromCharCode(r[n]);return e.type=="base64"?T0(t):e.type=="string"?c0(t):t;case"file":return ef(e.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+e.type)}}function p0(r,e){tO(),hF(r);var t=Gn(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var n=p0(r,t);return t.type="array",tp(n)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=r.SheetNames.indexOf(t.sheet),!r.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return as(zF(r,t),t);case"slk":case"sylk":return as(cN.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"htm":case"html":return as(C3(r.Sheets[r.SheetNames[i]],t),t);case"txt":return _M(k3(r.Sheets[r.SheetNames[i]],t),t);case"csv":return as(dv(r.Sheets[r.SheetNames[i]],t),t,"\uFEFF");case"dif":return as(fN.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"dbf":return Iu(oN.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"prn":return as(uN.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"rtf":return as(vN.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"eth":return as(ZA.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"fods":return as(_3(r,t),t);case"wk1":return Iu(hw.sheet_to_wk1(r.Sheets[r.SheetNames[i]],t),t);case"wk3":return Iu(hw.book_to_wk3(r,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),Iu(E3(r,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),TM(r,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return CM(r,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function DM(r,e,t,n,i,s,l,c){var f=fn(t),h=c.defval,d=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),m=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:t,enumerable:!1})}catch{g.__rowNum__=t}else g.__rowNum__=t;if(!l||r[t])for(var x=e.s.c;x<=e.e.c;++x){var b=l?r[t][x]:r[n[x]+f];if(b===void 0||b.t===void 0){if(h===void 0)continue;s[x]!=null&&(g[s[x]]=h);continue}var S=b.v;switch(b.t){case"z":if(S==null)break;continue;case"e":S=S==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(s[x]!=null){if(S==null)if(b.t=="e"&&S===null)g[s[x]]=null;else if(h!==void 0)g[s[x]]=h;else if(d&&S===null)g[s[x]]=null;else continue;else g[s[x]]=d&&(b.t!=="n"||b.t==="n"&&c.rawNumbers!==!1)?S:Gs(b,S,c);S!=null&&(m=!1)}}return{row:g,isempty:m}}function bd(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,i=1,s=[],l=0,c="",f={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},d=h.range!=null?h.range:r["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof d){case"string":f=dr(d);break;case"number":f=dr(r["!ref"]),f.s.r=d;break;default:f=d}n>0&&(i=0);var m=fn(f.s.r),g=[],x=[],b=0,S=0,w=Array.isArray(r),T=f.s.r,A=0,E={};w&&!r[T]&&(r[T]=[]);var _=h.skipHidden&&r["!cols"]||[],B=h.skipHidden&&r["!rows"]||[];for(A=f.s.c;A<=f.e.c;++A)if(!(_[A]||{}).hidden)switch(g[A]=yn(A),t=w?r[T][A]:r[g[A]+m],n){case 1:s[A]=A-f.s.c;break;case 2:s[A]=g[A];break;case 3:s[A]=h.header[A-f.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),c=l=Gs(t,null,h),S=E[l]||0,!S)E[l]=1;else{do c=l+"_"+S++;while(E[c]);E[l]=S,E[c]=1}s[A]=c}for(T=f.s.r+i;T<=f.e.r;++T)if(!(B[T]||{}).hidden){var F=DM(r,f,T,g,n,s,w,h);(F.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(x[b++]=F.row)}return x.length=b,x}var bw=/"/g;function kM(r,e,t,n,i,s,l,c){for(var f=!0,h=[],d="",m=fn(t),g=e.s.c;g<=e.e.c;++g)if(n[g]){var x=c.dense?(r[t]||[])[g]:r[n[g]+m];if(x==null)d="";else if(x.v!=null){f=!1,d=""+(c.rawNumbers&&x.t=="n"?x.v:Gs(x,null,c));for(var b=0,S=0;b!==d.length;++b)if((S=d.charCodeAt(b))===i||S===s||S===34||c.forceQuotes){d='"'+d.replace(bw,'""')+'"';break}d=="ID"&&(d='"ID"')}else x.f!=null&&!x.F?(f=!1,d="="+x.f,d.indexOf(",")>=0&&(d='"'+d.replace(bw,'""')+'"')):d="";h.push(d)}return c.blankrows===!1&&f?null:h.join(l)}function dv(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var i=dr(r["!ref"]),s=n.FS!==void 0?n.FS:",",l=s.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,f=c.charCodeAt(0),h=new RegExp((s=="|"?"\\|":s)+"+$"),d="",m=[];n.dense=Array.isArray(r);for(var g=n.skipHidden&&r["!cols"]||[],x=n.skipHidden&&r["!rows"]||[],b=i.s.c;b<=i.e.c;++b)(g[b]||{}).hidden||(m[b]=yn(b));for(var S=0,w=i.s.r;w<=i.e.r;++w)(x[w]||{}).hidden||(d=kM(r,i,w,m,l,f,s,n),d!=null&&(n.strip&&(d=d.replace(h,"")),(d||n.blankrows!==!1)&&t.push((S++?c:"")+d)));return delete n.dense,t.join("")}function k3(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=dv(r,e);return t}function OM(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var i=dr(r["!ref"]),s="",l=[],c,f=[],h=Array.isArray(r);for(c=i.s.c;c<=i.e.c;++c)l[c]=yn(c);for(var d=i.s.r;d<=i.e.r;++d)for(s=fn(d),c=i.s.c;c<=i.e.c;++c)if(e=l[c]+s,t=h?(r[d]||[])[c]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}f[f.length]=e+"="+n}return f}function O3(r,e,t){var n=t||{},i=+!n.skipHeader,s=r||{},l=0,c=0;if(s&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var f=typeof n.origin=="string"?Xr(n.origin):n.origin;l=f.r,c=f.c}var h,d={s:{c:0,r:0},e:{c,r:l+e.length-1+i}};if(s["!ref"]){var m=dr(s["!ref"]);d.e.c=Math.max(d.e.c,m.e.c),d.e.r=Math.max(d.e.r,m.e.r),l==-1&&(l=m.e.r+1,d.e.r=l+e.length-1+i)}else l==-1&&(l=0,d.e.r=e.length-1+i);var g=n.header||[],x=0;e.forEach(function(S,w){un(S).forEach(function(T){(x=g.indexOf(T))==-1&&(g[x=g.length]=T);var A=S[T],E="z",_="",B=Wt({c:c+x,r:l+w+i});h=B0(s,B),A&&typeof A=="object"&&!(A instanceof Date)?s[B]=A:(typeof A=="number"?E="n":typeof A=="boolean"?E="b":typeof A=="string"?E="s":A instanceof Date?(E="d",n.cellDates||(E="n",A=Wn(A)),_=n.dateNF||wr[14]):A===null&&n.nullError&&(E="e",A=0),h?(h.t=E,h.v=A,delete h.w,delete h.R,_&&(h.z=_)):s[B]=h={t:E,v:A},_&&(h.z=_))})}),d.e.c=Math.max(d.e.c,c+g.length-1);var b=fn(l);if(i)for(x=0;x<g.length;++x)s[yn(x+c)+b]={t:"s",v:g[x]};return s["!ref"]=Lr(d),s}function BM(r,e){return O3(null,r,e)}function B0(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=Xr(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?B0(r,Wt(e)):B0(r,Wt({r:e,c:t||0}))}function NM(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function RM(){return{SheetNames:[],Sheets:{}}}function FM(r,e,t,n){var i=1;if(!t)for(;i<=65535&&r.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var l=s&&s[1]||t;for(++i;i<=65535&&r.SheetNames.indexOf(t=l+i)!=-1;++i);}if(b3(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function MM(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=NM(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function LM(r,e){return r.z=e,r}function B3(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function IM(r,e,t){return B3(r,"#"+e,t)}function PM(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function jM(r,e,t,n){for(var i=typeof e!="string"?e:dr(e),s=typeof e=="string"?e:Lr(e),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c){var f=B0(r,l,c);f.t="n",f.F=s,delete f.v,l==i.s.r&&c==i.s.c&&(f.f=t,n&&(f.D=!0))}return r}var mn={encode_col:yn,encode_row:fn,encode_cell:Wt,encode_range:Lr,decode_col:rv,decode_row:tv,split_cell:tB,decode_cell:Xr,decode_range:fi,format_cell:Gs,sheet_add_aoa:NA,sheet_add_json:O3,sheet_add_dom:A3,aoa_to_sheet:Qo,json_to_sheet:BM,table_to_sheet:T3,table_to_book:fM,sheet_to_csv:dv,sheet_to_txt:k3,sheet_to_json:bd,sheet_to_html:C3,sheet_to_formulae:OM,sheet_to_row_object_array:bd,sheet_get_cell:B0,book_new:RM,book_append_sheet:FM,book_set_sheet_visibility:MM,cell_set_number_format:LM,cell_set_hyperlink:B3,cell_set_internal_link:IM,cell_add_comment:PM,sheet_set_array_formula:jM,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},$h={exports:{}},zM=$h.exports,Sw;function HM(){return Sw||(Sw=1,(function(r,e){(function(t,n){n()})(zM,function(){function t(h,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function n(h,d,m){var g=new XMLHttpRequest;g.open("GET",h),g.responseType="blob",g.onload=function(){f(g.response,d,m)},g.onerror=function(){console.error("could not download file")},g.send()}function i(h){var d=new XMLHttpRequest;d.open("HEAD",h,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function s(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(d)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof gl=="object"&&gl.global===gl?gl:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(h,d,m){var g=l.URL||l.webkitURL,x=document.createElement("a");d=d||h.name||"download",x.download=d,x.rel="noopener",typeof h=="string"?(x.href=h,x.origin===location.origin?s(x):i(x.href)?n(h,d,m):s(x,x.target="_blank")):(x.href=g.createObjectURL(h),setTimeout(function(){g.revokeObjectURL(x.href)},4e4),setTimeout(function(){s(x)},0))}:"msSaveOrOpenBlob"in navigator?function(h,d,m){if(d=d||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(t(h,m),d);else if(i(h))n(h,d,m);else{var g=document.createElement("a");g.href=h,g.target="_blank",setTimeout(function(){s(g)})}}:function(h,d,m,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof h=="string")return n(h,d,m);var x=h.type==="application/octet-stream",b=/constructor/i.test(l.HTMLElement)||l.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||x&&b||c)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var E=w.result;E=S?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=E:location=E,g=null},w.readAsDataURL(h)}else{var T=l.URL||l.webkitURL,A=T.createObjectURL(h);g?g.location=A:location.href=A,g=null,setTimeout(function(){T.revokeObjectURL(A)},4e4)}});l.saveAs=f.saveAs=f,r.exports=f})})($h)),$h.exports}var Is=HM();const UM=(r,e)=>{const[t,n]=Q.useState(r);return Q.useEffect(()=>{const i=setTimeout(()=>{n(r)},e);return()=>{clearTimeout(i)}},[r,e]),t};function VM({isVisible:r}){const{theme:e}=Q.useContext(r2);if(!r)return null;const[t,n]=Q.useState(!0),[i,s]=Q.useState(!1),[l,c]=Q.useState(!1),[f,h]=Q.useState([]),[d,m]=Q.useState(""),[g,x]=Q.useState([]),[b,S]=Q.useState({}),[w,T]=Q.useState([]),[A,E]=Q.useState([]),[_,B]=Q.useState(null),[F,O]=Q.useState(!1),[H,N]=Q.useState(null),[I,P]=Q.useState(!1),[q,K]=Q.useState(()=>JSON.parse(localStorage.getItem("saved_queries")||"[]")),[ie,le]=Q.useState(""),[Z,ne]=Q.useState(1),[ve,Ee]=Q.useState(10),[Ne,j]=Q.useState(""),D=UM(Ne,500);Q.useEffect(()=>{M(D)},[D]);const M=async(he="")=>{try{const Be=await(await fetch(`http://127.0.0.1:3001/api/tables?search=${encodeURIComponent(he)}`)).json();h(Be)}catch(Ie){console.error(Ie)}},R=he=>{m(he),x([]),T([]),E([]),B(null),ne(1),W(he)},W=async he=>{if(!(!he||b[he]))try{const Be=await(await fetch(`http://127.0.0.1:3001/api/columns/${encodeURIComponent(he)}`)).json();S(rt=>({...rt,[he]:Be}))}catch(Ie){console.error(Ie)}},ee=()=>{x([...g,{table:"",type:"INNER",leftCol:"",rightCol:"",conversion:null}])},ye=(he,Ie,Be)=>{const rt=[...g];rt[he][Ie]=Be,(Ie==="leftCol"||Ie==="rightCol")&&(rt[he].conversion=null),x(rt),Ie==="table"&&Be&&W(Be)},xe=(he,Ie)=>{const Be=[...g];Be[he].conversion=Ie,x(Be)},Te=he=>{x(g.filter((Ie,Be)=>Be!==he))},be=(he,Ie)=>{const Be=`${he}.${Ie}`;w.includes(Be)?T(w.filter(rt=>rt!==Be)):T([...w,Be])},tt=()=>{E([...A,{column:"",operator:"=",value:""}])},Ke=(he,Ie,Be)=>{const rt=[...A];rt[he][Ie]=Be,E(rt)},ct=he=>{E(A.filter((Ie,Be)=>Be!==he))},Ce=()=>{if(!ie.trim()){alert("Please enter a name for your query.");return}const he={id:Date.now(),name:ie,config:{primaryTable:d,joins:g,selectedColumns:w,filters:A},date:new Date().toLocaleString()},Ie=[...q,he];K(Ie),localStorage.setItem("saved_queries",JSON.stringify(Ie)),le(""),c(!1),alert("Query saved successfully!")},Ye=he=>{const{config:Ie}=he;m(Ie.primaryTable),x(Ie.joins),T(Ie.selectedColumns),E(Ie.filters),Ie.primaryTable&&W(Ie.primaryTable),Ie.joins.forEach(Be=>{Be.table&&W(Be.table)}),s(!1)},$e=he=>{const Ie=q.filter(Be=>Be.id!==he);K(Ie),localStorage.setItem("saved_queries",JSON.stringify(Ie))},De=()=>{if(!d)return null;let he=`SELECT ${w.length>0?w.join(", "):"*"} FROM ${d}`;g.forEach(Be=>{if(Be.table&&Be.leftCol&&Be.rightCol){let rt="";Be.conversion==="TO_CHAR_LEFT"?rt=`TO_CHAR(${Be.leftCol}) = ${Be.table}.${Be.rightCol}`:Be.conversion==="TO_NUMBER_RIGHT"?rt=`${Be.leftCol} = TO_NUMBER(${Be.table}.${Be.rightCol})`:Be.conversion==="TO_CHAR_RIGHT"?rt=`${Be.leftCol} = TO_CHAR(${Be.table}.${Be.rightCol})`:Be.conversion==="TO_NUMBER_LEFT"?rt=`TO_NUMBER(${Be.leftCol}) = ${Be.table}.${Be.rightCol}`:rt=`${Be.leftCol} = ${Be.table}.${Be.rightCol}`,he+=` ${Be.type} JOIN ${Be.table} ON ${rt}`}});const Ie=[];if(A.length>0){const Be=A.map((rt,vt)=>rt.column?(Ie.push(rt.value),`${rt.column} ${rt.operator} :${vt+1}`):null).filter(Boolean);Be.length>0&&(he+=` WHERE ${Be.join(" AND ")}`)}return{sql:he,params:Ie}},ot=async()=>{O(!0),N(null),ne(1);try{const he=De();if(!he)return;const Be=await(await fetch("http://127.0.0.1:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(he)})).json();if(Be.error)throw new Error(Be.error);B(Be)}catch(he){N(he.message)}finally{O(!1)}},St=he=>{if(!_||!_.rows||_.rows.length===0){alert("No data to export.");return}P(!0),setTimeout(()=>{try{const Be=[_.metaData.map($t=>$t.name),..._.rows],vt=`export_${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}`;if(he==="xlsx"){const $t=mn.book_new(),ft=mn.aoa_to_sheet(Be);mn.book_append_sheet($t,ft,"Results");const Bt=p0($t,{bookType:"xlsx",type:"array"}),Er=new Blob([Bt],{type:"application/octet-stream"});Is.saveAs(Er,`${vt}.xlsx`)}else if(he==="csv"){const $t=mn.aoa_to_sheet(Be),ft=mn.sheet_to_csv($t),Bt=new Blob([ft],{type:"text/csv;charset=utf-8"});Is.saveAs(Bt,`${vt}.csv`)}else if(he==="txt"){const $t=Be.map(Bt=>Bt.join("	")).join(`
`),ft=new Blob([$t],{type:"text/plain;charset=utf-8"});Is.saveAs(ft,`${vt}.txt`)}}catch(Ie){console.error("Export Error:",Ie),alert("Failed to export: "+Ie.message)}finally{P(!1)}},100)},jt=()=>{let he=[];return d&&b[d]&&(he=[...he,...b[d].map(Ie=>`${d}.${Ie.name}`)]),g.forEach(Ie=>{Ie.table&&b[Ie.table]&&(he=[...he,...b[Ie.table].map(Be=>`${Ie.table}.${Be.name}`)])}),he},Ct=he=>{let Ie=[];d&&b[d]&&(Ie=[...Ie,...b[d].map(Be=>({name:`${d}.${Be.name}`,type:Be.type}))]);for(let Be=0;Be<he;Be++){const rt=g[Be];rt.table&&b[rt.table]&&(Ie=[...Ie,...b[rt.table].map(vt=>({name:`${rt.table}.${vt.name}`,type:vt.type}))])}return Ie},er=Q.useMemo(()=>{if(!_||!_.rows)return[];const he=(Z-1)*ve;return _.rows.slice(he,he+ve)},[_,Z,ve]),Gt=_&&_.rows?Math.ceil(_.rows.length/ve):0;return C.jsxs("div",{className:`flex h-screen ${e.bg} overflow-hidden transition-colors duration-300 relative`,children:[I&&C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:C.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl flex flex-col items-center",children:[C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#f37021] mb-4"}),C.jsx("p",{className:"text-gray-700 font-semibold",children:"Exportando dados..."}),C.jsx("p",{className:"text-sm text-gray-500",children:"Por favor, aguarde."})]})}),C.jsxs("div",{className:`${e.sidebar} shadow-lg transition-all duration-300 ease-in-out flex flex-col ${t?"w-96":"w-12"} border-r ${e.border} z-20`,children:[C.jsxs("div",{className:`p-2 border-b ${e.border} flex justify-between items-center ${e.sidebar}`,children:[t&&C.jsx("h2",{className:`font-bold ${e.sidebarText}`,children:"Query Builder"}),C.jsx("button",{onClick:()=>n(!t),className:`p-1 hover:bg-gray-200 rounded ${e.sidebarText}`,title:t?"Collapse Sidebar":"Expand Sidebar",children:t?"":""})]}),t&&C.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[C.jsx("div",{className:`rounded-lg border ${e.border} p-3 shadow-sm ${e.sidebar}`,children:C.jsx("button",{onClick:()=>s(!0),className:`w-full text-xs border ${e.border} py-1 rounded hover:bg-gray-100 ${e.sidebarText}`,children:" Manage Saved Queries"})}),C.jsxs("div",{className:`rounded-lg border ${e.border} p-3 shadow-sm ${e.sidebar}`,children:[C.jsx("label",{className:`block text-xs font-bold uppercase mb-2 ${e.sidebarText}`,children:"1. Select Primary Table"}),C.jsx("input",{type:"text",placeholder:"Search tables...",className:`w-full border rounded p-2 mb-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none ${e.input} ${e.border}`,value:Ne,onChange:he=>j(he.target.value)}),C.jsx("div",{className:`border rounded h-32 overflow-y-auto ${e.bg} ${e.border}`,children:f.map(he=>C.jsx("div",{onClick:()=>R(he),className:`px-3 py-2 cursor-pointer text-sm border-b last:border-b-0 transition-colors ${e.border} ${d===he?`${e.primaryBtn} font-semibold`:`hover:bg-gray-100 ${e.text}`}`,children:he},he))}),d&&C.jsxs("div",{className:`text-xs mt-2 flex items-center ${e.accent}`,children:[" Selected: ",C.jsx("span",{className:"font-bold ml-1",children:d})]})]}),d&&C.jsxs("div",{className:`rounded-lg border ${e.border} p-3 shadow-sm ${e.sidebar}`,children:[C.jsxs("div",{className:"flex justify-between items-center mb-3",children:[C.jsx("label",{className:`block text-xs font-bold uppercase ${e.sidebarText}`,children:"2. Connections (Joins)"}),C.jsx("button",{onClick:ee,className:`text-xs px-2 py-1 rounded border transition-colors ${e.secondaryBtn} ${e.border}`,children:"+ Add"})]}),C.jsx("div",{className:"space-y-3",children:g.map((he,Ie)=>{const Be=Ct(Ie),rt=he.table&&b[he.table]?b[he.table]:[];let vt=null,$t=null;if(he.leftCol&&he.rightCol){const ft=Be.find(Er=>Er.name===he.leftCol)?.type,Bt=rt.find(Er=>Er.name===he.rightCol)?.type;ft&&Bt&&(ft===Bt?vt="valid":(vt="warning",ft==="NUMBER"&&(Bt==="VARCHAR2"||Bt==="CHAR")?$t="TO_CHAR_LEFT":(ft==="VARCHAR2"||ft==="CHAR")&&Bt==="NUMBER"&&($t="TO_CHAR_RIGHT")))}return C.jsxs("div",{className:`p-3 rounded border space-y-2 relative group ${e.bg} ${e.border}`,children:[C.jsxs("div",{className:"flex space-x-2",children:[C.jsxs("select",{className:`border rounded text-xs py-1 px-2 w-1/3 ${e.input} ${e.border}`,value:he.type,onChange:ft=>ye(Ie,"type",ft.target.value),children:[C.jsx("option",{value:"INNER",children:"INNER"}),C.jsx("option",{value:"LEFT",children:"LEFT"}),C.jsx("option",{value:"RIGHT",children:"RIGHT"})]}),C.jsxs("select",{className:`border rounded text-xs py-1 px-2 w-2/3 ${e.input} ${e.border}`,value:he.table,onChange:ft=>ye(Ie,"table",ft.target.value),children:[C.jsx("option",{value:"",children:"Link Table..."}),f.filter(ft=>ft!==d).map(ft=>C.jsx("option",{value:ft,children:ft},ft))]})]}),he.table&&C.jsxs("div",{className:"flex flex-col space-y-2",children:[C.jsx("div",{className:"flex items-center space-x-1",children:C.jsxs("select",{className:`w-full text-xs border rounded py-1 px-2 ${e.input} ${e.border}`,value:he.leftCol,onChange:ft=>ye(Ie,"leftCol",ft.target.value),children:[C.jsxs("option",{value:"",children:[d," Col..."]}),Be.map(ft=>C.jsxs("option",{value:ft.name,children:[ft.name," (",ft.type,")"]},ft.name))]})}),C.jsx("div",{className:"text-center text-gray-400 text-xs font-bold",children:"="}),C.jsx("div",{className:"flex items-center space-x-1",children:C.jsxs("select",{className:`w-full text-xs border rounded py-1 px-2 ${e.input} ${e.border}`,value:he.rightCol,onChange:ft=>ye(Ie,"rightCol",ft.target.value),children:[C.jsxs("option",{value:"",children:[he.table," Col..."]}),rt.map(ft=>C.jsxs("option",{value:ft.name,children:[ft.name," (",ft.type,")"]},ft.name))]})})]}),vt==="valid"&&C.jsx("div",{className:"text-xs text-green-600 flex items-center mt-1",children:" Types match"}),vt==="warning"&&!he.conversion&&C.jsxs("div",{className:"mt-2 bg-orange-50 p-2 rounded border border-orange-100",children:[C.jsx("div",{className:"text-xs text-orange-600 font-semibold flex items-center",children:" Type Mismatch"}),$t&&C.jsx("button",{onClick:()=>xe(Ie,$t),className:"mt-1 w-full bg-orange-100 hover:bg-orange-200 text-orange-800 py-1 rounded text-xs transition-colors",children:"Auto-Fix (Convert)"})]}),he.conversion&&C.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[" Fix applied: ",he.conversion]}),C.jsx("button",{onClick:()=>Te(Ie),className:"absolute top-1 right-1 text-gray-400 hover:text-red-500 p-1",children:""})]},Ie)})})]}),d&&C.jsxs("div",{className:`rounded-lg border ${e.border} p-3 shadow-sm ${e.sidebar}`,children:[C.jsx("label",{className:`block text-xs font-bold uppercase mb-2 ${e.sidebarText}`,children:"3. Select Columns"}),C.jsxs("div",{className:`max-h-48 overflow-y-auto border rounded p-2 space-y-2 ${e.bg} ${e.border}`,children:[C.jsxs("div",{children:[C.jsx("div",{className:`font-bold text-xs mb-1 sticky top-0 py-1 ${e.text} ${e.bg}`,children:d}),b[d]?.map(he=>C.jsxs("label",{className:"flex items-center px-2 py-1 hover:bg-gray-200 rounded cursor-pointer",children:[C.jsx("input",{type:"checkbox",checked:w.includes(`${d}.${he.name}`),onChange:()=>be(d,he.name),className:"mr-2 rounded text-blue-600 focus:ring-blue-500"}),C.jsx("span",{className:`text-xs ${e.text}`,children:he.name})]},`${d}.${he.name}`))]}),g.map((he,Ie)=>he.table&&b[he.table]&&C.jsxs("div",{className:`border-t pt-2 mt-2 ${e.border}`,children:[C.jsx("div",{className:`font-bold text-xs mb-1 sticky top-0 py-1 ${e.text} ${e.bg}`,children:he.table}),b[he.table].map(Be=>C.jsxs("label",{className:"flex items-center px-2 py-1 hover:bg-gray-200 rounded cursor-pointer",children:[C.jsx("input",{type:"checkbox",checked:w.includes(`${he.table}.${Be.name}`),onChange:()=>be(he.table,Be.name),className:"mr-2 rounded text-blue-600 focus:ring-blue-500"}),C.jsx("span",{className:`text-xs ${e.text}`,children:Be.name})]},`${he.table}.${Be.name}`))]},Ie))]})]}),d&&C.jsxs("div",{className:`rounded-lg border ${e.border} p-3 shadow-sm ${e.sidebar}`,children:[C.jsxs("div",{className:"flex justify-between items-center mb-2",children:[C.jsx("label",{className:`block text-xs font-bold uppercase ${e.sidebarText}`,children:"4. Filters"}),C.jsx("button",{onClick:tt,className:`text-xs px-2 py-1 rounded border ${e.secondaryBtn} ${e.border}`,children:"+ Add"})]}),C.jsx("div",{className:"space-y-2",children:A.map((he,Ie)=>C.jsxs("div",{className:`flex flex-col space-y-1 p-2 rounded border relative ${e.bg} ${e.border}`,children:[C.jsxs("select",{className:`text-xs border rounded py-1 px-2 ${e.input} ${e.border}`,value:he.column,onChange:Be=>Ke(Ie,"column",Be.target.value),children:[C.jsx("option",{value:"",children:"Column..."}),jt().map(Be=>C.jsx("option",{value:Be,children:Be},Be))]}),C.jsxs("div",{className:"flex space-x-1",children:[C.jsxs("select",{className:`text-xs border rounded w-1/3 py-1 px-2 ${e.input} ${e.border}`,value:he.operator,onChange:Be=>Ke(Ie,"operator",Be.target.value),children:[C.jsx("option",{value:"=",children:"="}),C.jsx("option",{value:">",children:">"}),C.jsx("option",{value:"<",children:"<"}),C.jsx("option",{value:"LIKE",children:"LIKE"})]}),C.jsx("input",{type:"text",className:`text-xs border rounded w-2/3 py-1 px-2 ${e.input} ${e.border}`,placeholder:"Value",value:he.value,onChange:Be=>Ke(Ie,"value",Be.target.value)})]}),C.jsx("button",{onClick:()=>ct(Ie),className:"absolute top-1 right-1 text-gray-400 hover:text-red-500 p-1",children:""})]},Ie))})]}),d&&C.jsxs("div",{className:`rounded-lg border ${e.border} p-3 shadow-sm ${e.sidebar}`,children:[C.jsx("label",{className:`block text-xs font-bold uppercase mb-2 ${e.sidebarText}`,children:"Save Query"}),C.jsx("div",{className:"flex space-x-2",children:C.jsx("button",{onClick:()=>c(!0),className:`w-full text-xs px-2 py-2 rounded ${e.primaryBtn}`,children:" Save Query"})})]}),C.jsx("button",{onClick:ot,disabled:!d||F,className:`w-full py-3 rounded-lg shadow-md transition-all font-semibold disabled:opacity-50 ${e.primaryBtn}`,children:F?"Running Query...":"Run Query"})]})]}),C.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[C.jsxs("div",{className:`p-4 shadow-sm flex justify-between items-center z-10 ${e.header}`,children:[C.jsx("h1",{className:`text-xl font-bold ${e.headerText}`,children:"Results Explorer"}),_&&C.jsxs("div",{className:"flex space-x-2",children:[C.jsx("button",{onClick:()=>St("csv"),className:`flex items-center space-x-1 px-3 py-1.5 rounded shadow-sm transition-colors text-sm font-medium border ${e.secondaryBtn} border-gray-300`,children:C.jsx("span",{children:"CSV"})}),C.jsx("button",{onClick:()=>St("xlsx"),className:`flex items-center space-x-1 px-3 py-1.5 rounded shadow-sm transition-colors text-sm font-medium ${e.primaryBtn}`,children:C.jsx("span",{children:"Excel"})}),C.jsx("button",{onClick:()=>St("txt"),className:`flex items-center space-x-1 px-3 py-1.5 rounded shadow-sm transition-colors text-sm font-medium border ${e.secondaryBtn} border-gray-300`,children:C.jsx("span",{children:"TXT"})})]})]}),C.jsxs("div",{className:`flex-1 overflow-auto p-4 ${e.bg}`,children:[H&&C.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4 rounded shadow-sm",children:C.jsxs("div",{className:"flex",children:[C.jsx("div",{className:"flex-shrink-0",children:C.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:C.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),C.jsx("div",{className:"ml-3",children:C.jsx("p",{className:"text-sm text-red-700",children:H})})]})}),_?C.jsxs("div",{className:`rounded-lg shadow-md border overflow-hidden flex flex-col h-full ${e.sidebar} ${e.border}`,children:[C.jsx("div",{className:"flex-1 overflow-auto",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[C.jsx("thead",{className:`sticky top-0 z-10 ${e.tableHeader}`,children:C.jsx("tr",{children:_.metaData.map(he=>C.jsx("th",{className:`px-6 py-3 text-left text-xs font-bold uppercase tracking-wider whitespace-nowrap border-b ${e.border}`,children:he.name},he.name))})}),C.jsx("tbody",{className:`divide-y divide-gray-200 ${e.sidebar}`,children:er.map((he,Ie)=>C.jsx("tr",{className:`transition-colors ${e.tableRowHover}`,children:he.map((Be,rt)=>C.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm border-r last:border-r-0 ${e.border} ${e.sidebarText}`,children:Be},rt))},Ie))})]})}),C.jsxs("div",{className:`px-4 py-3 border-t flex items-center justify-between sm:px-6 ${e.bg} ${e.border}`,children:[C.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[C.jsx("button",{onClick:()=>ne(he=>Math.max(1,he-1)),disabled:Z===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),C.jsx("button",{onClick:()=>ne(he=>Math.min(Gt,he+1)),disabled:Z===Gt,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),C.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("p",{className:`text-sm ${e.sidebarText}`,children:["Showing ",C.jsx("span",{className:"font-medium",children:(Z-1)*ve+1})," to ",C.jsx("span",{className:"font-medium",children:Math.min(Z*ve,_.rows.length)})," of ",C.jsx("span",{className:"font-medium",children:_.rows.length})," results"]}),C.jsxs("select",{value:ve,onChange:he=>{Ee(Number(he.target.value)),ne(1)},className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[C.jsx("option",{value:10,children:"10 per page"}),C.jsx("option",{value:25,children:"25 per page"}),C.jsx("option",{value:50,children:"50 per page"}),C.jsx("option",{value:100,children:"100 per page"}),C.jsx("option",{value:_.rows.length,children:"All"})]})]}),C.jsx("div",{children:C.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[C.jsx("button",{onClick:()=>ne(1),disabled:Z===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"First"}),C.jsx("button",{onClick:()=>ne(he=>Math.max(1,he-1)),disabled:Z===1,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),C.jsxs("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:["Page ",Z," of ",Gt]}),C.jsx("button",{onClick:()=>ne(he=>Math.min(Gt,he+1)),disabled:Z===Gt,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"}),C.jsx("button",{onClick:()=>ne(Gt),disabled:Z===Gt,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Last"})]})})]})]})]}):C.jsxs("div",{className:`text-center p-8 rounded-lg shadow-md ${e.sidebar} ${e.border}`,children:[C.jsx("p",{className:`text-lg font-semibold ${e.sidebarText}`,children:"No results to display."}),C.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Run a query to see results here."})]})]})]}),i&&C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-96 max-h-[80vh] flex flex-col",children:[C.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[C.jsx("h3",{className:"font-bold text-lg",children:"Saved Queries"}),C.jsx("button",{onClick:()=>s(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),C.jsx("div",{className:"p-4 overflow-y-auto flex-1",children:q.length===0?C.jsx("p",{className:"text-gray-500 text-center text-sm",children:"No saved queries yet."}):C.jsx("div",{className:"space-y-2",children:q.map(he=>C.jsxs("div",{className:"border rounded p-3 hover:bg-gray-50 flex justify-between items-center",children:[C.jsxs("div",{children:[C.jsx("div",{className:"font-bold text-sm",children:he.name}),C.jsx("div",{className:"text-xs text-gray-500",children:he.date})]}),C.jsxs("div",{className:"flex space-x-2",children:[C.jsx("button",{onClick:()=>Ye(he),className:"text-blue-600 hover:text-blue-800 text-xs font-semibold",children:"Load"}),C.jsx("button",{onClick:()=>$e(he.id),className:"text-red-500 hover:text-red-700 text-xs",children:"Delete"})]})]},he.id))})})]})}),l&&C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:C.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-96 p-6",children:[C.jsx("h3",{className:"font-bold text-lg mb-4",children:"Save Query"}),C.jsx("input",{type:"text",placeholder:"Enter query name...",className:"w-full border rounded p-2 mb-4 focus:ring-2 focus:ring-blue-500 outline-none",value:ie,onChange:he=>le(he.target.value)}),C.jsxs("div",{className:"flex justify-end space-x-2",children:[C.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded",children:"Cancel"}),C.jsx("button",{onClick:Ce,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]})})]})}function jx(){return jx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},jx.apply(null,arguments)}function qM(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}let zx=[],N3=[];(()=>{let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<r.length;e++)(e%2?N3:zx).push(t=t+r[e])})();function WM(r){if(r<768)return!1;for(let e=0,t=zx.length;;){let n=e+t>>1;if(r<zx[n])t=n;else if(r>=N3[n])e=n+1;else return!0;if(e==t)return!1}}function ww(r){return r>=127462&&r<=127487}const Ew=8205;function GM(r,e,t=!0,n=!0){return(t?R3:$M)(r,e,n)}function R3(r,e,t){if(e==r.length)return e;e&&F3(r.charCodeAt(e))&&M3(r.charCodeAt(e-1))&&e--;let n=Kg(r,e);for(e+=Cw(n);e<r.length;){let i=Kg(r,e);if(n==Ew||i==Ew||t&&WM(i))e+=Cw(i),n=i;else if(ww(i)){let s=0,l=e-2;for(;l>=0&&ww(Kg(r,l));)s++,l-=2;if(s%2==0)break;e+=2}else break}return e}function $M(r,e,t){for(;e>0;){let n=R3(r,e-2,t);if(n<e)return n;e--}return 0}function Kg(r,e){let t=r.charCodeAt(e);if(!M3(t)||e+1==r.length)return t;let n=r.charCodeAt(e+1);return F3(n)?(t-55296<<10)+(n-56320)+65536:t}function F3(r){return r>=56320&&r<57344}function M3(r){return r>=55296&&r<56320}function Cw(r){return r<65536?1:2}class Rt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=Uo(this,e,t);let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(t,this.length,i,1),os.from(i,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Uo(this,e,t);let n=[];return this.decompose(e,t,n,0),os.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),i=new m0(this),s=new m0(e);for(let l=t,c=t;;){if(i.next(l),s.next(l),l=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(c+=i.value.length,i.done||c>=n)return!0}}iter(e=1){return new m0(this,e)}iterRange(e,t=this.length){return new L3(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;n=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new I3(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Rt.empty:e.length<=32?new _r(e):os.from(_r.split(e,[]))}}class _r extends Rt{constructor(e,t=XM(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,i){for(let s=0;;s++){let l=this.text[s],c=i+l.length;if((t?n:c)>=e)return new YM(i,c,n,l);i=c+1,n++}}decompose(e,t,n,i){let s=e<=0&&t>=this.length?this:new _r(Aw(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let l=n.pop(),c=Xh(s.text,l.text.slice(),0,s.length);if(c.length<=32)n.push(new _r(c,l.length+s.length));else{let f=c.length>>1;n.push(new _r(c.slice(0,f)),new _r(c.slice(f)))}}else n.push(s)}replace(e,t,n){if(!(n instanceof _r))return super.replace(e,t,n);[e,t]=Uo(this,e,t);let i=Xh(this.text,Xh(n.text,Aw(this.text,0,e)),t),s=this.length+n.length-(t-e);return i.length<=32?new _r(i,s):os.from(_r.split(i,[]),s)}sliceString(e,t=this.length,n=`
`){[e,t]=Uo(this,e,t);let i="";for(let s=0,l=0;s<=t&&l<this.text.length;l++){let c=this.text[l],f=s+c.length;s>e&&l&&(i+=n),e<f&&t>s&&(i+=c.slice(Math.max(0,e-s),t-s)),s=f+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],i=-1;for(let s of e)n.push(s),i+=s.length+1,n.length==32&&(t.push(new _r(n,i)),n=[],i=-1);return i>-1&&t.push(new _r(n,i)),t}}class os extends Rt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,i){for(let s=0;;s++){let l=this.children[s],c=i+l.length,f=n+l.lines-1;if((t?f:c)>=e)return l.lineInner(e,t,n,i);i=c+1,n=f+1}}decompose(e,t,n,i){for(let s=0,l=0;l<=t&&s<this.children.length;s++){let c=this.children[s],f=l+c.length;if(e<=f&&t>=l){let h=i&((l<=e?1:0)|(f>=t?2:0));l>=e&&f<=t&&!h?n.push(c):c.decompose(e-l,t-l,n,h)}l=f+1}}replace(e,t,n){if([e,t]=Uo(this,e,t),n.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let l=this.children[i],c=s+l.length;if(e>=s&&t<=c){let f=l.replace(e-s,t-s,n),h=this.lines-l.lines+f.lines;if(f.lines<h>>4&&f.lines>h>>6){let d=this.children.slice();return d[i]=f,new os(d,this.length-(t-e)+n.length)}return super.replace(s,c,f)}s=c+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n=`
`){[e,t]=Uo(this,e,t);let i="";for(let s=0,l=0;s<this.children.length&&l<=t;s++){let c=this.children[s],f=l+c.length;l>e&&s&&(i+=n),e<f&&t>l&&(i+=c.sliceString(e-l,t-l,n)),l=f+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof os))return 0;let n=0,[i,s,l,c]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==l||s==c)return n;let f=this.children[i],h=e.children[s];if(f!=h)return n+f.scanIdentical(h,t);n+=f.length+1}}static from(e,t=e.reduce((n,i)=>n+i.length+1,-1)){let n=0;for(let x of e)n+=x.lines;if(n<32){let x=[];for(let b of e)b.flatten(x);return new _r(x,t)}let i=Math.max(32,n>>5),s=i<<1,l=i>>1,c=[],f=0,h=-1,d=[];function m(x){let b;if(x.lines>s&&x instanceof os)for(let S of x.children)m(S);else x.lines>l&&(f>l||!f)?(g(),c.push(x)):x instanceof _r&&f&&(b=d[d.length-1])instanceof _r&&x.lines+b.lines<=32?(f+=x.lines,h+=x.length+1,d[d.length-1]=new _r(b.text.concat(x.text),b.length+1+x.length)):(f+x.lines>i&&g(),f+=x.lines,h+=x.length+1,d.push(x))}function g(){f!=0&&(c.push(d.length==1?d[0]:os.from(d,h)),h=-1,f=d.length=0)}for(let x of e)m(x);return g(),c.length==1?c[0]:new os(c,t)}}Rt.empty=new _r([""],0);function XM(r){let e=-1;for(let t of r)e+=t.length+1;return e}function Xh(r,e,t=0,n=1e9){for(let i=0,s=0,l=!0;s<r.length&&i<=n;s++){let c=r[s],f=i+c.length;f>=t&&(f>n&&(c=c.slice(0,n-i)),i<t&&(c=c.slice(t-i)),l?(e[e.length-1]+=c,l=!1):e.push(c)),i=f+1}return e}function Aw(r,e,t){return Xh(r,[""],e,t)}class m0{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof _r?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],s=this.offsets[n],l=s>>1,c=i instanceof _r?i.text.length:i.children.length;if(l==(t>0?c:0)){if(n==0)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof _r){let f=i.text[l+(t<0?-1:0)];if(this.offsets[n]+=t,f.length>Math.max(0,e))return this.value=e==0?f:t>0?f.slice(e):f.slice(0,f.length-e),this;e-=f.length}else{let f=i.children[l+(t<0?-1:0)];e>f.length?(e-=f.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(f),this.offsets.push(t>0?1:(f instanceof _r?f.text.length:f.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class L3{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new m0(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=n?i:t<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class I3{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Rt.prototype[Symbol.iterator]=function(){return this.iter()},m0.prototype[Symbol.iterator]=L3.prototype[Symbol.iterator]=I3.prototype[Symbol.iterator]=function(){return this});class YM{constructor(e,t,n,i){this.from=e,this.to=t,this.number=n,this.text=i}get length(){return this.to-this.from}}function Uo(r,e,t){return e=Math.max(0,Math.min(r.length,e)),[e,Math.max(e,Math.min(r.length,t))]}function cn(r,e,t=!0,n=!0){return GM(r,e,t,n)}function KM(r){return r>=56320&&r<57344}function QM(r){return r>=55296&&r<56320}function zn(r,e){let t=r.charCodeAt(e);if(!QM(t)||e+1==r.length)return t;let n=r.charCodeAt(e+1);return KM(n)?(t-55296<<10)+(n-56320)+65536:t}function pv(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function cs(r){return r<65536?1:2}const Hx=/\r\n?|\n/;var _n=(function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r})(_n||(_n={}));class ds{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,i=0;t<this.sections.length;){let s=this.sections[t++],l=this.sections[t++];l<0?(e(n,i,s),i+=s):i+=l,n+=s}}iterChangedRanges(e,t=!1){Ux(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];i<0?e.push(n,i):e.push(i,n)}return new ds(e)}composeDesc(e){return this.empty?e:e.empty?this:P3(this,e)}mapDesc(e,t=!1){return e.empty?this:Vx(this,e,t)}mapPos(e,t=-1,n=_n.Simple){let i=0,s=0;for(let l=0;l<this.sections.length;){let c=this.sections[l++],f=this.sections[l++],h=i+c;if(f<0){if(h>e)return s+(e-i);s+=c}else{if(n!=_n.Simple&&h>=e&&(n==_n.TrackDel&&i<e&&h>e||n==_n.TrackBefore&&i<e||n==_n.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!c)return e==i||t<0?s:s+f;s+=f}i=h}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let n=0,i=0;n<this.sections.length&&i<=t;){let s=this.sections[n++],l=this.sections[n++],c=i+s;if(l>=0&&i<=t&&c>=e)return i<e&&c>t?"cover":!0;i=c}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ds(e)}static create(e){return new ds(e)}}class zr extends ds{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Ux(this,(t,n,i,s,l)=>e=e.replace(i,i+(n-t),l),!1),e}mapDesc(e,t=!1){return Vx(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let i=0,s=0;i<t.length;i+=2){let l=t[i],c=t[i+1];if(c>=0){t[i]=c,t[i+1]=l;let f=i>>1;for(;n.length<f;)n.push(Rt.empty);n.push(l?e.slice(s,s+l):Rt.empty)}s+=l}return new zr(t,n)}compose(e){return this.empty?e:e.empty?this:P3(this,e,!0)}map(e,t=!1){return e.empty?this:Vx(this,e,t,!0)}iterChanges(e,t=!1){Ux(this,e,t)}get desc(){return ds.create(this.sections)}filter(e){let t=[],n=[],i=[],s=new N0(this);e:for(let l=0,c=0;;){let f=l==e.length?1e9:e[l++];for(;c<f||c==f&&s.len==0;){if(s.done)break e;let d=Math.min(s.len,f-c);xn(i,d,-1);let m=s.ins==-1?-1:s.off==0?s.ins:0;xn(t,d,m),m>0&&ka(n,t,s.text),s.forward(d),c+=d}let h=e[l++];for(;c<h;){if(s.done)break e;let d=Math.min(s.len,h-c);xn(t,d,-1),xn(i,d,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(d),c+=d}}return{changes:new zr(t,n),filtered:ds.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],i=this.sections[t+1];i<0?e.push(n):i==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let i=[],s=[],l=0,c=null;function f(d=!1){if(!d&&!i.length)return;l<t&&xn(i,t-l,-1);let m=new zr(i,s);c=c?c.compose(m.map(c)):m,i=[],s=[],l=0}function h(d){if(Array.isArray(d))for(let m of d)h(m);else if(d instanceof zr){if(d.length!=t)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${t})`);f(),c=c?c.compose(d.map(c)):d}else{let{from:m,to:g=m,insert:x}=d;if(m>g||m<0||g>t)throw new RangeError(`Invalid change range ${m} to ${g} (in doc of length ${t})`);let b=x?typeof x=="string"?Rt.of(x.split(n||Hx)):x:Rt.empty,S=b.length;if(m==g&&S==0)return;m<l&&f(),m>l&&xn(i,m-l,-1),xn(i,g-m,S),ka(s,i,b),l=g}}return h(e),f(!c),c}static empty(e){return new zr(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((l,c)=>c&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;n.length<i;)n.push(Rt.empty);n[i]=Rt.of(s.slice(1)),t.push(s[0],n[i].length)}}}return new zr(t,n)}static createSet(e,t){return new zr(e,t)}}function xn(r,e,t,n=!1){if(e==0&&t<=0)return;let i=r.length-2;i>=0&&t<=0&&t==r[i+1]?r[i]+=e:i>=0&&e==0&&r[i]==0?r[i+1]+=t:n?(r[i]+=e,r[i+1]+=t):r.push(e,t)}function ka(r,e,t){if(t.length==0)return;let n=e.length-2>>1;if(n<r.length)r[r.length-1]=r[r.length-1].append(t);else{for(;r.length<n;)r.push(Rt.empty);r.push(t)}}function Ux(r,e,t){let n=r.inserted;for(let i=0,s=0,l=0;l<r.sections.length;){let c=r.sections[l++],f=r.sections[l++];if(f<0)i+=c,s+=c;else{let h=i,d=s,m=Rt.empty;for(;h+=c,d+=f,f&&n&&(m=m.append(n[l-2>>1])),!(t||l==r.sections.length||r.sections[l+1]<0);)c=r.sections[l++],f=r.sections[l++];e(i,h,s,d,m),i=h,s=d}}}function Vx(r,e,t,n=!1){let i=[],s=n?[]:null,l=new N0(r),c=new N0(e);for(let f=-1;;){if(l.done&&c.len||c.done&&l.len)throw new Error("Mismatched change set lengths");if(l.ins==-1&&c.ins==-1){let h=Math.min(l.len,c.len);xn(i,h,-1),l.forward(h),c.forward(h)}else if(c.ins>=0&&(l.ins<0||f==l.i||l.off==0&&(c.len<l.len||c.len==l.len&&!t))){let h=c.len;for(xn(i,c.ins,-1);h;){let d=Math.min(l.len,h);l.ins>=0&&f<l.i&&l.len<=d&&(xn(i,0,l.ins),s&&ka(s,i,l.text),f=l.i),l.forward(d),h-=d}c.next()}else if(l.ins>=0){let h=0,d=l.len;for(;d;)if(c.ins==-1){let m=Math.min(d,c.len);h+=m,d-=m,c.forward(m)}else if(c.ins==0&&c.len<d)d-=c.len,c.next();else break;xn(i,h,f<l.i?l.ins:0),s&&f<l.i&&ka(s,i,l.text),f=l.i,l.forward(l.len-d)}else{if(l.done&&c.done)return s?zr.createSet(i,s):ds.create(i);throw new Error("Mismatched change set lengths")}}}function P3(r,e,t=!1){let n=[],i=t?[]:null,s=new N0(r),l=new N0(e);for(let c=!1;;){if(s.done&&l.done)return i?zr.createSet(n,i):ds.create(n);if(s.ins==0)xn(n,s.len,0,c),s.next();else if(l.len==0&&!l.done)xn(n,0,l.ins,c),i&&ka(i,n,l.text),l.next();else{if(s.done||l.done)throw new Error("Mismatched change set lengths");{let f=Math.min(s.len2,l.len),h=n.length;if(s.ins==-1){let d=l.ins==-1?-1:l.off?0:l.ins;xn(n,f,d,c),i&&d&&ka(i,n,l.text)}else l.ins==-1?(xn(n,s.off?0:s.len,f,c),i&&ka(i,n,s.textBit(f))):(xn(n,s.off?0:s.len,l.off?0:l.ins,c),i&&!l.off&&ka(i,n,l.text));c=(s.ins>f||l.ins>=0&&l.len>f)&&(c||n.length>h),s.forward2(f),l.forward(f)}}}}class N0{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Rt.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?Rt.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class xl{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new xl(n,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Oe.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Oe.range(this.anchor,n)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Oe.range(e.anchor,e.head)}static create(e,t,n){return new xl(e,t,n)}}class Oe{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Oe.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Oe([this.main],0)}addRange(e,t=!0){return Oe.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,Oe.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Oe(e.ranges.map(t=>xl.fromJSON(t)),e.main)}static single(e,t=e){return new Oe([Oe.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=n:s.from<n)return Oe.normalized(e.slice(),t);n=s.to}return new Oe(e,t)}static cursor(e,t=0,n,i){return xl.create(e,e,(t==0?0:t<0?8:16)|(n==null?7:Math.min(6,n))|(i??16777215)<<6)}static range(e,t,n,i){let s=(n??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?xl.create(t,e,48|s):xl.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let n=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(n);for(let i=1;i<e.length;i++){let s=e[i],l=e[i-1];if(s.empty?s.from<=l.to:s.from<l.to){let c=l.from,f=Math.max(s.to,l.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?Oe.range(f,c):Oe.range(c,f))}}return new Oe(e,t)}}function j3(r,e){for(let t of r.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let mv=0;class Xe{constructor(e,t,n,i,s){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=i,this.id=mv++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Xe(e.combine||(t=>t),e.compareInput||((t,n)=>t===n),e.compare||(e.combine?(t,n)=>t===n:gv),!!e.static,e.enables)}of(e){return new Yh([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Yh(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Yh(e,this,2,t)}from(e,t){return t||(t=n=>n),this.compute([e],n=>t(n.field(e)))}}function gv(r,e){return r==e||r.length==e.length&&r.every((t,n)=>t===e[n])}class Yh{constructor(e,t,n,i){this.dependencies=e,this.facet=t,this.type=n,this.value=i,this.id=mv++}dynamicSlot(e){var t;let n=this.value,i=this.facet.compareInput,s=this.id,l=e[s]>>1,c=this.type==2,f=!1,h=!1,d=[];for(let m of this.dependencies)m=="doc"?f=!0:m=="selection"?h=!0:(((t=e[m.id])!==null&&t!==void 0?t:1)&1)==0&&d.push(e[m.id]);return{create(m){return m.values[l]=n(m),1},update(m,g){if(f&&g.docChanged||h&&(g.docChanged||g.selection)||qx(m,d)){let x=n(m);if(c?!Tw(x,m.values[l],i):!i(x,m.values[l]))return m.values[l]=x,1}return 0},reconfigure:(m,g)=>{let x,b=g.config.address[s];if(b!=null){let S=wd(g,b);if(this.dependencies.every(w=>w instanceof Xe?g.facet(w)===m.facet(w):w instanceof hn?g.field(w,!1)==m.field(w,!1):!0)||(c?Tw(x=n(m),S,i):i(x=n(m),S)))return m.values[l]=S,0}else x=n(m);return m.values[l]=x,1}}}}function Tw(r,e,t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!t(r[n],e[n]))return!1;return!0}function qx(r,e){let t=!1;for(let n of e)g0(r,n)&1&&(t=!0);return t}function ZM(r,e,t){let n=t.map(f=>r[f.id]),i=t.map(f=>f.type),s=n.filter(f=>!(f&1)),l=r[e.id]>>1;function c(f){let h=[];for(let d=0;d<n.length;d++){let m=wd(f,n[d]);if(i[d]==2)for(let g of m)h.push(g);else h.push(m)}return e.combine(h)}return{create(f){for(let h of n)g0(f,h);return f.values[l]=c(f),1},update(f,h){if(!qx(f,s))return 0;let d=c(f);return e.compare(d,f.values[l])?0:(f.values[l]=d,1)},reconfigure(f,h){let d=qx(f,n),m=h.config.facets[e.id],g=h.facet(e);if(m&&!d&&gv(t,m))return f.values[l]=g,0;let x=c(f);return e.compare(x,g)?(f.values[l]=g,0):(f.values[l]=x,1)}}}const Pu=Xe.define({static:!0});class hn{constructor(e,t,n,i,s){this.id=e,this.createF=t,this.updateF=n,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new hn(mv++,e.create,e.update,e.compare||((n,i)=>n===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Pu).find(n=>n.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:n=>(n.values[t]=this.create(n),1),update:(n,i)=>{let s=n.values[t],l=this.updateF(s,i);return this.compareF(s,l)?0:(n.values[t]=l,1)},reconfigure:(n,i)=>{let s=n.facet(Pu),l=i.facet(Pu),c;return(c=s.find(f=>f.field==this))&&c!=l.find(f=>f.field==this)?(n.values[t]=c.create(n),1):i.config.address[this.id]!=null?(n.values[t]=i.field(this),0):(n.values[t]=this.create(n),1)}}}init(e){return[this,Pu.of({field:this,create:e})]}get extension(){return this}}const dl={lowest:4,low:3,default:2,high:1,highest:0};function Qc(r){return e=>new z3(e,r)}const Il={highest:Qc(dl.highest),high:Qc(dl.high),default:Qc(dl.default),low:Qc(dl.low),lowest:Qc(dl.lowest)};class z3{constructor(e,t){this.inner=e,this.prec=t}}class cp{of(e){return new Wx(this,e)}reconfigure(e){return cp.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Wx{constructor(e,t){this.compartment=e,this.inner=t}}class Sd{constructor(e,t,n,i,s,l){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=i,this.staticValues=s,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let i=[],s=Object.create(null),l=new Map;for(let g of JM(e,t,l))g instanceof hn?i.push(g):(s[g.facet.id]||(s[g.facet.id]=[])).push(g);let c=Object.create(null),f=[],h=[];for(let g of i)c[g.id]=h.length<<1,h.push(x=>g.slot(x));let d=n?.config.facets;for(let g in s){let x=s[g],b=x[0].facet,S=d&&d[g]||[];if(x.every(w=>w.type==0))if(c[b.id]=f.length<<1|1,gv(S,x))f.push(n.facet(b));else{let w=b.combine(x.map(T=>T.value));f.push(n&&b.compare(w,n.facet(b))?n.facet(b):w)}else{for(let w of x)w.type==0?(c[w.id]=f.length<<1|1,f.push(w.value)):(c[w.id]=h.length<<1,h.push(T=>w.dynamicSlot(T)));c[b.id]=h.length<<1,h.push(w=>ZM(w,b,x))}}let m=h.map(g=>g(c));return new Sd(e,l,m,c,f,s)}}function JM(r,e,t){let n=[[],[],[],[],[]],i=new Map;function s(l,c){let f=i.get(l);if(f!=null){if(f<=c)return;let h=n[f].indexOf(l);h>-1&&n[f].splice(h,1),l instanceof Wx&&t.delete(l.compartment)}if(i.set(l,c),Array.isArray(l))for(let h of l)s(h,c);else if(l instanceof Wx){if(t.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(l.compartment)||l.inner;t.set(l.compartment,h),s(h,c)}else if(l instanceof z3)s(l.inner,l.prec);else if(l instanceof hn)n[c].push(l),l.provides&&s(l.provides,c);else if(l instanceof Yh)n[c].push(l),l.facet.extensions&&s(l.facet.extensions,dl.default);else{let h=l.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(h,c)}}return s(r,dl.default),n.reduce((l,c)=>l.concat(c))}function g0(r,e){if(e&1)return 2;let t=e>>1,n=r.status[t];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;r.status[t]=4;let i=r.computeSlot(r,r.config.dynamicSlots[t]);return r.status[t]=2|i}function wd(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const H3=Xe.define(),Gx=Xe.define({combine:r=>r.some(e=>e),static:!0}),U3=Xe.define({combine:r=>r.length?r[0]:void 0,static:!0}),V3=Xe.define(),q3=Xe.define(),W3=Xe.define(),G3=Xe.define({combine:r=>r.length?r[0]:!1});class gs{constructor(e,t){this.type=e,this.value=t}static define(){return new eL}}class eL{of(e){return new gs(this,e)}}class tL{constructor(e){this.map=e}of(e){return new pt(this,e)}}class pt{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new pt(this.type,t)}is(e){return this.type==e}static define(e={}){return new tL(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let i of e){let s=i.map(t);s&&n.push(s)}return n}}pt.reconfigure=pt.define();pt.appendConfig=pt.define();class Ur{constructor(e,t,n,i,s,l){this.startState=e,this.changes=t,this.selection=n,this.effects=i,this.annotations=s,this.scrollIntoView=l,this._doc=null,this._state=null,n&&j3(n,t.newLength),s.some(c=>c.type==Ur.time)||(this.annotations=s.concat(Ur.time.of(Date.now())))}static create(e,t,n,i,s,l){return new Ur(e,t,n,i,s,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Ur.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Ur.time=gs.define();Ur.userEvent=gs.define();Ur.addToHistory=gs.define();Ur.remote=gs.define();function rL(r,e){let t=[];for(let n=0,i=0;;){let s,l;if(n<r.length&&(i==e.length||e[i]>=r[n]))s=r[n++],l=r[n++];else if(i<e.length)s=e[i++],l=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,l):t[t.length-1]<l&&(t[t.length-1]=l)}}function $3(r,e,t){var n;let i,s,l;return t?(i=e.changes,s=zr.empty(e.changes.length),l=r.changes.compose(e.changes)):(i=e.changes.map(r.changes),s=r.changes.mapDesc(e.changes,!0),l=r.changes.compose(i)),{changes:l,selection:e.selection?e.selection.map(s):(n=r.selection)===null||n===void 0?void 0:n.map(i),effects:pt.mapEffects(r.effects,i).concat(pt.mapEffects(e.effects,s)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function $x(r,e,t){let n=e.selection,i=Fo(e.annotations);return e.userEvent&&(i=i.concat(Ur.userEvent.of(e.userEvent))),{changes:e.changes instanceof zr?e.changes:zr.of(e.changes||[],t,r.facet(U3)),selection:n&&(n instanceof Oe?n:Oe.single(n.anchor,n.head)),effects:Fo(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function X3(r,e,t){let n=$x(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let l=!!e[s].sequential;n=$3(n,$x(r,e[s],l?n.changes.newLength:r.doc.length),l)}let i=Ur.create(r,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return iL(t?nL(i):i)}function nL(r){let e=r.startState,t=!0;for(let i of e.facet(V3)){let s=i(r);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:rL(t,s))}if(t!==!0){let i,s;if(t===!1)s=r.changes.invertedDesc,i=zr.empty(e.doc.length);else{let l=r.changes.filter(t);i=l.changes,s=l.filtered.mapDesc(l.changes).invertedDesc}r=Ur.create(e,i,r.selection&&r.selection.map(s),pt.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let n=e.facet(q3);for(let i=n.length-1;i>=0;i--){let s=n[i](r);s instanceof Ur?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Ur?r=s[0]:r=X3(e,Fo(s),!1)}return r}function iL(r){let e=r.startState,t=e.facet(W3),n=r;for(let i=t.length-1;i>=0;i--){let s=t[i](r);s&&Object.keys(s).length&&(n=$3(n,$x(e,s,r.changes.newLength),!0))}return n==r?r:Ur.create(e,r.changes,r.selection,n.effects,n.annotations,n.scrollIntoView)}const sL=[];function Fo(r){return r==null?sL:Array.isArray(r)?r:[r]}var xr=(function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r})(xr||(xr={}));const aL=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Xx;try{Xx=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function lL(r){if(Xx)return Xx.test(r);for(let e=0;e<r.length;e++){let t=r[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||aL.test(t)))return!0}return!1}function oL(r){return e=>{if(!/\S/.test(e))return xr.Space;if(lL(e))return xr.Word;for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>-1)return xr.Word;return xr.Other}}class kt{constructor(e,t,n,i,s,l){this.config=e,this.doc=t,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,l&&(l._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)g0(this,c<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw new RangeError("Field is not present in this state");return}return g0(this,n),wd(this,n)}update(...e){return X3(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:i}=t;for(let c of e.effects)c.is(cp.reconfigure)?(t&&(i=new Map,t.compartments.forEach((f,h)=>i.set(h,f)),t=null),i.set(c.value.compartment,c.value.extension)):c.is(pt.reconfigure)?(t=null,n=c.value):c.is(pt.appendConfig)&&(t=null,n=Fo(n).concat(c.value));let s;t?s=e.startState.values.slice():(t=Sd.resolve(n,i,this),s=new kt(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(f,h)=>h.reconfigure(f,this),null).values);let l=e.startState.facet(Gx)?e.newSelection:e.newSelection.asSingle();new kt(t,e.newDoc,l,s,(c,f)=>f.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Oe.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),i=this.changes(n.changes),s=[n.range],l=Fo(n.effects);for(let c=1;c<t.ranges.length;c++){let f=e(t.ranges[c]),h=this.changes(f.changes),d=h.map(i);for(let g=0;g<c;g++)s[g]=s[g].map(d);let m=i.mapDesc(h,!0);s.push(f.range.map(m)),i=i.compose(d),l=pt.mapEffects(l,d).concat(pt.mapEffects(Fo(f.effects),m))}return{changes:i,selection:Oe.create(s,t.mainIndex),effects:l}}changes(e=[]){return e instanceof zr?e:zr.of(e,this.doc.length,this.facet(kt.lineSeparator))}toText(e){return Rt.of(e.split(this.facet(kt.lineSeparator)||Hx))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(g0(this,t),wd(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let i=e[n];i instanceof hn&&this.config.address[i.id]!=null&&(t[n]=i.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n){for(let s in n)if(Object.prototype.hasOwnProperty.call(e,s)){let l=n[s],c=e[s];i.push(l.init(f=>l.spec.fromJSON(c,f)))}}return kt.create({doc:e.doc,selection:Oe.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=Sd.resolve(e.extensions||[],new Map),n=e.doc instanceof Rt?e.doc:Rt.of((e.doc||"").split(t.staticFacet(kt.lineSeparator)||Hx)),i=e.selection?e.selection instanceof Oe?e.selection:Oe.single(e.selection.anchor,e.selection.head):Oe.single(0);return j3(i,n.length),t.staticFacet(Gx)||(i=i.asSingle()),new kt(t,n,i,t.dynamicSlots.map(()=>null),(s,l)=>l.create(s),null)}get tabSize(){return this.facet(kt.tabSize)}get lineBreak(){return this.facet(kt.lineSeparator)||`
`}get readOnly(){return this.facet(G3)}phrase(e,...t){for(let n of this.facet(kt.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(n,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?n:t[s-1]})),e}languageDataAt(e,t,n=-1){let i=[];for(let s of this.facet(H3))for(let l of s(this,t,n))Object.prototype.hasOwnProperty.call(l,e)&&i.push(l[e]);return i}charCategorizer(e){return oL(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),l=e-n,c=e-n;for(;l>0;){let f=cn(t,l,!1);if(s(t.slice(f,l))!=xr.Word)break;l=f}for(;c<i;){let f=cn(t,c);if(s(t.slice(c,f))!=xr.Word)break;c=f}return l==c?null:Oe.range(l+n,c+n)}}kt.allowMultipleSelections=Gx;kt.tabSize=Xe.define({combine:r=>r.length?r[0]:4});kt.lineSeparator=U3;kt.readOnly=G3;kt.phrases=Xe.define({compare(r,e){let t=Object.keys(r),n=Object.keys(e);return t.length==n.length&&t.every(i=>r[i]==e[i])}});kt.languageData=H3;kt.changeFilter=V3;kt.transactionFilter=q3;kt.transactionExtender=W3;cp.reconfigure=pt.define();function xs(r,e,t={}){let n={};for(let i of r)for(let s of Object.keys(i)){let l=i[s],c=n[s];if(c===void 0)n[s]=l;else if(!(c===l||l===void 0))if(Object.hasOwnProperty.call(t,s))n[s]=t[s](c,l);else throw new Error("Config merge conflict for field "+s)}for(let i in e)n[i]===void 0&&(n[i]=e[i]);return n}class Al{eq(e){return this==e}range(e,t=e){return Yx.create(e,t,this)}}Al.prototype.startSide=Al.prototype.endSide=0;Al.prototype.point=!1;Al.prototype.mapMode=_n.TrackDel;let Yx=class Y3{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new Y3(e,t,n)}};function Kx(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class xv{constructor(e,t,n,i){this.from=e,this.to=t,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,i=0){let s=n?this.to:this.from;for(let l=i,c=s.length;;){if(l==c)return l;let f=l+c>>1,h=s[f]-e||(n?this.value[f].endSide:this.value[f].startSide)-t;if(f==l)return h>=0?l:c;h>=0?c=f:l=f+1}}between(e,t,n,i){for(let s=this.findIndex(t,-1e9,!0),l=this.findIndex(n,1e9,!1,s);s<l;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let n=[],i=[],s=[],l=-1,c=-1;for(let f=0;f<this.value.length;f++){let h=this.value[f],d=this.from[f]+e,m=this.to[f]+e,g,x;if(d==m){let b=t.mapPos(d,h.startSide,h.mapMode);if(b==null||(g=x=b,h.startSide!=h.endSide&&(x=t.mapPos(d,h.endSide),x<g)))continue}else if(g=t.mapPos(d,h.startSide),x=t.mapPos(m,h.endSide),g>x||g==x&&h.startSide>0&&h.endSide<=0)continue;(x-g||h.endSide-h.startSide)<0||(l<0&&(l=g),h.point&&(c=Math.max(c,x-g)),n.push(h),i.push(g-l),s.push(x-l))}return{mapped:n.length?new xv(i,s,n,c):null,pos:l}}}class Nt{constructor(e,t,n,i){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=i}static create(e,t,n,i){return new Nt(e,t,n,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:i=0,filterTo:s=this.length}=e,l=e.filter;if(t.length==0&&!l)return this;if(n&&(t=t.slice().sort(Kx)),this.isEmpty)return t.length?Nt.of(t):this;let c=new K3(this,null,-1).goto(0),f=0,h=[],d=new $s;for(;c.value||f<t.length;)if(f<t.length&&(c.from-t[f].from||c.startSide-t[f].value.startSide)>=0){let m=t[f++];d.addInner(m.from,m.to,m.value)||h.push(m)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(f==t.length||this.chunkEnd(c.chunkIndex)<t[f].from)&&(!l||i>this.chunkEnd(c.chunkIndex)||s<this.chunkPos[c.chunkIndex])&&d.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!l||i>c.to||s<c.from||l(c.from,c.to,c.value))&&(d.addInner(c.from,c.to,c.value)||h.push(Yx.create(c.from,c.to,c.value))),c.next());return d.finishInner(this.nextLayer.isEmpty&&!h.length?Nt.empty:this.nextLayer.update({add:h,filter:l,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],i=-1;for(let l=0;l<this.chunk.length;l++){let c=this.chunkPos[l],f=this.chunk[l],h=e.touchesRange(c,c+f.length);if(h===!1)i=Math.max(i,f.maxPoint),t.push(f),n.push(e.mapPos(c));else if(h===!0){let{mapped:d,pos:m}=f.map(c,e);d&&(i=Math.max(i,d.maxPoint),t.push(d),n.push(m))}}let s=this.nextLayer.map(e);return t.length==0?s:new Nt(n,t,s||Nt.empty,i)}between(e,t,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],l=this.chunk[i];if(t>=s&&e<=s+l.length&&l.between(s,e-s,t-s,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return R0.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return R0.from(e).goto(t)}static compare(e,t,n,i,s=-1){let l=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),c=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),f=_w(l,c,n),h=new Zc(l,f,s),d=new Zc(c,f,s);n.iterGaps((m,g,x)=>Dw(h,m,d,g,x,i)),n.empty&&n.length==0&&Dw(h,0,d,0,0,i)}static eq(e,t,n=0,i){i==null&&(i=999999999);let s=e.filter(d=>!d.isEmpty&&t.indexOf(d)<0),l=t.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(s.length!=l.length)return!1;if(!s.length)return!0;let c=_w(s,l),f=new Zc(s,c,0).goto(n),h=new Zc(l,c,0).goto(n);for(;;){if(f.to!=h.to||!Qx(f.active,h.active)||f.point&&(!h.point||!f.point.eq(h.point)))return!1;if(f.to>i)return!0;f.next(),h.next()}}static spans(e,t,n,i,s=-1){let l=new Zc(e,null,s).goto(t),c=t,f=l.openStart;for(;;){let h=Math.min(l.to,n);if(l.point){let d=l.activeForPoint(l.to),m=l.pointFrom<t?d.length+1:l.point.startSide<0?d.length:Math.min(d.length,f);i.point(c,h,l.point,d,m,l.pointRank),f=Math.min(l.openEnd(h),d.length)}else h>c&&(i.span(c,h,l.active,f),f=l.openEnd(h));if(l.to>n)return f+(l.point&&l.to>n?1:0);c=l.to,l.next()}}static of(e,t=!1){let n=new $s;for(let i of e instanceof Yx?[e]:t?cL(e):e)n.add(i.from,i.to,i.value);return n.finish()}static join(e){if(!e.length)return Nt.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let i=e[n];i!=Nt.empty;i=i.nextLayer)t=new Nt(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}Nt.empty=new Nt([],[],null,-1);function cL(r){if(r.length>1)for(let e=r[0],t=1;t<r.length;t++){let n=r[t];if(Kx(e,n)>0)return r.slice().sort(Kx);e=n}return r}Nt.empty.nextLayer=Nt.empty;class $s{finishChunk(e){this.chunks.push(new xv(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new $s)).add(e,t,n)}addInner(e,t,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Nt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Nt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function _w(r,e,t){let n=new Map;for(let s of r)for(let l=0;l<s.chunk.length;l++)s.chunk[l].maxPoint<=0&&n.set(s.chunk[l],s.chunkPos[l]);let i=new Set;for(let s of e)for(let l=0;l<s.chunk.length;l++){let c=n.get(s.chunk[l]);c!=null&&(t?t.mapPos(c):c)==s.chunkPos[l]&&!t?.touchesRange(c,c+s.chunk[l].length)&&i.add(s.chunk[l])}return i}class K3{constructor(e,t,n,i=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class R0{constructor(e){this.heap=e}static from(e,t=null,n=-1){let i=[];for(let s=0;s<e.length;s++)for(let l=e[s];!l.isEmpty;l=l.nextLayer)l.maxPoint>=n&&i.push(new K3(l,t,n,s));return i.length==1?i[0]:new R0(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)Qg(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)Qg(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Qg(this.heap,0)}}}function Qg(r,e){for(let t=r[e];;){let n=(e<<1)+1;if(n>=r.length)break;let i=r[n];if(n+1<r.length&&i.compare(r[n+1])>=0&&(i=r[n+1],n++),t.compare(i)<0)break;r[n]=t,r[e]=i,e=n}}class Zc{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=R0.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){ju(this.active,e),ju(this.activeTo,e),ju(this.activeRank,e),this.minActive=kw(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||i-this.activeTo[t])>0;)t++;zu(this.active,t,n),zu(this.activeTo,t,i),zu(this.activeRank,t,s),e&&zu(e,t,this.cursor.from),this.minActive=kw(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&ju(n,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let i=n.length-1;i>=0&&n[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function Dw(r,e,t,n,i,s){r.goto(e),t.goto(n);let l=n+i,c=n,f=n-e;for(;;){let h=r.to+f-t.to,d=h||r.endSide-t.endSide,m=d<0?r.to+f:t.to,g=Math.min(m,l);if(r.point||t.point?r.point&&t.point&&(r.point==t.point||r.point.eq(t.point))&&Qx(r.activeForPoint(r.to),t.activeForPoint(t.to))||s.comparePoint(c,g,r.point,t.point):g>c&&!Qx(r.active,t.active)&&s.compareRange(c,g,r.active,t.active),m>l)break;(h||r.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(m),c=m,d<=0&&r.next(),d>=0&&t.next()}}function Qx(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!=e[t]&&!r[t].eq(e[t]))return!1;return!0}function ju(r,e){for(let t=e,n=r.length-1;t<n;t++)r[t]=r[t+1];r.pop()}function zu(r,e,t){for(let n=r.length-1;n>=e;n--)r[n+1]=r[n];r[e]=t}function kw(r,e){let t=-1,n=1e9;for(let i=0;i<e.length;i++)(e[i]-n||r[i].endSide-r[t].endSide)<0&&(t=i,n=e[i]);return t}function ec(r,e,t=r.length){let n=0;for(let i=0;i<t&&i<r.length;)r.charCodeAt(i)==9?(n+=e-n%e,i++):(n++,i=cn(r,i));return n}function Zx(r,e,t,n){for(let i=0,s=0;;){if(s>=e)return i;if(i==r.length)break;s+=r.charCodeAt(i)==9?t-s%t:1,i=cn(r,i)}return n===!0?-1:r.length}const Jx="",Ow=typeof Symbol>"u"?"__"+Jx:Symbol.for(Jx),e1=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Bw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class La{constructor(e,t){this.rules=[];let{finish:n}=t||{};function i(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function s(l,c,f,h){let d=[],m=/^@(\w+)\b/.exec(l[0]),g=m&&m[1]=="keyframes";if(m&&c==null)return f.push(l[0]+";");for(let x in c){let b=c[x];if(/&/.test(x))s(x.split(/,\s*/).map(S=>l.map(w=>S.replace(/&/,w))).reduce((S,w)=>S.concat(w)),b,f);else if(b&&typeof b=="object"){if(!m)throw new RangeError("The value of a property ("+x+") should be a primitive value.");s(i(x),b,d,g)}else b!=null&&d.push(x.replace(/_.*/,"").replace(/[A-Z]/g,S=>"-"+S.toLowerCase())+": "+b+";")}(d.length||g)&&f.push((n&&!m&&!h?l.map(n):l).join(", ")+" {"+d.join(" ")+"}")}for(let l in e)s(i(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Bw[Ow]||1;return Bw[Ow]=e+1,Jx+e.toString(36)}static mount(e,t,n){let i=e[e1],s=n&&n.nonce;i?s&&i.setNonce(s):i=new fL(e,s),i.mount(Array.isArray(t)?t:[t],e)}}let Nw=new Map;class fL{constructor(e,t){let n=e.ownerDocument||e,i=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=Nw.get(n);if(s)return e[e1]=s;this.sheet=new i.CSSStyleSheet,Nw.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[e1]=this}mount(e,t){let n=this.sheet,i=0,s=0;for(let l=0;l<e.length;l++){let c=e[l],f=this.modules.indexOf(c);if(f<s&&f>-1&&(this.modules.splice(f,1),s--,f=-1),f==-1){if(this.modules.splice(s++,0,c),n)for(let h=0;h<c.rules.length;h++)n.insertRule(c.rules[h],i++)}else{for(;s<f;)i+=this.modules[s++].rules.length;i+=c.rules.length,s++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let l="";for(let f=0;f<this.modules.length;f++)l+=this.modules[f].getRules()+`
`;this.styleTag.textContent=l;let c=t.head||t;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Ia={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},F0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},uL=typeof navigator<"u"&&/Mac/.test(navigator.platform),hL=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var an=0;an<10;an++)Ia[48+an]=Ia[96+an]=String(an);for(var an=1;an<=24;an++)Ia[an+111]="F"+an;for(var an=65;an<=90;an++)Ia[an]=String.fromCharCode(an+32),F0[an]=String.fromCharCode(an);for(var Zg in Ia)F0.hasOwnProperty(Zg)||(F0[Zg]=Ia[Zg]);function dL(r){var e=uL&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||hL&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?F0:Ia)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function ir(){var r=arguments[0];typeof r=="string"&&(r=document.createElement(r));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];typeof i=="string"?r.setAttribute(n,i):i!=null&&(r[n]=i)}e++}for(;e<arguments.length;e++)Q3(r,arguments[e]);return r}function Q3(r,e){if(typeof e=="string")r.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)r.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)Q3(r,e[t]);else throw new RangeError("Unsupported child node: "+e)}let Tn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},t1=typeof document<"u"?document:{documentElement:{style:{}}};const r1=/Edge\/(\d+)/.exec(Tn.userAgent),Z3=/MSIE \d/.test(Tn.userAgent),n1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Tn.userAgent),fp=!!(Z3||n1||r1),Rw=!fp&&/gecko\/(\d+)/i.test(Tn.userAgent),Jg=!fp&&/Chrome\/(\d+)/.exec(Tn.userAgent),pL="webkitFontSmoothing"in t1.documentElement.style,i1=!fp&&/Apple Computer/.test(Tn.vendor),Fw=i1&&(/Mobile\/\w+/.test(Tn.userAgent)||Tn.maxTouchPoints>2);var We={mac:Fw||/Mac/.test(Tn.platform),windows:/Win/.test(Tn.platform),linux:/Linux|X11/.test(Tn.platform),ie:fp,ie_version:Z3?t1.documentMode||6:n1?+n1[1]:r1?+r1[1]:0,gecko:Rw,gecko_version:Rw?+(/Firefox\/(\d+)/.exec(Tn.userAgent)||[0,0])[1]:0,chrome:!!Jg,chrome_version:Jg?+Jg[1]:0,ios:Fw,android:/Android\b/.test(Tn.userAgent),webkit_version:pL?+(/\bAppleWebKit\/(\d+)/.exec(Tn.userAgent)||[0,0])[1]:0,safari:i1,safari_version:i1?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Tn.userAgent)||[0,0])[1]:0,tabSize:t1.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function M0(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function s1(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function Kh(r,e){if(!e.anchorNode)return!1;try{return s1(r,e.anchorNode)}catch{return!1}}function Vo(r){return r.nodeType==3?_l(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function x0(r,e,t,n){return t?Mw(r,e,t,n,-1)||Mw(r,e,t,n,1):!1}function Tl(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function Ed(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}function Mw(r,e,t,n,i){for(;;){if(r==t&&e==n)return!0;if(e==(i<0?0:ms(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;e=Tl(r)+(i<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[e+(i<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=i<0?ms(r):0}else return!1}}function ms(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function af(r,e){let t=e?r.left:r.right;return{left:t,right:t,top:r.top,bottom:r.bottom}}function mL(r){let e=r.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function J3(r,e){let t=e.width/r.offsetWidth,n=e.height/r.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-r.offsetWidth)<1)&&(t=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-r.offsetHeight)<1)&&(n=1),{scaleX:t,scaleY:n}}function gL(r,e,t,n,i,s,l,c){let f=r.ownerDocument,h=f.defaultView||window;for(let d=r,m=!1;d&&!m;)if(d.nodeType==1){let g,x=d==f.body,b=1,S=1;if(x)g=mL(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(m=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let A=d.getBoundingClientRect();({scaleX:b,scaleY:S}=J3(d,A)),g={left:A.left,right:A.left+d.clientWidth*b,top:A.top,bottom:A.top+d.clientHeight*S}}let w=0,T=0;if(i=="nearest")e.top<g.top?(T=e.top-(g.top+l),t>0&&e.bottom>g.bottom+T&&(T=e.bottom-g.bottom+l)):e.bottom>g.bottom&&(T=e.bottom-g.bottom+l,t<0&&e.top-T<g.top&&(T=e.top-(g.top+l)));else{let A=e.bottom-e.top,E=g.bottom-g.top;T=(i=="center"&&A<=E?e.top+A/2-E/2:i=="start"||i=="center"&&t<0?e.top-l:e.bottom-E+l)-g.top}if(n=="nearest"?e.left<g.left?(w=e.left-(g.left+s),t>0&&e.right>g.right+w&&(w=e.right-g.right+s)):e.right>g.right&&(w=e.right-g.right+s,t<0&&e.left<g.left+w&&(w=e.left-(g.left+s))):w=(n=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:n=="start"==c?e.left-s:e.right-(g.right-g.left)+s)-g.left,w||T)if(x)h.scrollBy(w,T);else{let A=0,E=0;if(T){let _=d.scrollTop;d.scrollTop+=T/S,E=(d.scrollTop-_)*S}if(w){let _=d.scrollLeft;d.scrollLeft+=w/b,A=(d.scrollLeft-_)*b}e={left:e.left-A,top:e.top-E,right:e.right-A,bottom:e.bottom-E},A&&Math.abs(A-w)<1&&(n="nearest"),E&&Math.abs(E-T)<1&&(i="nearest")}if(x)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function xL(r){let e=r.ownerDocument,t,n;for(let i=r.parentNode;i&&!(i==e.body||t&&n);)if(i.nodeType==1)!n&&i.scrollHeight>i.clientHeight&&(n=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:n}}class vL{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?ms(t):0),n,Math.min(e.focusOffset,n?ms(n):0))}set(e,t,n,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=i}}let fl=null;We.safari&&We.safari_version>=26&&(fl=!1);function eT(r){if(r.setActive)return r.setActive();if(fl)return r.focus(fl);let e=[];for(let t=r;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(r.focus(fl==null?{get preventScroll(){return fl={preventScroll:!0},!0}}:void 0),!fl){fl=!1;for(let t=0;t<e.length;){let n=e[t++],i=e[t++],s=e[t++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=s&&(n.scrollLeft=s)}}}let Lw;function _l(r,e,t=e){let n=Lw||(Lw=document.createRange());return n.setEnd(r,t),n.setStart(r,e),n}function Mo(r,e,t,n){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};n&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=n);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,r.dispatchEvent(s);let l=new KeyboardEvent("keyup",i);return l.synthetic=!0,r.dispatchEvent(l),s.defaultPrevented||l.defaultPrevented}function yL(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function tT(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function bL(r,e){let t=e.focusNode,n=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=n)return!1;for(n=Math.min(n,ms(t));;)if(n){if(t.nodeType!=1)return!1;let i=t.childNodes[n-1];i.contentEditable=="false"?n--:(t=i,n=ms(t))}else{if(t==r)return!0;n=Tl(t),t=t.parentNode}}function rT(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}function nT(r,e){for(let t=r,n=e;;){if(t.nodeType==3&&n>0)return{node:t,offset:n};if(t.nodeType==1&&n>0){if(t.contentEditable=="false")return null;t=t.childNodes[n-1],n=ms(t)}else if(t.parentNode&&!Ed(t))n=Tl(t),t=t.parentNode;else return null}}function iT(r,e){for(let t=r,n=e;;){if(t.nodeType==3&&n<t.nodeValue.length)return{node:t,offset:n};if(t.nodeType==1&&n<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[n],n=0}else if(t.parentNode&&!Ed(t))n=Tl(t)+1,t=t.parentNode;else return null}}class vn{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new vn(e.parentNode,Tl(e),t)}static after(e,t){return new vn(e.parentNode,Tl(e)+1,t)}}const vv=[];class Jt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let n=this.dom,i=null,s;for(let l of this.children){if(l.flags&7){if(!l.dom&&(s=i?i.nextSibling:n.firstChild)){let c=Jt.get(s);(!c||!c.parent&&c.canReuseDOM(l))&&l.reuseDOM(s)}l.sync(e,t),l.flags&=-8}if(s=i?i.nextSibling:n.firstChild,t&&!t.written&&t.node==n&&s!=l.dom&&(t.written=!0),l.dom.parentNode==n)for(;s&&s!=l.dom;)s=Iw(s);else n.insertBefore(l.dom,s);i=l.dom}for(s=i?i.nextSibling:n.firstChild,s&&t&&t.node==n&&(t.written=!0);s;)s=Iw(s)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let i=ms(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Jt.get(n);)n=n.nextSibling;if(!n)return this.length;for(let i=0,s=0;;i++){let l=this.children[i];if(l.dom==n)return s;s+=l.length+l.breakAfter}}domBoundsAround(e,t,n=0){let i=-1,s=-1,l=-1,c=-1;for(let f=0,h=n,d=n;f<this.children.length;f++){let m=this.children[f],g=h+m.length;if(h<e&&g>t)return m.domBoundsAround(e,t,h);if(g>=e&&i==-1&&(i=f,s=h),h>t&&m.dom.parentNode==this.dom){l=f,c=d;break}d=g,h=g+m.breakAfter}return{from:s,to:c<0?n+this.length:c,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:l<this.children.length&&l>=0?this.children[l].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=vv){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&n.indexOf(s)<0&&s.destroy()}n.length<250?this.children.splice(e,t-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(t));for(let i=0;i<n.length;i++)n[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new sT(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,i,s,l){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Jt.prototype.breakAfter=0;function Iw(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class sT{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function aT(r,e,t,n,i,s,l,c,f){let{children:h}=r,d=h.length?h[e]:null,m=s.length?s[s.length-1]:null,g=m?m.breakAfter:l;if(!(e==n&&d&&!l&&!g&&s.length<2&&d.merge(t,i,s.length?m:null,t==0,c,f))){if(n<h.length){let x=h[n];x&&(i<x.length||x.breakAfter&&m?.breakAfter)?(e==n&&(x=x.split(i),i=0),!g&&m&&x.merge(0,i,m,!0,0,f)?s[s.length-1]=x:((i||x.children.length&&!x.children[0].length)&&x.merge(0,i,null,!1,0,f),s.push(x))):x?.breakAfter&&(m?m.breakAfter=1:l=1),n++}for(d&&(d.breakAfter=l,t>0&&(!l&&s.length&&d.merge(t,d.length,s[0],!1,c,0)?d.breakAfter=s.shift().breakAfter:(t<d.length||d.children.length&&d.children[d.children.length-1].length==0)&&d.merge(t,d.length,null,!1,c,0),e++));e<n&&s.length;)if(h[n-1].become(s[s.length-1]))n--,s.pop(),f=s.length?0:c;else if(h[e].become(s[0]))e++,s.shift(),c=s.length?0:f;else break;!s.length&&e&&n<h.length&&!h[e-1].breakAfter&&h[n].merge(0,0,h[e-1],!1,c,f)&&e--,(e<n||s.length)&&r.replaceChildren(e,n,s)}}function lT(r,e,t,n,i,s){let l=r.childCursor(),{i:c,off:f}=l.findPos(t,1),{i:h,off:d}=l.findPos(e,-1),m=e-t;for(let g of n)m+=g.length;r.length+=m,aT(r,h,d,c,f,n,0,i,s)}const SL=256;class qi extends Jt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,n){return this.flags&8||n&&(!(n instanceof qi)||this.length-(t-e)+n.length>SL||n.flags&8)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new qi(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new vn(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return wL(this.dom,e,t)}}class Xs extends Jt{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let i of t)i.setParent(this)}setAttrs(e){if(tT(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,i,s,l){return n&&(!(n instanceof Xs&&n.mark.eq(this.mark))||e&&s<=0||t<this.length&&l<=0)?!1:(lT(this,e,t,n?n.children.slice():[],s-1,l-1),this.markDirty(),!0)}split(e){let t=[],n=0,i=-1,s=0;for(let c of this.children){let f=n+c.length;f>e&&t.push(n<e?c.split(e-n):c),i<0&&n>=e&&(i=s),n=f,s++}let l=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Xs(this.mark,t,l)}domAtPos(e){return oT(this,e)}coordsAt(e,t){return fT(this,e,t)}}function wL(r,e,t){let n=r.nodeValue.length;e>n&&(e=n);let i=e,s=e,l=0;e==0&&t<0||e==n&&t>=0?We.chrome||We.gecko||(e?(i--,l=1):s<n&&(s++,l=-1)):t<0?i--:s<n&&s++;let c=_l(r,i,s).getClientRects();if(!c.length)return null;let f=c[(l?l<0:t>=0)?0:c.length-1];return We.safari&&!l&&f.width==0&&(f=Array.prototype.find.call(c,h=>h.width)||f),l?af(f,l<0):f||null}class zs extends Jt{static create(e,t,n){return new zs(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=zs.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,n,i,s,l){return n&&(!(n instanceof zs)||!this.widget.compare(n.widget)||e>0&&s<=0||t<this.length&&l<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e instanceof zs&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Rt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):Rt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?vn.before(this.dom):vn.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let l=this.side?this.side<0:e>0;for(let c=l?i.length-1:0;s=i[c],!(e>0?c==0:c==i.length-1||s.top<s.bottom);c+=l?-1:1);return af(s,!l)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class qo extends Jt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof qo&&e.side==this.side}split(){return new qo(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?vn.before(this.dom):vn.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Rt.empty}get isHidden(){return!0}}qi.prototype.children=zs.prototype.children=qo.prototype.children=vv;function oT(r,e){let t=r.dom,{children:n}=r,i=0;for(let s=0;i<n.length;i++){let l=n[i],c=s+l.length;if(!(c==s&&l.getSide()<=0)){if(e>s&&e<c&&l.dom.parentNode==t)return l.domAtPos(e-s);if(e<=s)break;s=c}}for(let s=i;s>0;s--){let l=n[s-1];if(l.dom.parentNode==t)return l.domAtPos(l.length)}for(let s=i;s<n.length;s++){let l=n[s];if(l.dom.parentNode==t)return l.domAtPos(0)}return new vn(t,0)}function cT(r,e,t){let n,{children:i}=r;t>0&&e instanceof Xs&&i.length&&(n=i[i.length-1])instanceof Xs&&n.mark.eq(e.mark)?cT(n,e.children[0],t-1):(i.push(e),e.setParent(r)),r.length+=e.length}function fT(r,e,t){let n=null,i=-1,s=null,l=-1;function c(h,d){for(let m=0,g=0;m<h.children.length&&g<=d;m++){let x=h.children[m],b=g+x.length;b>=d&&(x.children.length?c(x,d-g):(!s||s.isHidden&&(t>0||CL(s,x)))&&(b>d||g==b&&x.getSide()>0)?(s=x,l=d-g):(g<d||g==b&&x.getSide()<0&&!x.isHidden)&&(n=x,i=d-g)),g=b}}c(r,e);let f=(t<0?n:s)||n||s;return f?f.coordsAt(Math.max(0,f==n?i:l),t):EL(r)}function EL(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let t=Vo(e);return t[t.length-1]||null}function CL(r,e){let t=r.coordsAt(0,1),n=e.coordsAt(0,1);return t&&n&&n.top<t.bottom}function a1(r,e){for(let t in r)t=="class"&&e.class?e.class+=" "+r.class:t=="style"&&e.style?e.style+=";"+r.style:e[t]=r[t];return e}const Pw=Object.create(null);function Cd(r,e,t){if(r==e)return!0;r||(r=Pw),e||(e=Pw);let n=Object.keys(r),i=Object.keys(e);if(n.length-(t&&n.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let s of n)if(s!=t&&(i.indexOf(s)==-1||r[s]!==e[s]))return!1;return!0}function l1(r,e,t){let n=!1;if(e)for(let i in e)t&&i in t||(n=!0,i=="style"?r.style.cssText="":r.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(n=!0,i=="style"?r.style.cssText=t[i]:r.setAttribute(i,t[i]));return n}function AL(r){let e=Object.create(null);for(let t=0;t<r.attributes.length;t++){let n=r.attributes[t];e[n.name]=n.value}return e}class Qs{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var kn=(function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r})(kn||(kn={}));class st extends Al{constructor(e,t,n,i){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new lf(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Pa(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,i;if(e.isBlockGap)n=-5e8,i=4e8;else{let{start:s,end:l}=uT(e,t);n=(s?t?-3e8:-1:5e8)-1,i=(l?t?2e8:1:-6e8)+1}return new Pa(e,n,i,t,e.widget||null,!0)}static line(e){return new of(e)}static set(e,t=!1){return Nt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}st.none=Nt.empty;class lf extends st{constructor(e){let{start:t,end:n}=uT(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof lf&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((n=e.attrs)===null||n===void 0?void 0:n.class))&&Cd(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}lf.prototype.point=!1;class of extends st{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof of&&this.spec.class==e.spec.class&&Cd(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}of.prototype.mapMode=_n.TrackBefore;of.prototype.point=!0;class Pa extends st{constructor(e,t,n,i,s,l){super(t,n,s,e),this.block=i,this.isReplace=l,this.mapMode=i?t<=0?_n.TrackBefore:_n.TrackAfter:_n.TrackDel}get type(){return this.startSide!=this.endSide?kn.WidgetRange:this.startSide<=0?kn.WidgetBefore:kn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Pa&&TL(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Pa.prototype.point=!0;function uT(r,e=!1){let{inclusiveStart:t,inclusiveEnd:n}=r;return t==null&&(t=r.inclusive),n==null&&(n=r.inclusive),{start:t??e,end:n??e}}function TL(r,e){return r==e||!!(r&&e&&r.compare(e))}function Qh(r,e,t,n=0){let i=t.length-1;i>=0&&t[i]+n>=r?t[i]=Math.max(t[i],e):t.push(r,e)}class Fr extends Jt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,i,s,l){if(n){if(!(n instanceof Fr))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),lT(this,e,t,n?n.children.slice():[],s,l),!0}split(e){let t=new Fr;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:n,off:i}=this.childPos(e);i&&(t.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let s=n;s<this.children.length;s++)t.append(this.children[s],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Cd(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){cT(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=a1(t,this.attrs||{})),n&&(this.attrs=a1({class:n},this.attrs||{}))}domAtPos(e){return oT(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?this.flags&4&&(tT(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(l1(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&Jt.get(i)instanceof Xs;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((n=Jt.get(i))===null||n===void 0?void 0:n.isEditable)==!1&&(!We.ios||!this.children.some(s=>s instanceof qi))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let n of this.children){if(!(n instanceof qi)||/[^ -~]/.test(n.text))return null;let i=Vo(n.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let n=fT(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=n.bottom-n.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let l=(s-i.textHeight)/2;return{top:n.top+l,bottom:n.bottom-l,left:n.left,right:n.left}}}return n}become(e){return e instanceof Fr&&this.children.length==0&&e.children.length==0&&Cd(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let n=0,i=0;n<e.children.length;n++){let s=e.children[n],l=i+s.length;if(l>=t){if(s instanceof Fr)return s;if(l>t)break}i=l+s.breakAfter}return null}}class qs extends Jt{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,i,s,l){return n&&(!(n instanceof qs)||!this.widget.compare(n.widget)||e>0&&s<=0||t<this.length&&l<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?vn.before(this.dom):vn.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new qs(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return vv}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Rt.empty}domBoundsAround(){return null}become(e){return e instanceof qs&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);return n||(this.widget instanceof o1?null:af(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t==n?!1:e<0?t<0:n>0}}class o1 extends Qs{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class v0{constructor(e,t,n,i){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof qs&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Fr),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Hu(new qo(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof qs)&&this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:l,lineBreak:c,done:f}=this.cursor.next(this.skip);if(this.skip=0,f)throw new Error("Ran out of text content when drawing inline views");if(c){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=l,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e),s=Math.min(i,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(Hu(new qi(this.text.slice(this.textOff,this.textOff+s)),t),n),this.atCursorPos=!0,this.textOff+=s,e-=s,n=i<=s?0:t.length}}span(e,t,n,i){this.buildText(t-e,n,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,n,i,s,l){if(this.disallowBlockEffectsFor[l]&&n instanceof Pa){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=t-e;if(n instanceof Pa)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new qs(n.widget||Wo.block,c,n));else{let f=zs.create(n.widget||Wo.inline,c,c?0:n.startSide),h=this.atCursorPos&&!f.isEditable&&s<=i.length&&(e<t||n.startSide>0),d=!f.isEditable&&(e<t||s>i.length||n.startSide<=0),m=this.getLine();this.pendingBuffer==2&&!h&&!f.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),h&&(m.append(Hu(new qo(1),i),s),s=i.length+Math.max(0,s-i.length)),m.append(Hu(f,i),s),this.atCursorPos=d,this.pendingBuffer=d?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,n,i,s){let l=new v0(e,t,n,s);return l.openEnd=Nt.spans(i,t,n,l),l.openStart<0&&(l.openStart=l.openEnd),l.finish(l.openEnd),l}}function Hu(r,e){for(let t of e)r=new Xs(t,[r],r.length);return r}class Wo extends Qs{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Wo.inline=new Wo("span");Wo.block=new Wo("div");var hr=(function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r})(hr||(hr={}));const Dl=hr.LTR,yv=hr.RTL;function hT(r){let e=[];for(let t=0;t<r.length;t++)e.push(1<<+r[t]);return e}const _L=hT("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),DL=hT("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),c1=Object.create(null),rs=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),t=r.charCodeAt(1);c1[e]=t,c1[t]=-e}function dT(r){return r<=247?_L[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?DL[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}const kL=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Oa{get dir(){return this.level%2?yv:Dl}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,i){let s=-1;for(let l=0;l<e.length;l++){let c=e[l];if(c.from<=t&&c.to>=t){if(c.level==n)return l;(s<0||(i!=0?i<0?c.from<t:c.to>t:e[s].level>c.level))&&(s=l)}}if(s<0)throw new RangeError("Index out of range");return s}}function pT(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++){let n=r[t],i=e[t];if(n.from!=i.from||n.to!=i.to||n.direction!=i.direction||!pT(n.inner,i.inner))return!1}return!0}const sr=[];function OL(r,e,t,n,i){for(let s=0;s<=n.length;s++){let l=s?n[s-1].to:e,c=s<n.length?n[s].from:t,f=s?256:i;for(let h=l,d=f,m=f;h<c;h++){let g=dT(r.charCodeAt(h));g==512?g=d:g==8&&m==4&&(g=16),sr[h]=g==4?2:g,g&7&&(m=g),d=g}for(let h=l,d=f,m=f;h<c;h++){let g=sr[h];if(g==128)h<c-1&&d==sr[h+1]&&d&24?g=sr[h]=d:sr[h]=256;else if(g==64){let x=h+1;for(;x<c&&sr[x]==64;)x++;let b=h&&d==8||x<t&&sr[x]==8?m==1?1:8:256;for(let S=h;S<x;S++)sr[S]=b;h=x-1}else g==8&&m==1&&(sr[h]=1);d=g,g&7&&(m=g)}}}function BL(r,e,t,n,i){let s=i==1?2:1;for(let l=0,c=0,f=0;l<=n.length;l++){let h=l?n[l-1].to:e,d=l<n.length?n[l].from:t;for(let m=h,g,x,b;m<d;m++)if(x=c1[g=r.charCodeAt(m)])if(x<0){for(let S=c-3;S>=0;S-=3)if(rs[S+1]==-x){let w=rs[S+2],T=w&2?i:w&4?w&1?s:i:0;T&&(sr[m]=sr[rs[S]]=T),c=S;break}}else{if(rs.length==189)break;rs[c++]=m,rs[c++]=g,rs[c++]=f}else if((b=sr[m])==2||b==1){let S=b==i;f=S?0:1;for(let w=c-3;w>=0;w-=3){let T=rs[w+2];if(T&2)break;if(S)rs[w+2]|=2;else{if(T&4)break;rs[w+2]|=4}}}}}function NL(r,e,t,n){for(let i=0,s=n;i<=t.length;i++){let l=i?t[i-1].to:r,c=i<t.length?t[i].from:e;for(let f=l;f<c;){let h=sr[f];if(h==256){let d=f+1;for(;;)if(d==c){if(i==t.length)break;d=t[i++].to,c=i<t.length?t[i].from:e}else if(sr[d]==256)d++;else break;let m=s==1,g=(d<e?sr[d]:n)==1,x=m==g?m?1:2:n;for(let b=d,S=i,w=S?t[S-1].to:r;b>f;)b==w&&(b=t[--S].from,w=S?t[S-1].to:r),sr[--b]=x;f=d}else s=h,f++}}}function f1(r,e,t,n,i,s,l){let c=n%2?2:1;if(n%2==i%2)for(let f=e,h=0;f<t;){let d=!0,m=!1;if(h==s.length||f<s[h].from){let S=sr[f];S!=c&&(d=!1,m=S==16)}let g=!d&&c==1?[]:null,x=d?n:n+1,b=f;e:for(;;)if(h<s.length&&b==s[h].from){if(m)break e;let S=s[h];if(!d)for(let w=S.to,T=h+1;;){if(w==t)break e;if(T<s.length&&s[T].from==w)w=s[T++].to;else{if(sr[w]==c)break e;break}}if(h++,g)g.push(S);else{S.from>f&&l.push(new Oa(f,S.from,x));let w=S.direction==Dl!=!(x%2);u1(r,w?n+1:n,i,S.inner,S.from,S.to,l),f=S.to}b=S.to}else{if(b==t||(d?sr[b]!=c:sr[b]==c))break;b++}g?f1(r,f,b,n+1,i,g,l):f<b&&l.push(new Oa(f,b,x)),f=b}else for(let f=t,h=s.length;f>e;){let d=!0,m=!1;if(!h||f>s[h-1].to){let S=sr[f-1];S!=c&&(d=!1,m=S==16)}let g=!d&&c==1?[]:null,x=d?n:n+1,b=f;e:for(;;)if(h&&b==s[h-1].to){if(m)break e;let S=s[--h];if(!d)for(let w=S.from,T=h;;){if(w==e)break e;if(T&&s[T-1].to==w)w=s[--T].from;else{if(sr[w-1]==c)break e;break}}if(g)g.push(S);else{S.to<f&&l.push(new Oa(S.to,f,x));let w=S.direction==Dl!=!(x%2);u1(r,w?n+1:n,i,S.inner,S.from,S.to,l),f=S.from}b=S.from}else{if(b==e||(d?sr[b-1]!=c:sr[b-1]==c))break;b--}g?f1(r,b,f,n+1,i,g,l):b<f&&l.push(new Oa(b,f,x)),f=b}}function u1(r,e,t,n,i,s,l){let c=e%2?2:1;OL(r,i,s,n,c),BL(r,i,s,n,c),NL(i,s,n,c),f1(r,i,s,e,t,n,l)}function RL(r,e,t){if(!r)return[new Oa(0,0,e==yv?1:0)];if(e==Dl&&!t.length&&!kL.test(r))return mT(r.length);if(t.length)for(;r.length>sr.length;)sr[sr.length]=256;let n=[],i=e==Dl?0:1;return u1(r,i,i,t,0,r.length,n),n}function mT(r){return[new Oa(0,r,0)]}let gT="";function FL(r,e,t,n,i){var s;let l=n.head-r.from,c=Oa.find(e,l,(s=n.bidiLevel)!==null&&s!==void 0?s:-1,n.assoc),f=e[c],h=f.side(i,t);if(l==h){let g=c+=i?1:-1;if(g<0||g>=e.length)return null;f=e[c=g],l=f.side(!i,t),h=f.side(i,t)}let d=cn(r.text,l,f.forward(i,t));(d<f.from||d>f.to)&&(d=h),gT=r.text.slice(Math.min(l,d),Math.max(l,d));let m=c==(i?e.length-1:0)?null:e[c+(i?1:-1)];return m&&d==h&&m.level+(i?0:1)<f.level?Oe.cursor(m.side(!i,t)+r.from,m.forward(i,t)?1:-1,m.level):Oe.cursor(d+r.from,f.forward(i,t)?-1:1,f.level)}function ML(r,e,t){for(let n=e;n<t;n++){let i=dT(r.charCodeAt(n));if(i==1)return Dl;if(i==2||i==4)return yv}return Dl}const xT=Xe.define(),vT=Xe.define(),yT=Xe.define(),bT=Xe.define(),h1=Xe.define(),ST=Xe.define(),wT=Xe.define(),bv=Xe.define(),Sv=Xe.define(),ET=Xe.define({combine:r=>r.some(e=>e)}),CT=Xe.define({combine:r=>r.some(e=>e)}),AT=Xe.define();class Lo{constructor(e,t="nearest",n="nearest",i=5,s=5,l=!1){this.range=e,this.y=t,this.x=n,this.yMargin=i,this.xMargin=s,this.isSnapshot=l}map(e){return e.empty?this:new Lo(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Lo(Oe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Uu=pt.define({map:(r,e)=>r.map(e)}),TT=pt.define();function Un(r,e,t){let n=r.facet(bT);n.length?n[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const js=Xe.define({combine:r=>r.length?r[0]:!0});let LL=0;const To=Xe.define({combine(r){return r.filter((e,t)=>{for(let n=0;n<t;n++)if(r[n].plugin==e.plugin)return!1;return!0})}});class Dr{constructor(e,t,n,i,s){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(To.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(To.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:n,eventObservers:i,provide:s,decorations:l}=t||{};return new Dr(LL++,e,n,i,c=>{let f=[];return l&&f.push(L0.of(h=>{let d=h.plugin(c);return d?l(d):st.none})),s&&f.push(s(c)),f})}static fromClass(e,t){return Dr.define((n,i)=>new e(n,i),t)}}class ex{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(Un(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){Un(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(n){Un(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const _T=Xe.define(),wv=Xe.define(),L0=Xe.define(),DT=Xe.define(),cf=Xe.define(),kT=Xe.define();function jw(r,e){let t=r.state.facet(kT);if(!t.length)return t;let n=t.map(s=>s instanceof Function?s(r):s),i=[];return Nt.spans(n,e.from,e.to,{point(){},span(s,l,c,f){let h=s-e.from,d=l-e.from,m=i;for(let g=c.length-1;g>=0;g--,f--){let x=c[g].spec.bidiIsolate,b;if(x==null&&(x=ML(e.text,h,d)),f>0&&m.length&&(b=m[m.length-1]).to==h&&b.direction==x)b.to=d,m=b.inner;else{let S={from:h,to:d,direction:x,inner:[]};m.push(S),m=S.inner}}}}),i}const OT=Xe.define();function Ev(r){let e=0,t=0,n=0,i=0;for(let s of r.state.facet(OT)){let l=s(r);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(t=Math.max(t,l.right)),l.top!=null&&(n=Math.max(n,l.top)),l.bottom!=null&&(i=Math.max(i,l.bottom)))}return{left:e,right:t,top:n,bottom:i}}const n0=Xe.define();class Oi{constructor(e,t,n,i){this.fromA=e,this.toA=t,this.fromB=n,this.toB=i}join(e){return new Oi(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(t.length==0)return e;let n=[];for(let i=0,s=0,l=0,c=0;;i++){let f=i==e.length?null:e[i],h=l-c,d=f?f.fromB:1e9;for(;s<t.length&&t[s]<d;){let m=t[s],g=t[s+1],x=Math.max(c,m),b=Math.min(d,g);if(x<=b&&new Oi(x+h,b+h,x,b).addToSet(n),g>d)break;s+=2}if(!f)return n;new Oi(f.fromA,f.toA,f.fromB,f.toB).addToSet(n),l=f.toA,c=f.toB}}}class Ad{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=zr.empty(this.startState.doc.length);for(let s of n)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,l,c,f)=>i.push(new Oi(s,l,c,f))),this.changedRanges=i}static create(e,t,n){return new Ad(e,t,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class zw extends Jt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=st.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Fr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Oi(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:h,toA:d})=>d<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!VL(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?PL(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:d}=this.hasComposition;n=new Oi(h,d,e.changes.mapPos(h,-1),e.changes.mapPos(d,1)).addToSet(n.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(We.ie||We.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,c=this.updateDeco(),f=HL(l,c,e.changes);return n=Oi.extendWithRanges(n,f),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let l=We.chrome||We.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,l),this.flags&=-8,l&&(l.written||i.selectionRange.focusNode!=l.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(l=>l.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let l of this.children)l instanceof qs&&l.widget instanceof o1&&s.push(l.dom);i.updateGaps(s)}updateChildren(e,t,n){let i=n?n.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let l=i.length-1;;l--){let c=l>=0?i[l]:null;if(!c)break;let{fromA:f,toA:h,fromB:d,toB:m}=c,g,x,b,S;if(n&&n.range.fromB<m&&n.range.toB>d){let _=v0.build(this.view.state.doc,d,n.range.fromB,this.decorations,this.dynamicDecorationMap),B=v0.build(this.view.state.doc,n.range.toB,m,this.decorations,this.dynamicDecorationMap);x=_.breakAtStart,b=_.openStart,S=B.openEnd;let F=this.compositionView(n);B.breakAtStart?F.breakAfter=1:B.content.length&&F.merge(F.length,F.length,B.content[0],!1,B.openStart,0)&&(F.breakAfter=B.content[0].breakAfter,B.content.shift()),_.content.length&&F.merge(0,0,_.content[_.content.length-1],!0,0,_.openEnd)&&_.content.pop(),g=_.content.concat(F).concat(B.content)}else({content:g,breakAtStart:x,openStart:b,openEnd:S}=v0.build(this.view.state.doc,d,m,this.decorations,this.dynamicDecorationMap));let{i:w,off:T}=s.findPos(h,1),{i:A,off:E}=s.findPos(f,-1);aT(this,A,E,w,T,g,x,b,S)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let n of t.effects)n.is(TT)&&(this.editContextFormatting=n.value)}compositionView(e){let t=new qi(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new Xs(i,[t],t.length);let n=new Fr;return n.append(t,0),n}fixCompositionDOM(e){let t=(s,l)=>{l.flags|=8|(l.children.some(f=>f.flags&7)?1:0),this.markedForComposition.add(l);let c=Jt.get(s);c&&c!=l&&(c.dom=null),l.setDOM(s)},n=this.childPos(e.range.fromB,1),i=this.children[n.i];t(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)n=i.childPos(n.off,1),i=i.children[n.i],t(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,i=n==this.dom,s=!i&&!(this.view.state.facet(js)||this.dom.tabIndex>-1)&&Kh(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(i||t||s))return;let l=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,f=this.moveToLine(this.domAtPos(c.anchor)),h=c.empty?f:this.moveToLine(this.domAtPos(c.head));if(We.gecko&&c.empty&&!this.hasComposition&&IL(f)){let m=document.createTextNode("");this.view.observer.ignore(()=>f.node.insertBefore(m,f.node.childNodes[f.offset]||null)),f=h=new vn(m,0),l=!0}let d=this.view.observer.selectionRange;(l||!d.focusNode||(!x0(f.node,f.offset,d.anchorNode,d.anchorOffset)||!x0(h.node,h.offset,d.focusNode,d.focusOffset))&&!this.suppressWidgetCursorChange(d,c))&&(this.view.observer.ignore(()=>{We.android&&We.chrome&&this.dom.contains(d.focusNode)&&UL(d.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let m=M0(this.view.root);if(m)if(c.empty){if(We.gecko){let g=jL(f.node,f.offset);if(g&&g!=3){let x=(g==1?nT:iT)(f.node,f.offset);x&&(f=new vn(x.node,x.offset))}}m.collapse(f.node,f.offset),c.bidiLevel!=null&&m.caretBidiLevel!==void 0&&(m.caretBidiLevel=c.bidiLevel)}else if(m.extend){m.collapse(f.node,f.offset);try{m.extend(h.node,h.offset)}catch{}}else{let g=document.createRange();c.anchor>c.head&&([f,h]=[h,f]),g.setEnd(h.node,h.offset),g.setStart(f.node,f.offset),m.removeAllRanges(),m.addRange(g)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(f,h)),this.impreciseAnchor=f.precise?null:new vn(d.anchorNode,d.anchorOffset),this.impreciseHead=h.precise?null:new vn(d.focusNode,d.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&x0(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=M0(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let l=Fr.find(this,t.head);if(!l)return;let c=l.posAtStart;if(t.head==c||t.head==c+l.length)return;let f=this.coordsAt(t.head,-1),h=this.coordsAt(t.head,1);if(!f||!h||f.bottom>h.top)return;let d=this.domAtPos(t.head+t.assoc);n.collapse(d.node,d.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=t.from&&n.collapse(i,s)}moveToLine(e){let t=this.dom,n;if(e.node!=t)return e;for(let i=e.offset;!n&&i<t.childNodes.length;i++){let s=Jt.get(t.childNodes[i]);s instanceof Fr&&(n=s.domAtPos(0))}for(let i=e.offset-1;!n&&i>=0;i--){let s=Jt.get(t.childNodes[i]);s instanceof Fr&&(n=s.domAtPos(s.length))}return n?new vn(n.node,n.offset,!0):e}nearest(e){for(let t=e;t;){let n=Jt.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(n<i.length||i instanceof Fr)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,i=0;for(let s=this.length,l=this.children.length-1;l>=0;l--){let c=this.children[l],f=s-c.breakAfter,h=f-c.length;if(f<e)break;if(h<=e&&(h<e||c.covers(-1))&&(f>e||c.covers(1))&&(!n||c instanceof Fr&&!(n instanceof Fr&&t>=0)))n=c,i=h;else if(n&&h==e&&f==e&&c instanceof qs&&Math.abs(t)<2){if(c.deco.startSide<0)break;l&&(n=null)}s=h}return n?n.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),i=this.children[t];if(!(i instanceof Fr))return null;for(;i.children.length;){let{i:c,off:f}=i.childPos(n,1);for(;;c++){if(c==i.children.length)return null;if((i=i.children[c]).length)break}n=f}if(!(i instanceof qi))return null;let s=cn(i.text,n);if(s==n)return null;let l=_l(i.dom,n,s).getClientRects();for(let c=0;c<l.length;c++){let f=l[c];if(c==l.length-1||f.top<f.bottom&&f.left<f.right)return f}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:i}=e,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,f=this.view.textDirection==hr.LTR;for(let h=0,d=0;d<this.children.length;d++){let m=this.children[d],g=h+m.length;if(g>i)break;if(h>=n){let x=m.dom.getBoundingClientRect();if(t.push(x.height),l){let b=m.dom.lastChild,S=b?Vo(b):[];if(S.length){let w=S[S.length-1],T=f?w.right-x.left:x.right-w.left;T>c&&(c=T,this.minWidth=s,this.minWidthFrom=h,this.minWidthTo=g)}}}h=g+m.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?hr.RTL:hr.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Fr){let l=s.measureTextSize();if(l)return l}let e=document.createElement("div"),t,n,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Vo(e.firstChild)[0];t=e.getBoundingClientRect().height,n=s?s.width/27:7,i=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:n,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new sT(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],l=s?s.from-1:this.length;if(l>n){let c=(t.lineBlockAt(l).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(st.replace({widget:new o1(c),block:!0,inclusive:!0,isBlockGap:!0}).range(n,l))}if(!s)break;n=s.to+1}return st.set(e)}updateDeco(){let e=1,t=this.view.state.facet(L0).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),n=!1,i=this.view.state.facet(DT).map((s,l)=>{let c=typeof s=="function";return c&&(n=!0),c?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=n,t.push(Nt.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(AT))try{if(h(this.view,e.range,e))return!0}catch(d){Un(this.view.state,d,"scroll handler")}let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!n)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,i.left),top:Math.min(n.top,i.top),right:Math.max(n.right,i.right),bottom:Math.max(n.bottom,i.bottom)});let s=Ev(this.view),l={left:n.left-s.left,top:n.top-s.top,right:n.right+s.right,bottom:n.bottom+s.bottom},{offsetWidth:c,offsetHeight:f}=this.view.scrollDOM;gL(this.view.scrollDOM,l,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,c),-c),Math.max(Math.min(e.yMargin,f),-f),this.view.textDirection==hr.LTR)}lineHasWidget(e){let{i:t}=this.childCursor().findPos(e);if(t==this.children.length)return!1;let n=i=>i instanceof zs||i.children.some(n);return n(this.children[t])}}function IL(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}function BT(r,e){let t=r.observer.selectionRange;if(!t.focusNode)return null;let n=nT(t.focusNode,t.focusOffset),i=iT(t.focusNode,t.focusOffset),s=n||i;if(i&&n&&i.node!=n.node){let c=Jt.get(i.node);if(!c||c instanceof qi&&c.text!=i.node.nodeValue)s=i;else if(r.docView.lastCompositionAfterCursor){let f=Jt.get(n.node);!f||f instanceof qi&&f.text!=n.node.nodeValue||(s=i)}}if(r.docView.lastCompositionAfterCursor=s!=n,!s)return null;let l=e-s.offset;return{from:l,to:l+s.node.nodeValue.length,node:s.node}}function PL(r,e,t){let n=BT(r,t);if(!n)return null;let{node:i,from:s,to:l}=n,c=i.nodeValue;if(/[\n\r]/.test(c)||r.state.doc.sliceString(n.from,n.to)!=c)return null;let f=e.invertedDesc,h=new Oi(f.mapPos(s),f.mapPos(l),s,l),d=[];for(let m=i.parentNode;;m=m.parentNode){let g=Jt.get(m);if(g instanceof Xs)d.push({node:m,deco:g.mark});else{if(g instanceof Fr||m.nodeName=="DIV"&&m.parentNode==r.contentDOM)return{range:h,text:i,marks:d,line:m};if(m!=r.contentDOM)d.push({node:m,deco:new lf({inclusive:!0,attributes:AL(m),tagName:m.tagName.toLowerCase()})});else return null}}}function jL(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}let zL=class{constructor(){this.changes=[]}compareRange(e,t){Qh(e,t,this.changes)}comparePoint(e,t){Qh(e,t,this.changes)}boundChange(e){Qh(e,e,this.changes)}};function HL(r,e,t){let n=new zL;return Nt.compare(r,e,t,n),n.changes}function UL(r,e){for(let t=r;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function VL(r,e){let t=!1;return e&&r.iterChangedRanges((n,i)=>{n<e.to&&i>e.from&&(t=!0)}),t}function qL(r,e,t=1){let n=r.charCategorizer(e),i=r.doc.lineAt(e),s=e-i.from;if(i.length==0)return Oe.cursor(e);s==0?t=1:s==i.length&&(t=-1);let l=s,c=s;t<0?l=cn(i.text,s,!1):c=cn(i.text,s);let f=n(i.text.slice(l,c));for(;l>0;){let h=cn(i.text,l,!1);if(n(i.text.slice(h,l))!=f)break;l=h}for(;c<i.length;){let h=cn(i.text,c);if(n(i.text.slice(c,h))!=f)break;c=h}return Oe.range(l+i.from,c+i.from)}function WL(r,e){return e.left>r?e.left-r:Math.max(0,r-e.right)}function GL(r,e){return e.top>r?e.top-r:Math.max(0,r-e.bottom)}function tx(r,e){return r.top<e.bottom-1&&r.bottom>e.top+1}function Hw(r,e){return e<r.top?{top:e,left:r.left,right:r.right,bottom:r.bottom}:r}function Uw(r,e){return e>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:e}:r}function d1(r,e,t){let n,i,s,l,c=!1,f,h,d,m;for(let b=r.firstChild;b;b=b.nextSibling){let S=Vo(b);for(let w=0;w<S.length;w++){let T=S[w];i&&tx(i,T)&&(T=Hw(Uw(T,i.bottom),i.top));let A=WL(e,T),E=GL(t,T);if(A==0&&E==0)return b.nodeType==3?Vw(b,e,t):d1(b,e,t);(!n||l>E||l==E&&s>A)&&(n=b,i=T,s=A,l=E,c=A?e<T.left?w>0:w<S.length-1:!0),A==0?t>T.bottom&&(!d||d.bottom<T.bottom)?(f=b,d=T):t<T.top&&(!m||m.top>T.top)&&(h=b,m=T):d&&tx(d,T)?d=Uw(d,T.bottom):m&&tx(m,T)&&(m=Hw(m,T.top))}}if(d&&d.bottom>=t?(n=f,i=d):m&&m.top<=t&&(n=h,i=m),!n)return{node:r,offset:0};let g=Math.max(i.left,Math.min(i.right,e));if(n.nodeType==3)return Vw(n,g,t);if(c&&n.contentEditable!="false")return d1(n,g,t);let x=Array.prototype.indexOf.call(r.childNodes,n)+(e>=(i.left+i.right)/2?1:0);return{node:r,offset:x}}function Vw(r,e,t){let n=r.nodeValue.length,i=-1,s=1e9,l=0;for(let c=0;c<n;c++){let f=_l(r,c,c+1).getClientRects();for(let h=0;h<f.length;h++){let d=f[h];if(d.top==d.bottom)continue;l||(l=e-d.left);let m=(d.top>t?d.top-t:t-d.bottom)-1;if(d.left-1<=e&&d.right+1>=e&&m<s){let g=e>=(d.left+d.right)/2,x=g;if(We.chrome||We.gecko){let b=_l(r,c).getBoundingClientRect();Math.abs(b.left-d.right)<.1&&(x=!g)}if(m<=0)return{node:r,offset:c+(x?1:0)};i=c+(x?1:0),s=m}}}return{node:r,offset:i>-1?i:l>0?r.nodeValue.length:0}}function NT(r,e,t,n=-1){var i,s;let l=r.contentDOM.getBoundingClientRect(),c=l.top+r.viewState.paddingTop,f,{docHeight:h}=r.viewState,{x:d,y:m}=e,g=m-c;if(g<0)return 0;if(g>h)return r.state.doc.length;for(let _=r.viewState.heightOracle.textHeight/2,B=!1;f=r.elementAtHeight(g),f.type!=kn.Text;)for(;g=n>0?f.bottom+_:f.top-_,!(g>=0&&g<=h);){if(B)return t?null:0;B=!0,n=-n}m=c+g;let x=f.from;if(x<r.viewport.from)return r.viewport.from==0?0:t?null:qw(r,l,f,d,m);if(x>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:t?null:qw(r,l,f,d,m);let b=r.dom.ownerDocument,S=r.root.elementFromPoint?r.root:b,w=S.elementFromPoint(d,m);w&&!r.contentDOM.contains(w)&&(w=null),w||(d=Math.max(l.left+1,Math.min(l.right-1,d)),w=S.elementFromPoint(d,m),w&&!r.contentDOM.contains(w)&&(w=null));let T,A=-1;if(w&&((i=r.docView.nearest(w))===null||i===void 0?void 0:i.isEditable)!=!1){if(b.caretPositionFromPoint){let _=b.caretPositionFromPoint(d,m);_&&({offsetNode:T,offset:A}=_)}else if(b.caretRangeFromPoint){let _=b.caretRangeFromPoint(d,m);_&&({startContainer:T,startOffset:A}=_)}T&&(!r.contentDOM.contains(T)||We.safari&&$L(T,A,d)||We.chrome&&XL(T,A,d))&&(T=void 0),T&&(A=Math.min(ms(T),A))}if(!T||!r.docView.dom.contains(T)){let _=Fr.find(r.docView,x);if(!_)return g>f.top+f.height/2?f.to:f.from;({node:T,offset:A}=d1(_.dom,d,m))}let E=r.docView.nearest(T);if(!E)return null;if(E.isWidget&&((s=E.dom)===null||s===void 0?void 0:s.nodeType)==1){let _=E.dom.getBoundingClientRect();return e.y<_.top||e.y<=_.bottom&&e.x<=(_.left+_.right)/2?E.posAtStart:E.posAtEnd}else return E.localPosFromDOM(T,A)+E.posAtStart}function qw(r,e,t,n,i){let s=Math.round((n-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&t.height>r.defaultLineHeight*1.5){let c=r.viewState.heightOracle.textHeight,f=Math.floor((i-t.top-(r.defaultLineHeight-c)*.5)/c);s+=f*r.viewState.heightOracle.lineLength}let l=r.state.sliceDoc(t.from,t.to);return t.from+Zx(l,s,r.state.tabSize)}function RT(r,e,t){let n,i=r;if(r.nodeType!=3||e!=(n=r.nodeValue.length))return!1;for(;;){let s=i.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let l=i.parentNode;if(!l||l.nodeName=="DIV")break;i=l}}return _l(r,n-1,n).getBoundingClientRect().right>t}function $L(r,e,t){return RT(r,e,t)}function XL(r,e,t){if(e!=0)return RT(r,e,t);for(let i=r;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let n=r.nodeType==1?r.getBoundingClientRect():_l(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return t-n.left>5}function p1(r,e,t){let n=r.lineBlockAt(e);if(Array.isArray(n.type)){let i;for(let s of n.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==kn.Text&&(i.type!=s.type||(t<0?s.from<e:s.to>e)))&&(i=s)}}return i||n}return n}function YL(r,e,t,n){let i=p1(r,e.head,e.assoc||-1),s=!n||i.type!=kn.Text||!(r.lineWrapping||i.widgetLineBreaks)?null:r.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let l=r.dom.getBoundingClientRect(),c=r.textDirectionAt(i.from),f=r.posAtCoords({x:t==(c==hr.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(f!=null)return Oe.cursor(f,t?-1:1)}return Oe.cursor(t?i.to:i.from,t?-1:1)}function Ww(r,e,t,n){let i=r.state.doc.lineAt(e.head),s=r.bidiSpans(i),l=r.textDirectionAt(i.from);for(let c=e,f=null;;){let h=FL(i,s,l,c,t),d=gT;if(!h){if(i.number==(t?r.state.doc.lines:1))return c;d=`
`,i=r.state.doc.line(i.number+(t?1:-1)),s=r.bidiSpans(i),h=r.visualLineSide(i,!t)}if(f){if(!f(d))return c}else{if(!n)return h;f=n(d)}c=h}}function KL(r,e,t){let n=r.state.charCategorizer(e),i=n(t);return s=>{let l=n(s);return i==xr.Space&&(i=l),i==l}}function QL(r,e,t,n){let i=e.head,s=t?1:-1;if(i==(t?r.state.doc.length:0))return Oe.cursor(i,e.assoc);let l=e.goalColumn,c,f=r.contentDOM.getBoundingClientRect(),h=r.coordsAtPos(i,e.assoc||-1),d=r.documentTop;if(h)l==null&&(l=h.left-f.left),c=s<0?h.top:h.bottom;else{let x=r.viewState.lineBlockAt(i);l==null&&(l=Math.min(f.right-f.left,r.defaultCharacterWidth*(i-x.from))),c=(s<0?x.top:x.bottom)+d}let m=f.left+l,g=n??r.viewState.heightOracle.textHeight>>1;for(let x=0;;x+=10){let b=c+(g+x)*s,S=NT(r,{x:m,y:b},!1,s);if(b<f.top||b>f.bottom||(s<0?S<i:S>i)){let w=r.docView.coordsForChar(S),T=!w||b<w.top?-1:1;return Oe.cursor(S,T,void 0,l)}}}function y0(r,e,t){for(;;){let n=0;for(let i of r)i.between(e-1,e+1,(s,l,c)=>{if(e>s&&e<l){let f=n||t||(e-s<l-e?-1:1);e=f<0?s:l,n=f}});if(!n)return e}}function FT(r,e){let t=null;for(let n=0;n<e.ranges.length;n++){let i=e.ranges[n],s=null;if(i.empty){let l=y0(r,i.from,0);l!=i.from&&(s=Oe.cursor(l,-1))}else{let l=y0(r,i.from,-1),c=y0(r,i.to,1);(l!=i.from||c!=i.to)&&(s=Oe.range(i.from==i.anchor?l:c,i.from==i.head?l:c))}s&&(t||(t=e.ranges.slice()),t[n]=s)}return t?Oe.create(t,e.mainIndex):e}function rx(r,e,t){let n=y0(r.state.facet(cf).map(i=>i(r)),t.from,e.head>t.from?-1:1);return n==t.from?t:Oe.cursor(n,n<t.from?1:-1)}const i0="";class ZL{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(kt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=i0}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let i=e;;){this.findPointBefore(n,i);let s=this.text.length;this.readNode(i);let l=i.nextSibling;if(l==t)break;let c=Jt.get(i),f=Jt.get(l);(c&&f?c.breakAfter:(c?c.breakAfter:Ed(i))||Ed(l)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&!eI(l,t)&&this.lineBreak(),i=l}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,l=1,c;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,n),l=this.lineSeparator.length):(c=i.exec(t))&&(s=c.index,l=c[0].length),this.append(t.slice(n,s<0?t.length:s)),s<0)break;if(this.lineBreak(),l>1)for(let f of this.points)f.node==e&&f.pos>this.text.length&&(f.pos-=l-1);n=s+l}}readNode(e){if(e.cmIgnore)return;let t=Jt.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let i=n.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(JL(e,n.node,n.offset)?t:0))}}function JL(r,e,t){for(;;){if(!e||t<ms(e))return!1;if(e==r)return!0;t=Tl(e)+1,e=e.parentNode}}function eI(r,e){let t;for(;!(r==e||!r);r=r.nextSibling){let n=Jt.get(r);if(!(n?.isWidget||r.cmIgnore))return!1;n&&(t||(t=[])).push(n)}if(t)for(let n of t){let i=n.overrideDOMText;if(i?.length)return!1}return!0}class Gw{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class tI{constructor(e,t,n,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let c=s||l?[]:nI(e),f=new ZL(c,e.state);f.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=f.text,this.newSel=iI(c,this.bounds.from)}else{let c=e.observer.selectionRange,f=s&&s.node==c.focusNode&&s.offset==c.focusOffset||!s1(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),h=l&&l.node==c.anchorNode&&l.offset==c.anchorOffset||!s1(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset),d=e.viewport;if((We.ios||We.chrome)&&e.state.selection.main.empty&&f!=h&&(d.from>0||d.to<e.state.doc.length)){let m=Math.min(f,h),g=Math.max(f,h),x=d.from-m,b=d.to-g;(x==0||x==1||m==0)&&(b==0||b==-1||g==e.state.doc.length)&&(f=0,h=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(Oe.range(h,f)):this.newSel=Oe.single(h,f)}}}function MT(r,e){let t,{newSel:n}=e,i=r.state.selection.main,s=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:c}=e.bounds,f=i.from,h=null;(s===8||We.android&&e.text.length<c-l)&&(f=i.to,h="end");let d=LT(r.state.doc.sliceString(l,c,i0),e.text,f-l,h);d&&(We.chrome&&s==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==i0+i0&&d.toB--,t={from:l+d.from,to:l+d.toA,insert:Rt.of(e.text.slice(d.from,d.toB).split(i0))})}else n&&(!r.hasFocus&&r.state.facet(js)||n.main.eq(i))&&(n=null);if(!t&&!n)return!1;if(!t&&e.typeOver&&!i.empty&&n&&n.main.empty?t={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,i.to)}:(We.mac||We.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(n&&t.insert.length==2&&(n=Oe.single(n.main.anchor-1,n.main.head-1)),t={from:t.from,to:t.to,insert:Rt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,t.from).append(t.insert).append(r.state.doc.slice(t.to,i.to))}:r.state.doc.lineAt(i.from).to<i.to&&r.docView.lineHasWidget(i.to)&&r.inputState.insertingTextAt>Date.now()-50?t={from:i.from,to:i.to,insert:r.state.toText(r.inputState.insertingText)}:We.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&r.lineWrapping&&(n&&(n=Oe.single(n.main.anchor-1,n.main.head-1)),t={from:i.from,to:i.to,insert:Rt.of([" "])}),t)return Cv(r,t,n,s);if(n&&!n.main.eq(i)){let l=!1,c="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(l=!0),c=r.inputState.lastSelectionOrigin,c=="select.pointer"&&(n=FT(r.state.facet(cf).map(f=>f(r)),n))),r.dispatch({selection:n,scrollIntoView:l,userEvent:c}),!0}else return!1}function Cv(r,e,t,n=-1){if(We.ios&&r.inputState.flushIOSKey(e))return!0;let i=r.state.selection.main;if(We.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&r.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Mo(r.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Mo(r.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Mo(r.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let l,c=()=>l||(l=rI(r,e,t));return r.state.facet(ST).some(f=>f(r,e.from,e.to,s,c))||r.dispatch(c()),!0}function rI(r,e,t){let n,i=r.state,s=i.selection.main,l=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let f=e.from<s.from?-1:1,h=f<0?s.from:s.to,d=y0(i.facet(cf).map(m=>m(r)),h,f);e.from==d&&(l=d)}if(l>-1)n={changes:e,selection:Oe.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&r.inputState.composing<0){let f=s.from<e.from?i.sliceDoc(s.from,e.from):"",h=s.to>e.to?i.sliceDoc(e.to,s.to):"";n=i.replaceSelection(r.state.toText(f+e.insert.sliceString(0,void 0,r.state.lineBreak)+h))}else{let f=i.changes(e),h=t&&t.main.to<=f.newLength?t.main:void 0;if(i.selection.ranges.length>1&&(r.inputState.composing>=0||r.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let d=r.state.sliceDoc(e.from,e.to),m,g=t&&BT(r,t.main.head);if(g){let b=e.insert.length-(e.to-e.from);m={from:g.from,to:g.to-b}}else m=r.state.doc.lineAt(s.head);let x=s.to-e.to;n=i.changeByRange(b=>{if(b.from==s.from&&b.to==s.to)return{changes:f,range:h||b.map(f)};let S=b.to-x,w=S-d.length;if(r.state.sliceDoc(w,S)!=d||S>=m.from&&w<=m.to)return{range:b};let T=i.changes({from:w,to:S,insert:e.insert}),A=b.to-s.to;return{changes:T,range:h?Oe.range(Math.max(0,h.anchor+A),Math.max(0,h.head+A)):b.map(T)}})}else n={changes:f,selection:h&&i.selection.replaceRange(h)}}let c="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,c+=".compose",r.inputState.compositionFirstChange&&(c+=".start",r.inputState.compositionFirstChange=!1)),i.update(n,{userEvent:c,scrollIntoView:!0})}function LT(r,e,t,n){let i=Math.min(r.length,e.length),s=0;for(;s<i&&r.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&r.length==e.length)return null;let l=r.length,c=e.length;for(;l>0&&c>0&&r.charCodeAt(l-1)==e.charCodeAt(c-1);)l--,c--;if(n=="end"){let f=Math.max(0,s-Math.min(l,c));t-=l+f-s}if(l<s&&r.length<e.length){let f=t<=s&&t>=l?s-t:0;s-=f,c=s+(c-l),l=s}else if(c<s){let f=t<=s&&t>=c?s-t:0;s-=f,l=s+(l-c),c=s}return{from:s,toA:l,toB:c}}function nI(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:s}=r.observer.selectionRange;return t&&(e.push(new Gw(t,n)),(i!=t||s!=n)&&e.push(new Gw(i,s))),e}function iI(r,e){if(r.length==0)return null;let t=r[0].pos,n=r.length==2?r[1].pos:t;return t>-1&&n>-1?Oe.single(t+e,n+e):null}class sI{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,We.safari&&e.contentDOM.addEventListener("input",()=>null),We.gecko&&SI(e.contentDOM.ownerDocument)}handleEvent(e){!dI(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let i of n.observers)i(this.view,t);for(let i of n.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=aI(e),n=this.handlers,i=this.view.contentDOM;for(let s in t)if(s!="scroll"){let l=!t[s].handlers.length,c=n[s];c&&l!=!c.handlers.length&&(i.removeEventListener(s,this.handleEvent),c=null),c||i.addEventListener(s,this.handleEvent,{passive:l})}for(let s in n)s!="scroll"&&!t[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&PT.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),We.android&&We.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return We.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=IT.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||lI.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Mo(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:We.safari&&!We.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function $w(r,e){return(t,n)=>{try{return e.call(r,n,t)}catch(i){Un(t.state,i)}}}function aI(r){let e=Object.create(null);function t(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of r){let i=n.spec,s=i&&i.plugin.domEventHandlers,l=i&&i.plugin.domEventObservers;if(s)for(let c in s){let f=s[c];f&&t(c).handlers.push($w(n.value,f))}if(l)for(let c in l){let f=l[c];f&&t(c).observers.push($w(n.value,f))}}for(let n in Wi)t(n).handlers.push(Wi[n]);for(let n in Ni)t(n).observers.push(Ni[n]);return e}const IT=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],lI="dthko",PT=[16,17,18,20,91,92,224,225],Vu=6;function qu(r){return Math.max(0,r)*.7+8}function oI(r,e){return Math.max(Math.abs(r.clientX-e.clientX),Math.abs(r.clientY-e.clientY))}class cI{constructor(e,t,n,i){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=xL(e.contentDOM),this.atoms=e.state.facet(cf).map(l=>l(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(kt.allowMultipleSelections)&&fI(e,t),this.dragging=hI(e,t)&&HT(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&oI(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,n=0,i=0,s=0,l=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:c}=this.scrollParents.y.getBoundingClientRect());let f=Ev(this.view);e.clientX-f.left<=i+Vu?t=-qu(i-e.clientX):e.clientX+f.right>=l-Vu&&(t=qu(e.clientX-l)),e.clientY-f.top<=s+Vu?n=-qu(s-e.clientY):e.clientY+f.bottom>=c-Vu&&(n=qu(e.clientY-c)),this.setScrollSpeed(t,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,n=FT(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function fI(r,e){let t=r.state.facet(xT);return t.length?t[0](e):We.mac?e.metaKey:e.ctrlKey}function uI(r,e){let t=r.state.facet(vT);return t.length?t[0](e):We.mac?!e.altKey:!e.ctrlKey}function hI(r,e){let{main:t}=r.state.selection;if(t.empty)return!1;let n=M0(r.root);if(!n||n.rangeCount==0)return!0;let i=n.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let l=i[s];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function dI(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,n;t!=r.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(n=Jt.get(t))&&n.ignoreEvent(e))return!1;return!0}const Wi=Object.create(null),Ni=Object.create(null),jT=We.ie&&We.ie_version<15||We.ios&&We.webkit_version<604;function pI(r){let e=r.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.remove(),zT(r,t.value)},50)}function up(r,e,t){for(let n of r.facet(e))t=n(t,r);return t}function zT(r,e){e=up(r.state,bv,e);let{state:t}=r,n,i=1,s=t.toText(e),l=s.lines==t.selection.ranges.length;if(m1!=null&&t.selection.ranges.every(f=>f.empty)&&m1==s.toString()){let f=-1;n=t.changeByRange(h=>{let d=t.doc.lineAt(h.from);if(d.from==f)return{range:h};f=d.from;let m=t.toText((l?s.line(i++).text:e)+t.lineBreak);return{changes:{from:d.from,insert:m},range:Oe.cursor(h.from+m.length)}})}else l?n=t.changeByRange(f=>{let h=s.line(i++);return{changes:{from:f.from,to:f.to,insert:h.text},range:Oe.cursor(f.from+h.length)}}):n=t.replaceSelection(s);r.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}Ni.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};Wi.keydown=(r,e)=>(r.inputState.setSelectionOrigin("select"),e.keyCode==27&&r.inputState.tabFocusMode!=0&&(r.inputState.tabFocusMode=Date.now()+2e3),!1);Ni.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};Ni.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};Wi.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let n of r.state.facet(yT))if(t=n(r,e),t)break;if(!t&&e.button==0&&(t=xI(r,e)),t){let n=!r.hasFocus;r.inputState.startMouseSelection(new cI(r,e,t,n)),n&&r.observer.ignore(()=>{eT(r.contentDOM);let s=r.root.activeElement;s&&!s.contains(r.contentDOM)&&s.blur()});let i=r.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else r.inputState.setSelectionOrigin("select.pointer");return!1};function Xw(r,e,t,n){if(n==1)return Oe.cursor(e,t);if(n==2)return qL(r.state,e,t);{let i=Fr.find(r.docView,e),s=r.state.doc.lineAt(i?i.posAtEnd:e),l=i?i.posAtStart:s.from,c=i?i.posAtEnd:s.to;return c<r.state.doc.length&&c==s.to&&c++,Oe.range(l,c)}}let Yw=(r,e,t)=>e>=t.top&&e<=t.bottom&&r>=t.left&&r<=t.right;function mI(r,e,t,n){let i=Fr.find(r.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let l=i.coordsAt(s,-1);if(l&&Yw(t,n,l))return-1;let c=i.coordsAt(s,1);return c&&Yw(t,n,c)?1:l&&l.bottom>=n?-1:1}function Kw(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:mI(r,t,e.clientX,e.clientY)}}const gI=We.ie&&We.ie_version<=11;let Qw=null,Zw=0,Jw=0;function HT(r){if(!gI)return r.detail;let e=Qw,t=Jw;return Qw=r,Jw=Date.now(),Zw=!e||t>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(Zw+1)%3:1}function xI(r,e){let t=Kw(r,e),n=HT(e),i=r.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,l,c){let f=Kw(r,s),h,d=Xw(r,f.pos,f.bias,n);if(t.pos!=f.pos&&!l){let m=Xw(r,t.pos,t.bias,n),g=Math.min(m.from,d.from),x=Math.max(m.to,d.to);d=g<d.from?Oe.range(g,x):Oe.range(x,g)}return l?i.replaceRange(i.main.extend(d.from,d.to)):c&&n==1&&i.ranges.length>1&&(h=vI(i,f.pos))?h:c?i.addRange(d):Oe.create([d])}}}function vI(r,e){for(let t=0;t<r.ranges.length;t++){let{from:n,to:i}=r.ranges[t];if(n<=e&&i>=e)return Oe.create(r.ranges.slice(0,t).concat(r.ranges.slice(t+1)),r.mainIndex==t?0:r.mainIndex-(r.mainIndex>t?1:0))}return null}Wi.dragstart=(r,e)=>{let{selection:{main:t}}=r.state;if(e.target.draggable){let i=r.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,l=s+i.length;(s>=t.to||l<=t.from)&&(t=Oe.range(s,l))}}let{inputState:n}=r;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",up(r.state,Sv,r.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Wi.dragend=r=>(r.inputState.draggedContent=null,!1);function eE(r,e,t,n){if(t=up(r.state,bv,t),!t)return;let i=r.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=r.inputState,l=n&&s&&uI(r,e)?{from:s.from,to:s.to}:null,c={from:i,insert:t},f=r.state.changes(l?[l,c]:c);r.focus(),r.dispatch({changes:f,selection:{anchor:f.mapPos(i,-1),head:f.mapPos(i,1)},userEvent:l?"move.drop":"input.drop"}),r.inputState.draggedContent=null}Wi.drop=(r,e)=>{if(!e.dataTransfer)return!1;if(r.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let n=Array(t.length),i=0,s=()=>{++i==t.length&&eE(r,e,n.filter(l=>l!=null).join(r.state.lineBreak),!1)};for(let l=0;l<t.length;l++){let c=new FileReader;c.onerror=s,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(n[l]=c.result),s()},c.readAsText(t[l])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return eE(r,e,n,!0),!0}return!1};Wi.paste=(r,e)=>{if(r.state.readOnly)return!0;r.observer.flush();let t=jT?null:e.clipboardData;return t?(zT(r,t.getData("text/plain")||t.getData("text/uri-list")),!0):(pI(r),!1)};function yI(r,e){let t=r.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),r.focus()},50)}function bI(r){let e=[],t=[],n=!1;for(let i of r.selection.ranges)i.empty||(e.push(r.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of r.selection.ranges){let l=r.doc.lineAt(s);l.number>i&&(e.push(l.text),t.push({from:l.from,to:Math.min(r.doc.length,l.to+1)})),i=l.number}n=!0}return{text:up(r,Sv,e.join(r.lineBreak)),ranges:t,linewise:n}}let m1=null;Wi.copy=Wi.cut=(r,e)=>{let{text:t,ranges:n,linewise:i}=bI(r.state);if(!t&&!i)return!1;m1=i?t:null,e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let s=jT?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(yI(r,t),!1)};const UT=gs.define();function VT(r,e){let t=[];for(let n of r.facet(wT)){let i=n(r,e);i&&t.push(i)}return t.length?r.update({effects:t,annotations:UT.of(!0)}):null}function qT(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let t=VT(r.state,e);t?r.dispatch(t):r.update([])}},10)}Ni.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),qT(r)};Ni.blur=r=>{r.observer.clearSelectionRange(),qT(r)};Ni.compositionstart=Ni.compositionupdate=r=>{r.observer.editContext||(r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0))};Ni.compositionend=r=>{r.observer.editContext||(r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,We.chrome&&We.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50))};Ni.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};Wi.beforeinput=(r,e)=>{var t,n;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(r.inputState.insertingText=e.data,r.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&r.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),l=e.getTargetRanges();if(s&&l.length){let c=l[0],f=r.posAtDOM(c.startContainer,c.startOffset),h=r.posAtDOM(c.endContainer,c.endOffset);return Cv(r,{from:f,to:h,insert:r.state.toText(s)},null),!0}}let i;if(We.chrome&&We.android&&(i=IT.find(s=>s.inputType==e.inputType))&&(r.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>s+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return We.ios&&e.inputType=="deleteContentForward"&&r.observer.flushSoon(),We.safari&&e.inputType=="insertText"&&r.inputState.composing>=0&&setTimeout(()=>Ni.compositionend(r,e),20),!1};const tE=new Set;function SI(r){tE.has(r)||(tE.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}const rE=["pre-wrap","normal","pre-line","break-spaces"];let Go=!1;function nE(){Go=!1}class wI{constructor(e){this.lineWrapping=e,this.doc=Rt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return rE.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let i=e[n];i<0?n++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,n,i,s,l){let c=rE.indexOf(e)>-1,f=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=t,this.charWidth=n,this.textHeight=i,this.lineLength=s,f){this.heightSamples={};for(let h=0;h<l.length;h++){let d=l[h];d<0?h++:this.heightSamples[Math.floor(d*10)]=!0}}return f}}class EI{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class fs{constructor(e,t,n,i,s){this.from=e,this.length=t,this.top=n,this.height=i,this._content=s}get type(){return typeof this._content=="number"?kn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Pa?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new fs(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var ur=(function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r})(ur||(ur={}));const Zh=.001;class On{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Zh&&(Go=!0),this.height=e)}replace(e,t,n){return On.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,i){let s=this,l=n.doc;for(let c=i.length-1;c>=0;c--){let{fromA:f,toA:h,fromB:d,toB:m}=i[c],g=s.lineAt(f,ur.ByPosNoHeight,n.setDoc(t),0,0),x=g.to>=h?g:s.lineAt(h,ur.ByPosNoHeight,n,0,0);for(m+=x.to-h,h=x.to;c>0&&g.from<=i[c-1].toA;)f=i[c-1].fromA,d=i[c-1].fromB,c--,f<g.from&&(g=s.lineAt(f,ur.ByPosNoHeight,n,0,0));d+=g.from-f,f=g.from;let b=Av.build(n.setDoc(l),e,d,m);s=Td(s,s.replace(f,h,b))}return s.updateHeight(n,0)}static empty(){return new si(0,0)}static of(e){if(e.length==1)return e[0];let t=0,n=e.length,i=0,s=0;for(;;)if(t==n)if(i>s*2){let c=e[t-1];c.break?e.splice(--t,1,c.left,null,c.right):e.splice(--t,1,c.left,c.right),n+=1+c.break,i-=c.size}else if(s>i*2){let c=e[n];c.break?e.splice(n,1,c.left,null,c.right):e.splice(n,1,c.left,c.right),n+=2+c.break,s-=c.size}else break;else if(i<s){let c=e[t++];c&&(i+=c.size)}else{let c=e[--n];c&&(s+=c.size)}let l=0;return e[t-1]==null?(l=1,t--):e[t]==null&&(l=1,n++),new CI(On.of(e.slice(0,t)),l,On.of(e.slice(n)))}}function Td(r,e){return r==e?r:(r.constructor!=e.constructor&&(Go=!0),e)}On.prototype.size=1;class WT extends On{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,i){return new fs(i,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,i,s){return this.blockAt(0,n,i,s)}forEachLine(e,t,n,i,s,l){e<=s+this.length&&t>=s&&l(this.blockAt(0,n,i,s))}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class si extends WT{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,i){return new fs(i,this.length,n,this.height,this.breaks)}replace(e,t,n){let i=n[0];return n.length==1&&(i instanceof si||i instanceof nn&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof nn?i=new si(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):On.of(n)}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class nn extends On{constructor(e){super(e,0)}heightMetrics(e,t){let n=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-n+1,l,c=0;if(e.lineWrapping){let f=Math.min(this.height,e.lineHeight*s);l=f/s,this.length>s+1&&(c=(this.height-f)/(this.length-s-1))}else l=this.height/s;return{firstLine:n,lastLine:i,perLine:l,perChar:c}}blockAt(e,t,n,i){let{firstLine:s,lastLine:l,perLine:c,perChar:f}=this.heightMetrics(t,i);if(t.lineWrapping){let h=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),d=t.doc.lineAt(h),m=c+d.length*f,g=Math.max(n,e-m/2);return new fs(d.from,d.length,g,m,0)}else{let h=Math.max(0,Math.min(l-s,Math.floor((e-n)/c))),{from:d,length:m}=t.doc.line(s+h);return new fs(d,m,n+c*h,c,0)}}lineAt(e,t,n,i,s){if(t==ur.ByHeight)return this.blockAt(e,n,i,s);if(t==ur.ByPosNoHeight){let{from:x,to:b}=n.doc.lineAt(e);return new fs(x,b-x,0,0,0)}let{firstLine:l,perLine:c,perChar:f}=this.heightMetrics(n,s),h=n.doc.lineAt(e),d=c+h.length*f,m=h.number-l,g=i+c*m+f*(h.from-s-m);return new fs(h.from,h.length,Math.max(i,Math.min(g,i+this.height-d)),d,0)}forEachLine(e,t,n,i,s,l){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:c,perLine:f,perChar:h}=this.heightMetrics(n,s);for(let d=e,m=i;d<=t;){let g=n.doc.lineAt(d);if(d==e){let b=g.number-c;m+=f*b+h*(e-s-b)}let x=f+h*g.length;l(new fs(g.from,g.length,m,x,0)),m+=x,d=g.to+1}}replace(e,t,n){let i=this.length-t;if(i>0){let s=n[n.length-1];s instanceof nn?n[n.length-1]=new nn(s.length+i):n.push(null,new nn(i-1))}if(e>0){let s=n[0];s instanceof nn?n[0]=new nn(e+s.length):n.unshift(new nn(e-1),null)}return On.of(n)}decomposeLeft(e,t){t.push(new nn(e-1),null)}decomposeRight(e,t){t.push(null,new nn(this.length-e-1))}updateHeight(e,t=0,n=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let l=[],c=Math.max(t,i.from),f=-1;for(i.from>t&&l.push(new nn(i.from-t-1).updateHeight(e,t));c<=s&&i.more;){let d=e.doc.lineAt(c).length;l.length&&l.push(null);let m=i.heights[i.index++];f==-1?f=m:Math.abs(m-f)>=Zh&&(f=-2);let g=new si(d,m);g.outdated=!1,l.push(g),c+=d+1}c<=s&&l.push(null,new nn(s-c).updateHeight(e,c));let h=On.of(l);return(f<0||Math.abs(h.height-this.height)>=Zh||Math.abs(f-this.heightMetrics(e,t).perLine)>=Zh)&&(Go=!0),Td(this,h)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class CI extends On{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,i){let s=n+this.left.height;return e<s?this.left.blockAt(e,t,n,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,n,i,s){let l=i+this.left.height,c=s+this.left.length+this.break,f=t==ur.ByHeight?e<l:e<c,h=f?this.left.lineAt(e,t,n,i,s):this.right.lineAt(e,t,n,l,c);if(this.break||(f?h.to<c:h.from>c))return h;let d=t==ur.ByPosNoHeight?ur.ByPosNoHeight:ur.ByPos;return f?h.join(this.right.lineAt(c,d,n,l,c)):this.left.lineAt(c,d,n,i,s).join(h)}forEachLine(e,t,n,i,s,l){let c=i+this.left.height,f=s+this.left.length+this.break;if(this.break)e<f&&this.left.forEachLine(e,t,n,i,s,l),t>=f&&this.right.forEachLine(e,t,n,c,f,l);else{let h=this.lineAt(f,ur.ByPos,n,i,s);e<h.from&&this.left.forEachLine(e,h.from-1,n,i,s,l),h.to>=e&&h.from<=t&&l(h),t>h.to&&this.right.forEachLine(h.to+1,t,n,c,f,l)}}replace(e,t,n){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,n));let s=[];e>0&&this.decomposeLeft(e,s);let l=s.length;for(let c of n)s.push(c);if(e>0&&iE(s,l-1),t<this.length){let c=s.length;this.decomposeRight(t,s),iE(s,c)}return On.of(s)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,i=n+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?On.of(this.break?[e,null,t]:[e,t]):(this.left=Td(this.left,e),this.right=Td(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,i){let{left:s,right:l}=this,c=t+s.length+this.break,f=null;return i&&i.from<=t+s.length&&i.more?f=s=s.updateHeight(e,t,n,i):s.updateHeight(e,t,n),i&&i.from<=c+l.length&&i.more?f=l=l.updateHeight(e,c,n,i):l.updateHeight(e,c,n),f?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function iE(r,e){let t,n;r[e]==null&&(t=r[e-1])instanceof nn&&(n=r[e+1])instanceof nn&&r.splice(e-1,3,new nn(t.length+1+n.length))}const AI=5;class Av{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let n=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof si?i.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new si(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0,s=n.widget?n.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let l=t-e;n.block?this.addBlock(new WT(l,i,n)):(l||s||i>=AI)&&this.addLineDeco(i,s,l)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new si(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new nn(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof si)return e;let t=new si(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof si)&&!this.isCovered?this.nodes.push(new si(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let i of this.nodes)i instanceof si&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(e,t,n,i){let s=new Av(n,e);return Nt.spans(t,n,i,s,0),s.finish(n)}}function TI(r,e,t){let n=new _I;return Nt.compare(r,e,t,n,0),n.changes}class _I{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,i){(e<t||n&&n.heightRelevant||i&&i.heightRelevant)&&Qh(e,t,this.changes,5)}}function DI(r,e){let t=r.getBoundingClientRect(),n=r.ownerDocument,i=n.defaultView||window,s=Math.max(0,t.left),l=Math.min(i.innerWidth,t.right),c=Math.max(0,t.top),f=Math.min(i.innerHeight,t.bottom);for(let h=r.parentNode;h&&h!=n.body;)if(h.nodeType==1){let d=h,m=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&m.overflow!="visible"){let g=d.getBoundingClientRect();s=Math.max(s,g.left),l=Math.min(l,g.right),c=Math.max(c,g.top),f=Math.min(h==r.parentNode?i.innerHeight:f,g.bottom)}h=m.position=="absolute"||m.position=="fixed"?d.offsetParent:d.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:s-t.left,right:Math.max(s,l)-t.left,top:c-(t.top+e),bottom:Math.max(c,f)-(t.top+e)}}function kI(r){let e=r.getBoundingClientRect(),t=r.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function OI(r,e){let t=r.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class nx{constructor(e,t,n,i){this.from=e,this.to=t,this.size=n,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],s=t[n];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,t){return st.replace({widget:new BI(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class BI extends Qs{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class sE{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=aE,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=hr.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(wv).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new wI(t),this.stateDeco=e.facet(L0).filter(n=>typeof n!="function"),this.heightMap=On.empty().applyChanges(this.stateDeco,Rt.empty,this.heightOracle.setDoc(e.doc),[new Oi(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=st.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let i=n?t.head:t.anchor;if(!e.some(({from:s,to:l})=>i>=s&&i<=l)){let{from:s,to:l}=this.lineBlockAt(i);e.push(new Wu(s,l))}}return this.viewports=e.sort((n,i)=>n.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?aE:new Tv(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(s0(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(L0).filter(d=>typeof d!="function");let i=e.changedRanges,s=Oi.extendWithRanges(i,TI(n,this.stateDeco,e?e.changes:zr.empty(this.state.doc.length))),l=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);nE(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=l||Go)&&(e.flags|=2),c?(this.scrollAnchorPos=e.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=l);let f=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<f.from||t.range.head>f.to)||!this.viewportIsAppropriate(f))&&(f=this.getViewport(0,t));let h=f.from!=this.viewport.from||f.to!=this.viewport.to;this.viewport=f,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(CT)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),i=this.heightOracle,s=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?hr.RTL:hr.LTR;let l=this.heightOracle.mustRefreshForWrapping(s),c=t.getBoundingClientRect(),f=l||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let h=0,d=0;if(c.width&&c.height){let{scaleX:_,scaleY:B}=J3(t,c);(_>.005&&Math.abs(this.scaleX-_)>.005||B>.005&&Math.abs(this.scaleY-B)>.005)&&(this.scaleX=_,this.scaleY=B,h|=16,l=f=!0)}let m=(parseInt(n.paddingTop)||0)*this.scaleY,g=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=g)&&(this.paddingTop=m,this.paddingBottom=g,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(f=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let x=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=x&&(this.scrollAnchorHeight=-1,this.scrollTop=x),this.scrolledToBottom=rT(e.scrollDOM);let b=(this.printing?OI:DI)(t,this.paddingTop),S=b.top-this.pixelViewport.top,w=b.bottom-this.pixelViewport.bottom;this.pixelViewport=b;let T=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(T!=this.inView&&(this.inView=T,T&&(f=!0)),!this.inView&&!this.scrollTarget&&!kI(e.dom))return 0;let A=c.width;if((this.contentDOMWidth!=A||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),f){let _=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(_)&&(l=!0),l||i.lineWrapping&&Math.abs(A-this.contentDOMWidth)>i.charWidth){let{lineHeight:B,charWidth:F,textHeight:O}=e.docView.measureTextSize();l=B>0&&i.refresh(s,B,F,O,Math.max(5,A/F),_),l&&(e.docView.minWidth=0,h|=16)}S>0&&w>0?d=Math.max(S,w):S<0&&w<0&&(d=Math.min(S,w)),nE();for(let B of this.viewports){let F=B.from==this.viewport.from?_:e.docView.measureVisibleLineHeights(B);this.heightMap=(l?On.empty().applyChanges(this.stateDeco,Rt.empty,this.heightOracle,[new Oi(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,l,new EI(B.from,F))}Go&&(h|=2)}let E=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return E&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),h|=this.updateForViewport()),(h&2||E)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:l,visibleBottom:c}=this,f=new Wu(i.lineAt(l-n*1e3,ur.ByHeight,s,0,0).from,i.lineAt(c+(1-n)*1e3,ur.ByHeight,s,0,0).to);if(t){let{head:h}=t.range;if(h<f.from||h>f.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=i.lineAt(h,ur.ByPos,s,0,0),g;t.y=="center"?g=(m.top+m.bottom)/2-d/2:t.y=="start"||t.y=="nearest"&&h<f.from?g=m.top:g=m.bottom-d,f=new Wu(i.lineAt(g-1e3/2,ur.ByHeight,s,0,0).from,i.lineAt(g+d+1e3/2,ur.ByHeight,s,0,0).to)}}return f}mapViewport(e,t){let n=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new Wu(this.heightMap.lineAt(n,ur.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,ur.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,ur.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,ur.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:c}=this;return(e==0||i<=l-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||s>=c+Math.max(10,Math.min(n,250)))&&i>l-2*1e3&&s<c+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let i of e)t.touchesRange(i.from,i.to)||n.push(new nx(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,s=i>>1,l=i<<1;if(this.defaultTextDirection!=hr.LTR&&!n)return[];let c=[],f=(d,m,g,x)=>{if(m-d<s)return;let b=this.state.selection.main,S=[b.from];b.empty||S.push(b.to);for(let T of S)if(T>d&&T<m){f(d,T-10,g,x),f(T+10,m,g,x);return}let w=RI(e,T=>T.from>=g.from&&T.to<=g.to&&Math.abs(T.from-d)<s&&Math.abs(T.to-m)<s&&!S.some(A=>T.from<A&&T.to>A));if(!w){if(m<g.to&&t&&n&&t.visibleRanges.some(E=>E.from<=m&&E.to>=m)){let E=t.moveToLineBoundary(Oe.cursor(m),!1,!0).head;E>d&&(m=E)}let T=this.gapSize(g,d,m,x),A=n||T<2e6?T:2e6;w=new nx(d,m,T,A)}c.push(w)},h=d=>{if(d.length<l||d.type!=kn.Text)return;let m=NI(d.from,d.to,this.stateDeco);if(m.total<l)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,x,b;if(n){let S=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,T;if(g!=null){let A=$u(m,g),E=((this.visibleBottom-this.visibleTop)/2+S)/d.height;w=A-E,T=A+E}else w=(this.visibleTop-d.top-S)/d.height,T=(this.visibleBottom-d.top+S)/d.height;x=Gu(m,w),b=Gu(m,T)}else{let S=m.total*this.heightOracle.charWidth,w=i*this.heightOracle.charWidth,T=0;if(S>2e6)for(let F of e)F.from>=d.from&&F.from<d.to&&F.size!=F.displaySize&&F.from*this.heightOracle.charWidth+T<this.pixelViewport.left&&(T=F.size-F.displaySize);let A=this.pixelViewport.left+T,E=this.pixelViewport.right+T,_,B;if(g!=null){let F=$u(m,g),O=((E-A)/2+w)/S;_=F-O,B=F+O}else _=(A-w)/S,B=(E+w)/S;x=Gu(m,_),b=Gu(m,B)}x>d.from&&f(d.from,x,d,m),b<d.to&&f(b,d.to,d,m)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(h):h(d);return c}gapSize(e,t,n,i){let s=$u(i,n)-$u(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){nx.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=st.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];Nt.spans(t,this.viewport.from,this.viewport.to,{span(s,l){n.push({from:s,to:l})},point(){}},20);let i=0;if(n.length!=this.visibleRanges.length)i=12;else for(let s=0;s<n.length&&!(i&8);s++){let l=this.visibleRanges[s],c=n[s];(l.from!=c.from||l.to!=c.to)&&(i|=4,e&&e.mapPos(l.from,-1)==c.from&&e.mapPos(l.to,1)==c.to||(i|=8))}return this.visibleRanges=n,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||s0(this.heightMap.lineAt(e,ur.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||s0(this.heightMap.lineAt(this.scaler.fromDOM(e),ur.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return s0(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Wu{constructor(e,t){this.from=e,this.to=t}}function NI(r,e,t){let n=[],i=r,s=0;return Nt.spans(t,r,e,{span(){},point(l,c){l>i&&(n.push({from:i,to:l}),s+=l-i),i=c}},20),i<e&&(n.push({from:i,to:e}),s+=e-i),{total:s,ranges:n}}function Gu({total:r,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let n=Math.floor(r*t);for(let i=0;;i++){let{from:s,to:l}=e[i],c=l-s;if(n<=c)return s+n;n-=c}}function $u(r,e){let t=0;for(let{from:n,to:i}of r.ranges){if(e<=i){t+=e-n;break}t+=i-n}return t/r.total}function RI(r,e){for(let t of r)if(e(t))return t}const aE={toDOM(r){return r},fromDOM(r){return r},scale:1,eq(r){return r==this}};class Tv{constructor(e,t,n){let i=0,s=0,l=0;this.viewports=n.map(({from:c,to:f})=>{let h=t.lineAt(c,ur.ByPos,e,0,0).top,d=t.lineAt(f,ur.ByPos,e,0,0).bottom;return i+=d-h,{from:c,to:f,top:h,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let c of this.viewports)c.domTop=l+(c.top-s)*this.scale,l=c.domBottom=c.domTop+(c.bottom-c.top),s=c.bottom}toDOM(e){for(let t=0,n=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-n)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);n=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,n=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return n+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);n=s.bottom,i=s.domBottom}}eq(e){return e instanceof Tv?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,n)=>t.from==e.viewports[n].from&&t.to==e.viewports[n].to):!1}}function s0(r,e){if(e.scale==1)return r;let t=e.toDOM(r.top),n=e.toDOM(r.bottom);return new fs(r.from,r.length,t,n-t,Array.isArray(r._content)?r._content.map(i=>s0(i,e)):r._content)}const Xu=Xe.define({combine:r=>r.join(" ")}),g1=Xe.define({combine:r=>r.indexOf(!0)>-1}),x1=La.newName(),GT=La.newName(),$T=La.newName(),XT={"&light":"."+GT,"&dark":"."+$T};function v1(r,e,t){return new La(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,i=>{if(i=="&")return r;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):r+" "+n}})}const FI=v1("."+x1,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},XT),MI={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ix=We.ie&&We.ie_version<=11;class LI{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new vL,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let n of t)this.queue.push(n);(We.ie&&We.ie_version<=11||We.ios&&e.composing)&&t.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&We.android&&e.constructor.EDIT_CONTEXT!==!1&&!(We.chrome&&We.chrome_version<126)&&(this.editContext=new PI(e),e.state.facet(js)&&(e.contentDOM.editContext=this.editContext.editContext)),ix&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet(js)?n.root.activeElement!=this.dom:!Kh(this.dom,i))return;let s=i.anchorNode&&n.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(We.ie&&We.ie_version<=11||We.android&&We.chrome)&&!n.state.selection.main.empty&&i.focusNode&&x0(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=M0(e.root);if(!t)return!1;let n=We.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&II(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let i=Kh(this.dom,n);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&bL(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=t)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,MI),ix&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ix&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Mo(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,i=!1;for(let s of e){let l=this.readMutation(s);l&&(l.typeOver&&(i=!0),t==-1?{from:t,to:n}=l:(t=Math.min(l.from,t),n=Math.max(l.to,n)))}return{from:t,to:n,typeOver:i}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),i=this.selectionChanged&&Kh(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new tI(this.view,e,t,n);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,i=MT(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let n=lE(t,e.previousSibling||e.target.previousSibling,-1),i=lE(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(js)!=e.state.facet(js)&&(e.view.contentDOM.editContext=e.state.facet(js)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function lE(r,e,t){for(;e;){let n=Jt.get(e);if(n&&n.parent==r)return n;let i=e.parentNode;e=i!=r.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function oE(r,e){let t=e.startContainer,n=e.startOffset,i=e.endContainer,s=e.endOffset,l=r.docView.domAtPos(r.state.selection.main.anchor);return x0(l.node,l.offset,i,s)&&([t,n,i,s]=[i,s,t,n]),{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:s}}function II(r,e){if(e.getComposedRanges){let i=e.getComposedRanges(r.root)[0];if(i)return oE(r,i)}let t=null;function n(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return r.contentDOM.addEventListener("beforeinput",n,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",n,!0),t?oE(r,t):null}class PI{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let i=e.state.selection.main,{anchor:s,head:l}=i,c=this.toEditorPos(n.updateRangeStart),f=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:c,drifted:!1});let h=f-c>n.text.length;c==this.from&&s<this.from?c=s:f==this.to&&s>this.to&&(f=s);let d=LT(e.state.sliceDoc(c,f),n.text,(h?i.from:i.to)-c,h?"end":null);if(!d){let g=Oe.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));g.main.eq(i)||e.dispatch({selection:g,userEvent:"select"});return}let m={from:d.from+c,to:d.toA+c,insert:Rt.of(n.text.slice(d.from,d.toB).split(`
`))};if((We.mac||We.android)&&m.from==l-1&&/^\. ?$/.test(n.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:c,to:f,insert:Rt.of([n.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let g=this.to-this.from+(m.to-m.from+m.insert.length);Cv(e,m,Oe.single(this.toEditorPos(n.selectionStart,g),this.toEditorPos(n.selectionEnd,g)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,n.updateRangeStart-1),Math.min(t.text.length,n.updateRangeStart+1)))&&this.handlers.compositionend(n)},this.handlers.characterboundsupdate=n=>{let i=[],s=null;for(let l=this.toEditorPos(n.rangeStart),c=this.toEditorPos(n.rangeEnd);l<c;l++){let f=e.coordsForChar(l);s=f&&new DOMRect(f.left,f.top,f.right-f.left,f.bottom-f.top)||s||new DOMRect,i.push(s)}t.updateCharacterBounds(n.rangeStart,i)},this.handlers.textformatupdate=n=>{let i=[];for(let s of n.getTextFormats()){let l=s.underlineStyle,c=s.underlineThickness;if(!/none/i.test(l)&&!/none/i.test(c)){let f=this.toEditorPos(s.rangeStart),h=this.toEditorPos(s.rangeEnd);if(f<h){let d=`text-decoration: underline ${/^[a-z]/.test(l)?l+" ":l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${/thin/i.test(c)?1:2}px`;i.push(st.mark({attributes:{style:d}}).range(f,h))}}}e.dispatch({effects:TT.of(st.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(e.state)}};for(let n in this.handlers)t.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let i=M0(n.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,l,c,f,h)=>{if(n)return;let d=h.length-(l-s);if(i&&l>=i.to)if(i.from==s&&i.to==l&&i.insert.eq(h)){i=this.pendingContextChange=null,t+=d,this.to+=d;return}else i=null,this.revertPending(e.state);if(s+=t,l+=t,l<=this.from)this.from+=d,this.to+=d;else if(s<this.to){if(s<this.from||l>this.to||this.to-this.from+h.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(l),h.toString()),this.to+=d}t+=d}),i&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(n,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Ge{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(i=>i.forEach(s=>n(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||yL(e.parent)||document,this.viewState=new sE(e.state||kt.create(e)),e.scrollTo&&e.scrollTo.is(Uu)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(To).map(i=>new ex(i));for(let i of this.plugins)i.update(this);this.observer=new LI(this),this.inputState=new sI(this),this.inputState.ensureHandlers(this.plugins),this.docView=new zw(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Ur?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,n=!1,i,s=this.state;for(let g of e){if(g.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=g.state}if(this.destroyed){this.viewState.state=s;return}let l=this.hasFocus,c=0,f=null;e.some(g=>g.annotation(UT))?(this.inputState.notifiedFocused=l,c=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,f=VT(s,l),f||(c=1));let h=this.observer.delayedAndroidKey,d=null;if(h?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(d=null)):this.observer.clear(),s.facet(kt.phrases)!=this.state.facet(kt.phrases))return this.setState(s);i=Ad.create(this,s,e),i.flags|=c;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(m&&(m=m.map(g.changes)),g.scrollIntoView){let{main:x}=g.state.selection;m=new Lo(x.empty?x:Oe.cursor(x.head,x.head>x.anchor?-1:1))}for(let x of g.effects)x.is(Uu)&&(m=x.value.clip(this.state))}this.viewState.update(i,m),this.bidiCache=_d.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(n0)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Xu)!=i.state.facet(Xu)&&(this.viewState.mustMeasureContent=!0),(t||n||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let g of this.state.facet(h1))try{g(i)}catch(x){Un(this.state,x,"update listener")}(f||d)&&Promise.resolve().then(()=>{f&&this.state==f.startState&&this.dispatch(f),d&&!MT(this,d)&&h.force&&Mo(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new sE(e),this.plugins=e.facet(To).map(n=>new ex(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new zw(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(To),n=e.state.facet(To);if(t!=n){let i=[];for(let s of n){let l=t.indexOf(s);if(l<0)i.push(new ex(s));else{let c=this.plugins[l];c.mustUpdate=e,i.push(c)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(n){Un(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,i=n.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:l}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(l<0)if(rT(n))s=-1,l=this.viewState.heightMap.height;else{let x=this.viewState.scrollAnchorAt(i);s=x.from,l=x.top}this.updateState=1;let f=this.viewState.measure(this);if(!f&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];f&4||([this.measureRequests,h]=[h,this.measureRequests]);let d=h.map(x=>{try{return x.read(this)}catch(b){return Un(this.state,b),cE}}),m=Ad.create(this,this.state,[]),g=!1;m.flags|=f,t?t.flags|=f:t=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),g=this.docView.update(m),g&&this.docViewUpdate());for(let x=0;x<h.length;x++)if(d[x]!=cE)try{let b=h[x];b.write&&b.write(d[x],this)}catch(b){Un(this.state,b)}if(g&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let b=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-l;if(b>1||b<-1){i=i+b,n.scrollTop=i/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let c of this.state.facet(h1))c(t)}get themeClasses(){return x1+" "+(this.state.facet(g1)?$T:GT)+" "+this.state.facet(Xu)}updateAttrs(){let e=fE(this,_T,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(js)?"true":"false",class:"cm-content",style:`${We.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),fE(this,wv,t);let n=this.observer.ignore(()=>{let i=l1(this.contentDOM,this.contentAttrs,t),s=l1(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let i of n.effects)if(i.is(Ge.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(n0);let e=this.state.facet(Ge.cspNonce);La.mount(this.root,this.styleModules.concat(FI).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(n=>n.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return rx(this,e,Ww(this,e,t,n))}moveByGroup(e,t){return rx(this,e,Ww(this,e,t,n=>KL(this,e.head,n)))}visualLineSide(e,t){let n=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=n[t?n.length-1:0];return Oe.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,n=!0){return YL(this,e,t,n)}moveVertically(e,t,n){return rx(this,e,QL(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),NT(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),l=s[Oa.find(s,e-i.from,-1,t)];return af(n,l.dir==hr.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(ET)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>jI)return mT(e.length);let t=this.textDirectionAt(e.from),n;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||pT(s.isolates,n=jw(this,e))))return s.order;n||(n=jw(this,e));let i=RL(e.text,t,n);return this.bidiCache.push(new _d(e.from,e.to,t,n,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||We.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{eT(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Uu.of(new Lo(typeof e=="number"?Oe.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return Uu.of(new Lo(Oe.cursor(n.from),"start","start",n.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Dr.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Dr.define(()=>({}),{eventObservers:e})}static theme(e,t){let n=La.newName(),i=[Xu.of(n),n0.of(v1(`.${n}`,e))];return t&&t.dark&&i.push(g1.of(!0)),i}static baseTheme(e){return Il.lowest(n0.of(v1("."+x1,e,XT)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),i=n&&Jt.get(n)||Jt.get(e);return((t=i?.rootView)===null||t===void 0?void 0:t.view)||null}}Ge.styleModule=n0;Ge.inputHandler=ST;Ge.clipboardInputFilter=bv;Ge.clipboardOutputFilter=Sv;Ge.scrollHandler=AT;Ge.focusChangeEffect=wT;Ge.perLineTextDirection=ET;Ge.exceptionSink=bT;Ge.updateListener=h1;Ge.editable=js;Ge.mouseSelectionStyle=yT;Ge.dragMovesSelection=vT;Ge.clickAddsSelectionRange=xT;Ge.decorations=L0;Ge.outerDecorations=DT;Ge.atomicRanges=cf;Ge.bidiIsolatedRanges=kT;Ge.scrollMargins=OT;Ge.darkTheme=g1;Ge.cspNonce=Xe.define({combine:r=>r.length?r[0]:""});Ge.contentAttributes=wv;Ge.editorAttributes=_T;Ge.lineWrapping=Ge.contentAttributes.of({class:"cm-lineWrapping"});Ge.announce=pt.define();const jI=4096,cE={};class _d{constructor(e,t,n,i,s,l){this.from=e,this.to=t,this.dir=n,this.isolates=i,this.fresh=s,this.order=l}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let n=[],i=e.length?e[e.length-1].dir:hr.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let l=e[s];l.dir==i&&!t.touchesRange(l.from,l.to)&&n.push(new _d(t.mapPos(l.from,1),t.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return n}}function fE(r,e,t){for(let n=r.state.facet(e),i=n.length-1;i>=0;i--){let s=n[i],l=typeof s=="function"?s(r):s;l&&a1(l,t)}return t}const zI=We.mac?"mac":We.windows?"win":We.linux?"linux":"key";function HI(r,e){const t=r.split(/-(?!$)/);let n=t[t.length-1];n=="Space"&&(n=" ");let i,s,l,c;for(let f=0;f<t.length-1;++f){const h=t[f];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))i=!0;else if(/^(c|ctrl|control)$/i.test(h))s=!0;else if(/^s(hift)?$/i.test(h))l=!0;else if(/^mod$/i.test(h))e=="mac"?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),c&&(n="Meta-"+n),l&&(n="Shift-"+n),n}function Yu(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}const UI=Il.default(Ge.domEventHandlers({keydown(r,e){return KT(YT(e.state),r,e,"editor")}})),hp=Xe.define({enables:UI}),uE=new WeakMap;function YT(r){let e=r.facet(hp),t=uE.get(e);return t||uE.set(e,t=WI(e.reduce((n,i)=>n.concat(i),[]))),t}function VI(r,e,t){return KT(YT(r.state),e,r,t)}let Ta=null;const qI=4e3;function WI(r,e=zI){let t=Object.create(null),n=Object.create(null),i=(l,c)=>{let f=n[l];if(f==null)n[l]=c;else if(f!=c)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},s=(l,c,f,h,d)=>{var m,g;let x=t[l]||(t[l]=Object.create(null)),b=c.split(/ (?!$)/).map(T=>HI(T,e));for(let T=1;T<b.length;T++){let A=b.slice(0,T).join(" ");i(A,!0),x[A]||(x[A]={preventDefault:!0,stopPropagation:!1,run:[E=>{let _=Ta={view:E,prefix:A,scope:l};return setTimeout(()=>{Ta==_&&(Ta=null)},qI),!0}]})}let S=b.join(" ");i(S,!1);let w=x[S]||(x[S]={preventDefault:!1,stopPropagation:!1,run:((g=(m=x._any)===null||m===void 0?void 0:m.run)===null||g===void 0?void 0:g.slice())||[]});f&&w.run.push(f),h&&(w.preventDefault=!0),d&&(w.stopPropagation=!0)};for(let l of r){let c=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let h of c){let d=t[h]||(t[h]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=l;for(let g in d)d[g].run.push(x=>m(x,y1))}let f=l[e]||l.key;if(f)for(let h of c)s(h,f,l.run,l.preventDefault,l.stopPropagation),l.shift&&s(h,"Shift-"+f,l.shift,l.preventDefault,l.stopPropagation)}return t}let y1=null;function KT(r,e,t,n){y1=e;let i=dL(e),s=zn(i,0),l=cs(s)==i.length&&i!=" ",c="",f=!1,h=!1,d=!1;Ta&&Ta.view==t&&Ta.scope==n&&(c=Ta.prefix+" ",PT.indexOf(e.keyCode)<0&&(h=!0,Ta=null));let m=new Set,g=w=>{if(w){for(let T of w.run)if(!m.has(T)&&(m.add(T),T(t)))return w.stopPropagation&&(d=!0),!0;w.preventDefault&&(w.stopPropagation&&(d=!0),h=!0)}return!1},x=r[n],b,S;return x&&(g(x[c+Yu(i,e,!l)])?f=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(We.windows&&e.ctrlKey&&e.altKey)&&!(We.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(b=Ia[e.keyCode])&&b!=i?(g(x[c+Yu(b,e,!0)])||e.shiftKey&&(S=F0[e.keyCode])!=i&&S!=b&&g(x[c+Yu(S,e,!1)]))&&(f=!0):l&&e.shiftKey&&g(x[c+Yu(i,e,!0)])&&(f=!0),!f&&g(x._any)&&(f=!0)),h&&(f=!0),f&&d&&e.stopPropagation(),y1=null,f}class ff{constructor(e,t,n,i,s){this.className=e,this.left=t,this.top=n,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let i=e.coordsAtPos(n.head,n.assoc||1);if(!i)return[];let s=QT(e);return[new ff(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return GI(e,t,n)}}function QT(r){let e=r.scrollDOM.getBoundingClientRect();return{left:(r.textDirection==hr.LTR?e.left:e.right-r.scrollDOM.clientWidth*r.scaleX)-r.scrollDOM.scrollLeft*r.scaleX,top:e.top-r.scrollDOM.scrollTop*r.scaleY}}function hE(r,e,t,n){let i=r.coordsAtPos(e,t*2);if(!i)return n;let s=r.dom.getBoundingClientRect(),l=(i.top+i.bottom)/2,c=r.posAtCoords({x:s.left+1,y:l}),f=r.posAtCoords({x:s.right-1,y:l});return c==null||f==null?n:{from:Math.max(n.from,Math.min(c,f)),to:Math.min(n.to,Math.max(c,f))}}function GI(r,e,t){if(t.to<=r.viewport.from||t.from>=r.viewport.to)return[];let n=Math.max(t.from,r.viewport.from),i=Math.min(t.to,r.viewport.to),s=r.textDirection==hr.LTR,l=r.contentDOM,c=l.getBoundingClientRect(),f=QT(r),h=l.querySelector(".cm-line"),d=h&&window.getComputedStyle(h),m=c.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),g=c.right-(d?parseInt(d.paddingRight):0),x=p1(r,n,1),b=p1(r,i,-1),S=x.type==kn.Text?x:null,w=b.type==kn.Text?b:null;if(S&&(r.lineWrapping||x.widgetLineBreaks)&&(S=hE(r,n,1,S)),w&&(r.lineWrapping||b.widgetLineBreaks)&&(w=hE(r,i,-1,w)),S&&w&&S.from==w.from&&S.to==w.to)return A(E(t.from,t.to,S));{let B=S?E(t.from,null,S):_(x,!1),F=w?E(null,t.to,w):_(b,!0),O=[];return(S||x).to<(w||b).from-(S&&w?1:0)||x.widgetLineBreaks>1&&B.bottom+r.defaultLineHeight/2<F.top?O.push(T(m,B.bottom,g,F.top)):B.bottom<F.top&&r.elementAtHeight((B.bottom+F.top)/2).type==kn.Text&&(B.bottom=F.top=(B.bottom+F.top)/2),A(B).concat(O).concat(A(F))}function T(B,F,O,H){return new ff(e,B-f.left,F-f.top,O-B,H-F)}function A({top:B,bottom:F,horizontal:O}){let H=[];for(let N=0;N<O.length;N+=2)H.push(T(O[N],B,O[N+1],F));return H}function E(B,F,O){let H=1e9,N=-1e9,I=[];function P(ie,le,Z,ne,ve){let Ee=r.coordsAtPos(ie,ie==O.to?-2:2),Ne=r.coordsAtPos(Z,Z==O.from?2:-2);!Ee||!Ne||(H=Math.min(Ee.top,Ne.top,H),N=Math.max(Ee.bottom,Ne.bottom,N),ve==hr.LTR?I.push(s&&le?m:Ee.left,s&&ne?g:Ne.right):I.push(!s&&ne?m:Ne.left,!s&&le?g:Ee.right))}let q=B??O.from,K=F??O.to;for(let ie of r.visibleRanges)if(ie.to>q&&ie.from<K)for(let le=Math.max(ie.from,q),Z=Math.min(ie.to,K);;){let ne=r.state.doc.lineAt(le);for(let ve of r.bidiSpans(ne)){let Ee=ve.from+ne.from,Ne=ve.to+ne.from;if(Ee>=Z)break;Ne>le&&P(Math.max(Ee,le),B==null&&Ee<=q,Math.min(Ne,Z),F==null&&Ne>=K,ve.dir)}if(le=ne.to+1,le>=Z)break}return I.length==0&&P(q,B==null,K,F==null,r.textDirection),{top:H,bottom:N,horizontal:I}}function _(B,F){let O=c.top+(F?B.top:B.bottom);return{top:O,bottom:O,horizontal:[]}}}function $I(r,e){return r.constructor==e.constructor&&r.eq(e)}class XI{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Jh)!=e.state.facet(Jh)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(Jh);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,n)=>!$I(t,this.drawn[n]))){let t=this.dom.firstChild,n=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[n].constructor&&i.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e,We.safari&&We.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Jh=Xe.define();function ZT(r){return[Dr.define(e=>new XI(e,r)),Jh.of(r)]}const I0=Xe.define({combine(r){return xs(r,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function YI(r={}){return[I0.of(r),KI,QI,ZI,CT.of(!0)]}function JT(r){return r.startState.facet(I0)!=r.state.facet(I0)}const KI=ZT({above:!0,markers(r){let{state:e}=r,t=e.facet(I0),n=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||t.drawRangeCursor){let l=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=i.empty?i:Oe.cursor(i.head,i.head>i.anchor?-1:1);for(let f of ff.forRange(r,l,c))n.push(f)}}return n},update(r,e){r.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=JT(r);return t&&dE(r.state,e),r.docChanged||r.selectionSet||t},mount(r,e){dE(e.state,r)},class:"cm-cursorLayer"});function dE(r,e){e.style.animationDuration=r.facet(I0).cursorBlinkRate+"ms"}const QI=ZT({above:!1,markers(r){return r.state.selection.ranges.map(e=>e.empty?[]:ff.forRange(r,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(r,e){return r.docChanged||r.selectionSet||r.viewportChanged||JT(r)},class:"cm-selectionLayer"}),ZI=Il.highest(Ge.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),e8=pt.define({map(r,e){return r==null?null:e.mapPos(r)}}),a0=hn.define({create(){return null},update(r,e){return r!=null&&(r=e.changes.mapPos(r)),e.effects.reduce((t,n)=>n.is(e8)?n.value:t,r)}}),JI=Dr.fromClass(class{constructor(r){this.view=r,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(r){var e;let t=r.state.field(a0);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(r.startState.field(a0)!=t||r.docChanged||r.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:r}=this,e=r.state.field(a0),t=e!=null&&r.coordsAtPos(e);if(!t)return null;let n=r.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+r.scrollDOM.scrollLeft*r.scaleX,top:t.top-n.top+r.scrollDOM.scrollTop*r.scaleY,height:t.bottom-t.top}}drawCursor(r){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;r?(this.cursor.style.left=r.left/e+"px",this.cursor.style.top=r.top/t+"px",this.cursor.style.height=r.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(r){this.view.state.field(a0)!=r&&this.view.dispatch({effects:e8.of(r)})}},{eventObservers:{dragover(r){this.setDropPos(this.view.posAtCoords({x:r.clientX,y:r.clientY}))},dragleave(r){(r.target==this.view.contentDOM||!this.view.contentDOM.contains(r.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function eP(){return[a0,JI]}function pE(r,e,t,n,i){e.lastIndex=0;for(let s=r.iterRange(t,n),l=t,c;!s.next().done;l+=s.value.length)if(!s.lineBreak)for(;c=e.exec(s.value);)i(l+c.index,c)}function tP(r,e){let t=r.visibleRanges;if(t.length==1&&t[0].from==r.viewport.from&&t[0].to==r.viewport.to)return t;let n=[];for(let{from:i,to:s}of t)i=Math.max(r.state.doc.lineAt(i).from,i-e),s=Math.min(r.state.doc.lineAt(s).to,s+e),n.length&&n[n.length-1].to>=i?n[n.length-1].to=s:n.push({from:i,to:s});return n}class rP{constructor(e){const{regexp:t,decoration:n,decorate:i,boundary:s,maxLength:l=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(c,f,h,d)=>i(d,h,h+c[0].length,c,f);else if(typeof n=="function")this.addMatch=(c,f,h,d)=>{let m=n(c,f,h);m&&d(h,h+c[0].length,m)};else if(n)this.addMatch=(c,f,h,d)=>d(h,h+c[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=l}createDeco(e){let t=new $s,n=t.add.bind(t);for(let{from:i,to:s}of tP(e,this.maxLength))pE(e.state.doc,this.regexp,i,s,(l,c)=>this.addMatch(c,e,l,n));return t.finish()}updateDeco(e,t){let n=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,l,c,f)=>{f>=e.view.viewport.from&&c<=e.view.viewport.to&&(n=Math.min(c,n),i=Math.max(f,i))}),e.viewportMoved||i-n>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),n,i):t}updateRange(e,t,n,i){for(let s of e.visibleRanges){let l=Math.max(s.from,n),c=Math.min(s.to,i);if(c>=l){let f=e.state.doc.lineAt(l),h=f.to<c?e.state.doc.lineAt(c):f,d=Math.max(s.from,f.from),m=Math.min(s.to,h.to);if(this.boundary){for(;l>f.from;l--)if(this.boundary.test(f.text[l-1-f.from])){d=l;break}for(;c<h.to;c++)if(this.boundary.test(h.text[c-h.from])){m=c;break}}let g=[],x,b=(S,w,T)=>g.push(T.range(S,w));if(f==h)for(this.regexp.lastIndex=d-f.from;(x=this.regexp.exec(f.text))&&x.index<m-f.from;)this.addMatch(x,e,x.index+f.from,b);else pE(e.state.doc,this.regexp,d,m,(S,w)=>this.addMatch(w,e,S,b));t=t.update({filterFrom:d,filterTo:m,filter:(S,w)=>S<d||w>m,add:g})}}return t}}const b1=/x/.unicode!=null?"gu":"g",nP=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,b1),iP={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let sx=null;function sP(){var r;if(sx==null&&typeof document<"u"&&document.body){let e=document.body.style;sx=((r=e.tabSize)!==null&&r!==void 0?r:e.MozTabSize)!=null}return sx||!1}const ed=Xe.define({combine(r){let e=xs(r,{render:null,specialChars:nP,addSpecialChars:null});return(e.replaceTabs=!sP())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,b1)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,b1)),e}});function aP(r={}){return[ed.of(r),lP()]}let mE=null;function lP(){return mE||(mE=Dr.fromClass(class{constructor(r){this.view=r,this.decorations=st.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(r.state.facet(ed)),this.decorations=this.decorator.createDeco(r)}makeDecorator(r){return new rP({regexp:r.specialChars,decoration:(e,t,n)=>{let{doc:i}=t.state,s=zn(e[0],0);if(s==9){let l=i.lineAt(n),c=t.state.tabSize,f=ec(l.text,c,n-l.from);return st.replace({widget:new uP((c-f%c)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=st.replace({widget:new fP(r,s)}))},boundary:r.replaceTabs?void 0:/[^]/})}update(r){let e=r.state.facet(ed);r.startState.facet(ed)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(r.view)):this.decorations=this.decorator.updateDeco(r,this.decorations)}},{decorations:r=>r.decorations}))}const oP="";function cP(r){return r>=32?oP:r==10?"":String.fromCharCode(9216+r)}class fP extends Qs{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=cP(this.code),n=e.state.phrase("Control character")+" "+(iP[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=n,s.setAttribute("aria-label",n),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class uP extends Qs{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function hP(){return pP}const dP=st.line({class:"cm-activeLine"}),pP=Dr.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.docChanged||r.selectionSet)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=-1,t=[];for(let n of r.state.selection.ranges){let i=r.lineBlockAt(n.head);i.from>e&&(t.push(dP.range(i.from)),e=i.from)}return st.set(t)}},{decorations:r=>r.decorations});class mP extends Qs{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?Vo(e.firstChild):[];if(!t.length)return null;let n=window.getComputedStyle(e.parentNode),i=af(t[0],n.direction!="rtl"),s=parseInt(n.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function gP(r){let e=Dr.fromClass(class{constructor(t){this.view=t,this.placeholder=r?st.set([st.widget({widget:new mP(r),side:1}).range(0)]):st.none}get decorations(){return this.view.state.doc.length?st.none:this.placeholder}},{decorations:t=>t.decorations});return typeof r=="string"?[e,Ge.contentAttributes.of({"aria-placeholder":r})]:e}const S1=2e3;function xP(r,e,t){let n=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>S1||t.off>S1||e.col<0||t.col<0){let l=Math.min(e.off,t.off),c=Math.max(e.off,t.off);for(let f=n;f<=i;f++){let h=r.doc.line(f);h.length<=c&&s.push(Oe.range(h.from+l,h.to+c))}}else{let l=Math.min(e.col,t.col),c=Math.max(e.col,t.col);for(let f=n;f<=i;f++){let h=r.doc.line(f),d=Zx(h.text,l,r.tabSize,!0);if(d<0)s.push(Oe.cursor(h.to));else{let m=Zx(h.text,c,r.tabSize);s.push(Oe.range(h.from+d,h.from+m))}}}return s}function vP(r,e){let t=r.coordsAtPos(r.viewport.from);return t?Math.round(Math.abs((t.left-e)/r.defaultCharacterWidth)):-1}function gE(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1),n=r.state.doc.lineAt(t),i=t-n.from,s=i>S1?-1:i==n.length?vP(r,e.clientX):ec(n.text,r.state.tabSize,t-n.from);return{line:n.number,col:s,off:i}}function yP(r,e){let t=gE(r,e),n=r.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),l=i.state.doc.lineAt(s);t={line:l.number,col:t.col,off:Math.min(t.off,l.length)},n=n.map(i.changes)}},get(i,s,l){let c=gE(r,i);if(!c)return n;let f=xP(r.state,t,c);return f.length?l?Oe.create(f.concat(n.ranges)):Oe.create(f):n}}:null}function bP(r){let e=(t=>t.altKey&&t.button==0);return Ge.mouseSelectionStyle.of((t,n)=>e(n)?yP(t,n):null)}const SP={Alt:[18,r=>!!r.altKey],Control:[17,r=>!!r.ctrlKey],Shift:[16,r=>!!r.shiftKey],Meta:[91,r=>!!r.metaKey]},wP={style:"cursor: crosshair"};function EP(r={}){let[e,t]=SP[r.key||"Alt"],n=Dr.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[n,Ge.contentAttributes.of(i=>{var s;return!((s=i.plugin(n))===null||s===void 0)&&s.isDown?wP:null})]}const Ku="-10000px";class t8{constructor(e,t,n,i){this.facet=t,this.createTooltipView=n,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(l=>l);let s=null;this.tooltipViews=this.tooltips.map(l=>s=n(l,s))}update(e,t){var n;let i=e.state.facet(this.facet),s=i.filter(f=>f);if(i===this.input){for(let f of this.tooltipViews)f.update&&f.update(e);return!1}let l=[],c=t?[]:null;for(let f=0;f<s.length;f++){let h=s[f],d=-1;if(h){for(let m=0;m<this.tooltips.length;m++){let g=this.tooltips[m];g&&g.create==h.create&&(d=m)}if(d<0)l[f]=this.createTooltipView(h,f?l[f-1]:null),c&&(c[f]=!!h.above);else{let m=l[f]=this.tooltipViews[d];c&&(c[f]=t[d]),m.update&&m.update(e)}}}for(let f of this.tooltipViews)l.indexOf(f)<0&&(this.removeTooltipView(f),(n=f.destroy)===null||n===void 0||n.call(f));return t&&(c.forEach((f,h)=>t[h]=f),t.length=c.length),this.input=i,this.tooltips=s,this.tooltipViews=l,!0}}function CP(r){let e=r.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const ax=Xe.define({combine:r=>{var e,t,n;return{position:We.ios?"absolute":((e=r.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=r.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((n=r.find(i=>i.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||CP}}}),xE=new WeakMap,_v=Dr.fromClass(class{constructor(r){this.view=r,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(ax);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new t8(r,Dv,(t,n)=>this.createTooltip(t,n),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(r,this.above);e&&this.observeIntersection();let t=e||r.geometryChanged,n=r.state.facet(ax);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(r,e){let t=r.create(this.view),n=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),r.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=Ku,t.dom.style.left="0px",this.container.insertBefore(t.dom,n),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var r,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(r=n.destroy)===null||r===void 0||r.call(n);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(We.safari){let l=s.getBoundingClientRect();t=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}else t=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(r=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:r,scaleY:e}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),i=Ev(this.view);return{visible:{left:n.left+i.left,top:n.top+i.top,right:n.right-i.right,bottom:n.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,l)=>{let c=this.manager.tooltipViews[l];return c.getCoords?c.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(ax).tooltipSpace(this.view),scaleX:r,scaleY:e,makeAbsolute:t}}writeMeasure(r){var e;if(r.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{visible:t,space:n,scaleX:i,scaleY:s}=r,l=[];for(let c=0;c<this.manager.tooltips.length;c++){let f=this.manager.tooltips[c],h=this.manager.tooltipViews[c],{dom:d}=h,m=r.pos[c],g=r.size[c];if(!m||f.clip!==!1&&(m.bottom<=Math.max(t.top,n.top)||m.top>=Math.min(t.bottom,n.bottom)||m.right<Math.max(t.left,n.left)-.1||m.left>Math.min(t.right,n.right)+.1)){d.style.top=Ku;continue}let x=f.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,b=x?7:0,S=g.right-g.left,w=(e=xE.get(h))!==null&&e!==void 0?e:g.bottom-g.top,T=h.offset||TP,A=this.view.textDirection==hr.LTR,E=g.width>n.right-n.left?A?n.left:n.right-g.width:A?Math.max(n.left,Math.min(m.left-(x?14:0)+T.x,n.right-S)):Math.min(Math.max(n.left,m.left-S+(x?14:0)-T.x),n.right-S),_=this.above[c];!f.strictSide&&(_?m.top-w-b-T.y<n.top:m.bottom+w+b+T.y>n.bottom)&&_==n.bottom-m.bottom>m.top-n.top&&(_=this.above[c]=!_);let B=(_?m.top-n.top:n.bottom-m.bottom)-b;if(B<w&&h.resize!==!1){if(B<this.view.defaultLineHeight){d.style.top=Ku;continue}xE.set(h,w),d.style.height=(w=B)/s+"px"}else d.style.height&&(d.style.height="");let F=_?m.top-w-b-T.y:m.bottom+b+T.y,O=E+S;if(h.overlap!==!0)for(let H of l)H.left<O&&H.right>E&&H.top<F+w&&H.bottom>F&&(F=_?H.top-w-2-b:H.bottom+b+2);if(this.position=="absolute"?(d.style.top=(F-r.parent.top)/s+"px",vE(d,(E-r.parent.left)/i)):(d.style.top=F/s+"px",vE(d,E/i)),x){let H=m.left+(A?T.x:-T.x)-(E+14-7);x.style.left=H/i+"px"}h.overlap!==!0&&l.push({left:E,top:F,right:O,bottom:F+w}),d.classList.toggle("cm-tooltip-above",_),d.classList.toggle("cm-tooltip-below",!_),h.positioned&&h.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=Ku}},{eventObservers:{scroll(){this.maybeMeasure()}}});function vE(r,e){let t=parseInt(r.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(r.style.left=e+"px")}const AP=Ge.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),TP={x:0,y:0},Dv=Xe.define({enables:[_v,AP]}),Dd=Xe.define({combine:r=>r.reduce((e,t)=>e.concat(t),[])});class dp{static create(e){return new dp(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new t8(e,Dd,(t,n)=>this.createHostedView(t,n),t=>t.dom.remove())}createHostedView(e,t){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let i=n[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const _P=Dv.compute([Dd],r=>{let e=r.facet(Dd);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var n;return(n=t.end)!==null&&n!==void 0?n:t.pos})),create:dp.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class DP{constructor(e,t,n,i,s){this.view=e,this.source=t,this.field=n,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.nearest(t.target);if(!n)return;let i,s=1;if(n instanceof zs)i=n.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let c=e.coordsAtPos(i);if(!c||t.y<c.top||t.y>c.bottom||t.x<c.left-e.defaultCharacterWidth||t.x>c.right+e.defaultCharacterWidth)return;let f=e.bidiSpans(e.state.doc.lineAt(i)).find(d=>d.from<=i&&d.to>=i),h=f&&f.dir==hr.RTL?-1:1;s=t.x<c.left?-h:h}let l=this.source(e,i,s);if(l?.then){let c=this.pending={pos:i};l.then(f=>{this.pending==c&&(this.pending=null,f&&!(Array.isArray(f)&&!f.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(f)?f:[f])}))},f=>Un(e.state,f,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(_v),t=e?e.manager.tooltips.findIndex(n=>n.create==dp.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!kP(s.dom,e)||this.pending){let{pos:l}=i[0]||this.pending,c=(n=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&n!==void 0?n:l;(l==c?this.view.posAtCoords(this.lastMove)!=l:!OP(this.view,l,c,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Qu=4;function kP(r,e){let{left:t,right:n,top:i,bottom:s}=r.getBoundingClientRect(),l;if(l=r.querySelector(".cm-tooltip-arrow")){let c=l.getBoundingClientRect();i=Math.min(c.top,i),s=Math.max(c.bottom,s)}return e.clientX>=t-Qu&&e.clientX<=n+Qu&&e.clientY>=i-Qu&&e.clientY<=s+Qu}function OP(r,e,t,n,i,s){let l=r.scrollDOM.getBoundingClientRect(),c=r.documentTop+r.documentPadding.top+r.contentHeight;if(l.left>n||l.right<n||l.top>i||Math.min(l.bottom,c)<i)return!1;let f=r.posAtCoords({x:n,y:i},!1);return f>=e&&f<=t}function BP(r,e={}){let t=pt.define(),n=hn.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(l=>!e.hideOn(s,l))),s.docChanged)){let l=[];for(let c of i){let f=s.changes.mapPos(c.pos,-1,_n.TrackDel);if(f!=null){let h=Object.assign(Object.create(null),c);h.pos=f,h.end!=null&&(h.end=s.changes.mapPos(h.end)),l.push(h)}}i=l}for(let l of s.effects)l.is(t)&&(i=l.value),l.is(NP)&&(i=[]);return i},provide:i=>Dd.from(i)});return{active:n,extension:[n,Dr.define(i=>new DP(i,r,n,t,e.hoverTime||300)),_P]}}function r8(r,e){let t=r.plugin(_v);if(!t)return null;let n=t.manager.tooltips.indexOf(e);return n<0?null:t.manager.tooltipViews[n]}const NP=pt.define(),yE=Xe.define({combine(r){let e,t;for(let n of r)e=e||n.topContainer,t=t||n.bottomContainer;return{topContainer:e,bottomContainer:t}}});function P0(r,e){let t=r.plugin(n8),n=t?t.specs.indexOf(e):-1;return n>-1?t.panels[n]:null}const n8=Dr.fromClass(class{constructor(r){this.input=r.state.facet(j0),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(r));let e=r.state.facet(yE);this.top=new Zu(r,!0,e.topContainer),this.bottom=new Zu(r,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(r){let e=r.state.facet(yE);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Zu(r.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Zu(r.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=r.state.facet(j0);if(t!=this.input){let n=t.filter(f=>f),i=[],s=[],l=[],c=[];for(let f of n){let h=this.specs.indexOf(f),d;h<0?(d=f(r.view),c.push(d)):(d=this.panels[h],d.update&&d.update(r)),i.push(d),(d.top?s:l).push(d)}this.specs=n,this.panels=i,this.top.sync(s),this.bottom.sync(l);for(let f of c)f.dom.classList.add("cm-panel"),f.mount&&f.mount()}else for(let n of this.panels)n.update&&n.update(r)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:r=>Ge.scrollMargins.of(e=>{let t=e.plugin(r);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Zu{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=bE(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=bE(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function bE(r){let e=r.nextSibling;return r.remove(),e}const j0=Xe.define({enables:n8});class Ys extends Al{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Ys.prototype.elementClass="";Ys.prototype.toDOM=void 0;Ys.prototype.mapMode=_n.TrackBefore;Ys.prototype.startSide=Ys.prototype.endSide=-1;Ys.prototype.point=!0;const td=Xe.define(),RP=Xe.define(),FP={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Nt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},b0=Xe.define();function MP(r){return[i8(),b0.of({...FP,...r})]}const SE=Xe.define({combine:r=>r.some(e=>e)});function i8(r){return[LP]}const LP=Dr.fromClass(class{constructor(r){this.view=r,this.domAfter=null,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(b0).map(e=>new EE(r,e)),this.fixed=!r.state.facet(SE);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(r){if(this.updateGutters(r)){let e=this.prevViewport,t=r.view.viewport,n=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(n<(t.to-t.from)*.8)}if(r.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(SE)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Nt.iter(this.view.state.facet(td),this.view.viewport.from),n=[],i=this.gutters.map(s=>new IP(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(s.type)){let l=!0;for(let c of s.type)if(c.type==kn.Text&&l){w1(t,n,c.from);for(let f of i)f.line(this.view,c,n);l=!1}else if(c.widget)for(let f of i)f.widget(this.view,c)}else if(s.type==kn.Text){w1(t,n,s.from);for(let l of i)l.line(this.view,s,n)}else if(s.widget)for(let l of i)l.widget(this.view,s);for(let s of i)s.finish();r&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(r){let e=r.startState.facet(b0),t=r.state.facet(b0),n=r.docChanged||r.heightChanged||r.viewportChanged||!Nt.eq(r.startState.facet(td),r.state.facet(td),r.view.viewport.from,r.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(r)&&(n=!0);else{n=!0;let i=[];for(let s of t){let l=e.indexOf(s);l<0?i.push(new EE(this.view,s)):(this.gutters[l].update(r),i.push(this.gutters[l]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return n}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:r=>Ge.scrollMargins.of(e=>{let t=e.plugin(r);if(!t||t.gutters.length==0||!t.fixed)return null;let n=t.dom.offsetWidth*e.scaleX,i=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==hr.LTR?{left:n,right:i}:{right:n,left:i}})});function wE(r){return Array.isArray(r)?r:[r]}function w1(r,e,t){for(;r.value&&r.from<=t;)r.from==t&&e.push(r.value),r.next()}class IP{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=Nt.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:i}=this,s=(t.top-this.height)/e.scaleY,l=t.height/e.scaleY;if(this.i==i.elements.length){let c=new s8(e,l,s,n);i.elements.push(c),i.dom.appendChild(c.dom)}else i.elements[this.i].update(e,l,s,n);this.height=t.bottom,this.i++}line(e,t,n){let i=[];w1(this.cursor,i,t.from),n.length&&(i=i.concat(n));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let l=this.gutter;i.length==0&&!l.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t),i=n?[n]:null;for(let s of e.state.facet(RP)){let l=s(e,t.widget,t);l&&(i||(i=[])).push(l)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class EE{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,i=>{let s=i.target,l;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let f=s.getBoundingClientRect();l=(f.top+f.bottom)/2}else l=i.clientY;let c=e.lineBlockAtHeight(l-e.documentTop);t.domEventHandlers[n](e,c,i)&&i.preventDefault()});this.markers=wE(t.markers(e)),t.initialSpacer&&(this.spacer=new s8(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=wE(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let n=e.view.viewport;return!Nt.eq(this.markers,t,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class s8{constructor(e,t,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,i)}update(e,t,n,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),PP(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let n="cm-gutterElement",i=this.dom.firstChild;for(let s=0,l=0;;){let c=l,f=s<t.length?t[s++]:null,h=!1;if(f){let d=f.elementClass;d&&(n+=" "+d);for(let m=l;m<this.markers.length;m++)if(this.markers[m].compare(f)){c=m,h=!0;break}}else c=this.markers.length;for(;l<c;){let d=this.markers[l++];if(d.toDOM){d.destroy(i);let m=i.nextSibling;i.remove(),i=m}}if(!f)break;f.toDOM&&(h?i=i.nextSibling:this.dom.insertBefore(f.toDOM(e),i)),h&&l++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}function PP(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].compare(e[t]))return!1;return!0}const jP=Xe.define(),zP=Xe.define(),_o=Xe.define({combine(r){return xs(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let i in t){let s=n[i],l=t[i];n[i]=s?(c,f,h)=>s(c,f,h)||l(c,f,h):l}return n}})}});class lx extends Ys{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function ox(r,e){return r.state.facet(_o).formatNumber(e,r.state)}const HP=b0.compute([_o],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(jP)},lineMarker(e,t,n){return n.some(i=>i.toDOM)?null:new lx(ox(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,n)=>{for(let i of e.state.facet(zP)){let s=i(e,t,n);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(_o)!=e.state.facet(_o),initialSpacer(e){return new lx(ox(e,CE(e.state.doc.lines)))},updateSpacer(e,t){let n=ox(t.view,CE(t.view.state.doc.lines));return n==e.number?e:new lx(n)},domEventHandlers:r.facet(_o).domEventHandlers,side:"before"}));function UP(r={}){return[_o.of(r),i8(),HP]}function CE(r){let e=9;for(;e<r;)e=e*10+9;return e}const VP=new class extends Ys{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},qP=td.compute(["selection"],r=>{let e=[],t=-1;for(let n of r.selection.ranges){let i=r.doc.lineAt(n.head).from;i>t&&(t=i,e.push(VP.range(i)))}return Nt.of(e)});function WP(){return qP}const a8=1024;let GP=0;class cx{constructor(e,t){this.from=e,this.to=t}}class xt{constructor(e={}){this.id=GP++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=$n.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}}xt.closedBy=new xt({deserialize:r=>r.split(" ")});xt.openedBy=new xt({deserialize:r=>r.split(" ")});xt.group=new xt({deserialize:r=>r.split(" ")});xt.isolate=new xt({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});xt.contextHash=new xt({perNode:!0});xt.lookAhead=new xt({perNode:!0});xt.mounted=new xt({perNode:!0});class kd{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[xt.mounted.id]}}const $P=Object.create(null);class $n{constructor(e,t,n,i=0){this.name=e,this.props=t,this.id=n,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):$P,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new $n(e.name||"",t,e.id,n);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(xt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let i of n.split(" "))t[i]=e[n];return n=>{for(let i=n.prop(xt.group),s=-1;s<(i?i.length:0);s++){let l=t[s<0?n.name:i[s]];if(l)return l}}}}$n.none=new $n("",Object.create(null),0,8);class kv{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let i=null;for(let s of e){let l=s(n);if(l){i||(i=Object.assign({},n.props));let c=l[1],f=l[0];f.combine&&f.id in i&&(c=f.combine(i[f.id],c)),i[f.id]=c}}t.push(i?new $n(n.name,i,n.id,n.flags):n)}return new kv(t)}}const Ju=new WeakMap,AE=new WeakMap;var Wr;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(Wr||(Wr={}));class Mr{constructor(e,t,n,i,s){if(this.type=e,this.children=t,this.positions=n,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,c]of s)this.props[typeof l=="number"?l:l.id]=c}}toString(){let e=kd.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let i=n.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new C1(this.topNode,e)}cursorAt(e,t=0,n=0){let i=Ju.get(this)||this.topNode,s=new C1(i);return s.moveTo(e,t),Ju.set(this,s._tree),s}get topNode(){return new Bi(this,0,0,null)}resolve(e,t=0){let n=z0(Ju.get(this)||this.topNode,e,t,!1);return Ju.set(this,n),n}resolveInner(e,t=0){let n=z0(AE.get(this)||this.topNode,e,t,!0);return AE.set(this,n),n}resolveStack(e,t=0){return KP(this,e,t)}iterate(e){let{enter:t,leave:n,from:i=0,to:s=this.length}=e,l=e.mode||0,c=(l&Wr.IncludeAnonymous)>0;for(let f=this.cursor(l|Wr.IncludeAnonymous);;){let h=!1;if(f.from<=s&&f.to>=i&&(!c&&f.type.isAnonymous||t(f)!==!1)){if(f.firstChild())continue;h=!0}for(;h&&n&&(c||!f.type.isAnonymous)&&n(f),!f.nextSibling();){if(!f.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Nv($n.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,i)=>new Mr(this.type,t,n,i,this.propValues),e.makeTree||((t,n,i)=>new Mr($n.none,t,n,i)))}static build(e){return QP(e)}}Mr.empty=new Mr($n.none,[],[],0);class Ov{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ov(this.buffer,this.index)}}class ja{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return $n.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,n==e)return s;let l=[];for(;e<n;)l.push(this.childString(e)),e=this.buffer[e+3];return s+"("+l.join(",")+")"}findChild(e,t,n,i,s){let{buffer:l}=this,c=-1;for(let f=e;f!=t&&!(l8(s,i,l[f+1],l[f+2])&&(c=f,n>0));f=l[f+3]);return c}slice(e,t,n){let i=this.buffer,s=new Uint16Array(t-e),l=0;for(let c=e,f=0;c<t;){s[f++]=i[c++],s[f++]=i[c++]-n;let h=s[f++]=i[c++]-n;s[f++]=i[c++]-e,l=Math.max(l,h)}return new ja(s,l,this.set)}}function l8(r,e,t,n){switch(r){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function z0(r,e,t,n){for(var i;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let l=!n&&r instanceof Bi&&r.index<0?null:r.parent;if(!l)return r;r=l}let s=n?0:Wr.IgnoreOverlays;if(n)for(let l=r,c=l.parent;c;l=c,c=l.parent)l instanceof Bi&&l.index<0&&((i=c.enter(e,t,s))===null||i===void 0?void 0:i.from)!=l.from&&(r=c);for(;;){let l=r.enter(e,t,s);if(!l)return r;r=l}}class o8{cursor(e=0){return new C1(this,e)}getChild(e,t=null,n=null){let i=TE(this,e,t,n);return i.length?i[0]:null}getChildren(e,t=null,n=null){return TE(this,e,t,n)}resolve(e,t=0){return z0(this,e,t,!1)}resolveInner(e,t=0){return z0(this,e,t,!0)}matchContext(e){return E1(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(n=t,t=i.prevSibling):t=i}return n}get node(){return this}get next(){return this.parent}}class Bi extends o8{constructor(e,t,n,i){super(),this._tree=e,this.from=t,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,i,s=0){for(let l=this;;){for(let{children:c,positions:f}=l._tree,h=t>0?c.length:-1;e!=h;e+=t){let d=c[e],m=f[e]+l.from;if(l8(i,n,m,m+d.length)){if(d instanceof ja){if(s&Wr.ExcludeBuffers)continue;let g=d.findChild(0,d.buffer.length,t,n-m,i);if(g>-1)return new Ba(new XP(l,d,e,m),null,g)}else if(s&Wr.IncludeAnonymous||!d.type.isAnonymous||Bv(d)){let g;if(!(s&Wr.IgnoreMounts)&&(g=kd.get(d))&&!g.overlay)return new Bi(g.tree,m,e,l);let x=new Bi(d,m,e,l);return s&Wr.IncludeAnonymous||!x.type.isAnonymous?x:x.nextChild(t<0?d.children.length-1:0,t,n,i)}}}if(s&Wr.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+t:e=t<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,n=0){let i;if(!(n&Wr.IgnoreOverlays)&&(i=kd.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:l,to:c}of i.overlay)if((t>0?l<=s:l<s)&&(t<0?c>=s:c>s))return new Bi(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function TE(r,e,t,n){let i=r.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let l=!1;!l;)if(l=i.type.is(t),!i.nextSibling())return s}for(;;){if(n!=null&&i.type.is(n))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return n==null?s:[]}}function E1(r,e,t=e.length-1){for(let n=r;t>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[t]&&e[t]!=n.name)return!1;t--}}return!0}class XP{constructor(e,t,n,i){this.parent=e,this.buffer=t,this.index=n,this.start=i}}class Ba extends o8{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,n);return s<0?null:new Ba(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,n=0){if(n&Wr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Ba(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Ba(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Ba(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,i=this.index+4,s=n.buffer[this.index+3];if(s>i){let l=n.buffer[this.index+1];e.push(n.slice(i,s,l)),t.push(0)}return new Mr(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function c8(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let l=r[s];(l.from>t.from||l.to<t.to)&&(t=l,e=s)}let n=t instanceof Bi&&t.index<0?null:t.parent,i=r.slice();return n?i[e]=n:i.splice(e,1),new YP(i,t)}class YP{constructor(e,t){this.heads=e,this.node=t}get next(){return c8(this.heads)}}function KP(r,e,t){let n=r.resolveInner(e,t),i=null;for(let s=n instanceof Bi?n:n.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(i||(i=[n])).push(l.resolve(e,t)),s=l}else{let l=kd.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let c=new Bi(l.tree,l.overlay[0].from+s.from,-1,s);(i||(i=[n])).push(z0(c,e,t,!1))}}return i?c8(i):n}class C1{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Bi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return e?e instanceof Bi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,n);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&Wr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Wr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Wr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:n}=i)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let s=t+e,l=e<0?-1:n._tree.children.length;s!=l;s+=e){let c=n._tree.children[s];if(this.mode&Wr.IncludeAnonymous||c instanceof ja||!c.type.isAnonymous||Bv(c))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let l=e;l;l=l._parent)if(l.index==i){if(i==this.index)return l;t=l,n=s+1;break e}i=this.stack[--s]}for(let i=n;i<this.stack.length;i++)t=new Ba(this.buffer,t,this.stack[i]);return this.bufferNode=new Ba(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(e){if(!this.buffer)return E1(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return E1(this._tree,e,i);let l=n[t.buffer[this.stack[s]]];if(!l.isAnonymous){if(e[i]&&e[i]!=l.name)return!1;i--}}return!0}}function Bv(r){return r.children.some(e=>e instanceof ja||!e.type.isAnonymous||Bv(e))}function QP(r){var e;let{buffer:t,nodeSet:n,maxBufferLength:i=a8,reused:s=[],minRepeatType:l=n.types.length}=r,c=Array.isArray(t)?new Ov(t,t.length):t,f=n.types,h=0,d=0;function m(B,F,O,H,N,I){let{id:P,start:q,end:K,size:ie}=c,le=d,Z=h;if(ie<0)if(c.next(),ie==-1){let j=s[P];O.push(j),H.push(q-B);return}else if(ie==-3){h=P;return}else if(ie==-4){d=P;return}else throw new RangeError(`Unrecognized record size: ${ie}`);let ne=f[P],ve,Ee,Ne=q-B;if(K-q<=i&&(Ee=w(c.pos-F,N))){let j=new Uint16Array(Ee.size-Ee.skip),D=c.pos-Ee.size,M=j.length;for(;c.pos>D;)M=T(Ee.start,j,M);ve=new ja(j,K-Ee.start,n),Ne=Ee.start-B}else{let j=c.pos-ie;c.next();let D=[],M=[],R=P>=l?P:-1,W=0,ee=K;for(;c.pos>j;)R>=0&&c.id==R&&c.size>=0?(c.end<=ee-i&&(b(D,M,q,W,c.end,ee,R,le,Z),W=D.length,ee=c.end),c.next()):I>2500?g(q,j,D,M):m(q,j,D,M,R,I+1);if(R>=0&&W>0&&W<D.length&&b(D,M,q,W,q,ee,R,le,Z),D.reverse(),M.reverse(),R>-1&&W>0){let ye=x(ne,Z);ve=Nv(ne,D,M,0,D.length,0,K-q,ye,ye)}else ve=S(ne,D,M,K-q,le-K,Z)}O.push(ve),H.push(Ne)}function g(B,F,O,H){let N=[],I=0,P=-1;for(;c.pos>F;){let{id:q,start:K,end:ie,size:le}=c;if(le>4)c.next();else{if(P>-1&&K<P)break;P<0&&(P=ie-i),N.push(q,K,ie),I++,c.next()}}if(I){let q=new Uint16Array(I*4),K=N[N.length-2];for(let ie=N.length-3,le=0;ie>=0;ie-=3)q[le++]=N[ie],q[le++]=N[ie+1]-K,q[le++]=N[ie+2]-K,q[le++]=le;O.push(new ja(q,N[2]-K,n)),H.push(K-B)}}function x(B,F){return(O,H,N)=>{let I=0,P=O.length-1,q,K;if(P>=0&&(q=O[P])instanceof Mr){if(!P&&q.type==B&&q.length==N)return q;(K=q.prop(xt.lookAhead))&&(I=H[P]+q.length+K)}return S(B,O,H,N,I,F)}}function b(B,F,O,H,N,I,P,q,K){let ie=[],le=[];for(;B.length>H;)ie.push(B.pop()),le.push(F.pop()+O-N);B.push(S(n.types[P],ie,le,I-N,q-I,K)),F.push(N-O)}function S(B,F,O,H,N,I,P){if(I){let q=[xt.contextHash,I];P=P?[q].concat(P):[q]}if(N>25){let q=[xt.lookAhead,N];P=P?[q].concat(P):[q]}return new Mr(B,F,O,H,P)}function w(B,F){let O=c.fork(),H=0,N=0,I=0,P=O.end-i,q={size:0,start:0,skip:0};e:for(let K=O.pos-B;O.pos>K;){let ie=O.size;if(O.id==F&&ie>=0){q.size=H,q.start=N,q.skip=I,I+=4,H+=4,O.next();continue}let le=O.pos-ie;if(ie<0||le<K||O.start<P)break;let Z=O.id>=l?4:0,ne=O.start;for(O.next();O.pos>le;){if(O.size<0)if(O.size==-3||O.size==-4)Z+=4;else break e;else O.id>=l&&(Z+=4);O.next()}N=ne,H+=ie,I+=Z}return(F<0||H==B)&&(q.size=H,q.start=N,q.skip=I),q.size>4?q:void 0}function T(B,F,O){let{id:H,start:N,end:I,size:P}=c;if(c.next(),P>=0&&H<l){let q=O;if(P>4){let K=c.pos-(P-4);for(;c.pos>K;)O=T(B,F,O)}F[--O]=q,F[--O]=I-B,F[--O]=N-B,F[--O]=H}else P==-3?h=H:P==-4&&(d=H);return O}let A=[],E=[];for(;c.pos>0;)m(r.start||0,r.bufferStart||0,A,E,-1,0);let _=(e=r.length)!==null&&e!==void 0?e:A.length?E[0]+A[0].length:0;return new Mr(f[r.topID],A.reverse(),E.reverse(),_)}const _E=new WeakMap;function rd(r,e){if(!r.isAnonymous||e instanceof ja||e.type!=r)return 1;let t=_E.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=r||!(n instanceof Mr)){t=1;break}t+=rd(r,n)}_E.set(e,t)}return t}function Nv(r,e,t,n,i,s,l,c,f){let h=0;for(let b=n;b<i;b++)h+=rd(r,e[b]);let d=Math.ceil(h*1.5/8),m=[],g=[];function x(b,S,w,T,A){for(let E=w;E<T;){let _=E,B=S[E],F=rd(r,b[E]);for(E++;E<T;E++){let O=rd(r,b[E]);if(F+O>=d)break;F+=O}if(E==_+1){if(F>d){let O=b[_];x(O.children,O.positions,0,O.children.length,S[_]+A);continue}m.push(b[_])}else{let O=S[E-1]+b[E-1].length-B;m.push(Nv(r,b,S,_,E,B,O,null,f))}g.push(B+A-s)}}return x(e,t,n,i,0),(c||f)(m,g,l)}class bl{constructor(e,t,n,i,s=!1,l=!1){this.from=e,this.to=t,this.tree=n,this.offset=i,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],n=!1){let i=[new bl(0,e.length,e,0,!1,n)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,n=128){if(!t.length)return e;let i=[],s=1,l=e.length?e[0]:null;for(let c=0,f=0,h=0;;c++){let d=c<t.length?t[c]:null,m=d?d.fromA:1e9;if(m-f>=n)for(;l&&l.from<m;){let g=l;if(f>=g.from||m<=g.to||h){let x=Math.max(g.from,f)-h,b=Math.min(g.to,m)-h;g=x>=b?null:new bl(x,b,g.tree,g.offset+h,c>0,!!d)}if(g&&i.push(g),l.to>m)break;l=s<e.length?e[s++]:null}if(!d)break;f=d.toA,h=d.toA-d.toB}return i}}class f8{startParse(e,t,n){return typeof e=="string"&&(e=new ZP(e)),n=n?n.length?n.map(i=>new cx(i.from,i.to)):[new cx(0,0)]:[new cx(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let i=this.startParse(e,t,n);for(;;){let s=i.advance();if(s)return s}}}class ZP{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new xt({perNode:!0});let JP=0;class _i{constructor(e,t,n,i){this.name=e,this.set=t,this.base=n,this.modified=i,this.id=JP++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n=typeof e=="string"?e:"?";if(e instanceof _i&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let i=new _i(n,[],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(e){let t=new Od(e);return n=>n.modified.indexOf(t)>-1?n:Od.get(n.base||n,n.modified.concat(t).sort((i,s)=>i.id-s.id))}}let ej=0;class Od{constructor(e){this.name=e,this.instances=[],this.id=ej++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(c=>c.base==e&&tj(t,c.modified));if(n)return n;let i=[],s=new _i(e.name,i,e,t);for(let c of t)c.instances.push(s);let l=rj(t);for(let c of e.set)if(!c.modified.length)for(let f of l)i.push(Od.get(c,f));return s}}function tj(r,e){return r.length==e.length&&r.every((t,n)=>t==e[n])}function rj(r){let e=[[]];for(let t=0;t<r.length;t++)for(let n=0,i=e.length;n<i;n++)e.push(e[n].concat(r[t]));return e.sort((t,n)=>n.length-t.length)}function u8(r){let e=Object.create(null);for(let t in r){let n=r[t];Array.isArray(n)||(n=[n]);for(let i of t.split(" "))if(i){let s=[],l=2,c=i;for(let m=0;;){if(c=="..."&&m>0&&m+3==i.length){l=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!g)throw new RangeError("Invalid path: "+i);if(s.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),m+=g[0].length,m==i.length)break;let x=i[m++];if(m==i.length&&x=="!"){l=0;break}if(x!="/")throw new RangeError("Invalid path: "+i);c=i.slice(m)}let f=s.length-1,h=s[f];if(!h)throw new RangeError("Invalid path: "+i);let d=new H0(n,l,f>0?s.slice(0,f):null);e[h]=d.sort(e[h])}}return h8.add(e)}const h8=new xt({combine(r,e){let t,n,i;for(;r||e;){if(!r||e&&r.depth>=e.depth?(i=e,e=e.next):(i=r,r=r.next),t&&t.mode==i.mode&&!i.context&&!t.context)continue;let s=new H0(i.tags,i.mode,i.context);t?t.next=s:n=s,t=s}return n}});class H0{constructor(e,t,n,i){this.tags=e,this.mode=t,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}H0.empty=new H0([],2,null);function d8(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let l of s.tag)t[l.id]=s.class;let{scope:n,all:i=null}=e||{};return{style:s=>{let l=i;for(let c of s)for(let f of c.set){let h=t[f.id];if(h){l=l?l+" "+h:h;break}}return l},scope:n}}function nj(r,e){let t=null;for(let n of r){let i=n.style(e);i&&(t=t?t+" "+i:i)}return t}function ij(r,e,t,n=0,i=r.length){let s=new sj(n,Array.isArray(e)?e:[e],t);s.highlightRange(r.cursor(),n,i,"",s.highlighters),s.flush(i)}class sj{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,i,s){let{type:l,from:c,to:f}=e;if(c>=n||f<=t)return;l.isTop&&(s=this.highlighters.filter(x=>!x.scope||x.scope(l)));let h=i,d=aj(e)||H0.empty,m=nj(s,d.tags);if(m&&(h&&(h+=" "),h+=m,d.mode==1&&(i+=(i?" ":"")+m)),this.startSpan(Math.max(t,c),h),d.opaque)return;let g=e.tree&&e.tree.prop(xt.mounted);if(g&&g.overlay){let x=e.node.enter(g.overlay[0].from+c,1),b=this.highlighters.filter(w=>!w.scope||w.scope(g.tree.type)),S=e.firstChild();for(let w=0,T=c;;w++){let A=w<g.overlay.length?g.overlay[w]:null,E=A?A.from+c:f,_=Math.max(t,T),B=Math.min(n,E);if(_<B&&S)for(;e.from<B&&(this.highlightRange(e,_,B,i,s),this.startSpan(Math.min(B,e.to),h),!(e.to>=E||!e.nextSibling())););if(!A||E>n)break;T=A.to+c,T>t&&(this.highlightRange(x.cursor(),Math.max(t,A.from+c),Math.min(n,T),"",b),this.startSpan(Math.min(n,T),h))}S&&e.parent()}else if(e.firstChild()){g&&(i="");do if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,i,s),this.startSpan(Math.min(n,e.to),h)}while(e.nextSibling());e.parent()}}}function aj(r){let e=r.type.prop(h8);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const Ue=_i.define,eh=Ue(),Ea=Ue(),DE=Ue(Ea),kE=Ue(Ea),Ca=Ue(),th=Ue(Ca),fx=Ue(Ca),ls=Ue(),ol=Ue(ls),ns=Ue(),is=Ue(),A1=Ue(),Jc=Ue(A1),rh=Ue(),me={comment:eh,lineComment:Ue(eh),blockComment:Ue(eh),docComment:Ue(eh),name:Ea,variableName:Ue(Ea),typeName:DE,tagName:Ue(DE),propertyName:kE,attributeName:Ue(kE),className:Ue(Ea),labelName:Ue(Ea),namespace:Ue(Ea),macroName:Ue(Ea),literal:Ca,string:th,docString:Ue(th),character:Ue(th),attributeValue:Ue(th),number:fx,integer:Ue(fx),float:Ue(fx),bool:Ue(Ca),regexp:Ue(Ca),escape:Ue(Ca),color:Ue(Ca),url:Ue(Ca),keyword:ns,self:Ue(ns),null:Ue(ns),atom:Ue(ns),unit:Ue(ns),modifier:Ue(ns),operatorKeyword:Ue(ns),controlKeyword:Ue(ns),definitionKeyword:Ue(ns),moduleKeyword:Ue(ns),operator:is,derefOperator:Ue(is),arithmeticOperator:Ue(is),logicOperator:Ue(is),bitwiseOperator:Ue(is),compareOperator:Ue(is),updateOperator:Ue(is),definitionOperator:Ue(is),typeOperator:Ue(is),controlOperator:Ue(is),punctuation:A1,separator:Ue(A1),bracket:Jc,angleBracket:Ue(Jc),squareBracket:Ue(Jc),paren:Ue(Jc),brace:Ue(Jc),content:ls,heading:ol,heading1:Ue(ol),heading2:Ue(ol),heading3:Ue(ol),heading4:Ue(ol),heading5:Ue(ol),heading6:Ue(ol),contentSeparator:Ue(ls),list:Ue(ls),quote:Ue(ls),emphasis:Ue(ls),strong:Ue(ls),link:Ue(ls),monospace:Ue(ls),strikethrough:Ue(ls),inserted:Ue(),deleted:Ue(),changed:Ue(),invalid:Ue(),meta:rh,documentMeta:Ue(rh),annotation:Ue(rh),processingInstruction:Ue(rh),definition:_i.defineModifier("definition"),constant:_i.defineModifier("constant"),function:_i.defineModifier("function"),standard:_i.defineModifier("standard"),local:_i.defineModifier("local"),special:_i.defineModifier("special")};for(let r in me){let e=me[r];e instanceof _i&&(e.name=r)}d8([{tag:me.link,class:"tok-link"},{tag:me.heading,class:"tok-heading"},{tag:me.emphasis,class:"tok-emphasis"},{tag:me.strong,class:"tok-strong"},{tag:me.keyword,class:"tok-keyword"},{tag:me.atom,class:"tok-atom"},{tag:me.bool,class:"tok-bool"},{tag:me.url,class:"tok-url"},{tag:me.labelName,class:"tok-labelName"},{tag:me.inserted,class:"tok-inserted"},{tag:me.deleted,class:"tok-deleted"},{tag:me.literal,class:"tok-literal"},{tag:me.string,class:"tok-string"},{tag:me.number,class:"tok-number"},{tag:[me.regexp,me.escape,me.special(me.string)],class:"tok-string2"},{tag:me.variableName,class:"tok-variableName"},{tag:me.local(me.variableName),class:"tok-variableName tok-local"},{tag:me.definition(me.variableName),class:"tok-variableName tok-definition"},{tag:me.special(me.variableName),class:"tok-variableName2"},{tag:me.definition(me.propertyName),class:"tok-propertyName tok-definition"},{tag:me.typeName,class:"tok-typeName"},{tag:me.namespace,class:"tok-namespace"},{tag:me.className,class:"tok-className"},{tag:me.macroName,class:"tok-macroName"},{tag:me.propertyName,class:"tok-propertyName"},{tag:me.operator,class:"tok-operator"},{tag:me.comment,class:"tok-comment"},{tag:me.meta,class:"tok-meta"},{tag:me.invalid,class:"tok-invalid"},{tag:me.punctuation,class:"tok-punctuation"}]);var ux;const Do=new xt;function lj(r){return Xe.define({combine:r?e=>e.concat(r):void 0})}const oj=new xt;class Ui{constructor(e,t,n=[],i=""){this.data=e,this.name=i,kt.prototype.hasOwnProperty("tree")||Object.defineProperty(kt.prototype,"tree",{get(){return Kr(this)}}),this.parser=t,this.extension=[za.of(this),kt.languageData.of((s,l,c)=>{let f=OE(s,l,c),h=f.type.prop(Do);if(!h)return[];let d=s.facet(h),m=f.type.prop(oj);if(m){let g=f.resolve(l-f.from,c);for(let x of m)if(x.test(g,s)){let b=s.facet(x.facet);return x.type=="replace"?b:b.concat(d)}}return d})].concat(n)}isActiveAt(e,t,n=-1){return OE(e,t,n).type.prop(Do)==this.data}findRegions(e){let t=e.facet(za);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],i=(s,l)=>{if(s.prop(Do)==this.data){n.push({from:l,to:l+s.length});return}let c=s.prop(xt.mounted);if(c){if(c.tree.prop(Do)==this.data){if(c.overlay)for(let f of c.overlay)n.push({from:f.from+l,to:f.to+l});else n.push({from:l,to:l+s.length});return}else if(c.overlay){let f=n.length;if(i(c.tree,c.overlay[0].from+l),n.length>f)return}}for(let f=0;f<s.children.length;f++){let h=s.children[f];h instanceof Mr&&i(h,s.positions[f]+l)}};return i(Kr(e),0),n}get allowsNesting(){return!0}}Ui.setState=pt.define();function OE(r,e,t){let n=r.facet(za),i=Kr(r).topNode;if(!n||n.allowsNesting)for(let s=i;s;s=s.enter(e,t,Wr.ExcludeBuffers))s.type.isTop&&(i=s);return i}class Bd extends Ui{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=lj(e.languageData);return new Bd(t,e.parser.configure({props:[Do.add(n=>n.isTop?t:void 0)]}),e.name)}configure(e,t){return new Bd(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Kr(r){let e=r.field(Ui.state,!1);return e?e.tree:Mr.empty}class cj{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let e0=null;class Nd{constructor(e,t,n=[],i,s,l,c,f){this.parser=e,this.state=t,this.fragments=n,this.tree=i,this.treeLen=s,this.viewport=l,this.skipped=c,this.scheduleOn=f,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new Nd(e,t,[],Mr.empty,0,n,[],null)}startParse(){return this.parser.startParse(new cj(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Mr.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(bl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(bl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=e0;e0=this;try{return e()}finally{e0=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=BE(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:i,treeLen:s,viewport:l,skipped:c}=this;if(this.takeTree(),!e.empty){let f=[];if(e.iterChangedRanges((h,d,m,g)=>f.push({fromA:h,toA:d,fromB:m,toB:g})),n=bl.applyChanges(n,f),i=Mr.empty,s=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){c=[];for(let h of this.skipped){let d=e.mapPos(h.from,1),m=e.mapPos(h.to,-1);d<m&&c.push({from:d,to:m})}}}return new Nd(this.parser,t,n,i,s,l,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:i,to:s}=this.skipped[n];i<e.to&&s>e.from&&(this.fragments=BE(this.fragments,i,s),this.skipped.splice(n--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends f8{createParse(t,n,i){let s=i[0].from,l=i[i.length-1].to;return{parsedPos:s,advance(){let f=e0;if(f){for(let h of i)f.tempSkipped.push(h);e&&(f.scheduleOn=f.scheduleOn?Promise.all([f.scheduleOn,e]):e)}return this.parsedPos=l,new Mr($n.none,[],[],l-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return e0}}function BE(r,e,t){return bl.applyChanges(r,[{fromA:e,toA:t,fromB:e,toB:t}])}class $o{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new $o(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=Nd.create(e.facet(za).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new $o(n)}}Ui.state=hn.define({create:$o.init,update(r,e){for(let t of e.effects)if(t.is(Ui.setState))return t.value;return e.startState.facet(za)!=e.state.facet(za)?$o.init(e.state):r.apply(e)}});let p8=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(p8=r=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(r,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const hx=typeof navigator<"u"&&(!((ux=navigator.scheduling)===null||ux===void 0)&&ux.isInputPending)?()=>navigator.scheduling.isInputPending():null,fj=Dr.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Ui.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Ui.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=p8(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,s=n.field(Ui.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!hx?Math.max(25,e.timeRemaining()-5):1e9),c=s.context.treeLen<i&&n.doc.length>i+1e3,f=s.context.work(()=>hx&&hx()||Date.now()>l,i+(c?0:1e5));this.chunkBudget-=Date.now()-t,(f||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Ui.setState.of(new $o(s.context))})),this.chunkBudget>0&&!(f&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Un(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),za=Xe.define({combine(r){return r.length?r[0]:null},enables:r=>[Ui.state,fj,Ge.contentAttributes.compute([r],e=>{let t=e.facet(r);return t&&t.name?{"data-language":t.name}:{}})]});class uj{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const hj=Xe.define(),pp=Xe.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function Rd(r){let e=r.facet(pp);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function U0(r,e){let t="",n=r.tabSize,i=r.facet(pp)[0];if(i=="	"){for(;e>=n;)t+="	",e-=n;i=" "}for(let s=0;s<e;s++)t+=i;return t}function Rv(r,e){r instanceof kt&&(r=new mp(r));for(let n of r.state.facet(hj)){let i=n(r,e);if(i!==void 0)return i}let t=Kr(r.state);return t.length>=e?dj(r,t,e):null}class mp{constructor(e,t={}){this.state=e,this.options=t,this.unit=Rd(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=n.from&&i<=n.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(e,t);return n.slice(e-i,Math.min(n.length,e+100-i))}column(e,t=1){let{text:n,from:i}=this.lineAt(e,t),s=this.countColumn(n,e-i),l=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return l>-1&&(s+=l-this.countColumn(n,n.search(/\S|$/))),s}countColumn(e,t=e.length){return ec(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let l=s(i);if(l>-1)return l}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const m8=new xt;function dj(r,e,t){let n=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=n.node){let s=[];for(let l=i;l&&!(l.from<n.node.from||l.to>n.node.to||l.from==n.node.from&&l.type==n.node.type);l=l.parent)s.push(l);for(let l=s.length-1;l>=0;l--)n={node:s[l],next:n}}return g8(n,r,t)}function g8(r,e,t){for(let n=r;n;n=n.next){let i=mj(n.node);if(i)return i(Fv.create(e,t,n))}return 0}function pj(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function mj(r){let e=r.type.prop(m8);if(e)return e;let t=r.firstChild,n;if(t&&(n=t.type.prop(xt.closedBy))){let i=r.lastChild,s=i&&n.indexOf(i.name)>-1;return l=>yj(l,!0,1,void 0,s&&!pj(l)?i.from:void 0)}return r.parent==null?gj:null}function gj(){return 0}class Fv extends mp{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new Fv(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(xj(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return g8(this.context.next,this.base,this.pos)}}function xj(r,e){for(let t=e;t;t=t.parent)if(r==t)return!0;return!1}function vj(r){let e=r.node,t=e.childAfter(e.from),n=e.lastChild;if(!t)return null;let i=r.options.simulateBreak,s=r.state.doc.lineAt(t.from),l=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let c=t.to;;){let f=e.childAfter(c);if(!f||f==n)return null;if(!f.type.isSkipped){if(f.from>=l)return null;let h=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+h}}c=f.to}}function yj(r,e,t,n,i){let s=r.textAfter,l=s.match(/^\s*/)[0].length,c=n&&s.slice(l,l+n.length)==n||i==r.pos+l,f=vj(r);return f?c?r.column(f.from):r.column(f.to):r.baseIndent+(c?0:r.unit*t)}function bj({except:r,units:e=1}={}){return t=>{let n=r&&r.test(t.textAfter);return t.baseIndent+(n?0:e*t.unit)}}const Sj=200;function wj(){return kt.transactionFilter.of(r=>{if(!r.docChanged||!r.isUserEvent("input.type")&&!r.isUserEvent("input.complete"))return r;let e=r.startState.languageDataAt("indentOnInput",r.startState.selection.main.head);if(!e.length)return r;let t=r.newDoc,{head:n}=r.newSelection.main,i=t.lineAt(n);if(n>i.from+Sj)return r;let s=t.sliceString(i.from,n);if(!e.some(h=>h.test(s)))return r;let{state:l}=r,c=-1,f=[];for(let{head:h}of l.selection.ranges){let d=l.doc.lineAt(h);if(d.from==c)continue;c=d.from;let m=Rv(l,d.from);if(m==null)continue;let g=/^\s*/.exec(d.text)[0],x=U0(l,m);g!=x&&f.push({from:d.from,to:d.from+g.length,insert:x})}return f.length?[r,{changes:f,sequential:!0}]:r})}const Ej=Xe.define(),x8=new xt;function Cj(r,e,t){let n=Kr(r);if(n.length<t)return null;let i=n.resolveStack(t,1),s=null;for(let l=i;l;l=l.next){let c=l.node;if(c.to<=t||c.from>t)continue;if(s&&c.from<e)break;let f=c.type.prop(x8);if(f&&(c.to<n.length-50||n.length==r.doc.length||!Aj(c))){let h=f(c,r);h&&h.from<=t&&h.from>=e&&h.to>t&&(s=h)}}return s}function Aj(r){let e=r.lastChild;return e&&e.to==r.to&&e.type.isError}function Fd(r,e,t){for(let n of r.facet(Ej)){let i=n(r,e,t);if(i)return i}return Cj(r,e,t)}function v8(r,e){let t=e.mapPos(r.from,1),n=e.mapPos(r.to,-1);return t>=n?void 0:{from:t,to:n}}const gp=pt.define({map:v8}),uf=pt.define({map:v8});function y8(r){let e=[];for(let{head:t}of r.state.selection.ranges)e.some(n=>n.from<=t&&n.to>=t)||e.push(r.lineBlockAt(t));return e}const kl=hn.define({create(){return st.none},update(r,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,n)=>r=NE(r,t,n)),r=r.map(e.changes);for(let t of e.effects)if(t.is(gp)&&!Tj(r,t.value.from,t.value.to)){let{preparePlaceholder:n}=e.state.facet(w8),i=n?st.replace({widget:new Rj(n(e.state,t.value))}):RE;r=r.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(uf)&&(r=r.update({filter:(n,i)=>t.value.from!=n||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(r=NE(r,e.selection.main.head)),r},provide:r=>Ge.decorations.from(r),toJSON(r,e){let t=[];return r.between(0,e.doc.length,(n,i)=>{t.push(n,i)}),t},fromJSON(r){if(!Array.isArray(r)||r.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<r.length;){let n=r[t++],i=r[t++];if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(RE.range(n,i))}return st.set(e,!0)}});function NE(r,e,t=e){let n=!1;return r.between(e,t,(i,s)=>{i<t&&s>e&&(n=!0)}),n?r.update({filterFrom:e,filterTo:t,filter:(i,s)=>i>=t||s<=e}):r}function Md(r,e,t){var n;let i=null;return(n=r.field(kl,!1))===null||n===void 0||n.between(e,t,(s,l)=>{(!i||i.from>s)&&(i={from:s,to:l})}),i}function Tj(r,e,t){let n=!1;return r.between(e,e,(i,s)=>{i==e&&s==t&&(n=!0)}),n}function b8(r,e){return r.field(kl,!1)?e:e.concat(pt.appendConfig.of(E8()))}const _j=r=>{for(let e of y8(r)){let t=Fd(r.state,e.from,e.to);if(t)return r.dispatch({effects:b8(r.state,[gp.of(t),S8(r,t)])}),!0}return!1},Dj=r=>{if(!r.state.field(kl,!1))return!1;let e=[];for(let t of y8(r)){let n=Md(r.state,t.from,t.to);n&&e.push(uf.of(n),S8(r,n,!1))}return e.length&&r.dispatch({effects:e}),e.length>0};function S8(r,e,t=!0){let n=r.state.doc.lineAt(e.from).number,i=r.state.doc.lineAt(e.to).number;return Ge.announce.of(`${r.state.phrase(t?"Folded lines":"Unfolded lines")} ${n} ${r.state.phrase("to")} ${i}.`)}const kj=r=>{let{state:e}=r,t=[];for(let n=0;n<e.doc.length;){let i=r.lineBlockAt(n),s=Fd(e,i.from,i.to);s&&t.push(gp.of(s)),n=(s?r.lineBlockAt(s.to):i).to+1}return t.length&&r.dispatch({effects:b8(r.state,t)}),!!t.length},Oj=r=>{let e=r.state.field(kl,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,r.state.doc.length,(n,i)=>{t.push(uf.of({from:n,to:i}))}),r.dispatch({effects:t}),!0},Bj=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:_j},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Dj},{key:"Ctrl-Alt-[",run:kj},{key:"Ctrl-Alt-]",run:Oj}],Nj={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},w8=Xe.define({combine(r){return xs(r,Nj)}});function E8(r){return[kl,Lj]}function C8(r,e){let{state:t}=r,n=t.facet(w8),i=l=>{let c=r.lineBlockAt(r.posAtDOM(l.target)),f=Md(r.state,c.from,c.to);f&&r.dispatch({effects:uf.of(f)}),l.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(r,i,e);let s=document.createElement("span");return s.textContent=n.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const RE=st.replace({widget:new class extends Qs{toDOM(r){return C8(r,null)}}});class Rj extends Qs{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return C8(e,this.value)}}const Fj={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class dx extends Ys{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Mj(r={}){let e={...Fj,...r},t=new dx(e,!0),n=new dx(e,!1),i=Dr.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(za)!=l.state.facet(za)||l.startState.field(kl,!1)!=l.state.field(kl,!1)||Kr(l.startState)!=Kr(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let c=new $s;for(let f of l.viewportLineBlocks){let h=Md(l.state,f.from,f.to)?n:Fd(l.state,f.from,f.to)?t:null;h&&c.add(f.from,f.from,h)}return c.finish()}}),{domEventHandlers:s}=e;return[i,MP({class:"cm-foldGutter",markers(l){var c;return((c=l.plugin(i))===null||c===void 0?void 0:c.markers)||Nt.empty},initialSpacer(){return new dx(e,!1)},domEventHandlers:{...s,click:(l,c,f)=>{if(s.click&&s.click(l,c,f))return!0;let h=Md(l.state,c.from,c.to);if(h)return l.dispatch({effects:uf.of(h)}),!0;let d=Fd(l.state,c.from,c.to);return d?(l.dispatch({effects:gp.of(d)}),!0):!1}}}),E8()]}const Lj=Ge.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class hf{constructor(e,t){this.specs=e;let n;function i(c){let f=La.newName();return(n||(n=Object.create(null)))["."+f]=c,f}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,l=t.scope;this.scope=l instanceof Ui?c=>c.prop(Do)==l.data:l?c=>c==l:void 0,this.style=d8(e.map(c=>({tag:c.tag,class:c.class||i(Object.assign({},c,{tag:null}))})),{all:s}).style,this.module=n?new La(n):null,this.themeType=t.themeType}static define(e,t){return new hf(e,t||{})}}const T1=Xe.define(),A8=Xe.define({combine(r){return r.length?[r[0]]:null}});function px(r){let e=r.facet(T1);return e.length?e:r.facet(A8)}function T8(r,e){let t=[Pj],n;return r instanceof hf&&(r.module&&t.push(Ge.styleModule.of(r.module)),n=r.themeType),e?.fallback?t.push(A8.of(r)):n?t.push(T1.computeN([Ge.darkTheme],i=>i.facet(Ge.darkTheme)==(n=="dark")?[r]:[])):t.push(T1.of(r)),t}class Ij{constructor(e){this.markCache=Object.create(null),this.tree=Kr(e.state),this.decorations=this.buildDeco(e,px(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Kr(e.state),n=px(e.state),i=n!=px(e.startState),{viewport:s}=e.view,l=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!i&&t.type==this.tree.type&&l>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return st.none;let n=new $s;for(let{from:i,to:s}of e.visibleRanges)ij(this.tree,t,(l,c,f)=>{n.add(l,c,this.markCache[f]||(this.markCache[f]=st.mark({class:f})))},i,s);return n.finish()}}const Pj=Il.high(Dr.fromClass(Ij,{decorations:r=>r.decorations})),jj=hf.define([{tag:me.meta,color:"#404740"},{tag:me.link,textDecoration:"underline"},{tag:me.heading,textDecoration:"underline",fontWeight:"bold"},{tag:me.emphasis,fontStyle:"italic"},{tag:me.strong,fontWeight:"bold"},{tag:me.strikethrough,textDecoration:"line-through"},{tag:me.keyword,color:"#708"},{tag:[me.atom,me.bool,me.url,me.contentSeparator,me.labelName],color:"#219"},{tag:[me.literal,me.inserted],color:"#164"},{tag:[me.string,me.deleted],color:"#a11"},{tag:[me.regexp,me.escape,me.special(me.string)],color:"#e40"},{tag:me.definition(me.variableName),color:"#00f"},{tag:me.local(me.variableName),color:"#30a"},{tag:[me.typeName,me.namespace],color:"#085"},{tag:me.className,color:"#167"},{tag:[me.special(me.variableName),me.macroName],color:"#256"},{tag:me.definition(me.propertyName),color:"#00c"},{tag:me.comment,color:"#940"},{tag:me.invalid,color:"#f00"}]),zj=Ge.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),_8=1e4,D8="()[]{}",k8=Xe.define({combine(r){return xs(r,{afterCursor:!0,brackets:D8,maxScanDistance:_8,renderMatch:Vj})}}),Hj=st.mark({class:"cm-matchingBracket"}),Uj=st.mark({class:"cm-nonmatchingBracket"});function Vj(r){let e=[],t=r.matched?Hj:Uj;return e.push(t.range(r.start.from,r.start.to)),r.end&&e.push(t.range(r.end.from,r.end.to)),e}const qj=hn.define({create(){return st.none},update(r,e){if(!e.docChanged&&!e.selection)return r;let t=[],n=e.state.facet(k8);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=us(e.state,i.head,-1,n)||i.head>0&&us(e.state,i.head-1,1,n)||n.afterCursor&&(us(e.state,i.head,1,n)||i.head<e.state.doc.length&&us(e.state,i.head+1,-1,n));s&&(t=t.concat(n.renderMatch(s,e.state)))}return st.set(t,!0)},provide:r=>Ge.decorations.from(r)}),Wj=[qj,zj];function Gj(r={}){return[k8.of(r),Wj]}const $j=new xt;function _1(r,e,t){let n=r.prop(e<0?xt.openedBy:xt.closedBy);if(n)return n;if(r.name.length==1){let i=t.indexOf(r.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function D1(r){let e=r.type.prop($j);return e?e(r.node):r}function us(r,e,t,n={}){let i=n.maxScanDistance||_8,s=n.brackets||D8,l=Kr(r),c=l.resolveInner(e,t);for(let f=c;f;f=f.parent){let h=_1(f.type,t,s);if(h&&f.from<f.to){let d=D1(f);if(d&&(t>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return Xj(r,e,t,f,d,h,s)}}return Yj(r,e,t,l,c.type,i,s)}function Xj(r,e,t,n,i,s,l){let c=n.parent,f={from:i.from,to:i.to},h=0,d=c?.cursor();if(d&&(t<0?d.childBefore(n.from):d.childAfter(n.to)))do if(t<0?d.to<=n.from:d.from>=n.to){if(h==0&&s.indexOf(d.type.name)>-1&&d.from<d.to){let m=D1(d);return{start:f,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(_1(d.type,t,l))h++;else if(_1(d.type,-t,l)){if(h==0){let m=D1(d);return{start:f,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}h--}}while(t<0?d.prevSibling():d.nextSibling());return{start:f,matched:!1}}function Yj(r,e,t,n,i,s,l){let c=t<0?r.sliceDoc(e-1,e):r.sliceDoc(e,e+1),f=l.indexOf(c);if(f<0||f%2==0!=t>0)return null;let h={from:t<0?e-1:e,to:t>0?e+1:e},d=r.doc.iterRange(e,t>0?r.doc.length:0),m=0;for(let g=0;!d.next().done&&g<=s;){let x=d.value;t<0&&(g+=x.length);let b=e+g*t;for(let S=t>0?0:x.length-1,w=t>0?x.length:-1;S!=w;S+=t){let T=l.indexOf(x[S]);if(!(T<0||n.resolveInner(b+S,1).type!=i))if(T%2==0==t>0)m++;else{if(m==1)return{start:h,end:{from:b+S,to:b+S+1},matched:T>>1==f>>1};m--}}t>0&&(g+=x.length)}return d.done?{start:h,matched:!1}:null}const Kj=Object.create(null),FE=[$n.none],ME=[],LE=Object.create(null),Qj=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Qj[r]=Zj(Kj,e);function mx(r,e){ME.indexOf(r)>-1||(ME.push(r),console.warn(e))}function Zj(r,e){let t=[];for(let c of e.split(" ")){let f=[];for(let h of c.split(".")){let d=r[h]||me[h];d?typeof d=="function"?f.length?f=f.map(d):mx(h,`Modifier ${h} used at start of tag`):f.length?mx(h,`Tag ${h} used as modifier`):f=Array.isArray(d)?d:[d]:mx(h,`Unknown highlighting tag ${h}`)}for(let h of f)t.push(h)}if(!t.length)return 0;let n=e.replace(/ /g,"_"),i=n+" "+t.map(c=>c.id),s=LE[i];if(s)return s.id;let l=LE[i]=$n.define({id:FE.length,name:n,props:[u8({[n]:t})]});return FE.push(l),l.id}hr.RTL,hr.LTR;const Jj=r=>{let{state:e}=r,t=e.doc.lineAt(e.selection.main.from),n=Lv(r.state,t.from);return n.line?ez(r):n.block?rz(r):!1};function Mv(r,e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=r(e,t);return i?(n(t.update(i)),!0):!1}}const ez=Mv(sz,0),tz=Mv(O8,0),rz=Mv((r,e)=>O8(r,e,iz(e)),0);function Lv(r,e){let t=r.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const t0=50;function nz(r,{open:e,close:t},n,i){let s=r.sliceDoc(n-t0,n),l=r.sliceDoc(i,i+t0),c=/\s*$/.exec(s)[0].length,f=/^\s*/.exec(l)[0].length,h=s.length-c;if(s.slice(h-e.length,h)==e&&l.slice(f,f+t.length)==t)return{open:{pos:n-c,margin:c&&1},close:{pos:i+f,margin:f&&1}};let d,m;i-n<=2*t0?d=m=r.sliceDoc(n,i):(d=r.sliceDoc(n,n+t0),m=r.sliceDoc(i-t0,i));let g=/^\s*/.exec(d)[0].length,x=/\s*$/.exec(m)[0].length,b=m.length-x-t.length;return d.slice(g,g+e.length)==e&&m.slice(b,b+t.length)==t?{open:{pos:n+g+e.length,margin:/\s/.test(d.charAt(g+e.length))?1:0},close:{pos:i-x-t.length,margin:/\s/.test(m.charAt(b-1))?1:0}}:null}function iz(r){let e=[];for(let t of r.selection.ranges){let n=r.doc.lineAt(t.from),i=t.to<=n.to?n:r.doc.lineAt(t.to);i.from>n.from&&i.from==t.to&&(i=t.to==n.to+1?n:r.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>n.from?e[s].to=i.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:i.to})}return e}function O8(r,e,t=e.selection.ranges){let n=t.map(s=>Lv(e,s.from).block);if(!n.every(s=>s))return null;let i=t.map((s,l)=>nz(e,n[l],s.from,s.to));if(r!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,l)=>i[l]?[]:[{from:s.from,insert:n[l].open+" "},{from:s.to,insert:" "+n[l].close}]))};if(r!=1&&i.some(s=>s)){let s=[];for(let l=0,c;l<i.length;l++)if(c=i[l]){let f=n[l],{open:h,close:d}=c;s.push({from:h.pos-f.open.length,to:h.pos+h.margin},{from:d.pos-d.margin,to:d.pos+f.close.length})}return{changes:s}}return null}function sz(r,e,t=e.selection.ranges){let n=[],i=-1;for(let{from:s,to:l}of t){let c=n.length,f=1e9,h=Lv(e,s).line;if(h){for(let d=s;d<=l;){let m=e.doc.lineAt(d);if(m.from>i&&(s==l||l>m.from)){i=m.from;let g=/^\s*/.exec(m.text)[0].length,x=g==m.length,b=m.text.slice(g,g+h.length)==h?g:-1;g<m.text.length&&g<f&&(f=g),n.push({line:m,comment:b,token:h,indent:g,empty:x,single:!1})}d=m.to+1}if(f<1e9)for(let d=c;d<n.length;d++)n[d].indent<n[d].line.text.length&&(n[d].indent=f);n.length==c+1&&(n[c].single=!0)}}if(r!=2&&n.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:c,token:f,indent:h,empty:d,single:m}of n)(m||!d)&&s.push({from:c.from+h,insert:f+" "});let l=e.changes(s);return{changes:l,selection:e.selection.map(l,1)}}else if(r!=1&&n.some(s=>s.comment>=0)){let s=[];for(let{line:l,comment:c,token:f}of n)if(c>=0){let h=l.from+c,d=h+f.length;l.text[d-l.from]==" "&&d++,s.push({from:h,to:d})}return{changes:s}}return null}const k1=gs.define(),az=gs.define(),lz=Xe.define(),B8=Xe.define({combine(r){return xs(r,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,i)=>e(n,i)||t(n,i)})}}),N8=hn.define({create(){return hs.empty},update(r,e){let t=e.state.facet(B8),n=e.annotation(k1);if(n){let f=Vn.fromTransaction(e,n.selection),h=n.side,d=h==0?r.undone:r.done;return f?d=Ld(d,d.length,t.minDepth,f):d=M8(d,e.startState.selection),new hs(h==0?n.rest:d,h==0?d:n.rest)}let i=e.annotation(az);if((i=="full"||i=="before")&&(r=r.isolate()),e.annotation(Ur.addToHistory)===!1)return e.changes.empty?r:r.addMapping(e.changes.desc);let s=Vn.fromTransaction(e),l=e.annotation(Ur.time),c=e.annotation(Ur.userEvent);return s?r=r.addChanges(s,l,c,t,e):e.selection&&(r=r.addSelection(e.startState.selection,l,c,t.newGroupDelay)),(i=="full"||i=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(e=>e.toJSON()),undone:r.undone.map(e=>e.toJSON())}},fromJSON(r){return new hs(r.done.map(Vn.fromJSON),r.undone.map(Vn.fromJSON))}});function oz(r={}){return[N8,B8.of(r),Ge.domEventHandlers({beforeinput(e,t){let n=e.inputType=="historyUndo"?R8:e.inputType=="historyRedo"?O1:null;return n?(e.preventDefault(),n(t)):!1}})]}function xp(r,e){return function({state:t,dispatch:n}){if(!e&&t.readOnly)return!1;let i=t.field(N8,!1);if(!i)return!1;let s=i.pop(r,t,e);return s?(n(s),!0):!1}}const R8=xp(0,!1),O1=xp(1,!1),cz=xp(0,!0),fz=xp(1,!0);class Vn{constructor(e,t,n,i,s){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new Vn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Vn(e.changes&&zr.fromJSON(e.changes),[],e.mapped&&ds.fromJSON(e.mapped),e.startSelection&&Oe.fromJSON(e.startSelection),e.selectionsAfter.map(Oe.fromJSON))}static fromTransaction(e,t){let n=Di;for(let i of e.startState.facet(lz)){let s=i(e);s.length&&(n=n.concat(s))}return!n.length&&e.changes.empty?null:new Vn(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,Di)}static selection(e){return new Vn(void 0,Di,void 0,void 0,e)}}function Ld(r,e,t,n){let i=e+1>t+20?e-t-1:0,s=r.slice(i,e);return s.push(n),s}function uz(r,e){let t=[],n=!1;return r.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,l,c)=>{for(let f=0;f<t.length;){let h=t[f++],d=t[f++];c>=h&&l<=d&&(n=!0)}}),n}function hz(r,e){return r.ranges.length==e.ranges.length&&r.ranges.filter((t,n)=>t.empty!=e.ranges[n].empty).length===0}function F8(r,e){return r.length?e.length?r.concat(e):r:e}const Di=[],dz=200;function M8(r,e){if(r.length){let t=r[r.length-1],n=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-dz));return n.length&&n[n.length-1].eq(e)?r:(n.push(e),Ld(r,r.length-1,1e9,t.setSelAfter(n)))}else return[Vn.selection([e])]}function pz(r){let e=r[r.length-1],t=r.slice();return t[r.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function gx(r,e){if(!r.length)return r;let t=r.length,n=Di;for(;t;){let i=mz(r[t-1],e,n);if(i.changes&&!i.changes.empty||i.effects.length){let s=r.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,n=i.selectionsAfter}return n.length?[Vn.selection(n)]:Di}function mz(r,e,t){let n=F8(r.selectionsAfter.length?r.selectionsAfter.map(c=>c.map(e)):Di,t);if(!r.changes)return Vn.selection(n);let i=r.changes.map(e),s=e.mapDesc(r.changes,!0),l=r.mapped?r.mapped.composeDesc(s):s;return new Vn(i,pt.mapEffects(r.effects,e),l,r.startSelection.map(s),n)}const gz=/^(input\.type|delete)($|\.)/;class hs{constructor(e,t,n=0,i=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new hs(this.done,this.undone):this}addChanges(e,t,n,i,s){let l=this.done,c=l[l.length-1];return c&&c.changes&&!c.changes.empty&&e.changes&&(!n||gz.test(n))&&(!c.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,uz(c.changes,e.changes))||n=="input.type.compose")?l=Ld(l,l.length-1,i.minDepth,new Vn(e.changes.compose(c.changes),F8(pt.mapEffects(e.effects,c.changes),c.effects),c.mapped,c.startSelection,Di)):l=Ld(l,l.length,i.minDepth,e),new hs(l,Di,t,n)}addSelection(e,t,n,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Di;return s.length>0&&t-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&hz(s[s.length-1],e)?this:new hs(M8(this.done,e),this.undone,t,n)}addMapping(e){return new hs(gx(this.done,e),gx(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],l=s.selectionsAfter[0]||t.selection;if(n&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:k1.of({side:e,rest:pz(i),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let c=i.length==1?Di:i.slice(0,i.length-1);return s.mapped&&(c=gx(c,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:k1.of({side:e,rest:c,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}hs.empty=new hs(Di,Di);const xz=[{key:"Mod-z",run:R8,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:O1,preventDefault:!0},{linux:"Ctrl-Shift-z",run:O1,preventDefault:!0},{key:"Mod-u",run:cz,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:fz,preventDefault:!0}];function tc(r,e){return Oe.create(r.ranges.map(e),r.mainIndex)}function Xi(r,e){return r.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Yi({state:r,dispatch:e},t){let n=tc(r.selection,t);return n.eq(r.selection,!0)?!1:(e(Xi(r,n)),!0)}function vp(r,e){return Oe.cursor(e?r.to:r.from)}function L8(r,e){return Yi(r,t=>t.empty?r.moveByChar(t,e):vp(t,e))}function Sn(r){return r.textDirectionAt(r.state.selection.main.head)==hr.LTR}const I8=r=>L8(r,!Sn(r)),P8=r=>L8(r,Sn(r));function j8(r,e){return Yi(r,t=>t.empty?r.moveByGroup(t,e):vp(t,e))}const vz=r=>j8(r,!Sn(r)),yz=r=>j8(r,Sn(r));function bz(r,e,t){if(e.type.prop(t))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(r.sliceDoc(e.from,e.to)))||e.firstChild}function yp(r,e,t){let n=Kr(r).resolveInner(e.head),i=t?xt.closedBy:xt.openedBy;for(let f=e.head;;){let h=t?n.childAfter(f):n.childBefore(f);if(!h)break;bz(r,h,i)?n=h:f=t?h.to:h.from}let s=n.type.prop(i),l,c;return s&&(l=t?us(r,n.from,1):us(r,n.to,-1))&&l.matched?c=t?l.end.to:l.end.from:c=t?n.to:n.from,Oe.cursor(c,t?-1:1)}const Sz=r=>Yi(r,e=>yp(r.state,e,!Sn(r))),wz=r=>Yi(r,e=>yp(r.state,e,Sn(r)));function z8(r,e){return Yi(r,t=>{if(!t.empty)return vp(t,e);let n=r.moveVertically(t,e);return n.head!=t.head?n:r.moveToLineBoundary(t,e)})}const H8=r=>z8(r,!1),U8=r=>z8(r,!0);function V8(r){let e=r.scrollDOM.clientHeight<r.scrollDOM.scrollHeight-2,t=0,n=0,i;if(e){for(let s of r.state.facet(Ge.scrollMargins)){let l=s(r);l?.top&&(t=Math.max(l?.top,t)),l?.bottom&&(n=Math.max(l?.bottom,n))}i=r.scrollDOM.clientHeight-t-n}else i=(r.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:n,selfScroll:e,height:Math.max(r.defaultLineHeight,i-5)}}function q8(r,e){let t=V8(r),{state:n}=r,i=tc(n.selection,l=>l.empty?r.moveVertically(l,e,t.height):vp(l,e));if(i.eq(n.selection))return!1;let s;if(t.selfScroll){let l=r.coordsAtPos(n.selection.main.head),c=r.scrollDOM.getBoundingClientRect(),f=c.top+t.marginTop,h=c.bottom-t.marginBottom;l&&l.top>f&&l.bottom<h&&(s=Ge.scrollIntoView(i.main.head,{y:"start",yMargin:l.top-f}))}return r.dispatch(Xi(n,i),{effects:s}),!0}const IE=r=>q8(r,!1),B1=r=>q8(r,!0);function qa(r,e,t){let n=r.lineBlockAt(e.head),i=r.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?n.to:n.from)&&(i=r.moveToLineBoundary(e,t,!1)),!t&&i.head==n.from&&n.length){let s=/^\s*/.exec(r.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;s&&e.head!=n.from+s&&(i=Oe.cursor(n.from+s))}return i}const Ez=r=>Yi(r,e=>qa(r,e,!0)),Cz=r=>Yi(r,e=>qa(r,e,!1)),Az=r=>Yi(r,e=>qa(r,e,!Sn(r))),Tz=r=>Yi(r,e=>qa(r,e,Sn(r))),_z=r=>Yi(r,e=>Oe.cursor(r.lineBlockAt(e.head).from,1)),Dz=r=>Yi(r,e=>Oe.cursor(r.lineBlockAt(e.head).to,-1));function kz(r,e,t){let n=!1,i=tc(r.selection,s=>{let l=us(r,s.head,-1)||us(r,s.head,1)||s.head>0&&us(r,s.head-1,1)||s.head<r.doc.length&&us(r,s.head+1,-1);if(!l||!l.end)return s;n=!0;let c=l.start.from==s.head?l.end.to:l.end.from;return Oe.cursor(c)});return n?(e(Xi(r,i)),!0):!1}const Oz=({state:r,dispatch:e})=>kz(r,e);function Fi(r,e){let t=tc(r.state.selection,n=>{let i=e(n);return Oe.range(n.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(r.state.selection)?!1:(r.dispatch(Xi(r.state,t)),!0)}function W8(r,e){return Fi(r,t=>r.moveByChar(t,e))}const G8=r=>W8(r,!Sn(r)),$8=r=>W8(r,Sn(r));function X8(r,e){return Fi(r,t=>r.moveByGroup(t,e))}const Bz=r=>X8(r,!Sn(r)),Nz=r=>X8(r,Sn(r)),Rz=r=>Fi(r,e=>yp(r.state,e,!Sn(r))),Fz=r=>Fi(r,e=>yp(r.state,e,Sn(r)));function Y8(r,e){return Fi(r,t=>r.moveVertically(t,e))}const K8=r=>Y8(r,!1),Q8=r=>Y8(r,!0);function Z8(r,e){return Fi(r,t=>r.moveVertically(t,e,V8(r).height))}const PE=r=>Z8(r,!1),jE=r=>Z8(r,!0),Mz=r=>Fi(r,e=>qa(r,e,!0)),Lz=r=>Fi(r,e=>qa(r,e,!1)),Iz=r=>Fi(r,e=>qa(r,e,!Sn(r))),Pz=r=>Fi(r,e=>qa(r,e,Sn(r))),jz=r=>Fi(r,e=>Oe.cursor(r.lineBlockAt(e.head).from)),zz=r=>Fi(r,e=>Oe.cursor(r.lineBlockAt(e.head).to)),zE=({state:r,dispatch:e})=>(e(Xi(r,{anchor:0})),!0),HE=({state:r,dispatch:e})=>(e(Xi(r,{anchor:r.doc.length})),!0),UE=({state:r,dispatch:e})=>(e(Xi(r,{anchor:r.selection.main.anchor,head:0})),!0),VE=({state:r,dispatch:e})=>(e(Xi(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),Hz=({state:r,dispatch:e})=>(e(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),Uz=({state:r,dispatch:e})=>{let t=bp(r).map(({from:n,to:i})=>Oe.range(n,Math.min(i+1,r.doc.length)));return e(r.update({selection:Oe.create(t),userEvent:"select"})),!0},Vz=({state:r,dispatch:e})=>{let t=tc(r.selection,n=>{let i=Kr(r),s=i.resolveStack(n.from,1);if(n.empty){let l=i.resolveStack(n.from,-1);l.node.from>=s.node.from&&l.node.to<=s.node.to&&(s=l)}for(let l=s;l;l=l.next){let{node:c}=l;if((c.from<n.from&&c.to>=n.to||c.to>n.to&&c.from<=n.from)&&l.next)return Oe.range(c.to,c.from)}return n});return t.eq(r.selection)?!1:(e(Xi(r,t)),!0)};function J8(r,e){let{state:t}=r,n=t.selection,i=t.selection.ranges.slice();for(let s of t.selection.ranges){let l=t.doc.lineAt(s.head);if(e?l.to<r.state.doc.length:l.from>0)for(let c=s;;){let f=r.moveVertically(c,e);if(f.head<l.from||f.head>l.to){i.some(h=>h.head==f.head)||i.push(f);break}else{if(f.head==c.head)break;c=f}}}return i.length==n.ranges.length?!1:(r.dispatch(Xi(t,Oe.create(i,i.length-1))),!0)}const qz=r=>J8(r,!1),Wz=r=>J8(r,!0),Gz=({state:r,dispatch:e})=>{let t=r.selection,n=null;return t.ranges.length>1?n=Oe.create([t.main]):t.main.empty||(n=Oe.create([Oe.cursor(t.main.head)])),n?(e(Xi(r,n)),!0):!1};function df(r,e){if(r.state.readOnly)return!1;let t="delete.selection",{state:n}=r,i=n.changeByRange(s=>{let{from:l,to:c}=s;if(l==c){let f=e(s);f<l?(t="delete.backward",f=nh(r,f,!1)):f>l&&(t="delete.forward",f=nh(r,f,!0)),l=Math.min(l,f),c=Math.max(c,f)}else l=nh(r,l,!1),c=nh(r,c,!0);return l==c?{range:s}:{changes:{from:l,to:c},range:Oe.cursor(l,l<s.head?-1:1)}});return i.changes.empty?!1:(r.dispatch(n.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?Ge.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function nh(r,e,t){if(r instanceof Ge)for(let n of r.state.facet(Ge.atomicRanges).map(i=>i(r)))n.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const e_=(r,e,t)=>df(r,n=>{let i=n.from,{state:s}=r,l=s.doc.lineAt(i),c,f;if(t&&!e&&i>l.from&&i<l.from+200&&!/[^ \t]/.test(c=l.text.slice(0,i-l.from))){if(c[c.length-1]=="	")return i-1;let h=ec(c,s.tabSize),d=h%Rd(s)||Rd(s);for(let m=0;m<d&&c[c.length-1-m]==" ";m++)i--;f=i}else f=cn(l.text,i-l.from,e,e)+l.from,f==i&&l.number!=(e?s.doc.lines:1)?f+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(f-l.from,i-l.from))&&(f=cn(l.text,f-l.from,!1,!1)+l.from);return f}),N1=r=>e_(r,!1,!0),t_=r=>e_(r,!0,!1),r_=(r,e)=>df(r,t=>{let n=t.head,{state:i}=r,s=i.doc.lineAt(n),l=i.charCategorizer(n);for(let c=null;;){if(n==(e?s.to:s.from)){n==t.head&&s.number!=(e?i.doc.lines:1)&&(n+=e?1:-1);break}let f=cn(s.text,n-s.from,e)+s.from,h=s.text.slice(Math.min(n,f)-s.from,Math.max(n,f)-s.from),d=l(h);if(c!=null&&d!=c)break;(h!=" "||n!=t.head)&&(c=d),n=f}return n}),n_=r=>r_(r,!1),$z=r=>r_(r,!0),Xz=r=>df(r,e=>{let t=r.lineBlockAt(e.head).to;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),Yz=r=>df(r,e=>{let t=r.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),Kz=r=>df(r,e=>{let t=r.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),Qz=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:Rt.of(["",""])},range:Oe.cursor(n.from)}));return e(r.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},Zz=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(n=>{if(!n.empty||n.from==0||n.from==r.doc.length)return{range:n};let i=n.from,s=r.doc.lineAt(i),l=i==s.from?i-1:cn(s.text,i-s.from,!1)+s.from,c=i==s.to?i+1:cn(s.text,i-s.from,!0)+s.from;return{changes:{from:l,to:c,insert:r.doc.slice(i,c).append(r.doc.slice(l,i))},range:Oe.cursor(c)}});return t.changes.empty?!1:(e(r.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function bp(r){let e=[],t=-1;for(let n of r.selection.ranges){let i=r.doc.lineAt(n.from),s=r.doc.lineAt(n.to);if(!n.empty&&n.to==s.from&&(s=r.doc.lineAt(n.to-1)),t>=i.number){let l=e[e.length-1];l.to=s.to,l.ranges.push(n)}else e.push({from:i.from,to:s.to,ranges:[n]});t=s.number+1}return e}function i_(r,e,t){if(r.readOnly)return!1;let n=[],i=[];for(let s of bp(r)){if(t?s.to==r.doc.length:s.from==0)continue;let l=r.doc.lineAt(t?s.to+1:s.from-1),c=l.length+1;if(t){n.push({from:s.to,to:l.to},{from:s.from,insert:l.text+r.lineBreak});for(let f of s.ranges)i.push(Oe.range(Math.min(r.doc.length,f.anchor+c),Math.min(r.doc.length,f.head+c)))}else{n.push({from:l.from,to:s.from},{from:s.to,insert:r.lineBreak+l.text});for(let f of s.ranges)i.push(Oe.range(f.anchor-c,f.head-c))}}return n.length?(e(r.update({changes:n,scrollIntoView:!0,selection:Oe.create(i,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Jz=({state:r,dispatch:e})=>i_(r,e,!1),eH=({state:r,dispatch:e})=>i_(r,e,!0);function s_(r,e,t){if(r.readOnly)return!1;let n=[];for(let i of bp(r))t?n.push({from:i.from,insert:r.doc.slice(i.from,i.to)+r.lineBreak}):n.push({from:i.to,insert:r.lineBreak+r.doc.slice(i.from,i.to)});return e(r.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const tH=({state:r,dispatch:e})=>s_(r,e,!1),rH=({state:r,dispatch:e})=>s_(r,e,!0),nH=r=>{if(r.state.readOnly)return!1;let{state:e}=r,t=e.changes(bp(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),n=tc(e.selection,i=>{let s;if(r.lineWrapping){let l=r.lineBlockAt(i.head),c=r.coordsAtPos(i.head,i.assoc||1);c&&(s=l.bottom+r.documentTop-c.bottom+r.defaultLineHeight/2)}return r.moveVertically(i,!0,s)}).map(t);return r.dispatch({changes:t,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function iH(r,e){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Kr(r).resolveInner(e),n=t.childBefore(e),i=t.childAfter(e),s;return n&&i&&n.to<=e&&i.from>=e&&(s=n.type.prop(xt.closedBy))&&s.indexOf(i.name)>-1&&r.doc.lineAt(n.to).from==r.doc.lineAt(i.from).from&&!/\S/.test(r.sliceDoc(n.to,i.from))?{from:n.to,to:i.from}:null}const qE=a_(!1),sH=a_(!0);function a_(r){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(i=>{let{from:s,to:l}=i,c=e.doc.lineAt(s),f=!r&&s==l&&iH(e,s);r&&(s=l=(l<=c.to?c:e.doc.lineAt(l)).to);let h=new mp(e,{simulateBreak:s,simulateDoubleBreak:!!f}),d=Rv(h,s);for(d==null&&(d=ec(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));l<c.to&&/\s/.test(c.text[l-c.from]);)l++;f?{from:s,to:l}=f:s>c.from&&s<c.from+100&&!/\S/.test(c.text.slice(0,s))&&(s=c.from);let m=["",U0(e,d)];return f&&m.push(U0(e,h.lineIndent(c.from,-1))),{changes:{from:s,to:l,insert:Rt.of(m)},range:Oe.cursor(s+1+m[1].length)}});return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function Iv(r,e){let t=-1;return r.changeByRange(n=>{let i=[];for(let l=n.from;l<=n.to;){let c=r.doc.lineAt(l);c.number>t&&(n.empty||n.to>c.from)&&(e(c,i,n),t=c.number),l=c.to+1}let s=r.changes(i);return{changes:i,range:Oe.range(s.mapPos(n.anchor,1),s.mapPos(n.head,1))}})}const aH=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=Object.create(null),n=new mp(r,{overrideIndentation:s=>{let l=t[s];return l??-1}}),i=Iv(r,(s,l,c)=>{let f=Rv(n,s.from);if(f==null)return;/\S/.test(s.text)||(f=0);let h=/^\s*/.exec(s.text)[0],d=U0(r,f);(h!=d||c.from<s.from+h.length)&&(t[s.from]=f,l.push({from:s.from,to:s.from+h.length,insert:d}))});return i.changes.empty||e(r.update(i,{userEvent:"indent"})),!0},l_=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(Iv(r,(t,n)=>{n.push({from:t.from,insert:r.facet(pp)})}),{userEvent:"input.indent"})),!0),o_=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(Iv(r,(t,n)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=ec(i,r.tabSize),l=0,c=U0(r,Math.max(0,s-Rd(r)));for(;l<i.length&&l<c.length&&i.charCodeAt(l)==c.charCodeAt(l);)l++;n.push({from:t.from+l,to:t.from+i.length,insert:c.slice(l)})}),{userEvent:"delete.dedent"})),!0),lH=r=>(r.setTabFocusMode(),!0),oH=[{key:"Ctrl-b",run:I8,shift:G8,preventDefault:!0},{key:"Ctrl-f",run:P8,shift:$8},{key:"Ctrl-p",run:H8,shift:K8},{key:"Ctrl-n",run:U8,shift:Q8},{key:"Ctrl-a",run:_z,shift:jz},{key:"Ctrl-e",run:Dz,shift:zz},{key:"Ctrl-d",run:t_},{key:"Ctrl-h",run:N1},{key:"Ctrl-k",run:Xz},{key:"Ctrl-Alt-h",run:n_},{key:"Ctrl-o",run:Qz},{key:"Ctrl-t",run:Zz},{key:"Ctrl-v",run:B1}],cH=[{key:"ArrowLeft",run:I8,shift:G8,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:vz,shift:Bz,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Az,shift:Iz,preventDefault:!0},{key:"ArrowRight",run:P8,shift:$8,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:yz,shift:Nz,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Tz,shift:Pz,preventDefault:!0},{key:"ArrowUp",run:H8,shift:K8,preventDefault:!0},{mac:"Cmd-ArrowUp",run:zE,shift:UE},{mac:"Ctrl-ArrowUp",run:IE,shift:PE},{key:"ArrowDown",run:U8,shift:Q8,preventDefault:!0},{mac:"Cmd-ArrowDown",run:HE,shift:VE},{mac:"Ctrl-ArrowDown",run:B1,shift:jE},{key:"PageUp",run:IE,shift:PE},{key:"PageDown",run:B1,shift:jE},{key:"Home",run:Cz,shift:Lz,preventDefault:!0},{key:"Mod-Home",run:zE,shift:UE},{key:"End",run:Ez,shift:Mz,preventDefault:!0},{key:"Mod-End",run:HE,shift:VE},{key:"Enter",run:qE,shift:qE},{key:"Mod-a",run:Hz},{key:"Backspace",run:N1,shift:N1,preventDefault:!0},{key:"Delete",run:t_,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:n_,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:$z,preventDefault:!0},{mac:"Mod-Backspace",run:Yz,preventDefault:!0},{mac:"Mod-Delete",run:Kz,preventDefault:!0}].concat(oH.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),fH=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Sz,shift:Rz},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:wz,shift:Fz},{key:"Alt-ArrowUp",run:Jz},{key:"Shift-Alt-ArrowUp",run:tH},{key:"Alt-ArrowDown",run:eH},{key:"Shift-Alt-ArrowDown",run:rH},{key:"Mod-Alt-ArrowUp",run:qz},{key:"Mod-Alt-ArrowDown",run:Wz},{key:"Escape",run:Gz},{key:"Mod-Enter",run:sH},{key:"Alt-l",mac:"Ctrl-l",run:Uz},{key:"Mod-i",run:Vz,preventDefault:!0},{key:"Mod-[",run:o_},{key:"Mod-]",run:l_},{key:"Mod-Alt-\\",run:aH},{key:"Shift-Mod-k",run:nH},{key:"Shift-Mod-\\",run:Oz},{key:"Mod-/",run:Jj},{key:"Alt-A",run:tz},{key:"Ctrl-m",mac:"Shift-Alt-m",run:lH}].concat(cH),uH={key:"Tab",run:l_,shift:o_},WE=typeof String.prototype.normalize=="function"?r=>r.normalize("NFKD"):r=>r;class Xo{constructor(e,t,n=0,i=e.length,s,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,i),this.bufferStart=n,this.normalize=s?c=>s(WE(c)):WE,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return zn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=pv(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=cs(e);let i=this.normalize(t);if(i.length)for(let s=0,l=n;;s++){let c=i.charCodeAt(s),f=this.match(c,l,this.bufferPos+this.bufferStart);if(s==i.length-1){if(f)return this.value=f,this;break}l==n&&s<t.length&&t.charCodeAt(s)==c&&l++}}}match(e,t,n){let i=null;for(let s=0;s<this.matches.length;s+=2){let l=this.matches[s],c=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?i={from:this.matches[s+1],to:n}:(this.matches[s]++,c=!0)),c||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:n}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Xo.prototype[Symbol.iterator]=function(){return this});const c_={from:-1,to:-1,match:/.*/.exec("")},Pv="gm"+(/x/.unicode==null?"":"u");class f_{constructor(e,t,n,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=c_,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new u_(e,t,n,i,s);this.re=new RegExp(t,Pv+(n?.ignoreCase?"i":"")),this.test=n?.test,this.iter=e.iter();let l=e.lineAt(i);this.curLineStart=l.from,this.matchPos=Id(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,i=n+t[0].length;if(this.matchPos=Id(this.text,i+(n==i?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<i||n>this.value.to)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const xx=new WeakMap;class Io{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let i=xx.get(e);if(!i||i.from>=n||i.to<=t){let c=new Io(t,e.sliceString(t,n));return xx.set(e,c),c}if(i.from==t&&i.to==n)return i;let{text:s,from:l}=i;return l>t&&(s=e.sliceString(t,l)+s,l=t),i.to<n&&(s+=e.sliceString(i.to,n)),xx.set(e,new Io(l,s)),new Io(t,s.slice(t-l,n-l))}}class u_{constructor(e,t,n,i,s){this.text=e,this.to=s,this.done=!1,this.value=c_,this.matchPos=Id(e,i),this.re=new RegExp(t,Pv+(n?.ignoreCase?"i":"")),this.test=n?.test,this.flat=Io.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let n=this.flat.from+t.index,i=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this.matchPos=Id(this.text,i+(n==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Io.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(f_.prototype[Symbol.iterator]=u_.prototype[Symbol.iterator]=function(){return this});function hH(r){try{return new RegExp(r,Pv),!0}catch{return!1}}function Id(r,e){if(e>=r.length)return e;let t=r.lineAt(e),n;for(;e<t.to&&(n=t.text.charCodeAt(e-t.from))>=56320&&n<57344;)e++;return e}function R1(r){let e=String(r.state.doc.lineAt(r.state.selection.main.head).number),t=ir("input",{class:"cm-textfield",name:"line",value:e}),n=ir("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),r.dispatch({effects:S0.of(!1)}),r.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},ir("label",r.state.phrase("Go to line"),": ",t)," ",ir("button",{class:"cm-button",type:"submit"},r.state.phrase("go")),ir("button",{name:"close",onclick:()=>{r.dispatch({effects:S0.of(!1)}),r.focus()},"aria-label":r.state.phrase("close"),type:"button"},[""]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:l}=r,c=l.doc.lineAt(l.selection.main.head),[,f,h,d,m]=s,g=d?+d.slice(1):0,x=h?+h:c.number;if(h&&m){let w=x/100;f&&(w=w*(f=="-"?-1:1)+c.number/l.doc.lines),x=Math.round(l.doc.lines*w)}else h&&f&&(x=x*(f=="-"?-1:1)+c.number);let b=l.doc.line(Math.max(1,Math.min(l.doc.lines,x))),S=Oe.cursor(b.from+Math.max(0,Math.min(g,b.length)));r.dispatch({effects:[S0.of(!1),Ge.scrollIntoView(S.from,{y:"center"})],selection:S}),r.focus()}return{dom:n}}const S0=pt.define(),GE=hn.define({create(){return!0},update(r,e){for(let t of e.effects)t.is(S0)&&(r=t.value);return r},provide:r=>j0.from(r,e=>e?R1:null)}),dH=r=>{let e=P0(r,R1);if(!e){let t=[S0.of(!0)];r.state.field(GE,!1)==null&&t.push(pt.appendConfig.of([GE,pH])),r.dispatch({effects:t}),e=P0(r,R1)}return e&&e.dom.querySelector("input").select(),!0},pH=Ge.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),mH={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},gH=Xe.define({combine(r){return xs(r,mH,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function xH(r){return[wH,SH]}const vH=st.mark({class:"cm-selectionMatch"}),yH=st.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function $E(r,e,t,n){return(t==0||r(e.sliceDoc(t-1,t))!=xr.Word)&&(n==e.doc.length||r(e.sliceDoc(n,n+1))!=xr.Word)}function bH(r,e,t,n){return r(e.sliceDoc(t,t+1))==xr.Word&&r(e.sliceDoc(n-1,n))==xr.Word}const SH=Dr.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.selectionSet||r.docChanged||r.viewportChanged)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=r.state.facet(gH),{state:t}=r,n=t.selection;if(n.ranges.length>1)return st.none;let i=n.main,s,l=null;if(i.empty){if(!e.highlightWordAroundCursor)return st.none;let f=t.wordAt(i.head);if(!f)return st.none;l=t.charCategorizer(i.head),s=t.sliceDoc(f.from,f.to)}else{let f=i.to-i.from;if(f<e.minSelectionLength||f>200)return st.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),l=t.charCategorizer(i.head),!($E(l,t,i.from,i.to)&&bH(l,t,i.from,i.to)))return st.none}else if(s=t.sliceDoc(i.from,i.to),!s)return st.none}let c=[];for(let f of r.visibleRanges){let h=new Xo(t.doc,s,f.from,f.to);for(;!h.next().done;){let{from:d,to:m}=h.value;if((!l||$E(l,t,d,m))&&(i.empty&&d<=i.from&&m>=i.to?c.push(yH.range(d,m)):(d>=i.to||m<=i.from)&&c.push(vH.range(d,m)),c.length>e.maxMatches))return st.none}}return st.set(c)}},{decorations:r=>r.decorations}),wH=Ge.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),EH=({state:r,dispatch:e})=>{let{selection:t}=r,n=Oe.create(t.ranges.map(i=>r.wordAt(i.head)||Oe.cursor(i.head)),t.mainIndex);return n.eq(t)?!1:(e(r.update({selection:n})),!0)};function CH(r,e){let{main:t,ranges:n}=r.selection,i=r.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let l=!1,c=new Xo(r.doc,e,n[n.length-1].to);;)if(c.next(),c.done){if(l)return null;c=new Xo(r.doc,e,0,Math.max(0,n[n.length-1].from-1)),l=!0}else{if(l&&n.some(f=>f.from==c.value.from))continue;if(s){let f=r.wordAt(c.value.from);if(!f||f.from!=c.value.from||f.to!=c.value.to)continue}return c.value}}const AH=({state:r,dispatch:e})=>{let{ranges:t}=r.selection;if(t.some(s=>s.from===s.to))return EH({state:r,dispatch:e});let n=r.sliceDoc(t[0].from,t[0].to);if(r.selection.ranges.some(s=>r.sliceDoc(s.from,s.to)!=n))return!1;let i=CH(r,n);return i?(e(r.update({selection:r.selection.addRange(Oe.range(i.from,i.to),!1),effects:Ge.scrollIntoView(i.to)})),!0):!1},rc=Xe.define({combine(r){return xs(r,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new IH(e),scrollToMatch:e=>Ge.scrollIntoView(e)})}});class h_{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||hH(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new kH(this):new _H(this)}getCursor(e,t=0,n){let i=e.doc?e:kt.create({doc:e});return n==null&&(n=i.doc.length),this.regexp?Co(this,i,t,n):Eo(this,i,t,n)}}class d_{constructor(e){this.spec=e}}function Eo(r,e,t,n){return new Xo(e.doc,r.unquoted,t,n,r.caseSensitive?void 0:i=>i.toLowerCase(),r.wholeWord?TH(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function TH(r,e){return(t,n,i,s)=>((s>t||s+i.length<n)&&(s=Math.max(0,t-2),i=r.sliceString(s,Math.min(r.length,n+2))),(e(Pd(i,t-s))!=xr.Word||e(jd(i,t-s))!=xr.Word)&&(e(jd(i,n-s))!=xr.Word||e(Pd(i,n-s))!=xr.Word))}class _H extends d_{constructor(e){super(e)}nextMatch(e,t,n){let i=Eo(this.spec,e,n,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);i=Eo(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==n?null:i.value}prevMatchInRange(e,t,n){for(let i=n;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),l=Eo(this.spec,e,s,i),c=null;for(;!l.nextOverlapping().done;)c=l.value;if(c)return c;if(s==t)return null;i-=1e4}}prevMatch(e,t,n){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=n)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=Eo(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let s=Eo(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Co(r,e,t,n){return new f_(e.doc,r.search,{ignoreCase:!r.caseSensitive,test:r.wholeWord?DH(e.charCategorizer(e.selection.main.head)):void 0},t,n)}function Pd(r,e){return r.slice(cn(r,e,!1),e)}function jd(r,e){return r.slice(e,cn(r,e))}function DH(r){return(e,t,n)=>!n[0].length||(r(Pd(n.input,n.index))!=xr.Word||r(jd(n.input,n.index))!=xr.Word)&&(r(jd(n.input,n.index+n[0].length))!=xr.Word||r(Pd(n.input,n.index+n[0].length))!=xr.Word)}class kH extends d_{nextMatch(e,t,n){let i=Co(this.spec,e,n,e.doc.length).next();return i.done&&(i=Co(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,n){for(let i=1;;i++){let s=Math.max(t,n-i*1e4),l=Co(this.spec,e,s,n),c=null;for(;!l.next().done;)c=l.value;if(c&&(s==t||c.from>s+10))return c;if(s==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,n)=>{if(n=="&")return e.match[0];if(n=="$")return"$";for(let i=n.length;i>0;i--){let s=+n.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+n.slice(i)}return t})}matchAll(e,t){let n=Co(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let s=Co(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const V0=pt.define(),jv=pt.define(),Na=hn.define({create(r){return new vx(F1(r).create(),null)},update(r,e){for(let t of e.effects)t.is(V0)?r=new vx(t.value.create(),r.panel):t.is(jv)&&(r=new vx(r.query,t.value?zv:null));return r},provide:r=>j0.from(r,e=>e.panel)});class vx{constructor(e,t){this.query=e,this.panel=t}}const OH=st.mark({class:"cm-searchMatch"}),BH=st.mark({class:"cm-searchMatch cm-searchMatch-selected"}),NH=Dr.fromClass(class{constructor(r){this.view=r,this.decorations=this.highlight(r.state.field(Na))}update(r){let e=r.state.field(Na);(e!=r.startState.field(Na)||r.docChanged||r.selectionSet||r.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:r,panel:e}){if(!e||!r.spec.valid)return st.none;let{view:t}=this,n=new $s;for(let i=0,s=t.visibleRanges,l=s.length;i<l;i++){let{from:c,to:f}=s[i];for(;i<l-1&&f>s[i+1].from-500;)f=s[++i].to;r.highlight(t.state,c,f,(h,d)=>{let m=t.state.selection.ranges.some(g=>g.from==h&&g.to==d);n.add(h,d,m?BH:OH)})}return n.finish()}},{decorations:r=>r.decorations});function pf(r){return e=>{let t=e.state.field(Na,!1);return t&&t.query.spec.valid?r(e,t):g_(e)}}const zd=pf((r,{query:e})=>{let{to:t}=r.state.selection.main,n=e.nextMatch(r.state,t,t);if(!n)return!1;let i=Oe.single(n.from,n.to),s=r.state.facet(rc);return r.dispatch({selection:i,effects:[Hv(r,n),s.scrollToMatch(i.main,r)],userEvent:"select.search"}),m_(r),!0}),Hd=pf((r,{query:e})=>{let{state:t}=r,{from:n}=t.selection.main,i=e.prevMatch(t,n,n);if(!i)return!1;let s=Oe.single(i.from,i.to),l=r.state.facet(rc);return r.dispatch({selection:s,effects:[Hv(r,i),l.scrollToMatch(s.main,r)],userEvent:"select.search"}),m_(r),!0}),RH=pf((r,{query:e})=>{let t=e.matchAll(r.state,1e3);return!t||!t.length?!1:(r.dispatch({selection:Oe.create(t.map(n=>Oe.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),FH=({state:r,dispatch:e})=>{let t=r.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:n,to:i}=t.main,s=[],l=0;for(let c=new Xo(r.doc,r.sliceDoc(n,i));!c.next().done;){if(s.length>1e3)return!1;c.value.from==n&&(l=s.length),s.push(Oe.range(c.value.from,c.value.to))}return e(r.update({selection:Oe.create(s,l),userEvent:"select.search.matches"})),!0},XE=pf((r,{query:e})=>{let{state:t}=r,{from:n,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,n,n);if(!s)return!1;let l=s,c=[],f,h,d=[];l.from==n&&l.to==i&&(h=t.toText(e.getReplacement(l)),c.push({from:l.from,to:l.to,insert:h}),l=e.nextMatch(t,l.from,l.to),d.push(Ge.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(n).number)+".")));let m=r.state.changes(c);return l&&(f=Oe.single(l.from,l.to).map(m),d.push(Hv(r,l)),d.push(t.facet(rc).scrollToMatch(f.main,r))),r.dispatch({changes:m,selection:f,effects:d,userEvent:"input.replace"}),!0}),MH=pf((r,{query:e})=>{if(r.state.readOnly)return!1;let t=e.matchAll(r.state,1e9).map(i=>{let{from:s,to:l}=i;return{from:s,to:l,insert:e.getReplacement(i)}});if(!t.length)return!1;let n=r.state.phrase("replaced $ matches",t.length)+".";return r.dispatch({changes:t,effects:Ge.announce.of(n),userEvent:"input.replace.all"}),!0});function zv(r){return r.state.facet(rc).createPanel(r)}function F1(r,e){var t,n,i,s,l;let c=r.selection.main,f=c.empty||c.to>c.from+100?"":r.sliceDoc(c.from,c.to);if(e&&!f)return e;let h=r.facet(rc);return new h_({search:((t=e?.literal)!==null&&t!==void 0?t:h.literal)?f:f.replace(/\n/g,"\\n"),caseSensitive:(n=e?.caseSensitive)!==null&&n!==void 0?n:h.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:h.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:h.regexp,wholeWord:(l=e?.wholeWord)!==null&&l!==void 0?l:h.wholeWord})}function p_(r){let e=P0(r,zv);return e&&e.dom.querySelector("[main-field]")}function m_(r){let e=p_(r);e&&e==r.root.activeElement&&e.select()}const g_=r=>{let e=r.state.field(Na,!1);if(e&&e.panel){let t=p_(r);if(t&&t!=r.root.activeElement){let n=F1(r.state,e.query.spec);n.valid&&r.dispatch({effects:V0.of(n)}),t.focus(),t.select()}}else r.dispatch({effects:[jv.of(!0),e?V0.of(F1(r.state,e.query.spec)):pt.appendConfig.of(jH)]});return!0},x_=r=>{let e=r.state.field(Na,!1);if(!e||!e.panel)return!1;let t=P0(r,zv);return t&&t.dom.contains(r.root.activeElement)&&r.focus(),r.dispatch({effects:jv.of(!1)}),!0},LH=[{key:"Mod-f",run:g_,scope:"editor search-panel"},{key:"F3",run:zd,shift:Hd,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:zd,shift:Hd,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:x_,scope:"editor search-panel"},{key:"Mod-Shift-l",run:FH},{key:"Mod-Alt-g",run:dH},{key:"Mod-d",run:AH,preventDefault:!0}];class IH{constructor(e){this.view=e;let t=this.query=e.state.field(Na).query.spec;this.commit=this.commit.bind(this),this.searchField=ir("input",{value:t.search,placeholder:ri(e,"Find"),"aria-label":ri(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ir("input",{value:t.replace,placeholder:ri(e,"Replace"),"aria-label":ri(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=ir("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=ir("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=ir("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function n(i,s,l){return ir("button",{class:"cm-button",name:i,onclick:s,type:"button"},l)}this.dom=ir("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,n("next",()=>zd(e),[ri(e,"next")]),n("prev",()=>Hd(e),[ri(e,"previous")]),n("select",()=>RH(e),[ri(e,"all")]),ir("label",null,[this.caseField,ri(e,"match case")]),ir("label",null,[this.reField,ri(e,"regexp")]),ir("label",null,[this.wordField,ri(e,"by word")]),...e.state.readOnly?[]:[ir("br"),this.replaceField,n("replace",()=>XE(e),[ri(e,"replace")]),n("replaceAll",()=>MH(e),[ri(e,"replace all")])],ir("button",{name:"close",onclick:()=>x_(e),"aria-label":ri(e,"close"),type:"button"},[""])])}commit(){let e=new h_({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:V0.of(e)}))}keydown(e){VI(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Hd:zd)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),XE(this.view))}update(e){for(let t of e.transactions)for(let n of t.effects)n.is(V0)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(rc).top}}function ri(r,e){return r.state.phrase(e)}const ih=30,sh=/[\s\.,:;?!]/;function Hv(r,{from:e,to:t}){let n=r.state.doc.lineAt(e),i=r.state.doc.lineAt(t).to,s=Math.max(n.from,e-ih),l=Math.min(i,t+ih),c=r.state.sliceDoc(s,l);if(s!=n.from){for(let f=0;f<ih;f++)if(!sh.test(c[f+1])&&sh.test(c[f])){c=c.slice(f);break}}if(l!=i){for(let f=c.length-1;f>c.length-ih;f--)if(!sh.test(c[f-1])&&sh.test(c[f])){c=c.slice(0,f);break}}return Ge.announce.of(`${r.state.phrase("current match")}. ${c} ${r.state.phrase("on line")} ${n.number}.`)}const PH=Ge.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),jH=[Na,Il.low(NH),PH];class v_{constructor(e,t,n,i){this.state=e,this.pos=t,this.explicit=n,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Kr(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),i=t.text.slice(n-t.from,this.pos-t.from),s=i.search(b_(e,!1));return s<0?null:{from:n+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,n){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function YE(r){let e=Object.keys(r).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function zH(r){let e=Object.create(null),t=Object.create(null);for(let{label:i}of r){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let n=YE(e)+YE(t)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function y_(r){let e=r.map(i=>typeof i=="string"?{label:i}:i),[t,n]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:zH(e);return i=>{let s=i.matchBefore(n);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function HH(r,e){return t=>{for(let n=Kr(t.state).resolveInner(t.pos,-1);n;n=n.parent){if(r.indexOf(n.name)>-1)return null;if(n.type.isTop)break}return e(t)}}class KE{constructor(e,t,n,i){this.completion=e,this.source=t,this.match=n,this.score=i}}function Sl(r){return r.selection.main.from}function b_(r,e){var t;let{source:n}=r,i=e&&n[0]!="^",s=n[n.length-1]!="$";return!i&&!s?r:new RegExp(`${i?"^":""}(?:${n})${s?"$":""}`,(t=r.flags)!==null&&t!==void 0?t:r.ignoreCase?"i":"")}const S_=gs.define();function UH(r,e,t,n){let{main:i}=r.selection,s=t-i.from,l=n-i.from;return{...r.changeByRange(c=>{if(c!=i&&t!=n&&r.sliceDoc(c.from+s,c.from+l)!=r.sliceDoc(t,n))return{range:c};let f=r.toText(e);return{changes:{from:c.from+s,to:n==i.from?c.to:c.from+l,insert:f},range:Oe.cursor(c.from+s+f.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const QE=new WeakMap;function VH(r){if(!Array.isArray(r))return r;let e=QE.get(r);return e||QE.set(r,e=y_(r)),e}const Ud=pt.define(),q0=pt.define();class qH{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=zn(e,t),i=cs(n);this.chars.push(n);let s=e.slice(t,t+i),l=s.toUpperCase();this.folded.push(zn(l==s?s.toLowerCase():l,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:i,precise:s,byWord:l}=this;if(t.length==1){let A=zn(e,0),E=cs(A),_=E==e.length?0:-100;if(A!=t[0])if(A==n[0])_+=-200;else return null;return this.ret(_,[0,E])}let c=e.indexOf(this.pattern);if(c==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let f=t.length,h=0;if(c<0){for(let A=0,E=Math.min(e.length,200);A<E&&h<f;){let _=zn(e,A);(_==t[h]||_==n[h])&&(i[h++]=A),A+=cs(_)}if(h<f)return null}let d=0,m=0,g=!1,x=0,b=-1,S=-1,w=/[a-z]/.test(e),T=!0;for(let A=0,E=Math.min(e.length,200),_=0;A<E&&m<f;){let B=zn(e,A);c<0&&(d<f&&B==t[d]&&(s[d++]=A),x<f&&(B==t[x]||B==n[x]?(x==0&&(b=A),S=A+1,x++):x=0));let F,O=B<255?B>=48&&B<=57||B>=97&&B<=122?2:B>=65&&B<=90?1:0:(F=pv(B))!=F.toLowerCase()?1:F!=F.toUpperCase()?2:0;(!A||O==1&&w||_==0&&O!=0)&&(t[m]==B||n[m]==B&&(g=!0)?l[m++]=A:l.length&&(T=!1)),_=O,A+=cs(B)}return m==f&&l[0]==0&&T?this.result(-100+(g?-200:0),l,e):x==f&&b==0?this.ret(-200-e.length+(S==e.length?0:-100),[0,S]):c>-1?this.ret(-700-e.length,[c,c+this.pattern.length]):x==f?this.ret(-900-e.length,[b,S]):m==f?this.result(-100+(g?-200:0)+-700+(T?0:-1100),l,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,n){let i=[],s=0;for(let l of t){let c=l+(this.astral?cs(zn(n,l)):1);s&&i[s-1]==l?i[s-1]=c:(i[s++]=l,i[s++]=c)}return this.ret(e-n.length,i)}}class WH{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),n=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,t.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const $r=Xe.define({combine(r){return xs(r,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:GH,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>ZE(e(n),t(n)),optionClass:(e,t)=>n=>ZE(e(n),t(n)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function ZE(r,e){return r?e?r+" "+e:r:e}function GH(r,e,t,n,i,s){let l=r.textDirection==hr.RTL,c=l,f=!1,h="top",d,m,g=e.left-i.left,x=i.right-e.right,b=n.right-n.left,S=n.bottom-n.top;if(c&&g<Math.min(b,x)?c=!1:!c&&x<Math.min(b,g)&&(c=!0),b<=(c?g:x))d=Math.max(i.top,Math.min(t.top,i.bottom-S))-e.top,m=Math.min(400,c?g:x);else{f=!0,m=Math.min(400,(l?e.right:i.right-e.left)-30);let A=i.bottom-e.bottom;A>=S||A>e.top?d=t.bottom-e.top:(h="bottom",d=e.bottom-t.top)}let w=(e.bottom-e.top)/s.offsetHeight,T=(e.right-e.left)/s.offsetWidth;return{style:`${h}: ${d/w}px; max-width: ${m/T}px`,class:"cm-completionInfo-"+(f?l?"left-narrow":"right-narrow":c?"left":"right")}}function $H(r){let e=r.addToOptions.slice();return r.icons&&e.push({render(t){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),t.type&&n.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(t,n,i,s){let l=document.createElement("span");l.className="cm-completionLabel";let c=t.displayLabel||t.label,f=0;for(let h=0;h<s.length;){let d=s[h++],m=s[h++];d>f&&l.appendChild(document.createTextNode(c.slice(f,d)));let g=l.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(c.slice(d,m))),g.className="cm-completionMatchedText",f=m}return f<c.length&&l.appendChild(document.createTextNode(c.slice(f))),l},position:50},{render(t){if(!t.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=t.detail,n},position:80}),e.sort((t,n)=>t.position-n.position).map(t=>t.render)}function yx(r,e,t){if(r<=t)return{from:0,to:r};if(e<0&&(e=0),e<=r>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let n=Math.floor((r-e)/t);return{from:r-(n+1)*t,to:r-n*t}}class XH{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:f=>this.placeInfo(f),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:l}=i.open,c=e.state.facet($r);this.optionContent=$H(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=yx(s.length,l,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",f=>{let{options:h}=e.state.field(t).open;for(let d=f.target,m;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(m=/-(\d+)$/.exec(d.id))&&+m[1]<h.length){this.applyCompletion(e,h[+m[1]]),f.preventDefault();return}}),this.dom.addEventListener("focusout",f=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet($r).closeOnBlur&&f.relatedTarget!=e.contentDOM&&e.dispatch({effects:q0.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let n=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=i){let{options:s,selected:l,disabled:c}=n.open;(!i.open||i.open.options!=s)&&(this.range=yx(s.length,l,e.state.facet($r).maxRenderedOptions),this.showOptions(s,n.id)),this.updateSel(),c!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of t.split(" "))n&&this.dom.classList.add(n);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=yx(t.options.length,t.selected,this.view.state.facet($r).maxRenderedOptions),this.showOptions(t.options,e.id));let n=this.updateSelectedOption(t.selected);if(n){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:s}=i;if(!s)return;let l=typeof s=="string"?document.createTextNode(s):s(i);if(!l)return;"then"in l?l.then(c=>{c&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(c,i)}).catch(c=>Un(this.view.state,c,"completion info")):(this.addInfoPane(l,i),n.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",n.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;n.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)n.nodeName!="LI"||!n.id?i--:i==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&(n.removeAttribute("aria-selected"),n.removeAttribute("aria-describedby"));return t&&KH(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let l=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:l.clientWidth,bottom:l.clientHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet($r).positionInfo(this.view,t,i,n,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",l=>{l.target==i&&l.preventDefault()});let s=null;for(let l=n.from;l<n.to;l++){let{completion:c,match:f}=e[l],{section:h}=c;if(h){let g=typeof h=="string"?h:h.name;if(g!=s&&(l>n.from||n.from==0))if(s=g,typeof h!="string"&&h.header)i.appendChild(h.header(h));else{let x=i.appendChild(document.createElement("completion-section"));x.textContent=g}}const d=i.appendChild(document.createElement("li"));d.id=t+"-"+l,d.setAttribute("role","option");let m=this.optionClass(c);m&&(d.className=m);for(let g of this.optionContent){let x=g(c,this.view.state,this.view,f);x&&d.appendChild(x)}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function YH(r,e){return t=>new XH(t,r,e)}function KH(r,e){let t=r.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.height/r.offsetHeight;n.top<t.top?r.scrollTop-=(t.top-n.top)/i:n.bottom>t.bottom&&(r.scrollTop+=(n.bottom-t.bottom)/i)}function JE(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function QH(r,e){let t=[],n=null,i=null,s=d=>{t.push(d);let{section:m}=d.completion;if(m){n||(n=[]);let g=typeof m=="string"?m:m.name;n.some(x=>x.name==g)||n.push(typeof m=="string"?{name:g}:m)}},l=e.facet($r);for(let d of r)if(d.hasResult()){let m=d.result.getMatch;if(d.result.filter===!1)for(let g of d.result.options)s(new KE(g,d.source,m?m(g):[],1e9-t.length));else{let g=e.sliceDoc(d.from,d.to),x,b=l.filterStrict?new WH(g):new qH(g);for(let S of d.result.options)if(x=b.match(S.label)){let w=S.displayLabel?m?m(S,x.matched):[]:x.matched,T=x.score+(S.boost||0);if(s(new KE(S,d.source,w,T)),typeof S.section=="object"&&S.section.rank==="dynamic"){let{name:A}=S.section;i||(i=Object.create(null)),i[A]=Math.max(T,i[A]||-1e9)}}}}if(n){let d=Object.create(null),m=0,g=(x,b)=>(x.rank==="dynamic"&&b.rank==="dynamic"?i[b.name]-i[x.name]:0)||(typeof x.rank=="number"?x.rank:1e9)-(typeof b.rank=="number"?b.rank:1e9)||(x.name<b.name?-1:1);for(let x of n.sort(g))m-=1e5,d[x.name]=m;for(let x of t){let{section:b}=x.completion;b&&(x.score+=d[typeof b=="string"?b:b.name])}}let c=[],f=null,h=l.compareCompletions;for(let d of t.sort((m,g)=>g.score-m.score||h(m.completion,g.completion))){let m=d.completion;!f||f.label!=m.label||f.detail!=m.detail||f.type!=null&&m.type!=null&&f.type!=m.type||f.apply!=m.apply||f.boost!=m.boost?c.push(d):JE(d.completion)>JE(f)&&(c[c.length-1]=d),f=d.completion}return c}class ko{constructor(e,t,n,i,s,l){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=i,this.selected=s,this.disabled=l}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new ko(this.options,eC(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,i,s,l){if(i&&!l&&e.some(h=>h.isPending))return i.setDisabled();let c=QH(e,t);if(!c.length)return i&&e.some(h=>h.isPending)?i.setDisabled():null;let f=t.facet($r).selectOnOpen?0:-1;if(i&&i.selected!=f&&i.selected!=-1){let h=i.options[i.selected].completion;for(let d=0;d<c.length;d++)if(c[d].completion==h){f=d;break}}return new ko(c,eC(n,f),{pos:e.reduce((h,d)=>d.hasResult()?Math.min(h,d.from):h,1e8),create:nU,above:s.aboveCursor},i?i.timestamp:Date.now(),f,!1)}map(e){return new ko(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new ko(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Vd{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new Vd(tU,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,n=t.facet($r),s=(n.override||t.languageDataAt("autocomplete",Sl(t)).map(VH)).map(f=>(this.active.find(d=>d.source==f)||new ki(f,this.active.some(d=>d.state!=0)?1:0)).update(e,n));s.length==this.active.length&&s.every((f,h)=>f==this.active[h])&&(s=this.active);let l=this.open,c=e.effects.some(f=>f.is(Uv));l&&e.docChanged&&(l=l.map(e.changes)),e.selection||s.some(f=>f.hasResult()&&e.changes.touchesRange(f.from,f.to))||!ZH(s,this.active)||c?l=ko.build(s,t,this.id,l,n,c):l&&l.disabled&&!s.some(f=>f.isPending)&&(l=null),!l&&s.every(f=>!f.isPending)&&s.some(f=>f.hasResult())&&(s=s.map(f=>f.hasResult()?new ki(f.source,0):f));for(let f of e.effects)f.is(E_)&&(l=l&&l.setSelected(f.value,this.id));return s==this.active&&l==this.open?this:new Vd(s,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?JH:eU}}function ZH(r,e){if(r==e)return!0;for(let t=0,n=0;;){for(;t<r.length&&!r[t].hasResult();)t++;for(;n<e.length&&!e[n].hasResult();)n++;let i=t==r.length,s=n==e.length;if(i||s)return i==s;if(r[t++].result!=e[n++].result)return!1}}const JH={"aria-autocomplete":"list"},eU={};function eC(r,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":r};return e>-1&&(t["aria-activedescendant"]=r+"-"+e),t}const tU=[];function w_(r,e){if(r.isUserEvent("input.complete")){let n=r.annotation(S_);if(n&&e.activateOnCompletion(n))return 12}let t=r.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:r.isUserEvent("delete.backward")?2:r.selection?8:r.docChanged?16:0}class ki{constructor(e,t,n=!1){this.source=e,this.state=t,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let n=w_(e,t),i=this;(n&8||n&16&&this.touches(e))&&(i=new ki(i.source,0)),n&4&&i.state==0&&(i=new ki(this.source,1)),i=i.updateFor(e,n);for(let s of e.effects)if(s.is(Ud))i=new ki(i.source,1,s.value);else if(s.is(q0))i=new ki(i.source,0);else if(s.is(Uv))for(let l of s.value)l.source==i.source&&(i=l);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Sl(e.state))}}class Po extends ki{constructor(e,t,n,i,s,l){super(e,3,t),this.limit=n,this.result=i,this.from=s,this.to=l}hasResult(){return!0}updateFor(e,t){var n;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),c=Sl(e.state);if(c>l||!i||t&2&&(Sl(e.startState)==this.from||c<this.limit))return new ki(this.source,t&4?1:0);let f=e.changes.mapPos(this.limit);return rU(i.validFor,e.state,s,l)?new Po(this.source,this.explicit,f,i,s,l):i.update&&(i=i.update(i,s,l,new v_(e.state,c,!1)))?new Po(this.source,this.explicit,f,i,i.from,(n=i.to)!==null&&n!==void 0?n:Sl(e.state)):new ki(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Po(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ki(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function rU(r,e,t,n){if(!r)return!1;let i=e.sliceDoc(t,n);return typeof r=="function"?r(i,t,n,e):b_(r,!0).test(i)}const Uv=pt.define({map(r,e){return r.map(t=>t.map(e))}}),E_=pt.define(),Hn=hn.define({create(){return Vd.start()},update(r,e){return r.update(e)},provide:r=>[Dv.from(r,e=>e.tooltip),Ge.contentAttributes.from(r,e=>e.attrs)]});function Vv(r,e){const t=e.completion.apply||e.completion.label;let n=r.state.field(Hn).active.find(i=>i.source==e.source);return n instanceof Po?(typeof t=="string"?r.dispatch({...UH(r.state,t,n.from,n.to),annotations:S_.of(e.completion)}):t(r,e.completion,n.from,n.to),!0):!1}const nU=YH(Hn,Vv);function ah(r,e="option"){return t=>{let n=t.state.field(Hn,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<t.state.facet($r).interactionDelay)return!1;let i=1,s;e=="page"&&(s=r8(t,n.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:l}=n.open.options,c=n.open.selected>-1?n.open.selected+i*(r?1:-1):r?0:l-1;return c<0?c=e=="page"?0:l-1:c>=l&&(c=e=="page"?l-1:0),t.dispatch({effects:E_.of(c)}),!0}}const iU=r=>{let e=r.state.field(Hn,!1);return r.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<r.state.facet($r).interactionDelay?!1:Vv(r,e.open.options[e.open.selected])},bx=r=>r.state.field(Hn,!1)?(r.dispatch({effects:Ud.of(!0)}),!0):!1,sU=r=>{let e=r.state.field(Hn,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(r.dispatch({effects:q0.of(null)}),!0)};class aU{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const lU=50,oU=1e3,cU=Dr.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of r.state.field(Hn).active)e.isPending&&this.startQuery(e)}update(r){let e=r.state.field(Hn),t=r.state.facet($r);if(!r.selectionSet&&!r.docChanged&&r.startState.field(Hn)==e)return;let n=r.transactions.some(s=>{let l=w_(s,t);return l&8||(s.selection||s.docChanged)&&!(l&3)});for(let s=0;s<this.running.length;s++){let l=this.running[s];if(n||l.context.abortOnDocChange&&r.docChanged||l.updates.length+r.transactions.length>lU&&Date.now()-l.time>oU){for(let c of l.context.abortListeners)try{c()}catch(f){Un(this.view.state,f)}l.context.abortListeners=null,this.running.splice(s--,1)}else l.updates.push(...r.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),r.transactions.some(s=>s.effects.some(l=>l.is(Ud)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(l=>l.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of r.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:r}=this.view,e=r.field(Hn);for(let t of e.active)t.isPending&&!this.running.some(n=>n.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet($r).updateSyncTime))}startQuery(r){let{state:e}=this.view,t=Sl(e),n=new v_(e,t,r.explicit,this.view),i=new aU(r,n);this.running.push(i),Promise.resolve(r.source(n)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:q0.of(null)}),Un(this.view.state,s)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet($r).updateSyncTime))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet($r),n=this.view.state.field(Hn);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let c=Sl(s.updates.length?s.updates[0].startState:this.view.state),f=Math.min(c,s.done.from+(s.active.explicit?0:1)),h=new Po(s.active.source,s.active.explicit,f,s.done,s.done.from,(r=s.done.to)!==null&&r!==void 0?r:c);for(let d of s.updates)h=h.update(d,t);if(h.hasResult()){e.push(h);continue}}let l=n.active.find(c=>c.source==s.active.source);if(l&&l.isPending)if(s.done==null){let c=new ki(s.active.source,0);for(let f of s.updates)c=c.update(f,t);c.isPending||e.push(c)}else this.startQuery(l)}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:Uv.of(e)})}},{eventHandlers:{blur(r){let e=this.view.state.field(Hn,!1);if(e&&e.tooltip&&this.view.state.facet($r).closeOnBlur){let t=e.open&&r8(this.view,e.open.tooltip);(!t||!t.dom.contains(r.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:q0.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Ud.of(!1)}),20),this.composing=0}}}),fU=typeof navigator=="object"&&/Win/.test(navigator.platform),uU=Il.highest(Ge.domEventHandlers({keydown(r,e){let t=e.state.field(Hn,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||r.key.length>1||r.ctrlKey&&!(fU&&r.altKey)||r.metaKey)return!1;let n=t.open.options[t.open.selected],i=t.active.find(l=>l.source==n.source),s=n.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(r.key)>-1&&Vv(e,n),!1}})),hU=Ge.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),W0={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},vl=pt.define({map(r,e){let t=e.mapPos(r,-1,_n.TrackAfter);return t??void 0}}),qv=new class extends Al{};qv.startSide=1;qv.endSide=-1;const C_=hn.define({create(){return Nt.empty},update(r,e){if(r=r.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);r=r.update({filter:n=>n>=t.from&&n<=t.to})}for(let t of e.effects)t.is(vl)&&(r=r.update({add:[qv.range(t.value,t.value+1)]}));return r}});function dU(){return[mU,C_]}const Sx="()[]{}<>";function A_(r){for(let e=0;e<Sx.length;e+=2)if(Sx.charCodeAt(e)==r)return Sx.charAt(e+1);return pv(r<128?r:r+1)}function T_(r,e){return r.languageDataAt("closeBrackets",e)[0]||W0}const pU=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),mU=Ge.inputHandler.of((r,e,t,n)=>{if((pU?r.composing:r.compositionStarted)||r.state.readOnly)return!1;let i=r.state.selection.main;if(n.length>2||n.length==2&&cs(zn(n,0))==1||e!=i.from||t!=i.to)return!1;let s=vU(r.state,n);return s?(r.dispatch(s),!0):!1}),gU=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let n=T_(r,r.selection.main.head).brackets||W0.brackets,i=null,s=r.changeByRange(l=>{if(l.empty){let c=yU(r.doc,l.head);for(let f of n)if(f==c&&Sp(r.doc,l.head)==A_(zn(f,0)))return{changes:{from:l.head-f.length,to:l.head+f.length},range:Oe.cursor(l.head-f.length)}}return{range:i=l}});return i||e(r.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},xU=[{key:"Backspace",run:gU}];function vU(r,e){let t=T_(r,r.selection.main.head),n=t.brackets||W0.brackets;for(let i of n){let s=A_(zn(i,0));if(e==i)return s==i?wU(r,i,n.indexOf(i+i+i)>-1,t):bU(r,i,s,t.before||W0.before);if(e==s&&__(r,r.selection.main.from))return SU(r,i,s)}return null}function __(r,e){let t=!1;return r.field(C_).between(0,r.doc.length,n=>{n==e&&(t=!0)}),t}function Sp(r,e){let t=r.sliceString(e,e+2);return t.slice(0,cs(zn(t,0)))}function yU(r,e){let t=r.sliceString(e-2,e);return cs(zn(t,0))==t.length?t:t.slice(1)}function bU(r,e,t,n){let i=null,s=r.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:t,from:l.to}],effects:vl.of(l.to+e.length),range:Oe.range(l.anchor+e.length,l.head+e.length)};let c=Sp(r.doc,l.head);return!c||/\s/.test(c)||n.indexOf(c)>-1?{changes:{insert:e+t,from:l.head},effects:vl.of(l.head+e.length),range:Oe.cursor(l.head+e.length)}:{range:i=l}});return i?null:r.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function SU(r,e,t){let n=null,i=r.changeByRange(s=>s.empty&&Sp(r.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:Oe.cursor(s.head+t.length)}:n={range:s});return n?null:r.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function wU(r,e,t,n){let i=n.stringPrefixes||W0.stringPrefixes,s=null,l=r.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:e,from:c.to}],effects:vl.of(c.to+e.length),range:Oe.range(c.anchor+e.length,c.head+e.length)};let f=c.head,h=Sp(r.doc,f),d;if(h==e){if(tC(r,f))return{changes:{insert:e+e,from:f},effects:vl.of(f+e.length),range:Oe.cursor(f+e.length)};if(__(r,f)){let g=t&&r.sliceDoc(f,f+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:f,to:f+g.length,insert:g},range:Oe.cursor(f+g.length)}}}else{if(t&&r.sliceDoc(f-2*e.length,f)==e+e&&(d=rC(r,f-2*e.length,i))>-1&&tC(r,d))return{changes:{insert:e+e+e+e,from:f},effects:vl.of(f+e.length),range:Oe.cursor(f+e.length)};if(r.charCategorizer(f)(h)!=xr.Word&&rC(r,f,i)>-1&&!EU(r,f,e,i))return{changes:{insert:e+e,from:f},effects:vl.of(f+e.length),range:Oe.cursor(f+e.length)}}return{range:s=c}});return s?null:r.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function tC(r,e){let t=Kr(r).resolveInner(e+1);return t.parent&&t.from==e}function EU(r,e,t,n){let i=Kr(r).resolveInner(e,-1),s=n.reduce((l,c)=>Math.max(l,c.length),0);for(let l=0;l<5;l++){let c=r.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),f=c.indexOf(t);if(!f||f>-1&&n.indexOf(c.slice(0,f))>-1){let d=i.firstChild;for(;d&&d.from==i.from&&d.to-d.from>t.length+f;){if(r.sliceDoc(d.to-t.length,d.to)==t)return!1;d=d.firstChild}return!0}let h=i.to==e&&i.parent;if(!h)break;i=h}return!1}function rC(r,e,t){let n=r.charCategorizer(e);if(n(r.sliceDoc(e-1,e))!=xr.Word)return e;for(let i of t){let s=e-i.length;if(r.sliceDoc(s,e)==i&&n(r.sliceDoc(s-1,s))!=xr.Word)return s}return-1}function D_(r={}){return[uU,Hn,$r.of(r),cU,CU,hU]}const k_=[{key:"Ctrl-Space",run:bx},{mac:"Alt-`",run:bx},{mac:"Alt-i",run:bx},{key:"Escape",run:sU},{key:"ArrowDown",run:ah(!0)},{key:"ArrowUp",run:ah(!1)},{key:"PageDown",run:ah(!0,"page")},{key:"PageUp",run:ah(!1,"page")},{key:"Enter",run:iU}],CU=Il.highest(hp.computeN([$r],r=>r.facet($r).defaultKeymap?[k_]:[]));class nC{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class pl{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let i=n.facet(G0).markerFilter;i&&(e=i(e,n));let s=e.slice().sort((x,b)=>x.from-b.from||x.to-b.to),l=new $s,c=[],f=0,h=n.doc.iter(),d=0,m=n.doc.length;for(let x=0;;){let b=x==s.length?null:s[x];if(!b&&!c.length)break;let S,w;if(c.length)S=f,w=c.reduce((E,_)=>Math.min(E,_.to),b&&b.from>S?b.from:1e8);else{if(S=b.from,S>m)break;w=b.to,c.push(b),x++}for(;x<s.length;){let E=s[x];if(E.from==S&&(E.to>E.from||E.to==S))c.push(E),x++,w=Math.min(E.to,w);else{w=Math.min(E.from,w);break}}w=Math.min(w,m);let T=!1;if(c.some(E=>E.from==S&&(E.to==w||w==m))&&(T=S==w,!T&&w-S<10)){let E=S-(d+h.value.length);E>0&&(h.next(E),d=S);for(let _=S;;){if(_>=w){T=!0;break}if(!h.lineBreak&&d+h.value.length>_)break;_=d+h.value.length,d+=h.value.length,h.next()}}let A=IU(c);if(T)l.add(S,S,st.widget({widget:new RU(A),diagnostics:c.slice()}));else{let E=c.reduce((_,B)=>B.markClass?_+" "+B.markClass:_,"");l.add(S,w,st.mark({class:"cm-lintRange cm-lintRange-"+A+E,diagnostics:c.slice(),inclusiveEnd:c.some(_=>_.to>w)}))}if(f=w,f==m)break;for(let E=0;E<c.length;E++)c[E].to<=f&&c.splice(E--,1)}let g=l.finish();return new pl(g,t,Yo(g))}}function Yo(r,e=null,t=0){let n=null;return r.between(t,1e9,(i,s,{spec:l})=>{if(!(e&&l.diagnostics.indexOf(e)<0))if(!n)n=new nC(i,s,e||l.diagnostics[0]);else{if(l.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new nC(n.from,s,n.diagnostic)}}),n}function AU(r,e){let t=e.pos,n=e.end||t,i=r.state.facet(G0).hideOn(r,t,n);if(i!=null)return i;let s=r.startState.doc.lineAt(e.pos);return!!(r.effects.some(l=>l.is(O_))||r.changes.touchesRange(s.from,Math.max(s.to,n)))}function TU(r,e){return r.field(ci,!1)?e:e.concat(pt.appendConfig.of(PU))}const O_=pt.define(),Wv=pt.define(),B_=pt.define(),ci=hn.define({create(){return new pl(st.none,null,null)},update(r,e){if(e.docChanged&&r.diagnostics.size){let t=r.diagnostics.map(e.changes),n=null,i=r.panel;if(r.selected){let s=e.changes.mapPos(r.selected.from,1);n=Yo(t,r.selected.diagnostic,s)||Yo(t,null,s)}!t.size&&i&&e.state.facet(G0).autoPanel&&(i=null),r=new pl(t,i,n)}for(let t of e.effects)if(t.is(O_)){let n=e.state.facet(G0).autoPanel?t.value.length?$0.open:null:r.panel;r=pl.init(t.value,n,e.state)}else t.is(Wv)?r=new pl(r.diagnostics,t.value?$0.open:null,r.selected):t.is(B_)&&(r=new pl(r.diagnostics,r.panel,t.value));return r},provide:r=>[j0.from(r,e=>e.panel),Ge.decorations.from(r,e=>e.diagnostics)]}),_U=st.mark({class:"cm-lintRange cm-lintRange-active"});function DU(r,e,t){let{diagnostics:n}=r.state.field(ci),i,s=-1,l=-1;n.between(e-(t<0?1:0),e+(t>0?1:0),(f,h,{spec:d})=>{if(e>=f&&e<=h&&(f==h||(e>f||t>0)&&(e<h||t<0)))return i=d.diagnostics,s=f,l=h,!1});let c=r.state.facet(G0).tooltipFilter;return i&&c&&(i=c(i,r.state)),i?{pos:s,end:l,above:r.state.doc.lineAt(s).to<l,create(){return{dom:kU(r,i)}}}:null}function kU(r,e){return ir("ul",{class:"cm-tooltip-lint"},e.map(t=>R_(r,t,!1)))}const OU=r=>{let e=r.state.field(ci,!1);(!e||!e.panel)&&r.dispatch({effects:TU(r.state,[Wv.of(!0)])});let t=P0(r,$0.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},iC=r=>{let e=r.state.field(ci,!1);return!e||!e.panel?!1:(r.dispatch({effects:Wv.of(!1)}),!0)},BU=r=>{let e=r.state.field(ci,!1);if(!e)return!1;let t=r.state.selection.main,n=e.diagnostics.iter(t.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==t.from&&n.to==t.to)?!1:(r.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},NU=[{key:"Mod-Shift-m",run:OU,preventDefault:!0},{key:"F8",run:BU}],G0=Xe.define({combine(r){return{sources:r.map(e=>e.source).filter(e=>e!=null),...xs(r.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:sC,tooltipFilter:sC,needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t,hideOn:(e,t)=>e?t?(n,i,s)=>e(n,i,s)||t(n,i,s):e:t,autoPanel:(e,t)=>e||t})}}});function sC(r,e){return r?e?(t,n)=>e(r(t,n),n):r:e}function N_(r){let e=[];if(r)e:for(let{name:t}of r){for(let n=0;n<t.length;n++){let i=t[n];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function R_(r,e,t){var n;let i=t?N_(e.actions):[];return ir("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},ir("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(r):e.message),(n=e.actions)===null||n===void 0?void 0:n.map((s,l)=>{let c=!1,f=x=>{if(x.preventDefault(),c)return;c=!0;let b=Yo(r.state.field(ci).diagnostics,e);b&&s.apply(r,b.from,b.to)},{name:h}=s,d=i[l]?h.indexOf(i[l]):-1,m=d<0?h:[h.slice(0,d),ir("u",h.slice(d,d+1)),h.slice(d+1)],g=s.markClass?" "+s.markClass:"";return ir("button",{type:"button",class:"cm-diagnosticAction"+g,onclick:f,onmousedown:f,"aria-label":` Action: ${h}${d<0?"":` (access key "${i[l]})"`}.`},m)}),e.source&&ir("div",{class:"cm-diagnosticSource"},e.source))}class RU extends Qs{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return ir("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class aC{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=R_(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class $0{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)iC(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],l=N_(s.actions);for(let c=0;c<l.length;c++)if(l[c].toUpperCase().charCodeAt(0)==i.keyCode){let f=Yo(this.view.state.field(ci).diagnostics,s);f&&s.actions[c].apply(e,f.from,f.to)}}else return;i.preventDefault()},n=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=ir("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:n}),this.dom=ir("div",{class:"cm-panel-lint"},this.list,ir("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>iC(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(ci).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(ci),n=0,i=!1,s=null,l=new Set;for(e.between(0,this.view.state.doc.length,(c,f,{spec:h})=>{for(let d of h.diagnostics){if(l.has(d))continue;l.add(d);let m=-1,g;for(let x=n;x<this.items.length;x++)if(this.items[x].diagnostic==d){m=x;break}m<0?(g=new aC(this.view,d),this.items.splice(n,0,g),i=!0):(g=this.items[m],m>n&&(this.items.splice(n,m-n),i=!0)),t&&g.diagnostic==t.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),s=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new aC(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:c,panel:f})=>{let h=f.height/this.list.offsetHeight;c.top<f.top?this.list.scrollTop-=(f.top-c.top)/h:c.bottom>f.bottom&&(this.list.scrollTop+=(c.bottom-f.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(ci),n=Yo(t.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:B_.of(n)})}static open(e){return new $0(e)}}function FU(r,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(r)}</svg>')`}function lh(r){return FU(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${r}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const MU=Ge.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:lh("#d11")},".cm-lintRange-warning":{backgroundImage:lh("orange")},".cm-lintRange-info":{backgroundImage:lh("#999")},".cm-lintRange-hint":{backgroundImage:lh("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function LU(r){return r=="error"?4:r=="warning"?3:r=="info"?2:1}function IU(r){let e="hint",t=1;for(let n of r){let i=LU(n.severity);i>t&&(t=i,e=n.severity)}return e}const PU=[ci,Ge.decorations.compute([ci],r=>{let{selected:e,panel:t}=r.field(ci);return!e||!t||e.from==e.to?st.none:st.set([_U.range(e.from,e.to)])}),BP(DU,{hideOn:AU}),MU];var lC=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,n=[];e.closeBracketsKeymap!==!1&&(n=n.concat(xU)),e.defaultKeymap!==!1&&(n=n.concat(fH)),e.searchKeymap!==!1&&(n=n.concat(LH)),e.historyKeymap!==!1&&(n=n.concat(xz)),e.foldKeymap!==!1&&(n=n.concat(Bj)),e.completionKeymap!==!1&&(n=n.concat(k_)),e.lintKeymap!==!1&&(n=n.concat(NU));var i=[];return e.lineNumbers!==!1&&i.push(UP()),e.highlightActiveLineGutter!==!1&&i.push(WP()),e.highlightSpecialChars!==!1&&i.push(aP()),e.history!==!1&&i.push(oz()),e.foldGutter!==!1&&i.push(Mj()),e.drawSelection!==!1&&i.push(YI()),e.dropCursor!==!1&&i.push(eP()),e.allowMultipleSelections!==!1&&i.push(kt.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(wj()),e.syntaxHighlighting!==!1&&i.push(T8(jj,{fallback:!0})),e.bracketMatching!==!1&&i.push(Gj()),e.closeBrackets!==!1&&i.push(dU()),e.autocompletion!==!1&&i.push(D_()),e.rectangularSelection!==!1&&i.push(bP()),t!==!1&&i.push(EP()),e.highlightActiveLine!==!1&&i.push(hP()),e.highlightSelectionMatches!==!1&&i.push(xH()),e.tabSize&&typeof e.tabSize=="number"&&i.push(pp.of(" ".repeat(e.tabSize))),i.concat([hp.of(n.flat())]).filter(Boolean)};const jU="#e5c07b",oC="#e06c75",zU="#56b6c2",HU="#ffffff",nd="#abb2bf",M1="#7d8799",UU="#61afef",VU="#98c379",cC="#d19a66",qU="#c678dd",WU="#21252b",fC="#2c313a",uC="#282c34",wx="#353a42",GU="#3E4451",hC="#528bff",$U=Ge.theme({"&":{color:nd,backgroundColor:uC},".cm-content":{caretColor:hC},".cm-cursor, .cm-dropCursor":{borderLeftColor:hC},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:GU},".cm-panels":{backgroundColor:WU,color:nd},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:uC,color:M1,border:"none"},".cm-activeLineGutter":{backgroundColor:fC},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:wx},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:wx,borderBottomColor:wx},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:fC,color:nd}}},{dark:!0}),XU=hf.define([{tag:me.keyword,color:qU},{tag:[me.name,me.deleted,me.character,me.propertyName,me.macroName],color:oC},{tag:[me.function(me.variableName),me.labelName],color:UU},{tag:[me.color,me.constant(me.name),me.standard(me.name)],color:cC},{tag:[me.definition(me.name),me.separator],color:nd},{tag:[me.typeName,me.className,me.number,me.changed,me.annotation,me.modifier,me.self,me.namespace],color:jU},{tag:[me.operator,me.operatorKeyword,me.url,me.escape,me.regexp,me.link,me.special(me.string)],color:zU},{tag:[me.meta,me.comment],color:M1},{tag:me.strong,fontWeight:"bold"},{tag:me.emphasis,fontStyle:"italic"},{tag:me.strikethrough,textDecoration:"line-through"},{tag:me.link,color:M1,textDecoration:"underline"},{tag:me.heading,fontWeight:"bold",color:oC},{tag:[me.atom,me.bool,me.special(me.variableName)],color:cC},{tag:[me.processingInstruction,me.string,me.inserted],color:VU},{tag:me.invalid,color:HU}]),YU=[$U,T8(XU)];var KU=Ge.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),QU=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:n=!0,readOnly:i=!1,theme:s="light",placeholder:l="",basicSetup:c=!0}=e,f=[];switch(t&&f.unshift(hp.of([uH])),c&&(typeof c=="boolean"?f.unshift(lC()):f.unshift(lC(c))),l&&f.unshift(gP(l)),s){case"light":f.push(KU);break;case"dark":f.push(YU);break;case"none":break;default:f.push(s);break}return n===!1&&f.push(Ge.editable.of(!1)),i&&f.push(kt.readOnly.of(!0)),[...f]},ZU=r=>({line:r.state.doc.lineAt(r.state.selection.main.from),lineCount:r.state.doc.lines,lineBreak:r.state.lineBreak,length:r.state.doc.length,readOnly:r.state.readOnly,tabSize:r.state.tabSize,selection:r.state.selection,selectionAsSingle:r.state.selection.asSingle().main,ranges:r.state.selection.ranges,selectionCode:r.state.sliceDoc(r.state.selection.main.from,r.state.selection.main.to),selections:r.state.selection.ranges.map(e=>r.state.sliceDoc(e.from,e.to)),selectedText:r.state.selection.ranges.some(e=>!e.empty)});class JU{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(t=>{try{t()}catch(n){console.error("TimeoutLatch callback error:",n)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class dC{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var Ex=null,eV=()=>typeof window>"u"?new dC:(Ex||(Ex=new dC),Ex),pC=gs.define(),tV=200,rV=[];function nV(r){var{value:e,selection:t,onChange:n,onStatistics:i,onCreateEditor:s,onUpdate:l,extensions:c=rV,autoFocus:f,theme:h="light",height:d=null,minHeight:m=null,maxHeight:g=null,width:x=null,minWidth:b=null,maxWidth:S=null,placeholder:w="",editable:T=!0,readOnly:A=!1,indentWithTab:E=!0,basicSetup:_=!0,root:B,initialState:F}=r,[O,H]=Q.useState(),[N,I]=Q.useState(),[P,q]=Q.useState(),K=Q.useState(()=>({current:null}))[0],ie=Q.useState(()=>({current:null}))[0],le=Ge.theme({"&":{height:d,minHeight:m,maxHeight:g,width:x,minWidth:b,maxWidth:S},"& .cm-scroller":{height:"100% !important"}}),Z=Ge.updateListener.of(Ee=>{if(Ee.docChanged&&typeof n=="function"&&!Ee.transactions.some(D=>D.annotation(pC))){K.current?K.current.reset():(K.current=new JU(()=>{if(ie.current){var D=ie.current;ie.current=null,D()}K.current=null},tV),eV().add(K.current));var Ne=Ee.state.doc,j=Ne.toString();n(j,Ee)}i&&i(ZU(Ee))}),ne=QU({theme:h,editable:T,readOnly:A,placeholder:w,indentWithTab:E,basicSetup:_}),ve=[Z,le,...ne];return l&&typeof l=="function"&&ve.push(Ge.updateListener.of(l)),ve=ve.concat(c),Q.useLayoutEffect(()=>{if(O&&!P){var Ee={doc:e,selection:t,extensions:ve},Ne=F?kt.fromJSON(F.json,Ee,F.fields):kt.create(Ee);if(q(Ne),!N){var j=new Ge({state:Ne,parent:O,root:B});I(j),s&&s(j,Ne)}}return()=>{N&&(q(void 0),I(void 0))}},[O,P]),Q.useEffect(()=>{r.container&&H(r.container)},[r.container]),Q.useEffect(()=>()=>{N&&(N.destroy(),I(void 0)),K.current&&(K.current.cancel(),K.current=null)},[N]),Q.useEffect(()=>{f&&N&&N.focus()},[f,N]),Q.useEffect(()=>{N&&N.dispatch({effects:pt.reconfigure.of(ve)})},[h,c,d,m,g,x,b,S,w,T,A,E,_,n,l]),Q.useEffect(()=>{if(e!==void 0){var Ee=N?N.state.doc.toString():"";if(N&&e!==Ee){var Ne=K.current&&!K.current.isDone,j=()=>{N&&e!==N.state.doc.toString()&&N.dispatch({changes:{from:0,to:N.state.doc.toString().length,insert:e||""},annotations:[pC.of(!0)]})};Ne?ie.current=j:j()}}},[e,N]),{state:P,setState:q,view:N,setView:I,container:O,setContainer:H}}var iV=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],F_=Q.forwardRef((r,e)=>{var{className:t,value:n="",selection:i,extensions:s=[],onChange:l,onStatistics:c,onCreateEditor:f,onUpdate:h,autoFocus:d,theme:m="light",height:g,minHeight:x,maxHeight:b,width:S,minWidth:w,maxWidth:T,basicSetup:A,placeholder:E,indentWithTab:_,editable:B,readOnly:F,root:O,initialState:H}=r,N=qM(r,iV),I=Q.useRef(null),{state:P,view:q,container:K,setContainer:ie}=nV({root:O,value:n,autoFocus:d,theme:m,height:g,minHeight:x,maxHeight:b,width:S,minWidth:w,maxWidth:T,basicSetup:A,placeholder:E,indentWithTab:_,editable:B,readOnly:F,selection:i,onChange:l,onStatistics:c,onCreateEditor:f,onUpdate:h,extensions:s,initialState:H});Q.useImperativeHandle(e,()=>({editor:I.current,state:P,view:q}),[I,K,P,q]);var le=Q.useCallback(ne=>{I.current=ne,ie(ne)},[ie]);if(typeof n!="string")throw new Error("value must be typeof string but got "+typeof n);var Z=typeof m=="string"?"cm-theme-"+m:"cm-theme";return C.jsx("div",jx({ref:le,className:""+Z+(t?" "+t:"")},N))});F_.displayName="CodeMirror";var mC={};class qd{constructor(e,t,n,i,s,l,c,f,h,d=0,m){this.p=e,this.stack=t,this.state=n,this.reducePos=i,this.pos=s,this.score=l,this.buffer=c,this.bufferBase=f,this.curContext=h,this.lookAhead=d,this.parent=m}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let i=e.parser.context;return new qd(e,[],t,n,n,0,[],0,i?new gC(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,i=e&65535,{parser:s}=this.p,l=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),c=s.dynamicPrecedence(i);if(c&&(this.score+=c),n==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(i,this.reducePos);return}let f=this.stack.length-(n-1)*3-(e&262144?6:0),h=f?this.stack[f-2]:this.p.ranges[0].from,d=this.reducePos-h;d>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=d));let m=f?this.stack[f-1]:0,g=this.bufferBase+this.buffer.length-m;if(i<s.minRepeatTerm||e&131072){let x=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,h,x,g+4,!0)}if(e&262144)this.state=this.stack[f];else{let x=this.stack[f-3];this.state=s.getGoto(x,i,!0)}for(;this.stack.length>f;)this.stack.pop();this.reduceContext(i,h)}storeNode(e,t,n,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,c=this.buffer.length;if(c==0&&l.parent&&(c=l.bufferBase-l.parent.bufferBase,l=l.parent),c>0&&l.buffer[c-4]==0&&l.buffer[c-1]>-1){if(t==n)return;if(l.buffer[c-2]>=t){l.buffer[c-2]=n;return}}}if(!s||this.pos==n)this.buffer.push(e,t,n,i);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let c=!1;for(let f=l;f>0&&this.buffer[f-2]>n;f-=4)if(this.buffer[f-1]>=0){c=!0;break}if(c)for(;l>0&&this.buffer[l-2]>n;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,i>4&&(i-=4)}this.buffer[l]=e,this.buffer[l+1]=t,this.buffer[l+2]=n,this.buffer[l+3]=i}}shift(e,t,n,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:l}=this.p;(i>this.pos||t<=l.maxNode)&&(this.pos=i,l.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,n),this.shiftContext(t,n),t<=l.maxNode&&this.buffer.push(t,n,i,4)}else this.pos=i,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,i,4)}apply(e,t,n,i){e&65536?this.reduce(e):this.shift(e,t,n,i)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new qd(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new sV(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(n==0)return!1;if((n&65536)==0)return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let s=0,l;s<t.length;s+=2)(l=t[s+1])!=this.state&&this.p.parser.hasAction(l,e)&&i.push(t[s],l);if(this.stack.length<120)for(let s=0;i.length<8&&s<t.length;s+=2){let l=t[s+1];i.some((c,f)=>f&1&&c==l)||i.push(t[s],l)}t=i}let n=[];for(let i=0;i<t.length&&n.length<4;i+=2){let s=t[i+1];if(s==this.state)continue;let l=this.split();l.pushState(s,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(t[i],this.pos),l.reducePos=this.pos,l.score-=200,n.push(l)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let n=t>>19,i=t&65535,s=this.stack.length-n*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;t=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(i,s)=>{if(!t.includes(i))return t.push(i),e.allActions(i,l=>{if(!(l&393216))if(l&65536){let c=(l>>19)-s;if(c>1){let f=l&65535,h=this.stack.length-c*3;if(h>=0&&e.getGoto(this.stack[h],f,!1)>=0)return c<<19|65536|f}}else{let c=n(l,s+1);if(c!=null)return c}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new gC(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class gC{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class sV{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class Wd{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Wd(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Wd(this.stack,this.pos,this.index)}}function oh(r,e=Uint16Array){if(typeof r!="string")return r;let t=null;for(let n=0,i=0;n<r.length;){let s=0;for(;;){let l=r.charCodeAt(n++),c=!1;if(l==126){s=65535;break}l>=92&&l--,l>=34&&l--;let f=l-32;if(f>=46&&(f-=46,c=!0),s+=f,c)break;s*=46}t?t[i++]=s:t=new e(s)}return t}class id{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const xC=new id;class aV{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=xC,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<n.from;){if(!i)return null;let l=this.ranges[--i];s-=n.from-l.to,n=l}for(;t<0?s>n.to:s>=n.to;){if(i==this.ranges.length-1)return null;let l=this.ranges[++i];s+=l.from-n.to,n=l}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,n,i;if(t>=0&&t<this.chunk.length)n=this.pos+e,i=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(n=s,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let l=this.rangeIndex,c=this.range;for(;c.to<=n;)c=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-n)),i=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),i}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=xC,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(n+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return n}}class jo{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;oV(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}jo.prototype.contextual=jo.prototype.fallback=jo.prototype.extend=!1;jo.prototype.fallback=jo.prototype.extend=!1;class lV{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function oV(r,e,t,n,i,s){let l=0,c=1<<n,{dialect:f}=t.p.parser;e:for(;(c&r[l])!=0;){let h=r[l+1];for(let x=l+3;x<h;x+=2)if((r[x+1]&c)>0){let b=r[x];if(f.allows(b)&&(e.token.value==-1||e.token.value==b||cV(b,e.token.value,i,s))){e.acceptToken(b);break}}let d=e.next,m=0,g=r[l+2];if(e.next<0&&g>m&&r[h+g*3-3]==65535){l=r[h+g*3-1];continue e}for(;m<g;){let x=m+g>>1,b=h+x+(x<<1),S=r[b],w=r[b+1]||65536;if(d<S)g=x;else if(d>=w)m=x+1;else{l=r[b+2],e.advance();continue e}}break}}function vC(r,e,t){for(let n=e,i;(i=r[n])!=65535;n++)if(i==t)return n-e;return-1}function cV(r,e,t,n){let i=vC(t,n,e);return i<0||vC(t,n,r)<i}const ni=typeof process<"u"&&mC&&/\bparse\b/.test(mC.LOG);let Cx=null;function yC(r,e,t){let n=r.cursor(Wr.IncludeAnonymous);for(n.moveTo(e);;)if(!(t<0?n.childBefore(e):n.childAfter(e)))for(;;){if((t<0?n.to<e:n.from>e)&&!n.type.isError)return t<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(r.length,Math.max(n.from+1,e+25));if(t<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return t<0?0:r.length}}class fV{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?yC(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?yC(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],i=this.index[t];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=n.children[i],l=this.start[t]+n.positions[i];if(l>e)return this.nextStart=l,null;if(s instanceof Mr){if(l==e){if(l<this.safeFrom)return null;let c=l+s.length;if(c<=this.safeTo){let f=s.prop(xt.lookAhead);if(!f||c+f<this.fragment.to)return s}}this.index[t]++,l+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(l),this.index.push(0))}else this.index[t]++,this.nextStart=l+s.length}}}class uV{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new id)}getActions(e){let t=0,n=null,{parser:i}=e.p,{tokenizers:s}=i,l=i.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,f=0;for(let h=0;h<s.length;h++){if((1<<h&l)==0)continue;let d=s[h],m=this.tokens[h];if(!(n&&!d.fallback)&&((d.contextual||m.start!=e.pos||m.mask!=l||m.context!=c)&&(this.updateCachedToken(m,d,e),m.mask=l,m.context=c),m.lookAhead>m.end+25&&(f=Math.max(m.lookAhead,f)),m.value!=0)){let g=t;if(m.extended>-1&&(t=this.addActions(e,m.extended,m.end,t)),t=this.addActions(e,m.value,m.end,t),!d.extend&&(n=m,t>g))break}}for(;this.actions.length>t;)this.actions.pop();return f&&e.setLookAhead(f),!n&&e.pos==this.stream.end&&(n=new id,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new id,{pos:n,p:i}=e;return t.start=n,t.end=Math.min(n+1,i.stream.end),t.value=n==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,n){let i=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(i,e),n),e.value>-1){let{parser:s}=n.p;for(let l=0;l<s.specialized.length;l++)if(s.specialized[l]==e.value){let c=s.specializers[l](this.stream.read(e.start,e.end),n);if(c>=0&&n.p.parser.dialect.allows(c>>1)){(c&1)==0?e.value=c>>1:e.extended=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,n,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=n,i}addActions(e,t,n,i){let{state:s}=e,{parser:l}=e.p,{data:c}=l;for(let f=0;f<2;f++)for(let h=l.stateSlot(s,f?2:1);;h+=3){if(c[h]==65535)if(c[h+1]==1)h=Ps(c,h+2);else{i==0&&c[h+1]==2&&(i=this.putAction(Ps(c,h+2),t,n,i));break}c[h]==t&&(i=this.putAction(Ps(c,h+1),t,n,i))}return i}}class hV{constructor(e,t,n,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new aV(t,i),this.tokens=new uV(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[qd.start(this,e.top[0],s)],this.fragments=n.length&&this.stream.end-s>e.bufferLength*4?new fV(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,n=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let c=e[l];for(;;){if(this.tokens.mainToken=null,c.pos>t)n.push(c);else{if(this.advanceStack(c,n,e))continue;{i||(i=[],s=[]),i.push(c);let f=this.tokens.getMainToken(c);s.push(f.value,f.end)}}break}}if(!n.length){let l=i&&pV(i);if(l)return ni&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw ni&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let l=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,n);if(l)return ni&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(n.length>l)for(n.sort((c,f)=>f.score-c.score);n.length>l;)n.pop();n.some(c=>c.reducePos>t)&&this.recovering--}else if(n.length>1){e:for(let l=0;l<n.length-1;l++){let c=n[l];for(let f=l+1;f<n.length;f++){let h=n[f];if(c.sameState(h)||c.buffer.length>500&&h.buffer.length>500)if((c.score-h.score||c.buffer.length-h.buffer.length)>0)n.splice(f--,1);else{n.splice(l--,1);continue e}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let l=1;l<n.length;l++)n[l].pos<this.minStackPos&&(this.minStackPos=n[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let i=e.pos,{parser:s}=this,l=ni?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,d=h?e.curContext.hash:0;for(let m=this.fragments.nodeAt(i);m;){let g=this.parser.nodeSet.types[m.type.id]==m.type?s.getGoto(e.state,m.type.id):-1;if(g>-1&&m.length&&(!h||(m.prop(xt.contextHash)||0)==d))return e.useNode(m,g),ni&&console.log(l+this.stackID(e)+` (via reuse of ${s.getName(m.type.id)})`),!0;if(!(m instanceof Mr)||m.children.length==0||m.positions[0]>0)break;let x=m.children[0];if(x instanceof Mr&&m.positions[0]==0)m=x;else break}}let c=s.stateSlot(e.state,4);if(c>0)return e.reduce(c),ni&&console.log(l+this.stackID(e)+` (via always-reduce ${s.getName(c&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let f=this.tokens.getActions(e);for(let h=0;h<f.length;){let d=f[h++],m=f[h++],g=f[h++],x=h==f.length||!n,b=x?e:e.split(),S=this.tokens.mainToken;if(b.apply(d,m,S?S.start:b.pos,g),ni&&console.log(l+this.stackID(b)+` (via ${(d&65536)==0?"shift":`reduce of ${s.getName(d&65535)}`} for ${s.getName(m)} @ ${i}${b==e?"":", split"})`),x)return!0;b.pos>i?t.push(b):n.push(b)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return bC(e,t),!0}}runRecovery(e,t,n){let i=null,s=!1;for(let l=0;l<e.length;l++){let c=e[l],f=t[l<<1],h=t[(l<<1)+1],d=ni?this.stackID(c)+" -> ":"";if(c.deadEnd&&(s||(s=!0,c.restart(),ni&&console.log(d+this.stackID(c)+" (restarted)"),this.advanceFully(c,n))))continue;let m=c.split(),g=d;for(let x=0;x<10&&m.forceReduce()&&(ni&&console.log(g+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,n));x++)ni&&(g=this.stackID(m)+" -> ");for(let x of c.recoverByInsert(f))ni&&console.log(d+this.stackID(x)+" (via recover-insert)"),this.advanceFully(x,n);this.stream.end>c.pos?(h==c.pos&&(h++,f=0),c.recoverByDelete(f,h),ni&&console.log(d+this.stackID(c)+` (via recover-delete ${this.parser.getName(f)})`),bC(c,n)):(!i||i.score<c.score)&&(i=c)}return i}stackToTree(e){return e.close(),Mr.build({buffer:Wd.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Cx||(Cx=new WeakMap)).get(e);return t||Cx.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function bC(r,e){for(let t=0;t<e.length;t++){let n=e[t];if(n.pos==r.pos&&n.sameState(r)){e[t].score<r.score&&(e[t]=r);return}}e.push(r)}class dV{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}class Gd extends f8{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let c=0;c<e.repeatNodeCount;c++)t.push("");let n=Object.keys(e.topRules).map(c=>e.topRules[c][1]),i=[];for(let c=0;c<t.length;c++)i.push([]);function s(c,f,h){i[c].push([f,f.deserialize(String(h))])}if(e.nodeProps)for(let c of e.nodeProps){let f=c[0];typeof f=="string"&&(f=xt[f]);for(let h=1;h<c.length;){let d=c[h++];if(d>=0)s(d,f,c[h++]);else{let m=c[h+-d];for(let g=-d;g>0;g--)s(c[h++],f,m);h++}}}this.nodeSet=new kv(t.map((c,f)=>$n.define({name:f>=this.minRepeatTerm?void 0:c,id:f,props:i[f],top:n.indexOf(f)>-1,error:f==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(f)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=a8;let l=oh(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(SC),this.states=oh(e.states,Uint32Array),this.data=oh(e.stateData),this.goto=oh(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>typeof c=="number"?new jo(l,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let i=new hV(this,e,t,n);for(let s of this.wrappers)i=s(i,e,t,n);return i}getGoto(e,t,n=!1){let i=this.goto;if(t>=i[0])return-1;for(let s=i[t+1];;){let l=i[s++],c=l&1,f=i[s++];if(c&&n)return f;for(let h=s+(l>>1);s<h;s++)if(i[s]==e)return f;if(c)return-1}}hasAction(e,t){let n=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),l;;s+=3){if((l=n[s])==65535)if(n[s+1]==1)l=n[s=Ps(n,s+2)];else{if(n[s+1]==2)return Ps(n,s+2);break}if(l==t||l==0)return Ps(n,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,n=>n==t?!0:null)}allActions(e,t){let n=this.stateSlot(e,4),i=n?t(n):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Ps(this.data,s+2);else break;i=t(Ps(this.data,s+1))}return i}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=Ps(this.data,n+2);else break;if((this.data[n+2]&1)==0){let i=this.data[n+1];t.some((s,l)=>l&1&&s==i)||t.push(this.data[n],i)}}return t}configure(e){let t=Object.assign(Object.create(Gd.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(n=>{let i=e.tokenizers.find(s=>s.from==n);return i?i.to:n})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,i)=>{let s=e.specializers.find(c=>c.from==n.external);if(!s)return n;let l=Object.assign(Object.assign({},n),{external:s.to});return t.specializers[i]=SC(l),l})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let s of e.split(" ")){let l=t.indexOf(s);l>=0&&(n[l]=!0)}let i=null;for(let s=0;s<t.length;s++)if(!n[s])for(let l=this.dialects[t[s]],c;(c=this.data[l++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[c]=1;return new dV(e,n,i)}static deserialize(e){return new Gd(e)}}function Ps(r,e){return r[e]|r[e+1]<<16}function pV(r){let e=null;for(let t of r){let n=t.p.stoppedAt;(t.pos==t.p.stream.end||n!=null&&t.pos>n)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function SC(r){if(r.external){let e=r.extend?1:0;return(t,n)=>r.external(t,n)<<1|e}return r.get}const mV=36,wC=1,gV=2,So=3,Ax=4,xV=5,vV=6,yV=7,bV=8,SV=9,wV=10,EV=11,CV=12,AV=13,TV=14,_V=15,DV=16,kV=17,EC=18,OV=19,M_=20,L_=21,CC=22,BV=23,NV=24;function L1(r){return r>=65&&r<=90||r>=97&&r<=122||r>=48&&r<=57}function RV(r){return r>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70}function ul(r,e,t){for(let n=!1;;){if(r.next<0)return;if(r.next==e&&!n){r.advance();return}n=t&&!n&&r.next==92,r.advance()}}function FV(r,e){e:for(;;){if(r.next<0)return;if(r.next==36){r.advance();for(let t=0;t<e.length;t++){if(r.next!=e.charCodeAt(t))continue e;r.advance()}if(r.next==36){r.advance();return}}else r.advance()}}function MV(r,e){let t="[{<(".indexOf(String.fromCharCode(e)),n=t<0?e:"]}>)".charCodeAt(t);for(;;){if(r.next<0)return;if(r.next==n&&r.peek(1)==39){r.advance(2);return}r.advance()}}function I1(r,e){for(;!(r.next!=95&&!L1(r.next));)e!=null&&(e+=String.fromCharCode(r.next)),r.advance();return e}function LV(r){if(r.next==39||r.next==34||r.next==96){let e=r.next;r.advance(),ul(r,e,!1)}else I1(r)}function AC(r,e){for(;r.next==48||r.next==49;)r.advance();e&&r.next==e&&r.advance()}function TC(r,e){for(;;){if(r.next==46){if(e)break;e=!0}else if(r.next<48||r.next>57)break;r.advance()}if(r.next==69||r.next==101)for(r.advance(),(r.next==43||r.next==45)&&r.advance();r.next>=48&&r.next<=57;)r.advance()}function _C(r){for(;!(r.next<0||r.next==10);)r.advance()}function cl(r,e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)==r)return!0;return!1}const Tx=` 	\r
`;function I_(r,e,t){let n=Object.create(null);n.true=n.false=xV,n.null=n.unknown=vV;for(let i of r.split(" "))i&&(n[i]=M_);for(let i of e.split(" "))i&&(n[i]=L_);for(let i of(t||"").split(" "))i&&(n[i]=NV);return n}const P_="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",j_="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",P1={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:I_(j_,P_)};function IV(r,e,t,n){let i={};for(let s in P1)i[s]=(r.hasOwnProperty(s)?r:P1)[s];return e&&(i.words=I_(e,t||"",n)),i}function z_(r){return new lV(e=>{var t;let{next:n}=e;if(e.advance(),cl(n,Tx)){for(;cl(e.next,Tx);)e.advance();e.acceptToken(mV)}else if(n==36&&r.doubleDollarQuotedStrings){let i=I1(e,"");e.next==36&&(e.advance(),FV(e,i),e.acceptToken(So))}else if(n==39||n==34&&r.doubleQuotedStrings)ul(e,n,r.backslashEscapes),e.acceptToken(So);else if(n==35&&r.hashComments||n==47&&e.next==47&&r.slashComments)_C(e),e.acceptToken(wC);else if(n==45&&e.next==45&&(!r.spaceAfterDashes||e.peek(1)==32))_C(e),e.acceptToken(wC);else if(n==47&&e.next==42){e.advance();for(let i=1;;){let s=e.next;if(e.next<0)break;if(e.advance(),s==42&&e.next==47){if(i--,e.advance(),!i)break}else s==47&&e.next==42&&(i++,e.advance())}e.acceptToken(gV)}else if((n==101||n==69)&&e.next==39)e.advance(),ul(e,39,!0),e.acceptToken(So);else if((n==110||n==78)&&e.next==39&&r.charSetCasts)e.advance(),ul(e,39,r.backslashEscapes),e.acceptToken(So);else if(n==95&&r.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),ul(e,39,r.backslashEscapes),e.acceptToken(So);break}if(!L1(e.next))break;e.advance()}else if(r.plsqlQuotingMechanism&&(n==113||n==81)&&e.next==39&&e.peek(1)>0&&!cl(e.peek(1),Tx)){let i=e.peek(1);e.advance(2),MV(e,i),e.acceptToken(So)}else if(cl(n,r.identifierQuotes)){const i=n==91?93:n;ul(e,i,!1),e.acceptToken(OV)}else if(n==40)e.acceptToken(yV);else if(n==41)e.acceptToken(bV);else if(n==123)e.acceptToken(SV);else if(n==125)e.acceptToken(wV);else if(n==91)e.acceptToken(EV);else if(n==93)e.acceptToken(CV);else if(n==59)e.acceptToken(AV);else if(r.unquotedBitLiterals&&n==48&&e.next==98)e.advance(),AC(e),e.acceptToken(CC);else if((n==98||n==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),r.treatBitsAsBytes?(ul(e,i,r.backslashEscapes),e.acceptToken(BV)):(AC(e,i),e.acceptToken(CC))}else if(n==48&&(e.next==120||e.next==88)||(n==120||n==88)&&e.next==39){let i=e.next==39;for(e.advance();RV(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(Ax)}else if(n==46&&e.next>=48&&e.next<=57)TC(e,!0),e.acceptToken(Ax);else if(n==46)e.acceptToken(TV);else if(n>=48&&n<=57)TC(e,!1),e.acceptToken(Ax);else if(cl(n,r.operatorChars)){for(;cl(e.next,r.operatorChars);)e.advance();e.acceptToken(_V)}else if(cl(n,r.specialVar))e.next==n&&e.advance(),LV(e),e.acceptToken(kV);else if(n==58||n==44)e.acceptToken(DV);else if(L1(n)){let i=I1(e,String.fromCharCode(n));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?EC:(t=r.words[i.toLowerCase()])!==null&&t!==void 0?t:EC)}})}const H_=z_(P1),PV=Gd.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,H_],topRules:{Script:[0,25]},tokenPrec:0});function j1(r){let e=r.cursor().moveTo(r.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function X0(r,e){let t=r.sliceString(e.from,e.to),n=/^([`'"\[])(.*)([`'"\]])$/.exec(t);return n?n[2]:t}function $d(r){return r&&(r.name=="Identifier"||r.name=="QuotedIdentifier")}function jV(r,e){if(e.name=="CompositeIdentifier"){let t=[];for(let n=e.firstChild;n;n=n.nextSibling)$d(n)&&t.push(X0(r,n));return t}return[X0(r,e)]}function DC(r,e){for(let t=[];;){if(!e||e.name!=".")return t;let n=j1(e);if(!$d(n))return t;t.unshift(X0(r,n)),e=j1(n)}}function zV(r,e){let t=Kr(r).resolveInner(e,-1),n=UV(r.doc,t);return t.name=="Identifier"||t.name=="QuotedIdentifier"||t.name=="Keyword"?{from:t.from,quoted:t.name=="QuotedIdentifier"?r.doc.sliceString(t.from,t.from+1):null,parents:DC(r.doc,j1(t)),aliases:n}:t.name=="."?{from:e,quoted:null,parents:DC(r.doc,t),aliases:n}:{from:e,quoted:null,parents:[],empty:!0,aliases:n}}const HV=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function UV(r,e){let t;for(let i=e;!t;i=i.parent){if(!i)return null;i.name=="Statement"&&(t=i)}let n=null;for(let i=t.firstChild,s=!1,l=null;i;i=i.nextSibling){let c=i.name=="Keyword"?r.sliceString(i.from,i.to).toLowerCase():null,f=null;if(!s)s=c=="from";else if(c=="as"&&l&&$d(i.nextSibling))f=X0(r,i.nextSibling);else{if(c&&HV.has(c))break;l&&$d(i)&&(f=X0(r,i))}f&&(n||(n=Object.create(null)),n[f]=jV(r,l)),l=/Identifier$/.test(i.name)?i:null}return n}function VV(r,e,t){return t.map(n=>({...n,label:n.label[0]==r?n.label:r+n.label+e,apply:void 0}))}const qV=/^\w*$/,WV=/^[`'"\[]?\w*[`'"\]]?$/;function kC(r){return r.self&&typeof r.self.label=="string"}class Gv{constructor(e,t){this.idQuote=e,this.idCaseInsensitive=t,this.list=[],this.children=void 0}child(e){let t=this.children||(this.children=Object.create(null)),n=t[e];return n||(e&&!this.list.some(i=>i.label==e)&&this.list.push(OC(e,"type",this.idQuote,this.idCaseInsensitive)),t[e]=new Gv(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let t=this.list.findIndex(n=>n.label==e.label);t>-1?this.list[t]=e:this.list.push(e)}addCompletions(e){for(let t of e)this.addCompletion(typeof t=="string"?OC(t,"property",this.idQuote,this.idCaseInsensitive):t)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):kC(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let t of Object.keys(e)){let n=e[t],i=null,s=t.replace(/\\?\./g,c=>c=="."?"\0":c).split("\0"),l=this;kC(n)&&(i=n.self,n=n.children);for(let c=0;c<s.length;c++)i&&c==s.length-1&&l.addCompletion(i),l=l.child(s[c].replace(/\\\./g,"."));l.addNamespace(n)}}}function OC(r,e,t,n){return new RegExp("^[a-z_][a-z_\\d]*$",n?"i":"").test(r)?{label:r,type:e}:{label:r,type:e,apply:t+r+U_(t)}}function U_(r){return r==="["?"]":r}function GV(r,e,t,n,i,s){var l;let c=((l=s?.spec.identifierQuotes)===null||l===void 0?void 0:l[0])||'"',f=new Gv(c,!!s?.spec.caseInsensitiveIdentifiers),h=i?f.child(i):null;return f.addNamespace(r),e&&(h||f).addCompletions(e),t&&f.addCompletions(t),h&&f.addCompletions(h.list),n&&f.addCompletions((h||f).child(n).list),d=>{let{parents:m,from:g,quoted:x,empty:b,aliases:S}=zV(d.state,d.pos);if(b&&!d.explicit)return null;S&&m.length==1&&(m=S[m[0]]||m);let w=f;for(let A of m){for(;!w.children||!w.children[A];)if(w==f&&h)w=h;else if(w==h&&n)w=w.child(n);else return null;let E=w.maybeChild(A);if(!E)return null;w=E}let T=w.list;if(w==f&&S&&(T=T.concat(Object.keys(S).map(A=>({label:A,type:"constant"})))),x){let A=x[0],E=U_(A),_=d.state.sliceDoc(d.pos,d.pos+1)==E;return{from:g,to:_?d.pos+1:void 0,options:VV(A,E,T),validFor:WV}}else return{from:g,options:T,validFor:qV}}}function $V(r){return r==L_?"type":r==M_?"keyword":"variable"}function XV(r,e,t){let n=Object.keys(r).map(i=>t(e?i.toUpperCase():i,$V(r[i])));return HH(["QuotedIdentifier","String","LineComment","BlockComment","."],y_(n))}let YV=PV.configure({props:[m8.add({Statement:bj()}),x8.add({Statement(r,e){return{from:Math.min(r.from+100,e.doc.lineAt(r.from).to),to:r.to}},BlockComment(r){return{from:r.from+2,to:r.to-2}}}),u8({Keyword:me.keyword,Type:me.typeName,Builtin:me.standard(me.name),Bits:me.number,Bytes:me.string,Bool:me.bool,Null:me.null,Number:me.number,String:me.string,Identifier:me.name,QuotedIdentifier:me.special(me.string),SpecialVar:me.special(me.name),LineComment:me.lineComment,BlockComment:me.blockComment,Operator:me.operator,"Semi Punctuation":me.punctuation,"( )":me.paren,"{ }":me.brace,"[ ]":me.squareBracket})]});class Y0{constructor(e,t,n){this.dialect=e,this.language=t,this.spec=n}get extension(){return this.language.extension}configureLanguage(e,t){return new Y0(this.dialect,this.language.configure(e,t),this.spec)}static define(e){let t=IV(e,e.keywords,e.types,e.builtin),n=Bd.define({name:"sql",parser:YV.configure({tokenizers:[{from:H_,to:z_(t)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new Y0(t,n,e)}}function KV(r,e){return{label:r,type:e,boost:-1}}function QV(r,e=!1,t){return XV(r.dialect.words,e,t||KV)}function ZV(r){return r.schema?GV(r.schema,r.tables,r.schemas,r.defaultTable,r.defaultSchema,r.dialect||$v):()=>null}function JV(r){return r.schema?(r.dialect||$v).language.data.of({autocomplete:ZV(r)}):[]}function eq(r={}){let e=r.dialect||$v;return new uj(e.language,[JV(r),e.language.data.of({autocomplete:QV(e,r.upperCaseKeywords,r.keywordCompletion)})])}const $v=Y0.define({}),tq=Y0.define({keywords:j_+"abort accept access add all alter and any arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body by case cast char_base check close cluster clusters colauth column comment commit compress connected constant constraint crash create current currval cursor data_base database dba deallocate debugoff debugon declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry exception exception_init exchange exclusive exists external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base of off offline on online only option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw rebuild record ref references refresh rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work",builtin:"appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define echo editfile embedded feedback flagger flush heading headsep instance linesize lno loboffset logsource longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar repfooter repheader serveroutput shiftinout show showmode spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout timing trimout trimspool ttitle underline verify version wrap",types:P_+"ascii bfile bfilename bigserial bit blob dec long number nvarchar nvarchar2 serial smallint string text uid varchar2 xml",operatorChars:"*/+-%<>!=~",doubleQuotedStrings:!0,charSetCasts:!0,plsqlQuotingMechanism:!0});var _x={exports:{}},Dx,BC;function rq(){if(BC)return Dx;BC=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Dx=r,Dx}var kx,NC;function nq(){if(NC)return kx;NC=1;var r=rq();function e(){}function t(){}return t.resetWarningCache=e,kx=function(){function n(l,c,f,h,d,m){if(m!==r){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},kx}var RC;function iq(){return RC||(RC=1,_x.exports=nq()()),_x.exports}var sq=iq();const gn=V1(sq),V_=({children:r})=>{const e=Q.useRef(null),[t,n]=Q.useState({width:0,height:0});return Q.useEffect(()=>{if(!e.current)return;const i=new ResizeObserver(s=>{for(let l of s){const{width:c,height:f}=l.contentRect;n({width:c,height:f})}});return i.observe(e.current),()=>i.disconnect()},[]),C.jsx("div",{ref:e,style:{width:"100%",height:"100%"},children:t.width>0&&t.height>0&&r(t)})};V_.propTypes={children:gn.func.isRequired};const q_=({height:r,width:e,itemCount:t,itemSize:n,minWidth:i,header:s,headerHeight:l=40,children:c})=>{const[f,h]=Q.useState(0),d=Q.useRef(null),m=A=>{h(A.target.scrollTop)},g=t*n,x=5,b=Math.max(0,f-l),S=Math.max(0,Math.floor(b/n)-x),w=Math.min(t-1,Math.floor((b+r)/n)+x),T=[];for(let A=S;A<=w;A++)T.push(c({index:A,style:{position:"absolute",top:A*n+l,left:0,width:"100%",height:n}}));return C.jsx("div",{ref:d,onScroll:m,style:{height:r,width:e,overflow:"auto",position:"relative",willChange:"transform"},children:C.jsxs("div",{style:{height:g+l,position:"relative",width:"100%",minWidth:i||"100%"},children:[C.jsx("div",{style:{position:"sticky",top:0,zIndex:10,height:l,width:"100%"},children:s}),T]})})};q_.propTypes={height:gn.number.isRequired,width:gn.number.isRequired,itemCount:gn.number.isRequired,itemSize:gn.number.isRequired,minWidth:gn.number,header:gn.node,headerHeight:gn.number,children:gn.func.isRequired};function W_({isVisible:r,tabs:e,setTabs:t,activeTabId:n,setActiveTabId:i,savedQueries:s,setSavedQueries:l}){const{theme:c}=Q.useContext(r2),f=Q.useRef(null),h=Q.useRef(null),[d,m]=Q.useState(null);Q.useEffect(()=>{const pe=()=>{f.current&&f.current.focus()},Me=setTimeout(()=>{pe()},100),Ve=()=>{pe()};return window.addEventListener("focus",Ve),()=>{clearTimeout(Me),window.removeEventListener("focus",Ve)}},[]),Q.useEffect(()=>{if(r){const pe=[setTimeout(()=>f.current?.focus(),50),setTimeout(()=>f.current?.focus(),200),setTimeout(()=>f.current?.focus(),500)];return()=>pe.forEach(Me=>clearTimeout(Me))}},[r]);const[g,x]=Q.useState({}),b=Q.useRef(null),S=(pe,Me)=>{pe.preventDefault(),pe.stopPropagation(),b.current={colName:Me,startX:pe.clientX,startWidth:g[Me]||150},document.addEventListener("mousemove",w),document.addEventListener("mouseup",T)},w=pe=>{if(!b.current)return;const{colName:Me,startX:Ve,startWidth:it}=b.current,Ze=pe.clientX-Ve,ut=Math.max(50,it+Ze);x(at=>({...at,[Me]:ut}))},T=()=>{b.current=null,document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",T)},A=(pe,Me="success")=>{m({message:pe,type:Me}),setTimeout(()=>m(null),3e3)},E=e.find(pe=>pe.id===n)||e[0],_=pe=>{t(Me=>Me.map(Ve=>Ve.id===n?{...Ve,...pe}:Ve))},[B,F]=Q.useState(!1),[O,H]=Q.useState(1e3),[N,I]=Q.useState(""),[P,q]=Q.useState(!1),[K,ie]=Q.useState(!0),[le,Z]=Q.useState("saved"),[ne,ve]=Q.useState(""),[Ee,Ne]=Q.useState([]),[j,D]=Q.useState(null),[M,R]=Q.useState([]),[W,ee]=Q.useState(!1),[ye,xe]=Q.useState({}),[Te,be]=Q.useState({}),[tt,Ke]=Q.useState([]),[ct,Ce]=Q.useState({}),[Ye,$e]=Q.useState(!1),[De,ot]=Q.useState(!1),[St,jt]=Q.useState(!1),[Ct,er]=Q.useState(null);Q.useEffect(()=>{if(E.results&&E.results.metaData){const pe={},Me=E.results.metaData.map(Ve=>Ve.name);E.results.metaData.forEach(Ve=>pe[Ve.name]=!0),be(pe),Ke(Me),Ce({})}},[E.results]);const Gt=async(pe="")=>{ee(!0);try{const Ve=await(await fetch(`http://localhost:3001/api/tables?search=${encodeURIComponent(pe)}`)).json();Ne(Ve);const it={...ye};Ve.forEach(Ze=>{it[Ze]||(it[Ze]=[])}),xe(it)}catch(Me){console.error("Failed to fetch schema tables",Me)}finally{ee(!1)}},he=async pe=>{if(j===pe){D(null),R([]);return}D(pe);try{const Ve=await(await fetch(`http://localhost:3001/api/columns/${encodeURIComponent(pe)}`)).json();R(Ve),xe(it=>({...it,[pe]:Ve.map(Ze=>Ze.name)}))}catch(Me){console.error("Failed to fetch columns",Me)}},Ie=pe=>{_({sqlContent:E.sqlContent+" "+pe})},Be=async pe=>{const Me=pe.target.files[0];if(!Me)return;const Ve=new FormData;Ve.append("file",Me),_({loading:!0});try{const Ze=await(await fetch("http://localhost:3001/api/upload/sql",{method:"POST",body:Ve})).json();if(Ze.error)throw new Error(Ze.error);_({sqlContent:Ze.sql,loading:!1}),I(Me.name.replace(/\.sql$/i,""))}catch(it){_({error:it.message,loading:!1})}},rt=async()=>{_({loading:!0,error:null,results:null,totalRecords:void 0});try{const pe=E.sqlContent.trim().replace(/;+\s*$/,""),Ve=await(await fetch("http://127.0.0.1:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:pe,limit:O,filter:St?ct:null})})).json();if(Ve.error)throw new Error(Ve.error);_({results:Ve,loading:!1});try{const Ze=await(await fetch("http://127.0.0.1:3001/api/query/count",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:pe})})).json();Ze.count!==void 0&&_({totalRecords:Ze.count})}catch(it){console.error("Failed to fetch count",it)}}catch(pe){_({error:pe.message,loading:!1})}},vt=()=>{if(!N){alert("Por favor, insira um nome para a query.");return}const pe={id:Date.now(),name:N,sql:E.sqlContent},Me=[...s,pe];l(Me),q(!1),I("")},$t=pe=>{if(window.confirm("Tem certeza que deseja excluir esta query?")){const Me=s.filter(Ve=>Ve.id!==pe);l(Me)}},ft=pe=>{_({sqlContent:pe.sql}),I(pe.name)},Bt=()=>{const pe=Date.now(),Me={id:pe,title:`Query ${e.length+1}`,sqlContent:"",results:null,error:null,loading:!1};t([...e,Me]),i(pe)},Er=(pe,Me)=>{if(pe.stopPropagation(),e.length===1){t([{...e[0],sqlContent:"",results:null,error:null}]);return}const Ve=e.filter(it=>it.id!==Me);t(Ve),n===Me&&i(Ve[Ve.length-1].id)},tr=E.results?!Object.values(ct).some(Me=>Me&&Me.trim()!=="")||St?E.results.rows:E.results.rows.filter(Me=>tt.every((Ve,it)=>{const Ze=ct[Ve];if(!Ze)return!0;const ut=E.results.metaData.findIndex(At=>At.name===Ve);return String(Me[ut]||"").toLowerCase().includes(Ze.toLowerCase())})):[],Cr=async()=>{F(!0);try{const pe=E.sqlContent.trim().replace(/;$/,""),Me=await fetch("http://localhost:3001/api/export/csv",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:pe,filter:St?ct:null})});if(!Me.ok)throw new Error("Erro na exportao");const Ve=await Me.blob();Is.saveAs(Ve,`export_${Date.now()}.csv`),A("Download concludo!")}catch(pe){console.error(pe),A("Erro ao exportar: "+pe.message,"error")}finally{F(!1)}},vr=async pe=>{if(!E.results||!E.results.rows||E.results.rows.length===0){alert("No h dados para exportar.");return}if((O!=="all"&&E.results.rows.length>=O||St)&&window.confirm("A visualizao atual est limitada ou filtrada. Deseja exportar TODAS as linhas correspondentes?")){if(pe==="csv"){Cr();return}else if(pe==="xlsx"){if(E.totalRecords>1e5&&window.confirm("Para grandes volumes (>100k), a exportao em Excel pode falhar ou ser lenta. Recomendamos CSV. Deseja exportar em CSV?")){Cr();return}E.totalRecords>1e6&&alert("Ateno: O Excel suporta no mximo 1 milho de linhas. A exportao pode falhar. Recomendamos fortemente o uso de CSV."),F(!0);try{const it=E.sqlContent.trim().replace(/;$/,""),ut=await(await fetch("http://127.0.0.1:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:it,limit:"all",filter:St?ct:null})})).json();if(ut.error)throw new Error(ut.error);const At=[ut.metaData.map(wn=>wn.name),...ut.rows],rr=mn.book_new(),Tt=mn.aoa_to_sheet(At);mn.book_append_sheet(rr,Tt,"Results");const or=p0(rr,{bookType:"xlsx",type:"array"}),dn=new Blob([or],{type:"application/octet-stream"});Is.saveAs(dn,`export_${Date.now()}.xlsx`),A("Download concludo!")}catch(it){alert("Falha ao buscar todos os dados: "+it.message)}finally{F(!1)}return}}F(!0),setTimeout(()=>{try{const it=[E.results.metaData.map(at=>at.name),...tr],ut=`sql_export_${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}`;if(pe==="xlsx"){const at=mn.book_new(),At=mn.aoa_to_sheet(it);mn.book_append_sheet(at,At,"Results");const rr=p0(at,{bookType:"xlsx",type:"array"}),Tt=new Blob([rr],{type:"application/octet-stream"});Is.saveAs(Tt,`${ut}.xlsx`)}else if(pe==="csv"){const at=mn.aoa_to_sheet(it),At=mn.sheet_to_csv(at),rr=new Blob([At],{type:"text/csv;charset=utf-8"});Is.saveAs(rr,`${ut}.csv`)}else if(pe==="txt"){const at=it.map(rr=>rr.join("	")).join(`
`),At=new Blob([at],{type:"text/plain;charset=utf-8"});Is.saveAs(At,`${ut}.txt`)}A("Download concludo com sucesso!")}catch(Ve){console.error("Export Error:",Ve),A("Falha ao exportar: "+Ve.message,"error")}finally{F(!1)}},100)},vs=async pe=>{if(!E.results||!E.results.rows||E.results.rows.length===0){alert("No h dados para compartilhar.");return}F(!0);try{const Ve=[E.results.metaData.map(at=>at.name),...tr],Ze=`sql_report_${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}.${pe}`;let ut;if(pe==="xlsx"){const at=mn.book_new(),At=mn.aoa_to_sheet(Ve);mn.book_append_sheet(at,At,"Results");const rr=p0(at,{bookType:"xlsx",type:"array"});ut=new File([new Blob([rr])],Ze,{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})}navigator.share&&navigator.canShare&&navigator.canShare({files:[ut]})?(await navigator.share({files:[ut],title:"Relatrio SQL",text:"Segue relatrio gerado pelo Hap Query Report."}),A("Compartilhamento iniciado!")):(Is.saveAs(ut,Ze),A("Arquivo salvo com sucesso!"))}catch(Me){console.error("Share Error:",Me),Me.name!=="AbortError"&&A("Erro ao compartilhar: "+Me.message,"error")}finally{F(!1)}},ui=(pe,Me)=>{er(Me),pe.dataTransfer.effectAllowed="move"},Ki=(pe,Me)=>{if(pe.preventDefault(),!Ct||Ct===Me)return;const Ve=[...tt],it=Ve.indexOf(Ct),Ze=Ve.indexOf(Me);Ve.splice(it,1),Ve.splice(Ze,0,Ct),Ke(Ve)},Nn=()=>{er(null)},hi=({index:pe,style:Me})=>{const Ve=tr[pe];return C.jsx("div",{style:Me,className:`flex divide-x ${c.border} ${pe%2===0?c.panel:"bg-opacity-50 "+c.bg} hover:bg-blue-50 transition-colors`,children:tt.map(it=>{if(!Te[it])return null;const Ze=E.results.metaData.findIndex(at=>at.name===it),ut=g[it]||150;return C.jsx("div",{className:`px-2 py-2 text-sm ${c.sidebarText} overflow-hidden text-ellipsis whitespace-nowrap`,style:{width:`${ut}px`,minWidth:`${ut}px`,maxWidth:`${ut}px`},title:Ve[Ze],children:Ve[Ze]},it)})})},Xt=()=>{f.current&&!f.current.hasFocus&&f.current.focus()};return C.jsxs("div",{className:`space-y-4 relative h-full flex flex-col ${c.bg}`,children:[d&&C.jsx("div",{className:`fixed bottom-4 right-4 px-6 py-3 rounded shadow-lg z-50 animate-fade-in-up text-white font-medium ${d.type==="error"?"bg-red-600":"bg-green-600"}`,children:d.message}),B&&C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:C.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl flex flex-col items-center",children:[C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#f37021] mb-4"}),C.jsx("p",{className:"text-gray-700 font-semibold",children:"Exportando dados..."}),C.jsx("p",{className:"text-sm text-gray-500",children:"Por favor, aguarde."})]})}),C.jsxs("div",{className:"flex gap-4 h-full overflow-hidden",children:[C.jsxs("div",{className:"flex-1 space-y-2 flex flex-col overflow-hidden",children:[C.jsxs("div",{className:"flex items-center space-x-1 overflow-x-auto border-b border-gray-200 pb-1",children:[e.map(pe=>C.jsxs("div",{onClick:()=>i(pe.id),className:`group flex items-center px-3 py-1.5 text-xs font-medium rounded-t-lg cursor-pointer border-t border-l border-r ${n===pe.id?"bg-white text-blue-600 border-gray-200 relative top-[1px]":"bg-gray-100 text-gray-500 hover:bg-gray-50 border-transparent"}`,children:[C.jsx("span",{className:"mr-2 max-w-[100px] truncate",children:pe.title}),C.jsx("button",{onClick:Me=>Er(Me,pe.id),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500",children:""})]},pe.id)),C.jsx("button",{onClick:Bt,className:"px-2 py-1 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Nova Aba",children:"+"})]}),C.jsxs("div",{className:"flex-none",children:[C.jsx("div",{ref:h,onClick:Xt,className:`border rounded overflow-hidden ${c.border} cursor-text`,children:r&&C.jsx(F_,{value:E.sqlContent,height:"200px",extensions:[eq({schema:ye,dialect:tq}),D_({override:[pe=>{let Me=pe.matchBefore(/\w*/);if(!Me||Me.from==Me.to&&!pe.explicit)return null;const Ve=[{label:"NVL",type:"function",detail:"nvl(expr1, expr2)"},{label:"NVL2",type:"function",detail:"nvl2(expr1, expr2, expr3)"},{label:"DECODE",type:"function",detail:"decode(expr, search, result...)"},{label:"TO_CHAR",type:"function",detail:"to_char(n, [fmt])"},{label:"TO_DATE",type:"function",detail:"to_date(char, [fmt])"},{label:"TO_NUMBER",type:"function",detail:"to_number(expr, [fmt])"},{label:"SUBSTR",type:"function",detail:"substr(char, position, [len])"},{label:"INSTR",type:"function",detail:"instr(string, substring)"},{label:"REPLACE",type:"function",detail:"replace(char, search, [replace])"},{label:"TRUNC",type:"function",detail:"trunc(date, [fmt])"},{label:"ROUND",type:"function",detail:"round(n, [integer])"},{label:"SYSDATE",type:"keyword",detail:"Current Date"},{label:"UPPER",type:"function",detail:"upper(char)"},{label:"LOWER",type:"function",detail:"lower(char)"},{label:"COALESCE",type:"function",detail:"coalesce(expr1, ...)"},{label:"LISTAGG",type:"function",detail:"listagg(measure, delimiter)"},{label:"CASE",type:"keyword",detail:"CASE WHEN ... END"},{label:"WHEN",type:"keyword"},{label:"THEN",type:"keyword"},{label:"ELSE",type:"keyword"},{label:"END",type:"keyword"}];return{from:Me.from,options:Ve}}]})],onChange:pe=>_({sqlContent:pe}),theme:c.name==="Modo Escuro"||c.name==="Dracula"?"dark":"light",className:"text-sm",onCreateEditor:pe=>{f.current=pe,pe.focus()}})}),C.jsxs("div",{className:`mt-2 flex items-center justify-between p-2 rounded border ${c.panel} ${c.border}`,children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("button",{onClick:rt,disabled:!E.sqlContent||E.loading,className:`py-2 px-6 rounded-lg shadow-md transition-all font-semibold flex items-center disabled:opacity-50 ${c.primaryBtn}`,children:E.loading?C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Executando..."]}):C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"mr-2",children:""})," Executar"]})}),E.totalRecords!==void 0&&C.jsxs("span",{className:"text-xs font-medium text-gray-500 ml-2",children:["Total: ",E.totalRecords.toLocaleString()," registros"]}),C.jsx("button",{onClick:()=>ie(!K),className:`px-3 py-1.5 rounded border transition-colors flex items-center justify-center ${K?`${c.primaryBtn}`:`${c.secondaryBtn}`}`,title:K?"Ocultar Menu Lateral":"Mostrar Menu Lateral",children:K?"":""}),C.jsx("input",{type:"file",accept:".sql",onChange:Be,title:"Carregar SQL",className:"w-8 text-transparent file:mr-0 file:py-1 file:px-2 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 transition-colors overflow-hidden"}),C.jsx("div",{className:`flex items-center border-l pl-2 ${c.border}`,children:C.jsxs("select",{value:O,onChange:pe=>H(pe.target.value==="all"?"all":Number(pe.target.value)),title:"Limite de Linhas",className:`border rounded p-1.5 text-xs focus:ring-2 focus:ring-blue-500 outline-none w-24 ${c.input} ${c.border}`,children:[C.jsx("option",{value:100,children:"100 linhas"}),C.jsx("option",{value:500,children:"500 linhas"}),C.jsx("option",{value:1e3,children:"1000 linhas"}),C.jsx("option",{value:5e3,children:"5000 linhas"}),C.jsx("option",{value:"all",children:"Todas"})]})})]}),C.jsx("div",{className:"flex items-center space-x-2",children:P?C.jsxs("div",{className:"flex items-center space-x-2 animate-fade-in",children:[C.jsx("input",{type:"text",value:N,onChange:pe=>I(pe.target.value),placeholder:"Nome da Query",className:`border rounded p-1.5 text-sm focus:ring-2 focus:ring-[#f37021] outline-none ${c.input} ${c.border}`,autoFocus:!0}),C.jsx("button",{onClick:vt,className:"text-green-600 hover:bg-green-50 p-1.5 rounded",title:"Confirmar",children:""}),C.jsx("button",{onClick:()=>q(!1),className:"text-red-600 hover:bg-red-50 p-1.5 rounded",title:"Cancelar",children:""})]}):C.jsxs("button",{onClick:()=>q(!0),disabled:!E.sqlContent,className:`px-3 py-2 rounded transition-colors text-sm font-medium flex items-center disabled:opacity-50 ${c.secondaryBtn}`,children:[C.jsx("span",{className:"mr-1",children:""})," Salvar Query"]})})]})]}),E.error&&C.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded shadow-sm",children:[C.jsx("p",{className:"text-red-700 font-medium",children:"Erro ao executar query:"}),C.jsx("p",{className:"text-sm text-red-600 mt-1",children:E.error})]}),E.results&&C.jsxs("div",{className:`rounded-lg shadow-md border flex-1 flex flex-col overflow-hidden min-h-0 ${c.panel} ${c.border}`,children:[C.jsxs("div",{className:`p-3 border-b flex justify-between items-center ${c.header}`,children:[C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsxs("h3",{className:`text-sm font-bold ${c.sidebarText}`,children:["Resultados (",tr.length," linhas ",O!=="all"&&E.results.rows.length>=O?"(Limitado)":"",")"]}),C.jsxs("div",{className:"relative",children:[C.jsx("button",{onClick:()=>$e(!Ye),className:`text-xs px-2 py-1 rounded border flex items-center ${c.secondaryBtn} ${c.border}`,children:" Colunas"}),Ye&&C.jsxs("div",{className:`absolute top-full left-0 mt-1 w-48 border rounded shadow-lg z-20 max-h-60 overflow-y-auto p-2 ${c.panel} ${c.border}`,children:[C.jsx("div",{className:"text-xs font-bold text-gray-500 mb-2 uppercase",children:"Exibir/Ocultar"}),tt.map(pe=>C.jsxs("label",{className:"flex items-center space-x-2 mb-1 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[C.jsx("input",{type:"checkbox",checked:Te[pe],onChange:Me=>be({...Te,[pe]:Me.target.checked}),className:"rounded text-blue-600 focus:ring-blue-500"}),C.jsx("span",{className:`text-sm truncate ${c.sidebarText}`,children:pe})]},pe))]})]}),C.jsx("button",{onClick:()=>ot(!De),className:`text-xs px-2 py-1 rounded border flex items-center ${De?`${c.primaryBtn}`:`${c.secondaryBtn} ${c.border}`}`,children:" Filtros"}),De&&C.jsxs("label",{className:"flex items-center space-x-1 cursor-pointer select-none",title:"Filtrar em todo o banco de dados (ignora limite)",children:[C.jsx("input",{type:"checkbox",checked:St,onChange:pe=>jt(pe.target.checked),className:"rounded text-blue-600 focus:ring-blue-500 h-3 w-3"}),C.jsx("span",{className:`text-[10px] font-medium ${c.sidebarText}`,children:"Filtrar Tudo (Servidor)"})]})]}),C.jsxs("div",{className:"flex space-x-2",children:[C.jsxs("button",{onClick:()=>vs("xlsx"),className:"text-xs px-3 py-1.5 rounded shadow-sm transition-colors font-medium flex items-center bg-green-600 hover:bg-green-700 text-white",children:[C.jsx("span",{className:"mr-1",children:""})," Compartilhar"]}),C.jsxs("button",{onClick:()=>vr("csv"),className:`text-xs border px-3 py-1.5 rounded transition-colors font-medium flex items-center ${c.secondaryBtn} ${c.border}`,children:[C.jsx("span",{className:"mr-1",children:""})," CSV"]}),C.jsxs("button",{onClick:()=>vr("xlsx"),className:`text-xs px-3 py-1.5 rounded shadow-sm transition-colors font-medium flex items-center ${c.primaryBtn}`,children:[C.jsx("span",{className:"mr-1",children:""})," Excel"]})]})]}),C.jsx("div",{className:"flex-1 w-full relative overflow-hidden",children:C.jsx(V_,{children:({height:pe,width:Me})=>{tt.filter(Ze=>Te[Ze]).length;const Ve=tt.reduce((Ze,ut)=>Te[ut]?Ze+(g[ut]||150):Ze,0),it=C.jsx("div",{className:`flex divide-x ${c.border} ${c.tableHeader} border-b font-bold text-xs uppercase tracking-wider h-full items-center bg-gray-50`,children:tt.map(Ze=>{if(!Te[Ze])return null;const ut=g[Ze]||150;return C.jsxs("div",{draggable:!0,onDragStart:at=>ui(at,Ze),onDragOver:at=>Ki(at,Ze),onDragEnd:Nn,className:`relative px-2 py-3 flex-none overflow-hidden text-ellipsis cursor-move transition-colors ${Ct===Ze?"opacity-50 bg-blue-50":""}`,style:{width:`${ut}px`,minWidth:`${ut}px`,maxWidth:`${ut}px`},children:[C.jsxs("div",{className:"flex flex-col space-y-2",children:[C.jsx("span",{className:"whitespace-normal break-words leading-tight",children:Ze}),De&&C.jsx("input",{type:"text",placeholder:St?"Filtrar (Enter)...":"Filtrar...",value:ct[Ze]||"",onChange:at=>Ce({...ct,[Ze]:at.target.value}),onKeyDown:at=>{at.key==="Enter"&&St&&rt()},className:`w-full text-xs p-1 border rounded font-normal normal-case ${c.input} ${c.border} ${St?"border-blue-400 bg-blue-50":""}`,onClick:at=>at.stopPropagation(),title:St?"Pressione Enter para buscar no servidor":"Filtragem local"})]}),C.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-400 z-10",onMouseDown:at=>S(at,Ze),onClick:at=>at.stopPropagation()})]},Ze)})});return C.jsx(q_,{height:pe,width:Me,itemCount:tr.length,itemSize:40,minWidth:Ve,header:it,headerHeight:De?80:45,children:hi})}})})]})]}),K&&C.jsxs("div",{className:`w-64 border-l flex flex-col shadow-sm transition-all duration-300 ${c.panel} ${c.border} overflow-hidden`,children:[C.jsxs("div",{className:`flex border-b ${c.border}`,children:[C.jsx("button",{onClick:()=>Z("saved"),className:`flex-1 py-2 text-xs font-bold uppercase ${le==="saved"?`border-b-2 border-blue-500 ${c.accent}`:"text-gray-400"}`,children:"Salvas"}),C.jsx("button",{onClick:()=>Z("schema"),className:`flex-1 py-2 text-xs font-bold uppercase ${le==="schema"?`border-b-2 border-blue-500 ${c.accent}`:"text-gray-400"}`,children:"Schema"}),C.jsx("button",{onClick:()=>ie(!1),className:"px-3 text-gray-400 hover:text-gray-600",children:""})]}),C.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:le==="saved"?C.jsxs(C.Fragment,{children:[s.length===0&&C.jsx("p",{className:"text-gray-400 text-xs text-center italic mt-4",children:"Nenhuma query salva."}),s.map(pe=>C.jsxs("div",{className:`group p-3 rounded border transition-all cursor-pointer relative ${c.border} hover:border-blue-300 hover:bg-blue-50`,onClick:()=>ft(pe),children:[C.jsx("div",{className:`font-medium text-sm truncate pr-6 ${c.text}`,children:pe.name}),C.jsxs("div",{className:"text-xs text-gray-400 truncate mt-1",children:[pe.sql.substring(0,30),"..."]}),C.jsx("button",{onClick:Me=>{Me.stopPropagation(),$t(pe.id)},className:"absolute top-2 right-2 text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity",title:"Excluir",children:""})]},pe.id))]}):C.jsxs("div",{className:`${c.bg} p-2 border-t space-y-1 flex flex-col h-full`,children:[C.jsxs("div",{className:"flex space-x-2 mb-2",children:[C.jsx("input",{type:"text",placeholder:"Buscar tabelas...",value:ne,onChange:pe=>ve(pe.target.value),onKeyDown:pe=>pe.key==="Enter"&&Gt(ne),className:`w-full text-xs p-1.5 rounded border outline-none ${c.input} ${c.border}`}),C.jsx("button",{onClick:()=>Gt(ne),disabled:W,className:`px-3 py-1 text-xs rounded font-medium transition-colors ${c.primaryBtn} disabled:opacity-50`,children:W?"...":""})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1",children:[Ee.length===0&&!W&&C.jsx("div",{className:"text-[10px] text-gray-400 italic text-center mt-4",children:"Use a busca para encontrar tabelas."}),Ee.map(pe=>C.jsxs("div",{className:`rounded border ${c.border} overflow-hidden`,children:[C.jsxs("div",{onClick:()=>he(pe),className:`px-2 py-1.5 text-xs font-medium cursor-pointer flex justify-between items-center hover:bg-opacity-50 ${j===pe?"bg-blue-50 text-blue-700":c.sidebarText} ${c.tableRowHover}`,children:[C.jsx("span",{className:"truncate",title:pe,children:pe}),C.jsx("span",{className:"text-[10px] opacity-50",children:j===pe?"":""})]}),j===pe&&C.jsx("div",{className:`p-1 pl-3 border-t ${c.border} bg-opacity-30 ${c.bg}`,children:(ye[pe]||[]).length===0?C.jsx("div",{className:"text-[10px] text-gray-400 italic px-2",children:"Carregando colunas..."}):C.jsxs(C.Fragment,{children:[(ye[pe]||[]).map(Me=>C.jsx("div",{className:`text-[10px] ${c.text} flex justify-between group cursor-pointer hover:text-blue-600 py-0.5 px-1 rounded hover:bg-gray-100`,title:"Clique duplo para inserir",onDoubleClick:()=>Ie(Me),children:C.jsx("span",{children:Me})},Me)),C.jsx("div",{className:"pt-1 mt-1 border-t border-dashed border-gray-200",children:C.jsx("button",{onClick:()=>Ie(`SELECT * FROM ${pe}`),className:"w-full text-[10px] bg-blue-50 text-blue-600 rounded py-0.5 hover:bg-blue-100 transition-colors",children:"Gerar SELECT"})})]})})]},pe))]})]})})]})]})]})}W_.propTypes={isVisible:gn.bool,tabs:gn.array.isRequired,setTabs:gn.func.isRequired,activeTabId:gn.number.isRequired,setActiveTabId:gn.func.isRequired,savedQueries:gn.array.isRequired,setSavedQueries:gn.func.isRequired};function aq({isVisible:r}){if(!r)return null;const[e,t]=Q.useState(1),[n,i]=Q.useState(null),[s,l]=Q.useState(";"),[c,f]=Q.useState(""),[h,d]=Q.useState([]),[m,g]=Q.useState(!1),[x,b]=Q.useState(""),[S,w]=Q.useState(0),[T,A]=Q.useState([]),[E,_]=Q.useState(""),[B,F]=Q.useState([]),[O,H]=Q.useState(!1),[N,I]=Q.useState(!1),[P,q]=Q.useState(null),[K,ie]=Q.useState(null),[le,Z]=Q.useState(""),ne=(Ce,Ye)=>{ie(Ye),Z(Ce.grantUser||"")},ve=()=>{ie(null),Z("")},Ee=async(Ce,Ye)=>{if(!le.trim()){alert("Por favor, informe um usurio.");return}try{const De=await(await fetch("http://localhost:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:`GRANT SELECT ON "${Ce.tableName}" TO "${le.toUpperCase()}"`})})).json();if(De.error){alert("Erro ao conceder permisso: "+De.error);return}const ot=[...B];ot[Ye].grantUser=le.toUpperCase(),F(ot),localStorage.setItem("hap_csv_history",JSON.stringify(ot)),ie(null),Z(""),alert(`Permisso concedida para ${le.toUpperCase()} com sucesso!`)}catch($e){alert("Erro de rede: "+$e.message)}};gr.useEffect(()=>{const Ce=localStorage.getItem("hap_csv_history");if(Ce)try{F(JSON.parse(Ce))}catch(Ye){console.error("Failed to parse history",Ye)}},[]);const[Ne,j]=Q.useState(5),D=Ce=>{const Ye=[Ce,...B].slice(0,50);F(Ye),localStorage.setItem("hap_csv_history",JSON.stringify(Ye))},M=async(Ce,Ye)=>{if(window.confirm(`Tem certeza que deseja excluir o histrico e a tabela "${Ce.tableName}"?`))try{const De=await(await fetch("http://localhost:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:`DROP TABLE "${Ce.tableName}"`})})).json();if(De.error&&!De.error.includes("ORA-00942")){alert("Erro ao excluir tabela: "+De.error);return}const ot=[...B];ot.splice(Ye,1),F(ot),localStorage.setItem("hap_csv_history",JSON.stringify(ot))}catch($e){alert("Erro de rede: "+$e.message)}},R=async Ce=>{try{const $e=await(await fetch("http://localhost:3001/api/check-table",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tableName:Ce})})).json();H($e.exists),$e.exists?b(`A tabela ${Ce} j existe.`):b("")}catch(Ye){console.error("Error checking table:",Ye)}},[W,ee]=Q.useState(null),[ye,xe]=Q.useState(";"),[Te,be]=Q.useState(0),tt=async Ce=>{let Ye=null,$e=null;if(Ce&&Ce.target&&Ce.target.files&&Ce.target.files[0]){const De=Ce.target.files[0];Ye=De.path,$e=De.name}else{if(!window.electronAPI){alert("Funcionalidade disponvel apenas no App Desktop.");return}Ye=await window.electronAPI.selectFile(),Ye&&($e=Ye.split(/[/\\]/).pop())}if(Ye){ee(Ye),i({name:$e,path:Ye}),g(!0),b("Analisando arquivo..."),w(10);try{const ot=await(await fetch("http://127.0.0.1:3001/api/analyze-local-csv",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:Ye,delimiter:s})})).json();if(ot.error)throw new Error(ot.error);A(ot.preview),f(ot.tableName),d(ot.columns),ee(ot.filePath),be(ot.totalEstimatedRows||0),ot.delimiter&&(l(ot.delimiter),xe(ot.delimiter)),await R(ot.tableName),t(2),g(!1),b("")}catch(De){b("Erro ao analisar arquivo: "+De.message),g(!1)}}},Ke=async()=>{const Ce="job_"+Date.now()+"_"+Math.floor(Math.random()*1e3);q(Ce),g(!0),b("Iniciando importao..."),w(0);const Ye=setInterval(async()=>{try{const $e=await fetch(`http://127.0.0.1:3001/api/import-status/${Ce}`);if($e.ok){const De=await $e.json();if(De.status&&b(De.status),De.insertedRows&&Te>0){const ot=Math.min(Math.round(De.insertedRows/Te*100),99);w(ot)}De.progress&&w(De.progress)}}catch($e){console.error("Polling error",$e)}},1e3);try{const $e=await fetch("http://127.0.0.1:3001/api/create-table",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tableName:c,columns:h,data:T,filePath:W,delimiter:s,grantToUser:E,dropIfExists:N,jobId:Ce})});clearInterval(Ye);const De=await $e.json();De.success?(b("Importao concluda com sucesso!"),w(100),D({fileName:n.name,tableName:c,date:new Date().toISOString(),grantUser:E||"Nenhum",rowCount:De.totalInserted}),setTimeout(()=>{t(1),i(null),A([]),d([]),f(""),_(""),ee(null),be(0),g(!1),H(!1),I(!1),q(null),alert(De.message)},1500)):(b("Erro: "+De.message),g(!1),q(null))}catch($e){clearInterval(Ye),b("Erro de rede: "+$e.message),g(!1),q(null)}},ct=async()=>{if(P)try{await fetch(`http://127.0.0.1:3001/api/cancel-import/${P}`,{method:"POST"}),b("Cancelando...")}catch(Ce){console.error("Cancel error",Ce)}};return C.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm border border-gray-200 h-full flex flex-col",children:[C.jsx("h2",{className:"text-2xl font-bold text-[#0054a6] mb-6",children:"Importar Arquivo CSV"}),C.jsxs("div",{className:"flex items-center mb-8",children:[C.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${e>=1?"bg-[#f37021] text-white":"bg-gray-200 text-gray-600"} font-bold`,children:"1"}),C.jsx("div",{className:`flex-1 h-1 mx-2 ${e>=2?"bg-[#f37021]":"bg-gray-200"}`}),C.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${e>=2?"bg-[#f37021] text-white":"bg-gray-200 text-gray-600"} font-bold`,children:"2"}),C.jsx("div",{className:`flex-1 h-1 mx-2 ${e>=3?"bg-[#f37021]":"bg-gray-200"}`}),C.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${e>=3?"bg-[#f37021] text-white":"bg-gray-200 text-gray-600"} font-bold`,children:"3"})]}),e===1&&C.jsxs("div",{className:"flex-1 flex flex-col space-y-6 overflow-y-auto",children:[C.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer min-h-[200px]",onClick:()=>tt(),onDragOver:Ce=>{Ce.preventDefault(),Ce.stopPropagation()},onDrop:Ce=>{Ce.preventDefault(),Ce.stopPropagation(),Ce.dataTransfer.files&&Ce.dataTransfer.files[0]&&tt({target:{files:Ce.dataTransfer.files}})},children:[C.jsx("div",{className:"text-6xl mb-4",children:""}),C.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"Clique para selecionar um arquivo CSV"}),C.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"ou arraste e solte aqui"}),m&&C.jsx("p",{className:"mt-4 text-blue-600",children:x}),x&&x.startsWith("Erro")&&C.jsx("p",{className:"mt-4 text-red-600",children:x})]}),B.length>0&&C.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[C.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-3",children:"ltimas Importaes"}),C.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden overflow-x-auto",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[C.jsx("thead",{className:"bg-gray-50",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Arquivo"}),C.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Tabela"}),C.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Data"}),C.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Registros"}),C.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Permisso"}),C.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Aes"})]})}),C.jsx("tbody",{className:"divide-y divide-gray-200",children:B.slice(0,Ne).map((Ce,Ye)=>C.jsxs("tr",{className:"hover:bg-gray-50",children:[C.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 whitespace-nowrap",children:Ce.fileName}),C.jsx("td",{className:"px-4 py-2 text-sm text-[#0054a6] font-medium whitespace-nowrap",children:Ce.tableName}),C.jsxs("td",{className:"px-4 py-2 text-sm text-gray-500 whitespace-nowrap",children:[new Date(Ce.date).toLocaleDateString()," ",new Date(Ce.date).toLocaleTimeString()]}),C.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 whitespace-nowrap",children:Ce.rowCount||"-"}),C.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 whitespace-nowrap",children:K===Ye?C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("input",{type:"text",value:le,onChange:$e=>Z($e.target.value),className:"border rounded px-2 py-1 text-xs w-24 uppercase",placeholder:"USURIO"}),C.jsx("button",{onClick:()=>Ee(Ce,Ye),className:"text-green-600 hover:text-green-800",title:"Salvar",children:""}),C.jsx("button",{onClick:ve,className:"text-red-600 hover:text-red-800",title:"Cancelar",children:""})]}):C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("span",{children:Ce.grantUser||"-"}),C.jsx("button",{onClick:()=>ne(Ce,Ye),className:"text-blue-600 hover:text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity",title:"Editar Permisso",children:""})]})}),C.jsx("td",{className:"px-4 py-2 text-center whitespace-nowrap",children:C.jsx("button",{onClick:()=>M(Ce,Ye),className:"text-red-600 hover:text-red-800 hover:bg-red-50 p-1 rounded transition-colors",title:"Excluir Histrico e Tabela",children:""})})]},Ye))})]})}),B.length>Ne&&C.jsx("div",{className:"mt-2 text-center",children:C.jsx("button",{onClick:()=>j(Ce=>Ce+5),className:"text-sm text-[#0054a6] hover:underline font-medium",children:"Ver mais..."})})]})]}),e===2&&C.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Visualizar e Editar Colunas"}),C.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 px-3 py-1 rounded border border-blue-100",children:[C.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Tabela:"}),C.jsx("input",{type:"text",value:c,onChange:Ce=>f(Ce.target.value.toUpperCase()),onBlur:()=>R(c),className:"bg-white border border-blue-200 rounded px-2 py-0.5 text-sm font-bold text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-400 uppercase",placeholder:"NOME_DA_TABELA"})]})]}),C.jsxs("div",{className:"text-sm text-gray-500",children:["Total estimado: ",C.jsx("span",{className:"font-bold",children:Te})," linhas"]})]}),C.jsx("div",{className:"flex-1 overflow-auto border border-gray-200 rounded-lg",children:C.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[C.jsx("thead",{className:"bg-gray-50 sticky top-0",children:C.jsx("tr",{children:h.map((Ce,Ye)=>C.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:C.jsxs("div",{className:"flex flex-col space-y-1",children:[C.jsx("input",{type:"text",value:Ce.name,onChange:$e=>{const De=[...h];De[Ye].name=$e.target.value.toUpperCase(),d(De)},className:"bg-transparent border-b border-gray-300 focus:border-[#0054a6] outline-none text-xs font-bold"}),C.jsxs("select",{value:Ce.type,onChange:$e=>{const De=[...h];De[Ye].type=$e.target.value,d(De)},className:"text-xs border-none bg-transparent focus:ring-0 p-0 text-gray-500",children:[C.jsx("option",{value:"VARCHAR2(255)",children:"VARCHAR2(255)"}),C.jsx("option",{value:"NUMBER",children:"NUMBER"}),C.jsx("option",{value:"DATE",children:"DATE"}),C.jsx("option",{value:"CLOB",children:"CLOB"})]})]})},Ye))})}),C.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.slice(0,5).map((Ce,Ye)=>C.jsx("tr",{children:h.map(($e,De)=>C.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Ce[Object.keys(Ce)[De]]},De))},Ye))})]})}),C.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[C.jsx("button",{onClick:()=>t(1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Voltar"}),C.jsx("button",{onClick:()=>t(3),className:"px-4 py-2 bg-[#0054a6] text-white rounded-md hover:bg-blue-800",children:"Prximo"})]})]}),e===3&&C.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-lg mx-auto w-full",children:[C.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"Confirmar Importao"}),C.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg w-full mb-6 border border-gray-200",children:[C.jsxs("div",{className:"flex justify-between mb-2",children:[C.jsx("span",{className:"text-gray-600",children:"Arquivo:"}),C.jsx("span",{className:"font-medium",children:n?.name})]}),C.jsxs("div",{className:"flex justify-between mb-2",children:[C.jsx("span",{className:"text-gray-600",children:"Tabela Destino:"}),C.jsx("span",{className:"font-medium text-[#0054a6]",children:c})]}),C.jsxs("div",{className:"flex justify-between mb-2",children:[C.jsx("span",{className:"text-gray-600",children:"Colunas:"}),C.jsx("span",{className:"font-medium",children:h.length})]}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{className:"text-gray-600",children:"Linhas Estimadas:"}),C.jsx("span",{className:"font-medium",children:Te>0?Te:"Calculando..."})]})]}),O&&C.jsxs("div",{className:"w-full mb-6 bg-orange-50 border border-orange-200 p-4 rounded-lg",children:[C.jsxs("h4",{className:"text-orange-800 font-bold mb-2 flex items-center",children:[C.jsx("span",{className:"mr-2",children:""})," Tabela Existente"]}),C.jsxs("p",{className:"text-sm text-orange-700 mb-3",children:["A tabela ",C.jsx("strong",{children:c})," j existe no banco de dados. O que voc deseja fazer?"]}),C.jsxs("div",{className:"flex space-x-3",children:[C.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[C.jsx("input",{type:"radio",checked:!N,onChange:()=>I(!1),className:"text-orange-600 focus:ring-orange-500"}),C.jsx("span",{className:"text-sm text-gray-700",children:"Cancelar e Renomear (Voltar)"})]}),C.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[C.jsx("input",{type:"radio",checked:N,onChange:()=>I(!0),className:"text-red-600 focus:ring-red-500"}),C.jsx("span",{className:"text-sm text-red-700 font-medium",children:"Recriar Tabela (Apagar dados antigos)"})]})]})]}),C.jsxs("div",{className:"w-full mb-6",children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conceder Permisso de Acesso (GRANT ALL) para outro usurio (Opcional):"}),C.jsx("input",{type:"text",value:E,onChange:Ce=>_(Ce.target.value.toUpperCase()),placeholder:"Ex: OUTRO_USUARIO",className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0054a6] outline-none"}),C.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Se preenchido, executar: ",C.jsxs("code",{children:["GRANT ALL ON ",c," TO ",E||"USUARIO"]})]})]}),m?C.jsxs("div",{className:"w-full text-center",children:[C.jsxs("div",{className:"mb-2 flex justify-between text-sm font-medium text-gray-700",children:[C.jsx("span",{children:x}),C.jsxs("span",{children:[S,"%"]})]}),C.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:C.jsx("div",{className:"bg-[#0054a6] h-2.5 rounded-full transition-all duration-500",style:{width:`${S}%`}})}),C.jsx("button",{onClick:ct,className:"px-4 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 text-sm font-medium",children:"Cancelar Importao"})]}):C.jsxs("div",{className:"flex flex-col w-full",children:[C.jsxs("div",{className:"flex space-x-3 w-full",children:[C.jsx("button",{onClick:()=>t(2),className:"flex-1 px-4 py-3 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 font-medium",children:"Voltar"}),C.jsx("button",{onClick:()=>{O&&!N?(t(2),alert("Por favor, renomeie a tabela para continuar.")):Ke()},className:`flex-1 px-4 py-3 text-white rounded-md font-bold shadow-md ${O&&!N?"bg-gray-400 cursor-not-allowed":"bg-[#f37021] hover:bg-orange-600"}`,disabled:O&&!N,children:O&&N?"Recriar e Importar":"Iniciar Importao"})]}),x&&x.startsWith("Erro")&&C.jsx("p",{className:"mt-4 text-red-600 text-center font-medium",children:x})]})]})]})}var l0=KC();function lq(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return Q.useMemo(()=>n=>{e.forEach(i=>i(n))},e)}const wp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function nc(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function Xv(r){return"nodeType"in r}function Bn(r){var e,t;return r?nc(r)?r:Xv(r)&&(e=(t=r.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Yv(r){const{Document:e}=Bn(r);return r instanceof e}function mf(r){return nc(r)?!1:r instanceof Bn(r).HTMLElement}function G_(r){return r instanceof Bn(r).SVGElement}function ic(r){return r?nc(r)?r.document:Xv(r)?Yv(r)?r:mf(r)||G_(r)?r.ownerDocument:document:document:document}const Gi=wp?Q.useLayoutEffect:Q.useEffect;function Ep(r){const e=Q.useRef(r);return Gi(()=>{e.current=r}),Q.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function oq(){const r=Q.useRef(null),e=Q.useCallback((n,i)=>{r.current=setInterval(n,i)},[]),t=Q.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,t]}function K0(r,e){e===void 0&&(e=[r]);const t=Q.useRef(r);return Gi(()=>{t.current!==r&&(t.current=r)},e),t}function gf(r,e){const t=Q.useRef();return Q.useMemo(()=>{const n=r(t.current);return t.current=n,n},[...e])}function Xd(r){const e=Ep(r),t=Q.useRef(null),n=Q.useCallback(i=>{i!==t.current&&e?.(i,t.current),t.current=i},[]);return[t,n]}function Yd(r){const e=Q.useRef();return Q.useEffect(()=>{e.current=r},[r]),e.current}let Ox={};function xf(r,e){return Q.useMemo(()=>{if(e)return e;const t=Ox[r]==null?0:Ox[r]+1;return Ox[r]=t,r+"-"+t},[r,e])}function $_(r){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce((s,l)=>{const c=Object.entries(l);for(const[f,h]of c){const d=s[f];d!=null&&(s[f]=d+r*h)}return s},{...e})}}const zo=$_(1),Q0=$_(-1);function cq(r){return"clientX"in r&&"clientY"in r}function Cp(r){if(!r)return!1;const{KeyboardEvent:e}=Bn(r.target);return e&&r instanceof e}function fq(r){if(!r)return!1;const{TouchEvent:e}=Bn(r.target);return e&&r instanceof e}function Kd(r){if(fq(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:t}=r.touches[0];return{x:e,y:t}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:t}=r.changedTouches[0];return{x:e,y:t}}}return cq(r)?{x:r.clientX,y:r.clientY}:null}const Ha=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:t}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:t}=r;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(r){if(r)return[Ha.Translate.toString(r),Ha.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:t,easing:n}=r;return e+" "+t+"ms "+n}}}),FC="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function uq(r){return r.matches(FC)?r:r.querySelector(FC)}const hq={display:"none"};function dq(r){let{id:e,value:t}=r;return gr.createElement("div",{id:e,style:hq},t)}function pq(r){let{id:e,announcement:t,ariaLiveType:n="assertive"}=r;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return gr.createElement("div",{id:e,style:i,role:"status","aria-live":n,"aria-atomic":!0},t)}function mq(){const[r,e]=Q.useState("");return{announce:Q.useCallback(n=>{n!=null&&e(n)},[]),announcement:r}}const X_=Q.createContext(null);function gq(r){const e=Q.useContext(X_);Q.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function xq(){const[r]=Q.useState(()=>new Set),e=Q.useCallback(n=>(r.add(n),()=>r.delete(n)),[r]);return[Q.useCallback(n=>{let{type:i,event:s}=n;r.forEach(l=>{var c;return(c=l[i])==null?void 0:c.call(l,s)})},[r]),e]}const vq={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},yq={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function bq(r){let{announcements:e=yq,container:t,hiddenTextDescribedById:n,screenReaderInstructions:i=vq}=r;const{announce:s,announcement:l}=mq(),c=xf("DndLiveRegion"),[f,h]=Q.useState(!1);if(Q.useEffect(()=>{h(!0)},[]),gq(Q.useMemo(()=>({onDragStart(m){let{active:g}=m;s(e.onDragStart({active:g}))},onDragMove(m){let{active:g,over:x}=m;e.onDragMove&&s(e.onDragMove({active:g,over:x}))},onDragOver(m){let{active:g,over:x}=m;s(e.onDragOver({active:g,over:x}))},onDragEnd(m){let{active:g,over:x}=m;s(e.onDragEnd({active:g,over:x}))},onDragCancel(m){let{active:g,over:x}=m;s(e.onDragCancel({active:g,over:x}))}}),[s,e])),!f)return null;const d=gr.createElement(gr.Fragment,null,gr.createElement(dq,{id:n,value:i.draggable}),gr.createElement(pq,{id:c,announcement:l}));return t?l0.createPortal(d,t):d}var Hr;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(Hr||(Hr={}));function Qd(){}function MC(r,e){return Q.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function Sq(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return Q.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const $i=Object.freeze({x:0,y:0});function Y_(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function wq(r,e){const t=Kd(r);if(!t)return"0 0";const n={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function K_(r,e){let{data:{value:t}}=r,{data:{value:n}}=e;return t-n}function Eq(r,e){let{data:{value:t}}=r,{data:{value:n}}=e;return n-t}function LC(r){let{left:e,top:t,height:n,width:i}=r;return[{x:e,y:t},{x:e+i,y:t},{x:e,y:t+n},{x:e+i,y:t+n}]}function Q_(r,e){if(!r||r.length===0)return null;const[t]=r;return t[e]}function IC(r,e,t){return e===void 0&&(e=r.left),t===void 0&&(t=r.top),{x:e+r.width*.5,y:t+r.height*.5}}const Cq=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=r;const i=IC(e,e.left,e.top),s=[];for(const l of n){const{id:c}=l,f=t.get(c);if(f){const h=Y_(IC(f),i);s.push({id:c,data:{droppableContainer:l,value:h}})}}return s.sort(K_)},Aq=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=r;const i=LC(e),s=[];for(const l of n){const{id:c}=l,f=t.get(c);if(f){const h=LC(f),d=i.reduce((g,x,b)=>g+Y_(h[b],x),0),m=Number((d/4).toFixed(4));s.push({id:c,data:{droppableContainer:l,value:m}})}}return s.sort(K_)};function Tq(r,e){const t=Math.max(e.top,r.top),n=Math.max(e.left,r.left),i=Math.min(e.left+e.width,r.left+r.width),s=Math.min(e.top+e.height,r.top+r.height),l=i-n,c=s-t;if(n<i&&t<s){const f=e.width*e.height,h=r.width*r.height,d=l*c,m=d/(f+h-d);return Number(m.toFixed(4))}return 0}const _q=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=r;const i=[];for(const s of n){const{id:l}=s,c=t.get(l);if(c){const f=Tq(c,e);f>0&&i.push({id:l,data:{droppableContainer:s,value:f}})}}return i.sort(Eq)};function Dq(r,e,t){return{...r,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function Z_(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:$i}function kq(r){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((l,c)=>({...l,top:l.top+r*c.y,bottom:l.bottom+r*c.y,left:l.left+r*c.x,right:l.right+r*c.x}),{...t})}}const Oq=kq(1);function J_(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Bq(r,e,t){const n=J_(e);if(!n)return r;const{scaleX:i,scaleY:s,x:l,y:c}=n,f=r.left-l-(1-i)*parseFloat(t),h=r.top-c-(1-s)*parseFloat(t.slice(t.indexOf(" ")+1)),d=i?r.width/i:r.width,m=s?r.height/s:r.height;return{width:d,height:m,top:h,right:f+d,bottom:h+m,left:f}}const Nq={ignoreTransform:!1};function sc(r,e){e===void 0&&(e=Nq);let t=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:d}=Bn(r).getComputedStyle(r);h&&(t=Bq(t,h,d))}const{top:n,left:i,width:s,height:l,bottom:c,right:f}=t;return{top:n,left:i,width:s,height:l,bottom:c,right:f}}function PC(r){return sc(r,{ignoreTransform:!0})}function Rq(r){const e=r.innerWidth,t=r.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Fq(r,e){return e===void 0&&(e=Bn(r).getComputedStyle(r)),e.position==="fixed"}function Mq(r,e){e===void 0&&(e=Bn(r).getComputedStyle(r));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?t.test(s):!1})}function Ap(r,e){const t=[];function n(i){if(e!=null&&t.length>=e||!i)return t;if(Yv(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!mf(i)||G_(i)||t.includes(i))return t;const s=Bn(r).getComputedStyle(i);return i!==r&&Mq(i,s)&&t.push(i),Fq(i,s)?t:n(i.parentNode)}return r?n(r):t}function e6(r){const[e]=Ap(r,1);return e??null}function Bx(r){return!wp||!r?null:nc(r)?r:Xv(r)?Yv(r)||r===ic(r).scrollingElement?window:mf(r)?r:null:null}function t6(r){return nc(r)?r.scrollX:r.scrollLeft}function r6(r){return nc(r)?r.scrollY:r.scrollTop}function z1(r){return{x:t6(r),y:r6(r)}}var qr;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(qr||(qr={}));function n6(r){return!wp||!r?!1:r===document.scrollingElement}function i6(r){const e={x:0,y:0},t=n6(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},n={x:r.scrollWidth-t.width,y:r.scrollHeight-t.height},i=r.scrollTop<=e.y,s=r.scrollLeft<=e.x,l=r.scrollTop>=n.y,c=r.scrollLeft>=n.x;return{isTop:i,isLeft:s,isBottom:l,isRight:c,maxScroll:n,minScroll:e}}const Lq={x:.2,y:.2};function Iq(r,e,t,n,i){let{top:s,left:l,right:c,bottom:f}=t;n===void 0&&(n=10),i===void 0&&(i=Lq);const{isTop:h,isBottom:d,isLeft:m,isRight:g}=i6(r),x={x:0,y:0},b={x:0,y:0},S={height:e.height*i.y,width:e.width*i.x};return!h&&s<=e.top+S.height?(x.y=qr.Backward,b.y=n*Math.abs((e.top+S.height-s)/S.height)):!d&&f>=e.bottom-S.height&&(x.y=qr.Forward,b.y=n*Math.abs((e.bottom-S.height-f)/S.height)),!g&&c>=e.right-S.width?(x.x=qr.Forward,b.x=n*Math.abs((e.right-S.width-c)/S.width)):!m&&l<=e.left+S.width&&(x.x=qr.Backward,b.x=n*Math.abs((e.left+S.width-l)/S.width)),{direction:x,speed:b}}function Pq(r){if(r===document.scrollingElement){const{innerWidth:s,innerHeight:l}=window;return{top:0,left:0,right:s,bottom:l,width:s,height:l}}const{top:e,left:t,right:n,bottom:i}=r.getBoundingClientRect();return{top:e,left:t,right:n,bottom:i,width:r.clientWidth,height:r.clientHeight}}function s6(r){return r.reduce((e,t)=>zo(e,z1(t)),$i)}function jq(r){return r.reduce((e,t)=>e+t6(t),0)}function zq(r){return r.reduce((e,t)=>e+r6(t),0)}function a6(r,e){if(e===void 0&&(e=sc),!r)return;const{top:t,left:n,bottom:i,right:s}=e(r);e6(r)&&(i<=0||s<=0||t>=window.innerHeight||n>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const Hq=[["x",["left","right"],jq],["y",["top","bottom"],zq]];class Kv{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Ap(t),i=s6(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,l,c]of Hq)for(const f of l)Object.defineProperty(this,f,{get:()=>{const h=c(n),d=i[s]-h;return this.rect[f]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class w0{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...t)})},this.target=e}add(e,t,n){var i;(i=this.target)==null||i.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function Uq(r){const{EventTarget:e}=Bn(r);return r instanceof e?r:ic(r)}function Nx(r,e){const t=Math.abs(r.x),n=Math.abs(r.y);return typeof e=="number"?Math.sqrt(t**2+n**2)>e:"x"in e&&"y"in e?t>e.x&&n>e.y:"x"in e?t>e.x:"y"in e?n>e.y:!1}var Ti;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(Ti||(Ti={}));function jC(r){r.preventDefault()}function Vq(r){r.stopPropagation()}var Dt;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Dt||(Dt={}));const l6={start:[Dt.Space,Dt.Enter],cancel:[Dt.Esc],end:[Dt.Space,Dt.Enter,Dt.Tab]},qq=(r,e)=>{let{currentCoordinates:t}=e;switch(r.code){case Dt.Right:return{...t,x:t.x+25};case Dt.Left:return{...t,x:t.x-25};case Dt.Down:return{...t,y:t.y+25};case Dt.Up:return{...t,y:t.y-25}}};class Qv{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new w0(ic(t)),this.windowListeners=new w0(Bn(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ti.Resize,this.handleCancel),this.windowListeners.add(Ti.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ti.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&a6(n),t($i)}handleKeyDown(e){if(Cp(e)){const{active:t,context:n,options:i}=this.props,{keyboardCodes:s=l6,coordinateGetter:l=qq,scrollBehavior:c="smooth"}=i,{code:f}=e;if(s.end.includes(f)){this.handleEnd(e);return}if(s.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:h}=n.current,d=h?{x:h.left,y:h.top}:$i;this.referenceCoordinates||(this.referenceCoordinates=d);const m=l(e,{active:t,context:n.current,currentCoordinates:d});if(m){const g=Q0(m,d),x={x:0,y:0},{scrollableAncestors:b}=n.current;for(const S of b){const w=e.code,{isTop:T,isRight:A,isLeft:E,isBottom:_,maxScroll:B,minScroll:F}=i6(S),O=Pq(S),H={x:Math.min(w===Dt.Right?O.right-O.width/2:O.right,Math.max(w===Dt.Right?O.left:O.left+O.width/2,m.x)),y:Math.min(w===Dt.Down?O.bottom-O.height/2:O.bottom,Math.max(w===Dt.Down?O.top:O.top+O.height/2,m.y))},N=w===Dt.Right&&!A||w===Dt.Left&&!E,I=w===Dt.Down&&!_||w===Dt.Up&&!T;if(N&&H.x!==m.x){const P=S.scrollLeft+g.x,q=w===Dt.Right&&P<=B.x||w===Dt.Left&&P>=F.x;if(q&&!g.y){S.scrollTo({left:P,behavior:c});return}q?x.x=S.scrollLeft-P:x.x=w===Dt.Right?S.scrollLeft-B.x:S.scrollLeft-F.x,x.x&&S.scrollBy({left:-x.x,behavior:c});break}else if(I&&H.y!==m.y){const P=S.scrollTop+g.y,q=w===Dt.Down&&P<=B.y||w===Dt.Up&&P>=F.y;if(q&&!g.x){S.scrollTo({top:P,behavior:c});return}q?x.y=S.scrollTop-P:x.y=w===Dt.Down?S.scrollTop-B.y:S.scrollTop-F.y,x.y&&S.scrollBy({top:-x.y,behavior:c});break}}this.handleMove(e,zo(Q0(m,this.referenceCoordinates),x))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Qv.activators=[{eventName:"onKeyDown",handler:(r,e,t)=>{let{keyboardCodes:n=l6,onActivation:i}=e,{active:s}=t;const{code:l}=r.nativeEvent;if(n.start.includes(l)){const c=s.activatorNode.current;return c&&r.target!==c?!1:(r.preventDefault(),i?.({event:r.nativeEvent}),!0)}return!1}}];function zC(r){return!!(r&&"distance"in r)}function HC(r){return!!(r&&"delay"in r)}class Zv{constructor(e,t,n){var i;n===void 0&&(n=Uq(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:l}=s;this.props=e,this.events=t,this.document=ic(l),this.documentListeners=new w0(this.document),this.listeners=new w0(n),this.windowListeners=new w0(Bn(l)),this.initialCoordinates=(i=Kd(s))!=null?i:$i,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ti.Resize,this.handleCancel),this.windowListeners.add(Ti.DragStart,jC),this.windowListeners.add(Ti.VisibilityChange,this.handleCancel),this.windowListeners.add(Ti.ContextMenu,jC),this.documentListeners.add(Ti.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(HC(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(zC(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:i}=this.props;i(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ti.Click,Vq,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ti.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:i,props:s}=this,{onMove:l,options:{activationConstraint:c}}=s;if(!i)return;const f=(t=Kd(e))!=null?t:$i,h=Q0(i,f);if(!n&&c){if(zC(c)){if(c.tolerance!=null&&Nx(h,c.tolerance))return this.handleCancel();if(Nx(h,c.distance))return this.handleStart()}if(HC(c)&&Nx(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}e.cancelable&&e.preventDefault(),l(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Dt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Wq={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Jv extends Zv{constructor(e){const{event:t}=e,n=ic(t.target);super(e,Wq,n)}}Jv.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;return!t.isPrimary||t.button!==0?!1:(n?.({event:t}),!0)}}];const Gq={move:{name:"mousemove"},end:{name:"mouseup"}};var H1;(function(r){r[r.RightClick=2]="RightClick"})(H1||(H1={}));class $q extends Zv{constructor(e){super(e,Gq,ic(e.event.target))}}$q.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;return t.button===H1.RightClick?!1:(n?.({event:t}),!0)}}];const Rx={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Xq extends Zv{constructor(e){super(e,Rx)}static setup(){return window.addEventListener(Rx.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Rx.move.name,e)};function e(){}}}Xq.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;const{touches:i}=t;return i.length>1?!1:(n?.({event:t}),!0)}}];var E0;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(E0||(E0={}));var Zd;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(Zd||(Zd={}));function Yq(r){let{acceleration:e,activator:t=E0.Pointer,canScroll:n,draggingRect:i,enabled:s,interval:l=5,order:c=Zd.TreeOrder,pointerCoordinates:f,scrollableAncestors:h,scrollableAncestorRects:d,delta:m,threshold:g}=r;const x=Qq({delta:m,disabled:!s}),[b,S]=oq(),w=Q.useRef({x:0,y:0}),T=Q.useRef({x:0,y:0}),A=Q.useMemo(()=>{switch(t){case E0.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case E0.DraggableRect:return i}},[t,i,f]),E=Q.useRef(null),_=Q.useCallback(()=>{const F=E.current;if(!F)return;const O=w.current.x*T.current.x,H=w.current.y*T.current.y;F.scrollBy(O,H)},[]),B=Q.useMemo(()=>c===Zd.TreeOrder?[...h].reverse():h,[c,h]);Q.useEffect(()=>{if(!s||!h.length||!A){S();return}for(const F of B){if(n?.(F)===!1)continue;const O=h.indexOf(F),H=d[O];if(!H)continue;const{direction:N,speed:I}=Iq(F,H,A,e,g);for(const P of["x","y"])x[P][N[P]]||(I[P]=0,N[P]=0);if(I.x>0||I.y>0){S(),E.current=F,b(_,l),w.current=I,T.current=N;return}}w.current={x:0,y:0},T.current={x:0,y:0},S()},[e,_,n,S,s,l,JSON.stringify(A),JSON.stringify(x),b,h,B,d,JSON.stringify(g)])}const Kq={x:{[qr.Backward]:!1,[qr.Forward]:!1},y:{[qr.Backward]:!1,[qr.Forward]:!1}};function Qq(r){let{delta:e,disabled:t}=r;const n=Yd(e);return gf(i=>{if(t||!n||!i)return Kq;const s={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[qr.Backward]:i.x[qr.Backward]||s.x===-1,[qr.Forward]:i.x[qr.Forward]||s.x===1},y:{[qr.Backward]:i.y[qr.Backward]||s.y===-1,[qr.Forward]:i.y[qr.Forward]||s.y===1}}},[t,e,n])}function Zq(r,e){const t=e!=null?r.get(e):void 0,n=t?t.node.current:null;return gf(i=>{var s;return e==null?null:(s=n??i)!=null?s:null},[n,e])}function Jq(r,e){return Q.useMemo(()=>r.reduce((t,n)=>{const{sensor:i}=n,s=i.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,n)}));return[...t,...s]},[]),[r,e])}var Z0;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(Z0||(Z0={}));var U1;(function(r){r.Optimized="optimized"})(U1||(U1={}));const UC=new Map;function eW(r,e){let{dragging:t,dependencies:n,config:i}=e;const[s,l]=Q.useState(null),{frequency:c,measure:f,strategy:h}=i,d=Q.useRef(r),m=w(),g=K0(m),x=Q.useCallback(function(T){T===void 0&&(T=[]),!g.current&&l(A=>A===null?T:A.concat(T.filter(E=>!A.includes(E))))},[g]),b=Q.useRef(null),S=gf(T=>{if(m&&!t)return UC;if(!T||T===UC||d.current!==r||s!=null){const A=new Map;for(let E of r){if(!E)continue;if(s&&s.length>0&&!s.includes(E.id)&&E.rect.current){A.set(E.id,E.rect.current);continue}const _=E.node.current,B=_?new Kv(f(_),_):null;E.rect.current=B,B&&A.set(E.id,B)}return A}return T},[r,s,t,m,f]);return Q.useEffect(()=>{d.current=r},[r]),Q.useEffect(()=>{m||x()},[t,m]),Q.useEffect(()=>{s&&s.length>0&&l(null)},[JSON.stringify(s)]),Q.useEffect(()=>{m||typeof c!="number"||b.current!==null||(b.current=setTimeout(()=>{x(),b.current=null},c))},[c,m,x,...n]),{droppableRects:S,measureDroppableContainers:x,measuringScheduled:s!=null};function w(){switch(h){case Z0.Always:return!1;case Z0.BeforeDragging:return t;default:return!t}}}function e2(r,e){return gf(t=>r?t||(typeof e=="function"?e(r):r):null,[e,r])}function tW(r,e){return e2(r,e)}function rW(r){let{callback:e,disabled:t}=r;const n=Ep(e),i=Q.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(n)},[n,t]);return Q.useEffect(()=>()=>i?.disconnect(),[i]),i}function Tp(r){let{callback:e,disabled:t}=r;const n=Ep(e),i=Q.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[t]);return Q.useEffect(()=>()=>i?.disconnect(),[i]),i}function nW(r){return new Kv(sc(r),r)}function VC(r,e,t){e===void 0&&(e=nW);const[n,i]=Q.useState(null);function s(){i(f=>{if(!r)return null;if(r.isConnected===!1){var h;return(h=f??t)!=null?h:null}const d=e(r);return JSON.stringify(f)===JSON.stringify(d)?f:d})}const l=rW({callback(f){if(r)for(const h of f){const{type:d,target:m}=h;if(d==="childList"&&m instanceof HTMLElement&&m.contains(r)){s();break}}}}),c=Tp({callback:s});return Gi(()=>{s(),r?(c?.observe(r),l?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),l?.disconnect())},[r]),n}function iW(r){const e=e2(r);return Z_(r,e)}const qC=[];function sW(r){const e=Q.useRef(r),t=gf(n=>r?n&&n!==qC&&r&&e.current&&r.parentNode===e.current.parentNode?n:Ap(r):qC,[r]);return Q.useEffect(()=>{e.current=r},[r]),t}function aW(r){const[e,t]=Q.useState(null),n=Q.useRef(r),i=Q.useCallback(s=>{const l=Bx(s.target);l&&t(c=>c?(c.set(l,z1(l)),new Map(c)):null)},[]);return Q.useEffect(()=>{const s=n.current;if(r!==s){l(s);const c=r.map(f=>{const h=Bx(f);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,z1(h)]):null}).filter(f=>f!=null);t(c.length?new Map(c):null),n.current=r}return()=>{l(r),l(s)};function l(c){c.forEach(f=>{const h=Bx(f);h?.removeEventListener("scroll",i)})}},[i,r]),Q.useMemo(()=>r.length?e?Array.from(e.values()).reduce((s,l)=>zo(s,l),$i):s6(r):$i,[r,e])}function WC(r,e){e===void 0&&(e=[]);const t=Q.useRef(null);return Q.useEffect(()=>{t.current=null},e),Q.useEffect(()=>{const n=r!==$i;n&&!t.current&&(t.current=r),!n&&t.current&&(t.current=null)},[r]),t.current?Q0(r,t.current):$i}function lW(r){Q.useEffect(()=>{if(!wp)return;const e=r.map(t=>{let{sensor:n}=t;return n.setup==null?void 0:n.setup()});return()=>{for(const t of e)t?.()}},r.map(e=>{let{sensor:t}=e;return t}))}function oW(r,e){return Q.useMemo(()=>r.reduce((t,n)=>{let{eventName:i,handler:s}=n;return t[i]=l=>{s(l,e)},t},{}),[r,e])}function o6(r){return Q.useMemo(()=>r?Rq(r):null,[r])}const GC=[];function cW(r,e){e===void 0&&(e=sc);const[t]=r,n=o6(t?Bn(t):null),[i,s]=Q.useState(GC);function l(){s(()=>r.length?r.map(f=>n6(f)?n:new Kv(e(f),f)):GC)}const c=Tp({callback:l});return Gi(()=>{c?.disconnect(),l(),r.forEach(f=>c?.observe(f))},[r]),i}function c6(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return mf(e)?e:r}function fW(r){let{measure:e}=r;const[t,n]=Q.useState(null),i=Q.useCallback(h=>{for(const{target:d}of h)if(mf(d)){n(m=>{const g=e(d);return m?{...m,width:g.width,height:g.height}:g});break}},[e]),s=Tp({callback:i}),l=Q.useCallback(h=>{const d=c6(h);s?.disconnect(),d&&s?.observe(d),n(d?e(d):null)},[e,s]),[c,f]=Xd(l);return Q.useMemo(()=>({nodeRef:c,rect:t,setRef:f}),[t,c,f])}const uW=[{sensor:Jv,options:{}},{sensor:Qv,options:{}}],hW={current:{}},sd={draggable:{measure:PC},droppable:{measure:PC,strategy:Z0.WhileDragging,frequency:U1.Optimized},dragOverlay:{measure:sc}};class C0 extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return(t=(n=this.get(e))==null?void 0:n.node.current)!=null?t:void 0}}const dW={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new C0,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Qd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:sd,measureDroppableContainers:Qd,windowRect:null,measuringScheduled:!1},f6={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Qd,draggableNodes:new Map,over:null,measureDroppableContainers:Qd},vf=Q.createContext(f6),u6=Q.createContext(dW);function pW(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new C0}}}function mW(r,e){switch(e.type){case Hr.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Hr.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}};case Hr.DragEnd:case Hr.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Hr.RegisterDroppable:{const{element:t}=e,{id:n}=t,i=new C0(r.droppable.containers);return i.set(n,t),{...r,droppable:{...r.droppable,containers:i}}}case Hr.SetDroppableDisabled:{const{id:t,key:n,disabled:i}=e,s=r.droppable.containers.get(t);if(!s||n!==s.key)return r;const l=new C0(r.droppable.containers);return l.set(t,{...s,disabled:i}),{...r,droppable:{...r.droppable,containers:l}}}case Hr.UnregisterDroppable:{const{id:t,key:n}=e,i=r.droppable.containers.get(t);if(!i||n!==i.key)return r;const s=new C0(r.droppable.containers);return s.delete(t),{...r,droppable:{...r.droppable,containers:s}}}default:return r}}function gW(r){let{disabled:e}=r;const{active:t,activatorEvent:n,draggableNodes:i}=Q.useContext(vf),s=Yd(n),l=Yd(t?.id);return Q.useEffect(()=>{if(!e&&!n&&s&&l!=null){if(!Cp(s)||document.activeElement===s.target)return;const c=i.get(l);if(!c)return;const{activatorNode:f,node:h}=c;if(!f.current&&!h.current)return;requestAnimationFrame(()=>{for(const d of[f.current,h.current]){if(!d)continue;const m=uq(d);if(m){m.focus();break}}})}},[n,e,i,l,s]),null}function h6(r,e){let{transform:t,...n}=e;return r!=null&&r.length?r.reduce((i,s)=>s({transform:i,...n}),t):t}function xW(r){return Q.useMemo(()=>({draggable:{...sd.draggable,...r?.draggable},droppable:{...sd.droppable,...r?.droppable},dragOverlay:{...sd.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function vW(r){let{activeNode:e,measure:t,initialRect:n,config:i=!0}=r;const s=Q.useRef(!1),{x:l,y:c}=typeof i=="boolean"?{x:i,y:i}:i;Gi(()=>{if(!l&&!c||!e){s.current=!1;return}if(s.current||!n)return;const h=e?.node.current;if(!h||h.isConnected===!1)return;const d=t(h),m=Z_(d,n);if(l||(m.x=0),c||(m.y=0),s.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const g=e6(h);g&&g.scrollBy({top:m.y,left:m.x})}},[e,l,c,n,t])}const _p=Q.createContext({...$i,scaleX:1,scaleY:1});var Aa;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(Aa||(Aa={}));const yW=Q.memo(function(e){var t,n,i,s;let{id:l,accessibility:c,autoScroll:f=!0,children:h,sensors:d=uW,collisionDetection:m=_q,measuring:g,modifiers:x,...b}=e;const S=Q.useReducer(mW,void 0,pW),[w,T]=S,[A,E]=xq(),[_,B]=Q.useState(Aa.Uninitialized),F=_===Aa.Initialized,{draggable:{active:O,nodes:H,translate:N},droppable:{containers:I}}=w,P=O!=null?H.get(O):null,q=Q.useRef({initial:null,translated:null}),K=Q.useMemo(()=>{var Xt;return O!=null?{id:O,data:(Xt=P?.data)!=null?Xt:hW,rect:q}:null},[O,P]),ie=Q.useRef(null),[le,Z]=Q.useState(null),[ne,ve]=Q.useState(null),Ee=K0(b,Object.values(b)),Ne=xf("DndDescribedBy",l),j=Q.useMemo(()=>I.getEnabled(),[I]),D=xW(g),{droppableRects:M,measureDroppableContainers:R,measuringScheduled:W}=eW(j,{dragging:F,dependencies:[N.x,N.y],config:D.droppable}),ee=Zq(H,O),ye=Q.useMemo(()=>ne?Kd(ne):null,[ne]),xe=hi(),Te=tW(ee,D.draggable.measure);vW({activeNode:O!=null?H.get(O):null,config:xe.layoutShiftCompensation,initialRect:Te,measure:D.draggable.measure});const be=VC(ee,D.draggable.measure,Te),tt=VC(ee?ee.parentElement:null),Ke=Q.useRef({activatorEvent:null,active:null,activeNode:ee,collisionRect:null,collisions:null,droppableRects:M,draggableNodes:H,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ct=I.getNodeFor((t=Ke.current.over)==null?void 0:t.id),Ce=fW({measure:D.dragOverlay.measure}),Ye=(n=Ce.nodeRef.current)!=null?n:ee,$e=F?(i=Ce.rect)!=null?i:be:null,De=!!(Ce.nodeRef.current&&Ce.rect),ot=iW(De?null:be),St=o6(Ye?Bn(Ye):null),jt=sW(F?ct??ee:null),Ct=cW(jt),er=h6(x,{transform:{x:N.x-ot.x,y:N.y-ot.y,scaleX:1,scaleY:1},activatorEvent:ne,active:K,activeNodeRect:be,containerNodeRect:tt,draggingNodeRect:$e,over:Ke.current.over,overlayNodeRect:Ce.rect,scrollableAncestors:jt,scrollableAncestorRects:Ct,windowRect:St}),Gt=ye?zo(ye,N):null,he=aW(jt),Ie=WC(he),Be=WC(he,[be]),rt=zo(er,Ie),vt=$e?Oq($e,er):null,$t=K&&vt?m({active:K,collisionRect:vt,droppableRects:M,droppableContainers:j,pointerCoordinates:Gt}):null,ft=Q_($t,"id"),[Bt,Er]=Q.useState(null),Xn=De?er:zo(er,Be),tr=Dq(Xn,(s=Bt?.rect)!=null?s:null,be),Cr=Q.useRef(null),vr=Q.useCallback((Xt,pe)=>{let{sensor:Me,options:Ve}=pe;if(ie.current==null)return;const it=H.get(ie.current);if(!it)return;const Ze=Xt.nativeEvent,ut=new Me({active:ie.current,activeNode:it,event:Ze,options:Ve,context:Ke,onAbort(At){if(!H.get(At))return;const{onDragAbort:Tt}=Ee.current,or={id:At};Tt?.(or),A({type:"onDragAbort",event:or})},onPending(At,rr,Tt,or){if(!H.get(At))return;const{onDragPending:wn}=Ee.current,L={id:At,constraint:rr,initialCoordinates:Tt,offset:or};wn?.(L),A({type:"onDragPending",event:L})},onStart(At){const rr=ie.current;if(rr==null)return;const Tt=H.get(rr);if(!Tt)return;const{onDragStart:or}=Ee.current,dn={activatorEvent:Ze,active:{id:rr,data:Tt.data,rect:q}};l0.unstable_batchedUpdates(()=>{or?.(dn),B(Aa.Initializing),T({type:Hr.DragStart,initialCoordinates:At,active:rr}),A({type:"onDragStart",event:dn}),Z(Cr.current),ve(Ze)})},onMove(At){T({type:Hr.DragMove,coordinates:At})},onEnd:at(Hr.DragEnd),onCancel:at(Hr.DragCancel)});Cr.current=ut;function at(At){return async function(){const{active:Tt,collisions:or,over:dn,scrollAdjustedTranslate:wn}=Ke.current;let L=null;if(Tt&&wn){const{cancelDrop:X}=Ee.current;L={activatorEvent:Ze,active:Tt,collisions:or,delta:wn,over:dn},At===Hr.DragEnd&&typeof X=="function"&&await Promise.resolve(X(L))&&(At=Hr.DragCancel)}ie.current=null,l0.unstable_batchedUpdates(()=>{T({type:At}),B(Aa.Uninitialized),Er(null),Z(null),ve(null),Cr.current=null;const X=At===Hr.DragEnd?"onDragEnd":"onDragCancel";if(L){const U=Ee.current[X];U?.(L),A({type:X,event:L})}})}}},[H]),vs=Q.useCallback((Xt,pe)=>(Me,Ve)=>{const it=Me.nativeEvent,Ze=H.get(Ve);if(ie.current!==null||!Ze||it.dndKit||it.defaultPrevented)return;const ut={active:Ze};Xt(Me,pe.options,ut)===!0&&(it.dndKit={capturedBy:pe.sensor},ie.current=Ve,vr(Me,pe))},[H,vr]),ui=Jq(d,vs);lW(d),Gi(()=>{be&&_===Aa.Initializing&&B(Aa.Initialized)},[be,_]),Q.useEffect(()=>{const{onDragMove:Xt}=Ee.current,{active:pe,activatorEvent:Me,collisions:Ve,over:it}=Ke.current;if(!pe||!Me)return;const Ze={active:pe,activatorEvent:Me,collisions:Ve,delta:{x:rt.x,y:rt.y},over:it};l0.unstable_batchedUpdates(()=>{Xt?.(Ze),A({type:"onDragMove",event:Ze})})},[rt.x,rt.y]),Q.useEffect(()=>{const{active:Xt,activatorEvent:pe,collisions:Me,droppableContainers:Ve,scrollAdjustedTranslate:it}=Ke.current;if(!Xt||ie.current==null||!pe||!it)return;const{onDragOver:Ze}=Ee.current,ut=Ve.get(ft),at=ut&&ut.rect.current?{id:ut.id,rect:ut.rect.current,data:ut.data,disabled:ut.disabled}:null,At={active:Xt,activatorEvent:pe,collisions:Me,delta:{x:it.x,y:it.y},over:at};l0.unstable_batchedUpdates(()=>{Er(at),Ze?.(At),A({type:"onDragOver",event:At})})},[ft]),Gi(()=>{Ke.current={activatorEvent:ne,active:K,activeNode:ee,collisionRect:vt,collisions:$t,droppableRects:M,draggableNodes:H,draggingNode:Ye,draggingNodeRect:$e,droppableContainers:I,over:Bt,scrollableAncestors:jt,scrollAdjustedTranslate:rt},q.current={initial:$e,translated:vt}},[K,ee,$t,vt,H,Ye,$e,M,I,Bt,jt,rt]),Yq({...xe,delta:N,draggingRect:vt,pointerCoordinates:Gt,scrollableAncestors:jt,scrollableAncestorRects:Ct});const Ki=Q.useMemo(()=>({active:K,activeNode:ee,activeNodeRect:be,activatorEvent:ne,collisions:$t,containerNodeRect:tt,dragOverlay:Ce,draggableNodes:H,droppableContainers:I,droppableRects:M,over:Bt,measureDroppableContainers:R,scrollableAncestors:jt,scrollableAncestorRects:Ct,measuringConfiguration:D,measuringScheduled:W,windowRect:St}),[K,ee,be,ne,$t,tt,Ce,H,I,M,Bt,R,jt,Ct,D,W,St]),Nn=Q.useMemo(()=>({activatorEvent:ne,activators:ui,active:K,activeNodeRect:be,ariaDescribedById:{draggable:Ne},dispatch:T,draggableNodes:H,over:Bt,measureDroppableContainers:R}),[ne,ui,K,be,T,Ne,H,Bt,R]);return gr.createElement(X_.Provider,{value:E},gr.createElement(vf.Provider,{value:Nn},gr.createElement(u6.Provider,{value:Ki},gr.createElement(_p.Provider,{value:tr},h)),gr.createElement(gW,{disabled:c?.restoreFocus===!1})),gr.createElement(bq,{...c,hiddenTextDescribedById:Ne}));function hi(){const Xt=le?.autoScrollEnabled===!1,pe=typeof f=="object"?f.enabled===!1:f===!1,Me=F&&!Xt&&!pe;return typeof f=="object"?{...f,enabled:Me}:{enabled:Me}}}),bW=Q.createContext(null),$C="button",SW="Draggable";function wW(r){let{id:e,data:t,disabled:n=!1,attributes:i}=r;const s=xf(SW),{activators:l,activatorEvent:c,active:f,activeNodeRect:h,ariaDescribedById:d,draggableNodes:m,over:g}=Q.useContext(vf),{role:x=$C,roleDescription:b="draggable",tabIndex:S=0}=i??{},w=f?.id===e,T=Q.useContext(w?_p:bW),[A,E]=Xd(),[_,B]=Xd(),F=oW(l,e),O=K0(t);Gi(()=>(m.set(e,{id:e,key:s,node:A,activatorNode:_,data:O}),()=>{const N=m.get(e);N&&N.key===s&&m.delete(e)}),[m,e]);const H=Q.useMemo(()=>({role:x,tabIndex:S,"aria-disabled":n,"aria-pressed":w&&x===$C?!0:void 0,"aria-roledescription":b,"aria-describedby":d.draggable}),[n,x,S,w,b,d.draggable]);return{active:f,activatorEvent:c,activeNodeRect:h,attributes:H,isDragging:w,listeners:n?void 0:F,node:A,over:g,setNodeRef:E,setActivatorNodeRef:B,transform:T}}function d6(){return Q.useContext(u6)}const EW="Droppable",CW={timeout:25};function p6(r){let{data:e,disabled:t=!1,id:n,resizeObserverConfig:i}=r;const s=xf(EW),{active:l,dispatch:c,over:f,measureDroppableContainers:h}=Q.useContext(vf),d=Q.useRef({disabled:t}),m=Q.useRef(!1),g=Q.useRef(null),x=Q.useRef(null),{disabled:b,updateMeasurementsFor:S,timeout:w}={...CW,...i},T=K0(S??n),A=Q.useCallback(()=>{if(!m.current){m.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{h(Array.isArray(T.current)?T.current:[T.current]),x.current=null},w)},[w]),E=Tp({callback:A,disabled:b||!l}),_=Q.useCallback((H,N)=>{E&&(N&&(E.unobserve(N),m.current=!1),H&&E.observe(H))},[E]),[B,F]=Xd(_),O=K0(e);return Q.useEffect(()=>{!E||!B.current||(E.disconnect(),m.current=!1,E.observe(B.current))},[B,E]),Q.useEffect(()=>(c({type:Hr.RegisterDroppable,element:{id:n,key:s,disabled:t,node:B,rect:g,data:O}}),()=>c({type:Hr.UnregisterDroppable,key:s,id:n})),[n]),Q.useEffect(()=>{t!==d.current.disabled&&(c({type:Hr.SetDroppableDisabled,id:n,key:s,disabled:t}),d.current.disabled=t)},[n,s,t,c]),{active:l,rect:g,isOver:f?.id===n,node:B,over:f,setNodeRef:F}}function AW(r){let{animation:e,children:t}=r;const[n,i]=Q.useState(null),[s,l]=Q.useState(null),c=Yd(t);return!t&&!n&&c&&i(c),Gi(()=>{if(!s)return;const f=n?.key,h=n?.props.id;if(f==null||h==null){i(null);return}Promise.resolve(e(h,s)).then(()=>{i(null)})},[e,n,s]),gr.createElement(gr.Fragment,null,t,n?Q.cloneElement(n,{ref:l}):null)}const TW={x:0,y:0,scaleX:1,scaleY:1};function _W(r){let{children:e}=r;return gr.createElement(vf.Provider,{value:f6},gr.createElement(_p.Provider,{value:TW},e))}const DW={position:"fixed",touchAction:"none"},kW=r=>Cp(r)?"transform 250ms ease":void 0,OW=Q.forwardRef((r,e)=>{let{as:t,activatorEvent:n,adjustScale:i,children:s,className:l,rect:c,style:f,transform:h,transition:d=kW}=r;if(!c)return null;const m=i?h:{...h,scaleX:1,scaleY:1},g={...DW,width:c.width,height:c.height,top:c.top,left:c.left,transform:Ha.Transform.toString(m),transformOrigin:i&&n?wq(n,c):void 0,transition:typeof d=="function"?d(n):d,...f};return gr.createElement(t,{className:l,style:g,ref:e},s)}),BW=r=>e=>{let{active:t,dragOverlay:n}=e;const i={},{styles:s,className:l}=r;if(s!=null&&s.active)for(const[c,f]of Object.entries(s.active))f!==void 0&&(i[c]=t.node.style.getPropertyValue(c),t.node.style.setProperty(c,f));if(s!=null&&s.dragOverlay)for(const[c,f]of Object.entries(s.dragOverlay))f!==void 0&&n.node.style.setProperty(c,f);return l!=null&&l.active&&t.node.classList.add(l.active),l!=null&&l.dragOverlay&&n.node.classList.add(l.dragOverlay),function(){for(const[f,h]of Object.entries(i))t.node.style.setProperty(f,h);l!=null&&l.active&&t.node.classList.remove(l.active)}},NW=r=>{let{transform:{initial:e,final:t}}=r;return[{transform:Ha.Transform.toString(e)},{transform:Ha.Transform.toString(t)}]},RW={duration:250,easing:"ease",keyframes:NW,sideEffects:BW({styles:{active:{opacity:"0"}}})};function FW(r){let{config:e,draggableNodes:t,droppableContainers:n,measuringConfiguration:i}=r;return Ep((s,l)=>{if(e===null)return;const c=t.get(s);if(!c)return;const f=c.node.current;if(!f)return;const h=c6(l);if(!h)return;const{transform:d}=Bn(l).getComputedStyle(l),m=J_(d);if(!m)return;const g=typeof e=="function"?e:MW(e);return a6(f,i.draggable.measure),g({active:{id:s,data:c.data,node:f,rect:i.draggable.measure(f)},draggableNodes:t,dragOverlay:{node:l,rect:i.dragOverlay.measure(h)},droppableContainers:n,measuringConfiguration:i,transform:m})})}function MW(r){const{duration:e,easing:t,sideEffects:n,keyframes:i}={...RW,...r};return s=>{let{active:l,dragOverlay:c,transform:f,...h}=s;if(!e)return;const d={x:c.rect.left-l.rect.left,y:c.rect.top-l.rect.top},m={scaleX:f.scaleX!==1?l.rect.width*f.scaleX/c.rect.width:1,scaleY:f.scaleY!==1?l.rect.height*f.scaleY/c.rect.height:1},g={x:f.x-d.x,y:f.y-d.y,...m},x=i({...h,active:l,dragOverlay:c,transform:{initial:f,final:g}}),[b]=x,S=x[x.length-1];if(JSON.stringify(b)===JSON.stringify(S))return;const w=n?.({active:l,dragOverlay:c,...h}),T=c.node.animate(x,{duration:e,easing:t,fill:"forwards"});return new Promise(A=>{T.onfinish=()=>{w?.(),A()}})}}let XC=0;function LW(r){return Q.useMemo(()=>{if(r!=null)return XC++,XC},[r])}const IW=gr.memo(r=>{let{adjustScale:e=!1,children:t,dropAnimation:n,style:i,transition:s,modifiers:l,wrapperElement:c="div",className:f,zIndex:h=999}=r;const{activatorEvent:d,active:m,activeNodeRect:g,containerNodeRect:x,draggableNodes:b,droppableContainers:S,dragOverlay:w,over:T,measuringConfiguration:A,scrollableAncestors:E,scrollableAncestorRects:_,windowRect:B}=d6(),F=Q.useContext(_p),O=LW(m?.id),H=h6(l,{activatorEvent:d,active:m,activeNodeRect:g,containerNodeRect:x,draggingNodeRect:w.rect,over:T,overlayNodeRect:w.rect,scrollableAncestors:E,scrollableAncestorRects:_,transform:F,windowRect:B}),N=e2(g),I=FW({config:n,draggableNodes:b,droppableContainers:S,measuringConfiguration:A}),P=N?w.setRef:void 0;return gr.createElement(_W,null,gr.createElement(AW,{animation:I},m&&O?gr.createElement(OW,{key:O,id:m.id,ref:P,as:c,activatorEvent:d,adjustScale:e,className:f,transition:s,rect:N,style:{zIndex:h,...i},transform:H},t):null))});function t2(r,e,t){const n=r.slice();return n.splice(t<0?n.length+t:t,0,n.splice(e,1)[0]),n}function PW(r,e){return r.reduce((t,n,i)=>{const s=e.get(n);return s&&(t[i]=s),t},Array(r.length))}function ch(r){return r!==null&&r>=0}function jW(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function zW(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const m6=r=>{let{rects:e,activeIndex:t,overIndex:n,index:i}=r;const s=t2(e,n,t),l=e[i],c=s[i];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},fh={scaleX:1,scaleY:1},HW=r=>{var e;let{activeIndex:t,activeNodeRect:n,index:i,rects:s,overIndex:l}=r;const c=(e=s[t])!=null?e:n;if(!c)return null;if(i===t){const h=s[l];return h?{x:0,y:t<l?h.top+h.height-(c.top+c.height):h.top-c.top,...fh}:null}const f=UW(s,i,t);return i>t&&i<=l?{x:0,y:-c.height-f,...fh}:i<t&&i>=l?{x:0,y:c.height+f,...fh}:{x:0,y:0,...fh}};function UW(r,e,t){const n=r[e],i=r[e-1],s=r[e+1];return n?t<e?i?n.top-(i.top+i.height):s?s.top-(n.top+n.height):0:s?s.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}const g6="Sortable",x6=gr.createContext({activeIndex:-1,containerId:g6,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:m6,disabled:{draggable:!1,droppable:!1}});function VW(r){let{children:e,id:t,items:n,strategy:i=m6,disabled:s=!1}=r;const{active:l,dragOverlay:c,droppableRects:f,over:h,measureDroppableContainers:d}=d6(),m=xf(g6,t),g=c.rect!==null,x=Q.useMemo(()=>n.map(F=>typeof F=="object"&&"id"in F?F.id:F),[n]),b=l!=null,S=l?x.indexOf(l.id):-1,w=h?x.indexOf(h.id):-1,T=Q.useRef(x),A=!jW(x,T.current),E=w!==-1&&S===-1||A,_=zW(s);Gi(()=>{A&&b&&d(x)},[A,x,b,d]),Q.useEffect(()=>{T.current=x},[x]);const B=Q.useMemo(()=>({activeIndex:S,containerId:m,disabled:_,disableTransforms:E,items:x,overIndex:w,useDragOverlay:g,sortedRects:PW(x,f),strategy:i}),[S,m,_.draggable,_.droppable,E,x,w,f,g,i]);return gr.createElement(x6.Provider,{value:B},e)}const qW=r=>{let{id:e,items:t,activeIndex:n,overIndex:i}=r;return t2(t,n,i).indexOf(e)},WW=r=>{let{containerId:e,isSorting:t,wasDragging:n,index:i,items:s,newIndex:l,previousItems:c,previousContainerId:f,transition:h}=r;return!h||!n||c!==s&&i===l?!1:t?!0:l!==i&&e===f},GW={duration:200,easing:"ease"},v6="transform",$W=Ha.Transition.toString({property:v6,duration:0,easing:"linear"}),XW={roleDescription:"sortable"};function YW(r){let{disabled:e,index:t,node:n,rect:i}=r;const[s,l]=Q.useState(null),c=Q.useRef(t);return Gi(()=>{if(!e&&t!==c.current&&n.current){const f=i.current;if(f){const h=sc(n.current,{ignoreTransform:!0}),d={x:f.left-h.left,y:f.top-h.top,scaleX:f.width/h.width,scaleY:f.height/h.height};(d.x||d.y)&&l(d)}}t!==c.current&&(c.current=t)},[e,t,n,i]),Q.useEffect(()=>{s&&l(null)},[s]),s}function KW(r){let{animateLayoutChanges:e=WW,attributes:t,disabled:n,data:i,getNewIndex:s=qW,id:l,strategy:c,resizeObserverConfig:f,transition:h=GW}=r;const{items:d,containerId:m,activeIndex:g,disabled:x,disableTransforms:b,sortedRects:S,overIndex:w,useDragOverlay:T,strategy:A}=Q.useContext(x6),E=QW(n,x),_=d.indexOf(l),B=Q.useMemo(()=>({sortable:{containerId:m,index:_,items:d},...i}),[m,i,_,d]),F=Q.useMemo(()=>d.slice(d.indexOf(l)),[d,l]),{rect:O,node:H,isOver:N,setNodeRef:I}=p6({id:l,data:B,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:F,...f}}),{active:P,activatorEvent:q,activeNodeRect:K,attributes:ie,setNodeRef:le,listeners:Z,isDragging:ne,over:ve,setActivatorNodeRef:Ee,transform:Ne}=wW({id:l,data:B,attributes:{...XW,...t},disabled:E.draggable}),j=lq(I,le),D=!!P,M=D&&!b&&ch(g)&&ch(w),R=!T&&ne,W=R&&M?Ne:null,ye=M?W??(c??A)({rects:S,activeNodeRect:K,activeIndex:g,overIndex:w,index:_}):null,xe=ch(g)&&ch(w)?s({id:l,items:d,activeIndex:g,overIndex:w}):_,Te=P?.id,be=Q.useRef({activeId:Te,items:d,newIndex:xe,containerId:m}),tt=d!==be.current.items,Ke=e({active:P,containerId:m,isDragging:ne,isSorting:D,id:l,index:_,items:d,newIndex:be.current.newIndex,previousItems:be.current.items,previousContainerId:be.current.containerId,transition:h,wasDragging:be.current.activeId!=null}),ct=YW({disabled:!Ke,index:_,node:H,rect:O});return Q.useEffect(()=>{D&&be.current.newIndex!==xe&&(be.current.newIndex=xe),m!==be.current.containerId&&(be.current.containerId=m),d!==be.current.items&&(be.current.items=d)},[D,xe,m,d]),Q.useEffect(()=>{if(Te===be.current.activeId)return;if(Te!=null&&be.current.activeId==null){be.current.activeId=Te;return}const Ye=setTimeout(()=>{be.current.activeId=Te},50);return()=>clearTimeout(Ye)},[Te]),{active:P,activeIndex:g,attributes:ie,data:B,rect:O,index:_,newIndex:xe,items:d,isOver:N,isSorting:D,isDragging:ne,listeners:Z,node:H,overIndex:w,over:ve,setNodeRef:j,setActivatorNodeRef:Ee,setDroppableNodeRef:I,setDraggableNodeRef:le,transform:ct??ye,transition:Ce()};function Ce(){if(ct||tt&&be.current.newIndex===_)return $W;if(!(R&&!Cp(q)||!h)&&(D||Ke))return Ha.Transition.toString({...h,property:v6})}}function QW(r,e){var t,n;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(t=r?.draggable)!=null?t:e.draggable,droppable:(n=r?.droppable)!=null?n:e.droppable}}function Jd(r){if(!r)return!1;const e=r.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const ZW=[Dt.Down,Dt.Right,Dt.Up,Dt.Left],JW=(r,e)=>{let{context:{active:t,collisionRect:n,droppableRects:i,droppableContainers:s,over:l,scrollableAncestors:c}}=e;if(ZW.includes(r.code)){if(r.preventDefault(),!t||!n)return;const f=[];s.getEnabled().forEach(m=>{if(!m||m!=null&&m.disabled)return;const g=i.get(m.id);if(g)switch(r.code){case Dt.Down:n.top<g.top&&f.push(m);break;case Dt.Up:n.top>g.top&&f.push(m);break;case Dt.Left:n.left>g.left&&f.push(m);break;case Dt.Right:n.left<g.left&&f.push(m);break}});const h=Aq({collisionRect:n,droppableRects:i,droppableContainers:f});let d=Q_(h,"id");if(d===l?.id&&h.length>1&&(d=h[1].id),d!=null){const m=s.get(t.id),g=s.get(d),x=g?i.get(g.id):null,b=g?.node.current;if(b&&x&&m&&g){const w=Ap(b).some((F,O)=>c[O]!==F),T=y6(m,g),A=eG(m,g),E=w||!T?{x:0,y:0}:{x:A?n.width-x.width:0,y:A?n.height-x.height:0},_={x:x.left,y:x.top};return E.x&&E.y?_:Q0(_,E)}}}};function y6(r,e){return!Jd(r)||!Jd(e)?!1:r.data.current.sortable.containerId===e.data.current.sortable.containerId}function eG(r,e){return!Jd(r)||!Jd(e)||!y6(r,e)?!1:r.data.current.sortable.index<e.data.current.sortable.index}const ml={PENDING:{id:"PENDING",title:"Pendente",color:"bg-gray-50",headerColor:"bg-gray-100",borderColor:"border-gray-200",textColor:"text-gray-800"},IN_PROGRESS:{id:"IN_PROGRESS",title:"Em Andamento",color:"bg-blue-50",headerColor:"bg-blue-100",borderColor:"border-blue-200",textColor:"text-blue-800"},OVERDUE:{id:"OVERDUE",title:"Em Atraso",color:"bg-red-50",headerColor:"bg-red-100",borderColor:"border-red-200",textColor:"text-red-800"},COMPLETED:{id:"COMPLETED",title:"Concludo",color:"bg-green-50",headerColor:"bg-green-100",borderColor:"border-green-200",textColor:"text-green-800"}};function tG({reminder:r,onClick:e,onDelete:t,onEdit:n,onMove:i}){const{attributes:s,listeners:l,setNodeRef:c,transform:f,transition:h,isDragging:d}=KW({id:r.id,data:{...r}}),m={transform:Ha.Transform.toString(f),transition:h,opacity:d?.5:1},g=x=>{const b=ml[x]||ml.PENDING;return C.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${b.headerColor} ${b.textColor}`,children:b.title})};return C.jsxs("div",{ref:c,style:m,...s,...l,className:"bg-white p-3 rounded-lg shadow-sm border border-gray-200 mb-3 cursor-grab hover:shadow-md transition-all group relative",onClick:x=>{x.target.closest("button")||e(r)},children:[C.jsxs("div",{className:"flex justify-between items-start mb-2",children:[C.jsx("h4",{className:"font-bold text-gray-800 text-sm line-clamp-2",children:r.title}),g(r.status)]}),r.startDate&&C.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[" ",new Date(r.startDate).toLocaleDateString()]}),r.endDate&&C.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[" ",new Date(r.endDate).toLocaleDateString()]}),r.attachments&&r.attachments.length>0&&C.jsx("div",{className:"flex items-center space-x-1 mb-2",children:C.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded flex items-center",children:[" ",r.attachments.length," anexo(s)"]})}),r.image&&(!r.attachments||r.attachments.length===0)&&C.jsx("div",{className:"h-24 w-full rounded bg-gray-100 mb-2 overflow-hidden",children:C.jsx("img",{src:r.image,alt:"Cover",className:"w-full h-full object-cover"})}),C.jsx("p",{className:"text-xs text-gray-600 line-clamp-3 mb-3",children:r.description}),C.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 opacity-0 group-hover:opacity-100 transition-opacity",children:[C.jsxs("div",{className:"flex space-x-1",children:[r.status==="PENDING"&&C.jsx("button",{onClick:()=>i(r.id,"IN_PROGRESS"),title:"Iniciar",className:"p-1 hover:bg-orange-100 rounded text-orange-600",children:""}),r.status!=="COMPLETED"&&C.jsx("button",{onClick:()=>i(r.id,"COMPLETED"),title:"Concluir",className:"p-1 hover:bg-green-100 rounded text-green-600",children:""})]}),C.jsxs("div",{className:"flex space-x-1",children:[C.jsx("button",{onClick:()=>n(r),title:"Editar",className:"p-1 hover:bg-blue-100 rounded text-blue-600",children:""}),C.jsx("button",{onClick:()=>t(r.id),title:"Excluir",className:"p-1 hover:bg-red-100 rounded text-red-600",children:""})]})]})]})}function rG({id:r,title:e,reminders:t,color:n,headerColor:i,borderColor:s,textColor:l,onClickCard:c,onDelete:f,onEdit:h,onMove:d}){const{setNodeRef:m}=p6({id:r});return C.jsxs("div",{className:`flex flex-col h-full rounded-xl ${n} border ${s} min-w-[280px] w-full md:w-1/4`,children:[C.jsxs("div",{className:`p-3 rounded-t-xl ${i} border-b ${s} flex justify-between items-center sticky top-0 z-10`,children:[C.jsx("h3",{className:`font-bold ${l}`,children:e}),C.jsx("span",{className:`bg-white/50 px-2 py-0.5 rounded-full text-xs font-bold ${l}`,children:t.length})]}),C.jsxs("div",{ref:m,className:"p-2 flex-1 overflow-y-auto",children:[C.jsx(VW,{items:t.map(g=>g.id),strategy:HW,children:t.map(g=>C.jsx(tG,{reminder:g,onClick:c,onDelete:f,onEdit:h,onMove:d},g.id))}),t.length===0&&C.jsx("div",{className:"h-20 flex items-center justify-center text-gray-400 text-sm border-2 border-dashed border-gray-200 rounded-lg",children:"Arraste aqui"})]})]})}function nG({isVisible:r}){if(!r)return null;const[e,t]=Q.useState([]),[n,i]=Q.useState(!1),[s,l]=Q.useState(null),[c,f]=Q.useState(null),[h,d]=Q.useState({title:"",startDate:"",endDate:"",description:"",image:null,attachments:[],status:"PENDING"}),[m,g]=Q.useState(null),[x,b]=Q.useState(0),[S,w]=Q.useState(!1),[T,A]=Q.useState("carousel"),E=Sq(MC(Jv,{activationConstraint:{distance:5}}),MC(Qv,{coordinateGetter:JW}));Q.useEffect(()=>{const D=localStorage.getItem("hap_reminders");if(D)try{let M=JSON.parse(D);M=M.map(R=>R.status?R:{...R,status:R.completed?"COMPLETED":"PENDING"}),t(M)}catch(M){console.error("Failed to parse reminders",M)}},[]);const _=D=>{t(D),localStorage.setItem("hap_reminders",JSON.stringify(D))},B=D=>{g(D.active.id)},F=D=>{const{active:M,over:R}=D;if(g(null),!R)return;const W=M.id,ee=R.id;let ye=null;if(ml[ee])ye=ee;else{const xe=e.find(Te=>Te.id===ee);xe&&(ye=xe.status)}if(ye){t(Te=>{const be=Te.findIndex(Ke=>Ke.id===W),tt=[...Te];return tt[be]={...tt[be],status:ye},t2(tt,be,be)});const xe=e.map(Te=>Te.id===W?{...Te,status:ye}:Te);_(xe)}},O=(D,M)=>{const R=e.map(W=>W.id===D?{...W,status:M}:W);_(R)},H=D=>{if(window.confirm("Excluir este lembrete?")){const M=e.filter(R=>R.id!==D);_(M)}},N=()=>{window.confirm("ATENO: Isso apagar TODOS os lembretes. Deseja continuar?")&&_([])},I=D=>{if(D.preventDefault(),c){const M=e.map(R=>R.id===c?{...h,id:c,updatedAt:new Date().toISOString()}:R);_(M)}else{const M={...h,id:Date.now(),createdAt:new Date().toISOString()};_([...e,M])}P()},P=()=>{i(!1),f(null),d({title:"",startDate:"",endDate:"",description:"",image:null,attachments:[],status:"PENDING"})},q=D=>{f(D.id),d(D),i(!0)},K=()=>{f(null),d({title:"",startDate:"",endDate:"",description:"",image:null,attachments:[],status:"PENDING"}),i(!0)},ie=async D=>{const M=Array.from(D.target.files);if(M.length===0)return;const R=[...h.attachments||[]];for(const W of M){if(W.size>5*1024*1024){alert(`O arquivo ${W.name} excede o limite de 5MB.`);continue}const ee=new FormData;ee.append("file",W);try{const xe=await(await fetch("http://localhost:3001/api/upload/attachment",{method:"POST",body:ee})).json();if(xe.error)throw new Error(xe.error);R.push({name:xe.filename,url:`http://localhost:3001${xe.url}`,type:W.type})}catch(ye){console.error("Upload failed",ye),alert(`Falha ao enviar ${W.name}: ${ye.message}`)}}d(W=>({...W,attachments:R}))},le=D=>{const M=[...h.attachments];M.splice(D,1),d({...h,attachments:M})},Z=D=>e.filter(M=>M.status===D),ve=s?(D=>{if(!D)return[];const M=(D.attachments||[]).filter(R=>R.type&&R.type.startsWith("image/"));return D.image&&(!M||M.length===0)?[{url:D.image,name:"Cover"}]:M})(s):[],Ee=ve.length>0,Ne=D=>{D.stopPropagation(),b(M=>(M+1)%ve.length)},j=D=>{D.stopPropagation(),b(M=>(M-1+ve.length)%ve.length)};return C.jsxs("div",{className:"h-full flex flex-col bg-gray-50/50",children:[C.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-4",children:[C.jsxs("div",{children:[C.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[" Kanban Board",C.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"v2.2"})]}),C.jsx("p",{className:"text-sm text-gray-500",children:"Arraste os cards para mover entre as fases"})]}),C.jsxs("div",{className:"flex space-x-3",children:[C.jsx("button",{onClick:N,className:"text-red-500 hover:text-red-700 font-medium text-sm px-3 py-2",children:"Limpar Tudo"}),C.jsxs("button",{onClick:K,className:"bg-[#f37021] text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors font-bold shadow-md flex items-center",children:[C.jsx("span",{className:"mr-2",children:""})," Novo Card"]})]})]}),C.jsxs(yW,{sensors:E,collisionDetection:Cq,onDragStart:B,onDragEnd:F,children:[C.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden pb-2",children:C.jsx("div",{className:"flex h-full space-x-4 min-w-max px-1",children:Object.values(ml).map(D=>C.jsx(rG,{...D,reminders:Z(D.id),onClickCard:M=>{l(M),b(0),A("carousel")},onDelete:H,onEdit:q,onMove:O},D.id))})}),C.jsx(IW,{children:m?C.jsx("div",{className:"bg-white p-3 rounded-lg shadow-xl border border-blue-300 opacity-90 w-[280px] rotate-2 cursor-grabbing",children:C.jsx("h4",{className:"font-bold text-gray-800",children:e.find(D=>D.id===m)?.title})}):null})]}),n&&C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:C.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg h-[90vh] flex flex-col overflow-hidden animate-fade-in",children:[C.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center flex-shrink-0",children:[C.jsx("h3",{className:"font-bold text-lg text-gray-800",children:c?"Editar Card":"Novo Card"}),C.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),C.jsx("input",{type:"text",required:!0,autoFocus:!0,value:h.title,onChange:D=>d({...h,title:D.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Ttulo da tarefa"})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Incio/Prazo"}),C.jsx("input",{type:"date",value:h.startDate,onChange:D=>d({...h,startDate:D.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Trmino"}),C.jsx("input",{type:"date",value:h.endDate||"",onChange:D=>d({...h,endDate:D.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),C.jsx("div",{className:"grid grid-cols-2 gap-4",children:C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Inicial"}),C.jsx("select",{value:h.status,onChange:D=>d({...h,status:D.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:Object.values(ml).map(D=>C.jsx("option",{value:D.id,children:D.title},D.id))})]})}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),C.jsx("textarea",{rows:"4",value:h.description,onChange:D=>d({...h,description:D.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none resize-none",placeholder:"Detalhes..."})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anexar Arquivos (Mx 5MB)"}),C.jsx("input",{type:"file",multiple:!0,onChange:ie,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),h.attachments&&h.attachments.length>0&&C.jsx("div",{className:"mt-2 space-y-2",children:h.attachments.map((D,M)=>C.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded border",children:[C.jsxs("div",{className:"flex items-center space-x-2 truncate",children:[C.jsx("span",{className:"text-lg",children:D.type&&D.type.startsWith("image/")?"":""}),C.jsx("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate max-w-[200px]",children:D.name})]}),C.jsx("button",{type:"button",onClick:()=>le(M),className:"text-red-500 hover:text-red-700",children:""})]},M))})]})]}),C.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-end space-x-3 flex-shrink-0",children:[C.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg font-medium",children:"Cancelar"}),C.jsx("button",{onClick:I,className:"px-6 py-2 bg-[#f37021] text-white rounded-lg hover:bg-orange-600 font-bold shadow-md transition-colors",children:"Salvar"})]})]})}),s&&C.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",onClick:()=>l(null),children:C.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-scale-in",onClick:D=>D.stopPropagation(),children:[C.jsxs("div",{className:`px-6 py-4 border-b border-gray-200 flex justify-between items-center ${ml[s.status]?.headerColor} flex-shrink-0`,children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("h3",{className:"font-bold text-xl text-gray-800",children:s.title}),C.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-bold bg-white/50 border border-black/10",children:ml[s.status]?.title})]}),C.jsxs("div",{className:"flex items-center space-x-2",children:[Ee&&C.jsx("button",{onClick:()=>A(T==="carousel"?"grid":"carousel"),className:"text-xs bg-white/50 hover:bg-white/80 px-2 py-1 rounded border border-black/10 transition-colors",title:"Mudar Visualizao",children:T==="carousel"?" Grade":" Slide"}),C.jsx("button",{onClick:()=>l(null),className:"text-gray-500 hover:text-gray-800 text-2xl",children:""})]})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.startDate&&C.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[C.jsx("span",{className:"mr-2",children:""}),C.jsxs("span",{className:"font-medium",children:["Data: ",new Date(s.startDate).toLocaleDateString()]})]}),s.endDate&&C.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[C.jsx("span",{className:"mr-2",children:""}),C.jsxs("span",{className:"font-medium",children:["Trmino: ",new Date(s.endDate).toLocaleDateString()]})]}),Ee&&T==="carousel"&&C.jsxs("div",{className:"mb-6 relative group bg-black/5 rounded-lg overflow-hidden border border-gray-200",children:[C.jsx("div",{className:"h-[300px] flex items-center justify-center bg-gray-100 cursor-zoom-in",onClick:()=>w(!0),children:C.jsx("img",{src:ve[x].url,alt:"Slide",className:"max-h-full max-w-full object-contain"})}),ve.length>1&&C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:j,className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",children:""}),C.jsx("button",{onClick:Ne,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",children:""}),C.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full",children:[x+1," / ",ve.length]})]})]}),Ee&&T==="grid"&&C.jsxs("div",{className:"mb-6 space-y-2",children:[C.jsx("h4",{className:"font-bold text-gray-700 text-sm",children:"Imagens:"}),C.jsx("div",{className:"grid grid-cols-2 gap-2",children:ve.map((D,M)=>C.jsxs("div",{className:"border rounded p-2 flex flex-col items-center bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>{b(M),w(!0)},children:[C.jsx("img",{src:D.url,alt:D.name,className:"h-32 object-contain mb-2"}),C.jsx("span",{className:"text-xs text-gray-500 truncate w-full text-center",children:D.name})]},M))})]}),s.attachments&&s.attachments.some(D=>!D.type?.startsWith("image/"))&&C.jsxs("div",{className:"mb-6 space-y-2",children:[C.jsx("h4",{className:"font-bold text-gray-700 text-sm",children:"Outros Anexos:"}),C.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.attachments.filter(D=>!D.type?.startsWith("image/")).map((D,M)=>C.jsxs("div",{className:"border rounded p-2 flex flex-col items-center bg-gray-50 hover:bg-gray-100 transition-colors",children:[C.jsx("div",{className:"h-12 flex items-center justify-center text-2xl",children:""}),C.jsx("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline text-center w-full truncate",title:D.name,children:D.name})]},M))})]}),C.jsx("div",{className:"prose max-w-none text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg border border-gray-100",children:s.description||C.jsx("span",{className:"italic text-gray-400",children:"Sem descrio."})})]}),C.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between items-center flex-shrink-0",children:[C.jsxs("div",{className:"text-xs text-gray-400",children:["Criado em: ",new Date(s.createdAt||Date.now()).toLocaleString()]}),C.jsxs("div",{className:"flex space-x-3",children:[C.jsx("button",{onClick:()=>{q(s),l(null)},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 font-medium",children:"Editar"}),C.jsx("button",{onClick:()=>{H(s.id),l(null)},className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 font-medium",children:"Excluir"})]})]})]})}),S&&s&&Ee&&C.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[60] flex items-center justify-center p-4 animate-fade-in",onClick:()=>w(!1),children:[C.jsx("button",{onClick:()=>w(!1),className:"absolute top-4 right-4 text-white text-4xl hover:text-gray-300",children:""}),C.jsx("img",{src:ve[x].url,alt:"Full Screen",className:"max-h-[90vh] max-w-[90vw] object-contain shadow-2xl",onClick:D=>D.stopPropagation()}),ve.length>1&&C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:j,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white text-6xl hover:text-gray-300",children:""}),C.jsx("button",{onClick:Ne,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white text-6xl hover:text-gray-300",children:""}),C.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white text-sm bg-black/50 px-3 py-1 rounded-full",children:[x+1," / ",ve.length]})]})]})]})}const YC="/assets/hap_logo_v4-CuOd1_Iw.png",r2=Q.createContext(),Fx={default:{name:"Padro (Azul)",bg:"bg-gray-100",sidebar:"bg-white",sidebarText:"text-gray-700",text:"text-gray-700",headerText:"text-gray-700",primaryBtn:"bg-blue-600 hover:bg-blue-700 text-white hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200",secondaryBtn:"bg-gray-100 hover:bg-gray-200 text-gray-600 hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200",accent:"text-blue-600",header:"bg-white border-b",tableHeader:"bg-gray-50 text-gray-500",tableRowHover:"hover:bg-blue-50",border:"border-gray-200",input:"bg-white text-gray-900",panel:"bg-white"},dark:{name:"Modo Escuro",bg:"bg-gray-900",sidebar:"bg-gray-800",sidebarText:"text-gray-200",text:"text-gray-200",headerText:"text-gray-200",primaryBtn:"bg-indigo-600 hover:bg-indigo-700 text-white hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200",secondaryBtn:"bg-gray-700 hover:bg-gray-600 text-gray-200 hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200",accent:"text-indigo-400",header:"bg-gray-800 border-gray-700 border-b",tableHeader:"bg-gray-700 text-gray-300",tableRowHover:"hover:bg-gray-700",border:"border-gray-700",input:"bg-gray-700 text-white border-gray-600",panel:"bg-gray-800"},ubuntu:{name:"Ubuntu",bg:"bg-[#fdf6e3]",sidebar:"bg-[#300a24]",sidebarText:"text-white",text:"text-[#300a24]",headerText:"text-white",primaryBtn:"bg-[#e95420] hover:bg-[#c7461b] text-white hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200",secondaryBtn:"bg-[#aea79f] hover:bg-[#9e968d] text-white hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200",accent:"text-[#e95420]",header:"bg-[#300a24] border-b border-[#5e2750]",tableHeader:"bg-[#aea79f] text-white",tableRowHover:"hover:bg-[#f2d7d0]",border:"border-[#aea79f]",input:"bg-white text-[#300a24]",panel:"bg-white"},forest:{name:"Floresta",bg:"bg-stone-100",sidebar:"bg-[#1c2e1f]",sidebarText:"text-stone-200",text:"text-[#1c2e1f]",headerText:"text-[#1c2e1f]",primaryBtn:"bg-[#2d4a33] hover:bg-[#3a5e42] text-white hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200",secondaryBtn:"bg-stone-200 hover:bg-stone-300 text-stone-700 hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200",accent:"text-[#2d4a33]",header:"bg-white border-stone-200 border-b",tableHeader:"bg-stone-100 text-stone-600",tableRowHover:"hover:bg-[#e8f5e9]",border:"border-stone-200",input:"bg-white text-stone-800",panel:"bg-[#fdfbf7]"},ocean:{name:"Oceano",bg:"bg-cyan-50",sidebar:"bg-white",sidebarText:"text-slate-700",text:"text-slate-700",headerText:"text-slate-700",primaryBtn:"bg-cyan-600 hover:bg-cyan-700 text-white hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200",secondaryBtn:"bg-cyan-100 hover:bg-cyan-200 text-cyan-800 hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200",accent:"text-cyan-600",header:"bg-white border-cyan-100 border-b",tableHeader:"bg-cyan-50 text-cyan-700",tableRowHover:"hover:bg-cyan-50",border:"border-cyan-200",input:"bg-white text-slate-700",panel:"bg-white"},dracula:{name:"Dracula",bg:"bg-[#282a36]",sidebar:"bg-[#44475a]",sidebarText:"text-[#f8f8f2]",text:"text-[#f8f8f2]",headerText:"text-[#f8f8f2]",primaryBtn:"bg-[#bd93f9] hover:bg-[#ff79c6] text-[#282a36] font-bold hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200",secondaryBtn:"bg-[#6272a4] hover:bg-[#50fa7b] text-white hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200",accent:"text-[#ff79c6]",header:"bg-[#44475a] border-[#6272a4] border-b",tableHeader:"bg-[#44475a] text-[#8be9fd]",tableRowHover:"hover:bg-[#44475a]",border:"border-[#6272a4]",input:"bg-[#282a36] text-[#f8f8f2] border-[#6272a4]",panel:"bg-[#282a36]"},military:{name:"Militar",bg:"bg-[#f5f5f5]",sidebar:"bg-[#3e2723]",sidebarText:"text-[#efebe9]",text:"text-[#3e2723]",headerText:"text-[#3e2723]",primaryBtn:"bg-[#558b2f] hover:bg-[#33691e] text-white hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200",secondaryBtn:"bg-[#795548] hover:bg-[#5d4037] text-white hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200",accent:"text-[#33691e]",header:"bg-white border-[#3e2723] border-b",tableHeader:"bg-[#d7ccc8] text-[#3e2723]",tableRowHover:"hover:bg-[#e8f5e9]",border:"border-[#8d6e63]",input:"bg-white text-gray-900 border-[#8d6e63]",panel:"bg-[#fafafa]"}};function iG(){const[r,e]=Q.useState(null),[t,n]=Q.useState("query-builder"),[i,s]=Q.useState(!0),[l,c]=Q.useState(()=>localStorage.getItem("app_theme")||"default"),f=Fx[l]||Fx.default,h=O=>{c(O),localStorage.setItem("app_theme",O)},[d,m]=Q.useState(()=>{const O=localStorage.getItem("hap_sql_tabs");if(O)try{return JSON.parse(O)}catch(H){console.error("Failed to parse saved tabs",H)}return[{id:1,title:"Query 1",sqlContent:"",results:null,error:null,loading:!1}]}),[g,x]=Q.useState(()=>{const O=localStorage.getItem("hap_sql_active_tab");return O?Number(O):1}),[b,S]=Q.useState(()=>{const O=localStorage.getItem("hap_saved_queries");if(O)try{return JSON.parse(O)}catch(H){console.error("Failed to parse saved queries",H)}return[]}),[w,T]=Q.useState(!1),[A,E]=Q.useState(!1);Q.useEffect(()=>{document.title="Hap Query Report v1.1.42",window.electronAPI&&(window.electronAPI.onUpdateAvailable(()=>T(!0)),window.electronAPI.onUpdateDownloaded(()=>{E(!0),T(!1)}))},[]);const _=()=>{window.electronAPI&&window.electronAPI.restartApp()};Q.useEffect(()=>{const O=d.map(H=>({...H,results:null,error:null,loading:!1}));localStorage.setItem("hap_sql_tabs",JSON.stringify(O))},[d]),Q.useEffect(()=>{localStorage.setItem("hap_sql_active_tab",g)},[g]),Q.useEffect(()=>{localStorage.setItem("hap_saved_queries",JSON.stringify(b))},[b]);const B=O=>{e(O)},F=()=>{e(null),n("query-builder")};return r?C.jsx(r2.Provider,{value:{theme:f,currentThemeName:l,changeTheme:h},children:C.jsxs("div",{className:`flex h-screen ${f.bg} font-sans overflow-hidden transition-colors duration-300`,children:[(w||A)&&C.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-white border border-blue-200 shadow-lg rounded-lg p-4 flex items-center space-x-4 animate-fade-in-down",children:[C.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:C.jsx("span",{className:"text-xl",children:""})}),C.jsxs("div",{children:[C.jsx("h4",{className:"font-bold text-gray-800",children:"Nova verso disponvel!"}),C.jsx("p",{className:"text-sm text-gray-600",children:A?"Pronto para instalar.":"Baixando atualizao..."})]}),A&&C.jsx("button",{onClick:_,className:"bg-green-600 text-white px-3 py-1 rounded-md text-sm font-bold hover:bg-green-700 transition-colors",children:"Reiniciar"})]}),C.jsxs("div",{className:`${i?"w-64":"w-0"} ${f.sidebar} shadow-lg flex flex-col z-20 transition-all duration-300 overflow-hidden relative border-r ${f.border}`,children:[C.jsx("div",{className:`p-4 flex flex-row items-center justify-center border-b ${f.border} min-w-[16rem] bg-white`,children:C.jsx("img",{src:YC,alt:"Hap Query Report",className:"w-auto h-8 object-contain transition-transform hover:scale-105"})}),C.jsxs("nav",{className:"flex-1 py-6 space-y-1 px-3 overflow-y-auto min-w-[16rem]",children:[C.jsxs("button",{onClick:()=>{window.electronAPI?.resetFocus(),window.focus(),document.activeElement&&document.activeElement.blur(),n("query-builder")},className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 group ${t==="query-builder"?`${f.primaryBtn} shadow-sm`:`${f.sidebarText} hover:bg-opacity-10 hover:bg-black`}`,children:[C.jsx("span",{className:"mr-3 text-lg",children:""}),"Construtor de Consultas"]}),C.jsxs("button",{onClick:()=>{window.electronAPI?.resetFocus(),window.focus(),document.activeElement&&document.activeElement.blur(),n("sql-runner")},className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 group ${t==="sql-runner"?`${f.primaryBtn} shadow-sm`:`${f.sidebarText} hover:bg-opacity-10 hover:bg-black`}`,children:[C.jsx("span",{className:"mr-3 text-lg",children:""}),"Editor SQL"]}),C.jsxs("button",{onClick:()=>{window.electronAPI?.resetFocus(),window.focus(),document.activeElement&&document.activeElement.blur(),n("csv-importer")},className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 group ${t==="csv-importer"?`${f.primaryBtn} shadow-sm`:`${f.sidebarText} hover:bg-opacity-10 hover:bg-black`}`,children:[C.jsx("span",{className:"mr-3 text-lg",children:""}),"Importar CSV"]}),C.jsxs("button",{onClick:()=>{window.electronAPI?.resetFocus(),window.focus(),document.activeElement&&document.activeElement.blur(),n("reminders")},className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 group ${t==="reminders"?`${f.primaryBtn} shadow-sm`:`${f.sidebarText} hover:bg-opacity-10 hover:bg-black`}`,children:[C.jsx("span",{className:"mr-3 text-lg",children:""}),"Lembretes"]}),C.jsxs("div",{className:"mt-6 px-1",children:[C.jsx("label",{className:`block text-xs font-bold uppercase mb-2 ${f.sidebarText} opacity-70`,children:"Tema"}),C.jsx("select",{value:l,onChange:O=>h(O.target.value),className:`w-full text-xs p-2 rounded border outline-none ${f.input} ${f.border}`,children:Object.entries(Fx).map(([O,H])=>C.jsx("option",{value:O,children:H.name},O))})]})]}),C.jsxs("div",{className:`p-4 border-t ${f.border} min-w-[16rem]`,children:[C.jsxs("div",{className:"flex items-center mb-3 px-2",children:[C.jsx("div",{className:"w-8 h-8 rounded-full bg-[#f37021] flex items-center justify-center text-white font-bold text-xs shadow-sm",children:r.user.substring(0,2).toUpperCase()}),C.jsxs("div",{className:"ml-3 overflow-hidden",children:[C.jsx("p",{className:`text-sm font-medium truncate ${f.sidebarText}`,children:r.user}),C.jsx("p",{className:`text-xs truncate opacity-70 ${f.sidebarText}`,children:r.connectString})]})]}),C.jsx("button",{onClick:F,className:`w-full flex items-center justify-center px-4 py-2 border shadow-sm text-sm font-medium rounded-md transition-colors duration-200 ${f.secondaryBtn} ${f.border}`,children:"Desconectar"}),C.jsxs("div",{className:"mt-4 text-center",children:[C.jsx("p",{className:"text-[10px] text-gray-400",children:"Desenvolvido por:"}),C.jsx("p",{className:"text-xs font-semibold text-gray-500",children:"Jefferson Oliveira"})]})]})]}),C.jsxs("div",{className:"flex-1 overflow-hidden relative flex flex-col",children:[C.jsxs("div",{className:`${f.header} p-2 flex items-center shadow-sm z-10`,children:[C.jsx("button",{onClick:()=>s(!i),className:`p-2 rounded-md hover:bg-opacity-10 hover:bg-black focus:outline-none ${f.sidebarText}`,title:i?"Recolher Menu":"Expandir Menu",children:i?"":""}),!i&&C.jsxs("div",{className:"ml-4 flex items-center",children:[C.jsx("img",{src:YC,alt:"Logo",className:"h-8 object-contain mr-2"}),C.jsxs("span",{className:`font-bold ${f.accent}`,children:["Hap Query Report ",C.jsx("span",{className:"text-xs font-normal text-gray-500 ml-1",children:"v1.1.33"})]})]})]}),C.jsx("main",{className:"flex-1 overflow-auto p-2 sm:p-6 transition-all duration-300 relative",children:C.jsxs("div",{className:"max-w-7xl mx-auto h-full flex flex-col relative",children:[C.jsx("div",{style:{display:t==="query-builder"?"block":"none",width:"100%",height:"100%"},children:C.jsx(VM,{isVisible:t==="query-builder"})}),C.jsx("div",{style:{display:t==="sql-runner"?"block":"none",width:"100%",height:"100%"},children:C.jsx(W_,{isVisible:t==="sql-runner",tabs:d,setTabs:m,activeTabId:g,setActiveTabId:x,savedQueries:b,setSavedQueries:S})}),C.jsx("div",{style:{display:t==="csv-importer"?"block":"none",width:"100%",height:"100%"},children:C.jsx(aq,{isVisible:t==="csv-importer"})}),C.jsx("div",{style:{display:t==="reminders"?"block":"none",width:"100%",height:"100%"},children:C.jsx(nG,{isVisible:t==="reminders"})})]})})]})]})}):C.jsx(Zk,{onConnect:B})}LD.createRoot(document.getElementById("root")).render(C.jsx(Q.StrictMode,{children:C.jsx(iG,{})}));
