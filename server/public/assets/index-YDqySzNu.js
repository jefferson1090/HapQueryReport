(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function TD(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var Rg={exports:{}},Xc={};var Uw;function _D(){if(Uw)return Xc;Uw=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:r,type:n,key:l,ref:i!==void 0?i:null,props:s}}return Xc.Fragment=e,Xc.jsx=t,Xc.jsxs=t,Xc}var Vw;function DD(){return Vw||(Vw=1,Rg.exports=_D()),Rg.exports}var E=DD(),Mg={exports:{}},ot={};var qw;function kD(){if(qw)return ot;qw=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=g&&j[g]||j["@@iterator"],typeof j=="function"?j:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,S={};function T(j,D,L){this.props=j,this.context=D,this.refs=S,this.updater=L||b}T.prototype.isReactComponent={},T.prototype.setState=function(j,D){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,D,"setState")},T.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function A(){}A.prototype=T.prototype;function C(j,D,L){this.props=j,this.context=D,this.refs=S,this.updater=L||b}var _=C.prototype=new A;_.constructor=C,y(_,T.prototype),_.isPureReactComponent=!0;var N=Array.isArray;function R(){}var O={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function M(j,D,L){var B=L.ref;return{$$typeof:r,type:j,key:D,ref:B!==void 0?B:null,props:L}}function I(j,D){return M(j.type,D,j.props)}function P(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function W(j){var D={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(L){return D[L]})}var K=/\/+/g;function se(j,D){return typeof j=="object"&&j!==null&&j.key!=null?W(""+j.key):D.toString(36)}function ue(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(R,R):(j.status="pending",j.then(function(D){j.status==="pending"&&(j.status="fulfilled",j.value=D)},function(D){j.status==="pending"&&(j.status="rejected",j.reason=D)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ee(j,D,L,B,U){var Z=typeof j;(Z==="undefined"||Z==="boolean")&&(j=null);var le=!1;if(j===null)le=!0;else switch(Z){case"bigint":case"string":case"number":le=!0;break;case"object":switch(j.$$typeof){case r:case e:le=!0;break;case d:return le=j._init,ee(le(j._payload),D,L,B,U)}}if(le)return U=U(j),le=B===""?"."+se(j,0):B,N(U)?(L="",le!=null&&(L=le.replace(K,"$&/")+"/"),ee(U,D,L,"",function(pe){return pe})):U!=null&&(P(U)&&(U=I(U,L+(U.key==null||j&&j.key===U.key?"":(""+U.key).replace(K,"$&/")+"/")+le)),D.push(U)),1;le=0;var re=B===""?".":B+":";if(N(j))for(var ve=0;ve<j.length;ve++)B=j[ve],Z=re+se(B,ve),le+=ee(B,D,L,Z,U);else if(ve=x(j),typeof ve=="function")for(j=ve.call(j),ve=0;!(B=j.next()).done;)B=B.value,Z=re+se(B,ve++),le+=ee(B,D,L,Z,U);else if(Z==="object"){if(typeof j.then=="function")return ee(ue(j),D,L,B,U);throw D=String(j),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return le}function ie(j,D,L){if(j==null)return j;var B=[],U=0;return ee(j,B,"","",function(Z){return D.call(L,Z,U++)}),B}function be(j){if(j._status===-1){var D=j._result;D=D(),D.then(function(L){(j._status===0||j._status===-1)&&(j._status=1,j._result=L)},function(L){(j._status===0||j._status===-1)&&(j._status=2,j._result=L)}),j._status===-1&&(j._status=0,j._result=D)}if(j._status===1)return j._result.default;throw j._result}var Ee=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},ke={map:ie,forEach:function(j,D,L){ie(j,function(){D.apply(this,arguments)},L)},count:function(j){var D=0;return ie(j,function(){D++}),D},toArray:function(j){return ie(j,function(D){return D})||[]},only:function(j){if(!P(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return ot.Activity=m,ot.Children=ke,ot.Component=T,ot.Fragment=t,ot.Profiler=i,ot.PureComponent=C,ot.StrictMode=n,ot.Suspense=f,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ot.__COMPILER_RUNTIME={__proto__:null,c:function(j){return O.H.useMemoCache(j)}},ot.cache=function(j){return function(){return j.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(j,D,L){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var B=y({},j.props),U=j.key;if(D!=null)for(Z in D.key!==void 0&&(U=""+D.key),D)!z.call(D,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&D.ref===void 0||(B[Z]=D[Z]);var Z=arguments.length-2;if(Z===1)B.children=L;else if(1<Z){for(var le=Array(Z),re=0;re<Z;re++)le[re]=arguments[re+2];B.children=le}return M(j.type,U,B)},ot.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},ot.createElement=function(j,D,L){var B,U={},Z=null;if(D!=null)for(B in D.key!==void 0&&(Z=""+D.key),D)z.call(D,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(U[B]=D[B]);var le=arguments.length-2;if(le===1)U.children=L;else if(1<le){for(var re=Array(le),ve=0;ve<le;ve++)re[ve]=arguments[ve+2];U.children=re}if(j&&j.defaultProps)for(B in le=j.defaultProps,le)U[B]===void 0&&(U[B]=le[B]);return M(j,Z,U)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(j){return{$$typeof:c,render:j}},ot.isValidElement=P,ot.lazy=function(j){return{$$typeof:d,_payload:{_status:-1,_result:j},_init:be}},ot.memo=function(j,D){return{$$typeof:h,type:j,compare:D===void 0?null:D}},ot.startTransition=function(j){var D=O.T,L={};O.T=L;try{var B=j(),U=O.S;U!==null&&U(L,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(R,Ee)}catch(Z){Ee(Z)}finally{D!==null&&L.types!==null&&(D.types=L.types),O.T=D}},ot.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ot.use=function(j){return O.H.use(j)},ot.useActionState=function(j,D,L){return O.H.useActionState(j,D,L)},ot.useCallback=function(j,D){return O.H.useCallback(j,D)},ot.useContext=function(j){return O.H.useContext(j)},ot.useDebugValue=function(){},ot.useDeferredValue=function(j,D){return O.H.useDeferredValue(j,D)},ot.useEffect=function(j,D){return O.H.useEffect(j,D)},ot.useEffectEvent=function(j){return O.H.useEffectEvent(j)},ot.useId=function(){return O.H.useId()},ot.useImperativeHandle=function(j,D,L){return O.H.useImperativeHandle(j,D,L)},ot.useInsertionEffect=function(j,D){return O.H.useInsertionEffect(j,D)},ot.useLayoutEffect=function(j,D){return O.H.useLayoutEffect(j,D)},ot.useMemo=function(j,D){return O.H.useMemo(j,D)},ot.useOptimistic=function(j,D){return O.H.useOptimistic(j,D)},ot.useReducer=function(j,D,L){return O.H.useReducer(j,D,L)},ot.useRef=function(j){return O.H.useRef(j)},ot.useState=function(j){return O.H.useState(j)},ot.useSyncExternalStore=function(j,D,L){return O.H.useSyncExternalStore(j,D,L)},ot.useTransition=function(){return O.H.useTransition()},ot.version="19.2.0",ot}var Ww;function q1(){return Ww||(Ww=1,Mg.exports=kD()),Mg.exports}var Q=q1();const rr=V1(Q);var Fg={exports:{}},Yc={},Lg={exports:{}},Ig={};var Gw;function OD(){return Gw||(Gw=1,(function(r){function e(ee,ie){var be=ee.length;ee.push(ie);e:for(;0<be;){var Ee=be-1>>>1,ke=ee[Ee];if(0<i(ke,ie))ee[Ee]=ie,ee[be]=ke,be=Ee;else break e}}function t(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var ie=ee[0],be=ee.pop();if(be!==ie){ee[0]=be;e:for(var Ee=0,ke=ee.length,j=ke>>>1;Ee<j;){var D=2*(Ee+1)-1,L=ee[D],B=D+1,U=ee[B];if(0>i(L,be))B<ke&&0>i(U,L)?(ee[Ee]=U,ee[B]=be,Ee=B):(ee[Ee]=L,ee[D]=be,Ee=D);else if(B<ke&&0>i(U,be))ee[Ee]=U,ee[B]=be,Ee=B;else break e}}return ie}function i(ee,ie){var be=ee.sortIndex-ie.sortIndex;return be!==0?be:ee.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var f=[],h=[],d=1,m=null,g=3,x=!1,b=!1,y=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function _(ee){for(var ie=t(h);ie!==null;){if(ie.callback===null)n(h);else if(ie.startTime<=ee)n(h),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=t(h)}}function N(ee){if(y=!1,_(ee),!b)if(t(f)!==null)b=!0,R||(R=!0,W());else{var ie=t(h);ie!==null&&ue(N,ie.startTime-ee)}}var R=!1,O=-1,z=5,M=-1;function I(){return S?!0:!(r.unstable_now()-M<z)}function P(){if(S=!1,R){var ee=r.unstable_now();M=ee;var ie=!0;try{e:{b=!1,y&&(y=!1,A(O),O=-1),x=!0;var be=g;try{t:{for(_(ee),m=t(f);m!==null&&!(m.expirationTime>ee&&I());){var Ee=m.callback;if(typeof Ee=="function"){m.callback=null,g=m.priorityLevel;var ke=Ee(m.expirationTime<=ee);if(ee=r.unstable_now(),typeof ke=="function"){m.callback=ke,_(ee),ie=!0;break t}m===t(f)&&n(f),_(ee)}else n(f);m=t(f)}if(m!==null)ie=!0;else{var j=t(h);j!==null&&ue(N,j.startTime-ee),ie=!1}}break e}finally{m=null,g=be,x=!1}ie=void 0}}finally{ie?W():R=!1}}}var W;if(typeof C=="function")W=function(){C(P)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,se=K.port2;K.port1.onmessage=P,W=function(){se.postMessage(null)}}else W=function(){T(P,0)};function ue(ee,ie){O=T(function(){ee(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_next=function(ee){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var be=g;g=ie;try{return ee()}finally{g=be}},r.unstable_requestPaint=function(){S=!0},r.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var be=g;g=ee;try{return ie()}finally{g=be}},r.unstable_scheduleCallback=function(ee,ie,be){var Ee=r.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Ee+be:Ee):be=Ee,ee){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=be+ke,ee={id:d++,callback:ie,priorityLevel:ee,startTime:be,expirationTime:ke,sortIndex:-1},be>Ee?(ee.sortIndex=be,e(h,ee),t(f)===null&&ee===t(h)&&(y?(A(O),O=-1):y=!0,ue(N,be-Ee))):(ee.sortIndex=ke,e(f,ee),b||x||(b=!0,R||(R=!0,W()))),ee},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(ee){var ie=g;return function(){var be=g;g=ie;try{return ee.apply(this,arguments)}finally{g=be}}}})(Ig)),Ig}var Xw;function BD(){return Xw||(Xw=1,Lg.exports=OD()),Lg.exports}var Pg={exports:{}},un={};var Yw;function ND(){if(Yw)return un;Yw=1;var r=q1();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:h,implementation:d}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,un.createPortal=function(f,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,d)},un.flushSync=function(f){var h=l.T,d=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=h,n.p=d,n.d.f()}},un.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},un.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},un.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var d=h.as,m=c(d,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):d==="script"&&n.d.X(f,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},un.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=c(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},un.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,m=c(d,h.crossOrigin);n.d.L(f,d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},un.preloadModule=function(f,h){if(typeof f=="string")if(h){var d=c(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},un.requestFormReset=function(f){n.d.r(f)},un.unstable_batchedUpdates=function(f,h){return f(h)},un.useFormState=function(f,h,d){return l.H.useFormState(f,h,d)},un.useFormStatus=function(){return l.H.useHostTransitionStatus()},un.version="19.2.0",un}var Kw;function KC(){if(Kw)return Pg.exports;Kw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pg.exports=ND(),Pg.exports}var $w;function RD(){if($w)return Yc;$w=1;var r=BD(),e=q1(),t=KC();function n(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(n(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(n(188));return o!==a?null:a}for(var u=a,p=o;;){var v=u.return;if(v===null)break;var w=v.alternate;if(w===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===u)return f(v),a;if(w===p)return f(v),o;w=w.sibling}throw Error(n(188))}if(u.return!==p.return)u=v,p=w;else{for(var k=!1,H=v.child;H;){if(H===u){k=!0,u=v,p=w;break}if(H===p){k=!0,p=v,u=w;break}H=H.sibling}if(!k){for(H=w.child;H;){if(H===u){k=!0,u=w,p=v;break}if(H===p){k=!0,p=w,u=v;break}H=H.sibling}if(!k)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?a:o}function d(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=d(a),o!==null)return o;a=a.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function W(a){return a===null||typeof a!="object"?null:(a=P&&a[P]||a["@@iterator"],typeof a=="function"?a:null)}var K=Symbol.for("react.client.reference");function se(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===K?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case y:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList";case M:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case C:return a.displayName||"Context";case A:return(a._context.displayName||"Context")+".Consumer";case _:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return o=a.displayName||null,o!==null?o:se(a.type)||"Memo";case z:o=a._payload,a=a._init;try{return se(a(o))}catch{}}return null}var ue=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Ee=[],ke=-1;function j(a){return{current:a}}function D(a){0>ke||(a.current=Ee[ke],Ee[ke]=null,ke--)}function L(a,o){ke++,Ee[ke]=a.current,a.current=o}var B=j(null),U=j(null),Z=j(null),le=j(null);function re(a,o){switch(L(Z,o),L(U,a),L(B,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?uw(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=uw(o),a=hw(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}D(B),L(B,a)}function ve(){D(B),D(U),D(Z)}function pe(a){a.memoizedState!==null&&L(le,a);var o=B.current,u=hw(o,a.type);o!==u&&(L(U,a),L(B,u))}function Je(a){U.current===a&&(D(B),D(U)),le.current===a&&(D(le),Vc._currentValue=be)}var Xe,ct;function We(a){if(Xe===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Xe=o&&o[1]||"",ct=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+a+ct}var Fe=!1;function je(a,o){if(!a||Fe)return"";Fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(ye){var de=ye}Reflect.construct(a,[],Te)}else{try{Te.call()}catch(ye){de=ye}a.call(Te.prototype)}}else{try{throw Error()}catch(ye){de=ye}(Te=a())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(ye){if(ye&&de&&typeof ye.stack=="string")return[ye.stack,de.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),k=w[0],H=w[1];if(k&&H){var J=k.split(`
`),oe=H.split(`
`);for(v=p=0;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;for(;v<oe.length&&!oe[v].includes("DetermineComponentFrameRoot");)v++;if(p===J.length||v===oe.length)for(p=J.length-1,v=oe.length-1;1<=p&&0<=v&&J[p]!==oe[v];)v--;for(;1<=p&&0<=v;p--,v--)if(J[p]!==oe[v]){if(p!==1||v!==1)do if(p--,v--,0>v||J[p]!==oe[v]){var Se=`
`+J[p].replace(" at new "," at ");return a.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",a.displayName)),Se}while(1<=p&&0<=v);break}}}finally{Fe=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?We(u):""}function Oe(a,o){switch(a.tag){case 26:case 27:case 5:return We(a.type);case 16:return We("Lazy");case 13:return a.child!==o&&o!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return je(a.type,!1);case 11:return je(a.type.render,!1);case 1:return je(a.type,!0);case 31:return We("Activity");default:return""}}function $e(a){try{var o="",u=null;do o+=Oe(a,u),u=a,a=a.return;while(a);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var lt=Object.prototype.hasOwnProperty,mt=r.unstable_scheduleCallback,Mt=r.unstable_cancelCallback,Ht=r.unstable_shouldYield,Cr=r.unstable_requestPaint,bt=r.unstable_now,Gn=r.unstable_getCurrentPriorityLevel,zr=r.unstable_ImmediatePriority,vr=r.unstable_UserBlockingPriority,sr=r.unstable_NormalPriority,Dn=r.unstable_LowPriority,Xn=r.unstable_IdlePriority,hr=r.log,vn=r.unstable_setDisableYieldValue,kn=null,dr=null;function fr(a){if(typeof hr=="function"&&vn(a),dr&&typeof dr.setStrictMode=="function")try{dr.setStrictMode(kn,a)}catch{}}var ur=Math.clz32?Math.clz32:$i,Ki=Math.log,Yn=Math.LN2;function $i(a){return a>>>=0,a===0?32:31-(Ki(a)/Yn|0)|0}var On=256,ui=262144,Ut=4194304;function Rt(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ar(a,o,u){var p=a.pendingLanes;if(p===0)return 0;var v=0,w=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var H=p&134217727;return H!==0?(p=H&~w,p!==0?v=Rt(p):(k&=H,k!==0?v=Rt(k):u||(u=H&~a,u!==0&&(v=Rt(u))))):(H=p&~w,H!==0?v=Rt(H):k!==0?v=Rt(k):u||(u=p&~a,u!==0&&(v=Rt(u)))),v===0?0:o!==0&&o!==v&&(o&w)===0&&(w=v&-v,u=o&-o,w>=u||w===32&&(u&4194048)!==0)?o:v}function ge(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Me(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ne(){var a=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),a}function et(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Ye(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function rt(a,o,u,p,v,w){var k=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var H=a.entanglements,J=a.expirationTimes,oe=a.hiddenUpdates;for(u=k&~u;0<u;){var Se=31-ur(u),Te=1<<Se;H[Se]=0,J[Se]=-1;var de=oe[Se];if(de!==null)for(oe[Se]=null,Se=0;Se<de.length;Se++){var ye=de[Se];ye!==null&&(ye.lane&=-536870913)}u&=~Te}p!==0&&at(a,p,0),w!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=w&~(k&~o))}function at(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var p=31-ur(o);a.entangledLanes|=o,a.entanglements[p]=a.entanglements[p]|1073741824|u&261930}function st(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var p=31-ur(u),v=1<<p;v&o|a[p]&o&&(a[p]|=o),u&=~v}}function At(a,o){var u=o&-o;return u=(u&42)!==0?1:yr(u),(u&(a.suspendedLanes|o))!==0?0:u}function yr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ar(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function F(){var a=ie.p;return a!==0?a:(a=window.event,a===void 0?32:Fw(a.type))}function G(a,o){var u=ie.p;try{return ie.p=a,o()}finally{ie.p=u}}var V=Math.random().toString(36).slice(2),q="__reactFiber$"+V,X="__reactProps$"+V,Y="__reactContainer$"+V,ce="__reactEvents$"+V,Ce="__reactListeners$"+V,fe="__reactHandles$"+V,he="__reactResources$"+V,me="__reactMarker$"+V;function Be(a){delete a[q],delete a[X],delete a[ce],delete a[Ce],delete a[fe]}function Le(a){var o=a[q];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Y]||u[q]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=yw(a);a!==null;){if(u=a[q])return u;a=yw(a)}return o}a=u,u=a.parentNode}return null}function Ue(a){if(a=a[q]||a[Y]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Re(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(n(33))}function ze(a){var o=a[he];return o||(o=a[he]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Qe(a){a[me]=!0}var Qt=new Set,Zt={};function lr(a,o){hi(a,o),hi(a+"Capture",o)}function hi(a,o){for(Zt[a]=o,a=0;a<o.length;a++)Qt.add(o[a])}var qa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$s={},Qi={};function sc(a){return lt.call(Qi,a)?!0:lt.call($s,a)?!1:qa.test(a)?Qi[a]=!0:($s[a]=!0,!1)}function Bn(a,o,u){if(sc(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function xf(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function vs(a,o,u,p){if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+p)}}function di(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function n2(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function y_(a,o,u){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var v=p.get,w=p.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(k){u=""+k,w.call(this,k)}}),Object.defineProperty(a,o,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(k){u=""+k},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Tp(a){if(!a._valueTracker){var o=n2(a)?"checked":"value";a._valueTracker=y_(a,o,""+a[o])}}function i2(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return a&&(p=n2(a)?a.checked?"true":"false":a.value),a=p,a!==u?(o.setValue(a),!0):!1}function vf(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var b_=/[\n"\\]/g;function pi(a){return a.replace(b_,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function _p(a,o,u,p,v,w,k,H){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),o!=null?k==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+di(o)):a.value!==""+di(o)&&(a.value=""+di(o)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),o!=null?Dp(a,k,di(o)):u!=null?Dp(a,k,di(u)):p!=null&&a.removeAttribute("value"),v==null&&w!=null&&(a.defaultChecked=!!w),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.name=""+di(H):a.removeAttribute("name")}function s2(a,o,u,p,v,w,k,H){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),o!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){Tp(a);return}u=u!=null?""+di(u):"",o=o!=null?""+di(o):u,H||o===a.value||(a.value=o),a.defaultValue=o}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=H?a.checked:!!p,a.defaultChecked=!!p,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k),Tp(a)}function Dp(a,o,u){o==="number"&&vf(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Il(a,o,u,p){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&p&&(a[u].defaultSelected=!0)}else{for(u=""+di(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,p&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function a2(a,o,u){if(o!=null&&(o=""+di(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+di(u):""}function l2(a,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(n(92));if(ue(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=di(o),a.defaultValue=u,p=a.textContent,p===u&&p!==""&&p!==null&&(a.value=p),Tp(a)}function Pl(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var w_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function o2(a,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":p?a.setProperty(o,u):typeof u!="number"||u===0||w_.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function c2(a,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(a=a.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var v in o)p=o[v],o.hasOwnProperty(v)&&u[v]!==p&&o2(a,v,p)}else for(var w in o)o.hasOwnProperty(w)&&o2(a,w,o[w])}function kp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),E_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yf(a){return E_.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ys(){}var Op=null;function Bp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var jl=null,zl=null;function f2(a){var o=Ue(a);if(o&&(a=o.stateNode)){var u=a[X]||null;e:switch(a=o.stateNode,o.type){case"input":if(_p(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+pi(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==a&&p.form===a.form){var v=p[X]||null;if(!v)throw Error(n(90));_p(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===a.form&&i2(p)}break e;case"textarea":a2(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Il(a,!!u.multiple,o,!1)}}}var Np=!1;function u2(a,o,u){if(Np)return a(o,u);Np=!0;try{var p=a(o);return p}finally{if(Np=!1,(jl!==null||zl!==null)&&(au(),jl&&(o=jl,a=zl,zl=jl=null,f2(o),a)))for(o=0;o<a.length;o++)f2(a[o])}}function ac(a,o){var u=a.stateNode;if(u===null)return null;var p=u[X]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rp=!1;if(bs)try{var lc={};Object.defineProperty(lc,"passive",{get:function(){Rp=!0}}),window.addEventListener("test",lc,lc),window.removeEventListener("test",lc,lc)}catch{Rp=!1}var Qs=null,Mp=null,bf=null;function h2(){if(bf)return bf;var a,o=Mp,u=o.length,p,v="value"in Qs?Qs.value:Qs.textContent,w=v.length;for(a=0;a<u&&o[a]===v[a];a++);var k=u-a;for(p=1;p<=k&&o[u-p]===v[w-p];p++);return bf=v.slice(a,1<p?1-p:void 0)}function wf(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Sf(){return!0}function d2(){return!1}function Nn(a){function o(u,p,v,w,k){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=w,this.target=k,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(u=a[H],this[H]=u?u(w):w[H]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Sf:d2,this.isPropagationStopped=d2,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Sf)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Sf)},persist:function(){},isPersistent:Sf}),o}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ef=Nn(Wa),oc=m({},Wa,{view:0,detail:0}),C_=Nn(oc),Fp,Lp,cc,Cf=m({},oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==cc&&(cc&&a.type==="mousemove"?(Fp=a.screenX-cc.screenX,Lp=a.screenY-cc.screenY):Lp=Fp=0,cc=a),Fp)},movementY:function(a){return"movementY"in a?a.movementY:Lp}}),p2=Nn(Cf),A_=m({},Cf,{dataTransfer:0}),T_=Nn(A_),__=m({},oc,{relatedTarget:0}),Ip=Nn(__),D_=m({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),k_=Nn(D_),O_=m({},Wa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),B_=Nn(O_),N_=m({},Wa,{data:0}),m2=Nn(N_),R_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L_(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=F_[a])?!!o[a]:!1}function Pp(){return L_}var I_=m({},oc,{key:function(a){if(a.key){var o=R_[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=wf(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?M_[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pp,charCode:function(a){return a.type==="keypress"?wf(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?wf(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),P_=Nn(I_),j_=m({},Cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g2=Nn(j_),z_=m({},oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pp}),H_=Nn(z_),U_=m({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),V_=Nn(U_),q_=m({},Cf,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),W_=Nn(q_),G_=m({},Wa,{newState:0,oldState:0}),X_=Nn(G_),Y_=[9,13,27,32],jp=bs&&"CompositionEvent"in window,fc=null;bs&&"documentMode"in document&&(fc=document.documentMode);var K_=bs&&"TextEvent"in window&&!fc,x2=bs&&(!jp||fc&&8<fc&&11>=fc),v2=" ",y2=!1;function b2(a,o){switch(a){case"keyup":return Y_.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w2(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Hl=!1;function $_(a,o){switch(a){case"compositionend":return w2(o);case"keypress":return o.which!==32?null:(y2=!0,v2);case"textInput":return a=o.data,a===v2&&y2?null:a;default:return null}}function Q_(a,o){if(Hl)return a==="compositionend"||!jp&&b2(a,o)?(a=h2(),bf=Mp=Qs=null,Hl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return x2&&o.locale!=="ko"?null:o.data;default:return null}}var Z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S2(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Z_[a.type]:o==="textarea"}function E2(a,o,u,p){jl?zl?zl.push(p):zl=[p]:jl=p,o=du(o,"onChange"),0<o.length&&(u=new Ef("onChange","change",null,u,p),a.push({event:u,listeners:o}))}var uc=null,hc=null;function J_(a){sw(a,0)}function Af(a){var o=Re(a);if(i2(o))return a}function C2(a,o){if(a==="change")return o}var A2=!1;if(bs){var zp;if(bs){var Hp="oninput"in document;if(!Hp){var T2=document.createElement("div");T2.setAttribute("oninput","return;"),Hp=typeof T2.oninput=="function"}zp=Hp}else zp=!1;A2=zp&&(!document.documentMode||9<document.documentMode)}function _2(){uc&&(uc.detachEvent("onpropertychange",D2),hc=uc=null)}function D2(a){if(a.propertyName==="value"&&Af(hc)){var o=[];E2(o,hc,a,Bp(a)),u2(J_,o)}}function e5(a,o,u){a==="focusin"?(_2(),uc=o,hc=u,uc.attachEvent("onpropertychange",D2)):a==="focusout"&&_2()}function t5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Af(hc)}function r5(a,o){if(a==="click")return Af(o)}function n5(a,o){if(a==="input"||a==="change")return Af(o)}function i5(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Kn=typeof Object.is=="function"?Object.is:i5;function dc(a,o){if(Kn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!lt.call(o,v)||!Kn(a[v],o[v]))return!1}return!0}function k2(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function O2(a,o){var u=k2(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=o&&p>=o)return{node:u,offset:o-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=k2(u)}}function B2(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?B2(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function N2(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=vf(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=vf(a.document)}return o}function Up(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var s5=bs&&"documentMode"in document&&11>=document.documentMode,Ul=null,Vp=null,pc=null,qp=!1;function R2(a,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;qp||Ul==null||Ul!==vf(p)||(p=Ul,"selectionStart"in p&&Up(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),pc&&dc(pc,p)||(pc=p,p=du(Vp,"onSelect"),0<p.length&&(o=new Ef("onSelect","select",null,o,u),a.push({event:o,listeners:p}),o.target=Ul)))}function Ga(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Vl={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},Wp={},M2={};bs&&(M2=document.createElement("div").style,"AnimationEvent"in window||(delete Vl.animationend.animation,delete Vl.animationiteration.animation,delete Vl.animationstart.animation),"TransitionEvent"in window||delete Vl.transitionend.transition);function Xa(a){if(Wp[a])return Wp[a];if(!Vl[a])return a;var o=Vl[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in M2)return Wp[a]=o[u];return a}var F2=Xa("animationend"),L2=Xa("animationiteration"),I2=Xa("animationstart"),a5=Xa("transitionrun"),l5=Xa("transitionstart"),o5=Xa("transitioncancel"),P2=Xa("transitionend"),j2=new Map,Gp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gp.push("scrollEnd");function Mi(a,o){j2.set(a,o),lr(o,[a])}var Tf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},mi=[],ql=0,Xp=0;function _f(){for(var a=ql,o=Xp=ql=0;o<a;){var u=mi[o];mi[o++]=null;var p=mi[o];mi[o++]=null;var v=mi[o];mi[o++]=null;var w=mi[o];if(mi[o++]=null,p!==null&&v!==null){var k=p.pending;k===null?v.next=v:(v.next=k.next,k.next=v),p.pending=v}w!==0&&z2(u,v,w)}}function Df(a,o,u,p){mi[ql++]=a,mi[ql++]=o,mi[ql++]=u,mi[ql++]=p,Xp|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function Yp(a,o,u,p){return Df(a,o,u,p),kf(a)}function Ya(a,o){return Df(a,null,null,o),kf(a)}function z2(a,o,u){a.lanes|=u;var p=a.alternate;p!==null&&(p.lanes|=u);for(var v=!1,w=a.return;w!==null;)w.childLanes|=u,p=w.alternate,p!==null&&(p.childLanes|=u),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(v=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,v&&o!==null&&(v=31-ur(u),a=w.hiddenUpdates,p=a[v],p===null?a[v]=[o]:p.push(o),o.lane=u|536870912),w):null}function kf(a){if(50<Lc)throw Lc=0,ng=null,Error(n(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Wl={};function c5(a,o,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(a,o,u,p){return new c5(a,o,u,p)}function Kp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ws(a,o){var u=a.alternate;return u===null?(u=$n(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function H2(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Of(a,o,u,p,v,w){var k=0;if(p=a,typeof a=="function")Kp(a)&&(k=1);else if(typeof a=="string")k=pD(a,u,B.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case M:return a=$n(31,u,o,v),a.elementType=M,a.lanes=w,a;case y:return Ka(u.children,v,w,o);case S:k=8,v|=24;break;case T:return a=$n(12,u,o,v|2),a.elementType=T,a.lanes=w,a;case N:return a=$n(13,u,o,v),a.elementType=N,a.lanes=w,a;case R:return a=$n(19,u,o,v),a.elementType=R,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:k=10;break e;case A:k=9;break e;case _:k=11;break e;case O:k=14;break e;case z:k=16,p=null;break e}k=29,u=Error(n(130,a===null?"null":typeof a,"")),p=null}return o=$n(k,u,o,v),o.elementType=a,o.type=p,o.lanes=w,o}function Ka(a,o,u,p){return a=$n(7,a,p,o),a.lanes=u,a}function $p(a,o,u){return a=$n(6,a,null,o),a.lanes=u,a}function U2(a){var o=$n(18,null,null,0);return o.stateNode=a,o}function Qp(a,o,u){return o=$n(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var V2=new WeakMap;function gi(a,o){if(typeof a=="object"&&a!==null){var u=V2.get(a);return u!==void 0?u:(o={value:a,source:o,stack:$e(o)},V2.set(a,o),o)}return{value:a,source:o,stack:$e(o)}}var Gl=[],Xl=0,Bf=null,mc=0,xi=[],vi=0,Zs=null,Zi=1,Ji="";function Ss(a,o){Gl[Xl++]=mc,Gl[Xl++]=Bf,Bf=a,mc=o}function q2(a,o,u){xi[vi++]=Zi,xi[vi++]=Ji,xi[vi++]=Zs,Zs=a;var p=Zi;a=Ji;var v=32-ur(p)-1;p&=~(1<<v),u+=1;var w=32-ur(o)+v;if(30<w){var k=v-v%5;w=(p&(1<<k)-1).toString(32),p>>=k,v-=k,Zi=1<<32-ur(o)+v|u<<v|p,Ji=w+a}else Zi=1<<w|u<<v|p,Ji=a}function Zp(a){a.return!==null&&(Ss(a,1),q2(a,1,0))}function Jp(a){for(;a===Bf;)Bf=Gl[--Xl],Gl[Xl]=null,mc=Gl[--Xl],Gl[Xl]=null;for(;a===Zs;)Zs=xi[--vi],xi[vi]=null,Ji=xi[--vi],xi[vi]=null,Zi=xi[--vi],xi[vi]=null}function W2(a,o){xi[vi++]=Zi,xi[vi++]=Ji,xi[vi++]=Zs,Zi=o.id,Ji=o.overflow,Zs=a}var $r=null,Jt=null,wt=!1,Js=null,yi=!1,em=Error(n(519));function ea(a){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gc(gi(o,a)),em}function G2(a){var o=a.stateNode,u=a.type,p=a.memoizedProps;switch(o[q]=a,o[X]=p,u){case"dialog":xt("cancel",o),xt("close",o);break;case"iframe":case"object":case"embed":xt("load",o);break;case"video":case"audio":for(u=0;u<Pc.length;u++)xt(Pc[u],o);break;case"source":xt("error",o);break;case"img":case"image":case"link":xt("error",o),xt("load",o);break;case"details":xt("toggle",o);break;case"input":xt("invalid",o),s2(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":xt("invalid",o);break;case"textarea":xt("invalid",o),l2(o,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||cw(o.textContent,u)?(p.popover!=null&&(xt("beforetoggle",o),xt("toggle",o)),p.onScroll!=null&&xt("scroll",o),p.onScrollEnd!=null&&xt("scrollend",o),p.onClick!=null&&(o.onclick=ys),o=!0):o=!1,o||ea(a,!0)}function X2(a){for($r=a.return;$r;)switch($r.tag){case 5:case 31:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:$r=$r.return}}function Yl(a){if(a!==$r)return!1;if(!wt)return X2(a),wt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||vg(a.type,a.memoizedProps)),u=!u),u&&Jt&&ea(a),X2(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Jt=vw(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Jt=vw(a)}else o===27?(o=Jt,pa(a.type)?(a=Eg,Eg=null,Jt=a):Jt=o):Jt=$r?wi(a.stateNode.nextSibling):null;return!0}function $a(){Jt=$r=null,wt=!1}function tm(){var a=Js;return a!==null&&(Ln===null?Ln=a:Ln.push.apply(Ln,a),Js=null),a}function gc(a){Js===null?Js=[a]:Js.push(a)}var rm=j(null),Qa=null,Es=null;function ta(a,o,u){L(rm,o._currentValue),o._currentValue=u}function Cs(a){a._currentValue=rm.current,D(rm)}function nm(a,o,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===u)break;a=a.return}}function im(a,o,u,p){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var w=v.dependencies;if(w!==null){var k=v.child;w=w.firstContext;e:for(;w!==null;){var H=w;w=v;for(var J=0;J<o.length;J++)if(H.context===o[J]){w.lanes|=u,H=w.alternate,H!==null&&(H.lanes|=u),nm(w.return,u,a),p||(k=null);break e}w=H.next}}else if(v.tag===18){if(k=v.return,k===null)throw Error(n(341));k.lanes|=u,w=k.alternate,w!==null&&(w.lanes|=u),nm(k,u,a),k=null}else k=v.child;if(k!==null)k.return=v;else for(k=v;k!==null;){if(k===a){k=null;break}if(v=k.sibling,v!==null){v.return=k.return,k=v;break}k=k.return}v=k}}function Kl(a,o,u,p){a=null;for(var v=o,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var k=v.alternate;if(k===null)throw Error(n(387));if(k=k.memoizedProps,k!==null){var H=v.type;Kn(v.pendingProps.value,k.value)||(a!==null?a.push(H):a=[H])}}else if(v===le.current){if(k=v.alternate,k===null)throw Error(n(387));k.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Vc):a=[Vc])}v=v.return}a!==null&&im(o,a,u,p),o.flags|=262144}function Nf(a){for(a=a.firstContext;a!==null;){if(!Kn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Za(a){Qa=a,Es=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Qr(a){return Y2(Qa,a)}function Rf(a,o){return Qa===null&&Za(a),Y2(a,o)}function Y2(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Es===null){if(a===null)throw Error(n(308));Es=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Es=Es.next=o;return u}var f5=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,p){a.push(p)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},u5=r.unstable_scheduleCallback,h5=r.unstable_NormalPriority,Tr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sm(){return{controller:new f5,data:new Map,refCount:0}}function xc(a){a.refCount--,a.refCount===0&&u5(h5,function(){a.controller.abort()})}var vc=null,am=0,$l=0,Ql=null;function d5(a,o){if(vc===null){var u=vc=[];am=0,$l=cg(),Ql={status:"pending",value:void 0,then:function(p){u.push(p)}}}return am++,o.then(K2,K2),o}function K2(){if(--am===0&&vc!==null){Ql!==null&&(Ql.status="fulfilled");var a=vc;vc=null,$l=0,Ql=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function p5(a,o){var u=[],p={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){p.status="fulfilled",p.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(p.status="rejected",p.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),p}var $2=ee.S;ee.S=function(a,o){Rb=bt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&d5(a,o),$2!==null&&$2(a,o)};var Ja=j(null);function lm(){var a=Ja.current;return a!==null?a:Yt.pooledCache}function Mf(a,o){o===null?L(Ja,Ja.current):L(Ja,o.pool)}function Q2(){var a=lm();return a===null?null:{parent:Tr._currentValue,pool:a}}var Zl=Error(n(460)),om=Error(n(474)),Ff=Error(n(542)),Lf={then:function(){}};function Z2(a){return a=a.status,a==="fulfilled"||a==="rejected"}function J2(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(ys,ys),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,ty(a),a;default:if(typeof o.status=="string")o.then(ys,ys);else{if(a=Yt,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=o,a.status="pending",a.then(function(p){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=p}},function(p){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,ty(a),a}throw tl=o,Zl}}function el(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(tl=u,Zl):u}}var tl=null;function ey(){if(tl===null)throw Error(n(459));var a=tl;return tl=null,a}function ty(a){if(a===Zl||a===Ff)throw Error(n(483))}var Jl=null,yc=0;function If(a){var o=yc;return yc+=1,Jl===null&&(Jl=[]),J2(Jl,a,o)}function bc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Pf(a,o){throw o.$$typeof===g?Error(n(525)):(a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function ry(a){function o(ne,te){if(a){var ae=ne.deletions;ae===null?(ne.deletions=[te],ne.flags|=16):ae.push(te)}}function u(ne,te){if(!a)return null;for(;te!==null;)o(ne,te),te=te.sibling;return null}function p(ne){for(var te=new Map;ne!==null;)ne.key!==null?te.set(ne.key,ne):te.set(ne.index,ne),ne=ne.sibling;return te}function v(ne,te){return ne=ws(ne,te),ne.index=0,ne.sibling=null,ne}function w(ne,te,ae){return ne.index=ae,a?(ae=ne.alternate,ae!==null?(ae=ae.index,ae<te?(ne.flags|=67108866,te):ae):(ne.flags|=67108866,te)):(ne.flags|=1048576,te)}function k(ne){return a&&ne.alternate===null&&(ne.flags|=67108866),ne}function H(ne,te,ae,Ae){return te===null||te.tag!==6?(te=$p(ae,ne.mode,Ae),te.return=ne,te):(te=v(te,ae),te.return=ne,te)}function J(ne,te,ae,Ae){var tt=ae.type;return tt===y?Se(ne,te,ae.props.children,Ae,ae.key):te!==null&&(te.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===z&&el(tt)===te.type)?(te=v(te,ae.props),bc(te,ae),te.return=ne,te):(te=Of(ae.type,ae.key,ae.props,null,ne.mode,Ae),bc(te,ae),te.return=ne,te)}function oe(ne,te,ae,Ae){return te===null||te.tag!==4||te.stateNode.containerInfo!==ae.containerInfo||te.stateNode.implementation!==ae.implementation?(te=Qp(ae,ne.mode,Ae),te.return=ne,te):(te=v(te,ae.children||[]),te.return=ne,te)}function Se(ne,te,ae,Ae,tt){return te===null||te.tag!==7?(te=Ka(ae,ne.mode,Ae,tt),te.return=ne,te):(te=v(te,ae),te.return=ne,te)}function Te(ne,te,ae){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=$p(""+te,ne.mode,ae),te.return=ne,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return ae=Of(te.type,te.key,te.props,null,ne.mode,ae),bc(ae,te),ae.return=ne,ae;case b:return te=Qp(te,ne.mode,ae),te.return=ne,te;case z:return te=el(te),Te(ne,te,ae)}if(ue(te)||W(te))return te=Ka(te,ne.mode,ae,null),te.return=ne,te;if(typeof te.then=="function")return Te(ne,If(te),ae);if(te.$$typeof===C)return Te(ne,Rf(ne,te),ae);Pf(ne,te)}return null}function de(ne,te,ae,Ae){var tt=te!==null?te.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return tt!==null?null:H(ne,te,""+ae,Ae);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return ae.key===tt?J(ne,te,ae,Ae):null;case b:return ae.key===tt?oe(ne,te,ae,Ae):null;case z:return ae=el(ae),de(ne,te,ae,Ae)}if(ue(ae)||W(ae))return tt!==null?null:Se(ne,te,ae,Ae,null);if(typeof ae.then=="function")return de(ne,te,If(ae),Ae);if(ae.$$typeof===C)return de(ne,te,Rf(ne,ae),Ae);Pf(ne,ae)}return null}function ye(ne,te,ae,Ae,tt){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return ne=ne.get(ae)||null,H(te,ne,""+Ae,tt);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case x:return ne=ne.get(Ae.key===null?ae:Ae.key)||null,J(te,ne,Ae,tt);case b:return ne=ne.get(Ae.key===null?ae:Ae.key)||null,oe(te,ne,Ae,tt);case z:return Ae=el(Ae),ye(ne,te,ae,Ae,tt)}if(ue(Ae)||W(Ae))return ne=ne.get(ae)||null,Se(te,ne,Ae,tt,null);if(typeof Ae.then=="function")return ye(ne,te,ae,If(Ae),tt);if(Ae.$$typeof===C)return ye(ne,te,ae,Rf(te,Ae),tt);Pf(te,Ae)}return null}function Ke(ne,te,ae,Ae){for(var tt=null,Dt=null,Ze=te,ht=te=0,yt=null;Ze!==null&&ht<ae.length;ht++){Ze.index>ht?(yt=Ze,Ze=null):yt=Ze.sibling;var kt=de(ne,Ze,ae[ht],Ae);if(kt===null){Ze===null&&(Ze=yt);break}a&&Ze&&kt.alternate===null&&o(ne,Ze),te=w(kt,te,ht),Dt===null?tt=kt:Dt.sibling=kt,Dt=kt,Ze=yt}if(ht===ae.length)return u(ne,Ze),wt&&Ss(ne,ht),tt;if(Ze===null){for(;ht<ae.length;ht++)Ze=Te(ne,ae[ht],Ae),Ze!==null&&(te=w(Ze,te,ht),Dt===null?tt=Ze:Dt.sibling=Ze,Dt=Ze);return wt&&Ss(ne,ht),tt}for(Ze=p(Ze);ht<ae.length;ht++)yt=ye(Ze,ne,ht,ae[ht],Ae),yt!==null&&(a&&yt.alternate!==null&&Ze.delete(yt.key===null?ht:yt.key),te=w(yt,te,ht),Dt===null?tt=yt:Dt.sibling=yt,Dt=yt);return a&&Ze.forEach(function(ya){return o(ne,ya)}),wt&&Ss(ne,ht),tt}function it(ne,te,ae,Ae){if(ae==null)throw Error(n(151));for(var tt=null,Dt=null,Ze=te,ht=te=0,yt=null,kt=ae.next();Ze!==null&&!kt.done;ht++,kt=ae.next()){Ze.index>ht?(yt=Ze,Ze=null):yt=Ze.sibling;var ya=de(ne,Ze,kt.value,Ae);if(ya===null){Ze===null&&(Ze=yt);break}a&&Ze&&ya.alternate===null&&o(ne,Ze),te=w(ya,te,ht),Dt===null?tt=ya:Dt.sibling=ya,Dt=ya,Ze=yt}if(kt.done)return u(ne,Ze),wt&&Ss(ne,ht),tt;if(Ze===null){for(;!kt.done;ht++,kt=ae.next())kt=Te(ne,kt.value,Ae),kt!==null&&(te=w(kt,te,ht),Dt===null?tt=kt:Dt.sibling=kt,Dt=kt);return wt&&Ss(ne,ht),tt}for(Ze=p(Ze);!kt.done;ht++,kt=ae.next())kt=ye(Ze,ne,ht,kt.value,Ae),kt!==null&&(a&&kt.alternate!==null&&Ze.delete(kt.key===null?ht:kt.key),te=w(kt,te,ht),Dt===null?tt=kt:Dt.sibling=kt,Dt=kt);return a&&Ze.forEach(function(AD){return o(ne,AD)}),wt&&Ss(ne,ht),tt}function Wt(ne,te,ae,Ae){if(typeof ae=="object"&&ae!==null&&ae.type===y&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:e:{for(var tt=ae.key;te!==null;){if(te.key===tt){if(tt=ae.type,tt===y){if(te.tag===7){u(ne,te.sibling),Ae=v(te,ae.props.children),Ae.return=ne,ne=Ae;break e}}else if(te.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===z&&el(tt)===te.type){u(ne,te.sibling),Ae=v(te,ae.props),bc(Ae,ae),Ae.return=ne,ne=Ae;break e}u(ne,te);break}else o(ne,te);te=te.sibling}ae.type===y?(Ae=Ka(ae.props.children,ne.mode,Ae,ae.key),Ae.return=ne,ne=Ae):(Ae=Of(ae.type,ae.key,ae.props,null,ne.mode,Ae),bc(Ae,ae),Ae.return=ne,ne=Ae)}return k(ne);case b:e:{for(tt=ae.key;te!==null;){if(te.key===tt)if(te.tag===4&&te.stateNode.containerInfo===ae.containerInfo&&te.stateNode.implementation===ae.implementation){u(ne,te.sibling),Ae=v(te,ae.children||[]),Ae.return=ne,ne=Ae;break e}else{u(ne,te);break}else o(ne,te);te=te.sibling}Ae=Qp(ae,ne.mode,Ae),Ae.return=ne,ne=Ae}return k(ne);case z:return ae=el(ae),Wt(ne,te,ae,Ae)}if(ue(ae))return Ke(ne,te,ae,Ae);if(W(ae)){if(tt=W(ae),typeof tt!="function")throw Error(n(150));return ae=tt.call(ae),it(ne,te,ae,Ae)}if(typeof ae.then=="function")return Wt(ne,te,If(ae),Ae);if(ae.$$typeof===C)return Wt(ne,te,Rf(ne,ae),Ae);Pf(ne,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,te!==null&&te.tag===6?(u(ne,te.sibling),Ae=v(te,ae),Ae.return=ne,ne=Ae):(u(ne,te),Ae=$p(ae,ne.mode,Ae),Ae.return=ne,ne=Ae),k(ne)):u(ne,te)}return function(ne,te,ae,Ae){try{yc=0;var tt=Wt(ne,te,ae,Ae);return Jl=null,tt}catch(Ze){if(Ze===Zl||Ze===Ff)throw Ze;var Dt=$n(29,Ze,null,ne.mode);return Dt.lanes=Ae,Dt.return=ne,Dt}finally{}}}var rl=ry(!0),ny=ry(!1),ra=!1;function cm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fm(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function na(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ia(a,o,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Bt&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,o=kf(a),z2(a,null,u),o}return Df(a,p,o,u),kf(a)}function wc(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=a.pendingLanes,u|=p,o.lanes=u,st(a,u)}}function um(a,o){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?v=w=k:w=w.next=k,u=u.next}while(u!==null);w===null?v=w=o:w=w.next=o}else v=w=o;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var hm=!1;function Sc(){if(hm){var a=Ql;if(a!==null)throw a}}function Ec(a,o,u,p){hm=!1;var v=a.updateQueue;ra=!1;var w=v.firstBaseUpdate,k=v.lastBaseUpdate,H=v.shared.pending;if(H!==null){v.shared.pending=null;var J=H,oe=J.next;J.next=null,k===null?w=oe:k.next=oe,k=J;var Se=a.alternate;Se!==null&&(Se=Se.updateQueue,H=Se.lastBaseUpdate,H!==k&&(H===null?Se.firstBaseUpdate=oe:H.next=oe,Se.lastBaseUpdate=J))}if(w!==null){var Te=v.baseState;k=0,Se=oe=J=null,H=w;do{var de=H.lane&-536870913,ye=de!==H.lane;if(ye?(vt&de)===de:(p&de)===de){de!==0&&de===$l&&(hm=!0),Se!==null&&(Se=Se.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Ke=a,it=H;de=o;var Wt=u;switch(it.tag){case 1:if(Ke=it.payload,typeof Ke=="function"){Te=Ke.call(Wt,Te,de);break e}Te=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=it.payload,de=typeof Ke=="function"?Ke.call(Wt,Te,de):Ke,de==null)break e;Te=m({},Te,de);break e;case 2:ra=!0}}de=H.callback,de!==null&&(a.flags|=64,ye&&(a.flags|=8192),ye=v.callbacks,ye===null?v.callbacks=[de]:ye.push(de))}else ye={lane:de,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Se===null?(oe=Se=ye,J=Te):Se=Se.next=ye,k|=de;if(H=H.next,H===null){if(H=v.shared.pending,H===null)break;ye=H,H=ye.next,ye.next=null,v.lastBaseUpdate=ye,v.shared.pending=null}}while(!0);Se===null&&(J=Te),v.baseState=J,v.firstBaseUpdate=oe,v.lastBaseUpdate=Se,w===null&&(v.shared.lanes=0),ca|=k,a.lanes=k,a.memoizedState=Te}}function iy(a,o){if(typeof a!="function")throw Error(n(191,a));a.call(o)}function sy(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)iy(u[a],o)}var eo=j(null),jf=j(0);function ay(a,o){a=Rs,L(jf,a),L(eo,o),Rs=a|o.baseLanes}function dm(){L(jf,Rs),L(eo,eo.current)}function pm(){Rs=jf.current,D(eo),D(jf)}var Qn=j(null),bi=null;function sa(a){var o=a.alternate;L(br,br.current&1),L(Qn,a),bi===null&&(o===null||eo.current!==null||o.memoizedState!==null)&&(bi=a)}function mm(a){L(br,br.current),L(Qn,a),bi===null&&(bi=a)}function ly(a){a.tag===22?(L(br,br.current),L(Qn,a),bi===null&&(bi=a)):aa()}function aa(){L(br,br.current),L(Qn,Qn.current)}function Zn(a){D(Qn),bi===a&&(bi=null),D(br)}var br=j(0);function zf(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||wg(u)||Sg(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var As=0,ft=null,Vt=null,_r=null,Hf=!1,to=!1,nl=!1,Uf=0,Cc=0,ro=null,m5=0;function pr(){throw Error(n(321))}function gm(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Kn(a[u],o[u]))return!1;return!0}function xm(a,o,u,p,v,w){return As=w,ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ee.H=a===null||a.memoizedState===null?qy:Nm,nl=!1,w=u(p,v),nl=!1,to&&(w=cy(o,u,p,v)),oy(a),w}function oy(a){ee.H=_c;var o=Vt!==null&&Vt.next!==null;if(As=0,_r=Vt=ft=null,Hf=!1,Cc=0,ro=null,o)throw Error(n(300));a===null||Dr||(a=a.dependencies,a!==null&&Nf(a)&&(Dr=!0))}function cy(a,o,u,p){ft=a;var v=0;do{if(to&&(ro=null),Cc=0,to=!1,25<=v)throw Error(n(301));if(v+=1,_r=Vt=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}ee.H=Wy,w=o(u,p)}while(to);return w}function g5(){var a=ee.H,o=a.useState()[0];return o=typeof o.then=="function"?Ac(o):o,a=a.useState()[0],(Vt!==null?Vt.memoizedState:null)!==a&&(ft.flags|=1024),o}function vm(){var a=Uf!==0;return Uf=0,a}function ym(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function bm(a){if(Hf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Hf=!1}As=0,_r=Vt=ft=null,to=!1,Cc=Uf=0,ro=null}function yn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?ft.memoizedState=_r=a:_r=_r.next=a,_r}function wr(){if(Vt===null){var a=ft.alternate;a=a!==null?a.memoizedState:null}else a=Vt.next;var o=_r===null?ft.memoizedState:_r.next;if(o!==null)_r=o,Vt=a;else{if(a===null)throw ft.alternate===null?Error(n(467)):Error(n(310));Vt=a,a={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},_r===null?ft.memoizedState=_r=a:_r=_r.next=a}return _r}function Vf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ac(a){var o=Cc;return Cc+=1,ro===null&&(ro=[]),a=J2(ro,a,o),o=ft,(_r===null?o.memoizedState:_r.next)===null&&(o=o.alternate,ee.H=o===null||o.memoizedState===null?qy:Nm),a}function qf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ac(a);if(a.$$typeof===C)return Qr(a)}throw Error(n(438,String(a)))}function wm(a){var o=null,u=ft.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=ft.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Vf(),ft.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),p=0;p<a;p++)u[p]=I;return o.index++,u}function Ts(a,o){return typeof o=="function"?o(a):o}function Wf(a){var o=wr();return Sm(o,Vt,a)}function Sm(a,o,u){var p=a.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=u;var v=a.baseQueue,w=p.pending;if(w!==null){if(v!==null){var k=v.next;v.next=w.next,w.next=k}o.baseQueue=v=w,p.pending=null}if(w=a.baseState,v===null)a.memoizedState=w;else{o=v.next;var H=k=null,J=null,oe=o,Se=!1;do{var Te=oe.lane&-536870913;if(Te!==oe.lane?(vt&Te)===Te:(As&Te)===Te){var de=oe.revertLane;if(de===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),Te===$l&&(Se=!0);else if((As&de)===de){oe=oe.next,de===$l&&(Se=!0);continue}else Te={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},J===null?(H=J=Te,k=w):J=J.next=Te,ft.lanes|=de,ca|=de;Te=oe.action,nl&&u(w,Te),w=oe.hasEagerState?oe.eagerState:u(w,Te)}else de={lane:Te,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},J===null?(H=J=de,k=w):J=J.next=de,ft.lanes|=Te,ca|=Te;oe=oe.next}while(oe!==null&&oe!==o);if(J===null?k=w:J.next=H,!Kn(w,a.memoizedState)&&(Dr=!0,Se&&(u=Ql,u!==null)))throw u;a.memoizedState=w,a.baseState=k,a.baseQueue=J,p.lastRenderedState=w}return v===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Em(a){var o=wr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var p=u.dispatch,v=u.pending,w=o.memoizedState;if(v!==null){u.pending=null;var k=v=v.next;do w=a(w,k.action),k=k.next;while(k!==v);Kn(w,o.memoizedState)||(Dr=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,p]}function fy(a,o,u){var p=ft,v=wr(),w=wt;if(w){if(u===void 0)throw Error(n(407));u=u()}else u=o();var k=!Kn((Vt||v).memoizedState,u);if(k&&(v.memoizedState=u,Dr=!0),v=v.queue,Tm(dy.bind(null,p,v,a),[a]),v.getSnapshot!==o||k||_r!==null&&_r.memoizedState.tag&1){if(p.flags|=2048,no(9,{destroy:void 0},hy.bind(null,p,v,u,o),null),Yt===null)throw Error(n(349));w||(As&127)!==0||uy(p,o,u)}return u}function uy(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=ft.updateQueue,o===null?(o=Vf(),ft.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function hy(a,o,u,p){o.value=u,o.getSnapshot=p,py(o)&&my(a)}function dy(a,o,u){return u(function(){py(o)&&my(a)})}function py(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Kn(a,u)}catch{return!0}}function my(a){var o=Ya(a,2);o!==null&&In(o,a,2)}function Cm(a){var o=yn();if(typeof a=="function"){var u=a;if(a=u(),nl){fr(!0);try{u()}finally{fr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:a},o}function gy(a,o,u,p){return a.baseState=u,Sm(a,Vt,typeof p=="function"?p:Ts)}function x5(a,o,u,p,v){if(Yf(a))throw Error(n(485));if(a=o.action,a!==null){var w={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){w.listeners.push(k)}};ee.T!==null?u(!0):w.isTransition=!1,p(w),u=o.pending,u===null?(w.next=o.pending=w,xy(o,w)):(w.next=u.next,o.pending=u.next=w)}}function xy(a,o){var u=o.action,p=o.payload,v=a.state;if(o.isTransition){var w=ee.T,k={};ee.T=k;try{var H=u(v,p),J=ee.S;J!==null&&J(k,H),vy(a,o,H)}catch(oe){Am(a,o,oe)}finally{w!==null&&k.types!==null&&(w.types=k.types),ee.T=w}}else try{w=u(v,p),vy(a,o,w)}catch(oe){Am(a,o,oe)}}function vy(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){yy(a,o,p)},function(p){return Am(a,o,p)}):yy(a,o,u)}function yy(a,o,u){o.status="fulfilled",o.value=u,by(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,xy(a,u)))}function Am(a,o,u){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,by(o),o=o.next;while(o!==p)}a.action=null}function by(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function wy(a,o){return o}function Sy(a,o){if(wt){var u=Yt.formState;if(u!==null){e:{var p=ft;if(wt){if(Jt){t:{for(var v=Jt,w=yi;v.nodeType!==8;){if(!w){v=null;break t}if(v=wi(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){Jt=wi(v.nextSibling),p=v.data==="F!";break e}}ea(p)}p=!1}p&&(o=u[0])}}return u=yn(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wy,lastRenderedState:o},u.queue=p,u=Hy.bind(null,ft,p),p.dispatch=u,p=Cm(!1),w=Bm.bind(null,ft,!1,p.queue),p=yn(),v={state:o,dispatch:null,action:a,pending:null},p.queue=v,u=x5.bind(null,ft,v,w,u),v.dispatch=u,p.memoizedState=a,[o,u,!1]}function Ey(a){var o=wr();return Cy(o,Vt,a)}function Cy(a,o,u){if(o=Sm(a,o,wy)[0],a=Wf(Ts)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Ac(o)}catch(k){throw k===Zl?Ff:k}else p=o;o=wr();var v=o.queue,w=v.dispatch;return u!==o.memoizedState&&(ft.flags|=2048,no(9,{destroy:void 0},v5.bind(null,v,u),null)),[p,w,a]}function v5(a,o){a.action=o}function Ay(a){var o=wr(),u=Vt;if(u!==null)return Cy(o,u,a);wr(),o=o.memoizedState,u=wr();var p=u.queue.dispatch;return u.memoizedState=a,[o,p,!1]}function no(a,o,u,p){return a={tag:a,create:u,deps:p,inst:o,next:null},o=ft.updateQueue,o===null&&(o=Vf(),ft.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,o.lastEffect=a),a}function Ty(){return wr().memoizedState}function Gf(a,o,u,p){var v=yn();ft.flags|=a,v.memoizedState=no(1|o,{destroy:void 0},u,p===void 0?null:p)}function Xf(a,o,u,p){var v=wr();p=p===void 0?null:p;var w=v.memoizedState.inst;Vt!==null&&p!==null&&gm(p,Vt.memoizedState.deps)?v.memoizedState=no(o,w,u,p):(ft.flags|=a,v.memoizedState=no(1|o,w,u,p))}function _y(a,o){Gf(8390656,8,a,o)}function Tm(a,o){Xf(2048,8,a,o)}function y5(a){ft.flags|=4;var o=ft.updateQueue;if(o===null)o=Vf(),ft.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function Dy(a){var o=wr().memoizedState;return y5({ref:o,nextImpl:a}),function(){if((Bt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function ky(a,o){return Xf(4,2,a,o)}function Oy(a,o){return Xf(4,4,a,o)}function By(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function Ny(a,o,u){u=u!=null?u.concat([a]):null,Xf(4,4,By.bind(null,o,a),u)}function _m(){}function Ry(a,o){var u=wr();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&gm(o,p[1])?p[0]:(u.memoizedState=[a,o],a)}function My(a,o){var u=wr();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&gm(o,p[1]))return p[0];if(p=a(),nl){fr(!0);try{a()}finally{fr(!1)}}return u.memoizedState=[p,o],p}function Dm(a,o,u){return u===void 0||(As&1073741824)!==0&&(vt&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=Fb(),ft.lanes|=a,ca|=a,u)}function Fy(a,o,u,p){return Kn(u,o)?u:eo.current!==null?(a=Dm(a,u,p),Kn(a,o)||(Dr=!0),a):(As&42)===0||(As&1073741824)!==0&&(vt&261930)===0?(Dr=!0,a.memoizedState=u):(a=Fb(),ft.lanes|=a,ca|=a,o)}function Ly(a,o,u,p,v){var w=ie.p;ie.p=w!==0&&8>w?w:8;var k=ee.T,H={};ee.T=H,Bm(a,!1,o,u);try{var J=v(),oe=ee.S;if(oe!==null&&oe(H,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var Se=p5(J,p);Tc(a,o,Se,ti(a))}else Tc(a,o,p,ti(a))}catch(Te){Tc(a,o,{then:function(){},status:"rejected",reason:Te},ti())}finally{ie.p=w,k!==null&&H.types!==null&&(k.types=H.types),ee.T=k}}function b5(){}function km(a,o,u,p){if(a.tag!==5)throw Error(n(476));var v=Iy(a).queue;Ly(a,v,o,be,u===null?b5:function(){return Py(a),u(p)})}function Iy(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:be},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function Py(a){var o=Iy(a);o.next===null&&(o=a.alternate.memoizedState),Tc(a,o.next.queue,{},ti())}function Om(){return Qr(Vc)}function jy(){return wr().memoizedState}function zy(){return wr().memoizedState}function w5(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=ti();a=na(u);var p=ia(o,a,u);p!==null&&(In(p,o,u),wc(p,o,u)),o={cache:sm()},a.payload=o;return}o=o.return}}function S5(a,o,u){var p=ti();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Yf(a)?Uy(o,u):(u=Yp(a,o,u,p),u!==null&&(In(u,a,p),Vy(u,o,p)))}function Hy(a,o,u){var p=ti();Tc(a,o,u,p)}function Tc(a,o,u,p){var v={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Yf(a))Uy(o,v);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var k=o.lastRenderedState,H=w(k,u);if(v.hasEagerState=!0,v.eagerState=H,Kn(H,k))return Df(a,o,v,0),Yt===null&&_f(),!1}catch{}finally{}if(u=Yp(a,o,v,p),u!==null)return In(u,a,p),Vy(u,o,p),!0}return!1}function Bm(a,o,u,p){if(p={lane:2,revertLane:cg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Yf(a)){if(o)throw Error(n(479))}else o=Yp(a,u,p,2),o!==null&&In(o,a,2)}function Yf(a){var o=a.alternate;return a===ft||o!==null&&o===ft}function Uy(a,o){to=Hf=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function Vy(a,o,u){if((u&4194048)!==0){var p=o.lanes;p&=a.pendingLanes,u|=p,o.lanes=u,st(a,u)}}var _c={readContext:Qr,use:qf,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useLayoutEffect:pr,useInsertionEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useSyncExternalStore:pr,useId:pr,useHostTransitionStatus:pr,useFormState:pr,useActionState:pr,useOptimistic:pr,useMemoCache:pr,useCacheRefresh:pr};_c.useEffectEvent=pr;var qy={readContext:Qr,use:qf,useCallback:function(a,o){return yn().memoizedState=[a,o===void 0?null:o],a},useContext:Qr,useEffect:_y,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Gf(4194308,4,By.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Gf(4194308,4,a,o)},useInsertionEffect:function(a,o){Gf(4,2,a,o)},useMemo:function(a,o){var u=yn();o=o===void 0?null:o;var p=a();if(nl){fr(!0);try{a()}finally{fr(!1)}}return u.memoizedState=[p,o],p},useReducer:function(a,o,u){var p=yn();if(u!==void 0){var v=u(o);if(nl){fr(!0);try{u(o)}finally{fr(!1)}}}else v=o;return p.memoizedState=p.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},p.queue=a,a=a.dispatch=S5.bind(null,ft,a),[p.memoizedState,a]},useRef:function(a){var o=yn();return a={current:a},o.memoizedState=a},useState:function(a){a=Cm(a);var o=a.queue,u=Hy.bind(null,ft,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:_m,useDeferredValue:function(a,o){var u=yn();return Dm(u,a,o)},useTransition:function(){var a=Cm(!1);return a=Ly.bind(null,ft,a.queue,!0,!1),yn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var p=ft,v=yn();if(wt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Yt===null)throw Error(n(349));(vt&127)!==0||uy(p,o,u)}v.memoizedState=u;var w={value:u,getSnapshot:o};return v.queue=w,_y(dy.bind(null,p,w,a),[a]),p.flags|=2048,no(9,{destroy:void 0},hy.bind(null,p,w,u,o),null),u},useId:function(){var a=yn(),o=Yt.identifierPrefix;if(wt){var u=Ji,p=Zi;u=(p&~(1<<32-ur(p)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Uf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=m5++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Om,useFormState:Sy,useActionState:Sy,useOptimistic:function(a){var o=yn();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Bm.bind(null,ft,!0,u),u.dispatch=o,[a,o]},useMemoCache:wm,useCacheRefresh:function(){return yn().memoizedState=w5.bind(null,ft)},useEffectEvent:function(a){var o=yn(),u={impl:a};return o.memoizedState=u,function(){if((Bt&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},Nm={readContext:Qr,use:qf,useCallback:Ry,useContext:Qr,useEffect:Tm,useImperativeHandle:Ny,useInsertionEffect:ky,useLayoutEffect:Oy,useMemo:My,useReducer:Wf,useRef:Ty,useState:function(){return Wf(Ts)},useDebugValue:_m,useDeferredValue:function(a,o){var u=wr();return Fy(u,Vt.memoizedState,a,o)},useTransition:function(){var a=Wf(Ts)[0],o=wr().memoizedState;return[typeof a=="boolean"?a:Ac(a),o]},useSyncExternalStore:fy,useId:jy,useHostTransitionStatus:Om,useFormState:Ey,useActionState:Ey,useOptimistic:function(a,o){var u=wr();return gy(u,Vt,a,o)},useMemoCache:wm,useCacheRefresh:zy};Nm.useEffectEvent=Dy;var Wy={readContext:Qr,use:qf,useCallback:Ry,useContext:Qr,useEffect:Tm,useImperativeHandle:Ny,useInsertionEffect:ky,useLayoutEffect:Oy,useMemo:My,useReducer:Em,useRef:Ty,useState:function(){return Em(Ts)},useDebugValue:_m,useDeferredValue:function(a,o){var u=wr();return Vt===null?Dm(u,a,o):Fy(u,Vt.memoizedState,a,o)},useTransition:function(){var a=Em(Ts)[0],o=wr().memoizedState;return[typeof a=="boolean"?a:Ac(a),o]},useSyncExternalStore:fy,useId:jy,useHostTransitionStatus:Om,useFormState:Ay,useActionState:Ay,useOptimistic:function(a,o){var u=wr();return Vt!==null?gy(u,Vt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:wm,useCacheRefresh:zy};Wy.useEffectEvent=Dy;function Rm(a,o,u,p){o=a.memoizedState,u=u(p,o),u=u==null?o:m({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Mm={enqueueSetState:function(a,o,u){a=a._reactInternals;var p=ti(),v=na(p);v.payload=o,u!=null&&(v.callback=u),o=ia(a,v,p),o!==null&&(In(o,a,p),wc(o,a,p))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var p=ti(),v=na(p);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=ia(a,v,p),o!==null&&(In(o,a,p),wc(o,a,p))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=ti(),p=na(u);p.tag=2,o!=null&&(p.callback=o),o=ia(a,p,u),o!==null&&(In(o,a,u),wc(o,a,u))}};function Gy(a,o,u,p,v,w,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,w,k):o.prototype&&o.prototype.isPureReactComponent?!dc(u,p)||!dc(v,w):!0}function Xy(a,o,u,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==a&&Mm.enqueueReplaceState(o,o.state,null)}function il(a,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(a=a.defaultProps){u===o&&(u=m({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function Yy(a){Tf(a)}function Ky(a){console.error(a)}function $y(a){Tf(a)}function Kf(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function Qy(a,o,u){try{var p=a.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Fm(a,o,u){return u=na(u),u.tag=3,u.payload={element:null},u.callback=function(){Kf(a,o)},u}function Zy(a){return a=na(a),a.tag=3,a}function Jy(a,o,u,p){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var w=p.value;a.payload=function(){return v(w)},a.callback=function(){Qy(o,u,p)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){Qy(o,u,p),typeof v!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var H=p.stack;this.componentDidCatch(p.value,{componentStack:H!==null?H:""})})}function E5(a,o,u,p,v){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&Kl(o,u,v,!0),u=Qn.current,u!==null){switch(u.tag){case 31:case 13:return bi===null?lu():u.alternate===null&&mr===0&&(mr=3),u.flags&=-257,u.flags|=65536,u.lanes=v,p===Lf?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),ag(a,p,v)),!1;case 22:return u.flags|=65536,p===Lf?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),ag(a,p,v)),!1}throw Error(n(435,u.tag))}return ag(a,p,v),lu(),!1}if(wt)return o=Qn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,p!==em&&(a=Error(n(422),{cause:p}),gc(gi(a,u)))):(p!==em&&(o=Error(n(423),{cause:p}),gc(gi(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,p=gi(p,u),v=Fm(a.stateNode,p,v),um(a,v),mr!==4&&(mr=2)),!1;var w=Error(n(520),{cause:p});if(w=gi(w,u),Fc===null?Fc=[w]:Fc.push(w),mr!==4&&(mr=2),o===null)return!0;p=gi(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=Fm(u.stateNode,p,a),um(u,a),!1;case 1:if(o=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fa===null||!fa.has(w))))return u.flags|=65536,v&=-v,u.lanes|=v,v=Zy(v),Jy(v,a,u,p),um(u,v),!1}u=u.return}while(u!==null);return!1}var Lm=Error(n(461)),Dr=!1;function Zr(a,o,u,p){o.child=a===null?ny(o,null,u,p):rl(o,a.child,u,p)}function eb(a,o,u,p,v){u=u.render;var w=o.ref;if("ref"in p){var k={};for(var H in p)H!=="ref"&&(k[H]=p[H])}else k=p;return Za(o),p=xm(a,o,u,k,w,v),H=vm(),a!==null&&!Dr?(ym(a,o,v),_s(a,o,v)):(wt&&H&&Zp(o),o.flags|=1,Zr(a,o,p,v),o.child)}function tb(a,o,u,p,v){if(a===null){var w=u.type;return typeof w=="function"&&!Kp(w)&&w.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=w,rb(a,o,w,p,v)):(a=Of(u.type,null,p,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(w=a.child,!qm(a,v)){var k=w.memoizedProps;if(u=u.compare,u=u!==null?u:dc,u(k,p)&&a.ref===o.ref)return _s(a,o,v)}return o.flags|=1,a=ws(w,p),a.ref=o.ref,a.return=o,o.child=a}function rb(a,o,u,p,v){if(a!==null){var w=a.memoizedProps;if(dc(w,p)&&a.ref===o.ref)if(Dr=!1,o.pendingProps=p=w,qm(a,v))(a.flags&131072)!==0&&(Dr=!0);else return o.lanes=a.lanes,_s(a,o,v)}return Im(a,o,u,p,v)}function nb(a,o,u,p){var v=p.children,w=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|u:u,a!==null){for(p=o.child=a.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;p=v&~w}else p=0,o.child=null;return ib(a,o,w,u,p)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Mf(o,w!==null?w.cachePool:null),w!==null?ay(o,w):dm(),ly(o);else return p=o.lanes=536870912,ib(a,o,w!==null?w.baseLanes|u:u,u,p)}else w!==null?(Mf(o,w.cachePool),ay(o,w),aa(),o.memoizedState=null):(a!==null&&Mf(o,null),dm(),aa());return Zr(a,o,v,u),o.child}function Dc(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function ib(a,o,u,p,v){var w=lm();return w=w===null?null:{parent:Tr._currentValue,pool:w},o.memoizedState={baseLanes:u,cachePool:w},a!==null&&Mf(o,null),dm(),ly(o),a!==null&&Kl(a,o,p,!0),o.childLanes=v,null}function $f(a,o){return o=Zf({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function sb(a,o,u){return rl(o,a.child,null,u),a=$f(o,o.pendingProps),a.flags|=2,Zn(o),o.memoizedState=null,a}function C5(a,o,u){var p=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(wt){if(p.mode==="hidden")return a=$f(o,p),o.lanes=536870912,Dc(null,a);if(mm(o),(a=Jt)?(a=xw(a,yi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Zs!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},u=U2(a),u.return=o,o.child=u,$r=o,Jt=null)):a=null,a===null)throw ea(o);return o.lanes=536870912,null}return $f(o,p)}var w=a.memoizedState;if(w!==null){var k=w.dehydrated;if(mm(o),v)if(o.flags&256)o.flags&=-257,o=sb(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(n(558));else if(Dr||Kl(a,o,u,!1),v=(u&a.childLanes)!==0,Dr||v){if(p=Yt,p!==null&&(k=At(p,u),k!==0&&k!==w.retryLane))throw w.retryLane=k,Ya(a,k),In(p,a,k),Lm;lu(),o=sb(a,o,u)}else a=w.treeContext,Jt=wi(k.nextSibling),$r=o,wt=!0,Js=null,yi=!1,a!==null&&W2(o,a),o=$f(o,p),o.flags|=4096;return o}return a=ws(a.child,{mode:p.mode,children:p.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Qf(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function Im(a,o,u,p,v){return Za(o),u=xm(a,o,u,p,void 0,v),p=vm(),a!==null&&!Dr?(ym(a,o,v),_s(a,o,v)):(wt&&p&&Zp(o),o.flags|=1,Zr(a,o,u,v),o.child)}function ab(a,o,u,p,v,w){return Za(o),o.updateQueue=null,u=cy(o,p,u,v),oy(a),p=vm(),a!==null&&!Dr?(ym(a,o,w),_s(a,o,w)):(wt&&p&&Zp(o),o.flags|=1,Zr(a,o,u,w),o.child)}function lb(a,o,u,p,v){if(Za(o),o.stateNode===null){var w=Wl,k=u.contextType;typeof k=="object"&&k!==null&&(w=Qr(k)),w=new u(p,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Mm,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=p,w.state=o.memoizedState,w.refs={},cm(o),k=u.contextType,w.context=typeof k=="object"&&k!==null?Qr(k):Wl,w.state=o.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(Rm(o,u,k,p),w.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(k=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),k!==w.state&&Mm.enqueueReplaceState(w,w.state,null),Ec(o,p,w,v),Sc(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(a===null){w=o.stateNode;var H=o.memoizedProps,J=il(u,H);w.props=J;var oe=w.context,Se=u.contextType;k=Wl,typeof Se=="object"&&Se!==null&&(k=Qr(Se));var Te=u.getDerivedStateFromProps;Se=typeof Te=="function"||typeof w.getSnapshotBeforeUpdate=="function",H=o.pendingProps!==H,Se||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(H||oe!==k)&&Xy(o,w,p,k),ra=!1;var de=o.memoizedState;w.state=de,Ec(o,p,w,v),Sc(),oe=o.memoizedState,H||de!==oe||ra?(typeof Te=="function"&&(Rm(o,u,Te,p),oe=o.memoizedState),(J=ra||Gy(o,u,J,p,de,oe,k))?(Se||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=oe),w.props=p,w.state=oe,w.context=k,p=J):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{w=o.stateNode,fm(a,o),k=o.memoizedProps,Se=il(u,k),w.props=Se,Te=o.pendingProps,de=w.context,oe=u.contextType,J=Wl,typeof oe=="object"&&oe!==null&&(J=Qr(oe)),H=u.getDerivedStateFromProps,(oe=typeof H=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k!==Te||de!==J)&&Xy(o,w,p,J),ra=!1,de=o.memoizedState,w.state=de,Ec(o,p,w,v),Sc();var ye=o.memoizedState;k!==Te||de!==ye||ra||a!==null&&a.dependencies!==null&&Nf(a.dependencies)?(typeof H=="function"&&(Rm(o,u,H,p),ye=o.memoizedState),(Se=ra||Gy(o,u,Se,p,de,ye,J)||a!==null&&a.dependencies!==null&&Nf(a.dependencies))?(oe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,ye,J),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,ye,J)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||k===a.memoizedProps&&de===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&de===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=ye),w.props=p,w.state=ye,w.context=J,p=Se):(typeof w.componentDidUpdate!="function"||k===a.memoizedProps&&de===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&de===a.memoizedState||(o.flags|=1024),p=!1)}return w=p,Qf(a,o),p=(o.flags&128)!==0,w||p?(w=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,a!==null&&p?(o.child=rl(o,a.child,null,v),o.child=rl(o,null,u,v)):Zr(a,o,u,v),o.memoizedState=w.state,a=o.child):a=_s(a,o,v),a}function ob(a,o,u,p){return $a(),o.flags|=256,Zr(a,o,u,p),o.child}var Pm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(a){return{baseLanes:a,cachePool:Q2()}}function zm(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ei),a}function cb(a,o,u){var p=o.pendingProps,v=!1,w=(o.flags&128)!==0,k;if((k=w)||(k=a!==null&&a.memoizedState===null?!1:(br.current&2)!==0),k&&(v=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,a===null){if(wt){if(v?sa(o):aa(),(a=Jt)?(a=xw(a,yi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Zs!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},u=U2(a),u.return=o,o.child=u,$r=o,Jt=null)):a=null,a===null)throw ea(o);return Sg(a)?o.lanes=32:o.lanes=536870912,null}var H=p.children;return p=p.fallback,v?(aa(),v=o.mode,H=Zf({mode:"hidden",children:H},v),p=Ka(p,v,u,null),H.return=o,p.return=o,H.sibling=p,o.child=H,p=o.child,p.memoizedState=jm(u),p.childLanes=zm(a,k,u),o.memoizedState=Pm,Dc(null,p)):(sa(o),Hm(o,H))}var J=a.memoizedState;if(J!==null&&(H=J.dehydrated,H!==null)){if(w)o.flags&256?(sa(o),o.flags&=-257,o=Um(a,o,u)):o.memoizedState!==null?(aa(),o.child=a.child,o.flags|=128,o=null):(aa(),H=p.fallback,v=o.mode,p=Zf({mode:"visible",children:p.children},v),H=Ka(H,v,u,null),H.flags|=2,p.return=o,H.return=o,p.sibling=H,o.child=p,rl(o,a.child,null,u),p=o.child,p.memoizedState=jm(u),p.childLanes=zm(a,k,u),o.memoizedState=Pm,o=Dc(null,p));else if(sa(o),Sg(H)){if(k=H.nextSibling&&H.nextSibling.dataset,k)var oe=k.dgst;k=oe,p=Error(n(419)),p.stack="",p.digest=k,gc({value:p,source:null,stack:null}),o=Um(a,o,u)}else if(Dr||Kl(a,o,u,!1),k=(u&a.childLanes)!==0,Dr||k){if(k=Yt,k!==null&&(p=At(k,u),p!==0&&p!==J.retryLane))throw J.retryLane=p,Ya(a,p),In(k,a,p),Lm;wg(H)||lu(),o=Um(a,o,u)}else wg(H)?(o.flags|=192,o.child=a.child,o=null):(a=J.treeContext,Jt=wi(H.nextSibling),$r=o,wt=!0,Js=null,yi=!1,a!==null&&W2(o,a),o=Hm(o,p.children),o.flags|=4096);return o}return v?(aa(),H=p.fallback,v=o.mode,J=a.child,oe=J.sibling,p=ws(J,{mode:"hidden",children:p.children}),p.subtreeFlags=J.subtreeFlags&65011712,oe!==null?H=ws(oe,H):(H=Ka(H,v,u,null),H.flags|=2),H.return=o,p.return=o,p.sibling=H,o.child=p,Dc(null,p),p=o.child,H=a.child.memoizedState,H===null?H=jm(u):(v=H.cachePool,v!==null?(J=Tr._currentValue,v=v.parent!==J?{parent:J,pool:J}:v):v=Q2(),H={baseLanes:H.baseLanes|u,cachePool:v}),p.memoizedState=H,p.childLanes=zm(a,k,u),o.memoizedState=Pm,Dc(a.child,p)):(sa(o),u=a.child,a=u.sibling,u=ws(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,a!==null&&(k=o.deletions,k===null?(o.deletions=[a],o.flags|=16):k.push(a)),o.child=u,o.memoizedState=null,u)}function Hm(a,o){return o=Zf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Zf(a,o){return a=$n(22,a,null,o),a.lanes=0,a}function Um(a,o,u){return rl(o,a.child,null,u),a=Hm(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function fb(a,o,u){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),nm(a.return,o,u)}function Vm(a,o,u,p,v,w){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v,treeForkCount:w}:(k.isBackwards=o,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=u,k.tailMode=v,k.treeForkCount=w)}function ub(a,o,u){var p=o.pendingProps,v=p.revealOrder,w=p.tail;p=p.children;var k=br.current,H=(k&2)!==0;if(H?(k=k&1|2,o.flags|=128):k&=1,L(br,k),Zr(a,o,p,u),p=wt?mc:0,!H&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&fb(a,u,o);else if(a.tag===19)fb(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&zf(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Vm(o,!1,v,u,w,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&zf(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}Vm(o,!0,u,null,w,p);break;case"together":Vm(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function _s(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),ca|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(Kl(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,u=ws(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=ws(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function qm(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Nf(a)))}function A5(a,o,u){switch(o.tag){case 3:re(o,o.stateNode.containerInfo),ta(o,Tr,a.memoizedState.cache),$a();break;case 27:case 5:pe(o);break;case 4:re(o,o.stateNode.containerInfo);break;case 10:ta(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,mm(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(sa(o),o.flags|=128,null):(u&o.child.childLanes)!==0?cb(a,o,u):(sa(o),a=_s(a,o,u),a!==null?a.sibling:null);sa(o);break;case 19:var v=(a.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(Kl(a,o,u,!1),p=(u&o.childLanes)!==0),v){if(p)return ub(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),L(br,br.current),p)break;return null;case 22:return o.lanes=0,nb(a,o,u,o.pendingProps);case 24:ta(o,Tr,a.memoizedState.cache)}return _s(a,o,u)}function hb(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Dr=!0;else{if(!qm(a,u)&&(o.flags&128)===0)return Dr=!1,A5(a,o,u);Dr=(a.flags&131072)!==0}else Dr=!1,wt&&(o.flags&1048576)!==0&&q2(o,mc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(a=el(o.elementType),o.type=a,typeof a=="function")Kp(a)?(p=il(a,p),o.tag=1,o=lb(null,o,a,p,u)):(o.tag=0,o=Im(null,o,a,p,u));else{if(a!=null){var v=a.$$typeof;if(v===_){o.tag=11,o=eb(null,o,a,p,u);break e}else if(v===O){o.tag=14,o=tb(null,o,a,p,u);break e}}throw o=se(a)||a,Error(n(306,o,""))}}return o;case 0:return Im(a,o,o.type,o.pendingProps,u);case 1:return p=o.type,v=il(p,o.pendingProps),lb(a,o,p,v,u);case 3:e:{if(re(o,o.stateNode.containerInfo),a===null)throw Error(n(387));p=o.pendingProps;var w=o.memoizedState;v=w.element,fm(a,o),Ec(o,p,null,u);var k=o.memoizedState;if(p=k.cache,ta(o,Tr,p),p!==w.cache&&im(o,[Tr],u,!0),Sc(),p=k.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=ob(a,o,p,u);break e}else if(p!==v){v=gi(Error(n(424)),o),gc(v),o=ob(a,o,p,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Jt=wi(a.firstChild),$r=o,wt=!0,Js=null,yi=!0,u=ny(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if($a(),p===v){o=_s(a,o,u);break e}Zr(a,o,p,u)}o=o.child}return o;case 26:return Qf(a,o),a===null?(u=Ew(o.type,null,o.pendingProps,null))?o.memoizedState=u:wt||(u=o.type,a=o.pendingProps,p=pu(Z.current).createElement(u),p[q]=o,p[X]=a,Jr(p,u,a),Qe(p),o.stateNode=p):o.memoizedState=Ew(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return pe(o),a===null&&wt&&(p=o.stateNode=bw(o.type,o.pendingProps,Z.current),$r=o,yi=!0,v=Jt,pa(o.type)?(Eg=v,Jt=wi(p.firstChild)):Jt=v),Zr(a,o,o.pendingProps.children,u),Qf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&wt&&((v=p=Jt)&&(p=tD(p,o.type,o.pendingProps,yi),p!==null?(o.stateNode=p,$r=o,Jt=wi(p.firstChild),yi=!1,v=!0):v=!1),v||ea(o)),pe(o),v=o.type,w=o.pendingProps,k=a!==null?a.memoizedProps:null,p=w.children,vg(v,w)?p=null:k!==null&&vg(v,k)&&(o.flags|=32),o.memoizedState!==null&&(v=xm(a,o,g5,null,null,u),Vc._currentValue=v),Qf(a,o),Zr(a,o,p,u),o.child;case 6:return a===null&&wt&&((a=u=Jt)&&(u=rD(u,o.pendingProps,yi),u!==null?(o.stateNode=u,$r=o,Jt=null,a=!0):a=!1),a||ea(o)),null;case 13:return cb(a,o,u);case 4:return re(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=rl(o,null,p,u):Zr(a,o,p,u),o.child;case 11:return eb(a,o,o.type,o.pendingProps,u);case 7:return Zr(a,o,o.pendingProps,u),o.child;case 8:return Zr(a,o,o.pendingProps.children,u),o.child;case 12:return Zr(a,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,ta(o,o.type,p.value),Zr(a,o,p.children,u),o.child;case 9:return v=o.type._context,p=o.pendingProps.children,Za(o),v=Qr(v),p=p(v),o.flags|=1,Zr(a,o,p,u),o.child;case 14:return tb(a,o,o.type,o.pendingProps,u);case 15:return rb(a,o,o.type,o.pendingProps,u);case 19:return ub(a,o,u);case 31:return C5(a,o,u);case 22:return nb(a,o,u,o.pendingProps);case 24:return Za(o),p=Qr(Tr),a===null?(v=lm(),v===null&&(v=Yt,w=sm(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=u),v=w),o.memoizedState={parent:p,cache:v},cm(o),ta(o,Tr,v)):((a.lanes&u)!==0&&(fm(a,o),Ec(o,null,null,u),Sc()),v=a.memoizedState,w=o.memoizedState,v.parent!==p?(v={parent:p,cache:p},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),ta(o,Tr,p)):(p=w.cache,ta(o,Tr,p),p!==v.cache&&im(o,[Tr],u,!0))),Zr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ds(a){a.flags|=4}function Wm(a,o,u,p,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(jb())a.flags|=8192;else throw tl=Lf,om}else a.flags&=-16777217}function db(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Dw(o))if(jb())a.flags|=8192;else throw tl=Lf,om}function Jf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Ne():536870912,a.lanes|=o,lo|=o)}function kc(a,o){if(!wt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function er(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=p,a.childLanes=u,o}function T5(a,o,u){var p=o.pendingProps;switch(Jp(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(o),null;case 1:return er(o),null;case 3:return u=o.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Cs(Tr),ve(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Yl(o)?Ds(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,tm())),er(o),null;case 26:var v=o.type,w=o.memoizedState;return a===null?(Ds(o),w!==null?(er(o),db(o,w)):(er(o),Wm(o,v,null,p,u))):w?w!==a.memoizedState?(Ds(o),er(o),db(o,w)):(er(o),o.flags&=-16777217):(a=a.memoizedProps,a!==p&&Ds(o),er(o),Wm(o,v,a,p,u)),null;case 27:if(Je(o),u=Z.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&Ds(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return er(o),null}a=B.current,Yl(o)?G2(o):(a=bw(v,p,u),o.stateNode=a,Ds(o))}return er(o),null;case 5:if(Je(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&Ds(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return er(o),null}if(w=B.current,Yl(o))G2(o);else{var k=pu(Z.current);switch(w){case 1:w=k.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:w=k.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":w=k.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":w=k.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":w=k.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof p.is=="string"?k.createElement("select",{is:p.is}):k.createElement("select"),p.multiple?w.multiple=!0:p.size&&(w.size=p.size);break;default:w=typeof p.is=="string"?k.createElement(v,{is:p.is}):k.createElement(v)}}w[q]=o,w[X]=p;e:for(k=o.child;k!==null;){if(k.tag===5||k.tag===6)w.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===o)break e;for(;k.sibling===null;){if(k.return===null||k.return===o)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}o.stateNode=w;e:switch(Jr(w,v,p),v){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ds(o)}}return er(o),Wm(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==p&&Ds(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(a=Z.current,Yl(o)){if(a=o.stateNode,u=o.memoizedProps,p=null,v=$r,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}a[q]=o,a=!!(a.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||cw(a.nodeValue,u)),a||ea(o,!0)}else a=pu(a).createTextNode(p),a[q]=o,o.stateNode=a}return er(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(p=Yl(o),u!==null){if(a===null){if(!p)throw Error(n(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[q]=o}else $a(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;er(o),a=!1}else u=tm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Zn(o),o):(Zn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return er(o),null;case 13:if(p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Yl(o),p!==null&&p.dehydrated!==null){if(a===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[q]=o}else $a(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;er(o),v=!1}else v=tm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Zn(o),o):(Zn(o),null)}return Zn(o),(o.flags&128)!==0?(o.lanes=u,o):(u=p!==null,a=a!==null&&a.memoizedState!==null,u&&(p=o.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==v&&(p.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Jf(o,o.updateQueue),er(o),null);case 4:return ve(),a===null&&dg(o.stateNode.containerInfo),er(o),null;case 10:return Cs(o.type),er(o),null;case 19:if(D(br),p=o.memoizedState,p===null)return er(o),null;if(v=(o.flags&128)!==0,w=p.rendering,w===null)if(v)kc(p,!1);else{if(mr!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(w=zf(a),w!==null){for(o.flags|=128,kc(p,!1),a=w.updateQueue,o.updateQueue=a,Jf(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)H2(u,a),u=u.sibling;return L(br,br.current&1|2),wt&&Ss(o,p.treeForkCount),o.child}a=a.sibling}p.tail!==null&&bt()>iu&&(o.flags|=128,v=!0,kc(p,!1),o.lanes=4194304)}else{if(!v)if(a=zf(w),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,Jf(o,a),kc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!wt)return er(o),null}else 2*bt()-p.renderingStartTime>iu&&u!==536870912&&(o.flags|=128,v=!0,kc(p,!1),o.lanes=4194304);p.isBackwards?(w.sibling=o.child,o.child=w):(a=p.last,a!==null?a.sibling=w:o.child=w,p.last=w)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=bt(),a.sibling=null,u=br.current,L(br,v?u&1|2:u&1),wt&&Ss(o,p.treeForkCount),a):(er(o),null);case 22:case 23:return Zn(o),pm(),p=o.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(er(o),o.subtreeFlags&6&&(o.flags|=8192)):er(o),u=o.updateQueue,u!==null&&Jf(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),a!==null&&D(Ja),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Cs(Tr),er(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function _5(a,o){switch(Jp(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Cs(Tr),ve(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Je(o),null;case 31:if(o.memoizedState!==null){if(Zn(o),o.alternate===null)throw Error(n(340));$a()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Zn(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));$a()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return D(br),null;case 4:return ve(),null;case 10:return Cs(o.type),null;case 22:case 23:return Zn(o),pm(),a!==null&&D(Ja),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Cs(Tr),null;case 25:return null;default:return null}}function pb(a,o){switch(Jp(o),o.tag){case 3:Cs(Tr),ve();break;case 26:case 27:case 5:Je(o);break;case 4:ve();break;case 31:o.memoizedState!==null&&Zn(o);break;case 13:Zn(o);break;case 19:D(br);break;case 10:Cs(o.type);break;case 22:case 23:Zn(o),pm(),a!==null&&D(Ja);break;case 24:Cs(Tr)}}function Oc(a,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&a)===a){p=void 0;var w=u.create,k=u.inst;p=w(),k.destroy=p}u=u.next}while(u!==v)}}catch(H){Lt(o,o.return,H)}}function la(a,o,u){try{var p=o.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var w=v.next;p=w;do{if((p.tag&a)===a){var k=p.inst,H=k.destroy;if(H!==void 0){k.destroy=void 0,v=o;var J=u,oe=H;try{oe()}catch(Se){Lt(v,J,Se)}}}p=p.next}while(p!==w)}}catch(Se){Lt(o,o.return,Se)}}function mb(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{sy(o,u)}catch(p){Lt(a,a.return,p)}}}function gb(a,o,u){u.props=il(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(p){Lt(a,o,p)}}function Bc(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof u=="function"?a.refCleanup=u(p):u.current=p}}catch(v){Lt(a,o,v)}}function es(a,o){var u=a.ref,p=a.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(v){Lt(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Lt(a,o,v)}else u.current=null}function xb(a){var o=a.type,u=a.memoizedProps,p=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(v){Lt(a,a.return,v)}}function Gm(a,o,u){try{var p=a.stateNode;K5(p,a.type,u,o),p[X]=o}catch(v){Lt(a,a.return,v)}}function vb(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&pa(a.type)||a.tag===4}function Xm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||vb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&pa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ym(a,o,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ys));else if(p!==4&&(p===27&&pa(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(Ym(a,o,u),a=a.sibling;a!==null;)Ym(a,o,u),a=a.sibling}function eu(a,o,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(p!==4&&(p===27&&pa(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(eu(a,o,u),a=a.sibling;a!==null;)eu(a,o,u),a=a.sibling}function yb(a){var o=a.stateNode,u=a.memoizedProps;try{for(var p=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Jr(o,p,u),o[q]=a,o[X]=u}catch(w){Lt(a,a.return,w)}}var ks=!1,kr=!1,Km=!1,bb=typeof WeakSet=="function"?WeakSet:Set,Hr=null;function D5(a,o){if(a=a.containerInfo,gg=wu,a=N2(a),Up(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var k=0,H=-1,J=-1,oe=0,Se=0,Te=a,de=null;t:for(;;){for(var ye;Te!==u||v!==0&&Te.nodeType!==3||(H=k+v),Te!==w||p!==0&&Te.nodeType!==3||(J=k+p),Te.nodeType===3&&(k+=Te.nodeValue.length),(ye=Te.firstChild)!==null;)de=Te,Te=ye;for(;;){if(Te===a)break t;if(de===u&&++oe===v&&(H=k),de===w&&++Se===p&&(J=k),(ye=Te.nextSibling)!==null)break;Te=de,de=Te.parentNode}Te=ye}u=H===-1||J===-1?null:{start:H,end:J}}else u=null}u=u||{start:0,end:0}}else u=null;for(xg={focusedElem:a,selectionRange:u},wu=!1,Hr=o;Hr!==null;)if(o=Hr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Hr=a;else for(;Hr!==null;){switch(o=Hr,w=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,u=o,v=w.memoizedProps,w=w.memoizedState,p=u.stateNode;try{var Ke=il(u.type,v);a=p.getSnapshotBeforeUpdate(Ke,w),p.__reactInternalSnapshotBeforeUpdate=a}catch(it){Lt(u,u.return,it)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)bg(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":bg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=o.sibling,a!==null){a.return=o.return,Hr=a;break}Hr=o.return}}function wb(a,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:Bs(a,u),p&4&&Oc(5,u);break;case 1:if(Bs(a,u),p&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(k){Lt(u,u.return,k)}else{var v=il(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(k){Lt(u,u.return,k)}}p&64&&mb(u),p&512&&Bc(u,u.return);break;case 3:if(Bs(a,u),p&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{sy(a,o)}catch(k){Lt(u,u.return,k)}}break;case 27:o===null&&p&4&&yb(u);case 26:case 5:Bs(a,u),o===null&&p&4&&xb(u),p&512&&Bc(u,u.return);break;case 12:Bs(a,u);break;case 31:Bs(a,u),p&4&&Cb(a,u);break;case 13:Bs(a,u),p&4&&Ab(a,u),p&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=I5.bind(null,u),nD(a,u))));break;case 22:if(p=u.memoizedState!==null||ks,!p){o=o!==null&&o.memoizedState!==null||kr,v=ks;var w=kr;ks=p,(kr=o)&&!w?Ns(a,u,(u.subtreeFlags&8772)!==0):Bs(a,u),ks=v,kr=w}break;case 30:break;default:Bs(a,u)}}function Sb(a){var o=a.alternate;o!==null&&(a.alternate=null,Sb(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Be(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var or=null,Rn=!1;function Os(a,o,u){for(u=u.child;u!==null;)Eb(a,o,u),u=u.sibling}function Eb(a,o,u){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(kn,u)}catch{}switch(u.tag){case 26:kr||es(u,o),Os(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:kr||es(u,o);var p=or,v=Rn;pa(u.type)&&(or=u.stateNode,Rn=!1),Os(a,o,u),zc(u.stateNode),or=p,Rn=v;break;case 5:kr||es(u,o);case 6:if(p=or,v=Rn,or=null,Os(a,o,u),or=p,Rn=v,or!==null)if(Rn)try{(or.nodeType===9?or.body:or.nodeName==="HTML"?or.ownerDocument.body:or).removeChild(u.stateNode)}catch(w){Lt(u,o,w)}else try{or.removeChild(u.stateNode)}catch(w){Lt(u,o,w)}break;case 18:or!==null&&(Rn?(a=or,mw(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),go(a)):mw(or,u.stateNode));break;case 4:p=or,v=Rn,or=u.stateNode.containerInfo,Rn=!0,Os(a,o,u),or=p,Rn=v;break;case 0:case 11:case 14:case 15:la(2,u,o),kr||la(4,u,o),Os(a,o,u);break;case 1:kr||(es(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&gb(u,o,p)),Os(a,o,u);break;case 21:Os(a,o,u);break;case 22:kr=(p=kr)||u.memoizedState!==null,Os(a,o,u),kr=p;break;default:Os(a,o,u)}}function Cb(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{go(a)}catch(u){Lt(o,o.return,u)}}}function Ab(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{go(a)}catch(u){Lt(o,o.return,u)}}function k5(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new bb),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new bb),o;default:throw Error(n(435,a.tag))}}function tu(a,o){var u=k5(a);o.forEach(function(p){if(!u.has(p)){u.add(p);var v=P5.bind(null,a,p);p.then(v,v)}})}function Mn(a,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p],w=a,k=o,H=k;e:for(;H!==null;){switch(H.tag){case 27:if(pa(H.type)){or=H.stateNode,Rn=!1;break e}break;case 5:or=H.stateNode,Rn=!1;break e;case 3:case 4:or=H.stateNode.containerInfo,Rn=!0;break e}H=H.return}if(or===null)throw Error(n(160));Eb(w,k,v),or=null,Rn=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Tb(o,a),o=o.sibling}var Fi=null;function Tb(a,o){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Mn(o,a),Fn(a),p&4&&(la(3,a,a.return),Oc(3,a),la(5,a,a.return));break;case 1:Mn(o,a),Fn(a),p&512&&(kr||u===null||es(u,u.return)),p&64&&ks&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var v=Fi;if(Mn(o,a),Fn(a),p&512&&(kr||u===null||es(u,u.return)),p&4){var w=u!==null?u.memoizedState:null;if(p=a.memoizedState,u===null)if(p===null)if(a.stateNode===null){e:{p=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":w=v.getElementsByTagName("title")[0],(!w||w[me]||w[q]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(p),v.head.insertBefore(w,v.querySelector("head > title"))),Jr(w,p,u),w[q]=a,Qe(w),p=w;break e;case"link":var k=Tw("link","href",v).get(p+(u.href||""));if(k){for(var H=0;H<k.length;H++)if(w=k[H],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(H,1);break t}}w=v.createElement(p),Jr(w,p,u),v.head.appendChild(w);break;case"meta":if(k=Tw("meta","content",v).get(p+(u.content||""))){for(H=0;H<k.length;H++)if(w=k[H],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(H,1);break t}}w=v.createElement(p),Jr(w,p,u),v.head.appendChild(w);break;default:throw Error(n(468,p))}w[q]=a,Qe(w),p=w}a.stateNode=p}else _w(v,a.type,a.stateNode);else a.stateNode=Aw(v,p,a.memoizedProps);else w!==p?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,p===null?_w(v,a.type,a.stateNode):Aw(v,p,a.memoizedProps)):p===null&&a.stateNode!==null&&Gm(a,a.memoizedProps,u.memoizedProps)}break;case 27:Mn(o,a),Fn(a),p&512&&(kr||u===null||es(u,u.return)),u!==null&&p&4&&Gm(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Mn(o,a),Fn(a),p&512&&(kr||u===null||es(u,u.return)),a.flags&32){v=a.stateNode;try{Pl(v,"")}catch(Ke){Lt(a,a.return,Ke)}}p&4&&a.stateNode!=null&&(v=a.memoizedProps,Gm(a,v,u!==null?u.memoizedProps:v)),p&1024&&(Km=!0);break;case 6:if(Mn(o,a),Fn(a),p&4){if(a.stateNode===null)throw Error(n(162));p=a.memoizedProps,u=a.stateNode;try{u.nodeValue=p}catch(Ke){Lt(a,a.return,Ke)}}break;case 3:if(xu=null,v=Fi,Fi=mu(o.containerInfo),Mn(o,a),Fi=v,Fn(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{go(o.containerInfo)}catch(Ke){Lt(a,a.return,Ke)}Km&&(Km=!1,_b(a));break;case 4:p=Fi,Fi=mu(a.stateNode.containerInfo),Mn(o,a),Fn(a),Fi=p;break;case 12:Mn(o,a),Fn(a);break;case 31:Mn(o,a),Fn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,tu(a,p)));break;case 13:Mn(o,a),Fn(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(nu=bt()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,tu(a,p)));break;case 22:v=a.memoizedState!==null;var J=u!==null&&u.memoizedState!==null,oe=ks,Se=kr;if(ks=oe||v,kr=Se||J,Mn(o,a),kr=Se,ks=oe,Fn(a),p&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||J||ks||kr||sl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){J=u=o;try{if(w=J.stateNode,v)k=w.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{H=J.stateNode;var Te=J.memoizedProps.style,de=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;H.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Ke){Lt(J,J.return,Ke)}}}else if(o.tag===6){if(u===null){J=o;try{J.stateNode.nodeValue=v?"":J.memoizedProps}catch(Ke){Lt(J,J.return,Ke)}}}else if(o.tag===18){if(u===null){J=o;try{var ye=J.stateNode;v?gw(ye,!0):gw(J.stateNode,!1)}catch(Ke){Lt(J,J.return,Ke)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=a.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,tu(a,u))));break;case 19:Mn(o,a),Fn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,tu(a,p)));break;case 30:break;case 21:break;default:Mn(o,a),Fn(a)}}function Fn(a){var o=a.flags;if(o&2){try{for(var u,p=a.return;p!==null;){if(vb(p)){u=p;break}p=p.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var v=u.stateNode,w=Xm(a);eu(a,w,v);break;case 5:var k=u.stateNode;u.flags&32&&(Pl(k,""),u.flags&=-33);var H=Xm(a);eu(a,H,k);break;case 3:case 4:var J=u.stateNode.containerInfo,oe=Xm(a);Ym(a,oe,J);break;default:throw Error(n(161))}}catch(Se){Lt(a,a.return,Se)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function _b(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;_b(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Bs(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)wb(a,o.alternate,o),o=o.sibling}function sl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:la(4,o,o.return),sl(o);break;case 1:es(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&gb(o,o.return,u),sl(o);break;case 27:zc(o.stateNode);case 26:case 5:es(o,o.return),sl(o);break;case 22:o.memoizedState===null&&sl(o);break;case 30:sl(o);break;default:sl(o)}a=a.sibling}}function Ns(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,v=a,w=o,k=w.flags;switch(w.tag){case 0:case 11:case 15:Ns(v,w,u),Oc(4,w);break;case 1:if(Ns(v,w,u),p=w,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(oe){Lt(p,p.return,oe)}if(p=w,v=p.updateQueue,v!==null){var H=p.stateNode;try{var J=v.shared.hiddenCallbacks;if(J!==null)for(v.shared.hiddenCallbacks=null,v=0;v<J.length;v++)iy(J[v],H)}catch(oe){Lt(p,p.return,oe)}}u&&k&64&&mb(w),Bc(w,w.return);break;case 27:yb(w);case 26:case 5:Ns(v,w,u),u&&p===null&&k&4&&xb(w),Bc(w,w.return);break;case 12:Ns(v,w,u);break;case 31:Ns(v,w,u),u&&k&4&&Cb(v,w);break;case 13:Ns(v,w,u),u&&k&4&&Ab(v,w);break;case 22:w.memoizedState===null&&Ns(v,w,u),Bc(w,w.return);break;case 30:break;default:Ns(v,w,u)}o=o.sibling}}function $m(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&xc(u))}function Qm(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&xc(a))}function Li(a,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Db(a,o,u,p),o=o.sibling}function Db(a,o,u,p){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Li(a,o,u,p),v&2048&&Oc(9,o);break;case 1:Li(a,o,u,p);break;case 3:Li(a,o,u,p),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&xc(a)));break;case 12:if(v&2048){Li(a,o,u,p),a=o.stateNode;try{var w=o.memoizedProps,k=w.id,H=w.onPostCommit;typeof H=="function"&&H(k,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(J){Lt(o,o.return,J)}}else Li(a,o,u,p);break;case 31:Li(a,o,u,p);break;case 13:Li(a,o,u,p);break;case 23:break;case 22:w=o.stateNode,k=o.alternate,o.memoizedState!==null?w._visibility&2?Li(a,o,u,p):Nc(a,o):w._visibility&2?Li(a,o,u,p):(w._visibility|=2,io(a,o,u,p,(o.subtreeFlags&10256)!==0||!1)),v&2048&&$m(k,o);break;case 24:Li(a,o,u,p),v&2048&&Qm(o.alternate,o);break;default:Li(a,o,u,p)}}function io(a,o,u,p,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=a,k=o,H=u,J=p,oe=k.flags;switch(k.tag){case 0:case 11:case 15:io(w,k,H,J,v),Oc(8,k);break;case 23:break;case 22:var Se=k.stateNode;k.memoizedState!==null?Se._visibility&2?io(w,k,H,J,v):Nc(w,k):(Se._visibility|=2,io(w,k,H,J,v)),v&&oe&2048&&$m(k.alternate,k);break;case 24:io(w,k,H,J,v),v&&oe&2048&&Qm(k.alternate,k);break;default:io(w,k,H,J,v)}o=o.sibling}}function Nc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,p=o,v=p.flags;switch(p.tag){case 22:Nc(u,p),v&2048&&$m(p.alternate,p);break;case 24:Nc(u,p),v&2048&&Qm(p.alternate,p);break;default:Nc(u,p)}o=o.sibling}}var Rc=8192;function so(a,o,u){if(a.subtreeFlags&Rc)for(a=a.child;a!==null;)kb(a,o,u),a=a.sibling}function kb(a,o,u){switch(a.tag){case 26:so(a,o,u),a.flags&Rc&&a.memoizedState!==null&&mD(u,Fi,a.memoizedState,a.memoizedProps);break;case 5:so(a,o,u);break;case 3:case 4:var p=Fi;Fi=mu(a.stateNode.containerInfo),so(a,o,u),Fi=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Rc,Rc=16777216,so(a,o,u),Rc=p):so(a,o,u));break;default:so(a,o,u)}}function Ob(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Mc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Hr=p,Nb(p,a)}Ob(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Bb(a),a=a.sibling}function Bb(a){switch(a.tag){case 0:case 11:case 15:Mc(a),a.flags&2048&&la(9,a,a.return);break;case 3:Mc(a);break;case 12:Mc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,ru(a)):Mc(a);break;default:Mc(a)}}function ru(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Hr=p,Nb(p,a)}Ob(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:la(8,o,o.return),ru(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,ru(o));break;default:ru(o)}a=a.sibling}}function Nb(a,o){for(;Hr!==null;){var u=Hr;switch(u.tag){case 0:case 11:case 15:la(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:xc(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Hr=p;else e:for(u=a;Hr!==null;){p=Hr;var v=p.sibling,w=p.return;if(Sb(p),p===u){Hr=null;break e}if(v!==null){v.return=w,Hr=v;break e}Hr=w}}}var O5={getCacheForType:function(a){var o=Qr(Tr),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return Qr(Tr).controller.signal}},B5=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Yt=null,gt=null,vt=0,Ft=0,Jn=null,oa=!1,ao=!1,Zm=!1,Rs=0,mr=0,ca=0,al=0,Jm=0,ei=0,lo=0,Fc=null,Ln=null,eg=!1,nu=0,Rb=0,iu=1/0,su=null,fa=null,Fr=0,ua=null,oo=null,Ms=0,tg=0,rg=null,Mb=null,Lc=0,ng=null;function ti(){return(Bt&2)!==0&&vt!==0?vt&-vt:ee.T!==null?cg():F()}function Fb(){if(ei===0)if((vt&536870912)===0||wt){var a=ui;ui<<=1,(ui&3932160)===0&&(ui=262144),ei=a}else ei=536870912;return a=Qn.current,a!==null&&(a.flags|=32),ei}function In(a,o,u){(a===Yt&&(Ft===2||Ft===9)||a.cancelPendingCommit!==null)&&(co(a,0),ha(a,vt,ei,!1)),Ye(a,u),((Bt&2)===0||a!==Yt)&&(a===Yt&&((Bt&2)===0&&(al|=u),mr===4&&ha(a,vt,ei,!1)),ts(a))}function Lb(a,o,u){if((Bt&6)!==0)throw Error(n(327));var p=!u&&(o&127)===0&&(o&a.expiredLanes)===0||ge(a,o),v=p?M5(a,o):sg(a,o,!0),w=p;do{if(v===0){ao&&!p&&ha(a,o,0,!1);break}else{if(u=a.current.alternate,w&&!N5(u)){v=sg(a,o,!1),w=!1;continue}if(v===2){if(w=o,a.errorRecoveryDisabledLanes&w)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;e:{var H=a;v=Fc;var J=H.current.memoizedState.isDehydrated;if(J&&(co(H,k).flags|=256),k=sg(H,k,!1),k!==2){if(Zm&&!J){H.errorRecoveryDisabledLanes|=w,al|=w,v=4;break e}w=Ln,Ln=v,w!==null&&(Ln===null?Ln=w:Ln.push.apply(Ln,w))}v=k}if(w=!1,v!==2)continue}}if(v===1){co(a,0),ha(a,o,0,!0);break}e:{switch(p=a,w=v,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:ha(p,o,ei,!oa);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(v=nu+300-bt(),10<v)){if(ha(p,o,ei,!oa),ar(p,0,!0)!==0)break e;Ms=o,p.timeoutHandle=dw(Ib.bind(null,p,u,Ln,su,eg,o,ei,al,lo,oa,w,"Throttled",-0,0),v);break e}Ib(p,u,Ln,su,eg,o,ei,al,lo,oa,w,null,-0,0)}}break}while(!0);ts(a)}function Ib(a,o,u,p,v,w,k,H,J,oe,Se,Te,de,ye){if(a.timeoutHandle=-1,Te=o.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ys},kb(o,w,Te);var Ke=(w&62914560)===w?nu-bt():(w&4194048)===w?Rb-bt():0;if(Ke=gD(Te,Ke),Ke!==null){Ms=w,a.cancelPendingCommit=Ke(Wb.bind(null,a,o,w,u,p,v,k,H,J,Se,Te,null,de,ye)),ha(a,w,k,!oe);return}}Wb(a,o,w,u,p,v,k,H,J)}function N5(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var v=u[p],w=v.getSnapshot;v=v.value;try{if(!Kn(w(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ha(a,o,u,p){o&=~Jm,o&=~al,a.suspendedLanes|=o,a.pingedLanes&=~o,p&&(a.warmLanes|=o),p=a.expirationTimes;for(var v=o;0<v;){var w=31-ur(v),k=1<<w;p[w]=-1,v&=~k}u!==0&&at(a,u,o)}function au(){return(Bt&6)===0?(Ic(0),!1):!0}function ig(){if(gt!==null){if(Ft===0)var a=gt.return;else a=gt,Es=Qa=null,bm(a),Jl=null,yc=0,a=gt;for(;a!==null;)pb(a.alternate,a),a=a.return;gt=null}}function co(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,Z5(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ms=0,ig(),Yt=a,gt=u=ws(a.current,null),vt=o,Ft=0,Jn=null,oa=!1,ao=ge(a,o),Zm=!1,lo=ei=Jm=al=ca=mr=0,Ln=Fc=null,eg=!1,(o&8)!==0&&(o|=o&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=o;0<p;){var v=31-ur(p),w=1<<v;o|=a[v],p&=~w}return Rs=o,_f(),u}function Pb(a,o){ft=null,ee.H=_c,o===Zl||o===Ff?(o=ey(),Ft=3):o===om?(o=ey(),Ft=4):Ft=o===Lm?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Jn=o,gt===null&&(mr=1,Kf(a,gi(o,a.current)))}function jb(){var a=Qn.current;return a===null?!0:(vt&4194048)===vt?bi===null:(vt&62914560)===vt||(vt&536870912)!==0?a===bi:!1}function zb(){var a=ee.H;return ee.H=_c,a===null?_c:a}function Hb(){var a=ee.A;return ee.A=O5,a}function lu(){mr=4,oa||(vt&4194048)!==vt&&Qn.current!==null||(ao=!0),(ca&134217727)===0&&(al&134217727)===0||Yt===null||ha(Yt,vt,ei,!1)}function sg(a,o,u){var p=Bt;Bt|=2;var v=zb(),w=Hb();(Yt!==a||vt!==o)&&(su=null,co(a,o)),o=!1;var k=mr;e:do try{if(Ft!==0&&gt!==null){var H=gt,J=Jn;switch(Ft){case 8:ig(),k=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(o=!0);var oe=Ft;if(Ft=0,Jn=null,fo(a,H,J,oe),u&&ao){k=0;break e}break;default:oe=Ft,Ft=0,Jn=null,fo(a,H,J,oe)}}R5(),k=mr;break}catch(Se){Pb(a,Se)}while(!0);return o&&a.shellSuspendCounter++,Es=Qa=null,Bt=p,ee.H=v,ee.A=w,gt===null&&(Yt=null,vt=0,_f()),k}function R5(){for(;gt!==null;)Ub(gt)}function M5(a,o){var u=Bt;Bt|=2;var p=zb(),v=Hb();Yt!==a||vt!==o?(su=null,iu=bt()+500,co(a,o)):ao=ge(a,o);e:do try{if(Ft!==0&&gt!==null){o=gt;var w=Jn;t:switch(Ft){case 1:Ft=0,Jn=null,fo(a,o,w,1);break;case 2:case 9:if(Z2(w)){Ft=0,Jn=null,Vb(o);break}o=function(){Ft!==2&&Ft!==9||Yt!==a||(Ft=7),ts(a)},w.then(o,o);break e;case 3:Ft=7;break e;case 4:Ft=5;break e;case 7:Z2(w)?(Ft=0,Jn=null,Vb(o)):(Ft=0,Jn=null,fo(a,o,w,7));break;case 5:var k=null;switch(gt.tag){case 26:k=gt.memoizedState;case 5:case 27:var H=gt;if(k?Dw(k):H.stateNode.complete){Ft=0,Jn=null;var J=H.sibling;if(J!==null)gt=J;else{var oe=H.return;oe!==null?(gt=oe,ou(oe)):gt=null}break t}}Ft=0,Jn=null,fo(a,o,w,5);break;case 6:Ft=0,Jn=null,fo(a,o,w,6);break;case 8:ig(),mr=6;break e;default:throw Error(n(462))}}F5();break}catch(Se){Pb(a,Se)}while(!0);return Es=Qa=null,ee.H=p,ee.A=v,Bt=u,gt!==null?0:(Yt=null,vt=0,_f(),mr)}function F5(){for(;gt!==null&&!Ht();)Ub(gt)}function Ub(a){var o=hb(a.alternate,a,Rs);a.memoizedProps=a.pendingProps,o===null?ou(a):gt=o}function Vb(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=ab(u,o,o.pendingProps,o.type,void 0,vt);break;case 11:o=ab(u,o,o.pendingProps,o.type.render,o.ref,vt);break;case 5:bm(o);default:pb(u,o),o=gt=H2(o,Rs),o=hb(u,o,Rs)}a.memoizedProps=a.pendingProps,o===null?ou(a):gt=o}function fo(a,o,u,p){Es=Qa=null,bm(o),Jl=null,yc=0;var v=o.return;try{if(E5(a,v,o,u,vt)){mr=1,Kf(a,gi(u,a.current)),gt=null;return}}catch(w){if(v!==null)throw gt=v,w;mr=1,Kf(a,gi(u,a.current)),gt=null;return}o.flags&32768?(wt||p===1?a=!0:ao||(vt&536870912)!==0?a=!1:(oa=a=!0,(p===2||p===9||p===3||p===6)&&(p=Qn.current,p!==null&&p.tag===13&&(p.flags|=16384))),qb(o,a)):ou(o)}function ou(a){var o=a;do{if((o.flags&32768)!==0){qb(o,oa);return}a=o.return;var u=T5(o.alternate,o,Rs);if(u!==null){gt=u;return}if(o=o.sibling,o!==null){gt=o;return}gt=o=a}while(o!==null);mr===0&&(mr=5)}function qb(a,o){do{var u=_5(a.alternate,a);if(u!==null){u.flags&=32767,gt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){gt=a;return}gt=a=u}while(a!==null);mr=6,gt=null}function Wb(a,o,u,p,v,w,k,H,J){a.cancelPendingCommit=null;do cu();while(Fr!==0);if((Bt&6)!==0)throw Error(n(327));if(o!==null){if(o===a.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=Xp,rt(a,u,w,k,H,J),a===Yt&&(gt=Yt=null,vt=0),oo=o,ua=a,Ms=u,tg=w,rg=v,Mb=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,j5(sr,function(){return $b(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=ee.T,ee.T=null,v=ie.p,ie.p=2,k=Bt,Bt|=4;try{D5(a,o,u)}finally{Bt=k,ie.p=v,ee.T=p}}Fr=1,Gb(),Xb(),Yb()}}function Gb(){if(Fr===1){Fr=0;var a=ua,o=oo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=ee.T,ee.T=null;var p=ie.p;ie.p=2;var v=Bt;Bt|=4;try{Tb(o,a);var w=xg,k=N2(a.containerInfo),H=w.focusedElem,J=w.selectionRange;if(k!==H&&H&&H.ownerDocument&&B2(H.ownerDocument.documentElement,H)){if(J!==null&&Up(H)){var oe=J.start,Se=J.end;if(Se===void 0&&(Se=oe),"selectionStart"in H)H.selectionStart=oe,H.selectionEnd=Math.min(Se,H.value.length);else{var Te=H.ownerDocument||document,de=Te&&Te.defaultView||window;if(de.getSelection){var ye=de.getSelection(),Ke=H.textContent.length,it=Math.min(J.start,Ke),Wt=J.end===void 0?it:Math.min(J.end,Ke);!ye.extend&&it>Wt&&(k=Wt,Wt=it,it=k);var ne=O2(H,it),te=O2(H,Wt);if(ne&&te&&(ye.rangeCount!==1||ye.anchorNode!==ne.node||ye.anchorOffset!==ne.offset||ye.focusNode!==te.node||ye.focusOffset!==te.offset)){var ae=Te.createRange();ae.setStart(ne.node,ne.offset),ye.removeAllRanges(),it>Wt?(ye.addRange(ae),ye.extend(te.node,te.offset)):(ae.setEnd(te.node,te.offset),ye.addRange(ae))}}}}for(Te=[],ye=H;ye=ye.parentNode;)ye.nodeType===1&&Te.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Te.length;H++){var Ae=Te[H];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}wu=!!gg,xg=gg=null}finally{Bt=v,ie.p=p,ee.T=u}}a.current=o,Fr=2}}function Xb(){if(Fr===2){Fr=0;var a=ua,o=oo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=ee.T,ee.T=null;var p=ie.p;ie.p=2;var v=Bt;Bt|=4;try{wb(a,o.alternate,o)}finally{Bt=v,ie.p=p,ee.T=u}}Fr=3}}function Yb(){if(Fr===4||Fr===3){Fr=0,Cr();var a=ua,o=oo,u=Ms,p=Mb;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Fr=5:(Fr=0,oo=ua=null,Kb(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(fa=null),Ar(u),o=o.stateNode,dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(kn,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=ee.T,v=ie.p,ie.p=2,ee.T=null;try{for(var w=a.onRecoverableError,k=0;k<p.length;k++){var H=p[k];w(H.value,{componentStack:H.stack})}}finally{ee.T=o,ie.p=v}}(Ms&3)!==0&&cu(),ts(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===ng?Lc++:(Lc=0,ng=a):Lc=0,Ic(0)}}function Kb(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,xc(o)))}function cu(){return Gb(),Xb(),Yb(),$b()}function $b(){if(Fr!==5)return!1;var a=ua,o=tg;tg=0;var u=Ar(Ms),p=ee.T,v=ie.p;try{ie.p=32>u?32:u,ee.T=null,u=rg,rg=null;var w=ua,k=Ms;if(Fr=0,oo=ua=null,Ms=0,(Bt&6)!==0)throw Error(n(331));var H=Bt;if(Bt|=4,Bb(w.current),Db(w,w.current,k,u),Bt=H,Ic(0,!1),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(kn,w)}catch{}return!0}finally{ie.p=v,ee.T=p,Kb(a,o)}}function Qb(a,o,u){o=gi(u,o),o=Fm(a.stateNode,o,2),a=ia(a,o,2),a!==null&&(Ye(a,2),ts(a))}function Lt(a,o,u){if(a.tag===3)Qb(a,a,u);else for(;o!==null;){if(o.tag===3){Qb(o,a,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(fa===null||!fa.has(p))){a=gi(u,a),u=Zy(2),p=ia(o,u,2),p!==null&&(Jy(u,p,o,a),Ye(p,2),ts(p));break}}o=o.return}}function ag(a,o,u){var p=a.pingCache;if(p===null){p=a.pingCache=new B5;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(u)||(Zm=!0,v.add(u),a=L5.bind(null,a,o,u),o.then(a,a))}function L5(a,o,u){var p=a.pingCache;p!==null&&p.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Yt===a&&(vt&u)===u&&(mr===4||mr===3&&(vt&62914560)===vt&&300>bt()-nu?(Bt&2)===0&&co(a,0):Jm|=u,lo===vt&&(lo=0)),ts(a)}function Zb(a,o){o===0&&(o=Ne()),a=Ya(a,o),a!==null&&(Ye(a,o),ts(a))}function I5(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),Zb(a,u)}function P5(a,o){var u=0;switch(a.tag){case 31:case 13:var p=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),Zb(a,u)}function j5(a,o){return mt(a,o)}var fu=null,uo=null,lg=!1,uu=!1,og=!1,da=0;function ts(a){a!==uo&&a.next===null&&(uo===null?fu=uo=a:uo=uo.next=a),uu=!0,lg||(lg=!0,H5())}function Ic(a,o){if(!og&&uu){og=!0;do for(var u=!1,p=fu;p!==null;){if(a!==0){var v=p.pendingLanes;if(v===0)var w=0;else{var k=p.suspendedLanes,H=p.pingedLanes;w=(1<<31-ur(42|a)+1)-1,w&=v&~(k&~H),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,rw(p,w))}else w=vt,w=ar(p,p===Yt?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||ge(p,w)||(u=!0,rw(p,w));p=p.next}while(u);og=!1}}function z5(){Jb()}function Jb(){uu=lg=!1;var a=0;da!==0&&Q5()&&(a=da);for(var o=bt(),u=null,p=fu;p!==null;){var v=p.next,w=ew(p,o);w===0?(p.next=null,u===null?fu=v:u.next=v,v===null&&(uo=u)):(u=p,(a!==0||(w&3)!==0)&&(uu=!0)),p=v}Fr!==0&&Fr!==5||Ic(a),da!==0&&(da=0)}function ew(a,o){for(var u=a.suspendedLanes,p=a.pingedLanes,v=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var k=31-ur(w),H=1<<k,J=v[k];J===-1?((H&u)===0||(H&p)!==0)&&(v[k]=Me(H,o)):J<=o&&(a.expiredLanes|=H),w&=~H}if(o=Yt,u=vt,u=ar(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,u===0||a===o&&(Ft===2||Ft===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Mt(p),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||ge(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(p!==null&&Mt(p),Ar(u)){case 2:case 8:u=vr;break;case 32:u=sr;break;case 268435456:u=Xn;break;default:u=sr}return p=tw.bind(null,a),u=mt(u,p),a.callbackPriority=o,a.callbackNode=u,o}return p!==null&&p!==null&&Mt(p),a.callbackPriority=2,a.callbackNode=null,2}function tw(a,o){if(Fr!==0&&Fr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(cu()&&a.callbackNode!==u)return null;var p=vt;return p=ar(a,a===Yt?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(Lb(a,p,o),ew(a,bt()),a.callbackNode!=null&&a.callbackNode===u?tw.bind(null,a):null)}function rw(a,o){if(cu())return null;Lb(a,o,!0)}function H5(){J5(function(){(Bt&6)!==0?mt(zr,z5):Jb()})}function cg(){if(da===0){var a=$l;a===0&&(a=On,On<<=1,(On&261888)===0&&(On=256)),da=a}return da}function nw(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:yf(""+a)}function iw(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function U5(a,o,u,p,v){if(o==="submit"&&u&&u.stateNode===v){var w=nw((v[X]||null).action),k=p.submitter;k&&(o=(o=k[X]||null)?nw(o.formAction):k.getAttribute("formAction"),o!==null&&(w=o,k=null));var H=new Ef("action","action",null,p,v);a.push({event:H,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(da!==0){var J=k?iw(v,k):new FormData(v);km(u,{pending:!0,data:J,method:v.method,action:w},null,J)}}else typeof w=="function"&&(H.preventDefault(),J=k?iw(v,k):new FormData(v),km(u,{pending:!0,data:J,method:v.method,action:w},w,J))},currentTarget:v}]})}}for(var fg=0;fg<Gp.length;fg++){var ug=Gp[fg],V5=ug.toLowerCase(),q5=ug[0].toUpperCase()+ug.slice(1);Mi(V5,"on"+q5)}Mi(F2,"onAnimationEnd"),Mi(L2,"onAnimationIteration"),Mi(I2,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(a5,"onTransitionRun"),Mi(l5,"onTransitionStart"),Mi(o5,"onTransitionCancel"),Mi(P2,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pc));function sw(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],v=p.event;p=p.listeners;e:{var w=void 0;if(o)for(var k=p.length-1;0<=k;k--){var H=p[k],J=H.instance,oe=H.currentTarget;if(H=H.listener,J!==w&&v.isPropagationStopped())break e;w=H,v.currentTarget=oe;try{w(v)}catch(Se){Tf(Se)}v.currentTarget=null,w=J}else for(k=0;k<p.length;k++){if(H=p[k],J=H.instance,oe=H.currentTarget,H=H.listener,J!==w&&v.isPropagationStopped())break e;w=H,v.currentTarget=oe;try{w(v)}catch(Se){Tf(Se)}v.currentTarget=null,w=J}}}}function xt(a,o){var u=o[ce];u===void 0&&(u=o[ce]=new Set);var p=a+"__bubble";u.has(p)||(aw(o,a,2,!1),u.add(p))}function hg(a,o,u){var p=0;o&&(p|=4),aw(u,a,p,o)}var hu="_reactListening"+Math.random().toString(36).slice(2);function dg(a){if(!a[hu]){a[hu]=!0,Qt.forEach(function(u){u!=="selectionchange"&&(W5.has(u)||hg(u,!1,a),hg(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[hu]||(o[hu]=!0,hg("selectionchange",!1,o))}}function aw(a,o,u,p){switch(Fw(o)){case 2:var v=yD;break;case 8:v=bD;break;default:v=Dg}u=v.bind(null,o,u,a),v=void 0,!Rp||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function pg(a,o,u,p,v){var w=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var H=p.stateNode.containerInfo;if(H===v)break;if(k===4)for(k=p.return;k!==null;){var J=k.tag;if((J===3||J===4)&&k.stateNode.containerInfo===v)return;k=k.return}for(;H!==null;){if(k=Le(H),k===null)return;if(J=k.tag,J===5||J===6||J===26||J===27){p=w=k;continue e}H=H.parentNode}}p=p.return}u2(function(){var oe=w,Se=Bp(u),Te=[];e:{var de=j2.get(a);if(de!==void 0){var ye=Ef,Ke=a;switch(a){case"keypress":if(wf(u)===0)break e;case"keydown":case"keyup":ye=P_;break;case"focusin":Ke="focus",ye=Ip;break;case"focusout":Ke="blur",ye=Ip;break;case"beforeblur":case"afterblur":ye=Ip;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=p2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=T_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=H_;break;case F2:case L2:case I2:ye=k_;break;case P2:ye=V_;break;case"scroll":case"scrollend":ye=C_;break;case"wheel":ye=W_;break;case"copy":case"cut":case"paste":ye=B_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=g2;break;case"toggle":case"beforetoggle":ye=X_}var it=(o&4)!==0,Wt=!it&&(a==="scroll"||a==="scrollend"),ne=it?de!==null?de+"Capture":null:de;it=[];for(var te=oe,ae;te!==null;){var Ae=te;if(ae=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||ae===null||ne===null||(Ae=ac(te,ne),Ae!=null&&it.push(jc(te,Ae,ae))),Wt)break;te=te.return}0<it.length&&(de=new ye(de,Ke,null,u,Se),Te.push({event:de,listeners:it}))}}if((o&7)===0){e:{if(de=a==="mouseover"||a==="pointerover",ye=a==="mouseout"||a==="pointerout",de&&u!==Op&&(Ke=u.relatedTarget||u.fromElement)&&(Le(Ke)||Ke[Y]))break e;if((ye||de)&&(de=Se.window===Se?Se:(de=Se.ownerDocument)?de.defaultView||de.parentWindow:window,ye?(Ke=u.relatedTarget||u.toElement,ye=oe,Ke=Ke?Le(Ke):null,Ke!==null&&(Wt=s(Ke),it=Ke.tag,Ke!==Wt||it!==5&&it!==27&&it!==6)&&(Ke=null)):(ye=null,Ke=oe),ye!==Ke)){if(it=p2,Ae="onMouseLeave",ne="onMouseEnter",te="mouse",(a==="pointerout"||a==="pointerover")&&(it=g2,Ae="onPointerLeave",ne="onPointerEnter",te="pointer"),Wt=ye==null?de:Re(ye),ae=Ke==null?de:Re(Ke),de=new it(Ae,te+"leave",ye,u,Se),de.target=Wt,de.relatedTarget=ae,Ae=null,Le(Se)===oe&&(it=new it(ne,te+"enter",Ke,u,Se),it.target=ae,it.relatedTarget=Wt,Ae=it),Wt=Ae,ye&&Ke)t:{for(it=G5,ne=ye,te=Ke,ae=0,Ae=ne;Ae;Ae=it(Ae))ae++;Ae=0;for(var tt=te;tt;tt=it(tt))Ae++;for(;0<ae-Ae;)ne=it(ne),ae--;for(;0<Ae-ae;)te=it(te),Ae--;for(;ae--;){if(ne===te||te!==null&&ne===te.alternate){it=ne;break t}ne=it(ne),te=it(te)}it=null}else it=null;ye!==null&&lw(Te,de,ye,it,!1),Ke!==null&&Wt!==null&&lw(Te,Wt,Ke,it,!0)}}e:{if(de=oe?Re(oe):window,ye=de.nodeName&&de.nodeName.toLowerCase(),ye==="select"||ye==="input"&&de.type==="file")var Dt=C2;else if(S2(de))if(A2)Dt=n5;else{Dt=t5;var Ze=e5}else ye=de.nodeName,!ye||ye.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?oe&&kp(oe.elementType)&&(Dt=C2):Dt=r5;if(Dt&&(Dt=Dt(a,oe))){E2(Te,Dt,u,Se);break e}Ze&&Ze(a,de,oe),a==="focusout"&&oe&&de.type==="number"&&oe.memoizedProps.value!=null&&Dp(de,"number",de.value)}switch(Ze=oe?Re(oe):window,a){case"focusin":(S2(Ze)||Ze.contentEditable==="true")&&(Ul=Ze,Vp=oe,pc=null);break;case"focusout":pc=Vp=Ul=null;break;case"mousedown":qp=!0;break;case"contextmenu":case"mouseup":case"dragend":qp=!1,R2(Te,u,Se);break;case"selectionchange":if(s5)break;case"keydown":case"keyup":R2(Te,u,Se)}var ht;if(jp)e:{switch(a){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else Hl?b2(a,u)&&(yt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(yt="onCompositionStart");yt&&(x2&&u.locale!=="ko"&&(Hl||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Hl&&(ht=h2()):(Qs=Se,Mp="value"in Qs?Qs.value:Qs.textContent,Hl=!0)),Ze=du(oe,yt),0<Ze.length&&(yt=new m2(yt,a,null,u,Se),Te.push({event:yt,listeners:Ze}),ht?yt.data=ht:(ht=w2(u),ht!==null&&(yt.data=ht)))),(ht=K_?$_(a,u):Q_(a,u))&&(yt=du(oe,"onBeforeInput"),0<yt.length&&(Ze=new m2("onBeforeInput","beforeinput",null,u,Se),Te.push({event:Ze,listeners:yt}),Ze.data=ht)),U5(Te,a,oe,u,Se)}sw(Te,o)})}function jc(a,o,u){return{instance:a,listener:o,currentTarget:u}}function du(a,o){for(var u=o+"Capture",p=[];a!==null;){var v=a,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=ac(a,u),v!=null&&p.unshift(jc(a,v,w)),v=ac(a,o),v!=null&&p.push(jc(a,v,w))),a.tag===3)return p;a=a.return}return[]}function G5(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function lw(a,o,u,p,v){for(var w=o._reactName,k=[];u!==null&&u!==p;){var H=u,J=H.alternate,oe=H.stateNode;if(H=H.tag,J!==null&&J===p)break;H!==5&&H!==26&&H!==27||oe===null||(J=oe,v?(oe=ac(u,w),oe!=null&&k.unshift(jc(u,oe,J))):v||(oe=ac(u,w),oe!=null&&k.push(jc(u,oe,J)))),u=u.return}k.length!==0&&a.push({event:o,listeners:k})}var X5=/\r\n?/g,Y5=/\u0000|\uFFFD/g;function ow(a){return(typeof a=="string"?a:""+a).replace(X5,`
`).replace(Y5,"")}function cw(a,o){return o=ow(o),ow(a)===o}function qt(a,o,u,p,v,w){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Pl(a,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Pl(a,""+p);break;case"className":xf(a,"class",p);break;case"tabIndex":xf(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":xf(a,u,p);break;case"style":c2(a,p,w);break;case"data":if(o!=="object"){xf(a,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=yf(""+p),a.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(o!=="input"&&qt(a,o,"name",v.name,v,null),qt(a,o,"formEncType",v.formEncType,v,null),qt(a,o,"formMethod",v.formMethod,v,null),qt(a,o,"formTarget",v.formTarget,v,null)):(qt(a,o,"encType",v.encType,v,null),qt(a,o,"method",v.method,v,null),qt(a,o,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=yf(""+p),a.setAttribute(u,p);break;case"onClick":p!=null&&(a.onclick=ys);break;case"onScroll":p!=null&&xt("scroll",a);break;case"onScrollEnd":p!=null&&xt("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}u=yf(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""+p):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":p===!0?a.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,p):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(u,p):a.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(u):a.setAttribute(u,p);break;case"popover":xt("beforetoggle",a),xt("toggle",a),Bn(a,"popover",p);break;case"xlinkActuate":vs(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":vs(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":vs(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":vs(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":vs(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":vs(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":vs(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":vs(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":vs(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Bn(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=S_.get(u)||u,Bn(a,u,p))}}function mg(a,o,u,p,v,w){switch(u){case"style":c2(a,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"children":typeof p=="string"?Pl(a,p):(typeof p=="number"||typeof p=="bigint")&&Pl(a,""+p);break;case"onScroll":p!=null&&xt("scroll",a);break;case"onScrollEnd":p!=null&&xt("scrollend",a);break;case"onClick":p!=null&&(a.onclick=ys);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zt.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),w=a[X]||null,w=w!=null?w[u]:null,typeof w=="function"&&a.removeEventListener(o,w,v),typeof p=="function")){typeof w!="function"&&w!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,p,v);break e}u in a?a[u]=p:p===!0?a.setAttribute(u,""):Bn(a,u,p)}}}function Jr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",a),xt("load",a);var p=!1,v=!1,w;for(w in u)if(u.hasOwnProperty(w)){var k=u[w];if(k!=null)switch(w){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:qt(a,o,w,k,u,null)}}v&&qt(a,o,"srcSet",u.srcSet,u,null),p&&qt(a,o,"src",u.src,u,null);return;case"input":xt("invalid",a);var H=w=k=v=null,J=null,oe=null;for(p in u)if(u.hasOwnProperty(p)){var Se=u[p];if(Se!=null)switch(p){case"name":v=Se;break;case"type":k=Se;break;case"checked":J=Se;break;case"defaultChecked":oe=Se;break;case"value":w=Se;break;case"defaultValue":H=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(n(137,o));break;default:qt(a,o,p,Se,u,null)}}s2(a,w,H,J,oe,k,v,!1);return;case"select":xt("invalid",a),p=k=w=null;for(v in u)if(u.hasOwnProperty(v)&&(H=u[v],H!=null))switch(v){case"value":w=H;break;case"defaultValue":k=H;break;case"multiple":p=H;default:qt(a,o,v,H,u,null)}o=w,u=k,a.multiple=!!p,o!=null?Il(a,!!p,o,!1):u!=null&&Il(a,!!p,u,!0);return;case"textarea":xt("invalid",a),w=v=p=null;for(k in u)if(u.hasOwnProperty(k)&&(H=u[k],H!=null))switch(k){case"value":p=H;break;case"defaultValue":v=H;break;case"children":w=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(91));break;default:qt(a,o,k,H,u,null)}l2(a,p,v,w);return;case"option":for(J in u)if(u.hasOwnProperty(J)&&(p=u[J],p!=null))switch(J){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:qt(a,o,J,p,u,null)}return;case"dialog":xt("beforetoggle",a),xt("toggle",a),xt("cancel",a),xt("close",a);break;case"iframe":case"object":xt("load",a);break;case"video":case"audio":for(p=0;p<Pc.length;p++)xt(Pc[p],a);break;case"image":xt("error",a),xt("load",a);break;case"details":xt("toggle",a);break;case"embed":case"source":case"link":xt("error",a),xt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in u)if(u.hasOwnProperty(oe)&&(p=u[oe],p!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:qt(a,o,oe,p,u,null)}return;default:if(kp(o)){for(Se in u)u.hasOwnProperty(Se)&&(p=u[Se],p!==void 0&&mg(a,o,Se,p,u,void 0));return}}for(H in u)u.hasOwnProperty(H)&&(p=u[H],p!=null&&qt(a,o,H,p,u,null))}function K5(a,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,k=null,H=null,J=null,oe=null,Se=null;for(ye in u){var Te=u[ye];if(u.hasOwnProperty(ye)&&Te!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":J=Te;default:p.hasOwnProperty(ye)||qt(a,o,ye,null,p,Te)}}for(var de in p){var ye=p[de];if(Te=u[de],p.hasOwnProperty(de)&&(ye!=null||Te!=null))switch(de){case"type":w=ye;break;case"name":v=ye;break;case"checked":oe=ye;break;case"defaultChecked":Se=ye;break;case"value":k=ye;break;case"defaultValue":H=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(137,o));break;default:ye!==Te&&qt(a,o,de,ye,p,Te)}}_p(a,k,H,J,oe,Se,w,v);return;case"select":ye=k=H=de=null;for(w in u)if(J=u[w],u.hasOwnProperty(w)&&J!=null)switch(w){case"value":break;case"multiple":ye=J;default:p.hasOwnProperty(w)||qt(a,o,w,null,p,J)}for(v in p)if(w=p[v],J=u[v],p.hasOwnProperty(v)&&(w!=null||J!=null))switch(v){case"value":de=w;break;case"defaultValue":H=w;break;case"multiple":k=w;default:w!==J&&qt(a,o,v,w,p,J)}o=H,u=k,p=ye,de!=null?Il(a,!!u,de,!1):!!p!=!!u&&(o!=null?Il(a,!!u,o,!0):Il(a,!!u,u?[]:"",!1));return;case"textarea":ye=de=null;for(H in u)if(v=u[H],u.hasOwnProperty(H)&&v!=null&&!p.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:qt(a,o,H,null,p,v)}for(k in p)if(v=p[k],w=u[k],p.hasOwnProperty(k)&&(v!=null||w!=null))switch(k){case"value":de=v;break;case"defaultValue":ye=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==w&&qt(a,o,k,v,p,w)}a2(a,de,ye);return;case"option":for(var Ke in u)if(de=u[Ke],u.hasOwnProperty(Ke)&&de!=null&&!p.hasOwnProperty(Ke))switch(Ke){case"selected":a.selected=!1;break;default:qt(a,o,Ke,null,p,de)}for(J in p)if(de=p[J],ye=u[J],p.hasOwnProperty(J)&&de!==ye&&(de!=null||ye!=null))switch(J){case"selected":a.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:qt(a,o,J,de,p,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in u)de=u[it],u.hasOwnProperty(it)&&de!=null&&!p.hasOwnProperty(it)&&qt(a,o,it,null,p,de);for(oe in p)if(de=p[oe],ye=u[oe],p.hasOwnProperty(oe)&&de!==ye&&(de!=null||ye!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(n(137,o));break;default:qt(a,o,oe,de,p,ye)}return;default:if(kp(o)){for(var Wt in u)de=u[Wt],u.hasOwnProperty(Wt)&&de!==void 0&&!p.hasOwnProperty(Wt)&&mg(a,o,Wt,void 0,p,de);for(Se in p)de=p[Se],ye=u[Se],!p.hasOwnProperty(Se)||de===ye||de===void 0&&ye===void 0||mg(a,o,Se,de,p,ye);return}}for(var ne in u)de=u[ne],u.hasOwnProperty(ne)&&de!=null&&!p.hasOwnProperty(ne)&&qt(a,o,ne,null,p,de);for(Te in p)de=p[Te],ye=u[Te],!p.hasOwnProperty(Te)||de===ye||de==null&&ye==null||qt(a,o,Te,de,p,ye)}function fw(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $5(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var v=u[p],w=v.transferSize,k=v.initiatorType,H=v.duration;if(w&&H&&fw(k)){for(k=0,H=v.responseEnd,p+=1;p<u.length;p++){var J=u[p],oe=J.startTime;if(oe>H)break;var Se=J.transferSize,Te=J.initiatorType;Se&&fw(Te)&&(J=J.responseEnd,k+=Se*(J<H?1:(H-oe)/(J-oe)))}if(--p,o+=8*(w+k)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var gg=null,xg=null;function pu(a){return a.nodeType===9?a:a.ownerDocument}function uw(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hw(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function vg(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var yg=null;function Q5(){var a=window.event;return a&&a.type==="popstate"?a===yg?!1:(yg=a,!0):(yg=null,!1)}var dw=typeof setTimeout=="function"?setTimeout:void 0,Z5=typeof clearTimeout=="function"?clearTimeout:void 0,pw=typeof Promise=="function"?Promise:void 0,J5=typeof queueMicrotask=="function"?queueMicrotask:typeof pw<"u"?function(a){return pw.resolve(null).then(a).catch(eD)}:dw;function eD(a){setTimeout(function(){throw a})}function pa(a){return a==="head"}function mw(a,o){var u=o,p=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(p===0){a.removeChild(v),go(o);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")zc(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,zc(u);for(var w=u.firstChild;w;){var k=w.nextSibling,H=w.nodeName;w[me]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=k}}else u==="body"&&zc(a.ownerDocument.body);u=v}while(u);go(o)}function gw(a,o){var u=a;a=0;do{var p=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=p}while(u)}function bg(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":bg(u),Be(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function tD(a,o,u,p){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[me])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=wi(a.nextSibling),a===null)break}return null}function rD(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=wi(a.nextSibling),a===null))return null;return a}function xw(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=wi(a.nextSibling),a===null))return null;return a}function wg(a){return a.data==="$?"||a.data==="$~"}function Sg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function nD(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function wi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Eg=null;function vw(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return wi(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function yw(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function bw(a,o,u){switch(o=pu(u),a){case"html":if(a=o.documentElement,!a)throw Error(n(452));return a;case"head":if(a=o.head,!a)throw Error(n(453));return a;case"body":if(a=o.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function zc(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Be(a)}var Si=new Map,ww=new Set;function mu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Fs=ie.d;ie.d={f:iD,r:sD,D:aD,C:lD,L:oD,m:cD,X:uD,S:fD,M:hD};function iD(){var a=Fs.f(),o=au();return a||o}function sD(a){var o=Ue(a);o!==null&&o.tag===5&&o.type==="form"?Py(o):Fs.r(a)}var ho=typeof document>"u"?null:document;function Sw(a,o,u){var p=ho;if(p&&typeof o=="string"&&o){var v=pi(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),ww.has(v)||(ww.add(v),a={rel:a,crossOrigin:u,href:o},p.querySelector(v)===null&&(o=p.createElement("link"),Jr(o,"link",a),Qe(o),p.head.appendChild(o)))}}function aD(a){Fs.D(a),Sw("dns-prefetch",a,null)}function lD(a,o){Fs.C(a,o),Sw("preconnect",a,o)}function oD(a,o,u){Fs.L(a,o,u);var p=ho;if(p&&a&&o){var v='link[rel="preload"][as="'+pi(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+pi(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+pi(u.imageSizes)+'"]')):v+='[href="'+pi(a)+'"]';var w=v;switch(o){case"style":w=po(a);break;case"script":w=mo(a)}Si.has(w)||(a=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Si.set(w,a),p.querySelector(v)!==null||o==="style"&&p.querySelector(Hc(w))||o==="script"&&p.querySelector(Uc(w))||(o=p.createElement("link"),Jr(o,"link",a),Qe(o),p.head.appendChild(o)))}}function cD(a,o){Fs.m(a,o);var u=ho;if(u&&a){var p=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+pi(p)+'"][href="'+pi(a)+'"]',w=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=mo(a)}if(!Si.has(w)&&(a=m({rel:"modulepreload",href:a},o),Si.set(w,a),u.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Uc(w)))return}p=u.createElement("link"),Jr(p,"link",a),Qe(p),u.head.appendChild(p)}}}function fD(a,o,u){Fs.S(a,o,u);var p=ho;if(p&&a){var v=ze(p).hoistableStyles,w=po(a);o=o||"default";var k=v.get(w);if(!k){var H={loading:0,preload:null};if(k=p.querySelector(Hc(w)))H.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Si.get(w))&&Cg(a,u);var J=k=p.createElement("link");Qe(J),Jr(J,"link",a),J._p=new Promise(function(oe,Se){J.onload=oe,J.onerror=Se}),J.addEventListener("load",function(){H.loading|=1}),J.addEventListener("error",function(){H.loading|=2}),H.loading|=4,gu(k,o,p)}k={type:"stylesheet",instance:k,count:1,state:H},v.set(w,k)}}}function uD(a,o){Fs.X(a,o);var u=ho;if(u&&a){var p=ze(u).hoistableScripts,v=mo(a),w=p.get(v);w||(w=u.querySelector(Uc(v)),w||(a=m({src:a,async:!0},o),(o=Si.get(v))&&Ag(a,o),w=u.createElement("script"),Qe(w),Jr(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(v,w))}}function hD(a,o){Fs.M(a,o);var u=ho;if(u&&a){var p=ze(u).hoistableScripts,v=mo(a),w=p.get(v);w||(w=u.querySelector(Uc(v)),w||(a=m({src:a,async:!0,type:"module"},o),(o=Si.get(v))&&Ag(a,o),w=u.createElement("script"),Qe(w),Jr(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(v,w))}}function Ew(a,o,u,p){var v=(v=Z.current)?mu(v):null;if(!v)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=po(u.href),u=ze(v).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=po(u.href);var w=ze(v).hoistableStyles,k=w.get(a);if(k||(v=v.ownerDocument||v,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,k),(w=v.querySelector(Hc(a)))&&!w._p&&(k.instance=w,k.state.loading=5),Si.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Si.set(a,u),w||dD(v,a,u,k.state))),o&&p===null)throw Error(n(528,""));return k}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=mo(u),u=ze(v).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function po(a){return'href="'+pi(a)+'"'}function Hc(a){return'link[rel="stylesheet"]['+a+"]"}function Cw(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function dD(a,o,u,p){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=a.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Jr(o,"link",u),Qe(o),a.head.appendChild(o))}function mo(a){return'[src="'+pi(a)+'"]'}function Uc(a){return"script[async]"+a}function Aw(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=a.querySelector('style[data-href~="'+pi(u.href)+'"]');if(p)return o.instance=p,Qe(p),p;var v=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Qe(p),Jr(p,"style",v),gu(p,u.precedence,a),o.instance=p;case"stylesheet":v=po(u.href);var w=a.querySelector(Hc(v));if(w)return o.state.loading|=4,o.instance=w,Qe(w),w;p=Cw(u),(v=Si.get(v))&&Cg(p,v),w=(a.ownerDocument||a).createElement("link"),Qe(w);var k=w;return k._p=new Promise(function(H,J){k.onload=H,k.onerror=J}),Jr(w,"link",p),o.state.loading|=4,gu(w,u.precedence,a),o.instance=w;case"script":return w=mo(u.src),(v=a.querySelector(Uc(w)))?(o.instance=v,Qe(v),v):(p=u,(v=Si.get(w))&&(p=m({},u),Ag(p,v)),a=a.ownerDocument||a,v=a.createElement("script"),Qe(v),Jr(v,"link",p),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,gu(p,u.precedence,a));return o.instance}function gu(a,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,w=v,k=0;k<p.length;k++){var H=p[k];if(H.dataset.precedence===o)w=H;else if(w!==v)break}w?w.parentNode.insertBefore(a,w.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Cg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Ag(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var xu=null;function Tw(a,o,u){if(xu===null){var p=new Map,v=xu=new Map;v.set(u,p)}else v=xu,p=v.get(u),p||(p=new Map,v.set(u,p));if(p.has(a))return p;for(p.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var w=u[v];if(!(w[me]||w[q]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var k=w.getAttribute(o)||"";k=a+k;var H=p.get(k);H?H.push(w):p.set(k,[w])}}return p}function _w(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function pD(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Dw(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function mD(a,o,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=po(p.href),w=o.querySelector(Hc(v));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=vu.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=w,Qe(w);return}w=o.ownerDocument||o,p=Cw(p),(v=Si.get(v))&&Cg(p,v),w=w.createElement("link"),Qe(w);var k=w;k._p=new Promise(function(H,J){k.onload=H,k.onerror=J}),Jr(w,"link",p),u.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=vu.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Tg=0;function gD(a,o){return a.stylesheets&&a.count===0&&bu(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var p=setTimeout(function(){if(a.stylesheets&&bu(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+o);0<a.imgBytes&&Tg===0&&(Tg=62500*$5());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&bu(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>Tg?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(v)}}:null}function vu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bu(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var yu=null;function bu(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,yu=new Map,o.forEach(xD,a),yu=null,vu.call(a))}function xD(a,o){if(!(o.state.loading&4)){var u=yu.get(a);if(u)var p=u.get(null);else{u=new Map,yu.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var k=v[w];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),p=k)}p&&u.set(null,p)}v=o.instance,k=v.getAttribute("data-precedence"),w=u.get(k)||p,w===p&&u.set(null,v),u.set(k,v),this.count++,p=vu.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),w?w.parentNode.insertBefore(v,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var Vc={$$typeof:C,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function vD(a,o,u,p,v,w,k,H,J){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=et(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=et(0),this.hiddenUpdates=et(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function kw(a,o,u,p,v,w,k,H,J,oe,Se,Te){return a=new vD(a,o,u,k,J,oe,Se,Te,H),o=1,w===!0&&(o|=24),w=$n(3,null,null,o),a.current=w,w.stateNode=a,o=sm(),o.refCount++,a.pooledCache=o,o.refCount++,w.memoizedState={element:p,isDehydrated:u,cache:o},cm(w),a}function Ow(a){return a?(a=Wl,a):Wl}function Bw(a,o,u,p,v,w){v=Ow(v),p.context===null?p.context=v:p.pendingContext=v,p=na(o),p.payload={element:u},w=w===void 0?null:w,w!==null&&(p.callback=w),u=ia(a,p,o),u!==null&&(In(u,a,o),wc(u,a,o))}function Nw(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function _g(a,o){Nw(a,o),(a=a.alternate)&&Nw(a,o)}function Rw(a){if(a.tag===13||a.tag===31){var o=Ya(a,67108864);o!==null&&In(o,a,67108864),_g(a,67108864)}}function Mw(a){if(a.tag===13||a.tag===31){var o=ti();o=yr(o);var u=Ya(a,o);u!==null&&In(u,a,o),_g(a,o)}}var wu=!0;function yD(a,o,u,p){var v=ee.T;ee.T=null;var w=ie.p;try{ie.p=2,Dg(a,o,u,p)}finally{ie.p=w,ee.T=v}}function bD(a,o,u,p){var v=ee.T;ee.T=null;var w=ie.p;try{ie.p=8,Dg(a,o,u,p)}finally{ie.p=w,ee.T=v}}function Dg(a,o,u,p){if(wu){var v=kg(p);if(v===null)pg(a,o,p,Su,u),Lw(a,p);else if(SD(v,a,o,u,p))p.stopPropagation();else if(Lw(a,p),o&4&&-1<wD.indexOf(a)){for(;v!==null;){var w=Ue(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var k=Rt(w.pendingLanes);if(k!==0){var H=w;for(H.pendingLanes|=2,H.entangledLanes|=2;k;){var J=1<<31-ur(k);H.entanglements[1]|=J,k&=~J}ts(w),(Bt&6)===0&&(iu=bt()+500,Ic(0))}}break;case 31:case 13:H=Ya(w,2),H!==null&&In(H,w,2),au(),_g(w,2)}if(w=kg(p),w===null&&pg(a,o,p,Su,u),w===v)break;v=w}v!==null&&p.stopPropagation()}else pg(a,o,p,null,u)}}function kg(a){return a=Bp(a),Og(a)}var Su=null;function Og(a){if(Su=null,a=Le(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Su=a,null}function Fw(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gn()){case zr:return 2;case vr:return 8;case sr:case Dn:return 32;case Xn:return 268435456;default:return 32}default:return 32}}var Bg=!1,ma=null,ga=null,xa=null,qc=new Map,Wc=new Map,va=[],wD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lw(a,o){switch(a){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":qc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(o.pointerId)}}function Gc(a,o,u,p,v,w){return a===null||a.nativeEvent!==w?(a={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[v]},o!==null&&(o=Ue(o),o!==null&&Rw(o)),a):(a.eventSystemFlags|=p,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function SD(a,o,u,p,v){switch(o){case"focusin":return ma=Gc(ma,a,o,u,p,v),!0;case"dragenter":return ga=Gc(ga,a,o,u,p,v),!0;case"mouseover":return xa=Gc(xa,a,o,u,p,v),!0;case"pointerover":var w=v.pointerId;return qc.set(w,Gc(qc.get(w)||null,a,o,u,p,v)),!0;case"gotpointercapture":return w=v.pointerId,Wc.set(w,Gc(Wc.get(w)||null,a,o,u,p,v)),!0}return!1}function Iw(a){var o=Le(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,G(a.priority,function(){Mw(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,G(a.priority,function(){Mw(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Eu(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=kg(a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);Op=p,u.target.dispatchEvent(p),Op=null}else return o=Ue(u),o!==null&&Rw(o),a.blockedOn=u,!1;o.shift()}return!0}function Pw(a,o,u){Eu(a)&&u.delete(o)}function ED(){Bg=!1,ma!==null&&Eu(ma)&&(ma=null),ga!==null&&Eu(ga)&&(ga=null),xa!==null&&Eu(xa)&&(xa=null),qc.forEach(Pw),Wc.forEach(Pw)}function Cu(a,o){a.blockedOn===o&&(a.blockedOn=null,Bg||(Bg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ED)))}var Au=null;function jw(a){Au!==a&&(Au=a,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Au===a&&(Au=null);for(var o=0;o<a.length;o+=3){var u=a[o],p=a[o+1],v=a[o+2];if(typeof p!="function"){if(Og(p||u)===null)continue;break}var w=Ue(u);w!==null&&(a.splice(o,3),o-=3,km(w,{pending:!0,data:v,method:u.method,action:p},p,v))}}))}function go(a){function o(J){return Cu(J,a)}ma!==null&&Cu(ma,a),ga!==null&&Cu(ga,a),xa!==null&&Cu(xa,a),qc.forEach(o),Wc.forEach(o);for(var u=0;u<va.length;u++){var p=va[u];p.blockedOn===a&&(p.blockedOn=null)}for(;0<va.length&&(u=va[0],u.blockedOn===null);)Iw(u),u.blockedOn===null&&va.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var v=u[p],w=u[p+1],k=v[X]||null;if(typeof w=="function")k||jw(u);else if(k){var H=null;if(w&&w.hasAttribute("formAction")){if(v=w,k=w[X]||null)H=k.formAction;else if(Og(v)!==null)continue}else H=k.action;typeof H=="function"?u[p+1]=H:(u.splice(p,3),p-=3),jw(u)}}}function zw(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(k){return v=k})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Ng(a){this._internalRoot=a}Tu.prototype.render=Ng.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,p=ti();Bw(u,p,a,o,null,null)},Tu.prototype.unmount=Ng.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Bw(a.current,2,null,a,null,null),au(),o[Y]=null}};function Tu(a){this._internalRoot=a}Tu.prototype.unstable_scheduleHydration=function(a){if(a){var o=F();a={blockedOn:null,target:a,priority:o};for(var u=0;u<va.length&&o!==0&&o<va[u].priority;u++);va.splice(u,0,a),u===0&&Iw(a)}};var Hw=e.version;if(Hw!=="19.2.0")throw Error(n(527,Hw,"19.2.0"));ie.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(o),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var CD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{kn=_u.inject(CD),dr=_u}catch{}}return Yc.createRoot=function(a,o){if(!i(a))throw Error(n(299));var u=!1,p="",v=Yy,w=Ky,k=$y;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),o=kw(a,1,!1,null,null,u,p,null,v,w,k,zw),a[Y]=o.current,dg(a),new Ng(o)},Yc.hydrateRoot=function(a,o,u){if(!i(a))throw Error(n(299));var p=!1,v="",w=Yy,k=Ky,H=$y,J=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(H=u.onRecoverableError),u.formState!==void 0&&(J=u.formState)),o=kw(a,1,!0,o,u??null,p,v,J,w,k,H,zw),o.context=Ow(null),u=o.current,p=ti(),p=yr(p),v=na(p),v.callback=null,ia(u,v,p),u=p,o.current.lanes=u,Ye(o,u),ts(o),a[Y]=o.current,dg(a),new Tu(o)},Yc.version="19.2.0",Yc}var Qw;function MD(){if(Qw)return Fg.exports;Qw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fg.exports=RD(),Fg.exports}var FD=MD();const LD=""+new URL("hap_full_logo-Dpsngzvu.jpg",import.meta.url).href;var ch={exports:{}};function ID(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fh={exports:{}};const PD={},jD=Object.freeze(Object.defineProperty({__proto__:null,default:PD},Symbol.toStringTag,{value:"Module"})),zD=TD(jD);var HD=fh.exports,Zw;function Ct(){return Zw||(Zw=1,(function(r,e){(function(t,n){r.exports=n()})(HD,function(){var t=t||(function(n,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof ml<"u"&&ml.crypto&&(s=ml.crypto),!s&&typeof ID=="function")try{s=zD}catch{}var l=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||(function(){function A(){}return function(C){var _;return A.prototype=C,_=new A,A.prototype=null,_}})(),f={},h=f.lib={},d=h.Base=(function(){return{extend:function(A){var C=c(this);return A&&C.mixIn(A),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var A=this.extend();return A.init.apply(A,arguments),A},init:function(){},mixIn:function(A){for(var C in A)A.hasOwnProperty(C)&&(this[C]=A[C]);A.hasOwnProperty("toString")&&(this.toString=A.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),m=h.WordArray=d.extend({init:function(A,C){A=this.words=A||[],C!=i?this.sigBytes=C:this.sigBytes=A.length*4},toString:function(A){return(A||x).stringify(this)},concat:function(A){var C=this.words,_=A.words,N=this.sigBytes,R=A.sigBytes;if(this.clamp(),N%4)for(var O=0;O<R;O++){var z=_[O>>>2]>>>24-O%4*8&255;C[N+O>>>2]|=z<<24-(N+O)%4*8}else for(var M=0;M<R;M+=4)C[N+M>>>2]=_[M>>>2];return this.sigBytes+=R,this},clamp:function(){var A=this.words,C=this.sigBytes;A[C>>>2]&=4294967295<<32-C%4*8,A.length=n.ceil(C/4)},clone:function(){var A=d.clone.call(this);return A.words=this.words.slice(0),A},random:function(A){for(var C=[],_=0;_<A;_+=4)C.push(l());return new m.init(C,A)}}),g=f.enc={},x=g.Hex={stringify:function(A){for(var C=A.words,_=A.sigBytes,N=[],R=0;R<_;R++){var O=C[R>>>2]>>>24-R%4*8&255;N.push((O>>>4).toString(16)),N.push((O&15).toString(16))}return N.join("")},parse:function(A){for(var C=A.length,_=[],N=0;N<C;N+=2)_[N>>>3]|=parseInt(A.substr(N,2),16)<<24-N%8*4;return new m.init(_,C/2)}},b=g.Latin1={stringify:function(A){for(var C=A.words,_=A.sigBytes,N=[],R=0;R<_;R++){var O=C[R>>>2]>>>24-R%4*8&255;N.push(String.fromCharCode(O))}return N.join("")},parse:function(A){for(var C=A.length,_=[],N=0;N<C;N++)_[N>>>2]|=(A.charCodeAt(N)&255)<<24-N%4*8;return new m.init(_,C)}},y=g.Utf8={stringify:function(A){try{return decodeURIComponent(escape(b.stringify(A)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(A){return b.parse(unescape(encodeURIComponent(A)))}},S=h.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new m.init,this._nDataBytes=0},_append:function(A){typeof A=="string"&&(A=y.parse(A)),this._data.concat(A),this._nDataBytes+=A.sigBytes},_process:function(A){var C,_=this._data,N=_.words,R=_.sigBytes,O=this.blockSize,z=O*4,M=R/z;A?M=n.ceil(M):M=n.max((M|0)-this._minBufferSize,0);var I=M*O,P=n.min(I*4,R);if(I){for(var W=0;W<I;W+=O)this._doProcessBlock(N,W);C=N.splice(0,I),_.sigBytes-=P}return new m.init(C,P)},clone:function(){var A=d.clone.call(this);return A._data=this._data.clone(),A},_minBufferSize:0});h.Hasher=S.extend({cfg:d.extend(),init:function(A){this.cfg=this.cfg.extend(A),this.reset()},reset:function(){S.reset.call(this),this._doReset()},update:function(A){return this._append(A),this._process(),this},finalize:function(A){A&&this._append(A);var C=this._doFinalize();return C},blockSize:16,_createHelper:function(A){return function(C,_){return new A.init(_).finalize(C)}},_createHmacHelper:function(A){return function(C,_){return new T.HMAC.init(A,_).finalize(C)}}});var T=f.algo={};return f})(Math);return t})})(fh)),fh.exports}var uh={exports:{}},UD=uh.exports,Jw;function Zd(){return Jw||(Jw=1,(function(r,e){(function(t,n){r.exports=n(Ct())})(UD,function(t){return(function(n){var i=t,s=i.lib,l=s.Base,c=s.WordArray,f=i.x64={};f.Word=l.extend({init:function(h,d){this.high=h,this.low=d}}),f.WordArray=l.extend({init:function(h,d){h=this.words=h||[],d!=n?this.sigBytes=d:this.sigBytes=h.length*8},toX32:function(){for(var h=this.words,d=h.length,m=[],g=0;g<d;g++){var x=h[g];m.push(x.high),m.push(x.low)}return c.create(m,this.sigBytes)},clone:function(){for(var h=l.clone.call(this),d=h.words=this.words.slice(0),m=d.length,g=0;g<m;g++)d[g]=d[g].clone();return h}})})(),t})})(uh)),uh.exports}var hh={exports:{}},VD=hh.exports,e4;function qD(){return e4||(e4=1,(function(r,e){(function(t,n){r.exports=n(Ct())})(VD,function(t){return(function(){if(typeof ArrayBuffer=="function"){var n=t,i=n.lib,s=i.WordArray,l=s.init,c=s.init=function(f){if(f instanceof ArrayBuffer&&(f=new Uint8Array(f)),(f instanceof Int8Array||typeof Uint8ClampedArray<"u"&&f instanceof Uint8ClampedArray||f instanceof Int16Array||f instanceof Uint16Array||f instanceof Int32Array||f instanceof Uint32Array||f instanceof Float32Array||f instanceof Float64Array)&&(f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength)),f instanceof Uint8Array){for(var h=f.byteLength,d=[],m=0;m<h;m++)d[m>>>2]|=f[m]<<24-m%4*8;l.call(this,d,h)}else l.apply(this,arguments)};c.prototype=s}})(),t.lib.WordArray})})(hh)),hh.exports}var dh={exports:{}},WD=dh.exports,t4;function GD(){return t4||(t4=1,(function(r,e){(function(t,n){r.exports=n(Ct())})(WD,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,l=n.enc;l.Utf16=l.Utf16BE={stringify:function(f){for(var h=f.words,d=f.sigBytes,m=[],g=0;g<d;g+=2){var x=h[g>>>2]>>>16-g%4*8&65535;m.push(String.fromCharCode(x))}return m.join("")},parse:function(f){for(var h=f.length,d=[],m=0;m<h;m++)d[m>>>1]|=f.charCodeAt(m)<<16-m%2*16;return s.create(d,h*2)}},l.Utf16LE={stringify:function(f){for(var h=f.words,d=f.sigBytes,m=[],g=0;g<d;g+=2){var x=c(h[g>>>2]>>>16-g%4*8&65535);m.push(String.fromCharCode(x))}return m.join("")},parse:function(f){for(var h=f.length,d=[],m=0;m<h;m++)d[m>>>1]|=c(f.charCodeAt(m)<<16-m%2*16);return s.create(d,h*2)}};function c(f){return f<<8&4278255360|f>>>8&16711935}})(),t.enc.Utf16})})(dh)),dh.exports}var ph={exports:{}},XD=ph.exports,r4;function kl(){return r4||(r4=1,(function(r,e){(function(t,n){r.exports=n(Ct())})(XD,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,l=n.enc;l.Base64={stringify:function(f){var h=f.words,d=f.sigBytes,m=this._map;f.clamp();for(var g=[],x=0;x<d;x+=3)for(var b=h[x>>>2]>>>24-x%4*8&255,y=h[x+1>>>2]>>>24-(x+1)%4*8&255,S=h[x+2>>>2]>>>24-(x+2)%4*8&255,T=b<<16|y<<8|S,A=0;A<4&&x+A*.75<d;A++)g.push(m.charAt(T>>>6*(3-A)&63));var C=m.charAt(64);if(C)for(;g.length%4;)g.push(C);return g.join("")},parse:function(f){var h=f.length,d=this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var g=0;g<d.length;g++)m[d.charCodeAt(g)]=g}var x=d.charAt(64);if(x){var b=f.indexOf(x);b!==-1&&(h=b)}return c(f,h,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(f,h,d){for(var m=[],g=0,x=0;x<h;x++)if(x%4){var b=d[f.charCodeAt(x-1)]<<x%4*2,y=d[f.charCodeAt(x)]>>>6-x%4*2,S=b|y;m[g>>>2]|=S<<24-g%4*8,g++}return s.create(m,g)}})(),t.enc.Base64})})(ph)),ph.exports}var mh={exports:{}},YD=mh.exports,n4;function KD(){return n4||(n4=1,(function(r,e){(function(t,n){r.exports=n(Ct())})(YD,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,l=n.enc;l.Base64url={stringify:function(f,h){h===void 0&&(h=!0);var d=f.words,m=f.sigBytes,g=h?this._safe_map:this._map;f.clamp();for(var x=[],b=0;b<m;b+=3)for(var y=d[b>>>2]>>>24-b%4*8&255,S=d[b+1>>>2]>>>24-(b+1)%4*8&255,T=d[b+2>>>2]>>>24-(b+2)%4*8&255,A=y<<16|S<<8|T,C=0;C<4&&b+C*.75<m;C++)x.push(g.charAt(A>>>6*(3-C)&63));var _=g.charAt(64);if(_)for(;x.length%4;)x.push(_);return x.join("")},parse:function(f,h){h===void 0&&(h=!0);var d=f.length,m=h?this._safe_map:this._map,g=this._reverseMap;if(!g){g=this._reverseMap=[];for(var x=0;x<m.length;x++)g[m.charCodeAt(x)]=x}var b=m.charAt(64);if(b){var y=f.indexOf(b);y!==-1&&(d=y)}return c(f,d,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(f,h,d){for(var m=[],g=0,x=0;x<h;x++)if(x%4){var b=d[f.charCodeAt(x-1)]<<x%4*2,y=d[f.charCodeAt(x)]>>>6-x%4*2,S=b|y;m[g>>>2]|=S<<24-g%4*8,g++}return s.create(m,g)}})(),t.enc.Base64url})})(mh)),mh.exports}var gh={exports:{}},$D=gh.exports,i4;function Ol(){return i4||(i4=1,(function(r,e){(function(t,n){r.exports=n(Ct())})($D,function(t){return(function(n){var i=t,s=i.lib,l=s.WordArray,c=s.Hasher,f=i.algo,h=[];(function(){for(var y=0;y<64;y++)h[y]=n.abs(n.sin(y+1))*4294967296|0})();var d=f.MD5=c.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(y,S){for(var T=0;T<16;T++){var A=S+T,C=y[A];y[A]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}var _=this._hash.words,N=y[S+0],R=y[S+1],O=y[S+2],z=y[S+3],M=y[S+4],I=y[S+5],P=y[S+6],W=y[S+7],K=y[S+8],se=y[S+9],ue=y[S+10],ee=y[S+11],ie=y[S+12],be=y[S+13],Ee=y[S+14],ke=y[S+15],j=_[0],D=_[1],L=_[2],B=_[3];j=m(j,D,L,B,N,7,h[0]),B=m(B,j,D,L,R,12,h[1]),L=m(L,B,j,D,O,17,h[2]),D=m(D,L,B,j,z,22,h[3]),j=m(j,D,L,B,M,7,h[4]),B=m(B,j,D,L,I,12,h[5]),L=m(L,B,j,D,P,17,h[6]),D=m(D,L,B,j,W,22,h[7]),j=m(j,D,L,B,K,7,h[8]),B=m(B,j,D,L,se,12,h[9]),L=m(L,B,j,D,ue,17,h[10]),D=m(D,L,B,j,ee,22,h[11]),j=m(j,D,L,B,ie,7,h[12]),B=m(B,j,D,L,be,12,h[13]),L=m(L,B,j,D,Ee,17,h[14]),D=m(D,L,B,j,ke,22,h[15]),j=g(j,D,L,B,R,5,h[16]),B=g(B,j,D,L,P,9,h[17]),L=g(L,B,j,D,ee,14,h[18]),D=g(D,L,B,j,N,20,h[19]),j=g(j,D,L,B,I,5,h[20]),B=g(B,j,D,L,ue,9,h[21]),L=g(L,B,j,D,ke,14,h[22]),D=g(D,L,B,j,M,20,h[23]),j=g(j,D,L,B,se,5,h[24]),B=g(B,j,D,L,Ee,9,h[25]),L=g(L,B,j,D,z,14,h[26]),D=g(D,L,B,j,K,20,h[27]),j=g(j,D,L,B,be,5,h[28]),B=g(B,j,D,L,O,9,h[29]),L=g(L,B,j,D,W,14,h[30]),D=g(D,L,B,j,ie,20,h[31]),j=x(j,D,L,B,I,4,h[32]),B=x(B,j,D,L,K,11,h[33]),L=x(L,B,j,D,ee,16,h[34]),D=x(D,L,B,j,Ee,23,h[35]),j=x(j,D,L,B,R,4,h[36]),B=x(B,j,D,L,M,11,h[37]),L=x(L,B,j,D,W,16,h[38]),D=x(D,L,B,j,ue,23,h[39]),j=x(j,D,L,B,be,4,h[40]),B=x(B,j,D,L,N,11,h[41]),L=x(L,B,j,D,z,16,h[42]),D=x(D,L,B,j,P,23,h[43]),j=x(j,D,L,B,se,4,h[44]),B=x(B,j,D,L,ie,11,h[45]),L=x(L,B,j,D,ke,16,h[46]),D=x(D,L,B,j,O,23,h[47]),j=b(j,D,L,B,N,6,h[48]),B=b(B,j,D,L,W,10,h[49]),L=b(L,B,j,D,Ee,15,h[50]),D=b(D,L,B,j,I,21,h[51]),j=b(j,D,L,B,ie,6,h[52]),B=b(B,j,D,L,z,10,h[53]),L=b(L,B,j,D,ue,15,h[54]),D=b(D,L,B,j,R,21,h[55]),j=b(j,D,L,B,K,6,h[56]),B=b(B,j,D,L,ke,10,h[57]),L=b(L,B,j,D,P,15,h[58]),D=b(D,L,B,j,be,21,h[59]),j=b(j,D,L,B,M,6,h[60]),B=b(B,j,D,L,ee,10,h[61]),L=b(L,B,j,D,O,15,h[62]),D=b(D,L,B,j,se,21,h[63]),_[0]=_[0]+j|0,_[1]=_[1]+D|0,_[2]=_[2]+L|0,_[3]=_[3]+B|0},_doFinalize:function(){var y=this._data,S=y.words,T=this._nDataBytes*8,A=y.sigBytes*8;S[A>>>5]|=128<<24-A%32;var C=n.floor(T/4294967296),_=T;S[(A+64>>>9<<4)+15]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,S[(A+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,y.sigBytes=(S.length+1)*4,this._process();for(var N=this._hash,R=N.words,O=0;O<4;O++){var z=R[O];R[O]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360}return N},clone:function(){var y=c.clone.call(this);return y._hash=this._hash.clone(),y}});function m(y,S,T,A,C,_,N){var R=y+(S&T|~S&A)+C+N;return(R<<_|R>>>32-_)+S}function g(y,S,T,A,C,_,N){var R=y+(S&A|T&~A)+C+N;return(R<<_|R>>>32-_)+S}function x(y,S,T,A,C,_,N){var R=y+(S^T^A)+C+N;return(R<<_|R>>>32-_)+S}function b(y,S,T,A,C,_,N){var R=y+(T^(S|~A))+C+N;return(R<<_|R>>>32-_)+S}i.MD5=c._createHelper(d),i.HmacMD5=c._createHmacHelper(d)})(Math),t.MD5})})(gh)),gh.exports}var xh={exports:{}},QD=xh.exports,s4;function $C(){return s4||(s4=1,(function(r,e){(function(t,n){r.exports=n(Ct())})(QD,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,l=i.Hasher,c=n.algo,f=[],h=c.SHA1=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,m){for(var g=this._hash.words,x=g[0],b=g[1],y=g[2],S=g[3],T=g[4],A=0;A<80;A++){if(A<16)f[A]=d[m+A]|0;else{var C=f[A-3]^f[A-8]^f[A-14]^f[A-16];f[A]=C<<1|C>>>31}var _=(x<<5|x>>>27)+T+f[A];A<20?_+=(b&y|~b&S)+1518500249:A<40?_+=(b^y^S)+1859775393:A<60?_+=(b&y|b&S|y&S)-1894007588:_+=(b^y^S)-899497514,T=S,S=y,y=b<<30|b>>>2,b=x,x=_}g[0]=g[0]+x|0,g[1]=g[1]+b|0,g[2]=g[2]+y|0,g[3]=g[3]+S|0,g[4]=g[4]+T|0},_doFinalize:function(){var d=this._data,m=d.words,g=this._nDataBytes*8,x=d.sigBytes*8;return m[x>>>5]|=128<<24-x%32,m[(x+64>>>9<<4)+14]=Math.floor(g/4294967296),m[(x+64>>>9<<4)+15]=g,d.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var d=l.clone.call(this);return d._hash=this._hash.clone(),d}});n.SHA1=l._createHelper(h),n.HmacSHA1=l._createHmacHelper(h)})(),t.SHA1})})(xh)),xh.exports}var vh={exports:{}},ZD=vh.exports,a4;function W1(){return a4||(a4=1,(function(r,e){(function(t,n){r.exports=n(Ct())})(ZD,function(t){return(function(n){var i=t,s=i.lib,l=s.WordArray,c=s.Hasher,f=i.algo,h=[],d=[];(function(){function x(T){for(var A=n.sqrt(T),C=2;C<=A;C++)if(!(T%C))return!1;return!0}function b(T){return(T-(T|0))*4294967296|0}for(var y=2,S=0;S<64;)x(y)&&(S<8&&(h[S]=b(n.pow(y,1/2))),d[S]=b(n.pow(y,1/3)),S++),y++})();var m=[],g=f.SHA256=c.extend({_doReset:function(){this._hash=new l.init(h.slice(0))},_doProcessBlock:function(x,b){for(var y=this._hash.words,S=y[0],T=y[1],A=y[2],C=y[3],_=y[4],N=y[5],R=y[6],O=y[7],z=0;z<64;z++){if(z<16)m[z]=x[b+z]|0;else{var M=m[z-15],I=(M<<25|M>>>7)^(M<<14|M>>>18)^M>>>3,P=m[z-2],W=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;m[z]=I+m[z-7]+W+m[z-16]}var K=_&N^~_&R,se=S&T^S&A^T&A,ue=(S<<30|S>>>2)^(S<<19|S>>>13)^(S<<10|S>>>22),ee=(_<<26|_>>>6)^(_<<21|_>>>11)^(_<<7|_>>>25),ie=O+ee+K+d[z]+m[z],be=ue+se;O=R,R=N,N=_,_=C+ie|0,C=A,A=T,T=S,S=ie+be|0}y[0]=y[0]+S|0,y[1]=y[1]+T|0,y[2]=y[2]+A|0,y[3]=y[3]+C|0,y[4]=y[4]+_|0,y[5]=y[5]+N|0,y[6]=y[6]+R|0,y[7]=y[7]+O|0},_doFinalize:function(){var x=this._data,b=x.words,y=this._nDataBytes*8,S=x.sigBytes*8;return b[S>>>5]|=128<<24-S%32,b[(S+64>>>9<<4)+14]=n.floor(y/4294967296),b[(S+64>>>9<<4)+15]=y,x.sigBytes=b.length*4,this._process(),this._hash},clone:function(){var x=c.clone.call(this);return x._hash=this._hash.clone(),x}});i.SHA256=c._createHelper(g),i.HmacSHA256=c._createHmacHelper(g)})(Math),t.SHA256})})(vh)),vh.exports}var yh={exports:{}},JD=yh.exports,l4;function ek(){return l4||(l4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),W1())})(JD,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,l=n.algo,c=l.SHA256,f=l.SHA224=c.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var h=c._doFinalize.call(this);return h.sigBytes-=4,h}});n.SHA224=c._createHelper(f),n.HmacSHA224=c._createHmacHelper(f)})(),t.SHA224})})(yh)),yh.exports}var bh={exports:{}},tk=bh.exports,o4;function QC(){return o4||(o4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),Zd())})(tk,function(t){return(function(){var n=t,i=n.lib,s=i.Hasher,l=n.x64,c=l.Word,f=l.WordArray,h=n.algo;function d(){return c.create.apply(c,arguments)}var m=[d(1116352408,3609767458),d(1899447441,602891725),d(3049323471,3964484399),d(3921009573,2173295548),d(961987163,4081628472),d(1508970993,3053834265),d(2453635748,2937671579),d(2870763221,3664609560),d(3624381080,2734883394),d(310598401,1164996542),d(607225278,1323610764),d(1426881987,3590304994),d(1925078388,4068182383),d(2162078206,991336113),d(2614888103,633803317),d(3248222580,3479774868),d(3835390401,2666613458),d(4022224774,944711139),d(264347078,2341262773),d(604807628,2007800933),d(770255983,1495990901),d(1249150122,1856431235),d(1555081692,3175218132),d(1996064986,2198950837),d(2554220882,3999719339),d(2821834349,766784016),d(2952996808,2566594879),d(3210313671,3203337956),d(3336571891,1034457026),d(3584528711,2466948901),d(113926993,3758326383),d(338241895,168717936),d(666307205,1188179964),d(773529912,1546045734),d(1294757372,1522805485),d(1396182291,2643833823),d(1695183700,2343527390),d(1986661051,1014477480),d(2177026350,1206759142),d(2456956037,344077627),d(2730485921,1290863460),d(2820302411,3158454273),d(3259730800,3505952657),d(3345764771,106217008),d(3516065817,3606008344),d(3600352804,1432725776),d(4094571909,1467031594),d(275423344,851169720),d(430227734,3100823752),d(506948616,1363258195),d(659060556,3750685593),d(883997877,3785050280),d(958139571,3318307427),d(1322822218,3812723403),d(1537002063,2003034995),d(1747873779,3602036899),d(1955562222,1575990012),d(2024104815,1125592928),d(2227730452,2716904306),d(2361852424,442776044),d(2428436474,593698344),d(2756734187,3733110249),d(3204031479,2999351573),d(3329325298,3815920427),d(3391569614,3928383900),d(3515267271,566280711),d(3940187606,3454069534),d(4118630271,4000239992),d(116418474,1914138554),d(174292421,2731055270),d(289380356,3203993006),d(460393269,320620315),d(685471733,587496836),d(852142971,1086792851),d(1017036298,365543100),d(1126000580,2618297676),d(1288033470,3409855158),d(1501505948,4234509866),d(1607167915,987167468),d(1816402316,1246189591)],g=[];(function(){for(var b=0;b<80;b++)g[b]=d()})();var x=h.SHA512=s.extend({_doReset:function(){this._hash=new f.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(b,y){for(var S=this._hash.words,T=S[0],A=S[1],C=S[2],_=S[3],N=S[4],R=S[5],O=S[6],z=S[7],M=T.high,I=T.low,P=A.high,W=A.low,K=C.high,se=C.low,ue=_.high,ee=_.low,ie=N.high,be=N.low,Ee=R.high,ke=R.low,j=O.high,D=O.low,L=z.high,B=z.low,U=M,Z=I,le=P,re=W,ve=K,pe=se,Je=ue,Xe=ee,ct=ie,We=be,Fe=Ee,je=ke,Oe=j,$e=D,lt=L,mt=B,Mt=0;Mt<80;Mt++){var Ht,Cr,bt=g[Mt];if(Mt<16)Cr=bt.high=b[y+Mt*2]|0,Ht=bt.low=b[y+Mt*2+1]|0;else{var Gn=g[Mt-15],zr=Gn.high,vr=Gn.low,sr=(zr>>>1|vr<<31)^(zr>>>8|vr<<24)^zr>>>7,Dn=(vr>>>1|zr<<31)^(vr>>>8|zr<<24)^(vr>>>7|zr<<25),Xn=g[Mt-2],hr=Xn.high,vn=Xn.low,kn=(hr>>>19|vn<<13)^(hr<<3|vn>>>29)^hr>>>6,dr=(vn>>>19|hr<<13)^(vn<<3|hr>>>29)^(vn>>>6|hr<<26),fr=g[Mt-7],ur=fr.high,Ki=fr.low,Yn=g[Mt-16],$i=Yn.high,On=Yn.low;Ht=Dn+Ki,Cr=sr+ur+(Ht>>>0<Dn>>>0?1:0),Ht=Ht+dr,Cr=Cr+kn+(Ht>>>0<dr>>>0?1:0),Ht=Ht+On,Cr=Cr+$i+(Ht>>>0<On>>>0?1:0),bt.high=Cr,bt.low=Ht}var ui=ct&Fe^~ct&Oe,Ut=We&je^~We&$e,Rt=U&le^U&ve^le&ve,ar=Z&re^Z&pe^re&pe,ge=(U>>>28|Z<<4)^(U<<30|Z>>>2)^(U<<25|Z>>>7),Me=(Z>>>28|U<<4)^(Z<<30|U>>>2)^(Z<<25|U>>>7),Ne=(ct>>>14|We<<18)^(ct>>>18|We<<14)^(ct<<23|We>>>9),et=(We>>>14|ct<<18)^(We>>>18|ct<<14)^(We<<23|ct>>>9),Ye=m[Mt],rt=Ye.high,at=Ye.low,st=mt+et,At=lt+Ne+(st>>>0<mt>>>0?1:0),st=st+Ut,At=At+ui+(st>>>0<Ut>>>0?1:0),st=st+at,At=At+rt+(st>>>0<at>>>0?1:0),st=st+Ht,At=At+Cr+(st>>>0<Ht>>>0?1:0),yr=Me+ar,Ar=ge+Rt+(yr>>>0<Me>>>0?1:0);lt=Oe,mt=$e,Oe=Fe,$e=je,Fe=ct,je=We,We=Xe+st|0,ct=Je+At+(We>>>0<Xe>>>0?1:0)|0,Je=ve,Xe=pe,ve=le,pe=re,le=U,re=Z,Z=st+yr|0,U=At+Ar+(Z>>>0<st>>>0?1:0)|0}I=T.low=I+Z,T.high=M+U+(I>>>0<Z>>>0?1:0),W=A.low=W+re,A.high=P+le+(W>>>0<re>>>0?1:0),se=C.low=se+pe,C.high=K+ve+(se>>>0<pe>>>0?1:0),ee=_.low=ee+Xe,_.high=ue+Je+(ee>>>0<Xe>>>0?1:0),be=N.low=be+We,N.high=ie+ct+(be>>>0<We>>>0?1:0),ke=R.low=ke+je,R.high=Ee+Fe+(ke>>>0<je>>>0?1:0),D=O.low=D+$e,O.high=j+Oe+(D>>>0<$e>>>0?1:0),B=z.low=B+mt,z.high=L+lt+(B>>>0<mt>>>0?1:0)},_doFinalize:function(){var b=this._data,y=b.words,S=this._nDataBytes*8,T=b.sigBytes*8;y[T>>>5]|=128<<24-T%32,y[(T+128>>>10<<5)+30]=Math.floor(S/4294967296),y[(T+128>>>10<<5)+31]=S,b.sigBytes=y.length*4,this._process();var A=this._hash.toX32();return A},clone:function(){var b=s.clone.call(this);return b._hash=this._hash.clone(),b},blockSize:1024/32});n.SHA512=s._createHelper(x),n.HmacSHA512=s._createHmacHelper(x)})(),t.SHA512})})(bh)),bh.exports}var wh={exports:{}},rk=wh.exports,c4;function nk(){return c4||(c4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),Zd(),QC())})(rk,function(t){return(function(){var n=t,i=n.x64,s=i.Word,l=i.WordArray,c=n.algo,f=c.SHA512,h=c.SHA384=f.extend({_doReset:function(){this._hash=new l.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var d=f._doFinalize.call(this);return d.sigBytes-=16,d}});n.SHA384=f._createHelper(h),n.HmacSHA384=f._createHmacHelper(h)})(),t.SHA384})})(wh)),wh.exports}var Sh={exports:{}},ik=Sh.exports,f4;function sk(){return f4||(f4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),Zd())})(ik,function(t){return(function(n){var i=t,s=i.lib,l=s.WordArray,c=s.Hasher,f=i.x64,h=f.Word,d=i.algo,m=[],g=[],x=[];(function(){for(var S=1,T=0,A=0;A<24;A++){m[S+5*T]=(A+1)*(A+2)/2%64;var C=T%5,_=(2*S+3*T)%5;S=C,T=_}for(var S=0;S<5;S++)for(var T=0;T<5;T++)g[S+5*T]=T+(2*S+3*T)%5*5;for(var N=1,R=0;R<24;R++){for(var O=0,z=0,M=0;M<7;M++){if(N&1){var I=(1<<M)-1;I<32?z^=1<<I:O^=1<<I-32}N&128?N=N<<1^113:N<<=1}x[R]=h.create(O,z)}})();var b=[];(function(){for(var S=0;S<25;S++)b[S]=h.create()})();var y=d.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var S=this._state=[],T=0;T<25;T++)S[T]=new h.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(S,T){for(var A=this._state,C=this.blockSize/2,_=0;_<C;_++){var N=S[T+2*_],R=S[T+2*_+1];N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360;var O=A[_];O.high^=R,O.low^=N}for(var z=0;z<24;z++){for(var M=0;M<5;M++){for(var I=0,P=0,W=0;W<5;W++){var O=A[M+5*W];I^=O.high,P^=O.low}var K=b[M];K.high=I,K.low=P}for(var M=0;M<5;M++)for(var se=b[(M+4)%5],ue=b[(M+1)%5],ee=ue.high,ie=ue.low,I=se.high^(ee<<1|ie>>>31),P=se.low^(ie<<1|ee>>>31),W=0;W<5;W++){var O=A[M+5*W];O.high^=I,O.low^=P}for(var be=1;be<25;be++){var I,P,O=A[be],Ee=O.high,ke=O.low,j=m[be];j<32?(I=Ee<<j|ke>>>32-j,P=ke<<j|Ee>>>32-j):(I=ke<<j-32|Ee>>>64-j,P=Ee<<j-32|ke>>>64-j);var D=b[g[be]];D.high=I,D.low=P}var L=b[0],B=A[0];L.high=B.high,L.low=B.low;for(var M=0;M<5;M++)for(var W=0;W<5;W++){var be=M+5*W,O=A[be],U=b[be],Z=b[(M+1)%5+5*W],le=b[(M+2)%5+5*W];O.high=U.high^~Z.high&le.high,O.low=U.low^~Z.low&le.low}var O=A[0],re=x[z];O.high^=re.high,O.low^=re.low}},_doFinalize:function(){var S=this._data,T=S.words;this._nDataBytes*8;var A=S.sigBytes*8,C=this.blockSize*32;T[A>>>5]|=1<<24-A%32,T[(n.ceil((A+1)/C)*C>>>5)-1]|=128,S.sigBytes=T.length*4,this._process();for(var _=this._state,N=this.cfg.outputLength/8,R=N/8,O=[],z=0;z<R;z++){var M=_[z],I=M.high,P=M.low;I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,O.push(P),O.push(I)}return new l.init(O,N)},clone:function(){for(var S=c.clone.call(this),T=S._state=this._state.slice(0),A=0;A<25;A++)T[A]=T[A].clone();return S}});i.SHA3=c._createHelper(y),i.HmacSHA3=c._createHmacHelper(y)})(Math),t.SHA3})})(Sh)),Sh.exports}var Eh={exports:{}},ak=Eh.exports,u4;function lk(){return u4||(u4=1,(function(r,e){(function(t,n){r.exports=n(Ct())})(ak,function(t){return(function(n){var i=t,s=i.lib,l=s.WordArray,c=s.Hasher,f=i.algo,h=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),m=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),x=l.create([0,1518500249,1859775393,2400959708,2840853838]),b=l.create([1352829926,1548603684,1836072691,2053994217,0]),y=f.RIPEMD160=c.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(R,O){for(var z=0;z<16;z++){var M=O+z,I=R[M];R[M]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var P=this._hash.words,W=x.words,K=b.words,se=h.words,ue=d.words,ee=m.words,ie=g.words,be,Ee,ke,j,D,L,B,U,Z,le;L=be=P[0],B=Ee=P[1],U=ke=P[2],Z=j=P[3],le=D=P[4];for(var re,z=0;z<80;z+=1)re=be+R[O+se[z]]|0,z<16?re+=S(Ee,ke,j)+W[0]:z<32?re+=T(Ee,ke,j)+W[1]:z<48?re+=A(Ee,ke,j)+W[2]:z<64?re+=C(Ee,ke,j)+W[3]:re+=_(Ee,ke,j)+W[4],re=re|0,re=N(re,ee[z]),re=re+D|0,be=D,D=j,j=N(ke,10),ke=Ee,Ee=re,re=L+R[O+ue[z]]|0,z<16?re+=_(B,U,Z)+K[0]:z<32?re+=C(B,U,Z)+K[1]:z<48?re+=A(B,U,Z)+K[2]:z<64?re+=T(B,U,Z)+K[3]:re+=S(B,U,Z)+K[4],re=re|0,re=N(re,ie[z]),re=re+le|0,L=le,le=Z,Z=N(U,10),U=B,B=re;re=P[1]+ke+Z|0,P[1]=P[2]+j+le|0,P[2]=P[3]+D+L|0,P[3]=P[4]+be+B|0,P[4]=P[0]+Ee+U|0,P[0]=re},_doFinalize:function(){var R=this._data,O=R.words,z=this._nDataBytes*8,M=R.sigBytes*8;O[M>>>5]|=128<<24-M%32,O[(M+64>>>9<<4)+14]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,R.sigBytes=(O.length+1)*4,this._process();for(var I=this._hash,P=I.words,W=0;W<5;W++){var K=P[W];P[W]=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360}return I},clone:function(){var R=c.clone.call(this);return R._hash=this._hash.clone(),R}});function S(R,O,z){return R^O^z}function T(R,O,z){return R&O|~R&z}function A(R,O,z){return(R|~O)^z}function C(R,O,z){return R&z|O&~z}function _(R,O,z){return R^(O|~z)}function N(R,O){return R<<O|R>>>32-O}i.RIPEMD160=c._createHelper(y),i.HmacRIPEMD160=c._createHmacHelper(y)})(),t.RIPEMD160})})(Eh)),Eh.exports}var Ch={exports:{}},ok=Ch.exports,h4;function G1(){return h4||(h4=1,(function(r,e){(function(t,n){r.exports=n(Ct())})(ok,function(t){(function(){var n=t,i=n.lib,s=i.Base,l=n.enc,c=l.Utf8,f=n.algo;f.HMAC=s.extend({init:function(h,d){h=this._hasher=new h.init,typeof d=="string"&&(d=c.parse(d));var m=h.blockSize,g=m*4;d.sigBytes>g&&(d=h.finalize(d)),d.clamp();for(var x=this._oKey=d.clone(),b=this._iKey=d.clone(),y=x.words,S=b.words,T=0;T<m;T++)y[T]^=1549556828,S[T]^=909522486;x.sigBytes=b.sigBytes=g,this.reset()},reset:function(){var h=this._hasher;h.reset(),h.update(this._iKey)},update:function(h){return this._hasher.update(h),this},finalize:function(h){var d=this._hasher,m=d.finalize(h);d.reset();var g=d.finalize(this._oKey.clone().concat(m));return g}})})()})})(Ch)),Ch.exports}var Ah={exports:{}},ck=Ah.exports,d4;function fk(){return d4||(d4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),W1(),G1())})(ck,function(t){return(function(){var n=t,i=n.lib,s=i.Base,l=i.WordArray,c=n.algo,f=c.SHA256,h=c.HMAC,d=c.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:f,iterations:25e4}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,g){for(var x=this.cfg,b=h.create(x.hasher,m),y=l.create(),S=l.create([1]),T=y.words,A=S.words,C=x.keySize,_=x.iterations;T.length<C;){var N=b.update(g).finalize(S);b.reset();for(var R=N.words,O=R.length,z=N,M=1;M<_;M++){z=b.finalize(z),b.reset();for(var I=z.words,P=0;P<O;P++)R[P]^=I[P]}y.concat(N),A[0]++}return y.sigBytes=C*4,y}});n.PBKDF2=function(m,g,x){return d.create(x).compute(m,g)}})(),t.PBKDF2})})(Ah)),Ah.exports}var Th={exports:{}},uk=Th.exports,p4;function Ha(){return p4||(p4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),$C(),G1())})(uk,function(t){return(function(){var n=t,i=n.lib,s=i.Base,l=i.WordArray,c=n.algo,f=c.MD5,h=c.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:f,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,m){for(var g,x=this.cfg,b=x.hasher.create(),y=l.create(),S=y.words,T=x.keySize,A=x.iterations;S.length<T;){g&&b.update(g),g=b.update(d).finalize(m),b.reset();for(var C=1;C<A;C++)g=b.finalize(g),b.reset();y.concat(g)}return y.sigBytes=T*4,y}});n.EvpKDF=function(d,m,g){return h.create(g).compute(d,m)}})(),t.EvpKDF})})(Th)),Th.exports}var _h={exports:{}},hk=_h.exports,m4;function Kr(){return m4||(m4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),Ha())})(hk,function(t){t.lib.Cipher||(function(n){var i=t,s=i.lib,l=s.Base,c=s.WordArray,f=s.BufferedBlockAlgorithm,h=i.enc;h.Utf8;var d=h.Base64,m=i.algo,g=m.EvpKDF,x=s.Cipher=f.extend({cfg:l.extend(),createEncryptor:function(I,P){return this.create(this._ENC_XFORM_MODE,I,P)},createDecryptor:function(I,P){return this.create(this._DEC_XFORM_MODE,I,P)},init:function(I,P,W){this.cfg=this.cfg.extend(W),this._xformMode=I,this._key=P,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(I){return this._append(I),this._process()},finalize:function(I){I&&this._append(I);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function I(P){return typeof P=="string"?M:R}return function(P){return{encrypt:function(W,K,se){return I(K).encrypt(P,W,K,se)},decrypt:function(W,K,se){return I(K).decrypt(P,W,K,se)}}}})()});s.StreamCipher=x.extend({_doFinalize:function(){var I=this._process(!0);return I},blockSize:1});var b=i.mode={},y=s.BlockCipherMode=l.extend({createEncryptor:function(I,P){return this.Encryptor.create(I,P)},createDecryptor:function(I,P){return this.Decryptor.create(I,P)},init:function(I,P){this._cipher=I,this._iv=P}}),S=b.CBC=(function(){var I=y.extend();I.Encryptor=I.extend({processBlock:function(W,K){var se=this._cipher,ue=se.blockSize;P.call(this,W,K,ue),se.encryptBlock(W,K),this._prevBlock=W.slice(K,K+ue)}}),I.Decryptor=I.extend({processBlock:function(W,K){var se=this._cipher,ue=se.blockSize,ee=W.slice(K,K+ue);se.decryptBlock(W,K),P.call(this,W,K,ue),this._prevBlock=ee}});function P(W,K,se){var ue,ee=this._iv;ee?(ue=ee,this._iv=n):ue=this._prevBlock;for(var ie=0;ie<se;ie++)W[K+ie]^=ue[ie]}return I})(),T=i.pad={},A=T.Pkcs7={pad:function(I,P){for(var W=P*4,K=W-I.sigBytes%W,se=K<<24|K<<16|K<<8|K,ue=[],ee=0;ee<K;ee+=4)ue.push(se);var ie=c.create(ue,K);I.concat(ie)},unpad:function(I){var P=I.words[I.sigBytes-1>>>2]&255;I.sigBytes-=P}};s.BlockCipher=x.extend({cfg:x.cfg.extend({mode:S,padding:A}),reset:function(){var I;x.reset.call(this);var P=this.cfg,W=P.iv,K=P.mode;this._xformMode==this._ENC_XFORM_MODE?I=K.createEncryptor:(I=K.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==I?this._mode.init(this,W&&W.words):(this._mode=I.call(K,this,W&&W.words),this._mode.__creator=I)},_doProcessBlock:function(I,P){this._mode.processBlock(I,P)},_doFinalize:function(){var I,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),I=this._process(!0)):(I=this._process(!0),P.unpad(I)),I},blockSize:128/32});var C=s.CipherParams=l.extend({init:function(I){this.mixIn(I)},toString:function(I){return(I||this.formatter).stringify(this)}}),_=i.format={},N=_.OpenSSL={stringify:function(I){var P,W=I.ciphertext,K=I.salt;return K?P=c.create([1398893684,1701076831]).concat(K).concat(W):P=W,P.toString(d)},parse:function(I){var P,W=d.parse(I),K=W.words;return K[0]==1398893684&&K[1]==1701076831&&(P=c.create(K.slice(2,4)),K.splice(0,4),W.sigBytes-=16),C.create({ciphertext:W,salt:P})}},R=s.SerializableCipher=l.extend({cfg:l.extend({format:N}),encrypt:function(I,P,W,K){K=this.cfg.extend(K);var se=I.createEncryptor(W,K),ue=se.finalize(P),ee=se.cfg;return C.create({ciphertext:ue,key:W,iv:ee.iv,algorithm:I,mode:ee.mode,padding:ee.padding,blockSize:I.blockSize,formatter:K.format})},decrypt:function(I,P,W,K){K=this.cfg.extend(K),P=this._parse(P,K.format);var se=I.createDecryptor(W,K).finalize(P.ciphertext);return se},_parse:function(I,P){return typeof I=="string"?P.parse(I,this):I}}),O=i.kdf={},z=O.OpenSSL={execute:function(I,P,W,K,se){if(K||(K=c.random(64/8)),se)var ue=g.create({keySize:P+W,hasher:se}).compute(I,K);else var ue=g.create({keySize:P+W}).compute(I,K);var ee=c.create(ue.words.slice(P),W*4);return ue.sigBytes=P*4,C.create({key:ue,iv:ee,salt:K})}},M=s.PasswordBasedCipher=R.extend({cfg:R.cfg.extend({kdf:z}),encrypt:function(I,P,W,K){K=this.cfg.extend(K);var se=K.kdf.execute(W,I.keySize,I.ivSize,K.salt,K.hasher);K.iv=se.iv;var ue=R.encrypt.call(this,I,P,se.key,K);return ue.mixIn(se),ue},decrypt:function(I,P,W,K){K=this.cfg.extend(K),P=this._parse(P,K.format);var se=K.kdf.execute(W,I.keySize,I.ivSize,P.salt,K.hasher);K.iv=se.iv;var ue=R.decrypt.call(this,I,P,se.key,K);return ue}})})()})})(_h)),_h.exports}var Dh={exports:{}},dk=Dh.exports,g4;function pk(){return g4||(g4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),Kr())})(dk,function(t){return t.mode.CFB=(function(){var n=t.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(s,l){var c=this._cipher,f=c.blockSize;i.call(this,s,l,f,c),this._prevBlock=s.slice(l,l+f)}}),n.Decryptor=n.extend({processBlock:function(s,l){var c=this._cipher,f=c.blockSize,h=s.slice(l,l+f);i.call(this,s,l,f,c),this._prevBlock=h}});function i(s,l,c,f){var h,d=this._iv;d?(h=d.slice(0),this._iv=void 0):h=this._prevBlock,f.encryptBlock(h,0);for(var m=0;m<c;m++)s[l+m]^=h[m]}return n})(),t.mode.CFB})})(Dh)),Dh.exports}var kh={exports:{}},mk=kh.exports,x4;function gk(){return x4||(x4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),Kr())})(mk,function(t){return t.mode.CTR=(function(){var n=t.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,l){var c=this._cipher,f=c.blockSize,h=this._iv,d=this._counter;h&&(d=this._counter=h.slice(0),this._iv=void 0);var m=d.slice(0);c.encryptBlock(m,0),d[f-1]=d[f-1]+1|0;for(var g=0;g<f;g++)s[l+g]^=m[g]}});return n.Decryptor=i,n})(),t.mode.CTR})})(kh)),kh.exports}var Oh={exports:{}},xk=Oh.exports,v4;function vk(){return v4||(v4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),Kr())})(xk,function(t){return t.mode.CTRGladman=(function(){var n=t.lib.BlockCipherMode.extend();function i(c){if((c>>24&255)===255){var f=c>>16&255,h=c>>8&255,d=c&255;f===255?(f=0,h===255?(h=0,d===255?d=0:++d):++h):++f,c=0,c+=f<<16,c+=h<<8,c+=d}else c+=1<<24;return c}function s(c){return(c[0]=i(c[0]))===0&&(c[1]=i(c[1])),c}var l=n.Encryptor=n.extend({processBlock:function(c,f){var h=this._cipher,d=h.blockSize,m=this._iv,g=this._counter;m&&(g=this._counter=m.slice(0),this._iv=void 0),s(g);var x=g.slice(0);h.encryptBlock(x,0);for(var b=0;b<d;b++)c[f+b]^=x[b]}});return n.Decryptor=l,n})(),t.mode.CTRGladman})})(Oh)),Oh.exports}var Bh={exports:{}},yk=Bh.exports,y4;function bk(){return y4||(y4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),Kr())})(yk,function(t){return t.mode.OFB=(function(){var n=t.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,l){var c=this._cipher,f=c.blockSize,h=this._iv,d=this._keystream;h&&(d=this._keystream=h.slice(0),this._iv=void 0),c.encryptBlock(d,0);for(var m=0;m<f;m++)s[l+m]^=d[m]}});return n.Decryptor=i,n})(),t.mode.OFB})})(Bh)),Bh.exports}var Nh={exports:{}},wk=Nh.exports,b4;function Sk(){return b4||(b4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),Kr())})(wk,function(t){return t.mode.ECB=(function(){var n=t.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),n.Decryptor=n.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),n})(),t.mode.ECB})})(Nh)),Nh.exports}var Rh={exports:{}},Ek=Rh.exports,w4;function Ck(){return w4||(w4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),Kr())})(Ek,function(t){return t.pad.AnsiX923={pad:function(n,i){var s=n.sigBytes,l=i*4,c=l-s%l,f=s+c-1;n.clamp(),n.words[f>>>2]|=c<<24-f%4*8,n.sigBytes+=c},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},t.pad.Ansix923})})(Rh)),Rh.exports}var Mh={exports:{}},Ak=Mh.exports,S4;function Tk(){return S4||(S4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),Kr())})(Ak,function(t){return t.pad.Iso10126={pad:function(n,i){var s=i*4,l=s-n.sigBytes%s;n.concat(t.lib.WordArray.random(l-1)).concat(t.lib.WordArray.create([l<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},t.pad.Iso10126})})(Mh)),Mh.exports}var Fh={exports:{}},_k=Fh.exports,E4;function Dk(){return E4||(E4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),Kr())})(_k,function(t){return t.pad.Iso97971={pad:function(n,i){n.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(n,i)},unpad:function(n){t.pad.ZeroPadding.unpad(n),n.sigBytes--}},t.pad.Iso97971})})(Fh)),Fh.exports}var Lh={exports:{}},kk=Lh.exports,C4;function Ok(){return C4||(C4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),Kr())})(kk,function(t){return t.pad.ZeroPadding={pad:function(n,i){var s=i*4;n.clamp(),n.sigBytes+=s-(n.sigBytes%s||s)},unpad:function(n){for(var i=n.words,s=n.sigBytes-1,s=n.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){n.sigBytes=s+1;break}}},t.pad.ZeroPadding})})(Lh)),Lh.exports}var Ih={exports:{}},Bk=Ih.exports,A4;function Nk(){return A4||(A4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),Kr())})(Bk,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})})(Ih)),Ih.exports}var Ph={exports:{}},Rk=Ph.exports,T4;function Mk(){return T4||(T4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),Kr())})(Rk,function(t){return(function(n){var i=t,s=i.lib,l=s.CipherParams,c=i.enc,f=c.Hex,h=i.format;h.Hex={stringify:function(d){return d.ciphertext.toString(f)},parse:function(d){var m=f.parse(d);return l.create({ciphertext:m})}}})(),t.format.Hex})})(Ph)),Ph.exports}var jh={exports:{}},Fk=jh.exports,_4;function Lk(){return _4||(_4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),kl(),Ol(),Ha(),Kr())})(Fk,function(t){return(function(){var n=t,i=n.lib,s=i.BlockCipher,l=n.algo,c=[],f=[],h=[],d=[],m=[],g=[],x=[],b=[],y=[],S=[];(function(){for(var C=[],_=0;_<256;_++)_<128?C[_]=_<<1:C[_]=_<<1^283;for(var N=0,R=0,_=0;_<256;_++){var O=R^R<<1^R<<2^R<<3^R<<4;O=O>>>8^O&255^99,c[N]=O,f[O]=N;var z=C[N],M=C[z],I=C[M],P=C[O]*257^O*16843008;h[N]=P<<24|P>>>8,d[N]=P<<16|P>>>16,m[N]=P<<8|P>>>24,g[N]=P;var P=I*16843009^M*65537^z*257^N*16843008;x[O]=P<<24|P>>>8,b[O]=P<<16|P>>>16,y[O]=P<<8|P>>>24,S[O]=P,N?(N=z^C[C[C[I^z]]],R^=C[C[R]]):N=R=1}})();var T=[0,1,2,4,8,16,32,64,128,27,54],A=l.AES=s.extend({_doReset:function(){var C;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var _=this._keyPriorReset=this._key,N=_.words,R=_.sigBytes/4,O=this._nRounds=R+6,z=(O+1)*4,M=this._keySchedule=[],I=0;I<z;I++)I<R?M[I]=N[I]:(C=M[I-1],I%R?R>6&&I%R==4&&(C=c[C>>>24]<<24|c[C>>>16&255]<<16|c[C>>>8&255]<<8|c[C&255]):(C=C<<8|C>>>24,C=c[C>>>24]<<24|c[C>>>16&255]<<16|c[C>>>8&255]<<8|c[C&255],C^=T[I/R|0]<<24),M[I]=M[I-R]^C);for(var P=this._invKeySchedule=[],W=0;W<z;W++){var I=z-W;if(W%4)var C=M[I];else var C=M[I-4];W<4||I<=4?P[W]=C:P[W]=x[c[C>>>24]]^b[c[C>>>16&255]]^y[c[C>>>8&255]]^S[c[C&255]]}}},encryptBlock:function(C,_){this._doCryptBlock(C,_,this._keySchedule,h,d,m,g,c)},decryptBlock:function(C,_){var N=C[_+1];C[_+1]=C[_+3],C[_+3]=N,this._doCryptBlock(C,_,this._invKeySchedule,x,b,y,S,f);var N=C[_+1];C[_+1]=C[_+3],C[_+3]=N},_doCryptBlock:function(C,_,N,R,O,z,M,I){for(var P=this._nRounds,W=C[_]^N[0],K=C[_+1]^N[1],se=C[_+2]^N[2],ue=C[_+3]^N[3],ee=4,ie=1;ie<P;ie++){var be=R[W>>>24]^O[K>>>16&255]^z[se>>>8&255]^M[ue&255]^N[ee++],Ee=R[K>>>24]^O[se>>>16&255]^z[ue>>>8&255]^M[W&255]^N[ee++],ke=R[se>>>24]^O[ue>>>16&255]^z[W>>>8&255]^M[K&255]^N[ee++],j=R[ue>>>24]^O[W>>>16&255]^z[K>>>8&255]^M[se&255]^N[ee++];W=be,K=Ee,se=ke,ue=j}var be=(I[W>>>24]<<24|I[K>>>16&255]<<16|I[se>>>8&255]<<8|I[ue&255])^N[ee++],Ee=(I[K>>>24]<<24|I[se>>>16&255]<<16|I[ue>>>8&255]<<8|I[W&255])^N[ee++],ke=(I[se>>>24]<<24|I[ue>>>16&255]<<16|I[W>>>8&255]<<8|I[K&255])^N[ee++],j=(I[ue>>>24]<<24|I[W>>>16&255]<<16|I[K>>>8&255]<<8|I[se&255])^N[ee++];C[_]=be,C[_+1]=Ee,C[_+2]=ke,C[_+3]=j},keySize:256/32});n.AES=s._createHelper(A)})(),t.AES})})(jh)),jh.exports}var zh={exports:{}},Ik=zh.exports,D4;function Pk(){return D4||(D4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),kl(),Ol(),Ha(),Kr())})(Ik,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,l=i.BlockCipher,c=n.algo,f=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],d=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],m=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],g=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],x=c.DES=l.extend({_doReset:function(){for(var T=this._key,A=T.words,C=[],_=0;_<56;_++){var N=f[_]-1;C[_]=A[N>>>5]>>>31-N%32&1}for(var R=this._subKeys=[],O=0;O<16;O++){for(var z=R[O]=[],M=d[O],_=0;_<24;_++)z[_/6|0]|=C[(h[_]-1+M)%28]<<31-_%6,z[4+(_/6|0)]|=C[28+(h[_+24]-1+M)%28]<<31-_%6;z[0]=z[0]<<1|z[0]>>>31;for(var _=1;_<7;_++)z[_]=z[_]>>>(_-1)*4+3;z[7]=z[7]<<5|z[7]>>>27}for(var I=this._invSubKeys=[],_=0;_<16;_++)I[_]=R[15-_]},encryptBlock:function(T,A){this._doCryptBlock(T,A,this._subKeys)},decryptBlock:function(T,A){this._doCryptBlock(T,A,this._invSubKeys)},_doCryptBlock:function(T,A,C){this._lBlock=T[A],this._rBlock=T[A+1],b.call(this,4,252645135),b.call(this,16,65535),y.call(this,2,858993459),y.call(this,8,16711935),b.call(this,1,1431655765);for(var _=0;_<16;_++){for(var N=C[_],R=this._lBlock,O=this._rBlock,z=0,M=0;M<8;M++)z|=m[M][((O^N[M])&g[M])>>>0];this._lBlock=O,this._rBlock=R^z}var I=this._lBlock;this._lBlock=this._rBlock,this._rBlock=I,b.call(this,1,1431655765),y.call(this,8,16711935),y.call(this,2,858993459),b.call(this,16,65535),b.call(this,4,252645135),T[A]=this._lBlock,T[A+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function b(T,A){var C=(this._lBlock>>>T^this._rBlock)&A;this._rBlock^=C,this._lBlock^=C<<T}function y(T,A){var C=(this._rBlock>>>T^this._lBlock)&A;this._lBlock^=C,this._rBlock^=C<<T}n.DES=l._createHelper(x);var S=c.TripleDES=l.extend({_doReset:function(){var T=this._key,A=T.words;if(A.length!==2&&A.length!==4&&A.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var C=A.slice(0,2),_=A.length<4?A.slice(0,2):A.slice(2,4),N=A.length<6?A.slice(0,2):A.slice(4,6);this._des1=x.createEncryptor(s.create(C)),this._des2=x.createEncryptor(s.create(_)),this._des3=x.createEncryptor(s.create(N))},encryptBlock:function(T,A){this._des1.encryptBlock(T,A),this._des2.decryptBlock(T,A),this._des3.encryptBlock(T,A)},decryptBlock:function(T,A){this._des3.decryptBlock(T,A),this._des2.encryptBlock(T,A),this._des1.decryptBlock(T,A)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=l._createHelper(S)})(),t.TripleDES})})(zh)),zh.exports}var Hh={exports:{}},jk=Hh.exports,k4;function zk(){return k4||(k4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),kl(),Ol(),Ha(),Kr())})(jk,function(t){return(function(){var n=t,i=n.lib,s=i.StreamCipher,l=n.algo,c=l.RC4=s.extend({_doReset:function(){for(var d=this._key,m=d.words,g=d.sigBytes,x=this._S=[],b=0;b<256;b++)x[b]=b;for(var b=0,y=0;b<256;b++){var S=b%g,T=m[S>>>2]>>>24-S%4*8&255;y=(y+x[b]+T)%256;var A=x[b];x[b]=x[y],x[y]=A}this._i=this._j=0},_doProcessBlock:function(d,m){d[m]^=f.call(this)},keySize:256/32,ivSize:0});function f(){for(var d=this._S,m=this._i,g=this._j,x=0,b=0;b<4;b++){m=(m+1)%256,g=(g+d[m])%256;var y=d[m];d[m]=d[g],d[g]=y,x|=d[(d[m]+d[g])%256]<<24-b*8}return this._i=m,this._j=g,x}n.RC4=s._createHelper(c);var h=l.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var d=this.cfg.drop;d>0;d--)f.call(this)}});n.RC4Drop=s._createHelper(h)})(),t.RC4})})(Hh)),Hh.exports}var Uh={exports:{}},Hk=Uh.exports,O4;function Uk(){return O4||(O4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),kl(),Ol(),Ha(),Kr())})(Hk,function(t){return(function(){var n=t,i=n.lib,s=i.StreamCipher,l=n.algo,c=[],f=[],h=[],d=l.Rabbit=s.extend({_doReset:function(){for(var g=this._key.words,x=this.cfg.iv,b=0;b<4;b++)g[b]=(g[b]<<8|g[b]>>>24)&16711935|(g[b]<<24|g[b]>>>8)&4278255360;var y=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],S=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var b=0;b<4;b++)m.call(this);for(var b=0;b<8;b++)S[b]^=y[b+4&7];if(x){var T=x.words,A=T[0],C=T[1],_=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,N=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,R=_>>>16|N&4294901760,O=N<<16|_&65535;S[0]^=_,S[1]^=R,S[2]^=N,S[3]^=O,S[4]^=_,S[5]^=R,S[6]^=N,S[7]^=O;for(var b=0;b<4;b++)m.call(this)}},_doProcessBlock:function(g,x){var b=this._X;m.call(this),c[0]=b[0]^b[5]>>>16^b[3]<<16,c[1]=b[2]^b[7]>>>16^b[5]<<16,c[2]=b[4]^b[1]>>>16^b[7]<<16,c[3]=b[6]^b[3]>>>16^b[1]<<16;for(var y=0;y<4;y++)c[y]=(c[y]<<8|c[y]>>>24)&16711935|(c[y]<<24|c[y]>>>8)&4278255360,g[x+y]^=c[y]},blockSize:128/32,ivSize:64/32});function m(){for(var g=this._X,x=this._C,b=0;b<8;b++)f[b]=x[b];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<f[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<f[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<f[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<f[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<f[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<f[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<f[6]>>>0?1:0)|0,this._b=x[7]>>>0<f[7]>>>0?1:0;for(var b=0;b<8;b++){var y=g[b]+x[b],S=y&65535,T=y>>>16,A=((S*S>>>17)+S*T>>>15)+T*T,C=((y&4294901760)*y|0)+((y&65535)*y|0);h[b]=A^C}g[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,g[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,g[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,g[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,g[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,g[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,g[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,g[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}n.Rabbit=s._createHelper(d)})(),t.Rabbit})})(Uh)),Uh.exports}var Vh={exports:{}},Vk=Vh.exports,B4;function qk(){return B4||(B4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),kl(),Ol(),Ha(),Kr())})(Vk,function(t){return(function(){var n=t,i=n.lib,s=i.StreamCipher,l=n.algo,c=[],f=[],h=[],d=l.RabbitLegacy=s.extend({_doReset:function(){var g=this._key.words,x=this.cfg.iv,b=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],y=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var S=0;S<4;S++)m.call(this);for(var S=0;S<8;S++)y[S]^=b[S+4&7];if(x){var T=x.words,A=T[0],C=T[1],_=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,N=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,R=_>>>16|N&4294901760,O=N<<16|_&65535;y[0]^=_,y[1]^=R,y[2]^=N,y[3]^=O,y[4]^=_,y[5]^=R,y[6]^=N,y[7]^=O;for(var S=0;S<4;S++)m.call(this)}},_doProcessBlock:function(g,x){var b=this._X;m.call(this),c[0]=b[0]^b[5]>>>16^b[3]<<16,c[1]=b[2]^b[7]>>>16^b[5]<<16,c[2]=b[4]^b[1]>>>16^b[7]<<16,c[3]=b[6]^b[3]>>>16^b[1]<<16;for(var y=0;y<4;y++)c[y]=(c[y]<<8|c[y]>>>24)&16711935|(c[y]<<24|c[y]>>>8)&4278255360,g[x+y]^=c[y]},blockSize:128/32,ivSize:64/32});function m(){for(var g=this._X,x=this._C,b=0;b<8;b++)f[b]=x[b];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<f[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<f[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<f[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<f[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<f[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<f[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<f[6]>>>0?1:0)|0,this._b=x[7]>>>0<f[7]>>>0?1:0;for(var b=0;b<8;b++){var y=g[b]+x[b],S=y&65535,T=y>>>16,A=((S*S>>>17)+S*T>>>15)+T*T,C=((y&4294901760)*y|0)+((y&65535)*y|0);h[b]=A^C}g[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,g[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,g[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,g[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,g[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,g[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,g[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,g[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}n.RabbitLegacy=s._createHelper(d)})(),t.RabbitLegacy})})(Vh)),Vh.exports}var qh={exports:{}},Wk=qh.exports,N4;function Gk(){return N4||(N4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),kl(),Ol(),Ha(),Kr())})(Wk,function(t){return(function(){var n=t,i=n.lib,s=i.BlockCipher,l=n.algo;const c=16,f=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],h=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var d={pbox:[],sbox:[]};function m(S,T){let A=T>>24&255,C=T>>16&255,_=T>>8&255,N=T&255,R=S.sbox[0][A]+S.sbox[1][C];return R=R^S.sbox[2][_],R=R+S.sbox[3][N],R}function g(S,T,A){let C=T,_=A,N;for(let R=0;R<c;++R)C=C^S.pbox[R],_=m(S,C)^_,N=C,C=_,_=N;return N=C,C=_,_=N,_=_^S.pbox[c],C=C^S.pbox[c+1],{left:C,right:_}}function x(S,T,A){let C=T,_=A,N;for(let R=c+1;R>1;--R)C=C^S.pbox[R],_=m(S,C)^_,N=C,C=_,_=N;return N=C,C=_,_=N,_=_^S.pbox[1],C=C^S.pbox[0],{left:C,right:_}}function b(S,T,A){for(let O=0;O<4;O++){S.sbox[O]=[];for(let z=0;z<256;z++)S.sbox[O][z]=h[O][z]}let C=0;for(let O=0;O<c+2;O++)S.pbox[O]=f[O]^T[C],C++,C>=A&&(C=0);let _=0,N=0,R=0;for(let O=0;O<c+2;O+=2)R=g(S,_,N),_=R.left,N=R.right,S.pbox[O]=_,S.pbox[O+1]=N;for(let O=0;O<4;O++)for(let z=0;z<256;z+=2)R=g(S,_,N),_=R.left,N=R.right,S.sbox[O][z]=_,S.sbox[O][z+1]=N;return!0}var y=l.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var S=this._keyPriorReset=this._key,T=S.words,A=S.sigBytes/4;b(d,T,A)}},encryptBlock:function(S,T){var A=g(d,S[T],S[T+1]);S[T]=A.left,S[T+1]=A.right},decryptBlock:function(S,T){var A=x(d,S[T],S[T+1]);S[T]=A.left,S[T+1]=A.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=s._createHelper(y)})(),t.Blowfish})})(qh)),qh.exports}var Xk=ch.exports,R4;function Yk(){return R4||(R4=1,(function(r,e){(function(t,n,i){r.exports=n(Ct(),Zd(),qD(),GD(),kl(),KD(),Ol(),$C(),W1(),ek(),QC(),nk(),sk(),lk(),G1(),fk(),Ha(),Kr(),pk(),gk(),vk(),bk(),Sk(),Ck(),Tk(),Dk(),Ok(),Nk(),Mk(),Lk(),Pk(),zk(),Uk(),qk(),Gk())})(Xk,function(t){return t})})(ch)),ch.exports}var Kk=Yk();const jg=V1(Kk),M4="hap-query-report-secret-key",$k=[{id:"default_hml",connectionName:"Homologao",user:"c_stenio",password:"U2FsdGVkX1+diVLEnj1jZvw5sxormGTsBtESRfh/6qI=",connectString:"U2FsdGVkX19U80G4qXgfVWspNeUM1/u7eLMDucd94oLGmVlBl5jIXGEAgUHAR5qUKaQVNtBWZ215IVNQ7BcUmg==",isDefault:!0},{id:"default_prod",connectionName:"Produo",user:"c_stenio",password:"U2FsdGVkX18wBXPCBeTyxr4YfqfTum15kjrRFf1vBSc=",connectString:"U2FsdGVkX1/AUWNk4WMSarytTse8PePFGvDEaKgnRoWRDihwycxMJolWJiZylGcJoHEO/gtgT8cnKI/Ma+5VlQ==",isDefault:!0}];function Qk({onConnect:r}){const[e,t]=Q.useState({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}),[n,i]=Q.useState([]),[s,l]=Q.useState({type:"",message:""}),[c,f]=Q.useState(!1),[h,d]=Q.useState(null),[m,g]=Q.useState(!1),[x,b]=Q.useState(!1);Q.useEffect(()=>{const M=localStorage.getItem("oracle_connections"),I=JSON.parse(localStorage.getItem("deleted_defaults")||"[]");let P=[];if(M)try{P=JSON.parse(M)}catch(se){console.error("Failed to parse saved connections",se)}let W=!1;$k.filter(se=>!I.includes(se.id)).forEach(se=>{if(!P.some(ee=>ee.id===se.id)){const ee=P.findIndex(ie=>ie.connectionName===se.connectionName&&!ie.isDefault);ee!==-1&&(P[ee].connectionName=`${P[ee].connectionName}_OLD`,W=!0),P.unshift(se),W=!0}}),W&&localStorage.setItem("oracle_connections",JSON.stringify(P)),i(P)},[]);const y=M=>M?jg.AES.encrypt(M,M4).toString():"",S=M=>{if(!M)return"";try{return jg.AES.decrypt(M,M4).toString(jg.enc.Utf8)||M}catch{return M}},T=M=>{t({...e,[M.target.name]:M.target.value})},A=async()=>{l({type:"info",message:"Testando conexo..."});try{const I=await(await fetch("http://127.0.0.1:3001/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();I.success?l({type:"success",message:"Conexo realizada com sucesso!"}):l({type:"error",message:"Falha na conexo: "+I.message})}catch(M){const I=M.message==="Failed to fetch"?"Falha na comunicao com o servidor (Verifique se o servidor est rodando)":M.message;l({type:"error",message:"Erro de rede: "+I})}},C=()=>{if(!e.user||!e.connectString||!e.connectionName){l({type:"error",message:"Por favor, preencha Nome, Usurio e Host."});return}const M={...e,password:y(e.password)};let I;if(c&&h)I=n.map(P=>P.id===h?{...M,id:h}:P),f(!1),d(null),l({type:"success",message:"Conexo atualizada!"});else{const P={...M,id:Date.now().toString()};I=[...n,P],l({type:"success",message:"Conexo salva!"})}i(I),localStorage.setItem("oracle_connections",JSON.stringify(I))},_=M=>{t({user:M.user,password:S(M.password),connectString:M.isDefault?S(M.connectString):M.connectString,connectionName:M.connectionName||""}),l({type:"",message:""}),g(!1),M.isDefault?(f(!1),d(null),b(!0),l({type:"info",message:"Conexo padro selecionada (Somente leitura)."})):(f(!0),d(M.id),b(!1))},N=(M,I)=>{if(I.stopPropagation(),M.isDefault){alert("Conexes padro no podem ser editadas.");return}_(M),l({type:"info",message:`Editando: ${M.connectionName}`})},R=(M,I,P)=>{if(I.stopPropagation(),window.confirm("Tem certeza que deseja excluir esta conexo?")){const W=n.filter(K=>K.id!==M);if(i(W),localStorage.setItem("oracle_connections",JSON.stringify(W)),P){const K=JSON.parse(localStorage.getItem("deleted_defaults")||"[]");K.push(M),localStorage.setItem("deleted_defaults",JSON.stringify(K))}h===M&&(f(!1),d(null),b(!1),t({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}))}},O=async()=>{l({type:"info",message:"Conectando..."});try{const I=await(await fetch("http://127.0.0.1:3001/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();I.success?r(e):l({type:"error",message:I.message})}catch(M){l({type:"error",message:M.message})}},z=()=>{f(!1),d(null),b(!1),t({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}),l({type:"",message:""})};return E.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans",children:[E.jsxs("div",{className:"w-1/3 bg-white border-r border-gray-200 p-6 flex flex-col shadow-lg z-10",children:[E.jsxs("div",{className:"flex flex-col items-center justify-center mb-8",children:[E.jsx("img",{src:LD,alt:"Hap Logo",className:"h-24 object-contain mb-4"}),E.jsx("h1",{className:"text-2xl font-bold text-[#0054a6] tracking-tight",children:"Hap Query Report"})]}),E.jsx("h2",{className:"text-lg font-bold text-gray-700 mb-4 px-2 border-l-4 border-[#f37021]",children:"Conexes Salvas"}),E.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:[n.length===0&&E.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[E.jsx("p",{className:"text-gray-400 italic",children:"Nenhuma conexo salva."}),E.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Preencha o formulrio para criar uma."})]}),n.map((M,I)=>E.jsxs("div",{onClick:()=>_(M),className:`p-4 rounded-lg border cursor-pointer transition-all hover:shadow-md group relative ${h===M.id?"border-[#f37021] bg-orange-50":"border-gray-200 hover:border-blue-300 bg-white"}`,children:[E.jsxs("div",{className:"font-bold text-gray-800 flex items-center",children:[M.connectionName||`Connection ${I+1}`,M.isDefault&&E.jsx("span",{className:"ml-2 text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded border border-blue-200",children:"PADRO"})]}),E.jsxs("div",{className:"text-sm text-gray-500",children:[M.user,"@",M.isDefault?"*****":M.connectString]}),E.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[!M.isDefault&&E.jsx("button",{onClick:P=>N(M,P),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Editar",children:""}),E.jsx("button",{onClick:P=>R(M.id,P,M.isDefault),className:"p-1.5 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Excluir",children:""})]})]},M.id||I))]}),E.jsxs("button",{onClick:()=>{f(!1),d(null),b(!1),t({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}),l({type:"",message:""})},className:"mt-6 w-full py-3 border-2 border-dashed border-gray-300 text-gray-500 rounded-lg hover:border-[#0054a6] hover:text-[#0054a6] transition-all font-medium flex items-center justify-center gap-2",children:[E.jsx("span",{className:"text-xl",children:"+"})," Nova Conexo"]})]}),E.jsx("div",{className:"w-2/3 p-10 flex flex-col justify-center bg-gradient-to-br from-gray-50 to-blue-50",children:E.jsxs("div",{className:"max-w-lg mx-auto w-full bg-white p-10 rounded-2xl shadow-xl border border-gray-100",children:[E.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:c?"Editar Conexo":"Nova Conexo"}),E.jsxs("div",{className:"space-y-5",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Nome da Conexo (Ex: DEV, PROD)"}),E.jsx("input",{type:"text",name:"connectionName",value:e.connectionName,onChange:T,disabled:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all disabled:bg-gray-100 disabled:text-gray-500",placeholder:"Minha Conexo"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Usurio"}),E.jsx("input",{type:"text",name:"user",value:e.user,onChange:T,disabled:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all disabled:bg-gray-100 disabled:text-gray-500"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Senha"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:m?"text":"password",name:"password",value:e.password,onChange:T,disabled:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all disabled:bg-gray-100 disabled:text-gray-500 pr-10"}),!x&&E.jsx("button",{type:"button",onClick:()=>g(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",title:m?"Ocultar senha":"Mostrar senha",children:m?E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Host (Connect String)"}),E.jsx("input",{type:x?"password":"text",name:"connectString",value:e.connectString,onChange:T,disabled:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all disabled:bg-gray-100 disabled:text-gray-500",placeholder:"localhost:1521/XEPDB1"})]}),s.message&&E.jsx("div",{className:`p-4 rounded-lg text-sm font-medium ${s.type==="error"?"bg-red-50 text-red-700 border border-red-200":s.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-blue-50 text-blue-700 border border-blue-200"}`,children:s.message}),E.jsxs("div",{className:"flex space-x-3 pt-6",children:[E.jsx("button",{onClick:A,className:"flex-1 py-3 px-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-bold border border-gray-300",children:"Testar"}),!x&&E.jsx("button",{onClick:C,className:"flex-1 py-3 px-4 bg-[#f37021] text-white rounded-lg hover:bg-orange-600 transition-colors font-bold shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:c?"Atualizar":"Salvar"}),E.jsx("button",{onClick:O,className:"flex-1 py-3 px-4 bg-[#0054a6] text-white rounded-lg hover:bg-blue-800 transition-colors font-bold shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"Conectar"})]}),c&&E.jsx("button",{onClick:z,className:"w-full mt-2 text-sm text-gray-500 hover:text-gray-700 underline text-center block",children:"Cancelar Edio"})]})]})})]})}var id={};id.version="0.18.5";var ZC=1252,Zk=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],JC=function(r){Zk.indexOf(r)!=-1&&(ZC=r)};function Jk(){JC(1252)}var E0=function(r){JC(r)};function eO(){E0(1200),Jk()}var Du=function(e){return String.fromCharCode(e)},F4=function(e){return String.fromCharCode(e)},sd,Ta="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function C0(r){for(var e="",t=0,n=0,i=0,s=0,l=0,c=0,f=0,h=0;h<r.length;)t=r.charCodeAt(h++),s=t>>2,n=r.charCodeAt(h++),l=(t&3)<<4|n>>4,i=r.charCodeAt(h++),c=(n&15)<<2|i>>6,f=i&63,isNaN(n)?c=f=64:isNaN(i)&&(f=64),e+=Ta.charAt(s)+Ta.charAt(l)+Ta.charAt(c)+Ta.charAt(f);return e}function Vs(r){var e="",t=0,n=0,i=0,s=0,l=0,c=0,f=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<r.length;)s=Ta.indexOf(r.charAt(h++)),l=Ta.indexOf(r.charAt(h++)),t=s<<2|l>>4,e+=String.fromCharCode(t),c=Ta.indexOf(r.charAt(h++)),n=(l&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(n)),f=Ta.indexOf(r.charAt(h++)),i=(c&3)<<6|f,f!==64&&(e+=String.fromCharCode(i));return e}var Nt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ys=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function wl(r){return Nt?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function L4(r){return Nt?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var ji=function(e){return Nt?Ys(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Jd(r){if(typeof ArrayBuffer>"u")return ji(r);for(var e=new ArrayBuffer(r.length),t=new Uint8Array(e),n=0;n!=r.length;++n)t[n]=r.charCodeAt(n)&255;return e}function Q0(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function tO(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}var sn=Nt?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:Ys(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),i=0;for(e=0,t=0;e<r.length;t+=i,++e)if(i=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function rO(r){for(var e=[],t=0,n=r.length+250,i=wl(r.length+255),s=0;s<r.length;++s){var l=r.charCodeAt(s);if(l<128)i[t++]=l;else if(l<2048)i[t++]=192|l>>6&31,i[t++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=r.charCodeAt(++s)&1023;i[t++]=240|l>>8&7,i[t++]=128|l>>2&63,i[t++]=128|c>>6&15|(l&3)<<4,i[t++]=128|c&63}else i[t++]=224|l>>12&15,i[t++]=128|l>>6&63,i[t++]=128|l&63;t>n&&(e.push(i.slice(0,t)),t=0,i=wl(65535),n=65530)}return e.push(i.slice(0,t)),sn(e)}var l0=/\u0000/g,ku=/[\u0001-\u0006]/g;function ko(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function zi(r,e){var t=""+r;return t.length>=e?t:gr("0",e-t.length)+t}function X1(r,e){var t=""+r;return t.length>=e?t:gr(" ",e-t.length)+t}function ad(r,e){var t=""+r;return t.length>=e?t:t+gr(" ",e-t.length)}function nO(r,e){var t=""+Math.round(r);return t.length>=e?t:gr("0",e-t.length)+t}function iO(r,e){var t=""+r;return t.length>=e?t:gr("0",e-t.length)+t}var I4=Math.pow(2,32);function xo(r,e){if(r>I4||r<-I4)return nO(r,e);var t=Math.round(r);return iO(t,e)}function ld(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var P4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],zg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function sO(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var xr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},j4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},aO={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function od(r,e,t){for(var n=r<0?-1:1,i=r*n,s=0,l=1,c=0,f=1,h=0,d=0,m=Math.floor(i);h<e&&(m=Math.floor(i),c=m*l+s,d=m*h+f,!(i-m<5e-8));)i=1/(i-m),s=l,l=c,f=h,h=d;if(d>e&&(h>e?(d=f,c=s):(d=h,c=l)),!t)return[0,n*c,d];var g=Math.floor(n*c/d);return[g,n*c-g*d,d]}function Ou(r,e,t){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),s=0,l=[],c={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++n,++c.D)),n===60)l=t?[1317,10,29]:[1900,2,29],s=3;else if(n===0)l=t?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var f=new Date(1900,0,1);f.setDate(f.getDate()+n-1),l=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=f.getDay(),n<60&&(s=(s+6)%7),t&&(s=dO(f,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=s,c}var eA=new Date(1899,11,31,0,0,0),lO=eA.getTime(),oO=new Date(1900,2,1,0,0,0);function tA(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=oO&&(t+=1440*60*1e3),(t-(lO+(r.getTimezoneOffset()-eA.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Y1(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function cO(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function fO(r){var e=r<0?12:11,t=Y1(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function uO(r){var e=Y1(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function hO(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=fO(r):e===10?t=r.toFixed(10).substr(0,12):t=uO(r),Y1(cO(t.toUpperCase()))}function Mx(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):hO(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return Na(14,tA(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function dO(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function pO(r,e,t,n){var i="",s=0,l=0,c=t.y,f,h=0;switch(r){case 98:c=t.y+543;case 121:switch(e.length){case 1:case 2:f=c%100,h=2;break;default:f=c%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:f=t.m,h=e.length;break;case 3:return zg[t.m-1][1];case 5:return zg[t.m-1][0];default:return zg[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=t.d,h=e.length;break;case 3:return P4[t.q][0];default:return P4[t.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(t.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=t.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=t.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?zi(t.S,e.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,s=Math.round(l*(t.S+t.u)),s>=60*l&&(s=0),e==="s"?s===0?"0":""+s/l:(i=zi(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=t.D*24+t.H;break;case"[m]":case"[mm]":f=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":f=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:f=c,h=1;break}var d=h>0?zi(f,h):"";return d}function _a(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var rA=/%/g;function mO(r,e,t){var n=e.replace(rA,""),i=e.length-n.length;return js(r,n,t*Math.pow(10,2*i))+gr("%",i)}function gO(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return js(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function nA(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+nA(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),t.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+s):t+="E+"+(l-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,h,d){return f+h+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var iA=/# (\?+)( ?)\/( ?)(\d+)/;function xO(r,e,t){var n=parseInt(r[4],10),i=Math.round(e*n),s=Math.floor(i/n),l=i-s*n,c=n;return t+(s===0?"":""+s)+" "+(l===0?gr(" ",r[1].length+1+r[4].length):X1(l,r[1].length)+r[2]+"/"+r[3]+zi(c,r[4].length))}function vO(r,e,t){return t+(e===0?"":""+e)+gr(" ",r[1].length+2+r[4].length)}var sA=/^#*0*\.([0#]+)/,aA=/\).*[0#]/,lA=/\(###\) ###\\?-####/;function bn(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function z4(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function H4(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function yO(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function bO(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function Ei(r,e,t){if(r.charCodeAt(0)===40&&!e.match(aA)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ei("n",n,t):"("+Ei("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return gO(r,e,t);if(e.indexOf("%")!==-1)return mO(r,e,t);if(e.indexOf("E")!==-1)return nA(e,t);if(e.charCodeAt(0)===36)return"$"+Ei(r,e.substr(e.charAt(1)==" "?2:1),t);var i,s,l,c,f=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+xo(f,e.length);if(e.match(/^[#?]+$/))return i=xo(t,0),i==="0"&&(i=""),i.length>e.length?i:bn(e.substr(0,e.length-i.length))+i;if(s=e.match(iA))return xO(s,f,h);if(e.match(/^#+0+$/))return h+xo(f,e.length-e.indexOf("0"));if(s=e.match(sA))return i=z4(t,s[1].length).replace(/^([^\.]+)$/,"$1."+bn(s[1])).replace(/\.$/,"."+bn(s[1])).replace(/\.(\d*)$/,function(b,y){return"."+y+gr("0",bn(s[1]).length-y.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+z4(f,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+_a(xo(f,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ei(r,e,-t):_a(""+(Math.floor(t)+yO(t,s[1].length)))+"."+zi(H4(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ei(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=ko(Ei(r,e.replace(/[\\-]/g,""),t)),l=0,ko(ko(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<i.length?i.charAt(l++):b==="0"?"0":""}));if(e.match(lA))return i=Ei(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),c=od(f,Math.pow(10,l)-1,!1),i=""+h,d=js("n",s[1],c[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=ad(c[2],l),d.length<s[4].length&&(d=bn(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),c=od(f,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?X1(c[1],l)+s[2]+"/"+s[3]+ad(c[2],l):gr(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=xo(t,0),e.length<=i.length?i:bn(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var m=e.indexOf(".")-l,g=e.length-i.length-m;return bn(e.substr(0,m)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return l=H4(t,s[1].length),t<0?"-"+Ei(r,e,-t):_a(bO(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?zi(0,3-b.length):"")+b})+"."+zi(l,s[1].length);switch(e){case"###,##0.00":return Ei(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var x=_a(xo(f,0));return x!=="0"?h+x:"";case"###,###.00":return Ei(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Ei(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function wO(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return js(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function SO(r,e,t){var n=e.replace(rA,""),i=e.length-n.length;return js(r,n,t*Math.pow(10,2*i))+gr("%",i)}function oA(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+oA(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!t.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+s):t+="E+"+(l-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,h,d){return f+h+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function ss(r,e,t){if(r.charCodeAt(0)===40&&!e.match(aA)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ss("n",n,t):"("+ss("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return wO(r,e,t);if(e.indexOf("%")!==-1)return SO(r,e,t);if(e.indexOf("E")!==-1)return oA(e,t);if(e.charCodeAt(0)===36)return"$"+ss(r,e.substr(e.charAt(1)==" "?2:1),t);var i,s,l,c,f=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+zi(f,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:bn(e.substr(0,e.length-i.length))+i;if(s=e.match(iA))return vO(s,f,h);if(e.match(/^#+0+$/))return h+zi(f,e.length-e.indexOf("0"));if(s=e.match(sA))return i=(""+t).replace(/^([^\.]+)$/,"$1."+bn(s[1])).replace(/\.$/,"."+bn(s[1])),i=i.replace(/\.(\d*)$/,function(b,y){return"."+y+gr("0",bn(s[1]).length-y.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+_a(""+f);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ss(r,e,-t):_a(""+t)+"."+gr("0",s[1].length);if(s=e.match(/^#,#*,#0/))return ss(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=ko(ss(r,e.replace(/[\\-]/g,""),t)),l=0,ko(ko(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<i.length?i.charAt(l++):b==="0"?"0":""}));if(e.match(lA))return i=ss(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),c=od(f,Math.pow(10,l)-1,!1),i=""+h,d=js("n",s[1],c[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=ad(c[2],l),d.length<s[4].length&&(d=bn(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),c=od(f,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?X1(c[1],l)+s[2]+"/"+s[3]+ad(c[2],l):gr(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:bn(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var m=e.indexOf(".")-l,g=e.length-i.length-m;return bn(e.substr(0,m)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+ss(r,e,-t):_a(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?zi(0,3-b.length):"")+b})+"."+zi(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var x=_a(""+f);return x!=="0"?h+x:"";default:if(e.match(/\.[0#?]*$/))return ss(r,e.slice(0,e.lastIndexOf(".")),t)+bn(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function js(r,e,t){return(t|0)===t?ss(r,e,t):Ei(r,e,t)}function EO(r){for(var e=[],t=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(i,n-i),i=n+1}if(e[e.length]=r.substr(i),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var cA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fA(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":ld(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(cA))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function CO(r,e,t,n){for(var i=[],s="",l=0,c="",f="t",h,d,m,g="H";l<r.length;)switch(c=r.charAt(l)){case"G":if(!ld(r,l))throw new Error("unrecognized character "+c+" in "+r);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(m=r.charCodeAt(++l))!==34&&l<r.length;)s+=String.fromCharCode(m);i[i.length]={t:"t",v:s},++l;break;case"\\":var x=r.charAt(++l),b=x==="("||x===")"?x:"t";i[i.length]={t:b,v:x},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:e},++l;break;case"B":case"b":if(r.charAt(l+1)==="1"||r.charAt(l+1)==="2"){if(h==null&&(h=Ou(e,t,r.charAt(l+1)==="2"),h==null))return"";i[i.length]={t:"X",v:r.substr(l,2)},f=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=Ou(e,t),h==null))return"";for(s=c;++l<r.length&&r.charAt(l).toLowerCase()===c;)s+=c;c==="m"&&f.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=g),i[i.length]={t:c,v:s},f=c;break;case"A":case"a":case"":var y={t:c,v:c};if(h==null&&(h=Ou(e,t)),r.substr(l,3).toUpperCase()==="A/P"?(h!=null&&(y.v=h.H>=12?"P":"A"),y.t="T",g="h",l+=3):r.substr(l,5).toUpperCase()==="AM/PM"?(h!=null&&(y.v=h.H>=12?"PM":"AM"),y.t="T",l+=5,g="h"):r.substr(l,5).toUpperCase()==="/"?(h!=null&&(y.v=h.H>=12?"":""),y.t="T",l+=5,g="h"):(y.t="t",++l),h==null&&y.t==="T")return"";i[i.length]=y,f=c;break;case"[":for(s=c;r.charAt(l++)!=="]"&&l<r.length;)s+=r.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(cA)){if(h==null&&(h=Ou(e,t),h==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},f=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",fA(r)||(i[i.length]={t:"t",v:s}));break;case".":if(h!=null){for(s=c;++l<r.length&&(c=r.charAt(l))==="0";)s+=c;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++l<r.length&&"0#?.,E+-%".indexOf(c=r.charAt(l))>-1;)s+=c;i[i.length]={t:"n",v:s};break;case"?":for(s=c;r.charAt(++l)===c;)s+=c;i[i.length]={t:c,v:s},f=c;break;case"*":++l,(r.charAt(l)==" "||r.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:n===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;l<r.length&&"0123456789".indexOf(r.charAt(++l))>-1;)s+=r.charAt(l);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:c,v:c},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+r);i[i.length]={t:"t",v:c},++l;break}var S=0,T=0,A;for(l=i.length-1,f="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=g,f="h",S<1&&(S=1);break;case"s":(A=i[l].v.match(/\.0+$/))&&(T=Math.max(T,A[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":f=i[l].t;break;case"m":f==="s"&&(i[l].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&i[l].v.match(/[Hh]/)&&(S=1),S<2&&i[l].v.match(/[Mm]/)&&(S=2),S<3&&i[l].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var C="",_;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=pO(i[l].t.charCodeAt(0),i[l].v,h,T),i[l].t="t";break;case"n":case"?":for(_=l+1;i[_]!=null&&((c=i[_].t)==="?"||c==="D"||(c===" "||c==="t")&&i[_+1]!=null&&(i[_+1].t==="?"||i[_+1].t==="t"&&i[_+1].v==="/")||i[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[_].v==="/"||i[_].v===" "&&i[_+1]!=null&&i[_+1].t=="?"));)i[l].v+=i[_].v,i[_]={v:"",t:";"},++_;C+=i[l].v,l=_-1;break;case"G":i[l].t="t",i[l].v=Mx(e,t);break}var N="",R,O;if(C.length>0){C.charCodeAt(0)==40?(R=e<0&&C.charCodeAt(0)===45?-e:e,O=js("n",C,R)):(R=e<0&&n>1?-e:e,O=js("n",C,R),R<0&&i[0]&&i[0].t=="t"&&(O=O.substr(1),i[0].v="-"+i[0].v)),_=O.length-1;var z=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){z=l;break}var M=i.length;if(z===i.length&&O.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(_>=i[l].v.length-1?(_-=i[l].v.length,i[l].v=O.substr(_+1,i[l].v.length)):_<0?i[l].v="":(i[l].v=O.substr(0,_+1),_=-1),i[l].t="t",M=l);_>=0&&M<i.length&&(i[M].v=O.substr(0,_+1)+i[M].v)}else if(z!==i.length&&O.indexOf("E")===-1){for(_=O.indexOf(".")-1,l=z;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(d=i[l].v.indexOf(".")>-1&&l===z?i[l].v.indexOf(".")-1:i[l].v.length-1,N=i[l].v.substr(d+1);d>=0;--d)_>=0&&(i[l].v.charAt(d)==="0"||i[l].v.charAt(d)==="#")&&(N=O.charAt(_--)+N);i[l].v=N,i[l].t="t",M=l}for(_>=0&&M<i.length&&(i[M].v=O.substr(0,_+1)+i[M].v),_=O.indexOf(".")+1,l=z;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==z)){for(d=i[l].v.indexOf(".")>-1&&l===z?i[l].v.indexOf(".")+1:0,N=i[l].v.substr(0,d);d<i[l].v.length;++d)_<O.length&&(N+=O.charAt(_++));i[l].v=N,i[l].t="t",M=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(R=n>1&&e<0&&l>0&&i[l-1].v==="-"?-e:e,i[l].v=js(i[l].t,i[l].v,R),i[l].t="t");var I="";for(l=0;l!==i.length;++l)i[l]!=null&&(I+=i[l].v);return I}var U4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function V4(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function AO(r,e){var t=EO(r),n=t.length,i=t[n-1].indexOf("@");if(n<4&&i>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var l=t[0].match(U4),c=t[1].match(U4);return V4(e,l)?[n,t[0]]:V4(e,c)?[n,t[1]]:[n,t[l!=null&&c!=null?2:1]]}return[n,s]}function Na(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:xr)[r],n==null&&(n=t.table&&t.table[j4[r]]||xr[j4[r]]),n==null&&(n=aO[r]||"General");break}if(ld(n,0))return Mx(e,t);e instanceof Date&&(e=tA(e,t.date1904));var i=AO(n,e);if(ld(i[1]))return Mx(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return CO(i[1],e,t,i[0])}function uA(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(xr[t]==null){e<0&&(e=t);continue}if(xr[t]==r){e=t;break}}e<0&&(e=391)}return xr[e]=r,e}function ep(r){for(var e=0;e!=392;++e)r[e]!==void 0&&uA(r[e],e)}function tp(){xr=sO()}var hA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function TO(r){var e=typeof r=="number"?xr[r]:r;return e=e.replace(hA,"(\\d+)"),new RegExp("^"+e+"$")}function _O(r,e,t){var n=-1,i=-1,s=-1,l=-1,c=-1,f=-1;(e.match(hA)||[]).forEach(function(m,g){var x=parseInt(t[g+1],10);switch(m.toLowerCase().charAt(0)){case"y":n=x;break;case"d":s=x;break;case"h":l=x;break;case"s":f=x;break;case"m":l>=0?c=x:i=x;break}}),f>=0&&c==-1&&i>=0&&(c=i,i=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var d=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return l==-1&&c==-1&&f==-1?h:n==-1&&i==-1&&s==-1?d:h+"T"+d}var DO=(function(){var r={};r.version="1.2.0";function e(){for(var O=0,z=new Array(256),M=0;M!=256;++M)O=M,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,z[M]=O;return typeof Int32Array<"u"?new Int32Array(z):z}var t=e();function n(O){var z=0,M=0,I=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)P[I]=O[I];for(I=0;I!=256;++I)for(M=O[I],z=256+I;z<4096;z+=256)M=P[z]=M>>>8^O[M&255];var W=[];for(I=1;I!=16;++I)W[I-1]=typeof Int32Array<"u"?P.subarray(I*256,I*256+256):P.slice(I*256,I*256+256);return W}var i=n(t),s=i[0],l=i[1],c=i[2],f=i[3],h=i[4],d=i[5],m=i[6],g=i[7],x=i[8],b=i[9],y=i[10],S=i[11],T=i[12],A=i[13],C=i[14];function _(O,z){for(var M=z^-1,I=0,P=O.length;I<P;)M=M>>>8^t[(M^O.charCodeAt(I++))&255];return~M}function N(O,z){for(var M=z^-1,I=O.length-15,P=0;P<I;)M=C[O[P++]^M&255]^A[O[P++]^M>>8&255]^T[O[P++]^M>>16&255]^S[O[P++]^M>>>24]^y[O[P++]]^b[O[P++]]^x[O[P++]]^g[O[P++]]^m[O[P++]]^d[O[P++]]^h[O[P++]]^f[O[P++]]^c[O[P++]]^l[O[P++]]^s[O[P++]]^t[O[P++]];for(I+=15;P<I;)M=M>>>8^t[(M^O[P++])&255];return~M}function R(O,z){for(var M=z^-1,I=0,P=O.length,W=0,K=0;I<P;)W=O.charCodeAt(I++),W<128?M=M>>>8^t[(M^W)&255]:W<2048?(M=M>>>8^t[(M^(192|W>>6&31))&255],M=M>>>8^t[(M^(128|W&63))&255]):W>=55296&&W<57344?(W=(W&1023)+64,K=O.charCodeAt(I++)&1023,M=M>>>8^t[(M^(240|W>>8&7))&255],M=M>>>8^t[(M^(128|W>>2&63))&255],M=M>>>8^t[(M^(128|K>>6&15|(W&3)<<4))&255],M=M>>>8^t[(M^(128|K&63))&255]):(M=M>>>8^t[(M^(224|W>>12&15))&255],M=M>>>8^t[(M^(128|W>>6&63))&255],M=M>>>8^t[(M^(128|W&63))&255]);return~M}return r.table=t,r.bstr=_,r.buf=N,r.str=R,r})(),Gt=(function(){var e={};e.version="1.2.1";function t(F,G){for(var V=F.split("/"),q=G.split("/"),X=0,Y=0,ce=Math.min(V.length,q.length);X<ce;++X){if(Y=V[X].length-q[X].length)return Y;if(V[X]!=q[X])return V[X]<q[X]?-1:1}return V.length-q.length}function n(F){if(F.charAt(F.length-1)=="/")return F.slice(0,-1).indexOf("/")===-1?F:n(F.slice(0,-1));var G=F.lastIndexOf("/");return G===-1?F:F.slice(0,G+1)}function i(F){if(F.charAt(F.length-1)=="/")return i(F.slice(0,-1));var G=F.lastIndexOf("/");return G===-1?F:F.slice(G+1)}function s(F,G){typeof G=="string"&&(G=new Date(G));var V=G.getHours();V=V<<6|G.getMinutes(),V=V<<5|G.getSeconds()>>>1,F.write_shift(2,V);var q=G.getFullYear()-1980;q=q<<4|G.getMonth()+1,q=q<<5|G.getDate(),F.write_shift(2,q)}function l(F){var G=F.read_shift(2)&65535,V=F.read_shift(2)&65535,q=new Date,X=V&31;V>>>=5;var Y=V&15;V>>>=4,q.setMilliseconds(0),q.setFullYear(V+1980),q.setMonth(Y-1),q.setDate(X);var ce=G&31;G>>>=5;var Ce=G&63;return G>>>=6,q.setHours(G),q.setMinutes(Ce),q.setSeconds(ce<<1),q}function c(F){ai(F,0);for(var G={},V=0;F.l<=F.length-4;){var q=F.read_shift(2),X=F.read_shift(2),Y=F.l+X,ce={};switch(q){case 21589:V=F.read_shift(1),V&1&&(ce.mtime=F.read_shift(4)),X>5&&(V&2&&(ce.atime=F.read_shift(4)),V&4&&(ce.ctime=F.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}F.l=Y,G[q]=ce}return G}var f;function h(){return f||(f={})}function d(F,G){if(F[0]==80&&F[1]==75)return On(F,G);if((F[0]|32)==109&&(F[1]|32)==105)return Ye(F,G);if(F.length<512)throw new Error("CFB file size "+F.length+" < 512");var V=3,q=512,X=0,Y=0,ce=0,Ce=0,fe=0,he=[],me=F.slice(0,512);ai(me,0);var Be=m(me);switch(V=Be[0],V){case 3:q=512;break;case 4:q=4096;break;case 0:if(Be[1]==0)return On(F,G);default:throw new Error("Major Version: Expected 3 or 4 saw "+V)}q!==512&&(me=F.slice(0,q),ai(me,28));var Le=F.slice(0,q);g(me,V);var Ue=me.read_shift(4,"i");if(V===3&&Ue!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ue);me.l+=4,ce=me.read_shift(4,"i"),me.l+=4,me.chk("00100000","Mini Stream Cutoff Size: "),Ce=me.read_shift(4,"i"),X=me.read_shift(4,"i"),fe=me.read_shift(4,"i"),Y=me.read_shift(4,"i");for(var Re=-1,ze=0;ze<109&&(Re=me.read_shift(4,"i"),!(Re<0));++ze)he[ze]=Re;var Qe=x(F,q);S(fe,Y,Qe,q,he);var Qt=A(Qe,ce,he,q);Qt[ce].name="!Directory",X>0&&Ce!==K&&(Qt[Ce].name="!MiniFAT"),Qt[he[0]].name="!FAT",Qt.fat_addrs=he,Qt.ssz=q;var Zt={},lr=[],hi=[],qa=[];C(ce,Qt,Qe,lr,X,Zt,hi,Ce),b(hi,qa,lr),lr.shift();var $s={FileIndex:hi,FullPaths:qa};return G&&G.raw&&($s.raw={header:Le,sectors:Qe}),$s}function m(F){if(F[F.l]==80&&F[F.l+1]==75)return[0,0];F.chk(se,"Header Signature: "),F.l+=16;var G=F.read_shift(2,"u");return[F.read_shift(2,"u"),G]}function g(F,G){var V=9;switch(F.l+=2,V=F.read_shift(2)){case 9:if(G!=3)throw new Error("Sector Shift: Expected 9 saw "+V);break;case 12:if(G!=4)throw new Error("Sector Shift: Expected 12 saw "+V);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+V)}F.chk("0600","Mini Sector Shift: "),F.chk("000000000000","Reserved: ")}function x(F,G){for(var V=Math.ceil(F.length/G)-1,q=[],X=1;X<V;++X)q[X-1]=F.slice(X*G,(X+1)*G);return q[V-1]=F.slice(V*G),q}function b(F,G,V){for(var q=0,X=0,Y=0,ce=0,Ce=0,fe=V.length,he=[],me=[];q<fe;++q)he[q]=me[q]=q,G[q]=V[q];for(;Ce<me.length;++Ce)q=me[Ce],X=F[q].L,Y=F[q].R,ce=F[q].C,he[q]===q&&(X!==-1&&he[X]!==X&&(he[q]=he[X]),Y!==-1&&he[Y]!==Y&&(he[q]=he[Y])),ce!==-1&&(he[ce]=q),X!==-1&&q!=he[q]&&(he[X]=he[q],me.lastIndexOf(X)<Ce&&me.push(X)),Y!==-1&&q!=he[q]&&(he[Y]=he[q],me.lastIndexOf(Y)<Ce&&me.push(Y));for(q=1;q<fe;++q)he[q]===q&&(Y!==-1&&he[Y]!==Y?he[q]=he[Y]:X!==-1&&he[X]!==X&&(he[q]=he[X]));for(q=1;q<fe;++q)if(F[q].type!==0){if(Ce=q,Ce!=he[Ce])do Ce=he[Ce],G[q]=G[Ce]+"/"+G[q];while(Ce!==0&&he[Ce]!==-1&&Ce!=he[Ce]);he[q]=-1}for(G[0]+="/",q=1;q<fe;++q)F[q].type!==2&&(G[q]+="/")}function y(F,G,V){for(var q=F.start,X=F.size,Y=[],ce=q;V&&X>0&&ce>=0;)Y.push(G.slice(ce*W,ce*W+W)),X-=W,ce=ul(V,ce*4);return Y.length===0?we(0):sn(Y).slice(0,F.size)}function S(F,G,V,q,X){var Y=K;if(F===K){if(G!==0)throw new Error("DIFAT chain shorter than expected")}else if(F!==-1){var ce=V[F],Ce=(q>>>2)-1;if(!ce)return;for(var fe=0;fe<Ce&&(Y=ul(ce,fe*4))!==K;++fe)X.push(Y);S(ul(ce,q-4),G-1,V,q,X)}}function T(F,G,V,q,X){var Y=[],ce=[];X||(X=[]);var Ce=q-1,fe=0,he=0;for(fe=G;fe>=0;){X[fe]=!0,Y[Y.length]=fe,ce.push(F[fe]);var me=V[Math.floor(fe*4/q)];if(he=fe*4&Ce,q<4+he)throw new Error("FAT boundary crossed: "+fe+" 4 "+q);if(!F[me])break;fe=ul(F[me],he)}return{nodes:Y,data:Q4([ce])}}function A(F,G,V,q){var X=F.length,Y=[],ce=[],Ce=[],fe=[],he=q-1,me=0,Be=0,Le=0,Ue=0;for(me=0;me<X;++me)if(Ce=[],Le=me+G,Le>=X&&(Le-=X),!ce[Le]){fe=[];var Re=[];for(Be=Le;Be>=0;){Re[Be]=!0,ce[Be]=!0,Ce[Ce.length]=Be,fe.push(F[Be]);var ze=V[Math.floor(Be*4/q)];if(Ue=Be*4&he,q<4+Ue)throw new Error("FAT boundary crossed: "+Be+" 4 "+q);if(!F[ze]||(Be=ul(F[ze],Ue),Re[Be]))break}Y[Le]={nodes:Ce,data:Q4([fe])}}return Y}function C(F,G,V,q,X,Y,ce,Ce){for(var fe=0,he=q.length?2:0,me=G[F].data,Be=0,Le=0,Ue;Be<me.length;Be+=128){var Re=me.slice(Be,Be+128);ai(Re,64),Le=Re.read_shift(2),Ue=J1(Re,0,Le-he),q.push(Ue);var ze={name:Ue,type:Re.read_shift(1),color:Re.read_shift(1),L:Re.read_shift(4,"i"),R:Re.read_shift(4,"i"),C:Re.read_shift(4,"i"),clsid:Re.read_shift(16),state:Re.read_shift(4,"i"),start:0,size:0},Qe=Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2);Qe!==0&&(ze.ct=_(Re,Re.l-8));var Qt=Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2)+Re.read_shift(2);Qt!==0&&(ze.mt=_(Re,Re.l-8)),ze.start=Re.read_shift(4,"i"),ze.size=Re.read_shift(4,"i"),ze.size<0&&ze.start<0&&(ze.size=ze.type=0,ze.start=K,ze.name=""),ze.type===5?(fe=ze.start,X>0&&fe!==K&&(G[fe].name="!StreamData")):ze.size>=4096?(ze.storage="fat",G[ze.start]===void 0&&(G[ze.start]=T(V,ze.start,G.fat_addrs,G.ssz)),G[ze.start].name=ze.name,ze.content=G[ze.start].data.slice(0,ze.size)):(ze.storage="minifat",ze.size<0?ze.size=0:fe!==K&&ze.start!==K&&G[fe]&&(ze.content=y(ze,G[fe].data,(G[Ce]||{}).data))),ze.content&&ai(ze.content,0),Y[Ue]=ze,ce.push(ze)}}function _(F,G){return new Date((oi(F,G+4)/1e7*Math.pow(2,32)+oi(F,G)/1e7-11644473600)*1e3)}function N(F,G){return h(),d(f.readFileSync(F),G)}function R(F,G){var V=G&&G.type;switch(V||Nt&&Buffer.isBuffer(F)&&(V="buffer"),V||"base64"){case"file":return N(F,G);case"base64":return d(ji(Vs(F)),G);case"binary":return d(ji(F),G)}return d(F,G)}function O(F,G){var V=G||{},q=V.root||"Root Entry";if(F.FullPaths||(F.FullPaths=[]),F.FileIndex||(F.FileIndex=[]),F.FullPaths.length!==F.FileIndex.length)throw new Error("inconsistent CFB structure");F.FullPaths.length===0&&(F.FullPaths[0]=q+"/",F.FileIndex[0]={name:q,type:5}),V.CLSID&&(F.FileIndex[0].clsid=V.CLSID),z(F)}function z(F){var G="Sh33tJ5";if(!Gt.find(F,"/"+G)){var V=we(4);V[0]=55,V[1]=V[3]=50,V[2]=54,F.FileIndex.push({name:G,type:2,content:V,size:4,L:69,R:69,C:69}),F.FullPaths.push(F.FullPaths[0]+G),M(F)}}function M(F,G){O(F);for(var V=!1,q=!1,X=F.FullPaths.length-1;X>=0;--X){var Y=F.FileIndex[X];switch(Y.type){case 0:q?V=!0:(F.FileIndex.pop(),F.FullPaths.pop());break;case 1:case 2:case 5:q=!0,isNaN(Y.R*Y.L*Y.C)&&(V=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(V=!0);break;default:V=!0;break}}if(!(!V&&!G)){var ce=new Date(1987,1,19),Ce=0,fe=Object.create?Object.create(null):{},he=[];for(X=0;X<F.FullPaths.length;++X)fe[F.FullPaths[X]]=!0,F.FileIndex[X].type!==0&&he.push([F.FullPaths[X],F.FileIndex[X]]);for(X=0;X<he.length;++X){var me=n(he[X][0]);q=fe[me],q||(he.push([me,{name:i(me).replace("/",""),type:1,clsid:ee,ct:ce,mt:ce,content:null}]),fe[me]=!0)}for(he.sort(function(Ue,Re){return t(Ue[0],Re[0])}),F.FullPaths=[],F.FileIndex=[],X=0;X<he.length;++X)F.FullPaths[X]=he[X][0],F.FileIndex[X]=he[X][1];for(X=0;X<he.length;++X){var Be=F.FileIndex[X],Le=F.FullPaths[X];if(Be.name=i(Le).replace("/",""),Be.L=Be.R=Be.C=-(Be.color=1),Be.size=Be.content?Be.content.length:0,Be.start=0,Be.clsid=Be.clsid||ee,X===0)Be.C=he.length>1?1:-1,Be.size=0,Be.type=5;else if(Le.slice(-1)=="/"){for(Ce=X+1;Ce<he.length&&n(F.FullPaths[Ce])!=Le;++Ce);for(Be.C=Ce>=he.length?-1:Ce,Ce=X+1;Ce<he.length&&n(F.FullPaths[Ce])!=n(Le);++Ce);Be.R=Ce>=he.length?-1:Ce,Be.type=1}else n(F.FullPaths[X+1]||"")==n(Le)&&(Be.R=X+1),Be.type=2}}}function I(F,G){var V=G||{};if(V.fileType=="mad")return rt(F,V);switch(M(F),V.fileType){case"zip":return Ut(F,V)}var q=(function(Ue){for(var Re=0,ze=0,Qe=0;Qe<Ue.FileIndex.length;++Qe){var Qt=Ue.FileIndex[Qe];if(Qt.content){var Zt=Qt.content.length;Zt>0&&(Zt<4096?Re+=Zt+63>>6:ze+=Zt+511>>9)}}for(var lr=Ue.FullPaths.length+3>>2,hi=Re+7>>3,qa=Re+127>>7,$s=hi+ze+lr+qa,Qi=$s+127>>7,sc=Qi<=109?0:Math.ceil((Qi-109)/127);$s+Qi+sc+127>>7>Qi;)sc=++Qi<=109?0:Math.ceil((Qi-109)/127);var Bn=[1,sc,Qi,qa,lr,ze,Re,0];return Ue.FileIndex[0].size=Re<<6,Bn[7]=(Ue.FileIndex[0].start=Bn[0]+Bn[1]+Bn[2]+Bn[3]+Bn[4]+Bn[5])+(Bn[6]+7>>3),Bn})(F),X=we(q[7]<<9),Y=0,ce=0;{for(Y=0;Y<8;++Y)X.write_shift(1,ue[Y]);for(Y=0;Y<8;++Y)X.write_shift(2,0);for(X.write_shift(2,62),X.write_shift(2,3),X.write_shift(2,65534),X.write_shift(2,9),X.write_shift(2,6),Y=0;Y<3;++Y)X.write_shift(2,0);for(X.write_shift(4,0),X.write_shift(4,q[2]),X.write_shift(4,q[0]+q[1]+q[2]+q[3]-1),X.write_shift(4,0),X.write_shift(4,4096),X.write_shift(4,q[3]?q[0]+q[1]+q[2]-1:K),X.write_shift(4,q[3]),X.write_shift(-4,q[1]?q[0]-1:K),X.write_shift(4,q[1]),Y=0;Y<109;++Y)X.write_shift(-4,Y<q[2]?q[1]+Y:-1)}if(q[1])for(ce=0;ce<q[1];++ce){for(;Y<236+ce*127;++Y)X.write_shift(-4,Y<q[2]?q[1]+Y:-1);X.write_shift(-4,ce===q[1]-1?K:ce+1)}var Ce=function(Ue){for(ce+=Ue;Y<ce-1;++Y)X.write_shift(-4,Y+1);Ue&&(++Y,X.write_shift(-4,K))};for(ce=Y=0,ce+=q[1];Y<ce;++Y)X.write_shift(-4,ie.DIFSECT);for(ce+=q[2];Y<ce;++Y)X.write_shift(-4,ie.FATSECT);Ce(q[3]),Ce(q[4]);for(var fe=0,he=0,me=F.FileIndex[0];fe<F.FileIndex.length;++fe)me=F.FileIndex[fe],me.content&&(he=me.content.length,!(he<4096)&&(me.start=ce,Ce(he+511>>9)));for(Ce(q[6]+7>>3);X.l&511;)X.write_shift(-4,ie.ENDOFCHAIN);for(ce=Y=0,fe=0;fe<F.FileIndex.length;++fe)me=F.FileIndex[fe],me.content&&(he=me.content.length,!(!he||he>=4096)&&(me.start=ce,Ce(he+63>>6)));for(;X.l&511;)X.write_shift(-4,ie.ENDOFCHAIN);for(Y=0;Y<q[4]<<2;++Y){var Be=F.FullPaths[Y];if(!Be||Be.length===0){for(fe=0;fe<17;++fe)X.write_shift(4,0);for(fe=0;fe<3;++fe)X.write_shift(4,-1);for(fe=0;fe<12;++fe)X.write_shift(4,0);continue}me=F.FileIndex[Y],Y===0&&(me.start=me.size?me.start-1:K);var Le=Y===0&&V.root||me.name;if(he=2*(Le.length+1),X.write_shift(64,Le,"utf16le"),X.write_shift(2,he),X.write_shift(1,me.type),X.write_shift(1,me.color),X.write_shift(-4,me.L),X.write_shift(-4,me.R),X.write_shift(-4,me.C),me.clsid)X.write_shift(16,me.clsid,"hex");else for(fe=0;fe<4;++fe)X.write_shift(4,0);X.write_shift(4,me.state||0),X.write_shift(4,0),X.write_shift(4,0),X.write_shift(4,0),X.write_shift(4,0),X.write_shift(4,me.start),X.write_shift(4,me.size),X.write_shift(4,0)}for(Y=1;Y<F.FileIndex.length;++Y)if(me=F.FileIndex[Y],me.size>=4096)if(X.l=me.start+1<<9,Nt&&Buffer.isBuffer(me.content))me.content.copy(X,X.l,0,me.size),X.l+=me.size+511&-512;else{for(fe=0;fe<me.size;++fe)X.write_shift(1,me.content[fe]);for(;fe&511;++fe)X.write_shift(1,0)}for(Y=1;Y<F.FileIndex.length;++Y)if(me=F.FileIndex[Y],me.size>0&&me.size<4096)if(Nt&&Buffer.isBuffer(me.content))me.content.copy(X,X.l,0,me.size),X.l+=me.size+63&-64;else{for(fe=0;fe<me.size;++fe)X.write_shift(1,me.content[fe]);for(;fe&63;++fe)X.write_shift(1,0)}if(Nt)X.l=X.length;else for(;X.l<X.length;)X.write_shift(1,0);return X}function P(F,G){var V=F.FullPaths.map(function(fe){return fe.toUpperCase()}),q=V.map(function(fe){var he=fe.split("/");return he[he.length-(fe.slice(-1)=="/"?2:1)]}),X=!1;G.charCodeAt(0)===47?(X=!0,G=V[0].slice(0,-1)+G):X=G.indexOf("/")!==-1;var Y=G.toUpperCase(),ce=X===!0?V.indexOf(Y):q.indexOf(Y);if(ce!==-1)return F.FileIndex[ce];var Ce=!Y.match(ku);for(Y=Y.replace(l0,""),Ce&&(Y=Y.replace(ku,"!")),ce=0;ce<V.length;++ce)if((Ce?V[ce].replace(ku,"!"):V[ce]).replace(l0,"")==Y||(Ce?q[ce].replace(ku,"!"):q[ce]).replace(l0,"")==Y)return F.FileIndex[ce];return null}var W=64,K=-2,se="d0cf11e0a1b11ae1",ue=[208,207,17,224,161,177,26,225],ee="00000000000000000000000000000000",ie={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:K,FREESECT:-1,HEADER_SIGNATURE:se,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ee,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function be(F,G,V){h();var q=I(F,V);f.writeFileSync(G,q)}function Ee(F){for(var G=new Array(F.length),V=0;V<F.length;++V)G[V]=String.fromCharCode(F[V]);return G.join("")}function ke(F,G){var V=I(F,G);switch(G&&G.type||"buffer"){case"file":return h(),f.writeFileSync(G.filename,V),V;case"binary":return typeof V=="string"?V:Ee(V);case"base64":return C0(typeof V=="string"?V:Ee(V));case"buffer":if(Nt)return Buffer.isBuffer(V)?V:Ys(V);case"array":return typeof V=="string"?ji(V):V}return V}var j;function D(F){try{var G=F.InflateRaw,V=new G;if(V._processChunk(new Uint8Array([3,0]),V._finishFlushFlag),V.bytesRead)j=F;else throw new Error("zlib does not expose bytesRead")}catch(q){console.error("cannot use native zlib: "+(q.message||q))}}function L(F,G){if(!j)return Yn(F,G);var V=j.InflateRaw,q=new V,X=q._processChunk(F.slice(F.l),q._finishFlushFlag);return F.l+=q.bytesRead,X}function B(F){return j?j.deflateRawSync(F):Xn(F)}var U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],le=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function re(F){var G=(F<<1|F<<11)&139536|(F<<5|F<<15)&558144;return(G>>16|G>>8|G)&255}for(var ve=typeof Uint8Array<"u",pe=ve?new Uint8Array(256):[],Je=0;Je<256;++Je)pe[Je]=re(Je);function Xe(F,G){var V=pe[F&255];return G<=8?V>>>8-G:(V=V<<8|pe[F>>8&255],G<=16?V>>>16-G:(V=V<<8|pe[F>>16&255],V>>>24-G))}function ct(F,G){var V=G&7,q=G>>>3;return(F[q]|(V<=6?0:F[q+1]<<8))>>>V&3}function We(F,G){var V=G&7,q=G>>>3;return(F[q]|(V<=5?0:F[q+1]<<8))>>>V&7}function Fe(F,G){var V=G&7,q=G>>>3;return(F[q]|(V<=4?0:F[q+1]<<8))>>>V&15}function je(F,G){var V=G&7,q=G>>>3;return(F[q]|(V<=3?0:F[q+1]<<8))>>>V&31}function Oe(F,G){var V=G&7,q=G>>>3;return(F[q]|(V<=1?0:F[q+1]<<8))>>>V&127}function $e(F,G,V){var q=G&7,X=G>>>3,Y=(1<<V)-1,ce=F[X]>>>q;return V<8-q||(ce|=F[X+1]<<8-q,V<16-q)||(ce|=F[X+2]<<16-q,V<24-q)||(ce|=F[X+3]<<24-q),ce&Y}function lt(F,G,V){var q=G&7,X=G>>>3;return q<=5?F[X]|=(V&7)<<q:(F[X]|=V<<q&255,F[X+1]=(V&7)>>8-q),G+3}function mt(F,G,V){var q=G&7,X=G>>>3;return V=(V&1)<<q,F[X]|=V,G+1}function Mt(F,G,V){var q=G&7,X=G>>>3;return V<<=q,F[X]|=V&255,V>>>=8,F[X+1]=V,G+8}function Ht(F,G,V){var q=G&7,X=G>>>3;return V<<=q,F[X]|=V&255,V>>>=8,F[X+1]=V&255,F[X+2]=V>>>8,G+16}function Cr(F,G){var V=F.length,q=2*V>G?2*V:G+5,X=0;if(V>=G)return F;if(Nt){var Y=L4(q);if(F.copy)F.copy(Y);else for(;X<F.length;++X)Y[X]=F[X];return Y}else if(ve){var ce=new Uint8Array(q);if(ce.set)ce.set(F);else for(;X<V;++X)ce[X]=F[X];return ce}return F.length=q,F}function bt(F){for(var G=new Array(F),V=0;V<F;++V)G[V]=0;return G}function Gn(F,G,V){var q=1,X=0,Y=0,ce=0,Ce=0,fe=F.length,he=ve?new Uint16Array(32):bt(32);for(Y=0;Y<32;++Y)he[Y]=0;for(Y=fe;Y<V;++Y)F[Y]=0;fe=F.length;var me=ve?new Uint16Array(fe):bt(fe);for(Y=0;Y<fe;++Y)he[X=F[Y]]++,q<X&&(q=X),me[Y]=0;for(he[0]=0,Y=1;Y<=q;++Y)he[Y+16]=Ce=Ce+he[Y-1]<<1;for(Y=0;Y<fe;++Y)Ce=F[Y],Ce!=0&&(me[Y]=he[Ce+16]++);var Be=0;for(Y=0;Y<fe;++Y)if(Be=F[Y],Be!=0)for(Ce=Xe(me[Y],q)>>q-Be,ce=(1<<q+4-Be)-1;ce>=0;--ce)G[Ce|ce<<Be]=Be&15|Y<<4;return q}var zr=ve?new Uint16Array(512):bt(512),vr=ve?new Uint16Array(32):bt(32);if(!ve){for(var sr=0;sr<512;++sr)zr[sr]=0;for(sr=0;sr<32;++sr)vr[sr]=0}(function(){for(var F=[],G=0;G<32;G++)F.push(5);Gn(F,vr,32);var V=[];for(G=0;G<=143;G++)V.push(8);for(;G<=255;G++)V.push(9);for(;G<=279;G++)V.push(7);for(;G<=287;G++)V.push(8);Gn(V,zr,288)})();var Dn=(function(){for(var G=ve?new Uint8Array(32768):[],V=0,q=0;V<le.length-1;++V)for(;q<le[V+1];++q)G[q]=V;for(;q<32768;++q)G[q]=29;var X=ve?new Uint8Array(259):[];for(V=0,q=0;V<Z.length-1;++V)for(;q<Z[V+1];++q)X[q]=V;function Y(Ce,fe){for(var he=0;he<Ce.length;){var me=Math.min(65535,Ce.length-he),Be=he+me==Ce.length;for(fe.write_shift(1,+Be),fe.write_shift(2,me),fe.write_shift(2,~me&65535);me-- >0;)fe[fe.l++]=Ce[he++]}return fe.l}function ce(Ce,fe){for(var he=0,me=0,Be=ve?new Uint16Array(32768):[];me<Ce.length;){var Le=Math.min(65535,Ce.length-me);if(Le<10){for(he=lt(fe,he,+(me+Le==Ce.length)),he&7&&(he+=8-(he&7)),fe.l=he/8|0,fe.write_shift(2,Le),fe.write_shift(2,~Le&65535);Le-- >0;)fe[fe.l++]=Ce[me++];he=fe.l*8;continue}he=lt(fe,he,+(me+Le==Ce.length)+2);for(var Ue=0;Le-- >0;){var Re=Ce[me];Ue=(Ue<<5^Re)&32767;var ze=-1,Qe=0;if((ze=Be[Ue])&&(ze|=me&-32768,ze>me&&(ze-=32768),ze<me))for(;Ce[ze+Qe]==Ce[me+Qe]&&Qe<250;)++Qe;if(Qe>2){Re=X[Qe],Re<=22?he=Mt(fe,he,pe[Re+1]>>1)-1:(Mt(fe,he,3),he+=5,Mt(fe,he,pe[Re-23]>>5),he+=3);var Qt=Re<8?0:Re-4>>2;Qt>0&&(Ht(fe,he,Qe-Z[Re]),he+=Qt),Re=G[me-ze],he=Mt(fe,he,pe[Re]>>3),he-=3;var Zt=Re<4?0:Re-2>>1;Zt>0&&(Ht(fe,he,me-ze-le[Re]),he+=Zt);for(var lr=0;lr<Qe;++lr)Be[Ue]=me&32767,Ue=(Ue<<5^Ce[me])&32767,++me;Le-=Qe-1}else Re<=143?Re=Re+48:he=mt(fe,he,1),he=Mt(fe,he,pe[Re]),Be[Ue]=me&32767,++me}he=Mt(fe,he,0)-1}return fe.l=(he+7)/8|0,fe.l}return function(fe,he){return fe.length<8?Y(fe,he):ce(fe,he)}})();function Xn(F){var G=we(50+Math.floor(F.length*1.1)),V=Dn(F,G);return G.slice(0,V)}var hr=ve?new Uint16Array(32768):bt(32768),vn=ve?new Uint16Array(32768):bt(32768),kn=ve?new Uint16Array(128):bt(128),dr=1,fr=1;function ur(F,G){var V=je(F,G)+257;G+=5;var q=je(F,G)+1;G+=5;var X=Fe(F,G)+4;G+=4;for(var Y=0,ce=ve?new Uint8Array(19):bt(19),Ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],fe=1,he=ve?new Uint8Array(8):bt(8),me=ve?new Uint8Array(8):bt(8),Be=ce.length,Le=0;Le<X;++Le)ce[U[Le]]=Y=We(F,G),fe<Y&&(fe=Y),he[Y]++,G+=3;var Ue=0;for(he[0]=0,Le=1;Le<=fe;++Le)me[Le]=Ue=Ue+he[Le-1]<<1;for(Le=0;Le<Be;++Le)(Ue=ce[Le])!=0&&(Ce[Le]=me[Ue]++);var Re=0;for(Le=0;Le<Be;++Le)if(Re=ce[Le],Re!=0){Ue=pe[Ce[Le]]>>8-Re;for(var ze=(1<<7-Re)-1;ze>=0;--ze)kn[Ue|ze<<Re]=Re&7|Le<<3}var Qe=[];for(fe=1;Qe.length<V+q;)switch(Ue=kn[Oe(F,G)],G+=Ue&7,Ue>>>=3){case 16:for(Y=3+ct(F,G),G+=2,Ue=Qe[Qe.length-1];Y-- >0;)Qe.push(Ue);break;case 17:for(Y=3+We(F,G),G+=3;Y-- >0;)Qe.push(0);break;case 18:for(Y=11+Oe(F,G),G+=7;Y-- >0;)Qe.push(0);break;default:Qe.push(Ue),fe<Ue&&(fe=Ue);break}var Qt=Qe.slice(0,V),Zt=Qe.slice(V);for(Le=V;Le<286;++Le)Qt[Le]=0;for(Le=q;Le<30;++Le)Zt[Le]=0;return dr=Gn(Qt,hr,286),fr=Gn(Zt,vn,30),G}function Ki(F,G){if(F[0]==3&&!(F[1]&3))return[wl(G),2];for(var V=0,q=0,X=L4(G||1<<18),Y=0,ce=X.length>>>0,Ce=0,fe=0;(q&1)==0;){if(q=We(F,V),V+=3,q>>>1)q>>1==1?(Ce=9,fe=5):(V=ur(F,V),Ce=dr,fe=fr);else{V&7&&(V+=8-(V&7));var he=F[V>>>3]|F[(V>>>3)+1]<<8;if(V+=32,he>0)for(!G&&ce<Y+he&&(X=Cr(X,Y+he),ce=X.length);he-- >0;)X[Y++]=F[V>>>3],V+=8;continue}for(;;){!G&&ce<Y+32767&&(X=Cr(X,Y+32767),ce=X.length);var me=$e(F,V,Ce),Be=q>>>1==1?zr[me]:hr[me];if(V+=Be&15,Be>>>=4,(Be>>>8&255)===0)X[Y++]=Be;else{if(Be==256)break;Be-=257;var Le=Be<8?0:Be-4>>2;Le>5&&(Le=0);var Ue=Y+Z[Be];Le>0&&(Ue+=$e(F,V,Le),V+=Le),me=$e(F,V,fe),Be=q>>>1==1?vr[me]:vn[me],V+=Be&15,Be>>>=4;var Re=Be<4?0:Be-2>>1,ze=le[Be];for(Re>0&&(ze+=$e(F,V,Re),V+=Re),!G&&ce<Ue&&(X=Cr(X,Ue+100),ce=X.length);Y<Ue;)X[Y]=X[Y-ze],++Y}}}return G?[X,V+7>>>3]:[X.slice(0,Y),V+7>>>3]}function Yn(F,G){var V=F.slice(F.l||0),q=Ki(V,G);return F.l+=q[1],q[0]}function $i(F,G){if(F)typeof console<"u"&&console.error(G);else throw new Error(G)}function On(F,G){var V=F;ai(V,0);var q=[],X=[],Y={FileIndex:q,FullPaths:X};O(Y,{root:G.root});for(var ce=V.length-4;(V[ce]!=80||V[ce+1]!=75||V[ce+2]!=5||V[ce+3]!=6)&&ce>=0;)--ce;V.l=ce+4,V.l+=4;var Ce=V.read_shift(2);V.l+=6;var fe=V.read_shift(4);for(V.l=fe,ce=0;ce<Ce;++ce){V.l+=20;var he=V.read_shift(4),me=V.read_shift(4),Be=V.read_shift(2),Le=V.read_shift(2),Ue=V.read_shift(2);V.l+=8;var Re=V.read_shift(4),ze=c(V.slice(V.l+Be,V.l+Be+Le));V.l+=Be+Le+Ue;var Qe=V.l;V.l=Re+4,ui(V,he,me,Y,ze),V.l=Qe}return Y}function ui(F,G,V,q,X){F.l+=2;var Y=F.read_shift(2),ce=F.read_shift(2),Ce=l(F);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var fe=F.read_shift(4),he=F.read_shift(4),me=F.read_shift(4),Be=F.read_shift(2),Le=F.read_shift(2),Ue="",Re=0;Re<Be;++Re)Ue+=String.fromCharCode(F[F.l++]);if(Le){var ze=c(F.slice(F.l,F.l+Le));(ze[21589]||{}).mt&&(Ce=ze[21589].mt),((X||{})[21589]||{}).mt&&(Ce=X[21589].mt)}F.l+=Le;var Qe=F.slice(F.l,F.l+he);switch(ce){case 8:Qe=L(F,me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var Qt=!1;Y&8&&(fe=F.read_shift(4),fe==134695760&&(fe=F.read_shift(4),Qt=!0),he=F.read_shift(4),me=F.read_shift(4)),he!=G&&$i(Qt,"Bad compressed size: "+G+" != "+he),me!=V&&$i(Qt,"Bad uncompressed size: "+V+" != "+me),st(q,Ue,Qe,{unsafe:!0,mt:Ce})}function Ut(F,G){var V=G||{},q=[],X=[],Y=we(1),ce=V.compression?8:0,Ce=0,fe=0,he=0,me=0,Be=0,Le=F.FullPaths[0],Ue=Le,Re=F.FileIndex[0],ze=[],Qe=0;for(fe=1;fe<F.FullPaths.length;++fe)if(Ue=F.FullPaths[fe].slice(Le.length),Re=F.FileIndex[fe],!(!Re.size||!Re.content||Ue=="Sh33tJ5")){var Qt=me,Zt=we(Ue.length);for(he=0;he<Ue.length;++he)Zt.write_shift(1,Ue.charCodeAt(he)&127);Zt=Zt.slice(0,Zt.l),ze[Be]=DO.buf(Re.content,0);var lr=Re.content;ce==8&&(lr=B(lr)),Y=we(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,Ce),Y.write_shift(2,ce),Re.mt?s(Y,Re.mt):Y.write_shift(4,0),Y.write_shift(-4,ze[Be]),Y.write_shift(4,lr.length),Y.write_shift(4,Re.content.length),Y.write_shift(2,Zt.length),Y.write_shift(2,0),me+=Y.length,q.push(Y),me+=Zt.length,q.push(Zt),me+=lr.length,q.push(lr),Y=we(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,Ce),Y.write_shift(2,ce),Y.write_shift(4,0),Y.write_shift(-4,ze[Be]),Y.write_shift(4,lr.length),Y.write_shift(4,Re.content.length),Y.write_shift(2,Zt.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,Qt),Qe+=Y.l,X.push(Y),Qe+=Zt.length,X.push(Zt),++Be}return Y=we(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,Be),Y.write_shift(2,Be),Y.write_shift(4,Qe),Y.write_shift(4,me),Y.write_shift(2,0),sn([sn(q),sn(X),Y])}var Rt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ar(F,G){if(F.ctype)return F.ctype;var V=F.name||"",q=V.match(/\.([^\.]+)$/);return q&&Rt[q[1]]||G&&(q=(V=G).match(/[\.\\]([^\.\\])+$/),q&&Rt[q[1]])?Rt[q[1]]:"application/octet-stream"}function ge(F){for(var G=C0(F),V=[],q=0;q<G.length;q+=76)V.push(G.slice(q,q+76));return V.join(`\r
`)+`\r
`}function Me(F){var G=F.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(he){var me=he.charCodeAt(0).toString(16).toUpperCase();return"="+(me.length==1?"0"+me:me)});G=G.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),G.charAt(0)==`
`&&(G="=0D"+G.slice(1)),G=G.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var V=[],q=G.split(`\r
`),X=0;X<q.length;++X){var Y=q[X];if(Y.length==0){V.push("");continue}for(var ce=0;ce<Y.length;){var Ce=76,fe=Y.slice(ce,ce+Ce);fe.charAt(Ce-1)=="="?Ce--:fe.charAt(Ce-2)=="="?Ce-=2:fe.charAt(Ce-3)=="="&&(Ce-=3),fe=Y.slice(ce,ce+Ce),ce+=Ce,ce<Y.length&&(fe+="="),V.push(fe)}}return V.join(`\r
`)}function Ne(F){for(var G=[],V=0;V<F.length;++V){for(var q=F[V];V<=F.length&&q.charAt(q.length-1)=="=";)q=q.slice(0,q.length-1)+F[++V];G.push(q)}for(var X=0;X<G.length;++X)G[X]=G[X].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return ji(G.join(`\r
`))}function et(F,G,V){for(var q="",X="",Y="",ce,Ce=0;Ce<10;++Ce){var fe=G[Ce];if(!fe||fe.match(/^\s*$/))break;var he=fe.match(/^(.*?):\s*([^\s].*)$/);if(he)switch(he[1].toLowerCase()){case"content-location":q=he[2].trim();break;case"content-type":Y=he[2].trim();break;case"content-transfer-encoding":X=he[2].trim();break}}switch(++Ce,X.toLowerCase()){case"base64":ce=ji(Vs(G.slice(Ce).join("")));break;case"quoted-printable":ce=Ne(G.slice(Ce));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+X)}var me=st(F,q.slice(V.length),ce,{unsafe:!0});Y&&(me.ctype=Y)}function Ye(F,G){if(Ee(F.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var V=G&&G.root||"",q=(Nt&&Buffer.isBuffer(F)?F.toString("binary"):Ee(F)).split(`\r
`),X=0,Y="";for(X=0;X<q.length;++X)if(Y=q[X],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),V||(V=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,V.length)!=V))for(;V.length>0&&(V=V.slice(0,V.length-1),V=V.slice(0,V.lastIndexOf("/")+1),Y.slice(0,V.length)!=V););var ce=(q[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var Ce="--"+(ce[1]||""),fe=[],he=[],me={FileIndex:fe,FullPaths:he};O(me);var Be,Le=0;for(X=0;X<q.length;++X){var Ue=q[X];Ue!==Ce&&Ue!==Ce+"--"||(Le++&&et(me,q.slice(Be,X),V),Be=X)}return me}function rt(F,G){var V=G||{},q=V.boundary||"SheetJS";q="------="+q;for(var X=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+q.slice(2)+'"',"","",""],Y=F.FullPaths[0],ce=Y,Ce=F.FileIndex[0],fe=1;fe<F.FullPaths.length;++fe)if(ce=F.FullPaths[fe].slice(Y.length),Ce=F.FileIndex[fe],!(!Ce.size||!Ce.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Qe){return"_x"+Qe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Qe){return"_u"+Qe.charCodeAt(0).toString(16)+"_"});for(var he=Ce.content,me=Nt&&Buffer.isBuffer(he)?he.toString("binary"):Ee(he),Be=0,Le=Math.min(1024,me.length),Ue=0,Re=0;Re<=Le;++Re)(Ue=me.charCodeAt(Re))>=32&&Ue<128&&++Be;var ze=Be>=Le*4/5;X.push(q),X.push("Content-Location: "+(V.root||"file:///C:/SheetJS/")+ce),X.push("Content-Transfer-Encoding: "+(ze?"quoted-printable":"base64")),X.push("Content-Type: "+ar(Ce,ce)),X.push(""),X.push(ze?Me(me):ge(me))}return X.push(q+`--\r
`),X.join(`\r
`)}function at(F){var G={};return O(G,F),G}function st(F,G,V,q){var X=q&&q.unsafe;X||O(F);var Y=!X&&Gt.find(F,G);if(!Y){var ce=F.FullPaths[0];G.slice(0,ce.length)==ce?ce=G:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+G).replace("//","/")),Y={name:i(G),type:2},F.FileIndex.push(Y),F.FullPaths.push(ce),X||Gt.utils.cfb_gc(F)}return Y.content=V,Y.size=V?V.length:0,q&&(q.CLSID&&(Y.clsid=q.CLSID),q.mt&&(Y.mt=q.mt),q.ct&&(Y.ct=q.ct)),Y}function At(F,G){O(F);var V=Gt.find(F,G);if(V){for(var q=0;q<F.FileIndex.length;++q)if(F.FileIndex[q]==V)return F.FileIndex.splice(q,1),F.FullPaths.splice(q,1),!0}return!1}function yr(F,G,V){O(F);var q=Gt.find(F,G);if(q){for(var X=0;X<F.FileIndex.length;++X)if(F.FileIndex[X]==q)return F.FileIndex[X].name=i(V),F.FullPaths[X]=V,!0}return!1}function Ar(F){M(F,!0)}return e.find=P,e.read=R,e.parse=d,e.write=ke,e.writeFile=be,e.utils={cfb_new:at,cfb_add:st,cfb_del:At,cfb_mov:yr,cfb_gc:Ar,ReadShift:c0,CheckField:OA,prep_blob:ai,bconcat:sn,use_zlib:D,_deflateRaw:Xn,_inflateRaw:Yn,consts:ie},e})();function kO(r){return typeof r=="string"?Jd(r):Array.isArray(r)?tO(r):r}function Z0(r,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=Jd(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(r,e)}var n=t=="utf8"?T0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,r);if(typeof Blob<"u"){var i=new Blob([kO(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,r);if(typeof saveAs<"u")return saveAs(i,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:r,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=r,l.href=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(r);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=Q0(e)),c.write(e),c.close(),e}catch(f){if(!f.message||!f.message.match(/onstruct/))throw f}throw new Error("cannot save file "+r)}function cn(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function q4(r,e){for(var t=[],n=cn(r),i=0;i!==n.length;++i)t[r[n[i]][e]]==null&&(t[r[n[i]][e]]=n[i]);return t}function K1(r){for(var e=[],t=cn(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}function rp(r){for(var e=[],t=cn(r),n=0;n!==t.length;++n)e[r[t[n]]]=parseInt(t[n],10);return e}function OO(r){for(var e=[],t=cn(r),n=0;n!==t.length;++n)e[r[t[n]]]==null&&(e[r[t[n]]]=[]),e[r[t[n]]].push(t[n]);return e}var cd=new Date(1899,11,30,0,0,0);function Vn(r,e){var t=r.getTime(),n=cd.getTime()+(r.getTimezoneOffset()-cd.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var dA=new Date,BO=cd.getTime()+(dA.getTimezoneOffset()-cd.getTimezoneOffset())*6e4,W4=dA.getTimezoneOffset();function pA(r){var e=new Date;return e.setTime(r*24*60*60*1e3+BO),e.getTimezoneOffset()!==W4&&e.setTime(e.getTime()+(e.getTimezoneOffset()-W4)*6e4),e}var G4=new Date("2017-02-19T19:06:09.000Z"),mA=isNaN(G4.getFullYear())?new Date("2/19/17"):G4,NO=mA.getFullYear()==2017;function Cn(r,e){var t=new Date(r);if(NO)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(mA.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function np(r,e){if(Nt&&Buffer.isBuffer(r))return r.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function qn(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=qn(r[t]));return e}function gr(r,e){for(var t="";t.length<e;)t+=r;return t}function zs(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(n)))?e/t:e}var RO=["january","february","march","april","may","june","july","august","september","october","november","december"];function A0(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var l=r.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&RO.indexOf(l)==-1)return t}else if(l.match(/[a-z]/))return t;return n<0||n>8099?t:(i>0||s>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}function dt(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return Nt?n=Ys(t):n=rO(t),Gt.utils.cfb_add(r,e,n)}Gt.utils.cfb_add(r,e,t)}else r.file(e,t)}function $1(){return Gt.utils.cfb_new()}var Mr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,MO={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Q1=K1(MO),Z1=/[&<>'"]/g,FO=/[\u0000-\u0008\u000b-\u001f]/g;function jt(r){var e=r+"";return e.replace(Z1,function(t){return Q1[t]}).replace(FO,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function X4(r){return jt(r).replace(/ /g,"_x0020_")}var gA=/[\u0000-\u001f]/g;function LO(r){var e=r+"";return e.replace(Z1,function(t){return Q1[t]}).replace(/\n/g,"<br/>").replace(gA,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function IO(r){var e=r+"";return e.replace(Z1,function(t){return Q1[t]}).replace(gA,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function PO(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function jO(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Hg(r){for(var e="",t=0,n=0,i=0,s=0,l=0,c=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(i=r.charCodeAt(t++),n>191&&n<224){l=(n&31)<<6,l|=i&63,e+=String.fromCharCode(l);continue}if(s=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}l=r.charCodeAt(t++),c=((n&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function Y4(r){var e=wl(2*r.length),t,n,i=1,s=0,l=0,c;for(n=0;n<r.length;n+=i)i=1,(c=r.charCodeAt(n))<128?t=c:c<224?(t=(c&31)*64+(r.charCodeAt(n+1)&63),i=2):c<240?(t=(c&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,t=(c&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,l=55296+(t>>>10&1023),t=56320+(t&1023)),l!==0&&(e[s++]=l&255,e[s++]=l>>>8,l=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function K4(r){return Ys(r,"binary").toString("utf8")}var Bu="foo bar baz",o0=Nt&&(K4(Bu)==Hg(Bu)&&K4||Y4(Bu)==Hg(Bu)&&Y4)||Hg,T0=Nt?function(r){return Ys(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,i=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},zO=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}})(),xA=/(^\s|\s$|\n)/;function an(r,e){return"<"+r+(e.match(xA)?' xml:space="preserve"':"")+">"+e+"</"+r+">"}function _0(r){return cn(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function Ie(r,e,t){return"<"+r+(t!=null?_0(t):"")+(e!=null?(e.match(xA)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function Fx(r,e){try{return r.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function HO(r,e){switch(typeof r){case"string":var t=Ie("vt:lpwstr",jt(r));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Ie((r|0)==r?"vt:i4":"vt:r8",jt(String(r)));case"boolean":return Ie("vt:bool",r?"true":"false")}if(r instanceof Date)return Ie("vt:filetime",Fx(r));throw new Error("Unable to serialize "+r)}var qr={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ko=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],li={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function UO(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),i=r[e+6]&15,s=5;s>=0;--s)i=i*256+r[e+s];return n==2047?i==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),t*Math.pow(2,n-52)*i)}function VO(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,l=n?-e:e;isFinite(l)?l==0?i=s=0:(i=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)r[t+c]=s&255;r[t+6]=(i&15)<<4|s&15,r[t+7]=i>>4|n}var $4=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,s=r[0][n].length;i<s;i+=t)e.push.apply(e,r[0][n].slice(i,i+t));return e},Q4=Nt?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:Ys(e)})):$4(r)}:$4,Z4=function(r,e,t){for(var n=[],i=e;i<t;i+=2)n.push(String.fromCharCode(t0(r,i)));return n.join("").replace(l0,"")},J1=Nt?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(l0,""):Z4(r,e,t)}:Z4,J4=function(r,e,t){for(var n=[],i=e;i<e+t;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},vA=Nt?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):J4(r,e,t)}:J4,eS=function(r,e,t){for(var n=[],i=e;i<t;i++)n.push(String.fromCharCode(wo(r,i)));return n.join("")},J0=Nt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):eS(e,t,n)}:eS,yA=function(r,e){var t=oi(r,e);return t>0?J0(r,e+4,e+4+t-1):""},bA=yA,wA=function(r,e){var t=oi(r,e);return t>0?J0(r,e+4,e+4+t-1):""},SA=wA,EA=function(r,e){var t=2*oi(r,e);return t>0?J0(r,e+4,e+4+t-1):""},CA=EA,AA=function(e,t){var n=oi(e,t);return n>0?J1(e,t+4,t+4+n):""},TA=AA,_A=function(r,e){var t=oi(r,e);return t>0?J0(r,e+4,e+4+t):""},DA=_A,kA=function(r,e){return UO(r,e)},fd=kA,ev=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Nt&&(bA=function(e,t){if(!Buffer.isBuffer(e))return yA(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},SA=function(e,t){if(!Buffer.isBuffer(e))return wA(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},CA=function(e,t){if(!Buffer.isBuffer(e))return EA(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},TA=function(e,t){if(!Buffer.isBuffer(e))return AA(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},DA=function(e,t){if(!Buffer.isBuffer(e))return _A(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},fd=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):kA(e,t)},ev=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var wo=function(r,e){return r[e]},t0=function(r,e){return r[e+1]*256+r[e]},qO=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},oi=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},ul=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},WO=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function c0(r,e){var t="",n,i,s=[],l,c,f,h;switch(e){case"dbcs":if(h=this.l,Nt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(f=0;f<r;++f)t+=String.fromCharCode(t0(this,h)),h+=2;r*=2;break;case"utf8":t=J0(this,this.l,this.l+r);break;case"utf16le":r*=2,t=J1(this,this.l,this.l+r);break;case"wstr":return c0.call(this,r,"dbcs");case"lpstr-ansi":t=bA(this,this.l),r=4+oi(this,this.l);break;case"lpstr-cp":t=SA(this,this.l),r=4+oi(this,this.l);break;case"lpwstr":t=CA(this,this.l),r=4+2*oi(this,this.l);break;case"lpp4":r=4+oi(this,this.l),t=TA(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+oi(this,this.l),t=DA(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(l=wo(this,this.l+r++))!==0;)s.push(Du(l));t=s.join("");break;case"_wstr":for(r=0,t="";(l=t0(this,this.l+r))!==0;)s.push(Du(l)),r+=2;r+=2,t=s.join("");break;case"dbcs-cont":for(t="",h=this.l,f=0;f<r;++f){if(this.lens&&this.lens.indexOf(h)!==-1)return l=wo(this,h),this.l=h+1,c=c0.call(this,r-f,l?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(Du(t0(this,h))),h+=2}t=s.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",h=this.l,f=0;f!=r;++f){if(this.lens&&this.lens.indexOf(h)!==-1)return l=wo(this,h),this.l=h+1,c=c0.call(this,r-f,l?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(Du(wo(this,h))),h+=1}t=s.join("");break;default:switch(r){case 1:return n=wo(this,this.l),this.l++,n;case 2:return n=(e==="i"?qO:t0)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?ul:WO)(this,this.l),this.l+=4,n):(i=oi(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return r==8?i=fd(this,this.l):i=fd([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:t=vA(this,this.l,r);break}}return this.l+=r,t}var GO=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},XO=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},YO=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function KO(r,e,t){var n=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)YO(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(t==="hex"){for(;i<r;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+r,this.length);for(i=0;i<Math.min(e.length,r);++i){var l=e.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,GO(this,e,this.l);break;case 8:if(n=8,t==="f"){VO(this,e,this.l);break}case 16:break;case-4:n=4,XO(this,e,this.l);break}return this.l+=n,this}function OA(r,e){var t=vA(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function ai(r,e){r.l=e,r.read_shift=c0,r.chk=OA,r.write_shift=KO}function ps(r,e){r.l+=e}function we(r){var e=wl(r);return ai(e,0),e}function Un(){var r=[],e=Nt?256:2048,t=function(h){var d=we(h);return ai(d,0),d},n=t(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},s=function(h){return n&&h<n.length-n.l?n:(i(),n=t(Math.max(h+1,e)))},l=function(){return i(),sn(r)},c=function(h){i(),n=h,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:c,end:l,_bufs:r}}function De(r,e,t,n){var i=+e,s;if(!isNaN(i)){n||(n=UM[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var l=r.next(s);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var c=0;c!=4;++c)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&ev(t)&&r.push(t)}}function f0(r,e,t){var n=qn(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function tS(r,e,t){var n=qn(r);return n.s=f0(n.s,e.s,t),n.e=f0(n.e,e.s,t),n}function u0(r,e){if(r.cRel&&r.c<0)for(r=qn(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=qn(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=zt(r);return!r.cRel&&r.cRel!=null&&(t=ZO(t)),!r.rRel&&r.rRel!=null&&(t=$O(t)),t}function Ug(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+mn(r.s.c)+":"+(r.e.cRel?"":"$")+mn(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+on(r.s.r)+":"+(r.e.rRel?"":"$")+on(r.e.r):u0(r.s,e.biff)+":"+u0(r.e,e.biff)}function tv(r){return parseInt(QO(r),10)-1}function on(r){return""+(r+1)}function $O(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function QO(r){return r.replace(/\$(\d+)$/,"$1")}function rv(r){for(var e=JO(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function mn(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function ZO(r){return r.replace(/^([A-Z])/,"$$$1")}function JO(r){return r.replace(/^\$([A-Z])/,"$1")}function eB(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Gr(r){for(var e=0,t=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function zt(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function fi(r){var e=r.indexOf(":");return e==-1?{s:Gr(r),e:Gr(r)}:{s:Gr(r.slice(0,e)),e:Gr(r.slice(e+1))}}function Rr(r,e){return typeof e>"u"||typeof e=="number"?Rr(r.s,r.e):(typeof r!="string"&&(r=zt(r)),typeof e!="string"&&(e=zt(e)),r==e?r:r+":"+e)}function ir(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,i=0,s=r.length;for(t=0;n<s&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.s.c=--t,t=0;n<s&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;if(e.s.r=--t,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=s&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.e.c=--t,t=0;n!=s&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;return e.e.r=--t,e}function rS(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=Na(r.z,t?Vn(e):e)}catch{}try{return r.w=Na((r.XF||{}).numFmtId||(t?14:0),t?Vn(e):e)}catch{return""+e}}function qs(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?ef[r.v]||r.v:e==null?rS(r,r.v):rS(r,e))}function Bl(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function BA(r,e,t){var n=t||{},i=r?Array.isArray(r):n.dense,s=r||(i?[]:{}),l=0,c=0;if(s&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var f=typeof n.origin=="string"?Gr(n.origin):n.origin;l=f.r,c=f.c}s["!ref"]||(s["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=ir(s["!ref"]);h.s.c=d.s.c,h.s.r=d.s.r,h.e.c=Math.max(h.e.c,d.e.c),h.e.r=Math.max(h.e.r,d.e.r),l==-1&&(h.e.r=l=d.e.r+1)}for(var m=0;m!=e.length;++m)if(e[m]){if(!Array.isArray(e[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[m].length;++g)if(!(typeof e[m][g]>"u")){var x={v:e[m][g]},b=l+m,y=c+g;if(h.s.r>b&&(h.s.r=b),h.s.c>y&&(h.s.c=y),h.e.r<b&&(h.e.r=b),h.e.c<y&&(h.e.c=y),e[m][g]&&typeof e[m][g]=="object"&&!Array.isArray(e[m][g])&&!(e[m][g]instanceof Date))x=e[m][g];else if(Array.isArray(x.v)&&(x.f=e[m][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(n.nullError)x.t="e",x.v=0;else if(n.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=n.dateNF||xr[14],n.cellDates?(x.t="d",x.w=Na(x.z,Vn(x.v))):(x.t="n",x.v=Vn(x.v),x.w=Na(x.z,x.v))):x.t="s";if(i)s[b]||(s[b]=[]),s[b][y]&&s[b][y].z&&(x.z=s[b][y].z),s[b][y]=x;else{var S=zt({c:y,r:b});s[S]&&s[S].z&&(x.z=s[S].z),s[S]=x}}}return h.s.c<1e7&&(s["!ref"]=Rr(h)),s}function $o(r,e){return BA(null,r,e)}function tB(r){return r.read_shift(4,"i")}function Ui(r,e){return e||(e=we(4)),e.write_shift(4,r),e}function gn(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function Xr(r,e){var t=!1;return e==null&&(t=!0,e=we(4+2*r.length)),e.write_shift(4,r.length),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}function rB(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function nB(r,e){return e||(e=we(4)),e.write_shift(2,0),e.write_shift(2,0),e}function nv(r,e){var t=r.l,n=r.read_shift(1),i=gn(r),s=[],l={t:i,h:i};if((n&1)!==0){for(var c=r.read_shift(4),f=0;f!=c;++f)s.push(rB(r));l.r=s}else l.r=[{ich:0,ifnt:0}];return r.l=t+e,l}function iB(r,e){var t=!1;return e==null&&(t=!0,e=we(15+4*r.t.length)),e.write_shift(1,0),Xr(r.t,e),t?e.slice(0,e.l):e}var sB=nv;function aB(r,e){var t=!1;return e==null&&(t=!0,e=we(23+4*r.t.length)),e.write_shift(1,1),Xr(r.t,e),e.write_shift(4,1),nB({},e),t?e.slice(0,e.l):e}function Ni(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function Nl(r,e){return e==null&&(e=we(8)),e.write_shift(-4,r.c),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}function Rl(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}function Ml(r,e){return e==null&&(e=we(4)),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}var lB=gn,NA=Xr;function iv(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}function ud(r,e){var t=!1;return e==null&&(t=!0,e=we(127)),e.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}var oB=gn,Lx=iv,sv=ud;function RA(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var i=n===0?fd([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):ul(e,0)>>2;return t?i/100:i}function MA(r,e){e==null&&(e=we(4));var t=0,n=0,i=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,t=1),n)e.write_shift(-4,((t?i:r)<<2)+(t+2));else throw new Error("unsupported RkNumber "+r)}function FA(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}function cB(r,e){return e||(e=we(16)),e.write_shift(4,r.s.r),e.write_shift(4,r.e.r),e.write_shift(4,r.s.c),e.write_shift(4,r.e.c),e}var Fl=FA,Qo=cB;function Zo(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function Sl(r,e){return(e||we(8)).write_shift(8,r,"f")}function fB(r){var e={},t=r.read_shift(1),n=t>>>1,i=r.read_shift(1),s=r.read_shift(2,"i"),l=r.read_shift(1),c=r.read_shift(1),f=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var h=yB[i];h&&(e.rgb=dS(h));break;case 2:e.rgb=dS([l,c,f]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function hd(r,e){if(e||(e=we(8)),!r||r.auto)return e.write_shift(4,0),e.write_shift(4,0),e;r.index!=null?(e.write_shift(1,2),e.write_shift(1,r.index)):r.theme!=null?(e.write_shift(1,6),e.write_shift(1,r.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=r.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!r.rgb||r.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=r.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function uB(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function hB(r,e){e||(e=we(2));var t=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var LA=2,ii=3,Nu=11,dd=19,Ru=64,dB=65,pB=71,mB=4108,gB=4126,rn=80,nS={1:{n:"CodePage",t:LA},2:{n:"Category",t:rn},3:{n:"PresentationFormat",t:rn},4:{n:"ByteCount",t:ii},5:{n:"LineCount",t:ii},6:{n:"ParagraphCount",t:ii},7:{n:"SlideCount",t:ii},8:{n:"NoteCount",t:ii},9:{n:"HiddenCount",t:ii},10:{n:"MultimediaClipCount",t:ii},11:{n:"ScaleCrop",t:Nu},12:{n:"HeadingPairs",t:mB},13:{n:"TitlesOfParts",t:gB},14:{n:"Manager",t:rn},15:{n:"Company",t:rn},16:{n:"LinksUpToDate",t:Nu},17:{n:"CharacterCount",t:ii},19:{n:"SharedDoc",t:Nu},22:{n:"HyperlinksChanged",t:Nu},23:{n:"AppVersion",t:ii,p:"version"},24:{n:"DigSig",t:dB},26:{n:"ContentType",t:rn},27:{n:"ContentStatus",t:rn},28:{n:"Language",t:rn},29:{n:"Version",t:rn},255:{},2147483648:{n:"Locale",t:dd},2147483651:{n:"Behavior",t:dd},1919054434:{}},iS={1:{n:"CodePage",t:LA},2:{n:"Title",t:rn},3:{n:"Subject",t:rn},4:{n:"Author",t:rn},5:{n:"Keywords",t:rn},6:{n:"Comments",t:rn},7:{n:"Template",t:rn},8:{n:"LastAuthor",t:rn},9:{n:"RevNumber",t:rn},10:{n:"EditTime",t:Ru},11:{n:"LastPrinted",t:Ru},12:{n:"CreatedDate",t:Ru},13:{n:"ModifiedDate",t:Ru},14:{n:"PageCount",t:ii},15:{n:"WordCount",t:ii},16:{n:"CharCount",t:ii},17:{n:"Thumbnail",t:pB},18:{n:"Application",t:rn},19:{n:"DocSecurity",t:ii},255:{},2147483648:{n:"Locale",t:dd},2147483651:{n:"Behavior",t:dd},1919054434:{}};function xB(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var vB=xB([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),yB=qn(vB),ef={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},bB={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Mu={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function IA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function PA(r,e){var t=OO(bB),n=[],i;n[n.length]=Mr,n[n.length]=Ie("Types",null,{xmlns:qr.CT,"xmlns:xsd":qr.xsd,"xmlns:xsi":qr.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(f){return Ie("Default",null,{Extension:f[0],ContentType:f[1]})}));var s=function(f){r[f]&&r[f].length>0&&(i=r[f][0],n[n.length]=Ie("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Mu[f][e.bookType]||Mu[f].xlsx}))},l=function(f){(r[f]||[]).forEach(function(h){n[n.length]=Ie("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Mu[f][e.bookType]||Mu[f].xlsx})})},c=function(f){(r[f]||[]).forEach(function(h){n[n.length]=Ie("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:t[f][0]})})};return s("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Ot={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function jA(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function Oo(r){var e=[Mr,Ie("Relationships",null,{xmlns:qr.RELS})];return cn(r["!id"]).forEach(function(t){e[e.length]=Ie("Relationship",null,r["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Pt(r,e,t,n,i,s){if(i||(i={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),e<0)for(e=r["!idx"];r["!id"]["rId"+e];++e);if(r["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=t,[Ot.HLINK,Ot.XPATH,Ot.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),r["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return r["!id"][i.Id]=i,r[("/"+i.Target).replace("//","/")]=i,e}function wB(r){var e=[Mr];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<r.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+r[t][0]+'" manifest:media-type="'+r[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function sS(r,e,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function SB(r,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function EB(r){var e=[Mr];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=r.length;++t)e.push(sS(r[t][0],r[t][1])),e.push(SB("",r[t][0]));return e.push(sS("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function zA(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+id.version+"</meta:generator></office:meta></office:document-meta>"}var vl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Vg(r,e,t,n,i){i[r]!=null||e==null||e===""||(i[r]=e,e=jt(e),n[n.length]=t?Ie(r,e,t):an(r,e))}function HA(r,e){var t=e||{},n=[Mr,Ie("cp:coreProperties",null,{"xmlns:cp":qr.CORE_PROPS,"xmlns:dc":qr.dc,"xmlns:dcterms":qr.dcterms,"xmlns:dcmitype":qr.dcmitype,"xmlns:xsi":qr.xsi})],i={};if(!r&&!t.Props)return n.join("");r&&(r.CreatedDate!=null&&Vg("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:Fx(r.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),r.ModifiedDate!=null&&Vg("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:Fx(r.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=vl.length;++s){var l=vl[s],c=t.Props&&t.Props[l[1]]!=null?t.Props[l[1]]:r?r[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&Vg(l[0],c,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Bo=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],UA=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function VA(r){var e=[],t=Ie;return r||(r={}),r.Application="SheetJS",e[e.length]=Mr,e[e.length]=Ie("Properties",null,{xmlns:qr.EXT_PROPS,"xmlns:vt":qr.vt}),Bo.forEach(function(n){if(r[n[1]]!==void 0){var i;switch(n[2]){case"string":i=jt(String(r[n[1]]));break;case"bool":i=r[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(n[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",r.SheetNames.map(function(n){return"<vt:lpstr>"+jt(n)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function qA(r){var e=[Mr,Ie("Properties",null,{xmlns:qr.CUST_PROPS,"xmlns:vt":qr.vt})];if(!r)return e.join("");var t=1;return cn(r).forEach(function(i){++t,e[e.length]=Ie("property",HO(r[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:jt(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var aS={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function CB(r,e){var t=[];return cn(aS).map(function(n){for(var i=0;i<vl.length;++i)if(vl[i][1]==n)return vl[i];for(i=0;i<Bo.length;++i)if(Bo[i][1]==n)return Bo[i];throw n}).forEach(function(n){if(r[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:r[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(an(aS[n[1]]||n[1],i))}}),Ie("DocumentProperties",t.join(""),{xmlns:li.o})}function AB(r,e){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return r&&cn(r).forEach(function(s){if(Object.prototype.hasOwnProperty.call(r,s)){for(var l=0;l<vl.length;++l)if(s==vl[l][1])return;for(l=0;l<Bo.length;++l)if(s==Bo[l][1])return;for(l=0;l<t.length;++l)if(s==t[l])return;var c=r[s],f="string";typeof c=="number"?(f="float",c=String(c)):c===!0||c===!1?(f="boolean",c=c?"1":"0"):c=String(c),i.push(Ie(X4(s),c,{"dt:dt":f}))}}),e&&cn(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(r&&Object.prototype.hasOwnProperty.call(r,s))){var l=e[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),i.push(Ie(X4(s),l,{"dt:dt":c}))}}),"<"+n+' xmlns="'+li.o+'">'+i.join("")+"</"+n+">"}function TB(r){var e=typeof r=="string"?new Date(Date.parse(r)):r,t=e.getTime()/1e3+11644473600,n=t%Math.pow(2,32),i=(t-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var l=we(8);return l.write_shift(4,n),l.write_shift(4,i),l}function lS(r,e){var t=we(4),n=we(4);switch(t.write_shift(4,r==80?31:r),r){case 3:n.write_shift(-4,e);break;case 5:n=we(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=TB(e);break;case 31:case 80:for(n=we(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}return sn([t,n])}var WA=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function _B(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function oS(r,e,t){var n=we(8),i=[],s=[],l=8,c=0,f=we(8),h=we(8);if(f.write_shift(4,2),f.write_shift(4,1200),h.write_shift(4,1),s.push(f),i.push(h),l+=8+f.length,!e){h=we(8),h.write_shift(4,0),i.unshift(h);var d=[we(4)];for(d[0].write_shift(4,r.length),c=0;c<r.length;++c){var m=r[c][0];for(f=we(8+2*(m.length+1)+(m.length%2?0:2)),f.write_shift(4,c+2),f.write_shift(4,m.length+1),f.write_shift(0,m,"dbcs");f.l!=f.length;)f.write_shift(1,0);d.push(f)}f=sn(d),s.unshift(f),l+=8+f.length}for(c=0;c<r.length;++c)if(!(e&&!e[r[c][0]])&&!(WA.indexOf(r[c][0])>-1||UA.indexOf(r[c][0])>-1)&&r[c][1]!=null){var g=r[c][1],x=0;if(e){x=+e[r[c][0]];var b=t[x];if(b.p=="version"&&typeof g=="string"){var y=g.split(".");g=(+y[0]<<16)+(+y[1]||0)}f=lS(b.t,g)}else{var S=_B(g);S==-1&&(S=31,g=String(g)),f=lS(S,g)}s.push(f),h=we(8),h.write_shift(4,e?x:2+c),i.push(h),l+=8+f.length}var T=8*(s.length+1);for(c=0;c<s.length;++c)i[c].write_shift(4,T),T+=s[c].length;return n.write_shift(4,l),n.write_shift(4,s.length),sn([n].concat(i).concat(s))}function cS(r,e,t,n,i,s){var l=we(i?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,Gt.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,i?68:48);var f=oS(r,t,n);if(c.push(f),i){var h=oS(i,null,null);l.write_shift(16,s,"hex"),l.write_shift(4,68+f.length),c.push(h)}return sn(c)}function DB(r,e){e||(e=we(r));for(var t=0;t<r;++t)e.write_shift(1,0);return e}function kB(r,e){return r.read_shift(e)===1}function wn(r,e){return e||(e=we(2)),e.write_shift(2,+!!r),e}function GA(r){return r.read_shift(2,"u")}function Ci(r,e){return e||(e=we(2)),e.write_shift(2,r),e}function XA(r,e,t){return t||(t=we(2)),t.write_shift(1,e=="e"?+r:+!!r),t.write_shift(1,e=="e"?1:0),t}function YA(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=r.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var l=n?r.read_shift(n,i):"";return l}function OB(r){var e=r.t||"",t=we(3);t.write_shift(2,e.length),t.write_shift(1,1);var n=we(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[t,n];return sn(i)}function BB(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function NB(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):BB(r,n,t)}function RB(r,e,t){if(t.biff>5)return NB(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function KA(r,e,t){return t||(t=we(3+2*r.length)),t.write_shift(2,r.length),t.write_shift(1,1),t.write_shift(31,r,"utf16le"),t}function fS(r,e){e||(e=we(6+r.length*2)),e.write_shift(4,1+r.length);for(var t=0;t<r.length;++t)e.write_shift(2,r.charCodeAt(t));return e.write_shift(2,0),e}function MB(r){var e=we(512),t=0,n=r.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var l=[8,6815827,6619237,4849780,83];for(t=0;t<l.length;++t)e.write_shift(4,l[t]);if(s==28)n=n.slice(1),fS(n,e);else if(s&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));var c=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(c.length+1)),t=0;t<c.length;++t)e.write_shift(2,c.charCodeAt(t));e.write_shift(2,0),s&8&&fS(i>-1?n.slice(i+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));for(var f=0;n.slice(f*3,f*3+3)=="../"||n.slice(f*3,f*3+3)=="..\\";)++f;for(e.write_shift(2,f),e.write_shift(4,n.length-3*f+1),t=0;t<n.length-3*f;++t)e.write_shift(1,n.charCodeAt(t+3*f)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function El(r,e,t,n){return n||(n=we(6)),n.write_shift(2,r),n.write_shift(2,e),n.write_shift(2,t||0),n}function FB(r,e,t){var n=t.biff>8?4:2,i=r.read_shift(n),s=r.read_shift(n,"i"),l=r.read_shift(n,"i");return[i,s,l]}function LB(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:e},e:{c:i,r:t}}}function $A(r,e){return e||(e=we(8)),e.write_shift(2,r.s.r),e.write_shift(2,r.e.r),e.write_shift(2,r.s.c),e.write_shift(2,r.e.c),e}function av(r,e,t){var n=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=we(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function IB(r,e){var t=!e||e.biff==8,n=we(t?112:54);for(n.write_shift(e.biff==8?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}function PB(r,e){var t=!e||e.biff>=8?2:1,n=we(8+t*r.name.length);n.write_shift(4,r.pos),n.write_shift(1,r.hs||0),n.write_shift(1,r.dt),n.write_shift(1,r.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(t*r.name.length,r.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function jB(r,e){var t=we(8);t.write_shift(4,r.Count),t.write_shift(4,r.Unique);for(var n=[],i=0;i<r.length;++i)n[i]=OB(r[i]);var s=sn([t].concat(n));return s.parts=[t.length].concat(n.map(function(l){return l.length})),s}function zB(){var r=we(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function HB(r){var e=we(18),t=1718;return r&&r.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function UB(r,e){var t=r.name||"Arial",n=e&&e.biff==5,i=n?15+t.length:16+2*t.length,s=we(i);return s.write_shift(2,r.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),s}function VB(r,e,t,n){var i=we(10);return El(r,e,n,i),i.write_shift(4,t),i}function qB(r,e,t,n,i){var s=!i||i.biff==8,l=we(8+ +s+(1+s)*t.length);return El(r,e,n,l),l.write_shift(2,t.length),s&&l.write_shift(1,1),l.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),l}function WB(r,e,t,n){var i=t&&t.biff==5;n||(n=we(i?3+e.length:5+2*e.length)),n.write_shift(2,r),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function GB(r,e){var t=e.biff==8||!e.biff?4:2,n=we(2*t+6);return n.write_shift(t,r.s.r),n.write_shift(t,r.e.r+1),n.write_shift(2,r.s.c),n.write_shift(2,r.e.c+1),n.write_shift(2,0),n}function uS(r,e,t,n){var i=t&&t.biff==5;n||(n=we(i?16:20)),n.write_shift(2,0),r.style?(n.write_shift(2,r.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,r.numFmtId||0),n.write_shift(2,e<<4));var s=0;return r.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function XB(r){var e=we(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function YB(r,e,t,n,i,s){var l=we(8);return El(r,e,n,l),XA(t,s,l),l}function KB(r,e,t,n){var i=we(14);return El(r,e,n,i),Sl(t,i),i}function $B(r,e,t){if(t.biff<8)return QB(r,e,t);for(var n=[],i=r.l+e,s=r.read_shift(t.biff>8?4:2);s--!==0;)n.push(FB(r,t.biff>8?12:6,t));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function QB(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=YA(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function ZB(r){var e=we(2+r.length*8);e.write_shift(2,r.length);for(var t=0;t<r.length;++t)$A(r[t],e);return e}function JB(r){var e=we(24),t=Gr(r[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return sn([e,MB(r[1])])}function eN(r){var e=r[1].Tooltip,t=we(10+2*(e.length+1));t.write_shift(2,2048);var n=Gr(r[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function tN(r){return r||(r=we(4)),r.write_shift(2,1),r.write_shift(2,1),r}function rN(r,e,t){if(!t.cellStyles)return ps(r,e);var n=t&&t.biff>=12?4:2,i=r.read_shift(n),s=r.read_shift(n),l=r.read_shift(n),c=r.read_shift(n),f=r.read_shift(2);n==2&&(r.l+=2);var h={s:i,e:s,w:l,ixfe:c,flags:f};return(t.biff>=5||!t.biff)&&(h.level=f>>8&7),h}function nN(r,e){var t=we(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,r.width*256),t.write_shift(2,0);var n=0;return r.hidden&&(n|=1),t.write_shift(1,n),n=r.level||0,t.write_shift(1,n),t.write_shift(2,0),t}function iN(r){for(var e=we(2*r),t=0;t<r;++t)e.write_shift(2,t+1);return e}function sN(r,e,t){var n=we(15);return rf(n,r,e),n.write_shift(8,t,"f"),n}function aN(r,e,t){var n=we(9);return rf(n,r,e),n.write_shift(2,t),n}var lN=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=K1({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(c,f){var h=[],d=wl(1);switch(f.type){case"base64":d=ji(Vs(c));break;case"binary":d=ji(c);break;case"buffer":case"array":d=c;break}ai(d,0);var m=d.read_shift(1),g=!!(m&136),x=!1,b=!1;switch(m){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var y=0,S=521;m==2&&(y=d.read_shift(2)),d.l+=3,m!=2&&(y=d.read_shift(4)),y>1048576&&(y=1e6),m!=2&&(S=d.read_shift(2));var T=d.read_shift(2),A=f.codepage||1252;m!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(A=r[d[d.l]]),d.l+=1,d.l+=2),b&&(d.l+=36);for(var C=[],_={},N=Math.min(d.length,m==2?521:S-10-(x?264:0)),R=b?32:11;d.l<N&&d[d.l]!=13;)switch(_={},_.name=sd.utils.decode(A,d.slice(d.l,d.l+R)).replace(/[\u0000\r\n].*$/g,""),d.l+=R,_.type=String.fromCharCode(d.read_shift(1)),m!=2&&!b&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),m==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&C.push(_),m!=2&&(d.l+=b?13:14),_.type){case"B":(!x||_.len!=8)&&f.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=S-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=S;var O=0,z=0;for(h[0]=[],z=0;z!=C.length;++z)h[0][z]=C[z].name;for(;y-- >0;){if(d[d.l]===42){d.l+=T;continue}for(++d.l,h[++O]=[],z=0,z=0;z!=C.length;++z){var M=d.slice(d.l,d.l+C[z].len);d.l+=C[z].len,ai(M,0);var I=sd.utils.decode(A,M);switch(C[z].type){case"C":I.trim().length&&(h[O][z]=I.replace(/\s+$/,""));break;case"D":I.length===8?h[O][z]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):h[O][z]=I;break;case"F":h[O][z]=parseFloat(I.trim());break;case"+":case"I":h[O][z]=b?M.read_shift(-4,"i")^2147483648:M.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":h[O][z]=!0;break;case"N":case"F":h[O][z]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));h[O][z]="##MEMO##"+(b?parseInt(I.trim(),10):M.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(h[O][z]=+I||0);break;case"@":h[O][z]=new Date(M.read_shift(-8,"f")-621356832e5);break;case"T":h[O][z]=new Date((M.read_shift(4)-2440588)*864e5+M.read_shift(4));break;case"Y":h[O][z]=M.read_shift(4,"i")/1e4+M.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[O][z]=-M.read_shift(-8,"f");break;case"B":if(x&&C[z].len==8){h[O][z]=M.read_shift(8,"f");break}case"G":case"P":M.l+=C[z].len;break;case"0":if(C[z].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[z].type)}}}if(m!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return f&&f.sheetRows&&(h=h.slice(0,f.sheetRows)),f.DBF=C,h}function n(c,f){var h=f||{};h.dateNF||(h.dateNF="yyyymmdd");var d=$o(t(c,h),h);return d["!cols"]=h.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete h.DBF,d}function i(c,f){try{return Bl(n(c,f),f)}catch(h){if(f&&f.WTF)throw h}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,f){var h=f||{};if(+h.codepage>=0&&E0(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var d=Un(),m=vd(c,{header:1,raw:!0,cellDates:!0}),g=m[0],x=m.slice(1),b=c["!cols"]||[],y=0,S=0,T=0,A=1;for(y=0;y<g.length;++y){if(((b[y]||{}).DBF||{}).name){g[y]=b[y].DBF.name,++T;continue}if(g[y]!=null){if(++T,typeof g[y]=="number"&&(g[y]=g[y].toString(10)),typeof g[y]!="string")throw new Error("DBF Invalid column name "+g[y]+" |"+typeof g[y]+"|");if(g.indexOf(g[y])!==y){for(S=0;S<1024;++S)if(g.indexOf(g[y]+"_"+S)==-1){g[y]+="_"+S;break}}}}var C=ir(c["!ref"]),_=[],N=[],R=[];for(y=0;y<=C.e.c-C.s.c;++y){var O="",z="",M=0,I=[];for(S=0;S<x.length;++S)x[S][y]!=null&&I.push(x[S][y]);if(I.length==0||g[y]==null){_[y]="?";continue}for(S=0;S<I.length;++S){switch(typeof I[S]){case"number":z="B";break;case"string":z="C";break;case"boolean":z="L";break;case"object":z=I[S]instanceof Date?"D":"C";break;default:z="C"}M=Math.max(M,String(I[S]).length),O=O&&O!=z?"C":z}M>250&&(M=250),z=((b[y]||{}).DBF||{}).type,z=="C"&&b[y].DBF.len>M&&(M=b[y].DBF.len),O=="B"&&z=="N"&&(O="N",R[y]=b[y].DBF.dec,M=b[y].DBF.len),N[y]=O=="C"||z=="N"?M:s[O]||0,A+=N[y],_[y]=O}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,x.length),P.write_shift(2,296+32*T),P.write_shift(2,A),y=0;y<4;++y)P.write_shift(4,0);for(P.write_shift(4,0|(+e[ZC]||3)<<8),y=0,S=0;y<g.length;++y)if(g[y]!=null){var W=d.next(32),K=(g[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);W.write_shift(1,K,"sbcs"),W.write_shift(1,_[y]=="?"?"C":_[y],"sbcs"),W.write_shift(4,S),W.write_shift(1,N[y]||s[_[y]]||0),W.write_shift(1,R[y]||0),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(1,0),W.write_shift(4,0),W.write_shift(4,0),S+=N[y]||s[_[y]]||0}var se=d.next(264);for(se.write_shift(4,13),y=0;y<65;++y)se.write_shift(4,0);for(y=0;y<x.length;++y){var ue=d.next(A);for(ue.write_shift(1,0),S=0;S<g.length;++S)if(g[S]!=null)switch(_[S]){case"L":ue.write_shift(1,x[y][S]==null?63:x[y][S]?84:70);break;case"B":ue.write_shift(8,x[y][S]||0,"f");break;case"N":var ee="0";for(typeof x[y][S]=="number"&&(ee=x[y][S].toFixed(R[S]||0)),T=0;T<N[S]-ee.length;++T)ue.write_shift(1,32);ue.write_shift(1,ee,"sbcs");break;case"D":x[y][S]?(ue.write_shift(4,("0000"+x[y][S].getFullYear()).slice(-4),"sbcs"),ue.write_shift(2,("00"+(x[y][S].getMonth()+1)).slice(-2),"sbcs"),ue.write_shift(2,("00"+x[y][S].getDate()).slice(-2),"sbcs")):ue.write_shift(8,"00000000","sbcs");break;case"C":var ie=String(x[y][S]!=null?x[y][S]:"").slice(0,N[S]);for(ue.write_shift(1,ie,"sbcs"),T=0;T<N[S]-ie.length;++T)ue.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:n,from_sheet:l}})(),oN=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+cn(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(g,x){var b=r[x];return typeof b=="number"?F4(b):b},n=function(g,x,b){var y=x.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return y==59?g:F4(y)};r["|"]=254;function i(g,x){switch(x.type){case"base64":return s(Vs(g),x);case"binary":return s(g,x);case"buffer":return s(Nt&&Buffer.isBuffer(g)?g.toString("binary"):Q0(g),x);case"array":return s(np(g),x)}throw new Error("Unrecognized type "+x.type)}function s(g,x){var b=g.split(/[\n\r]+/),y=-1,S=-1,T=0,A=0,C=[],_=[],N=null,R={},O=[],z=[],M=[],I=0,P;for(+x.codepage>=0&&E0(+x.codepage);T!==b.length;++T){I=0;var W=b[T].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),K=W.replace(/;;/g,"\0").split(";").map(function(U){return U.replace(/\u0000/g,";")}),se=K[0],ue;if(W.length>0)switch(se){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":K[1].charAt(0)=="P"&&_.push(W.slice(3).replace(/;;/g,";"));break;case"C":var ee=!1,ie=!1,be=!1,Ee=!1,ke=-1,j=-1;for(A=1;A<K.length;++A)switch(K[A].charAt(0)){case"A":break;case"X":S=parseInt(K[A].slice(1))-1,ie=!0;break;case"Y":for(y=parseInt(K[A].slice(1))-1,ie||(S=0),P=C.length;P<=y;++P)C[P]=[];break;case"K":ue=K[A].slice(1),ue.charAt(0)==='"'?ue=ue.slice(1,ue.length-1):ue==="TRUE"?ue=!0:ue==="FALSE"?ue=!1:isNaN(zs(ue))?isNaN(A0(ue).getDate())||(ue=Cn(ue)):(ue=zs(ue),N!==null&&fA(N)&&(ue=pA(ue))),ee=!0;break;case"E":Ee=!0;var D=a7(K[A].slice(1),{r:y,c:S});C[y][S]=[C[y][S],D];break;case"S":be=!0,C[y][S]=[C[y][S],"S5S"];break;case"G":break;case"R":ke=parseInt(K[A].slice(1))-1;break;case"C":j=parseInt(K[A].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+W)}if(ee&&(C[y][S]&&C[y][S].length==2?C[y][S][0]=ue:C[y][S]=ue,N=null),be){if(Ee)throw new Error("SYLK shared formula cannot have own formula");var L=ke>-1&&C[ke][j];if(!L||!L[1])throw new Error("SYLK shared formula cannot find base");C[y][S][1]=l7(L[1],{r:y-ke,c:S-j})}break;case"F":var B=0;for(A=1;A<K.length;++A)switch(K[A].charAt(0)){case"X":S=parseInt(K[A].slice(1))-1,++B;break;case"Y":for(y=parseInt(K[A].slice(1))-1,P=C.length;P<=y;++P)C[P]=[];break;case"M":I=parseInt(K[A].slice(1))/20;break;case"F":break;case"G":break;case"P":N=_[parseInt(K[A].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(M=K[A].slice(1).split(" "),P=parseInt(M[0],10);P<=parseInt(M[1],10);++P)I=parseInt(M[2],10),z[P-1]=I===0?{hidden:!0}:{wch:I},lv(z[P-1]);break;case"C":S=parseInt(K[A].slice(1))-1,z[S]||(z[S]={});break;case"R":y=parseInt(K[A].slice(1))-1,O[y]||(O[y]={}),I>0?(O[y].hpt=I,O[y].hpx=t3(I)):I===0&&(O[y].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+W)}B<1&&(N=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+W)}}return O.length>0&&(R["!rows"]=O),z.length>0&&(R["!cols"]=z),x&&x.sheetRows&&(C=C.slice(0,x.sheetRows)),[C,R]}function l(g,x){var b=i(g,x),y=b[0],S=b[1],T=$o(y,x);return cn(S).forEach(function(A){T[A]=S[A]}),T}function c(g,x){return Bl(l(g,x),x)}function f(g,x,b,y){var S="C;Y"+(b+1)+";X"+(y+1)+";K";switch(g.t){case"n":S+=g.v||0,g.f&&!g.F&&(S+=";E"+cv(g.f,{r:b,c:y}));break;case"b":S+=g.v?"TRUE":"FALSE";break;case"e":S+=g.w||g.v;break;case"d":S+='"'+(g.w||g.v)+'"';break;case"s":S+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function h(g,x){x.forEach(function(b,y){var S="F;W"+(y+1)+" "+(y+1)+" ";b.hidden?S+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=pd(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=md(b.wpx)),typeof b.wch=="number"&&(S+=Math.round(b.wch))),S.charAt(S.length-1)!=" "&&g.push(S)})}function d(g,x){x.forEach(function(b,y){var S="F;";b.hidden?S+="M0;":b.hpt?S+="M"+20*b.hpt+";":b.hpx&&(S+="M"+20*gd(b.hpx)+";"),S.length>2&&g.push(S+"R"+(y+1))})}function m(g,x){var b=["ID;PWXL;N;E"],y=[],S=ir(g["!ref"]),T,A=Array.isArray(g),C=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),g["!cols"]&&h(b,g["!cols"]),g["!rows"]&&d(b,g["!rows"]),b.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var _=S.s.r;_<=S.e.r;++_)for(var N=S.s.c;N<=S.e.c;++N){var R=zt({r:_,c:N});T=A?(g[_]||[])[N]:g[R],!(!T||T.v==null&&(!T.f||T.F))&&y.push(f(T,g,_,N))}return b.join(C)+C+y.join(C)+C+"E"+C}return{to_workbook:c,to_sheet:l,from_sheet:m}})(),cN=(function(){function r(s,l){switch(l.type){case"base64":return e(Vs(s),l);case"binary":return e(s,l);case"buffer":return e(Nt&&Buffer.isBuffer(s)?s.toString("binary"):Q0(s),l);case"array":return e(np(s),l)}throw new Error("Unrecognized type "+l.type)}function e(s,l){for(var c=s.split(`
`),f=-1,h=-1,d=0,m=[];d!==c.length;++d){if(c[d].trim()==="BOT"){m[++f]=[],h=0;continue}if(!(f<0)){var g=c[d].trim().split(","),x=g[0],b=g[1];++d;for(var y=c[d]||"";(y.match(/["]/g)||[]).length&1&&d<c.length-1;)y+=`
`+c[++d];switch(y=y.trim(),+x){case-1:if(y==="BOT"){m[++f]=[],h=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?m[f][h]=!0:y==="FALSE"?m[f][h]=!1:isNaN(zs(b))?isNaN(A0(b).getDate())?m[f][h]=b:m[f][h]=Cn(b):m[f][h]=zs(b),++h;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),m[f][h++]=y!==""?y:null;break}if(y==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function t(s,l){return $o(r(s,l),l)}function n(s,l){return Bl(t(s,l),l)}var i=(function(){var s=function(f,h,d,m,g){f.push(h),f.push(d+","+m),f.push('"'+g.replace(/"/g,'""')+'"')},l=function(f,h,d,m){f.push(h+","+d),f.push(h==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(f){var h=[],d=ir(f["!ref"]),m,g=Array.isArray(f);s(h,"TABLE",0,1,"sheetjs"),s(h,"VECTORS",0,d.e.r-d.s.r+1,""),s(h,"TUPLES",0,d.e.c-d.s.c+1,""),s(h,"DATA",0,0,"");for(var x=d.s.r;x<=d.e.r;++x){l(h,-1,0,"BOT");for(var b=d.s.c;b<=d.e.c;++b){var y=zt({r:x,c:b});if(m=g?(f[x]||[])[b]:f[y],!m){l(h,1,0,"");continue}switch(m.t){case"n":var S=m.w;!S&&m.v!=null&&(S=m.v),S==null?m.f&&!m.F?l(h,1,0,"="+m.f):l(h,1,0,""):l(h,0,S,"V");break;case"b":l(h,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(h,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=Na(m.z||xr[14],Vn(Cn(m.v)))),l(h,0,m.w,"V");break;default:l(h,1,0,"")}}}l(h,-1,0,"EOD");var T=`\r
`,A=h.join(T);return A}})();return{to_workbook:n,to_sheet:t,from_sheet:i}})(),QA=(function(){function r(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(m,g){for(var x=m.split(`
`),b=-1,y=-1,S=0,T=[];S!==x.length;++S){var A=x[S].trim().split(":");if(A[0]==="cell"){var C=Gr(A[1]);if(T.length<=C.r)for(b=T.length;b<=C.r;++b)T[b]||(T[b]=[]);switch(b=C.r,y=C.c,A[2]){case"t":T[b][y]=r(A[3]);break;case"v":T[b][y]=+A[3];break;case"vtf":var _=A[A.length-1];case"vtc":switch(A[3]){case"nl":T[b][y]=!!+A[4];break;default:T[b][y]=+A[4];break}A[2]=="vtf"&&(T[b][y]=[T[b][y],_])}}}return g&&g.sheetRows&&(T=T.slice(0,g.sheetRows)),T}function n(m,g){return $o(t(m,g),g)}function i(m,g){return Bl(n(m,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function h(m){if(!m||!m["!ref"])return"";for(var g=[],x=[],b,y="",S=fi(m["!ref"]),T=Array.isArray(m),A=S.s.r;A<=S.e.r;++A)for(var C=S.s.c;C<=S.e.c;++C)if(y=zt({r:A,c:C}),b=T?(m[A]||[])[C]:m[y],!(!b||b.v==null||b.t==="z")){switch(x=["cell",y,"t"],b.t){case"s":case"str":x.push(e(b.v));break;case"n":b.f?(x[2]="vtf",x[3]="n",x[4]=b.v,x[5]=e(b.f)):(x[2]="v",x[3]=b.v);break;case"b":x[2]="vt"+(b.f?"f":"c"),x[3]="nl",x[4]=b.v?"1":"0",x[5]=e(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var _=Vn(Cn(b.v));x[2]="vtc",x[3]="nd",x[4]=""+_,x[5]=b.w||Na(b.z||xr[14],_);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function d(m){return[s,l,c,l,h(m),f].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:d}})(),fN=(function(){function r(d,m,g,x,b){b.raw?m[g][x]=d:d===""||(d==="TRUE"?m[g][x]=!0:d==="FALSE"?m[g][x]=!1:isNaN(zs(d))?isNaN(A0(d).getDate())?m[g][x]=d:m[g][x]=Cn(d):m[g][x]=zs(d))}function e(d,m){var g=m||{},x=[];if(!d||d.length===0)return x;for(var b=d.split(/[\r\n]/),y=b.length-1;y>=0&&b[y].length===0;)--y;for(var S=10,T=0,A=0;A<=y;++A)T=b[A].indexOf(" "),T==-1?T=b[A].length:T++,S=Math.max(S,T);for(A=0;A<=y;++A){x[A]=[];var C=0;for(r(b[A].slice(0,S).trim(),x,A,C,g),C=1;C<=(b[A].length-S)/10+1;++C)r(b[A].slice(S+(C-1)*10,S+C*10).trim(),x,A,C,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(d){for(var m={},g=!1,x=0,b=0;x<d.length;++x)(b=d.charCodeAt(x))==34?g=!g:!g&&b in t&&(m[b]=(m[b]||0)+1);b=[];for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([m[x],x]);if(!b.length){m=n;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([m[x],x])}return b.sort(function(y,S){return y[0]-S[0]||n[y[1]]-n[S[1]]}),t[b.pop()[1]]||44}function s(d,m){var g=m||{},x="",b=g.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(x=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(x=d.charAt(4),d=d.slice(6)):x=i(d.slice(0,1024)):g&&g.FS?x=g.FS:x=i(d.slice(0,1024));var S=0,T=0,A=0,C=0,_=0,N=x.charCodeAt(0),R=!1,O=0,z=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var M=g.dateNF!=null?TO(g.dateNF):null;function I(){var P=d.slice(C,_),W={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)W.t="z";else if(g.raw)W.t="s",W.v=P;else if(P.trim().length===0)W.t="s",W.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(W.t="s",W.v=P.slice(2,-1).replace(/""/g,'"')):o7(P)?(W.t="n",W.f=P.slice(1)):(W.t="s",W.v=P);else if(P=="TRUE")W.t="b",W.v=!0;else if(P=="FALSE")W.t="b",W.v=!1;else if(!isNaN(A=zs(P)))W.t="n",g.cellText!==!1&&(W.w=P),W.v=A;else if(!isNaN(A0(P).getDate())||M&&P.match(M)){W.z=g.dateNF||xr[14];var K=0;M&&P.match(M)&&(P=_O(P,g.dateNF,P.match(M)||[]),K=1),g.cellDates?(W.t="d",W.v=Cn(P,K)):(W.t="n",W.v=Vn(Cn(P,K))),g.cellText!==!1&&(W.w=Na(W.z,W.v instanceof Date?Vn(W.v):W.v)),g.cellNF||delete W.z}else W.t="s",W.v=P;if(W.t=="z"||(g.dense?(b[S]||(b[S]=[]),b[S][T]=W):b[zt({c:T,r:S})]=W),C=_+1,z=d.charCodeAt(C),y.e.c<T&&(y.e.c=T),y.e.r<S&&(y.e.r=S),O==N)++T;else if(T=0,++S,g.sheetRows&&g.sheetRows<=S)return!0}e:for(;_<d.length;++_)switch(O=d.charCodeAt(_)){case 34:z===34&&(R=!R);break;case N:case 10:case 13:if(!R&&I())break e;break}return _-C>0&&I(),b["!ref"]=Rr(y),b}function l(d,m){return!(m&&m.PRN)||m.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,m):$o(e(d,m),m)}function c(d,m){var g="",x=m.type=="string"?[0,0,0,0]:SF(d,m);switch(m.type){case"base64":g=Vs(d);break;case"binary":g=d;break;case"buffer":m.codepage==65001?g=d.toString("utf8"):m.codepage&&typeof sd<"u"||(g=Nt&&Buffer.isBuffer(d)?d.toString("binary"):Q0(d));break;case"array":g=np(d);break;case"string":g=d;break;default:throw new Error("Unrecognized type "+m.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=o0(g.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?g=o0(g):m.type=="binary"&&typeof sd<"u",g.slice(0,19)=="socialcalc:version:"?QA.to_sheet(m.type=="string"?g:o0(g),m):l(g,m)}function f(d,m){return Bl(c(d,m),m)}function h(d){for(var m=[],g=ir(d["!ref"]),x,b=Array.isArray(d),y=g.s.r;y<=g.e.r;++y){for(var S=[],T=g.s.c;T<=g.e.c;++T){var A=zt({r:y,c:T});if(x=b?(d[y]||[])[T]:d[A],!x||x.v==null){S.push("          ");continue}for(var C=(x.w||(qs(x),x.w)||"").slice(0,10);C.length<10;)C+=" ";S.push(C+(T===0?" ":""))}m.push(S.join(""))}return m.join(`
`)}return{to_workbook:f,to_sheet:c,from_sheet:h}})(),hS=(function(){function r(D,L,B){if(D){ai(D,D.l||0);for(var U=B.Enum||ke;D.l<D.length;){var Z=D.read_shift(2),le=U[Z]||U[65535],re=D.read_shift(2),ve=D.l+re,pe=le.f&&le.f(D,re,B);if(D.l=ve,L(pe,le,Z))return}}}function e(D,L){switch(L.type){case"base64":return t(ji(Vs(D)),L);case"binary":return t(ji(D),L);case"buffer":case"array":return t(D,L)}throw"Unsupported type "+L.type}function t(D,L){if(!D)return D;var B=L||{},U=B.dense?[]:{},Z="Sheet1",le="",re=0,ve={},pe=[],Je=[],Xe={s:{r:0,c:0},e:{r:0,c:0}},ct=B.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)B.Enum=ke,r(D,function(Oe,$e,lt){switch(lt){case 0:B.vers=Oe,Oe>=4096&&(B.qpro=!0);break;case 6:Xe=Oe;break;case 204:Oe&&(le=Oe);break;case 222:le=Oe;break;case 15:case 51:B.qpro||(Oe[1].v=Oe[1].v.slice(1));case 13:case 14:case 16:lt==14&&(Oe[2]&112)==112&&(Oe[2]&15)>1&&(Oe[2]&15)<15&&(Oe[1].z=B.dateNF||xr[14],B.cellDates&&(Oe[1].t="d",Oe[1].v=pA(Oe[1].v))),B.qpro&&Oe[3]>re&&(U["!ref"]=Rr(Xe),ve[Z]=U,pe.push(Z),U=B.dense?[]:{},Xe={s:{r:0,c:0},e:{r:0,c:0}},re=Oe[3],Z=le||"Sheet"+(re+1),le="");var mt=B.dense?(U[Oe[0].r]||[])[Oe[0].c]:U[zt(Oe[0])];if(mt){mt.t=Oe[1].t,mt.v=Oe[1].v,Oe[1].z!=null&&(mt.z=Oe[1].z),Oe[1].f!=null&&(mt.f=Oe[1].f);break}B.dense?(U[Oe[0].r]||(U[Oe[0].r]=[]),U[Oe[0].r][Oe[0].c]=Oe[1]):U[zt(Oe[0])]=Oe[1];break}},B);else if(D[2]==26||D[2]==14)B.Enum=j,D[2]==14&&(B.qpro=!0,D.l=0),r(D,function(Oe,$e,lt){switch(lt){case 204:Z=Oe;break;case 22:Oe[1].v=Oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Oe[3]>re&&(U["!ref"]=Rr(Xe),ve[Z]=U,pe.push(Z),U=B.dense?[]:{},Xe={s:{r:0,c:0},e:{r:0,c:0}},re=Oe[3],Z="Sheet"+(re+1)),ct>0&&Oe[0].r>=ct)break;B.dense?(U[Oe[0].r]||(U[Oe[0].r]=[]),U[Oe[0].r][Oe[0].c]=Oe[1]):U[zt(Oe[0])]=Oe[1],Xe.e.c<Oe[0].c&&(Xe.e.c=Oe[0].c),Xe.e.r<Oe[0].r&&(Xe.e.r=Oe[0].r);break;case 27:Oe[14e3]&&(Je[Oe[14e3][0]]=Oe[14e3][1]);break;case 1537:Je[Oe[0]]=Oe[1],Oe[0]==re&&(Z=Oe[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(U["!ref"]=Rr(Xe),ve[le||Z]=U,pe.push(le||Z),!Je.length)return{SheetNames:pe,Sheets:ve};for(var We={},Fe=[],je=0;je<Je.length;++je)ve[pe[je]]?(Fe.push(Je[je]||pe[je]),We[Je[je]]=ve[Je[je]]||ve[pe[je]]):(Fe.push(Je[je]),We[Je[je]]={"!ref":"A1"});return{SheetNames:Fe,Sheets:We}}function n(D,L){var B=L||{};if(+B.codepage>=0&&E0(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var U=Un(),Z=ir(D["!ref"]),le=Array.isArray(D),re=[];Pe(U,0,s(1030)),Pe(U,6,f(Z));for(var ve=Math.min(Z.e.r,8191),pe=Z.s.r;pe<=ve;++pe)for(var Je=on(pe),Xe=Z.s.c;Xe<=Z.e.c;++Xe){pe===Z.s.r&&(re[Xe]=mn(Xe));var ct=re[Xe]+Je,We=le?(D[pe]||[])[Xe]:D[ct];if(!(!We||We.t=="z"))if(We.t=="n")(We.v|0)==We.v&&We.v>=-32768&&We.v<=32767?Pe(U,13,x(pe,Xe,We.v)):Pe(U,14,y(pe,Xe,We.v));else{var Fe=qs(We);Pe(U,15,m(pe,Xe,Fe.slice(0,239)))}}return Pe(U,1),U.end()}function i(D,L){var B=L||{};if(+B.codepage>=0&&E0(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var U=Un();Pe(U,0,l(D));for(var Z=0,le=0;Z<D.SheetNames.length;++Z)(D.Sheets[D.SheetNames[Z]]||{})["!ref"]&&Pe(U,27,Ee(D.SheetNames[Z],le++));var re=0;for(Z=0;Z<D.SheetNames.length;++Z){var ve=D.Sheets[D.SheetNames[Z]];if(!(!ve||!ve["!ref"])){for(var pe=ir(ve["!ref"]),Je=Array.isArray(ve),Xe=[],ct=Math.min(pe.e.r,8191),We=pe.s.r;We<=ct;++We)for(var Fe=on(We),je=pe.s.c;je<=pe.e.c;++je){We===pe.s.r&&(Xe[je]=mn(je));var Oe=Xe[je]+Fe,$e=Je?(ve[We]||[])[je]:ve[Oe];if(!(!$e||$e.t=="z"))if($e.t=="n")Pe(U,23,I(We,je,re,$e.v));else{var lt=qs($e);Pe(U,22,O(We,je,re,lt.slice(0,239)))}}++re}}return Pe(U,1),U.end()}function s(D){var L=we(2);return L.write_shift(2,D),L}function l(D){var L=we(26);L.write_shift(2,4096),L.write_shift(2,4),L.write_shift(4,0);for(var B=0,U=0,Z=0,le=0;le<D.SheetNames.length;++le){var re=D.SheetNames[le],ve=D.Sheets[re];if(!(!ve||!ve["!ref"])){++Z;var pe=fi(ve["!ref"]);B<pe.e.r&&(B=pe.e.r),U<pe.e.c&&(U=pe.e.c)}}return B>8191&&(B=8191),L.write_shift(2,B),L.write_shift(1,Z),L.write_shift(1,U),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(1,1),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(4,0),L}function c(D,L,B){var U={s:{c:0,r:0},e:{c:0,r:0}};return L==8&&B.qpro?(U.s.c=D.read_shift(1),D.l++,U.s.r=D.read_shift(2),U.e.c=D.read_shift(1),D.l++,U.e.r=D.read_shift(2),U):(U.s.c=D.read_shift(2),U.s.r=D.read_shift(2),L==12&&B.qpro&&(D.l+=2),U.e.c=D.read_shift(2),U.e.r=D.read_shift(2),L==12&&B.qpro&&(D.l+=2),U.s.c==65535&&(U.s.c=U.e.c=U.s.r=U.e.r=0),U)}function f(D){var L=we(8);return L.write_shift(2,D.s.c),L.write_shift(2,D.s.r),L.write_shift(2,D.e.c),L.write_shift(2,D.e.r),L}function h(D,L,B){var U=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(U[0].c=D.read_shift(1),U[3]=D.read_shift(1),U[0].r=D.read_shift(2),D.l+=2):(U[2]=D.read_shift(1),U[0].c=D.read_shift(2),U[0].r=D.read_shift(2)),U}function d(D,L,B){var U=D.l+L,Z=h(D,L,B);if(Z[1].t="s",B.vers==20768){D.l++;var le=D.read_shift(1);return Z[1].v=D.read_shift(le,"utf8"),Z}return B.qpro&&D.l++,Z[1].v=D.read_shift(U-D.l,"cstr"),Z}function m(D,L,B){var U=we(7+B.length);U.write_shift(1,255),U.write_shift(2,L),U.write_shift(2,D),U.write_shift(1,39);for(var Z=0;Z<U.length;++Z){var le=B.charCodeAt(Z);U.write_shift(1,le>=128?95:le)}return U.write_shift(1,0),U}function g(D,L,B){var U=h(D,L,B);return U[1].v=D.read_shift(2,"i"),U}function x(D,L,B){var U=we(7);return U.write_shift(1,255),U.write_shift(2,L),U.write_shift(2,D),U.write_shift(2,B,"i"),U}function b(D,L,B){var U=h(D,L,B);return U[1].v=D.read_shift(8,"f"),U}function y(D,L,B){var U=we(13);return U.write_shift(1,255),U.write_shift(2,L),U.write_shift(2,D),U.write_shift(8,B,"f"),U}function S(D,L,B){var U=D.l+L,Z=h(D,L,B);if(Z[1].v=D.read_shift(8,"f"),B.qpro)D.l=U;else{var le=D.read_shift(2);_(D.slice(D.l,D.l+le),Z),D.l+=le}return Z}function T(D,L,B){var U=L&32768;return L&=-32769,L=(U?D:0)+(L>=8192?L-16384:L),(U?"":"$")+(B?mn(L):on(L))}var A={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(D,L){ai(D,0);for(var B=[],U=0,Z="",le="",re="",ve="";D.l<D.length;){var pe=D[D.l++];switch(pe){case 0:B.push(D.read_shift(8,"f"));break;case 1:le=T(L[0].c,D.read_shift(2),!0),Z=T(L[0].r,D.read_shift(2),!1),B.push(le+Z);break;case 2:{var Je=T(L[0].c,D.read_shift(2),!0),Xe=T(L[0].r,D.read_shift(2),!1);le=T(L[0].c,D.read_shift(2),!0),Z=T(L[0].r,D.read_shift(2),!1),B.push(Je+Xe+":"+le+Z)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(D.read_shift(2));break;case 6:{for(var ct="";pe=D[D.l++];)ct+=String.fromCharCode(pe);B.push('"'+ct.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:ve=B.pop(),re=B.pop(),B.push(["AND","OR"][pe-20]+"("+re+","+ve+")");break;default:if(pe<32&&C[pe])ve=B.pop(),re=B.pop(),B.push(re+C[pe]+ve);else if(A[pe]){if(U=A[pe][1],U==69&&(U=D[D.l++]),U>B.length){console.error("WK1 bad formula parse 0x"+pe.toString(16)+":|"+B.join("|")+"|");return}var We=B.slice(-U);B.length-=U,B.push(A[pe][0]+"("+We.join(",")+")")}else return pe<=7?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=24?console.error("WK1 unsupported op "+pe.toString(16)):pe<=30?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=115?console.error("WK1 unsupported function opcode "+pe.toString(16)):console.error("WK1 unrecognized opcode "+pe.toString(16))}}B.length==1?L[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function N(D){var L=[{c:0,r:0},{t:"n",v:0},0];return L[0].r=D.read_shift(2),L[3]=D[D.l++],L[0].c=D[D.l++],L}function R(D,L){var B=N(D);return B[1].t="s",B[1].v=D.read_shift(L-4,"cstr"),B}function O(D,L,B,U){var Z=we(6+U.length);Z.write_shift(2,D),Z.write_shift(1,B),Z.write_shift(1,L),Z.write_shift(1,39);for(var le=0;le<U.length;++le){var re=U.charCodeAt(le);Z.write_shift(1,re>=128?95:re)}return Z.write_shift(1,0),Z}function z(D,L){var B=N(D);B[1].v=D.read_shift(2);var U=B[1].v>>1;if(B[1].v&1)switch(U&7){case 0:U=(U>>3)*5e3;break;case 1:U=(U>>3)*500;break;case 2:U=(U>>3)/20;break;case 3:U=(U>>3)/200;break;case 4:U=(U>>3)/2e3;break;case 5:U=(U>>3)/2e4;break;case 6:U=(U>>3)/16;break;case 7:U=(U>>3)/64;break}return B[1].v=U,B}function M(D,L){var B=N(D),U=D.read_shift(4),Z=D.read_shift(4),le=D.read_shift(2);if(le==65535)return U===0&&Z===3221225472?(B[1].t="e",B[1].v=15):U===0&&Z===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var re=le&32768;return le=(le&32767)-16446,B[1].v=(1-re*2)*(Z*Math.pow(2,le+32)+U*Math.pow(2,le)),B}function I(D,L,B,U){var Z=we(14);if(Z.write_shift(2,D),Z.write_shift(1,B),Z.write_shift(1,L),U==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var le=0,re=0,ve=0,pe=0;return U<0&&(le=1,U=-U),re=Math.log2(U)|0,U/=Math.pow(2,re-31),pe=U>>>0,(pe&2147483648)==0&&(U/=2,++re,pe=U>>>0),U-=pe,pe|=2147483648,pe>>>=0,U*=Math.pow(2,32),ve=U>>>0,Z.write_shift(4,ve),Z.write_shift(4,pe),re+=16383+(le?32768:0),Z.write_shift(2,re),Z}function P(D,L){var B=M(D);return D.l+=L-14,B}function W(D,L){var B=N(D),U=D.read_shift(4);return B[1].v=U>>6,B}function K(D,L){var B=N(D),U=D.read_shift(8,"f");return B[1].v=U,B}function se(D,L){var B=K(D);return D.l+=L-10,B}function ue(D,L){return D[D.l+L-1]==0?D.read_shift(L,"cstr"):""}function ee(D,L){var B=D[D.l++];B>L-1&&(B=L-1);for(var U="";U.length<B;)U+=String.fromCharCode(D[D.l++]);return U}function ie(D,L,B){if(!(!B.qpro||L<21)){var U=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var Z=D.read_shift(L-21,"cstr");return[U,Z]}}function be(D,L){for(var B={},U=D.l+L;D.l<U;){var Z=D.read_shift(2);if(Z==14e3){for(B[Z]=[0,""],B[Z][0]=D.read_shift(2);D[D.l];)B[Z][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return B}function Ee(D,L){var B=we(5+D.length);B.write_shift(2,14e3),B.write_shift(2,L);for(var U=0;U<D.length;++U){var Z=D.charCodeAt(U);B[B.l++]=Z>127?95:Z}return B[B.l++]=0,B}var ke={0:{n:"BOF",f:GA},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ue},222:{n:"SHEETNAMELP",f:ee},65535:{n:""}},j={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:M},24:{n:"NUMBER18",f:z},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:be},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:W},38:{n:"??"},39:{n:"NUMBER27",f:K},40:{n:"FORMULA28",f:se},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ue},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ie},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})(),uN=/^\s|\s$|[\t\n\r]/;function ZA(r,e){if(!e.bookSST)return"";var t=[Mr];t[t.length]=Ie("sst",null,{xmlns:Ko[0],count:r.Count,uniqueCount:r.Unique});for(var n=0;n!=r.length;++n)if(r[n]!=null){var i=r[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(uN)&&(s+=' xml:space="preserve"'),s+=">"+jt(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function hN(r){return[r.read_shift(4),r.read_shift(4)]}function dN(r,e){return e||(e=we(8)),e.write_shift(4,r.Count),e.write_shift(4,r.Unique),e}var pN=iB;function mN(r){var e=Un();De(e,159,dN(r));for(var t=0;t<r.length;++t)De(e,19,pN(r[t]));return De(e,160),e.end()}function gN(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function JA(r){var e=0,t,n=gN(r),i=n.length+1,s,l,c,f,h;for(t=wl(i),t[0]=n.length,s=1;s!=i;++s)t[s]=n[s-1];for(s=i-1;s>=0;--s)l=t[s],c=(e&16384)===0?0:1,f=e<<1&32767,h=c|f,e=h^l;return e^52811}var xN=(function(){function r(i,s){switch(s.type){case"base64":return e(Vs(i),s);case"binary":return e(i,s);case"buffer":return e(Nt&&Buffer.isBuffer(i)?i.toString("binary"):Q0(i),s);case"array":return e(np(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var l=s||{},c=l.dense?[]:{},f=i.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(d,m){Array.isArray(c)&&(c[m]=[]);for(var g=/\\\w+\b/g,x=0,b,y=-1;b=g.exec(d);){switch(b[0]){case"\\cell":var S=d.slice(x,g.lastIndex-b[0].length);if(S[0]==" "&&(S=S.slice(1)),++y,S.length){var T={v:S,t:"s"};Array.isArray(c)?c[m][y]=T:c[zt({r:m,c:y})]=T}break}x=g.lastIndex}y>h.e.c&&(h.e.c=y)}),c["!ref"]=Rr(h),c}function t(i,s){return Bl(r(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],l=ir(i["!ref"]),c,f=Array.isArray(i),h=l.s.r;h<=l.e.r;++h){s.push("\\trowd\\trautofit1");for(var d=l.s.c;d<=l.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=l.s.c;d<=l.e.c;++d){var m=zt({r:h,c:d});c=f?(i[h]||[])[d]:i[m],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(qs(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}})();function dS(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}var vN=6,Hs=vN;function pd(r){return Math.floor((r+Math.round(128/Hs)/256)*Hs)}function md(r){return Math.floor((r-5)/Hs*100+.5)/100}function Ix(r){return Math.round((r*Hs+5)/Hs*256)/256}function lv(r){r.width?(r.wpx=pd(r.width),r.wch=md(r.wpx),r.MDW=Hs):r.wpx?(r.wch=md(r.wpx),r.width=Ix(r.wch),r.MDW=Hs):typeof r.wch=="number"&&(r.width=Ix(r.wch),r.wpx=pd(r.width),r.MDW=Hs),r.customWidth&&delete r.customWidth}var yN=96,e3=yN;function gd(r){return r*96/e3}function t3(r){return r*e3/96}function bN(r){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)r[n]!=null&&(e[e.length]=Ie("numFmt",null,{numFmtId:n,formatCode:jt(r[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ie("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function wN(r){var e=[];return e[e.length]=Ie("cellXfs",null),r.forEach(function(t){e[e.length]=Ie("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ie("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function r3(r,e){var t=[Mr,Ie("styleSheet",null,{xmlns:Ko[0],"xmlns:vt":qr.vt})],n;return r.SSF&&(n=bN(r.SSF))!=null&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=wN(e.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function SN(r,e){var t=r.read_shift(2),n=gn(r);return[t,n]}function EN(r,e,t){t||(t=we(6+4*e.length)),t.write_shift(2,r),Xr(e,t);var n=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),n}function CN(r,e,t){var n={};n.sz=r.read_shift(2)/20;var i=uB(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=r.read_shift(2);switch(s===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=r.read_shift(1);l!=0&&(n.underline=l);var c=r.read_shift(1);c>0&&(n.family=c);var f=r.read_shift(1);switch(f>0&&(n.charset=f),r.l++,n.color=fB(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=gn(r),n}function AN(r,e){e||(e=we(153)),e.write_shift(2,r.sz*20),hB(r,e),e.write_shift(2,r.bold?700:400);var t=0;r.vertAlign=="superscript"?t=1:r.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,r.underline||0),e.write_shift(1,r.family||0),e.write_shift(1,r.charset||0),e.write_shift(1,0),hd(r.color,e);var n=0;return n=2,e.write_shift(1,n),Xr(r.name,e),e.length>e.l?e.slice(0,e.l):e}var TN=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],qg,_N=ps;function pS(r,e){e||(e=we(84)),qg||(qg=K1(TN));var t=qg[r.patternType];t==null&&(t=40),e.write_shift(4,t);var n=0;if(t!=40)for(hd({auto:1},e),hd({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function DN(r,e){var t=r.l+e,n=r.read_shift(2),i=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:i}}function n3(r,e,t){t||(t=we(16)),t.write_shift(2,e||0),t.write_shift(2,r.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var n=0;return t.write_shift(1,n),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Kc(r,e){return e||(e=we(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var kN=ps;function ON(r,e){return e||(e=we(51)),e.write_shift(1,0),Kc(null,e),Kc(null,e),Kc(null,e),Kc(null,e),Kc(null,e),e.length>e.l?e.slice(0,e.l):e}function BN(r,e){return e||(e=we(52)),e.write_shift(4,r.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),ud(r.name||"",e),e.length>e.l?e.slice(0,e.l):e}function NN(r,e,t){var n=we(2052);return n.write_shift(4,r),ud(e,n),ud(t,n),n.length>n.l?n.slice(0,n.l):n}function RN(r,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++t}),t!=0&&(De(r,615,Ui(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&De(r,44,EN(i,e[i]))}),De(r,616))}}function MN(r){var e=1;De(r,611,Ui(e)),De(r,43,AN({sz:12,color:{theme:1},name:"Calibri",family:2})),De(r,612)}function FN(r){var e=2;De(r,603,Ui(e)),De(r,45,pS({patternType:"none"})),De(r,45,pS({patternType:"gray125"})),De(r,604)}function LN(r){var e=1;De(r,613,Ui(e)),De(r,46,ON()),De(r,614)}function IN(r){var e=1;De(r,626,Ui(e)),De(r,47,n3({numFmtId:0},65535)),De(r,627)}function PN(r,e){De(r,617,Ui(e.length)),e.forEach(function(t){De(r,47,n3(t,0))}),De(r,618)}function jN(r){var e=1;De(r,619,Ui(e)),De(r,48,BN({xfId:0,name:"Normal"})),De(r,620)}function zN(r){var e=0;De(r,505,Ui(e)),De(r,506)}function HN(r){var e=0;De(r,508,NN(e,"TableStyleMedium9","PivotStyleMedium4")),De(r,509)}function UN(r,e){var t=Un();return De(t,278),RN(t,r.SSF),MN(t),FN(t),LN(t),IN(t),PN(t,e.cellXfs),jN(t),zN(t),HN(t),De(t,279),t.end()}function i3(r,e){if(e&&e.themeXLSX)return e.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var t=[Mr];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function VN(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:gn(r)}}function qN(r){var e=we(12+2*r.name.length);return e.write_shift(4,r.flags),e.write_shift(4,r.version),Xr(r.name,e),e.slice(0,e.l)}function WN(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function GN(r){var e=we(4+8*r.length);e.write_shift(4,r.length);for(var t=0;t<r.length;++t)e.write_shift(4,r[t][0]),e.write_shift(4,r[t][1]);return e}function XN(r,e){var t=we(8+2*e.length);return t.write_shift(4,r),Xr(e,t),t.slice(0,t.l)}function YN(r){return r.l+=4,r.read_shift(4)!=0}function KN(r,e){var t=we(8);return t.write_shift(4,r),t.write_shift(4,1),t}function $N(){var r=Un();return De(r,332),De(r,334,Ui(1)),De(r,335,qN({name:"XLDAPR",version:12e4,flags:3496657072})),De(r,336),De(r,339,XN(1,"XLDAPR")),De(r,52),De(r,35,Ui(514)),De(r,4096,Ui(0)),De(r,4097,Ci(1)),De(r,36),De(r,53),De(r,340),De(r,337,KN(1)),De(r,51,GN([[1,0]])),De(r,338),De(r,333),r.end()}function s3(){var r=[Mr];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function QN(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=zt(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Co=1024;function a3(r,e){for(var t=[21600,21600],n=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[Ie("xml",null,{"xmlns:v":li.v,"xmlns:o":li.o,"xmlns:x":li.x,"xmlns:mv":li.mv}).replace(/\/>/,">"),Ie("o:shapelayout",Ie("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),Ie("v:shapetype",[Ie("v:stroke",null,{joinstyle:"miter"}),Ie("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:n})];Co<r*1e3;)Co+=1e3;return e.forEach(function(s){var l=Gr(s[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var f=c.type=="gradient"?Ie("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=Ie("v:fill",f,c),d={on:"t",obscured:"t"};++Co,i=i.concat(["<v:shape"+_0({id:"_x0000_s"+Co,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,Ie("v:shadow",null,d),Ie("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",an("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),an("x:AutoFill","False"),an("x:Row",String(l.r)),an("x:Column",String(l.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function l3(r){var e=[Mr,Ie("comments",null,{xmlns:Ko[0]})],t=[];return e.push("<authors>"),r.forEach(function(n){n[1].forEach(function(i){var s=jt(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),r.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=t.indexOf("tc="+n[1][0].ID):n[1].forEach(function(f){f.a&&(i=t.indexOf(jt(f.a))),s.push(f.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(an("t",jt(s[0]||"")));else{for(var l=`Comment:
    `+s[0]+`
`,c=1;c<s.length;++c)l+=`Reply:
    `+s[c]+`
`;e.push(an("t",jt(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function ZN(r,e,t){var n=[Mr,Ie("ThreadedComments",null,{xmlns:qr.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(i){var s="";(i[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var f={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};c==0?s=f.id:f.parentId=s,l.ID=f.id,l.a&&(f.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),n.push(Ie("threadedComment",an("text",l.t||""),f))})}),n.push("</ThreadedComments>"),n.join("")}function JN(r){var e=[Mr,Ie("personList",null,{xmlns:qr.TCMNT,"xmlns:x":Ko[0]}).replace(/[\/]>/,">")];return r.forEach(function(t,n){e.push(Ie("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function e7(r){var e={};e.iauthor=r.read_shift(4);var t=Fl(r);return e.rfx=t.s,e.ref=zt(t.s),r.l+=16,e}function t7(r,e){return e==null&&(e=we(36)),e.write_shift(4,r[1].iauthor),Qo(r[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var r7=gn;function n7(r){return Xr(r.slice(0,54))}function i7(r){var e=Un(),t=[];return De(e,628),De(e,630),r.forEach(function(n){n[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),De(e,632,n7(i.a)))})}),De(e,631),De(e,633),r.forEach(function(n){n[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:Gr(n[0]),e:Gr(n[0])};De(e,635,t7([s,i])),i.t&&i.t.length>0&&De(e,637,aB(i)),De(e,636),delete i.iauthor})}),De(e,634),De(e,629),e.end()}function s7(r,e){e.FullPaths.forEach(function(t,n){if(n!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Gt.utils.cfb_add(r,i,e.FileIndex[n].content)}})}var o3=["xlsb","xlsm","xlam","biff8","xla"],a7=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,i,s,l){var c=!1,f=!1;s.length==0?f=!0:s.charAt(0)=="["&&(f=!0,s=s.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var h=s.length>0?parseInt(s,10)|0:0,d=l.length>0?parseInt(l,10)|0:0;return c?d+=e.c:--d,f?h+=e.r:--h,i+(c?"":"$")+mn(d)+(f?"":"$")+on(h)}return function(i,s){return e=s,i.replace(r,t)}})(),ov=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,cv=(function(){return function(e,t){return e.replace(ov,function(n,i,s,l,c,f){var h=rv(l)-(s?0:t.c),d=tv(f)-(c?0:t.r),m=d==0?"":c?d+1:"["+d+"]",g=h==0?"":s?h+1:"["+h+"]";return i+"R"+m+"C"+g})}})();function l7(r,e){return r.replace(ov,function(t,n,i,s,l,c){return n+(i=="$"?i+s:mn(rv(s)+e.c))+(l=="$"?l+c:on(tv(c)+e.r))})}function o7(r){return r.length!=1}function Or(r){r.l+=1}function Ra(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function c3(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return f3(r);t.biff==12&&(n=4)}var i=r.read_shift(n),s=r.read_shift(n),l=Ra(r),c=Ra(r);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function f3(r){var e=Ra(r),t=Ra(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function c7(r,e,t){if(t.biff<8)return f3(r);var n=r.read_shift(t.biff==12?4:2),i=r.read_shift(t.biff==12?4:2),s=Ra(r),l=Ra(r);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function u3(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return f7(r);var n=r.read_shift(t&&t.biff==12?4:2),i=Ra(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function f7(r){var e=Ra(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function u7(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function h7(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return d7(r);var i=r.read_shift(n>=12?4:2),s=r.read_shift(2),l=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;i>524287;)i-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:l,rRel:c}}function d7(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:n}}function p7(r,e,t){var n=(r[r.l++]&96)>>5,i=c3(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,i]}function m7(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}var l=c3(r,s,t);return[n,i,l]}function g7(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function x7(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}return r.l+=s,[n,i]}function v7(r,e,t){var n=(r[r.l++]&96)>>5,i=c7(r,e-1,t);return[n,i]}function y7(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function mS(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function b7(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(r.read_shift(t&&t.biff==2?1:2));return i}function w7(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function S7(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function E7(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function C7(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function h3(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function A7(r){return r.read_shift(2),h3(r)}function T7(r){return r.read_shift(2),h3(r)}function _7(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=u3(r,0,t);return[n,i]}function D7(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=h7(r,0,t);return[n,i]}function k7(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var s=u3(r,0,t);return[n,i,s]}function O7(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(t&&t.biff<=3?1:2);return[OR[i],m3[i],n]}function B7(r,e,t){var n=r[r.l++],i=r.read_shift(1),s=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:N7(r);return[i,(s[0]===0?m3:kR)[s[1]]]}function N7(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function R7(r,e,t){r.l+=t&&t.biff==2?3:4}function M7(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function F7(r){return r.l++,ef[r.read_shift(1)]}function L7(r){return r.l++,r.read_shift(2)}function I7(r){return r.l++,r.read_shift(1)!==0}function P7(r){return r.l++,Zo(r)}function j7(r,e,t){return r.l++,YA(r,e-1,t)}function z7(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=kB(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=ef[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=Zo(r);break;case 2:t[1]=RB(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function H7(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((t.biff==12?Fl:LB)(r));return i}function U7(r,e,t){var n=0,i=0;t.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--i==0&&(i=256));for(var s=0,l=[];s!=n&&(l[s]=[]);++s)for(var c=0;c!=i;++c)l[s][c]=z7(r,t.biff);return l}function V7(r,e,t){var n=r.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=r.read_shift(i);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,s]}function q7(r,e,t){if(t.biff==5)return W7(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),s=r.read_shift(4);return[n,i,s]}function W7(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function G7(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function X7(r,e,t){var n=r.read_shift(1)>>>5&3,i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function Y7(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function K7(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return r.l+=s,[n,i]}var $7=ps,Q7=ps,Z7=ps;function tf(r,e,t){return r.l+=2,[u7(r)]}function fv(r){return r.l+=6,[]}var J7=tf,eR=fv,tR=fv,rR=tf;function d3(r){return r.l+=2,[GA(r),r.read_shift(2)&1]}var nR=tf,iR=d3,sR=fv,aR=tf,lR=tf,oR=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function cR(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),s=r.read_shift(2),l=oR[t>>2&31];return{ixti:e,coltype:t&3,rt:l,idx:n,c:i,C:s}}function fR(r){return r.l+=2,[r.read_shift(4)]}function uR(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function hR(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function dR(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function pR(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function mR(r){return r.l+=4,[0,0]}var gS={1:{n:"PtgExp",f:M7},2:{n:"PtgTbl",f:Z7},3:{n:"PtgAdd",f:Or},4:{n:"PtgSub",f:Or},5:{n:"PtgMul",f:Or},6:{n:"PtgDiv",f:Or},7:{n:"PtgPower",f:Or},8:{n:"PtgConcat",f:Or},9:{n:"PtgLt",f:Or},10:{n:"PtgLe",f:Or},11:{n:"PtgEq",f:Or},12:{n:"PtgGe",f:Or},13:{n:"PtgGt",f:Or},14:{n:"PtgNe",f:Or},15:{n:"PtgIsect",f:Or},16:{n:"PtgUnion",f:Or},17:{n:"PtgRange",f:Or},18:{n:"PtgUplus",f:Or},19:{n:"PtgUminus",f:Or},20:{n:"PtgPercent",f:Or},21:{n:"PtgParen",f:Or},22:{n:"PtgMissArg",f:Or},23:{n:"PtgStr",f:j7},26:{n:"PtgSheet",f:uR},27:{n:"PtgEndSheet",f:hR},28:{n:"PtgErr",f:F7},29:{n:"PtgBool",f:I7},30:{n:"PtgInt",f:L7},31:{n:"PtgNum",f:P7},32:{n:"PtgArray",f:y7},33:{n:"PtgFunc",f:O7},34:{n:"PtgFuncVar",f:B7},35:{n:"PtgName",f:V7},36:{n:"PtgRef",f:_7},37:{n:"PtgArea",f:p7},38:{n:"PtgMemArea",f:G7},39:{n:"PtgMemErr",f:$7},40:{n:"PtgMemNoMem",f:Q7},41:{n:"PtgMemFunc",f:X7},42:{n:"PtgRefErr",f:Y7},43:{n:"PtgAreaErr",f:g7},44:{n:"PtgRefN",f:D7},45:{n:"PtgAreaN",f:v7},46:{n:"PtgMemAreaN",f:dR},47:{n:"PtgMemNoMemN",f:pR},57:{n:"PtgNameX",f:q7},58:{n:"PtgRef3d",f:k7},59:{n:"PtgArea3d",f:m7},60:{n:"PtgRefErr3d",f:K7},61:{n:"PtgAreaErr3d",f:x7},255:{}},gR={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},xR={1:{n:"PtgElfLel",f:d3},2:{n:"PtgElfRw",f:aR},3:{n:"PtgElfCol",f:J7},6:{n:"PtgElfRwV",f:lR},7:{n:"PtgElfColV",f:rR},10:{n:"PtgElfRadical",f:nR},11:{n:"PtgElfRadicalS",f:sR},13:{n:"PtgElfColS",f:eR},15:{n:"PtgElfColSV",f:tR},16:{n:"PtgElfRadicalLel",f:iR},25:{n:"PtgList",f:cR},29:{n:"PtgSxName",f:fR},255:{}},vR={0:{n:"PtgAttrNoop",f:mR},1:{n:"PtgAttrSemi",f:C7},2:{n:"PtgAttrIf",f:S7},4:{n:"PtgAttrChoose",f:b7},8:{n:"PtgAttrGoto",f:w7},16:{n:"PtgAttrSum",f:R7},32:{n:"PtgAttrBaxcel",f:mS},33:{n:"PtgAttrBaxcel",f:mS},64:{n:"PtgAttrSpace",f:A7},65:{n:"PtgAttrSpaceSemi",f:T7},128:{n:"PtgAttrIfError",f:E7},255:{}};function yR(r,e,t,n){if(n.biff<8)return ps(r,e);for(var i=r.l+e,s=[],l=0;l!==t.length;++l)switch(t[l][0]){case"PtgArray":t[l][1]=U7(r,0,n),s.push(t[l][1]);break;case"PtgMemArea":t[l][2]=H7(r,t[l][1],n),s.push(t[l][2]);break;case"PtgExp":n&&n.biff==12&&(t[l][1][1]=r.read_shift(4),s.push(t[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[l][0]}return e=i-r.l,e!==0&&s.push(ps(r,e)),s}function bR(r,e,t){for(var n=r.l+e,i,s,l=[];n!=r.l;)e=n-r.l,s=r[r.l],i=gS[s]||gS[gR[s]],(s===24||s===25)&&(i=(s===24?xR:vR)[r[r.l+1]]),!i||!i.f?ps(r,e):l.push([i.n,i.f(r,e,t)]);return l}function wR(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],i=[],s=0;s<n.length;++s){var l=n[s];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var SR={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function ER(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function p3(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(t.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function xS(r,e,t){var n=p3(r,e,t);return n=="#REF"?n:ER(n,t)}function zo(r,e,t,n,i){var s=i&&i.biff||8,l={s:{c:0,r:0}},c=[],f,h,d,m=0,g=0,x,b="";if(!r[0]||!r[0][0])return"";for(var y=-1,S="",T=0,A=r[0].length;T<A;++T){var C=r[0][T];switch(C[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=c.pop(),h=c.pop(),y>=0){switch(r[0][y][1][0]){case 0:S=gr(" ",r[0][y][1][1]);break;case 1:S=gr("\r",r[0][y][1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][y][1][0])}h=h+S,y=-1}c.push(h+SR[C[0]]+f);break;case"PtgIsect":f=c.pop(),h=c.pop(),c.push(h+" "+f);break;case"PtgUnion":f=c.pop(),h=c.pop(),c.push(h+","+f);break;case"PtgRange":f=c.pop(),h=c.pop(),c.push(h+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=f0(C[1][1],l,i),c.push(u0(d,s));break;case"PtgRefN":d=t?f0(C[1][1],t,i):C[1][1],c.push(u0(d,s));break;case"PtgRef3d":m=C[1][1],d=f0(C[1][2],l,i),b=xS(n,m,i),c.push(b+"!"+u0(d,s));break;case"PtgFunc":case"PtgFuncVar":var _=C[1][0],N=C[1][1];_||(_=0),_&=127;var R=_==0?[]:c.slice(-_);c.length-=_,N==="User"&&(N=R.shift()),c.push(N+"("+R.join(",")+")");break;case"PtgBool":c.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(C[1]);break;case"PtgNum":c.push(String(C[1]));break;case"PtgStr":c.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(C[1]);break;case"PtgAreaN":x=tS(C[1][1],t?{s:t}:l,i),c.push(Ug(x,i));break;case"PtgArea":x=tS(C[1][1],l,i),c.push(Ug(x,i));break;case"PtgArea3d":m=C[1][1],x=C[1][2],b=xS(n,m,i),c.push(b+"!"+Ug(x,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=C[1][2];var O=(n.names||[])[g-1]||(n[0]||[])[g],z=O?O.Name:"SH33TJSNAME"+String(g);z&&z.slice(0,6)=="_xlfn."&&!i.xlfn&&(z=z.slice(6)),c.push(z);break;case"PtgNameX":var M=C[1][1];g=C[1][2];var I;if(i.biff<=5)M<0&&(M=-M),n[M]&&(I=n[M][g]);else{var P="";if(((n[M]||[])[0]||[])[0]==14849||(((n[M]||[])[0]||[])[0]==1025?n[M][g]&&n[M][g].itab>0&&(P=n.SheetNames[n[M][g].itab-1]+"!"):P=n.SheetNames[g-1]+"!"),n[M]&&n[M][g])P+=n[M][g].Name;else if(n[0]&&n[0][g])P+=n[0][g].Name;else{var W=(p3(n,M,i)||"").split(";;");W[g-1]?P=W[g-1]:P+="SH33TJSERRX"}c.push(P);break}I||(I={Name:"SH33TJSERRY"}),c.push(I.Name);break;case"PtgParen":var K="(",se=")";if(y>=0){switch(S="",r[0][y][1][0]){case 2:K=gr(" ",r[0][y][1][1])+K;break;case 3:K=gr("\r",r[0][y][1][1])+K;break;case 4:se=gr(" ",r[0][y][1][1])+se;break;case 5:se=gr("\r",r[0][y][1][1])+se;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][y][1][0])}y=-1}c.push(K+c.pop()+se);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":d={c:C[1][1],r:C[1][0]};var ue={c:t.c,r:t.r};if(n.sharedf[zt(d)]){var ee=n.sharedf[zt(d)];c.push(zo(ee,l,ue,n,i))}else{var ie=!1;for(f=0;f!=n.arrayf.length;++f)if(h=n.arrayf[f],!(d.c<h[0].s.c||d.c>h[0].e.c)&&!(d.r<h[0].s.r||d.r>h[0].e.r)){c.push(zo(h[1],l,ue,n,i)),ie=!0;break}ie||c.push(C[1])}break;case"PtgArray":c.push("{"+wR(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=T;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var be=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&y>=0&&be.indexOf(r[0][T][0])==-1){C=r[0][y];var Ee=!0;switch(C[1][0]){case 4:Ee=!1;case 0:S=gr(" ",C[1][1]);break;case 5:Ee=!1;case 1:S=gr("\r",C[1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}c.push((Ee?S:"")+c.pop()+(Ee?"":S)),y=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function CR(r){if(r==null){var e=we(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof r=="number")return Sl(r);return Sl(0)}function AR(r,e,t,n,i){var s=El(e,t,i),l=CR(r.v),c=we(6),f=33;c.write_shift(2,f),c.write_shift(4,0);for(var h=we(r.bf.length),d=0;d<r.bf.length;++d)h[d]=r.bf[d];var m=sn([s,l,c,h]);return m}function ip(r,e,t){var n=r.read_shift(4),i=bR(r,n,t),s=r.read_shift(4),l=s>0?yR(r,s,i,t):null;return[i,l]}var TR=ip,sp=ip,_R=ip,DR=ip,kR={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},m3={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},OR={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function BR(r){var e="of:="+r.replace(ov,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function NR(r){return r.replace(/\./,"!")}var h0=typeof Map<"u";function uv(r,e,t){var n=0,i=r.length;if(t){if(h0?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=h0?t.get(e):t[e];n<s.length;++n)if(r[s[n]].t===e)return r.Count++,s[n]}}else for(;n<i;++n)if(r[n].t===e)return r.Count++,n;return r[i]={t:e},r.Count++,r.Unique++,t&&(h0?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function ap(r,e){var t={min:r+1,max:r+1},n=-1;return e.MDW&&(Hs=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?n=md(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(t.width=Ix(n),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function g3(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function Ua(r,e,t){var n=t.revssf[e.z!=null?e.z:"General"],i=60,s=r.length;if(n==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){uA(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(r[i].numFmtId===n)return i;return r[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function RR(r,e,t){if(r&&r["!ref"]){var n=ir(r["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+r["!ref"])}}function MR(r){if(r.length===0)return"";for(var e='<mergeCells count="'+r.length+'">',t=0;t!=r.length;++t)e+='<mergeCell ref="'+Rr(r[t])+'"/>';return e+"</mergeCells>"}function FR(r,e,t,n,i){var s=!1,l={},c=null;if(n.bookType!=="xlsx"&&e.vbaraw){var f=e.SheetNames[t];try{e.Workbook&&(f=e.Workbook.Sheets[t].CodeName||f)}catch{}s=!0,l.codeName=T0(jt(f))}if(r&&r["!outline"]){var h={summaryBelow:1,summaryRight:1};r["!outline"].above&&(h.summaryBelow=0),r["!outline"].left&&(h.summaryRight=0),c=(c||"")+Ie("outlinePr",null,h)}!s&&!c||(i[i.length]=Ie("sheetPr",c,l))}var LR=["objects","scenarios","selectLockedCells","selectUnlockedCells"],IR=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function PR(r){var e={sheet:1};return LR.forEach(function(t){r[t]!=null&&r[t]&&(e[t]="1")}),IR.forEach(function(t){r[t]!=null&&!r[t]&&(e[t]="0")}),r.password&&(e.password=JA(r.password).toString(16).toUpperCase()),Ie("sheetProtection",null,e)}function jR(r){return g3(r),Ie("pageMargins",null,r)}function zR(r,e){for(var t=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(t[t.length]=Ie("col",null,ap(i,n)));return t[t.length]="</cols>",t.join("")}function HR(r,e,t,n){var i=typeof r.ref=="string"?r.ref:Rr(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,l=fi(i);l.s.r==l.e.r&&(l.e.r=fi(e["!ref"]).e.r,i=Rr(l));for(var c=0;c<s.length;++c){var f=s[c];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+t.SheetNames[n]+"'!"+i;break}}return c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+i}),Ie("autoFilter",null,{ref:i})}function UR(r,e,t,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ie("sheetViews",Ie("sheetView",null,i),{})}function VR(r,e,t,n){if(r.c&&t["!comments"].push([e,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var i="",s=r.t,l=r.v;if(r.t!=="z")switch(r.t){case"b":i=r.v?"1":"0";break;case"n":i=""+r.v;break;case"e":i=ef[r.v];break;case"d":n&&n.cellDates?i=Cn(r.v,-1).toISOString():(r=qn(r),r.t="n",i=""+(r.v=Vn(Cn(r.v)))),typeof r.z>"u"&&(r.z=xr[14]);break;default:i=r.v;break}var c=an("v",jt(i)),f={r:e},h=Ua(n.cellXfs,r,n);switch(h!==0&&(f.s=h),r.t){case"n":break;case"d":f.t="d";break;case"b":f.t="b";break;case"e":f.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){c=an("v",""+uv(n.Strings,r.v,n.revStrings)),f.t="s";break}f.t="str";break}if(r.t!=s&&(r.t=s,r.v=l),typeof r.f=="string"&&r.f){var d=r.F&&r.F.slice(0,e.length)==e?{t:"array",ref:r.F}:null;c=Ie("f",jt(r.f),d)+(r.v!=null?c:"")}return r.l&&t["!links"].push([e,r.l]),r.D&&(f.cm=1),Ie("c",c,f)}function qR(r,e,t,n){var i=[],s=[],l=ir(r["!ref"]),c="",f,h="",d=[],m=0,g=0,x=r["!rows"],b=Array.isArray(r),y={r:h},S,T=-1;for(g=l.s.c;g<=l.e.c;++g)d[g]=mn(g);for(m=l.s.r;m<=l.e.r;++m){for(s=[],h=on(m),g=l.s.c;g<=l.e.c;++g){f=d[g]+h;var A=b?(r[m]||[])[g]:r[f];A!==void 0&&(c=VR(A,f,r,e))!=null&&s.push(c)}(s.length>0||x&&x[m])&&(y={r:h},x&&x[m]&&(S=x[m],S.hidden&&(y.hidden=1),T=-1,S.hpx?T=gd(S.hpx):S.hpt&&(T=S.hpt),T>-1&&(y.ht=T,y.customHeight=1),S.level&&(y.outlineLevel=S.level)),i[i.length]=Ie("row",s.join(""),y))}if(x)for(;m<x.length;++m)x&&x[m]&&(y={r:m+1},S=x[m],S.hidden&&(y.hidden=1),T=-1,S.hpx?T=gd(S.hpx):S.hpt&&(T=S.hpt),T>-1&&(y.ht=T,y.customHeight=1),S.level&&(y.outlineLevel=S.level),i[i.length]=Ie("row","",y));return i.join("")}function x3(r,e,t,n){var i=[Mr,Ie("worksheet",null,{xmlns:Ko[0],"xmlns:r":qr.r})],s=t.SheetNames[r],l=0,c="",f=t.Sheets[s];f==null&&(f={});var h=f["!ref"]||"A1",d=ir(h);if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),h=Rr(d)}n||(n={}),f["!comments"]=[];var m=[];FR(f,t,r,e,i),i[i.length]=Ie("dimension",null,{ref:h}),i[i.length]=UR(f,e,r,t),e.sheetFormat&&(i[i.length]=Ie("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),f["!cols"]!=null&&f["!cols"].length>0&&(i[i.length]=zR(f,f["!cols"])),i[l=i.length]="<sheetData/>",f["!links"]=[],f["!ref"]!=null&&(c=qR(f,e),c.length>0&&(i[i.length]=c)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),f["!protect"]&&(i[i.length]=PR(f["!protect"])),f["!autofilter"]!=null&&(i[i.length]=HR(f["!autofilter"],f,t,r)),f["!merges"]!=null&&f["!merges"].length>0&&(i[i.length]=MR(f["!merges"]));var g=-1,x,b=-1;return f["!links"].length>0&&(i[i.length]="<hyperlinks>",f["!links"].forEach(function(y){y[1].Target&&(x={ref:y[0]},y[1].Target.charAt(0)!="#"&&(b=Pt(n,-1,jt(y[1].Target).replace(/#.*$/,""),Ot.HLINK),x["r:id"]="rId"+b),(g=y[1].Target.indexOf("#"))>-1&&(x.location=jt(y[1].Target.slice(g+1))),y[1].Tooltip&&(x.tooltip=jt(y[1].Tooltip)),i[i.length]=Ie("hyperlink",null,x))}),i[i.length]="</hyperlinks>"),delete f["!links"],f["!margins"]!=null&&(i[i.length]=jR(f["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=an("ignoredErrors",Ie("ignoredError",null,{numberStoredAsText:1,sqref:h}))),m.length>0&&(b=Pt(n,-1,"../drawings/drawing"+(r+1)+".xml",Ot.DRAW),i[i.length]=Ie("drawing",null,{"r:id":"rId"+b}),f["!drawing"]=m),f["!comments"].length>0&&(b=Pt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Ot.VML),i[i.length]=Ie("legacyDrawing",null,{"r:id":"rId"+b}),f["!legacy"]=b),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function WR(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var s=r.read_shift(1);return r.l=n,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function GR(r,e,t){var n=we(145),i=(t["!rows"]||[])[r]||{};n.write_shift(4,r),n.write_shift(4,0);var s=320;i.hpx?s=gd(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var c=0,f=n.l;n.l+=4;for(var h={r,c:0},d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var m=-1,g=-1,x=d<<10;x<d+1<<10;++x){h.c=x;var b=Array.isArray(t)?(t[h.r]||[])[h.c]:t[zt(h)];b&&(m<0&&(m=x),g=x)}m<0||(++c,n.write_shift(4,m),n.write_shift(4,g))}var y=n.l;return n.l=f,n.write_shift(4,c),n.l=y,n.length>n.l?n.slice(0,n.l):n}function XR(r,e,t,n){var i=GR(n,t,e);(i.length>17||(e["!rows"]||[])[n])&&De(r,0,i)}var YR=Fl,KR=Qo;function $R(){}function QR(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=lB(r),t}function ZR(r,e,t){t==null&&(t=we(84+4*r.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),t.write_shift(1,n);for(var i=1;i<3;++i)t.write_shift(1,0);return hd({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),NA(r,t),t.slice(0,t.l)}function JR(r){var e=Ni(r);return[e]}function e9(r,e,t){return t==null&&(t=we(8)),Nl(e,t)}function t9(r){var e=Rl(r);return[e]}function r9(r,e,t){return t==null&&(t=we(4)),Ml(e,t)}function n9(r){var e=Ni(r),t=r.read_shift(1);return[e,t,"b"]}function i9(r,e,t){return t==null&&(t=we(9)),Nl(e,t),t.write_shift(1,r.v?1:0),t}function s9(r){var e=Rl(r),t=r.read_shift(1);return[e,t,"b"]}function a9(r,e,t){return t==null&&(t=we(5)),Ml(e,t),t.write_shift(1,r.v?1:0),t}function l9(r){var e=Ni(r),t=r.read_shift(1);return[e,t,"e"]}function o9(r,e,t){return t==null&&(t=we(9)),Nl(e,t),t.write_shift(1,r.v),t}function c9(r){var e=Rl(r),t=r.read_shift(1);return[e,t,"e"]}function f9(r,e,t){return t==null&&(t=we(8)),Ml(e,t),t.write_shift(1,r.v),t.write_shift(2,0),t.write_shift(1,0),t}function u9(r){var e=Ni(r),t=r.read_shift(4);return[e,t,"s"]}function h9(r,e,t){return t==null&&(t=we(12)),Nl(e,t),t.write_shift(4,e.v),t}function d9(r){var e=Rl(r),t=r.read_shift(4);return[e,t,"s"]}function p9(r,e,t){return t==null&&(t=we(8)),Ml(e,t),t.write_shift(4,e.v),t}function m9(r){var e=Ni(r),t=Zo(r);return[e,t,"n"]}function g9(r,e,t){return t==null&&(t=we(16)),Nl(e,t),Sl(r.v,t),t}function x9(r){var e=Rl(r),t=Zo(r);return[e,t,"n"]}function v9(r,e,t){return t==null&&(t=we(12)),Ml(e,t),Sl(r.v,t),t}function y9(r){var e=Ni(r),t=RA(r);return[e,t,"n"]}function b9(r,e,t){return t==null&&(t=we(12)),Nl(e,t),MA(r.v,t),t}function w9(r){var e=Rl(r),t=RA(r);return[e,t,"n"]}function S9(r,e,t){return t==null&&(t=we(8)),Ml(e,t),MA(r.v,t),t}function E9(r){var e=Ni(r),t=nv(r);return[e,t,"is"]}function C9(r){var e=Ni(r),t=gn(r);return[e,t,"str"]}function A9(r,e,t){return t==null&&(t=we(12+4*r.v.length)),Nl(e,t),Xr(r.v,t),t.length>t.l?t.slice(0,t.l):t}function T9(r){var e=Rl(r),t=gn(r);return[e,t,"str"]}function _9(r,e,t){return t==null&&(t=we(8+4*r.v.length)),Ml(e,t),Xr(r.v,t),t.length>t.l?t.slice(0,t.l):t}function D9(r,e,t){var n=r.l+e,i=Ni(r);i.r=t["!row"];var s=r.read_shift(1),l=[i,s,"b"];if(t.cellFormula){r.l+=2;var c=sp(r,n-r.l,t);l[3]=zo(c,null,i,t.supbooks,t)}else r.l=n;return l}function k9(r,e,t){var n=r.l+e,i=Ni(r);i.r=t["!row"];var s=r.read_shift(1),l=[i,s,"e"];if(t.cellFormula){r.l+=2;var c=sp(r,n-r.l,t);l[3]=zo(c,null,i,t.supbooks,t)}else r.l=n;return l}function O9(r,e,t){var n=r.l+e,i=Ni(r);i.r=t["!row"];var s=Zo(r),l=[i,s,"n"];if(t.cellFormula){r.l+=2;var c=sp(r,n-r.l,t);l[3]=zo(c,null,i,t.supbooks,t)}else r.l=n;return l}function B9(r,e,t){var n=r.l+e,i=Ni(r);i.r=t["!row"];var s=gn(r),l=[i,s,"str"];if(t.cellFormula){r.l+=2;var c=sp(r,n-r.l,t);l[3]=zo(c,null,i,t.supbooks,t)}else r.l=n;return l}var N9=Fl,R9=Qo;function M9(r,e){return e==null&&(e=we(4)),e.write_shift(4,r),e}function F9(r,e){var t=r.l+e,n=Fl(r),i=iv(r),s=gn(r),l=gn(r),c=gn(r);r.l=t;var f={rfx:n,relId:i,loc:s,display:c};return l&&(f.Tooltip=l),f}function L9(r,e){var t=we(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));Qo({s:Gr(r[0]),e:Gr(r[0])},t),sv("rId"+e,t);var n=r[1].Target.indexOf("#"),i=n==-1?"":r[1].Target.slice(n+1);return Xr(i||"",t),Xr(r[1].Tooltip||"",t),Xr("",t),t.slice(0,t.l)}function I9(){}function P9(r,e,t){var n=r.l+e,i=FA(r),s=r.read_shift(1),l=[i];if(l[2]=s,t.cellFormula){var c=TR(r,n-r.l,t);l[1]=c}else r.l=n;return l}function j9(r,e,t){var n=r.l+e,i=Fl(r),s=[i];if(t.cellFormula){var l=DR(r,n-r.l,t);s[1]=l,r.l=n}else r.l=n;return s}function z9(r,e,t){t==null&&(t=we(18));var n=ap(r,e);t.write_shift(-4,r),t.write_shift(-4,r),t.write_shift(4,(n.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var v3=["left","right","top","bottom","header","footer"];function H9(r){var e={};return v3.forEach(function(t){e[t]=Zo(r)}),e}function U9(r,e){return e==null&&(e=we(48)),g3(r),v3.forEach(function(t){Sl(r[t],e)}),e}function V9(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function q9(r,e,t){t==null&&(t=we(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function W9(r){var e=we(24);return e.write_shift(4,4),e.write_shift(4,1),Qo(r,e),e}function G9(r,e){return e==null&&(e=we(66)),e.write_shift(2,r.password?JA(r.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,r[t[0]]!=null&&!r[t[0]]?1:0):e.write_shift(4,r[t[0]]!=null&&r[t[0]]?0:1)}),e}function X9(){}function Y9(){}function K9(r,e,t,n,i,s,l){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=qn(e),e.z=e.z||xr[14],e.v=Vn(Cn(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var f={r:t,c:n};switch(f.s=Ua(i.cellXfs,e,i),e.l&&s["!links"].push([zt(f),e.l]),e.c&&s["!comments"].push([zt(f),e.c]),e.t){case"s":case"str":return i.bookSST?(c=uv(i.Strings,e.v,i.revStrings),f.t="s",f.v=c,l?De(r,18,p9(e,f)):De(r,7,h9(e,f))):(f.t="str",l?De(r,17,_9(e,f)):De(r,6,A9(e,f))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?De(r,13,S9(e,f)):De(r,2,b9(e,f)):l?De(r,16,v9(e,f)):De(r,5,g9(e,f)),!0;case"b":return f.t="b",l?De(r,15,a9(e,f)):De(r,4,i9(e,f)),!0;case"e":return f.t="e",l?De(r,14,f9(e,f)):De(r,3,o9(e,f)),!0}return l?De(r,12,r9(e,f)):De(r,1,e9(e,f)),!0}function $9(r,e,t,n){var i=ir(e["!ref"]||"A1"),s,l="",c=[];De(r,145);var f=Array.isArray(e),h=i.e.r;e["!rows"]&&(h=Math.max(i.e.r,e["!rows"].length-1));for(var d=i.s.r;d<=h;++d){l=on(d),XR(r,e,i,d);var m=!1;if(d<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){d===i.s.r&&(c[g]=mn(g)),s=c[g]+l;var x=f?(e[d]||[])[g]:e[s];if(!x){m=!1;continue}m=K9(r,x,d,g,n,e,m)}}De(r,146)}function Q9(r,e){!e||!e["!merges"]||(De(r,177,M9(e["!merges"].length)),e["!merges"].forEach(function(t){De(r,176,R9(t))}),De(r,178))}function Z9(r,e){!e||!e["!cols"]||(De(r,390),e["!cols"].forEach(function(t,n){t&&De(r,60,z9(n,t))}),De(r,391))}function J9(r,e){!e||!e["!ref"]||(De(r,648),De(r,649,W9(ir(e["!ref"]))),De(r,650))}function eM(r,e,t){e["!links"].forEach(function(n){if(n[1].Target){var i=Pt(t,-1,n[1].Target.replace(/#.*$/,""),Ot.HLINK);De(r,494,L9(n,i))}}),delete e["!links"]}function tM(r,e,t,n){if(e["!comments"].length>0){var i=Pt(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Ot.VML);De(r,551,sv("rId"+i)),e["!legacy"]=i}}function rM(r,e,t,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Rr(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var l=t.Workbook.Names,c=fi(s);c.s.r==c.e.r&&(c.e.r=fi(e["!ref"]).e.r,s=Rr(c));for(var f=0;f<l.length;++f){var h=l[f];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+t.SheetNames[n]+"'!"+s;break}}f==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+s}),De(r,161,Qo(ir(s))),De(r,162)}}function nM(r,e,t){De(r,133),De(r,137,q9(e,t)),De(r,138),De(r,134)}function iM(r,e){e["!protect"]&&De(r,535,G9(e["!protect"]))}function sM(r,e,t,n){var i=Un(),s=t.SheetNames[r],l=t.Sheets[s]||{},c=s;try{t&&t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}var f=ir(l["!ref"]||"A1");if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],De(i,129),(t.vbaraw||l["!outline"])&&De(i,147,ZR(c,l["!outline"])),De(i,148,KR(f)),nM(i,l,t.Workbook),Z9(i,l),$9(i,l,r,e),iM(i,l),rM(i,l,t,r),Q9(i,l),eM(i,l,n),l["!margins"]&&De(i,476,U9(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&J9(i,l),tM(i,l,r,n),De(i,130),i.end()}function aM(r,e){r.l+=10;var t=gn(r);return{name:t}}var lM=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function oM(r){return!r.Workbook||!r.Workbook.WBProps?"false":jO(r.Workbook.WBProps.date1904)?"true":"false"}var cM="][*?/\\".split("");function y3(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return cM.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function fM(r,e,t){r.forEach(function(n,i){y3(n);for(var s=0;s<i;++s)if(n==r[s])throw new Error("Duplicate Sheet Name: "+n);if(t){var l=e&&e[i]&&e[i].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function uM(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var e=r.Workbook&&r.Workbook.Sheets||[];fM(r.SheetNames,e,!!r.vbaraw);for(var t=0;t<r.SheetNames.length;++t)RR(r.Sheets[r.SheetNames[t]],r.SheetNames[t],t)}function b3(r){var e=[Mr];e[e.length]=Ie("workbook",null,{xmlns:Ko[0],"xmlns:r":qr.r});var t=r.Workbook&&(r.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(lM.forEach(function(c){r.Workbook.WBProps[c[0]]!=null&&r.Workbook.WBProps[c[0]]!=c[1]&&(n[c[0]]=r.Workbook.WBProps[c[0]])}),r.Workbook.WBProps.CodeName&&(n.codeName=r.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Ie("workbookPr",null,n);var i=r.Workbook&&r.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=r.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==r.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=r.SheetNames.length;++s){var l={name:jt(r.SheetNames[s].slice(0,31))};if(l.sheetId=""+(s+1),l["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=Ie("sheet",null,l)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(c){var f={name:c.Name};c.Comment&&(f.comment=c.Comment),c.Sheet!=null&&(f.localSheetId=""+c.Sheet),c.Hidden&&(f.hidden="1"),c.Ref&&(e[e.length]=Ie("definedName",jt(c.Ref),f))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function hM(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=Lx(r),t.name=gn(r),t}function dM(r,e){return e||(e=we(127)),e.write_shift(4,r.Hidden),e.write_shift(4,r.iTabID),sv(r.strRelID,e),Xr(r.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function pM(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var i=e>8?gn(r):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function mM(r,e){e||(e=we(72));var t=0;return r&&r.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),NA(r&&r.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function gM(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var i=r.read_shift(4),s=oB(r),l=_R(r,0,t),c=iv(r);r.l=n;var f={Name:s,Ptg:l};return i<268435455&&(f.Sheet=i),c&&(f.Comment=c),f}function xM(r,e){De(r,143);for(var t=0;t!=e.SheetNames.length;++t){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:n,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};De(r,156,dM(i))}De(r,144)}function vM(r,e){e||(e=we(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Xr("SheetJS",e),Xr(id.version,e),Xr(id.version,e),Xr("7262",e),e.length>e.l?e.slice(0,e.l):e}function yM(r,e){e||(e=we(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,r),e.write_shift(4,r);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function bM(r,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,n=0,i=-1,s=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&i==-1?i=n:t[n].Hidden==1&&s==-1&&(s=n);s>i||(De(r,135),De(r,158,yM(i)),De(r,136))}}function wM(r,e){var t=Un();return De(t,131),De(t,128,vM()),De(t,153,mM(r.Workbook&&r.Workbook.WBProps||null)),bM(t,r),xM(t,r),De(t,132),t.end()}function SM(r,e,t){return(e.slice(-4)===".bin"?wM:b3)(r)}function EM(r,e,t,n,i){return(e.slice(-4)===".bin"?sM:x3)(r,t,n,i)}function CM(r,e,t){return(e.slice(-4)===".bin"?UN:r3)(r,t)}function AM(r,e,t){return(e.slice(-4)===".bin"?mN:ZA)(r,t)}function TM(r,e,t){return(e.slice(-4)===".bin"?i7:l3)(r)}function _M(r){return(r.slice(-4)===".bin"?$N:s3)()}function DM(r,e){var t=[];return r.Props&&t.push(CB(r.Props,e)),r.Custprops&&t.push(AB(r.Props,r.Custprops)),t.join("")}function kM(){return""}function OM(r,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(Ie("NumberFormat",null,{"ss:Format":jt(xr[n.numFmtId])}));var l={"ss:ID":"s"+(21+i)};t.push(Ie("Style",s.join(""),l))}),Ie("Styles",t.join(""))}function w3(r){return Ie("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+cv(r.Ref,{r:0,c:0})})}function BM(r){if(!((r||{}).Workbook||{}).Names)return"";for(var e=r.Workbook.Names,t=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(w3(i)))}return Ie("Names",t.join(""))}function NM(r,e,t,n){if(!r||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],l=0;l<i.length;++l){var c=i[l];c.Sheet==t&&(c.Name.match(/^_xlfn\./)||s.push(w3(c)))}return s.join("")}function RM(r,e,t,n){if(!r)return"";var i=[];if(r["!margins"]&&(i.push("<PageSetup>"),r["!margins"].header&&i.push(Ie("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&i.push(Ie("Footer",null,{"x:Margin":r["!margins"].footer})),i.push(Ie("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)i.push(Ie("Visible",n.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),r["!protect"]&&(i.push(an("ProtectContents","True")),r["!protect"].objects&&i.push(an("ProtectObjects","True")),r["!protect"].scenarios&&i.push(an("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?i.push(an("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&i.push(an("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){r["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":Ie("WorksheetOptions",i.join(""),{xmlns:li.x})}function MM(r){return r.map(function(e){var t=PO(e.t||""),n=Ie("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ie("Comment",n,{"ss:Author":e.a})}).join("")}function FM(r,e,t,n,i,s,l){if(!r||r.v==null&&r.f==null)return"";var c={};if(r.f&&(c["ss:Formula"]="="+jt(cv(r.f,l))),r.F&&r.F.slice(0,e.length)==e){var f=Gr(r.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(f.r==l.r?"":"["+(f.r-l.r)+"]")+"C"+(f.c==l.c?"":"["+(f.c-l.c)+"]")}if(r.l&&r.l.Target&&(c["ss:HRef"]=jt(r.l.Target),r.l.Tooltip&&(c["x:HRefScreenTip"]=jt(r.l.Tooltip))),t["!merges"])for(var h=t["!merges"],d=0;d!=h.length;++d)h[d].s.c!=l.c||h[d].s.r!=l.r||(h[d].e.c>h[d].s.c&&(c["ss:MergeAcross"]=h[d].e.c-h[d].s.c),h[d].e.r>h[d].s.r&&(c["ss:MergeDown"]=h[d].e.r-h[d].s.r));var m="",g="";switch(r.t){case"z":if(!n.sheetStubs)return"";break;case"n":m="Number",g=String(r.v);break;case"b":m="Boolean",g=r.v?"1":"0";break;case"e":m="Error",g=ef[r.v];break;case"d":m="DateTime",g=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||xr[14]);break;case"s":m="String",g=IO(r.v||"");break}var x=Ua(n.cellXfs,r,n);c["ss:StyleID"]="s"+(21+x),c["ss:Index"]=l.c+1;var b=r.v!=null?g:"",y=r.t=="z"?"":'<Data ss:Type="'+m+'">'+b+"</Data>";return(r.c||[]).length>0&&(y+=MM(r.c)),Ie("Cell",y,c)}function LM(r,e){var t='<Row ss:Index="'+(r+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=t3(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function IM(r,e,t,n){if(!r["!ref"])return"";var i=ir(r["!ref"]),s=r["!merges"]||[],l=0,c=[];r["!cols"]&&r["!cols"].forEach(function(S,T){lv(S);var A=!!S.width,C=ap(T,S),_={"ss:Index":T+1};A&&(_["ss:Width"]=pd(C.width)),S.hidden&&(_["ss:Hidden"]="1"),c.push(Ie("Column",null,_))});for(var f=Array.isArray(r),h=i.s.r;h<=i.e.r;++h){for(var d=[LM(h,(r["!rows"]||[])[h])],m=i.s.c;m<=i.e.c;++m){var g=!1;for(l=0;l!=s.length;++l)if(!(s[l].s.c>m)&&!(s[l].s.r>h)&&!(s[l].e.c<m)&&!(s[l].e.r<h)){(s[l].s.c!=m||s[l].s.r!=h)&&(g=!0);break}if(!g){var x={r:h,c:m},b=zt(x),y=f?(r[h]||[])[m]:r[b];d.push(FM(y,b,r,e,t,n,x))}}d.push("</Row>"),d.length>2&&c.push(d.join(""))}return c.join("")}function PM(r,e,t){var n=[],i=t.SheetNames[r],s=t.Sheets[i],l=s?NM(s,e,r,t):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=s?IM(s,e,r,t):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(RM(s,e,r,t)),n.join("")}function jM(r,e){e||(e={}),r.SSF||(r.SSF=qn(xr)),r.SSF&&(tp(),ep(r.SSF),e.revssf=rp(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF,e.cellXfs=[],Ua(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(DM(r,e)),t.push(kM()),t.push(""),t.push("");for(var n=0;n<r.SheetNames.length;++n)t.push(Ie("Worksheet",PM(n,e,r),{"ss:Name":jt(r.SheetNames[n])}));return t[2]=OM(r,e),t[3]=BM(r),Mr+Ie("Workbook",t.join(""),{xmlns:li.ss,"xmlns:o":li.o,"xmlns:x":li.x,"xmlns:ss":li.ss,"xmlns:dt":li.dt,"xmlns:html":li.html})}var Wg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function zM(r,e){var t=[],n=[],i=[],s=0,l,c=q4(nS,"n"),f=q4(iS,"n");if(r.Props)for(l=cn(r.Props),s=0;s<l.length;++s)(Object.prototype.hasOwnProperty.call(c,l[s])?t:Object.prototype.hasOwnProperty.call(f,l[s])?n:i).push([l[s],r.Props[l[s]]]);if(r.Custprops)for(l=cn(r.Custprops),s=0;s<l.length;++s)Object.prototype.hasOwnProperty.call(r.Props||{},l[s])||(Object.prototype.hasOwnProperty.call(c,l[s])?t:Object.prototype.hasOwnProperty.call(f,l[s])?n:i).push([l[s],r.Custprops[l[s]]]);var h=[];for(s=0;s<i.length;++s)WA.indexOf(i[s][0])>-1||UA.indexOf(i[s][0])>-1||i[s][1]!=null&&h.push(i[s]);n.length&&Gt.utils.cfb_add(e,"/SummaryInformation",cS(n,Wg.SI,f,iS)),(t.length||h.length)&&Gt.utils.cfb_add(e,"/DocumentSummaryInformation",cS(t,Wg.DSI,c,nS,h.length?h:null,Wg.UDI))}function HM(r,e){var t=e||{},n=Gt.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Gt.utils.cfb_add(n,i,S3(r,t)),t.biff==8&&(r.Props||r.Custprops)&&zM(r,n),t.biff==8&&r.vbaraw&&s7(n,Gt.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),n}var UM={0:{f:WR},1:{f:JR},2:{f:y9},3:{f:l9},4:{f:n9},5:{f:m9},6:{f:C9},7:{f:u9},8:{f:B9},9:{f:O9},10:{f:D9},11:{f:k9},12:{f:t9},13:{f:w9},14:{f:c9},15:{f:s9},16:{f:x9},17:{f:T9},18:{f:d9},19:{f:nv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:gM},40:{},42:{},43:{f:CN},44:{f:SN},45:{f:_N},46:{f:kN},47:{f:DN},48:{},49:{f:tB},50:{},51:{f:WN},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:rN},62:{f:E9},63:{f:QN},64:{f:X9},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ps,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:V9},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:QR},148:{f:YR,p:16},151:{f:I9},152:{},153:{f:pM},154:{},155:{},156:{f:hM},157:{},158:{},159:{T:1,f:hN},160:{T:-1},161:{T:1,f:Fl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:N9},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:VN},336:{T:-1},337:{f:YN,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Lx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:$B},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:P9},427:{f:j9},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:H9},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:$R},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:F9},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Lx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:r7},633:{T:1},634:{T:-1},635:{T:1,f:e7},636:{T:-1},637:{f:sB},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:aM},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Y9},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Pe(r,e,t,n){var i=e;if(!isNaN(i)){var s=n||(t||[]).length||0,l=r.next(4);l.write_shift(2,i),l.write_shift(2,s),s>0&&ev(t)&&r.push(t)}}function VM(r,e,t,n){var i=(t||[]).length||0;if(i<=8224)return Pe(r,e,t,i);var s=e;if(!isNaN(s)){for(var l=t.parts||[],c=0,f=0,h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;var d=r.next(4);for(d.write_shift(2,s),d.write_shift(2,h),r.push(t.slice(f,f+h)),f+=h;f<i;){for(d=r.next(4),d.write_shift(2,60),h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;d.write_shift(2,h),r.push(t.slice(f,f+h)),f+=h}}}function rf(r,e,t){return r||(r=we(7)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,0),r.write_shift(1,0),r}function qM(r,e,t,n){var i=we(9);return rf(i,r,e),XA(t,n||"b",i),i}function WM(r,e,t){var n=we(8+2*t.length);return rf(n,r,e),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function GM(r,e,t,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Vn(Cn(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Pe(r,2,aN(t,n,i)):Pe(r,3,sN(t,n,i));return;case"b":case"e":Pe(r,5,qM(t,n,e.v,e.t));return;case"s":case"str":Pe(r,4,WM(t,n,(e.v||"").slice(0,255)));return}Pe(r,1,rf(null,t,n))}function XM(r,e,t,n){var i=Array.isArray(e),s=ir(e["!ref"]||"A1"),l,c="",f=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),l=Rr(s)}for(var h=s.s.r;h<=s.e.r;++h){c=on(h);for(var d=s.s.c;d<=s.e.c;++d){h===s.s.r&&(f[d]=mn(d)),l=f[d]+c;var m=i?(e[h]||[])[d]:e[l];m&&GM(r,m,h,d)}}}function YM(r,e){for(var t=e||{},n=Un(),i=0,s=0;s<r.SheetNames.length;++s)r.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&r.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Pe(n,t.biff==4?1033:t.biff==3?521:9,av(r,16,t)),XM(n,r.Sheets[r.SheetNames[i]],i,t),Pe(n,10),n.end()}function KM(r,e,t){Pe(r,49,UB({sz:12,name:"Arial"},t))}function $M(r,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Pe(r,1054,WB(i,e[i],t))})}function QM(r,e){var t=we(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Pe(r,2151,t),t=we(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),$A(ir(e["!ref"]||"A1"),t),t.write_shift(4,4),Pe(r,2152,t)}function ZM(r,e){for(var t=0;t<16;++t)Pe(r,224,uS({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Pe(r,224,uS(n,0,e))})}function JM(r,e){for(var t=0;t<e["!links"].length;++t){var n=e["!links"][t];Pe(r,440,JB(n)),n[1].Tooltip&&Pe(r,2048,eN(n))}delete e["!links"]}function eF(r,e){if(e){var t=0;e.forEach(function(n,i){++t<=256&&n&&Pe(r,125,nN(ap(i,n),i))})}}function tF(r,e,t,n,i){var s=16+Ua(i.cellXfs,e,i);if(e.v==null&&!e.bf){Pe(r,513,El(t,n,s));return}if(e.bf)Pe(r,6,AR(e,t,n,i,s));else switch(e.t){case"d":case"n":var l=e.t=="d"?Vn(Cn(e.v)):e.v;Pe(r,515,KB(t,n,l,s));break;case"b":case"e":Pe(r,517,YB(t,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var c=uv(i.Strings,e.v,i.revStrings);Pe(r,253,VB(t,n,c,s))}else Pe(r,516,qB(t,n,(e.v||"").slice(0,255),s,i));break;default:Pe(r,513,El(t,n,s))}}function rF(r,e,t){var n=Un(),i=t.SheetNames[r],s=t.Sheets[i]||{},l=(t||{}).Workbook||{},c=(l.Sheets||[])[r]||{},f=Array.isArray(s),h=e.biff==8,d,m="",g=[],x=ir(s["!ref"]||"A1"),b=h?65536:16384;if(x.e.c>255||x.e.r>=b){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,b-1)}Pe(n,2057,av(t,16,e)),Pe(n,13,Ci(1)),Pe(n,12,Ci(100)),Pe(n,15,wn(!0)),Pe(n,17,wn(!1)),Pe(n,16,Sl(.001)),Pe(n,95,wn(!0)),Pe(n,42,wn(!1)),Pe(n,43,wn(!1)),Pe(n,130,Ci(1)),Pe(n,128,XB()),Pe(n,131,wn(!1)),Pe(n,132,wn(!1)),h&&eF(n,s["!cols"]),Pe(n,512,GB(x,e)),h&&(s["!links"]=[]);for(var y=x.s.r;y<=x.e.r;++y){m=on(y);for(var S=x.s.c;S<=x.e.c;++S){y===x.s.r&&(g[S]=mn(S)),d=g[S]+m;var T=f?(s[y]||[])[S]:s[d];T&&(tF(n,T,y,S,e),h&&T.l&&s["!links"].push([d,T.l]))}}var A=c.CodeName||c.name||i;return h&&Pe(n,574,HB((l.Views||[])[0])),h&&(s["!merges"]||[]).length&&Pe(n,229,ZB(s["!merges"])),h&&JM(n,s),Pe(n,442,KA(A)),h&&QM(n,s),Pe(n,10),n.end()}function nF(r,e,t){var n=Un(),i=(r||{}).Workbook||{},s=i.Sheets||[],l=i.WBProps||{},c=t.biff==8,f=t.biff==5;if(Pe(n,2057,av(r,5,t)),t.bookType=="xla"&&Pe(n,135),Pe(n,225,c?Ci(1200):null),Pe(n,193,DB(2)),f&&Pe(n,191),f&&Pe(n,192),Pe(n,226),Pe(n,92,IB("SheetJS",t)),Pe(n,66,Ci(c?1200:1252)),c&&Pe(n,353,Ci(0)),c&&Pe(n,448),Pe(n,317,iN(r.SheetNames.length)),c&&r.vbaraw&&Pe(n,211),c&&r.vbaraw){var h=l.CodeName||"ThisWorkbook";Pe(n,442,KA(h))}Pe(n,156,Ci(17)),Pe(n,25,wn(!1)),Pe(n,18,wn(!1)),Pe(n,19,Ci(0)),c&&Pe(n,431,wn(!1)),c&&Pe(n,444,Ci(0)),Pe(n,61,zB()),Pe(n,64,wn(!1)),Pe(n,141,Ci(0)),Pe(n,34,wn(oM(r)=="true")),Pe(n,14,wn(!0)),c&&Pe(n,439,wn(!1)),Pe(n,218,Ci(0)),KM(n,r,t),$M(n,r.SSF,t),ZM(n,t),c&&Pe(n,352,wn(!1));var d=n.end(),m=Un();c&&Pe(m,140,tN()),c&&t.Strings&&VM(m,252,jB(t.Strings)),Pe(m,10);var g=m.end(),x=Un(),b=0,y=0;for(y=0;y<r.SheetNames.length;++y)b+=(c?12:11)+(c?2:1)*r.SheetNames[y].length;var S=d.length+b+g.length;for(y=0;y<r.SheetNames.length;++y){var T=s[y]||{};Pe(x,133,PB({pos:S,hs:T.Hidden||0,dt:0,name:r.SheetNames[y]},t)),S+=e[y].length}var A=x.end();if(b!=A.length)throw new Error("BS8 "+b+" != "+A.length);var C=[];return d.length&&C.push(d),A.length&&C.push(A),g.length&&C.push(g),sn(C)}function iF(r,e){var t=e||{},n=[];r&&!r.SSF&&(r.SSF=qn(xr)),r&&r.SSF&&(tp(),ep(r.SSF),t.revssf=rp(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,hv(t),t.cellXfs=[],Ua(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var i=0;i<r.SheetNames.length;++i)n[n.length]=rF(i,t,r);return n.unshift(nF(r,n,t)),sn(n)}function S3(r,e){for(var t=0;t<=r.SheetNames.length;++t){var n=r.Sheets[r.SheetNames[t]];if(!(!n||!n["!ref"])){var i=fi(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return iF(r,e);case 4:case 3:case 2:return YM(r,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function sF(r,e,t,n){for(var i=r["!merges"]||[],s=[],l=e.s.c;l<=e.e.c;++l){for(var c=0,f=0,h=0;h<i.length;++h)if(!(i[h].s.r>t||i[h].s.c>l)&&!(i[h].e.r<t||i[h].e.c<l)){if(i[h].s.r<t||i[h].s.c<l){c=-1;break}c=i[h].e.r-i[h].s.r+1,f=i[h].e.c-i[h].s.c+1;break}if(!(c<0)){var d=zt({r:t,c:l}),m=n.dense?(r[t]||[])[l]:r[d],g=m&&m.v!=null&&(m.h||LO(m.w||(qs(m),m.w)||""))||"",x={};c>1&&(x.rowspan=c),f>1&&(x.colspan=f),n.editable?g='<span contenteditable="true">'+g+"</span>":m&&(x["data-t"]=m&&m.t||"z",m.v!=null&&(x["data-v"]=m.v),m.z!=null&&(x["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+m.l.Target+'">'+g+"</a>")),x.id=(n.id||"sjs")+"-"+d,s.push(Ie("td",g,x))}}var b="<tr>";return b+s.join("")+"</tr>"}var aF='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',lF="</body></html>";function oF(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function E3(r,e){var t=e||{},n=t.header!=null?t.header:aF,i=t.footer!=null?t.footer:lF,s=[n],l=fi(r["!ref"]);t.dense=Array.isArray(r),s.push(oF(r,l,t));for(var c=l.s.r;c<=l.e.r;++c)s.push(sF(r,l,c,t));return s.push("</table>"+i),s.join("")}function C3(r,e,t){var n=t||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?Gr(n.origin):n.origin;i=l.r,s=l.c}var c=e.getElementsByTagName("tr"),f=Math.min(n.sheetRows||1e7,c.length),h={s:{r:0,c:0},e:{r:i,c:s}};if(r["!ref"]){var d=fi(r["!ref"]);h.s.r=Math.min(h.s.r,d.s.r),h.s.c=Math.min(h.s.c,d.s.c),h.e.r=Math.max(h.e.r,d.e.r),h.e.c=Math.max(h.e.c,d.e.c),i==-1&&(h.e.r=i=d.e.r+1)}var m=[],g=0,x=r["!rows"]||(r["!rows"]=[]),b=0,y=0,S=0,T=0,A=0,C=0;for(r["!cols"]||(r["!cols"]=[]);b<c.length&&y<f;++b){var _=c[b];if(vS(_)){if(n.display)continue;x[y]={hidden:!0}}var N=_.children;for(S=T=0;S<N.length;++S){var R=N[S];if(!(n.display&&vS(R))){var O=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):zO(R.innerHTML),z=R.getAttribute("data-z")||R.getAttribute("z");for(g=0;g<m.length;++g){var M=m[g];M.s.c==T+s&&M.s.r<y+i&&y+i<=M.e.r&&(T=M.e.c+1-s,g=-1)}C=+R.getAttribute("colspan")||1,((A=+R.getAttribute("rowspan")||1)>1||C>1)&&m.push({s:{r:y+i,c:T+s},e:{r:y+i+(A||1)-1,c:T+s+(C||1)-1}});var I={t:"s",v:O},P=R.getAttribute("data-t")||R.getAttribute("t")||"";O!=null&&(O.length==0?I.t=P||"z":n.raw||O.trim().length==0||P=="s"||(O==="TRUE"?I={t:"b",v:!0}:O==="FALSE"?I={t:"b",v:!1}:isNaN(zs(O))?isNaN(A0(O).getDate())||(I={t:"d",v:Cn(O)},n.cellDates||(I={t:"n",v:Vn(I.v)}),I.z=n.dateNF||xr[14]):I={t:"n",v:zs(O)})),I.z===void 0&&z!=null&&(I.z=z);var W="",K=R.getElementsByTagName("A");if(K&&K.length)for(var se=0;se<K.length&&!(K[se].hasAttribute("href")&&(W=K[se].getAttribute("href"),W.charAt(0)!="#"));++se);W&&W.charAt(0)!="#"&&(I.l={Target:W}),n.dense?(r[y+i]||(r[y+i]=[]),r[y+i][T+s]=I):r[zt({c:T+s,r:y+i})]=I,h.e.c<T+s&&(h.e.c=T+s),T+=C}}++y}return m.length&&(r["!merges"]=(r["!merges"]||[]).concat(m)),h.e.r=Math.max(h.e.r,y-1+i),r["!ref"]=Rr(h),y>=f&&(r["!fullref"]=Rr((h.e.r=c.length-b+y-1+i,h))),r}function A3(r,e){var t=e||{},n=t.dense?[]:{};return C3(n,r,e)}function cF(r,e){return Bl(A3(r,e),e)}function vS(r){var e="",t=fF(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function fF(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var uF=(function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+_0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return Mr+e}})(),yS=(function(){var r=function(s){return jt(s).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,n=function(s,l,c){var f=[];f.push('      <table:table table:name="'+jt(l.SheetNames[c])+`" table:style-name="ta1">
`);var h=0,d=0,m=fi(s["!ref"]||"A1"),g=s["!merges"]||[],x=0,b=Array.isArray(s);if(s["!cols"])for(d=0;d<=m.e.c;++d)f.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var y="",S=s["!rows"]||[];for(h=0;h<m.s.r;++h)y=S[h]?' table:style-name="ro'+S[h].ods+'"':"",f.push("        <table:table-row"+y+`></table:table-row>
`);for(;h<=m.e.r;++h){for(y=S[h]?' table:style-name="ro'+S[h].ods+'"':"",f.push("        <table:table-row"+y+`>
`),d=0;d<m.s.c;++d)f.push(e);for(;d<=m.e.c;++d){var T=!1,A={},C="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>d)&&!(g[x].s.r>h)&&!(g[x].e.c<d)&&!(g[x].e.r<h)){(g[x].s.c!=d||g[x].s.r!=h)&&(T=!0),A["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,A["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(T){f.push(t);continue}var _=zt({r:h,c:d}),N=b?(s[h]||[])[d]:s[_];if(N&&N.f&&(A["table:formula"]=jt(BR(N.f)),N.F&&N.F.slice(0,_.length)==_)){var R=fi(N.F);A["table:number-matrix-columns-spanned"]=R.e.c-R.s.c+1,A["table:number-matrix-rows-spanned"]=R.e.r-R.s.r+1}if(!N){f.push(e);continue}switch(N.t){case"b":C=N.v?"TRUE":"FALSE",A["office:value-type"]="boolean",A["office:boolean-value"]=N.v?"true":"false";break;case"n":C=N.w||String(N.v||0),A["office:value-type"]="float",A["office:value"]=N.v||0;break;case"s":case"str":C=N.v==null?"":N.v,A["office:value-type"]="string";break;case"d":C=N.w||Cn(N.v).toISOString(),A["office:value-type"]="date",A["office:date-value"]=Cn(N.v).toISOString(),A["table:style-name"]="ce1";break;default:f.push(e);continue}var O=r(C);if(N.l&&N.l.Target){var z=N.l.Target;z=z.charAt(0)=="#"?"#"+NR(z.slice(1)):z,z.charAt(0)!="#"&&!z.match(/^\w+:/)&&(z="../"+z),O=Ie("text:a",O,{"xlink:href":z.replace(/&/g,"&amp;")})}f.push("          "+Ie("table:table-cell",Ie("text:p",O,{}),A)+`
`)}f.push(`        </table:table-row>
`)}return f.push(`      </table:table>
`),f.join("")},i=function(s,l){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var d=0;d<h["!cols"].length;++d)if(h["!cols"][d]){var m=h["!cols"][d];if(m.width==null&&m.wpx==null&&m.wch==null)continue;lv(m),m.ods=c;var g=h["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++c}}});var f=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var d=0;d<h["!rows"].length;++d)if(h["!rows"][d]){h["!rows"][d].ods=f;var m=h["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+f+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),s.push(`  </style:style>
`),++f}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(l,c){var f=[Mr],h=_0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=_0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(f.push("<office:document"+h+d+`>
`),f.push(zA().replace(/office:document-meta/g,"office:meta"))):f.push("<office:document-content"+h+`>
`),i(f,l),f.push(`  <office:body>
`),f.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)f.push(n(l.Sheets[l.SheetNames[m]],l,m));return f.push(`    </office:spreadsheet>
`),f.push(`  </office:body>
`),c.bookType=="fods"?f.push("</office:document>"):f.push("</office:document-content>"),f.join("")}})();function T3(r,e){if(e.bookType=="fods")return yS(r,e);var t=$1(),n="",i=[],s=[];return n="mimetype",dt(t,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",dt(t,n,yS(r,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",dt(t,n,uF(r,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",dt(t,n,Mr+zA()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",dt(t,n,EB(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",dt(t,n,wB(i)),t}function xd(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function hF(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):ji(T0(r))}function dF(r,e){e:for(var t=0;t<=r.length-e.length;++t){for(var n=0;n<e.length;++n)if(r[t+n]!=e[n])continue e;return!0}return!1}function Ma(r){var e=r.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(i){t.set(i,n),n+=i.length}),t}function pF(r,e,t){var n=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,n-6176);r[e+15]|=n>>7,r[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)r[e+s]=i&255;r[e+15]|=t>=0?0:128}function D0(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function It(r){var e=new Uint8Array(7);e[0]=r&127;var t=1;e:if(r>127){if(e[t-1]|=128,e[t]=r>>7&127,++t,r<=16383||(e[t-1]|=128,e[t]=r>>14&127,++t,r<=2097151)||(e[t-1]|=128,e[t]=r>>21&127,++t,r<=268435455)||(e[t-1]|=128,e[t]=r/256>>>21&127,++t,r<=34359738367)||(e[t-1]|=128,e[t]=r/65536>>>21&127,++t,r<=4398046511103))break e;e[t-1]|=128,e[t]=r/16777216>>>21&127,++t}return e.slice(0,t)}function No(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function Lr(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],i=D0(r,t),s=i&7;i=Math.floor(i/8);var l=0,c;if(i==0)break;switch(s){case 0:{for(var f=t[0];r[t[0]++]>=128;);c=r.slice(f,t[0])}break;case 5:l=4,c=r.slice(t[0],t[0]+l),t[0]+=l;break;case 1:l=8,c=r.slice(t[0],t[0]+l),t[0]+=l;break;case 2:l=D0(r,t),c=r.slice(t[0],t[0]+l),t[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var h={data:c,type:s};e[i]==null?e[i]=[h]:e[i].push(h)}return e}function en(r){var e=[];return r.forEach(function(t,n){t.forEach(function(i){i.data&&(e.push(It(n*8+i.type)),i.type==2&&e.push(It(i.data.length)),e.push(i.data))})}),Ma(e)}function Ii(r){for(var e,t=[],n=[0];n[0]<r.length;){var i=D0(r,n),s=Lr(r.slice(n[0],n[0]+i));n[0]+=i;var l={id:No(s[1][0].data),messages:[]};s[2].forEach(function(c){var f=Lr(c.data),h=No(f[3][0].data);l.messages.push({meta:f,data:r.slice(n[0],n[0]+h)}),n[0]+=h}),(e=s[3])!=null&&e[0]&&(l.merge=No(s[3][0].data)>>>0>0),t.push(l)}return t}function vo(r){var e=[];return r.forEach(function(t){var n=[];n[1]=[{data:It(t.id),type:0}],n[2]=[],t.merge!=null&&(n[3]=[{data:It(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:It(l.data.length)}],n[2].push({data:en(l.meta),type:2})});var s=en(n);e.push(It(s.length)),e.push(s),i.forEach(function(l){return e.push(l)})}),Ma(e)}function mF(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=D0(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var l=e[t[0]++]>>2;if(l<60)++l;else{var c=l-59;l=e[t[0]],c>1&&(l|=e[t[0]+1]<<8),c>2&&(l|=e[t[0]+2]<<16),c>3&&(l|=e[t[0]+3]<<24),l>>>=0,l++,t[0]+=c}i.push(e.slice(t[0],t[0]+l)),t[0]+=l;continue}else{var f=0,h=0;if(s==1?(h=(e[t[0]]>>2&7)+4,f=(e[t[0]++]&224)<<3,f|=e[t[0]++]):(h=(e[t[0]++]>>2)+1,s==2?(f=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(f=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[Ma(i)],f==0)throw new Error("Invalid offset 0");if(f>i[0].length)throw new Error("Invalid offset beyond length");if(h>=f)for(i.push(i[0].slice(-f)),h-=f;h>=i[i.length-1].length;)i.push(i[i.length-1]),h-=i[i.length-1].length;i.push(i[0].slice(-f,-f+h))}}var d=Ma(i);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Pi(r){for(var e=[],t=0;t<r.length;){var n=r[t++],i=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(mF(n,r.slice(t,t+i))),t+=i}if(t!==r.length)throw new Error("data is not a valid framed stream!");return Ma(e)}function yo(r){for(var e=[],t=0;t<r.length;){var n=Math.min(r.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=It(n),l=s.length;e.push(s),n<=60?(l++,e.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(r.slice(t,t+n)),l+=n,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,t+=n}return Ma(e)}function Gg(r,e){var t=new Uint8Array(32),n=xd(t),i=12,s=0;switch(t[0]=5,r.t){case"n":t[1]=2,pF(t,i,r.v),s|=1,i+=16;break;case"b":t[1]=6,n.setFloat64(i,r.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[1]=3,n.setUint32(i,e.indexOf(r.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(8,s,!0),t.slice(0,i)}function Xg(r,e){var t=new Uint8Array(32),n=xd(t),i=12,s=0;switch(t[0]=3,r.t){case"n":t[2]=2,n.setFloat64(i,r.v,!0),s|=32,i+=8;break;case"b":t[2]=6,n.setFloat64(i,r.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[2]=3,n.setUint32(i,e.indexOf(r.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(4,s,!0),t.slice(0,i)}function ba(r){var e=Lr(r);return D0(e[1][0].data)}function gF(r,e,t){var n,i,s,l;if(!((n=r[6])!=null&&n[0])||!((i=r[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(s=r[8])==null?void 0:s[0])==null?void 0:l.data)&&No(r[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var f=0,h=xd(r[7][0].data),d=0,m=[],g=xd(r[4][0].data),x=0,b=[],y=0;y<e.length;++y){if(e[y]==null){h.setUint16(y*2,65535,!0),g.setUint16(y*2,65535);continue}h.setUint16(y*2,d,!0),g.setUint16(y*2,x,!0);var S,T;switch(typeof e[y]){case"string":S=Gg({t:"s",v:e[y]},t),T=Xg({t:"s",v:e[y]},t);break;case"number":S=Gg({t:"n",v:e[y]},t),T=Xg({t:"n",v:e[y]},t);break;case"boolean":S=Gg({t:"b",v:e[y]},t),T=Xg({t:"b",v:e[y]},t);break;default:throw new Error("Unsupported value "+e[y])}m.push(S),d+=S.length,b.push(T),x+=T.length,++f}for(r[2][0].data=It(f);y<r[7][0].data.length/2;++y)h.setUint16(y*2,65535,!0),g.setUint16(y*2,65535,!0);return r[6][0].data=Ma(m),r[3][0].data=Ma(b),f}function xF(r,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=fi(t["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Rr(n)));var s=vd(t,{range:n,header:1}),l=["~Sh33tJ5~"];s.forEach(function(L){return L.forEach(function(B){typeof B=="string"&&l.push(B)})});var c={},f=[],h=Gt.read(e.numbers,{type:"base64"});h.FileIndex.map(function(L,B){return[L,h.FullPaths[B]]}).forEach(function(L){var B=L[0],U=L[1];if(B.type==2&&B.name.match(/\.iwa/)){var Z=B.content,le=Pi(Z),re=Ii(le);re.forEach(function(ve){f.push(ve.id),c[ve.id]={deps:[],location:U,type:No(ve.messages[0].meta[1][0].data)}})}}),f.sort(function(L,B){return L-B});var d=f.filter(function(L){return L>1}).map(function(L){return[L,It(L)]});h.FileIndex.map(function(L,B){return[L,h.FullPaths[B]]}).forEach(function(L){var B=L[0];if(L[1],!!B.name.match(/\.iwa/)){var U=Ii(Pi(B.content));U.forEach(function(Z){Z.messages.forEach(function(le){d.forEach(function(re){Z.messages.some(function(ve){return No(ve.meta[1][0].data)!=11006&&dF(ve.data,re[1])})&&c[re[0]].deps.push(Z.id)})})})}});for(var m=Gt.find(h,c[1].location),g=Ii(Pi(m.content)),x,b=0;b<g.length;++b){var y=g[b];y.id==1&&(x=y)}var S=ba(Lr(x.messages[0].data)[1][0].data);for(m=Gt.find(h,c[S].location),g=Ii(Pi(m.content)),b=0;b<g.length;++b)y=g[b],y.id==S&&(x=y);for(S=ba(Lr(x.messages[0].data)[2][0].data),m=Gt.find(h,c[S].location),g=Ii(Pi(m.content)),b=0;b<g.length;++b)y=g[b],y.id==S&&(x=y);for(S=ba(Lr(x.messages[0].data)[2][0].data),m=Gt.find(h,c[S].location),g=Ii(Pi(m.content)),b=0;b<g.length;++b)y=g[b],y.id==S&&(x=y);var T=Lr(x.messages[0].data);{T[6][0].data=It(n.e.r+1),T[7][0].data=It(n.e.c+1);var A=ba(T[46][0].data),C=Gt.find(h,c[A].location),_=Ii(Pi(C.content));{for(var N=0;N<_.length&&_[N].id!=A;++N);if(_[N].id!=A)throw"Bad ColumnRowUIDMapArchive";var R=Lr(_[N].messages[0].data);R[1]=[],R[2]=[],R[3]=[];for(var O=0;O<=n.e.c;++O){var z=[];z[1]=z[2]=[{type:0,data:It(O+420690)}],R[1].push({type:2,data:en(z)}),R[2].push({type:0,data:It(O)}),R[3].push({type:0,data:It(O)})}R[4]=[],R[5]=[],R[6]=[];for(var M=0;M<=n.e.r;++M)z=[],z[1]=z[2]=[{type:0,data:It(M+726270)}],R[4].push({type:2,data:en(z)}),R[5].push({type:0,data:It(M)}),R[6].push({type:0,data:It(M)});_[N].messages[0].data=en(R)}C.content=yo(vo(_)),C.size=C.content.length,delete T[46];var I=Lr(T[4][0].data);{I[7][0].data=It(n.e.r+1);var P=Lr(I[1][0].data),W=ba(P[2][0].data);C=Gt.find(h,c[W].location),_=Ii(Pi(C.content));{if(_[0].id!=W)throw"Bad HeaderStorageBucket";var K=Lr(_[0].messages[0].data);for(M=0;M<s.length;++M){var se=Lr(K[2][0].data);se[1][0].data=It(M),se[4][0].data=It(s[M].length),K[2][M]={type:K[2][0].type,data:en(se)}}_[0].messages[0].data=en(K)}C.content=yo(vo(_)),C.size=C.content.length;var ue=ba(I[2][0].data);C=Gt.find(h,c[ue].location),_=Ii(Pi(C.content));{if(_[0].id!=ue)throw"Bad HeaderStorageBucket";for(K=Lr(_[0].messages[0].data),O=0;O<=n.e.c;++O)se=Lr(K[2][0].data),se[1][0].data=It(O),se[4][0].data=It(n.e.r+1),K[2][O]={type:K[2][0].type,data:en(se)};_[0].messages[0].data=en(K)}C.content=yo(vo(_)),C.size=C.content.length;var ee=ba(I[4][0].data);(function(){for(var L=Gt.find(h,c[ee].location),B=Ii(Pi(L.content)),U,Z=0;Z<B.length;++Z){var le=B[Z];le.id==ee&&(U=le)}var re=Lr(U.messages[0].data);{re[3]=[];var ve=[];l.forEach(function(Xe,ct){ve[1]=[{type:0,data:It(ct)}],ve[2]=[{type:0,data:It(1)}],ve[3]=[{type:2,data:hF(Xe)}],re[3].push({type:2,data:en(ve)})})}U.messages[0].data=en(re);var pe=vo(B),Je=yo(pe);L.content=Je,L.size=L.content.length})();var ie=Lr(I[3][0].data);{var be=ie[1][0];delete ie[2];var Ee=Lr(be.data);{var ke=ba(Ee[2][0].data);(function(){for(var L=Gt.find(h,c[ke].location),B=Ii(Pi(L.content)),U,Z=0;Z<B.length;++Z){var le=B[Z];le.id==ke&&(U=le)}var re=Lr(U.messages[0].data);{delete re[6],delete ie[7];var ve=new Uint8Array(re[5][0].data);re[5]=[];for(var pe=0,Je=0;Je<=n.e.r;++Je){var Xe=Lr(ve);pe+=gF(Xe,s[Je],l),Xe[1][0].data=It(Je),re[5].push({data:en(Xe),type:2})}re[1]=[{type:0,data:It(n.e.c+1)}],re[2]=[{type:0,data:It(n.e.r+1)}],re[3]=[{type:0,data:It(pe)}],re[4]=[{type:0,data:It(n.e.r+1)}]}U.messages[0].data=en(re);var ct=vo(B),We=yo(ct);L.content=We,L.size=L.content.length})()}be.data=en(Ee)}I[3][0].data=en(ie)}T[4][0].data=en(I)}x.messages[0].data=en(T);var j=vo(g),D=yo(j);return m.content=D,m.size=m.content.length,h}function vF(r){return function(t){for(var n=0;n!=r.length;++n){var i=r[n];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function hv(r){vF([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function yF(r,e){return e.bookType=="ods"?T3(r,e):e.bookType=="numbers"?xF(r,e):e.bookType=="xlsb"?bF(r,e):wF(r,e)}function bF(r,e){Co=1024,r&&!r.SSF&&(r.SSF=qn(xr)),r&&r.SSF&&(tp(),ep(r.SSF),e.revssf=rp(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,h0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",n=o3.indexOf(e.bookType)>-1,i=IA();hv(e=e||{});var s=$1(),l="",c=0;if(e.cellXfs=[],Ua(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),l="docProps/core.xml",dt(s,l,HA(r.Props,e)),i.coreprops.push(l),Pt(e.rels,2,l,Ot.CORE_PROPS),l="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var f=[],h=0;h<r.SheetNames.length;++h)(r.Workbook.Sheets[h]||{}).Hidden!=2&&f.push(r.SheetNames[h]);r.Props.SheetNames=f}for(r.Props.Worksheets=r.Props.SheetNames.length,dt(s,l,VA(r.Props)),i.extprops.push(l),Pt(e.rels,3,l,Ot.EXT_PROPS),r.Custprops!==r.Props&&cn(r.Custprops||{}).length>0&&(l="docProps/custom.xml",dt(s,l,qA(r.Custprops)),i.custprops.push(l),Pt(e.rels,4,l,Ot.CUST_PROPS)),c=1;c<=r.SheetNames.length;++c){var d={"!id":{}},m=r.Sheets[r.SheetNames[c-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+c+"."+t,dt(s,l,EM(c-1,l,e,r,d)),i.sheets.push(l),Pt(e.wbrels,-1,"worksheets/sheet"+c+"."+t,Ot.WS[0])}if(m){var x=m["!comments"],b=!1,y="";x&&x.length>0&&(y="xl/comments"+c+"."+t,dt(s,y,TM(x,y)),i.comments.push(y),Pt(d,-1,"../comments"+c+"."+t,Ot.CMNT),b=!0),m["!legacy"]&&b&&dt(s,"xl/drawings/vmlDrawing"+c+".vml",a3(c,m["!comments"])),delete m["!comments"],delete m["!legacy"]}d["!id"].rId1&&dt(s,jA(l),Oo(d))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,dt(s,l,AM(e.Strings,l,e)),i.strs.push(l),Pt(e.wbrels,-1,"sharedStrings."+t,Ot.SST)),l="xl/workbook."+t,dt(s,l,SM(r,l)),i.workbooks.push(l),Pt(e.rels,1,l,Ot.WB),l="xl/theme/theme1.xml",dt(s,l,i3(r.Themes,e)),i.themes.push(l),Pt(e.wbrels,-1,"theme/theme1.xml",Ot.THEME),l="xl/styles."+t,dt(s,l,CM(r,l,e)),i.styles.push(l),Pt(e.wbrels,-1,"styles."+t,Ot.STY),r.vbaraw&&n&&(l="xl/vbaProject.bin",dt(s,l,r.vbaraw),i.vba.push(l),Pt(e.wbrels,-1,"vbaProject.bin",Ot.VBA)),l="xl/metadata."+t,dt(s,l,_M(l)),i.metadata.push(l),Pt(e.wbrels,-1,"metadata."+t,Ot.XLMETA),dt(s,"[Content_Types].xml",PA(i,e)),dt(s,"_rels/.rels",Oo(e.rels)),dt(s,"xl/_rels/workbook."+t+".rels",Oo(e.wbrels)),delete e.revssf,delete e.ssf,s}function wF(r,e){Co=1024,r&&!r.SSF&&(r.SSF=qn(xr)),r&&r.SSF&&(tp(),ep(r.SSF),e.revssf=rp(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,h0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",n=o3.indexOf(e.bookType)>-1,i=IA();hv(e=e||{});var s=$1(),l="",c=0;if(e.cellXfs=[],Ua(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),l="docProps/core.xml",dt(s,l,HA(r.Props,e)),i.coreprops.push(l),Pt(e.rels,2,l,Ot.CORE_PROPS),l="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var f=[],h=0;h<r.SheetNames.length;++h)(r.Workbook.Sheets[h]||{}).Hidden!=2&&f.push(r.SheetNames[h]);r.Props.SheetNames=f}r.Props.Worksheets=r.Props.SheetNames.length,dt(s,l,VA(r.Props)),i.extprops.push(l),Pt(e.rels,3,l,Ot.EXT_PROPS),r.Custprops!==r.Props&&cn(r.Custprops||{}).length>0&&(l="docProps/custom.xml",dt(s,l,qA(r.Custprops)),i.custprops.push(l),Pt(e.rels,4,l,Ot.CUST_PROPS));var d=["SheetJ5"];for(e.tcid=0,c=1;c<=r.SheetNames.length;++c){var m={"!id":{}},g=r.Sheets[r.SheetNames[c-1]],x=(g||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+c+"."+t,dt(s,l,x3(c-1,e,r,m)),i.sheets.push(l),Pt(e.wbrels,-1,"worksheets/sheet"+c+"."+t,Ot.WS[0])}if(g){var b=g["!comments"],y=!1,S="";if(b&&b.length>0){var T=!1;b.forEach(function(A){A[1].forEach(function(C){C.T==!0&&(T=!0)})}),T&&(S="xl/threadedComments/threadedComment"+c+"."+t,dt(s,S,ZN(b,d,e)),i.threadedcomments.push(S),Pt(m,-1,"../threadedComments/threadedComment"+c+"."+t,Ot.TCMNT)),S="xl/comments"+c+"."+t,dt(s,S,l3(b)),i.comments.push(S),Pt(m,-1,"../comments"+c+"."+t,Ot.CMNT),y=!0}g["!legacy"]&&y&&dt(s,"xl/drawings/vmlDrawing"+c+".vml",a3(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}m["!id"].rId1&&dt(s,jA(l),Oo(m))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,dt(s,l,ZA(e.Strings,e)),i.strs.push(l),Pt(e.wbrels,-1,"sharedStrings."+t,Ot.SST)),l="xl/workbook."+t,dt(s,l,b3(r)),i.workbooks.push(l),Pt(e.rels,1,l,Ot.WB),l="xl/theme/theme1.xml",dt(s,l,i3(r.Themes,e)),i.themes.push(l),Pt(e.wbrels,-1,"theme/theme1.xml",Ot.THEME),l="xl/styles."+t,dt(s,l,r3(r,e)),i.styles.push(l),Pt(e.wbrels,-1,"styles."+t,Ot.STY),r.vbaraw&&n&&(l="xl/vbaProject.bin",dt(s,l,r.vbaraw),i.vba.push(l),Pt(e.wbrels,-1,"vbaProject.bin",Ot.VBA)),l="xl/metadata."+t,dt(s,l,s3()),i.metadata.push(l),Pt(e.wbrels,-1,"metadata."+t,Ot.XLMETA),d.length>1&&(l="xl/persons/person.xml",dt(s,l,JN(d)),i.people.push(l),Pt(e.wbrels,-1,"persons/person.xml",Ot.PEOPLE)),dt(s,"[Content_Types].xml",PA(i,e)),dt(s,"_rels/.rels",Oo(e.rels)),dt(s,"xl/_rels/workbook."+t+".rels",Oo(e.wbrels)),delete e.revssf,delete e.ssf,s}function SF(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=Vs(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function _3(r,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Z0(e.file,Gt.write(r,{type:Nt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Gt.write(r,e)}function EF(r,e){var t=qn(e||{}),n=yF(r,t);return CF(n,t)}function CF(r,e){var t={},n=Nt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=n;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=r.FullPaths?Gt.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):r.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Jd(i))}return e.password&&typeof encrypt_agile<"u"?_3(encrypt_agile(i,e.password),e):e.type==="file"?Z0(e.file,i):e.type=="string"?o0(i):i}function AF(r,e){var t=e||{},n=HM(r,t);return _3(n,t)}function as(r,e,t){t||(t="");var n=t+r;switch(e.type){case"base64":return C0(T0(n));case"binary":return T0(n);case"string":return r;case"file":return Z0(e.file,n,"utf8");case"buffer":return Nt?Ys(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):as(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function TF(r,e){switch(e.type){case"base64":return C0(r);case"binary":return r;case"string":return r;case"file":return Z0(e.file,r,"binary");case"buffer":return Nt?Ys(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Fu(r,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",n=0;n<r.length;++n)t+=String.fromCharCode(r[n]);return e.type=="base64"?C0(t):e.type=="string"?o0(t):t;case"file":return Z0(e.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+e.type)}}function Px(r,e){eO(),uM(r);var t=qn(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var n=Px(r,t);return t.type="array",Jd(n)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=r.SheetNames.indexOf(t.sheet),!r.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return as(jM(r,t),t);case"slk":case"sylk":return as(oN.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"htm":case"html":return as(E3(r.Sheets[r.SheetNames[i]],t),t);case"txt":return TF(D3(r.Sheets[r.SheetNames[i]],t),t);case"csv":return as(dv(r.Sheets[r.SheetNames[i]],t),t,"\uFEFF");case"dif":return as(cN.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"dbf":return Fu(lN.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"prn":return as(fN.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"rtf":return as(xN.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"eth":return as(QA.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"fods":return as(T3(r,t),t);case"wk1":return Fu(hS.sheet_to_wk1(r.Sheets[r.SheetNames[i]],t),t);case"wk3":return Fu(hS.book_to_wk3(r,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),Fu(S3(r,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),AF(r,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return EF(r,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function _F(r,e,t,n,i,s,l,c){var f=on(t),h=c.defval,d=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),m=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:t,enumerable:!1})}catch{g.__rowNum__=t}else g.__rowNum__=t;if(!l||r[t])for(var x=e.s.c;x<=e.e.c;++x){var b=l?r[t][x]:r[n[x]+f];if(b===void 0||b.t===void 0){if(h===void 0)continue;s[x]!=null&&(g[s[x]]=h);continue}var y=b.v;switch(b.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(s[x]!=null){if(y==null)if(b.t=="e"&&y===null)g[s[x]]=null;else if(h!==void 0)g[s[x]]=h;else if(d&&y===null)g[s[x]]=null;else continue;else g[s[x]]=d&&(b.t!=="n"||b.t==="n"&&c.rawNumbers!==!1)?y:qs(b,y,c);y!=null&&(m=!1)}}return{row:g,isempty:m}}function vd(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,i=1,s=[],l=0,c="",f={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},d=h.range!=null?h.range:r["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof d){case"string":f=ir(d);break;case"number":f=ir(r["!ref"]),f.s.r=d;break;default:f=d}n>0&&(i=0);var m=on(f.s.r),g=[],x=[],b=0,y=0,S=Array.isArray(r),T=f.s.r,A=0,C={};S&&!r[T]&&(r[T]=[]);var _=h.skipHidden&&r["!cols"]||[],N=h.skipHidden&&r["!rows"]||[];for(A=f.s.c;A<=f.e.c;++A)if(!(_[A]||{}).hidden)switch(g[A]=mn(A),t=S?r[T][A]:r[g[A]+m],n){case 1:s[A]=A-f.s.c;break;case 2:s[A]=g[A];break;case 3:s[A]=h.header[A-f.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),c=l=qs(t,null,h),y=C[l]||0,!y)C[l]=1;else{do c=l+"_"+y++;while(C[c]);C[l]=y,C[c]=1}s[A]=c}for(T=f.s.r+i;T<=f.e.r;++T)if(!(N[T]||{}).hidden){var R=_F(r,f,T,g,n,s,S,h);(R.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(x[b++]=R.row)}return x.length=b,x}var bS=/"/g;function DF(r,e,t,n,i,s,l,c){for(var f=!0,h=[],d="",m=on(t),g=e.s.c;g<=e.e.c;++g)if(n[g]){var x=c.dense?(r[t]||[])[g]:r[n[g]+m];if(x==null)d="";else if(x.v!=null){f=!1,d=""+(c.rawNumbers&&x.t=="n"?x.v:qs(x,null,c));for(var b=0,y=0;b!==d.length;++b)if((y=d.charCodeAt(b))===i||y===s||y===34||c.forceQuotes){d='"'+d.replace(bS,'""')+'"';break}d=="ID"&&(d='"ID"')}else x.f!=null&&!x.F?(f=!1,d="="+x.f,d.indexOf(",")>=0&&(d='"'+d.replace(bS,'""')+'"')):d="";h.push(d)}return c.blankrows===!1&&f?null:h.join(l)}function dv(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var i=ir(r["!ref"]),s=n.FS!==void 0?n.FS:",",l=s.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,f=c.charCodeAt(0),h=new RegExp((s=="|"?"\\|":s)+"+$"),d="",m=[];n.dense=Array.isArray(r);for(var g=n.skipHidden&&r["!cols"]||[],x=n.skipHidden&&r["!rows"]||[],b=i.s.c;b<=i.e.c;++b)(g[b]||{}).hidden||(m[b]=mn(b));for(var y=0,S=i.s.r;S<=i.e.r;++S)(x[S]||{}).hidden||(d=DF(r,i,S,m,l,f,s,n),d!=null&&(n.strip&&(d=d.replace(h,"")),(d||n.blankrows!==!1)&&t.push((y++?c:"")+d)));return delete n.dense,t.join("")}function D3(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=dv(r,e);return t}function kF(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var i=ir(r["!ref"]),s="",l=[],c,f=[],h=Array.isArray(r);for(c=i.s.c;c<=i.e.c;++c)l[c]=mn(c);for(var d=i.s.r;d<=i.e.r;++d)for(s=on(d),c=i.s.c;c<=i.e.c;++c)if(e=l[c]+s,t=h?(r[d]||[])[c]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}f[f.length]=e+"="+n}return f}function k3(r,e,t){var n=t||{},i=+!n.skipHeader,s=r||{},l=0,c=0;if(s&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var f=typeof n.origin=="string"?Gr(n.origin):n.origin;l=f.r,c=f.c}var h,d={s:{c:0,r:0},e:{c,r:l+e.length-1+i}};if(s["!ref"]){var m=ir(s["!ref"]);d.e.c=Math.max(d.e.c,m.e.c),d.e.r=Math.max(d.e.r,m.e.r),l==-1&&(l=m.e.r+1,d.e.r=l+e.length-1+i)}else l==-1&&(l=0,d.e.r=e.length-1+i);var g=n.header||[],x=0;e.forEach(function(y,S){cn(y).forEach(function(T){(x=g.indexOf(T))==-1&&(g[x=g.length]=T);var A=y[T],C="z",_="",N=zt({c:c+x,r:l+S+i});h=k0(s,N),A&&typeof A=="object"&&!(A instanceof Date)?s[N]=A:(typeof A=="number"?C="n":typeof A=="boolean"?C="b":typeof A=="string"?C="s":A instanceof Date?(C="d",n.cellDates||(C="n",A=Vn(A)),_=n.dateNF||xr[14]):A===null&&n.nullError&&(C="e",A=0),h?(h.t=C,h.v=A,delete h.w,delete h.R,_&&(h.z=_)):s[N]=h={t:C,v:A},_&&(h.z=_))})}),d.e.c=Math.max(d.e.c,c+g.length-1);var b=on(l);if(i)for(x=0;x<g.length;++x)s[mn(x+c)+b]={t:"s",v:g[x]};return s["!ref"]=Rr(d),s}function OF(r,e){return k3(null,r,e)}function k0(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=Gr(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?k0(r,zt(e)):k0(r,zt({r:e,c:t||0}))}function BF(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function NF(){return{SheetNames:[],Sheets:{}}}function RF(r,e,t,n){var i=1;if(!t)for(;i<=65535&&r.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var l=s&&s[1]||t;for(++i;i<=65535&&r.SheetNames.indexOf(t=l+i)!=-1;++i);}if(y3(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function MF(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=BF(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function FF(r,e){return r.z=e,r}function O3(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function LF(r,e,t){return O3(r,"#"+e,t)}function IF(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function PF(r,e,t,n){for(var i=typeof e!="string"?e:ir(e),s=typeof e=="string"?e:Rr(e),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c){var f=k0(r,l,c);f.t="n",f.F=s,delete f.v,l==i.s.r&&c==i.s.c&&(f.f=t,n&&(f.D=!0))}return r}var wa={encode_col:mn,encode_row:on,encode_cell:zt,encode_range:Rr,decode_col:rv,decode_row:tv,split_cell:eB,decode_cell:Gr,decode_range:fi,format_cell:qs,sheet_add_aoa:BA,sheet_add_json:k3,sheet_add_dom:C3,aoa_to_sheet:$o,json_to_sheet:OF,table_to_sheet:A3,table_to_book:cF,sheet_to_csv:dv,sheet_to_txt:D3,sheet_to_json:vd,sheet_to_html:E3,sheet_to_formulae:kF,sheet_to_row_object_array:vd,sheet_get_cell:k0,book_new:NF,book_append_sheet:RF,book_set_sheet_visibility:MF,cell_set_number_format:FF,cell_set_hyperlink:O3,cell_set_internal_link:LF,cell_add_comment:IF,sheet_set_array_formula:PF,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Wh={exports:{}},jF=Wh.exports,wS;function zF(){return wS||(wS=1,(function(r,e){(function(t,n){n()})(jF,function(){function t(h,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function n(h,d,m){var g=new XMLHttpRequest;g.open("GET",h),g.responseType="blob",g.onload=function(){f(g.response,d,m)},g.onerror=function(){console.error("could not download file")},g.send()}function i(h){var d=new XMLHttpRequest;d.open("HEAD",h,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function s(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(d)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ml=="object"&&ml.global===ml?ml:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(h,d,m){var g=l.URL||l.webkitURL,x=document.createElement("a");d=d||h.name||"download",x.download=d,x.rel="noopener",typeof h=="string"?(x.href=h,x.origin===location.origin?s(x):i(x.href)?n(h,d,m):s(x,x.target="_blank")):(x.href=g.createObjectURL(h),setTimeout(function(){g.revokeObjectURL(x.href)},4e4),setTimeout(function(){s(x)},0))}:"msSaveOrOpenBlob"in navigator?function(h,d,m){if(d=d||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(t(h,m),d);else if(i(h))n(h,d,m);else{var g=document.createElement("a");g.href=h,g.target="_blank",setTimeout(function(){s(g)})}}:function(h,d,m,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof h=="string")return n(h,d,m);var x=h.type==="application/octet-stream",b=/constructor/i.test(l.HTMLElement)||l.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||x&&b||c)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var C=S.result;C=y?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=C:location=C,g=null},S.readAsDataURL(h)}else{var T=l.URL||l.webkitURL,A=T.createObjectURL(h);g?g.location=A:location.href=A,g=null,setTimeout(function(){T.revokeObjectURL(A)},4e4)}});l.saveAs=f.saveAs=f,r.exports=f})})(Wh)),Wh.exports}var Yg=zF();const pv=Q.createContext(),Kg={default:{name:"Padro (Azul)",bg:"bg-gray-100",navbar:"bg-white",navbarText:"text-gray-700",text:"text-gray-700",primaryBtn:"bg-blue-600 hover:bg-blue-700 text-white",secondaryBtn:"bg-gray-100 hover:bg-gray-200 text-gray-600",accent:"text-blue-600",border:"border-gray-200",input:"bg-white text-gray-900",panel:"bg-white",tabActive:"bg-blue-50 text-blue-600 border-blue-600",tabInactive:"text-gray-500 hover:bg-gray-50 hover:text-blue-500"},dark:{name:"Modo Escuro",bg:"bg-gray-900",navbar:"bg-gray-800",navbarText:"text-gray-200",text:"text-gray-200",primaryBtn:"bg-indigo-600 hover:bg-indigo-700 text-white",secondaryBtn:"bg-gray-700 hover:bg-gray-600 text-gray-200",accent:"text-indigo-400",border:"border-gray-700",input:"bg-gray-700 text-white border-gray-600",panel:"bg-gray-800",tabActive:"bg-gray-700 text-indigo-400 border-indigo-400",tabInactive:"text-gray-400 hover:bg-gray-700 hover:text-indigo-300"},ubuntu:{name:"Ubuntu",bg:"bg-[#fdf6e3]",navbar:"bg-[#300a24]",navbarText:"text-white",text:"text-[#300a24]",primaryBtn:"bg-[#e95420] hover:bg-[#c7461b] text-white",secondaryBtn:"bg-[#aea79f] hover:bg-[#9e968d] text-white",accent:"text-[#e95420]",border:"border-[#aea79f]",input:"bg-white text-[#300a24]",panel:"bg-white",tabActive:"bg-[#4e103b] text-[#e95420] border-[#e95420]",tabInactive:"text-gray-300 hover:bg-[#4e103b] hover:text-[#e95420]"},forest:{name:"Floresta",bg:"bg-stone-100",navbar:"bg-[#1c2e1f]",navbarText:"text-stone-200",text:"text-[#1c2e1f]",primaryBtn:"bg-[#2d4a33] hover:bg-[#3a5e42] text-white",secondaryBtn:"bg-stone-200 hover:bg-stone-300 text-stone-700",accent:"text-[#2d4a33]",border:"border-stone-200",input:"bg-white text-stone-800",panel:"bg-[#fdfbf7]",tabActive:"bg-[#2d4a33] text-white border-[#4caf50]",tabInactive:"text-stone-400 hover:bg-[#2d4a33] hover:text-white"},ocean:{name:"Oceano",bg:"bg-cyan-50",navbar:"bg-white",navbarText:"text-slate-700",text:"text-slate-700",primaryBtn:"bg-cyan-600 hover:bg-cyan-700 text-white",secondaryBtn:"bg-cyan-100 hover:bg-cyan-200 text-cyan-800",accent:"text-cyan-600",border:"border-cyan-200",input:"bg-white text-slate-700",panel:"bg-white",tabActive:"bg-cyan-50 text-cyan-700 border-cyan-600",tabInactive:"text-slate-500 hover:bg-cyan-50 hover:text-cyan-600"},dracula:{name:"Dracula",bg:"bg-[#282a36]",navbar:"bg-[#44475a]",navbarText:"text-[#f8f8f2]",text:"text-[#f8f8f2]",primaryBtn:"bg-[#bd93f9] hover:bg-[#ff79c6] text-[#282a36]",secondaryBtn:"bg-[#6272a4] hover:bg-[#50fa7b] text-white",accent:"text-[#ff79c6]",border:"border-[#6272a4]",input:"bg-[#282a36] text-[#f8f8f2] border-[#6272a4]",panel:"bg-[#282a36]",tabActive:"bg-[#282a36] text-[#ff79c6] border-[#ff79c6]",tabInactive:"text-[#6272a4] hover:bg-[#282a36] hover:text-[#bd93f9]"},military:{name:"Militar",bg:"bg-[#f5f5f5]",navbar:"bg-[#3e2723]",navbarText:"text-[#efebe9]",text:"text-[#3e2723]",primaryBtn:"bg-[#558b2f] hover:bg-[#33691e] text-white",secondaryBtn:"bg-[#795548] hover:bg-[#5d4037] text-white",accent:"text-[#33691e]",border:"border-[#8d6e63]",input:"bg-white text-gray-900 border-[#8d6e63]",panel:"bg-[#fafafa]",tabActive:"bg-[#5d4037] text-[#efebe9] border-[#fafafa]",tabInactive:"text-[#efebe9] opacity-70 hover:opacity-100"}},HF=({isVisible:r})=>{const{theme:e}=Q.useContext(pv),[t,n]=Q.useState([{id:1,sender:"ai",text:`Ol! Estou aqui para ajudar voc a descobrir insights nos seus dados.

O que vamos descobrir hoje?`,isSystem:!0}]),[i,s]=Q.useState(""),[l,c]=Q.useState(!1),[f,h]=Q.useState(null),[d,m]=Q.useState("welcome"),[g,x]=Q.useState("ai"),[b,y]=Q.useState(null),[S,T]=Q.useState([]),[A,C]=Q.useState([]),[_,N]=Q.useState(!1),[R,O]=Q.useState(null),[z,M]=Q.useState({}),I=Q.useRef(null),P=()=>{I.current?.scrollIntoView({behavior:"smooth"})};Q.useEffect(()=>{P()},[t,r]),Q.useEffect(()=>{r&&(W(),K())},[r]);const W=async()=>{try{const U=await(await fetch("http://localhost:3001/api/ai/suggestions")).json();Array.isArray(U)&&T(U)}catch(B){console.error("Failed to fetch suggestions",B)}},K=async()=>{try{const U=await(await fetch("http://localhost:3001/api/ai/skills")).json();Array.isArray(U)&&C(U)}catch(B){console.error("Failed to fetch skills",B)}},se=(B,U)=>{O(B),M({}),n(Z=>[...Z,{id:Date.now(),sender:"ai",text:U,isSystem:!0}])},ue=B=>{let U=B.prompt;B.type==="template"&&(U=U.replace("[TEMA]","")),s(U)},ee=(B,U,Z,le)=>{if(!b)return;const re={...b};re.columns[U][Z]=le,y(re)},ie=async()=>{c(!0);try{const U=await(await fetch("http://localhost:3001/api/ai/create-table-confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).json();c(!1),U.error?n(Z=>[...Z,{id:Date.now(),sender:"ai",text:`Tive um problema ao criar: ${U.error}`}]):(n(Z=>[...Z,{id:Date.now(),sender:"ai",text:`Prontinho! A tabela **${U.tableName}** foi criada com sucesso.`}]),m("welcome"),y(null))}catch(B){c(!1),n(U=>[...U,{id:Date.now(),sender:"ai",text:`Erro de conexo: ${B.message}`}])}},be=async(B=null)=>{let U=B||i;if(!U.trim())return;if(R&&!B)if(R==="SEARCH_KEYWORD")U=`Busque tabelas ${i}`,O(null);else if(R==="TRIGGER_NAME")U=`Ver triggers da tabela ${i}`,O(null);else if(R==="CREATE_NAME"){M({...z,name:i}),n(le=>[...le,{id:Date.now(),sender:"user",text:i}]),n(le=>[...le,{id:Date.now()+1,sender:"ai",text:"Quais colunas ela deve ter? (Ex: id number, nome varchar2(100))",isSystem:!0}]),O("CREATE_COLS"),s("");return}else R==="CREATE_COLS"&&(U=`${z.name}; ${i}`,O(null));const Z={id:Date.now(),sender:"user",text:U};n(le=>[...le,Z]),s(""),c(!0);try{const re=await(await fetch("http://localhost:3001/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:U,mode:g})})).json();if(c(!1),re.error){n(ve=>[...ve,{id:Date.now()+1,sender:"ai",text:"Ops: "+re.error}]);return}if(re.action==="switch_mode"){x(re.mode),n(ve=>[...ve,{id:Date.now()+1,sender:"ai",text:re.text}]);return}if(re.action==="quota_exceeded"){n(ve=>[...ve,{id:Date.now()+1,sender:"ai",text:re.text,isSystem:!0}]);return}n(ve=>[...ve,{id:Date.now()+1,sender:"ai",text:re.text}]),re.action&&re.action!=="chat"&&(W(),K()),re.action&&(re.action==="list_tables"?(m("table_results"),h(re.data)):re.action==="describe_table"?(m("schema_view"),h(re.data)):re.action==="show_data"?(m("data_view"),h(re.data.rows||re.data)):re.action==="draft_table"?(y(re.data),m("draft_view")):re.action==="column_selection"&&(m("column_selection"),h(re.data)))}catch(le){console.error(le),c(!1),n(re=>[...re,{id:Date.now()+1,sender:"ai",text:"Erro de conexo: "+le.message}])}};Q.useEffect(()=>{i.includes("[")&&i.includes("]")&&setTimeout(()=>{const B=document.querySelector('input[type="text"]');if(B){B.focus();const U=i.indexOf("["),Z=i.indexOf("]")+1;B.setSelectionRange(U,Z)}},50)},[i]),Q.useEffect(()=>{if(b&&b.tableName&&Array.isArray(b.columns)&&(!b.indices||b.indices.length===0)){const B=b.columns.map(U=>{let Z=U.name.toUpperCase();return{name:`IDX_${b.tableName.toUpperCase().substring(0,8)}_${Z.substring(0,10)}`,column:U.name}});y(U=>({...U,indices:B}))}},[b?.tableName,b?.columns?.length]);const Ee=B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),be())},ke=()=>E.jsx("div",{className:"w-full h-full overflow-auto",children:E.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[E.jsx("thead",{className:"bg-gray-50 sticky top-0",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tabela"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Comentrios"}),E.jsx("th",{className:"px-6 py-3 text-right",children:"Ao"})]})}),E.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f&&f.map((B,U)=>E.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.owner}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:B.name}),E.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 truncate max-w-xs",children:B.comments}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:E.jsx("button",{onClick:()=>be(`Estrutura da tabela ${B.owner}.${B.name}`),className:"text-blue-600 hover:text-blue-900 bg-blue-100 px-3 py-1 rounded",children:"Ver Detalhes"})})]},U))})]})}),j=()=>{if(!f)return E.jsx("div",{className:"p-4 text-gray-500",children:"Erro: Nenhum dado de estrutura disponvel."});const B=Array.isArray(f)?f:f?.columns||[];return B?E.jsxs("div",{className:"w-full h-full overflow-auto",children:[f?.tableName&&E.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 font-bold text-gray-700 text-sm uppercase tracking-wider sticky top-0 z-10 flex justify-between items-center",children:[E.jsxs("span",{children:["Estrutura: ",f.tableName]}),f.isView&&E.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:"VIEW"})]}),f?.viewDefinition&&E.jsxs("div",{className:"p-4 bg-gray-900 text-gray-100 text-xs font-mono border-b border-gray-700 overflow-x-auto",children:[E.jsx("div",{className:"mb-2 text-gray-400 uppercase font-bold",children:"Definio SQL (View):"}),E.jsx("pre",{children:f.viewDefinition})]}),E.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[E.jsx("thead",{className:"bg-gray-50 sticky top-10",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Coluna"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nullable"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Default"})]})}),E.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.map((U,Z)=>E.jsxs("tr",{className:"hover:bg-gray-50",children:[E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:U.COLUMN_NAME}),E.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[U.DATA_TYPE,"(",U.DATA_LENGTH,")"]}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.NULLABLE}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.DATA_DEFAULT})]},Z))})]})]}):E.jsx("div",{className:"p-4 text-gray-500",children:"Erro: Formato de colunas invlido."})},D=()=>{try{if(!b)return null;const B=b.tableName||"NOVA_TABELA",U=Array.isArray(b.columns)?b.columns:[],Z=Array.isArray(b.indices)?b.indices:[],le=Array.isArray(b.grants)?b.grants:[];return E.jsxs("div",{className:"w-full h-full overflow-auto p-4 bg-gray-50",children:[E.jsxs("div",{className:"mb-6 flex justify-between items-center bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[E.jsxs("div",{className:"flex-1 mr-4",children:[E.jsx("label",{className:"text-xs text-purple-600 font-bold uppercase tracking-wider mb-1 block",children:"Nome da Tabela"}),E.jsxs("div",{className:"flex items-center",children:[E.jsx("span",{className:"bg-purple-100 text-purple-600 p-2 rounded-lg mr-3 text-lg",children:""}),E.jsx("input",{value:B,onChange:re=>y(ve=>({...ve,tableName:re.target.value.toUpperCase()})),className:"text-xl font-bold text-gray-800 border-b-2 border-purple-200 focus:border-purple-600 focus:outline-none w-full bg-transparent ml-2 uppercase",placeholder:"NOME_DA_TABELA"})]}),E.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-11",children:"Revise o nome e campos antes de criar."})]}),E.jsxs("div",{className:"space-x-2 flex-shrink-0",children:[E.jsx("button",{onClick:()=>{m("welcome"),y(null)},className:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancelar"}),E.jsx("button",{onClick:ie,className:"px-6 py-2 text-sm bg-purple-600 text-white font-bold rounded-lg hover:bg-purple-700 shadow-md transform active:scale-95 transition-all",children:"Confirmar Criao"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[E.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-100 flex justify-between items-center",children:[E.jsx("h3",{className:"font-bold text-gray-700 text-sm",children:"Colunas Definidas"}),E.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:[U.length," campos"]})]}),E.jsxs("div",{className:"overflow-x-auto",children:[E.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[E.jsx("thead",{className:"bg-gray-50",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nome"}),E.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tipo"}),E.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Remover"})]})}),E.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map((re,ve)=>E.jsxs("tr",{className:"hover:bg-gray-50",children:[E.jsx("td",{className:"px-4 py-3",children:E.jsx("input",{value:re.name,onChange:pe=>ee("columns",ve,"name",pe.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm font-bold uppercase"})}),E.jsx("td",{className:"px-4 py-3",children:E.jsx("input",{value:re.type,onChange:pe=>ee("columns",ve,"type",pe.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm font-mono text-blue-600 uppercase"})}),E.jsx("td",{className:"px-4 py-3 text-center",children:E.jsx("button",{onClick:()=>{const pe={...b};pe.columns.splice(ve,1),y(pe)},className:"text-red-400 hover:text-red-600 font-bold px-2",children:""})})]},ve))})]}),E.jsx("div",{className:"p-3 bg-gray-50 border-t border-gray-200 text-center",children:E.jsx("button",{onClick:()=>{const re={...b};Array.isArray(re.columns)||(re.columns=[]),re.columns.push({name:"NOVA_COLUNA",type:"VARCHAR2(100)"}),y(re)},className:"text-sm text-purple-600 font-medium hover:underline",children:"+ Adicionar Coluna"})})]})]}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4",children:[E.jsx("h3",{className:"font-bold text-gray-700 text-sm mb-3 border-b pb-2 flex justify-between items-center",children:E.jsx("span",{children:"ndices Sugeridos"})}),Z.length===0?E.jsx("p",{className:"text-sm text-gray-400 italic",children:"Nenhum ndice definido."}):E.jsx("div",{className:"flex flex-col gap-2",children:Z.map((re,ve)=>E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-[10px] bg-blue-50 text-blue-500 px-1 rounded w-16 truncate text-right font-bold",title:re.column||"?",children:re.column||"CUSTOM"}),E.jsx("input",{value:re.name||re,onChange:pe=>{const Je={...b};typeof Je.indices[ve]=="object"?Je.indices[ve].name=pe.target.value.toUpperCase():Je.indices[ve]=pe.target.value.toUpperCase(),y(Je)},placeholder:"NOME_INDICE",className:"flex-1 px-2 py-1 text-xs border border-blue-200 rounded text-blue-700 font-mono focus:border-blue-500 outline-none uppercase"}),E.jsx("button",{onClick:()=>{const pe={...b};pe.indices.splice(ve,1),y(pe)},className:"text-red-400 hover:text-red-600 font-bold",children:""})]},ve))})]}),E.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4",children:[E.jsxs("h3",{className:"font-bold text-gray-700 text-sm mb-3 border-b pb-2 flex justify-between items-center",children:[E.jsx("span",{children:"Permisses (Grants)"}),E.jsx("button",{onClick:()=>{const re={...b};re.grants||(re.grants=[]),re.grants.push(`GRANT SELECT ON ${B} TO PUBLIC`),y(re)},className:"text-xs bg-green-50 text-green-600 px-2 py-1 rounded hover:bg-green-100",children:"+ Add"})]}),le.length===0?E.jsx("p",{className:"text-sm text-gray-400 italic",children:"Nenhuma permisso definida."}):E.jsx("div",{className:"flex flex-col gap-2",children:le.map((re,ve)=>E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("input",{value:re,onChange:pe=>{const Je={...b};Je.grants[ve]=pe.target.value.toUpperCase(),y(Je)},className:"flex-1 px-2 py-1 text-xs border border-green-200 rounded text-green-700 font-mono focus:border-green-500 outline-none uppercase"}),E.jsx("button",{onClick:()=>{const pe={...b};pe.grants.splice(ve,1),y(pe)},className:"text-red-400 hover:text-red-600 font-bold",children:""})]},ve))})]})]})]})]})}catch(B){return console.error("Error rendering Draft View:",B),E.jsxs("div",{className:"p-6 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[E.jsx("h3",{className:"font-bold",children:"Erro ao exibir rascunho"}),E.jsx("p",{children:"Ocorreu um problema ao renderizar a estrutura da tabela."}),E.jsx("p",{className:"text-xs mt-2 font-mono bg-white p-2 rounded border border-red-100",children:B.message}),E.jsx("button",{onClick:()=>y(null),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Fechar e Tentar Novamente"})]})}},L=()=>{if(!f||!f.length)return E.jsx("div",{className:"p-4 text-gray-500",children:"Nenhum dado para exibir."});const B=Z=>{if(Z==null)return"";if(typeof Z=="object")return JSON.stringify(Z);if(typeof Z=="string"&&/^\d{4}-\d{2}-\d{2}T/.test(Z)){const le=new Date(Z);if(!isNaN(le.getTime())){const re=le.getHours()!==0||le.getMinutes()!==0||le.getSeconds()!==0;return le.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:re?"2-digit":void 0,minute:re?"2-digit":void 0,second:re?"2-digit":void 0})}}return Z},U=Object.keys(f[0]);return E.jsx("div",{className:"w-full h-full overflow-auto",children:E.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[E.jsx("thead",{className:"bg-gray-50 sticky top-0",children:E.jsx("tr",{children:U.map(Z=>E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:Z},Z))})}),E.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map((Z,le)=>E.jsx("tr",{className:"hover:bg-blue-50",children:U.map(re=>E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:B(Z[re])},re))},le))})]})})};return E.jsxs("div",{className:`flex h-full ${e.bg} overflow-hidden font-sans`,children:[_&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-[500px] max-w-full m-4 border-2 border-blue-100",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" O que eu j aprendi"}),E.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),E.jsx("div",{className:"max-h-[60vh] overflow-y-auto space-y-3",children:A.length===0?E.jsx("p",{className:"text-center text-gray-500 py-8",children:"Ainda estou aprendendo! Use o assistente para me ensinar novos truques."}):A.map(B=>E.jsxs("div",{className:"p-3 bg-blue-50 rounded-xl flex justify-between items-center group hover:bg-blue-100 transition-colors",children:[E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-blue-800 text-sm",children:B.name}),E.jsxs("p",{className:"text-xs text-blue-600 opacity-80",children:["Usado ",B.frequency," vezes"]})]}),E.jsx("button",{onClick:()=>{N(!1),B.id==="draft_table"?se("CREATE_NAME","Qual o nome da nova tabela?"):B.id==="list_tables"?s("Listar todas as tabelas"):B.id==="describe_table"?s("Descreva a tabela [NOME]"):B.id==="list_triggers"?s("Listar triggers da tabela [NOME]"):s(`Executar ao: ${B.id}`)},className:"px-3 py-1 bg-white text-blue-600 text-xs font-bold rounded-lg shadow-sm opacity-0 group-hover:opacity-100 transition-opacity transform active:scale-95",children:"Testar "})]},B.id))}),E.jsx("button",{onClick:()=>N(!1),className:"mt-6 w-full py-2 bg-gray-100 font-bold text-gray-600 rounded-xl hover:bg-gray-200",children:"Fechar"})]})}),E.jsxs("div",{className:`w-[40%] flex flex-col border-r ${e.border} ${e.sidebar} shadow-sm z-10`,children:[E.jsxs("div",{className:`p-4 border-b ${e.border} flex items-center justify-between bg-white/50 backdrop-blur-sm`,children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-xs shadow-md transition-all ${g==="ai"?"bg-gradient-to-tr from-blue-500 to-purple-600":"bg-green-600"}`,children:g==="ai"?"AI":"LG"}),E.jsxs("div",{children:[E.jsx("h2",{className:`font-bold text-sm ${e.text}`,children:"Hap AI"}),E.jsx("p",{className:"text-[10px] text-gray-500 cursor-pointer hover:underline",onClick:()=>N(!0),children:g==="ai"?"Online  Ver Habilidades":"Modo Offline"})]})]}),E.jsxs("div",{className:"flex items-center bg-gray-200 rounded-full p-1 cursor-pointer",onClick:()=>x(g==="ai"?"local":"ai"),children:[E.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold transition-all duration-300 ${g==="ai"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"AI"}),E.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold transition-all duration-300 ${g==="local"?"bg-white text-green-600 shadow-sm":"text-gray-500"}`,children:"Off"})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50/50",children:[t.map(B=>E.jsx("div",{className:`flex ${B.sender==="user"?"justify-end":"justify-start"}`,children:E.jsx("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 text-sm shadow-sm ${B.sender==="user"?"bg-blue-600 text-white rounded-br-none":B.isSystem?"bg-indigo-50 text-indigo-900 border border-indigo-100":"bg-white text-gray-800 border border-gray-100 rounded-bl-none"}`,children:B.text.split(/```/).map((Z,le)=>{if(le%2===1){let re=Z.trim();const ve=re.indexOf(`
`);return ve>-1&&ve<10&&(re=re.substring(ve+1)),E.jsx("pre",{className:"bg-gray-800 text-gray-100 p-3 rounded-lg my-2 text-xs font-mono overflow-x-auto border border-gray-700 shadow-inner",children:E.jsx("code",{children:re})},le)}else return E.jsx("span",{className:"whitespace-pre-wrap leading-relaxed",children:Z},le)})})},B.id)),l&&E.jsx("div",{className:"flex justify-start",children:E.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl rounded-bl-none px-4 py-3 shadow-sm flex space-x-1 items-center",children:[E.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),E.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),E.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}),E.jsx("div",{ref:I})]}),E.jsx("div",{className:`p-3 border-t ${e.border} bg-white`,children:E.jsxs("div",{className:"relative",children:[E.jsx("textarea",{value:i,onChange:B=>s(B.target.value),onKeyDown:Ee,placeholder:g==="ai"?"Ex: Quero ver os clientes de So Paulo...":"Comandos: Busque tabelas..., Estrutura de...",className:`w-full border-gray-200 rounded-xl pr-12 pl-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none shadow-sm ${e.input} ${e.border}`,rows:1,style:{minHeight:"44px",maxHeight:"120px"}}),E.jsx("button",{onClick:()=>be(),disabled:!i.trim()||l,className:`absolute right-2 bottom-2 p-1.5 rounded-lg transition-colors ${i.trim()?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:E.jsx("path",{d:"M3.478 2.404a.75.75 0 00-.926.941l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.404z"})})})]})})]}),E.jsxs("div",{className:"flex-1 flex flex-col bg-white overflow-hidden relative border-l border-gray-100",children:[E.jsxs("div",{className:`h-14 border-b ${e.border} flex items-center justify-between px-6 bg-white overflow-hidden`,children:[E.jsxs("h3",{className:"font-bold text-gray-700 text-sm uppercase tracking-wider flex items-center",children:[E.jsx("span",{className:"text-lg mr-2",children:""}),d==="welcome"&&"Incio",d==="table_results"&&"Resultados da Busca",d==="schema_view"&&"Estrutura da Tabela",d==="data_view"&&"Dados",d==="draft_view"&&"Rascunho"]}),E.jsxs("div",{className:"flex space-x-2",children:[d!=="welcome"&&E.jsx("button",{onClick:()=>{m("welcome"),y(null)},className:"text-xs text-gray-400 hover:text-gray-600",children:"Voltar ao Incio"}),E.jsx("button",{onClick:()=>N(!0),className:"text-xs text-purple-600 font-bold bg-purple-50 px-2 py-1 rounded hover:bg-purple-100",children:"Ajuda"})]})]}),E.jsxs("div",{className:`flex-1 overflow-hidden relative ${d==="welcome"?"bg-gray-50 flex flex-col justify-center":"bg-white"}`,children:[d==="welcome"&&E.jsxs("div",{className:"max-w-4xl mx-auto p-8 w-full",children:[E.jsxs("div",{className:"text-center mb-10",children:[E.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-2 tracking-tight",children:"O que vamos construir hoje?"}),E.jsx("p",{className:"text-lg text-gray-500",children:"Escolha um atalho ou digite sua pergunta ao lado."})]}),E.jsxs("div",{className:"flex overflow-x-auto pb-6 space-x-6 px-2 snap-x",children:[S.map(B=>E.jsx("div",{onClick:()=>ue(B),className:"snap-start shrink-0 w-96 bg-white p-6 rounded-2xl shadow-sm border border-gray-100 cursor-pointer transition-all duration-300 hover:shadow-md hover:-translate-y-1 hover:border-blue-200 group flex flex-col justify-between",children:E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsx("span",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg text-xl group-hover:bg-blue-600 group-hover:text-white transition-colors",children:B.type==="learned"?"":B.type==="template"?"":""}),B.type==="learned"&&E.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-green-600 bg-green-50 px-2 py-1 rounded-full",children:"Frequente"})]}),E.jsx("h3",{className:"font-bold text-gray-800 text-lg mb-2 group-hover:text-blue-600 transition-colors whitespace-normal",children:B.title}),E.jsxs("p",{className:"text-sm text-gray-500 line-clamp-3 whitespace-normal",children:['"',B.prompt,'"']})]})},B.id)),S.length===0&&E.jsx("div",{className:"w-full text-center text-gray-400 py-10",children:"Carregando sugestes inteligentes..."})]})]}),d==="draft_view"&&D(),d==="table_results"&&f&&ke(),d==="schema_view"&&f&&j(),d==="column_selection"&&f&&renderColumnSelection(),d==="data_view"&&f&&L()]})]})]})};function jx(){return jx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},jx.apply(null,arguments)}function UF(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}let zx=[],B3=[];(()=>{let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<r.length;e++)(e%2?B3:zx).push(t=t+r[e])})();function VF(r){if(r<768)return!1;for(let e=0,t=zx.length;;){let n=e+t>>1;if(r<zx[n])t=n;else if(r>=B3[n])e=n+1;else return!0;if(e==t)return!1}}function SS(r){return r>=127462&&r<=127487}const ES=8205;function qF(r,e,t=!0,n=!0){return(t?N3:WF)(r,e,n)}function N3(r,e,t){if(e==r.length)return e;e&&R3(r.charCodeAt(e))&&M3(r.charCodeAt(e-1))&&e--;let n=$g(r,e);for(e+=CS(n);e<r.length;){let i=$g(r,e);if(n==ES||i==ES||t&&VF(i))e+=CS(i),n=i;else if(SS(i)){let s=0,l=e-2;for(;l>=0&&SS($g(r,l));)s++,l-=2;if(s%2==0)break;e+=2}else break}return e}function WF(r,e,t){for(;e>0;){let n=N3(r,e-2,t);if(n<e)return n;e--}return 0}function $g(r,e){let t=r.charCodeAt(e);if(!M3(t)||e+1==r.length)return t;let n=r.charCodeAt(e+1);return R3(n)?(t-55296<<10)+(n-56320)+65536:t}function R3(r){return r>=56320&&r<57344}function M3(r){return r>=55296&&r<56320}function CS(r){return r<65536?1:2}class _t{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=Ho(this,e,t);let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(t,this.length,i,1),os.from(i,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Ho(this,e,t);let n=[];return this.decompose(e,t,n,0),os.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),i=new d0(this),s=new d0(e);for(let l=t,c=t;;){if(i.next(l),s.next(l),l=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(c+=i.value.length,i.done||c>=n)return!0}}iter(e=1){return new d0(this,e)}iterRange(e,t=this.length){return new F3(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;n=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new L3(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?_t.empty:e.length<=32?new Sr(e):os.from(Sr.split(e,[]))}}class Sr extends _t{constructor(e,t=GF(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,i){for(let s=0;;s++){let l=this.text[s],c=i+l.length;if((t?n:c)>=e)return new XF(i,c,n,l);i=c+1,n++}}decompose(e,t,n,i){let s=e<=0&&t>=this.length?this:new Sr(AS(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let l=n.pop(),c=Gh(s.text,l.text.slice(),0,s.length);if(c.length<=32)n.push(new Sr(c,l.length+s.length));else{let f=c.length>>1;n.push(new Sr(c.slice(0,f)),new Sr(c.slice(f)))}}else n.push(s)}replace(e,t,n){if(!(n instanceof Sr))return super.replace(e,t,n);[e,t]=Ho(this,e,t);let i=Gh(this.text,Gh(n.text,AS(this.text,0,e)),t),s=this.length+n.length-(t-e);return i.length<=32?new Sr(i,s):os.from(Sr.split(i,[]),s)}sliceString(e,t=this.length,n=`
`){[e,t]=Ho(this,e,t);let i="";for(let s=0,l=0;s<=t&&l<this.text.length;l++){let c=this.text[l],f=s+c.length;s>e&&l&&(i+=n),e<f&&t>s&&(i+=c.slice(Math.max(0,e-s),t-s)),s=f+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],i=-1;for(let s of e)n.push(s),i+=s.length+1,n.length==32&&(t.push(new Sr(n,i)),n=[],i=-1);return i>-1&&t.push(new Sr(n,i)),t}}class os extends _t{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,i){for(let s=0;;s++){let l=this.children[s],c=i+l.length,f=n+l.lines-1;if((t?f:c)>=e)return l.lineInner(e,t,n,i);i=c+1,n=f+1}}decompose(e,t,n,i){for(let s=0,l=0;l<=t&&s<this.children.length;s++){let c=this.children[s],f=l+c.length;if(e<=f&&t>=l){let h=i&((l<=e?1:0)|(f>=t?2:0));l>=e&&f<=t&&!h?n.push(c):c.decompose(e-l,t-l,n,h)}l=f+1}}replace(e,t,n){if([e,t]=Ho(this,e,t),n.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let l=this.children[i],c=s+l.length;if(e>=s&&t<=c){let f=l.replace(e-s,t-s,n),h=this.lines-l.lines+f.lines;if(f.lines<h>>4&&f.lines>h>>6){let d=this.children.slice();return d[i]=f,new os(d,this.length-(t-e)+n.length)}return super.replace(s,c,f)}s=c+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n=`
`){[e,t]=Ho(this,e,t);let i="";for(let s=0,l=0;s<this.children.length&&l<=t;s++){let c=this.children[s],f=l+c.length;l>e&&s&&(i+=n),e<f&&t>l&&(i+=c.sliceString(e-l,t-l,n)),l=f+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof os))return 0;let n=0,[i,s,l,c]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==l||s==c)return n;let f=this.children[i],h=e.children[s];if(f!=h)return n+f.scanIdentical(h,t);n+=f.length+1}}static from(e,t=e.reduce((n,i)=>n+i.length+1,-1)){let n=0;for(let x of e)n+=x.lines;if(n<32){let x=[];for(let b of e)b.flatten(x);return new Sr(x,t)}let i=Math.max(32,n>>5),s=i<<1,l=i>>1,c=[],f=0,h=-1,d=[];function m(x){let b;if(x.lines>s&&x instanceof os)for(let y of x.children)m(y);else x.lines>l&&(f>l||!f)?(g(),c.push(x)):x instanceof Sr&&f&&(b=d[d.length-1])instanceof Sr&&x.lines+b.lines<=32?(f+=x.lines,h+=x.length+1,d[d.length-1]=new Sr(b.text.concat(x.text),b.length+1+x.length)):(f+x.lines>i&&g(),f+=x.lines,h+=x.length+1,d.push(x))}function g(){f!=0&&(c.push(d.length==1?d[0]:os.from(d,h)),h=-1,f=d.length=0)}for(let x of e)m(x);return g(),c.length==1?c[0]:new os(c,t)}}_t.empty=new Sr([""],0);function GF(r){let e=-1;for(let t of r)e+=t.length+1;return e}function Gh(r,e,t=0,n=1e9){for(let i=0,s=0,l=!0;s<r.length&&i<=n;s++){let c=r[s],f=i+c.length;f>=t&&(f>n&&(c=c.slice(0,n-i)),i<t&&(c=c.slice(t-i)),l?(e[e.length-1]+=c,l=!1):e.push(c)),i=f+1}return e}function AS(r,e,t){return Gh(r,[""],e,t)}class d0{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Sr?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],s=this.offsets[n],l=s>>1,c=i instanceof Sr?i.text.length:i.children.length;if(l==(t>0?c:0)){if(n==0)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Sr){let f=i.text[l+(t<0?-1:0)];if(this.offsets[n]+=t,f.length>Math.max(0,e))return this.value=e==0?f:t>0?f.slice(e):f.slice(0,f.length-e),this;e-=f.length}else{let f=i.children[l+(t<0?-1:0)];e>f.length?(e-=f.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(f),this.offsets.push(t>0?1:(f instanceof Sr?f.text.length:f.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class F3{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new d0(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=n?i:t<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class L3{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(_t.prototype[Symbol.iterator]=function(){return this.iter()},d0.prototype[Symbol.iterator]=F3.prototype[Symbol.iterator]=L3.prototype[Symbol.iterator]=function(){return this});class XF{constructor(e,t,n,i){this.from=e,this.to=t,this.number=n,this.text=i}get length(){return this.to-this.from}}function Ho(r,e,t){return e=Math.max(0,Math.min(r.length,e)),[e,Math.max(e,Math.min(r.length,t))]}function ln(r,e,t=!0,n=!0){return qF(r,e,t,n)}function YF(r){return r>=56320&&r<57344}function KF(r){return r>=55296&&r<56320}function Pn(r,e){let t=r.charCodeAt(e);if(!KF(t)||e+1==r.length)return t;let n=r.charCodeAt(e+1);return YF(n)?(t-55296<<10)+(n-56320)+65536:t}function mv(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function cs(r){return r<65536?1:2}const Hx=/\r\n?|\n/;var En=(function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r})(En||(En={}));class ds{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,i=0;t<this.sections.length;){let s=this.sections[t++],l=this.sections[t++];l<0?(e(n,i,s),i+=s):i+=l,n+=s}}iterChangedRanges(e,t=!1){Ux(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];i<0?e.push(n,i):e.push(i,n)}return new ds(e)}composeDesc(e){return this.empty?e:e.empty?this:I3(this,e)}mapDesc(e,t=!1){return e.empty?this:Vx(this,e,t)}mapPos(e,t=-1,n=En.Simple){let i=0,s=0;for(let l=0;l<this.sections.length;){let c=this.sections[l++],f=this.sections[l++],h=i+c;if(f<0){if(h>e)return s+(e-i);s+=c}else{if(n!=En.Simple&&h>=e&&(n==En.TrackDel&&i<e&&h>e||n==En.TrackBefore&&i<e||n==En.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!c)return e==i||t<0?s:s+f;s+=f}i=h}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let n=0,i=0;n<this.sections.length&&i<=t;){let s=this.sections[n++],l=this.sections[n++],c=i+s;if(l>=0&&i<=t&&c>=e)return i<e&&c>t?"cover":!0;i=c}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ds(e)}static create(e){return new ds(e)}}class Ir extends ds{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Ux(this,(t,n,i,s,l)=>e=e.replace(i,i+(n-t),l),!1),e}mapDesc(e,t=!1){return Vx(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let i=0,s=0;i<t.length;i+=2){let l=t[i],c=t[i+1];if(c>=0){t[i]=c,t[i+1]=l;let f=i>>1;for(;n.length<f;)n.push(_t.empty);n.push(l?e.slice(s,s+l):_t.empty)}s+=l}return new Ir(t,n)}compose(e){return this.empty?e:e.empty?this:I3(this,e,!0)}map(e,t=!1){return e.empty?this:Vx(this,e,t,!0)}iterChanges(e,t=!1){Ux(this,e,t)}get desc(){return ds.create(this.sections)}filter(e){let t=[],n=[],i=[],s=new O0(this);e:for(let l=0,c=0;;){let f=l==e.length?1e9:e[l++];for(;c<f||c==f&&s.len==0;){if(s.done)break e;let d=Math.min(s.len,f-c);dn(i,d,-1);let m=s.ins==-1?-1:s.off==0?s.ins:0;dn(t,d,m),m>0&&Da(n,t,s.text),s.forward(d),c+=d}let h=e[l++];for(;c<h;){if(s.done)break e;let d=Math.min(s.len,h-c);dn(t,d,-1),dn(i,d,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(d),c+=d}}return{changes:new Ir(t,n),filtered:ds.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],i=this.sections[t+1];i<0?e.push(n):i==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let i=[],s=[],l=0,c=null;function f(d=!1){if(!d&&!i.length)return;l<t&&dn(i,t-l,-1);let m=new Ir(i,s);c=c?c.compose(m.map(c)):m,i=[],s=[],l=0}function h(d){if(Array.isArray(d))for(let m of d)h(m);else if(d instanceof Ir){if(d.length!=t)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${t})`);f(),c=c?c.compose(d.map(c)):d}else{let{from:m,to:g=m,insert:x}=d;if(m>g||m<0||g>t)throw new RangeError(`Invalid change range ${m} to ${g} (in doc of length ${t})`);let b=x?typeof x=="string"?_t.of(x.split(n||Hx)):x:_t.empty,y=b.length;if(m==g&&y==0)return;m<l&&f(),m>l&&dn(i,m-l,-1),dn(i,g-m,y),Da(s,i,b),l=g}}return h(e),f(!c),c}static empty(e){return new Ir(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((l,c)=>c&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;n.length<i;)n.push(_t.empty);n[i]=_t.of(s.slice(1)),t.push(s[0],n[i].length)}}}return new Ir(t,n)}static createSet(e,t){return new Ir(e,t)}}function dn(r,e,t,n=!1){if(e==0&&t<=0)return;let i=r.length-2;i>=0&&t<=0&&t==r[i+1]?r[i]+=e:i>=0&&e==0&&r[i]==0?r[i+1]+=t:n?(r[i]+=e,r[i+1]+=t):r.push(e,t)}function Da(r,e,t){if(t.length==0)return;let n=e.length-2>>1;if(n<r.length)r[r.length-1]=r[r.length-1].append(t);else{for(;r.length<n;)r.push(_t.empty);r.push(t)}}function Ux(r,e,t){let n=r.inserted;for(let i=0,s=0,l=0;l<r.sections.length;){let c=r.sections[l++],f=r.sections[l++];if(f<0)i+=c,s+=c;else{let h=i,d=s,m=_t.empty;for(;h+=c,d+=f,f&&n&&(m=m.append(n[l-2>>1])),!(t||l==r.sections.length||r.sections[l+1]<0);)c=r.sections[l++],f=r.sections[l++];e(i,h,s,d,m),i=h,s=d}}}function Vx(r,e,t,n=!1){let i=[],s=n?[]:null,l=new O0(r),c=new O0(e);for(let f=-1;;){if(l.done&&c.len||c.done&&l.len)throw new Error("Mismatched change set lengths");if(l.ins==-1&&c.ins==-1){let h=Math.min(l.len,c.len);dn(i,h,-1),l.forward(h),c.forward(h)}else if(c.ins>=0&&(l.ins<0||f==l.i||l.off==0&&(c.len<l.len||c.len==l.len&&!t))){let h=c.len;for(dn(i,c.ins,-1);h;){let d=Math.min(l.len,h);l.ins>=0&&f<l.i&&l.len<=d&&(dn(i,0,l.ins),s&&Da(s,i,l.text),f=l.i),l.forward(d),h-=d}c.next()}else if(l.ins>=0){let h=0,d=l.len;for(;d;)if(c.ins==-1){let m=Math.min(d,c.len);h+=m,d-=m,c.forward(m)}else if(c.ins==0&&c.len<d)d-=c.len,c.next();else break;dn(i,h,f<l.i?l.ins:0),s&&f<l.i&&Da(s,i,l.text),f=l.i,l.forward(l.len-d)}else{if(l.done&&c.done)return s?Ir.createSet(i,s):ds.create(i);throw new Error("Mismatched change set lengths")}}}function I3(r,e,t=!1){let n=[],i=t?[]:null,s=new O0(r),l=new O0(e);for(let c=!1;;){if(s.done&&l.done)return i?Ir.createSet(n,i):ds.create(n);if(s.ins==0)dn(n,s.len,0,c),s.next();else if(l.len==0&&!l.done)dn(n,0,l.ins,c),i&&Da(i,n,l.text),l.next();else{if(s.done||l.done)throw new Error("Mismatched change set lengths");{let f=Math.min(s.len2,l.len),h=n.length;if(s.ins==-1){let d=l.ins==-1?-1:l.off?0:l.ins;dn(n,f,d,c),i&&d&&Da(i,n,l.text)}else l.ins==-1?(dn(n,s.off?0:s.len,f,c),i&&Da(i,n,s.textBit(f))):(dn(n,s.off?0:s.len,l.off?0:l.ins,c),i&&!l.off&&Da(i,n,l.text));c=(s.ins>f||l.ins>=0&&l.len>f)&&(c||n.length>h),s.forward2(f),l.forward(f)}}}}class O0{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?_t.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?_t.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class gl{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new gl(n,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return _e.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return _e.range(this.anchor,n)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return _e.range(e.anchor,e.head)}static create(e,t,n){return new gl(e,t,n)}}class _e{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:_e.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new _e([this.main],0)}addRange(e,t=!0){return _e.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,_e.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new _e(e.ranges.map(t=>gl.fromJSON(t)),e.main)}static single(e,t=e){return new _e([_e.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=n:s.from<n)return _e.normalized(e.slice(),t);n=s.to}return new _e(e,t)}static cursor(e,t=0,n,i){return gl.create(e,e,(t==0?0:t<0?8:16)|(n==null?7:Math.min(6,n))|(i??16777215)<<6)}static range(e,t,n,i){let s=(n??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?gl.create(t,e,48|s):gl.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let n=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(n);for(let i=1;i<e.length;i++){let s=e[i],l=e[i-1];if(s.empty?s.from<=l.to:s.from<l.to){let c=l.from,f=Math.max(s.to,l.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?_e.range(f,c):_e.range(c,f))}}return new _e(e,t)}}function P3(r,e){for(let t of r.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let gv=0;class Ge{constructor(e,t,n,i,s){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=i,this.id=gv++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Ge(e.combine||(t=>t),e.compareInput||((t,n)=>t===n),e.compare||(e.combine?(t,n)=>t===n:xv),!!e.static,e.enables)}of(e){return new Xh([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Xh(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Xh(e,this,2,t)}from(e,t){return t||(t=n=>n),this.compute([e],n=>t(n.field(e)))}}function xv(r,e){return r==e||r.length==e.length&&r.every((t,n)=>t===e[n])}class Xh{constructor(e,t,n,i){this.dependencies=e,this.facet=t,this.type=n,this.value=i,this.id=gv++}dynamicSlot(e){var t;let n=this.value,i=this.facet.compareInput,s=this.id,l=e[s]>>1,c=this.type==2,f=!1,h=!1,d=[];for(let m of this.dependencies)m=="doc"?f=!0:m=="selection"?h=!0:(((t=e[m.id])!==null&&t!==void 0?t:1)&1)==0&&d.push(e[m.id]);return{create(m){return m.values[l]=n(m),1},update(m,g){if(f&&g.docChanged||h&&(g.docChanged||g.selection)||qx(m,d)){let x=n(m);if(c?!TS(x,m.values[l],i):!i(x,m.values[l]))return m.values[l]=x,1}return 0},reconfigure:(m,g)=>{let x,b=g.config.address[s];if(b!=null){let y=bd(g,b);if(this.dependencies.every(S=>S instanceof Ge?g.facet(S)===m.facet(S):S instanceof fn?g.field(S,!1)==m.field(S,!1):!0)||(c?TS(x=n(m),y,i):i(x=n(m),y)))return m.values[l]=y,0}else x=n(m);return m.values[l]=x,1}}}}function TS(r,e,t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!t(r[n],e[n]))return!1;return!0}function qx(r,e){let t=!1;for(let n of e)p0(r,n)&1&&(t=!0);return t}function $F(r,e,t){let n=t.map(f=>r[f.id]),i=t.map(f=>f.type),s=n.filter(f=>!(f&1)),l=r[e.id]>>1;function c(f){let h=[];for(let d=0;d<n.length;d++){let m=bd(f,n[d]);if(i[d]==2)for(let g of m)h.push(g);else h.push(m)}return e.combine(h)}return{create(f){for(let h of n)p0(f,h);return f.values[l]=c(f),1},update(f,h){if(!qx(f,s))return 0;let d=c(f);return e.compare(d,f.values[l])?0:(f.values[l]=d,1)},reconfigure(f,h){let d=qx(f,n),m=h.config.facets[e.id],g=h.facet(e);if(m&&!d&&xv(t,m))return f.values[l]=g,0;let x=c(f);return e.compare(x,g)?(f.values[l]=g,0):(f.values[l]=x,1)}}}const Lu=Ge.define({static:!0});class fn{constructor(e,t,n,i,s){this.id=e,this.createF=t,this.updateF=n,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new fn(gv++,e.create,e.update,e.compare||((n,i)=>n===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Lu).find(n=>n.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:n=>(n.values[t]=this.create(n),1),update:(n,i)=>{let s=n.values[t],l=this.updateF(s,i);return this.compareF(s,l)?0:(n.values[t]=l,1)},reconfigure:(n,i)=>{let s=n.facet(Lu),l=i.facet(Lu),c;return(c=s.find(f=>f.field==this))&&c!=l.find(f=>f.field==this)?(n.values[t]=c.create(n),1):i.config.address[this.id]!=null?(n.values[t]=i.field(this),0):(n.values[t]=this.create(n),1)}}}init(e){return[this,Lu.of({field:this,create:e})]}get extension(){return this}}const hl={lowest:4,low:3,default:2,high:1,highest:0};function $c(r){return e=>new j3(e,r)}const Ll={highest:$c(hl.highest),high:$c(hl.high),default:$c(hl.default),low:$c(hl.low),lowest:$c(hl.lowest)};class j3{constructor(e,t){this.inner=e,this.prec=t}}class lp{of(e){return new Wx(this,e)}reconfigure(e){return lp.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Wx{constructor(e,t){this.compartment=e,this.inner=t}}class yd{constructor(e,t,n,i,s,l){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=i,this.staticValues=s,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let i=[],s=Object.create(null),l=new Map;for(let g of QF(e,t,l))g instanceof fn?i.push(g):(s[g.facet.id]||(s[g.facet.id]=[])).push(g);let c=Object.create(null),f=[],h=[];for(let g of i)c[g.id]=h.length<<1,h.push(x=>g.slot(x));let d=n?.config.facets;for(let g in s){let x=s[g],b=x[0].facet,y=d&&d[g]||[];if(x.every(S=>S.type==0))if(c[b.id]=f.length<<1|1,xv(y,x))f.push(n.facet(b));else{let S=b.combine(x.map(T=>T.value));f.push(n&&b.compare(S,n.facet(b))?n.facet(b):S)}else{for(let S of x)S.type==0?(c[S.id]=f.length<<1|1,f.push(S.value)):(c[S.id]=h.length<<1,h.push(T=>S.dynamicSlot(T)));c[b.id]=h.length<<1,h.push(S=>$F(S,b,x))}}let m=h.map(g=>g(c));return new yd(e,l,m,c,f,s)}}function QF(r,e,t){let n=[[],[],[],[],[]],i=new Map;function s(l,c){let f=i.get(l);if(f!=null){if(f<=c)return;let h=n[f].indexOf(l);h>-1&&n[f].splice(h,1),l instanceof Wx&&t.delete(l.compartment)}if(i.set(l,c),Array.isArray(l))for(let h of l)s(h,c);else if(l instanceof Wx){if(t.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(l.compartment)||l.inner;t.set(l.compartment,h),s(h,c)}else if(l instanceof j3)s(l.inner,l.prec);else if(l instanceof fn)n[c].push(l),l.provides&&s(l.provides,c);else if(l instanceof Xh)n[c].push(l),l.facet.extensions&&s(l.facet.extensions,hl.default);else{let h=l.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(h,c)}}return s(r,hl.default),n.reduce((l,c)=>l.concat(c))}function p0(r,e){if(e&1)return 2;let t=e>>1,n=r.status[t];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;r.status[t]=4;let i=r.computeSlot(r,r.config.dynamicSlots[t]);return r.status[t]=2|i}function bd(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const z3=Ge.define(),Gx=Ge.define({combine:r=>r.some(e=>e),static:!0}),H3=Ge.define({combine:r=>r.length?r[0]:void 0,static:!0}),U3=Ge.define(),V3=Ge.define(),q3=Ge.define(),W3=Ge.define({combine:r=>r.length?r[0]:!1});class gs{constructor(e,t){this.type=e,this.value=t}static define(){return new ZF}}class ZF{of(e){return new gs(this,e)}}class JF{constructor(e){this.map=e}of(e){return new ut(this,e)}}class ut{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new ut(this.type,t)}is(e){return this.type==e}static define(e={}){return new JF(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let i of e){let s=i.map(t);s&&n.push(s)}return n}}ut.reconfigure=ut.define();ut.appendConfig=ut.define();class jr{constructor(e,t,n,i,s,l){this.startState=e,this.changes=t,this.selection=n,this.effects=i,this.annotations=s,this.scrollIntoView=l,this._doc=null,this._state=null,n&&P3(n,t.newLength),s.some(c=>c.type==jr.time)||(this.annotations=s.concat(jr.time.of(Date.now())))}static create(e,t,n,i,s,l){return new jr(e,t,n,i,s,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(jr.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}jr.time=gs.define();jr.userEvent=gs.define();jr.addToHistory=gs.define();jr.remote=gs.define();function eL(r,e){let t=[];for(let n=0,i=0;;){let s,l;if(n<r.length&&(i==e.length||e[i]>=r[n]))s=r[n++],l=r[n++];else if(i<e.length)s=e[i++],l=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,l):t[t.length-1]<l&&(t[t.length-1]=l)}}function G3(r,e,t){var n;let i,s,l;return t?(i=e.changes,s=Ir.empty(e.changes.length),l=r.changes.compose(e.changes)):(i=e.changes.map(r.changes),s=r.changes.mapDesc(e.changes,!0),l=r.changes.compose(i)),{changes:l,selection:e.selection?e.selection.map(s):(n=r.selection)===null||n===void 0?void 0:n.map(i),effects:ut.mapEffects(r.effects,i).concat(ut.mapEffects(e.effects,s)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function Xx(r,e,t){let n=e.selection,i=Ro(e.annotations);return e.userEvent&&(i=i.concat(jr.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ir?e.changes:Ir.of(e.changes||[],t,r.facet(H3)),selection:n&&(n instanceof _e?n:_e.single(n.anchor,n.head)),effects:Ro(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function X3(r,e,t){let n=Xx(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let l=!!e[s].sequential;n=G3(n,Xx(r,e[s],l?n.changes.newLength:r.doc.length),l)}let i=jr.create(r,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return rL(t?tL(i):i)}function tL(r){let e=r.startState,t=!0;for(let i of e.facet(U3)){let s=i(r);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:eL(t,s))}if(t!==!0){let i,s;if(t===!1)s=r.changes.invertedDesc,i=Ir.empty(e.doc.length);else{let l=r.changes.filter(t);i=l.changes,s=l.filtered.mapDesc(l.changes).invertedDesc}r=jr.create(e,i,r.selection&&r.selection.map(s),ut.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let n=e.facet(V3);for(let i=n.length-1;i>=0;i--){let s=n[i](r);s instanceof jr?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof jr?r=s[0]:r=X3(e,Ro(s),!1)}return r}function rL(r){let e=r.startState,t=e.facet(q3),n=r;for(let i=t.length-1;i>=0;i--){let s=t[i](r);s&&Object.keys(s).length&&(n=G3(n,Xx(e,s,r.changes.newLength),!0))}return n==r?r:jr.create(e,r.changes,r.selection,n.effects,n.annotations,n.scrollIntoView)}const nL=[];function Ro(r){return r==null?nL:Array.isArray(r)?r:[r]}var cr=(function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r})(cr||(cr={}));const iL=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Yx;try{Yx=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function sL(r){if(Yx)return Yx.test(r);for(let e=0;e<r.length;e++){let t=r[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||iL.test(t)))return!0}return!1}function aL(r){return e=>{if(!/\S/.test(e))return cr.Space;if(sL(e))return cr.Word;for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>-1)return cr.Word;return cr.Other}}class Et{constructor(e,t,n,i,s,l){this.config=e,this.doc=t,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,l&&(l._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)p0(this,c<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw new RangeError("Field is not present in this state");return}return p0(this,n),bd(this,n)}update(...e){return X3(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:i}=t;for(let c of e.effects)c.is(lp.reconfigure)?(t&&(i=new Map,t.compartments.forEach((f,h)=>i.set(h,f)),t=null),i.set(c.value.compartment,c.value.extension)):c.is(ut.reconfigure)?(t=null,n=c.value):c.is(ut.appendConfig)&&(t=null,n=Ro(n).concat(c.value));let s;t?s=e.startState.values.slice():(t=yd.resolve(n,i,this),s=new Et(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(f,h)=>h.reconfigure(f,this),null).values);let l=e.startState.facet(Gx)?e.newSelection:e.newSelection.asSingle();new Et(t,e.newDoc,l,s,(c,f)=>f.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:_e.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),i=this.changes(n.changes),s=[n.range],l=Ro(n.effects);for(let c=1;c<t.ranges.length;c++){let f=e(t.ranges[c]),h=this.changes(f.changes),d=h.map(i);for(let g=0;g<c;g++)s[g]=s[g].map(d);let m=i.mapDesc(h,!0);s.push(f.range.map(m)),i=i.compose(d),l=ut.mapEffects(l,d).concat(ut.mapEffects(Ro(f.effects),m))}return{changes:i,selection:_e.create(s,t.mainIndex),effects:l}}changes(e=[]){return e instanceof Ir?e:Ir.of(e,this.doc.length,this.facet(Et.lineSeparator))}toText(e){return _t.of(e.split(this.facet(Et.lineSeparator)||Hx))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(p0(this,t),bd(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let i=e[n];i instanceof fn&&this.config.address[i.id]!=null&&(t[n]=i.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n){for(let s in n)if(Object.prototype.hasOwnProperty.call(e,s)){let l=n[s],c=e[s];i.push(l.init(f=>l.spec.fromJSON(c,f)))}}return Et.create({doc:e.doc,selection:_e.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=yd.resolve(e.extensions||[],new Map),n=e.doc instanceof _t?e.doc:_t.of((e.doc||"").split(t.staticFacet(Et.lineSeparator)||Hx)),i=e.selection?e.selection instanceof _e?e.selection:_e.single(e.selection.anchor,e.selection.head):_e.single(0);return P3(i,n.length),t.staticFacet(Gx)||(i=i.asSingle()),new Et(t,n,i,t.dynamicSlots.map(()=>null),(s,l)=>l.create(s),null)}get tabSize(){return this.facet(Et.tabSize)}get lineBreak(){return this.facet(Et.lineSeparator)||`
`}get readOnly(){return this.facet(W3)}phrase(e,...t){for(let n of this.facet(Et.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(n,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?n:t[s-1]})),e}languageDataAt(e,t,n=-1){let i=[];for(let s of this.facet(z3))for(let l of s(this,t,n))Object.prototype.hasOwnProperty.call(l,e)&&i.push(l[e]);return i}charCategorizer(e){return aL(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),l=e-n,c=e-n;for(;l>0;){let f=ln(t,l,!1);if(s(t.slice(f,l))!=cr.Word)break;l=f}for(;c<i;){let f=ln(t,c);if(s(t.slice(c,f))!=cr.Word)break;c=f}return l==c?null:_e.range(l+n,c+n)}}Et.allowMultipleSelections=Gx;Et.tabSize=Ge.define({combine:r=>r.length?r[0]:4});Et.lineSeparator=H3;Et.readOnly=W3;Et.phrases=Ge.define({compare(r,e){let t=Object.keys(r),n=Object.keys(e);return t.length==n.length&&t.every(i=>r[i]==e[i])}});Et.languageData=z3;Et.changeFilter=U3;Et.transactionFilter=V3;Et.transactionExtender=q3;lp.reconfigure=ut.define();function xs(r,e,t={}){let n={};for(let i of r)for(let s of Object.keys(i)){let l=i[s],c=n[s];if(c===void 0)n[s]=l;else if(!(c===l||l===void 0))if(Object.hasOwnProperty.call(t,s))n[s]=t[s](c,l);else throw new Error("Config merge conflict for field "+s)}for(let i in e)n[i]===void 0&&(n[i]=e[i]);return n}class Cl{eq(e){return this==e}range(e,t=e){return Kx.create(e,t,this)}}Cl.prototype.startSide=Cl.prototype.endSide=0;Cl.prototype.point=!1;Cl.prototype.mapMode=En.TrackDel;let Kx=class Y3{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new Y3(e,t,n)}};function $x(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class vv{constructor(e,t,n,i){this.from=e,this.to=t,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,i=0){let s=n?this.to:this.from;for(let l=i,c=s.length;;){if(l==c)return l;let f=l+c>>1,h=s[f]-e||(n?this.value[f].endSide:this.value[f].startSide)-t;if(f==l)return h>=0?l:c;h>=0?c=f:l=f+1}}between(e,t,n,i){for(let s=this.findIndex(t,-1e9,!0),l=this.findIndex(n,1e9,!1,s);s<l;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let n=[],i=[],s=[],l=-1,c=-1;for(let f=0;f<this.value.length;f++){let h=this.value[f],d=this.from[f]+e,m=this.to[f]+e,g,x;if(d==m){let b=t.mapPos(d,h.startSide,h.mapMode);if(b==null||(g=x=b,h.startSide!=h.endSide&&(x=t.mapPos(d,h.endSide),x<g)))continue}else if(g=t.mapPos(d,h.startSide),x=t.mapPos(m,h.endSide),g>x||g==x&&h.startSide>0&&h.endSide<=0)continue;(x-g||h.endSide-h.startSide)<0||(l<0&&(l=g),h.point&&(c=Math.max(c,x-g)),n.push(h),i.push(g-l),s.push(x-l))}return{mapped:n.length?new vv(i,s,n,c):null,pos:l}}}class Tt{constructor(e,t,n,i){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=i}static create(e,t,n,i){return new Tt(e,t,n,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:i=0,filterTo:s=this.length}=e,l=e.filter;if(t.length==0&&!l)return this;if(n&&(t=t.slice().sort($x)),this.isEmpty)return t.length?Tt.of(t):this;let c=new K3(this,null,-1).goto(0),f=0,h=[],d=new Ws;for(;c.value||f<t.length;)if(f<t.length&&(c.from-t[f].from||c.startSide-t[f].value.startSide)>=0){let m=t[f++];d.addInner(m.from,m.to,m.value)||h.push(m)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(f==t.length||this.chunkEnd(c.chunkIndex)<t[f].from)&&(!l||i>this.chunkEnd(c.chunkIndex)||s<this.chunkPos[c.chunkIndex])&&d.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!l||i>c.to||s<c.from||l(c.from,c.to,c.value))&&(d.addInner(c.from,c.to,c.value)||h.push(Kx.create(c.from,c.to,c.value))),c.next());return d.finishInner(this.nextLayer.isEmpty&&!h.length?Tt.empty:this.nextLayer.update({add:h,filter:l,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],i=-1;for(let l=0;l<this.chunk.length;l++){let c=this.chunkPos[l],f=this.chunk[l],h=e.touchesRange(c,c+f.length);if(h===!1)i=Math.max(i,f.maxPoint),t.push(f),n.push(e.mapPos(c));else if(h===!0){let{mapped:d,pos:m}=f.map(c,e);d&&(i=Math.max(i,d.maxPoint),t.push(d),n.push(m))}}let s=this.nextLayer.map(e);return t.length==0?s:new Tt(n,t,s||Tt.empty,i)}between(e,t,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],l=this.chunk[i];if(t>=s&&e<=s+l.length&&l.between(s,e-s,t-s,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return B0.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return B0.from(e).goto(t)}static compare(e,t,n,i,s=-1){let l=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),c=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),f=_S(l,c,n),h=new Qc(l,f,s),d=new Qc(c,f,s);n.iterGaps((m,g,x)=>DS(h,m,d,g,x,i)),n.empty&&n.length==0&&DS(h,0,d,0,0,i)}static eq(e,t,n=0,i){i==null&&(i=999999999);let s=e.filter(d=>!d.isEmpty&&t.indexOf(d)<0),l=t.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(s.length!=l.length)return!1;if(!s.length)return!0;let c=_S(s,l),f=new Qc(s,c,0).goto(n),h=new Qc(l,c,0).goto(n);for(;;){if(f.to!=h.to||!Qx(f.active,h.active)||f.point&&(!h.point||!f.point.eq(h.point)))return!1;if(f.to>i)return!0;f.next(),h.next()}}static spans(e,t,n,i,s=-1){let l=new Qc(e,null,s).goto(t),c=t,f=l.openStart;for(;;){let h=Math.min(l.to,n);if(l.point){let d=l.activeForPoint(l.to),m=l.pointFrom<t?d.length+1:l.point.startSide<0?d.length:Math.min(d.length,f);i.point(c,h,l.point,d,m,l.pointRank),f=Math.min(l.openEnd(h),d.length)}else h>c&&(i.span(c,h,l.active,f),f=l.openEnd(h));if(l.to>n)return f+(l.point&&l.to>n?1:0);c=l.to,l.next()}}static of(e,t=!1){let n=new Ws;for(let i of e instanceof Kx?[e]:t?lL(e):e)n.add(i.from,i.to,i.value);return n.finish()}static join(e){if(!e.length)return Tt.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let i=e[n];i!=Tt.empty;i=i.nextLayer)t=new Tt(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}Tt.empty=new Tt([],[],null,-1);function lL(r){if(r.length>1)for(let e=r[0],t=1;t<r.length;t++){let n=r[t];if($x(e,n)>0)return r.slice().sort($x);e=n}return r}Tt.empty.nextLayer=Tt.empty;class Ws{finishChunk(e){this.chunks.push(new vv(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new Ws)).add(e,t,n)}addInner(e,t,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Tt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Tt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function _S(r,e,t){let n=new Map;for(let s of r)for(let l=0;l<s.chunk.length;l++)s.chunk[l].maxPoint<=0&&n.set(s.chunk[l],s.chunkPos[l]);let i=new Set;for(let s of e)for(let l=0;l<s.chunk.length;l++){let c=n.get(s.chunk[l]);c!=null&&(t?t.mapPos(c):c)==s.chunkPos[l]&&!t?.touchesRange(c,c+s.chunk[l].length)&&i.add(s.chunk[l])}return i}class K3{constructor(e,t,n,i=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class B0{constructor(e){this.heap=e}static from(e,t=null,n=-1){let i=[];for(let s=0;s<e.length;s++)for(let l=e[s];!l.isEmpty;l=l.nextLayer)l.maxPoint>=n&&i.push(new K3(l,t,n,s));return i.length==1?i[0]:new B0(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)Qg(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)Qg(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Qg(this.heap,0)}}}function Qg(r,e){for(let t=r[e];;){let n=(e<<1)+1;if(n>=r.length)break;let i=r[n];if(n+1<r.length&&i.compare(r[n+1])>=0&&(i=r[n+1],n++),t.compare(i)<0)break;r[n]=t,r[e]=i,e=n}}class Qc{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=B0.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Iu(this.active,e),Iu(this.activeTo,e),Iu(this.activeRank,e),this.minActive=kS(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||i-this.activeTo[t])>0;)t++;Pu(this.active,t,n),Pu(this.activeTo,t,i),Pu(this.activeRank,t,s),e&&Pu(e,t,this.cursor.from),this.minActive=kS(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&Iu(n,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let i=n.length-1;i>=0&&n[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function DS(r,e,t,n,i,s){r.goto(e),t.goto(n);let l=n+i,c=n,f=n-e;for(;;){let h=r.to+f-t.to,d=h||r.endSide-t.endSide,m=d<0?r.to+f:t.to,g=Math.min(m,l);if(r.point||t.point?r.point&&t.point&&(r.point==t.point||r.point.eq(t.point))&&Qx(r.activeForPoint(r.to),t.activeForPoint(t.to))||s.comparePoint(c,g,r.point,t.point):g>c&&!Qx(r.active,t.active)&&s.compareRange(c,g,r.active,t.active),m>l)break;(h||r.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(m),c=m,d<=0&&r.next(),d>=0&&t.next()}}function Qx(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!=e[t]&&!r[t].eq(e[t]))return!1;return!0}function Iu(r,e){for(let t=e,n=r.length-1;t<n;t++)r[t]=r[t+1];r.pop()}function Pu(r,e,t){for(let n=r.length-1;n>=e;n--)r[n+1]=r[n];r[e]=t}function kS(r,e){let t=-1,n=1e9;for(let i=0;i<e.length;i++)(e[i]-n||r[i].endSide-r[t].endSide)<0&&(t=i,n=e[i]);return t}function Jo(r,e,t=r.length){let n=0;for(let i=0;i<t&&i<r.length;)r.charCodeAt(i)==9?(n+=e-n%e,i++):(n++,i=ln(r,i));return n}function Zx(r,e,t,n){for(let i=0,s=0;;){if(s>=e)return i;if(i==r.length)break;s+=r.charCodeAt(i)==9?t-s%t:1,i=ln(r,i)}return n===!0?-1:r.length}const Jx="",OS=typeof Symbol>"u"?"__"+Jx:Symbol.for(Jx),e1=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),BS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Fa{constructor(e,t){this.rules=[];let{finish:n}=t||{};function i(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function s(l,c,f,h){let d=[],m=/^@(\w+)\b/.exec(l[0]),g=m&&m[1]=="keyframes";if(m&&c==null)return f.push(l[0]+";");for(let x in c){let b=c[x];if(/&/.test(x))s(x.split(/,\s*/).map(y=>l.map(S=>y.replace(/&/,S))).reduce((y,S)=>y.concat(S)),b,f);else if(b&&typeof b=="object"){if(!m)throw new RangeError("The value of a property ("+x+") should be a primitive value.");s(i(x),b,d,g)}else b!=null&&d.push(x.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+b+";")}(d.length||g)&&f.push((n&&!m&&!h?l.map(n):l).join(", ")+" {"+d.join(" ")+"}")}for(let l in e)s(i(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=BS[OS]||1;return BS[OS]=e+1,Jx+e.toString(36)}static mount(e,t,n){let i=e[e1],s=n&&n.nonce;i?s&&i.setNonce(s):i=new oL(e,s),i.mount(Array.isArray(t)?t:[t],e)}}let NS=new Map;class oL{constructor(e,t){let n=e.ownerDocument||e,i=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=NS.get(n);if(s)return e[e1]=s;this.sheet=new i.CSSStyleSheet,NS.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[e1]=this}mount(e,t){let n=this.sheet,i=0,s=0;for(let l=0;l<e.length;l++){let c=e[l],f=this.modules.indexOf(c);if(f<s&&f>-1&&(this.modules.splice(f,1),s--,f=-1),f==-1){if(this.modules.splice(s++,0,c),n)for(let h=0;h<c.rules.length;h++)n.insertRule(c.rules[h],i++)}else{for(;s<f;)i+=this.modules[s++].rules.length;i+=c.rules.length,s++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let l="";for(let f=0;f<this.modules.length;f++)l+=this.modules[f].getRules()+`
`;this.styleTag.textContent=l;let c=t.head||t;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var La={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},N0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},cL=typeof navigator<"u"&&/Mac/.test(navigator.platform),fL=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var nn=0;nn<10;nn++)La[48+nn]=La[96+nn]=String(nn);for(var nn=1;nn<=24;nn++)La[nn+111]="F"+nn;for(var nn=65;nn<=90;nn++)La[nn]=String.fromCharCode(nn+32),N0[nn]=String.fromCharCode(nn);for(var Zg in La)N0.hasOwnProperty(Zg)||(N0[Zg]=La[Zg]);function uL(r){var e=cL&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||fL&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?N0:La)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Kt(){var r=arguments[0];typeof r=="string"&&(r=document.createElement(r));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];typeof i=="string"?r.setAttribute(n,i):i!=null&&(r[n]=i)}e++}for(;e<arguments.length;e++)$3(r,arguments[e]);return r}function $3(r,e){if(typeof e=="string")r.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)r.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)$3(r,e[t]);else throw new RangeError("Unsupported child node: "+e)}let Sn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},t1=typeof document<"u"?document:{documentElement:{style:{}}};const r1=/Edge\/(\d+)/.exec(Sn.userAgent),Q3=/MSIE \d/.test(Sn.userAgent),n1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Sn.userAgent),op=!!(Q3||n1||r1),RS=!op&&/gecko\/(\d+)/i.test(Sn.userAgent),Jg=!op&&/Chrome\/(\d+)/.exec(Sn.userAgent),hL="webkitFontSmoothing"in t1.documentElement.style,i1=!op&&/Apple Computer/.test(Sn.vendor),MS=i1&&(/Mobile\/\w+/.test(Sn.userAgent)||Sn.maxTouchPoints>2);var Ve={mac:MS||/Mac/.test(Sn.platform),windows:/Win/.test(Sn.platform),linux:/Linux|X11/.test(Sn.platform),ie:op,ie_version:Q3?t1.documentMode||6:n1?+n1[1]:r1?+r1[1]:0,gecko:RS,gecko_version:RS?+(/Firefox\/(\d+)/.exec(Sn.userAgent)||[0,0])[1]:0,chrome:!!Jg,chrome_version:Jg?+Jg[1]:0,ios:MS,android:/Android\b/.test(Sn.userAgent),webkit_version:hL?+(/\bAppleWebKit\/(\d+)/.exec(Sn.userAgent)||[0,0])[1]:0,safari:i1,safari_version:i1?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Sn.userAgent)||[0,0])[1]:0,tabSize:t1.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function R0(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function s1(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function Yh(r,e){if(!e.anchorNode)return!1;try{return s1(r,e.anchorNode)}catch{return!1}}function Uo(r){return r.nodeType==3?Tl(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function m0(r,e,t,n){return t?FS(r,e,t,n,-1)||FS(r,e,t,n,1):!1}function Al(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function wd(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}function FS(r,e,t,n,i){for(;;){if(r==t&&e==n)return!0;if(e==(i<0?0:ms(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;e=Al(r)+(i<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[e+(i<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=i<0?ms(r):0}else return!1}}function ms(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function nf(r,e){let t=e?r.left:r.right;return{left:t,right:t,top:r.top,bottom:r.bottom}}function dL(r){let e=r.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function Z3(r,e){let t=e.width/r.offsetWidth,n=e.height/r.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-r.offsetWidth)<1)&&(t=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-r.offsetHeight)<1)&&(n=1),{scaleX:t,scaleY:n}}function pL(r,e,t,n,i,s,l,c){let f=r.ownerDocument,h=f.defaultView||window;for(let d=r,m=!1;d&&!m;)if(d.nodeType==1){let g,x=d==f.body,b=1,y=1;if(x)g=dL(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(m=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let A=d.getBoundingClientRect();({scaleX:b,scaleY:y}=Z3(d,A)),g={left:A.left,right:A.left+d.clientWidth*b,top:A.top,bottom:A.top+d.clientHeight*y}}let S=0,T=0;if(i=="nearest")e.top<g.top?(T=e.top-(g.top+l),t>0&&e.bottom>g.bottom+T&&(T=e.bottom-g.bottom+l)):e.bottom>g.bottom&&(T=e.bottom-g.bottom+l,t<0&&e.top-T<g.top&&(T=e.top-(g.top+l)));else{let A=e.bottom-e.top,C=g.bottom-g.top;T=(i=="center"&&A<=C?e.top+A/2-C/2:i=="start"||i=="center"&&t<0?e.top-l:e.bottom-C+l)-g.top}if(n=="nearest"?e.left<g.left?(S=e.left-(g.left+s),t>0&&e.right>g.right+S&&(S=e.right-g.right+s)):e.right>g.right&&(S=e.right-g.right+s,t<0&&e.left<g.left+S&&(S=e.left-(g.left+s))):S=(n=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:n=="start"==c?e.left-s:e.right-(g.right-g.left)+s)-g.left,S||T)if(x)h.scrollBy(S,T);else{let A=0,C=0;if(T){let _=d.scrollTop;d.scrollTop+=T/y,C=(d.scrollTop-_)*y}if(S){let _=d.scrollLeft;d.scrollLeft+=S/b,A=(d.scrollLeft-_)*b}e={left:e.left-A,top:e.top-C,right:e.right-A,bottom:e.bottom-C},A&&Math.abs(A-S)<1&&(n="nearest"),C&&Math.abs(C-T)<1&&(i="nearest")}if(x)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function mL(r){let e=r.ownerDocument,t,n;for(let i=r.parentNode;i&&!(i==e.body||t&&n);)if(i.nodeType==1)!n&&i.scrollHeight>i.clientHeight&&(n=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:n}}class gL{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?ms(t):0),n,Math.min(e.focusOffset,n?ms(n):0))}set(e,t,n,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=i}}let cl=null;Ve.safari&&Ve.safari_version>=26&&(cl=!1);function J3(r){if(r.setActive)return r.setActive();if(cl)return r.focus(cl);let e=[];for(let t=r;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(r.focus(cl==null?{get preventScroll(){return cl={preventScroll:!0},!0}}:void 0),!cl){cl=!1;for(let t=0;t<e.length;){let n=e[t++],i=e[t++],s=e[t++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=s&&(n.scrollLeft=s)}}}let LS;function Tl(r,e,t=e){let n=LS||(LS=document.createRange());return n.setEnd(r,t),n.setStart(r,e),n}function Mo(r,e,t,n){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};n&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=n);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,r.dispatchEvent(s);let l=new KeyboardEvent("keyup",i);return l.synthetic=!0,r.dispatchEvent(l),s.defaultPrevented||l.defaultPrevented}function xL(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function e8(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function vL(r,e){let t=e.focusNode,n=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=n)return!1;for(n=Math.min(n,ms(t));;)if(n){if(t.nodeType!=1)return!1;let i=t.childNodes[n-1];i.contentEditable=="false"?n--:(t=i,n=ms(t))}else{if(t==r)return!0;n=Al(t),t=t.parentNode}}function t8(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}function r8(r,e){for(let t=r,n=e;;){if(t.nodeType==3&&n>0)return{node:t,offset:n};if(t.nodeType==1&&n>0){if(t.contentEditable=="false")return null;t=t.childNodes[n-1],n=ms(t)}else if(t.parentNode&&!wd(t))n=Al(t),t=t.parentNode;else return null}}function n8(r,e){for(let t=r,n=e;;){if(t.nodeType==3&&n<t.nodeValue.length)return{node:t,offset:n};if(t.nodeType==1&&n<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[n],n=0}else if(t.parentNode&&!wd(t))n=Al(t)+1,t=t.parentNode;else return null}}class pn{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new pn(e.parentNode,Al(e),t)}static after(e,t){return new pn(e.parentNode,Al(e)+1,t)}}const yv=[];class Xt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let n=this.dom,i=null,s;for(let l of this.children){if(l.flags&7){if(!l.dom&&(s=i?i.nextSibling:n.firstChild)){let c=Xt.get(s);(!c||!c.parent&&c.canReuseDOM(l))&&l.reuseDOM(s)}l.sync(e,t),l.flags&=-8}if(s=i?i.nextSibling:n.firstChild,t&&!t.written&&t.node==n&&s!=l.dom&&(t.written=!0),l.dom.parentNode==n)for(;s&&s!=l.dom;)s=IS(s);else n.insertBefore(l.dom,s);i=l.dom}for(s=i?i.nextSibling:n.firstChild,s&&t&&t.node==n&&(t.written=!0);s;)s=IS(s)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let i=ms(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Xt.get(n);)n=n.nextSibling;if(!n)return this.length;for(let i=0,s=0;;i++){let l=this.children[i];if(l.dom==n)return s;s+=l.length+l.breakAfter}}domBoundsAround(e,t,n=0){let i=-1,s=-1,l=-1,c=-1;for(let f=0,h=n,d=n;f<this.children.length;f++){let m=this.children[f],g=h+m.length;if(h<e&&g>t)return m.domBoundsAround(e,t,h);if(g>=e&&i==-1&&(i=f,s=h),h>t&&m.dom.parentNode==this.dom){l=f,c=d;break}d=g,h=g+m.breakAfter}return{from:s,to:c<0?n+this.length:c,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:l<this.children.length&&l>=0?this.children[l].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=yv){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&n.indexOf(s)<0&&s.destroy()}n.length<250?this.children.splice(e,t-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(t));for(let i=0;i<n.length;i++)n[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new i8(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,i,s,l){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Xt.prototype.breakAfter=0;function IS(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class i8{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function s8(r,e,t,n,i,s,l,c,f){let{children:h}=r,d=h.length?h[e]:null,m=s.length?s[s.length-1]:null,g=m?m.breakAfter:l;if(!(e==n&&d&&!l&&!g&&s.length<2&&d.merge(t,i,s.length?m:null,t==0,c,f))){if(n<h.length){let x=h[n];x&&(i<x.length||x.breakAfter&&m?.breakAfter)?(e==n&&(x=x.split(i),i=0),!g&&m&&x.merge(0,i,m,!0,0,f)?s[s.length-1]=x:((i||x.children.length&&!x.children[0].length)&&x.merge(0,i,null,!1,0,f),s.push(x))):x?.breakAfter&&(m?m.breakAfter=1:l=1),n++}for(d&&(d.breakAfter=l,t>0&&(!l&&s.length&&d.merge(t,d.length,s[0],!1,c,0)?d.breakAfter=s.shift().breakAfter:(t<d.length||d.children.length&&d.children[d.children.length-1].length==0)&&d.merge(t,d.length,null,!1,c,0),e++));e<n&&s.length;)if(h[n-1].become(s[s.length-1]))n--,s.pop(),f=s.length?0:c;else if(h[e].become(s[0]))e++,s.shift(),c=s.length?0:f;else break;!s.length&&e&&n<h.length&&!h[e-1].breakAfter&&h[n].merge(0,0,h[e-1],!1,c,f)&&e--,(e<n||s.length)&&r.replaceChildren(e,n,s)}}function a8(r,e,t,n,i,s){let l=r.childCursor(),{i:c,off:f}=l.findPos(t,1),{i:h,off:d}=l.findPos(e,-1),m=e-t;for(let g of n)m+=g.length;r.length+=m,s8(r,h,d,c,f,n,0,i,s)}const yL=256;class Vi extends Xt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,n){return this.flags&8||n&&(!(n instanceof Vi)||this.length-(t-e)+n.length>yL||n.flags&8)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Vi(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new pn(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return bL(this.dom,e,t)}}class Gs extends Xt{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let i of t)i.setParent(this)}setAttrs(e){if(e8(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,i,s,l){return n&&(!(n instanceof Gs&&n.mark.eq(this.mark))||e&&s<=0||t<this.length&&l<=0)?!1:(a8(this,e,t,n?n.children.slice():[],s-1,l-1),this.markDirty(),!0)}split(e){let t=[],n=0,i=-1,s=0;for(let c of this.children){let f=n+c.length;f>e&&t.push(n<e?c.split(e-n):c),i<0&&n>=e&&(i=s),n=f,s++}let l=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Gs(this.mark,t,l)}domAtPos(e){return l8(this,e)}coordsAt(e,t){return c8(this,e,t)}}function bL(r,e,t){let n=r.nodeValue.length;e>n&&(e=n);let i=e,s=e,l=0;e==0&&t<0||e==n&&t>=0?Ve.chrome||Ve.gecko||(e?(i--,l=1):s<n&&(s++,l=-1)):t<0?i--:s<n&&s++;let c=Tl(r,i,s).getClientRects();if(!c.length)return null;let f=c[(l?l<0:t>=0)?0:c.length-1];return Ve.safari&&!l&&f.width==0&&(f=Array.prototype.find.call(c,h=>h.width)||f),l?nf(f,l<0):f||null}class Ps extends Xt{static create(e,t,n){return new Ps(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=Ps.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,n,i,s,l){return n&&(!(n instanceof Ps)||!this.widget.compare(n.widget)||e>0&&s<=0||t<this.length&&l<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e instanceof Ps&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return _t.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):_t.empty}domAtPos(e){return(this.length?e==0:this.side>0)?pn.before(this.dom):pn.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let l=this.side?this.side<0:e>0;for(let c=l?i.length-1:0;s=i[c],!(e>0?c==0:c==i.length-1||s.top<s.bottom);c+=l?-1:1);return nf(s,!l)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Vo extends Xt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Vo&&e.side==this.side}split(){return new Vo(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?pn.before(this.dom):pn.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return _t.empty}get isHidden(){return!0}}Vi.prototype.children=Ps.prototype.children=Vo.prototype.children=yv;function l8(r,e){let t=r.dom,{children:n}=r,i=0;for(let s=0;i<n.length;i++){let l=n[i],c=s+l.length;if(!(c==s&&l.getSide()<=0)){if(e>s&&e<c&&l.dom.parentNode==t)return l.domAtPos(e-s);if(e<=s)break;s=c}}for(let s=i;s>0;s--){let l=n[s-1];if(l.dom.parentNode==t)return l.domAtPos(l.length)}for(let s=i;s<n.length;s++){let l=n[s];if(l.dom.parentNode==t)return l.domAtPos(0)}return new pn(t,0)}function o8(r,e,t){let n,{children:i}=r;t>0&&e instanceof Gs&&i.length&&(n=i[i.length-1])instanceof Gs&&n.mark.eq(e.mark)?o8(n,e.children[0],t-1):(i.push(e),e.setParent(r)),r.length+=e.length}function c8(r,e,t){let n=null,i=-1,s=null,l=-1;function c(h,d){for(let m=0,g=0;m<h.children.length&&g<=d;m++){let x=h.children[m],b=g+x.length;b>=d&&(x.children.length?c(x,d-g):(!s||s.isHidden&&(t>0||SL(s,x)))&&(b>d||g==b&&x.getSide()>0)?(s=x,l=d-g):(g<d||g==b&&x.getSide()<0&&!x.isHidden)&&(n=x,i=d-g)),g=b}}c(r,e);let f=(t<0?n:s)||n||s;return f?f.coordsAt(Math.max(0,f==n?i:l),t):wL(r)}function wL(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let t=Uo(e);return t[t.length-1]||null}function SL(r,e){let t=r.coordsAt(0,1),n=e.coordsAt(0,1);return t&&n&&n.top<t.bottom}function a1(r,e){for(let t in r)t=="class"&&e.class?e.class+=" "+r.class:t=="style"&&e.style?e.style+=";"+r.style:e[t]=r[t];return e}const PS=Object.create(null);function Sd(r,e,t){if(r==e)return!0;r||(r=PS),e||(e=PS);let n=Object.keys(r),i=Object.keys(e);if(n.length-(t&&n.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let s of n)if(s!=t&&(i.indexOf(s)==-1||r[s]!==e[s]))return!1;return!0}function l1(r,e,t){let n=!1;if(e)for(let i in e)t&&i in t||(n=!0,i=="style"?r.style.cssText="":r.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(n=!0,i=="style"?r.style.cssText=t[i]:r.setAttribute(i,t[i]));return n}function EL(r){let e=Object.create(null);for(let t=0;t<r.attributes.length;t++){let n=r.attributes[t];e[n.name]=n.value}return e}class Ks{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var An=(function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r})(An||(An={}));class nt extends Cl{constructor(e,t,n,i){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new sf(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Ia(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,i;if(e.isBlockGap)n=-5e8,i=4e8;else{let{start:s,end:l}=f8(e,t);n=(s?t?-3e8:-1:5e8)-1,i=(l?t?2e8:1:-6e8)+1}return new Ia(e,n,i,t,e.widget||null,!0)}static line(e){return new af(e)}static set(e,t=!1){return Tt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}nt.none=Tt.empty;class sf extends nt{constructor(e){let{start:t,end:n}=f8(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof sf&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((n=e.attrs)===null||n===void 0?void 0:n.class))&&Sd(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}sf.prototype.point=!1;class af extends nt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof af&&this.spec.class==e.spec.class&&Sd(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}af.prototype.mapMode=En.TrackBefore;af.prototype.point=!0;class Ia extends nt{constructor(e,t,n,i,s,l){super(t,n,s,e),this.block=i,this.isReplace=l,this.mapMode=i?t<=0?En.TrackBefore:En.TrackAfter:En.TrackDel}get type(){return this.startSide!=this.endSide?An.WidgetRange:this.startSide<=0?An.WidgetBefore:An.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Ia&&CL(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Ia.prototype.point=!0;function f8(r,e=!1){let{inclusiveStart:t,inclusiveEnd:n}=r;return t==null&&(t=r.inclusive),n==null&&(n=r.inclusive),{start:t??e,end:n??e}}function CL(r,e){return r==e||!!(r&&e&&r.compare(e))}function Kh(r,e,t,n=0){let i=t.length-1;i>=0&&t[i]+n>=r?t[i]=Math.max(t[i],e):t.push(r,e)}class Br extends Xt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,i,s,l){if(n){if(!(n instanceof Br))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),a8(this,e,t,n?n.children.slice():[],s,l),!0}split(e){let t=new Br;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:n,off:i}=this.childPos(e);i&&(t.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let s=n;s<this.children.length;s++)t.append(this.children[s],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Sd(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){o8(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=a1(t,this.attrs||{})),n&&(this.attrs=a1({class:n},this.attrs||{}))}domAtPos(e){return l8(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?this.flags&4&&(e8(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(l1(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&Xt.get(i)instanceof Gs;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((n=Xt.get(i))===null||n===void 0?void 0:n.isEditable)==!1&&(!Ve.ios||!this.children.some(s=>s instanceof Vi))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let n of this.children){if(!(n instanceof Vi)||/[^ -~]/.test(n.text))return null;let i=Uo(n.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let n=c8(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=n.bottom-n.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let l=(s-i.textHeight)/2;return{top:n.top+l,bottom:n.bottom-l,left:n.left,right:n.left}}}return n}become(e){return e instanceof Br&&this.children.length==0&&e.children.length==0&&Sd(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let n=0,i=0;n<e.children.length;n++){let s=e.children[n],l=i+s.length;if(l>=t){if(s instanceof Br)return s;if(l>t)break}i=l+s.breakAfter}return null}}class Us extends Xt{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,i,s,l){return n&&(!(n instanceof Us)||!this.widget.compare(n.widget)||e>0&&s<=0||t<this.length&&l<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?pn.before(this.dom):pn.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new Us(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return yv}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):_t.empty}domBoundsAround(){return null}become(e){return e instanceof Us&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);return n||(this.widget instanceof o1?null:nf(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t==n?!1:e<0?t<0:n>0}}class o1 extends Ks{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class g0{constructor(e,t,n,i){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Us&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Br),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(ju(new Vo(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Us)&&this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:l,lineBreak:c,done:f}=this.cursor.next(this.skip);if(this.skip=0,f)throw new Error("Ran out of text content when drawing inline views");if(c){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=l,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e),s=Math.min(i,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(ju(new Vi(this.text.slice(this.textOff,this.textOff+s)),t),n),this.atCursorPos=!0,this.textOff+=s,e-=s,n=i<=s?0:t.length}}span(e,t,n,i){this.buildText(t-e,n,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,n,i,s,l){if(this.disallowBlockEffectsFor[l]&&n instanceof Ia){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=t-e;if(n instanceof Ia)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Us(n.widget||qo.block,c,n));else{let f=Ps.create(n.widget||qo.inline,c,c?0:n.startSide),h=this.atCursorPos&&!f.isEditable&&s<=i.length&&(e<t||n.startSide>0),d=!f.isEditable&&(e<t||s>i.length||n.startSide<=0),m=this.getLine();this.pendingBuffer==2&&!h&&!f.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),h&&(m.append(ju(new Vo(1),i),s),s=i.length+Math.max(0,s-i.length)),m.append(ju(f,i),s),this.atCursorPos=d,this.pendingBuffer=d?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,n,i,s){let l=new g0(e,t,n,s);return l.openEnd=Tt.spans(i,t,n,l),l.openStart<0&&(l.openStart=l.openEnd),l.finish(l.openEnd),l}}function ju(r,e){for(let t of e)r=new Gs(t,[r],r.length);return r}class qo extends Ks{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}qo.inline=new qo("span");qo.block=new qo("div");var nr=(function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r})(nr||(nr={}));const _l=nr.LTR,bv=nr.RTL;function u8(r){let e=[];for(let t=0;t<r.length;t++)e.push(1<<+r[t]);return e}const AL=u8("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),TL=u8("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),c1=Object.create(null),rs=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),t=r.charCodeAt(1);c1[e]=t,c1[t]=-e}function h8(r){return r<=247?AL[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?TL[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}const _L=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class ka{get dir(){return this.level%2?bv:_l}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,i){let s=-1;for(let l=0;l<e.length;l++){let c=e[l];if(c.from<=t&&c.to>=t){if(c.level==n)return l;(s<0||(i!=0?i<0?c.from<t:c.to>t:e[s].level>c.level))&&(s=l)}}if(s<0)throw new RangeError("Index out of range");return s}}function d8(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++){let n=r[t],i=e[t];if(n.from!=i.from||n.to!=i.to||n.direction!=i.direction||!d8(n.inner,i.inner))return!1}return!0}const $t=[];function DL(r,e,t,n,i){for(let s=0;s<=n.length;s++){let l=s?n[s-1].to:e,c=s<n.length?n[s].from:t,f=s?256:i;for(let h=l,d=f,m=f;h<c;h++){let g=h8(r.charCodeAt(h));g==512?g=d:g==8&&m==4&&(g=16),$t[h]=g==4?2:g,g&7&&(m=g),d=g}for(let h=l,d=f,m=f;h<c;h++){let g=$t[h];if(g==128)h<c-1&&d==$t[h+1]&&d&24?g=$t[h]=d:$t[h]=256;else if(g==64){let x=h+1;for(;x<c&&$t[x]==64;)x++;let b=h&&d==8||x<t&&$t[x]==8?m==1?1:8:256;for(let y=h;y<x;y++)$t[y]=b;h=x-1}else g==8&&m==1&&($t[h]=1);d=g,g&7&&(m=g)}}}function kL(r,e,t,n,i){let s=i==1?2:1;for(let l=0,c=0,f=0;l<=n.length;l++){let h=l?n[l-1].to:e,d=l<n.length?n[l].from:t;for(let m=h,g,x,b;m<d;m++)if(x=c1[g=r.charCodeAt(m)])if(x<0){for(let y=c-3;y>=0;y-=3)if(rs[y+1]==-x){let S=rs[y+2],T=S&2?i:S&4?S&1?s:i:0;T&&($t[m]=$t[rs[y]]=T),c=y;break}}else{if(rs.length==189)break;rs[c++]=m,rs[c++]=g,rs[c++]=f}else if((b=$t[m])==2||b==1){let y=b==i;f=y?0:1;for(let S=c-3;S>=0;S-=3){let T=rs[S+2];if(T&2)break;if(y)rs[S+2]|=2;else{if(T&4)break;rs[S+2]|=4}}}}}function OL(r,e,t,n){for(let i=0,s=n;i<=t.length;i++){let l=i?t[i-1].to:r,c=i<t.length?t[i].from:e;for(let f=l;f<c;){let h=$t[f];if(h==256){let d=f+1;for(;;)if(d==c){if(i==t.length)break;d=t[i++].to,c=i<t.length?t[i].from:e}else if($t[d]==256)d++;else break;let m=s==1,g=(d<e?$t[d]:n)==1,x=m==g?m?1:2:n;for(let b=d,y=i,S=y?t[y-1].to:r;b>f;)b==S&&(b=t[--y].from,S=y?t[y-1].to:r),$t[--b]=x;f=d}else s=h,f++}}}function f1(r,e,t,n,i,s,l){let c=n%2?2:1;if(n%2==i%2)for(let f=e,h=0;f<t;){let d=!0,m=!1;if(h==s.length||f<s[h].from){let y=$t[f];y!=c&&(d=!1,m=y==16)}let g=!d&&c==1?[]:null,x=d?n:n+1,b=f;e:for(;;)if(h<s.length&&b==s[h].from){if(m)break e;let y=s[h];if(!d)for(let S=y.to,T=h+1;;){if(S==t)break e;if(T<s.length&&s[T].from==S)S=s[T++].to;else{if($t[S]==c)break e;break}}if(h++,g)g.push(y);else{y.from>f&&l.push(new ka(f,y.from,x));let S=y.direction==_l!=!(x%2);u1(r,S?n+1:n,i,y.inner,y.from,y.to,l),f=y.to}b=y.to}else{if(b==t||(d?$t[b]!=c:$t[b]==c))break;b++}g?f1(r,f,b,n+1,i,g,l):f<b&&l.push(new ka(f,b,x)),f=b}else for(let f=t,h=s.length;f>e;){let d=!0,m=!1;if(!h||f>s[h-1].to){let y=$t[f-1];y!=c&&(d=!1,m=y==16)}let g=!d&&c==1?[]:null,x=d?n:n+1,b=f;e:for(;;)if(h&&b==s[h-1].to){if(m)break e;let y=s[--h];if(!d)for(let S=y.from,T=h;;){if(S==e)break e;if(T&&s[T-1].to==S)S=s[--T].from;else{if($t[S-1]==c)break e;break}}if(g)g.push(y);else{y.to<f&&l.push(new ka(y.to,f,x));let S=y.direction==_l!=!(x%2);u1(r,S?n+1:n,i,y.inner,y.from,y.to,l),f=y.from}b=y.from}else{if(b==e||(d?$t[b-1]!=c:$t[b-1]==c))break;b--}g?f1(r,b,f,n+1,i,g,l):b<f&&l.push(new ka(b,f,x)),f=b}}function u1(r,e,t,n,i,s,l){let c=e%2?2:1;DL(r,i,s,n,c),kL(r,i,s,n,c),OL(i,s,n,c),f1(r,i,s,e,t,n,l)}function BL(r,e,t){if(!r)return[new ka(0,0,e==bv?1:0)];if(e==_l&&!t.length&&!_L.test(r))return p8(r.length);if(t.length)for(;r.length>$t.length;)$t[$t.length]=256;let n=[],i=e==_l?0:1;return u1(r,i,i,t,0,r.length,n),n}function p8(r){return[new ka(0,r,0)]}let m8="";function NL(r,e,t,n,i){var s;let l=n.head-r.from,c=ka.find(e,l,(s=n.bidiLevel)!==null&&s!==void 0?s:-1,n.assoc),f=e[c],h=f.side(i,t);if(l==h){let g=c+=i?1:-1;if(g<0||g>=e.length)return null;f=e[c=g],l=f.side(!i,t),h=f.side(i,t)}let d=ln(r.text,l,f.forward(i,t));(d<f.from||d>f.to)&&(d=h),m8=r.text.slice(Math.min(l,d),Math.max(l,d));let m=c==(i?e.length-1:0)?null:e[c+(i?1:-1)];return m&&d==h&&m.level+(i?0:1)<f.level?_e.cursor(m.side(!i,t)+r.from,m.forward(i,t)?1:-1,m.level):_e.cursor(d+r.from,f.forward(i,t)?-1:1,f.level)}function RL(r,e,t){for(let n=e;n<t;n++){let i=h8(r.charCodeAt(n));if(i==1)return _l;if(i==2||i==4)return bv}return _l}const g8=Ge.define(),x8=Ge.define(),v8=Ge.define(),y8=Ge.define(),h1=Ge.define(),b8=Ge.define(),w8=Ge.define(),wv=Ge.define(),Sv=Ge.define(),S8=Ge.define({combine:r=>r.some(e=>e)}),E8=Ge.define({combine:r=>r.some(e=>e)}),C8=Ge.define();class Fo{constructor(e,t="nearest",n="nearest",i=5,s=5,l=!1){this.range=e,this.y=t,this.x=n,this.yMargin=i,this.xMargin=s,this.isSnapshot=l}map(e){return e.empty?this:new Fo(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Fo(_e.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const zu=ut.define({map:(r,e)=>r.map(e)}),A8=ut.define();function zn(r,e,t){let n=r.facet(y8);n.length?n[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const Is=Ge.define({combine:r=>r.length?r[0]:!0});let ML=0;const Ao=Ge.define({combine(r){return r.filter((e,t)=>{for(let n=0;n<t;n++)if(r[n].plugin==e.plugin)return!1;return!0})}});class Er{constructor(e,t,n,i,s){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(Ao.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Ao.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:n,eventObservers:i,provide:s,decorations:l}=t||{};return new Er(ML++,e,n,i,c=>{let f=[];return l&&f.push(M0.of(h=>{let d=h.plugin(c);return d?l(d):nt.none})),s&&f.push(s(c)),f})}static fromClass(e,t){return Er.define((n,i)=>new e(n,i),t)}}class ex{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(zn(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){zn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(n){zn(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const T8=Ge.define(),Ev=Ge.define(),M0=Ge.define(),_8=Ge.define(),lf=Ge.define(),D8=Ge.define();function jS(r,e){let t=r.state.facet(D8);if(!t.length)return t;let n=t.map(s=>s instanceof Function?s(r):s),i=[];return Tt.spans(n,e.from,e.to,{point(){},span(s,l,c,f){let h=s-e.from,d=l-e.from,m=i;for(let g=c.length-1;g>=0;g--,f--){let x=c[g].spec.bidiIsolate,b;if(x==null&&(x=RL(e.text,h,d)),f>0&&m.length&&(b=m[m.length-1]).to==h&&b.direction==x)b.to=d,m=b.inner;else{let y={from:h,to:d,direction:x,inner:[]};m.push(y),m=y.inner}}}}),i}const k8=Ge.define();function Cv(r){let e=0,t=0,n=0,i=0;for(let s of r.state.facet(k8)){let l=s(r);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(t=Math.max(t,l.right)),l.top!=null&&(n=Math.max(n,l.top)),l.bottom!=null&&(i=Math.max(i,l.bottom)))}return{left:e,right:t,top:n,bottom:i}}const r0=Ge.define();class ki{constructor(e,t,n,i){this.fromA=e,this.toA=t,this.fromB=n,this.toB=i}join(e){return new ki(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(t.length==0)return e;let n=[];for(let i=0,s=0,l=0,c=0;;i++){let f=i==e.length?null:e[i],h=l-c,d=f?f.fromB:1e9;for(;s<t.length&&t[s]<d;){let m=t[s],g=t[s+1],x=Math.max(c,m),b=Math.min(d,g);if(x<=b&&new ki(x+h,b+h,x,b).addToSet(n),g>d)break;s+=2}if(!f)return n;new ki(f.fromA,f.toA,f.fromB,f.toB).addToSet(n),l=f.toA,c=f.toB}}}class Ed{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=Ir.empty(this.startState.doc.length);for(let s of n)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,l,c,f)=>i.push(new ki(s,l,c,f))),this.changedRanges=i}static create(e,t,n){return new Ed(e,t,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class zS extends Xt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=nt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Br],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ki(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:h,toA:d})=>d<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!HL(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?LL(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:d}=this.hasComposition;n=new ki(h,d,e.changes.mapPos(h,-1),e.changes.mapPos(d,1)).addToSet(n.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Ve.ie||Ve.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,c=this.updateDeco(),f=jL(l,c,e.changes);return n=ki.extendWithRanges(n,f),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let l=Ve.chrome||Ve.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,l),this.flags&=-8,l&&(l.written||i.selectionRange.focusNode!=l.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(l=>l.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let l of this.children)l instanceof Us&&l.widget instanceof o1&&s.push(l.dom);i.updateGaps(s)}updateChildren(e,t,n){let i=n?n.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let l=i.length-1;;l--){let c=l>=0?i[l]:null;if(!c)break;let{fromA:f,toA:h,fromB:d,toB:m}=c,g,x,b,y;if(n&&n.range.fromB<m&&n.range.toB>d){let _=g0.build(this.view.state.doc,d,n.range.fromB,this.decorations,this.dynamicDecorationMap),N=g0.build(this.view.state.doc,n.range.toB,m,this.decorations,this.dynamicDecorationMap);x=_.breakAtStart,b=_.openStart,y=N.openEnd;let R=this.compositionView(n);N.breakAtStart?R.breakAfter=1:N.content.length&&R.merge(R.length,R.length,N.content[0],!1,N.openStart,0)&&(R.breakAfter=N.content[0].breakAfter,N.content.shift()),_.content.length&&R.merge(0,0,_.content[_.content.length-1],!0,0,_.openEnd)&&_.content.pop(),g=_.content.concat(R).concat(N.content)}else({content:g,breakAtStart:x,openStart:b,openEnd:y}=g0.build(this.view.state.doc,d,m,this.decorations,this.dynamicDecorationMap));let{i:S,off:T}=s.findPos(h,1),{i:A,off:C}=s.findPos(f,-1);s8(this,A,C,S,T,g,x,b,y)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let n of t.effects)n.is(A8)&&(this.editContextFormatting=n.value)}compositionView(e){let t=new Vi(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new Gs(i,[t],t.length);let n=new Br;return n.append(t,0),n}fixCompositionDOM(e){let t=(s,l)=>{l.flags|=8|(l.children.some(f=>f.flags&7)?1:0),this.markedForComposition.add(l);let c=Xt.get(s);c&&c!=l&&(c.dom=null),l.setDOM(s)},n=this.childPos(e.range.fromB,1),i=this.children[n.i];t(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)n=i.childPos(n.off,1),i=i.children[n.i],t(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,i=n==this.dom,s=!i&&!(this.view.state.facet(Is)||this.dom.tabIndex>-1)&&Yh(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(i||t||s))return;let l=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,f=this.moveToLine(this.domAtPos(c.anchor)),h=c.empty?f:this.moveToLine(this.domAtPos(c.head));if(Ve.gecko&&c.empty&&!this.hasComposition&&FL(f)){let m=document.createTextNode("");this.view.observer.ignore(()=>f.node.insertBefore(m,f.node.childNodes[f.offset]||null)),f=h=new pn(m,0),l=!0}let d=this.view.observer.selectionRange;(l||!d.focusNode||(!m0(f.node,f.offset,d.anchorNode,d.anchorOffset)||!m0(h.node,h.offset,d.focusNode,d.focusOffset))&&!this.suppressWidgetCursorChange(d,c))&&(this.view.observer.ignore(()=>{Ve.android&&Ve.chrome&&this.dom.contains(d.focusNode)&&zL(d.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let m=R0(this.view.root);if(m)if(c.empty){if(Ve.gecko){let g=IL(f.node,f.offset);if(g&&g!=3){let x=(g==1?r8:n8)(f.node,f.offset);x&&(f=new pn(x.node,x.offset))}}m.collapse(f.node,f.offset),c.bidiLevel!=null&&m.caretBidiLevel!==void 0&&(m.caretBidiLevel=c.bidiLevel)}else if(m.extend){m.collapse(f.node,f.offset);try{m.extend(h.node,h.offset)}catch{}}else{let g=document.createRange();c.anchor>c.head&&([f,h]=[h,f]),g.setEnd(h.node,h.offset),g.setStart(f.node,f.offset),m.removeAllRanges(),m.addRange(g)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(f,h)),this.impreciseAnchor=f.precise?null:new pn(d.anchorNode,d.anchorOffset),this.impreciseHead=h.precise?null:new pn(d.focusNode,d.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&m0(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=R0(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let l=Br.find(this,t.head);if(!l)return;let c=l.posAtStart;if(t.head==c||t.head==c+l.length)return;let f=this.coordsAt(t.head,-1),h=this.coordsAt(t.head,1);if(!f||!h||f.bottom>h.top)return;let d=this.domAtPos(t.head+t.assoc);n.collapse(d.node,d.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=t.from&&n.collapse(i,s)}moveToLine(e){let t=this.dom,n;if(e.node!=t)return e;for(let i=e.offset;!n&&i<t.childNodes.length;i++){let s=Xt.get(t.childNodes[i]);s instanceof Br&&(n=s.domAtPos(0))}for(let i=e.offset-1;!n&&i>=0;i--){let s=Xt.get(t.childNodes[i]);s instanceof Br&&(n=s.domAtPos(s.length))}return n?new pn(n.node,n.offset,!0):e}nearest(e){for(let t=e;t;){let n=Xt.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(n<i.length||i instanceof Br)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,i=0;for(let s=this.length,l=this.children.length-1;l>=0;l--){let c=this.children[l],f=s-c.breakAfter,h=f-c.length;if(f<e)break;if(h<=e&&(h<e||c.covers(-1))&&(f>e||c.covers(1))&&(!n||c instanceof Br&&!(n instanceof Br&&t>=0)))n=c,i=h;else if(n&&h==e&&f==e&&c instanceof Us&&Math.abs(t)<2){if(c.deco.startSide<0)break;l&&(n=null)}s=h}return n?n.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),i=this.children[t];if(!(i instanceof Br))return null;for(;i.children.length;){let{i:c,off:f}=i.childPos(n,1);for(;;c++){if(c==i.children.length)return null;if((i=i.children[c]).length)break}n=f}if(!(i instanceof Vi))return null;let s=ln(i.text,n);if(s==n)return null;let l=Tl(i.dom,n,s).getClientRects();for(let c=0;c<l.length;c++){let f=l[c];if(c==l.length-1||f.top<f.bottom&&f.left<f.right)return f}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:i}=e,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,f=this.view.textDirection==nr.LTR;for(let h=0,d=0;d<this.children.length;d++){let m=this.children[d],g=h+m.length;if(g>i)break;if(h>=n){let x=m.dom.getBoundingClientRect();if(t.push(x.height),l){let b=m.dom.lastChild,y=b?Uo(b):[];if(y.length){let S=y[y.length-1],T=f?S.right-x.left:x.right-S.left;T>c&&(c=T,this.minWidth=s,this.minWidthFrom=h,this.minWidthTo=g)}}}h=g+m.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?nr.RTL:nr.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Br){let l=s.measureTextSize();if(l)return l}let e=document.createElement("div"),t,n,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Uo(e.firstChild)[0];t=e.getBoundingClientRect().height,n=s?s.width/27:7,i=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:n,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new i8(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],l=s?s.from-1:this.length;if(l>n){let c=(t.lineBlockAt(l).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(nt.replace({widget:new o1(c),block:!0,inclusive:!0,isBlockGap:!0}).range(n,l))}if(!s)break;n=s.to+1}return nt.set(e)}updateDeco(){let e=1,t=this.view.state.facet(M0).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),n=!1,i=this.view.state.facet(_8).map((s,l)=>{let c=typeof s=="function";return c&&(n=!0),c?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=n,t.push(Tt.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(C8))try{if(h(this.view,e.range,e))return!0}catch(d){zn(this.view.state,d,"scroll handler")}let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!n)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,i.left),top:Math.min(n.top,i.top),right:Math.max(n.right,i.right),bottom:Math.max(n.bottom,i.bottom)});let s=Cv(this.view),l={left:n.left-s.left,top:n.top-s.top,right:n.right+s.right,bottom:n.bottom+s.bottom},{offsetWidth:c,offsetHeight:f}=this.view.scrollDOM;pL(this.view.scrollDOM,l,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,c),-c),Math.max(Math.min(e.yMargin,f),-f),this.view.textDirection==nr.LTR)}lineHasWidget(e){let{i:t}=this.childCursor().findPos(e);if(t==this.children.length)return!1;let n=i=>i instanceof Ps||i.children.some(n);return n(this.children[t])}}function FL(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}function O8(r,e){let t=r.observer.selectionRange;if(!t.focusNode)return null;let n=r8(t.focusNode,t.focusOffset),i=n8(t.focusNode,t.focusOffset),s=n||i;if(i&&n&&i.node!=n.node){let c=Xt.get(i.node);if(!c||c instanceof Vi&&c.text!=i.node.nodeValue)s=i;else if(r.docView.lastCompositionAfterCursor){let f=Xt.get(n.node);!f||f instanceof Vi&&f.text!=n.node.nodeValue||(s=i)}}if(r.docView.lastCompositionAfterCursor=s!=n,!s)return null;let l=e-s.offset;return{from:l,to:l+s.node.nodeValue.length,node:s.node}}function LL(r,e,t){let n=O8(r,t);if(!n)return null;let{node:i,from:s,to:l}=n,c=i.nodeValue;if(/[\n\r]/.test(c)||r.state.doc.sliceString(n.from,n.to)!=c)return null;let f=e.invertedDesc,h=new ki(f.mapPos(s),f.mapPos(l),s,l),d=[];for(let m=i.parentNode;;m=m.parentNode){let g=Xt.get(m);if(g instanceof Gs)d.push({node:m,deco:g.mark});else{if(g instanceof Br||m.nodeName=="DIV"&&m.parentNode==r.contentDOM)return{range:h,text:i,marks:d,line:m};if(m!=r.contentDOM)d.push({node:m,deco:new sf({inclusive:!0,attributes:EL(m),tagName:m.tagName.toLowerCase()})});else return null}}}function IL(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}let PL=class{constructor(){this.changes=[]}compareRange(e,t){Kh(e,t,this.changes)}comparePoint(e,t){Kh(e,t,this.changes)}boundChange(e){Kh(e,e,this.changes)}};function jL(r,e,t){let n=new PL;return Tt.compare(r,e,t,n),n.changes}function zL(r,e){for(let t=r;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function HL(r,e){let t=!1;return e&&r.iterChangedRanges((n,i)=>{n<e.to&&i>e.from&&(t=!0)}),t}function UL(r,e,t=1){let n=r.charCategorizer(e),i=r.doc.lineAt(e),s=e-i.from;if(i.length==0)return _e.cursor(e);s==0?t=1:s==i.length&&(t=-1);let l=s,c=s;t<0?l=ln(i.text,s,!1):c=ln(i.text,s);let f=n(i.text.slice(l,c));for(;l>0;){let h=ln(i.text,l,!1);if(n(i.text.slice(h,l))!=f)break;l=h}for(;c<i.length;){let h=ln(i.text,c);if(n(i.text.slice(c,h))!=f)break;c=h}return _e.range(l+i.from,c+i.from)}function VL(r,e){return e.left>r?e.left-r:Math.max(0,r-e.right)}function qL(r,e){return e.top>r?e.top-r:Math.max(0,r-e.bottom)}function tx(r,e){return r.top<e.bottom-1&&r.bottom>e.top+1}function HS(r,e){return e<r.top?{top:e,left:r.left,right:r.right,bottom:r.bottom}:r}function US(r,e){return e>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:e}:r}function d1(r,e,t){let n,i,s,l,c=!1,f,h,d,m;for(let b=r.firstChild;b;b=b.nextSibling){let y=Uo(b);for(let S=0;S<y.length;S++){let T=y[S];i&&tx(i,T)&&(T=HS(US(T,i.bottom),i.top));let A=VL(e,T),C=qL(t,T);if(A==0&&C==0)return b.nodeType==3?VS(b,e,t):d1(b,e,t);(!n||l>C||l==C&&s>A)&&(n=b,i=T,s=A,l=C,c=A?e<T.left?S>0:S<y.length-1:!0),A==0?t>T.bottom&&(!d||d.bottom<T.bottom)?(f=b,d=T):t<T.top&&(!m||m.top>T.top)&&(h=b,m=T):d&&tx(d,T)?d=US(d,T.bottom):m&&tx(m,T)&&(m=HS(m,T.top))}}if(d&&d.bottom>=t?(n=f,i=d):m&&m.top<=t&&(n=h,i=m),!n)return{node:r,offset:0};let g=Math.max(i.left,Math.min(i.right,e));if(n.nodeType==3)return VS(n,g,t);if(c&&n.contentEditable!="false")return d1(n,g,t);let x=Array.prototype.indexOf.call(r.childNodes,n)+(e>=(i.left+i.right)/2?1:0);return{node:r,offset:x}}function VS(r,e,t){let n=r.nodeValue.length,i=-1,s=1e9,l=0;for(let c=0;c<n;c++){let f=Tl(r,c,c+1).getClientRects();for(let h=0;h<f.length;h++){let d=f[h];if(d.top==d.bottom)continue;l||(l=e-d.left);let m=(d.top>t?d.top-t:t-d.bottom)-1;if(d.left-1<=e&&d.right+1>=e&&m<s){let g=e>=(d.left+d.right)/2,x=g;if(Ve.chrome||Ve.gecko){let b=Tl(r,c).getBoundingClientRect();Math.abs(b.left-d.right)<.1&&(x=!g)}if(m<=0)return{node:r,offset:c+(x?1:0)};i=c+(x?1:0),s=m}}}return{node:r,offset:i>-1?i:l>0?r.nodeValue.length:0}}function B8(r,e,t,n=-1){var i,s;let l=r.contentDOM.getBoundingClientRect(),c=l.top+r.viewState.paddingTop,f,{docHeight:h}=r.viewState,{x:d,y:m}=e,g=m-c;if(g<0)return 0;if(g>h)return r.state.doc.length;for(let _=r.viewState.heightOracle.textHeight/2,N=!1;f=r.elementAtHeight(g),f.type!=An.Text;)for(;g=n>0?f.bottom+_:f.top-_,!(g>=0&&g<=h);){if(N)return t?null:0;N=!0,n=-n}m=c+g;let x=f.from;if(x<r.viewport.from)return r.viewport.from==0?0:t?null:qS(r,l,f,d,m);if(x>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:t?null:qS(r,l,f,d,m);let b=r.dom.ownerDocument,y=r.root.elementFromPoint?r.root:b,S=y.elementFromPoint(d,m);S&&!r.contentDOM.contains(S)&&(S=null),S||(d=Math.max(l.left+1,Math.min(l.right-1,d)),S=y.elementFromPoint(d,m),S&&!r.contentDOM.contains(S)&&(S=null));let T,A=-1;if(S&&((i=r.docView.nearest(S))===null||i===void 0?void 0:i.isEditable)!=!1){if(b.caretPositionFromPoint){let _=b.caretPositionFromPoint(d,m);_&&({offsetNode:T,offset:A}=_)}else if(b.caretRangeFromPoint){let _=b.caretRangeFromPoint(d,m);_&&({startContainer:T,startOffset:A}=_)}T&&(!r.contentDOM.contains(T)||Ve.safari&&WL(T,A,d)||Ve.chrome&&GL(T,A,d))&&(T=void 0),T&&(A=Math.min(ms(T),A))}if(!T||!r.docView.dom.contains(T)){let _=Br.find(r.docView,x);if(!_)return g>f.top+f.height/2?f.to:f.from;({node:T,offset:A}=d1(_.dom,d,m))}let C=r.docView.nearest(T);if(!C)return null;if(C.isWidget&&((s=C.dom)===null||s===void 0?void 0:s.nodeType)==1){let _=C.dom.getBoundingClientRect();return e.y<_.top||e.y<=_.bottom&&e.x<=(_.left+_.right)/2?C.posAtStart:C.posAtEnd}else return C.localPosFromDOM(T,A)+C.posAtStart}function qS(r,e,t,n,i){let s=Math.round((n-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&t.height>r.defaultLineHeight*1.5){let c=r.viewState.heightOracle.textHeight,f=Math.floor((i-t.top-(r.defaultLineHeight-c)*.5)/c);s+=f*r.viewState.heightOracle.lineLength}let l=r.state.sliceDoc(t.from,t.to);return t.from+Zx(l,s,r.state.tabSize)}function N8(r,e,t){let n,i=r;if(r.nodeType!=3||e!=(n=r.nodeValue.length))return!1;for(;;){let s=i.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let l=i.parentNode;if(!l||l.nodeName=="DIV")break;i=l}}return Tl(r,n-1,n).getBoundingClientRect().right>t}function WL(r,e,t){return N8(r,e,t)}function GL(r,e,t){if(e!=0)return N8(r,e,t);for(let i=r;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let n=r.nodeType==1?r.getBoundingClientRect():Tl(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return t-n.left>5}function p1(r,e,t){let n=r.lineBlockAt(e);if(Array.isArray(n.type)){let i;for(let s of n.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==An.Text&&(i.type!=s.type||(t<0?s.from<e:s.to>e)))&&(i=s)}}return i||n}return n}function XL(r,e,t,n){let i=p1(r,e.head,e.assoc||-1),s=!n||i.type!=An.Text||!(r.lineWrapping||i.widgetLineBreaks)?null:r.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let l=r.dom.getBoundingClientRect(),c=r.textDirectionAt(i.from),f=r.posAtCoords({x:t==(c==nr.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(f!=null)return _e.cursor(f,t?-1:1)}return _e.cursor(t?i.to:i.from,t?-1:1)}function WS(r,e,t,n){let i=r.state.doc.lineAt(e.head),s=r.bidiSpans(i),l=r.textDirectionAt(i.from);for(let c=e,f=null;;){let h=NL(i,s,l,c,t),d=m8;if(!h){if(i.number==(t?r.state.doc.lines:1))return c;d=`
`,i=r.state.doc.line(i.number+(t?1:-1)),s=r.bidiSpans(i),h=r.visualLineSide(i,!t)}if(f){if(!f(d))return c}else{if(!n)return h;f=n(d)}c=h}}function YL(r,e,t){let n=r.state.charCategorizer(e),i=n(t);return s=>{let l=n(s);return i==cr.Space&&(i=l),i==l}}function KL(r,e,t,n){let i=e.head,s=t?1:-1;if(i==(t?r.state.doc.length:0))return _e.cursor(i,e.assoc);let l=e.goalColumn,c,f=r.contentDOM.getBoundingClientRect(),h=r.coordsAtPos(i,e.assoc||-1),d=r.documentTop;if(h)l==null&&(l=h.left-f.left),c=s<0?h.top:h.bottom;else{let x=r.viewState.lineBlockAt(i);l==null&&(l=Math.min(f.right-f.left,r.defaultCharacterWidth*(i-x.from))),c=(s<0?x.top:x.bottom)+d}let m=f.left+l,g=n??r.viewState.heightOracle.textHeight>>1;for(let x=0;;x+=10){let b=c+(g+x)*s,y=B8(r,{x:m,y:b},!1,s);if(b<f.top||b>f.bottom||(s<0?y<i:y>i)){let S=r.docView.coordsForChar(y),T=!S||b<S.top?-1:1;return _e.cursor(y,T,void 0,l)}}}function x0(r,e,t){for(;;){let n=0;for(let i of r)i.between(e-1,e+1,(s,l,c)=>{if(e>s&&e<l){let f=n||t||(e-s<l-e?-1:1);e=f<0?s:l,n=f}});if(!n)return e}}function R8(r,e){let t=null;for(let n=0;n<e.ranges.length;n++){let i=e.ranges[n],s=null;if(i.empty){let l=x0(r,i.from,0);l!=i.from&&(s=_e.cursor(l,-1))}else{let l=x0(r,i.from,-1),c=x0(r,i.to,1);(l!=i.from||c!=i.to)&&(s=_e.range(i.from==i.anchor?l:c,i.from==i.head?l:c))}s&&(t||(t=e.ranges.slice()),t[n]=s)}return t?_e.create(t,e.mainIndex):e}function rx(r,e,t){let n=x0(r.state.facet(lf).map(i=>i(r)),t.from,e.head>t.from?-1:1);return n==t.from?t:_e.cursor(n,n<t.from?1:-1)}const n0="";class $L{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Et.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=n0}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let i=e;;){this.findPointBefore(n,i);let s=this.text.length;this.readNode(i);let l=i.nextSibling;if(l==t)break;let c=Xt.get(i),f=Xt.get(l);(c&&f?c.breakAfter:(c?c.breakAfter:wd(i))||wd(l)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&!ZL(l,t)&&this.lineBreak(),i=l}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,l=1,c;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,n),l=this.lineSeparator.length):(c=i.exec(t))&&(s=c.index,l=c[0].length),this.append(t.slice(n,s<0?t.length:s)),s<0)break;if(this.lineBreak(),l>1)for(let f of this.points)f.node==e&&f.pos>this.text.length&&(f.pos-=l-1);n=s+l}}readNode(e){if(e.cmIgnore)return;let t=Xt.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let i=n.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(QL(e,n.node,n.offset)?t:0))}}function QL(r,e,t){for(;;){if(!e||t<ms(e))return!1;if(e==r)return!0;t=Al(e)+1,e=e.parentNode}}function ZL(r,e){let t;for(;!(r==e||!r);r=r.nextSibling){let n=Xt.get(r);if(!(n?.isWidget||r.cmIgnore))return!1;n&&(t||(t=[])).push(n)}if(t)for(let n of t){let i=n.overrideDOMText;if(i?.length)return!1}return!0}class GS{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class JL{constructor(e,t,n,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let c=s||l?[]:tI(e),f=new $L(c,e.state);f.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=f.text,this.newSel=rI(c,this.bounds.from)}else{let c=e.observer.selectionRange,f=s&&s.node==c.focusNode&&s.offset==c.focusOffset||!s1(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),h=l&&l.node==c.anchorNode&&l.offset==c.anchorOffset||!s1(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset),d=e.viewport;if((Ve.ios||Ve.chrome)&&e.state.selection.main.empty&&f!=h&&(d.from>0||d.to<e.state.doc.length)){let m=Math.min(f,h),g=Math.max(f,h),x=d.from-m,b=d.to-g;(x==0||x==1||m==0)&&(b==0||b==-1||g==e.state.doc.length)&&(f=0,h=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(_e.range(h,f)):this.newSel=_e.single(h,f)}}}function M8(r,e){let t,{newSel:n}=e,i=r.state.selection.main,s=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:c}=e.bounds,f=i.from,h=null;(s===8||Ve.android&&e.text.length<c-l)&&(f=i.to,h="end");let d=F8(r.state.doc.sliceString(l,c,n0),e.text,f-l,h);d&&(Ve.chrome&&s==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==n0+n0&&d.toB--,t={from:l+d.from,to:l+d.toA,insert:_t.of(e.text.slice(d.from,d.toB).split(n0))})}else n&&(!r.hasFocus&&r.state.facet(Is)||n.main.eq(i))&&(n=null);if(!t&&!n)return!1;if(!t&&e.typeOver&&!i.empty&&n&&n.main.empty?t={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,i.to)}:(Ve.mac||Ve.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(n&&t.insert.length==2&&(n=_e.single(n.main.anchor-1,n.main.head-1)),t={from:t.from,to:t.to,insert:_t.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,t.from).append(t.insert).append(r.state.doc.slice(t.to,i.to))}:r.state.doc.lineAt(i.from).to<i.to&&r.docView.lineHasWidget(i.to)&&r.inputState.insertingTextAt>Date.now()-50?t={from:i.from,to:i.to,insert:r.state.toText(r.inputState.insertingText)}:Ve.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&r.lineWrapping&&(n&&(n=_e.single(n.main.anchor-1,n.main.head-1)),t={from:i.from,to:i.to,insert:_t.of([" "])}),t)return Av(r,t,n,s);if(n&&!n.main.eq(i)){let l=!1,c="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(l=!0),c=r.inputState.lastSelectionOrigin,c=="select.pointer"&&(n=R8(r.state.facet(lf).map(f=>f(r)),n))),r.dispatch({selection:n,scrollIntoView:l,userEvent:c}),!0}else return!1}function Av(r,e,t,n=-1){if(Ve.ios&&r.inputState.flushIOSKey(e))return!0;let i=r.state.selection.main;if(Ve.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&r.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Mo(r.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Mo(r.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Mo(r.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let l,c=()=>l||(l=eI(r,e,t));return r.state.facet(b8).some(f=>f(r,e.from,e.to,s,c))||r.dispatch(c()),!0}function eI(r,e,t){let n,i=r.state,s=i.selection.main,l=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let f=e.from<s.from?-1:1,h=f<0?s.from:s.to,d=x0(i.facet(lf).map(m=>m(r)),h,f);e.from==d&&(l=d)}if(l>-1)n={changes:e,selection:_e.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&r.inputState.composing<0){let f=s.from<e.from?i.sliceDoc(s.from,e.from):"",h=s.to>e.to?i.sliceDoc(e.to,s.to):"";n=i.replaceSelection(r.state.toText(f+e.insert.sliceString(0,void 0,r.state.lineBreak)+h))}else{let f=i.changes(e),h=t&&t.main.to<=f.newLength?t.main:void 0;if(i.selection.ranges.length>1&&(r.inputState.composing>=0||r.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let d=r.state.sliceDoc(e.from,e.to),m,g=t&&O8(r,t.main.head);if(g){let b=e.insert.length-(e.to-e.from);m={from:g.from,to:g.to-b}}else m=r.state.doc.lineAt(s.head);let x=s.to-e.to;n=i.changeByRange(b=>{if(b.from==s.from&&b.to==s.to)return{changes:f,range:h||b.map(f)};let y=b.to-x,S=y-d.length;if(r.state.sliceDoc(S,y)!=d||y>=m.from&&S<=m.to)return{range:b};let T=i.changes({from:S,to:y,insert:e.insert}),A=b.to-s.to;return{changes:T,range:h?_e.range(Math.max(0,h.anchor+A),Math.max(0,h.head+A)):b.map(T)}})}else n={changes:f,selection:h&&i.selection.replaceRange(h)}}let c="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,c+=".compose",r.inputState.compositionFirstChange&&(c+=".start",r.inputState.compositionFirstChange=!1)),i.update(n,{userEvent:c,scrollIntoView:!0})}function F8(r,e,t,n){let i=Math.min(r.length,e.length),s=0;for(;s<i&&r.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&r.length==e.length)return null;let l=r.length,c=e.length;for(;l>0&&c>0&&r.charCodeAt(l-1)==e.charCodeAt(c-1);)l--,c--;if(n=="end"){let f=Math.max(0,s-Math.min(l,c));t-=l+f-s}if(l<s&&r.length<e.length){let f=t<=s&&t>=l?s-t:0;s-=f,c=s+(c-l),l=s}else if(c<s){let f=t<=s&&t>=c?s-t:0;s-=f,l=s+(l-c),c=s}return{from:s,toA:l,toB:c}}function tI(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:s}=r.observer.selectionRange;return t&&(e.push(new GS(t,n)),(i!=t||s!=n)&&e.push(new GS(i,s))),e}function rI(r,e){if(r.length==0)return null;let t=r[0].pos,n=r.length==2?r[1].pos:t;return t>-1&&n>-1?_e.single(t+e,n+e):null}class nI{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Ve.safari&&e.contentDOM.addEventListener("input",()=>null),Ve.gecko&&yI(e.contentDOM.ownerDocument)}handleEvent(e){!uI(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let i of n.observers)i(this.view,t);for(let i of n.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=iI(e),n=this.handlers,i=this.view.contentDOM;for(let s in t)if(s!="scroll"){let l=!t[s].handlers.length,c=n[s];c&&l!=!c.handlers.length&&(i.removeEventListener(s,this.handleEvent),c=null),c||i.addEventListener(s,this.handleEvent,{passive:l})}for(let s in n)s!="scroll"&&!t[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&I8.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Ve.android&&Ve.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return Ve.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=L8.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||sI.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Mo(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:Ve.safari&&!Ve.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function XS(r,e){return(t,n)=>{try{return e.call(r,n,t)}catch(i){zn(t.state,i)}}}function iI(r){let e=Object.create(null);function t(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of r){let i=n.spec,s=i&&i.plugin.domEventHandlers,l=i&&i.plugin.domEventObservers;if(s)for(let c in s){let f=s[c];f&&t(c).handlers.push(XS(n.value,f))}if(l)for(let c in l){let f=l[c];f&&t(c).observers.push(XS(n.value,f))}}for(let n in qi)t(n).handlers.push(qi[n]);for(let n in Bi)t(n).observers.push(Bi[n]);return e}const L8=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],sI="dthko",I8=[16,17,18,20,91,92,224,225],Hu=6;function Uu(r){return Math.max(0,r)*.7+8}function aI(r,e){return Math.max(Math.abs(r.clientX-e.clientX),Math.abs(r.clientY-e.clientY))}class lI{constructor(e,t,n,i){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=mL(e.contentDOM),this.atoms=e.state.facet(lf).map(l=>l(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Et.allowMultipleSelections)&&oI(e,t),this.dragging=fI(e,t)&&z8(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&aI(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,n=0,i=0,s=0,l=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:c}=this.scrollParents.y.getBoundingClientRect());let f=Cv(this.view);e.clientX-f.left<=i+Hu?t=-Uu(i-e.clientX):e.clientX+f.right>=l-Hu&&(t=Uu(e.clientX-l)),e.clientY-f.top<=s+Hu?n=-Uu(s-e.clientY):e.clientY+f.bottom>=c-Hu&&(n=Uu(e.clientY-c)),this.setScrollSpeed(t,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,n=R8(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function oI(r,e){let t=r.state.facet(g8);return t.length?t[0](e):Ve.mac?e.metaKey:e.ctrlKey}function cI(r,e){let t=r.state.facet(x8);return t.length?t[0](e):Ve.mac?!e.altKey:!e.ctrlKey}function fI(r,e){let{main:t}=r.state.selection;if(t.empty)return!1;let n=R0(r.root);if(!n||n.rangeCount==0)return!0;let i=n.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let l=i[s];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function uI(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,n;t!=r.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(n=Xt.get(t))&&n.ignoreEvent(e))return!1;return!0}const qi=Object.create(null),Bi=Object.create(null),P8=Ve.ie&&Ve.ie_version<15||Ve.ios&&Ve.webkit_version<604;function hI(r){let e=r.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.remove(),j8(r,t.value)},50)}function cp(r,e,t){for(let n of r.facet(e))t=n(t,r);return t}function j8(r,e){e=cp(r.state,wv,e);let{state:t}=r,n,i=1,s=t.toText(e),l=s.lines==t.selection.ranges.length;if(m1!=null&&t.selection.ranges.every(f=>f.empty)&&m1==s.toString()){let f=-1;n=t.changeByRange(h=>{let d=t.doc.lineAt(h.from);if(d.from==f)return{range:h};f=d.from;let m=t.toText((l?s.line(i++).text:e)+t.lineBreak);return{changes:{from:d.from,insert:m},range:_e.cursor(h.from+m.length)}})}else l?n=t.changeByRange(f=>{let h=s.line(i++);return{changes:{from:f.from,to:f.to,insert:h.text},range:_e.cursor(f.from+h.length)}}):n=t.replaceSelection(s);r.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}Bi.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};qi.keydown=(r,e)=>(r.inputState.setSelectionOrigin("select"),e.keyCode==27&&r.inputState.tabFocusMode!=0&&(r.inputState.tabFocusMode=Date.now()+2e3),!1);Bi.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};Bi.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};qi.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let n of r.state.facet(v8))if(t=n(r,e),t)break;if(!t&&e.button==0&&(t=mI(r,e)),t){let n=!r.hasFocus;r.inputState.startMouseSelection(new lI(r,e,t,n)),n&&r.observer.ignore(()=>{J3(r.contentDOM);let s=r.root.activeElement;s&&!s.contains(r.contentDOM)&&s.blur()});let i=r.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else r.inputState.setSelectionOrigin("select.pointer");return!1};function YS(r,e,t,n){if(n==1)return _e.cursor(e,t);if(n==2)return UL(r.state,e,t);{let i=Br.find(r.docView,e),s=r.state.doc.lineAt(i?i.posAtEnd:e),l=i?i.posAtStart:s.from,c=i?i.posAtEnd:s.to;return c<r.state.doc.length&&c==s.to&&c++,_e.range(l,c)}}let KS=(r,e,t)=>e>=t.top&&e<=t.bottom&&r>=t.left&&r<=t.right;function dI(r,e,t,n){let i=Br.find(r.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let l=i.coordsAt(s,-1);if(l&&KS(t,n,l))return-1;let c=i.coordsAt(s,1);return c&&KS(t,n,c)?1:l&&l.bottom>=n?-1:1}function $S(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:dI(r,t,e.clientX,e.clientY)}}const pI=Ve.ie&&Ve.ie_version<=11;let QS=null,ZS=0,JS=0;function z8(r){if(!pI)return r.detail;let e=QS,t=JS;return QS=r,JS=Date.now(),ZS=!e||t>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(ZS+1)%3:1}function mI(r,e){let t=$S(r,e),n=z8(e),i=r.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,l,c){let f=$S(r,s),h,d=YS(r,f.pos,f.bias,n);if(t.pos!=f.pos&&!l){let m=YS(r,t.pos,t.bias,n),g=Math.min(m.from,d.from),x=Math.max(m.to,d.to);d=g<d.from?_e.range(g,x):_e.range(x,g)}return l?i.replaceRange(i.main.extend(d.from,d.to)):c&&n==1&&i.ranges.length>1&&(h=gI(i,f.pos))?h:c?i.addRange(d):_e.create([d])}}}function gI(r,e){for(let t=0;t<r.ranges.length;t++){let{from:n,to:i}=r.ranges[t];if(n<=e&&i>=e)return _e.create(r.ranges.slice(0,t).concat(r.ranges.slice(t+1)),r.mainIndex==t?0:r.mainIndex-(r.mainIndex>t?1:0))}return null}qi.dragstart=(r,e)=>{let{selection:{main:t}}=r.state;if(e.target.draggable){let i=r.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,l=s+i.length;(s>=t.to||l<=t.from)&&(t=_e.range(s,l))}}let{inputState:n}=r;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",cp(r.state,Sv,r.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};qi.dragend=r=>(r.inputState.draggedContent=null,!1);function eE(r,e,t,n){if(t=cp(r.state,wv,t),!t)return;let i=r.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=r.inputState,l=n&&s&&cI(r,e)?{from:s.from,to:s.to}:null,c={from:i,insert:t},f=r.state.changes(l?[l,c]:c);r.focus(),r.dispatch({changes:f,selection:{anchor:f.mapPos(i,-1),head:f.mapPos(i,1)},userEvent:l?"move.drop":"input.drop"}),r.inputState.draggedContent=null}qi.drop=(r,e)=>{if(!e.dataTransfer)return!1;if(r.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let n=Array(t.length),i=0,s=()=>{++i==t.length&&eE(r,e,n.filter(l=>l!=null).join(r.state.lineBreak),!1)};for(let l=0;l<t.length;l++){let c=new FileReader;c.onerror=s,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(n[l]=c.result),s()},c.readAsText(t[l])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return eE(r,e,n,!0),!0}return!1};qi.paste=(r,e)=>{if(r.state.readOnly)return!0;r.observer.flush();let t=P8?null:e.clipboardData;return t?(j8(r,t.getData("text/plain")||t.getData("text/uri-list")),!0):(hI(r),!1)};function xI(r,e){let t=r.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),r.focus()},50)}function vI(r){let e=[],t=[],n=!1;for(let i of r.selection.ranges)i.empty||(e.push(r.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of r.selection.ranges){let l=r.doc.lineAt(s);l.number>i&&(e.push(l.text),t.push({from:l.from,to:Math.min(r.doc.length,l.to+1)})),i=l.number}n=!0}return{text:cp(r,Sv,e.join(r.lineBreak)),ranges:t,linewise:n}}let m1=null;qi.copy=qi.cut=(r,e)=>{let{text:t,ranges:n,linewise:i}=vI(r.state);if(!t&&!i)return!1;m1=i?t:null,e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let s=P8?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(xI(r,t),!1)};const H8=gs.define();function U8(r,e){let t=[];for(let n of r.facet(w8)){let i=n(r,e);i&&t.push(i)}return t.length?r.update({effects:t,annotations:H8.of(!0)}):null}function V8(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let t=U8(r.state,e);t?r.dispatch(t):r.update([])}},10)}Bi.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),V8(r)};Bi.blur=r=>{r.observer.clearSelectionRange(),V8(r)};Bi.compositionstart=Bi.compositionupdate=r=>{r.observer.editContext||(r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0))};Bi.compositionend=r=>{r.observer.editContext||(r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,Ve.chrome&&Ve.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50))};Bi.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};qi.beforeinput=(r,e)=>{var t,n;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(r.inputState.insertingText=e.data,r.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&r.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),l=e.getTargetRanges();if(s&&l.length){let c=l[0],f=r.posAtDOM(c.startContainer,c.startOffset),h=r.posAtDOM(c.endContainer,c.endOffset);return Av(r,{from:f,to:h,insert:r.state.toText(s)},null),!0}}let i;if(Ve.chrome&&Ve.android&&(i=L8.find(s=>s.inputType==e.inputType))&&(r.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>s+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return Ve.ios&&e.inputType=="deleteContentForward"&&r.observer.flushSoon(),Ve.safari&&e.inputType=="insertText"&&r.inputState.composing>=0&&setTimeout(()=>Bi.compositionend(r,e),20),!1};const tE=new Set;function yI(r){tE.has(r)||(tE.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}const rE=["pre-wrap","normal","pre-line","break-spaces"];let Wo=!1;function nE(){Wo=!1}class bI{constructor(e){this.lineWrapping=e,this.doc=_t.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return rE.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let i=e[n];i<0?n++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,n,i,s,l){let c=rE.indexOf(e)>-1,f=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=t,this.charWidth=n,this.textHeight=i,this.lineLength=s,f){this.heightSamples={};for(let h=0;h<l.length;h++){let d=l[h];d<0?h++:this.heightSamples[Math.floor(d*10)]=!0}}return f}}class wI{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class fs{constructor(e,t,n,i,s){this.from=e,this.length=t,this.top=n,this.height=i,this._content=s}get type(){return typeof this._content=="number"?An.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ia?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new fs(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var tr=(function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r})(tr||(tr={}));const $h=.001;class Tn{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>$h&&(Wo=!0),this.height=e)}replace(e,t,n){return Tn.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,i){let s=this,l=n.doc;for(let c=i.length-1;c>=0;c--){let{fromA:f,toA:h,fromB:d,toB:m}=i[c],g=s.lineAt(f,tr.ByPosNoHeight,n.setDoc(t),0,0),x=g.to>=h?g:s.lineAt(h,tr.ByPosNoHeight,n,0,0);for(m+=x.to-h,h=x.to;c>0&&g.from<=i[c-1].toA;)f=i[c-1].fromA,d=i[c-1].fromB,c--,f<g.from&&(g=s.lineAt(f,tr.ByPosNoHeight,n,0,0));d+=g.from-f,f=g.from;let b=Tv.build(n.setDoc(l),e,d,m);s=Cd(s,s.replace(f,h,b))}return s.updateHeight(n,0)}static empty(){return new si(0,0)}static of(e){if(e.length==1)return e[0];let t=0,n=e.length,i=0,s=0;for(;;)if(t==n)if(i>s*2){let c=e[t-1];c.break?e.splice(--t,1,c.left,null,c.right):e.splice(--t,1,c.left,c.right),n+=1+c.break,i-=c.size}else if(s>i*2){let c=e[n];c.break?e.splice(n,1,c.left,null,c.right):e.splice(n,1,c.left,c.right),n+=2+c.break,s-=c.size}else break;else if(i<s){let c=e[t++];c&&(i+=c.size)}else{let c=e[--n];c&&(s+=c.size)}let l=0;return e[t-1]==null?(l=1,t--):e[t]==null&&(l=1,n++),new SI(Tn.of(e.slice(0,t)),l,Tn.of(e.slice(n)))}}function Cd(r,e){return r==e?r:(r.constructor!=e.constructor&&(Wo=!0),e)}Tn.prototype.size=1;class q8 extends Tn{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,i){return new fs(i,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,i,s){return this.blockAt(0,n,i,s)}forEachLine(e,t,n,i,s,l){e<=s+this.length&&t>=s&&l(this.blockAt(0,n,i,s))}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class si extends q8{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,i){return new fs(i,this.length,n,this.height,this.breaks)}replace(e,t,n){let i=n[0];return n.length==1&&(i instanceof si||i instanceof tn&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof tn?i=new si(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Tn.of(n)}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class tn extends Tn{constructor(e){super(e,0)}heightMetrics(e,t){let n=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-n+1,l,c=0;if(e.lineWrapping){let f=Math.min(this.height,e.lineHeight*s);l=f/s,this.length>s+1&&(c=(this.height-f)/(this.length-s-1))}else l=this.height/s;return{firstLine:n,lastLine:i,perLine:l,perChar:c}}blockAt(e,t,n,i){let{firstLine:s,lastLine:l,perLine:c,perChar:f}=this.heightMetrics(t,i);if(t.lineWrapping){let h=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),d=t.doc.lineAt(h),m=c+d.length*f,g=Math.max(n,e-m/2);return new fs(d.from,d.length,g,m,0)}else{let h=Math.max(0,Math.min(l-s,Math.floor((e-n)/c))),{from:d,length:m}=t.doc.line(s+h);return new fs(d,m,n+c*h,c,0)}}lineAt(e,t,n,i,s){if(t==tr.ByHeight)return this.blockAt(e,n,i,s);if(t==tr.ByPosNoHeight){let{from:x,to:b}=n.doc.lineAt(e);return new fs(x,b-x,0,0,0)}let{firstLine:l,perLine:c,perChar:f}=this.heightMetrics(n,s),h=n.doc.lineAt(e),d=c+h.length*f,m=h.number-l,g=i+c*m+f*(h.from-s-m);return new fs(h.from,h.length,Math.max(i,Math.min(g,i+this.height-d)),d,0)}forEachLine(e,t,n,i,s,l){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:c,perLine:f,perChar:h}=this.heightMetrics(n,s);for(let d=e,m=i;d<=t;){let g=n.doc.lineAt(d);if(d==e){let b=g.number-c;m+=f*b+h*(e-s-b)}let x=f+h*g.length;l(new fs(g.from,g.length,m,x,0)),m+=x,d=g.to+1}}replace(e,t,n){let i=this.length-t;if(i>0){let s=n[n.length-1];s instanceof tn?n[n.length-1]=new tn(s.length+i):n.push(null,new tn(i-1))}if(e>0){let s=n[0];s instanceof tn?n[0]=new tn(e+s.length):n.unshift(new tn(e-1),null)}return Tn.of(n)}decomposeLeft(e,t){t.push(new tn(e-1),null)}decomposeRight(e,t){t.push(null,new tn(this.length-e-1))}updateHeight(e,t=0,n=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let l=[],c=Math.max(t,i.from),f=-1;for(i.from>t&&l.push(new tn(i.from-t-1).updateHeight(e,t));c<=s&&i.more;){let d=e.doc.lineAt(c).length;l.length&&l.push(null);let m=i.heights[i.index++];f==-1?f=m:Math.abs(m-f)>=$h&&(f=-2);let g=new si(d,m);g.outdated=!1,l.push(g),c+=d+1}c<=s&&l.push(null,new tn(s-c).updateHeight(e,c));let h=Tn.of(l);return(f<0||Math.abs(h.height-this.height)>=$h||Math.abs(f-this.heightMetrics(e,t).perLine)>=$h)&&(Wo=!0),Cd(this,h)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class SI extends Tn{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,i){let s=n+this.left.height;return e<s?this.left.blockAt(e,t,n,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,n,i,s){let l=i+this.left.height,c=s+this.left.length+this.break,f=t==tr.ByHeight?e<l:e<c,h=f?this.left.lineAt(e,t,n,i,s):this.right.lineAt(e,t,n,l,c);if(this.break||(f?h.to<c:h.from>c))return h;let d=t==tr.ByPosNoHeight?tr.ByPosNoHeight:tr.ByPos;return f?h.join(this.right.lineAt(c,d,n,l,c)):this.left.lineAt(c,d,n,i,s).join(h)}forEachLine(e,t,n,i,s,l){let c=i+this.left.height,f=s+this.left.length+this.break;if(this.break)e<f&&this.left.forEachLine(e,t,n,i,s,l),t>=f&&this.right.forEachLine(e,t,n,c,f,l);else{let h=this.lineAt(f,tr.ByPos,n,i,s);e<h.from&&this.left.forEachLine(e,h.from-1,n,i,s,l),h.to>=e&&h.from<=t&&l(h),t>h.to&&this.right.forEachLine(h.to+1,t,n,c,f,l)}}replace(e,t,n){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,n));let s=[];e>0&&this.decomposeLeft(e,s);let l=s.length;for(let c of n)s.push(c);if(e>0&&iE(s,l-1),t<this.length){let c=s.length;this.decomposeRight(t,s),iE(s,c)}return Tn.of(s)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,i=n+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Tn.of(this.break?[e,null,t]:[e,t]):(this.left=Cd(this.left,e),this.right=Cd(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,i){let{left:s,right:l}=this,c=t+s.length+this.break,f=null;return i&&i.from<=t+s.length&&i.more?f=s=s.updateHeight(e,t,n,i):s.updateHeight(e,t,n),i&&i.from<=c+l.length&&i.more?f=l=l.updateHeight(e,c,n,i):l.updateHeight(e,c,n),f?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function iE(r,e){let t,n;r[e]==null&&(t=r[e-1])instanceof tn&&(n=r[e+1])instanceof tn&&r.splice(e-1,3,new tn(t.length+1+n.length))}const EI=5;class Tv{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let n=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof si?i.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new si(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0,s=n.widget?n.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let l=t-e;n.block?this.addBlock(new q8(l,i,n)):(l||s||i>=EI)&&this.addLineDeco(i,s,l)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new si(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new tn(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof si)return e;let t=new si(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof si)&&!this.isCovered?this.nodes.push(new si(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let i of this.nodes)i instanceof si&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(e,t,n,i){let s=new Tv(n,e);return Tt.spans(t,n,i,s,0),s.finish(n)}}function CI(r,e,t){let n=new AI;return Tt.compare(r,e,t,n,0),n.changes}class AI{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,i){(e<t||n&&n.heightRelevant||i&&i.heightRelevant)&&Kh(e,t,this.changes,5)}}function TI(r,e){let t=r.getBoundingClientRect(),n=r.ownerDocument,i=n.defaultView||window,s=Math.max(0,t.left),l=Math.min(i.innerWidth,t.right),c=Math.max(0,t.top),f=Math.min(i.innerHeight,t.bottom);for(let h=r.parentNode;h&&h!=n.body;)if(h.nodeType==1){let d=h,m=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&m.overflow!="visible"){let g=d.getBoundingClientRect();s=Math.max(s,g.left),l=Math.min(l,g.right),c=Math.max(c,g.top),f=Math.min(h==r.parentNode?i.innerHeight:f,g.bottom)}h=m.position=="absolute"||m.position=="fixed"?d.offsetParent:d.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:s-t.left,right:Math.max(s,l)-t.left,top:c-(t.top+e),bottom:Math.max(c,f)-(t.top+e)}}function _I(r){let e=r.getBoundingClientRect(),t=r.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function DI(r,e){let t=r.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class nx{constructor(e,t,n,i){this.from=e,this.to=t,this.size=n,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],s=t[n];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,t){return nt.replace({widget:new kI(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class kI extends Ks{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class sE{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=aE,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=nr.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Ev).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new bI(t),this.stateDeco=e.facet(M0).filter(n=>typeof n!="function"),this.heightMap=Tn.empty().applyChanges(this.stateDeco,_t.empty,this.heightOracle.setDoc(e.doc),[new ki(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=nt.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let i=n?t.head:t.anchor;if(!e.some(({from:s,to:l})=>i>=s&&i<=l)){let{from:s,to:l}=this.lineBlockAt(i);e.push(new Vu(s,l))}}return this.viewports=e.sort((n,i)=>n.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?aE:new _v(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(i0(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(M0).filter(d=>typeof d!="function");let i=e.changedRanges,s=ki.extendWithRanges(i,CI(n,this.stateDeco,e?e.changes:Ir.empty(this.state.doc.length))),l=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);nE(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=l||Wo)&&(e.flags|=2),c?(this.scrollAnchorPos=e.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=l);let f=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<f.from||t.range.head>f.to)||!this.viewportIsAppropriate(f))&&(f=this.getViewport(0,t));let h=f.from!=this.viewport.from||f.to!=this.viewport.to;this.viewport=f,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(E8)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),i=this.heightOracle,s=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?nr.RTL:nr.LTR;let l=this.heightOracle.mustRefreshForWrapping(s),c=t.getBoundingClientRect(),f=l||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let h=0,d=0;if(c.width&&c.height){let{scaleX:_,scaleY:N}=Z3(t,c);(_>.005&&Math.abs(this.scaleX-_)>.005||N>.005&&Math.abs(this.scaleY-N)>.005)&&(this.scaleX=_,this.scaleY=N,h|=16,l=f=!0)}let m=(parseInt(n.paddingTop)||0)*this.scaleY,g=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=g)&&(this.paddingTop=m,this.paddingBottom=g,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(f=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let x=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=x&&(this.scrollAnchorHeight=-1,this.scrollTop=x),this.scrolledToBottom=t8(e.scrollDOM);let b=(this.printing?DI:TI)(t,this.paddingTop),y=b.top-this.pixelViewport.top,S=b.bottom-this.pixelViewport.bottom;this.pixelViewport=b;let T=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(T!=this.inView&&(this.inView=T,T&&(f=!0)),!this.inView&&!this.scrollTarget&&!_I(e.dom))return 0;let A=c.width;if((this.contentDOMWidth!=A||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),f){let _=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(_)&&(l=!0),l||i.lineWrapping&&Math.abs(A-this.contentDOMWidth)>i.charWidth){let{lineHeight:N,charWidth:R,textHeight:O}=e.docView.measureTextSize();l=N>0&&i.refresh(s,N,R,O,Math.max(5,A/R),_),l&&(e.docView.minWidth=0,h|=16)}y>0&&S>0?d=Math.max(y,S):y<0&&S<0&&(d=Math.min(y,S)),nE();for(let N of this.viewports){let R=N.from==this.viewport.from?_:e.docView.measureVisibleLineHeights(N);this.heightMap=(l?Tn.empty().applyChanges(this.stateDeco,_t.empty,this.heightOracle,[new ki(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,l,new wI(N.from,R))}Wo&&(h|=2)}let C=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return C&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),h|=this.updateForViewport()),(h&2||C)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:l,visibleBottom:c}=this,f=new Vu(i.lineAt(l-n*1e3,tr.ByHeight,s,0,0).from,i.lineAt(c+(1-n)*1e3,tr.ByHeight,s,0,0).to);if(t){let{head:h}=t.range;if(h<f.from||h>f.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=i.lineAt(h,tr.ByPos,s,0,0),g;t.y=="center"?g=(m.top+m.bottom)/2-d/2:t.y=="start"||t.y=="nearest"&&h<f.from?g=m.top:g=m.bottom-d,f=new Vu(i.lineAt(g-1e3/2,tr.ByHeight,s,0,0).from,i.lineAt(g+d+1e3/2,tr.ByHeight,s,0,0).to)}}return f}mapViewport(e,t){let n=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new Vu(this.heightMap.lineAt(n,tr.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,tr.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,tr.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,tr.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:c}=this;return(e==0||i<=l-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||s>=c+Math.max(10,Math.min(n,250)))&&i>l-2*1e3&&s<c+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let i of e)t.touchesRange(i.from,i.to)||n.push(new nx(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,s=i>>1,l=i<<1;if(this.defaultTextDirection!=nr.LTR&&!n)return[];let c=[],f=(d,m,g,x)=>{if(m-d<s)return;let b=this.state.selection.main,y=[b.from];b.empty||y.push(b.to);for(let T of y)if(T>d&&T<m){f(d,T-10,g,x),f(T+10,m,g,x);return}let S=BI(e,T=>T.from>=g.from&&T.to<=g.to&&Math.abs(T.from-d)<s&&Math.abs(T.to-m)<s&&!y.some(A=>T.from<A&&T.to>A));if(!S){if(m<g.to&&t&&n&&t.visibleRanges.some(C=>C.from<=m&&C.to>=m)){let C=t.moveToLineBoundary(_e.cursor(m),!1,!0).head;C>d&&(m=C)}let T=this.gapSize(g,d,m,x),A=n||T<2e6?T:2e6;S=new nx(d,m,T,A)}c.push(S)},h=d=>{if(d.length<l||d.type!=An.Text)return;let m=OI(d.from,d.to,this.stateDeco);if(m.total<l)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,x,b;if(n){let y=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,S,T;if(g!=null){let A=Wu(m,g),C=((this.visibleBottom-this.visibleTop)/2+y)/d.height;S=A-C,T=A+C}else S=(this.visibleTop-d.top-y)/d.height,T=(this.visibleBottom-d.top+y)/d.height;x=qu(m,S),b=qu(m,T)}else{let y=m.total*this.heightOracle.charWidth,S=i*this.heightOracle.charWidth,T=0;if(y>2e6)for(let R of e)R.from>=d.from&&R.from<d.to&&R.size!=R.displaySize&&R.from*this.heightOracle.charWidth+T<this.pixelViewport.left&&(T=R.size-R.displaySize);let A=this.pixelViewport.left+T,C=this.pixelViewport.right+T,_,N;if(g!=null){let R=Wu(m,g),O=((C-A)/2+S)/y;_=R-O,N=R+O}else _=(A-S)/y,N=(C+S)/y;x=qu(m,_),b=qu(m,N)}x>d.from&&f(d.from,x,d,m),b<d.to&&f(b,d.to,d,m)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(h):h(d);return c}gapSize(e,t,n,i){let s=Wu(i,n)-Wu(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){nx.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=nt.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];Tt.spans(t,this.viewport.from,this.viewport.to,{span(s,l){n.push({from:s,to:l})},point(){}},20);let i=0;if(n.length!=this.visibleRanges.length)i=12;else for(let s=0;s<n.length&&!(i&8);s++){let l=this.visibleRanges[s],c=n[s];(l.from!=c.from||l.to!=c.to)&&(i|=4,e&&e.mapPos(l.from,-1)==c.from&&e.mapPos(l.to,1)==c.to||(i|=8))}return this.visibleRanges=n,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||i0(this.heightMap.lineAt(e,tr.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||i0(this.heightMap.lineAt(this.scaler.fromDOM(e),tr.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return i0(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Vu{constructor(e,t){this.from=e,this.to=t}}function OI(r,e,t){let n=[],i=r,s=0;return Tt.spans(t,r,e,{span(){},point(l,c){l>i&&(n.push({from:i,to:l}),s+=l-i),i=c}},20),i<e&&(n.push({from:i,to:e}),s+=e-i),{total:s,ranges:n}}function qu({total:r,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let n=Math.floor(r*t);for(let i=0;;i++){let{from:s,to:l}=e[i],c=l-s;if(n<=c)return s+n;n-=c}}function Wu(r,e){let t=0;for(let{from:n,to:i}of r.ranges){if(e<=i){t+=e-n;break}t+=i-n}return t/r.total}function BI(r,e){for(let t of r)if(e(t))return t}const aE={toDOM(r){return r},fromDOM(r){return r},scale:1,eq(r){return r==this}};class _v{constructor(e,t,n){let i=0,s=0,l=0;this.viewports=n.map(({from:c,to:f})=>{let h=t.lineAt(c,tr.ByPos,e,0,0).top,d=t.lineAt(f,tr.ByPos,e,0,0).bottom;return i+=d-h,{from:c,to:f,top:h,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let c of this.viewports)c.domTop=l+(c.top-s)*this.scale,l=c.domBottom=c.domTop+(c.bottom-c.top),s=c.bottom}toDOM(e){for(let t=0,n=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-n)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);n=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,n=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return n+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);n=s.bottom,i=s.domBottom}}eq(e){return e instanceof _v?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,n)=>t.from==e.viewports[n].from&&t.to==e.viewports[n].to):!1}}function i0(r,e){if(e.scale==1)return r;let t=e.toDOM(r.top),n=e.toDOM(r.bottom);return new fs(r.from,r.length,t,n-t,Array.isArray(r._content)?r._content.map(i=>i0(i,e)):r._content)}const Gu=Ge.define({combine:r=>r.join(" ")}),g1=Ge.define({combine:r=>r.indexOf(!0)>-1}),x1=Fa.newName(),W8=Fa.newName(),G8=Fa.newName(),X8={"&light":"."+W8,"&dark":"."+G8};function v1(r,e,t){return new Fa(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,i=>{if(i=="&")return r;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):r+" "+n}})}const NI=v1("."+x1,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},X8),RI={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ix=Ve.ie&&Ve.ie_version<=11;class MI{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new gL,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let n of t)this.queue.push(n);(Ve.ie&&Ve.ie_version<=11||Ve.ios&&e.composing)&&t.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Ve.android&&e.constructor.EDIT_CONTEXT!==!1&&!(Ve.chrome&&Ve.chrome_version<126)&&(this.editContext=new LI(e),e.state.facet(Is)&&(e.contentDOM.editContext=this.editContext.editContext)),ix&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet(Is)?n.root.activeElement!=this.dom:!Yh(this.dom,i))return;let s=i.anchorNode&&n.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Ve.ie&&Ve.ie_version<=11||Ve.android&&Ve.chrome)&&!n.state.selection.main.empty&&i.focusNode&&m0(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=R0(e.root);if(!t)return!1;let n=Ve.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&FI(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let i=Yh(this.dom,n);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&vL(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=t)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,RI),ix&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ix&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Mo(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,i=!1;for(let s of e){let l=this.readMutation(s);l&&(l.typeOver&&(i=!0),t==-1?{from:t,to:n}=l:(t=Math.min(l.from,t),n=Math.max(l.to,n)))}return{from:t,to:n,typeOver:i}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),i=this.selectionChanged&&Yh(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new JL(this.view,e,t,n);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,i=M8(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let n=lE(t,e.previousSibling||e.target.previousSibling,-1),i=lE(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Is)!=e.state.facet(Is)&&(e.view.contentDOM.editContext=e.state.facet(Is)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function lE(r,e,t){for(;e;){let n=Xt.get(e);if(n&&n.parent==r)return n;let i=e.parentNode;e=i!=r.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function oE(r,e){let t=e.startContainer,n=e.startOffset,i=e.endContainer,s=e.endOffset,l=r.docView.domAtPos(r.state.selection.main.anchor);return m0(l.node,l.offset,i,s)&&([t,n,i,s]=[i,s,t,n]),{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:s}}function FI(r,e){if(e.getComposedRanges){let i=e.getComposedRanges(r.root)[0];if(i)return oE(r,i)}let t=null;function n(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return r.contentDOM.addEventListener("beforeinput",n,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",n,!0),t?oE(r,t):null}class LI{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let i=e.state.selection.main,{anchor:s,head:l}=i,c=this.toEditorPos(n.updateRangeStart),f=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:c,drifted:!1});let h=f-c>n.text.length;c==this.from&&s<this.from?c=s:f==this.to&&s>this.to&&(f=s);let d=F8(e.state.sliceDoc(c,f),n.text,(h?i.from:i.to)-c,h?"end":null);if(!d){let g=_e.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));g.main.eq(i)||e.dispatch({selection:g,userEvent:"select"});return}let m={from:d.from+c,to:d.toA+c,insert:_t.of(n.text.slice(d.from,d.toB).split(`
`))};if((Ve.mac||Ve.android)&&m.from==l-1&&/^\. ?$/.test(n.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:c,to:f,insert:_t.of([n.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let g=this.to-this.from+(m.to-m.from+m.insert.length);Av(e,m,_e.single(this.toEditorPos(n.selectionStart,g),this.toEditorPos(n.selectionEnd,g)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,n.updateRangeStart-1),Math.min(t.text.length,n.updateRangeStart+1)))&&this.handlers.compositionend(n)},this.handlers.characterboundsupdate=n=>{let i=[],s=null;for(let l=this.toEditorPos(n.rangeStart),c=this.toEditorPos(n.rangeEnd);l<c;l++){let f=e.coordsForChar(l);s=f&&new DOMRect(f.left,f.top,f.right-f.left,f.bottom-f.top)||s||new DOMRect,i.push(s)}t.updateCharacterBounds(n.rangeStart,i)},this.handlers.textformatupdate=n=>{let i=[];for(let s of n.getTextFormats()){let l=s.underlineStyle,c=s.underlineThickness;if(!/none/i.test(l)&&!/none/i.test(c)){let f=this.toEditorPos(s.rangeStart),h=this.toEditorPos(s.rangeEnd);if(f<h){let d=`text-decoration: underline ${/^[a-z]/.test(l)?l+" ":l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${/thin/i.test(c)?1:2}px`;i.push(nt.mark({attributes:{style:d}}).range(f,h))}}}e.dispatch({effects:A8.of(nt.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(e.state)}};for(let n in this.handlers)t.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let i=R0(n.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,l,c,f,h)=>{if(n)return;let d=h.length-(l-s);if(i&&l>=i.to)if(i.from==s&&i.to==l&&i.insert.eq(h)){i=this.pendingContextChange=null,t+=d,this.to+=d;return}else i=null,this.revertPending(e.state);if(s+=t,l+=t,l<=this.from)this.from+=d,this.to+=d;else if(s<this.to){if(s<this.from||l>this.to||this.to-this.from+h.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(l),h.toString()),this.to+=d}t+=d}),i&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(n,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class qe{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(i=>i.forEach(s=>n(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||xL(e.parent)||document,this.viewState=new sE(e.state||Et.create(e)),e.scrollTo&&e.scrollTo.is(zu)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Ao).map(i=>new ex(i));for(let i of this.plugins)i.update(this);this.observer=new MI(this),this.inputState=new nI(this),this.inputState.ensureHandlers(this.plugins),this.docView=new zS(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof jr?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,n=!1,i,s=this.state;for(let g of e){if(g.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=g.state}if(this.destroyed){this.viewState.state=s;return}let l=this.hasFocus,c=0,f=null;e.some(g=>g.annotation(H8))?(this.inputState.notifiedFocused=l,c=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,f=U8(s,l),f||(c=1));let h=this.observer.delayedAndroidKey,d=null;if(h?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(d=null)):this.observer.clear(),s.facet(Et.phrases)!=this.state.facet(Et.phrases))return this.setState(s);i=Ed.create(this,s,e),i.flags|=c;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(m&&(m=m.map(g.changes)),g.scrollIntoView){let{main:x}=g.state.selection;m=new Fo(x.empty?x:_e.cursor(x.head,x.head>x.anchor?-1:1))}for(let x of g.effects)x.is(zu)&&(m=x.value.clip(this.state))}this.viewState.update(i,m),this.bidiCache=Ad.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(r0)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Gu)!=i.state.facet(Gu)&&(this.viewState.mustMeasureContent=!0),(t||n||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let g of this.state.facet(h1))try{g(i)}catch(x){zn(this.state,x,"update listener")}(f||d)&&Promise.resolve().then(()=>{f&&this.state==f.startState&&this.dispatch(f),d&&!M8(this,d)&&h.force&&Mo(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new sE(e),this.plugins=e.facet(Ao).map(n=>new ex(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new zS(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ao),n=e.state.facet(Ao);if(t!=n){let i=[];for(let s of n){let l=t.indexOf(s);if(l<0)i.push(new ex(s));else{let c=this.plugins[l];c.mustUpdate=e,i.push(c)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(n){zn(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,i=n.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:l}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(l<0)if(t8(n))s=-1,l=this.viewState.heightMap.height;else{let x=this.viewState.scrollAnchorAt(i);s=x.from,l=x.top}this.updateState=1;let f=this.viewState.measure(this);if(!f&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];f&4||([this.measureRequests,h]=[h,this.measureRequests]);let d=h.map(x=>{try{return x.read(this)}catch(b){return zn(this.state,b),cE}}),m=Ed.create(this,this.state,[]),g=!1;m.flags|=f,t?t.flags|=f:t=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),g=this.docView.update(m),g&&this.docViewUpdate());for(let x=0;x<h.length;x++)if(d[x]!=cE)try{let b=h[x];b.write&&b.write(d[x],this)}catch(b){zn(this.state,b)}if(g&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let b=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-l;if(b>1||b<-1){i=i+b,n.scrollTop=i/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let c of this.state.facet(h1))c(t)}get themeClasses(){return x1+" "+(this.state.facet(g1)?G8:W8)+" "+this.state.facet(Gu)}updateAttrs(){let e=fE(this,T8,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Is)?"true":"false",class:"cm-content",style:`${Ve.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),fE(this,Ev,t);let n=this.observer.ignore(()=>{let i=l1(this.contentDOM,this.contentAttrs,t),s=l1(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let i of n.effects)if(i.is(qe.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(r0);let e=this.state.facet(qe.cspNonce);Fa.mount(this.root,this.styleModules.concat(NI).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(n=>n.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return rx(this,e,WS(this,e,t,n))}moveByGroup(e,t){return rx(this,e,WS(this,e,t,n=>YL(this,e.head,n)))}visualLineSide(e,t){let n=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=n[t?n.length-1:0];return _e.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,n=!0){return XL(this,e,t,n)}moveVertically(e,t,n){return rx(this,e,KL(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),B8(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),l=s[ka.find(s,e-i.from,-1,t)];return nf(n,l.dir==nr.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(S8)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>II)return p8(e.length);let t=this.textDirectionAt(e.from),n;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||d8(s.isolates,n=jS(this,e))))return s.order;n||(n=jS(this,e));let i=BL(e.text,t,n);return this.bidiCache.push(new Ad(e.from,e.to,t,n,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Ve.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{J3(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return zu.of(new Fo(typeof e=="number"?_e.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return zu.of(new Fo(_e.cursor(n.from),"start","start",n.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Er.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Er.define(()=>({}),{eventObservers:e})}static theme(e,t){let n=Fa.newName(),i=[Gu.of(n),r0.of(v1(`.${n}`,e))];return t&&t.dark&&i.push(g1.of(!0)),i}static baseTheme(e){return Ll.lowest(r0.of(v1("."+x1,e,X8)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),i=n&&Xt.get(n)||Xt.get(e);return((t=i?.rootView)===null||t===void 0?void 0:t.view)||null}}qe.styleModule=r0;qe.inputHandler=b8;qe.clipboardInputFilter=wv;qe.clipboardOutputFilter=Sv;qe.scrollHandler=C8;qe.focusChangeEffect=w8;qe.perLineTextDirection=S8;qe.exceptionSink=y8;qe.updateListener=h1;qe.editable=Is;qe.mouseSelectionStyle=v8;qe.dragMovesSelection=x8;qe.clickAddsSelectionRange=g8;qe.decorations=M0;qe.outerDecorations=_8;qe.atomicRanges=lf;qe.bidiIsolatedRanges=D8;qe.scrollMargins=k8;qe.darkTheme=g1;qe.cspNonce=Ge.define({combine:r=>r.length?r[0]:""});qe.contentAttributes=Ev;qe.editorAttributes=T8;qe.lineWrapping=qe.contentAttributes.of({class:"cm-lineWrapping"});qe.announce=ut.define();const II=4096,cE={};class Ad{constructor(e,t,n,i,s,l){this.from=e,this.to=t,this.dir=n,this.isolates=i,this.fresh=s,this.order=l}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let n=[],i=e.length?e[e.length-1].dir:nr.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let l=e[s];l.dir==i&&!t.touchesRange(l.from,l.to)&&n.push(new Ad(t.mapPos(l.from,1),t.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return n}}function fE(r,e,t){for(let n=r.state.facet(e),i=n.length-1;i>=0;i--){let s=n[i],l=typeof s=="function"?s(r):s;l&&a1(l,t)}return t}const PI=Ve.mac?"mac":Ve.windows?"win":Ve.linux?"linux":"key";function jI(r,e){const t=r.split(/-(?!$)/);let n=t[t.length-1];n=="Space"&&(n=" ");let i,s,l,c;for(let f=0;f<t.length-1;++f){const h=t[f];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))i=!0;else if(/^(c|ctrl|control)$/i.test(h))s=!0;else if(/^s(hift)?$/i.test(h))l=!0;else if(/^mod$/i.test(h))e=="mac"?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),c&&(n="Meta-"+n),l&&(n="Shift-"+n),n}function Xu(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}const zI=Ll.default(qe.domEventHandlers({keydown(r,e){return K8(Y8(e.state),r,e,"editor")}})),fp=Ge.define({enables:zI}),uE=new WeakMap;function Y8(r){let e=r.facet(fp),t=uE.get(e);return t||uE.set(e,t=VI(e.reduce((n,i)=>n.concat(i),[]))),t}function HI(r,e,t){return K8(Y8(r.state),e,r,t)}let Aa=null;const UI=4e3;function VI(r,e=PI){let t=Object.create(null),n=Object.create(null),i=(l,c)=>{let f=n[l];if(f==null)n[l]=c;else if(f!=c)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},s=(l,c,f,h,d)=>{var m,g;let x=t[l]||(t[l]=Object.create(null)),b=c.split(/ (?!$)/).map(T=>jI(T,e));for(let T=1;T<b.length;T++){let A=b.slice(0,T).join(" ");i(A,!0),x[A]||(x[A]={preventDefault:!0,stopPropagation:!1,run:[C=>{let _=Aa={view:C,prefix:A,scope:l};return setTimeout(()=>{Aa==_&&(Aa=null)},UI),!0}]})}let y=b.join(" ");i(y,!1);let S=x[y]||(x[y]={preventDefault:!1,stopPropagation:!1,run:((g=(m=x._any)===null||m===void 0?void 0:m.run)===null||g===void 0?void 0:g.slice())||[]});f&&S.run.push(f),h&&(S.preventDefault=!0),d&&(S.stopPropagation=!0)};for(let l of r){let c=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let h of c){let d=t[h]||(t[h]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=l;for(let g in d)d[g].run.push(x=>m(x,y1))}let f=l[e]||l.key;if(f)for(let h of c)s(h,f,l.run,l.preventDefault,l.stopPropagation),l.shift&&s(h,"Shift-"+f,l.shift,l.preventDefault,l.stopPropagation)}return t}let y1=null;function K8(r,e,t,n){y1=e;let i=uL(e),s=Pn(i,0),l=cs(s)==i.length&&i!=" ",c="",f=!1,h=!1,d=!1;Aa&&Aa.view==t&&Aa.scope==n&&(c=Aa.prefix+" ",I8.indexOf(e.keyCode)<0&&(h=!0,Aa=null));let m=new Set,g=S=>{if(S){for(let T of S.run)if(!m.has(T)&&(m.add(T),T(t)))return S.stopPropagation&&(d=!0),!0;S.preventDefault&&(S.stopPropagation&&(d=!0),h=!0)}return!1},x=r[n],b,y;return x&&(g(x[c+Xu(i,e,!l)])?f=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ve.windows&&e.ctrlKey&&e.altKey)&&!(Ve.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(b=La[e.keyCode])&&b!=i?(g(x[c+Xu(b,e,!0)])||e.shiftKey&&(y=N0[e.keyCode])!=i&&y!=b&&g(x[c+Xu(y,e,!1)]))&&(f=!0):l&&e.shiftKey&&g(x[c+Xu(i,e,!0)])&&(f=!0),!f&&g(x._any)&&(f=!0)),h&&(f=!0),f&&d&&e.stopPropagation(),y1=null,f}class of{constructor(e,t,n,i,s){this.className=e,this.left=t,this.top=n,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let i=e.coordsAtPos(n.head,n.assoc||1);if(!i)return[];let s=$8(e);return[new of(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return qI(e,t,n)}}function $8(r){let e=r.scrollDOM.getBoundingClientRect();return{left:(r.textDirection==nr.LTR?e.left:e.right-r.scrollDOM.clientWidth*r.scaleX)-r.scrollDOM.scrollLeft*r.scaleX,top:e.top-r.scrollDOM.scrollTop*r.scaleY}}function hE(r,e,t,n){let i=r.coordsAtPos(e,t*2);if(!i)return n;let s=r.dom.getBoundingClientRect(),l=(i.top+i.bottom)/2,c=r.posAtCoords({x:s.left+1,y:l}),f=r.posAtCoords({x:s.right-1,y:l});return c==null||f==null?n:{from:Math.max(n.from,Math.min(c,f)),to:Math.min(n.to,Math.max(c,f))}}function qI(r,e,t){if(t.to<=r.viewport.from||t.from>=r.viewport.to)return[];let n=Math.max(t.from,r.viewport.from),i=Math.min(t.to,r.viewport.to),s=r.textDirection==nr.LTR,l=r.contentDOM,c=l.getBoundingClientRect(),f=$8(r),h=l.querySelector(".cm-line"),d=h&&window.getComputedStyle(h),m=c.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),g=c.right-(d?parseInt(d.paddingRight):0),x=p1(r,n,1),b=p1(r,i,-1),y=x.type==An.Text?x:null,S=b.type==An.Text?b:null;if(y&&(r.lineWrapping||x.widgetLineBreaks)&&(y=hE(r,n,1,y)),S&&(r.lineWrapping||b.widgetLineBreaks)&&(S=hE(r,i,-1,S)),y&&S&&y.from==S.from&&y.to==S.to)return A(C(t.from,t.to,y));{let N=y?C(t.from,null,y):_(x,!1),R=S?C(null,t.to,S):_(b,!0),O=[];return(y||x).to<(S||b).from-(y&&S?1:0)||x.widgetLineBreaks>1&&N.bottom+r.defaultLineHeight/2<R.top?O.push(T(m,N.bottom,g,R.top)):N.bottom<R.top&&r.elementAtHeight((N.bottom+R.top)/2).type==An.Text&&(N.bottom=R.top=(N.bottom+R.top)/2),A(N).concat(O).concat(A(R))}function T(N,R,O,z){return new of(e,N-f.left,R-f.top,O-N,z-R)}function A({top:N,bottom:R,horizontal:O}){let z=[];for(let M=0;M<O.length;M+=2)z.push(T(O[M],N,O[M+1],R));return z}function C(N,R,O){let z=1e9,M=-1e9,I=[];function P(se,ue,ee,ie,be){let Ee=r.coordsAtPos(se,se==O.to?-2:2),ke=r.coordsAtPos(ee,ee==O.from?2:-2);!Ee||!ke||(z=Math.min(Ee.top,ke.top,z),M=Math.max(Ee.bottom,ke.bottom,M),be==nr.LTR?I.push(s&&ue?m:Ee.left,s&&ie?g:ke.right):I.push(!s&&ie?m:ke.left,!s&&ue?g:Ee.right))}let W=N??O.from,K=R??O.to;for(let se of r.visibleRanges)if(se.to>W&&se.from<K)for(let ue=Math.max(se.from,W),ee=Math.min(se.to,K);;){let ie=r.state.doc.lineAt(ue);for(let be of r.bidiSpans(ie)){let Ee=be.from+ie.from,ke=be.to+ie.from;if(Ee>=ee)break;ke>ue&&P(Math.max(Ee,ue),N==null&&Ee<=W,Math.min(ke,ee),R==null&&ke>=K,be.dir)}if(ue=ie.to+1,ue>=ee)break}return I.length==0&&P(W,N==null,K,R==null,r.textDirection),{top:z,bottom:M,horizontal:I}}function _(N,R){let O=c.top+(R?N.top:N.bottom);return{top:O,bottom:O,horizontal:[]}}}function WI(r,e){return r.constructor==e.constructor&&r.eq(e)}class GI{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Qh)!=e.state.facet(Qh)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(Qh);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,n)=>!WI(t,this.drawn[n]))){let t=this.dom.firstChild,n=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[n].constructor&&i.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e,Ve.safari&&Ve.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Qh=Ge.define();function Q8(r){return[Er.define(e=>new GI(e,r)),Qh.of(r)]}const F0=Ge.define({combine(r){return xs(r,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function XI(r={}){return[F0.of(r),YI,KI,$I,E8.of(!0)]}function Z8(r){return r.startState.facet(F0)!=r.state.facet(F0)}const YI=Q8({above:!0,markers(r){let{state:e}=r,t=e.facet(F0),n=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||t.drawRangeCursor){let l=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=i.empty?i:_e.cursor(i.head,i.head>i.anchor?-1:1);for(let f of of.forRange(r,l,c))n.push(f)}}return n},update(r,e){r.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=Z8(r);return t&&dE(r.state,e),r.docChanged||r.selectionSet||t},mount(r,e){dE(e.state,r)},class:"cm-cursorLayer"});function dE(r,e){e.style.animationDuration=r.facet(F0).cursorBlinkRate+"ms"}const KI=Q8({above:!1,markers(r){return r.state.selection.ranges.map(e=>e.empty?[]:of.forRange(r,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(r,e){return r.docChanged||r.selectionSet||r.viewportChanged||Z8(r)},class:"cm-selectionLayer"}),$I=Ll.highest(qe.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),J8=ut.define({map(r,e){return r==null?null:e.mapPos(r)}}),s0=fn.define({create(){return null},update(r,e){return r!=null&&(r=e.changes.mapPos(r)),e.effects.reduce((t,n)=>n.is(J8)?n.value:t,r)}}),QI=Er.fromClass(class{constructor(r){this.view=r,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(r){var e;let t=r.state.field(s0);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(r.startState.field(s0)!=t||r.docChanged||r.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:r}=this,e=r.state.field(s0),t=e!=null&&r.coordsAtPos(e);if(!t)return null;let n=r.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+r.scrollDOM.scrollLeft*r.scaleX,top:t.top-n.top+r.scrollDOM.scrollTop*r.scaleY,height:t.bottom-t.top}}drawCursor(r){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;r?(this.cursor.style.left=r.left/e+"px",this.cursor.style.top=r.top/t+"px",this.cursor.style.height=r.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(r){this.view.state.field(s0)!=r&&this.view.dispatch({effects:J8.of(r)})}},{eventObservers:{dragover(r){this.setDropPos(this.view.posAtCoords({x:r.clientX,y:r.clientY}))},dragleave(r){(r.target==this.view.contentDOM||!this.view.contentDOM.contains(r.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function ZI(){return[s0,QI]}function pE(r,e,t,n,i){e.lastIndex=0;for(let s=r.iterRange(t,n),l=t,c;!s.next().done;l+=s.value.length)if(!s.lineBreak)for(;c=e.exec(s.value);)i(l+c.index,c)}function JI(r,e){let t=r.visibleRanges;if(t.length==1&&t[0].from==r.viewport.from&&t[0].to==r.viewport.to)return t;let n=[];for(let{from:i,to:s}of t)i=Math.max(r.state.doc.lineAt(i).from,i-e),s=Math.min(r.state.doc.lineAt(s).to,s+e),n.length&&n[n.length-1].to>=i?n[n.length-1].to=s:n.push({from:i,to:s});return n}class eP{constructor(e){const{regexp:t,decoration:n,decorate:i,boundary:s,maxLength:l=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(c,f,h,d)=>i(d,h,h+c[0].length,c,f);else if(typeof n=="function")this.addMatch=(c,f,h,d)=>{let m=n(c,f,h);m&&d(h,h+c[0].length,m)};else if(n)this.addMatch=(c,f,h,d)=>d(h,h+c[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=l}createDeco(e){let t=new Ws,n=t.add.bind(t);for(let{from:i,to:s}of JI(e,this.maxLength))pE(e.state.doc,this.regexp,i,s,(l,c)=>this.addMatch(c,e,l,n));return t.finish()}updateDeco(e,t){let n=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,l,c,f)=>{f>=e.view.viewport.from&&c<=e.view.viewport.to&&(n=Math.min(c,n),i=Math.max(f,i))}),e.viewportMoved||i-n>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),n,i):t}updateRange(e,t,n,i){for(let s of e.visibleRanges){let l=Math.max(s.from,n),c=Math.min(s.to,i);if(c>=l){let f=e.state.doc.lineAt(l),h=f.to<c?e.state.doc.lineAt(c):f,d=Math.max(s.from,f.from),m=Math.min(s.to,h.to);if(this.boundary){for(;l>f.from;l--)if(this.boundary.test(f.text[l-1-f.from])){d=l;break}for(;c<h.to;c++)if(this.boundary.test(h.text[c-h.from])){m=c;break}}let g=[],x,b=(y,S,T)=>g.push(T.range(y,S));if(f==h)for(this.regexp.lastIndex=d-f.from;(x=this.regexp.exec(f.text))&&x.index<m-f.from;)this.addMatch(x,e,x.index+f.from,b);else pE(e.state.doc,this.regexp,d,m,(y,S)=>this.addMatch(S,e,y,b));t=t.update({filterFrom:d,filterTo:m,filter:(y,S)=>y<d||S>m,add:g})}}return t}}const b1=/x/.unicode!=null?"gu":"g",tP=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,b1),rP={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let sx=null;function nP(){var r;if(sx==null&&typeof document<"u"&&document.body){let e=document.body.style;sx=((r=e.tabSize)!==null&&r!==void 0?r:e.MozTabSize)!=null}return sx||!1}const Zh=Ge.define({combine(r){let e=xs(r,{render:null,specialChars:tP,addSpecialChars:null});return(e.replaceTabs=!nP())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,b1)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,b1)),e}});function iP(r={}){return[Zh.of(r),sP()]}let mE=null;function sP(){return mE||(mE=Er.fromClass(class{constructor(r){this.view=r,this.decorations=nt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(r.state.facet(Zh)),this.decorations=this.decorator.createDeco(r)}makeDecorator(r){return new eP({regexp:r.specialChars,decoration:(e,t,n)=>{let{doc:i}=t.state,s=Pn(e[0],0);if(s==9){let l=i.lineAt(n),c=t.state.tabSize,f=Jo(l.text,c,n-l.from);return nt.replace({widget:new cP((c-f%c)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=nt.replace({widget:new oP(r,s)}))},boundary:r.replaceTabs?void 0:/[^]/})}update(r){let e=r.state.facet(Zh);r.startState.facet(Zh)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(r.view)):this.decorations=this.decorator.updateDeco(r,this.decorations)}},{decorations:r=>r.decorations}))}const aP="";function lP(r){return r>=32?aP:r==10?"":String.fromCharCode(9216+r)}class oP extends Ks{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=lP(this.code),n=e.state.phrase("Control character")+" "+(rP[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=n,s.setAttribute("aria-label",n),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class cP extends Ks{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function fP(){return hP}const uP=nt.line({class:"cm-activeLine"}),hP=Er.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.docChanged||r.selectionSet)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=-1,t=[];for(let n of r.state.selection.ranges){let i=r.lineBlockAt(n.head);i.from>e&&(t.push(uP.range(i.from)),e=i.from)}return nt.set(t)}},{decorations:r=>r.decorations});class dP extends Ks{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?Uo(e.firstChild):[];if(!t.length)return null;let n=window.getComputedStyle(e.parentNode),i=nf(t[0],n.direction!="rtl"),s=parseInt(n.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function pP(r){let e=Er.fromClass(class{constructor(t){this.view=t,this.placeholder=r?nt.set([nt.widget({widget:new dP(r),side:1}).range(0)]):nt.none}get decorations(){return this.view.state.doc.length?nt.none:this.placeholder}},{decorations:t=>t.decorations});return typeof r=="string"?[e,qe.contentAttributes.of({"aria-placeholder":r})]:e}const w1=2e3;function mP(r,e,t){let n=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>w1||t.off>w1||e.col<0||t.col<0){let l=Math.min(e.off,t.off),c=Math.max(e.off,t.off);for(let f=n;f<=i;f++){let h=r.doc.line(f);h.length<=c&&s.push(_e.range(h.from+l,h.to+c))}}else{let l=Math.min(e.col,t.col),c=Math.max(e.col,t.col);for(let f=n;f<=i;f++){let h=r.doc.line(f),d=Zx(h.text,l,r.tabSize,!0);if(d<0)s.push(_e.cursor(h.to));else{let m=Zx(h.text,c,r.tabSize);s.push(_e.range(h.from+d,h.from+m))}}}return s}function gP(r,e){let t=r.coordsAtPos(r.viewport.from);return t?Math.round(Math.abs((t.left-e)/r.defaultCharacterWidth)):-1}function gE(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1),n=r.state.doc.lineAt(t),i=t-n.from,s=i>w1?-1:i==n.length?gP(r,e.clientX):Jo(n.text,r.state.tabSize,t-n.from);return{line:n.number,col:s,off:i}}function xP(r,e){let t=gE(r,e),n=r.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),l=i.state.doc.lineAt(s);t={line:l.number,col:t.col,off:Math.min(t.off,l.length)},n=n.map(i.changes)}},get(i,s,l){let c=gE(r,i);if(!c)return n;let f=mP(r.state,t,c);return f.length?l?_e.create(f.concat(n.ranges)):_e.create(f):n}}:null}function vP(r){let e=(t=>t.altKey&&t.button==0);return qe.mouseSelectionStyle.of((t,n)=>e(n)?xP(t,n):null)}const yP={Alt:[18,r=>!!r.altKey],Control:[17,r=>!!r.ctrlKey],Shift:[16,r=>!!r.shiftKey],Meta:[91,r=>!!r.metaKey]},bP={style:"cursor: crosshair"};function wP(r={}){let[e,t]=yP[r.key||"Alt"],n=Er.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[n,qe.contentAttributes.of(i=>{var s;return!((s=i.plugin(n))===null||s===void 0)&&s.isDown?bP:null})]}const Yu="-10000px";class eT{constructor(e,t,n,i){this.facet=t,this.createTooltipView=n,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(l=>l);let s=null;this.tooltipViews=this.tooltips.map(l=>s=n(l,s))}update(e,t){var n;let i=e.state.facet(this.facet),s=i.filter(f=>f);if(i===this.input){for(let f of this.tooltipViews)f.update&&f.update(e);return!1}let l=[],c=t?[]:null;for(let f=0;f<s.length;f++){let h=s[f],d=-1;if(h){for(let m=0;m<this.tooltips.length;m++){let g=this.tooltips[m];g&&g.create==h.create&&(d=m)}if(d<0)l[f]=this.createTooltipView(h,f?l[f-1]:null),c&&(c[f]=!!h.above);else{let m=l[f]=this.tooltipViews[d];c&&(c[f]=t[d]),m.update&&m.update(e)}}}for(let f of this.tooltipViews)l.indexOf(f)<0&&(this.removeTooltipView(f),(n=f.destroy)===null||n===void 0||n.call(f));return t&&(c.forEach((f,h)=>t[h]=f),t.length=c.length),this.input=i,this.tooltips=s,this.tooltipViews=l,!0}}function SP(r){let e=r.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const ax=Ge.define({combine:r=>{var e,t,n;return{position:Ve.ios?"absolute":((e=r.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=r.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((n=r.find(i=>i.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||SP}}}),xE=new WeakMap,Dv=Er.fromClass(class{constructor(r){this.view=r,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(ax);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new eT(r,kv,(t,n)=>this.createTooltip(t,n),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(r,this.above);e&&this.observeIntersection();let t=e||r.geometryChanged,n=r.state.facet(ax);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(r,e){let t=r.create(this.view),n=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),r.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=Yu,t.dom.style.left="0px",this.container.insertBefore(t.dom,n),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var r,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(r=n.destroy)===null||r===void 0||r.call(n);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(Ve.safari){let l=s.getBoundingClientRect();t=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}else t=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(r=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:r,scaleY:e}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),i=Cv(this.view);return{visible:{left:n.left+i.left,top:n.top+i.top,right:n.right-i.right,bottom:n.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,l)=>{let c=this.manager.tooltipViews[l];return c.getCoords?c.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(ax).tooltipSpace(this.view),scaleX:r,scaleY:e,makeAbsolute:t}}writeMeasure(r){var e;if(r.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{visible:t,space:n,scaleX:i,scaleY:s}=r,l=[];for(let c=0;c<this.manager.tooltips.length;c++){let f=this.manager.tooltips[c],h=this.manager.tooltipViews[c],{dom:d}=h,m=r.pos[c],g=r.size[c];if(!m||f.clip!==!1&&(m.bottom<=Math.max(t.top,n.top)||m.top>=Math.min(t.bottom,n.bottom)||m.right<Math.max(t.left,n.left)-.1||m.left>Math.min(t.right,n.right)+.1)){d.style.top=Yu;continue}let x=f.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,b=x?7:0,y=g.right-g.left,S=(e=xE.get(h))!==null&&e!==void 0?e:g.bottom-g.top,T=h.offset||CP,A=this.view.textDirection==nr.LTR,C=g.width>n.right-n.left?A?n.left:n.right-g.width:A?Math.max(n.left,Math.min(m.left-(x?14:0)+T.x,n.right-y)):Math.min(Math.max(n.left,m.left-y+(x?14:0)-T.x),n.right-y),_=this.above[c];!f.strictSide&&(_?m.top-S-b-T.y<n.top:m.bottom+S+b+T.y>n.bottom)&&_==n.bottom-m.bottom>m.top-n.top&&(_=this.above[c]=!_);let N=(_?m.top-n.top:n.bottom-m.bottom)-b;if(N<S&&h.resize!==!1){if(N<this.view.defaultLineHeight){d.style.top=Yu;continue}xE.set(h,S),d.style.height=(S=N)/s+"px"}else d.style.height&&(d.style.height="");let R=_?m.top-S-b-T.y:m.bottom+b+T.y,O=C+y;if(h.overlap!==!0)for(let z of l)z.left<O&&z.right>C&&z.top<R+S&&z.bottom>R&&(R=_?z.top-S-2-b:z.bottom+b+2);if(this.position=="absolute"?(d.style.top=(R-r.parent.top)/s+"px",vE(d,(C-r.parent.left)/i)):(d.style.top=R/s+"px",vE(d,C/i)),x){let z=m.left+(A?T.x:-T.x)-(C+14-7);x.style.left=z/i+"px"}h.overlap!==!0&&l.push({left:C,top:R,right:O,bottom:R+S}),d.classList.toggle("cm-tooltip-above",_),d.classList.toggle("cm-tooltip-below",!_),h.positioned&&h.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=Yu}},{eventObservers:{scroll(){this.maybeMeasure()}}});function vE(r,e){let t=parseInt(r.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(r.style.left=e+"px")}const EP=qe.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),CP={x:0,y:0},kv=Ge.define({enables:[Dv,EP]}),Td=Ge.define({combine:r=>r.reduce((e,t)=>e.concat(t),[])});class up{static create(e){return new up(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new eT(e,Td,(t,n)=>this.createHostedView(t,n),t=>t.dom.remove())}createHostedView(e,t){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let i=n[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const AP=kv.compute([Td],r=>{let e=r.facet(Td);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var n;return(n=t.end)!==null&&n!==void 0?n:t.pos})),create:up.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class TP{constructor(e,t,n,i,s){this.view=e,this.source=t,this.field=n,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.nearest(t.target);if(!n)return;let i,s=1;if(n instanceof Ps)i=n.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let c=e.coordsAtPos(i);if(!c||t.y<c.top||t.y>c.bottom||t.x<c.left-e.defaultCharacterWidth||t.x>c.right+e.defaultCharacterWidth)return;let f=e.bidiSpans(e.state.doc.lineAt(i)).find(d=>d.from<=i&&d.to>=i),h=f&&f.dir==nr.RTL?-1:1;s=t.x<c.left?-h:h}let l=this.source(e,i,s);if(l?.then){let c=this.pending={pos:i};l.then(f=>{this.pending==c&&(this.pending=null,f&&!(Array.isArray(f)&&!f.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(f)?f:[f])}))},f=>zn(e.state,f,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(Dv),t=e?e.manager.tooltips.findIndex(n=>n.create==up.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!_P(s.dom,e)||this.pending){let{pos:l}=i[0]||this.pending,c=(n=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&n!==void 0?n:l;(l==c?this.view.posAtCoords(this.lastMove)!=l:!DP(this.view,l,c,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Ku=4;function _P(r,e){let{left:t,right:n,top:i,bottom:s}=r.getBoundingClientRect(),l;if(l=r.querySelector(".cm-tooltip-arrow")){let c=l.getBoundingClientRect();i=Math.min(c.top,i),s=Math.max(c.bottom,s)}return e.clientX>=t-Ku&&e.clientX<=n+Ku&&e.clientY>=i-Ku&&e.clientY<=s+Ku}function DP(r,e,t,n,i,s){let l=r.scrollDOM.getBoundingClientRect(),c=r.documentTop+r.documentPadding.top+r.contentHeight;if(l.left>n||l.right<n||l.top>i||Math.min(l.bottom,c)<i)return!1;let f=r.posAtCoords({x:n,y:i},!1);return f>=e&&f<=t}function kP(r,e={}){let t=ut.define(),n=fn.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(l=>!e.hideOn(s,l))),s.docChanged)){let l=[];for(let c of i){let f=s.changes.mapPos(c.pos,-1,En.TrackDel);if(f!=null){let h=Object.assign(Object.create(null),c);h.pos=f,h.end!=null&&(h.end=s.changes.mapPos(h.end)),l.push(h)}}i=l}for(let l of s.effects)l.is(t)&&(i=l.value),l.is(OP)&&(i=[]);return i},provide:i=>Td.from(i)});return{active:n,extension:[n,Er.define(i=>new TP(i,r,n,t,e.hoverTime||300)),AP]}}function tT(r,e){let t=r.plugin(Dv);if(!t)return null;let n=t.manager.tooltips.indexOf(e);return n<0?null:t.manager.tooltipViews[n]}const OP=ut.define(),yE=Ge.define({combine(r){let e,t;for(let n of r)e=e||n.topContainer,t=t||n.bottomContainer;return{topContainer:e,bottomContainer:t}}});function L0(r,e){let t=r.plugin(rT),n=t?t.specs.indexOf(e):-1;return n>-1?t.panels[n]:null}const rT=Er.fromClass(class{constructor(r){this.input=r.state.facet(I0),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(r));let e=r.state.facet(yE);this.top=new $u(r,!0,e.topContainer),this.bottom=new $u(r,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(r){let e=r.state.facet(yE);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new $u(r.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new $u(r.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=r.state.facet(I0);if(t!=this.input){let n=t.filter(f=>f),i=[],s=[],l=[],c=[];for(let f of n){let h=this.specs.indexOf(f),d;h<0?(d=f(r.view),c.push(d)):(d=this.panels[h],d.update&&d.update(r)),i.push(d),(d.top?s:l).push(d)}this.specs=n,this.panels=i,this.top.sync(s),this.bottom.sync(l);for(let f of c)f.dom.classList.add("cm-panel"),f.mount&&f.mount()}else for(let n of this.panels)n.update&&n.update(r)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:r=>qe.scrollMargins.of(e=>{let t=e.plugin(r);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class $u{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=bE(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=bE(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function bE(r){let e=r.nextSibling;return r.remove(),e}const I0=Ge.define({enables:rT});class Xs extends Cl{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Xs.prototype.elementClass="";Xs.prototype.toDOM=void 0;Xs.prototype.mapMode=En.TrackBefore;Xs.prototype.startSide=Xs.prototype.endSide=-1;Xs.prototype.point=!0;const Jh=Ge.define(),BP=Ge.define(),NP={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Tt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},v0=Ge.define();function RP(r){return[nT(),v0.of({...NP,...r})]}const wE=Ge.define({combine:r=>r.some(e=>e)});function nT(r){return[MP]}const MP=Er.fromClass(class{constructor(r){this.view=r,this.domAfter=null,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(v0).map(e=>new EE(r,e)),this.fixed=!r.state.facet(wE);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(r){if(this.updateGutters(r)){let e=this.prevViewport,t=r.view.viewport,n=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(n<(t.to-t.from)*.8)}if(r.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(wE)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Tt.iter(this.view.state.facet(Jh),this.view.viewport.from),n=[],i=this.gutters.map(s=>new FP(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(s.type)){let l=!0;for(let c of s.type)if(c.type==An.Text&&l){S1(t,n,c.from);for(let f of i)f.line(this.view,c,n);l=!1}else if(c.widget)for(let f of i)f.widget(this.view,c)}else if(s.type==An.Text){S1(t,n,s.from);for(let l of i)l.line(this.view,s,n)}else if(s.widget)for(let l of i)l.widget(this.view,s);for(let s of i)s.finish();r&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(r){let e=r.startState.facet(v0),t=r.state.facet(v0),n=r.docChanged||r.heightChanged||r.viewportChanged||!Tt.eq(r.startState.facet(Jh),r.state.facet(Jh),r.view.viewport.from,r.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(r)&&(n=!0);else{n=!0;let i=[];for(let s of t){let l=e.indexOf(s);l<0?i.push(new EE(this.view,s)):(this.gutters[l].update(r),i.push(this.gutters[l]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return n}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:r=>qe.scrollMargins.of(e=>{let t=e.plugin(r);if(!t||t.gutters.length==0||!t.fixed)return null;let n=t.dom.offsetWidth*e.scaleX,i=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==nr.LTR?{left:n,right:i}:{right:n,left:i}})});function SE(r){return Array.isArray(r)?r:[r]}function S1(r,e,t){for(;r.value&&r.from<=t;)r.from==t&&e.push(r.value),r.next()}class FP{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=Tt.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:i}=this,s=(t.top-this.height)/e.scaleY,l=t.height/e.scaleY;if(this.i==i.elements.length){let c=new iT(e,l,s,n);i.elements.push(c),i.dom.appendChild(c.dom)}else i.elements[this.i].update(e,l,s,n);this.height=t.bottom,this.i++}line(e,t,n){let i=[];S1(this.cursor,i,t.from),n.length&&(i=i.concat(n));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let l=this.gutter;i.length==0&&!l.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t),i=n?[n]:null;for(let s of e.state.facet(BP)){let l=s(e,t.widget,t);l&&(i||(i=[])).push(l)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class EE{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,i=>{let s=i.target,l;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let f=s.getBoundingClientRect();l=(f.top+f.bottom)/2}else l=i.clientY;let c=e.lineBlockAtHeight(l-e.documentTop);t.domEventHandlers[n](e,c,i)&&i.preventDefault()});this.markers=SE(t.markers(e)),t.initialSpacer&&(this.spacer=new iT(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=SE(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let n=e.view.viewport;return!Tt.eq(this.markers,t,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class iT{constructor(e,t,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,i)}update(e,t,n,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),LP(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let n="cm-gutterElement",i=this.dom.firstChild;for(let s=0,l=0;;){let c=l,f=s<t.length?t[s++]:null,h=!1;if(f){let d=f.elementClass;d&&(n+=" "+d);for(let m=l;m<this.markers.length;m++)if(this.markers[m].compare(f)){c=m,h=!0;break}}else c=this.markers.length;for(;l<c;){let d=this.markers[l++];if(d.toDOM){d.destroy(i);let m=i.nextSibling;i.remove(),i=m}}if(!f)break;f.toDOM&&(h?i=i.nextSibling:this.dom.insertBefore(f.toDOM(e),i)),h&&l++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}function LP(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].compare(e[t]))return!1;return!0}const IP=Ge.define(),PP=Ge.define(),To=Ge.define({combine(r){return xs(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let i in t){let s=n[i],l=t[i];n[i]=s?(c,f,h)=>s(c,f,h)||l(c,f,h):l}return n}})}});class lx extends Xs{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function ox(r,e){return r.state.facet(To).formatNumber(e,r.state)}const jP=v0.compute([To],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(IP)},lineMarker(e,t,n){return n.some(i=>i.toDOM)?null:new lx(ox(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,n)=>{for(let i of e.state.facet(PP)){let s=i(e,t,n);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(To)!=e.state.facet(To),initialSpacer(e){return new lx(ox(e,CE(e.state.doc.lines)))},updateSpacer(e,t){let n=ox(t.view,CE(t.view.state.doc.lines));return n==e.number?e:new lx(n)},domEventHandlers:r.facet(To).domEventHandlers,side:"before"}));function zP(r={}){return[To.of(r),nT(),jP]}function CE(r){let e=9;for(;e<r;)e=e*10+9;return e}const HP=new class extends Xs{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},UP=Jh.compute(["selection"],r=>{let e=[],t=-1;for(let n of r.selection.ranges){let i=r.doc.lineAt(n.head).from;i>t&&(t=i,e.push(HP.range(i)))}return Tt.of(e)});function VP(){return UP}const sT=1024;let qP=0;class cx{constructor(e,t){this.from=e,this.to=t}}class pt{constructor(e={}){this.id=qP++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Wn.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}}pt.closedBy=new pt({deserialize:r=>r.split(" ")});pt.openedBy=new pt({deserialize:r=>r.split(" ")});pt.group=new pt({deserialize:r=>r.split(" ")});pt.isolate=new pt({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});pt.contextHash=new pt({perNode:!0});pt.lookAhead=new pt({perNode:!0});pt.mounted=new pt({perNode:!0});class _d{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[pt.mounted.id]}}const WP=Object.create(null);class Wn{constructor(e,t,n,i=0){this.name=e,this.props=t,this.id=n,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):WP,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Wn(e.name||"",t,e.id,n);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(pt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let i of n.split(" "))t[i]=e[n];return n=>{for(let i=n.prop(pt.group),s=-1;s<(i?i.length:0);s++){let l=t[s<0?n.name:i[s]];if(l)return l}}}}Wn.none=new Wn("",Object.create(null),0,8);class Ov{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let n of this.types){let i=null;for(let s of e){let l=s(n);if(l){i||(i=Object.assign({},n.props));let c=l[1],f=l[0];f.combine&&f.id in i&&(c=f.combine(i[f.id],c)),i[f.id]=c}}t.push(i?new Wn(n.name,i,n.id,n.flags):n)}return new Ov(t)}}const Qu=new WeakMap,AE=new WeakMap;var Vr;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(Vr||(Vr={}));class Nr{constructor(e,t,n,i,s){if(this.type=e,this.children=t,this.positions=n,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,c]of s)this.props[typeof l=="number"?l:l.id]=c}}toString(){let e=_d.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let i=n.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new C1(this.topNode,e)}cursorAt(e,t=0,n=0){let i=Qu.get(this)||this.topNode,s=new C1(i);return s.moveTo(e,t),Qu.set(this,s._tree),s}get topNode(){return new Oi(this,0,0,null)}resolve(e,t=0){let n=P0(Qu.get(this)||this.topNode,e,t,!1);return Qu.set(this,n),n}resolveInner(e,t=0){let n=P0(AE.get(this)||this.topNode,e,t,!0);return AE.set(this,n),n}resolveStack(e,t=0){return YP(this,e,t)}iterate(e){let{enter:t,leave:n,from:i=0,to:s=this.length}=e,l=e.mode||0,c=(l&Vr.IncludeAnonymous)>0;for(let f=this.cursor(l|Vr.IncludeAnonymous);;){let h=!1;if(f.from<=s&&f.to>=i&&(!c&&f.type.isAnonymous||t(f)!==!1)){if(f.firstChild())continue;h=!0}for(;h&&n&&(c||!f.type.isAnonymous)&&n(f),!f.nextSibling();){if(!f.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Rv(Wn.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,i)=>new Nr(this.type,t,n,i,this.propValues),e.makeTree||((t,n,i)=>new Nr(Wn.none,t,n,i)))}static build(e){return KP(e)}}Nr.empty=new Nr(Wn.none,[],[],0);class Bv{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Bv(this.buffer,this.index)}}class Pa{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return Wn.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,n==e)return s;let l=[];for(;e<n;)l.push(this.childString(e)),e=this.buffer[e+3];return s+"("+l.join(",")+")"}findChild(e,t,n,i,s){let{buffer:l}=this,c=-1;for(let f=e;f!=t&&!(aT(s,i,l[f+1],l[f+2])&&(c=f,n>0));f=l[f+3]);return c}slice(e,t,n){let i=this.buffer,s=new Uint16Array(t-e),l=0;for(let c=e,f=0;c<t;){s[f++]=i[c++],s[f++]=i[c++]-n;let h=s[f++]=i[c++]-n;s[f++]=i[c++]-e,l=Math.max(l,h)}return new Pa(s,l,this.set)}}function aT(r,e,t,n){switch(r){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function P0(r,e,t,n){for(var i;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let l=!n&&r instanceof Oi&&r.index<0?null:r.parent;if(!l)return r;r=l}let s=n?0:Vr.IgnoreOverlays;if(n)for(let l=r,c=l.parent;c;l=c,c=l.parent)l instanceof Oi&&l.index<0&&((i=c.enter(e,t,s))===null||i===void 0?void 0:i.from)!=l.from&&(r=c);for(;;){let l=r.enter(e,t,s);if(!l)return r;r=l}}class lT{cursor(e=0){return new C1(this,e)}getChild(e,t=null,n=null){let i=TE(this,e,t,n);return i.length?i[0]:null}getChildren(e,t=null,n=null){return TE(this,e,t,n)}resolve(e,t=0){return P0(this,e,t,!1)}resolveInner(e,t=0){return P0(this,e,t,!0)}matchContext(e){return E1(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(n=t,t=i.prevSibling):t=i}return n}get node(){return this}get next(){return this.parent}}class Oi extends lT{constructor(e,t,n,i){super(),this._tree=e,this.from=t,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,i,s=0){for(let l=this;;){for(let{children:c,positions:f}=l._tree,h=t>0?c.length:-1;e!=h;e+=t){let d=c[e],m=f[e]+l.from;if(aT(i,n,m,m+d.length)){if(d instanceof Pa){if(s&Vr.ExcludeBuffers)continue;let g=d.findChild(0,d.buffer.length,t,n-m,i);if(g>-1)return new Oa(new GP(l,d,e,m),null,g)}else if(s&Vr.IncludeAnonymous||!d.type.isAnonymous||Nv(d)){let g;if(!(s&Vr.IgnoreMounts)&&(g=_d.get(d))&&!g.overlay)return new Oi(g.tree,m,e,l);let x=new Oi(d,m,e,l);return s&Vr.IncludeAnonymous||!x.type.isAnonymous?x:x.nextChild(t<0?d.children.length-1:0,t,n,i)}}}if(s&Vr.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+t:e=t<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,n=0){let i;if(!(n&Vr.IgnoreOverlays)&&(i=_d.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:l,to:c}of i.overlay)if((t>0?l<=s:l<s)&&(t<0?c>=s:c>s))return new Oi(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function TE(r,e,t,n){let i=r.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let l=!1;!l;)if(l=i.type.is(t),!i.nextSibling())return s}for(;;){if(n!=null&&i.type.is(n))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return n==null?s:[]}}function E1(r,e,t=e.length-1){for(let n=r;t>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[t]&&e[t]!=n.name)return!1;t--}}return!0}class GP{constructor(e,t,n,i){this.parent=e,this.buffer=t,this.index=n,this.start=i}}class Oa extends lT{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,n);return s<0?null:new Oa(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,n=0){if(n&Vr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Oa(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Oa(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Oa(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,i=this.index+4,s=n.buffer[this.index+3];if(s>i){let l=n.buffer[this.index+1];e.push(n.slice(i,s,l)),t.push(0)}return new Nr(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function oT(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let l=r[s];(l.from>t.from||l.to<t.to)&&(t=l,e=s)}let n=t instanceof Oi&&t.index<0?null:t.parent,i=r.slice();return n?i[e]=n:i.splice(e,1),new XP(i,t)}class XP{constructor(e,t){this.heads=e,this.node=t}get next(){return oT(this.heads)}}function YP(r,e,t){let n=r.resolveInner(e,t),i=null;for(let s=n instanceof Oi?n:n.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(i||(i=[n])).push(l.resolve(e,t)),s=l}else{let l=_d.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let c=new Oi(l.tree,l.overlay[0].from+s.from,-1,s);(i||(i=[n])).push(P0(c,e,t,!1))}}return i?oT(i):n}class C1{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Oi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return e?e instanceof Oi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,n);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&Vr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Vr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Vr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:n}=i)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let s=t+e,l=e<0?-1:n._tree.children.length;s!=l;s+=e){let c=n._tree.children[s];if(this.mode&Vr.IncludeAnonymous||c instanceof Pa||!c.type.isAnonymous||Nv(c))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let l=e;l;l=l._parent)if(l.index==i){if(i==this.index)return l;t=l,n=s+1;break e}i=this.stack[--s]}for(let i=n;i<this.stack.length;i++)t=new Oa(this.buffer,t,this.stack[i]);return this.bufferNode=new Oa(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(e){if(!this.buffer)return E1(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return E1(this._tree,e,i);let l=n[t.buffer[this.stack[s]]];if(!l.isAnonymous){if(e[i]&&e[i]!=l.name)return!1;i--}}return!0}}function Nv(r){return r.children.some(e=>e instanceof Pa||!e.type.isAnonymous||Nv(e))}function KP(r){var e;let{buffer:t,nodeSet:n,maxBufferLength:i=sT,reused:s=[],minRepeatType:l=n.types.length}=r,c=Array.isArray(t)?new Bv(t,t.length):t,f=n.types,h=0,d=0;function m(N,R,O,z,M,I){let{id:P,start:W,end:K,size:se}=c,ue=d,ee=h;if(se<0)if(c.next(),se==-1){let j=s[P];O.push(j),z.push(W-N);return}else if(se==-3){h=P;return}else if(se==-4){d=P;return}else throw new RangeError(`Unrecognized record size: ${se}`);let ie=f[P],be,Ee,ke=W-N;if(K-W<=i&&(Ee=S(c.pos-R,M))){let j=new Uint16Array(Ee.size-Ee.skip),D=c.pos-Ee.size,L=j.length;for(;c.pos>D;)L=T(Ee.start,j,L);be=new Pa(j,K-Ee.start,n),ke=Ee.start-N}else{let j=c.pos-se;c.next();let D=[],L=[],B=P>=l?P:-1,U=0,Z=K;for(;c.pos>j;)B>=0&&c.id==B&&c.size>=0?(c.end<=Z-i&&(b(D,L,W,U,c.end,Z,B,ue,ee),U=D.length,Z=c.end),c.next()):I>2500?g(W,j,D,L):m(W,j,D,L,B,I+1);if(B>=0&&U>0&&U<D.length&&b(D,L,W,U,W,Z,B,ue,ee),D.reverse(),L.reverse(),B>-1&&U>0){let le=x(ie,ee);be=Rv(ie,D,L,0,D.length,0,K-W,le,le)}else be=y(ie,D,L,K-W,ue-K,ee)}O.push(be),z.push(ke)}function g(N,R,O,z){let M=[],I=0,P=-1;for(;c.pos>R;){let{id:W,start:K,end:se,size:ue}=c;if(ue>4)c.next();else{if(P>-1&&K<P)break;P<0&&(P=se-i),M.push(W,K,se),I++,c.next()}}if(I){let W=new Uint16Array(I*4),K=M[M.length-2];for(let se=M.length-3,ue=0;se>=0;se-=3)W[ue++]=M[se],W[ue++]=M[se+1]-K,W[ue++]=M[se+2]-K,W[ue++]=ue;O.push(new Pa(W,M[2]-K,n)),z.push(K-N)}}function x(N,R){return(O,z,M)=>{let I=0,P=O.length-1,W,K;if(P>=0&&(W=O[P])instanceof Nr){if(!P&&W.type==N&&W.length==M)return W;(K=W.prop(pt.lookAhead))&&(I=z[P]+W.length+K)}return y(N,O,z,M,I,R)}}function b(N,R,O,z,M,I,P,W,K){let se=[],ue=[];for(;N.length>z;)se.push(N.pop()),ue.push(R.pop()+O-M);N.push(y(n.types[P],se,ue,I-M,W-I,K)),R.push(M-O)}function y(N,R,O,z,M,I,P){if(I){let W=[pt.contextHash,I];P=P?[W].concat(P):[W]}if(M>25){let W=[pt.lookAhead,M];P=P?[W].concat(P):[W]}return new Nr(N,R,O,z,P)}function S(N,R){let O=c.fork(),z=0,M=0,I=0,P=O.end-i,W={size:0,start:0,skip:0};e:for(let K=O.pos-N;O.pos>K;){let se=O.size;if(O.id==R&&se>=0){W.size=z,W.start=M,W.skip=I,I+=4,z+=4,O.next();continue}let ue=O.pos-se;if(se<0||ue<K||O.start<P)break;let ee=O.id>=l?4:0,ie=O.start;for(O.next();O.pos>ue;){if(O.size<0)if(O.size==-3||O.size==-4)ee+=4;else break e;else O.id>=l&&(ee+=4);O.next()}M=ie,z+=se,I+=ee}return(R<0||z==N)&&(W.size=z,W.start=M,W.skip=I),W.size>4?W:void 0}function T(N,R,O){let{id:z,start:M,end:I,size:P}=c;if(c.next(),P>=0&&z<l){let W=O;if(P>4){let K=c.pos-(P-4);for(;c.pos>K;)O=T(N,R,O)}R[--O]=W,R[--O]=I-N,R[--O]=M-N,R[--O]=z}else P==-3?h=z:P==-4&&(d=z);return O}let A=[],C=[];for(;c.pos>0;)m(r.start||0,r.bufferStart||0,A,C,-1,0);let _=(e=r.length)!==null&&e!==void 0?e:A.length?C[0]+A[0].length:0;return new Nr(f[r.topID],A.reverse(),C.reverse(),_)}const _E=new WeakMap;function ed(r,e){if(!r.isAnonymous||e instanceof Pa||e.type!=r)return 1;let t=_E.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=r||!(n instanceof Nr)){t=1;break}t+=ed(r,n)}_E.set(e,t)}return t}function Rv(r,e,t,n,i,s,l,c,f){let h=0;for(let b=n;b<i;b++)h+=ed(r,e[b]);let d=Math.ceil(h*1.5/8),m=[],g=[];function x(b,y,S,T,A){for(let C=S;C<T;){let _=C,N=y[C],R=ed(r,b[C]);for(C++;C<T;C++){let O=ed(r,b[C]);if(R+O>=d)break;R+=O}if(C==_+1){if(R>d){let O=b[_];x(O.children,O.positions,0,O.children.length,y[_]+A);continue}m.push(b[_])}else{let O=y[C-1]+b[C-1].length-N;m.push(Rv(r,b,y,_,C,N,O,null,f))}g.push(N+A-s)}}return x(e,t,n,i,0),(c||f)(m,g,l)}class yl{constructor(e,t,n,i,s=!1,l=!1){this.from=e,this.to=t,this.tree=n,this.offset=i,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],n=!1){let i=[new yl(0,e.length,e,0,!1,n)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,n=128){if(!t.length)return e;let i=[],s=1,l=e.length?e[0]:null;for(let c=0,f=0,h=0;;c++){let d=c<t.length?t[c]:null,m=d?d.fromA:1e9;if(m-f>=n)for(;l&&l.from<m;){let g=l;if(f>=g.from||m<=g.to||h){let x=Math.max(g.from,f)-h,b=Math.min(g.to,m)-h;g=x>=b?null:new yl(x,b,g.tree,g.offset+h,c>0,!!d)}if(g&&i.push(g),l.to>m)break;l=s<e.length?e[s++]:null}if(!d)break;f=d.toA,h=d.toA-d.toB}return i}}class cT{startParse(e,t,n){return typeof e=="string"&&(e=new $P(e)),n=n?n.length?n.map(i=>new cx(i.from,i.to)):[new cx(0,0)]:[new cx(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let i=this.startParse(e,t,n);for(;;){let s=i.advance();if(s)return s}}}class $P{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new pt({perNode:!0});let QP=0;class Ti{constructor(e,t,n,i){this.name=e,this.set=t,this.base=n,this.modified=i,this.id=QP++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n=typeof e=="string"?e:"?";if(e instanceof Ti&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let i=new Ti(n,[],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(e){let t=new Dd(e);return n=>n.modified.indexOf(t)>-1?n:Dd.get(n.base||n,n.modified.concat(t).sort((i,s)=>i.id-s.id))}}let ZP=0;class Dd{constructor(e){this.name=e,this.instances=[],this.id=ZP++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(c=>c.base==e&&JP(t,c.modified));if(n)return n;let i=[],s=new Ti(e.name,i,e,t);for(let c of t)c.instances.push(s);let l=ej(t);for(let c of e.set)if(!c.modified.length)for(let f of l)i.push(Dd.get(c,f));return s}}function JP(r,e){return r.length==e.length&&r.every((t,n)=>t==e[n])}function ej(r){let e=[[]];for(let t=0;t<r.length;t++)for(let n=0,i=e.length;n<i;n++)e.push(e[n].concat(r[t]));return e.sort((t,n)=>n.length-t.length)}function fT(r){let e=Object.create(null);for(let t in r){let n=r[t];Array.isArray(n)||(n=[n]);for(let i of t.split(" "))if(i){let s=[],l=2,c=i;for(let m=0;;){if(c=="..."&&m>0&&m+3==i.length){l=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!g)throw new RangeError("Invalid path: "+i);if(s.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),m+=g[0].length,m==i.length)break;let x=i[m++];if(m==i.length&&x=="!"){l=0;break}if(x!="/")throw new RangeError("Invalid path: "+i);c=i.slice(m)}let f=s.length-1,h=s[f];if(!h)throw new RangeError("Invalid path: "+i);let d=new j0(n,l,f>0?s.slice(0,f):null);e[h]=d.sort(e[h])}}return uT.add(e)}const uT=new pt({combine(r,e){let t,n,i;for(;r||e;){if(!r||e&&r.depth>=e.depth?(i=e,e=e.next):(i=r,r=r.next),t&&t.mode==i.mode&&!i.context&&!t.context)continue;let s=new j0(i.tags,i.mode,i.context);t?t.next=s:n=s,t=s}return n}});class j0{constructor(e,t,n,i){this.tags=e,this.mode=t,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}j0.empty=new j0([],2,null);function hT(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let l of s.tag)t[l.id]=s.class;let{scope:n,all:i=null}=e||{};return{style:s=>{let l=i;for(let c of s)for(let f of c.set){let h=t[f.id];if(h){l=l?l+" "+h:h;break}}return l},scope:n}}function tj(r,e){let t=null;for(let n of r){let i=n.style(e);i&&(t=t?t+" "+i:i)}return t}function rj(r,e,t,n=0,i=r.length){let s=new nj(n,Array.isArray(e)?e:[e],t);s.highlightRange(r.cursor(),n,i,"",s.highlighters),s.flush(i)}class nj{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,i,s){let{type:l,from:c,to:f}=e;if(c>=n||f<=t)return;l.isTop&&(s=this.highlighters.filter(x=>!x.scope||x.scope(l)));let h=i,d=ij(e)||j0.empty,m=tj(s,d.tags);if(m&&(h&&(h+=" "),h+=m,d.mode==1&&(i+=(i?" ":"")+m)),this.startSpan(Math.max(t,c),h),d.opaque)return;let g=e.tree&&e.tree.prop(pt.mounted);if(g&&g.overlay){let x=e.node.enter(g.overlay[0].from+c,1),b=this.highlighters.filter(S=>!S.scope||S.scope(g.tree.type)),y=e.firstChild();for(let S=0,T=c;;S++){let A=S<g.overlay.length?g.overlay[S]:null,C=A?A.from+c:f,_=Math.max(t,T),N=Math.min(n,C);if(_<N&&y)for(;e.from<N&&(this.highlightRange(e,_,N,i,s),this.startSpan(Math.min(N,e.to),h),!(e.to>=C||!e.nextSibling())););if(!A||C>n)break;T=A.to+c,T>t&&(this.highlightRange(x.cursor(),Math.max(t,A.from+c),Math.min(n,T),"",b),this.startSpan(Math.min(n,T),h))}y&&e.parent()}else if(e.firstChild()){g&&(i="");do if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,i,s),this.startSpan(Math.min(n,e.to),h)}while(e.nextSibling());e.parent()}}}function ij(r){let e=r.type.prop(uT);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const He=Ti.define,Zu=He(),Sa=He(),DE=He(Sa),kE=He(Sa),Ea=He(),Ju=He(Ea),fx=He(Ea),ls=He(),ll=He(ls),ns=He(),is=He(),A1=He(),Zc=He(A1),eh=He(),xe={comment:Zu,lineComment:He(Zu),blockComment:He(Zu),docComment:He(Zu),name:Sa,variableName:He(Sa),typeName:DE,tagName:He(DE),propertyName:kE,attributeName:He(kE),className:He(Sa),labelName:He(Sa),namespace:He(Sa),macroName:He(Sa),literal:Ea,string:Ju,docString:He(Ju),character:He(Ju),attributeValue:He(Ju),number:fx,integer:He(fx),float:He(fx),bool:He(Ea),regexp:He(Ea),escape:He(Ea),color:He(Ea),url:He(Ea),keyword:ns,self:He(ns),null:He(ns),atom:He(ns),unit:He(ns),modifier:He(ns),operatorKeyword:He(ns),controlKeyword:He(ns),definitionKeyword:He(ns),moduleKeyword:He(ns),operator:is,derefOperator:He(is),arithmeticOperator:He(is),logicOperator:He(is),bitwiseOperator:He(is),compareOperator:He(is),updateOperator:He(is),definitionOperator:He(is),typeOperator:He(is),controlOperator:He(is),punctuation:A1,separator:He(A1),bracket:Zc,angleBracket:He(Zc),squareBracket:He(Zc),paren:He(Zc),brace:He(Zc),content:ls,heading:ll,heading1:He(ll),heading2:He(ll),heading3:He(ll),heading4:He(ll),heading5:He(ll),heading6:He(ll),contentSeparator:He(ls),list:He(ls),quote:He(ls),emphasis:He(ls),strong:He(ls),link:He(ls),monospace:He(ls),strikethrough:He(ls),inserted:He(),deleted:He(),changed:He(),invalid:He(),meta:eh,documentMeta:He(eh),annotation:He(eh),processingInstruction:He(eh),definition:Ti.defineModifier("definition"),constant:Ti.defineModifier("constant"),function:Ti.defineModifier("function"),standard:Ti.defineModifier("standard"),local:Ti.defineModifier("local"),special:Ti.defineModifier("special")};for(let r in xe){let e=xe[r];e instanceof Ti&&(e.name=r)}hT([{tag:xe.link,class:"tok-link"},{tag:xe.heading,class:"tok-heading"},{tag:xe.emphasis,class:"tok-emphasis"},{tag:xe.strong,class:"tok-strong"},{tag:xe.keyword,class:"tok-keyword"},{tag:xe.atom,class:"tok-atom"},{tag:xe.bool,class:"tok-bool"},{tag:xe.url,class:"tok-url"},{tag:xe.labelName,class:"tok-labelName"},{tag:xe.inserted,class:"tok-inserted"},{tag:xe.deleted,class:"tok-deleted"},{tag:xe.literal,class:"tok-literal"},{tag:xe.string,class:"tok-string"},{tag:xe.number,class:"tok-number"},{tag:[xe.regexp,xe.escape,xe.special(xe.string)],class:"tok-string2"},{tag:xe.variableName,class:"tok-variableName"},{tag:xe.local(xe.variableName),class:"tok-variableName tok-local"},{tag:xe.definition(xe.variableName),class:"tok-variableName tok-definition"},{tag:xe.special(xe.variableName),class:"tok-variableName2"},{tag:xe.definition(xe.propertyName),class:"tok-propertyName tok-definition"},{tag:xe.typeName,class:"tok-typeName"},{tag:xe.namespace,class:"tok-namespace"},{tag:xe.className,class:"tok-className"},{tag:xe.macroName,class:"tok-macroName"},{tag:xe.propertyName,class:"tok-propertyName"},{tag:xe.operator,class:"tok-operator"},{tag:xe.comment,class:"tok-comment"},{tag:xe.meta,class:"tok-meta"},{tag:xe.invalid,class:"tok-invalid"},{tag:xe.punctuation,class:"tok-punctuation"}]);var ux;const _o=new pt;function sj(r){return Ge.define({combine:r?e=>e.concat(r):void 0})}const aj=new pt;class Hi{constructor(e,t,n=[],i=""){this.data=e,this.name=i,Et.prototype.hasOwnProperty("tree")||Object.defineProperty(Et.prototype,"tree",{get(){return Yr(this)}}),this.parser=t,this.extension=[ja.of(this),Et.languageData.of((s,l,c)=>{let f=OE(s,l,c),h=f.type.prop(_o);if(!h)return[];let d=s.facet(h),m=f.type.prop(aj);if(m){let g=f.resolve(l-f.from,c);for(let x of m)if(x.test(g,s)){let b=s.facet(x.facet);return x.type=="replace"?b:b.concat(d)}}return d})].concat(n)}isActiveAt(e,t,n=-1){return OE(e,t,n).type.prop(_o)==this.data}findRegions(e){let t=e.facet(ja);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],i=(s,l)=>{if(s.prop(_o)==this.data){n.push({from:l,to:l+s.length});return}let c=s.prop(pt.mounted);if(c){if(c.tree.prop(_o)==this.data){if(c.overlay)for(let f of c.overlay)n.push({from:f.from+l,to:f.to+l});else n.push({from:l,to:l+s.length});return}else if(c.overlay){let f=n.length;if(i(c.tree,c.overlay[0].from+l),n.length>f)return}}for(let f=0;f<s.children.length;f++){let h=s.children[f];h instanceof Nr&&i(h,s.positions[f]+l)}};return i(Yr(e),0),n}get allowsNesting(){return!0}}Hi.setState=ut.define();function OE(r,e,t){let n=r.facet(ja),i=Yr(r).topNode;if(!n||n.allowsNesting)for(let s=i;s;s=s.enter(e,t,Vr.ExcludeBuffers))s.type.isTop&&(i=s);return i}class kd extends Hi{constructor(e,t,n){super(e,t,[],n),this.parser=t}static define(e){let t=sj(e.languageData);return new kd(t,e.parser.configure({props:[_o.add(n=>n.isTop?t:void 0)]}),e.name)}configure(e,t){return new kd(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Yr(r){let e=r.field(Hi.state,!1);return e?e.tree:Nr.empty}class lj{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let Jc=null;class Od{constructor(e,t,n=[],i,s,l,c,f){this.parser=e,this.state=t,this.fragments=n,this.tree=i,this.treeLen=s,this.viewport=l,this.skipped=c,this.scheduleOn=f,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new Od(e,t,[],Nr.empty,0,n,[],null)}startParse(){return this.parser.startParse(new lj(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Nr.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(yl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(yl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Jc;Jc=this;try{return e()}finally{Jc=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=BE(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:i,treeLen:s,viewport:l,skipped:c}=this;if(this.takeTree(),!e.empty){let f=[];if(e.iterChangedRanges((h,d,m,g)=>f.push({fromA:h,toA:d,fromB:m,toB:g})),n=yl.applyChanges(n,f),i=Nr.empty,s=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){c=[];for(let h of this.skipped){let d=e.mapPos(h.from,1),m=e.mapPos(h.to,-1);d<m&&c.push({from:d,to:m})}}}return new Od(this.parser,t,n,i,s,l,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:i,to:s}=this.skipped[n];i<e.to&&s>e.from&&(this.fragments=BE(this.fragments,i,s),this.skipped.splice(n--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends cT{createParse(t,n,i){let s=i[0].from,l=i[i.length-1].to;return{parsedPos:s,advance(){let f=Jc;if(f){for(let h of i)f.tempSkipped.push(h);e&&(f.scheduleOn=f.scheduleOn?Promise.all([f.scheduleOn,e]):e)}return this.parsedPos=l,new Nr(Wn.none,[],[],l-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Jc}}function BE(r,e,t){return yl.applyChanges(r,[{fromA:e,toA:t,fromB:e,toB:t}])}class Go{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new Go(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=Od.create(e.facet(ja).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new Go(n)}}Hi.state=fn.define({create:Go.init,update(r,e){for(let t of e.effects)if(t.is(Hi.setState))return t.value;return e.startState.facet(ja)!=e.state.facet(ja)?Go.init(e.state):r.apply(e)}});let dT=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(dT=r=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(r,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const hx=typeof navigator<"u"&&(!((ux=navigator.scheduling)===null||ux===void 0)&&ux.isInputPending)?()=>navigator.scheduling.isInputPending():null,oj=Er.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Hi.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Hi.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=dT(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,s=n.field(Hi.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!hx?Math.max(25,e.timeRemaining()-5):1e9),c=s.context.treeLen<i&&n.doc.length>i+1e3,f=s.context.work(()=>hx&&hx()||Date.now()>l,i+(c?0:1e5));this.chunkBudget-=Date.now()-t,(f||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Hi.setState.of(new Go(s.context))})),this.chunkBudget>0&&!(f&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>zn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ja=Ge.define({combine(r){return r.length?r[0]:null},enables:r=>[Hi.state,oj,qe.contentAttributes.compute([r],e=>{let t=e.facet(r);return t&&t.name?{"data-language":t.name}:{}})]});class cj{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const fj=Ge.define(),hp=Ge.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function Bd(r){let e=r.facet(hp);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function z0(r,e){let t="",n=r.tabSize,i=r.facet(hp)[0];if(i=="	"){for(;e>=n;)t+="	",e-=n;i=" "}for(let s=0;s<e;s++)t+=i;return t}function Mv(r,e){r instanceof Et&&(r=new dp(r));for(let n of r.state.facet(fj)){let i=n(r,e);if(i!==void 0)return i}let t=Yr(r.state);return t.length>=e?uj(r,t,e):null}class dp{constructor(e,t={}){this.state=e,this.options=t,this.unit=Bd(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=n.from&&i<=n.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(e,t);return n.slice(e-i,Math.min(n.length,e+100-i))}column(e,t=1){let{text:n,from:i}=this.lineAt(e,t),s=this.countColumn(n,e-i),l=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return l>-1&&(s+=l-this.countColumn(n,n.search(/\S|$/))),s}countColumn(e,t=e.length){return Jo(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let l=s(i);if(l>-1)return l}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const pT=new pt;function uj(r,e,t){let n=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=n.node){let s=[];for(let l=i;l&&!(l.from<n.node.from||l.to>n.node.to||l.from==n.node.from&&l.type==n.node.type);l=l.parent)s.push(l);for(let l=s.length-1;l>=0;l--)n={node:s[l],next:n}}return mT(n,r,t)}function mT(r,e,t){for(let n=r;n;n=n.next){let i=dj(n.node);if(i)return i(Fv.create(e,t,n))}return 0}function hj(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function dj(r){let e=r.type.prop(pT);if(e)return e;let t=r.firstChild,n;if(t&&(n=t.type.prop(pt.closedBy))){let i=r.lastChild,s=i&&n.indexOf(i.name)>-1;return l=>xj(l,!0,1,void 0,s&&!hj(l)?i.from:void 0)}return r.parent==null?pj:null}function pj(){return 0}class Fv extends dp{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new Fv(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(mj(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return mT(this.context.next,this.base,this.pos)}}function mj(r,e){for(let t=e;t;t=t.parent)if(r==t)return!0;return!1}function gj(r){let e=r.node,t=e.childAfter(e.from),n=e.lastChild;if(!t)return null;let i=r.options.simulateBreak,s=r.state.doc.lineAt(t.from),l=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let c=t.to;;){let f=e.childAfter(c);if(!f||f==n)return null;if(!f.type.isSkipped){if(f.from>=l)return null;let h=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+h}}c=f.to}}function xj(r,e,t,n,i){let s=r.textAfter,l=s.match(/^\s*/)[0].length,c=n&&s.slice(l,l+n.length)==n||i==r.pos+l,f=gj(r);return f?c?r.column(f.from):r.column(f.to):r.baseIndent+(c?0:r.unit*t)}function vj({except:r,units:e=1}={}){return t=>{let n=r&&r.test(t.textAfter);return t.baseIndent+(n?0:e*t.unit)}}const yj=200;function bj(){return Et.transactionFilter.of(r=>{if(!r.docChanged||!r.isUserEvent("input.type")&&!r.isUserEvent("input.complete"))return r;let e=r.startState.languageDataAt("indentOnInput",r.startState.selection.main.head);if(!e.length)return r;let t=r.newDoc,{head:n}=r.newSelection.main,i=t.lineAt(n);if(n>i.from+yj)return r;let s=t.sliceString(i.from,n);if(!e.some(h=>h.test(s)))return r;let{state:l}=r,c=-1,f=[];for(let{head:h}of l.selection.ranges){let d=l.doc.lineAt(h);if(d.from==c)continue;c=d.from;let m=Mv(l,d.from);if(m==null)continue;let g=/^\s*/.exec(d.text)[0],x=z0(l,m);g!=x&&f.push({from:d.from,to:d.from+g.length,insert:x})}return f.length?[r,{changes:f,sequential:!0}]:r})}const wj=Ge.define(),gT=new pt;function Sj(r,e,t){let n=Yr(r);if(n.length<t)return null;let i=n.resolveStack(t,1),s=null;for(let l=i;l;l=l.next){let c=l.node;if(c.to<=t||c.from>t)continue;if(s&&c.from<e)break;let f=c.type.prop(gT);if(f&&(c.to<n.length-50||n.length==r.doc.length||!Ej(c))){let h=f(c,r);h&&h.from<=t&&h.from>=e&&h.to>t&&(s=h)}}return s}function Ej(r){let e=r.lastChild;return e&&e.to==r.to&&e.type.isError}function Nd(r,e,t){for(let n of r.facet(wj)){let i=n(r,e,t);if(i)return i}return Sj(r,e,t)}function xT(r,e){let t=e.mapPos(r.from,1),n=e.mapPos(r.to,-1);return t>=n?void 0:{from:t,to:n}}const pp=ut.define({map:xT}),cf=ut.define({map:xT});function vT(r){let e=[];for(let{head:t}of r.state.selection.ranges)e.some(n=>n.from<=t&&n.to>=t)||e.push(r.lineBlockAt(t));return e}const Dl=fn.define({create(){return nt.none},update(r,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,n)=>r=NE(r,t,n)),r=r.map(e.changes);for(let t of e.effects)if(t.is(pp)&&!Cj(r,t.value.from,t.value.to)){let{preparePlaceholder:n}=e.state.facet(wT),i=n?nt.replace({widget:new Bj(n(e.state,t.value))}):RE;r=r.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(cf)&&(r=r.update({filter:(n,i)=>t.value.from!=n||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(r=NE(r,e.selection.main.head)),r},provide:r=>qe.decorations.from(r),toJSON(r,e){let t=[];return r.between(0,e.doc.length,(n,i)=>{t.push(n,i)}),t},fromJSON(r){if(!Array.isArray(r)||r.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<r.length;){let n=r[t++],i=r[t++];if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(RE.range(n,i))}return nt.set(e,!0)}});function NE(r,e,t=e){let n=!1;return r.between(e,t,(i,s)=>{i<t&&s>e&&(n=!0)}),n?r.update({filterFrom:e,filterTo:t,filter:(i,s)=>i>=t||s<=e}):r}function Rd(r,e,t){var n;let i=null;return(n=r.field(Dl,!1))===null||n===void 0||n.between(e,t,(s,l)=>{(!i||i.from>s)&&(i={from:s,to:l})}),i}function Cj(r,e,t){let n=!1;return r.between(e,e,(i,s)=>{i==e&&s==t&&(n=!0)}),n}function yT(r,e){return r.field(Dl,!1)?e:e.concat(ut.appendConfig.of(ST()))}const Aj=r=>{for(let e of vT(r)){let t=Nd(r.state,e.from,e.to);if(t)return r.dispatch({effects:yT(r.state,[pp.of(t),bT(r,t)])}),!0}return!1},Tj=r=>{if(!r.state.field(Dl,!1))return!1;let e=[];for(let t of vT(r)){let n=Rd(r.state,t.from,t.to);n&&e.push(cf.of(n),bT(r,n,!1))}return e.length&&r.dispatch({effects:e}),e.length>0};function bT(r,e,t=!0){let n=r.state.doc.lineAt(e.from).number,i=r.state.doc.lineAt(e.to).number;return qe.announce.of(`${r.state.phrase(t?"Folded lines":"Unfolded lines")} ${n} ${r.state.phrase("to")} ${i}.`)}const _j=r=>{let{state:e}=r,t=[];for(let n=0;n<e.doc.length;){let i=r.lineBlockAt(n),s=Nd(e,i.from,i.to);s&&t.push(pp.of(s)),n=(s?r.lineBlockAt(s.to):i).to+1}return t.length&&r.dispatch({effects:yT(r.state,t)}),!!t.length},Dj=r=>{let e=r.state.field(Dl,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,r.state.doc.length,(n,i)=>{t.push(cf.of({from:n,to:i}))}),r.dispatch({effects:t}),!0},kj=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Aj},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Tj},{key:"Ctrl-Alt-[",run:_j},{key:"Ctrl-Alt-]",run:Dj}],Oj={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},wT=Ge.define({combine(r){return xs(r,Oj)}});function ST(r){return[Dl,Mj]}function ET(r,e){let{state:t}=r,n=t.facet(wT),i=l=>{let c=r.lineBlockAt(r.posAtDOM(l.target)),f=Rd(r.state,c.from,c.to);f&&r.dispatch({effects:cf.of(f)}),l.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(r,i,e);let s=document.createElement("span");return s.textContent=n.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const RE=nt.replace({widget:new class extends Ks{toDOM(r){return ET(r,null)}}});class Bj extends Ks{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return ET(e,this.value)}}const Nj={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class dx extends Xs{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Rj(r={}){let e={...Nj,...r},t=new dx(e,!0),n=new dx(e,!1),i=Er.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(ja)!=l.state.facet(ja)||l.startState.field(Dl,!1)!=l.state.field(Dl,!1)||Yr(l.startState)!=Yr(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let c=new Ws;for(let f of l.viewportLineBlocks){let h=Rd(l.state,f.from,f.to)?n:Nd(l.state,f.from,f.to)?t:null;h&&c.add(f.from,f.from,h)}return c.finish()}}),{domEventHandlers:s}=e;return[i,RP({class:"cm-foldGutter",markers(l){var c;return((c=l.plugin(i))===null||c===void 0?void 0:c.markers)||Tt.empty},initialSpacer(){return new dx(e,!1)},domEventHandlers:{...s,click:(l,c,f)=>{if(s.click&&s.click(l,c,f))return!0;let h=Rd(l.state,c.from,c.to);if(h)return l.dispatch({effects:cf.of(h)}),!0;let d=Nd(l.state,c.from,c.to);return d?(l.dispatch({effects:pp.of(d)}),!0):!1}}}),ST()]}const Mj=qe.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class ff{constructor(e,t){this.specs=e;let n;function i(c){let f=Fa.newName();return(n||(n=Object.create(null)))["."+f]=c,f}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,l=t.scope;this.scope=l instanceof Hi?c=>c.prop(_o)==l.data:l?c=>c==l:void 0,this.style=hT(e.map(c=>({tag:c.tag,class:c.class||i(Object.assign({},c,{tag:null}))})),{all:s}).style,this.module=n?new Fa(n):null,this.themeType=t.themeType}static define(e,t){return new ff(e,t||{})}}const T1=Ge.define(),CT=Ge.define({combine(r){return r.length?[r[0]]:null}});function px(r){let e=r.facet(T1);return e.length?e:r.facet(CT)}function AT(r,e){let t=[Lj],n;return r instanceof ff&&(r.module&&t.push(qe.styleModule.of(r.module)),n=r.themeType),e?.fallback?t.push(CT.of(r)):n?t.push(T1.computeN([qe.darkTheme],i=>i.facet(qe.darkTheme)==(n=="dark")?[r]:[])):t.push(T1.of(r)),t}class Fj{constructor(e){this.markCache=Object.create(null),this.tree=Yr(e.state),this.decorations=this.buildDeco(e,px(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Yr(e.state),n=px(e.state),i=n!=px(e.startState),{viewport:s}=e.view,l=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!i&&t.type==this.tree.type&&l>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return nt.none;let n=new Ws;for(let{from:i,to:s}of e.visibleRanges)rj(this.tree,t,(l,c,f)=>{n.add(l,c,this.markCache[f]||(this.markCache[f]=nt.mark({class:f})))},i,s);return n.finish()}}const Lj=Ll.high(Er.fromClass(Fj,{decorations:r=>r.decorations})),Ij=ff.define([{tag:xe.meta,color:"#404740"},{tag:xe.link,textDecoration:"underline"},{tag:xe.heading,textDecoration:"underline",fontWeight:"bold"},{tag:xe.emphasis,fontStyle:"italic"},{tag:xe.strong,fontWeight:"bold"},{tag:xe.strikethrough,textDecoration:"line-through"},{tag:xe.keyword,color:"#708"},{tag:[xe.atom,xe.bool,xe.url,xe.contentSeparator,xe.labelName],color:"#219"},{tag:[xe.literal,xe.inserted],color:"#164"},{tag:[xe.string,xe.deleted],color:"#a11"},{tag:[xe.regexp,xe.escape,xe.special(xe.string)],color:"#e40"},{tag:xe.definition(xe.variableName),color:"#00f"},{tag:xe.local(xe.variableName),color:"#30a"},{tag:[xe.typeName,xe.namespace],color:"#085"},{tag:xe.className,color:"#167"},{tag:[xe.special(xe.variableName),xe.macroName],color:"#256"},{tag:xe.definition(xe.propertyName),color:"#00c"},{tag:xe.comment,color:"#940"},{tag:xe.invalid,color:"#f00"}]),Pj=qe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),TT=1e4,_T="()[]{}",DT=Ge.define({combine(r){return xs(r,{afterCursor:!0,brackets:_T,maxScanDistance:TT,renderMatch:Hj})}}),jj=nt.mark({class:"cm-matchingBracket"}),zj=nt.mark({class:"cm-nonmatchingBracket"});function Hj(r){let e=[],t=r.matched?jj:zj;return e.push(t.range(r.start.from,r.start.to)),r.end&&e.push(t.range(r.end.from,r.end.to)),e}const Uj=fn.define({create(){return nt.none},update(r,e){if(!e.docChanged&&!e.selection)return r;let t=[],n=e.state.facet(DT);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=us(e.state,i.head,-1,n)||i.head>0&&us(e.state,i.head-1,1,n)||n.afterCursor&&(us(e.state,i.head,1,n)||i.head<e.state.doc.length&&us(e.state,i.head+1,-1,n));s&&(t=t.concat(n.renderMatch(s,e.state)))}return nt.set(t,!0)},provide:r=>qe.decorations.from(r)}),Vj=[Uj,Pj];function qj(r={}){return[DT.of(r),Vj]}const Wj=new pt;function _1(r,e,t){let n=r.prop(e<0?pt.openedBy:pt.closedBy);if(n)return n;if(r.name.length==1){let i=t.indexOf(r.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function D1(r){let e=r.type.prop(Wj);return e?e(r.node):r}function us(r,e,t,n={}){let i=n.maxScanDistance||TT,s=n.brackets||_T,l=Yr(r),c=l.resolveInner(e,t);for(let f=c;f;f=f.parent){let h=_1(f.type,t,s);if(h&&f.from<f.to){let d=D1(f);if(d&&(t>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return Gj(r,e,t,f,d,h,s)}}return Xj(r,e,t,l,c.type,i,s)}function Gj(r,e,t,n,i,s,l){let c=n.parent,f={from:i.from,to:i.to},h=0,d=c?.cursor();if(d&&(t<0?d.childBefore(n.from):d.childAfter(n.to)))do if(t<0?d.to<=n.from:d.from>=n.to){if(h==0&&s.indexOf(d.type.name)>-1&&d.from<d.to){let m=D1(d);return{start:f,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(_1(d.type,t,l))h++;else if(_1(d.type,-t,l)){if(h==0){let m=D1(d);return{start:f,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}h--}}while(t<0?d.prevSibling():d.nextSibling());return{start:f,matched:!1}}function Xj(r,e,t,n,i,s,l){let c=t<0?r.sliceDoc(e-1,e):r.sliceDoc(e,e+1),f=l.indexOf(c);if(f<0||f%2==0!=t>0)return null;let h={from:t<0?e-1:e,to:t>0?e+1:e},d=r.doc.iterRange(e,t>0?r.doc.length:0),m=0;for(let g=0;!d.next().done&&g<=s;){let x=d.value;t<0&&(g+=x.length);let b=e+g*t;for(let y=t>0?0:x.length-1,S=t>0?x.length:-1;y!=S;y+=t){let T=l.indexOf(x[y]);if(!(T<0||n.resolveInner(b+y,1).type!=i))if(T%2==0==t>0)m++;else{if(m==1)return{start:h,end:{from:b+y,to:b+y+1},matched:T>>1==f>>1};m--}}t>0&&(g+=x.length)}return d.done?{start:h,matched:!1}:null}const Yj=Object.create(null),ME=[Wn.none],FE=[],LE=Object.create(null),Kj=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Kj[r]=$j(Yj,e);function mx(r,e){FE.indexOf(r)>-1||(FE.push(r),console.warn(e))}function $j(r,e){let t=[];for(let c of e.split(" ")){let f=[];for(let h of c.split(".")){let d=r[h]||xe[h];d?typeof d=="function"?f.length?f=f.map(d):mx(h,`Modifier ${h} used at start of tag`):f.length?mx(h,`Tag ${h} used as modifier`):f=Array.isArray(d)?d:[d]:mx(h,`Unknown highlighting tag ${h}`)}for(let h of f)t.push(h)}if(!t.length)return 0;let n=e.replace(/ /g,"_"),i=n+" "+t.map(c=>c.id),s=LE[i];if(s)return s.id;let l=LE[i]=Wn.define({id:ME.length,name:n,props:[fT({[n]:t})]});return ME.push(l),l.id}nr.RTL,nr.LTR;const Qj=r=>{let{state:e}=r,t=e.doc.lineAt(e.selection.main.from),n=Iv(r.state,t.from);return n.line?Zj(r):n.block?ez(r):!1};function Lv(r,e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=r(e,t);return i?(n(t.update(i)),!0):!1}}const Zj=Lv(nz,0),Jj=Lv(kT,0),ez=Lv((r,e)=>kT(r,e,rz(e)),0);function Iv(r,e){let t=r.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const e0=50;function tz(r,{open:e,close:t},n,i){let s=r.sliceDoc(n-e0,n),l=r.sliceDoc(i,i+e0),c=/\s*$/.exec(s)[0].length,f=/^\s*/.exec(l)[0].length,h=s.length-c;if(s.slice(h-e.length,h)==e&&l.slice(f,f+t.length)==t)return{open:{pos:n-c,margin:c&&1},close:{pos:i+f,margin:f&&1}};let d,m;i-n<=2*e0?d=m=r.sliceDoc(n,i):(d=r.sliceDoc(n,n+e0),m=r.sliceDoc(i-e0,i));let g=/^\s*/.exec(d)[0].length,x=/\s*$/.exec(m)[0].length,b=m.length-x-t.length;return d.slice(g,g+e.length)==e&&m.slice(b,b+t.length)==t?{open:{pos:n+g+e.length,margin:/\s/.test(d.charAt(g+e.length))?1:0},close:{pos:i-x-t.length,margin:/\s/.test(m.charAt(b-1))?1:0}}:null}function rz(r){let e=[];for(let t of r.selection.ranges){let n=r.doc.lineAt(t.from),i=t.to<=n.to?n:r.doc.lineAt(t.to);i.from>n.from&&i.from==t.to&&(i=t.to==n.to+1?n:r.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>n.from?e[s].to=i.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:i.to})}return e}function kT(r,e,t=e.selection.ranges){let n=t.map(s=>Iv(e,s.from).block);if(!n.every(s=>s))return null;let i=t.map((s,l)=>tz(e,n[l],s.from,s.to));if(r!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,l)=>i[l]?[]:[{from:s.from,insert:n[l].open+" "},{from:s.to,insert:" "+n[l].close}]))};if(r!=1&&i.some(s=>s)){let s=[];for(let l=0,c;l<i.length;l++)if(c=i[l]){let f=n[l],{open:h,close:d}=c;s.push({from:h.pos-f.open.length,to:h.pos+h.margin},{from:d.pos-d.margin,to:d.pos+f.close.length})}return{changes:s}}return null}function nz(r,e,t=e.selection.ranges){let n=[],i=-1;for(let{from:s,to:l}of t){let c=n.length,f=1e9,h=Iv(e,s).line;if(h){for(let d=s;d<=l;){let m=e.doc.lineAt(d);if(m.from>i&&(s==l||l>m.from)){i=m.from;let g=/^\s*/.exec(m.text)[0].length,x=g==m.length,b=m.text.slice(g,g+h.length)==h?g:-1;g<m.text.length&&g<f&&(f=g),n.push({line:m,comment:b,token:h,indent:g,empty:x,single:!1})}d=m.to+1}if(f<1e9)for(let d=c;d<n.length;d++)n[d].indent<n[d].line.text.length&&(n[d].indent=f);n.length==c+1&&(n[c].single=!0)}}if(r!=2&&n.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:c,token:f,indent:h,empty:d,single:m}of n)(m||!d)&&s.push({from:c.from+h,insert:f+" "});let l=e.changes(s);return{changes:l,selection:e.selection.map(l,1)}}else if(r!=1&&n.some(s=>s.comment>=0)){let s=[];for(let{line:l,comment:c,token:f}of n)if(c>=0){let h=l.from+c,d=h+f.length;l.text[d-l.from]==" "&&d++,s.push({from:h,to:d})}return{changes:s}}return null}const k1=gs.define(),iz=gs.define(),sz=Ge.define(),OT=Ge.define({combine(r){return xs(r,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,i)=>e(n,i)||t(n,i)})}}),BT=fn.define({create(){return hs.empty},update(r,e){let t=e.state.facet(OT),n=e.annotation(k1);if(n){let f=Hn.fromTransaction(e,n.selection),h=n.side,d=h==0?r.undone:r.done;return f?d=Md(d,d.length,t.minDepth,f):d=MT(d,e.startState.selection),new hs(h==0?n.rest:d,h==0?d:n.rest)}let i=e.annotation(iz);if((i=="full"||i=="before")&&(r=r.isolate()),e.annotation(jr.addToHistory)===!1)return e.changes.empty?r:r.addMapping(e.changes.desc);let s=Hn.fromTransaction(e),l=e.annotation(jr.time),c=e.annotation(jr.userEvent);return s?r=r.addChanges(s,l,c,t,e):e.selection&&(r=r.addSelection(e.startState.selection,l,c,t.newGroupDelay)),(i=="full"||i=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(e=>e.toJSON()),undone:r.undone.map(e=>e.toJSON())}},fromJSON(r){return new hs(r.done.map(Hn.fromJSON),r.undone.map(Hn.fromJSON))}});function az(r={}){return[BT,OT.of(r),qe.domEventHandlers({beforeinput(e,t){let n=e.inputType=="historyUndo"?NT:e.inputType=="historyRedo"?O1:null;return n?(e.preventDefault(),n(t)):!1}})]}function mp(r,e){return function({state:t,dispatch:n}){if(!e&&t.readOnly)return!1;let i=t.field(BT,!1);if(!i)return!1;let s=i.pop(r,t,e);return s?(n(s),!0):!1}}const NT=mp(0,!1),O1=mp(1,!1),lz=mp(0,!0),oz=mp(1,!0);class Hn{constructor(e,t,n,i,s){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new Hn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Hn(e.changes&&Ir.fromJSON(e.changes),[],e.mapped&&ds.fromJSON(e.mapped),e.startSelection&&_e.fromJSON(e.startSelection),e.selectionsAfter.map(_e.fromJSON))}static fromTransaction(e,t){let n=_i;for(let i of e.startState.facet(sz)){let s=i(e);s.length&&(n=n.concat(s))}return!n.length&&e.changes.empty?null:new Hn(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,_i)}static selection(e){return new Hn(void 0,_i,void 0,void 0,e)}}function Md(r,e,t,n){let i=e+1>t+20?e-t-1:0,s=r.slice(i,e);return s.push(n),s}function cz(r,e){let t=[],n=!1;return r.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,l,c)=>{for(let f=0;f<t.length;){let h=t[f++],d=t[f++];c>=h&&l<=d&&(n=!0)}}),n}function fz(r,e){return r.ranges.length==e.ranges.length&&r.ranges.filter((t,n)=>t.empty!=e.ranges[n].empty).length===0}function RT(r,e){return r.length?e.length?r.concat(e):r:e}const _i=[],uz=200;function MT(r,e){if(r.length){let t=r[r.length-1],n=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-uz));return n.length&&n[n.length-1].eq(e)?r:(n.push(e),Md(r,r.length-1,1e9,t.setSelAfter(n)))}else return[Hn.selection([e])]}function hz(r){let e=r[r.length-1],t=r.slice();return t[r.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function gx(r,e){if(!r.length)return r;let t=r.length,n=_i;for(;t;){let i=dz(r[t-1],e,n);if(i.changes&&!i.changes.empty||i.effects.length){let s=r.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,n=i.selectionsAfter}return n.length?[Hn.selection(n)]:_i}function dz(r,e,t){let n=RT(r.selectionsAfter.length?r.selectionsAfter.map(c=>c.map(e)):_i,t);if(!r.changes)return Hn.selection(n);let i=r.changes.map(e),s=e.mapDesc(r.changes,!0),l=r.mapped?r.mapped.composeDesc(s):s;return new Hn(i,ut.mapEffects(r.effects,e),l,r.startSelection.map(s),n)}const pz=/^(input\.type|delete)($|\.)/;class hs{constructor(e,t,n=0,i=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new hs(this.done,this.undone):this}addChanges(e,t,n,i,s){let l=this.done,c=l[l.length-1];return c&&c.changes&&!c.changes.empty&&e.changes&&(!n||pz.test(n))&&(!c.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,cz(c.changes,e.changes))||n=="input.type.compose")?l=Md(l,l.length-1,i.minDepth,new Hn(e.changes.compose(c.changes),RT(ut.mapEffects(e.effects,c.changes),c.effects),c.mapped,c.startSelection,_i)):l=Md(l,l.length,i.minDepth,e),new hs(l,_i,t,n)}addSelection(e,t,n,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:_i;return s.length>0&&t-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&fz(s[s.length-1],e)?this:new hs(MT(this.done,e),this.undone,t,n)}addMapping(e){return new hs(gx(this.done,e),gx(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],l=s.selectionsAfter[0]||t.selection;if(n&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:k1.of({side:e,rest:hz(i),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let c=i.length==1?_i:i.slice(0,i.length-1);return s.mapped&&(c=gx(c,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:k1.of({side:e,rest:c,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}hs.empty=new hs(_i,_i);const mz=[{key:"Mod-z",run:NT,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:O1,preventDefault:!0},{linux:"Ctrl-Shift-z",run:O1,preventDefault:!0},{key:"Mod-u",run:lz,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:oz,preventDefault:!0}];function ec(r,e){return _e.create(r.ranges.map(e),r.mainIndex)}function Xi(r,e){return r.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Yi({state:r,dispatch:e},t){let n=ec(r.selection,t);return n.eq(r.selection,!0)?!1:(e(Xi(r,n)),!0)}function gp(r,e){return _e.cursor(e?r.to:r.from)}function FT(r,e){return Yi(r,t=>t.empty?r.moveByChar(t,e):gp(t,e))}function xn(r){return r.textDirectionAt(r.state.selection.main.head)==nr.LTR}const LT=r=>FT(r,!xn(r)),IT=r=>FT(r,xn(r));function PT(r,e){return Yi(r,t=>t.empty?r.moveByGroup(t,e):gp(t,e))}const gz=r=>PT(r,!xn(r)),xz=r=>PT(r,xn(r));function vz(r,e,t){if(e.type.prop(t))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(r.sliceDoc(e.from,e.to)))||e.firstChild}function xp(r,e,t){let n=Yr(r).resolveInner(e.head),i=t?pt.closedBy:pt.openedBy;for(let f=e.head;;){let h=t?n.childAfter(f):n.childBefore(f);if(!h)break;vz(r,h,i)?n=h:f=t?h.to:h.from}let s=n.type.prop(i),l,c;return s&&(l=t?us(r,n.from,1):us(r,n.to,-1))&&l.matched?c=t?l.end.to:l.end.from:c=t?n.to:n.from,_e.cursor(c,t?-1:1)}const yz=r=>Yi(r,e=>xp(r.state,e,!xn(r))),bz=r=>Yi(r,e=>xp(r.state,e,xn(r)));function jT(r,e){return Yi(r,t=>{if(!t.empty)return gp(t,e);let n=r.moveVertically(t,e);return n.head!=t.head?n:r.moveToLineBoundary(t,e)})}const zT=r=>jT(r,!1),HT=r=>jT(r,!0);function UT(r){let e=r.scrollDOM.clientHeight<r.scrollDOM.scrollHeight-2,t=0,n=0,i;if(e){for(let s of r.state.facet(qe.scrollMargins)){let l=s(r);l?.top&&(t=Math.max(l?.top,t)),l?.bottom&&(n=Math.max(l?.bottom,n))}i=r.scrollDOM.clientHeight-t-n}else i=(r.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:n,selfScroll:e,height:Math.max(r.defaultLineHeight,i-5)}}function VT(r,e){let t=UT(r),{state:n}=r,i=ec(n.selection,l=>l.empty?r.moveVertically(l,e,t.height):gp(l,e));if(i.eq(n.selection))return!1;let s;if(t.selfScroll){let l=r.coordsAtPos(n.selection.main.head),c=r.scrollDOM.getBoundingClientRect(),f=c.top+t.marginTop,h=c.bottom-t.marginBottom;l&&l.top>f&&l.bottom<h&&(s=qe.scrollIntoView(i.main.head,{y:"start",yMargin:l.top-f}))}return r.dispatch(Xi(n,i),{effects:s}),!0}const IE=r=>VT(r,!1),B1=r=>VT(r,!0);function Va(r,e,t){let n=r.lineBlockAt(e.head),i=r.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?n.to:n.from)&&(i=r.moveToLineBoundary(e,t,!1)),!t&&i.head==n.from&&n.length){let s=/^\s*/.exec(r.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;s&&e.head!=n.from+s&&(i=_e.cursor(n.from+s))}return i}const wz=r=>Yi(r,e=>Va(r,e,!0)),Sz=r=>Yi(r,e=>Va(r,e,!1)),Ez=r=>Yi(r,e=>Va(r,e,!xn(r))),Cz=r=>Yi(r,e=>Va(r,e,xn(r))),Az=r=>Yi(r,e=>_e.cursor(r.lineBlockAt(e.head).from,1)),Tz=r=>Yi(r,e=>_e.cursor(r.lineBlockAt(e.head).to,-1));function _z(r,e,t){let n=!1,i=ec(r.selection,s=>{let l=us(r,s.head,-1)||us(r,s.head,1)||s.head>0&&us(r,s.head-1,1)||s.head<r.doc.length&&us(r,s.head+1,-1);if(!l||!l.end)return s;n=!0;let c=l.start.from==s.head?l.end.to:l.end.from;return _e.cursor(c)});return n?(e(Xi(r,i)),!0):!1}const Dz=({state:r,dispatch:e})=>_z(r,e);function Ri(r,e){let t=ec(r.state.selection,n=>{let i=e(n);return _e.range(n.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(r.state.selection)?!1:(r.dispatch(Xi(r.state,t)),!0)}function qT(r,e){return Ri(r,t=>r.moveByChar(t,e))}const WT=r=>qT(r,!xn(r)),GT=r=>qT(r,xn(r));function XT(r,e){return Ri(r,t=>r.moveByGroup(t,e))}const kz=r=>XT(r,!xn(r)),Oz=r=>XT(r,xn(r)),Bz=r=>Ri(r,e=>xp(r.state,e,!xn(r))),Nz=r=>Ri(r,e=>xp(r.state,e,xn(r)));function YT(r,e){return Ri(r,t=>r.moveVertically(t,e))}const KT=r=>YT(r,!1),$T=r=>YT(r,!0);function QT(r,e){return Ri(r,t=>r.moveVertically(t,e,UT(r).height))}const PE=r=>QT(r,!1),jE=r=>QT(r,!0),Rz=r=>Ri(r,e=>Va(r,e,!0)),Mz=r=>Ri(r,e=>Va(r,e,!1)),Fz=r=>Ri(r,e=>Va(r,e,!xn(r))),Lz=r=>Ri(r,e=>Va(r,e,xn(r))),Iz=r=>Ri(r,e=>_e.cursor(r.lineBlockAt(e.head).from)),Pz=r=>Ri(r,e=>_e.cursor(r.lineBlockAt(e.head).to)),zE=({state:r,dispatch:e})=>(e(Xi(r,{anchor:0})),!0),HE=({state:r,dispatch:e})=>(e(Xi(r,{anchor:r.doc.length})),!0),UE=({state:r,dispatch:e})=>(e(Xi(r,{anchor:r.selection.main.anchor,head:0})),!0),VE=({state:r,dispatch:e})=>(e(Xi(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),jz=({state:r,dispatch:e})=>(e(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),zz=({state:r,dispatch:e})=>{let t=vp(r).map(({from:n,to:i})=>_e.range(n,Math.min(i+1,r.doc.length)));return e(r.update({selection:_e.create(t),userEvent:"select"})),!0},Hz=({state:r,dispatch:e})=>{let t=ec(r.selection,n=>{let i=Yr(r),s=i.resolveStack(n.from,1);if(n.empty){let l=i.resolveStack(n.from,-1);l.node.from>=s.node.from&&l.node.to<=s.node.to&&(s=l)}for(let l=s;l;l=l.next){let{node:c}=l;if((c.from<n.from&&c.to>=n.to||c.to>n.to&&c.from<=n.from)&&l.next)return _e.range(c.to,c.from)}return n});return t.eq(r.selection)?!1:(e(Xi(r,t)),!0)};function ZT(r,e){let{state:t}=r,n=t.selection,i=t.selection.ranges.slice();for(let s of t.selection.ranges){let l=t.doc.lineAt(s.head);if(e?l.to<r.state.doc.length:l.from>0)for(let c=s;;){let f=r.moveVertically(c,e);if(f.head<l.from||f.head>l.to){i.some(h=>h.head==f.head)||i.push(f);break}else{if(f.head==c.head)break;c=f}}}return i.length==n.ranges.length?!1:(r.dispatch(Xi(t,_e.create(i,i.length-1))),!0)}const Uz=r=>ZT(r,!1),Vz=r=>ZT(r,!0),qz=({state:r,dispatch:e})=>{let t=r.selection,n=null;return t.ranges.length>1?n=_e.create([t.main]):t.main.empty||(n=_e.create([_e.cursor(t.main.head)])),n?(e(Xi(r,n)),!0):!1};function uf(r,e){if(r.state.readOnly)return!1;let t="delete.selection",{state:n}=r,i=n.changeByRange(s=>{let{from:l,to:c}=s;if(l==c){let f=e(s);f<l?(t="delete.backward",f=th(r,f,!1)):f>l&&(t="delete.forward",f=th(r,f,!0)),l=Math.min(l,f),c=Math.max(c,f)}else l=th(r,l,!1),c=th(r,c,!0);return l==c?{range:s}:{changes:{from:l,to:c},range:_e.cursor(l,l<s.head?-1:1)}});return i.changes.empty?!1:(r.dispatch(n.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?qe.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function th(r,e,t){if(r instanceof qe)for(let n of r.state.facet(qe.atomicRanges).map(i=>i(r)))n.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const JT=(r,e,t)=>uf(r,n=>{let i=n.from,{state:s}=r,l=s.doc.lineAt(i),c,f;if(t&&!e&&i>l.from&&i<l.from+200&&!/[^ \t]/.test(c=l.text.slice(0,i-l.from))){if(c[c.length-1]=="	")return i-1;let h=Jo(c,s.tabSize),d=h%Bd(s)||Bd(s);for(let m=0;m<d&&c[c.length-1-m]==" ";m++)i--;f=i}else f=ln(l.text,i-l.from,e,e)+l.from,f==i&&l.number!=(e?s.doc.lines:1)?f+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(f-l.from,i-l.from))&&(f=ln(l.text,f-l.from,!1,!1)+l.from);return f}),N1=r=>JT(r,!1,!0),e6=r=>JT(r,!0,!1),t6=(r,e)=>uf(r,t=>{let n=t.head,{state:i}=r,s=i.doc.lineAt(n),l=i.charCategorizer(n);for(let c=null;;){if(n==(e?s.to:s.from)){n==t.head&&s.number!=(e?i.doc.lines:1)&&(n+=e?1:-1);break}let f=ln(s.text,n-s.from,e)+s.from,h=s.text.slice(Math.min(n,f)-s.from,Math.max(n,f)-s.from),d=l(h);if(c!=null&&d!=c)break;(h!=" "||n!=t.head)&&(c=d),n=f}return n}),r6=r=>t6(r,!1),Wz=r=>t6(r,!0),Gz=r=>uf(r,e=>{let t=r.lineBlockAt(e.head).to;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),Xz=r=>uf(r,e=>{let t=r.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),Yz=r=>uf(r,e=>{let t=r.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),Kz=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:_t.of(["",""])},range:_e.cursor(n.from)}));return e(r.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},$z=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(n=>{if(!n.empty||n.from==0||n.from==r.doc.length)return{range:n};let i=n.from,s=r.doc.lineAt(i),l=i==s.from?i-1:ln(s.text,i-s.from,!1)+s.from,c=i==s.to?i+1:ln(s.text,i-s.from,!0)+s.from;return{changes:{from:l,to:c,insert:r.doc.slice(i,c).append(r.doc.slice(l,i))},range:_e.cursor(c)}});return t.changes.empty?!1:(e(r.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function vp(r){let e=[],t=-1;for(let n of r.selection.ranges){let i=r.doc.lineAt(n.from),s=r.doc.lineAt(n.to);if(!n.empty&&n.to==s.from&&(s=r.doc.lineAt(n.to-1)),t>=i.number){let l=e[e.length-1];l.to=s.to,l.ranges.push(n)}else e.push({from:i.from,to:s.to,ranges:[n]});t=s.number+1}return e}function n6(r,e,t){if(r.readOnly)return!1;let n=[],i=[];for(let s of vp(r)){if(t?s.to==r.doc.length:s.from==0)continue;let l=r.doc.lineAt(t?s.to+1:s.from-1),c=l.length+1;if(t){n.push({from:s.to,to:l.to},{from:s.from,insert:l.text+r.lineBreak});for(let f of s.ranges)i.push(_e.range(Math.min(r.doc.length,f.anchor+c),Math.min(r.doc.length,f.head+c)))}else{n.push({from:l.from,to:s.from},{from:s.to,insert:r.lineBreak+l.text});for(let f of s.ranges)i.push(_e.range(f.anchor-c,f.head-c))}}return n.length?(e(r.update({changes:n,scrollIntoView:!0,selection:_e.create(i,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Qz=({state:r,dispatch:e})=>n6(r,e,!1),Zz=({state:r,dispatch:e})=>n6(r,e,!0);function i6(r,e,t){if(r.readOnly)return!1;let n=[];for(let i of vp(r))t?n.push({from:i.from,insert:r.doc.slice(i.from,i.to)+r.lineBreak}):n.push({from:i.to,insert:r.lineBreak+r.doc.slice(i.from,i.to)});return e(r.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Jz=({state:r,dispatch:e})=>i6(r,e,!1),eH=({state:r,dispatch:e})=>i6(r,e,!0),tH=r=>{if(r.state.readOnly)return!1;let{state:e}=r,t=e.changes(vp(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),n=ec(e.selection,i=>{let s;if(r.lineWrapping){let l=r.lineBlockAt(i.head),c=r.coordsAtPos(i.head,i.assoc||1);c&&(s=l.bottom+r.documentTop-c.bottom+r.defaultLineHeight/2)}return r.moveVertically(i,!0,s)}).map(t);return r.dispatch({changes:t,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function rH(r,e){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Yr(r).resolveInner(e),n=t.childBefore(e),i=t.childAfter(e),s;return n&&i&&n.to<=e&&i.from>=e&&(s=n.type.prop(pt.closedBy))&&s.indexOf(i.name)>-1&&r.doc.lineAt(n.to).from==r.doc.lineAt(i.from).from&&!/\S/.test(r.sliceDoc(n.to,i.from))?{from:n.to,to:i.from}:null}const qE=s6(!1),nH=s6(!0);function s6(r){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(i=>{let{from:s,to:l}=i,c=e.doc.lineAt(s),f=!r&&s==l&&rH(e,s);r&&(s=l=(l<=c.to?c:e.doc.lineAt(l)).to);let h=new dp(e,{simulateBreak:s,simulateDoubleBreak:!!f}),d=Mv(h,s);for(d==null&&(d=Jo(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));l<c.to&&/\s/.test(c.text[l-c.from]);)l++;f?{from:s,to:l}=f:s>c.from&&s<c.from+100&&!/\S/.test(c.text.slice(0,s))&&(s=c.from);let m=["",z0(e,d)];return f&&m.push(z0(e,h.lineIndent(c.from,-1))),{changes:{from:s,to:l,insert:_t.of(m)},range:_e.cursor(s+1+m[1].length)}});return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function Pv(r,e){let t=-1;return r.changeByRange(n=>{let i=[];for(let l=n.from;l<=n.to;){let c=r.doc.lineAt(l);c.number>t&&(n.empty||n.to>c.from)&&(e(c,i,n),t=c.number),l=c.to+1}let s=r.changes(i);return{changes:i,range:_e.range(s.mapPos(n.anchor,1),s.mapPos(n.head,1))}})}const iH=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=Object.create(null),n=new dp(r,{overrideIndentation:s=>{let l=t[s];return l??-1}}),i=Pv(r,(s,l,c)=>{let f=Mv(n,s.from);if(f==null)return;/\S/.test(s.text)||(f=0);let h=/^\s*/.exec(s.text)[0],d=z0(r,f);(h!=d||c.from<s.from+h.length)&&(t[s.from]=f,l.push({from:s.from,to:s.from+h.length,insert:d}))});return i.changes.empty||e(r.update(i,{userEvent:"indent"})),!0},a6=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(Pv(r,(t,n)=>{n.push({from:t.from,insert:r.facet(hp)})}),{userEvent:"input.indent"})),!0),l6=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(Pv(r,(t,n)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=Jo(i,r.tabSize),l=0,c=z0(r,Math.max(0,s-Bd(r)));for(;l<i.length&&l<c.length&&i.charCodeAt(l)==c.charCodeAt(l);)l++;n.push({from:t.from+l,to:t.from+i.length,insert:c.slice(l)})}),{userEvent:"delete.dedent"})),!0),sH=r=>(r.setTabFocusMode(),!0),aH=[{key:"Ctrl-b",run:LT,shift:WT,preventDefault:!0},{key:"Ctrl-f",run:IT,shift:GT},{key:"Ctrl-p",run:zT,shift:KT},{key:"Ctrl-n",run:HT,shift:$T},{key:"Ctrl-a",run:Az,shift:Iz},{key:"Ctrl-e",run:Tz,shift:Pz},{key:"Ctrl-d",run:e6},{key:"Ctrl-h",run:N1},{key:"Ctrl-k",run:Gz},{key:"Ctrl-Alt-h",run:r6},{key:"Ctrl-o",run:Kz},{key:"Ctrl-t",run:$z},{key:"Ctrl-v",run:B1}],lH=[{key:"ArrowLeft",run:LT,shift:WT,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:gz,shift:kz,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Ez,shift:Fz,preventDefault:!0},{key:"ArrowRight",run:IT,shift:GT,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:xz,shift:Oz,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Cz,shift:Lz,preventDefault:!0},{key:"ArrowUp",run:zT,shift:KT,preventDefault:!0},{mac:"Cmd-ArrowUp",run:zE,shift:UE},{mac:"Ctrl-ArrowUp",run:IE,shift:PE},{key:"ArrowDown",run:HT,shift:$T,preventDefault:!0},{mac:"Cmd-ArrowDown",run:HE,shift:VE},{mac:"Ctrl-ArrowDown",run:B1,shift:jE},{key:"PageUp",run:IE,shift:PE},{key:"PageDown",run:B1,shift:jE},{key:"Home",run:Sz,shift:Mz,preventDefault:!0},{key:"Mod-Home",run:zE,shift:UE},{key:"End",run:wz,shift:Rz,preventDefault:!0},{key:"Mod-End",run:HE,shift:VE},{key:"Enter",run:qE,shift:qE},{key:"Mod-a",run:jz},{key:"Backspace",run:N1,shift:N1,preventDefault:!0},{key:"Delete",run:e6,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:r6,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:Wz,preventDefault:!0},{mac:"Mod-Backspace",run:Xz,preventDefault:!0},{mac:"Mod-Delete",run:Yz,preventDefault:!0}].concat(aH.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),oH=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:yz,shift:Bz},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:bz,shift:Nz},{key:"Alt-ArrowUp",run:Qz},{key:"Shift-Alt-ArrowUp",run:Jz},{key:"Alt-ArrowDown",run:Zz},{key:"Shift-Alt-ArrowDown",run:eH},{key:"Mod-Alt-ArrowUp",run:Uz},{key:"Mod-Alt-ArrowDown",run:Vz},{key:"Escape",run:qz},{key:"Mod-Enter",run:nH},{key:"Alt-l",mac:"Ctrl-l",run:zz},{key:"Mod-i",run:Hz,preventDefault:!0},{key:"Mod-[",run:l6},{key:"Mod-]",run:a6},{key:"Mod-Alt-\\",run:iH},{key:"Shift-Mod-k",run:tH},{key:"Shift-Mod-\\",run:Dz},{key:"Mod-/",run:Qj},{key:"Alt-A",run:Jj},{key:"Ctrl-m",mac:"Shift-Alt-m",run:sH}].concat(lH),cH={key:"Tab",run:a6,shift:l6},WE=typeof String.prototype.normalize=="function"?r=>r.normalize("NFKD"):r=>r;class Xo{constructor(e,t,n=0,i=e.length,s,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,i),this.bufferStart=n,this.normalize=s?c=>s(WE(c)):WE,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Pn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=mv(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=cs(e);let i=this.normalize(t);if(i.length)for(let s=0,l=n;;s++){let c=i.charCodeAt(s),f=this.match(c,l,this.bufferPos+this.bufferStart);if(s==i.length-1){if(f)return this.value=f,this;break}l==n&&s<t.length&&t.charCodeAt(s)==c&&l++}}}match(e,t,n){let i=null;for(let s=0;s<this.matches.length;s+=2){let l=this.matches[s],c=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?i={from:this.matches[s+1],to:n}:(this.matches[s]++,c=!0)),c||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:n}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Xo.prototype[Symbol.iterator]=function(){return this});const o6={from:-1,to:-1,match:/.*/.exec("")},jv="gm"+(/x/.unicode==null?"":"u");class c6{constructor(e,t,n,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=o6,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new f6(e,t,n,i,s);this.re=new RegExp(t,jv+(n?.ignoreCase?"i":"")),this.test=n?.test,this.iter=e.iter();let l=e.lineAt(i);this.curLineStart=l.from,this.matchPos=Fd(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,i=n+t[0].length;if(this.matchPos=Fd(this.text,i+(n==i?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<i||n>this.value.to)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const xx=new WeakMap;class Lo{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let i=xx.get(e);if(!i||i.from>=n||i.to<=t){let c=new Lo(t,e.sliceString(t,n));return xx.set(e,c),c}if(i.from==t&&i.to==n)return i;let{text:s,from:l}=i;return l>t&&(s=e.sliceString(t,l)+s,l=t),i.to<n&&(s+=e.sliceString(i.to,n)),xx.set(e,new Lo(l,s)),new Lo(t,s.slice(t-l,n-l))}}class f6{constructor(e,t,n,i,s){this.text=e,this.to=s,this.done=!1,this.value=o6,this.matchPos=Fd(e,i),this.re=new RegExp(t,jv+(n?.ignoreCase?"i":"")),this.test=n?.test,this.flat=Lo.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let n=this.flat.from+t.index,i=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this.matchPos=Fd(this.text,i+(n==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Lo.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(c6.prototype[Symbol.iterator]=f6.prototype[Symbol.iterator]=function(){return this});function fH(r){try{return new RegExp(r,jv),!0}catch{return!1}}function Fd(r,e){if(e>=r.length)return e;let t=r.lineAt(e),n;for(;e<t.to&&(n=t.text.charCodeAt(e-t.from))>=56320&&n<57344;)e++;return e}function R1(r){let e=String(r.state.doc.lineAt(r.state.selection.main.head).number),t=Kt("input",{class:"cm-textfield",name:"line",value:e}),n=Kt("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),r.dispatch({effects:y0.of(!1)}),r.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},Kt("label",r.state.phrase("Go to line"),": ",t)," ",Kt("button",{class:"cm-button",type:"submit"},r.state.phrase("go")),Kt("button",{name:"close",onclick:()=>{r.dispatch({effects:y0.of(!1)}),r.focus()},"aria-label":r.state.phrase("close"),type:"button"},[""]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:l}=r,c=l.doc.lineAt(l.selection.main.head),[,f,h,d,m]=s,g=d?+d.slice(1):0,x=h?+h:c.number;if(h&&m){let S=x/100;f&&(S=S*(f=="-"?-1:1)+c.number/l.doc.lines),x=Math.round(l.doc.lines*S)}else h&&f&&(x=x*(f=="-"?-1:1)+c.number);let b=l.doc.line(Math.max(1,Math.min(l.doc.lines,x))),y=_e.cursor(b.from+Math.max(0,Math.min(g,b.length)));r.dispatch({effects:[y0.of(!1),qe.scrollIntoView(y.from,{y:"center"})],selection:y}),r.focus()}return{dom:n}}const y0=ut.define(),GE=fn.define({create(){return!0},update(r,e){for(let t of e.effects)t.is(y0)&&(r=t.value);return r},provide:r=>I0.from(r,e=>e?R1:null)}),uH=r=>{let e=L0(r,R1);if(!e){let t=[y0.of(!0)];r.state.field(GE,!1)==null&&t.push(ut.appendConfig.of([GE,hH])),r.dispatch({effects:t}),e=L0(r,R1)}return e&&e.dom.querySelector("input").select(),!0},hH=qe.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),dH={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},pH=Ge.define({combine(r){return xs(r,dH,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function mH(r){return[bH,yH]}const gH=nt.mark({class:"cm-selectionMatch"}),xH=nt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function XE(r,e,t,n){return(t==0||r(e.sliceDoc(t-1,t))!=cr.Word)&&(n==e.doc.length||r(e.sliceDoc(n,n+1))!=cr.Word)}function vH(r,e,t,n){return r(e.sliceDoc(t,t+1))==cr.Word&&r(e.sliceDoc(n-1,n))==cr.Word}const yH=Er.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.selectionSet||r.docChanged||r.viewportChanged)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=r.state.facet(pH),{state:t}=r,n=t.selection;if(n.ranges.length>1)return nt.none;let i=n.main,s,l=null;if(i.empty){if(!e.highlightWordAroundCursor)return nt.none;let f=t.wordAt(i.head);if(!f)return nt.none;l=t.charCategorizer(i.head),s=t.sliceDoc(f.from,f.to)}else{let f=i.to-i.from;if(f<e.minSelectionLength||f>200)return nt.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),l=t.charCategorizer(i.head),!(XE(l,t,i.from,i.to)&&vH(l,t,i.from,i.to)))return nt.none}else if(s=t.sliceDoc(i.from,i.to),!s)return nt.none}let c=[];for(let f of r.visibleRanges){let h=new Xo(t.doc,s,f.from,f.to);for(;!h.next().done;){let{from:d,to:m}=h.value;if((!l||XE(l,t,d,m))&&(i.empty&&d<=i.from&&m>=i.to?c.push(xH.range(d,m)):(d>=i.to||m<=i.from)&&c.push(gH.range(d,m)),c.length>e.maxMatches))return nt.none}}return nt.set(c)}},{decorations:r=>r.decorations}),bH=qe.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),wH=({state:r,dispatch:e})=>{let{selection:t}=r,n=_e.create(t.ranges.map(i=>r.wordAt(i.head)||_e.cursor(i.head)),t.mainIndex);return n.eq(t)?!1:(e(r.update({selection:n})),!0)};function SH(r,e){let{main:t,ranges:n}=r.selection,i=r.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let l=!1,c=new Xo(r.doc,e,n[n.length-1].to);;)if(c.next(),c.done){if(l)return null;c=new Xo(r.doc,e,0,Math.max(0,n[n.length-1].from-1)),l=!0}else{if(l&&n.some(f=>f.from==c.value.from))continue;if(s){let f=r.wordAt(c.value.from);if(!f||f.from!=c.value.from||f.to!=c.value.to)continue}return c.value}}const EH=({state:r,dispatch:e})=>{let{ranges:t}=r.selection;if(t.some(s=>s.from===s.to))return wH({state:r,dispatch:e});let n=r.sliceDoc(t[0].from,t[0].to);if(r.selection.ranges.some(s=>r.sliceDoc(s.from,s.to)!=n))return!1;let i=SH(r,n);return i?(e(r.update({selection:r.selection.addRange(_e.range(i.from,i.to),!1),effects:qe.scrollIntoView(i.to)})),!0):!1},tc=Ge.define({combine(r){return xs(r,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new FH(e),scrollToMatch:e=>qe.scrollIntoView(e)})}});class u6{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||fH(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new _H(this):new AH(this)}getCursor(e,t=0,n){let i=e.doc?e:Et.create({doc:e});return n==null&&(n=i.doc.length),this.regexp?Eo(this,i,t,n):So(this,i,t,n)}}class h6{constructor(e){this.spec=e}}function So(r,e,t,n){return new Xo(e.doc,r.unquoted,t,n,r.caseSensitive?void 0:i=>i.toLowerCase(),r.wholeWord?CH(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function CH(r,e){return(t,n,i,s)=>((s>t||s+i.length<n)&&(s=Math.max(0,t-2),i=r.sliceString(s,Math.min(r.length,n+2))),(e(Ld(i,t-s))!=cr.Word||e(Id(i,t-s))!=cr.Word)&&(e(Id(i,n-s))!=cr.Word||e(Ld(i,n-s))!=cr.Word))}class AH extends h6{constructor(e){super(e)}nextMatch(e,t,n){let i=So(this.spec,e,n,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);i=So(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==n?null:i.value}prevMatchInRange(e,t,n){for(let i=n;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),l=So(this.spec,e,s,i),c=null;for(;!l.nextOverlapping().done;)c=l.value;if(c)return c;if(s==t)return null;i-=1e4}}prevMatch(e,t,n){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=n)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=So(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let s=So(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Eo(r,e,t,n){return new c6(e.doc,r.search,{ignoreCase:!r.caseSensitive,test:r.wholeWord?TH(e.charCategorizer(e.selection.main.head)):void 0},t,n)}function Ld(r,e){return r.slice(ln(r,e,!1),e)}function Id(r,e){return r.slice(e,ln(r,e))}function TH(r){return(e,t,n)=>!n[0].length||(r(Ld(n.input,n.index))!=cr.Word||r(Id(n.input,n.index))!=cr.Word)&&(r(Id(n.input,n.index+n[0].length))!=cr.Word||r(Ld(n.input,n.index+n[0].length))!=cr.Word)}class _H extends h6{nextMatch(e,t,n){let i=Eo(this.spec,e,n,e.doc.length).next();return i.done&&(i=Eo(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,n){for(let i=1;;i++){let s=Math.max(t,n-i*1e4),l=Eo(this.spec,e,s,n),c=null;for(;!l.next().done;)c=l.value;if(c&&(s==t||c.from>s+10))return c;if(s==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,n)=>{if(n=="&")return e.match[0];if(n=="$")return"$";for(let i=n.length;i>0;i--){let s=+n.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+n.slice(i)}return t})}matchAll(e,t){let n=Eo(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let s=Eo(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const H0=ut.define(),zv=ut.define(),Ba=fn.define({create(r){return new vx(M1(r).create(),null)},update(r,e){for(let t of e.effects)t.is(H0)?r=new vx(t.value.create(),r.panel):t.is(zv)&&(r=new vx(r.query,t.value?Hv:null));return r},provide:r=>I0.from(r,e=>e.panel)});class vx{constructor(e,t){this.query=e,this.panel=t}}const DH=nt.mark({class:"cm-searchMatch"}),kH=nt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),OH=Er.fromClass(class{constructor(r){this.view=r,this.decorations=this.highlight(r.state.field(Ba))}update(r){let e=r.state.field(Ba);(e!=r.startState.field(Ba)||r.docChanged||r.selectionSet||r.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:r,panel:e}){if(!e||!r.spec.valid)return nt.none;let{view:t}=this,n=new Ws;for(let i=0,s=t.visibleRanges,l=s.length;i<l;i++){let{from:c,to:f}=s[i];for(;i<l-1&&f>s[i+1].from-500;)f=s[++i].to;r.highlight(t.state,c,f,(h,d)=>{let m=t.state.selection.ranges.some(g=>g.from==h&&g.to==d);n.add(h,d,m?kH:DH)})}return n.finish()}},{decorations:r=>r.decorations});function hf(r){return e=>{let t=e.state.field(Ba,!1);return t&&t.query.spec.valid?r(e,t):m6(e)}}const Pd=hf((r,{query:e})=>{let{to:t}=r.state.selection.main,n=e.nextMatch(r.state,t,t);if(!n)return!1;let i=_e.single(n.from,n.to),s=r.state.facet(tc);return r.dispatch({selection:i,effects:[Uv(r,n),s.scrollToMatch(i.main,r)],userEvent:"select.search"}),p6(r),!0}),jd=hf((r,{query:e})=>{let{state:t}=r,{from:n}=t.selection.main,i=e.prevMatch(t,n,n);if(!i)return!1;let s=_e.single(i.from,i.to),l=r.state.facet(tc);return r.dispatch({selection:s,effects:[Uv(r,i),l.scrollToMatch(s.main,r)],userEvent:"select.search"}),p6(r),!0}),BH=hf((r,{query:e})=>{let t=e.matchAll(r.state,1e3);return!t||!t.length?!1:(r.dispatch({selection:_e.create(t.map(n=>_e.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),NH=({state:r,dispatch:e})=>{let t=r.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:n,to:i}=t.main,s=[],l=0;for(let c=new Xo(r.doc,r.sliceDoc(n,i));!c.next().done;){if(s.length>1e3)return!1;c.value.from==n&&(l=s.length),s.push(_e.range(c.value.from,c.value.to))}return e(r.update({selection:_e.create(s,l),userEvent:"select.search.matches"})),!0},YE=hf((r,{query:e})=>{let{state:t}=r,{from:n,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,n,n);if(!s)return!1;let l=s,c=[],f,h,d=[];l.from==n&&l.to==i&&(h=t.toText(e.getReplacement(l)),c.push({from:l.from,to:l.to,insert:h}),l=e.nextMatch(t,l.from,l.to),d.push(qe.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(n).number)+".")));let m=r.state.changes(c);return l&&(f=_e.single(l.from,l.to).map(m),d.push(Uv(r,l)),d.push(t.facet(tc).scrollToMatch(f.main,r))),r.dispatch({changes:m,selection:f,effects:d,userEvent:"input.replace"}),!0}),RH=hf((r,{query:e})=>{if(r.state.readOnly)return!1;let t=e.matchAll(r.state,1e9).map(i=>{let{from:s,to:l}=i;return{from:s,to:l,insert:e.getReplacement(i)}});if(!t.length)return!1;let n=r.state.phrase("replaced $ matches",t.length)+".";return r.dispatch({changes:t,effects:qe.announce.of(n),userEvent:"input.replace.all"}),!0});function Hv(r){return r.state.facet(tc).createPanel(r)}function M1(r,e){var t,n,i,s,l;let c=r.selection.main,f=c.empty||c.to>c.from+100?"":r.sliceDoc(c.from,c.to);if(e&&!f)return e;let h=r.facet(tc);return new u6({search:((t=e?.literal)!==null&&t!==void 0?t:h.literal)?f:f.replace(/\n/g,"\\n"),caseSensitive:(n=e?.caseSensitive)!==null&&n!==void 0?n:h.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:h.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:h.regexp,wholeWord:(l=e?.wholeWord)!==null&&l!==void 0?l:h.wholeWord})}function d6(r){let e=L0(r,Hv);return e&&e.dom.querySelector("[main-field]")}function p6(r){let e=d6(r);e&&e==r.root.activeElement&&e.select()}const m6=r=>{let e=r.state.field(Ba,!1);if(e&&e.panel){let t=d6(r);if(t&&t!=r.root.activeElement){let n=M1(r.state,e.query.spec);n.valid&&r.dispatch({effects:H0.of(n)}),t.focus(),t.select()}}else r.dispatch({effects:[zv.of(!0),e?H0.of(M1(r.state,e.query.spec)):ut.appendConfig.of(IH)]});return!0},g6=r=>{let e=r.state.field(Ba,!1);if(!e||!e.panel)return!1;let t=L0(r,Hv);return t&&t.dom.contains(r.root.activeElement)&&r.focus(),r.dispatch({effects:zv.of(!1)}),!0},MH=[{key:"Mod-f",run:m6,scope:"editor search-panel"},{key:"F3",run:Pd,shift:jd,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Pd,shift:jd,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:g6,scope:"editor search-panel"},{key:"Mod-Shift-l",run:NH},{key:"Mod-Alt-g",run:uH},{key:"Mod-d",run:EH,preventDefault:!0}];class FH{constructor(e){this.view=e;let t=this.query=e.state.field(Ba).query.spec;this.commit=this.commit.bind(this),this.searchField=Kt("input",{value:t.search,placeholder:ri(e,"Find"),"aria-label":ri(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Kt("input",{value:t.replace,placeholder:ri(e,"Replace"),"aria-label":ri(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Kt("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Kt("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Kt("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function n(i,s,l){return Kt("button",{class:"cm-button",name:i,onclick:s,type:"button"},l)}this.dom=Kt("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,n("next",()=>Pd(e),[ri(e,"next")]),n("prev",()=>jd(e),[ri(e,"previous")]),n("select",()=>BH(e),[ri(e,"all")]),Kt("label",null,[this.caseField,ri(e,"match case")]),Kt("label",null,[this.reField,ri(e,"regexp")]),Kt("label",null,[this.wordField,ri(e,"by word")]),...e.state.readOnly?[]:[Kt("br"),this.replaceField,n("replace",()=>YE(e),[ri(e,"replace")]),n("replaceAll",()=>RH(e),[ri(e,"replace all")])],Kt("button",{name:"close",onclick:()=>g6(e),"aria-label":ri(e,"close"),type:"button"},[""])])}commit(){let e=new u6({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:H0.of(e)}))}keydown(e){HI(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?jd:Pd)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),YE(this.view))}update(e){for(let t of e.transactions)for(let n of t.effects)n.is(H0)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(tc).top}}function ri(r,e){return r.state.phrase(e)}const rh=30,nh=/[\s\.,:;?!]/;function Uv(r,{from:e,to:t}){let n=r.state.doc.lineAt(e),i=r.state.doc.lineAt(t).to,s=Math.max(n.from,e-rh),l=Math.min(i,t+rh),c=r.state.sliceDoc(s,l);if(s!=n.from){for(let f=0;f<rh;f++)if(!nh.test(c[f+1])&&nh.test(c[f])){c=c.slice(f);break}}if(l!=i){for(let f=c.length-1;f>c.length-rh;f--)if(!nh.test(c[f-1])&&nh.test(c[f])){c=c.slice(0,f);break}}return qe.announce.of(`${r.state.phrase("current match")}. ${c} ${r.state.phrase("on line")} ${n.number}.`)}const LH=qe.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),IH=[Ba,Ll.low(OH),LH];class x6{constructor(e,t,n,i){this.state=e,this.pos=t,this.explicit=n,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Yr(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),i=t.text.slice(n-t.from,this.pos-t.from),s=i.search(y6(e,!1));return s<0?null:{from:n+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,n){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function KE(r){let e=Object.keys(r).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function PH(r){let e=Object.create(null),t=Object.create(null);for(let{label:i}of r){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let n=KE(e)+KE(t)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function v6(r){let e=r.map(i=>typeof i=="string"?{label:i}:i),[t,n]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:PH(e);return i=>{let s=i.matchBefore(n);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function jH(r,e){return t=>{for(let n=Yr(t.state).resolveInner(t.pos,-1);n;n=n.parent){if(r.indexOf(n.name)>-1)return null;if(n.type.isTop)break}return e(t)}}class $E{constructor(e,t,n,i){this.completion=e,this.source=t,this.match=n,this.score=i}}function bl(r){return r.selection.main.from}function y6(r,e){var t;let{source:n}=r,i=e&&n[0]!="^",s=n[n.length-1]!="$";return!i&&!s?r:new RegExp(`${i?"^":""}(?:${n})${s?"$":""}`,(t=r.flags)!==null&&t!==void 0?t:r.ignoreCase?"i":"")}const b6=gs.define();function zH(r,e,t,n){let{main:i}=r.selection,s=t-i.from,l=n-i.from;return{...r.changeByRange(c=>{if(c!=i&&t!=n&&r.sliceDoc(c.from+s,c.from+l)!=r.sliceDoc(t,n))return{range:c};let f=r.toText(e);return{changes:{from:c.from+s,to:n==i.from?c.to:c.from+l,insert:f},range:_e.cursor(c.from+s+f.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const QE=new WeakMap;function HH(r){if(!Array.isArray(r))return r;let e=QE.get(r);return e||QE.set(r,e=v6(r)),e}const zd=ut.define(),U0=ut.define();class UH{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=Pn(e,t),i=cs(n);this.chars.push(n);let s=e.slice(t,t+i),l=s.toUpperCase();this.folded.push(Pn(l==s?s.toLowerCase():l,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:i,precise:s,byWord:l}=this;if(t.length==1){let A=Pn(e,0),C=cs(A),_=C==e.length?0:-100;if(A!=t[0])if(A==n[0])_+=-200;else return null;return this.ret(_,[0,C])}let c=e.indexOf(this.pattern);if(c==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let f=t.length,h=0;if(c<0){for(let A=0,C=Math.min(e.length,200);A<C&&h<f;){let _=Pn(e,A);(_==t[h]||_==n[h])&&(i[h++]=A),A+=cs(_)}if(h<f)return null}let d=0,m=0,g=!1,x=0,b=-1,y=-1,S=/[a-z]/.test(e),T=!0;for(let A=0,C=Math.min(e.length,200),_=0;A<C&&m<f;){let N=Pn(e,A);c<0&&(d<f&&N==t[d]&&(s[d++]=A),x<f&&(N==t[x]||N==n[x]?(x==0&&(b=A),y=A+1,x++):x=0));let R,O=N<255?N>=48&&N<=57||N>=97&&N<=122?2:N>=65&&N<=90?1:0:(R=mv(N))!=R.toLowerCase()?1:R!=R.toUpperCase()?2:0;(!A||O==1&&S||_==0&&O!=0)&&(t[m]==N||n[m]==N&&(g=!0)?l[m++]=A:l.length&&(T=!1)),_=O,A+=cs(N)}return m==f&&l[0]==0&&T?this.result(-100+(g?-200:0),l,e):x==f&&b==0?this.ret(-200-e.length+(y==e.length?0:-100),[0,y]):c>-1?this.ret(-700-e.length,[c,c+this.pattern.length]):x==f?this.ret(-900-e.length,[b,y]):m==f?this.result(-100+(g?-200:0)+-700+(T?0:-1100),l,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,n){let i=[],s=0;for(let l of t){let c=l+(this.astral?cs(Pn(n,l)):1);s&&i[s-1]==l?i[s-1]=c:(i[s++]=l,i[s++]=c)}return this.ret(e-n.length,i)}}class VH{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),n=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,t.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const Wr=Ge.define({combine(r){return xs(r,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:qH,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>ZE(e(n),t(n)),optionClass:(e,t)=>n=>ZE(e(n),t(n)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function ZE(r,e){return r?e?r+" "+e:r:e}function qH(r,e,t,n,i,s){let l=r.textDirection==nr.RTL,c=l,f=!1,h="top",d,m,g=e.left-i.left,x=i.right-e.right,b=n.right-n.left,y=n.bottom-n.top;if(c&&g<Math.min(b,x)?c=!1:!c&&x<Math.min(b,g)&&(c=!0),b<=(c?g:x))d=Math.max(i.top,Math.min(t.top,i.bottom-y))-e.top,m=Math.min(400,c?g:x);else{f=!0,m=Math.min(400,(l?e.right:i.right-e.left)-30);let A=i.bottom-e.bottom;A>=y||A>e.top?d=t.bottom-e.top:(h="bottom",d=e.bottom-t.top)}let S=(e.bottom-e.top)/s.offsetHeight,T=(e.right-e.left)/s.offsetWidth;return{style:`${h}: ${d/S}px; max-width: ${m/T}px`,class:"cm-completionInfo-"+(f?l?"left-narrow":"right-narrow":c?"left":"right")}}function WH(r){let e=r.addToOptions.slice();return r.icons&&e.push({render(t){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),t.type&&n.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(t,n,i,s){let l=document.createElement("span");l.className="cm-completionLabel";let c=t.displayLabel||t.label,f=0;for(let h=0;h<s.length;){let d=s[h++],m=s[h++];d>f&&l.appendChild(document.createTextNode(c.slice(f,d)));let g=l.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(c.slice(d,m))),g.className="cm-completionMatchedText",f=m}return f<c.length&&l.appendChild(document.createTextNode(c.slice(f))),l},position:50},{render(t){if(!t.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=t.detail,n},position:80}),e.sort((t,n)=>t.position-n.position).map(t=>t.render)}function yx(r,e,t){if(r<=t)return{from:0,to:r};if(e<0&&(e=0),e<=r>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let n=Math.floor((r-e)/t);return{from:r-(n+1)*t,to:r-n*t}}class GH{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:f=>this.placeInfo(f),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:l}=i.open,c=e.state.facet(Wr);this.optionContent=WH(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=yx(s.length,l,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",f=>{let{options:h}=e.state.field(t).open;for(let d=f.target,m;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(m=/-(\d+)$/.exec(d.id))&&+m[1]<h.length){this.applyCompletion(e,h[+m[1]]),f.preventDefault();return}}),this.dom.addEventListener("focusout",f=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(Wr).closeOnBlur&&f.relatedTarget!=e.contentDOM&&e.dispatch({effects:U0.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let n=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=i){let{options:s,selected:l,disabled:c}=n.open;(!i.open||i.open.options!=s)&&(this.range=yx(s.length,l,e.state.facet(Wr).maxRenderedOptions),this.showOptions(s,n.id)),this.updateSel(),c!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of t.split(" "))n&&this.dom.classList.add(n);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=yx(t.options.length,t.selected,this.view.state.facet(Wr).maxRenderedOptions),this.showOptions(t.options,e.id));let n=this.updateSelectedOption(t.selected);if(n){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:s}=i;if(!s)return;let l=typeof s=="string"?document.createTextNode(s):s(i);if(!l)return;"then"in l?l.then(c=>{c&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(c,i)}).catch(c=>zn(this.view.state,c,"completion info")):(this.addInfoPane(l,i),n.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",n.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;n.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)n.nodeName!="LI"||!n.id?i--:i==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&(n.removeAttribute("aria-selected"),n.removeAttribute("aria-describedby"));return t&&YH(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let l=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:l.clientWidth,bottom:l.clientHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(Wr).positionInfo(this.view,t,i,n,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",l=>{l.target==i&&l.preventDefault()});let s=null;for(let l=n.from;l<n.to;l++){let{completion:c,match:f}=e[l],{section:h}=c;if(h){let g=typeof h=="string"?h:h.name;if(g!=s&&(l>n.from||n.from==0))if(s=g,typeof h!="string"&&h.header)i.appendChild(h.header(h));else{let x=i.appendChild(document.createElement("completion-section"));x.textContent=g}}const d=i.appendChild(document.createElement("li"));d.id=t+"-"+l,d.setAttribute("role","option");let m=this.optionClass(c);m&&(d.className=m);for(let g of this.optionContent){let x=g(c,this.view.state,this.view,f);x&&d.appendChild(x)}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function XH(r,e){return t=>new GH(t,r,e)}function YH(r,e){let t=r.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.height/r.offsetHeight;n.top<t.top?r.scrollTop-=(t.top-n.top)/i:n.bottom>t.bottom&&(r.scrollTop+=(n.bottom-t.bottom)/i)}function JE(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function KH(r,e){let t=[],n=null,i=null,s=d=>{t.push(d);let{section:m}=d.completion;if(m){n||(n=[]);let g=typeof m=="string"?m:m.name;n.some(x=>x.name==g)||n.push(typeof m=="string"?{name:g}:m)}},l=e.facet(Wr);for(let d of r)if(d.hasResult()){let m=d.result.getMatch;if(d.result.filter===!1)for(let g of d.result.options)s(new $E(g,d.source,m?m(g):[],1e9-t.length));else{let g=e.sliceDoc(d.from,d.to),x,b=l.filterStrict?new VH(g):new UH(g);for(let y of d.result.options)if(x=b.match(y.label)){let S=y.displayLabel?m?m(y,x.matched):[]:x.matched,T=x.score+(y.boost||0);if(s(new $E(y,d.source,S,T)),typeof y.section=="object"&&y.section.rank==="dynamic"){let{name:A}=y.section;i||(i=Object.create(null)),i[A]=Math.max(T,i[A]||-1e9)}}}}if(n){let d=Object.create(null),m=0,g=(x,b)=>(x.rank==="dynamic"&&b.rank==="dynamic"?i[b.name]-i[x.name]:0)||(typeof x.rank=="number"?x.rank:1e9)-(typeof b.rank=="number"?b.rank:1e9)||(x.name<b.name?-1:1);for(let x of n.sort(g))m-=1e5,d[x.name]=m;for(let x of t){let{section:b}=x.completion;b&&(x.score+=d[typeof b=="string"?b:b.name])}}let c=[],f=null,h=l.compareCompletions;for(let d of t.sort((m,g)=>g.score-m.score||h(m.completion,g.completion))){let m=d.completion;!f||f.label!=m.label||f.detail!=m.detail||f.type!=null&&m.type!=null&&f.type!=m.type||f.apply!=m.apply||f.boost!=m.boost?c.push(d):JE(d.completion)>JE(f)&&(c[c.length-1]=d),f=d.completion}return c}class Do{constructor(e,t,n,i,s,l){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=i,this.selected=s,this.disabled=l}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Do(this.options,eC(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,i,s,l){if(i&&!l&&e.some(h=>h.isPending))return i.setDisabled();let c=KH(e,t);if(!c.length)return i&&e.some(h=>h.isPending)?i.setDisabled():null;let f=t.facet(Wr).selectOnOpen?0:-1;if(i&&i.selected!=f&&i.selected!=-1){let h=i.options[i.selected].completion;for(let d=0;d<c.length;d++)if(c[d].completion==h){f=d;break}}return new Do(c,eC(n,f),{pos:e.reduce((h,d)=>d.hasResult()?Math.min(h,d.from):h,1e8),create:tU,above:s.aboveCursor},i?i.timestamp:Date.now(),f,!1)}map(e){return new Do(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Do(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Hd{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new Hd(JH,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,n=t.facet(Wr),s=(n.override||t.languageDataAt("autocomplete",bl(t)).map(HH)).map(f=>(this.active.find(d=>d.source==f)||new Di(f,this.active.some(d=>d.state!=0)?1:0)).update(e,n));s.length==this.active.length&&s.every((f,h)=>f==this.active[h])&&(s=this.active);let l=this.open,c=e.effects.some(f=>f.is(Vv));l&&e.docChanged&&(l=l.map(e.changes)),e.selection||s.some(f=>f.hasResult()&&e.changes.touchesRange(f.from,f.to))||!$H(s,this.active)||c?l=Do.build(s,t,this.id,l,n,c):l&&l.disabled&&!s.some(f=>f.isPending)&&(l=null),!l&&s.every(f=>!f.isPending)&&s.some(f=>f.hasResult())&&(s=s.map(f=>f.hasResult()?new Di(f.source,0):f));for(let f of e.effects)f.is(S6)&&(l=l&&l.setSelected(f.value,this.id));return s==this.active&&l==this.open?this:new Hd(s,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?QH:ZH}}function $H(r,e){if(r==e)return!0;for(let t=0,n=0;;){for(;t<r.length&&!r[t].hasResult();)t++;for(;n<e.length&&!e[n].hasResult();)n++;let i=t==r.length,s=n==e.length;if(i||s)return i==s;if(r[t++].result!=e[n++].result)return!1}}const QH={"aria-autocomplete":"list"},ZH={};function eC(r,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":r};return e>-1&&(t["aria-activedescendant"]=r+"-"+e),t}const JH=[];function w6(r,e){if(r.isUserEvent("input.complete")){let n=r.annotation(b6);if(n&&e.activateOnCompletion(n))return 12}let t=r.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:r.isUserEvent("delete.backward")?2:r.selection?8:r.docChanged?16:0}class Di{constructor(e,t,n=!1){this.source=e,this.state=t,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let n=w6(e,t),i=this;(n&8||n&16&&this.touches(e))&&(i=new Di(i.source,0)),n&4&&i.state==0&&(i=new Di(this.source,1)),i=i.updateFor(e,n);for(let s of e.effects)if(s.is(zd))i=new Di(i.source,1,s.value);else if(s.is(U0))i=new Di(i.source,0);else if(s.is(Vv))for(let l of s.value)l.source==i.source&&(i=l);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(bl(e.state))}}class Io extends Di{constructor(e,t,n,i,s,l){super(e,3,t),this.limit=n,this.result=i,this.from=s,this.to=l}hasResult(){return!0}updateFor(e,t){var n;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),c=bl(e.state);if(c>l||!i||t&2&&(bl(e.startState)==this.from||c<this.limit))return new Di(this.source,t&4?1:0);let f=e.changes.mapPos(this.limit);return eU(i.validFor,e.state,s,l)?new Io(this.source,this.explicit,f,i,s,l):i.update&&(i=i.update(i,s,l,new x6(e.state,c,!1)))?new Io(this.source,this.explicit,f,i,i.from,(n=i.to)!==null&&n!==void 0?n:bl(e.state)):new Di(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Io(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Di(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function eU(r,e,t,n){if(!r)return!1;let i=e.sliceDoc(t,n);return typeof r=="function"?r(i,t,n,e):y6(r,!0).test(i)}const Vv=ut.define({map(r,e){return r.map(t=>t.map(e))}}),S6=ut.define(),jn=fn.define({create(){return Hd.start()},update(r,e){return r.update(e)},provide:r=>[kv.from(r,e=>e.tooltip),qe.contentAttributes.from(r,e=>e.attrs)]});function qv(r,e){const t=e.completion.apply||e.completion.label;let n=r.state.field(jn).active.find(i=>i.source==e.source);return n instanceof Io?(typeof t=="string"?r.dispatch({...zH(r.state,t,n.from,n.to),annotations:b6.of(e.completion)}):t(r,e.completion,n.from,n.to),!0):!1}const tU=XH(jn,qv);function ih(r,e="option"){return t=>{let n=t.state.field(jn,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<t.state.facet(Wr).interactionDelay)return!1;let i=1,s;e=="page"&&(s=tT(t,n.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:l}=n.open.options,c=n.open.selected>-1?n.open.selected+i*(r?1:-1):r?0:l-1;return c<0?c=e=="page"?0:l-1:c>=l&&(c=e=="page"?l-1:0),t.dispatch({effects:S6.of(c)}),!0}}const rU=r=>{let e=r.state.field(jn,!1);return r.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<r.state.facet(Wr).interactionDelay?!1:qv(r,e.open.options[e.open.selected])},bx=r=>r.state.field(jn,!1)?(r.dispatch({effects:zd.of(!0)}),!0):!1,nU=r=>{let e=r.state.field(jn,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(r.dispatch({effects:U0.of(null)}),!0)};class iU{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const sU=50,aU=1e3,lU=Er.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of r.state.field(jn).active)e.isPending&&this.startQuery(e)}update(r){let e=r.state.field(jn),t=r.state.facet(Wr);if(!r.selectionSet&&!r.docChanged&&r.startState.field(jn)==e)return;let n=r.transactions.some(s=>{let l=w6(s,t);return l&8||(s.selection||s.docChanged)&&!(l&3)});for(let s=0;s<this.running.length;s++){let l=this.running[s];if(n||l.context.abortOnDocChange&&r.docChanged||l.updates.length+r.transactions.length>sU&&Date.now()-l.time>aU){for(let c of l.context.abortListeners)try{c()}catch(f){zn(this.view.state,f)}l.context.abortListeners=null,this.running.splice(s--,1)}else l.updates.push(...r.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),r.transactions.some(s=>s.effects.some(l=>l.is(zd)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(l=>l.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of r.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:r}=this.view,e=r.field(jn);for(let t of e.active)t.isPending&&!this.running.some(n=>n.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Wr).updateSyncTime))}startQuery(r){let{state:e}=this.view,t=bl(e),n=new x6(e,t,r.explicit,this.view),i=new iU(r,n);this.running.push(i),Promise.resolve(r.source(n)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:U0.of(null)}),zn(this.view.state,s)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Wr).updateSyncTime))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Wr),n=this.view.state.field(jn);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let c=bl(s.updates.length?s.updates[0].startState:this.view.state),f=Math.min(c,s.done.from+(s.active.explicit?0:1)),h=new Io(s.active.source,s.active.explicit,f,s.done,s.done.from,(r=s.done.to)!==null&&r!==void 0?r:c);for(let d of s.updates)h=h.update(d,t);if(h.hasResult()){e.push(h);continue}}let l=n.active.find(c=>c.source==s.active.source);if(l&&l.isPending)if(s.done==null){let c=new Di(s.active.source,0);for(let f of s.updates)c=c.update(f,t);c.isPending||e.push(c)}else this.startQuery(l)}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:Vv.of(e)})}},{eventHandlers:{blur(r){let e=this.view.state.field(jn,!1);if(e&&e.tooltip&&this.view.state.facet(Wr).closeOnBlur){let t=e.open&&tT(this.view,e.open.tooltip);(!t||!t.dom.contains(r.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:U0.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:zd.of(!1)}),20),this.composing=0}}}),oU=typeof navigator=="object"&&/Win/.test(navigator.platform),cU=Ll.highest(qe.domEventHandlers({keydown(r,e){let t=e.state.field(jn,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||r.key.length>1||r.ctrlKey&&!(oU&&r.altKey)||r.metaKey)return!1;let n=t.open.options[t.open.selected],i=t.active.find(l=>l.source==n.source),s=n.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(r.key)>-1&&qv(e,n),!1}})),fU=qe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),V0={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},xl=ut.define({map(r,e){let t=e.mapPos(r,-1,En.TrackAfter);return t??void 0}}),Wv=new class extends Cl{};Wv.startSide=1;Wv.endSide=-1;const E6=fn.define({create(){return Tt.empty},update(r,e){if(r=r.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);r=r.update({filter:n=>n>=t.from&&n<=t.to})}for(let t of e.effects)t.is(xl)&&(r=r.update({add:[Wv.range(t.value,t.value+1)]}));return r}});function uU(){return[dU,E6]}const wx="()[]{}<>";function C6(r){for(let e=0;e<wx.length;e+=2)if(wx.charCodeAt(e)==r)return wx.charAt(e+1);return mv(r<128?r:r+1)}function A6(r,e){return r.languageDataAt("closeBrackets",e)[0]||V0}const hU=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),dU=qe.inputHandler.of((r,e,t,n)=>{if((hU?r.composing:r.compositionStarted)||r.state.readOnly)return!1;let i=r.state.selection.main;if(n.length>2||n.length==2&&cs(Pn(n,0))==1||e!=i.from||t!=i.to)return!1;let s=gU(r.state,n);return s?(r.dispatch(s),!0):!1}),pU=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let n=A6(r,r.selection.main.head).brackets||V0.brackets,i=null,s=r.changeByRange(l=>{if(l.empty){let c=xU(r.doc,l.head);for(let f of n)if(f==c&&yp(r.doc,l.head)==C6(Pn(f,0)))return{changes:{from:l.head-f.length,to:l.head+f.length},range:_e.cursor(l.head-f.length)}}return{range:i=l}});return i||e(r.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},mU=[{key:"Backspace",run:pU}];function gU(r,e){let t=A6(r,r.selection.main.head),n=t.brackets||V0.brackets;for(let i of n){let s=C6(Pn(i,0));if(e==i)return s==i?bU(r,i,n.indexOf(i+i+i)>-1,t):vU(r,i,s,t.before||V0.before);if(e==s&&T6(r,r.selection.main.from))return yU(r,i,s)}return null}function T6(r,e){let t=!1;return r.field(E6).between(0,r.doc.length,n=>{n==e&&(t=!0)}),t}function yp(r,e){let t=r.sliceString(e,e+2);return t.slice(0,cs(Pn(t,0)))}function xU(r,e){let t=r.sliceString(e-2,e);return cs(Pn(t,0))==t.length?t:t.slice(1)}function vU(r,e,t,n){let i=null,s=r.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:t,from:l.to}],effects:xl.of(l.to+e.length),range:_e.range(l.anchor+e.length,l.head+e.length)};let c=yp(r.doc,l.head);return!c||/\s/.test(c)||n.indexOf(c)>-1?{changes:{insert:e+t,from:l.head},effects:xl.of(l.head+e.length),range:_e.cursor(l.head+e.length)}:{range:i=l}});return i?null:r.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function yU(r,e,t){let n=null,i=r.changeByRange(s=>s.empty&&yp(r.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:_e.cursor(s.head+t.length)}:n={range:s});return n?null:r.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function bU(r,e,t,n){let i=n.stringPrefixes||V0.stringPrefixes,s=null,l=r.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:e,from:c.to}],effects:xl.of(c.to+e.length),range:_e.range(c.anchor+e.length,c.head+e.length)};let f=c.head,h=yp(r.doc,f),d;if(h==e){if(tC(r,f))return{changes:{insert:e+e,from:f},effects:xl.of(f+e.length),range:_e.cursor(f+e.length)};if(T6(r,f)){let g=t&&r.sliceDoc(f,f+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:f,to:f+g.length,insert:g},range:_e.cursor(f+g.length)}}}else{if(t&&r.sliceDoc(f-2*e.length,f)==e+e&&(d=rC(r,f-2*e.length,i))>-1&&tC(r,d))return{changes:{insert:e+e+e+e,from:f},effects:xl.of(f+e.length),range:_e.cursor(f+e.length)};if(r.charCategorizer(f)(h)!=cr.Word&&rC(r,f,i)>-1&&!wU(r,f,e,i))return{changes:{insert:e+e,from:f},effects:xl.of(f+e.length),range:_e.cursor(f+e.length)}}return{range:s=c}});return s?null:r.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function tC(r,e){let t=Yr(r).resolveInner(e+1);return t.parent&&t.from==e}function wU(r,e,t,n){let i=Yr(r).resolveInner(e,-1),s=n.reduce((l,c)=>Math.max(l,c.length),0);for(let l=0;l<5;l++){let c=r.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),f=c.indexOf(t);if(!f||f>-1&&n.indexOf(c.slice(0,f))>-1){let d=i.firstChild;for(;d&&d.from==i.from&&d.to-d.from>t.length+f;){if(r.sliceDoc(d.to-t.length,d.to)==t)return!1;d=d.firstChild}return!0}let h=i.to==e&&i.parent;if(!h)break;i=h}return!1}function rC(r,e,t){let n=r.charCategorizer(e);if(n(r.sliceDoc(e-1,e))!=cr.Word)return e;for(let i of t){let s=e-i.length;if(r.sliceDoc(s,e)==i&&n(r.sliceDoc(s-1,s))!=cr.Word)return s}return-1}function _6(r={}){return[cU,jn,Wr.of(r),lU,SU,fU]}const D6=[{key:"Ctrl-Space",run:bx},{mac:"Alt-`",run:bx},{mac:"Alt-i",run:bx},{key:"Escape",run:nU},{key:"ArrowDown",run:ih(!0)},{key:"ArrowUp",run:ih(!1)},{key:"PageDown",run:ih(!0,"page")},{key:"PageUp",run:ih(!1,"page")},{key:"Enter",run:rU}],SU=Ll.highest(fp.computeN([Wr],r=>r.facet(Wr).defaultKeymap?[D6]:[]));class nC{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class dl{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let i=n.facet(q0).markerFilter;i&&(e=i(e,n));let s=e.slice().sort((x,b)=>x.from-b.from||x.to-b.to),l=new Ws,c=[],f=0,h=n.doc.iter(),d=0,m=n.doc.length;for(let x=0;;){let b=x==s.length?null:s[x];if(!b&&!c.length)break;let y,S;if(c.length)y=f,S=c.reduce((C,_)=>Math.min(C,_.to),b&&b.from>y?b.from:1e8);else{if(y=b.from,y>m)break;S=b.to,c.push(b),x++}for(;x<s.length;){let C=s[x];if(C.from==y&&(C.to>C.from||C.to==y))c.push(C),x++,S=Math.min(C.to,S);else{S=Math.min(C.from,S);break}}S=Math.min(S,m);let T=!1;if(c.some(C=>C.from==y&&(C.to==S||S==m))&&(T=y==S,!T&&S-y<10)){let C=y-(d+h.value.length);C>0&&(h.next(C),d=y);for(let _=y;;){if(_>=S){T=!0;break}if(!h.lineBreak&&d+h.value.length>_)break;_=d+h.value.length,d+=h.value.length,h.next()}}let A=FU(c);if(T)l.add(y,y,nt.widget({widget:new BU(A),diagnostics:c.slice()}));else{let C=c.reduce((_,N)=>N.markClass?_+" "+N.markClass:_,"");l.add(y,S,nt.mark({class:"cm-lintRange cm-lintRange-"+A+C,diagnostics:c.slice(),inclusiveEnd:c.some(_=>_.to>S)}))}if(f=S,f==m)break;for(let C=0;C<c.length;C++)c[C].to<=f&&c.splice(C--,1)}let g=l.finish();return new dl(g,t,Yo(g))}}function Yo(r,e=null,t=0){let n=null;return r.between(t,1e9,(i,s,{spec:l})=>{if(!(e&&l.diagnostics.indexOf(e)<0))if(!n)n=new nC(i,s,e||l.diagnostics[0]);else{if(l.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new nC(n.from,s,n.diagnostic)}}),n}function EU(r,e){let t=e.pos,n=e.end||t,i=r.state.facet(q0).hideOn(r,t,n);if(i!=null)return i;let s=r.startState.doc.lineAt(e.pos);return!!(r.effects.some(l=>l.is(k6))||r.changes.touchesRange(s.from,Math.max(s.to,n)))}function CU(r,e){return r.field(ci,!1)?e:e.concat(ut.appendConfig.of(LU))}const k6=ut.define(),Gv=ut.define(),O6=ut.define(),ci=fn.define({create(){return new dl(nt.none,null,null)},update(r,e){if(e.docChanged&&r.diagnostics.size){let t=r.diagnostics.map(e.changes),n=null,i=r.panel;if(r.selected){let s=e.changes.mapPos(r.selected.from,1);n=Yo(t,r.selected.diagnostic,s)||Yo(t,null,s)}!t.size&&i&&e.state.facet(q0).autoPanel&&(i=null),r=new dl(t,i,n)}for(let t of e.effects)if(t.is(k6)){let n=e.state.facet(q0).autoPanel?t.value.length?W0.open:null:r.panel;r=dl.init(t.value,n,e.state)}else t.is(Gv)?r=new dl(r.diagnostics,t.value?W0.open:null,r.selected):t.is(O6)&&(r=new dl(r.diagnostics,r.panel,t.value));return r},provide:r=>[I0.from(r,e=>e.panel),qe.decorations.from(r,e=>e.diagnostics)]}),AU=nt.mark({class:"cm-lintRange cm-lintRange-active"});function TU(r,e,t){let{diagnostics:n}=r.state.field(ci),i,s=-1,l=-1;n.between(e-(t<0?1:0),e+(t>0?1:0),(f,h,{spec:d})=>{if(e>=f&&e<=h&&(f==h||(e>f||t>0)&&(e<h||t<0)))return i=d.diagnostics,s=f,l=h,!1});let c=r.state.facet(q0).tooltipFilter;return i&&c&&(i=c(i,r.state)),i?{pos:s,end:l,above:r.state.doc.lineAt(s).to<l,create(){return{dom:_U(r,i)}}}:null}function _U(r,e){return Kt("ul",{class:"cm-tooltip-lint"},e.map(t=>N6(r,t,!1)))}const DU=r=>{let e=r.state.field(ci,!1);(!e||!e.panel)&&r.dispatch({effects:CU(r.state,[Gv.of(!0)])});let t=L0(r,W0.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},iC=r=>{let e=r.state.field(ci,!1);return!e||!e.panel?!1:(r.dispatch({effects:Gv.of(!1)}),!0)},kU=r=>{let e=r.state.field(ci,!1);if(!e)return!1;let t=r.state.selection.main,n=e.diagnostics.iter(t.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==t.from&&n.to==t.to)?!1:(r.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},OU=[{key:"Mod-Shift-m",run:DU,preventDefault:!0},{key:"F8",run:kU}],q0=Ge.define({combine(r){return{sources:r.map(e=>e.source).filter(e=>e!=null),...xs(r.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:sC,tooltipFilter:sC,needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t,hideOn:(e,t)=>e?t?(n,i,s)=>e(n,i,s)||t(n,i,s):e:t,autoPanel:(e,t)=>e||t})}}});function sC(r,e){return r?e?(t,n)=>e(r(t,n),n):r:e}function B6(r){let e=[];if(r)e:for(let{name:t}of r){for(let n=0;n<t.length;n++){let i=t[n];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function N6(r,e,t){var n;let i=t?B6(e.actions):[];return Kt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Kt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(r):e.message),(n=e.actions)===null||n===void 0?void 0:n.map((s,l)=>{let c=!1,f=x=>{if(x.preventDefault(),c)return;c=!0;let b=Yo(r.state.field(ci).diagnostics,e);b&&s.apply(r,b.from,b.to)},{name:h}=s,d=i[l]?h.indexOf(i[l]):-1,m=d<0?h:[h.slice(0,d),Kt("u",h.slice(d,d+1)),h.slice(d+1)],g=s.markClass?" "+s.markClass:"";return Kt("button",{type:"button",class:"cm-diagnosticAction"+g,onclick:f,onmousedown:f,"aria-label":` Action: ${h}${d<0?"":` (access key "${i[l]})"`}.`},m)}),e.source&&Kt("div",{class:"cm-diagnosticSource"},e.source))}class BU extends Ks{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Kt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class aC{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=N6(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class W0{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)iC(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],l=B6(s.actions);for(let c=0;c<l.length;c++)if(l[c].toUpperCase().charCodeAt(0)==i.keyCode){let f=Yo(this.view.state.field(ci).diagnostics,s);f&&s.actions[c].apply(e,f.from,f.to)}}else return;i.preventDefault()},n=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=Kt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:n}),this.dom=Kt("div",{class:"cm-panel-lint"},this.list,Kt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>iC(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(ci).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(ci),n=0,i=!1,s=null,l=new Set;for(e.between(0,this.view.state.doc.length,(c,f,{spec:h})=>{for(let d of h.diagnostics){if(l.has(d))continue;l.add(d);let m=-1,g;for(let x=n;x<this.items.length;x++)if(this.items[x].diagnostic==d){m=x;break}m<0?(g=new aC(this.view,d),this.items.splice(n,0,g),i=!0):(g=this.items[m],m>n&&(this.items.splice(n,m-n),i=!0)),t&&g.diagnostic==t.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),s=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new aC(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:c,panel:f})=>{let h=f.height/this.list.offsetHeight;c.top<f.top?this.list.scrollTop-=(f.top-c.top)/h:c.bottom>f.bottom&&(this.list.scrollTop+=(c.bottom-f.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(ci),n=Yo(t.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:O6.of(n)})}static open(e){return new W0(e)}}function NU(r,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(r)}</svg>')`}function sh(r){return NU(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${r}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const RU=qe.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:sh("#d11")},".cm-lintRange-warning":{backgroundImage:sh("orange")},".cm-lintRange-info":{backgroundImage:sh("#999")},".cm-lintRange-hint":{backgroundImage:sh("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function MU(r){return r=="error"?4:r=="warning"?3:r=="info"?2:1}function FU(r){let e="hint",t=1;for(let n of r){let i=MU(n.severity);i>t&&(t=i,e=n.severity)}return e}const LU=[ci,qe.decorations.compute([ci],r=>{let{selected:e,panel:t}=r.field(ci);return!e||!t||e.from==e.to?nt.none:nt.set([AU.range(e.from,e.to)])}),kP(TU,{hideOn:EU}),RU];var lC=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,n=[];e.closeBracketsKeymap!==!1&&(n=n.concat(mU)),e.defaultKeymap!==!1&&(n=n.concat(oH)),e.searchKeymap!==!1&&(n=n.concat(MH)),e.historyKeymap!==!1&&(n=n.concat(mz)),e.foldKeymap!==!1&&(n=n.concat(kj)),e.completionKeymap!==!1&&(n=n.concat(D6)),e.lintKeymap!==!1&&(n=n.concat(OU));var i=[];return e.lineNumbers!==!1&&i.push(zP()),e.highlightActiveLineGutter!==!1&&i.push(VP()),e.highlightSpecialChars!==!1&&i.push(iP()),e.history!==!1&&i.push(az()),e.foldGutter!==!1&&i.push(Rj()),e.drawSelection!==!1&&i.push(XI()),e.dropCursor!==!1&&i.push(ZI()),e.allowMultipleSelections!==!1&&i.push(Et.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(bj()),e.syntaxHighlighting!==!1&&i.push(AT(Ij,{fallback:!0})),e.bracketMatching!==!1&&i.push(qj()),e.closeBrackets!==!1&&i.push(uU()),e.autocompletion!==!1&&i.push(_6()),e.rectangularSelection!==!1&&i.push(vP()),t!==!1&&i.push(wP()),e.highlightActiveLine!==!1&&i.push(fP()),e.highlightSelectionMatches!==!1&&i.push(mH()),e.tabSize&&typeof e.tabSize=="number"&&i.push(hp.of(" ".repeat(e.tabSize))),i.concat([fp.of(n.flat())]).filter(Boolean)};const IU="#e5c07b",oC="#e06c75",PU="#56b6c2",jU="#ffffff",td="#abb2bf",F1="#7d8799",zU="#61afef",HU="#98c379",cC="#d19a66",UU="#c678dd",VU="#21252b",fC="#2c313a",uC="#282c34",Sx="#353a42",qU="#3E4451",hC="#528bff",WU=qe.theme({"&":{color:td,backgroundColor:uC},".cm-content":{caretColor:hC},".cm-cursor, .cm-dropCursor":{borderLeftColor:hC},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:qU},".cm-panels":{backgroundColor:VU,color:td},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:uC,color:F1,border:"none"},".cm-activeLineGutter":{backgroundColor:fC},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Sx},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Sx,borderBottomColor:Sx},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:fC,color:td}}},{dark:!0}),GU=ff.define([{tag:xe.keyword,color:UU},{tag:[xe.name,xe.deleted,xe.character,xe.propertyName,xe.macroName],color:oC},{tag:[xe.function(xe.variableName),xe.labelName],color:zU},{tag:[xe.color,xe.constant(xe.name),xe.standard(xe.name)],color:cC},{tag:[xe.definition(xe.name),xe.separator],color:td},{tag:[xe.typeName,xe.className,xe.number,xe.changed,xe.annotation,xe.modifier,xe.self,xe.namespace],color:IU},{tag:[xe.operator,xe.operatorKeyword,xe.url,xe.escape,xe.regexp,xe.link,xe.special(xe.string)],color:PU},{tag:[xe.meta,xe.comment],color:F1},{tag:xe.strong,fontWeight:"bold"},{tag:xe.emphasis,fontStyle:"italic"},{tag:xe.strikethrough,textDecoration:"line-through"},{tag:xe.link,color:F1,textDecoration:"underline"},{tag:xe.heading,fontWeight:"bold",color:oC},{tag:[xe.atom,xe.bool,xe.special(xe.variableName)],color:cC},{tag:[xe.processingInstruction,xe.string,xe.inserted],color:HU},{tag:xe.invalid,color:jU}]),XU=[WU,AT(GU)];var YU=qe.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),KU=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:n=!0,readOnly:i=!1,theme:s="light",placeholder:l="",basicSetup:c=!0}=e,f=[];switch(t&&f.unshift(fp.of([cH])),c&&(typeof c=="boolean"?f.unshift(lC()):f.unshift(lC(c))),l&&f.unshift(pP(l)),s){case"light":f.push(YU);break;case"dark":f.push(XU);break;case"none":break;default:f.push(s);break}return n===!1&&f.push(qe.editable.of(!1)),i&&f.push(Et.readOnly.of(!0)),[...f]},$U=r=>({line:r.state.doc.lineAt(r.state.selection.main.from),lineCount:r.state.doc.lines,lineBreak:r.state.lineBreak,length:r.state.doc.length,readOnly:r.state.readOnly,tabSize:r.state.tabSize,selection:r.state.selection,selectionAsSingle:r.state.selection.asSingle().main,ranges:r.state.selection.ranges,selectionCode:r.state.sliceDoc(r.state.selection.main.from,r.state.selection.main.to),selections:r.state.selection.ranges.map(e=>r.state.sliceDoc(e.from,e.to)),selectedText:r.state.selection.ranges.some(e=>!e.empty)});class QU{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(t=>{try{t()}catch(n){console.error("TimeoutLatch callback error:",n)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class dC{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var Ex=null,ZU=()=>typeof window>"u"?new dC:(Ex||(Ex=new dC),Ex),pC=gs.define(),JU=200,eV=[];function tV(r){var{value:e,selection:t,onChange:n,onStatistics:i,onCreateEditor:s,onUpdate:l,extensions:c=eV,autoFocus:f,theme:h="light",height:d=null,minHeight:m=null,maxHeight:g=null,width:x=null,minWidth:b=null,maxWidth:y=null,placeholder:S="",editable:T=!0,readOnly:A=!1,indentWithTab:C=!0,basicSetup:_=!0,root:N,initialState:R}=r,[O,z]=Q.useState(),[M,I]=Q.useState(),[P,W]=Q.useState(),K=Q.useState(()=>({current:null}))[0],se=Q.useState(()=>({current:null}))[0],ue=qe.theme({"&":{height:d,minHeight:m,maxHeight:g,width:x,minWidth:b,maxWidth:y},"& .cm-scroller":{height:"100% !important"}}),ee=qe.updateListener.of(Ee=>{if(Ee.docChanged&&typeof n=="function"&&!Ee.transactions.some(D=>D.annotation(pC))){K.current?K.current.reset():(K.current=new QU(()=>{if(se.current){var D=se.current;se.current=null,D()}K.current=null},JU),ZU().add(K.current));var ke=Ee.state.doc,j=ke.toString();n(j,Ee)}i&&i($U(Ee))}),ie=KU({theme:h,editable:T,readOnly:A,placeholder:S,indentWithTab:C,basicSetup:_}),be=[ee,ue,...ie];return l&&typeof l=="function"&&be.push(qe.updateListener.of(l)),be=be.concat(c),Q.useLayoutEffect(()=>{if(O&&!P){var Ee={doc:e,selection:t,extensions:be},ke=R?Et.fromJSON(R.json,Ee,R.fields):Et.create(Ee);if(W(ke),!M){var j=new qe({state:ke,parent:O,root:N});I(j),s&&s(j,ke)}}return()=>{M&&(W(void 0),I(void 0))}},[O,P]),Q.useEffect(()=>{r.container&&z(r.container)},[r.container]),Q.useEffect(()=>()=>{M&&(M.destroy(),I(void 0)),K.current&&(K.current.cancel(),K.current=null)},[M]),Q.useEffect(()=>{f&&M&&M.focus()},[f,M]),Q.useEffect(()=>{M&&M.dispatch({effects:ut.reconfigure.of(be)})},[h,c,d,m,g,x,b,y,S,T,A,C,_,n,l]),Q.useEffect(()=>{if(e!==void 0){var Ee=M?M.state.doc.toString():"";if(M&&e!==Ee){var ke=K.current&&!K.current.isDone,j=()=>{M&&e!==M.state.doc.toString()&&M.dispatch({changes:{from:0,to:M.state.doc.toString().length,insert:e||""},annotations:[pC.of(!0)]})};ke?se.current=j:j()}}},[e,M]),{state:P,setState:W,view:M,setView:I,container:O,setContainer:z}}var rV=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],R6=Q.forwardRef((r,e)=>{var{className:t,value:n="",selection:i,extensions:s=[],onChange:l,onStatistics:c,onCreateEditor:f,onUpdate:h,autoFocus:d,theme:m="light",height:g,minHeight:x,maxHeight:b,width:y,minWidth:S,maxWidth:T,basicSetup:A,placeholder:C,indentWithTab:_,editable:N,readOnly:R,root:O,initialState:z}=r,M=UF(r,rV),I=Q.useRef(null),{state:P,view:W,container:K,setContainer:se}=tV({root:O,value:n,autoFocus:d,theme:m,height:g,minHeight:x,maxHeight:b,width:y,minWidth:S,maxWidth:T,basicSetup:A,placeholder:C,indentWithTab:_,editable:N,readOnly:R,selection:i,onChange:l,onStatistics:c,onCreateEditor:f,onUpdate:h,extensions:s,initialState:z});Q.useImperativeHandle(e,()=>({editor:I.current,state:P,view:W}),[I,K,P,W]);var ue=Q.useCallback(ie=>{I.current=ie,se(ie)},[se]);if(typeof n!="string")throw new Error("value must be typeof string but got "+typeof n);var ee=typeof m=="string"?"cm-theme-"+m:"cm-theme";return E.jsx("div",jx({ref:ue,className:""+ee+(t?" "+t:"")},M))});R6.displayName="CodeMirror";var mC={};class Ud{constructor(e,t,n,i,s,l,c,f,h,d=0,m){this.p=e,this.stack=t,this.state=n,this.reducePos=i,this.pos=s,this.score=l,this.buffer=c,this.bufferBase=f,this.curContext=h,this.lookAhead=d,this.parent=m}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,n=0){let i=e.parser.context;return new Ud(e,[],t,n,n,0,[],0,i?new gC(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let n=e>>19,i=e&65535,{parser:s}=this.p,l=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),c=s.dynamicPrecedence(i);if(c&&(this.score+=c),n==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(i,this.reducePos);return}let f=this.stack.length-(n-1)*3-(e&262144?6:0),h=f?this.stack[f-2]:this.p.ranges[0].from,d=this.reducePos-h;d>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=d));let m=f?this.stack[f-1]:0,g=this.bufferBase+this.buffer.length-m;if(i<s.minRepeatTerm||e&131072){let x=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,h,x,g+4,!0)}if(e&262144)this.state=this.stack[f];else{let x=this.stack[f-3];this.state=s.getGoto(x,i,!0)}for(;this.stack.length>f;)this.stack.pop();this.reduceContext(i,h)}storeNode(e,t,n,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,c=this.buffer.length;if(c==0&&l.parent&&(c=l.bufferBase-l.parent.bufferBase,l=l.parent),c>0&&l.buffer[c-4]==0&&l.buffer[c-1]>-1){if(t==n)return;if(l.buffer[c-2]>=t){l.buffer[c-2]=n;return}}}if(!s||this.pos==n)this.buffer.push(e,t,n,i);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let c=!1;for(let f=l;f>0&&this.buffer[f-2]>n;f-=4)if(this.buffer[f-1]>=0){c=!0;break}if(c)for(;l>0&&this.buffer[l-2]>n;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,i>4&&(i-=4)}this.buffer[l]=e,this.buffer[l+1]=t,this.buffer[l+2]=n,this.buffer[l+3]=i}}shift(e,t,n,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:l}=this.p;(i>this.pos||t<=l.maxNode)&&(this.pos=i,l.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,n),this.shiftContext(t,n),t<=l.maxNode&&this.buffer.push(t,n,i,4)}else this.pos=i,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,i,4)}apply(e,t,n,i){e&65536?this.reduce(e):this.shift(e,t,n,i)}useNode(e,t){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let n=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new Ud(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new nV(this);;){let n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(n==0)return!1;if((n&65536)==0)return!0;t.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let s=0,l;s<t.length;s+=2)(l=t[s+1])!=this.state&&this.p.parser.hasAction(l,e)&&i.push(t[s],l);if(this.stack.length<120)for(let s=0;i.length<8&&s<t.length;s+=2){let l=t[s+1];i.some((c,f)=>f&1&&c==l)||i.push(t[s],l)}t=i}let n=[];for(let i=0;i<t.length&&n.length<4;i+=2){let s=t[i+1];if(s==this.state)continue;let l=this.split();l.pushState(s,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(t[i],this.pos),l.reducePos=this.pos,l.score-=200,n.push(l)}return n}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let n=t>>19,i=t&65535,s=this.stack.length-n*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;t=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],n=(i,s)=>{if(!t.includes(i))return t.push(i),e.allActions(i,l=>{if(!(l&393216))if(l&65536){let c=(l>>19)-s;if(c>1){let f=l&65535,h=this.stack.length-c*3;if(h>=0&&e.getGoto(this.stack[h],f,!1)>=0)return c<<19|65536|f}}else{let c=n(l,s+1);if(c!=null)return c}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new gC(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class gC{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class nV{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class Vd{constructor(e,t,n){this.stack=e,this.pos=t,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Vd(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Vd(this.stack,this.pos,this.index)}}function ah(r,e=Uint16Array){if(typeof r!="string")return r;let t=null;for(let n=0,i=0;n<r.length;){let s=0;for(;;){let l=r.charCodeAt(n++),c=!1;if(l==126){s=65535;break}l>=92&&l--,l>=34&&l--;let f=l-32;if(f>=46&&(f-=46,c=!0),s+=f,c)break;s*=46}t?t[i++]=s:t=new e(s)}return t}class rd{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const xC=new rd;class iV{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=xC,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let n=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<n.from;){if(!i)return null;let l=this.ranges[--i];s-=n.from-l.to,n=l}for(;t<0?s>n.to:s>=n.to;){if(i==this.ranges.length-1)return null;let l=this.ranges[++i];s+=l.from-n.to,n=l}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,n,i;if(t>=0&&t<this.chunk.length)n=this.pos+e,i=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(n=s,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let l=this.rangeIndex,c=this.range;for(;c.to<=n;)c=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-n)),i=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),i}acceptToken(e,t=0){let n=t?this.resolveOffset(t,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=xC,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let n="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(n+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return n}}class Po{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:n}=t.p;aV(this.data,e,t,this.id,n.data,n.tokenPrecTable)}}Po.prototype.contextual=Po.prototype.fallback=Po.prototype.extend=!1;Po.prototype.fallback=Po.prototype.extend=!1;class sV{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function aV(r,e,t,n,i,s){let l=0,c=1<<n,{dialect:f}=t.p.parser;e:for(;(c&r[l])!=0;){let h=r[l+1];for(let x=l+3;x<h;x+=2)if((r[x+1]&c)>0){let b=r[x];if(f.allows(b)&&(e.token.value==-1||e.token.value==b||lV(b,e.token.value,i,s))){e.acceptToken(b);break}}let d=e.next,m=0,g=r[l+2];if(e.next<0&&g>m&&r[h+g*3-3]==65535){l=r[h+g*3-1];continue e}for(;m<g;){let x=m+g>>1,b=h+x+(x<<1),y=r[b],S=r[b+1]||65536;if(d<y)g=x;else if(d>=S)m=x+1;else{l=r[b+2],e.advance();continue e}}break}}function vC(r,e,t){for(let n=e,i;(i=r[n])!=65535;n++)if(i==t)return n-e;return-1}function lV(r,e,t,n){let i=vC(t,n,e);return i<0||vC(t,n,r)<i}const ni=typeof process<"u"&&mC&&/\bparse\b/.test(mC.LOG);let Cx=null;function yC(r,e,t){let n=r.cursor(Vr.IncludeAnonymous);for(n.moveTo(e);;)if(!(t<0?n.childBefore(e):n.childAfter(e)))for(;;){if((t<0?n.to<e:n.from>e)&&!n.type.isError)return t<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(r.length,Math.max(n.from+1,e+25));if(t<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return t<0?0:r.length}}class oV{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?yC(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?yC(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let n=this.trees[t],i=this.index[t];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=n.children[i],l=this.start[t]+n.positions[i];if(l>e)return this.nextStart=l,null;if(s instanceof Nr){if(l==e){if(l<this.safeFrom)return null;let c=l+s.length;if(c<=this.safeTo){let f=s.prop(pt.lookAhead);if(!f||c+f<this.fragment.to)return s}}this.index[t]++,l+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(l),this.index.push(0))}else this.index[t]++,this.nextStart=l+s.length}}}class cV{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new rd)}getActions(e){let t=0,n=null,{parser:i}=e.p,{tokenizers:s}=i,l=i.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,f=0;for(let h=0;h<s.length;h++){if((1<<h&l)==0)continue;let d=s[h],m=this.tokens[h];if(!(n&&!d.fallback)&&((d.contextual||m.start!=e.pos||m.mask!=l||m.context!=c)&&(this.updateCachedToken(m,d,e),m.mask=l,m.context=c),m.lookAhead>m.end+25&&(f=Math.max(m.lookAhead,f)),m.value!=0)){let g=t;if(m.extended>-1&&(t=this.addActions(e,m.extended,m.end,t)),t=this.addActions(e,m.value,m.end,t),!d.extend&&(n=m,t>g))break}}for(;this.actions.length>t;)this.actions.pop();return f&&e.setLookAhead(f),!n&&e.pos==this.stream.end&&(n=new rd,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new rd,{pos:n,p:i}=e;return t.start=n,t.end=Math.min(n+1,i.stream.end),t.value=n==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,n){let i=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(i,e),n),e.value>-1){let{parser:s}=n.p;for(let l=0;l<s.specialized.length;l++)if(s.specialized[l]==e.value){let c=s.specializers[l](this.stream.read(e.start,e.end),n);if(c>=0&&n.p.parser.dialect.allows(c>>1)){(c&1)==0?e.value=c>>1:e.extended=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,n,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=n,i}addActions(e,t,n,i){let{state:s}=e,{parser:l}=e.p,{data:c}=l;for(let f=0;f<2;f++)for(let h=l.stateSlot(s,f?2:1);;h+=3){if(c[h]==65535)if(c[h+1]==1)h=Ls(c,h+2);else{i==0&&c[h+1]==2&&(i=this.putAction(Ls(c,h+2),t,n,i));break}c[h]==t&&(i=this.putAction(Ls(c,h+1),t,n,i))}return i}}class fV{constructor(e,t,n,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new iV(t,i),this.tokens=new cV(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[Ud.start(this,e.top[0],s)],this.fragments=n.length&&this.stream.end-s>e.bufferLength*4?new oV(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,n=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let c=e[l];for(;;){if(this.tokens.mainToken=null,c.pos>t)n.push(c);else{if(this.advanceStack(c,n,e))continue;{i||(i=[],s=[]),i.push(c);let f=this.tokens.getMainToken(c);s.push(f.value,f.end)}}break}}if(!n.length){let l=i&&hV(i);if(l)return ni&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw ni&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let l=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,n);if(l)return ni&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(n.length>l)for(n.sort((c,f)=>f.score-c.score);n.length>l;)n.pop();n.some(c=>c.reducePos>t)&&this.recovering--}else if(n.length>1){e:for(let l=0;l<n.length-1;l++){let c=n[l];for(let f=l+1;f<n.length;f++){let h=n[f];if(c.sameState(h)||c.buffer.length>500&&h.buffer.length>500)if((c.score-h.score||c.buffer.length-h.buffer.length)>0)n.splice(f--,1);else{n.splice(l--,1);continue e}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let l=1;l<n.length;l++)n[l].pos<this.minStackPos&&(this.minStackPos=n[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,n){let i=e.pos,{parser:s}=this,l=ni?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,d=h?e.curContext.hash:0;for(let m=this.fragments.nodeAt(i);m;){let g=this.parser.nodeSet.types[m.type.id]==m.type?s.getGoto(e.state,m.type.id):-1;if(g>-1&&m.length&&(!h||(m.prop(pt.contextHash)||0)==d))return e.useNode(m,g),ni&&console.log(l+this.stackID(e)+` (via reuse of ${s.getName(m.type.id)})`),!0;if(!(m instanceof Nr)||m.children.length==0||m.positions[0]>0)break;let x=m.children[0];if(x instanceof Nr&&m.positions[0]==0)m=x;else break}}let c=s.stateSlot(e.state,4);if(c>0)return e.reduce(c),ni&&console.log(l+this.stackID(e)+` (via always-reduce ${s.getName(c&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let f=this.tokens.getActions(e);for(let h=0;h<f.length;){let d=f[h++],m=f[h++],g=f[h++],x=h==f.length||!n,b=x?e:e.split(),y=this.tokens.mainToken;if(b.apply(d,m,y?y.start:b.pos,g),ni&&console.log(l+this.stackID(b)+` (via ${(d&65536)==0?"shift":`reduce of ${s.getName(d&65535)}`} for ${s.getName(m)} @ ${i}${b==e?"":", split"})`),x)return!0;b.pos>i?t.push(b):n.push(b)}return!1}advanceFully(e,t){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return bC(e,t),!0}}runRecovery(e,t,n){let i=null,s=!1;for(let l=0;l<e.length;l++){let c=e[l],f=t[l<<1],h=t[(l<<1)+1],d=ni?this.stackID(c)+" -> ":"";if(c.deadEnd&&(s||(s=!0,c.restart(),ni&&console.log(d+this.stackID(c)+" (restarted)"),this.advanceFully(c,n))))continue;let m=c.split(),g=d;for(let x=0;x<10&&m.forceReduce()&&(ni&&console.log(g+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,n));x++)ni&&(g=this.stackID(m)+" -> ");for(let x of c.recoverByInsert(f))ni&&console.log(d+this.stackID(x)+" (via recover-insert)"),this.advanceFully(x,n);this.stream.end>c.pos?(h==c.pos&&(h++,f=0),c.recoverByDelete(f,h),ni&&console.log(d+this.stackID(c)+` (via recover-delete ${this.parser.getName(f)})`),bC(c,n)):(!i||i.score<c.score)&&(i=c)}return i}stackToTree(e){return e.close(),Nr.build({buffer:Vd.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Cx||(Cx=new WeakMap)).get(e);return t||Cx.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function bC(r,e){for(let t=0;t<e.length;t++){let n=e[t];if(n.pos==r.pos&&n.sameState(r)){e[t].score<r.score&&(e[t]=r);return}}e.push(r)}class uV{constructor(e,t,n){this.source=e,this.flags=t,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}class qd extends cT{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let c=0;c<e.repeatNodeCount;c++)t.push("");let n=Object.keys(e.topRules).map(c=>e.topRules[c][1]),i=[];for(let c=0;c<t.length;c++)i.push([]);function s(c,f,h){i[c].push([f,f.deserialize(String(h))])}if(e.nodeProps)for(let c of e.nodeProps){let f=c[0];typeof f=="string"&&(f=pt[f]);for(let h=1;h<c.length;){let d=c[h++];if(d>=0)s(d,f,c[h++]);else{let m=c[h+-d];for(let g=-d;g>0;g--)s(c[h++],f,m);h++}}}this.nodeSet=new Ov(t.map((c,f)=>Wn.define({name:f>=this.minRepeatTerm?void 0:c,id:f,props:i[f],top:n.indexOf(f)>-1,error:f==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(f)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=sT;let l=ah(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(wC),this.states=ah(e.states,Uint32Array),this.data=ah(e.stateData),this.goto=ah(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>typeof c=="number"?new Po(l,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,n){let i=new fV(this,e,t,n);for(let s of this.wrappers)i=s(i,e,t,n);return i}getGoto(e,t,n=!1){let i=this.goto;if(t>=i[0])return-1;for(let s=i[t+1];;){let l=i[s++],c=l&1,f=i[s++];if(c&&n)return f;for(let h=s+(l>>1);s<h;s++)if(i[s]==e)return f;if(c)return-1}}hasAction(e,t){let n=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),l;;s+=3){if((l=n[s])==65535)if(n[s+1]==1)l=n[s=Ls(n,s+2)];else{if(n[s+1]==2)return Ls(n,s+2);break}if(l==t||l==0)return Ls(n,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,n=>n==t?!0:null)}allActions(e,t){let n=this.stateSlot(e,4),i=n?t(n):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Ls(this.data,s+2);else break;i=t(Ls(this.data,s+1))}return i}nextStates(e){let t=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=Ls(this.data,n+2);else break;if((this.data[n+2]&1)==0){let i=this.data[n+1];t.some((s,l)=>l&1&&s==i)||t.push(this.data[n],i)}}return t}configure(e){let t=Object.assign(Object.create(qd.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=n}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(n=>{let i=e.tokenizers.find(s=>s.from==n);return i?i.to:n})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((n,i)=>{let s=e.specializers.find(c=>c.from==n.external);if(!s)return n;let l=Object.assign(Object.assign({},n),{external:s.to});return t.specializers[i]=wC(l),l})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),n=t.map(()=>!1);if(e)for(let s of e.split(" ")){let l=t.indexOf(s);l>=0&&(n[l]=!0)}let i=null;for(let s=0;s<t.length;s++)if(!n[s])for(let l=this.dialects[t[s]],c;(c=this.data[l++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[c]=1;return new uV(e,n,i)}static deserialize(e){return new qd(e)}}function Ls(r,e){return r[e]|r[e+1]<<16}function hV(r){let e=null;for(let t of r){let n=t.p.stoppedAt;(t.pos==t.p.stream.end||n!=null&&t.pos>n)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function wC(r){if(r.external){let e=r.extend?1:0;return(t,n)=>r.external(t,n)<<1|e}return r.get}const dV=36,SC=1,pV=2,bo=3,Ax=4,mV=5,gV=6,xV=7,vV=8,yV=9,bV=10,wV=11,SV=12,EV=13,CV=14,AV=15,TV=16,_V=17,EC=18,DV=19,M6=20,F6=21,CC=22,kV=23,OV=24;function L1(r){return r>=65&&r<=90||r>=97&&r<=122||r>=48&&r<=57}function BV(r){return r>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70}function fl(r,e,t){for(let n=!1;;){if(r.next<0)return;if(r.next==e&&!n){r.advance();return}n=t&&!n&&r.next==92,r.advance()}}function NV(r,e){e:for(;;){if(r.next<0)return;if(r.next==36){r.advance();for(let t=0;t<e.length;t++){if(r.next!=e.charCodeAt(t))continue e;r.advance()}if(r.next==36){r.advance();return}}else r.advance()}}function RV(r,e){let t="[{<(".indexOf(String.fromCharCode(e)),n=t<0?e:"]}>)".charCodeAt(t);for(;;){if(r.next<0)return;if(r.next==n&&r.peek(1)==39){r.advance(2);return}r.advance()}}function I1(r,e){for(;!(r.next!=95&&!L1(r.next));)e!=null&&(e+=String.fromCharCode(r.next)),r.advance();return e}function MV(r){if(r.next==39||r.next==34||r.next==96){let e=r.next;r.advance(),fl(r,e,!1)}else I1(r)}function AC(r,e){for(;r.next==48||r.next==49;)r.advance();e&&r.next==e&&r.advance()}function TC(r,e){for(;;){if(r.next==46){if(e)break;e=!0}else if(r.next<48||r.next>57)break;r.advance()}if(r.next==69||r.next==101)for(r.advance(),(r.next==43||r.next==45)&&r.advance();r.next>=48&&r.next<=57;)r.advance()}function _C(r){for(;!(r.next<0||r.next==10);)r.advance()}function ol(r,e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)==r)return!0;return!1}const Tx=` 	\r
`;function L6(r,e,t){let n=Object.create(null);n.true=n.false=mV,n.null=n.unknown=gV;for(let i of r.split(" "))i&&(n[i]=M6);for(let i of e.split(" "))i&&(n[i]=F6);for(let i of(t||"").split(" "))i&&(n[i]=OV);return n}const I6="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",P6="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",P1={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:L6(P6,I6)};function FV(r,e,t,n){let i={};for(let s in P1)i[s]=(r.hasOwnProperty(s)?r:P1)[s];return e&&(i.words=L6(e,t||"",n)),i}function j6(r){return new sV(e=>{var t;let{next:n}=e;if(e.advance(),ol(n,Tx)){for(;ol(e.next,Tx);)e.advance();e.acceptToken(dV)}else if(n==36&&r.doubleDollarQuotedStrings){let i=I1(e,"");e.next==36&&(e.advance(),NV(e,i),e.acceptToken(bo))}else if(n==39||n==34&&r.doubleQuotedStrings)fl(e,n,r.backslashEscapes),e.acceptToken(bo);else if(n==35&&r.hashComments||n==47&&e.next==47&&r.slashComments)_C(e),e.acceptToken(SC);else if(n==45&&e.next==45&&(!r.spaceAfterDashes||e.peek(1)==32))_C(e),e.acceptToken(SC);else if(n==47&&e.next==42){e.advance();for(let i=1;;){let s=e.next;if(e.next<0)break;if(e.advance(),s==42&&e.next==47){if(i--,e.advance(),!i)break}else s==47&&e.next==42&&(i++,e.advance())}e.acceptToken(pV)}else if((n==101||n==69)&&e.next==39)e.advance(),fl(e,39,!0),e.acceptToken(bo);else if((n==110||n==78)&&e.next==39&&r.charSetCasts)e.advance(),fl(e,39,r.backslashEscapes),e.acceptToken(bo);else if(n==95&&r.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),fl(e,39,r.backslashEscapes),e.acceptToken(bo);break}if(!L1(e.next))break;e.advance()}else if(r.plsqlQuotingMechanism&&(n==113||n==81)&&e.next==39&&e.peek(1)>0&&!ol(e.peek(1),Tx)){let i=e.peek(1);e.advance(2),RV(e,i),e.acceptToken(bo)}else if(ol(n,r.identifierQuotes)){const i=n==91?93:n;fl(e,i,!1),e.acceptToken(DV)}else if(n==40)e.acceptToken(xV);else if(n==41)e.acceptToken(vV);else if(n==123)e.acceptToken(yV);else if(n==125)e.acceptToken(bV);else if(n==91)e.acceptToken(wV);else if(n==93)e.acceptToken(SV);else if(n==59)e.acceptToken(EV);else if(r.unquotedBitLiterals&&n==48&&e.next==98)e.advance(),AC(e),e.acceptToken(CC);else if((n==98||n==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),r.treatBitsAsBytes?(fl(e,i,r.backslashEscapes),e.acceptToken(kV)):(AC(e,i),e.acceptToken(CC))}else if(n==48&&(e.next==120||e.next==88)||(n==120||n==88)&&e.next==39){let i=e.next==39;for(e.advance();BV(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(Ax)}else if(n==46&&e.next>=48&&e.next<=57)TC(e,!0),e.acceptToken(Ax);else if(n==46)e.acceptToken(CV);else if(n>=48&&n<=57)TC(e,!1),e.acceptToken(Ax);else if(ol(n,r.operatorChars)){for(;ol(e.next,r.operatorChars);)e.advance();e.acceptToken(AV)}else if(ol(n,r.specialVar))e.next==n&&e.advance(),MV(e),e.acceptToken(_V);else if(n==58||n==44)e.acceptToken(TV);else if(L1(n)){let i=I1(e,String.fromCharCode(n));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?EC:(t=r.words[i.toLowerCase()])!==null&&t!==void 0?t:EC)}})}const z6=j6(P1),LV=qd.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,z6],topRules:{Script:[0,25]},tokenPrec:0});function j1(r){let e=r.cursor().moveTo(r.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function G0(r,e){let t=r.sliceString(e.from,e.to),n=/^([`'"\[])(.*)([`'"\]])$/.exec(t);return n?n[2]:t}function Wd(r){return r&&(r.name=="Identifier"||r.name=="QuotedIdentifier")}function IV(r,e){if(e.name=="CompositeIdentifier"){let t=[];for(let n=e.firstChild;n;n=n.nextSibling)Wd(n)&&t.push(G0(r,n));return t}return[G0(r,e)]}function DC(r,e){for(let t=[];;){if(!e||e.name!=".")return t;let n=j1(e);if(!Wd(n))return t;t.unshift(G0(r,n)),e=j1(n)}}function PV(r,e){let t=Yr(r).resolveInner(e,-1),n=zV(r.doc,t);return t.name=="Identifier"||t.name=="QuotedIdentifier"||t.name=="Keyword"?{from:t.from,quoted:t.name=="QuotedIdentifier"?r.doc.sliceString(t.from,t.from+1):null,parents:DC(r.doc,j1(t)),aliases:n}:t.name=="."?{from:e,quoted:null,parents:DC(r.doc,t),aliases:n}:{from:e,quoted:null,parents:[],empty:!0,aliases:n}}const jV=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function zV(r,e){let t;for(let i=e;!t;i=i.parent){if(!i)return null;i.name=="Statement"&&(t=i)}let n=null;for(let i=t.firstChild,s=!1,l=null;i;i=i.nextSibling){let c=i.name=="Keyword"?r.sliceString(i.from,i.to).toLowerCase():null,f=null;if(!s)s=c=="from";else if(c=="as"&&l&&Wd(i.nextSibling))f=G0(r,i.nextSibling);else{if(c&&jV.has(c))break;l&&Wd(i)&&(f=G0(r,i))}f&&(n||(n=Object.create(null)),n[f]=IV(r,l)),l=/Identifier$/.test(i.name)?i:null}return n}function HV(r,e,t){return t.map(n=>({...n,label:n.label[0]==r?n.label:r+n.label+e,apply:void 0}))}const UV=/^\w*$/,VV=/^[`'"\[]?\w*[`'"\]]?$/;function kC(r){return r.self&&typeof r.self.label=="string"}class Xv{constructor(e,t){this.idQuote=e,this.idCaseInsensitive=t,this.list=[],this.children=void 0}child(e){let t=this.children||(this.children=Object.create(null)),n=t[e];return n||(e&&!this.list.some(i=>i.label==e)&&this.list.push(OC(e,"type",this.idQuote,this.idCaseInsensitive)),t[e]=new Xv(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let t=this.list.findIndex(n=>n.label==e.label);t>-1?this.list[t]=e:this.list.push(e)}addCompletions(e){for(let t of e)this.addCompletion(typeof t=="string"?OC(t,"property",this.idQuote,this.idCaseInsensitive):t)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):kC(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let t of Object.keys(e)){let n=e[t],i=null,s=t.replace(/\\?\./g,c=>c=="."?"\0":c).split("\0"),l=this;kC(n)&&(i=n.self,n=n.children);for(let c=0;c<s.length;c++)i&&c==s.length-1&&l.addCompletion(i),l=l.child(s[c].replace(/\\\./g,"."));l.addNamespace(n)}}}function OC(r,e,t,n){return new RegExp("^[a-z_][a-z_\\d]*$",n?"i":"").test(r)?{label:r,type:e}:{label:r,type:e,apply:t+r+H6(t)}}function H6(r){return r==="["?"]":r}function qV(r,e,t,n,i,s){var l;let c=((l=s?.spec.identifierQuotes)===null||l===void 0?void 0:l[0])||'"',f=new Xv(c,!!s?.spec.caseInsensitiveIdentifiers),h=i?f.child(i):null;return f.addNamespace(r),e&&(h||f).addCompletions(e),t&&f.addCompletions(t),h&&f.addCompletions(h.list),n&&f.addCompletions((h||f).child(n).list),d=>{let{parents:m,from:g,quoted:x,empty:b,aliases:y}=PV(d.state,d.pos);if(b&&!d.explicit)return null;y&&m.length==1&&(m=y[m[0]]||m);let S=f;for(let A of m){for(;!S.children||!S.children[A];)if(S==f&&h)S=h;else if(S==h&&n)S=S.child(n);else return null;let C=S.maybeChild(A);if(!C)return null;S=C}let T=S.list;if(S==f&&y&&(T=T.concat(Object.keys(y).map(A=>({label:A,type:"constant"})))),x){let A=x[0],C=H6(A),_=d.state.sliceDoc(d.pos,d.pos+1)==C;return{from:g,to:_?d.pos+1:void 0,options:HV(A,C,T),validFor:VV}}else return{from:g,options:T,validFor:UV}}}function WV(r){return r==F6?"type":r==M6?"keyword":"variable"}function GV(r,e,t){let n=Object.keys(r).map(i=>t(e?i.toUpperCase():i,WV(r[i])));return jH(["QuotedIdentifier","String","LineComment","BlockComment","."],v6(n))}let XV=LV.configure({props:[pT.add({Statement:vj()}),gT.add({Statement(r,e){return{from:Math.min(r.from+100,e.doc.lineAt(r.from).to),to:r.to}},BlockComment(r){return{from:r.from+2,to:r.to-2}}}),fT({Keyword:xe.keyword,Type:xe.typeName,Builtin:xe.standard(xe.name),Bits:xe.number,Bytes:xe.string,Bool:xe.bool,Null:xe.null,Number:xe.number,String:xe.string,Identifier:xe.name,QuotedIdentifier:xe.special(xe.string),SpecialVar:xe.special(xe.name),LineComment:xe.lineComment,BlockComment:xe.blockComment,Operator:xe.operator,"Semi Punctuation":xe.punctuation,"( )":xe.paren,"{ }":xe.brace,"[ ]":xe.squareBracket})]});class X0{constructor(e,t,n){this.dialect=e,this.language=t,this.spec=n}get extension(){return this.language.extension}configureLanguage(e,t){return new X0(this.dialect,this.language.configure(e,t),this.spec)}static define(e){let t=FV(e,e.keywords,e.types,e.builtin),n=kd.define({name:"sql",parser:XV.configure({tokenizers:[{from:z6,to:j6(t)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new X0(t,n,e)}}function YV(r,e){return{label:r,type:e,boost:-1}}function KV(r,e=!1,t){return GV(r.dialect.words,e,t||YV)}function $V(r){return r.schema?qV(r.schema,r.tables,r.schemas,r.defaultTable,r.defaultSchema,r.dialect||Yv):()=>null}function QV(r){return r.schema?(r.dialect||Yv).language.data.of({autocomplete:$V(r)}):[]}function ZV(r={}){let e=r.dialect||Yv;return new cj(e.language,[QV(r),e.language.data.of({autocomplete:KV(e,r.upperCaseKeywords,r.keywordCompletion)})])}const Yv=X0.define({}),JV=X0.define({keywords:P6+"abort accept access add all alter and any arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body by case cast char_base check close cluster clusters colauth column comment commit compress connected constant constraint crash create current currval cursor data_base database dba deallocate debugoff debugon declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry exception exception_init exchange exclusive exists external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base of off offline on online only option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw rebuild record ref references refresh rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work",builtin:"appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define echo editfile embedded feedback flagger flush heading headsep instance linesize lno loboffset logsource longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar repfooter repheader serveroutput shiftinout show showmode spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout timing trimout trimspool ttitle underline verify version wrap",types:I6+"ascii bfile bfilename bigserial bit blob dec long number nvarchar nvarchar2 serial smallint string text uid varchar2 xml",operatorChars:"*/+-%<>!=~",doubleQuotedStrings:!0,charSetCasts:!0,plsqlQuotingMechanism:!0});var _x={exports:{}},Dx,BC;function eq(){if(BC)return Dx;BC=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Dx=r,Dx}var kx,NC;function tq(){if(NC)return kx;NC=1;var r=eq();function e(){}function t(){}return t.resetWarningCache=e,kx=function(){function n(l,c,f,h,d,m){if(m!==r){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},kx}var RC;function rq(){return RC||(RC=1,_x.exports=tq()()),_x.exports}var nq=rq();const hn=V1(nq),U6=({children:r})=>{const e=Q.useRef(null),[t,n]=Q.useState({width:0,height:0});return Q.useEffect(()=>{if(!e.current)return;const i=new ResizeObserver(s=>{for(let l of s){const{width:c,height:f}=l.contentRect;n({width:c,height:f})}});return i.observe(e.current),()=>i.disconnect()},[]),E.jsx("div",{ref:e,style:{width:"100%",height:"100%"},children:t.width>0&&t.height>0&&r(t)})};U6.propTypes={children:hn.func.isRequired};const V6=({height:r,width:e,itemCount:t,itemSize:n,minWidth:i,header:s,headerHeight:l=40,children:c})=>{const[f,h]=Q.useState(0),d=Q.useRef(null),m=A=>{h(A.target.scrollTop)},g=t*n,x=5,b=Math.max(0,f-l),y=Math.max(0,Math.floor(b/n)-x),S=Math.min(t-1,Math.floor((b+r)/n)+x),T=[];for(let A=y;A<=S;A++)T.push(c({index:A,style:{position:"absolute",top:A*n+l,left:0,width:"100%",height:n}}));return E.jsx("div",{ref:d,onScroll:m,style:{height:r,width:e,overflow:"auto",position:"relative",willChange:"transform"},children:E.jsxs("div",{style:{height:g+l,position:"relative",width:"100%",minWidth:i||"100%"},children:[E.jsx("div",{style:{position:"sticky",top:0,zIndex:10,height:l,width:"100%"},children:s}),T]})})};V6.propTypes={height:hn.number.isRequired,width:hn.number.isRequired,itemCount:hn.number.isRequired,itemSize:hn.number.isRequired,minWidth:hn.number,header:hn.node,headerHeight:hn.number,children:hn.func.isRequired};function q6({isVisible:r,tabs:e,setTabs:t,activeTabId:n,setActiveTabId:i,savedQueries:s,setSavedQueries:l}){const{theme:c}=Q.useContext(pv),f=Q.useRef(null),h=Q.useRef(null),[d,m]=Q.useState(null),g=Q.useRef(null);Q.useEffect(()=>{const ge=()=>{f.current&&f.current.focus()},Me=setTimeout(()=>{ge()},100),Ne=()=>{ge()};return window.addEventListener("focus",Ne),()=>{clearTimeout(Me),window.removeEventListener("focus",Ne)}},[]),Q.useEffect(()=>{if(r){const ge=[setTimeout(()=>f.current?.focus(),50),setTimeout(()=>f.current?.focus(),200),setTimeout(()=>f.current?.focus(),500)];return()=>ge.forEach(Me=>clearTimeout(Me))}},[r]);const[x,b]=Q.useState({}),y=Q.useRef(null),S=(ge,Me)=>{ge.preventDefault(),ge.stopPropagation(),y.current={colName:Me,startX:ge.clientX,startWidth:x[Me]||150},document.addEventListener("mousemove",T),document.addEventListener("mouseup",A)},T=ge=>{if(!y.current)return;const{colName:Me,startX:Ne,startWidth:et}=y.current,Ye=ge.clientX-Ne,rt=Math.max(50,et+Ye);b(at=>({...at,[Me]:rt}))},A=()=>{y.current=null,document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",A)},C=(ge,Me="success",Ne=3e3)=>{g.current&&(clearTimeout(g.current),g.current=null),m({message:ge,type:Me}),Ne>0&&(g.current=setTimeout(()=>{m(null),g.current=null},Ne))},_=e.find(ge=>ge.id===n)||e[0],N=ge=>{t(Me=>Me.map(Ne=>Ne.id===n?{...Ne,...ge}:Ne))},[R,O]=Q.useState(!1),[z,M]=Q.useState(1e3),[I,P]=Q.useState(""),[W,K]=Q.useState(!1),[se,ue]=Q.useState(!0),[ee,ie]=Q.useState("saved"),[be,Ee]=Q.useState(""),[ke,j]=Q.useState([]),[D,L]=Q.useState(null),[B,U]=Q.useState([]),[Z,le]=Q.useState(!1),[re,ve]=Q.useState({}),[pe,Je]=Q.useState({}),[Xe,ct]=Q.useState([]),[We,Fe]=Q.useState({}),[je,Oe]=Q.useState(!1),[$e,lt]=Q.useState(!1),[mt,Mt]=Q.useState(!1),[Ht,Cr]=Q.useState(null);Q.useEffect(()=>{if(_.results&&_.results.metaData){const ge={},Me=_.results.metaData.map(Ne=>Ne.name);_.results.metaData.forEach(Ne=>ge[Ne.name]=!0),Je(ge),ct(Me),Fe({})}},[_.results]);const bt=async(ge="")=>{le(!0);try{const Ne=await(await fetch(`http://localhost:3001/api/tables?search=${encodeURIComponent(ge)}`)).json();j(Ne);const et={...re};Ne.forEach(Ye=>{et[Ye]||(et[Ye]=[])}),ve(et)}catch(Me){console.error("Failed to fetch schema tables",Me)}finally{le(!1)}},Gn=async ge=>{if(D===ge){L(null),U([]);return}L(ge);try{const Ne=await(await fetch(`http://localhost:3001/api/columns/${encodeURIComponent(ge)}`)).json();U(Ne),ve(et=>({...et,[ge]:Ne.map(Ye=>Ye.name)}))}catch(Me){console.error("Failed to fetch columns",Me)}},zr=ge=>{N({sqlContent:_.sqlContent+" "+ge})},vr=async ge=>{const Me=ge.target.files[0];if(!Me)return;const Ne=new FormData;Ne.append("file",Me),N({loading:!0});try{const Ye=await(await fetch("http://localhost:3001/api/upload/sql",{method:"POST",body:Ne})).json();if(Ye.error)throw new Error(Ye.error);N({sqlContent:Ye.sql,loading:!1}),P(Me.name.replace(/\.sql$/i,""))}catch(et){N({error:et.message,loading:!1})}},sr=async()=>{N({loading:!0,error:null,results:null,totalRecords:void 0});try{const ge=_.sqlContent.trim().replace(/;+\s*$/,""),Ne=await(await fetch("http://127.0.0.1:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:ge,limit:z,filter:mt?We:null})})).json();if(Ne.error)throw new Error(Ne.error);const et={...Ne,rows:Ne.rows||[],metaData:Ne.metaData||[]};Ne.rowsAffected!==void 0?C(`Comando executado com sucesso. Linhas afetadas: ${Ne.rowsAffected}`):!Ne.rows&&!Ne.metaData&&C("Comando executado com sucesso."),N({results:et,loading:!1});try{const rt=await(await fetch("http://127.0.0.1:3001/api/query/count",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:ge})})).json();rt.count!==void 0&&N({totalRecords:rt.count})}catch(Ye){console.error("Failed to fetch count",Ye)}}catch(ge){N({error:ge.message,loading:!1})}},Dn=()=>{if(!I){alert("Por favor, insira um nome para a query.");return}const ge={id:Date.now(),name:I,sql:_.sqlContent},Me=[...s,ge];l(Me),K(!1),P("")},Xn=ge=>{if(window.confirm("Tem certeza que deseja excluir esta query?")){const Me=s.filter(Ne=>Ne.id!==ge);l(Me)}},hr=ge=>{N({sqlContent:ge.sql}),P(ge.name)},vn=()=>{const ge=Date.now(),Me={id:ge,title:`Query ${e.length+1}`,sqlContent:"",results:null,error:null,loading:!1};t([...e,Me]),i(ge)},kn=(ge,Me)=>{if(ge.stopPropagation(),e.length===1){t([{...e[0],sqlContent:"",results:null,error:null}]);return}const Ne=e.filter(et=>et.id!==Me);t(Ne),n===Me&&i(Ne[Ne.length-1].id)},fr=_.results?!Object.values(We).some(Me=>Me&&Me.trim()!=="")||mt?_.results.rows:_.results.rows.filter(Me=>Xe.every((Ne,et)=>{const Ye=We[Ne];if(!Ye)return!0;const rt=_.results.metaData.findIndex(st=>st.name===Ne);return String(Me[rt]||"").toLowerCase().includes(Ye.toLowerCase())})):[],ur=async()=>{C("Iniciando download do CSV...","info",0);try{const ge=_.sqlContent.trim().replace(/;$/,""),Me=await fetch("http://localhost:3001/api/export/csv",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:ge,filter:mt?We:null})});if(!Me.ok)throw new Error("Erro na exportao");const Ne=await Me.blob();Yg.saveAs(Ne,`export_${Date.now()}.csv`),C("Download concludo!")}catch(ge){console.error(ge),C("Erro ao exportar: "+ge.message,"error")}},Ki=async(ge,Me,Ne)=>{if(window.electronAPI&&window.electronAPI.saveFile){const et=await window.electronAPI.saveFile({filename:ge,content:Me,type:Ne});et&&(C("Arquivo salvo com sucesso!"),window.electronAPI.showItemInFolder(et))}else{let et;if(Ne==="xlsx"){const Ye=atob(Me),rt=new Uint8Array(Ye.length);for(let at=0;at<Ye.length;at++)rt[at]=Ye.charCodeAt(at);et=new Blob([rt],{type:"application/octet-stream"})}else et=new Blob([Me],{type:"text/csv;charset=utf-8"});Yg.saveAs(et,ge),C("Download concludo!")}},Yn=async ge=>{if(!_.results||!_.results.rows||_.results.rows.length===0){alert("No h dados para exportar.");return}if((z!=="all"&&_.results.rows.length>=z||mt)&&window.confirm("A visualizao atual est limitada ou filtrada. Deseja exportar TODAS as linhas correspondentes?")){if(ge==="csv"){ur();return}else if(ge==="xlsx"){if(_.totalRecords>1e5&&window.confirm("Para grandes volumes (>100k), a exportao em Excel pode falhar ou ser lenta. Recomendamos CSV. Deseja exportar em CSV?")){ur();return}_.totalRecords>1e6&&alert("Ateno: O Excel suporta no mximo 1 milho de linhas. A exportao pode falhar. Recomendamos fortemente o uso de CSV."),C("Baixando dados do servidor...","info",0);try{const et=_.sqlContent.trim().replace(/;$/,""),rt=await(await fetch("http://127.0.0.1:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:et,limit:"all",filter:mt?We:null})})).json();if(rt.error)throw new Error(rt.error);const st=[rt.metaData.map(Y=>Y.name),...rt.rows],At=wa.book_new(),yr=wa.aoa_to_sheet(st);wa.book_append_sheet(At,yr,"Results");const Ar=Px(At,{bookType:"xlsx",type:"array"}),F=new Uint8Array(Ar);let G="";const V=F.byteLength;for(let Y=0;Y<V;Y++)G+=String.fromCharCode(F[Y]);const q=window.btoa(G),X=`export_full_${Date.now()}.xlsx`;await Ki(X,q,"xlsx")}catch(et){alert("Falha ao buscar todos os dados: "+et.message)}finally{}return}}C("Gerando arquivo...","info",0),setTimeout(async()=>{try{const et=[_.results.metaData.map(st=>st.name),...fr],rt=`sql_export_${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}.${ge}`;let at;if(ge==="xlsx"){const st=wa.book_new(),At=wa.aoa_to_sheet(et);wa.book_append_sheet(st,At,"Results");const yr=Px(st,{bookType:"xlsx",type:"array"}),Ar=new Uint8Array(yr);let F="";const G=Ar.byteLength;for(let V=0;V<G;V++)F+=String.fromCharCode(Ar[V]);at=window.btoa(F)}else if(ge==="csv"){const st=wa.aoa_to_sheet(et);at=wa.sheet_to_csv(st)}else if(ge==="txt"){const st=et.map(yr=>yr.join("	")).join(`
`),At=new Blob([st],{type:"text/plain;charset=utf-8"});Yg.saveAs(At,`${rt}.txt`),C("Download concludo!");return}await Ki(rt,at,ge)}catch(Ne){console.error("Export Error:",Ne),C("Falha ao exportar: "+Ne.message,"error")}},100)},$i=ge=>{if(typeof ge!="string")return ge;if(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?$/.test(ge)){const Ne=new Date(ge);if(isNaN(Ne.getTime()))return ge;const et=Ne.getHours(),Ye=Ne.getMinutes(),rt=Ne.getSeconds();return et!==0||Ye!==0||rt!==0?Ne.toLocaleString("pt-BR"):Ne.toLocaleDateString("pt-BR")}return ge},On=(ge,Me)=>{Cr(Me),ge.dataTransfer.effectAllowed="move"},ui=(ge,Me)=>{if(ge.preventDefault(),!Ht||Ht===Me)return;const Ne=[...Xe],et=Ne.indexOf(Ht),Ye=Ne.indexOf(Me);Ne.splice(et,1),Ne.splice(Ye,0,Ht),ct(Ne)},Ut=()=>{Cr(null)},Rt=({index:ge,style:Me})=>{const Ne=fr[ge];return E.jsx("div",{style:Me,className:`flex divide-x ${c.border} ${ge%2===0?c.panel:"bg-opacity-50 "+c.bg} hover:bg-blue-50 transition-colors`,children:Xe.map(et=>{if(!pe[et])return null;const Ye=_.results.metaData.findIndex(at=>at.name===et),rt=x[et]||150;return E.jsx("div",{className:`px-2 py-2 text-sm ${c.sidebarText} overflow-hidden text-ellipsis whitespace-nowrap`,style:{width:`${rt}px`,minWidth:`${rt}px`,maxWidth:`${rt}px`},title:String(Ne[Ye]),children:$i(Ne[Ye])},et)})})},ar=()=>{f.current&&!f.current.hasFocus&&f.current.focus()};return E.jsxs("div",{className:`space-y-4 relative h-full flex flex-col ${c.bg}`,children:[d&&E.jsx("div",{className:`fixed bottom-4 right-4 px-6 py-3 rounded shadow-lg z-50 animate-fade-in-up text-white font-medium ${d.type==="error"?"bg-red-600":"bg-green-600"}`,children:d.message}),R&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:E.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl flex flex-col items-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#f37021] mb-4"}),E.jsx("p",{className:"text-gray-700 font-semibold",children:"Exportando dados..."}),E.jsx("p",{className:"text-sm text-gray-500",children:"Por favor, aguarde."})]})}),E.jsxs("div",{className:"flex gap-4 h-full overflow-hidden",children:[E.jsxs("div",{className:"flex-1 space-y-2 flex flex-col overflow-hidden",children:[E.jsxs("div",{className:"flex items-center space-x-1 overflow-x-auto border-b border-gray-200 pb-1",children:[e.map(ge=>E.jsxs("div",{onClick:()=>i(ge.id),className:`group flex items-center px-3 py-1.5 text-xs font-medium rounded-t-lg cursor-pointer border-t border-l border-r ${n===ge.id?"bg-white text-blue-600 border-gray-200 relative top-[1px]":"bg-gray-100 text-gray-500 hover:bg-gray-50 border-transparent"}`,children:[E.jsx("span",{className:"mr-2 max-w-[100px] truncate",children:ge.title}),E.jsx("button",{onClick:Me=>kn(Me,ge.id),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500",children:""})]},ge.id)),E.jsx("button",{onClick:vn,className:"px-2 py-1 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Nova Aba",children:"+"})]}),E.jsxs("div",{className:"flex-none",children:[E.jsx("div",{ref:h,onClick:ar,className:`border rounded overflow-hidden ${c.border} cursor-text`,children:r&&E.jsx(R6,{value:_.sqlContent,height:"200px",extensions:[ZV({schema:re,dialect:JV}),_6({override:[ge=>{let Me=ge.matchBefore(/\w*/);if(!Me||Me.from==Me.to&&!ge.explicit)return null;const Ne=[{label:"NVL",type:"function",detail:"nvl(expr1, expr2)"},{label:"NVL2",type:"function",detail:"nvl2(expr1, expr2, expr3)"},{label:"DECODE",type:"function",detail:"decode(expr, search, result...)"},{label:"TO_CHAR",type:"function",detail:"to_char(n, [fmt])"},{label:"TO_DATE",type:"function",detail:"to_date(char, [fmt])"},{label:"TO_NUMBER",type:"function",detail:"to_number(expr, [fmt])"},{label:"SUBSTR",type:"function",detail:"substr(char, position, [len])"},{label:"INSTR",type:"function",detail:"instr(string, substring)"},{label:"REPLACE",type:"function",detail:"replace(char, search, [replace])"},{label:"TRUNC",type:"function",detail:"trunc(date, [fmt])"},{label:"ROUND",type:"function",detail:"round(n, [integer])"},{label:"SYSDATE",type:"keyword",detail:"Current Date"},{label:"UPPER",type:"function",detail:"upper(char)"},{label:"LOWER",type:"function",detail:"lower(char)"},{label:"COALESCE",type:"function",detail:"coalesce(expr1, ...)"},{label:"LISTAGG",type:"function",detail:"listagg(measure, delimiter)"},{label:"CASE",type:"keyword",detail:"CASE WHEN ... END"},{label:"WHEN",type:"keyword"},{label:"THEN",type:"keyword"},{label:"ELSE",type:"keyword"},{label:"END",type:"keyword"}];return{from:Me.from,options:Ne}}]})],onChange:ge=>N({sqlContent:ge}),theme:c.name==="Modo Escuro"||c.name==="Dracula"?"dark":"light",className:"text-sm",onCreateEditor:ge=>{f.current=ge,ge.focus()}})}),E.jsxs("div",{className:`mt-2 flex items-center justify-between p-2 rounded border ${c.panel} ${c.border}`,children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("button",{onClick:sr,disabled:!_.sqlContent||_.loading,className:`py-2 px-6 rounded-lg shadow-md transition-all font-semibold flex items-center disabled:opacity-50 ${c.primaryBtn}`,children:_.loading?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Executando..."]}):E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"mr-2",children:""})," Executar"]})}),_.totalRecords!==void 0&&E.jsxs("span",{className:"text-xs font-medium text-gray-500 ml-2",children:["Total: ",_.totalRecords.toLocaleString()," registros"]}),E.jsx("button",{onClick:()=>ue(!se),className:`p-2 rounded border transition-colors flex items-center justify-center ${se?`${c.primaryBtn}`:`${c.secondaryBtn}`}`,title:se?"Ocultar Menu Lateral":"Mostrar Menu Lateral",children:E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 6v12"})]})}),E.jsxs("label",{className:"cursor-pointer p-2 rounded border transition-colors text-gray-500 hover:bg-blue-50 hover:text-blue-600",title:"Carregar Arquivo SQL",children:[E.jsx("input",{type:"file",accept:".sql",onChange:vr,className:"hidden"}),E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})]}),E.jsx("div",{className:`flex items-center border-l pl-2 ${c.border}`,children:E.jsxs("select",{value:z,onChange:ge=>M(ge.target.value==="all"?"all":Number(ge.target.value)),title:"Limite de Linhas",className:`border rounded p-1.5 text-xs focus:ring-2 focus:ring-blue-500 outline-none w-24 ${c.input} ${c.border}`,children:[E.jsx("option",{value:100,children:"100 linhas"}),E.jsx("option",{value:500,children:"500 linhas"}),E.jsx("option",{value:1e3,children:"1000 linhas"}),E.jsx("option",{value:5e3,children:"5000 linhas"}),E.jsx("option",{value:"all",children:"Todas"})]})})]}),E.jsx("div",{className:"flex items-center space-x-2",children:W?E.jsxs("div",{className:"flex items-center space-x-2 animate-fade-in",children:[E.jsx("input",{type:"text",value:I,onChange:ge=>P(ge.target.value),placeholder:"Nome da Query",className:`border rounded p-1.5 text-sm focus:ring-2 focus:ring-[#f37021] outline-none ${c.input} ${c.border}`,autoFocus:!0}),E.jsx("button",{onClick:Dn,className:"text-green-600 hover:bg-green-50 p-1.5 rounded",title:"Confirmar",children:""}),E.jsx("button",{onClick:()=>K(!1),className:"text-red-600 hover:bg-red-50 p-1.5 rounded",title:"Cancelar",children:""})]}):E.jsxs("button",{onClick:()=>K(!0),disabled:!_.sqlContent,className:`px-3 py-2 rounded transition-colors text-sm font-medium flex items-center disabled:opacity-50 ${c.secondaryBtn}`,children:[E.jsx("span",{className:"mr-1",children:""})," Salvar Query"]})})]})]}),_.error&&E.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded shadow-sm",children:[E.jsx("p",{className:"text-red-700 font-medium",children:"Erro ao executar query:"}),E.jsx("p",{className:"text-sm text-red-600 mt-1",children:_.error})]}),_.results&&E.jsxs("div",{className:`rounded-lg shadow-md border flex-1 flex flex-col overflow-hidden min-h-0 ${c.panel} ${c.border}`,children:[E.jsxs("div",{className:`p-3 border-b flex justify-between items-center ${c.header}`,children:[E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsxs("h3",{className:`text-sm font-bold ${c.sidebarText}`,children:["Resultados: ",fr.length," ",_.totalRecords!==void 0?`de ${_.totalRecords.toLocaleString()} (Total)`:""," ",z!=="all"&&_.results.rows.length>=z?"(Limitado)":""]}),E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:()=>Oe(!je),className:`text-xs px-2 py-1 rounded border flex items-center ${c.secondaryBtn} ${c.border}`,children:" Colunas"}),je&&E.jsxs("div",{className:`absolute top-full left-0 mt-1 w-48 border rounded shadow-lg z-20 max-h-60 overflow-y-auto p-2 ${c.panel} ${c.border}`,children:[E.jsx("div",{className:"text-xs font-bold text-gray-500 mb-2 uppercase",children:"Exibir/Ocultar"}),Xe.map(ge=>E.jsxs("label",{className:"flex items-center space-x-2 mb-1 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[E.jsx("input",{type:"checkbox",checked:pe[ge],onChange:Me=>Je({...pe,[ge]:Me.target.checked}),className:"rounded text-blue-600 focus:ring-blue-500"}),E.jsx("span",{className:`text-sm truncate ${c.sidebarText}`,children:ge})]},ge))]})]}),E.jsx("button",{onClick:()=>lt(!$e),className:`text-xs px-2 py-1 rounded border flex items-center ${$e?`${c.primaryBtn}`:`${c.secondaryBtn} ${c.border}`}`,children:" Filtros"}),$e&&E.jsxs("label",{className:"flex items-center space-x-1 cursor-pointer select-none",title:"Filtrar em todo o banco de dados (ignora limite)",children:[E.jsx("input",{type:"checkbox",checked:mt,onChange:ge=>Mt(ge.target.checked),className:"rounded text-blue-600 focus:ring-blue-500 h-3 w-3"}),E.jsx("span",{className:`text-[10px] font-medium ${c.sidebarText}`,children:"Filtrar Tudo (Servidor)"})]})]}),E.jsxs("div",{className:"flex space-x-2",children:[E.jsxs("button",{onClick:()=>Yn("csv"),className:`text-xs border px-3 py-1.5 rounded transition-colors font-medium flex items-center ${c.secondaryBtn} ${c.border}`,children:[E.jsx("span",{className:"mr-1",children:""})," CSV"]}),E.jsxs("button",{onClick:()=>Yn("xlsx"),className:`text-xs px-3 py-1.5 rounded shadow-sm transition-colors font-medium flex items-center ${c.primaryBtn}`,children:[E.jsx("span",{className:"mr-1",children:""})," Excel"]})]})]}),E.jsx("div",{className:"flex-1 w-full relative overflow-hidden",children:E.jsx(U6,{children:({height:ge,width:Me})=>{Xe.filter(Ye=>pe[Ye]).length;const Ne=Xe.reduce((Ye,rt)=>pe[rt]?Ye+(x[rt]||150):Ye,0),et=E.jsx("div",{className:`flex divide-x ${c.border} ${c.tableHeader} border-b font-bold text-xs uppercase tracking-wider h-full items-center bg-gray-50`,children:Xe.map(Ye=>{if(!pe[Ye])return null;const rt=x[Ye]||150;return E.jsxs("div",{draggable:!0,onDragStart:at=>On(at,Ye),onDragOver:at=>ui(at,Ye),onDragEnd:Ut,className:`relative px-2 py-3 flex-none overflow-hidden text-ellipsis cursor-move transition-colors ${Ht===Ye?"opacity-50 bg-blue-50":""}`,style:{width:`${rt}px`,minWidth:`${rt}px`,maxWidth:`${rt}px`},children:[E.jsxs("div",{className:"flex flex-col space-y-2 w-full",children:[E.jsx("span",{className:"whitespace-normal break-words leading-tight cursor-pointer hover:text-blue-600",title:"Clique duplo para auto-ajustar largura",onDoubleClick:()=>{const st=document.createElement("canvas").getContext("2d");st.font='12px "Inter", "Segoe UI", sans-serif';let At=st.measureText(Ye).width;(_.results.rows.length>2e3?_.results.rows.slice(0,2e3):_.results.rows).forEach(F=>{const G=_.results.metaData.findIndex(X=>X.name===Ye),V=String(F[G]||""),q=st.measureText(V).width;q>At&&(At=q)});const Ar=Math.min(Math.max(100,Math.ceil(At+24)),800);b(F=>({...F,[Ye]:Ar}))},children:Ye}),$e&&E.jsx("input",{type:"text",placeholder:mt?"Filtrar (Enter)...":"Filtrar...",value:We[Ye]||"",onChange:at=>Fe({...We,[Ye]:at.target.value}),onKeyDown:at=>{at.key==="Enter"&&mt&&sr()},className:`w-full text-xs p-1 border rounded font-normal normal-case ${c.input} ${c.border} ${mt?"border-blue-400 bg-blue-50":""}`,onClick:at=>at.stopPropagation(),title:mt?"Pressione Enter para buscar no servidor":"Filtragem local"})]}),E.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-400 z-10",onMouseDown:at=>S(at,Ye),onClick:at=>at.stopPropagation()})]},Ye)})});return E.jsx(V6,{height:ge,width:Me,itemCount:fr.length,itemSize:40,minWidth:Ne,header:et,headerHeight:$e?80:45,children:Rt})}})})]})]}),se&&E.jsxs("div",{className:`w-64 border-l flex flex-col shadow-sm transition-all duration-300 ${c.panel} ${c.border} overflow-hidden`,children:[E.jsxs("div",{className:`flex border-b ${c.border}`,children:[E.jsx("button",{onClick:()=>ie("saved"),className:`flex-1 py-2 text-xs font-bold uppercase ${ee==="saved"?`border-b-2 border-blue-500 ${c.accent}`:"text-gray-400"}`,children:"Salvas"}),E.jsx("button",{onClick:()=>ie("schema"),className:`flex-1 py-2 text-xs font-bold uppercase ${ee==="schema"?`border-b-2 border-blue-500 ${c.accent}`:"text-gray-400"}`,children:"Schema"}),E.jsx("button",{onClick:()=>ue(!1),className:"px-3 text-gray-400 hover:text-gray-600",children:""})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:ee==="saved"?E.jsxs(E.Fragment,{children:[s.length===0&&E.jsx("p",{className:"text-gray-400 text-xs text-center italic mt-4",children:"Nenhuma query salva."}),s.map(ge=>E.jsxs("div",{className:`group p-3 rounded border transition-all cursor-pointer relative ${c.border} hover:border-blue-300 hover:bg-blue-50`,onClick:()=>hr(ge),children:[E.jsx("div",{className:`font-medium text-sm truncate pr-6 ${c.text}`,children:ge.name}),E.jsxs("div",{className:"text-xs text-gray-400 truncate mt-1",children:[ge.sql.substring(0,30),"..."]}),E.jsx("button",{onClick:Me=>{Me.stopPropagation(),Xn(ge.id)},className:"absolute top-2 right-2 text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity",title:"Excluir",children:""})]},ge.id))]}):E.jsxs("div",{className:`${c.bg} p-2 border-t space-y-1 flex flex-col h-full`,children:[E.jsxs("div",{className:"flex space-x-2 mb-2",children:[E.jsx("input",{type:"text",placeholder:"Buscar tabelas...",value:be,onChange:ge=>Ee(ge.target.value),onKeyDown:ge=>ge.key==="Enter"&&bt(be),className:`w-full text-xs p-1.5 rounded border outline-none ${c.input} ${c.border}`}),E.jsx("button",{onClick:()=>bt(be),disabled:Z,className:`px-3 py-1 text-xs rounded font-medium transition-colors ${c.primaryBtn} disabled:opacity-50`,children:Z?"...":""})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1",children:[ke.length===0&&!Z&&E.jsx("div",{className:"text-[10px] text-gray-400 italic text-center mt-4",children:"Use a busca para encontrar tabelas."}),ke.map(ge=>E.jsxs("div",{className:`rounded border ${c.border} overflow-hidden`,children:[E.jsxs("div",{onClick:()=>Gn(ge),className:`px-2 py-1.5 text-xs font-medium cursor-pointer flex justify-between items-center hover:bg-opacity-50 ${D===ge?"bg-blue-50 text-blue-700":c.sidebarText} ${c.tableRowHover}`,children:[E.jsx("span",{className:"truncate",title:ge,children:ge}),E.jsx("span",{className:"text-[10px] opacity-50",children:D===ge?"":""})]}),D===ge&&E.jsx("div",{className:`p-1 pl-3 border-t ${c.border} bg-opacity-30 ${c.bg}`,children:(re[ge]||[]).length===0?E.jsx("div",{className:"text-[10px] text-gray-400 italic px-2",children:"Carregando colunas..."}):E.jsxs(E.Fragment,{children:[(re[ge]||[]).map(Me=>E.jsx("div",{className:`text-[10px] ${c.text} flex justify-between group cursor-pointer hover:text-blue-600 py-0.5 px-1 rounded hover:bg-gray-100`,title:"Clique duplo para inserir",onDoubleClick:()=>zr(Me),children:E.jsx("span",{children:Me})},Me)),E.jsx("div",{className:"pt-1 mt-1 border-t border-dashed border-gray-200",children:E.jsx("button",{onClick:()=>zr(`SELECT * FROM ${ge}`),className:"w-full text-[10px] bg-blue-50 text-blue-600 rounded py-0.5 hover:bg-blue-100 transition-colors",children:"Gerar SELECT"})})]})})]},ge))]})]})})]})]})]})}q6.propTypes={isVisible:hn.bool,tabs:hn.array.isRequired,setTabs:hn.func.isRequired,activeTabId:hn.number.isRequired,setActiveTabId:hn.func.isRequired,savedQueries:hn.array.isRequired,setSavedQueries:hn.func.isRequired};function iq({isVisible:r,connectionName:e}){if(!r)return null;const[t,n]=Q.useState(1),[i,s]=Q.useState(null),[l,c]=Q.useState(";"),[f,h]=Q.useState(""),[d,m]=Q.useState([]),[g,x]=Q.useState(!1),[b,y]=Q.useState(""),[S,T]=Q.useState(0),[A,C]=Q.useState([]),[_,N]=Q.useState(""),[R,O]=Q.useState([]),[z,M]=Q.useState(!1),[I,P]=Q.useState(!1),[W,K]=Q.useState(null),[se,ue]=Q.useState(null),[ee,ie]=Q.useState(""),be=(Fe,je)=>{ue(je),ie(Fe.grantUser||"")},Ee=()=>{ue(null),ie("")},ke=async(Fe,je)=>{if(!ee.trim()){alert("Por favor, informe um usurio.");return}try{const $e=await(await fetch("http://localhost:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:`GRANT ALL ON "${Fe.tableName}" TO "${ee.toUpperCase()}"`})})).json();if($e.error){alert("Erro ao conceder permisso: "+$e.error);return}const lt=[...R];lt[je].grantUser=ee.toUpperCase(),O(lt),localStorage.setItem("hap_csv_history",JSON.stringify(lt)),ue(null),ie(""),alert(`Permisso concedida para ${ee.toUpperCase()} com sucesso!`)}catch(Oe){alert("Erro de rede: "+Oe.message)}};rr.useEffect(()=>{const Fe=localStorage.getItem("hap_csv_history");if(Fe)try{O(JSON.parse(Fe))}catch(je){console.error("Failed to parse history",je)}},[]);const[j,D]=Q.useState(5),L=Fe=>{const je=[Fe,...R].slice(0,50);O(je),localStorage.setItem("hap_csv_history",JSON.stringify(je))},B=async(Fe,je)=>{if(window.confirm(`Tem certeza que deseja excluir o histrico e a tabela "${Fe.tableName}"?`))try{const $e=await(await fetch("http://localhost:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:`DROP TABLE "${Fe.tableName}"`})})).json();if($e.error&&!$e.error.includes("ORA-00942")){alert("Erro ao excluir tabela: "+$e.error);return}const lt=[...R];lt.splice(je,1),O(lt),localStorage.setItem("hap_csv_history",JSON.stringify(lt))}catch(Oe){alert("Erro de rede: "+Oe.message)}},U=async Fe=>{try{const Oe=await(await fetch("http://localhost:3001/api/check-table",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tableName:Fe})})).json();M(Oe.exists),Oe.exists?y(`A tabela ${Fe} j existe.`):y("")}catch(je){console.error("Error checking table:",je)}},[Z,le]=Q.useState(null),[re,ve]=Q.useState(";"),[pe,Je]=Q.useState(0),Xe=async Fe=>{let je=null,Oe=null;if(Fe&&Fe.target&&Fe.target.files&&Fe.target.files[0]){const $e=Fe.target.files[0];je=$e.path,Oe=$e.name}else{if(!window.electronAPI){alert("Funcionalidade disponvel apenas no App Desktop.");return}je=await window.electronAPI.selectFile(),je&&(Oe=je.split(/[/\\]/).pop())}if(je){le(je),s({name:Oe,path:je}),x(!0),y("Analisando arquivo..."),T(10);try{const lt=await(await fetch("http://127.0.0.1:3001/api/analyze-local-csv",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:je,delimiter:l})})).json();if(lt.error)throw new Error(lt.error);C(lt.preview),h(lt.tableName),m(lt.columns),le(lt.filePath),Je(lt.totalEstimatedRows||0),lt.delimiter&&(c(lt.delimiter),ve(lt.delimiter)),await U(lt.tableName),n(2),x(!1),y("")}catch($e){y("Erro ao analisar arquivo: "+$e.message),x(!1)}}},ct=async()=>{const Fe="job_"+Date.now()+"_"+Math.floor(Math.random()*1e3);K(Fe),x(!0),y("Iniciando importao..."),T(0);const je=setInterval(async()=>{try{const Oe=await fetch(`http://127.0.0.1:3001/api/import-status/${Fe}`);if(Oe.ok){const $e=await Oe.json();if($e.status&&y($e.status),$e.insertedRows&&pe>0){const lt=Math.min(Math.round($e.insertedRows/pe*100),99);T(lt)}$e.progress&&T($e.progress)}}catch(Oe){console.error("Polling error",Oe)}},1e3);try{const Oe=await fetch("http://127.0.0.1:3001/api/create-table",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tableName:f,columns:d,data:A,filePath:Z,delimiter:l,grantToUser:_,dropIfExists:I,jobId:Fe})});clearInterval(je);const $e=await Oe.json();$e.success?(y("Importao concluda com sucesso!"),T(100),L({fileName:i.name,tableName:f,date:new Date().toISOString(),grantUser:_||"Nenhum",rowCount:$e.totalInserted,connection:e}),setTimeout(()=>{n(1),s(null),C([]),m([]),h(""),N(""),le(null),Je(0),x(!1),M(!1),P(!1),K(null),alert($e.message)},1500)):(y("Erro: "+$e.message),x(!1),K(null))}catch(Oe){clearInterval(je),y("Erro de rede: "+Oe.message),x(!1),K(null)}},We=async()=>{if(W)try{await fetch(`http://127.0.0.1:3001/api/cancel-import/${W}`,{method:"POST"}),y("Cancelando...")}catch(Fe){console.error("Cancel error",Fe)}};return E.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm border border-gray-200 h-full flex flex-col",children:[E.jsx("h2",{className:"text-2xl font-bold text-[#0054a6] mb-6",children:"Importar Arquivo CSV"}),E.jsxs("div",{className:"flex items-center mb-8",children:[E.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${t>=1?"bg-[#f37021] text-white":"bg-gray-200 text-gray-600"} font-bold`,children:"1"}),E.jsx("div",{className:`flex-1 h-1 mx-2 ${t>=2?"bg-[#f37021]":"bg-gray-200"}`}),E.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${t>=2?"bg-[#f37021] text-white":"bg-gray-200 text-gray-600"} font-bold`,children:"2"}),E.jsx("div",{className:`flex-1 h-1 mx-2 ${t>=3?"bg-[#f37021]":"bg-gray-200"}`}),E.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${t>=3?"bg-[#f37021] text-white":"bg-gray-200 text-gray-600"} font-bold`,children:"3"})]}),t===1&&E.jsxs("div",{className:"flex-1 flex flex-col space-y-6 overflow-y-auto",children:[E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer min-h-[200px]",onClick:()=>Xe(),onDragOver:Fe=>{Fe.preventDefault(),Fe.stopPropagation()},onDrop:Fe=>{Fe.preventDefault(),Fe.stopPropagation(),Fe.dataTransfer.files&&Fe.dataTransfer.files[0]&&Xe({target:{files:Fe.dataTransfer.files}})},children:[E.jsx("div",{className:"text-6xl mb-4",children:""}),E.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"Clique para selecionar um arquivo CSV"}),E.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"ou arraste e solte aqui"}),g&&E.jsx("p",{className:"mt-4 text-blue-600",children:b}),b&&b.startsWith("Erro")&&E.jsx("p",{className:"mt-4 text-red-600",children:b})]}),R.length>0&&E.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[E.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-3",children:"ltimas Importaes"}),E.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden overflow-x-auto w-full max-w-[calc(100vw-80px)] md:max-w-full",children:E.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[E.jsx("thead",{className:"bg-gray-50",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Conexo"}),E.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Arquivo"}),E.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Tabela"}),E.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Data"}),E.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Registros"}),E.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Permisso"}),E.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Aes"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-200",children:R.slice(0,j).map((Fe,je)=>E.jsxs("tr",{className:"hover:bg-gray-50 group",children:[E.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 whitespace-nowrap font-medium",children:Fe.connection||"-"}),E.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 whitespace-nowrap",children:Fe.fileName}),E.jsx("td",{className:"px-4 py-2 text-sm text-[#0054a6] font-medium whitespace-nowrap",children:Fe.tableName}),E.jsxs("td",{className:"px-4 py-2 text-sm text-gray-500 whitespace-nowrap",children:[new Date(Fe.date).toLocaleDateString()," ",new Date(Fe.date).toLocaleTimeString()]}),E.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 whitespace-nowrap",children:Fe.rowCount||"-"}),E.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 whitespace-nowrap",children:se===je?E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("input",{type:"text",value:ee,onChange:Oe=>ie(Oe.target.value),className:"border rounded px-2 py-1 text-xs w-24 uppercase",placeholder:"USURIO"}),E.jsx("button",{onClick:()=>ke(Fe,je),className:"text-green-600 hover:text-green-800",title:"Salvar",children:""}),E.jsx("button",{onClick:Ee,className:"text-red-600 hover:text-red-800",title:"Cancelar",children:""})]}):E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("span",{children:Fe.grantUser||"-"}),E.jsx("button",{onClick:()=>be(Fe,je),className:"text-blue-600 hover:text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity",title:"Editar Permisso",children:""})]})}),E.jsx("td",{className:"px-4 py-2 text-center whitespace-nowrap",children:E.jsx("button",{onClick:()=>B(Fe,je),className:"text-red-600 hover:text-red-800 hover:bg-red-50 p-1 rounded transition-colors",title:"Excluir Histrico e Tabela",children:""})})]},je))})]})}),R.length>j&&E.jsx("div",{className:"mt-2 text-center",children:E.jsx("button",{onClick:()=>D(Fe=>Fe+5),className:"text-sm text-[#0054a6] hover:underline font-medium",children:"Ver mais..."})})]})]}),t===2&&E.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Visualizar e Editar Colunas"}),E.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 px-3 py-1 rounded border border-blue-100",children:[E.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Tabela:"}),E.jsx("input",{type:"text",value:f,onChange:Fe=>h(Fe.target.value.toUpperCase()),onBlur:()=>U(f),className:"bg-white border border-blue-200 rounded px-2 py-0.5 text-sm font-bold text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-400 uppercase",placeholder:"NOME_DA_TABELA"})]})]}),E.jsxs("div",{className:"text-sm text-gray-500",children:["Total estimado: ",E.jsx("span",{className:"font-bold",children:pe})," linhas"]})]}),E.jsx("div",{className:"flex-1 overflow-auto border border-gray-200 rounded-lg",children:E.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[E.jsx("thead",{className:"bg-gray-50 sticky top-0",children:E.jsx("tr",{children:d.map((Fe,je)=>E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:E.jsxs("div",{className:"flex flex-col space-y-1",children:[E.jsx("input",{type:"text",value:Fe.name,onChange:Oe=>{const $e=[...d];$e[je].name=Oe.target.value.toUpperCase(),m($e)},className:"bg-transparent border-b border-gray-300 focus:border-[#0054a6] outline-none text-xs font-bold"}),E.jsxs("select",{value:Fe.type,onChange:Oe=>{const $e=[...d];$e[je].type=Oe.target.value,m($e)},className:"text-xs border-none bg-transparent focus:ring-0 p-0 text-gray-500",children:[E.jsx("option",{value:"VARCHAR2(255)",children:"VARCHAR2(255)"}),E.jsx("option",{value:"NUMBER",children:"NUMBER"}),E.jsx("option",{value:"DATE",children:"DATE"}),E.jsx("option",{value:"CLOB",children:"CLOB"})]})]})},je))})}),E.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.slice(0,5).map((Fe,je)=>E.jsx("tr",{children:d.map((Oe,$e)=>E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Fe[Object.keys(Fe)[$e]]},$e))},je))})]})}),E.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[E.jsx("button",{onClick:()=>n(1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Voltar"}),E.jsx("button",{onClick:()=>n(3),className:"px-4 py-2 bg-[#0054a6] text-white rounded-md hover:bg-blue-800",children:"Prximo"})]})]}),t===3&&E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-lg mx-auto w-full",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"Confirmar Importao"}),E.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg w-full mb-6 border border-gray-200",children:[E.jsxs("div",{className:"flex justify-between mb-2",children:[E.jsx("span",{className:"text-gray-600",children:"Arquivo:"}),E.jsx("span",{className:"font-medium",children:i?.name})]}),E.jsxs("div",{className:"flex justify-between mb-2",children:[E.jsx("span",{className:"text-gray-600",children:"Tabela Destino:"}),E.jsx("span",{className:"font-medium text-[#0054a6]",children:f})]}),E.jsxs("div",{className:"flex justify-between mb-2",children:[E.jsx("span",{className:"text-gray-600",children:"Colunas:"}),E.jsx("span",{className:"font-medium",children:d.length})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{className:"text-gray-600",children:"Linhas Estimadas:"}),E.jsx("span",{className:"font-medium",children:pe>0?pe:"Calculando..."})]})]}),z&&E.jsxs("div",{className:"w-full mb-6 bg-orange-50 border border-orange-200 p-4 rounded-lg",children:[E.jsxs("h4",{className:"text-orange-800 font-bold mb-2 flex items-center",children:[E.jsx("span",{className:"mr-2",children:""})," Tabela Existente"]}),E.jsxs("p",{className:"text-sm text-orange-700 mb-3",children:["A tabela ",E.jsx("strong",{children:f})," j existe no banco de dados. O que voc deseja fazer?"]}),E.jsxs("div",{className:"flex space-x-3",children:[E.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[E.jsx("input",{type:"radio",checked:!I,onChange:()=>P(!1),className:"text-orange-600 focus:ring-orange-500"}),E.jsx("span",{className:"text-sm text-gray-700",children:"Cancelar e Renomear (Voltar)"})]}),E.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[E.jsx("input",{type:"radio",checked:I,onChange:()=>P(!0),className:"text-red-600 focus:ring-red-500"}),E.jsx("span",{className:"text-sm text-red-700 font-medium",children:"Recriar Tabela (Apagar dados antigos)"})]})]})]}),E.jsxs("div",{className:"w-full mb-6",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conceder Permisso de Acesso (GRANT ALL) para outro usurio (Opcional):"}),E.jsx("input",{type:"text",value:_,onChange:Fe=>N(Fe.target.value.toUpperCase()),placeholder:"Ex: OUTRO_USUARIO",className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0054a6] outline-none"}),E.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Se preenchido, executar: ",E.jsxs("code",{children:["GRANT ALL ON ",f," TO ",_||"USUARIO"]})]})]}),g?E.jsxs("div",{className:"w-full text-center",children:[E.jsxs("div",{className:"mb-2 flex justify-between text-sm font-medium text-gray-700",children:[E.jsx("span",{children:b}),E.jsxs("span",{children:[S,"%"]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:E.jsx("div",{className:"bg-[#0054a6] h-2.5 rounded-full transition-all duration-500",style:{width:`${S}%`}})}),E.jsx("button",{onClick:We,className:"px-4 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 text-sm font-medium",children:"Cancelar Importao"})]}):E.jsxs("div",{className:"flex flex-col w-full",children:[E.jsxs("div",{className:"flex space-x-3 w-full",children:[E.jsx("button",{onClick:()=>n(2),className:"flex-1 px-4 py-3 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 font-medium",children:"Voltar"}),E.jsx("button",{onClick:()=>{z&&!I?(n(2),alert("Por favor, renomeie a tabela para continuar.")):ct()},className:`flex-1 px-4 py-3 text-white rounded-md font-bold shadow-md ${z&&!I?"bg-gray-400 cursor-not-allowed":"bg-[#f37021] hover:bg-orange-600"}`,disabled:z&&!I,children:z&&I?"Recriar e Importar":"Iniciar Importao"})]}),b&&b.startsWith("Erro")&&E.jsx("p",{className:"mt-4 text-red-600 text-center font-medium",children:b})]})]})]})}var a0=KC();function sq(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return Q.useMemo(()=>n=>{e.forEach(i=>i(n))},e)}const bp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rc(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function Kv(r){return"nodeType"in r}function _n(r){var e,t;return r?rc(r)?r:Kv(r)&&(e=(t=r.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function $v(r){const{Document:e}=_n(r);return r instanceof e}function df(r){return rc(r)?!1:r instanceof _n(r).HTMLElement}function W6(r){return r instanceof _n(r).SVGElement}function nc(r){return r?rc(r)?r.document:Kv(r)?$v(r)?r:df(r)||W6(r)?r.ownerDocument:document:document:document}const Wi=bp?Q.useLayoutEffect:Q.useEffect;function wp(r){const e=Q.useRef(r);return Wi(()=>{e.current=r}),Q.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function aq(){const r=Q.useRef(null),e=Q.useCallback((n,i)=>{r.current=setInterval(n,i)},[]),t=Q.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,t]}function Y0(r,e){e===void 0&&(e=[r]);const t=Q.useRef(r);return Wi(()=>{t.current!==r&&(t.current=r)},e),t}function pf(r,e){const t=Q.useRef();return Q.useMemo(()=>{const n=r(t.current);return t.current=n,n},[...e])}function Gd(r){const e=wp(r),t=Q.useRef(null),n=Q.useCallback(i=>{i!==t.current&&e?.(i,t.current),t.current=i},[]);return[t,n]}function Xd(r){const e=Q.useRef();return Q.useEffect(()=>{e.current=r},[r]),e.current}let Ox={};function mf(r,e){return Q.useMemo(()=>{if(e)return e;const t=Ox[r]==null?0:Ox[r]+1;return Ox[r]=t,r+"-"+t},[r,e])}function G6(r){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce((s,l)=>{const c=Object.entries(l);for(const[f,h]of c){const d=s[f];d!=null&&(s[f]=d+r*h)}return s},{...e})}}const jo=G6(1),K0=G6(-1);function lq(r){return"clientX"in r&&"clientY"in r}function Sp(r){if(!r)return!1;const{KeyboardEvent:e}=_n(r.target);return e&&r instanceof e}function oq(r){if(!r)return!1;const{TouchEvent:e}=_n(r.target);return e&&r instanceof e}function Yd(r){if(oq(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:t}=r.touches[0];return{x:e,y:t}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:t}=r.changedTouches[0];return{x:e,y:t}}}return lq(r)?{x:r.clientX,y:r.clientY}:null}const za=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:t}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:t}=r;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(r){if(r)return[za.Translate.toString(r),za.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:t,easing:n}=r;return e+" "+t+"ms "+n}}}),MC="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function cq(r){return r.matches(MC)?r:r.querySelector(MC)}const fq={display:"none"};function uq(r){let{id:e,value:t}=r;return rr.createElement("div",{id:e,style:fq},t)}function hq(r){let{id:e,announcement:t,ariaLiveType:n="assertive"}=r;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return rr.createElement("div",{id:e,style:i,role:"status","aria-live":n,"aria-atomic":!0},t)}function dq(){const[r,e]=Q.useState("");return{announce:Q.useCallback(n=>{n!=null&&e(n)},[]),announcement:r}}const X6=Q.createContext(null);function pq(r){const e=Q.useContext(X6);Q.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function mq(){const[r]=Q.useState(()=>new Set),e=Q.useCallback(n=>(r.add(n),()=>r.delete(n)),[r]);return[Q.useCallback(n=>{let{type:i,event:s}=n;r.forEach(l=>{var c;return(c=l[i])==null?void 0:c.call(l,s)})},[r]),e]}const gq={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},xq={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function vq(r){let{announcements:e=xq,container:t,hiddenTextDescribedById:n,screenReaderInstructions:i=gq}=r;const{announce:s,announcement:l}=dq(),c=mf("DndLiveRegion"),[f,h]=Q.useState(!1);if(Q.useEffect(()=>{h(!0)},[]),pq(Q.useMemo(()=>({onDragStart(m){let{active:g}=m;s(e.onDragStart({active:g}))},onDragMove(m){let{active:g,over:x}=m;e.onDragMove&&s(e.onDragMove({active:g,over:x}))},onDragOver(m){let{active:g,over:x}=m;s(e.onDragOver({active:g,over:x}))},onDragEnd(m){let{active:g,over:x}=m;s(e.onDragEnd({active:g,over:x}))},onDragCancel(m){let{active:g,over:x}=m;s(e.onDragCancel({active:g,over:x}))}}),[s,e])),!f)return null;const d=rr.createElement(rr.Fragment,null,rr.createElement(uq,{id:n,value:i.draggable}),rr.createElement(hq,{id:c,announcement:l}));return t?a0.createPortal(d,t):d}var Pr;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(Pr||(Pr={}));function Kd(){}function FC(r,e){return Q.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function yq(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return Q.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const Gi=Object.freeze({x:0,y:0});function Y6(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function bq(r,e){const t=Yd(r);if(!t)return"0 0";const n={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function K6(r,e){let{data:{value:t}}=r,{data:{value:n}}=e;return t-n}function wq(r,e){let{data:{value:t}}=r,{data:{value:n}}=e;return n-t}function LC(r){let{left:e,top:t,height:n,width:i}=r;return[{x:e,y:t},{x:e+i,y:t},{x:e,y:t+n},{x:e+i,y:t+n}]}function $6(r,e){if(!r||r.length===0)return null;const[t]=r;return t[e]}function IC(r,e,t){return e===void 0&&(e=r.left),t===void 0&&(t=r.top),{x:e+r.width*.5,y:t+r.height*.5}}const Sq=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=r;const i=IC(e,e.left,e.top),s=[];for(const l of n){const{id:c}=l,f=t.get(c);if(f){const h=Y6(IC(f),i);s.push({id:c,data:{droppableContainer:l,value:h}})}}return s.sort(K6)},Eq=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=r;const i=LC(e),s=[];for(const l of n){const{id:c}=l,f=t.get(c);if(f){const h=LC(f),d=i.reduce((g,x,b)=>g+Y6(h[b],x),0),m=Number((d/4).toFixed(4));s.push({id:c,data:{droppableContainer:l,value:m}})}}return s.sort(K6)};function Cq(r,e){const t=Math.max(e.top,r.top),n=Math.max(e.left,r.left),i=Math.min(e.left+e.width,r.left+r.width),s=Math.min(e.top+e.height,r.top+r.height),l=i-n,c=s-t;if(n<i&&t<s){const f=e.width*e.height,h=r.width*r.height,d=l*c,m=d/(f+h-d);return Number(m.toFixed(4))}return 0}const Aq=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=r;const i=[];for(const s of n){const{id:l}=s,c=t.get(l);if(c){const f=Cq(c,e);f>0&&i.push({id:l,data:{droppableContainer:s,value:f}})}}return i.sort(wq)};function Tq(r,e,t){return{...r,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function Q6(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:Gi}function _q(r){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((l,c)=>({...l,top:l.top+r*c.y,bottom:l.bottom+r*c.y,left:l.left+r*c.x,right:l.right+r*c.x}),{...t})}}const Dq=_q(1);function Z6(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function kq(r,e,t){const n=Z6(e);if(!n)return r;const{scaleX:i,scaleY:s,x:l,y:c}=n,f=r.left-l-(1-i)*parseFloat(t),h=r.top-c-(1-s)*parseFloat(t.slice(t.indexOf(" ")+1)),d=i?r.width/i:r.width,m=s?r.height/s:r.height;return{width:d,height:m,top:h,right:f+d,bottom:h+m,left:f}}const Oq={ignoreTransform:!1};function ic(r,e){e===void 0&&(e=Oq);let t=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:d}=_n(r).getComputedStyle(r);h&&(t=kq(t,h,d))}const{top:n,left:i,width:s,height:l,bottom:c,right:f}=t;return{top:n,left:i,width:s,height:l,bottom:c,right:f}}function PC(r){return ic(r,{ignoreTransform:!0})}function Bq(r){const e=r.innerWidth,t=r.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Nq(r,e){return e===void 0&&(e=_n(r).getComputedStyle(r)),e.position==="fixed"}function Rq(r,e){e===void 0&&(e=_n(r).getComputedStyle(r));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?t.test(s):!1})}function Ep(r,e){const t=[];function n(i){if(e!=null&&t.length>=e||!i)return t;if($v(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!df(i)||W6(i)||t.includes(i))return t;const s=_n(r).getComputedStyle(i);return i!==r&&Rq(i,s)&&t.push(i),Nq(i,s)?t:n(i.parentNode)}return r?n(r):t}function J6(r){const[e]=Ep(r,1);return e??null}function Bx(r){return!bp||!r?null:rc(r)?r:Kv(r)?$v(r)||r===nc(r).scrollingElement?window:df(r)?r:null:null}function e_(r){return rc(r)?r.scrollX:r.scrollLeft}function t_(r){return rc(r)?r.scrollY:r.scrollTop}function z1(r){return{x:e_(r),y:t_(r)}}var Ur;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(Ur||(Ur={}));function r_(r){return!bp||!r?!1:r===document.scrollingElement}function n_(r){const e={x:0,y:0},t=r_(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},n={x:r.scrollWidth-t.width,y:r.scrollHeight-t.height},i=r.scrollTop<=e.y,s=r.scrollLeft<=e.x,l=r.scrollTop>=n.y,c=r.scrollLeft>=n.x;return{isTop:i,isLeft:s,isBottom:l,isRight:c,maxScroll:n,minScroll:e}}const Mq={x:.2,y:.2};function Fq(r,e,t,n,i){let{top:s,left:l,right:c,bottom:f}=t;n===void 0&&(n=10),i===void 0&&(i=Mq);const{isTop:h,isBottom:d,isLeft:m,isRight:g}=n_(r),x={x:0,y:0},b={x:0,y:0},y={height:e.height*i.y,width:e.width*i.x};return!h&&s<=e.top+y.height?(x.y=Ur.Backward,b.y=n*Math.abs((e.top+y.height-s)/y.height)):!d&&f>=e.bottom-y.height&&(x.y=Ur.Forward,b.y=n*Math.abs((e.bottom-y.height-f)/y.height)),!g&&c>=e.right-y.width?(x.x=Ur.Forward,b.x=n*Math.abs((e.right-y.width-c)/y.width)):!m&&l<=e.left+y.width&&(x.x=Ur.Backward,b.x=n*Math.abs((e.left+y.width-l)/y.width)),{direction:x,speed:b}}function Lq(r){if(r===document.scrollingElement){const{innerWidth:s,innerHeight:l}=window;return{top:0,left:0,right:s,bottom:l,width:s,height:l}}const{top:e,left:t,right:n,bottom:i}=r.getBoundingClientRect();return{top:e,left:t,right:n,bottom:i,width:r.clientWidth,height:r.clientHeight}}function i_(r){return r.reduce((e,t)=>jo(e,z1(t)),Gi)}function Iq(r){return r.reduce((e,t)=>e+e_(t),0)}function Pq(r){return r.reduce((e,t)=>e+t_(t),0)}function s_(r,e){if(e===void 0&&(e=ic),!r)return;const{top:t,left:n,bottom:i,right:s}=e(r);J6(r)&&(i<=0||s<=0||t>=window.innerHeight||n>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const jq=[["x",["left","right"],Iq],["y",["top","bottom"],Pq]];class Qv{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Ep(t),i=i_(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,l,c]of jq)for(const f of l)Object.defineProperty(this,f,{get:()=>{const h=c(n),d=i[s]-h;return this.rect[f]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class b0{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...t)})},this.target=e}add(e,t,n){var i;(i=this.target)==null||i.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function zq(r){const{EventTarget:e}=_n(r);return r instanceof e?r:nc(r)}function Nx(r,e){const t=Math.abs(r.x),n=Math.abs(r.y);return typeof e=="number"?Math.sqrt(t**2+n**2)>e:"x"in e&&"y"in e?t>e.x&&n>e.y:"x"in e?t>e.x:"y"in e?n>e.y:!1}var Ai;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(Ai||(Ai={}));function jC(r){r.preventDefault()}function Hq(r){r.stopPropagation()}var St;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(St||(St={}));const a_={start:[St.Space,St.Enter],cancel:[St.Esc],end:[St.Space,St.Enter,St.Tab]},Uq=(r,e)=>{let{currentCoordinates:t}=e;switch(r.code){case St.Right:return{...t,x:t.x+25};case St.Left:return{...t,x:t.x-25};case St.Down:return{...t,y:t.y+25};case St.Up:return{...t,y:t.y-25}}};class Zv{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new b0(nc(t)),this.windowListeners=new b0(_n(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ai.Resize,this.handleCancel),this.windowListeners.add(Ai.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ai.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&s_(n),t(Gi)}handleKeyDown(e){if(Sp(e)){const{active:t,context:n,options:i}=this.props,{keyboardCodes:s=a_,coordinateGetter:l=Uq,scrollBehavior:c="smooth"}=i,{code:f}=e;if(s.end.includes(f)){this.handleEnd(e);return}if(s.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:h}=n.current,d=h?{x:h.left,y:h.top}:Gi;this.referenceCoordinates||(this.referenceCoordinates=d);const m=l(e,{active:t,context:n.current,currentCoordinates:d});if(m){const g=K0(m,d),x={x:0,y:0},{scrollableAncestors:b}=n.current;for(const y of b){const S=e.code,{isTop:T,isRight:A,isLeft:C,isBottom:_,maxScroll:N,minScroll:R}=n_(y),O=Lq(y),z={x:Math.min(S===St.Right?O.right-O.width/2:O.right,Math.max(S===St.Right?O.left:O.left+O.width/2,m.x)),y:Math.min(S===St.Down?O.bottom-O.height/2:O.bottom,Math.max(S===St.Down?O.top:O.top+O.height/2,m.y))},M=S===St.Right&&!A||S===St.Left&&!C,I=S===St.Down&&!_||S===St.Up&&!T;if(M&&z.x!==m.x){const P=y.scrollLeft+g.x,W=S===St.Right&&P<=N.x||S===St.Left&&P>=R.x;if(W&&!g.y){y.scrollTo({left:P,behavior:c});return}W?x.x=y.scrollLeft-P:x.x=S===St.Right?y.scrollLeft-N.x:y.scrollLeft-R.x,x.x&&y.scrollBy({left:-x.x,behavior:c});break}else if(I&&z.y!==m.y){const P=y.scrollTop+g.y,W=S===St.Down&&P<=N.y||S===St.Up&&P>=R.y;if(W&&!g.x){y.scrollTo({top:P,behavior:c});return}W?x.y=y.scrollTop-P:x.y=S===St.Down?y.scrollTop-N.y:y.scrollTop-R.y,x.y&&y.scrollBy({top:-x.y,behavior:c});break}}this.handleMove(e,jo(K0(m,this.referenceCoordinates),x))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Zv.activators=[{eventName:"onKeyDown",handler:(r,e,t)=>{let{keyboardCodes:n=a_,onActivation:i}=e,{active:s}=t;const{code:l}=r.nativeEvent;if(n.start.includes(l)){const c=s.activatorNode.current;return c&&r.target!==c?!1:(r.preventDefault(),i?.({event:r.nativeEvent}),!0)}return!1}}];function zC(r){return!!(r&&"distance"in r)}function HC(r){return!!(r&&"delay"in r)}class Jv{constructor(e,t,n){var i;n===void 0&&(n=zq(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:l}=s;this.props=e,this.events=t,this.document=nc(l),this.documentListeners=new b0(this.document),this.listeners=new b0(n),this.windowListeners=new b0(_n(l)),this.initialCoordinates=(i=Yd(s))!=null?i:Gi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ai.Resize,this.handleCancel),this.windowListeners.add(Ai.DragStart,jC),this.windowListeners.add(Ai.VisibilityChange,this.handleCancel),this.windowListeners.add(Ai.ContextMenu,jC),this.documentListeners.add(Ai.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(HC(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(zC(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:i}=this.props;i(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ai.Click,Hq,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ai.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:i,props:s}=this,{onMove:l,options:{activationConstraint:c}}=s;if(!i)return;const f=(t=Yd(e))!=null?t:Gi,h=K0(i,f);if(!n&&c){if(zC(c)){if(c.tolerance!=null&&Nx(h,c.tolerance))return this.handleCancel();if(Nx(h,c.distance))return this.handleStart()}if(HC(c)&&Nx(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}e.cancelable&&e.preventDefault(),l(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===St.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Vq={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class e2 extends Jv{constructor(e){const{event:t}=e,n=nc(t.target);super(e,Vq,n)}}e2.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;return!t.isPrimary||t.button!==0?!1:(n?.({event:t}),!0)}}];const qq={move:{name:"mousemove"},end:{name:"mouseup"}};var H1;(function(r){r[r.RightClick=2]="RightClick"})(H1||(H1={}));class Wq extends Jv{constructor(e){super(e,qq,nc(e.event.target))}}Wq.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;return t.button===H1.RightClick?!1:(n?.({event:t}),!0)}}];const Rx={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Gq extends Jv{constructor(e){super(e,Rx)}static setup(){return window.addEventListener(Rx.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Rx.move.name,e)};function e(){}}}Gq.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;const{touches:i}=t;return i.length>1?!1:(n?.({event:t}),!0)}}];var w0;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(w0||(w0={}));var $d;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})($d||($d={}));function Xq(r){let{acceleration:e,activator:t=w0.Pointer,canScroll:n,draggingRect:i,enabled:s,interval:l=5,order:c=$d.TreeOrder,pointerCoordinates:f,scrollableAncestors:h,scrollableAncestorRects:d,delta:m,threshold:g}=r;const x=Kq({delta:m,disabled:!s}),[b,y]=aq(),S=Q.useRef({x:0,y:0}),T=Q.useRef({x:0,y:0}),A=Q.useMemo(()=>{switch(t){case w0.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case w0.DraggableRect:return i}},[t,i,f]),C=Q.useRef(null),_=Q.useCallback(()=>{const R=C.current;if(!R)return;const O=S.current.x*T.current.x,z=S.current.y*T.current.y;R.scrollBy(O,z)},[]),N=Q.useMemo(()=>c===$d.TreeOrder?[...h].reverse():h,[c,h]);Q.useEffect(()=>{if(!s||!h.length||!A){y();return}for(const R of N){if(n?.(R)===!1)continue;const O=h.indexOf(R),z=d[O];if(!z)continue;const{direction:M,speed:I}=Fq(R,z,A,e,g);for(const P of["x","y"])x[P][M[P]]||(I[P]=0,M[P]=0);if(I.x>0||I.y>0){y(),C.current=R,b(_,l),S.current=I,T.current=M;return}}S.current={x:0,y:0},T.current={x:0,y:0},y()},[e,_,n,y,s,l,JSON.stringify(A),JSON.stringify(x),b,h,N,d,JSON.stringify(g)])}const Yq={x:{[Ur.Backward]:!1,[Ur.Forward]:!1},y:{[Ur.Backward]:!1,[Ur.Forward]:!1}};function Kq(r){let{delta:e,disabled:t}=r;const n=Xd(e);return pf(i=>{if(t||!n||!i)return Yq;const s={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Ur.Backward]:i.x[Ur.Backward]||s.x===-1,[Ur.Forward]:i.x[Ur.Forward]||s.x===1},y:{[Ur.Backward]:i.y[Ur.Backward]||s.y===-1,[Ur.Forward]:i.y[Ur.Forward]||s.y===1}}},[t,e,n])}function $q(r,e){const t=e!=null?r.get(e):void 0,n=t?t.node.current:null;return pf(i=>{var s;return e==null?null:(s=n??i)!=null?s:null},[n,e])}function Qq(r,e){return Q.useMemo(()=>r.reduce((t,n)=>{const{sensor:i}=n,s=i.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,n)}));return[...t,...s]},[]),[r,e])}var $0;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})($0||($0={}));var U1;(function(r){r.Optimized="optimized"})(U1||(U1={}));const UC=new Map;function Zq(r,e){let{dragging:t,dependencies:n,config:i}=e;const[s,l]=Q.useState(null),{frequency:c,measure:f,strategy:h}=i,d=Q.useRef(r),m=S(),g=Y0(m),x=Q.useCallback(function(T){T===void 0&&(T=[]),!g.current&&l(A=>A===null?T:A.concat(T.filter(C=>!A.includes(C))))},[g]),b=Q.useRef(null),y=pf(T=>{if(m&&!t)return UC;if(!T||T===UC||d.current!==r||s!=null){const A=new Map;for(let C of r){if(!C)continue;if(s&&s.length>0&&!s.includes(C.id)&&C.rect.current){A.set(C.id,C.rect.current);continue}const _=C.node.current,N=_?new Qv(f(_),_):null;C.rect.current=N,N&&A.set(C.id,N)}return A}return T},[r,s,t,m,f]);return Q.useEffect(()=>{d.current=r},[r]),Q.useEffect(()=>{m||x()},[t,m]),Q.useEffect(()=>{s&&s.length>0&&l(null)},[JSON.stringify(s)]),Q.useEffect(()=>{m||typeof c!="number"||b.current!==null||(b.current=setTimeout(()=>{x(),b.current=null},c))},[c,m,x,...n]),{droppableRects:y,measureDroppableContainers:x,measuringScheduled:s!=null};function S(){switch(h){case $0.Always:return!1;case $0.BeforeDragging:return t;default:return!t}}}function t2(r,e){return pf(t=>r?t||(typeof e=="function"?e(r):r):null,[e,r])}function Jq(r,e){return t2(r,e)}function eW(r){let{callback:e,disabled:t}=r;const n=wp(e),i=Q.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(n)},[n,t]);return Q.useEffect(()=>()=>i?.disconnect(),[i]),i}function Cp(r){let{callback:e,disabled:t}=r;const n=wp(e),i=Q.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[t]);return Q.useEffect(()=>()=>i?.disconnect(),[i]),i}function tW(r){return new Qv(ic(r),r)}function VC(r,e,t){e===void 0&&(e=tW);const[n,i]=Q.useState(null);function s(){i(f=>{if(!r)return null;if(r.isConnected===!1){var h;return(h=f??t)!=null?h:null}const d=e(r);return JSON.stringify(f)===JSON.stringify(d)?f:d})}const l=eW({callback(f){if(r)for(const h of f){const{type:d,target:m}=h;if(d==="childList"&&m instanceof HTMLElement&&m.contains(r)){s();break}}}}),c=Cp({callback:s});return Wi(()=>{s(),r?(c?.observe(r),l?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),l?.disconnect())},[r]),n}function rW(r){const e=t2(r);return Q6(r,e)}const qC=[];function nW(r){const e=Q.useRef(r),t=pf(n=>r?n&&n!==qC&&r&&e.current&&r.parentNode===e.current.parentNode?n:Ep(r):qC,[r]);return Q.useEffect(()=>{e.current=r},[r]),t}function iW(r){const[e,t]=Q.useState(null),n=Q.useRef(r),i=Q.useCallback(s=>{const l=Bx(s.target);l&&t(c=>c?(c.set(l,z1(l)),new Map(c)):null)},[]);return Q.useEffect(()=>{const s=n.current;if(r!==s){l(s);const c=r.map(f=>{const h=Bx(f);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,z1(h)]):null}).filter(f=>f!=null);t(c.length?new Map(c):null),n.current=r}return()=>{l(r),l(s)};function l(c){c.forEach(f=>{const h=Bx(f);h?.removeEventListener("scroll",i)})}},[i,r]),Q.useMemo(()=>r.length?e?Array.from(e.values()).reduce((s,l)=>jo(s,l),Gi):i_(r):Gi,[r,e])}function WC(r,e){e===void 0&&(e=[]);const t=Q.useRef(null);return Q.useEffect(()=>{t.current=null},e),Q.useEffect(()=>{const n=r!==Gi;n&&!t.current&&(t.current=r),!n&&t.current&&(t.current=null)},[r]),t.current?K0(r,t.current):Gi}function sW(r){Q.useEffect(()=>{if(!bp)return;const e=r.map(t=>{let{sensor:n}=t;return n.setup==null?void 0:n.setup()});return()=>{for(const t of e)t?.()}},r.map(e=>{let{sensor:t}=e;return t}))}function aW(r,e){return Q.useMemo(()=>r.reduce((t,n)=>{let{eventName:i,handler:s}=n;return t[i]=l=>{s(l,e)},t},{}),[r,e])}function l_(r){return Q.useMemo(()=>r?Bq(r):null,[r])}const GC=[];function lW(r,e){e===void 0&&(e=ic);const[t]=r,n=l_(t?_n(t):null),[i,s]=Q.useState(GC);function l(){s(()=>r.length?r.map(f=>r_(f)?n:new Qv(e(f),f)):GC)}const c=Cp({callback:l});return Wi(()=>{c?.disconnect(),l(),r.forEach(f=>c?.observe(f))},[r]),i}function o_(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return df(e)?e:r}function oW(r){let{measure:e}=r;const[t,n]=Q.useState(null),i=Q.useCallback(h=>{for(const{target:d}of h)if(df(d)){n(m=>{const g=e(d);return m?{...m,width:g.width,height:g.height}:g});break}},[e]),s=Cp({callback:i}),l=Q.useCallback(h=>{const d=o_(h);s?.disconnect(),d&&s?.observe(d),n(d?e(d):null)},[e,s]),[c,f]=Gd(l);return Q.useMemo(()=>({nodeRef:c,rect:t,setRef:f}),[t,c,f])}const cW=[{sensor:e2,options:{}},{sensor:Zv,options:{}}],fW={current:{}},nd={draggable:{measure:PC},droppable:{measure:PC,strategy:$0.WhileDragging,frequency:U1.Optimized},dragOverlay:{measure:ic}};class S0 extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return(t=(n=this.get(e))==null?void 0:n.node.current)!=null?t:void 0}}const uW={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new S0,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Kd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:nd,measureDroppableContainers:Kd,windowRect:null,measuringScheduled:!1},c_={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Kd,draggableNodes:new Map,over:null,measureDroppableContainers:Kd},gf=Q.createContext(c_),f_=Q.createContext(uW);function hW(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new S0}}}function dW(r,e){switch(e.type){case Pr.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Pr.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}};case Pr.DragEnd:case Pr.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Pr.RegisterDroppable:{const{element:t}=e,{id:n}=t,i=new S0(r.droppable.containers);return i.set(n,t),{...r,droppable:{...r.droppable,containers:i}}}case Pr.SetDroppableDisabled:{const{id:t,key:n,disabled:i}=e,s=r.droppable.containers.get(t);if(!s||n!==s.key)return r;const l=new S0(r.droppable.containers);return l.set(t,{...s,disabled:i}),{...r,droppable:{...r.droppable,containers:l}}}case Pr.UnregisterDroppable:{const{id:t,key:n}=e,i=r.droppable.containers.get(t);if(!i||n!==i.key)return r;const s=new S0(r.droppable.containers);return s.delete(t),{...r,droppable:{...r.droppable,containers:s}}}default:return r}}function pW(r){let{disabled:e}=r;const{active:t,activatorEvent:n,draggableNodes:i}=Q.useContext(gf),s=Xd(n),l=Xd(t?.id);return Q.useEffect(()=>{if(!e&&!n&&s&&l!=null){if(!Sp(s)||document.activeElement===s.target)return;const c=i.get(l);if(!c)return;const{activatorNode:f,node:h}=c;if(!f.current&&!h.current)return;requestAnimationFrame(()=>{for(const d of[f.current,h.current]){if(!d)continue;const m=cq(d);if(m){m.focus();break}}})}},[n,e,i,l,s]),null}function u_(r,e){let{transform:t,...n}=e;return r!=null&&r.length?r.reduce((i,s)=>s({transform:i,...n}),t):t}function mW(r){return Q.useMemo(()=>({draggable:{...nd.draggable,...r?.draggable},droppable:{...nd.droppable,...r?.droppable},dragOverlay:{...nd.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function gW(r){let{activeNode:e,measure:t,initialRect:n,config:i=!0}=r;const s=Q.useRef(!1),{x:l,y:c}=typeof i=="boolean"?{x:i,y:i}:i;Wi(()=>{if(!l&&!c||!e){s.current=!1;return}if(s.current||!n)return;const h=e?.node.current;if(!h||h.isConnected===!1)return;const d=t(h),m=Q6(d,n);if(l||(m.x=0),c||(m.y=0),s.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const g=J6(h);g&&g.scrollBy({top:m.y,left:m.x})}},[e,l,c,n,t])}const Ap=Q.createContext({...Gi,scaleX:1,scaleY:1});var Ca;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(Ca||(Ca={}));const xW=Q.memo(function(e){var t,n,i,s;let{id:l,accessibility:c,autoScroll:f=!0,children:h,sensors:d=cW,collisionDetection:m=Aq,measuring:g,modifiers:x,...b}=e;const y=Q.useReducer(dW,void 0,hW),[S,T]=y,[A,C]=mq(),[_,N]=Q.useState(Ca.Uninitialized),R=_===Ca.Initialized,{draggable:{active:O,nodes:z,translate:M},droppable:{containers:I}}=S,P=O!=null?z.get(O):null,W=Q.useRef({initial:null,translated:null}),K=Q.useMemo(()=>{var Ut;return O!=null?{id:O,data:(Ut=P?.data)!=null?Ut:fW,rect:W}:null},[O,P]),se=Q.useRef(null),[ue,ee]=Q.useState(null),[ie,be]=Q.useState(null),Ee=Y0(b,Object.values(b)),ke=mf("DndDescribedBy",l),j=Q.useMemo(()=>I.getEnabled(),[I]),D=mW(g),{droppableRects:L,measureDroppableContainers:B,measuringScheduled:U}=Zq(j,{dragging:R,dependencies:[M.x,M.y],config:D.droppable}),Z=$q(z,O),le=Q.useMemo(()=>ie?Yd(ie):null,[ie]),re=ui(),ve=Jq(Z,D.draggable.measure);gW({activeNode:O!=null?z.get(O):null,config:re.layoutShiftCompensation,initialRect:ve,measure:D.draggable.measure});const pe=VC(Z,D.draggable.measure,ve),Je=VC(Z?Z.parentElement:null),Xe=Q.useRef({activatorEvent:null,active:null,activeNode:Z,collisionRect:null,collisions:null,droppableRects:L,draggableNodes:z,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ct=I.getNodeFor((t=Xe.current.over)==null?void 0:t.id),We=oW({measure:D.dragOverlay.measure}),Fe=(n=We.nodeRef.current)!=null?n:Z,je=R?(i=We.rect)!=null?i:pe:null,Oe=!!(We.nodeRef.current&&We.rect),$e=rW(Oe?null:pe),lt=l_(Fe?_n(Fe):null),mt=nW(R?ct??Z:null),Mt=lW(mt),Ht=u_(x,{transform:{x:M.x-$e.x,y:M.y-$e.y,scaleX:1,scaleY:1},activatorEvent:ie,active:K,activeNodeRect:pe,containerNodeRect:Je,draggingNodeRect:je,over:Xe.current.over,overlayNodeRect:We.rect,scrollableAncestors:mt,scrollableAncestorRects:Mt,windowRect:lt}),Cr=le?jo(le,M):null,bt=iW(mt),Gn=WC(bt),zr=WC(bt,[pe]),vr=jo(Ht,Gn),sr=je?Dq(je,Ht):null,Dn=K&&sr?m({active:K,collisionRect:sr,droppableRects:L,droppableContainers:j,pointerCoordinates:Cr}):null,Xn=$6(Dn,"id"),[hr,vn]=Q.useState(null),kn=Oe?Ht:jo(Ht,zr),dr=Tq(kn,(s=hr?.rect)!=null?s:null,pe),fr=Q.useRef(null),ur=Q.useCallback((Ut,Rt)=>{let{sensor:ar,options:ge}=Rt;if(se.current==null)return;const Me=z.get(se.current);if(!Me)return;const Ne=Ut.nativeEvent,et=new ar({active:se.current,activeNode:Me,event:Ne,options:ge,context:Xe,onAbort(rt){if(!z.get(rt))return;const{onDragAbort:st}=Ee.current,At={id:rt};st?.(At),A({type:"onDragAbort",event:At})},onPending(rt,at,st,At){if(!z.get(rt))return;const{onDragPending:Ar}=Ee.current,F={id:rt,constraint:at,initialCoordinates:st,offset:At};Ar?.(F),A({type:"onDragPending",event:F})},onStart(rt){const at=se.current;if(at==null)return;const st=z.get(at);if(!st)return;const{onDragStart:At}=Ee.current,yr={activatorEvent:Ne,active:{id:at,data:st.data,rect:W}};a0.unstable_batchedUpdates(()=>{At?.(yr),N(Ca.Initializing),T({type:Pr.DragStart,initialCoordinates:rt,active:at}),A({type:"onDragStart",event:yr}),ee(fr.current),be(Ne)})},onMove(rt){T({type:Pr.DragMove,coordinates:rt})},onEnd:Ye(Pr.DragEnd),onCancel:Ye(Pr.DragCancel)});fr.current=et;function Ye(rt){return async function(){const{active:st,collisions:At,over:yr,scrollAdjustedTranslate:Ar}=Xe.current;let F=null;if(st&&Ar){const{cancelDrop:G}=Ee.current;F={activatorEvent:Ne,active:st,collisions:At,delta:Ar,over:yr},rt===Pr.DragEnd&&typeof G=="function"&&await Promise.resolve(G(F))&&(rt=Pr.DragCancel)}se.current=null,a0.unstable_batchedUpdates(()=>{T({type:rt}),N(Ca.Uninitialized),vn(null),ee(null),be(null),fr.current=null;const G=rt===Pr.DragEnd?"onDragEnd":"onDragCancel";if(F){const V=Ee.current[G];V?.(F),A({type:G,event:F})}})}}},[z]),Ki=Q.useCallback((Ut,Rt)=>(ar,ge)=>{const Me=ar.nativeEvent,Ne=z.get(ge);if(se.current!==null||!Ne||Me.dndKit||Me.defaultPrevented)return;const et={active:Ne};Ut(ar,Rt.options,et)===!0&&(Me.dndKit={capturedBy:Rt.sensor},se.current=ge,ur(ar,Rt))},[z,ur]),Yn=Qq(d,Ki);sW(d),Wi(()=>{pe&&_===Ca.Initializing&&N(Ca.Initialized)},[pe,_]),Q.useEffect(()=>{const{onDragMove:Ut}=Ee.current,{active:Rt,activatorEvent:ar,collisions:ge,over:Me}=Xe.current;if(!Rt||!ar)return;const Ne={active:Rt,activatorEvent:ar,collisions:ge,delta:{x:vr.x,y:vr.y},over:Me};a0.unstable_batchedUpdates(()=>{Ut?.(Ne),A({type:"onDragMove",event:Ne})})},[vr.x,vr.y]),Q.useEffect(()=>{const{active:Ut,activatorEvent:Rt,collisions:ar,droppableContainers:ge,scrollAdjustedTranslate:Me}=Xe.current;if(!Ut||se.current==null||!Rt||!Me)return;const{onDragOver:Ne}=Ee.current,et=ge.get(Xn),Ye=et&&et.rect.current?{id:et.id,rect:et.rect.current,data:et.data,disabled:et.disabled}:null,rt={active:Ut,activatorEvent:Rt,collisions:ar,delta:{x:Me.x,y:Me.y},over:Ye};a0.unstable_batchedUpdates(()=>{vn(Ye),Ne?.(rt),A({type:"onDragOver",event:rt})})},[Xn]),Wi(()=>{Xe.current={activatorEvent:ie,active:K,activeNode:Z,collisionRect:sr,collisions:Dn,droppableRects:L,draggableNodes:z,draggingNode:Fe,draggingNodeRect:je,droppableContainers:I,over:hr,scrollableAncestors:mt,scrollAdjustedTranslate:vr},W.current={initial:je,translated:sr}},[K,Z,Dn,sr,z,Fe,je,L,I,hr,mt,vr]),Xq({...re,delta:M,draggingRect:sr,pointerCoordinates:Cr,scrollableAncestors:mt,scrollableAncestorRects:Mt});const $i=Q.useMemo(()=>({active:K,activeNode:Z,activeNodeRect:pe,activatorEvent:ie,collisions:Dn,containerNodeRect:Je,dragOverlay:We,draggableNodes:z,droppableContainers:I,droppableRects:L,over:hr,measureDroppableContainers:B,scrollableAncestors:mt,scrollableAncestorRects:Mt,measuringConfiguration:D,measuringScheduled:U,windowRect:lt}),[K,Z,pe,ie,Dn,Je,We,z,I,L,hr,B,mt,Mt,D,U,lt]),On=Q.useMemo(()=>({activatorEvent:ie,activators:Yn,active:K,activeNodeRect:pe,ariaDescribedById:{draggable:ke},dispatch:T,draggableNodes:z,over:hr,measureDroppableContainers:B}),[ie,Yn,K,pe,T,ke,z,hr,B]);return rr.createElement(X6.Provider,{value:C},rr.createElement(gf.Provider,{value:On},rr.createElement(f_.Provider,{value:$i},rr.createElement(Ap.Provider,{value:dr},h)),rr.createElement(pW,{disabled:c?.restoreFocus===!1})),rr.createElement(vq,{...c,hiddenTextDescribedById:ke}));function ui(){const Ut=ue?.autoScrollEnabled===!1,Rt=typeof f=="object"?f.enabled===!1:f===!1,ar=R&&!Ut&&!Rt;return typeof f=="object"?{...f,enabled:ar}:{enabled:ar}}}),vW=Q.createContext(null),XC="button",yW="Draggable";function bW(r){let{id:e,data:t,disabled:n=!1,attributes:i}=r;const s=mf(yW),{activators:l,activatorEvent:c,active:f,activeNodeRect:h,ariaDescribedById:d,draggableNodes:m,over:g}=Q.useContext(gf),{role:x=XC,roleDescription:b="draggable",tabIndex:y=0}=i??{},S=f?.id===e,T=Q.useContext(S?Ap:vW),[A,C]=Gd(),[_,N]=Gd(),R=aW(l,e),O=Y0(t);Wi(()=>(m.set(e,{id:e,key:s,node:A,activatorNode:_,data:O}),()=>{const M=m.get(e);M&&M.key===s&&m.delete(e)}),[m,e]);const z=Q.useMemo(()=>({role:x,tabIndex:y,"aria-disabled":n,"aria-pressed":S&&x===XC?!0:void 0,"aria-roledescription":b,"aria-describedby":d.draggable}),[n,x,y,S,b,d.draggable]);return{active:f,activatorEvent:c,activeNodeRect:h,attributes:z,isDragging:S,listeners:n?void 0:R,node:A,over:g,setNodeRef:C,setActivatorNodeRef:N,transform:T}}function h_(){return Q.useContext(f_)}const wW="Droppable",SW={timeout:25};function d_(r){let{data:e,disabled:t=!1,id:n,resizeObserverConfig:i}=r;const s=mf(wW),{active:l,dispatch:c,over:f,measureDroppableContainers:h}=Q.useContext(gf),d=Q.useRef({disabled:t}),m=Q.useRef(!1),g=Q.useRef(null),x=Q.useRef(null),{disabled:b,updateMeasurementsFor:y,timeout:S}={...SW,...i},T=Y0(y??n),A=Q.useCallback(()=>{if(!m.current){m.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{h(Array.isArray(T.current)?T.current:[T.current]),x.current=null},S)},[S]),C=Cp({callback:A,disabled:b||!l}),_=Q.useCallback((z,M)=>{C&&(M&&(C.unobserve(M),m.current=!1),z&&C.observe(z))},[C]),[N,R]=Gd(_),O=Y0(e);return Q.useEffect(()=>{!C||!N.current||(C.disconnect(),m.current=!1,C.observe(N.current))},[N,C]),Q.useEffect(()=>(c({type:Pr.RegisterDroppable,element:{id:n,key:s,disabled:t,node:N,rect:g,data:O}}),()=>c({type:Pr.UnregisterDroppable,key:s,id:n})),[n]),Q.useEffect(()=>{t!==d.current.disabled&&(c({type:Pr.SetDroppableDisabled,id:n,key:s,disabled:t}),d.current.disabled=t)},[n,s,t,c]),{active:l,rect:g,isOver:f?.id===n,node:N,over:f,setNodeRef:R}}function EW(r){let{animation:e,children:t}=r;const[n,i]=Q.useState(null),[s,l]=Q.useState(null),c=Xd(t);return!t&&!n&&c&&i(c),Wi(()=>{if(!s)return;const f=n?.key,h=n?.props.id;if(f==null||h==null){i(null);return}Promise.resolve(e(h,s)).then(()=>{i(null)})},[e,n,s]),rr.createElement(rr.Fragment,null,t,n?Q.cloneElement(n,{ref:l}):null)}const CW={x:0,y:0,scaleX:1,scaleY:1};function AW(r){let{children:e}=r;return rr.createElement(gf.Provider,{value:c_},rr.createElement(Ap.Provider,{value:CW},e))}const TW={position:"fixed",touchAction:"none"},_W=r=>Sp(r)?"transform 250ms ease":void 0,DW=Q.forwardRef((r,e)=>{let{as:t,activatorEvent:n,adjustScale:i,children:s,className:l,rect:c,style:f,transform:h,transition:d=_W}=r;if(!c)return null;const m=i?h:{...h,scaleX:1,scaleY:1},g={...TW,width:c.width,height:c.height,top:c.top,left:c.left,transform:za.Transform.toString(m),transformOrigin:i&&n?bq(n,c):void 0,transition:typeof d=="function"?d(n):d,...f};return rr.createElement(t,{className:l,style:g,ref:e},s)}),kW=r=>e=>{let{active:t,dragOverlay:n}=e;const i={},{styles:s,className:l}=r;if(s!=null&&s.active)for(const[c,f]of Object.entries(s.active))f!==void 0&&(i[c]=t.node.style.getPropertyValue(c),t.node.style.setProperty(c,f));if(s!=null&&s.dragOverlay)for(const[c,f]of Object.entries(s.dragOverlay))f!==void 0&&n.node.style.setProperty(c,f);return l!=null&&l.active&&t.node.classList.add(l.active),l!=null&&l.dragOverlay&&n.node.classList.add(l.dragOverlay),function(){for(const[f,h]of Object.entries(i))t.node.style.setProperty(f,h);l!=null&&l.active&&t.node.classList.remove(l.active)}},OW=r=>{let{transform:{initial:e,final:t}}=r;return[{transform:za.Transform.toString(e)},{transform:za.Transform.toString(t)}]},BW={duration:250,easing:"ease",keyframes:OW,sideEffects:kW({styles:{active:{opacity:"0"}}})};function NW(r){let{config:e,draggableNodes:t,droppableContainers:n,measuringConfiguration:i}=r;return wp((s,l)=>{if(e===null)return;const c=t.get(s);if(!c)return;const f=c.node.current;if(!f)return;const h=o_(l);if(!h)return;const{transform:d}=_n(l).getComputedStyle(l),m=Z6(d);if(!m)return;const g=typeof e=="function"?e:RW(e);return s_(f,i.draggable.measure),g({active:{id:s,data:c.data,node:f,rect:i.draggable.measure(f)},draggableNodes:t,dragOverlay:{node:l,rect:i.dragOverlay.measure(h)},droppableContainers:n,measuringConfiguration:i,transform:m})})}function RW(r){const{duration:e,easing:t,sideEffects:n,keyframes:i}={...BW,...r};return s=>{let{active:l,dragOverlay:c,transform:f,...h}=s;if(!e)return;const d={x:c.rect.left-l.rect.left,y:c.rect.top-l.rect.top},m={scaleX:f.scaleX!==1?l.rect.width*f.scaleX/c.rect.width:1,scaleY:f.scaleY!==1?l.rect.height*f.scaleY/c.rect.height:1},g={x:f.x-d.x,y:f.y-d.y,...m},x=i({...h,active:l,dragOverlay:c,transform:{initial:f,final:g}}),[b]=x,y=x[x.length-1];if(JSON.stringify(b)===JSON.stringify(y))return;const S=n?.({active:l,dragOverlay:c,...h}),T=c.node.animate(x,{duration:e,easing:t,fill:"forwards"});return new Promise(A=>{T.onfinish=()=>{S?.(),A()}})}}let YC=0;function MW(r){return Q.useMemo(()=>{if(r!=null)return YC++,YC},[r])}const FW=rr.memo(r=>{let{adjustScale:e=!1,children:t,dropAnimation:n,style:i,transition:s,modifiers:l,wrapperElement:c="div",className:f,zIndex:h=999}=r;const{activatorEvent:d,active:m,activeNodeRect:g,containerNodeRect:x,draggableNodes:b,droppableContainers:y,dragOverlay:S,over:T,measuringConfiguration:A,scrollableAncestors:C,scrollableAncestorRects:_,windowRect:N}=h_(),R=Q.useContext(Ap),O=MW(m?.id),z=u_(l,{activatorEvent:d,active:m,activeNodeRect:g,containerNodeRect:x,draggingNodeRect:S.rect,over:T,overlayNodeRect:S.rect,scrollableAncestors:C,scrollableAncestorRects:_,transform:R,windowRect:N}),M=t2(g),I=NW({config:n,draggableNodes:b,droppableContainers:y,measuringConfiguration:A}),P=M?S.setRef:void 0;return rr.createElement(AW,null,rr.createElement(EW,{animation:I},m&&O?rr.createElement(DW,{key:O,id:m.id,ref:P,as:c,activatorEvent:d,adjustScale:e,className:f,transition:s,rect:M,style:{zIndex:h,...i},transform:z},t):null))});function r2(r,e,t){const n=r.slice();return n.splice(t<0?n.length+t:t,0,n.splice(e,1)[0]),n}function LW(r,e){return r.reduce((t,n,i)=>{const s=e.get(n);return s&&(t[i]=s),t},Array(r.length))}function lh(r){return r!==null&&r>=0}function IW(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function PW(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const p_=r=>{let{rects:e,activeIndex:t,overIndex:n,index:i}=r;const s=r2(e,n,t),l=e[i],c=s[i];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},oh={scaleX:1,scaleY:1},jW=r=>{var e;let{activeIndex:t,activeNodeRect:n,index:i,rects:s,overIndex:l}=r;const c=(e=s[t])!=null?e:n;if(!c)return null;if(i===t){const h=s[l];return h?{x:0,y:t<l?h.top+h.height-(c.top+c.height):h.top-c.top,...oh}:null}const f=zW(s,i,t);return i>t&&i<=l?{x:0,y:-c.height-f,...oh}:i<t&&i>=l?{x:0,y:c.height+f,...oh}:{x:0,y:0,...oh}};function zW(r,e,t){const n=r[e],i=r[e-1],s=r[e+1];return n?t<e?i?n.top-(i.top+i.height):s?s.top-(n.top+n.height):0:s?s.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}const m_="Sortable",g_=rr.createContext({activeIndex:-1,containerId:m_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:p_,disabled:{draggable:!1,droppable:!1}});function HW(r){let{children:e,id:t,items:n,strategy:i=p_,disabled:s=!1}=r;const{active:l,dragOverlay:c,droppableRects:f,over:h,measureDroppableContainers:d}=h_(),m=mf(m_,t),g=c.rect!==null,x=Q.useMemo(()=>n.map(R=>typeof R=="object"&&"id"in R?R.id:R),[n]),b=l!=null,y=l?x.indexOf(l.id):-1,S=h?x.indexOf(h.id):-1,T=Q.useRef(x),A=!IW(x,T.current),C=S!==-1&&y===-1||A,_=PW(s);Wi(()=>{A&&b&&d(x)},[A,x,b,d]),Q.useEffect(()=>{T.current=x},[x]);const N=Q.useMemo(()=>({activeIndex:y,containerId:m,disabled:_,disableTransforms:C,items:x,overIndex:S,useDragOverlay:g,sortedRects:LW(x,f),strategy:i}),[y,m,_.draggable,_.droppable,C,x,S,f,g,i]);return rr.createElement(g_.Provider,{value:N},e)}const UW=r=>{let{id:e,items:t,activeIndex:n,overIndex:i}=r;return r2(t,n,i).indexOf(e)},VW=r=>{let{containerId:e,isSorting:t,wasDragging:n,index:i,items:s,newIndex:l,previousItems:c,previousContainerId:f,transition:h}=r;return!h||!n||c!==s&&i===l?!1:t?!0:l!==i&&e===f},qW={duration:200,easing:"ease"},x_="transform",WW=za.Transition.toString({property:x_,duration:0,easing:"linear"}),GW={roleDescription:"sortable"};function XW(r){let{disabled:e,index:t,node:n,rect:i}=r;const[s,l]=Q.useState(null),c=Q.useRef(t);return Wi(()=>{if(!e&&t!==c.current&&n.current){const f=i.current;if(f){const h=ic(n.current,{ignoreTransform:!0}),d={x:f.left-h.left,y:f.top-h.top,scaleX:f.width/h.width,scaleY:f.height/h.height};(d.x||d.y)&&l(d)}}t!==c.current&&(c.current=t)},[e,t,n,i]),Q.useEffect(()=>{s&&l(null)},[s]),s}function YW(r){let{animateLayoutChanges:e=VW,attributes:t,disabled:n,data:i,getNewIndex:s=UW,id:l,strategy:c,resizeObserverConfig:f,transition:h=qW}=r;const{items:d,containerId:m,activeIndex:g,disabled:x,disableTransforms:b,sortedRects:y,overIndex:S,useDragOverlay:T,strategy:A}=Q.useContext(g_),C=KW(n,x),_=d.indexOf(l),N=Q.useMemo(()=>({sortable:{containerId:m,index:_,items:d},...i}),[m,i,_,d]),R=Q.useMemo(()=>d.slice(d.indexOf(l)),[d,l]),{rect:O,node:z,isOver:M,setNodeRef:I}=d_({id:l,data:N,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...f}}),{active:P,activatorEvent:W,activeNodeRect:K,attributes:se,setNodeRef:ue,listeners:ee,isDragging:ie,over:be,setActivatorNodeRef:Ee,transform:ke}=bW({id:l,data:N,attributes:{...GW,...t},disabled:C.draggable}),j=sq(I,ue),D=!!P,L=D&&!b&&lh(g)&&lh(S),B=!T&&ie,U=B&&L?ke:null,le=L?U??(c??A)({rects:y,activeNodeRect:K,activeIndex:g,overIndex:S,index:_}):null,re=lh(g)&&lh(S)?s({id:l,items:d,activeIndex:g,overIndex:S}):_,ve=P?.id,pe=Q.useRef({activeId:ve,items:d,newIndex:re,containerId:m}),Je=d!==pe.current.items,Xe=e({active:P,containerId:m,isDragging:ie,isSorting:D,id:l,index:_,items:d,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:h,wasDragging:pe.current.activeId!=null}),ct=XW({disabled:!Xe,index:_,node:z,rect:O});return Q.useEffect(()=>{D&&pe.current.newIndex!==re&&(pe.current.newIndex=re),m!==pe.current.containerId&&(pe.current.containerId=m),d!==pe.current.items&&(pe.current.items=d)},[D,re,m,d]),Q.useEffect(()=>{if(ve===pe.current.activeId)return;if(ve!=null&&pe.current.activeId==null){pe.current.activeId=ve;return}const Fe=setTimeout(()=>{pe.current.activeId=ve},50);return()=>clearTimeout(Fe)},[ve]),{active:P,activeIndex:g,attributes:se,data:N,rect:O,index:_,newIndex:re,items:d,isOver:M,isSorting:D,isDragging:ie,listeners:ee,node:z,overIndex:S,over:be,setNodeRef:j,setActivatorNodeRef:Ee,setDroppableNodeRef:I,setDraggableNodeRef:ue,transform:ct??le,transition:We()};function We(){if(ct||Je&&pe.current.newIndex===_)return WW;if(!(B&&!Sp(W)||!h)&&(D||Xe))return za.Transition.toString({...h,property:x_})}}function KW(r,e){var t,n;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(t=r?.draggable)!=null?t:e.draggable,droppable:(n=r?.droppable)!=null?n:e.droppable}}function Qd(r){if(!r)return!1;const e=r.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const $W=[St.Down,St.Right,St.Up,St.Left],QW=(r,e)=>{let{context:{active:t,collisionRect:n,droppableRects:i,droppableContainers:s,over:l,scrollableAncestors:c}}=e;if($W.includes(r.code)){if(r.preventDefault(),!t||!n)return;const f=[];s.getEnabled().forEach(m=>{if(!m||m!=null&&m.disabled)return;const g=i.get(m.id);if(g)switch(r.code){case St.Down:n.top<g.top&&f.push(m);break;case St.Up:n.top>g.top&&f.push(m);break;case St.Left:n.left>g.left&&f.push(m);break;case St.Right:n.left<g.left&&f.push(m);break}});const h=Eq({collisionRect:n,droppableRects:i,droppableContainers:f});let d=$6(h,"id");if(d===l?.id&&h.length>1&&(d=h[1].id),d!=null){const m=s.get(t.id),g=s.get(d),x=g?i.get(g.id):null,b=g?.node.current;if(b&&x&&m&&g){const S=Ep(b).some((R,O)=>c[O]!==R),T=v_(m,g),A=ZW(m,g),C=S||!T?{x:0,y:0}:{x:A?n.width-x.width:0,y:A?n.height-x.height:0},_={x:x.left,y:x.top};return C.x&&C.y?_:K0(_,C)}}}};function v_(r,e){return!Qd(r)||!Qd(e)?!1:r.data.current.sortable.containerId===e.data.current.sortable.containerId}function ZW(r,e){return!Qd(r)||!Qd(e)||!v_(r,e)?!1:r.data.current.sortable.index<e.data.current.sortable.index}const pl={PENDING:{id:"PENDING",title:"Pendente",color:"bg-gray-50",headerColor:"bg-gray-100",borderColor:"border-gray-200",textColor:"text-gray-800"},IN_PROGRESS:{id:"IN_PROGRESS",title:"Em Andamento",color:"bg-blue-50",headerColor:"bg-blue-100",borderColor:"border-blue-200",textColor:"text-blue-800"},OVERDUE:{id:"OVERDUE",title:"Em Atraso",color:"bg-red-50",headerColor:"bg-red-100",borderColor:"border-red-200",textColor:"text-red-800"},COMPLETED:{id:"COMPLETED",title:"Concludo",color:"bg-green-50",headerColor:"bg-green-100",borderColor:"border-green-200",textColor:"text-green-800"}};function JW({reminder:r,onClick:e,onDelete:t,onEdit:n,onMove:i}){const{attributes:s,listeners:l,setNodeRef:c,transform:f,transition:h,isDragging:d}=YW({id:r.id,data:{...r}}),m={transform:za.Transform.toString(f),transition:h,opacity:d?.5:1},g=x=>{const b=pl[x]||pl.PENDING;return E.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${b.headerColor} ${b.textColor}`,children:b.title})};return E.jsxs("div",{ref:c,style:m,...s,...l,className:"bg-white p-3 rounded-lg shadow-sm border border-gray-200 mb-3 cursor-grab hover:shadow-md transition-all group relative",onClick:x=>{x.target.closest("button")||e(r)},children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsx("h4",{className:"font-bold text-gray-800 text-sm line-clamp-2",children:r.title}),g(r.status)]}),r.startDate&&E.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[" ",new Date(r.startDate).toLocaleDateString()]}),r.endDate&&E.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[" ",new Date(r.endDate).toLocaleDateString()]}),r.attachments&&r.attachments.length>0&&E.jsx("div",{className:"flex items-center space-x-1 mb-2",children:E.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded flex items-center",children:[" ",r.attachments.length," anexo(s)"]})}),r.image&&(!r.attachments||r.attachments.length===0)&&E.jsx("div",{className:"h-24 w-full rounded bg-gray-100 mb-2 overflow-hidden",children:E.jsx("img",{src:r.image,alt:"Cover",className:"w-full h-full object-cover"})}),E.jsx("p",{className:"text-xs text-gray-600 line-clamp-3 mb-3",children:r.description}),E.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsxs("div",{className:"flex space-x-1",children:[r.status==="PENDING"&&E.jsx("button",{onClick:()=>i(r.id,"IN_PROGRESS"),title:"Iniciar",className:"p-1 hover:bg-orange-100 rounded text-orange-600",children:""}),r.status!=="COMPLETED"&&E.jsx("button",{onClick:()=>i(r.id,"COMPLETED"),title:"Concluir",className:"p-1 hover:bg-green-100 rounded text-green-600",children:""})]}),E.jsxs("div",{className:"flex space-x-1",children:[E.jsx("button",{onClick:()=>n(r),title:"Editar",className:"p-1 hover:bg-blue-100 rounded text-blue-600",children:""}),E.jsx("button",{onClick:()=>t(r.id),title:"Excluir",className:"p-1 hover:bg-red-100 rounded text-red-600",children:""})]})]})]})}function eG({id:r,title:e,reminders:t,color:n,headerColor:i,borderColor:s,textColor:l,onClickCard:c,onDelete:f,onEdit:h,onMove:d}){const{setNodeRef:m}=d_({id:r});return E.jsxs("div",{className:`flex flex-col h-full rounded-xl ${n} border ${s} min-w-[280px] w-full md:w-1/4`,children:[E.jsxs("div",{className:`p-3 rounded-t-xl ${i} border-b ${s} flex justify-between items-center sticky top-0 z-10`,children:[E.jsx("h3",{className:`font-bold ${l}`,children:e}),E.jsx("span",{className:`bg-white/50 px-2 py-0.5 rounded-full text-xs font-bold ${l}`,children:t.length})]}),E.jsxs("div",{ref:m,className:"p-2 flex-1 overflow-y-auto",children:[E.jsx(HW,{items:t.map(g=>g.id),strategy:jW,children:t.map(g=>E.jsx(JW,{reminder:g,onClick:c,onDelete:f,onEdit:h,onMove:d},g.id))}),t.length===0&&E.jsx("div",{className:"h-20 flex items-center justify-center text-gray-400 text-sm border-2 border-dashed border-gray-200 rounded-lg",children:"Arraste aqui"})]})]})}function tG({isVisible:r}){if(!r)return null;const[e,t]=Q.useState([]),[n,i]=Q.useState(!1),[s,l]=Q.useState(null),[c,f]=Q.useState(null),[h,d]=Q.useState({title:"",startDate:"",endDate:"",description:"",image:null,attachments:[],status:"PENDING"}),[m,g]=Q.useState(null),[x,b]=Q.useState(0),[y,S]=Q.useState(!1),[T,A]=Q.useState("carousel"),C=yq(FC(e2,{activationConstraint:{distance:5}}),FC(Zv,{coordinateGetter:QW}));Q.useEffect(()=>{const D=localStorage.getItem("hap_reminders");if(D)try{let L=JSON.parse(D);L=L.map(B=>B.status?B:{...B,status:B.completed?"COMPLETED":"PENDING"}),t(L)}catch(L){console.error("Failed to parse reminders",L)}},[]);const _=D=>{t(D),localStorage.setItem("hap_reminders",JSON.stringify(D))},N=D=>{g(D.active.id)},R=D=>{const{active:L,over:B}=D;if(g(null),!B)return;const U=L.id,Z=B.id;let le=null;if(pl[Z])le=Z;else{const re=e.find(ve=>ve.id===Z);re&&(le=re.status)}if(le){t(ve=>{const pe=ve.findIndex(Xe=>Xe.id===U),Je=[...ve];return Je[pe]={...Je[pe],status:le},r2(Je,pe,pe)});const re=e.map(ve=>ve.id===U?{...ve,status:le}:ve);_(re)}},O=(D,L)=>{const B=e.map(U=>U.id===D?{...U,status:L}:U);_(B)},z=D=>{if(window.confirm("Excluir este lembrete?")){const L=e.filter(B=>B.id!==D);_(L)}},M=()=>{window.confirm("ATENO: Isso apagar TODOS os lembretes. Deseja continuar?")&&_([])},I=D=>{if(D.preventDefault(),c){const L=e.map(B=>B.id===c?{...h,id:c,updatedAt:new Date().toISOString()}:B);_(L)}else{const L={...h,id:Date.now(),createdAt:new Date().toISOString()};_([...e,L])}P()},P=()=>{i(!1),f(null),d({title:"",startDate:"",endDate:"",description:"",image:null,attachments:[],status:"PENDING"})},W=D=>{f(D.id),d(D),i(!0)},K=()=>{f(null),d({title:"",startDate:"",endDate:"",description:"",image:null,attachments:[],status:"PENDING"}),i(!0)},se=async D=>{const L=Array.from(D.target.files);if(L.length===0)return;const B=[...h.attachments||[]];for(const U of L){if(U.size>5*1024*1024){alert(`O arquivo ${U.name} excede o limite de 5MB.`);continue}const Z=new FormData;Z.append("file",U);try{const re=await(await fetch("http://localhost:3001/api/upload/attachment",{method:"POST",body:Z})).json();if(re.error)throw new Error(re.error);B.push({name:re.filename,url:`http://localhost:3001${re.url}`,type:U.type})}catch(le){console.error("Upload failed",le),alert(`Falha ao enviar ${U.name}: ${le.message}`)}}d(U=>({...U,attachments:B}))},ue=D=>{const L=[...h.attachments];L.splice(D,1),d({...h,attachments:L})},ee=D=>e.filter(L=>L.status===D),be=s?(D=>{if(!D)return[];const L=(D.attachments||[]).filter(B=>B.type&&B.type.startsWith("image/"));return D.image&&(!L||L.length===0)?[{url:D.image,name:"Cover"}]:L})(s):[],Ee=be.length>0,ke=D=>{D.stopPropagation(),b(L=>(L+1)%be.length)},j=D=>{D.stopPropagation(),b(L=>(L-1+be.length)%be.length)};return E.jsxs("div",{className:"h-full flex flex-col bg-gray-50/50",children:[E.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-4",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[" Kanban Board",E.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"v2.2"})]}),E.jsx("p",{className:"text-sm text-gray-500",children:"Arraste os cards para mover entre as fases"})]}),E.jsxs("div",{className:"flex space-x-3",children:[E.jsx("button",{onClick:M,className:"text-red-500 hover:text-red-700 font-medium text-sm px-3 py-2",children:"Limpar Tudo"}),E.jsxs("button",{onClick:K,className:"bg-[#f37021] text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors font-bold shadow-md flex items-center",children:[E.jsx("span",{className:"mr-2",children:""})," Novo Card"]})]})]}),E.jsxs(xW,{sensors:C,collisionDetection:Sq,onDragStart:N,onDragEnd:R,children:[E.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden pb-2",children:E.jsx("div",{className:"flex h-full space-x-4 min-w-max px-1",children:Object.values(pl).map(D=>E.jsx(eG,{...D,reminders:ee(D.id),onClickCard:L=>{l(L),b(0),A("carousel")},onDelete:z,onEdit:W,onMove:O},D.id))})}),E.jsx(FW,{children:m?E.jsx("div",{className:"bg-white p-3 rounded-lg shadow-xl border border-blue-300 opacity-90 w-[280px] rotate-2 cursor-grabbing",children:E.jsx("h4",{className:"font-bold text-gray-800",children:e.find(D=>D.id===m)?.title})}):null})]}),n&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg h-[90vh] flex flex-col overflow-hidden animate-fade-in",children:[E.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center flex-shrink-0",children:[E.jsx("h3",{className:"font-bold text-lg text-gray-800",children:c?"Editar Card":"Novo Card"}),E.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),E.jsx("input",{type:"text",required:!0,autoFocus:!0,value:h.title,onChange:D=>d({...h,title:D.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Ttulo da tarefa"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Incio/Prazo"}),E.jsx("input",{type:"date",value:h.startDate,onChange:D=>d({...h,startDate:D.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Trmino"}),E.jsx("input",{type:"date",value:h.endDate||"",onChange:D=>d({...h,endDate:D.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),E.jsx("div",{className:"grid grid-cols-2 gap-4",children:E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Inicial"}),E.jsx("select",{value:h.status,onChange:D=>d({...h,status:D.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:Object.values(pl).map(D=>E.jsx("option",{value:D.id,children:D.title},D.id))})]})}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),E.jsx("textarea",{rows:"4",value:h.description,onChange:D=>d({...h,description:D.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none resize-none",placeholder:"Detalhes..."})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anexar Arquivos (Mx 5MB)"}),E.jsx("input",{type:"file",multiple:!0,onChange:se,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),h.attachments&&h.attachments.length>0&&E.jsx("div",{className:"mt-2 space-y-2",children:h.attachments.map((D,L)=>E.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded border",children:[E.jsxs("div",{className:"flex items-center space-x-2 truncate",children:[E.jsx("span",{className:"text-lg",children:D.type&&D.type.startsWith("image/")?"":""}),E.jsx("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate max-w-[200px]",children:D.name})]}),E.jsx("button",{type:"button",onClick:()=>ue(L),className:"text-red-500 hover:text-red-700",children:""})]},L))})]})]}),E.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-end space-x-3 flex-shrink-0",children:[E.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg font-medium",children:"Cancelar"}),E.jsx("button",{onClick:I,className:"px-6 py-2 bg-[#f37021] text-white rounded-lg hover:bg-orange-600 font-bold shadow-md transition-colors",children:"Salvar"})]})]})}),s&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",onClick:()=>l(null),children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-scale-in",onClick:D=>D.stopPropagation(),children:[E.jsxs("div",{className:`px-6 py-4 border-b border-gray-200 flex justify-between items-center ${pl[s.status]?.headerColor} flex-shrink-0`,children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("h3",{className:"font-bold text-xl text-gray-800",children:s.title}),E.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-bold bg-white/50 border border-black/10",children:pl[s.status]?.title})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[Ee&&E.jsx("button",{onClick:()=>A(T==="carousel"?"grid":"carousel"),className:"text-xs bg-white/50 hover:bg-white/80 px-2 py-1 rounded border border-black/10 transition-colors",title:"Mudar Visualizao",children:T==="carousel"?" Grade":" Slide"}),E.jsx("button",{onClick:()=>l(null),className:"text-gray-500 hover:text-gray-800 text-2xl",children:""})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.startDate&&E.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[E.jsx("span",{className:"mr-2",children:""}),E.jsxs("span",{className:"font-medium",children:["Data: ",new Date(s.startDate).toLocaleDateString()]})]}),s.endDate&&E.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[E.jsx("span",{className:"mr-2",children:""}),E.jsxs("span",{className:"font-medium",children:["Trmino: ",new Date(s.endDate).toLocaleDateString()]})]}),Ee&&T==="carousel"&&E.jsxs("div",{className:"mb-6 relative group bg-black/5 rounded-lg overflow-hidden border border-gray-200",children:[E.jsx("div",{className:"h-[300px] flex items-center justify-center bg-gray-100 cursor-zoom-in",onClick:()=>S(!0),children:E.jsx("img",{src:be[x].url,alt:"Slide",className:"max-h-full max-w-full object-contain"})}),be.length>1&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:j,className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",children:""}),E.jsx("button",{onClick:ke,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",children:""}),E.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full",children:[x+1," / ",be.length]})]})]}),Ee&&T==="grid"&&E.jsxs("div",{className:"mb-6 space-y-2",children:[E.jsx("h4",{className:"font-bold text-gray-700 text-sm",children:"Imagens:"}),E.jsx("div",{className:"grid grid-cols-2 gap-2",children:be.map((D,L)=>E.jsxs("div",{className:"border rounded p-2 flex flex-col items-center bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>{b(L),S(!0)},children:[E.jsx("img",{src:D.url,alt:D.name,className:"h-32 object-contain mb-2"}),E.jsx("span",{className:"text-xs text-gray-500 truncate w-full text-center",children:D.name})]},L))})]}),s.attachments&&s.attachments.some(D=>!D.type?.startsWith("image/"))&&E.jsxs("div",{className:"mb-6 space-y-2",children:[E.jsx("h4",{className:"font-bold text-gray-700 text-sm",children:"Outros Anexos:"}),E.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.attachments.filter(D=>!D.type?.startsWith("image/")).map((D,L)=>E.jsxs("div",{className:"border rounded p-2 flex flex-col items-center bg-gray-50 hover:bg-gray-100 transition-colors",children:[E.jsx("div",{className:"h-12 flex items-center justify-center text-2xl",children:""}),E.jsx("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline text-center w-full truncate",title:D.name,children:D.name})]},L))})]}),E.jsx("div",{className:"prose max-w-none text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg border border-gray-100",children:s.description||E.jsx("span",{className:"italic text-gray-400",children:"Sem descrio."})})]}),E.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between items-center flex-shrink-0",children:[E.jsxs("div",{className:"text-xs text-gray-400",children:["Criado em: ",new Date(s.createdAt||Date.now()).toLocaleString()]}),E.jsxs("div",{className:"flex space-x-3",children:[E.jsx("button",{onClick:()=>{W(s),l(null)},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 font-medium",children:"Editar"}),E.jsx("button",{onClick:()=>{z(s.id),l(null)},className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 font-medium",children:"Excluir"})]})]})]})}),y&&s&&Ee&&E.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[60] flex items-center justify-center p-4 animate-fade-in",onClick:()=>S(!1),children:[E.jsx("button",{onClick:()=>S(!1),className:"absolute top-4 right-4 text-white text-4xl hover:text-gray-300",children:""}),E.jsx("img",{src:be[x].url,alt:"Full Screen",className:"max-h-[90vh] max-w-[90vw] object-contain shadow-2xl",onClick:D=>D.stopPropagation()}),be.length>1&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:j,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white text-6xl hover:text-gray-300",children:""}),E.jsx("button",{onClick:ke,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white text-6xl hover:text-gray-300",children:""}),E.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white text-sm bg-black/50 px-3 py-1 rounded-full",children:[x+1," / ",be.length]})]})]})]})}class rG extends rr.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({errorInfo:t})}render(){return this.state.hasError?E.jsxs("div",{className:"p-8 bg-red-50 border border-red-200 rounded-xl m-4 text-center",children:[E.jsx("div",{className:"text-4xl mb-4",children:""}),E.jsx("h2",{className:"text-xl font-bold text-red-800 mb-2",children:"Ops, algo deu errado nesta seo."}),E.jsx("p",{className:"text-red-600 mb-4",children:"Ocorreu um erro inesperado ao exibir este componente."}),E.jsx("div",{className:"bg-white p-4 rounded border border-red-100 text-left overflow-auto max-h-60 text-xs font-mono text-red-500 mb-4",children:this.state.error&&this.state.error.toString()}),E.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition",children:"Recarregar Aplicao"})]}):this.props.children}}function nG(){const[r,e]=Q.useState(null),[t,n]=Q.useState("query-builder"),[i,s]=Q.useState(()=>localStorage.getItem("app_theme")||"default"),l=Kg[i]||Kg.default,c=R=>{s(R),localStorage.setItem("app_theme",R)},[f,h]=Q.useState(()=>{const R=localStorage.getItem("hap_sql_tabs");if(R)try{return JSON.parse(R)}catch(O){console.error("Failed to parse saved tabs",O)}return[{id:1,title:"Query 1",sqlContent:"",results:null,error:null,loading:!1}]}),[d,m]=Q.useState(()=>{const R=localStorage.getItem("hap_sql_active_tab");return R?Number(R):1}),[g,x]=Q.useState(()=>{const R=localStorage.getItem("hap_saved_queries");if(R)try{return JSON.parse(R)}catch(O){console.error("Failed to parse saved queries",O)}return[]}),[b,y]=Q.useState(!1),[S,T]=Q.useState(!1);Q.useEffect(()=>{document.title="Hap Query Report v1.12.17",window.electronAPI&&(window.electronAPI.onUpdateAvailable(()=>y(!0)),window.electronAPI.onUpdateDownloaded(()=>{T(!0),y(!1)}))},[]);const A=()=>{window.electronAPI&&window.electronAPI.restartApp()};Q.useEffect(()=>{const R=f.map(O=>({...O,results:null,error:null,loading:!1}));localStorage.setItem("hap_sql_tabs",JSON.stringify(R))},[f]),Q.useEffect(()=>{localStorage.setItem("hap_sql_active_tab",d)},[d]),Q.useEffect(()=>{localStorage.setItem("hap_saved_queries",JSON.stringify(g))},[g]);const C=R=>{e(R)},_=()=>{e(null),n("query-builder")},N=({id:R,icon:O,label:z})=>{const M=t===R;return E.jsxs("button",{onClick:()=>{window.electronAPI?.resetFocus(),window.focus(),document.activeElement&&document.activeElement.blur(),n(R)},className:`
                    relative group px-4 py-2 text-sm font-medium rounded-md transition-all duration-300 ease-out flex items-center space-x-2
                    ${M?l.tabActive:l.tabInactive}
                    hover:-translate-y-0.5
                `,children:[E.jsx("span",{className:"text-lg",children:O}),E.jsx("span",{children:z}),M&&E.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[2px] bg-current rounded-full opacity-60"})]})};return r?E.jsx(pv.Provider,{value:{theme:l,currentThemeName:i,changeTheme:c},children:E.jsxs("div",{className:`flex flex-col h-screen ${l.bg} font-sans overflow-hidden transition-colors duration-300`,children:[(b||S)&&E.jsxs("div",{className:"fixed top-20 right-4 z-50 bg-white border border-blue-200 shadow-lg rounded-lg p-4 flex items-center space-x-4 animate-fade-in-down",children:[E.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:E.jsx("span",{className:"text-xl",children:""})}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-gray-800",children:"Nova verso disponvel!"}),E.jsx("p",{className:"text-sm text-gray-600",children:S?"Pronto para instalar.":"Baixando atualizao..."})]}),S&&E.jsx("button",{onClick:A,className:"bg-green-600 text-white px-3 py-1 rounded-md text-sm font-bold hover:bg-green-700 transition-colors",children:"Reiniciar"})]}),E.jsxs("header",{className:`${l.navbar} ${l.navbarText} h-16 shadow-md flex items-center justify-between px-6 z-20 border-b ${l.border}`,children:[E.jsxs("div",{className:"flex-1 flex justify-start space-x-2",children:[E.jsx(N,{id:"query-builder",icon:"",label:"Construtor AI"}),E.jsx(N,{id:"sql-runner",icon:"",label:"Editor SQL"}),E.jsx(N,{id:"csv-importer",icon:"",label:"Importar CSV"}),E.jsx(N,{id:"reminders",icon:"",label:"Lembretes"})]}),E.jsxs("div",{className:"flex items-center space-x-4 min-w-[200px] justify-end",children:[E.jsx("div",{className:"relative group",children:E.jsx("select",{value:i,onChange:R=>c(R.target.value),className:`textxs py-1 px-2 rounded border outline-none cursor-pointer opacity-70 hover:opacity-100 transition-opacity ${l.input} ${l.border}`,title:"Mudar Tema",children:Object.entries(Kg).map(([R,O])=>E.jsx("option",{value:R,children:O.name},R))})}),E.jsx("div",{className:"h-8 w-[1px] bg-current opacity-20 mx-2"}),E.jsxs("div",{className:"text-right hidden md:block",children:[E.jsx("p",{className:"text-sm font-bold leading-tight",children:r.user}),E.jsx("p",{className:"text-[10px] opacity-70 truncate max-w-[150px]",children:r.connectString})]}),E.jsx("button",{onClick:_,className:"p-2 rounded-full hover:bg-red-500 hover:text-white transition-all duration-300 group",title:"Desconectar",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})})})]})]}),E.jsx("main",{className:"flex-1 overflow-hidden relative",children:E.jsx("div",{className:"absolute inset-0 overflow-auto p-4 sm:p-6",children:E.jsxs("div",{className:"max-w-7xl mx-auto h-full flex flex-col relative",children:[E.jsx("div",{className:t==="query-builder"?"block h-full":"hidden",children:E.jsx(rG,{children:E.jsx(HF,{isVisible:t==="query-builder"})})}),E.jsx("div",{className:t==="sql-runner"?"block h-full":"hidden",children:E.jsx(q6,{isVisible:t==="sql-runner",tabs:f,setTabs:h,activeTabId:d,setActiveTabId:m,savedQueries:g,setSavedQueries:x})}),E.jsx("div",{className:t==="csv-importer"?"block h-full":"hidden",children:E.jsx(iq,{isVisible:t==="csv-importer",connectionName:r?.connectionName||r?.user||"Desconhecido"})}),E.jsx("div",{className:t==="reminders"?"block h-full":"hidden",children:E.jsx(tG,{isVisible:t==="reminders"})})]})})})]})}):E.jsx(Qk,{onConnect:C})}console.log("Frontend starting...");FD.createRoot(document.getElementById("root")).render(E.jsx(Q.StrictMode,{children:E.jsx(nG,{})}));
