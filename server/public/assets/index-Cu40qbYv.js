(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function TD(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Mg={exports:{}},$c={};var US;function _D(){if(US)return $c;US=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:s}}return $c.Fragment=e,$c.jsx=t,$c.jsxs=t,$c}var VS;function DD(){return VS||(VS=1,Mg.exports=_D()),Mg.exports}var E=DD(),Lg={exports:{}},pt={};var qS;function kD(){if(qS)return pt;qS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=g&&j[g]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function T(j,D,M){this.props=j,this.context=D,this.refs=w,this.updater=M||S}T.prototype.isReactComponent={},T.prototype.setState=function(j,D){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,D,"setState")},T.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function A(){}A.prototype=T.prototype;function C(j,D,M){this.props=j,this.context=D,this.refs=w,this.updater=M||S}var _=C.prototype=new A;_.constructor=C,b(_,T.prototype),_.isPureReactComponent=!0;var B=Array.isArray;function N(){}var O={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function R(j,D,M){var L=M.ref;return{$$typeof:n,type:j,key:D,ref:L!==void 0?L:null,props:M}}function I(j,D){return R(j.type,D,j.props)}function P(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function q(j){var D={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(M){return D[M]})}var K=/\/+/g;function ie(j,D){return typeof j=="object"&&j!==null&&j.key!=null?q(""+j.key):D.toString(36)}function ce(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(N,N):(j.status="pending",j.then(function(D){j.status==="pending"&&(j.status="fulfilled",j.value=D)},function(D){j.status==="pending"&&(j.status="rejected",j.reason=D)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Z(j,D,M,L,W){var ee=typeof j;(ee==="undefined"||ee==="boolean")&&(j=null);var be=!1;if(j===null)be=!0;else switch(ee){case"bigint":case"string":case"number":be=!0;break;case"object":switch(j.$$typeof){case n:case e:be=!0;break;case d:return be=j._init,Z(be(j._payload),D,M,L,W)}}if(be)return W=W(j),be=L===""?"."+ie(j,0):L,B(W)?(M="",be!=null&&(M=be.replace(K,"$&/")+"/"),Z(W,D,M,"",function(ye){return ye})):W!=null&&(P(W)&&(W=I(W,M+(W.key==null||j&&j.key===W.key?"":(""+W.key).replace(K,"$&/")+"/")+be)),D.push(W)),1;be=0;var ve=L===""?".":L+":";if(B(j))for(var Te=0;Te<j.length;Te++)L=j[Te],ee=ve+ie(L,Te),be+=Z(L,D,M,ee,W);else if(Te=x(j),typeof Te=="function")for(j=Te.call(j),Te=0;!(L=j.next()).done;)L=L.value,ee=ve+ie(L,Te++),be+=Z(L,D,M,ee,W);else if(ee==="object"){if(typeof j.then=="function")return Z(ce(j),D,M,L,W);throw D=String(j),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return be}function re(j,D,M){if(j==null)return j;var L=[],W=0;return Z(j,L,"","",function(ee){return D.call(M,ee,W++)}),L}function xe(j){if(j._status===-1){var D=j._result;D=D(),D.then(function(M){(j._status===0||j._status===-1)&&(j._status=1,j._result=M)},function(M){(j._status===0||j._status===-1)&&(j._status=2,j._result=M)}),j._status===-1&&(j._status=0,j._result=D)}if(j._status===1)return j._result.default;throw j._result}var Ee=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Oe={map:re,forEach:function(j,D,M){re(j,function(){D.apply(this,arguments)},M)},count:function(j){var D=0;return re(j,function(){D++}),D},toArray:function(j){return re(j,function(D){return D})||[]},only:function(j){if(!P(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return pt.Activity=m,pt.Children=Oe,pt.Component=T,pt.Fragment=t,pt.Profiler=i,pt.PureComponent=C,pt.StrictMode=r,pt.Suspense=f,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,pt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return O.H.useMemoCache(j)}},pt.cache=function(j){return function(){return j.apply(null,arguments)}},pt.cacheSignal=function(){return null},pt.cloneElement=function(j,D,M){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var L=b({},j.props),W=j.key;if(D!=null)for(ee in D.key!==void 0&&(W=""+D.key),D)!z.call(D,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&D.ref===void 0||(L[ee]=D[ee]);var ee=arguments.length-2;if(ee===1)L.children=M;else if(1<ee){for(var be=Array(ee),ve=0;ve<ee;ve++)be[ve]=arguments[ve+2];L.children=be}return R(j.type,W,L)},pt.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},pt.createElement=function(j,D,M){var L,W={},ee=null;if(D!=null)for(L in D.key!==void 0&&(ee=""+D.key),D)z.call(D,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(W[L]=D[L]);var be=arguments.length-2;if(be===1)W.children=M;else if(1<be){for(var ve=Array(be),Te=0;Te<be;Te++)ve[Te]=arguments[Te+2];W.children=ve}if(j&&j.defaultProps)for(L in be=j.defaultProps,be)W[L]===void 0&&(W[L]=be[L]);return R(j,ee,W)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(j){return{$$typeof:c,render:j}},pt.isValidElement=P,pt.lazy=function(j){return{$$typeof:d,_payload:{_status:-1,_result:j},_init:xe}},pt.memo=function(j,D){return{$$typeof:h,type:j,compare:D===void 0?null:D}},pt.startTransition=function(j){var D=O.T,M={};O.T=M;try{var L=j(),W=O.S;W!==null&&W(M,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(N,Ee)}catch(ee){Ee(ee)}finally{D!==null&&M.types!==null&&(D.types=M.types),O.T=D}},pt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},pt.use=function(j){return O.H.use(j)},pt.useActionState=function(j,D,M){return O.H.useActionState(j,D,M)},pt.useCallback=function(j,D){return O.H.useCallback(j,D)},pt.useContext=function(j){return O.H.useContext(j)},pt.useDebugValue=function(){},pt.useDeferredValue=function(j,D){return O.H.useDeferredValue(j,D)},pt.useEffect=function(j,D){return O.H.useEffect(j,D)},pt.useEffectEvent=function(j){return O.H.useEffectEvent(j)},pt.useId=function(){return O.H.useId()},pt.useImperativeHandle=function(j,D,M){return O.H.useImperativeHandle(j,D,M)},pt.useInsertionEffect=function(j,D){return O.H.useInsertionEffect(j,D)},pt.useLayoutEffect=function(j,D){return O.H.useLayoutEffect(j,D)},pt.useMemo=function(j,D){return O.H.useMemo(j,D)},pt.useOptimistic=function(j,D){return O.H.useOptimistic(j,D)},pt.useReducer=function(j,D,M){return O.H.useReducer(j,D,M)},pt.useRef=function(j){return O.H.useRef(j)},pt.useState=function(j){return O.H.useState(j)},pt.useSyncExternalStore=function(j,D,M){return O.H.useSyncExternalStore(j,D,M)},pt.useTransition=function(){return O.H.useTransition()},pt.version="19.2.0",pt}var WS;function q1(){return WS||(WS=1,Lg.exports=kD()),Lg.exports}var Q=q1();const gn=V1(Q);var Ig={exports:{}},Yc={},Pg={exports:{}},jg={};var GS;function OD(){return GS||(GS=1,(function(n){function e(Z,re){var xe=Z.length;Z.push(re);e:for(;0<xe;){var Ee=xe-1>>>1,Oe=Z[Ee];if(0<i(Oe,re))Z[Ee]=re,Z[xe]=Oe,xe=Ee;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var re=Z[0],xe=Z.pop();if(xe!==re){Z[0]=xe;e:for(var Ee=0,Oe=Z.length,j=Oe>>>1;Ee<j;){var D=2*(Ee+1)-1,M=Z[D],L=D+1,W=Z[L];if(0>i(M,xe))L<Oe&&0>i(W,M)?(Z[Ee]=W,Z[L]=xe,Ee=L):(Z[Ee]=M,Z[D]=xe,Ee=D);else if(L<Oe&&0>i(W,xe))Z[Ee]=W,Z[L]=xe,Ee=L;else break e}}return re}function i(Z,re){var xe=Z.sortIndex-re.sortIndex;return xe!==0?xe:Z.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],h=[],d=1,m=null,g=3,x=!1,S=!1,b=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function _(Z){for(var re=t(h);re!==null;){if(re.callback===null)r(h);else if(re.startTime<=Z)r(h),re.sortIndex=re.expirationTime,e(f,re);else break;re=t(h)}}function B(Z){if(b=!1,_(Z),!S)if(t(f)!==null)S=!0,N||(N=!0,q());else{var re=t(h);re!==null&&ce(B,re.startTime-Z)}}var N=!1,O=-1,z=5,R=-1;function I(){return w?!0:!(n.unstable_now()-R<z)}function P(){if(w=!1,N){var Z=n.unstable_now();R=Z;var re=!0;try{e:{S=!1,b&&(b=!1,A(O),O=-1),x=!0;var xe=g;try{t:{for(_(Z),m=t(f);m!==null&&!(m.expirationTime>Z&&I());){var Ee=m.callback;if(typeof Ee=="function"){m.callback=null,g=m.priorityLevel;var Oe=Ee(m.expirationTime<=Z);if(Z=n.unstable_now(),typeof Oe=="function"){m.callback=Oe,_(Z),re=!0;break t}m===t(f)&&r(f),_(Z)}else r(f);m=t(f)}if(m!==null)re=!0;else{var j=t(h);j!==null&&ce(B,j.startTime-Z),re=!1}}break e}finally{m=null,g=xe,x=!1}re=void 0}}finally{re?q():N=!1}}}var q;if(typeof C=="function")q=function(){C(P)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ie=K.port2;K.port1.onmessage=P,q=function(){ie.postMessage(null)}}else q=function(){T(P,0)};function ce(Z,re){O=T(function(){Z(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var re=3;break;default:re=g}var xe=g;g=re;try{return Z()}finally{g=xe}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(Z,re){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var xe=g;g=Z;try{return re()}finally{g=xe}},n.unstable_scheduleCallback=function(Z,re,xe){var Ee=n.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?Ee+xe:Ee):xe=Ee,Z){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=xe+Oe,Z={id:d++,callback:re,priorityLevel:Z,startTime:xe,expirationTime:Oe,sortIndex:-1},xe>Ee?(Z.sortIndex=xe,e(h,Z),t(f)===null&&Z===t(h)&&(b?(A(O),O=-1):b=!0,ce(B,xe-Ee))):(Z.sortIndex=Oe,e(f,Z),S||x||(S=!0,N||(N=!0,q()))),Z},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(Z){var re=g;return function(){var xe=g;g=re;try{return Z.apply(this,arguments)}finally{g=xe}}}})(jg)),jg}var XS;function BD(){return XS||(XS=1,Pg.exports=OD()),Pg.exports}var zg={exports:{}},mr={};var $S;function ND(){if($S)return mr;$S=1;var n=q1();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:h,implementation:d}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mr.createPortal=function(f,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,d)},mr.flushSync=function(f){var h=l.T,d=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=d,r.d.f()}},mr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},mr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},mr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var d=h.as,m=c(d,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):d==="script"&&r.d.X(f,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},mr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},mr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,m=c(d,h.crossOrigin);r.d.L(f,d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},mr.preloadModule=function(f,h){if(typeof f=="string")if(h){var d=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},mr.requestFormReset=function(f){r.d.r(f)},mr.unstable_batchedUpdates=function(f,h){return f(h)},mr.useFormState=function(f,h,d){return l.H.useFormState(f,h,d)},mr.useFormStatus=function(){return l.H.useHostTransitionStatus()},mr.version="19.2.0",mr}var YS;function YC(){if(YS)return zg.exports;YS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zg.exports=ND(),zg.exports}var KS;function RD(){if(KS)return Yc;KS=1;var n=BD(),e=q1(),t=YC();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,p=o;;){var v=u.return;if(v===null)break;var y=v.alternate;if(y===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===u)return f(v),a;if(y===p)return f(v),o;y=y.sibling}throw Error(r(188))}if(u.return!==p.return)u=v,p=y;else{for(var k=!1,H=v.child;H;){if(H===u){k=!0,u=v,p=y;break}if(H===p){k=!0,p=v,u=y;break}H=H.sibling}if(!k){for(H=y.child;H;){if(H===u){k=!0,u=y,p=v;break}if(H===p){k=!0,p=y,u=v;break}H=H.sibling}if(!k)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function d(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=d(a),o!==null)return o;a=a.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=P&&a[P]||a["@@iterator"],typeof a=="function"?a:null)}var K=Symbol.for("react.client.reference");function ie(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===K?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case b:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case B:return"Suspense";case N:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case C:return a.displayName||"Context";case A:return(a._context.displayName||"Context")+".Consumer";case _:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return o=a.displayName||null,o!==null?o:ie(a.type)||"Memo";case z:o=a._payload,a=a._init;try{return ie(a(o))}catch{}}return null}var ce=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Ee=[],Oe=-1;function j(a){return{current:a}}function D(a){0>Oe||(a.current=Ee[Oe],Ee[Oe]=null,Oe--)}function M(a,o){Oe++,Ee[Oe]=a.current,a.current=o}var L=j(null),W=j(null),ee=j(null),be=j(null);function ve(a,o){switch(M(ee,o),M(W,a),M(L,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?uS(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=uS(o),a=hS(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}D(L),M(L,a)}function Te(){D(L),D(W),D(ee)}function ye(a){a.memoizedState!==null&&M(be,a);var o=L.current,u=hS(o,a.type);o!==u&&(M(W,a),M(L,u))}function st(a){W.current===a&&(D(L),D(W)),be.current===a&&(D(be),qc._currentValue=xe)}var Ye,dt;function We(a){if(Ye===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Ye=o&&o[1]||"",dt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ye+a+dt}var Le=!1;function Ue(a,o){if(!a||Le)return"";Le=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ge){var he=ge}Reflect.construct(a,[],_e)}else{try{_e.call()}catch(ge){he=ge}a.call(_e.prototype)}}else{try{throw Error()}catch(ge){he=ge}(_e=a())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(ge){if(ge&&he&&typeof ge.stack=="string")return[ge.stack,he.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=p.DetermineComponentFrameRoot(),k=y[0],H=y[1];if(k&&H){var J=k.split(`
`),ae=H.split(`
`);for(v=p=0;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;for(;v<ae.length&&!ae[v].includes("DetermineComponentFrameRoot");)v++;if(p===J.length||v===ae.length)for(p=J.length-1,v=ae.length-1;1<=p&&0<=v&&J[p]!==ae[v];)v--;for(;1<=p&&0<=v;p--,v--)if(J[p]!==ae[v]){if(p!==1||v!==1)do if(p--,v--,0>v||J[p]!==ae[v]){var we=`
`+J[p].replace(" at new "," at ");return a.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",a.displayName)),we}while(1<=p&&0<=v);break}}}finally{Le=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?We(u):""}function Ne(a,o){switch(a.tag){case 26:case 27:case 5:return We(a.type);case 16:return We("Lazy");case 13:return a.child!==o&&o!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return Ue(a.type,!1);case 11:return Ue(a.type.render,!1);case 1:return Ue(a.type,!0);case 31:return We("Activity");default:return""}}function Qe(a){try{var o="",u=null;do o+=Ne(a,u),u=a,a=a.return;while(a);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var ct=Object.prototype.hasOwnProperty,yt=n.unstable_scheduleCallback,It=n.unstable_cancelCallback,zt=n.unstable_shouldYield,$t=n.unstable_requestPaint,fe=n.unstable_now,Pe=n.unstable_getCurrentPriorityLevel,ke=n.unstable_ImmediatePriority,rt=n.unstable_UserBlockingPriority,bt=n.unstable_NormalPriority,Yt=n.unstable_LowPriority,ft=n.unstable_IdlePriority,Ot=n.log,An=n.unstable_setDisableYieldValue,Br=null,bn=null;function vn(a){if(typeof Ot=="function"&&An(a),bn&&typeof bn.setStrictMode=="function")try{bn.setStrictMode(Br,a)}catch{}}var yn=Math.clz32?Math.clz32:Qi,Ki=Math.log,$r=Math.LN2;function Qi(a){return a>>>=0,a===0?32:31-(Ki(a)/$r|0)|0}var Nr=256,hi=262144,Kt=4194304;function Ht(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function dn(a,o,u){var p=a.pendingLanes;if(p===0)return 0;var v=0,y=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var H=p&134217727;return H!==0?(p=H&~y,p!==0?v=Ht(p):(k&=H,k!==0?v=Ht(k):u||(u=H&~a,u!==0&&(v=Ht(u))))):(H=p&~y,H!==0?v=Ht(H):k!==0?v=Ht(k):u||(u=p&~a,u!==0&&(v=Ht(u)))),v===0?0:o!==0&&o!==v&&(o&y)===0&&(y=v&-v,u=o&-o,y>=u||y===32&&(u&4194048)!==0)?o:v}function pe(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Me(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ie(){var a=Kt;return Kt<<=1,(Kt&62914560)===0&&(Kt=4194304),a}function tt(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Ze(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function lt(a,o,u,p,v,y){var k=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var H=a.entanglements,J=a.expirationTimes,ae=a.hiddenUpdates;for(u=k&~u;0<u;){var we=31-yn(u),_e=1<<we;H[we]=0,J[we]=-1;var he=ae[we];if(he!==null)for(ae[we]=null,we=0;we<he.length;we++){var ge=he[we];ge!==null&&(ge.lane&=-536870913)}u&=~_e}p!==0&&ht(a,p,0),y!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=y&~(k&~o))}function ht(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var p=31-yn(o);a.entangledLanes|=o,a.entanglements[p]=a.entanglements[p]|1073741824|u&261930}function ut(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var p=31-yn(u),v=1<<p;v&o|a[p]&o&&(a[p]|=o),u&=~v}}function Bt(a,o){var u=o&-o;return u=(u&42)!==0?1:Tn(u),(u&(a.suspendedLanes|o))!==0?0:u}function Tn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Bn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function F(){var a=re.p;return a!==0?a:(a=window.event,a===void 0?32:MS(a.type))}function G(a,o){var u=re.p;try{return re.p=a,o()}finally{re.p=u}}var U=Math.random().toString(36).slice(2),V="__reactFiber$"+U,X="__reactProps$"+U,Y="__reactContainer$"+U,le="__reactEvents$"+U,Ce="__reactListeners$"+U,oe="__reactHandles$"+U,ue="__reactResources$"+U,de="__reactMarker$"+U;function Re(a){delete a[V],delete a[X],delete a[le],delete a[Ce],delete a[oe]}function je(a){var o=a[V];if(o)return o;for(var u=a.parentNode;u;){if(o=u[Y]||u[V]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=yS(a);a!==null;){if(u=a[V])return u;a=yS(a)}return o}a=u,u=a.parentNode}return null}function Ge(a){if(a=a[V]||a[Y]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Fe(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Ve(a){var o=a[ue];return o||(o=a[ue]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function et(a){a[de]=!0}var an=new Set,ln={};function pn(a,o){di(a,o),di(a+"Capture",o)}function di(a,o){for(ln[a]=o,a=0;a<o.length;a++)an.add(o[a])}var qa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qs={},Zi={};function ac(a){return ct.call(Zi,a)?!0:ct.call(Qs,a)?!1:qa.test(a)?Zi[a]=!0:(Qs[a]=!0,!1)}function Rr(a,o,u){if(ac(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function vf(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function ys(a,o,u,p){if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+p)}}function pi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function r2(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function y_(a,o,u){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var v=p.get,y=p.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(k){u=""+k,y.call(this,k)}}),Object.defineProperty(a,o,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(k){u=""+k},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Dp(a){if(!a._valueTracker){var o=r2(a)?"checked":"value";a._valueTracker=y_(a,o,""+a[o])}}function i2(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return a&&(p=r2(a)?a.checked?"true":"false":a.value),a=p,a!==u?(o.setValue(a),!0):!1}function yf(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var b_=/[\n"\\]/g;function mi(a){return a.replace(b_,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function kp(a,o,u,p,v,y,k,H){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),o!=null?k==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+pi(o)):a.value!==""+pi(o)&&(a.value=""+pi(o)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),o!=null?Op(a,k,pi(o)):u!=null?Op(a,k,pi(u)):p!=null&&a.removeAttribute("value"),v==null&&y!=null&&(a.defaultChecked=!!y),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.name=""+pi(H):a.removeAttribute("name")}function s2(a,o,u,p,v,y,k,H){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),o!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||o!=null)){Dp(a);return}u=u!=null?""+pi(u):"",o=o!=null?""+pi(o):u,H||o===a.value||(a.value=o),a.defaultValue=o}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=H?a.checked:!!p,a.defaultChecked=!!p,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k),Dp(a)}function Op(a,o,u){o==="number"&&yf(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Il(a,o,u,p){if(a=a.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=o.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&p&&(a[u].defaultSelected=!0)}else{for(u=""+pi(u),o=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,p&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function a2(a,o,u){if(o!=null&&(o=""+pi(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+pi(u):""}function l2(a,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(r(92));if(ce(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=pi(o),a.defaultValue=u,p=a.textContent,p===u&&p!==""&&p!==null&&(a.value=p),Dp(a)}function Pl(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var S_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function o2(a,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":p?a.setProperty(o,u):typeof u!="number"||u===0||S_.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function c2(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var v in o)p=o[v],o.hasOwnProperty(v)&&u[v]!==p&&o2(a,v,p)}else for(var y in o)o.hasOwnProperty(y)&&o2(a,y,o[y])}function Bp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),E_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bf(a){return E_.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function bs(){}var Np=null;function Rp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var jl=null,zl=null;function f2(a){var o=Ge(a);if(o&&(a=o.stateNode)){var u=a[X]||null;e:switch(a=o.stateNode,o.type){case"input":if(kp(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+mi(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==a&&p.form===a.form){var v=p[X]||null;if(!v)throw Error(r(90));kp(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===a.form&&i2(p)}break e;case"textarea":a2(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Il(a,!!u.multiple,o,!1)}}}var Fp=!1;function u2(a,o,u){if(Fp)return a(o,u);Fp=!0;try{var p=a(o);return p}finally{if(Fp=!1,(jl!==null||zl!==null)&&(lu(),jl&&(o=jl,a=zl,zl=jl=null,f2(o),a)))for(o=0;o<a.length;o++)f2(a[o])}}function lc(a,o){var u=a.stateNode;if(u===null)return null;var p=u[X]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mp=!1;if(Ss)try{var oc={};Object.defineProperty(oc,"passive",{get:function(){Mp=!0}}),window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{Mp=!1}var Zs=null,Lp=null,Sf=null;function h2(){if(Sf)return Sf;var a,o=Lp,u=o.length,p,v="value"in Zs?Zs.value:Zs.textContent,y=v.length;for(a=0;a<u&&o[a]===v[a];a++);var k=u-a;for(p=1;p<=k&&o[u-p]===v[y-p];p++);return Sf=v.slice(a,1<p?1-p:void 0)}function wf(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Ef(){return!0}function d2(){return!1}function Fr(a){function o(u,p,v,y,k){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(u=a[H],this[H]=u?u(y):y[H]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ef:d2,this.isPropagationStopped=d2,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ef)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ef)},persist:function(){},isPersistent:Ef}),o}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cf=Fr(Wa),cc=m({},Wa,{view:0,detail:0}),C_=Fr(cc),Ip,Pp,fc,Af=m({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==fc&&(fc&&a.type==="mousemove"?(Ip=a.screenX-fc.screenX,Pp=a.screenY-fc.screenY):Pp=Ip=0,fc=a),Ip)},movementY:function(a){return"movementY"in a?a.movementY:Pp}}),p2=Fr(Af),A_=m({},Af,{dataTransfer:0}),T_=Fr(A_),__=m({},cc,{relatedTarget:0}),jp=Fr(__),D_=m({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),k_=Fr(D_),O_=m({},Wa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),B_=Fr(O_),N_=m({},Wa,{data:0}),m2=Fr(N_),R_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L_(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=M_[a])?!!o[a]:!1}function zp(){return L_}var I_=m({},cc,{key:function(a){if(a.key){var o=R_[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=wf(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?F_[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zp,charCode:function(a){return a.type==="keypress"?wf(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?wf(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),P_=Fr(I_),j_=m({},Af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g2=Fr(j_),z_=m({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zp}),H_=Fr(z_),U_=m({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),V_=Fr(U_),q_=m({},Af,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),W_=Fr(q_),G_=m({},Wa,{newState:0,oldState:0}),X_=Fr(G_),$_=[9,13,27,32],Hp=Ss&&"CompositionEvent"in window,uc=null;Ss&&"documentMode"in document&&(uc=document.documentMode);var Y_=Ss&&"TextEvent"in window&&!uc,x2=Ss&&(!Hp||uc&&8<uc&&11>=uc),v2=" ",y2=!1;function b2(a,o){switch(a){case"keyup":return $_.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S2(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Hl=!1;function K_(a,o){switch(a){case"compositionend":return S2(o);case"keypress":return o.which!==32?null:(y2=!0,v2);case"textInput":return a=o.data,a===v2&&y2?null:a;default:return null}}function Q_(a,o){if(Hl)return a==="compositionend"||!Hp&&b2(a,o)?(a=h2(),Sf=Lp=Zs=null,Hl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return x2&&o.locale!=="ko"?null:o.data;default:return null}}var Z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w2(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Z_[a.type]:o==="textarea"}function E2(a,o,u,p){jl?zl?zl.push(p):zl=[p]:jl=p,o=pu(o,"onChange"),0<o.length&&(u=new Cf("onChange","change",null,u,p),a.push({event:u,listeners:o}))}var hc=null,dc=null;function J_(a){sS(a,0)}function Tf(a){var o=Fe(a);if(i2(o))return a}function C2(a,o){if(a==="change")return o}var A2=!1;if(Ss){var Up;if(Ss){var Vp="oninput"in document;if(!Vp){var T2=document.createElement("div");T2.setAttribute("oninput","return;"),Vp=typeof T2.oninput=="function"}Up=Vp}else Up=!1;A2=Up&&(!document.documentMode||9<document.documentMode)}function _2(){hc&&(hc.detachEvent("onpropertychange",D2),dc=hc=null)}function D2(a){if(a.propertyName==="value"&&Tf(dc)){var o=[];E2(o,dc,a,Rp(a)),u2(J_,o)}}function e5(a,o,u){a==="focusin"?(_2(),hc=o,dc=u,hc.attachEvent("onpropertychange",D2)):a==="focusout"&&_2()}function t5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Tf(dc)}function n5(a,o){if(a==="click")return Tf(o)}function r5(a,o){if(a==="input"||a==="change")return Tf(o)}function i5(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Yr=typeof Object.is=="function"?Object.is:i5;function pc(a,o){if(Yr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!ct.call(o,v)||!Yr(a[v],o[v]))return!1}return!0}function k2(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function O2(a,o){var u=k2(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=o&&p>=o)return{node:u,offset:o-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=k2(u)}}function B2(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?B2(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function N2(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=yf(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=yf(a.document)}return o}function qp(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var s5=Ss&&"documentMode"in document&&11>=document.documentMode,Ul=null,Wp=null,mc=null,Gp=!1;function R2(a,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Gp||Ul==null||Ul!==yf(p)||(p=Ul,"selectionStart"in p&&qp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),mc&&pc(mc,p)||(mc=p,p=pu(Wp,"onSelect"),0<p.length&&(o=new Cf("onSelect","select",null,o,u),a.push({event:o,listeners:p}),o.target=Ul)))}function Ga(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var Vl={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},Xp={},F2={};Ss&&(F2=document.createElement("div").style,"AnimationEvent"in window||(delete Vl.animationend.animation,delete Vl.animationiteration.animation,delete Vl.animationstart.animation),"TransitionEvent"in window||delete Vl.transitionend.transition);function Xa(a){if(Xp[a])return Xp[a];if(!Vl[a])return a;var o=Vl[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in F2)return Xp[a]=o[u];return a}var M2=Xa("animationend"),L2=Xa("animationiteration"),I2=Xa("animationstart"),a5=Xa("transitionrun"),l5=Xa("transitionstart"),o5=Xa("transitioncancel"),P2=Xa("transitionend"),j2=new Map,$p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$p.push("scrollEnd");function Mi(a,o){j2.set(a,o),pn(o,[a])}var _f=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},gi=[],ql=0,Yp=0;function Df(){for(var a=ql,o=Yp=ql=0;o<a;){var u=gi[o];gi[o++]=null;var p=gi[o];gi[o++]=null;var v=gi[o];gi[o++]=null;var y=gi[o];if(gi[o++]=null,p!==null&&v!==null){var k=p.pending;k===null?v.next=v:(v.next=k.next,k.next=v),p.pending=v}y!==0&&z2(u,v,y)}}function kf(a,o,u,p){gi[ql++]=a,gi[ql++]=o,gi[ql++]=u,gi[ql++]=p,Yp|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function Kp(a,o,u,p){return kf(a,o,u,p),Of(a)}function $a(a,o){return kf(a,null,null,o),Of(a)}function z2(a,o,u){a.lanes|=u;var p=a.alternate;p!==null&&(p.lanes|=u);for(var v=!1,y=a.return;y!==null;)y.childLanes|=u,p=y.alternate,p!==null&&(p.childLanes|=u),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(v=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,v&&o!==null&&(v=31-yn(u),a=y.hiddenUpdates,p=a[v],p===null?a[v]=[o]:p.push(o),o.lane=u|536870912),y):null}function Of(a){if(50<Ic)throw Ic=0,sg=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Wl={};function c5(a,o,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(a,o,u,p){return new c5(a,o,u,p)}function Qp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ws(a,o){var u=a.alternate;return u===null?(u=Kr(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function H2(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Bf(a,o,u,p,v,y){var k=0;if(p=a,typeof a=="function")Qp(a)&&(k=1);else if(typeof a=="string")k=pD(a,u,L.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=Kr(31,u,o,v),a.elementType=R,a.lanes=y,a;case b:return Ya(u.children,v,y,o);case w:k=8,v|=24;break;case T:return a=Kr(12,u,o,v|2),a.elementType=T,a.lanes=y,a;case B:return a=Kr(13,u,o,v),a.elementType=B,a.lanes=y,a;case N:return a=Kr(19,u,o,v),a.elementType=N,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:k=10;break e;case A:k=9;break e;case _:k=11;break e;case O:k=14;break e;case z:k=16,p=null;break e}k=29,u=Error(r(130,a===null?"null":typeof a,"")),p=null}return o=Kr(k,u,o,v),o.elementType=a,o.type=p,o.lanes=y,o}function Ya(a,o,u,p){return a=Kr(7,a,p,o),a.lanes=u,a}function Zp(a,o,u){return a=Kr(6,a,null,o),a.lanes=u,a}function U2(a){var o=Kr(18,null,null,0);return o.stateNode=a,o}function Jp(a,o,u){return o=Kr(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var V2=new WeakMap;function xi(a,o){if(typeof a=="object"&&a!==null){var u=V2.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Qe(o)},V2.set(a,o),o)}return{value:a,source:o,stack:Qe(o)}}var Gl=[],Xl=0,Nf=null,gc=0,vi=[],yi=0,Js=null,Ji=1,es="";function Es(a,o){Gl[Xl++]=gc,Gl[Xl++]=Nf,Nf=a,gc=o}function q2(a,o,u){vi[yi++]=Ji,vi[yi++]=es,vi[yi++]=Js,Js=a;var p=Ji;a=es;var v=32-yn(p)-1;p&=~(1<<v),u+=1;var y=32-yn(o)+v;if(30<y){var k=v-v%5;y=(p&(1<<k)-1).toString(32),p>>=k,v-=k,Ji=1<<32-yn(o)+v|u<<v|p,es=y+a}else Ji=1<<y|u<<v|p,es=a}function em(a){a.return!==null&&(Es(a,1),q2(a,1,0))}function tm(a){for(;a===Nf;)Nf=Gl[--Xl],Gl[Xl]=null,gc=Gl[--Xl],Gl[Xl]=null;for(;a===Js;)Js=vi[--yi],vi[yi]=null,es=vi[--yi],vi[yi]=null,Ji=vi[--yi],vi[yi]=null}function W2(a,o){vi[yi++]=Ji,vi[yi++]=es,vi[yi++]=Js,Ji=o.id,es=o.overflow,Js=a}var tr=null,on=null,Tt=!1,ea=null,bi=!1,nm=Error(r(519));function ta(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xc(xi(o,a)),nm}function G2(a){var o=a.stateNode,u=a.type,p=a.memoizedProps;switch(o[V]=a,o[X]=p,u){case"dialog":Et("cancel",o),Et("close",o);break;case"iframe":case"object":case"embed":Et("load",o);break;case"video":case"audio":for(u=0;u<jc.length;u++)Et(jc[u],o);break;case"source":Et("error",o);break;case"img":case"image":case"link":Et("error",o),Et("load",o);break;case"details":Et("toggle",o);break;case"input":Et("invalid",o),s2(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Et("invalid",o);break;case"textarea":Et("invalid",o),l2(o,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||cS(o.textContent,u)?(p.popover!=null&&(Et("beforetoggle",o),Et("toggle",o)),p.onScroll!=null&&Et("scroll",o),p.onScrollEnd!=null&&Et("scrollend",o),p.onClick!=null&&(o.onclick=bs),o=!0):o=!1,o||ta(a,!0)}function X2(a){for(tr=a.return;tr;)switch(tr.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:tr=tr.return}}function $l(a){if(a!==tr)return!1;if(!Tt)return X2(a),Tt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||bg(a.type,a.memoizedProps)),u=!u),u&&on&&ta(a),X2(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));on=vS(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));on=vS(a)}else o===27?(o=on,ma(a.type)?(a=Ag,Ag=null,on=a):on=o):on=tr?wi(a.stateNode.nextSibling):null;return!0}function Ka(){on=tr=null,Tt=!1}function rm(){var a=ea;return a!==null&&(Pr===null?Pr=a:Pr.push.apply(Pr,a),ea=null),a}function xc(a){ea===null?ea=[a]:ea.push(a)}var im=j(null),Qa=null,Cs=null;function na(a,o,u){M(im,o._currentValue),o._currentValue=u}function As(a){a._currentValue=im.current,D(im)}function sm(a,o,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===u)break;a=a.return}}function am(a,o,u,p){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var y=v.dependencies;if(y!==null){var k=v.child;y=y.firstContext;e:for(;y!==null;){var H=y;y=v;for(var J=0;J<o.length;J++)if(H.context===o[J]){y.lanes|=u,H=y.alternate,H!==null&&(H.lanes|=u),sm(y.return,u,a),p||(k=null);break e}y=H.next}}else if(v.tag===18){if(k=v.return,k===null)throw Error(r(341));k.lanes|=u,y=k.alternate,y!==null&&(y.lanes|=u),sm(k,u,a),k=null}else k=v.child;if(k!==null)k.return=v;else for(k=v;k!==null;){if(k===a){k=null;break}if(v=k.sibling,v!==null){v.return=k.return,k=v;break}k=k.return}v=k}}function Yl(a,o,u,p){a=null;for(var v=o,y=!1;v!==null;){if(!y){if((v.flags&524288)!==0)y=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var k=v.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var H=v.type;Yr(v.pendingProps.value,k.value)||(a!==null?a.push(H):a=[H])}}else if(v===be.current){if(k=v.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(qc):a=[qc])}v=v.return}a!==null&&am(o,a,u,p),o.flags|=262144}function Rf(a){for(a=a.firstContext;a!==null;){if(!Yr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Za(a){Qa=a,Cs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function nr(a){return $2(Qa,a)}function Ff(a,o){return Qa===null&&Za(a),$2(a,o)}function $2(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Cs===null){if(a===null)throw Error(r(308));Cs=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Cs=Cs.next=o;return u}var f5=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,p){a.push(p)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},u5=n.unstable_scheduleCallback,h5=n.unstable_NormalPriority,Nn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new f5,data:new Map,refCount:0}}function vc(a){a.refCount--,a.refCount===0&&u5(h5,function(){a.controller.abort()})}var yc=null,om=0,Kl=0,Ql=null;function d5(a,o){if(yc===null){var u=yc=[];om=0,Kl=ug(),Ql={status:"pending",value:void 0,then:function(p){u.push(p)}}}return om++,o.then(Y2,Y2),o}function Y2(){if(--om===0&&yc!==null){Ql!==null&&(Ql.status="fulfilled");var a=yc;yc=null,Kl=0,Ql=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function p5(a,o){var u=[],p={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){p.status="fulfilled",p.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(p.status="rejected",p.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),p}var K2=Z.S;Z.S=function(a,o){Rb=fe(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&d5(a,o),K2!==null&&K2(a,o)};var Ja=j(null);function cm(){var a=Ja.current;return a!==null?a:nn.pooledCache}function Mf(a,o){o===null?M(Ja,Ja.current):M(Ja,o.pool)}function Q2(){var a=cm();return a===null?null:{parent:Nn._currentValue,pool:a}}var Zl=Error(r(460)),fm=Error(r(474)),Lf=Error(r(542)),If={then:function(){}};function Z2(a){return a=a.status,a==="fulfilled"||a==="rejected"}function J2(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(bs,bs),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,ty(a),a;default:if(typeof o.status=="string")o.then(bs,bs);else{if(a=nn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(p){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=p}},function(p){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,ty(a),a}throw tl=o,Zl}}function el(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(tl=u,Zl):u}}var tl=null;function ey(){if(tl===null)throw Error(r(459));var a=tl;return tl=null,a}function ty(a){if(a===Zl||a===Lf)throw Error(r(483))}var Jl=null,bc=0;function Pf(a){var o=bc;return bc+=1,Jl===null&&(Jl=[]),J2(Jl,a,o)}function Sc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function jf(a,o){throw o.$$typeof===g?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function ny(a){function o(ne,te){if(a){var se=ne.deletions;se===null?(ne.deletions=[te],ne.flags|=16):se.push(te)}}function u(ne,te){if(!a)return null;for(;te!==null;)o(ne,te),te=te.sibling;return null}function p(ne){for(var te=new Map;ne!==null;)ne.key!==null?te.set(ne.key,ne):te.set(ne.index,ne),ne=ne.sibling;return te}function v(ne,te){return ne=ws(ne,te),ne.index=0,ne.sibling=null,ne}function y(ne,te,se){return ne.index=se,a?(se=ne.alternate,se!==null?(se=se.index,se<te?(ne.flags|=67108866,te):se):(ne.flags|=67108866,te)):(ne.flags|=1048576,te)}function k(ne){return a&&ne.alternate===null&&(ne.flags|=67108866),ne}function H(ne,te,se,Ae){return te===null||te.tag!==6?(te=Zp(se,ne.mode,Ae),te.return=ne,te):(te=v(te,se),te.return=ne,te)}function J(ne,te,se,Ae){var it=se.type;return it===b?we(ne,te,se.props.children,Ae,se.key):te!==null&&(te.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===z&&el(it)===te.type)?(te=v(te,se.props),Sc(te,se),te.return=ne,te):(te=Bf(se.type,se.key,se.props,null,ne.mode,Ae),Sc(te,se),te.return=ne,te)}function ae(ne,te,se,Ae){return te===null||te.tag!==4||te.stateNode.containerInfo!==se.containerInfo||te.stateNode.implementation!==se.implementation?(te=Jp(se,ne.mode,Ae),te.return=ne,te):(te=v(te,se.children||[]),te.return=ne,te)}function we(ne,te,se,Ae,it){return te===null||te.tag!==7?(te=Ya(se,ne.mode,Ae,it),te.return=ne,te):(te=v(te,se),te.return=ne,te)}function _e(ne,te,se){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=Zp(""+te,ne.mode,se),te.return=ne,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return se=Bf(te.type,te.key,te.props,null,ne.mode,se),Sc(se,te),se.return=ne,se;case S:return te=Jp(te,ne.mode,se),te.return=ne,te;case z:return te=el(te),_e(ne,te,se)}if(ce(te)||q(te))return te=Ya(te,ne.mode,se,null),te.return=ne,te;if(typeof te.then=="function")return _e(ne,Pf(te),se);if(te.$$typeof===C)return _e(ne,Ff(ne,te),se);jf(ne,te)}return null}function he(ne,te,se,Ae){var it=te!==null?te.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return it!==null?null:H(ne,te,""+se,Ae);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return se.key===it?J(ne,te,se,Ae):null;case S:return se.key===it?ae(ne,te,se,Ae):null;case z:return se=el(se),he(ne,te,se,Ae)}if(ce(se)||q(se))return it!==null?null:we(ne,te,se,Ae,null);if(typeof se.then=="function")return he(ne,te,Pf(se),Ae);if(se.$$typeof===C)return he(ne,te,Ff(ne,se),Ae);jf(ne,se)}return null}function ge(ne,te,se,Ae,it){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return ne=ne.get(se)||null,H(te,ne,""+Ae,it);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case x:return ne=ne.get(Ae.key===null?se:Ae.key)||null,J(te,ne,Ae,it);case S:return ne=ne.get(Ae.key===null?se:Ae.key)||null,ae(te,ne,Ae,it);case z:return Ae=el(Ae),ge(ne,te,se,Ae,it)}if(ce(Ae)||q(Ae))return ne=ne.get(se)||null,we(te,ne,Ae,it,null);if(typeof Ae.then=="function")return ge(ne,te,se,Pf(Ae),it);if(Ae.$$typeof===C)return ge(ne,te,se,Ff(te,Ae),it);jf(te,Ae)}return null}function Je(ne,te,se,Ae){for(var it=null,Ft=null,nt=te,xt=te=0,At=null;nt!==null&&xt<se.length;xt++){nt.index>xt?(At=nt,nt=null):At=nt.sibling;var Mt=he(ne,nt,se[xt],Ae);if(Mt===null){nt===null&&(nt=At);break}a&&nt&&Mt.alternate===null&&o(ne,nt),te=y(Mt,te,xt),Ft===null?it=Mt:Ft.sibling=Mt,Ft=Mt,nt=At}if(xt===se.length)return u(ne,nt),Tt&&Es(ne,xt),it;if(nt===null){for(;xt<se.length;xt++)nt=_e(ne,se[xt],Ae),nt!==null&&(te=y(nt,te,xt),Ft===null?it=nt:Ft.sibling=nt,Ft=nt);return Tt&&Es(ne,xt),it}for(nt=p(nt);xt<se.length;xt++)At=ge(nt,ne,xt,se[xt],Ae),At!==null&&(a&&At.alternate!==null&&nt.delete(At.key===null?xt:At.key),te=y(At,te,xt),Ft===null?it=At:Ft.sibling=At,Ft=At);return a&&nt.forEach(function(ba){return o(ne,ba)}),Tt&&Es(ne,xt),it}function ot(ne,te,se,Ae){if(se==null)throw Error(r(151));for(var it=null,Ft=null,nt=te,xt=te=0,At=null,Mt=se.next();nt!==null&&!Mt.done;xt++,Mt=se.next()){nt.index>xt?(At=nt,nt=null):At=nt.sibling;var ba=he(ne,nt,Mt.value,Ae);if(ba===null){nt===null&&(nt=At);break}a&&nt&&ba.alternate===null&&o(ne,nt),te=y(ba,te,xt),Ft===null?it=ba:Ft.sibling=ba,Ft=ba,nt=At}if(Mt.done)return u(ne,nt),Tt&&Es(ne,xt),it;if(nt===null){for(;!Mt.done;xt++,Mt=se.next())Mt=_e(ne,Mt.value,Ae),Mt!==null&&(te=y(Mt,te,xt),Ft===null?it=Mt:Ft.sibling=Mt,Ft=Mt);return Tt&&Es(ne,xt),it}for(nt=p(nt);!Mt.done;xt++,Mt=se.next())Mt=ge(nt,ne,xt,Mt.value,Ae),Mt!==null&&(a&&Mt.alternate!==null&&nt.delete(Mt.key===null?xt:Mt.key),te=y(Mt,te,xt),Ft===null?it=Mt:Ft.sibling=Mt,Ft=Mt);return a&&nt.forEach(function(AD){return o(ne,AD)}),Tt&&Es(ne,xt),it}function Jt(ne,te,se,Ae){if(typeof se=="object"&&se!==null&&se.type===b&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case x:e:{for(var it=se.key;te!==null;){if(te.key===it){if(it=se.type,it===b){if(te.tag===7){u(ne,te.sibling),Ae=v(te,se.props.children),Ae.return=ne,ne=Ae;break e}}else if(te.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===z&&el(it)===te.type){u(ne,te.sibling),Ae=v(te,se.props),Sc(Ae,se),Ae.return=ne,ne=Ae;break e}u(ne,te);break}else o(ne,te);te=te.sibling}se.type===b?(Ae=Ya(se.props.children,ne.mode,Ae,se.key),Ae.return=ne,ne=Ae):(Ae=Bf(se.type,se.key,se.props,null,ne.mode,Ae),Sc(Ae,se),Ae.return=ne,ne=Ae)}return k(ne);case S:e:{for(it=se.key;te!==null;){if(te.key===it)if(te.tag===4&&te.stateNode.containerInfo===se.containerInfo&&te.stateNode.implementation===se.implementation){u(ne,te.sibling),Ae=v(te,se.children||[]),Ae.return=ne,ne=Ae;break e}else{u(ne,te);break}else o(ne,te);te=te.sibling}Ae=Jp(se,ne.mode,Ae),Ae.return=ne,ne=Ae}return k(ne);case z:return se=el(se),Jt(ne,te,se,Ae)}if(ce(se))return Je(ne,te,se,Ae);if(q(se)){if(it=q(se),typeof it!="function")throw Error(r(150));return se=it.call(se),ot(ne,te,se,Ae)}if(typeof se.then=="function")return Jt(ne,te,Pf(se),Ae);if(se.$$typeof===C)return Jt(ne,te,Ff(ne,se),Ae);jf(ne,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,te!==null&&te.tag===6?(u(ne,te.sibling),Ae=v(te,se),Ae.return=ne,ne=Ae):(u(ne,te),Ae=Zp(se,ne.mode,Ae),Ae.return=ne,ne=Ae),k(ne)):u(ne,te)}return function(ne,te,se,Ae){try{bc=0;var it=Jt(ne,te,se,Ae);return Jl=null,it}catch(nt){if(nt===Zl||nt===Lf)throw nt;var Ft=Kr(29,nt,null,ne.mode);return Ft.lanes=Ae,Ft.return=ne,Ft}finally{}}}var nl=ny(!0),ry=ny(!1),ra=!1;function um(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hm(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ia(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function sa(a,o,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Pt&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,o=Of(a),z2(a,null,u),o}return kf(a,p,o,u),Of(a)}function wc(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=a.pendingLanes,u|=p,o.lanes=u,ut(a,u)}}function dm(a,o){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?v=y=k:y=y.next=k,u=u.next}while(u!==null);y===null?v=y=o:y=y.next=o}else v=y=o;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:p.shared,callbacks:p.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var pm=!1;function Ec(){if(pm){var a=Ql;if(a!==null)throw a}}function Cc(a,o,u,p){pm=!1;var v=a.updateQueue;ra=!1;var y=v.firstBaseUpdate,k=v.lastBaseUpdate,H=v.shared.pending;if(H!==null){v.shared.pending=null;var J=H,ae=J.next;J.next=null,k===null?y=ae:k.next=ae,k=J;var we=a.alternate;we!==null&&(we=we.updateQueue,H=we.lastBaseUpdate,H!==k&&(H===null?we.firstBaseUpdate=ae:H.next=ae,we.lastBaseUpdate=J))}if(y!==null){var _e=v.baseState;k=0,we=ae=J=null,H=y;do{var he=H.lane&-536870913,ge=he!==H.lane;if(ge?(Ct&he)===he:(p&he)===he){he!==0&&he===Kl&&(pm=!0),we!==null&&(we=we.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Je=a,ot=H;he=o;var Jt=u;switch(ot.tag){case 1:if(Je=ot.payload,typeof Je=="function"){_e=Je.call(Jt,_e,he);break e}_e=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=ot.payload,he=typeof Je=="function"?Je.call(Jt,_e,he):Je,he==null)break e;_e=m({},_e,he);break e;case 2:ra=!0}}he=H.callback,he!==null&&(a.flags|=64,ge&&(a.flags|=8192),ge=v.callbacks,ge===null?v.callbacks=[he]:ge.push(he))}else ge={lane:he,tag:H.tag,payload:H.payload,callback:H.callback,next:null},we===null?(ae=we=ge,J=_e):we=we.next=ge,k|=he;if(H=H.next,H===null){if(H=v.shared.pending,H===null)break;ge=H,H=ge.next,ge.next=null,v.lastBaseUpdate=ge,v.shared.pending=null}}while(!0);we===null&&(J=_e),v.baseState=J,v.firstBaseUpdate=ae,v.lastBaseUpdate=we,y===null&&(v.shared.lanes=0),fa|=k,a.lanes=k,a.memoizedState=_e}}function iy(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function sy(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)iy(u[a],o)}var eo=j(null),zf=j(0);function ay(a,o){a=Fs,M(zf,a),M(eo,o),Fs=a|o.baseLanes}function mm(){M(zf,Fs),M(eo,eo.current)}function gm(){Fs=zf.current,D(eo),D(zf)}var Qr=j(null),Si=null;function aa(a){var o=a.alternate;M(_n,_n.current&1),M(Qr,a),Si===null&&(o===null||eo.current!==null||o.memoizedState!==null)&&(Si=a)}function xm(a){M(_n,_n.current),M(Qr,a),Si===null&&(Si=a)}function ly(a){a.tag===22?(M(_n,_n.current),M(Qr,a),Si===null&&(Si=a)):la()}function la(){M(_n,_n.current),M(Qr,Qr.current)}function Zr(a){D(Qr),Si===a&&(Si=null),D(_n)}var _n=j(0);function Hf(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Eg(u)||Cg(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ts=0,mt=null,Qt=null,Rn=null,Uf=!1,to=!1,rl=!1,Vf=0,Ac=0,no=null,m5=0;function Sn(){throw Error(r(321))}function vm(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Yr(a[u],o[u]))return!1;return!0}function ym(a,o,u,p,v,y){return Ts=y,mt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Z.H=a===null||a.memoizedState===null?qy:Fm,rl=!1,y=u(p,v),rl=!1,to&&(y=cy(o,u,p,v)),oy(a),y}function oy(a){Z.H=Dc;var o=Qt!==null&&Qt.next!==null;if(Ts=0,Rn=Qt=mt=null,Uf=!1,Ac=0,no=null,o)throw Error(r(300));a===null||Fn||(a=a.dependencies,a!==null&&Rf(a)&&(Fn=!0))}function cy(a,o,u,p){mt=a;var v=0;do{if(to&&(no=null),Ac=0,to=!1,25<=v)throw Error(r(301));if(v+=1,Rn=Qt=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Z.H=Wy,y=o(u,p)}while(to);return y}function g5(){var a=Z.H,o=a.useState()[0];return o=typeof o.then=="function"?Tc(o):o,a=a.useState()[0],(Qt!==null?Qt.memoizedState:null)!==a&&(mt.flags|=1024),o}function bm(){var a=Vf!==0;return Vf=0,a}function Sm(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function wm(a){if(Uf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Uf=!1}Ts=0,Rn=Qt=mt=null,to=!1,Ac=Vf=0,no=null}function wr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?mt.memoizedState=Rn=a:Rn=Rn.next=a,Rn}function Dn(){if(Qt===null){var a=mt.alternate;a=a!==null?a.memoizedState:null}else a=Qt.next;var o=Rn===null?mt.memoizedState:Rn.next;if(o!==null)Rn=o,Qt=a;else{if(a===null)throw mt.alternate===null?Error(r(467)):Error(r(310));Qt=a,a={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Rn===null?mt.memoizedState=Rn=a:Rn=Rn.next=a}return Rn}function qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tc(a){var o=Ac;return Ac+=1,no===null&&(no=[]),a=J2(no,a,o),o=mt,(Rn===null?o.memoizedState:Rn.next)===null&&(o=o.alternate,Z.H=o===null||o.memoizedState===null?qy:Fm),a}function Wf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Tc(a);if(a.$$typeof===C)return nr(a)}throw Error(r(438,String(a)))}function Em(a){var o=null,u=mt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=mt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=qf(),mt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),p=0;p<a;p++)u[p]=I;return o.index++,u}function _s(a,o){return typeof o=="function"?o(a):o}function Gf(a){var o=Dn();return Cm(o,Qt,a)}function Cm(a,o,u){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var v=a.baseQueue,y=p.pending;if(y!==null){if(v!==null){var k=v.next;v.next=y.next,y.next=k}o.baseQueue=v=y,p.pending=null}if(y=a.baseState,v===null)a.memoizedState=y;else{o=v.next;var H=k=null,J=null,ae=o,we=!1;do{var _e=ae.lane&-536870913;if(_e!==ae.lane?(Ct&_e)===_e:(Ts&_e)===_e){var he=ae.revertLane;if(he===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),_e===Kl&&(we=!0);else if((Ts&he)===he){ae=ae.next,he===Kl&&(we=!0);continue}else _e={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},J===null?(H=J=_e,k=y):J=J.next=_e,mt.lanes|=he,fa|=he;_e=ae.action,rl&&u(y,_e),y=ae.hasEagerState?ae.eagerState:u(y,_e)}else he={lane:_e,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},J===null?(H=J=he,k=y):J=J.next=he,mt.lanes|=_e,fa|=_e;ae=ae.next}while(ae!==null&&ae!==o);if(J===null?k=y:J.next=H,!Yr(y,a.memoizedState)&&(Fn=!0,we&&(u=Ql,u!==null)))throw u;a.memoizedState=y,a.baseState=k,a.baseQueue=J,p.lastRenderedState=y}return v===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Am(a){var o=Dn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var p=u.dispatch,v=u.pending,y=o.memoizedState;if(v!==null){u.pending=null;var k=v=v.next;do y=a(y,k.action),k=k.next;while(k!==v);Yr(y,o.memoizedState)||(Fn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,p]}function fy(a,o,u){var p=mt,v=Dn(),y=Tt;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=o();var k=!Yr((Qt||v).memoizedState,u);if(k&&(v.memoizedState=u,Fn=!0),v=v.queue,Dm(dy.bind(null,p,v,a),[a]),v.getSnapshot!==o||k||Rn!==null&&Rn.memoizedState.tag&1){if(p.flags|=2048,ro(9,{destroy:void 0},hy.bind(null,p,v,u,o),null),nn===null)throw Error(r(349));y||(Ts&127)!==0||uy(p,o,u)}return u}function uy(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=mt.updateQueue,o===null?(o=qf(),mt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function hy(a,o,u,p){o.value=u,o.getSnapshot=p,py(o)&&my(a)}function dy(a,o,u){return u(function(){py(o)&&my(a)})}function py(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Yr(a,u)}catch{return!0}}function my(a){var o=$a(a,2);o!==null&&jr(o,a,2)}function Tm(a){var o=wr();if(typeof a=="function"){var u=a;if(a=u(),rl){vn(!0);try{u()}finally{vn(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:a},o}function gy(a,o,u,p){return a.baseState=u,Cm(a,Qt,typeof p=="function"?p:_s)}function x5(a,o,u,p,v){if(Yf(a))throw Error(r(485));if(a=o.action,a!==null){var y={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){y.listeners.push(k)}};Z.T!==null?u(!0):y.isTransition=!1,p(y),u=o.pending,u===null?(y.next=o.pending=y,xy(o,y)):(y.next=u.next,o.pending=u.next=y)}}function xy(a,o){var u=o.action,p=o.payload,v=a.state;if(o.isTransition){var y=Z.T,k={};Z.T=k;try{var H=u(v,p),J=Z.S;J!==null&&J(k,H),vy(a,o,H)}catch(ae){_m(a,o,ae)}finally{y!==null&&k.types!==null&&(y.types=k.types),Z.T=y}}else try{y=u(v,p),vy(a,o,y)}catch(ae){_m(a,o,ae)}}function vy(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){yy(a,o,p)},function(p){return _m(a,o,p)}):yy(a,o,u)}function yy(a,o,u){o.status="fulfilled",o.value=u,by(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,xy(a,u)))}function _m(a,o,u){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,by(o),o=o.next;while(o!==p)}a.action=null}function by(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Sy(a,o){return o}function wy(a,o){if(Tt){var u=nn.formState;if(u!==null){e:{var p=mt;if(Tt){if(on){t:{for(var v=on,y=bi;v.nodeType!==8;){if(!y){v=null;break t}if(v=wi(v.nextSibling),v===null){v=null;break t}}y=v.data,v=y==="F!"||y==="F"?v:null}if(v){on=wi(v.nextSibling),p=v.data==="F!";break e}}ta(p)}p=!1}p&&(o=u[0])}}return u=wr(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:o},u.queue=p,u=Hy.bind(null,mt,p),p.dispatch=u,p=Tm(!1),y=Rm.bind(null,mt,!1,p.queue),p=wr(),v={state:o,dispatch:null,action:a,pending:null},p.queue=v,u=x5.bind(null,mt,v,y,u),v.dispatch=u,p.memoizedState=a,[o,u,!1]}function Ey(a){var o=Dn();return Cy(o,Qt,a)}function Cy(a,o,u){if(o=Cm(a,o,Sy)[0],a=Gf(_s)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Tc(o)}catch(k){throw k===Zl?Lf:k}else p=o;o=Dn();var v=o.queue,y=v.dispatch;return u!==o.memoizedState&&(mt.flags|=2048,ro(9,{destroy:void 0},v5.bind(null,v,u),null)),[p,y,a]}function v5(a,o){a.action=o}function Ay(a){var o=Dn(),u=Qt;if(u!==null)return Cy(o,u,a);Dn(),o=o.memoizedState,u=Dn();var p=u.queue.dispatch;return u.memoizedState=a,[o,p,!1]}function ro(a,o,u,p){return a={tag:a,create:u,deps:p,inst:o,next:null},o=mt.updateQueue,o===null&&(o=qf(),mt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,o.lastEffect=a),a}function Ty(){return Dn().memoizedState}function Xf(a,o,u,p){var v=wr();mt.flags|=a,v.memoizedState=ro(1|o,{destroy:void 0},u,p===void 0?null:p)}function $f(a,o,u,p){var v=Dn();p=p===void 0?null:p;var y=v.memoizedState.inst;Qt!==null&&p!==null&&vm(p,Qt.memoizedState.deps)?v.memoizedState=ro(o,y,u,p):(mt.flags|=a,v.memoizedState=ro(1|o,y,u,p))}function _y(a,o){Xf(8390656,8,a,o)}function Dm(a,o){$f(2048,8,a,o)}function y5(a){mt.flags|=4;var o=mt.updateQueue;if(o===null)o=qf(),mt.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function Dy(a){var o=Dn().memoizedState;return y5({ref:o,nextImpl:a}),function(){if((Pt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function ky(a,o){return $f(4,2,a,o)}function Oy(a,o){return $f(4,4,a,o)}function By(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function Ny(a,o,u){u=u!=null?u.concat([a]):null,$f(4,4,By.bind(null,o,a),u)}function km(){}function Ry(a,o){var u=Dn();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&vm(o,p[1])?p[0]:(u.memoizedState=[a,o],a)}function Fy(a,o){var u=Dn();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&vm(o,p[1]))return p[0];if(p=a(),rl){vn(!0);try{a()}finally{vn(!1)}}return u.memoizedState=[p,o],p}function Om(a,o,u){return u===void 0||(Ts&1073741824)!==0&&(Ct&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=Mb(),mt.lanes|=a,fa|=a,u)}function My(a,o,u,p){return Yr(u,o)?u:eo.current!==null?(a=Om(a,u,p),Yr(a,o)||(Fn=!0),a):(Ts&42)===0||(Ts&1073741824)!==0&&(Ct&261930)===0?(Fn=!0,a.memoizedState=u):(a=Mb(),mt.lanes|=a,fa|=a,o)}function Ly(a,o,u,p,v){var y=re.p;re.p=y!==0&&8>y?y:8;var k=Z.T,H={};Z.T=H,Rm(a,!1,o,u);try{var J=v(),ae=Z.S;if(ae!==null&&ae(H,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var we=p5(J,p);_c(a,o,we,ti(a))}else _c(a,o,p,ti(a))}catch(_e){_c(a,o,{then:function(){},status:"rejected",reason:_e},ti())}finally{re.p=y,k!==null&&H.types!==null&&(k.types=H.types),Z.T=k}}function b5(){}function Bm(a,o,u,p){if(a.tag!==5)throw Error(r(476));var v=Iy(a).queue;Ly(a,v,o,xe,u===null?b5:function(){return Py(a),u(p)})}function Iy(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:xe},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function Py(a){var o=Iy(a);o.next===null&&(o=a.alternate.memoizedState),_c(a,o.next.queue,{},ti())}function Nm(){return nr(qc)}function jy(){return Dn().memoizedState}function zy(){return Dn().memoizedState}function S5(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=ti();a=ia(u);var p=sa(o,a,u);p!==null&&(jr(p,o,u),wc(p,o,u)),o={cache:lm()},a.payload=o;return}o=o.return}}function w5(a,o,u){var p=ti();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Yf(a)?Uy(o,u):(u=Kp(a,o,u,p),u!==null&&(jr(u,a,p),Vy(u,o,p)))}function Hy(a,o,u){var p=ti();_c(a,o,u,p)}function _c(a,o,u,p){var v={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Yf(a))Uy(o,v);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var k=o.lastRenderedState,H=y(k,u);if(v.hasEagerState=!0,v.eagerState=H,Yr(H,k))return kf(a,o,v,0),nn===null&&Df(),!1}catch{}finally{}if(u=Kp(a,o,v,p),u!==null)return jr(u,a,p),Vy(u,o,p),!0}return!1}function Rm(a,o,u,p){if(p={lane:2,revertLane:ug(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Yf(a)){if(o)throw Error(r(479))}else o=Kp(a,u,p,2),o!==null&&jr(o,a,2)}function Yf(a){var o=a.alternate;return a===mt||o!==null&&o===mt}function Uy(a,o){to=Uf=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function Vy(a,o,u){if((u&4194048)!==0){var p=o.lanes;p&=a.pendingLanes,u|=p,o.lanes=u,ut(a,u)}}var Dc={readContext:nr,use:Wf,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useLayoutEffect:Sn,useInsertionEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useSyncExternalStore:Sn,useId:Sn,useHostTransitionStatus:Sn,useFormState:Sn,useActionState:Sn,useOptimistic:Sn,useMemoCache:Sn,useCacheRefresh:Sn};Dc.useEffectEvent=Sn;var qy={readContext:nr,use:Wf,useCallback:function(a,o){return wr().memoizedState=[a,o===void 0?null:o],a},useContext:nr,useEffect:_y,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Xf(4194308,4,By.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Xf(4194308,4,a,o)},useInsertionEffect:function(a,o){Xf(4,2,a,o)},useMemo:function(a,o){var u=wr();o=o===void 0?null:o;var p=a();if(rl){vn(!0);try{a()}finally{vn(!1)}}return u.memoizedState=[p,o],p},useReducer:function(a,o,u){var p=wr();if(u!==void 0){var v=u(o);if(rl){vn(!0);try{u(o)}finally{vn(!1)}}}else v=o;return p.memoizedState=p.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},p.queue=a,a=a.dispatch=w5.bind(null,mt,a),[p.memoizedState,a]},useRef:function(a){var o=wr();return a={current:a},o.memoizedState=a},useState:function(a){a=Tm(a);var o=a.queue,u=Hy.bind(null,mt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:km,useDeferredValue:function(a,o){var u=wr();return Om(u,a,o)},useTransition:function(){var a=Tm(!1);return a=Ly.bind(null,mt,a.queue,!0,!1),wr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var p=mt,v=wr();if(Tt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),nn===null)throw Error(r(349));(Ct&127)!==0||uy(p,o,u)}v.memoizedState=u;var y={value:u,getSnapshot:o};return v.queue=y,_y(dy.bind(null,p,y,a),[a]),p.flags|=2048,ro(9,{destroy:void 0},hy.bind(null,p,y,u,o),null),u},useId:function(){var a=wr(),o=nn.identifierPrefix;if(Tt){var u=es,p=Ji;u=(p&~(1<<32-yn(p)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Vf++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=m5++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Nm,useFormState:wy,useActionState:wy,useOptimistic:function(a){var o=wr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Rm.bind(null,mt,!0,u),u.dispatch=o,[a,o]},useMemoCache:Em,useCacheRefresh:function(){return wr().memoizedState=S5.bind(null,mt)},useEffectEvent:function(a){var o=wr(),u={impl:a};return o.memoizedState=u,function(){if((Pt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Fm={readContext:nr,use:Wf,useCallback:Ry,useContext:nr,useEffect:Dm,useImperativeHandle:Ny,useInsertionEffect:ky,useLayoutEffect:Oy,useMemo:Fy,useReducer:Gf,useRef:Ty,useState:function(){return Gf(_s)},useDebugValue:km,useDeferredValue:function(a,o){var u=Dn();return My(u,Qt.memoizedState,a,o)},useTransition:function(){var a=Gf(_s)[0],o=Dn().memoizedState;return[typeof a=="boolean"?a:Tc(a),o]},useSyncExternalStore:fy,useId:jy,useHostTransitionStatus:Nm,useFormState:Ey,useActionState:Ey,useOptimistic:function(a,o){var u=Dn();return gy(u,Qt,a,o)},useMemoCache:Em,useCacheRefresh:zy};Fm.useEffectEvent=Dy;var Wy={readContext:nr,use:Wf,useCallback:Ry,useContext:nr,useEffect:Dm,useImperativeHandle:Ny,useInsertionEffect:ky,useLayoutEffect:Oy,useMemo:Fy,useReducer:Am,useRef:Ty,useState:function(){return Am(_s)},useDebugValue:km,useDeferredValue:function(a,o){var u=Dn();return Qt===null?Om(u,a,o):My(u,Qt.memoizedState,a,o)},useTransition:function(){var a=Am(_s)[0],o=Dn().memoizedState;return[typeof a=="boolean"?a:Tc(a),o]},useSyncExternalStore:fy,useId:jy,useHostTransitionStatus:Nm,useFormState:Ay,useActionState:Ay,useOptimistic:function(a,o){var u=Dn();return Qt!==null?gy(u,Qt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Em,useCacheRefresh:zy};Wy.useEffectEvent=Dy;function Mm(a,o,u,p){o=a.memoizedState,u=u(p,o),u=u==null?o:m({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Lm={enqueueSetState:function(a,o,u){a=a._reactInternals;var p=ti(),v=ia(p);v.payload=o,u!=null&&(v.callback=u),o=sa(a,v,p),o!==null&&(jr(o,a,p),wc(o,a,p))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var p=ti(),v=ia(p);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=sa(a,v,p),o!==null&&(jr(o,a,p),wc(o,a,p))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=ti(),p=ia(u);p.tag=2,o!=null&&(p.callback=o),o=sa(a,p,u),o!==null&&(jr(o,a,u),wc(o,a,u))}};function Gy(a,o,u,p,v,y,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,y,k):o.prototype&&o.prototype.isPureReactComponent?!pc(u,p)||!pc(v,y):!0}function Xy(a,o,u,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==a&&Lm.enqueueReplaceState(o,o.state,null)}function il(a,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(a=a.defaultProps){u===o&&(u=m({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function $y(a){_f(a)}function Yy(a){console.error(a)}function Ky(a){_f(a)}function Kf(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function Qy(a,o,u){try{var p=a.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Im(a,o,u){return u=ia(u),u.tag=3,u.payload={element:null},u.callback=function(){Kf(a,o)},u}function Zy(a){return a=ia(a),a.tag=3,a}function Jy(a,o,u,p){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var y=p.value;a.payload=function(){return v(y)},a.callback=function(){Qy(o,u,p)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){Qy(o,u,p),typeof v!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var H=p.stack;this.componentDidCatch(p.value,{componentStack:H!==null?H:""})})}function E5(a,o,u,p,v){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&Yl(o,u,v,!0),u=Qr.current,u!==null){switch(u.tag){case 31:case 13:return Si===null?ou():u.alternate===null&&wn===0&&(wn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,p===If?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),og(a,p,v)),!1;case 22:return u.flags|=65536,p===If?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),og(a,p,v)),!1}throw Error(r(435,u.tag))}return og(a,p,v),ou(),!1}if(Tt)return o=Qr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,p!==nm&&(a=Error(r(422),{cause:p}),xc(xi(a,u)))):(p!==nm&&(o=Error(r(423),{cause:p}),xc(xi(o,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,p=xi(p,u),v=Im(a.stateNode,p,v),dm(a,v),wn!==4&&(wn=2)),!1;var y=Error(r(520),{cause:p});if(y=xi(y,u),Lc===null?Lc=[y]:Lc.push(y),wn!==4&&(wn=2),o===null)return!0;p=xi(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=Im(u.stateNode,p,a),dm(u,a),!1;case 1:if(o=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ua===null||!ua.has(y))))return u.flags|=65536,v&=-v,u.lanes|=v,v=Zy(v),Jy(v,a,u,p),dm(u,v),!1}u=u.return}while(u!==null);return!1}var Pm=Error(r(461)),Fn=!1;function rr(a,o,u,p){o.child=a===null?ry(o,null,u,p):nl(o,a.child,u,p)}function eb(a,o,u,p,v){u=u.render;var y=o.ref;if("ref"in p){var k={};for(var H in p)H!=="ref"&&(k[H]=p[H])}else k=p;return Za(o),p=ym(a,o,u,k,y,v),H=bm(),a!==null&&!Fn?(Sm(a,o,v),Ds(a,o,v)):(Tt&&H&&em(o),o.flags|=1,rr(a,o,p,v),o.child)}function tb(a,o,u,p,v){if(a===null){var y=u.type;return typeof y=="function"&&!Qp(y)&&y.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=y,nb(a,o,y,p,v)):(a=Bf(u.type,null,p,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(y=a.child,!Gm(a,v)){var k=y.memoizedProps;if(u=u.compare,u=u!==null?u:pc,u(k,p)&&a.ref===o.ref)return Ds(a,o,v)}return o.flags|=1,a=ws(y,p),a.ref=o.ref,a.return=o,o.child=a}function nb(a,o,u,p,v){if(a!==null){var y=a.memoizedProps;if(pc(y,p)&&a.ref===o.ref)if(Fn=!1,o.pendingProps=p=y,Gm(a,v))(a.flags&131072)!==0&&(Fn=!0);else return o.lanes=a.lanes,Ds(a,o,v)}return jm(a,o,u,p,v)}function rb(a,o,u,p){var v=p.children,y=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(y=y!==null?y.baseLanes|u:u,a!==null){for(p=o.child=a.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;p=v&~y}else p=0,o.child=null;return ib(a,o,y,u,p)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Mf(o,y!==null?y.cachePool:null),y!==null?ay(o,y):mm(),ly(o);else return p=o.lanes=536870912,ib(a,o,y!==null?y.baseLanes|u:u,u,p)}else y!==null?(Mf(o,y.cachePool),ay(o,y),la(),o.memoizedState=null):(a!==null&&Mf(o,null),mm(),la());return rr(a,o,v,u),o.child}function kc(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function ib(a,o,u,p,v){var y=cm();return y=y===null?null:{parent:Nn._currentValue,pool:y},o.memoizedState={baseLanes:u,cachePool:y},a!==null&&Mf(o,null),mm(),ly(o),a!==null&&Yl(a,o,p,!0),o.childLanes=v,null}function Qf(a,o){return o=Jf({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function sb(a,o,u){return nl(o,a.child,null,u),a=Qf(o,o.pendingProps),a.flags|=2,Zr(o),o.memoizedState=null,a}function C5(a,o,u){var p=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Tt){if(p.mode==="hidden")return a=Qf(o,p),o.lanes=536870912,kc(null,a);if(xm(o),(a=on)?(a=xS(a,bi),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Js!==null?{id:Ji,overflow:es}:null,retryLane:536870912,hydrationErrors:null},u=U2(a),u.return=o,o.child=u,tr=o,on=null)):a=null,a===null)throw ta(o);return o.lanes=536870912,null}return Qf(o,p)}var y=a.memoizedState;if(y!==null){var k=y.dehydrated;if(xm(o),v)if(o.flags&256)o.flags&=-257,o=sb(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Fn||Yl(a,o,u,!1),v=(u&a.childLanes)!==0,Fn||v){if(p=nn,p!==null&&(k=Bt(p,u),k!==0&&k!==y.retryLane))throw y.retryLane=k,$a(a,k),jr(p,a,k),Pm;ou(),o=sb(a,o,u)}else a=y.treeContext,on=wi(k.nextSibling),tr=o,Tt=!0,ea=null,bi=!1,a!==null&&W2(o,a),o=Qf(o,p),o.flags|=4096;return o}return a=ws(a.child,{mode:p.mode,children:p.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Zf(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function jm(a,o,u,p,v){return Za(o),u=ym(a,o,u,p,void 0,v),p=bm(),a!==null&&!Fn?(Sm(a,o,v),Ds(a,o,v)):(Tt&&p&&em(o),o.flags|=1,rr(a,o,u,v),o.child)}function ab(a,o,u,p,v,y){return Za(o),o.updateQueue=null,u=cy(o,p,u,v),oy(a),p=bm(),a!==null&&!Fn?(Sm(a,o,y),Ds(a,o,y)):(Tt&&p&&em(o),o.flags|=1,rr(a,o,u,y),o.child)}function lb(a,o,u,p,v){if(Za(o),o.stateNode===null){var y=Wl,k=u.contextType;typeof k=="object"&&k!==null&&(y=nr(k)),y=new u(p,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Lm,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=p,y.state=o.memoizedState,y.refs={},um(o),k=u.contextType,y.context=typeof k=="object"&&k!==null?nr(k):Wl,y.state=o.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(Mm(o,u,k,p),y.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(k=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),k!==y.state&&Lm.enqueueReplaceState(y,y.state,null),Cc(o,p,y,v),Ec(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(a===null){y=o.stateNode;var H=o.memoizedProps,J=il(u,H);y.props=J;var ae=y.context,we=u.contextType;k=Wl,typeof we=="object"&&we!==null&&(k=nr(we));var _e=u.getDerivedStateFromProps;we=typeof _e=="function"||typeof y.getSnapshotBeforeUpdate=="function",H=o.pendingProps!==H,we||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(H||ae!==k)&&Xy(o,y,p,k),ra=!1;var he=o.memoizedState;y.state=he,Cc(o,p,y,v),Ec(),ae=o.memoizedState,H||he!==ae||ra?(typeof _e=="function"&&(Mm(o,u,_e,p),ae=o.memoizedState),(J=ra||Gy(o,u,J,p,he,ae,k))?(we||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=ae),y.props=p,y.state=ae,y.context=k,p=J):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{y=o.stateNode,hm(a,o),k=o.memoizedProps,we=il(u,k),y.props=we,_e=o.pendingProps,he=y.context,ae=u.contextType,J=Wl,typeof ae=="object"&&ae!==null&&(J=nr(ae)),H=u.getDerivedStateFromProps,(ae=typeof H=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k!==_e||he!==J)&&Xy(o,y,p,J),ra=!1,he=o.memoizedState,y.state=he,Cc(o,p,y,v),Ec();var ge=o.memoizedState;k!==_e||he!==ge||ra||a!==null&&a.dependencies!==null&&Rf(a.dependencies)?(typeof H=="function"&&(Mm(o,u,H,p),ge=o.memoizedState),(we=ra||Gy(o,u,we,p,he,ge,J)||a!==null&&a.dependencies!==null&&Rf(a.dependencies))?(ae||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(p,ge,J),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(p,ge,J)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||k===a.memoizedProps&&he===a.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&he===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=ge),y.props=p,y.state=ge,y.context=J,p=we):(typeof y.componentDidUpdate!="function"||k===a.memoizedProps&&he===a.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&he===a.memoizedState||(o.flags|=1024),p=!1)}return y=p,Zf(a,o),p=(o.flags&128)!==0,y||p?(y=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,a!==null&&p?(o.child=nl(o,a.child,null,v),o.child=nl(o,null,u,v)):rr(a,o,u,v),o.memoizedState=y.state,a=o.child):a=Ds(a,o,v),a}function ob(a,o,u,p){return Ka(),o.flags|=256,rr(a,o,u,p),o.child}var zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hm(a){return{baseLanes:a,cachePool:Q2()}}function Um(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ei),a}function cb(a,o,u){var p=o.pendingProps,v=!1,y=(o.flags&128)!==0,k;if((k=y)||(k=a!==null&&a.memoizedState===null?!1:(_n.current&2)!==0),k&&(v=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,a===null){if(Tt){if(v?aa(o):la(),(a=on)?(a=xS(a,bi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Js!==null?{id:Ji,overflow:es}:null,retryLane:536870912,hydrationErrors:null},u=U2(a),u.return=o,o.child=u,tr=o,on=null)):a=null,a===null)throw ta(o);return Cg(a)?o.lanes=32:o.lanes=536870912,null}var H=p.children;return p=p.fallback,v?(la(),v=o.mode,H=Jf({mode:"hidden",children:H},v),p=Ya(p,v,u,null),H.return=o,p.return=o,H.sibling=p,o.child=H,p=o.child,p.memoizedState=Hm(u),p.childLanes=Um(a,k,u),o.memoizedState=zm,kc(null,p)):(aa(o),Vm(o,H))}var J=a.memoizedState;if(J!==null&&(H=J.dehydrated,H!==null)){if(y)o.flags&256?(aa(o),o.flags&=-257,o=qm(a,o,u)):o.memoizedState!==null?(la(),o.child=a.child,o.flags|=128,o=null):(la(),H=p.fallback,v=o.mode,p=Jf({mode:"visible",children:p.children},v),H=Ya(H,v,u,null),H.flags|=2,p.return=o,H.return=o,p.sibling=H,o.child=p,nl(o,a.child,null,u),p=o.child,p.memoizedState=Hm(u),p.childLanes=Um(a,k,u),o.memoizedState=zm,o=kc(null,p));else if(aa(o),Cg(H)){if(k=H.nextSibling&&H.nextSibling.dataset,k)var ae=k.dgst;k=ae,p=Error(r(419)),p.stack="",p.digest=k,xc({value:p,source:null,stack:null}),o=qm(a,o,u)}else if(Fn||Yl(a,o,u,!1),k=(u&a.childLanes)!==0,Fn||k){if(k=nn,k!==null&&(p=Bt(k,u),p!==0&&p!==J.retryLane))throw J.retryLane=p,$a(a,p),jr(k,a,p),Pm;Eg(H)||ou(),o=qm(a,o,u)}else Eg(H)?(o.flags|=192,o.child=a.child,o=null):(a=J.treeContext,on=wi(H.nextSibling),tr=o,Tt=!0,ea=null,bi=!1,a!==null&&W2(o,a),o=Vm(o,p.children),o.flags|=4096);return o}return v?(la(),H=p.fallback,v=o.mode,J=a.child,ae=J.sibling,p=ws(J,{mode:"hidden",children:p.children}),p.subtreeFlags=J.subtreeFlags&65011712,ae!==null?H=ws(ae,H):(H=Ya(H,v,u,null),H.flags|=2),H.return=o,p.return=o,p.sibling=H,o.child=p,kc(null,p),p=o.child,H=a.child.memoizedState,H===null?H=Hm(u):(v=H.cachePool,v!==null?(J=Nn._currentValue,v=v.parent!==J?{parent:J,pool:J}:v):v=Q2(),H={baseLanes:H.baseLanes|u,cachePool:v}),p.memoizedState=H,p.childLanes=Um(a,k,u),o.memoizedState=zm,kc(a.child,p)):(aa(o),u=a.child,a=u.sibling,u=ws(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,a!==null&&(k=o.deletions,k===null?(o.deletions=[a],o.flags|=16):k.push(a)),o.child=u,o.memoizedState=null,u)}function Vm(a,o){return o=Jf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Jf(a,o){return a=Kr(22,a,null,o),a.lanes=0,a}function qm(a,o,u){return nl(o,a.child,null,u),a=Vm(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function fb(a,o,u){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),sm(a.return,o,u)}function Wm(a,o,u,p,v,y){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v,treeForkCount:y}:(k.isBackwards=o,k.rendering=null,k.renderingStartTime=0,k.last=p,k.tail=u,k.tailMode=v,k.treeForkCount=y)}function ub(a,o,u){var p=o.pendingProps,v=p.revealOrder,y=p.tail;p=p.children;var k=_n.current,H=(k&2)!==0;if(H?(k=k&1|2,o.flags|=128):k&=1,M(_n,k),rr(a,o,p,u),p=Tt?gc:0,!H&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&fb(a,u,o);else if(a.tag===19)fb(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)a=u.alternate,a!==null&&Hf(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Wm(o,!1,v,u,y,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&Hf(a)===null){o.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}Wm(o,!0,u,null,y,p);break;case"together":Wm(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function Ds(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),fa|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(Yl(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=ws(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=ws(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function Gm(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Rf(a)))}function A5(a,o,u){switch(o.tag){case 3:ve(o,o.stateNode.containerInfo),na(o,Nn,a.memoizedState.cache),Ka();break;case 27:case 5:ye(o);break;case 4:ve(o,o.stateNode.containerInfo);break;case 10:na(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,xm(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(aa(o),o.flags|=128,null):(u&o.child.childLanes)!==0?cb(a,o,u):(aa(o),a=Ds(a,o,u),a!==null?a.sibling:null);aa(o);break;case 19:var v=(a.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(Yl(a,o,u,!1),p=(u&o.childLanes)!==0),v){if(p)return ub(a,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),M(_n,_n.current),p)break;return null;case 22:return o.lanes=0,rb(a,o,u,o.pendingProps);case 24:na(o,Nn,a.memoizedState.cache)}return Ds(a,o,u)}function hb(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Fn=!0;else{if(!Gm(a,u)&&(o.flags&128)===0)return Fn=!1,A5(a,o,u);Fn=(a.flags&131072)!==0}else Fn=!1,Tt&&(o.flags&1048576)!==0&&q2(o,gc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(a=el(o.elementType),o.type=a,typeof a=="function")Qp(a)?(p=il(a,p),o.tag=1,o=lb(null,o,a,p,u)):(o.tag=0,o=jm(null,o,a,p,u));else{if(a!=null){var v=a.$$typeof;if(v===_){o.tag=11,o=eb(null,o,a,p,u);break e}else if(v===O){o.tag=14,o=tb(null,o,a,p,u);break e}}throw o=ie(a)||a,Error(r(306,o,""))}}return o;case 0:return jm(a,o,o.type,o.pendingProps,u);case 1:return p=o.type,v=il(p,o.pendingProps),lb(a,o,p,v,u);case 3:e:{if(ve(o,o.stateNode.containerInfo),a===null)throw Error(r(387));p=o.pendingProps;var y=o.memoizedState;v=y.element,hm(a,o),Cc(o,p,null,u);var k=o.memoizedState;if(p=k.cache,na(o,Nn,p),p!==y.cache&&am(o,[Nn],u,!0),Ec(),p=k.element,y.isDehydrated)if(y={element:p,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=ob(a,o,p,u);break e}else if(p!==v){v=xi(Error(r(424)),o),xc(v),o=ob(a,o,p,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(on=wi(a.firstChild),tr=o,Tt=!0,ea=null,bi=!0,u=ry(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ka(),p===v){o=Ds(a,o,u);break e}rr(a,o,p,u)}o=o.child}return o;case 26:return Zf(a,o),a===null?(u=ES(o.type,null,o.pendingProps,null))?o.memoizedState=u:Tt||(u=o.type,a=o.pendingProps,p=mu(ee.current).createElement(u),p[V]=o,p[X]=a,ir(p,u,a),et(p),o.stateNode=p):o.memoizedState=ES(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return ye(o),a===null&&Tt&&(p=o.stateNode=bS(o.type,o.pendingProps,ee.current),tr=o,bi=!0,v=on,ma(o.type)?(Ag=v,on=wi(p.firstChild)):on=v),rr(a,o,o.pendingProps.children,u),Zf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Tt&&((v=p=on)&&(p=tD(p,o.type,o.pendingProps,bi),p!==null?(o.stateNode=p,tr=o,on=wi(p.firstChild),bi=!1,v=!0):v=!1),v||ta(o)),ye(o),v=o.type,y=o.pendingProps,k=a!==null?a.memoizedProps:null,p=y.children,bg(v,y)?p=null:k!==null&&bg(v,k)&&(o.flags|=32),o.memoizedState!==null&&(v=ym(a,o,g5,null,null,u),qc._currentValue=v),Zf(a,o),rr(a,o,p,u),o.child;case 6:return a===null&&Tt&&((a=u=on)&&(u=nD(u,o.pendingProps,bi),u!==null?(o.stateNode=u,tr=o,on=null,a=!0):a=!1),a||ta(o)),null;case 13:return cb(a,o,u);case 4:return ve(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=nl(o,null,p,u):rr(a,o,p,u),o.child;case 11:return eb(a,o,o.type,o.pendingProps,u);case 7:return rr(a,o,o.pendingProps,u),o.child;case 8:return rr(a,o,o.pendingProps.children,u),o.child;case 12:return rr(a,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,na(o,o.type,p.value),rr(a,o,p.children,u),o.child;case 9:return v=o.type._context,p=o.pendingProps.children,Za(o),v=nr(v),p=p(v),o.flags|=1,rr(a,o,p,u),o.child;case 14:return tb(a,o,o.type,o.pendingProps,u);case 15:return nb(a,o,o.type,o.pendingProps,u);case 19:return ub(a,o,u);case 31:return C5(a,o,u);case 22:return rb(a,o,u,o.pendingProps);case 24:return Za(o),p=nr(Nn),a===null?(v=cm(),v===null&&(v=nn,y=lm(),v.pooledCache=y,y.refCount++,y!==null&&(v.pooledCacheLanes|=u),v=y),o.memoizedState={parent:p,cache:v},um(o),na(o,Nn,v)):((a.lanes&u)!==0&&(hm(a,o),Cc(o,null,null,u),Ec()),v=a.memoizedState,y=o.memoizedState,v.parent!==p?(v={parent:p,cache:p},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),na(o,Nn,p)):(p=y.cache,na(o,Nn,p),p!==v.cache&&am(o,[Nn],u,!0))),rr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ks(a){a.flags|=4}function Xm(a,o,u,p,v){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(jb())a.flags|=8192;else throw tl=If,fm}else a.flags&=-16777217}function db(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!DS(o))if(jb())a.flags|=8192;else throw tl=If,fm}function eu(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Ie():536870912,a.lanes|=o,lo|=o)}function Oc(a,o){if(!Tt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function cn(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(o)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=p,a.childLanes=u,o}function T5(a,o,u){var p=o.pendingProps;switch(tm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(o),null;case 1:return cn(o),null;case 3:return u=o.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),As(Nn),Te(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&($l(o)?ks(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,rm())),cn(o),null;case 26:var v=o.type,y=o.memoizedState;return a===null?(ks(o),y!==null?(cn(o),db(o,y)):(cn(o),Xm(o,v,null,p,u))):y?y!==a.memoizedState?(ks(o),cn(o),db(o,y)):(cn(o),o.flags&=-16777217):(a=a.memoizedProps,a!==p&&ks(o),cn(o),Xm(o,v,a,p,u)),null;case 27:if(st(o),u=ee.current,v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&ks(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return cn(o),null}a=L.current,$l(o)?G2(o):(a=bS(v,p,u),o.stateNode=a,ks(o))}return cn(o),null;case 5:if(st(o),v=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&ks(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return cn(o),null}if(y=L.current,$l(o))G2(o);else{var k=mu(ee.current);switch(y){case 1:y=k.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:y=k.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":y=k.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":y=k.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":y=k.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof p.is=="string"?k.createElement("select",{is:p.is}):k.createElement("select"),p.multiple?y.multiple=!0:p.size&&(y.size=p.size);break;default:y=typeof p.is=="string"?k.createElement(v,{is:p.is}):k.createElement(v)}}y[V]=o,y[X]=p;e:for(k=o.child;k!==null;){if(k.tag===5||k.tag===6)y.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===o)break e;for(;k.sibling===null;){if(k.return===null||k.return===o)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}o.stateNode=y;e:switch(ir(y,v,p),v){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ks(o)}}return cn(o),Xm(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==p&&ks(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(a=ee.current,$l(o)){if(a=o.stateNode,u=o.memoizedProps,p=null,v=tr,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}a[V]=o,a=!!(a.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||cS(a.nodeValue,u)),a||ta(o,!0)}else a=mu(a).createTextNode(p),a[V]=o,o.stateNode=a}return cn(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(p=$l(o),u!==null){if(a===null){if(!p)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[V]=o}else Ka(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;cn(o),a=!1}else u=rm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Zr(o),o):(Zr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return cn(o),null;case 13:if(p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=$l(o),p!==null&&p.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[V]=o}else Ka(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;cn(o),v=!1}else v=rm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Zr(o),o):(Zr(o),null)}return Zr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=p!==null,a=a!==null&&a.memoizedState!==null,u&&(p=o.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool),y=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(y=p.memoizedState.cachePool.pool),y!==v&&(p.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),eu(o,o.updateQueue),cn(o),null);case 4:return Te(),a===null&&mg(o.stateNode.containerInfo),cn(o),null;case 10:return As(o.type),cn(o),null;case 19:if(D(_n),p=o.memoizedState,p===null)return cn(o),null;if(v=(o.flags&128)!==0,y=p.rendering,y===null)if(v)Oc(p,!1);else{if(wn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(y=Hf(a),y!==null){for(o.flags|=128,Oc(p,!1),a=y.updateQueue,o.updateQueue=a,eu(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)H2(u,a),u=u.sibling;return M(_n,_n.current&1|2),Tt&&Es(o,p.treeForkCount),o.child}a=a.sibling}p.tail!==null&&fe()>su&&(o.flags|=128,v=!0,Oc(p,!1),o.lanes=4194304)}else{if(!v)if(a=Hf(y),a!==null){if(o.flags|=128,v=!0,a=a.updateQueue,o.updateQueue=a,eu(o,a),Oc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Tt)return cn(o),null}else 2*fe()-p.renderingStartTime>su&&u!==536870912&&(o.flags|=128,v=!0,Oc(p,!1),o.lanes=4194304);p.isBackwards?(y.sibling=o.child,o.child=y):(a=p.last,a!==null?a.sibling=y:o.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=fe(),a.sibling=null,u=_n.current,M(_n,v?u&1|2:u&1),Tt&&Es(o,p.treeForkCount),a):(cn(o),null);case 22:case 23:return Zr(o),gm(),p=o.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(cn(o),o.subtreeFlags&6&&(o.flags|=8192)):cn(o),u=o.updateQueue,u!==null&&eu(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),a!==null&&D(Ja),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),As(Nn),cn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function _5(a,o){switch(tm(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return As(Nn),Te(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return st(o),null;case 31:if(o.memoizedState!==null){if(Zr(o),o.alternate===null)throw Error(r(340));Ka()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Zr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ka()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return D(_n),null;case 4:return Te(),null;case 10:return As(o.type),null;case 22:case 23:return Zr(o),gm(),a!==null&&D(Ja),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return As(Nn),null;case 25:return null;default:return null}}function pb(a,o){switch(tm(o),o.tag){case 3:As(Nn),Te();break;case 26:case 27:case 5:st(o);break;case 4:Te();break;case 31:o.memoizedState!==null&&Zr(o);break;case 13:Zr(o);break;case 19:D(_n);break;case 10:As(o.type);break;case 22:case 23:Zr(o),gm(),a!==null&&D(Ja);break;case 24:As(Nn)}}function Bc(a,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&a)===a){p=void 0;var y=u.create,k=u.inst;p=y(),k.destroy=p}u=u.next}while(u!==v)}}catch(H){Vt(o,o.return,H)}}function oa(a,o,u){try{var p=o.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var y=v.next;p=y;do{if((p.tag&a)===a){var k=p.inst,H=k.destroy;if(H!==void 0){k.destroy=void 0,v=o;var J=u,ae=H;try{ae()}catch(we){Vt(v,J,we)}}}p=p.next}while(p!==y)}}catch(we){Vt(o,o.return,we)}}function mb(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{sy(o,u)}catch(p){Vt(a,a.return,p)}}}function gb(a,o,u){u.props=il(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(p){Vt(a,o,p)}}function Nc(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof u=="function"?a.refCleanup=u(p):u.current=p}}catch(v){Vt(a,o,v)}}function ts(a,o){var u=a.ref,p=a.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(v){Vt(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Vt(a,o,v)}else u.current=null}function xb(a){var o=a.type,u=a.memoizedProps,p=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(v){Vt(a,a.return,v)}}function $m(a,o,u){try{var p=a.stateNode;Y5(p,a.type,u,o),p[X]=o}catch(v){Vt(a,a.return,v)}}function vb(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ma(a.type)||a.tag===4}function Ym(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||vb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ma(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Km(a,o,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=bs));else if(p!==4&&(p===27&&ma(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(Km(a,o,u),a=a.sibling;a!==null;)Km(a,o,u),a=a.sibling}function tu(a,o,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(p!==4&&(p===27&&ma(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(tu(a,o,u),a=a.sibling;a!==null;)tu(a,o,u),a=a.sibling}function yb(a){var o=a.stateNode,u=a.memoizedProps;try{for(var p=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);ir(o,p,u),o[V]=a,o[X]=u}catch(y){Vt(a,a.return,y)}}var Os=!1,Mn=!1,Qm=!1,bb=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function D5(a,o){if(a=a.containerInfo,vg=wu,a=N2(a),qp(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,y=p.focusNode;p=p.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var k=0,H=-1,J=-1,ae=0,we=0,_e=a,he=null;t:for(;;){for(var ge;_e!==u||v!==0&&_e.nodeType!==3||(H=k+v),_e!==y||p!==0&&_e.nodeType!==3||(J=k+p),_e.nodeType===3&&(k+=_e.nodeValue.length),(ge=_e.firstChild)!==null;)he=_e,_e=ge;for(;;){if(_e===a)break t;if(he===u&&++ae===v&&(H=k),he===y&&++we===p&&(J=k),(ge=_e.nextSibling)!==null)break;_e=he,he=_e.parentNode}_e=ge}u=H===-1||J===-1?null:{start:H,end:J}}else u=null}u=u||{start:0,end:0}}else u=null;for(yg={focusedElem:a,selectionRange:u},wu=!1,Gn=o;Gn!==null;)if(o=Gn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Gn=a;else for(;Gn!==null;){switch(o=Gn,y=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,u=o,v=y.memoizedProps,y=y.memoizedState,p=u.stateNode;try{var Je=il(u.type,v);a=p.getSnapshotBeforeUpdate(Je,y),p.__reactInternalSnapshotBeforeUpdate=a}catch(ot){Vt(u,u.return,ot)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)wg(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":wg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Gn=a;break}Gn=o.return}}function Sb(a,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:Ns(a,u),p&4&&Bc(5,u);break;case 1:if(Ns(a,u),p&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(k){Vt(u,u.return,k)}else{var v=il(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(k){Vt(u,u.return,k)}}p&64&&mb(u),p&512&&Nc(u,u.return);break;case 3:if(Ns(a,u),p&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{sy(a,o)}catch(k){Vt(u,u.return,k)}}break;case 27:o===null&&p&4&&yb(u);case 26:case 5:Ns(a,u),o===null&&p&4&&xb(u),p&512&&Nc(u,u.return);break;case 12:Ns(a,u);break;case 31:Ns(a,u),p&4&&Cb(a,u);break;case 13:Ns(a,u),p&4&&Ab(a,u),p&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=I5.bind(null,u),rD(a,u))));break;case 22:if(p=u.memoizedState!==null||Os,!p){o=o!==null&&o.memoizedState!==null||Mn,v=Os;var y=Mn;Os=p,(Mn=o)&&!y?Rs(a,u,(u.subtreeFlags&8772)!==0):Ns(a,u),Os=v,Mn=y}break;case 30:break;default:Ns(a,u)}}function wb(a){var o=a.alternate;o!==null&&(a.alternate=null,wb(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Re(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var mn=null,Mr=!1;function Bs(a,o,u){for(u=u.child;u!==null;)Eb(a,o,u),u=u.sibling}function Eb(a,o,u){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Br,u)}catch{}switch(u.tag){case 26:Mn||ts(u,o),Bs(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Mn||ts(u,o);var p=mn,v=Mr;ma(u.type)&&(mn=u.stateNode,Mr=!1),Bs(a,o,u),Hc(u.stateNode),mn=p,Mr=v;break;case 5:Mn||ts(u,o);case 6:if(p=mn,v=Mr,mn=null,Bs(a,o,u),mn=p,Mr=v,mn!==null)if(Mr)try{(mn.nodeType===9?mn.body:mn.nodeName==="HTML"?mn.ownerDocument.body:mn).removeChild(u.stateNode)}catch(y){Vt(u,o,y)}else try{mn.removeChild(u.stateNode)}catch(y){Vt(u,o,y)}break;case 18:mn!==null&&(Mr?(a=mn,mS(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),go(a)):mS(mn,u.stateNode));break;case 4:p=mn,v=Mr,mn=u.stateNode.containerInfo,Mr=!0,Bs(a,o,u),mn=p,Mr=v;break;case 0:case 11:case 14:case 15:oa(2,u,o),Mn||oa(4,u,o),Bs(a,o,u);break;case 1:Mn||(ts(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&gb(u,o,p)),Bs(a,o,u);break;case 21:Bs(a,o,u);break;case 22:Mn=(p=Mn)||u.memoizedState!==null,Bs(a,o,u),Mn=p;break;default:Bs(a,o,u)}}function Cb(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{go(a)}catch(u){Vt(o,o.return,u)}}}function Ab(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{go(a)}catch(u){Vt(o,o.return,u)}}function k5(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new bb),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new bb),o;default:throw Error(r(435,a.tag))}}function nu(a,o){var u=k5(a);o.forEach(function(p){if(!u.has(p)){u.add(p);var v=P5.bind(null,a,p);p.then(v,v)}})}function Lr(a,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p],y=a,k=o,H=k;e:for(;H!==null;){switch(H.tag){case 27:if(ma(H.type)){mn=H.stateNode,Mr=!1;break e}break;case 5:mn=H.stateNode,Mr=!1;break e;case 3:case 4:mn=H.stateNode.containerInfo,Mr=!0;break e}H=H.return}if(mn===null)throw Error(r(160));Eb(y,k,v),mn=null,Mr=!1,y=v.alternate,y!==null&&(y.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Tb(o,a),o=o.sibling}var Li=null;function Tb(a,o){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Lr(o,a),Ir(a),p&4&&(oa(3,a,a.return),Bc(3,a),oa(5,a,a.return));break;case 1:Lr(o,a),Ir(a),p&512&&(Mn||u===null||ts(u,u.return)),p&64&&Os&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var v=Li;if(Lr(o,a),Ir(a),p&512&&(Mn||u===null||ts(u,u.return)),p&4){var y=u!==null?u.memoizedState:null;if(p=a.memoizedState,u===null)if(p===null)if(a.stateNode===null){e:{p=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":y=v.getElementsByTagName("title")[0],(!y||y[de]||y[V]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=v.createElement(p),v.head.insertBefore(y,v.querySelector("head > title"))),ir(y,p,u),y[V]=a,et(y),p=y;break e;case"link":var k=TS("link","href",v).get(p+(u.href||""));if(k){for(var H=0;H<k.length;H++)if(y=k[H],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(H,1);break t}}y=v.createElement(p),ir(y,p,u),v.head.appendChild(y);break;case"meta":if(k=TS("meta","content",v).get(p+(u.content||""))){for(H=0;H<k.length;H++)if(y=k[H],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(H,1);break t}}y=v.createElement(p),ir(y,p,u),v.head.appendChild(y);break;default:throw Error(r(468,p))}y[V]=a,et(y),p=y}a.stateNode=p}else _S(v,a.type,a.stateNode);else a.stateNode=AS(v,p,a.memoizedProps);else y!==p?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,p===null?_S(v,a.type,a.stateNode):AS(v,p,a.memoizedProps)):p===null&&a.stateNode!==null&&$m(a,a.memoizedProps,u.memoizedProps)}break;case 27:Lr(o,a),Ir(a),p&512&&(Mn||u===null||ts(u,u.return)),u!==null&&p&4&&$m(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Lr(o,a),Ir(a),p&512&&(Mn||u===null||ts(u,u.return)),a.flags&32){v=a.stateNode;try{Pl(v,"")}catch(Je){Vt(a,a.return,Je)}}p&4&&a.stateNode!=null&&(v=a.memoizedProps,$m(a,v,u!==null?u.memoizedProps:v)),p&1024&&(Qm=!0);break;case 6:if(Lr(o,a),Ir(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,u=a.stateNode;try{u.nodeValue=p}catch(Je){Vt(a,a.return,Je)}}break;case 3:if(vu=null,v=Li,Li=gu(o.containerInfo),Lr(o,a),Li=v,Ir(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{go(o.containerInfo)}catch(Je){Vt(a,a.return,Je)}Qm&&(Qm=!1,_b(a));break;case 4:p=Li,Li=gu(a.stateNode.containerInfo),Lr(o,a),Ir(a),Li=p;break;case 12:Lr(o,a),Ir(a);break;case 31:Lr(o,a),Ir(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,nu(a,p)));break;case 13:Lr(o,a),Ir(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(iu=fe()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,nu(a,p)));break;case 22:v=a.memoizedState!==null;var J=u!==null&&u.memoizedState!==null,ae=Os,we=Mn;if(Os=ae||v,Mn=we||J,Lr(o,a),Mn=we,Os=ae,Ir(a),p&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||J||Os||Mn||sl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){J=u=o;try{if(y=J.stateNode,v)k=y.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{H=J.stateNode;var _e=J.memoizedProps.style,he=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;H.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Je){Vt(J,J.return,Je)}}}else if(o.tag===6){if(u===null){J=o;try{J.stateNode.nodeValue=v?"":J.memoizedProps}catch(Je){Vt(J,J.return,Je)}}}else if(o.tag===18){if(u===null){J=o;try{var ge=J.stateNode;v?gS(ge,!0):gS(J.stateNode,!1)}catch(Je){Vt(J,J.return,Je)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=a.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,nu(a,u))));break;case 19:Lr(o,a),Ir(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,nu(a,p)));break;case 30:break;case 21:break;default:Lr(o,a),Ir(a)}}function Ir(a){var o=a.flags;if(o&2){try{for(var u,p=a.return;p!==null;){if(vb(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,y=Ym(a);tu(a,y,v);break;case 5:var k=u.stateNode;u.flags&32&&(Pl(k,""),u.flags&=-33);var H=Ym(a);tu(a,H,k);break;case 3:case 4:var J=u.stateNode.containerInfo,ae=Ym(a);Km(a,ae,J);break;default:throw Error(r(161))}}catch(we){Vt(a,a.return,we)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function _b(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;_b(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ns(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Sb(a,o.alternate,o),o=o.sibling}function sl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:oa(4,o,o.return),sl(o);break;case 1:ts(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&gb(o,o.return,u),sl(o);break;case 27:Hc(o.stateNode);case 26:case 5:ts(o,o.return),sl(o);break;case 22:o.memoizedState===null&&sl(o);break;case 30:sl(o);break;default:sl(o)}a=a.sibling}}function Rs(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,v=a,y=o,k=y.flags;switch(y.tag){case 0:case 11:case 15:Rs(v,y,u),Bc(4,y);break;case 1:if(Rs(v,y,u),p=y,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ae){Vt(p,p.return,ae)}if(p=y,v=p.updateQueue,v!==null){var H=p.stateNode;try{var J=v.shared.hiddenCallbacks;if(J!==null)for(v.shared.hiddenCallbacks=null,v=0;v<J.length;v++)iy(J[v],H)}catch(ae){Vt(p,p.return,ae)}}u&&k&64&&mb(y),Nc(y,y.return);break;case 27:yb(y);case 26:case 5:Rs(v,y,u),u&&p===null&&k&4&&xb(y),Nc(y,y.return);break;case 12:Rs(v,y,u);break;case 31:Rs(v,y,u),u&&k&4&&Cb(v,y);break;case 13:Rs(v,y,u),u&&k&4&&Ab(v,y);break;case 22:y.memoizedState===null&&Rs(v,y,u),Nc(y,y.return);break;case 30:break;default:Rs(v,y,u)}o=o.sibling}}function Zm(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&vc(u))}function Jm(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&vc(a))}function Ii(a,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Db(a,o,u,p),o=o.sibling}function Db(a,o,u,p){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Ii(a,o,u,p),v&2048&&Bc(9,o);break;case 1:Ii(a,o,u,p);break;case 3:Ii(a,o,u,p),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&vc(a)));break;case 12:if(v&2048){Ii(a,o,u,p),a=o.stateNode;try{var y=o.memoizedProps,k=y.id,H=y.onPostCommit;typeof H=="function"&&H(k,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(J){Vt(o,o.return,J)}}else Ii(a,o,u,p);break;case 31:Ii(a,o,u,p);break;case 13:Ii(a,o,u,p);break;case 23:break;case 22:y=o.stateNode,k=o.alternate,o.memoizedState!==null?y._visibility&2?Ii(a,o,u,p):Rc(a,o):y._visibility&2?Ii(a,o,u,p):(y._visibility|=2,io(a,o,u,p,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Zm(k,o);break;case 24:Ii(a,o,u,p),v&2048&&Jm(o.alternate,o);break;default:Ii(a,o,u,p)}}function io(a,o,u,p,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var y=a,k=o,H=u,J=p,ae=k.flags;switch(k.tag){case 0:case 11:case 15:io(y,k,H,J,v),Bc(8,k);break;case 23:break;case 22:var we=k.stateNode;k.memoizedState!==null?we._visibility&2?io(y,k,H,J,v):Rc(y,k):(we._visibility|=2,io(y,k,H,J,v)),v&&ae&2048&&Zm(k.alternate,k);break;case 24:io(y,k,H,J,v),v&&ae&2048&&Jm(k.alternate,k);break;default:io(y,k,H,J,v)}o=o.sibling}}function Rc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,p=o,v=p.flags;switch(p.tag){case 22:Rc(u,p),v&2048&&Zm(p.alternate,p);break;case 24:Rc(u,p),v&2048&&Jm(p.alternate,p);break;default:Rc(u,p)}o=o.sibling}}var Fc=8192;function so(a,o,u){if(a.subtreeFlags&Fc)for(a=a.child;a!==null;)kb(a,o,u),a=a.sibling}function kb(a,o,u){switch(a.tag){case 26:so(a,o,u),a.flags&Fc&&a.memoizedState!==null&&mD(u,Li,a.memoizedState,a.memoizedProps);break;case 5:so(a,o,u);break;case 3:case 4:var p=Li;Li=gu(a.stateNode.containerInfo),so(a,o,u),Li=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Fc,Fc=16777216,so(a,o,u),Fc=p):so(a,o,u));break;default:so(a,o,u)}}function Ob(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Mc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Gn=p,Nb(p,a)}Ob(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Bb(a),a=a.sibling}function Bb(a){switch(a.tag){case 0:case 11:case 15:Mc(a),a.flags&2048&&oa(9,a,a.return);break;case 3:Mc(a);break;case 12:Mc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,ru(a)):Mc(a);break;default:Mc(a)}}function ru(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Gn=p,Nb(p,a)}Ob(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:oa(8,o,o.return),ru(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,ru(o));break;default:ru(o)}a=a.sibling}}function Nb(a,o){for(;Gn!==null;){var u=Gn;switch(u.tag){case 0:case 11:case 15:oa(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:vc(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Gn=p;else e:for(u=a;Gn!==null;){p=Gn;var v=p.sibling,y=p.return;if(wb(p),p===u){Gn=null;break e}if(v!==null){v.return=y,Gn=v;break e}Gn=y}}}var O5={getCacheForType:function(a){var o=nr(Nn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return nr(Nn).controller.signal}},B5=typeof WeakMap=="function"?WeakMap:Map,Pt=0,nn=null,wt=null,Ct=0,Ut=0,Jr=null,ca=!1,ao=!1,eg=!1,Fs=0,wn=0,fa=0,al=0,tg=0,ei=0,lo=0,Lc=null,Pr=null,ng=!1,iu=0,Rb=0,su=1/0,au=null,ua=null,Hn=0,ha=null,oo=null,Ms=0,rg=0,ig=null,Fb=null,Ic=0,sg=null;function ti(){return(Pt&2)!==0&&Ct!==0?Ct&-Ct:Z.T!==null?ug():F()}function Mb(){if(ei===0)if((Ct&536870912)===0||Tt){var a=hi;hi<<=1,(hi&3932160)===0&&(hi=262144),ei=a}else ei=536870912;return a=Qr.current,a!==null&&(a.flags|=32),ei}function jr(a,o,u){(a===nn&&(Ut===2||Ut===9)||a.cancelPendingCommit!==null)&&(co(a,0),da(a,Ct,ei,!1)),Ze(a,u),((Pt&2)===0||a!==nn)&&(a===nn&&((Pt&2)===0&&(al|=u),wn===4&&da(a,Ct,ei,!1)),ns(a))}function Lb(a,o,u){if((Pt&6)!==0)throw Error(r(327));var p=!u&&(o&127)===0&&(o&a.expiredLanes)===0||pe(a,o),v=p?F5(a,o):lg(a,o,!0),y=p;do{if(v===0){ao&&!p&&da(a,o,0,!1);break}else{if(u=a.current.alternate,y&&!N5(u)){v=lg(a,o,!1),y=!1;continue}if(v===2){if(y=o,a.errorRecoveryDisabledLanes&y)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;e:{var H=a;v=Lc;var J=H.current.memoizedState.isDehydrated;if(J&&(co(H,k).flags|=256),k=lg(H,k,!1),k!==2){if(eg&&!J){H.errorRecoveryDisabledLanes|=y,al|=y,v=4;break e}y=Pr,Pr=v,y!==null&&(Pr===null?Pr=y:Pr.push.apply(Pr,y))}v=k}if(y=!1,v!==2)continue}}if(v===1){co(a,0),da(a,o,0,!0);break}e:{switch(p=a,y=v,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:da(p,o,ei,!ca);break e;case 2:Pr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=iu+300-fe(),10<v)){if(da(p,o,ei,!ca),dn(p,0,!0)!==0)break e;Ms=o,p.timeoutHandle=dS(Ib.bind(null,p,u,Pr,au,ng,o,ei,al,lo,ca,y,"Throttled",-0,0),v);break e}Ib(p,u,Pr,au,ng,o,ei,al,lo,ca,y,null,-0,0)}}break}while(!0);ns(a)}function Ib(a,o,u,p,v,y,k,H,J,ae,we,_e,he,ge){if(a.timeoutHandle=-1,_e=o.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bs},kb(o,y,_e);var Je=(y&62914560)===y?iu-fe():(y&4194048)===y?Rb-fe():0;if(Je=gD(_e,Je),Je!==null){Ms=y,a.cancelPendingCommit=Je(Wb.bind(null,a,o,y,u,p,v,k,H,J,we,_e,null,he,ge)),da(a,y,k,!ae);return}}Wb(a,o,y,u,p,v,k,H,J)}function N5(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var v=u[p],y=v.getSnapshot;v=v.value;try{if(!Yr(y(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function da(a,o,u,p){o&=~tg,o&=~al,a.suspendedLanes|=o,a.pingedLanes&=~o,p&&(a.warmLanes|=o),p=a.expirationTimes;for(var v=o;0<v;){var y=31-yn(v),k=1<<y;p[y]=-1,v&=~k}u!==0&&ht(a,u,o)}function lu(){return(Pt&6)===0?(Pc(0),!1):!0}function ag(){if(wt!==null){if(Ut===0)var a=wt.return;else a=wt,Cs=Qa=null,wm(a),Jl=null,bc=0,a=wt;for(;a!==null;)pb(a.alternate,a),a=a.return;wt=null}}function co(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,Z5(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ms=0,ag(),nn=a,wt=u=ws(a.current,null),Ct=o,Ut=0,Jr=null,ca=!1,ao=pe(a,o),eg=!1,lo=ei=tg=al=fa=wn=0,Pr=Lc=null,ng=!1,(o&8)!==0&&(o|=o&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=o;0<p;){var v=31-yn(p),y=1<<v;o|=a[v],p&=~y}return Fs=o,Df(),u}function Pb(a,o){mt=null,Z.H=Dc,o===Zl||o===Lf?(o=ey(),Ut=3):o===fm?(o=ey(),Ut=4):Ut=o===Pm?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Jr=o,wt===null&&(wn=1,Kf(a,xi(o,a.current)))}function jb(){var a=Qr.current;return a===null?!0:(Ct&4194048)===Ct?Si===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?a===Si:!1}function zb(){var a=Z.H;return Z.H=Dc,a===null?Dc:a}function Hb(){var a=Z.A;return Z.A=O5,a}function ou(){wn=4,ca||(Ct&4194048)!==Ct&&Qr.current!==null||(ao=!0),(fa&134217727)===0&&(al&134217727)===0||nn===null||da(nn,Ct,ei,!1)}function lg(a,o,u){var p=Pt;Pt|=2;var v=zb(),y=Hb();(nn!==a||Ct!==o)&&(au=null,co(a,o)),o=!1;var k=wn;e:do try{if(Ut!==0&&wt!==null){var H=wt,J=Jr;switch(Ut){case 8:ag(),k=6;break e;case 3:case 2:case 9:case 6:Qr.current===null&&(o=!0);var ae=Ut;if(Ut=0,Jr=null,fo(a,H,J,ae),u&&ao){k=0;break e}break;default:ae=Ut,Ut=0,Jr=null,fo(a,H,J,ae)}}R5(),k=wn;break}catch(we){Pb(a,we)}while(!0);return o&&a.shellSuspendCounter++,Cs=Qa=null,Pt=p,Z.H=v,Z.A=y,wt===null&&(nn=null,Ct=0,Df()),k}function R5(){for(;wt!==null;)Ub(wt)}function F5(a,o){var u=Pt;Pt|=2;var p=zb(),v=Hb();nn!==a||Ct!==o?(au=null,su=fe()+500,co(a,o)):ao=pe(a,o);e:do try{if(Ut!==0&&wt!==null){o=wt;var y=Jr;t:switch(Ut){case 1:Ut=0,Jr=null,fo(a,o,y,1);break;case 2:case 9:if(Z2(y)){Ut=0,Jr=null,Vb(o);break}o=function(){Ut!==2&&Ut!==9||nn!==a||(Ut=7),ns(a)},y.then(o,o);break e;case 3:Ut=7;break e;case 4:Ut=5;break e;case 7:Z2(y)?(Ut=0,Jr=null,Vb(o)):(Ut=0,Jr=null,fo(a,o,y,7));break;case 5:var k=null;switch(wt.tag){case 26:k=wt.memoizedState;case 5:case 27:var H=wt;if(k?DS(k):H.stateNode.complete){Ut=0,Jr=null;var J=H.sibling;if(J!==null)wt=J;else{var ae=H.return;ae!==null?(wt=ae,cu(ae)):wt=null}break t}}Ut=0,Jr=null,fo(a,o,y,5);break;case 6:Ut=0,Jr=null,fo(a,o,y,6);break;case 8:ag(),wn=6;break e;default:throw Error(r(462))}}M5();break}catch(we){Pb(a,we)}while(!0);return Cs=Qa=null,Z.H=p,Z.A=v,Pt=u,wt!==null?0:(nn=null,Ct=0,Df(),wn)}function M5(){for(;wt!==null&&!zt();)Ub(wt)}function Ub(a){var o=hb(a.alternate,a,Fs);a.memoizedProps=a.pendingProps,o===null?cu(a):wt=o}function Vb(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=ab(u,o,o.pendingProps,o.type,void 0,Ct);break;case 11:o=ab(u,o,o.pendingProps,o.type.render,o.ref,Ct);break;case 5:wm(o);default:pb(u,o),o=wt=H2(o,Fs),o=hb(u,o,Fs)}a.memoizedProps=a.pendingProps,o===null?cu(a):wt=o}function fo(a,o,u,p){Cs=Qa=null,wm(o),Jl=null,bc=0;var v=o.return;try{if(E5(a,v,o,u,Ct)){wn=1,Kf(a,xi(u,a.current)),wt=null;return}}catch(y){if(v!==null)throw wt=v,y;wn=1,Kf(a,xi(u,a.current)),wt=null;return}o.flags&32768?(Tt||p===1?a=!0:ao||(Ct&536870912)!==0?a=!1:(ca=a=!0,(p===2||p===9||p===3||p===6)&&(p=Qr.current,p!==null&&p.tag===13&&(p.flags|=16384))),qb(o,a)):cu(o)}function cu(a){var o=a;do{if((o.flags&32768)!==0){qb(o,ca);return}a=o.return;var u=T5(o.alternate,o,Fs);if(u!==null){wt=u;return}if(o=o.sibling,o!==null){wt=o;return}wt=o=a}while(o!==null);wn===0&&(wn=5)}function qb(a,o){do{var u=_5(a.alternate,a);if(u!==null){u.flags&=32767,wt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){wt=a;return}wt=a=u}while(a!==null);wn=6,wt=null}function Wb(a,o,u,p,v,y,k,H,J){a.cancelPendingCommit=null;do fu();while(Hn!==0);if((Pt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(y=o.lanes|o.childLanes,y|=Yp,lt(a,u,y,k,H,J),a===nn&&(wt=nn=null,Ct=0),oo=o,ha=a,Ms=u,rg=y,ig=v,Fb=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,j5(bt,function(){return Kb(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=Z.T,Z.T=null,v=re.p,re.p=2,k=Pt,Pt|=4;try{D5(a,o,u)}finally{Pt=k,re.p=v,Z.T=p}}Hn=1,Gb(),Xb(),$b()}}function Gb(){if(Hn===1){Hn=0;var a=ha,o=oo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null;var p=re.p;re.p=2;var v=Pt;Pt|=4;try{Tb(o,a);var y=yg,k=N2(a.containerInfo),H=y.focusedElem,J=y.selectionRange;if(k!==H&&H&&H.ownerDocument&&B2(H.ownerDocument.documentElement,H)){if(J!==null&&qp(H)){var ae=J.start,we=J.end;if(we===void 0&&(we=ae),"selectionStart"in H)H.selectionStart=ae,H.selectionEnd=Math.min(we,H.value.length);else{var _e=H.ownerDocument||document,he=_e&&_e.defaultView||window;if(he.getSelection){var ge=he.getSelection(),Je=H.textContent.length,ot=Math.min(J.start,Je),Jt=J.end===void 0?ot:Math.min(J.end,Je);!ge.extend&&ot>Jt&&(k=Jt,Jt=ot,ot=k);var ne=O2(H,ot),te=O2(H,Jt);if(ne&&te&&(ge.rangeCount!==1||ge.anchorNode!==ne.node||ge.anchorOffset!==ne.offset||ge.focusNode!==te.node||ge.focusOffset!==te.offset)){var se=_e.createRange();se.setStart(ne.node,ne.offset),ge.removeAllRanges(),ot>Jt?(ge.addRange(se),ge.extend(te.node,te.offset)):(se.setEnd(te.node,te.offset),ge.addRange(se))}}}}for(_e=[],ge=H;ge=ge.parentNode;)ge.nodeType===1&&_e.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<_e.length;H++){var Ae=_e[H];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}wu=!!vg,yg=vg=null}finally{Pt=v,re.p=p,Z.T=u}}a.current=o,Hn=2}}function Xb(){if(Hn===2){Hn=0;var a=ha,o=oo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Z.T,Z.T=null;var p=re.p;re.p=2;var v=Pt;Pt|=4;try{Sb(a,o.alternate,o)}finally{Pt=v,re.p=p,Z.T=u}}Hn=3}}function $b(){if(Hn===4||Hn===3){Hn=0,$t();var a=ha,o=oo,u=Ms,p=Fb;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Hn=5:(Hn=0,oo=ha=null,Yb(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(ua=null),Bn(u),o=o.stateNode,bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Br,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=Z.T,v=re.p,re.p=2,Z.T=null;try{for(var y=a.onRecoverableError,k=0;k<p.length;k++){var H=p[k];y(H.value,{componentStack:H.stack})}}finally{Z.T=o,re.p=v}}(Ms&3)!==0&&fu(),ns(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===sg?Ic++:(Ic=0,sg=a):Ic=0,Pc(0)}}function Yb(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,vc(o)))}function fu(){return Gb(),Xb(),$b(),Kb()}function Kb(){if(Hn!==5)return!1;var a=ha,o=rg;rg=0;var u=Bn(Ms),p=Z.T,v=re.p;try{re.p=32>u?32:u,Z.T=null,u=ig,ig=null;var y=ha,k=Ms;if(Hn=0,oo=ha=null,Ms=0,(Pt&6)!==0)throw Error(r(331));var H=Pt;if(Pt|=4,Bb(y.current),Db(y,y.current,k,u),Pt=H,Pc(0,!1),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Br,y)}catch{}return!0}finally{re.p=v,Z.T=p,Yb(a,o)}}function Qb(a,o,u){o=xi(u,o),o=Im(a.stateNode,o,2),a=sa(a,o,2),a!==null&&(Ze(a,2),ns(a))}function Vt(a,o,u){if(a.tag===3)Qb(a,a,u);else for(;o!==null;){if(o.tag===3){Qb(o,a,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ua===null||!ua.has(p))){a=xi(u,a),u=Zy(2),p=sa(o,u,2),p!==null&&(Jy(u,p,o,a),Ze(p,2),ns(p));break}}o=o.return}}function og(a,o,u){var p=a.pingCache;if(p===null){p=a.pingCache=new B5;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(u)||(eg=!0,v.add(u),a=L5.bind(null,a,o,u),o.then(a,a))}function L5(a,o,u){var p=a.pingCache;p!==null&&p.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,nn===a&&(Ct&u)===u&&(wn===4||wn===3&&(Ct&62914560)===Ct&&300>fe()-iu?(Pt&2)===0&&co(a,0):tg|=u,lo===Ct&&(lo=0)),ns(a)}function Zb(a,o){o===0&&(o=Ie()),a=$a(a,o),a!==null&&(Ze(a,o),ns(a))}function I5(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),Zb(a,u)}function P5(a,o){var u=0;switch(a.tag){case 31:case 13:var p=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),Zb(a,u)}function j5(a,o){return yt(a,o)}var uu=null,uo=null,cg=!1,hu=!1,fg=!1,pa=0;function ns(a){a!==uo&&a.next===null&&(uo===null?uu=uo=a:uo=uo.next=a),hu=!0,cg||(cg=!0,H5())}function Pc(a,o){if(!fg&&hu){fg=!0;do for(var u=!1,p=uu;p!==null;){if(a!==0){var v=p.pendingLanes;if(v===0)var y=0;else{var k=p.suspendedLanes,H=p.pingedLanes;y=(1<<31-yn(42|a)+1)-1,y&=v&~(k&~H),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,nS(p,y))}else y=Ct,y=dn(p,p===nn?y:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(y&3)===0||pe(p,y)||(u=!0,nS(p,y));p=p.next}while(u);fg=!1}}function z5(){Jb()}function Jb(){hu=cg=!1;var a=0;pa!==0&&Q5()&&(a=pa);for(var o=fe(),u=null,p=uu;p!==null;){var v=p.next,y=eS(p,o);y===0?(p.next=null,u===null?uu=v:u.next=v,v===null&&(uo=u)):(u=p,(a!==0||(y&3)!==0)&&(hu=!0)),p=v}Hn!==0&&Hn!==5||Pc(a),pa!==0&&(pa=0)}function eS(a,o){for(var u=a.suspendedLanes,p=a.pingedLanes,v=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var k=31-yn(y),H=1<<k,J=v[k];J===-1?((H&u)===0||(H&p)!==0)&&(v[k]=Me(H,o)):J<=o&&(a.expiredLanes|=H),y&=~H}if(o=nn,u=Ct,u=dn(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,u===0||a===o&&(Ut===2||Ut===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&It(p),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||pe(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(p!==null&&It(p),Bn(u)){case 2:case 8:u=rt;break;case 32:u=bt;break;case 268435456:u=ft;break;default:u=bt}return p=tS.bind(null,a),u=yt(u,p),a.callbackPriority=o,a.callbackNode=u,o}return p!==null&&p!==null&&It(p),a.callbackPriority=2,a.callbackNode=null,2}function tS(a,o){if(Hn!==0&&Hn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(fu()&&a.callbackNode!==u)return null;var p=Ct;return p=dn(a,a===nn?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(Lb(a,p,o),eS(a,fe()),a.callbackNode!=null&&a.callbackNode===u?tS.bind(null,a):null)}function nS(a,o){if(fu())return null;Lb(a,o,!0)}function H5(){J5(function(){(Pt&6)!==0?yt(ke,z5):Jb()})}function ug(){if(pa===0){var a=Kl;a===0&&(a=Nr,Nr<<=1,(Nr&261888)===0&&(Nr=256)),pa=a}return pa}function rS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:bf(""+a)}function iS(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function U5(a,o,u,p,v){if(o==="submit"&&u&&u.stateNode===v){var y=rS((v[X]||null).action),k=p.submitter;k&&(o=(o=k[X]||null)?rS(o.formAction):k.getAttribute("formAction"),o!==null&&(y=o,k=null));var H=new Cf("action","action",null,p,v);a.push({event:H,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(pa!==0){var J=k?iS(v,k):new FormData(v);Bm(u,{pending:!0,data:J,method:v.method,action:y},null,J)}}else typeof y=="function"&&(H.preventDefault(),J=k?iS(v,k):new FormData(v),Bm(u,{pending:!0,data:J,method:v.method,action:y},y,J))},currentTarget:v}]})}}for(var hg=0;hg<$p.length;hg++){var dg=$p[hg],V5=dg.toLowerCase(),q5=dg[0].toUpperCase()+dg.slice(1);Mi(V5,"on"+q5)}Mi(M2,"onAnimationEnd"),Mi(L2,"onAnimationIteration"),Mi(I2,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(a5,"onTransitionRun"),Mi(l5,"onTransitionStart"),Mi(o5,"onTransitionCancel"),Mi(P2,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jc));function sS(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],v=p.event;p=p.listeners;e:{var y=void 0;if(o)for(var k=p.length-1;0<=k;k--){var H=p[k],J=H.instance,ae=H.currentTarget;if(H=H.listener,J!==y&&v.isPropagationStopped())break e;y=H,v.currentTarget=ae;try{y(v)}catch(we){_f(we)}v.currentTarget=null,y=J}else for(k=0;k<p.length;k++){if(H=p[k],J=H.instance,ae=H.currentTarget,H=H.listener,J!==y&&v.isPropagationStopped())break e;y=H,v.currentTarget=ae;try{y(v)}catch(we){_f(we)}v.currentTarget=null,y=J}}}}function Et(a,o){var u=o[le];u===void 0&&(u=o[le]=new Set);var p=a+"__bubble";u.has(p)||(aS(o,a,2,!1),u.add(p))}function pg(a,o,u){var p=0;o&&(p|=4),aS(u,a,p,o)}var du="_reactListening"+Math.random().toString(36).slice(2);function mg(a){if(!a[du]){a[du]=!0,an.forEach(function(u){u!=="selectionchange"&&(W5.has(u)||pg(u,!1,a),pg(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[du]||(o[du]=!0,pg("selectionchange",!1,o))}}function aS(a,o,u,p){switch(MS(o)){case 2:var v=yD;break;case 8:v=bD;break;default:v=Og}u=v.bind(null,o,u,a),v=void 0,!Mp||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?a.addEventListener(o,u,{capture:!0,passive:v}):a.addEventListener(o,u,!0):v!==void 0?a.addEventListener(o,u,{passive:v}):a.addEventListener(o,u,!1)}function gg(a,o,u,p,v){var y=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var H=p.stateNode.containerInfo;if(H===v)break;if(k===4)for(k=p.return;k!==null;){var J=k.tag;if((J===3||J===4)&&k.stateNode.containerInfo===v)return;k=k.return}for(;H!==null;){if(k=je(H),k===null)return;if(J=k.tag,J===5||J===6||J===26||J===27){p=y=k;continue e}H=H.parentNode}}p=p.return}u2(function(){var ae=y,we=Rp(u),_e=[];e:{var he=j2.get(a);if(he!==void 0){var ge=Cf,Je=a;switch(a){case"keypress":if(wf(u)===0)break e;case"keydown":case"keyup":ge=P_;break;case"focusin":Je="focus",ge=jp;break;case"focusout":Je="blur",ge=jp;break;case"beforeblur":case"afterblur":ge=jp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=p2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=T_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=H_;break;case M2:case L2:case I2:ge=k_;break;case P2:ge=V_;break;case"scroll":case"scrollend":ge=C_;break;case"wheel":ge=W_;break;case"copy":case"cut":case"paste":ge=B_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=g2;break;case"toggle":case"beforetoggle":ge=X_}var ot=(o&4)!==0,Jt=!ot&&(a==="scroll"||a==="scrollend"),ne=ot?he!==null?he+"Capture":null:he;ot=[];for(var te=ae,se;te!==null;){var Ae=te;if(se=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||se===null||ne===null||(Ae=lc(te,ne),Ae!=null&&ot.push(zc(te,Ae,se))),Jt)break;te=te.return}0<ot.length&&(he=new ge(he,Je,null,u,we),_e.push({event:he,listeners:ot}))}}if((o&7)===0){e:{if(he=a==="mouseover"||a==="pointerover",ge=a==="mouseout"||a==="pointerout",he&&u!==Np&&(Je=u.relatedTarget||u.fromElement)&&(je(Je)||Je[Y]))break e;if((ge||he)&&(he=we.window===we?we:(he=we.ownerDocument)?he.defaultView||he.parentWindow:window,ge?(Je=u.relatedTarget||u.toElement,ge=ae,Je=Je?je(Je):null,Je!==null&&(Jt=s(Je),ot=Je.tag,Je!==Jt||ot!==5&&ot!==27&&ot!==6)&&(Je=null)):(ge=null,Je=ae),ge!==Je)){if(ot=p2,Ae="onMouseLeave",ne="onMouseEnter",te="mouse",(a==="pointerout"||a==="pointerover")&&(ot=g2,Ae="onPointerLeave",ne="onPointerEnter",te="pointer"),Jt=ge==null?he:Fe(ge),se=Je==null?he:Fe(Je),he=new ot(Ae,te+"leave",ge,u,we),he.target=Jt,he.relatedTarget=se,Ae=null,je(we)===ae&&(ot=new ot(ne,te+"enter",Je,u,we),ot.target=se,ot.relatedTarget=Jt,Ae=ot),Jt=Ae,ge&&Je)t:{for(ot=G5,ne=ge,te=Je,se=0,Ae=ne;Ae;Ae=ot(Ae))se++;Ae=0;for(var it=te;it;it=ot(it))Ae++;for(;0<se-Ae;)ne=ot(ne),se--;for(;0<Ae-se;)te=ot(te),Ae--;for(;se--;){if(ne===te||te!==null&&ne===te.alternate){ot=ne;break t}ne=ot(ne),te=ot(te)}ot=null}else ot=null;ge!==null&&lS(_e,he,ge,ot,!1),Je!==null&&Jt!==null&&lS(_e,Jt,Je,ot,!0)}}e:{if(he=ae?Fe(ae):window,ge=he.nodeName&&he.nodeName.toLowerCase(),ge==="select"||ge==="input"&&he.type==="file")var Ft=C2;else if(w2(he))if(A2)Ft=r5;else{Ft=t5;var nt=e5}else ge=he.nodeName,!ge||ge.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ae&&Bp(ae.elementType)&&(Ft=C2):Ft=n5;if(Ft&&(Ft=Ft(a,ae))){E2(_e,Ft,u,we);break e}nt&&nt(a,he,ae),a==="focusout"&&ae&&he.type==="number"&&ae.memoizedProps.value!=null&&Op(he,"number",he.value)}switch(nt=ae?Fe(ae):window,a){case"focusin":(w2(nt)||nt.contentEditable==="true")&&(Ul=nt,Wp=ae,mc=null);break;case"focusout":mc=Wp=Ul=null;break;case"mousedown":Gp=!0;break;case"contextmenu":case"mouseup":case"dragend":Gp=!1,R2(_e,u,we);break;case"selectionchange":if(s5)break;case"keydown":case"keyup":R2(_e,u,we)}var xt;if(Hp)e:{switch(a){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else Hl?b2(a,u)&&(At="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(At="onCompositionStart");At&&(x2&&u.locale!=="ko"&&(Hl||At!=="onCompositionStart"?At==="onCompositionEnd"&&Hl&&(xt=h2()):(Zs=we,Lp="value"in Zs?Zs.value:Zs.textContent,Hl=!0)),nt=pu(ae,At),0<nt.length&&(At=new m2(At,a,null,u,we),_e.push({event:At,listeners:nt}),xt?At.data=xt:(xt=S2(u),xt!==null&&(At.data=xt)))),(xt=Y_?K_(a,u):Q_(a,u))&&(At=pu(ae,"onBeforeInput"),0<At.length&&(nt=new m2("onBeforeInput","beforeinput",null,u,we),_e.push({event:nt,listeners:At}),nt.data=xt)),U5(_e,a,ae,u,we)}sS(_e,o)})}function zc(a,o,u){return{instance:a,listener:o,currentTarget:u}}function pu(a,o){for(var u=o+"Capture",p=[];a!==null;){var v=a,y=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||y===null||(v=lc(a,u),v!=null&&p.unshift(zc(a,v,y)),v=lc(a,o),v!=null&&p.push(zc(a,v,y))),a.tag===3)return p;a=a.return}return[]}function G5(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function lS(a,o,u,p,v){for(var y=o._reactName,k=[];u!==null&&u!==p;){var H=u,J=H.alternate,ae=H.stateNode;if(H=H.tag,J!==null&&J===p)break;H!==5&&H!==26&&H!==27||ae===null||(J=ae,v?(ae=lc(u,y),ae!=null&&k.unshift(zc(u,ae,J))):v||(ae=lc(u,y),ae!=null&&k.push(zc(u,ae,J)))),u=u.return}k.length!==0&&a.push({event:o,listeners:k})}var X5=/\r\n?/g,$5=/\u0000|\uFFFD/g;function oS(a){return(typeof a=="string"?a:""+a).replace(X5,`
`).replace($5,"")}function cS(a,o){return o=oS(o),oS(a)===o}function Zt(a,o,u,p,v,y){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Pl(a,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Pl(a,""+p);break;case"className":vf(a,"class",p);break;case"tabIndex":vf(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":vf(a,u,p);break;case"style":c2(a,p,y);break;case"data":if(o!=="object"){vf(a,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=bf(""+p),a.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(o!=="input"&&Zt(a,o,"name",v.name,v,null),Zt(a,o,"formEncType",v.formEncType,v,null),Zt(a,o,"formMethod",v.formMethod,v,null),Zt(a,o,"formTarget",v.formTarget,v,null)):(Zt(a,o,"encType",v.encType,v,null),Zt(a,o,"method",v.method,v,null),Zt(a,o,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=bf(""+p),a.setAttribute(u,p);break;case"onClick":p!=null&&(a.onclick=bs);break;case"onScroll":p!=null&&Et("scroll",a);break;case"onScrollEnd":p!=null&&Et("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}u=bf(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""+p):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":p===!0?a.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,p):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(u,p):a.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(u):a.setAttribute(u,p);break;case"popover":Et("beforetoggle",a),Et("toggle",a),Rr(a,"popover",p);break;case"xlinkActuate":ys(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ys(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ys(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ys(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ys(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ys(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ys(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ys(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ys(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Rr(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=w_.get(u)||u,Rr(a,u,p))}}function xg(a,o,u,p,v,y){switch(u){case"style":c2(a,p,y);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof p=="string"?Pl(a,p):(typeof p=="number"||typeof p=="bigint")&&Pl(a,""+p);break;case"onScroll":p!=null&&Et("scroll",a);break;case"onScrollEnd":p!=null&&Et("scrollend",a);break;case"onClick":p!=null&&(a.onclick=bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ln.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),y=a[X]||null,y=y!=null?y[u]:null,typeof y=="function"&&a.removeEventListener(o,y,v),typeof p=="function")){typeof y!="function"&&y!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,p,v);break e}u in a?a[u]=p:p===!0?a.setAttribute(u,""):Rr(a,u,p)}}}function ir(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",a),Et("load",a);var p=!1,v=!1,y;for(y in u)if(u.hasOwnProperty(y)){var k=u[y];if(k!=null)switch(y){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Zt(a,o,y,k,u,null)}}v&&Zt(a,o,"srcSet",u.srcSet,u,null),p&&Zt(a,o,"src",u.src,u,null);return;case"input":Et("invalid",a);var H=y=k=v=null,J=null,ae=null;for(p in u)if(u.hasOwnProperty(p)){var we=u[p];if(we!=null)switch(p){case"name":v=we;break;case"type":k=we;break;case"checked":J=we;break;case"defaultChecked":ae=we;break;case"value":y=we;break;case"defaultValue":H=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,o));break;default:Zt(a,o,p,we,u,null)}}s2(a,y,H,J,ae,k,v,!1);return;case"select":Et("invalid",a),p=k=y=null;for(v in u)if(u.hasOwnProperty(v)&&(H=u[v],H!=null))switch(v){case"value":y=H;break;case"defaultValue":k=H;break;case"multiple":p=H;default:Zt(a,o,v,H,u,null)}o=y,u=k,a.multiple=!!p,o!=null?Il(a,!!p,o,!1):u!=null&&Il(a,!!p,u,!0);return;case"textarea":Et("invalid",a),y=v=p=null;for(k in u)if(u.hasOwnProperty(k)&&(H=u[k],H!=null))switch(k){case"value":p=H;break;case"defaultValue":v=H;break;case"children":y=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:Zt(a,o,k,H,u,null)}l2(a,p,v,y);return;case"option":for(J in u)if(u.hasOwnProperty(J)&&(p=u[J],p!=null))switch(J){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Zt(a,o,J,p,u,null)}return;case"dialog":Et("beforetoggle",a),Et("toggle",a),Et("cancel",a),Et("close",a);break;case"iframe":case"object":Et("load",a);break;case"video":case"audio":for(p=0;p<jc.length;p++)Et(jc[p],a);break;case"image":Et("error",a),Et("load",a);break;case"details":Et("toggle",a);break;case"embed":case"source":case"link":Et("error",a),Et("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in u)if(u.hasOwnProperty(ae)&&(p=u[ae],p!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Zt(a,o,ae,p,u,null)}return;default:if(Bp(o)){for(we in u)u.hasOwnProperty(we)&&(p=u[we],p!==void 0&&xg(a,o,we,p,u,void 0));return}}for(H in u)u.hasOwnProperty(H)&&(p=u[H],p!=null&&Zt(a,o,H,p,u,null))}function Y5(a,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,y=null,k=null,H=null,J=null,ae=null,we=null;for(ge in u){var _e=u[ge];if(u.hasOwnProperty(ge)&&_e!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":J=_e;default:p.hasOwnProperty(ge)||Zt(a,o,ge,null,p,_e)}}for(var he in p){var ge=p[he];if(_e=u[he],p.hasOwnProperty(he)&&(ge!=null||_e!=null))switch(he){case"type":y=ge;break;case"name":v=ge;break;case"checked":ae=ge;break;case"defaultChecked":we=ge;break;case"value":k=ge;break;case"defaultValue":H=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,o));break;default:ge!==_e&&Zt(a,o,he,ge,p,_e)}}kp(a,k,H,J,ae,we,y,v);return;case"select":ge=k=H=he=null;for(y in u)if(J=u[y],u.hasOwnProperty(y)&&J!=null)switch(y){case"value":break;case"multiple":ge=J;default:p.hasOwnProperty(y)||Zt(a,o,y,null,p,J)}for(v in p)if(y=p[v],J=u[v],p.hasOwnProperty(v)&&(y!=null||J!=null))switch(v){case"value":he=y;break;case"defaultValue":H=y;break;case"multiple":k=y;default:y!==J&&Zt(a,o,v,y,p,J)}o=H,u=k,p=ge,he!=null?Il(a,!!u,he,!1):!!p!=!!u&&(o!=null?Il(a,!!u,o,!0):Il(a,!!u,u?[]:"",!1));return;case"textarea":ge=he=null;for(H in u)if(v=u[H],u.hasOwnProperty(H)&&v!=null&&!p.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Zt(a,o,H,null,p,v)}for(k in p)if(v=p[k],y=u[k],p.hasOwnProperty(k)&&(v!=null||y!=null))switch(k){case"value":he=v;break;case"defaultValue":ge=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==y&&Zt(a,o,k,v,p,y)}a2(a,he,ge);return;case"option":for(var Je in u)if(he=u[Je],u.hasOwnProperty(Je)&&he!=null&&!p.hasOwnProperty(Je))switch(Je){case"selected":a.selected=!1;break;default:Zt(a,o,Je,null,p,he)}for(J in p)if(he=p[J],ge=u[J],p.hasOwnProperty(J)&&he!==ge&&(he!=null||ge!=null))switch(J){case"selected":a.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:Zt(a,o,J,he,p,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in u)he=u[ot],u.hasOwnProperty(ot)&&he!=null&&!p.hasOwnProperty(ot)&&Zt(a,o,ot,null,p,he);for(ae in p)if(he=p[ae],ge=u[ae],p.hasOwnProperty(ae)&&he!==ge&&(he!=null||ge!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,o));break;default:Zt(a,o,ae,he,p,ge)}return;default:if(Bp(o)){for(var Jt in u)he=u[Jt],u.hasOwnProperty(Jt)&&he!==void 0&&!p.hasOwnProperty(Jt)&&xg(a,o,Jt,void 0,p,he);for(we in p)he=p[we],ge=u[we],!p.hasOwnProperty(we)||he===ge||he===void 0&&ge===void 0||xg(a,o,we,he,p,ge);return}}for(var ne in u)he=u[ne],u.hasOwnProperty(ne)&&he!=null&&!p.hasOwnProperty(ne)&&Zt(a,o,ne,null,p,he);for(_e in p)he=p[_e],ge=u[_e],!p.hasOwnProperty(_e)||he===ge||he==null&&ge==null||Zt(a,o,_e,he,p,ge)}function fS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function K5(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var v=u[p],y=v.transferSize,k=v.initiatorType,H=v.duration;if(y&&H&&fS(k)){for(k=0,H=v.responseEnd,p+=1;p<u.length;p++){var J=u[p],ae=J.startTime;if(ae>H)break;var we=J.transferSize,_e=J.initiatorType;we&&fS(_e)&&(J=J.responseEnd,k+=we*(J<H?1:(H-ae)/(J-ae)))}if(--p,o+=8*(y+k)/(v.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var vg=null,yg=null;function mu(a){return a.nodeType===9?a:a.ownerDocument}function uS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hS(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function bg(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Sg=null;function Q5(){var a=window.event;return a&&a.type==="popstate"?a===Sg?!1:(Sg=a,!0):(Sg=null,!1)}var dS=typeof setTimeout=="function"?setTimeout:void 0,Z5=typeof clearTimeout=="function"?clearTimeout:void 0,pS=typeof Promise=="function"?Promise:void 0,J5=typeof queueMicrotask=="function"?queueMicrotask:typeof pS<"u"?function(a){return pS.resolve(null).then(a).catch(eD)}:dS;function eD(a){setTimeout(function(){throw a})}function ma(a){return a==="head"}function mS(a,o){var u=o,p=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(p===0){a.removeChild(v),go(o);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")Hc(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Hc(u);for(var y=u.firstChild;y;){var k=y.nextSibling,H=y.nodeName;y[de]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&y.rel.toLowerCase()==="stylesheet"||u.removeChild(y),y=k}}else u==="body"&&Hc(a.ownerDocument.body);u=v}while(u);go(o)}function gS(a,o){var u=a;a=0;do{var p=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=p}while(u)}function wg(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":wg(u),Re(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function tD(a,o,u,p){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[de])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var y=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=wi(a.nextSibling),a===null)break}return null}function nD(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=wi(a.nextSibling),a===null))return null;return a}function xS(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=wi(a.nextSibling),a===null))return null;return a}function Eg(a){return a.data==="$?"||a.data==="$~"}function Cg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function rD(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function wi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Ag=null;function vS(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return wi(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function yS(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function bS(a,o,u){switch(o=mu(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Hc(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Re(a)}var Ei=new Map,SS=new Set;function gu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ls=re.d;re.d={f:iD,r:sD,D:aD,C:lD,L:oD,m:cD,X:uD,S:fD,M:hD};function iD(){var a=Ls.f(),o=lu();return a||o}function sD(a){var o=Ge(a);o!==null&&o.tag===5&&o.type==="form"?Py(o):Ls.r(a)}var ho=typeof document>"u"?null:document;function wS(a,o,u){var p=ho;if(p&&typeof o=="string"&&o){var v=mi(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),SS.has(v)||(SS.add(v),a={rel:a,crossOrigin:u,href:o},p.querySelector(v)===null&&(o=p.createElement("link"),ir(o,"link",a),et(o),p.head.appendChild(o)))}}function aD(a){Ls.D(a),wS("dns-prefetch",a,null)}function lD(a,o){Ls.C(a,o),wS("preconnect",a,o)}function oD(a,o,u){Ls.L(a,o,u);var p=ho;if(p&&a&&o){var v='link[rel="preload"][as="'+mi(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+mi(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+mi(u.imageSizes)+'"]')):v+='[href="'+mi(a)+'"]';var y=v;switch(o){case"style":y=po(a);break;case"script":y=mo(a)}Ei.has(y)||(a=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Ei.set(y,a),p.querySelector(v)!==null||o==="style"&&p.querySelector(Uc(y))||o==="script"&&p.querySelector(Vc(y))||(o=p.createElement("link"),ir(o,"link",a),et(o),p.head.appendChild(o)))}}function cD(a,o){Ls.m(a,o);var u=ho;if(u&&a){var p=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+mi(p)+'"][href="'+mi(a)+'"]',y=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=mo(a)}if(!Ei.has(y)&&(a=m({rel:"modulepreload",href:a},o),Ei.set(y,a),u.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Vc(y)))return}p=u.createElement("link"),ir(p,"link",a),et(p),u.head.appendChild(p)}}}function fD(a,o,u){Ls.S(a,o,u);var p=ho;if(p&&a){var v=Ve(p).hoistableStyles,y=po(a);o=o||"default";var k=v.get(y);if(!k){var H={loading:0,preload:null};if(k=p.querySelector(Uc(y)))H.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Ei.get(y))&&Tg(a,u);var J=k=p.createElement("link");et(J),ir(J,"link",a),J._p=new Promise(function(ae,we){J.onload=ae,J.onerror=we}),J.addEventListener("load",function(){H.loading|=1}),J.addEventListener("error",function(){H.loading|=2}),H.loading|=4,xu(k,o,p)}k={type:"stylesheet",instance:k,count:1,state:H},v.set(y,k)}}}function uD(a,o){Ls.X(a,o);var u=ho;if(u&&a){var p=Ve(u).hoistableScripts,v=mo(a),y=p.get(v);y||(y=u.querySelector(Vc(v)),y||(a=m({src:a,async:!0},o),(o=Ei.get(v))&&_g(a,o),y=u.createElement("script"),et(y),ir(y,"link",a),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},p.set(v,y))}}function hD(a,o){Ls.M(a,o);var u=ho;if(u&&a){var p=Ve(u).hoistableScripts,v=mo(a),y=p.get(v);y||(y=u.querySelector(Vc(v)),y||(a=m({src:a,async:!0,type:"module"},o),(o=Ei.get(v))&&_g(a,o),y=u.createElement("script"),et(y),ir(y,"link",a),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},p.set(v,y))}}function ES(a,o,u,p){var v=(v=ee.current)?gu(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=po(u.href),u=Ve(v).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=po(u.href);var y=Ve(v).hoistableStyles,k=y.get(a);if(k||(v=v.ownerDocument||v,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,k),(y=v.querySelector(Uc(a)))&&!y._p&&(k.instance=y,k.state.loading=5),Ei.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ei.set(a,u),y||dD(v,a,u,k.state))),o&&p===null)throw Error(r(528,""));return k}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=mo(u),u=Ve(v).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function po(a){return'href="'+mi(a)+'"'}function Uc(a){return'link[rel="stylesheet"]['+a+"]"}function CS(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function dD(a,o,u,p){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=a.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),ir(o,"link",u),et(o),a.head.appendChild(o))}function mo(a){return'[src="'+mi(a)+'"]'}function Vc(a){return"script[async]"+a}function AS(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=a.querySelector('style[data-href~="'+mi(u.href)+'"]');if(p)return o.instance=p,et(p),p;var v=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),et(p),ir(p,"style",v),xu(p,u.precedence,a),o.instance=p;case"stylesheet":v=po(u.href);var y=a.querySelector(Uc(v));if(y)return o.state.loading|=4,o.instance=y,et(y),y;p=CS(u),(v=Ei.get(v))&&Tg(p,v),y=(a.ownerDocument||a).createElement("link"),et(y);var k=y;return k._p=new Promise(function(H,J){k.onload=H,k.onerror=J}),ir(y,"link",p),o.state.loading|=4,xu(y,u.precedence,a),o.instance=y;case"script":return y=mo(u.src),(v=a.querySelector(Vc(y)))?(o.instance=v,et(v),v):(p=u,(v=Ei.get(y))&&(p=m({},u),_g(p,v)),a=a.ownerDocument||a,v=a.createElement("script"),et(v),ir(v,"link",p),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,xu(p,u.precedence,a));return o.instance}function xu(a,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,y=v,k=0;k<p.length;k++){var H=p[k];if(H.dataset.precedence===o)y=H;else if(y!==v)break}y?y.parentNode.insertBefore(a,y.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Tg(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function _g(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var vu=null;function TS(a,o,u){if(vu===null){var p=new Map,v=vu=new Map;v.set(u,p)}else v=vu,p=v.get(u),p||(p=new Map,v.set(u,p));if(p.has(a))return p;for(p.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var y=u[v];if(!(y[de]||y[V]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var k=y.getAttribute(o)||"";k=a+k;var H=p.get(k);H?H.push(y):p.set(k,[y])}}return p}function _S(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function pD(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function DS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function mD(a,o,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=po(p.href),y=o.querySelector(Uc(v));if(y){o=y._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=yu.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=y,et(y);return}y=o.ownerDocument||o,p=CS(p),(v=Ei.get(v))&&Tg(p,v),y=y.createElement("link"),et(y);var k=y;k._p=new Promise(function(H,J){k.onload=H,k.onerror=J}),ir(y,"link",p),u.instance=y}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=yu.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Dg=0;function gD(a,o){return a.stylesheets&&a.count===0&&Su(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var p=setTimeout(function(){if(a.stylesheets&&Su(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4+o);0<a.imgBytes&&Dg===0&&(Dg=62500*K5());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Su(a,a.stylesheets),a.unsuspend)){var y=a.unsuspend;a.unsuspend=null,y()}},(a.imgBytes>Dg?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(v)}}:null}function yu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Su(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var bu=null;function Su(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,bu=new Map,o.forEach(xD,a),bu=null,yu.call(a))}function xD(a,o){if(!(o.state.loading&4)){var u=bu.get(a);if(u)var p=u.get(null);else{u=new Map,bu.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<v.length;y++){var k=v[y];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),p=k)}p&&u.set(null,p)}v=o.instance,k=v.getAttribute("data-precedence"),y=u.get(k)||p,y===p&&u.set(null,v),u.set(k,v),this.count++,p=yu.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),y?y.parentNode.insertBefore(v,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var qc={$$typeof:C,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function vD(a,o,u,p,v,y,k,H,J){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tt(0),this.hiddenUpdates=tt(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=y,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function kS(a,o,u,p,v,y,k,H,J,ae,we,_e){return a=new vD(a,o,u,k,J,ae,we,_e,H),o=1,y===!0&&(o|=24),y=Kr(3,null,null,o),a.current=y,y.stateNode=a,o=lm(),o.refCount++,a.pooledCache=o,o.refCount++,y.memoizedState={element:p,isDehydrated:u,cache:o},um(y),a}function OS(a){return a?(a=Wl,a):Wl}function BS(a,o,u,p,v,y){v=OS(v),p.context===null?p.context=v:p.pendingContext=v,p=ia(o),p.payload={element:u},y=y===void 0?null:y,y!==null&&(p.callback=y),u=sa(a,p,o),u!==null&&(jr(u,a,o),wc(u,a,o))}function NS(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function kg(a,o){NS(a,o),(a=a.alternate)&&NS(a,o)}function RS(a){if(a.tag===13||a.tag===31){var o=$a(a,67108864);o!==null&&jr(o,a,67108864),kg(a,67108864)}}function FS(a){if(a.tag===13||a.tag===31){var o=ti();o=Tn(o);var u=$a(a,o);u!==null&&jr(u,a,o),kg(a,o)}}var wu=!0;function yD(a,o,u,p){var v=Z.T;Z.T=null;var y=re.p;try{re.p=2,Og(a,o,u,p)}finally{re.p=y,Z.T=v}}function bD(a,o,u,p){var v=Z.T;Z.T=null;var y=re.p;try{re.p=8,Og(a,o,u,p)}finally{re.p=y,Z.T=v}}function Og(a,o,u,p){if(wu){var v=Bg(p);if(v===null)gg(a,o,p,Eu,u),LS(a,p);else if(wD(v,a,o,u,p))p.stopPropagation();else if(LS(a,p),o&4&&-1<SD.indexOf(a)){for(;v!==null;){var y=Ge(v);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var k=Ht(y.pendingLanes);if(k!==0){var H=y;for(H.pendingLanes|=2,H.entangledLanes|=2;k;){var J=1<<31-yn(k);H.entanglements[1]|=J,k&=~J}ns(y),(Pt&6)===0&&(su=fe()+500,Pc(0))}}break;case 31:case 13:H=$a(y,2),H!==null&&jr(H,y,2),lu(),kg(y,2)}if(y=Bg(p),y===null&&gg(a,o,p,Eu,u),y===v)break;v=y}v!==null&&p.stopPropagation()}else gg(a,o,p,null,u)}}function Bg(a){return a=Rp(a),Ng(a)}var Eu=null;function Ng(a){if(Eu=null,a=je(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Eu=a,null}function MS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case ke:return 2;case rt:return 8;case bt:case Yt:return 32;case ft:return 268435456;default:return 32}default:return 32}}var Rg=!1,ga=null,xa=null,va=null,Wc=new Map,Gc=new Map,ya=[],SD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LS(a,o){switch(a){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":Wc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(o.pointerId)}}function Xc(a,o,u,p,v,y){return a===null||a.nativeEvent!==y?(a={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:y,targetContainers:[v]},o!==null&&(o=Ge(o),o!==null&&RS(o)),a):(a.eventSystemFlags|=p,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function wD(a,o,u,p,v){switch(o){case"focusin":return ga=Xc(ga,a,o,u,p,v),!0;case"dragenter":return xa=Xc(xa,a,o,u,p,v),!0;case"mouseover":return va=Xc(va,a,o,u,p,v),!0;case"pointerover":var y=v.pointerId;return Wc.set(y,Xc(Wc.get(y)||null,a,o,u,p,v)),!0;case"gotpointercapture":return y=v.pointerId,Gc.set(y,Xc(Gc.get(y)||null,a,o,u,p,v)),!0}return!1}function IS(a){var o=je(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,G(a.priority,function(){FS(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,G(a.priority,function(){FS(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Cu(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Bg(a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);Np=p,u.target.dispatchEvent(p),Np=null}else return o=Ge(u),o!==null&&RS(o),a.blockedOn=u,!1;o.shift()}return!0}function PS(a,o,u){Cu(a)&&u.delete(o)}function ED(){Rg=!1,ga!==null&&Cu(ga)&&(ga=null),xa!==null&&Cu(xa)&&(xa=null),va!==null&&Cu(va)&&(va=null),Wc.forEach(PS),Gc.forEach(PS)}function Au(a,o){a.blockedOn===o&&(a.blockedOn=null,Rg||(Rg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ED)))}var Tu=null;function jS(a){Tu!==a&&(Tu=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Tu===a&&(Tu=null);for(var o=0;o<a.length;o+=3){var u=a[o],p=a[o+1],v=a[o+2];if(typeof p!="function"){if(Ng(p||u)===null)continue;break}var y=Ge(u);y!==null&&(a.splice(o,3),o-=3,Bm(y,{pending:!0,data:v,method:u.method,action:p},p,v))}}))}function go(a){function o(J){return Au(J,a)}ga!==null&&Au(ga,a),xa!==null&&Au(xa,a),va!==null&&Au(va,a),Wc.forEach(o),Gc.forEach(o);for(var u=0;u<ya.length;u++){var p=ya[u];p.blockedOn===a&&(p.blockedOn=null)}for(;0<ya.length&&(u=ya[0],u.blockedOn===null);)IS(u),u.blockedOn===null&&ya.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var v=u[p],y=u[p+1],k=v[X]||null;if(typeof y=="function")k||jS(u);else if(k){var H=null;if(y&&y.hasAttribute("formAction")){if(v=y,k=y[X]||null)H=k.formAction;else if(Ng(v)!==null)continue}else H=k.action;typeof H=="function"?u[p+1]=H:(u.splice(p,3),p-=3),jS(u)}}}function zS(){function a(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(k){return v=k})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Fg(a){this._internalRoot=a}_u.prototype.render=Fg.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,p=ti();BS(u,p,a,o,null,null)},_u.prototype.unmount=Fg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;BS(a.current,2,null,a,null,null),lu(),o[Y]=null}};function _u(a){this._internalRoot=a}_u.prototype.unstable_scheduleHydration=function(a){if(a){var o=F();a={blockedOn:null,target:a,priority:o};for(var u=0;u<ya.length&&o!==0&&o<ya[u].priority;u++);ya.splice(u,0,a),u===0&&IS(a)}};var HS=e.version;if(HS!=="19.2.0")throw Error(r(527,HS,"19.2.0"));re.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var CD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{Br=Du.inject(CD),bn=Du}catch{}}return Yc.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,p="",v=$y,y=Yy,k=Ky;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),o=kS(a,1,!1,null,null,u,p,null,v,y,k,zS),a[Y]=o.current,mg(a),new Fg(o)},Yc.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var p=!1,v="",y=$y,k=Yy,H=Ky,J=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(H=u.onRecoverableError),u.formState!==void 0&&(J=u.formState)),o=kS(a,1,!0,o,u??null,p,v,J,y,k,H,zS),o.context=OS(null),u=o.current,p=ti(),p=Tn(p),v=ia(p),v.callback=null,sa(u,v,p),u=p,o.current.lanes=u,Ze(o,u),ns(o),a[Y]=o.current,mg(a),new _u(o)},Yc.version="19.2.0",Yc}var QS;function FD(){if(QS)return Ig.exports;QS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ig.exports=RD(),Ig.exports}var MD=FD();const LD="/assets/hap_full_logo-Dpsngzvu.jpg";var fh={exports:{}};function ID(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uh={exports:{}};const PD={},jD=Object.freeze(Object.defineProperty({__proto__:null,default:PD},Symbol.toStringTag,{value:"Module"})),zD=TD(jD);var HD=uh.exports,ZS;function kt(){return ZS||(ZS=1,(function(n,e){(function(t,r){n.exports=r()})(HD,function(){var t=t||(function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof ml<"u"&&ml.crypto&&(s=ml.crypto),!s&&typeof ID=="function")try{s=zD}catch{}var l=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||(function(){function A(){}return function(C){var _;return A.prototype=C,_=new A,A.prototype=null,_}})(),f={},h=f.lib={},d=h.Base=(function(){return{extend:function(A){var C=c(this);return A&&C.mixIn(A),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var A=this.extend();return A.init.apply(A,arguments),A},init:function(){},mixIn:function(A){for(var C in A)A.hasOwnProperty(C)&&(this[C]=A[C]);A.hasOwnProperty("toString")&&(this.toString=A.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),m=h.WordArray=d.extend({init:function(A,C){A=this.words=A||[],C!=i?this.sigBytes=C:this.sigBytes=A.length*4},toString:function(A){return(A||x).stringify(this)},concat:function(A){var C=this.words,_=A.words,B=this.sigBytes,N=A.sigBytes;if(this.clamp(),B%4)for(var O=0;O<N;O++){var z=_[O>>>2]>>>24-O%4*8&255;C[B+O>>>2]|=z<<24-(B+O)%4*8}else for(var R=0;R<N;R+=4)C[B+R>>>2]=_[R>>>2];return this.sigBytes+=N,this},clamp:function(){var A=this.words,C=this.sigBytes;A[C>>>2]&=4294967295<<32-C%4*8,A.length=r.ceil(C/4)},clone:function(){var A=d.clone.call(this);return A.words=this.words.slice(0),A},random:function(A){for(var C=[],_=0;_<A;_+=4)C.push(l());return new m.init(C,A)}}),g=f.enc={},x=g.Hex={stringify:function(A){for(var C=A.words,_=A.sigBytes,B=[],N=0;N<_;N++){var O=C[N>>>2]>>>24-N%4*8&255;B.push((O>>>4).toString(16)),B.push((O&15).toString(16))}return B.join("")},parse:function(A){for(var C=A.length,_=[],B=0;B<C;B+=2)_[B>>>3]|=parseInt(A.substr(B,2),16)<<24-B%8*4;return new m.init(_,C/2)}},S=g.Latin1={stringify:function(A){for(var C=A.words,_=A.sigBytes,B=[],N=0;N<_;N++){var O=C[N>>>2]>>>24-N%4*8&255;B.push(String.fromCharCode(O))}return B.join("")},parse:function(A){for(var C=A.length,_=[],B=0;B<C;B++)_[B>>>2]|=(A.charCodeAt(B)&255)<<24-B%4*8;return new m.init(_,C)}},b=g.Utf8={stringify:function(A){try{return decodeURIComponent(escape(S.stringify(A)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(A){return S.parse(unescape(encodeURIComponent(A)))}},w=h.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new m.init,this._nDataBytes=0},_append:function(A){typeof A=="string"&&(A=b.parse(A)),this._data.concat(A),this._nDataBytes+=A.sigBytes},_process:function(A){var C,_=this._data,B=_.words,N=_.sigBytes,O=this.blockSize,z=O*4,R=N/z;A?R=r.ceil(R):R=r.max((R|0)-this._minBufferSize,0);var I=R*O,P=r.min(I*4,N);if(I){for(var q=0;q<I;q+=O)this._doProcessBlock(B,q);C=B.splice(0,I),_.sigBytes-=P}return new m.init(C,P)},clone:function(){var A=d.clone.call(this);return A._data=this._data.clone(),A},_minBufferSize:0});h.Hasher=w.extend({cfg:d.extend(),init:function(A){this.cfg=this.cfg.extend(A),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(A){return this._append(A),this._process(),this},finalize:function(A){A&&this._append(A);var C=this._doFinalize();return C},blockSize:16,_createHelper:function(A){return function(C,_){return new A.init(_).finalize(C)}},_createHmacHelper:function(A){return function(C,_){return new T.HMAC.init(A,_).finalize(C)}}});var T=f.algo={};return f})(Math);return t})})(uh)),uh.exports}var hh={exports:{}},UD=hh.exports,JS;function ep(){return JS||(JS=1,(function(n,e){(function(t,r){n.exports=r(kt())})(UD,function(t){return(function(r){var i=t,s=i.lib,l=s.Base,c=s.WordArray,f=i.x64={};f.Word=l.extend({init:function(h,d){this.high=h,this.low=d}}),f.WordArray=l.extend({init:function(h,d){h=this.words=h||[],d!=r?this.sigBytes=d:this.sigBytes=h.length*8},toX32:function(){for(var h=this.words,d=h.length,m=[],g=0;g<d;g++){var x=h[g];m.push(x.high),m.push(x.low)}return c.create(m,this.sigBytes)},clone:function(){for(var h=l.clone.call(this),d=h.words=this.words.slice(0),m=d.length,g=0;g<m;g++)d[g]=d[g].clone();return h}})})(),t})})(hh)),hh.exports}var dh={exports:{}},VD=dh.exports,e4;function qD(){return e4||(e4=1,(function(n,e){(function(t,r){n.exports=r(kt())})(VD,function(t){return(function(){if(typeof ArrayBuffer=="function"){var r=t,i=r.lib,s=i.WordArray,l=s.init,c=s.init=function(f){if(f instanceof ArrayBuffer&&(f=new Uint8Array(f)),(f instanceof Int8Array||typeof Uint8ClampedArray<"u"&&f instanceof Uint8ClampedArray||f instanceof Int16Array||f instanceof Uint16Array||f instanceof Int32Array||f instanceof Uint32Array||f instanceof Float32Array||f instanceof Float64Array)&&(f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength)),f instanceof Uint8Array){for(var h=f.byteLength,d=[],m=0;m<h;m++)d[m>>>2]|=f[m]<<24-m%4*8;l.call(this,d,h)}else l.apply(this,arguments)};c.prototype=s}})(),t.lib.WordArray})})(dh)),dh.exports}var ph={exports:{}},WD=ph.exports,t4;function GD(){return t4||(t4=1,(function(n,e){(function(t,r){n.exports=r(kt())})(WD,function(t){return(function(){var r=t,i=r.lib,s=i.WordArray,l=r.enc;l.Utf16=l.Utf16BE={stringify:function(f){for(var h=f.words,d=f.sigBytes,m=[],g=0;g<d;g+=2){var x=h[g>>>2]>>>16-g%4*8&65535;m.push(String.fromCharCode(x))}return m.join("")},parse:function(f){for(var h=f.length,d=[],m=0;m<h;m++)d[m>>>1]|=f.charCodeAt(m)<<16-m%2*16;return s.create(d,h*2)}},l.Utf16LE={stringify:function(f){for(var h=f.words,d=f.sigBytes,m=[],g=0;g<d;g+=2){var x=c(h[g>>>2]>>>16-g%4*8&65535);m.push(String.fromCharCode(x))}return m.join("")},parse:function(f){for(var h=f.length,d=[],m=0;m<h;m++)d[m>>>1]|=c(f.charCodeAt(m)<<16-m%2*16);return s.create(d,h*2)}};function c(f){return f<<8&4278255360|f>>>8&16711935}})(),t.enc.Utf16})})(ph)),ph.exports}var mh={exports:{}},XD=mh.exports,n4;function kl(){return n4||(n4=1,(function(n,e){(function(t,r){n.exports=r(kt())})(XD,function(t){return(function(){var r=t,i=r.lib,s=i.WordArray,l=r.enc;l.Base64={stringify:function(f){var h=f.words,d=f.sigBytes,m=this._map;f.clamp();for(var g=[],x=0;x<d;x+=3)for(var S=h[x>>>2]>>>24-x%4*8&255,b=h[x+1>>>2]>>>24-(x+1)%4*8&255,w=h[x+2>>>2]>>>24-(x+2)%4*8&255,T=S<<16|b<<8|w,A=0;A<4&&x+A*.75<d;A++)g.push(m.charAt(T>>>6*(3-A)&63));var C=m.charAt(64);if(C)for(;g.length%4;)g.push(C);return g.join("")},parse:function(f){var h=f.length,d=this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var g=0;g<d.length;g++)m[d.charCodeAt(g)]=g}var x=d.charAt(64);if(x){var S=f.indexOf(x);S!==-1&&(h=S)}return c(f,h,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(f,h,d){for(var m=[],g=0,x=0;x<h;x++)if(x%4){var S=d[f.charCodeAt(x-1)]<<x%4*2,b=d[f.charCodeAt(x)]>>>6-x%4*2,w=S|b;m[g>>>2]|=w<<24-g%4*8,g++}return s.create(m,g)}})(),t.enc.Base64})})(mh)),mh.exports}var gh={exports:{}},$D=gh.exports,r4;function YD(){return r4||(r4=1,(function(n,e){(function(t,r){n.exports=r(kt())})($D,function(t){return(function(){var r=t,i=r.lib,s=i.WordArray,l=r.enc;l.Base64url={stringify:function(f,h){h===void 0&&(h=!0);var d=f.words,m=f.sigBytes,g=h?this._safe_map:this._map;f.clamp();for(var x=[],S=0;S<m;S+=3)for(var b=d[S>>>2]>>>24-S%4*8&255,w=d[S+1>>>2]>>>24-(S+1)%4*8&255,T=d[S+2>>>2]>>>24-(S+2)%4*8&255,A=b<<16|w<<8|T,C=0;C<4&&S+C*.75<m;C++)x.push(g.charAt(A>>>6*(3-C)&63));var _=g.charAt(64);if(_)for(;x.length%4;)x.push(_);return x.join("")},parse:function(f,h){h===void 0&&(h=!0);var d=f.length,m=h?this._safe_map:this._map,g=this._reverseMap;if(!g){g=this._reverseMap=[];for(var x=0;x<m.length;x++)g[m.charCodeAt(x)]=x}var S=m.charAt(64);if(S){var b=f.indexOf(S);b!==-1&&(d=b)}return c(f,d,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(f,h,d){for(var m=[],g=0,x=0;x<h;x++)if(x%4){var S=d[f.charCodeAt(x-1)]<<x%4*2,b=d[f.charCodeAt(x)]>>>6-x%4*2,w=S|b;m[g>>>2]|=w<<24-g%4*8,g++}return s.create(m,g)}})(),t.enc.Base64url})})(gh)),gh.exports}var xh={exports:{}},KD=xh.exports,i4;function Ol(){return i4||(i4=1,(function(n,e){(function(t,r){n.exports=r(kt())})(KD,function(t){return(function(r){var i=t,s=i.lib,l=s.WordArray,c=s.Hasher,f=i.algo,h=[];(function(){for(var b=0;b<64;b++)h[b]=r.abs(r.sin(b+1))*4294967296|0})();var d=f.MD5=c.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(b,w){for(var T=0;T<16;T++){var A=w+T,C=b[A];b[A]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}var _=this._hash.words,B=b[w+0],N=b[w+1],O=b[w+2],z=b[w+3],R=b[w+4],I=b[w+5],P=b[w+6],q=b[w+7],K=b[w+8],ie=b[w+9],ce=b[w+10],Z=b[w+11],re=b[w+12],xe=b[w+13],Ee=b[w+14],Oe=b[w+15],j=_[0],D=_[1],M=_[2],L=_[3];j=m(j,D,M,L,B,7,h[0]),L=m(L,j,D,M,N,12,h[1]),M=m(M,L,j,D,O,17,h[2]),D=m(D,M,L,j,z,22,h[3]),j=m(j,D,M,L,R,7,h[4]),L=m(L,j,D,M,I,12,h[5]),M=m(M,L,j,D,P,17,h[6]),D=m(D,M,L,j,q,22,h[7]),j=m(j,D,M,L,K,7,h[8]),L=m(L,j,D,M,ie,12,h[9]),M=m(M,L,j,D,ce,17,h[10]),D=m(D,M,L,j,Z,22,h[11]),j=m(j,D,M,L,re,7,h[12]),L=m(L,j,D,M,xe,12,h[13]),M=m(M,L,j,D,Ee,17,h[14]),D=m(D,M,L,j,Oe,22,h[15]),j=g(j,D,M,L,N,5,h[16]),L=g(L,j,D,M,P,9,h[17]),M=g(M,L,j,D,Z,14,h[18]),D=g(D,M,L,j,B,20,h[19]),j=g(j,D,M,L,I,5,h[20]),L=g(L,j,D,M,ce,9,h[21]),M=g(M,L,j,D,Oe,14,h[22]),D=g(D,M,L,j,R,20,h[23]),j=g(j,D,M,L,ie,5,h[24]),L=g(L,j,D,M,Ee,9,h[25]),M=g(M,L,j,D,z,14,h[26]),D=g(D,M,L,j,K,20,h[27]),j=g(j,D,M,L,xe,5,h[28]),L=g(L,j,D,M,O,9,h[29]),M=g(M,L,j,D,q,14,h[30]),D=g(D,M,L,j,re,20,h[31]),j=x(j,D,M,L,I,4,h[32]),L=x(L,j,D,M,K,11,h[33]),M=x(M,L,j,D,Z,16,h[34]),D=x(D,M,L,j,Ee,23,h[35]),j=x(j,D,M,L,N,4,h[36]),L=x(L,j,D,M,R,11,h[37]),M=x(M,L,j,D,q,16,h[38]),D=x(D,M,L,j,ce,23,h[39]),j=x(j,D,M,L,xe,4,h[40]),L=x(L,j,D,M,B,11,h[41]),M=x(M,L,j,D,z,16,h[42]),D=x(D,M,L,j,P,23,h[43]),j=x(j,D,M,L,ie,4,h[44]),L=x(L,j,D,M,re,11,h[45]),M=x(M,L,j,D,Oe,16,h[46]),D=x(D,M,L,j,O,23,h[47]),j=S(j,D,M,L,B,6,h[48]),L=S(L,j,D,M,q,10,h[49]),M=S(M,L,j,D,Ee,15,h[50]),D=S(D,M,L,j,I,21,h[51]),j=S(j,D,M,L,re,6,h[52]),L=S(L,j,D,M,z,10,h[53]),M=S(M,L,j,D,ce,15,h[54]),D=S(D,M,L,j,N,21,h[55]),j=S(j,D,M,L,K,6,h[56]),L=S(L,j,D,M,Oe,10,h[57]),M=S(M,L,j,D,P,15,h[58]),D=S(D,M,L,j,xe,21,h[59]),j=S(j,D,M,L,R,6,h[60]),L=S(L,j,D,M,Z,10,h[61]),M=S(M,L,j,D,O,15,h[62]),D=S(D,M,L,j,ie,21,h[63]),_[0]=_[0]+j|0,_[1]=_[1]+D|0,_[2]=_[2]+M|0,_[3]=_[3]+L|0},_doFinalize:function(){var b=this._data,w=b.words,T=this._nDataBytes*8,A=b.sigBytes*8;w[A>>>5]|=128<<24-A%32;var C=r.floor(T/4294967296),_=T;w[(A+64>>>9<<4)+15]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,w[(A+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,b.sigBytes=(w.length+1)*4,this._process();for(var B=this._hash,N=B.words,O=0;O<4;O++){var z=N[O];N[O]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360}return B},clone:function(){var b=c.clone.call(this);return b._hash=this._hash.clone(),b}});function m(b,w,T,A,C,_,B){var N=b+(w&T|~w&A)+C+B;return(N<<_|N>>>32-_)+w}function g(b,w,T,A,C,_,B){var N=b+(w&A|T&~A)+C+B;return(N<<_|N>>>32-_)+w}function x(b,w,T,A,C,_,B){var N=b+(w^T^A)+C+B;return(N<<_|N>>>32-_)+w}function S(b,w,T,A,C,_,B){var N=b+(T^(w|~A))+C+B;return(N<<_|N>>>32-_)+w}i.MD5=c._createHelper(d),i.HmacMD5=c._createHmacHelper(d)})(Math),t.MD5})})(xh)),xh.exports}var vh={exports:{}},QD=vh.exports,s4;function KC(){return s4||(s4=1,(function(n,e){(function(t,r){n.exports=r(kt())})(QD,function(t){return(function(){var r=t,i=r.lib,s=i.WordArray,l=i.Hasher,c=r.algo,f=[],h=c.SHA1=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,m){for(var g=this._hash.words,x=g[0],S=g[1],b=g[2],w=g[3],T=g[4],A=0;A<80;A++){if(A<16)f[A]=d[m+A]|0;else{var C=f[A-3]^f[A-8]^f[A-14]^f[A-16];f[A]=C<<1|C>>>31}var _=(x<<5|x>>>27)+T+f[A];A<20?_+=(S&b|~S&w)+1518500249:A<40?_+=(S^b^w)+1859775393:A<60?_+=(S&b|S&w|b&w)-1894007588:_+=(S^b^w)-899497514,T=w,w=b,b=S<<30|S>>>2,S=x,x=_}g[0]=g[0]+x|0,g[1]=g[1]+S|0,g[2]=g[2]+b|0,g[3]=g[3]+w|0,g[4]=g[4]+T|0},_doFinalize:function(){var d=this._data,m=d.words,g=this._nDataBytes*8,x=d.sigBytes*8;return m[x>>>5]|=128<<24-x%32,m[(x+64>>>9<<4)+14]=Math.floor(g/4294967296),m[(x+64>>>9<<4)+15]=g,d.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var d=l.clone.call(this);return d._hash=this._hash.clone(),d}});r.SHA1=l._createHelper(h),r.HmacSHA1=l._createHmacHelper(h)})(),t.SHA1})})(vh)),vh.exports}var yh={exports:{}},ZD=yh.exports,a4;function W1(){return a4||(a4=1,(function(n,e){(function(t,r){n.exports=r(kt())})(ZD,function(t){return(function(r){var i=t,s=i.lib,l=s.WordArray,c=s.Hasher,f=i.algo,h=[],d=[];(function(){function x(T){for(var A=r.sqrt(T),C=2;C<=A;C++)if(!(T%C))return!1;return!0}function S(T){return(T-(T|0))*4294967296|0}for(var b=2,w=0;w<64;)x(b)&&(w<8&&(h[w]=S(r.pow(b,1/2))),d[w]=S(r.pow(b,1/3)),w++),b++})();var m=[],g=f.SHA256=c.extend({_doReset:function(){this._hash=new l.init(h.slice(0))},_doProcessBlock:function(x,S){for(var b=this._hash.words,w=b[0],T=b[1],A=b[2],C=b[3],_=b[4],B=b[5],N=b[6],O=b[7],z=0;z<64;z++){if(z<16)m[z]=x[S+z]|0;else{var R=m[z-15],I=(R<<25|R>>>7)^(R<<14|R>>>18)^R>>>3,P=m[z-2],q=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;m[z]=I+m[z-7]+q+m[z-16]}var K=_&B^~_&N,ie=w&T^w&A^T&A,ce=(w<<30|w>>>2)^(w<<19|w>>>13)^(w<<10|w>>>22),Z=(_<<26|_>>>6)^(_<<21|_>>>11)^(_<<7|_>>>25),re=O+Z+K+d[z]+m[z],xe=ce+ie;O=N,N=B,B=_,_=C+re|0,C=A,A=T,T=w,w=re+xe|0}b[0]=b[0]+w|0,b[1]=b[1]+T|0,b[2]=b[2]+A|0,b[3]=b[3]+C|0,b[4]=b[4]+_|0,b[5]=b[5]+B|0,b[6]=b[6]+N|0,b[7]=b[7]+O|0},_doFinalize:function(){var x=this._data,S=x.words,b=this._nDataBytes*8,w=x.sigBytes*8;return S[w>>>5]|=128<<24-w%32,S[(w+64>>>9<<4)+14]=r.floor(b/4294967296),S[(w+64>>>9<<4)+15]=b,x.sigBytes=S.length*4,this._process(),this._hash},clone:function(){var x=c.clone.call(this);return x._hash=this._hash.clone(),x}});i.SHA256=c._createHelper(g),i.HmacSHA256=c._createHmacHelper(g)})(Math),t.SHA256})})(yh)),yh.exports}var bh={exports:{}},JD=bh.exports,l4;function ek(){return l4||(l4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),W1())})(JD,function(t){return(function(){var r=t,i=r.lib,s=i.WordArray,l=r.algo,c=l.SHA256,f=l.SHA224=c.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var h=c._doFinalize.call(this);return h.sigBytes-=4,h}});r.SHA224=c._createHelper(f),r.HmacSHA224=c._createHmacHelper(f)})(),t.SHA224})})(bh)),bh.exports}var Sh={exports:{}},tk=Sh.exports,o4;function QC(){return o4||(o4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),ep())})(tk,function(t){return(function(){var r=t,i=r.lib,s=i.Hasher,l=r.x64,c=l.Word,f=l.WordArray,h=r.algo;function d(){return c.create.apply(c,arguments)}var m=[d(1116352408,3609767458),d(1899447441,602891725),d(3049323471,3964484399),d(3921009573,2173295548),d(961987163,4081628472),d(1508970993,3053834265),d(2453635748,2937671579),d(2870763221,3664609560),d(3624381080,2734883394),d(310598401,1164996542),d(607225278,1323610764),d(1426881987,3590304994),d(1925078388,4068182383),d(2162078206,991336113),d(2614888103,633803317),d(3248222580,3479774868),d(3835390401,2666613458),d(4022224774,944711139),d(264347078,2341262773),d(604807628,2007800933),d(770255983,1495990901),d(1249150122,1856431235),d(1555081692,3175218132),d(1996064986,2198950837),d(2554220882,3999719339),d(2821834349,766784016),d(2952996808,2566594879),d(3210313671,3203337956),d(3336571891,1034457026),d(3584528711,2466948901),d(113926993,3758326383),d(338241895,168717936),d(666307205,1188179964),d(773529912,1546045734),d(1294757372,1522805485),d(1396182291,2643833823),d(1695183700,2343527390),d(1986661051,1014477480),d(2177026350,1206759142),d(2456956037,344077627),d(2730485921,1290863460),d(2820302411,3158454273),d(3259730800,3505952657),d(3345764771,106217008),d(3516065817,3606008344),d(3600352804,1432725776),d(4094571909,1467031594),d(275423344,851169720),d(430227734,3100823752),d(506948616,1363258195),d(659060556,3750685593),d(883997877,3785050280),d(958139571,3318307427),d(1322822218,3812723403),d(1537002063,2003034995),d(1747873779,3602036899),d(1955562222,1575990012),d(2024104815,1125592928),d(2227730452,2716904306),d(2361852424,442776044),d(2428436474,593698344),d(2756734187,3733110249),d(3204031479,2999351573),d(3329325298,3815920427),d(3391569614,3928383900),d(3515267271,566280711),d(3940187606,3454069534),d(4118630271,4000239992),d(116418474,1914138554),d(174292421,2731055270),d(289380356,3203993006),d(460393269,320620315),d(685471733,587496836),d(852142971,1086792851),d(1017036298,365543100),d(1126000580,2618297676),d(1288033470,3409855158),d(1501505948,4234509866),d(1607167915,987167468),d(1816402316,1246189591)],g=[];(function(){for(var S=0;S<80;S++)g[S]=d()})();var x=h.SHA512=s.extend({_doReset:function(){this._hash=new f.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(S,b){for(var w=this._hash.words,T=w[0],A=w[1],C=w[2],_=w[3],B=w[4],N=w[5],O=w[6],z=w[7],R=T.high,I=T.low,P=A.high,q=A.low,K=C.high,ie=C.low,ce=_.high,Z=_.low,re=B.high,xe=B.low,Ee=N.high,Oe=N.low,j=O.high,D=O.low,M=z.high,L=z.low,W=R,ee=I,be=P,ve=q,Te=K,ye=ie,st=ce,Ye=Z,dt=re,We=xe,Le=Ee,Ue=Oe,Ne=j,Qe=D,ct=M,yt=L,It=0;It<80;It++){var zt,$t,fe=g[It];if(It<16)$t=fe.high=S[b+It*2]|0,zt=fe.low=S[b+It*2+1]|0;else{var Pe=g[It-15],ke=Pe.high,rt=Pe.low,bt=(ke>>>1|rt<<31)^(ke>>>8|rt<<24)^ke>>>7,Yt=(rt>>>1|ke<<31)^(rt>>>8|ke<<24)^(rt>>>7|ke<<25),ft=g[It-2],Ot=ft.high,An=ft.low,Br=(Ot>>>19|An<<13)^(Ot<<3|An>>>29)^Ot>>>6,bn=(An>>>19|Ot<<13)^(An<<3|Ot>>>29)^(An>>>6|Ot<<26),vn=g[It-7],yn=vn.high,Ki=vn.low,$r=g[It-16],Qi=$r.high,Nr=$r.low;zt=Yt+Ki,$t=bt+yn+(zt>>>0<Yt>>>0?1:0),zt=zt+bn,$t=$t+Br+(zt>>>0<bn>>>0?1:0),zt=zt+Nr,$t=$t+Qi+(zt>>>0<Nr>>>0?1:0),fe.high=$t,fe.low=zt}var hi=dt&Le^~dt&Ne,Kt=We&Ue^~We&Qe,Ht=W&be^W&Te^be&Te,dn=ee&ve^ee&ye^ve&ye,pe=(W>>>28|ee<<4)^(W<<30|ee>>>2)^(W<<25|ee>>>7),Me=(ee>>>28|W<<4)^(ee<<30|W>>>2)^(ee<<25|W>>>7),Ie=(dt>>>14|We<<18)^(dt>>>18|We<<14)^(dt<<23|We>>>9),tt=(We>>>14|dt<<18)^(We>>>18|dt<<14)^(We<<23|dt>>>9),Ze=m[It],lt=Ze.high,ht=Ze.low,ut=yt+tt,Bt=ct+Ie+(ut>>>0<yt>>>0?1:0),ut=ut+Kt,Bt=Bt+hi+(ut>>>0<Kt>>>0?1:0),ut=ut+ht,Bt=Bt+lt+(ut>>>0<ht>>>0?1:0),ut=ut+zt,Bt=Bt+$t+(ut>>>0<zt>>>0?1:0),Tn=Me+dn,Bn=pe+Ht+(Tn>>>0<Me>>>0?1:0);ct=Ne,yt=Qe,Ne=Le,Qe=Ue,Le=dt,Ue=We,We=Ye+ut|0,dt=st+Bt+(We>>>0<Ye>>>0?1:0)|0,st=Te,Ye=ye,Te=be,ye=ve,be=W,ve=ee,ee=ut+Tn|0,W=Bt+Bn+(ee>>>0<ut>>>0?1:0)|0}I=T.low=I+ee,T.high=R+W+(I>>>0<ee>>>0?1:0),q=A.low=q+ve,A.high=P+be+(q>>>0<ve>>>0?1:0),ie=C.low=ie+ye,C.high=K+Te+(ie>>>0<ye>>>0?1:0),Z=_.low=Z+Ye,_.high=ce+st+(Z>>>0<Ye>>>0?1:0),xe=B.low=xe+We,B.high=re+dt+(xe>>>0<We>>>0?1:0),Oe=N.low=Oe+Ue,N.high=Ee+Le+(Oe>>>0<Ue>>>0?1:0),D=O.low=D+Qe,O.high=j+Ne+(D>>>0<Qe>>>0?1:0),L=z.low=L+yt,z.high=M+ct+(L>>>0<yt>>>0?1:0)},_doFinalize:function(){var S=this._data,b=S.words,w=this._nDataBytes*8,T=S.sigBytes*8;b[T>>>5]|=128<<24-T%32,b[(T+128>>>10<<5)+30]=Math.floor(w/4294967296),b[(T+128>>>10<<5)+31]=w,S.sigBytes=b.length*4,this._process();var A=this._hash.toX32();return A},clone:function(){var S=s.clone.call(this);return S._hash=this._hash.clone(),S},blockSize:1024/32});r.SHA512=s._createHelper(x),r.HmacSHA512=s._createHmacHelper(x)})(),t.SHA512})})(Sh)),Sh.exports}var wh={exports:{}},nk=wh.exports,c4;function rk(){return c4||(c4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),ep(),QC())})(nk,function(t){return(function(){var r=t,i=r.x64,s=i.Word,l=i.WordArray,c=r.algo,f=c.SHA512,h=c.SHA384=f.extend({_doReset:function(){this._hash=new l.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var d=f._doFinalize.call(this);return d.sigBytes-=16,d}});r.SHA384=f._createHelper(h),r.HmacSHA384=f._createHmacHelper(h)})(),t.SHA384})})(wh)),wh.exports}var Eh={exports:{}},ik=Eh.exports,f4;function sk(){return f4||(f4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),ep())})(ik,function(t){return(function(r){var i=t,s=i.lib,l=s.WordArray,c=s.Hasher,f=i.x64,h=f.Word,d=i.algo,m=[],g=[],x=[];(function(){for(var w=1,T=0,A=0;A<24;A++){m[w+5*T]=(A+1)*(A+2)/2%64;var C=T%5,_=(2*w+3*T)%5;w=C,T=_}for(var w=0;w<5;w++)for(var T=0;T<5;T++)g[w+5*T]=T+(2*w+3*T)%5*5;for(var B=1,N=0;N<24;N++){for(var O=0,z=0,R=0;R<7;R++){if(B&1){var I=(1<<R)-1;I<32?z^=1<<I:O^=1<<I-32}B&128?B=B<<1^113:B<<=1}x[N]=h.create(O,z)}})();var S=[];(function(){for(var w=0;w<25;w++)S[w]=h.create()})();var b=d.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var w=this._state=[],T=0;T<25;T++)w[T]=new h.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(w,T){for(var A=this._state,C=this.blockSize/2,_=0;_<C;_++){var B=w[T+2*_],N=w[T+2*_+1];B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360;var O=A[_];O.high^=N,O.low^=B}for(var z=0;z<24;z++){for(var R=0;R<5;R++){for(var I=0,P=0,q=0;q<5;q++){var O=A[R+5*q];I^=O.high,P^=O.low}var K=S[R];K.high=I,K.low=P}for(var R=0;R<5;R++)for(var ie=S[(R+4)%5],ce=S[(R+1)%5],Z=ce.high,re=ce.low,I=ie.high^(Z<<1|re>>>31),P=ie.low^(re<<1|Z>>>31),q=0;q<5;q++){var O=A[R+5*q];O.high^=I,O.low^=P}for(var xe=1;xe<25;xe++){var I,P,O=A[xe],Ee=O.high,Oe=O.low,j=m[xe];j<32?(I=Ee<<j|Oe>>>32-j,P=Oe<<j|Ee>>>32-j):(I=Oe<<j-32|Ee>>>64-j,P=Ee<<j-32|Oe>>>64-j);var D=S[g[xe]];D.high=I,D.low=P}var M=S[0],L=A[0];M.high=L.high,M.low=L.low;for(var R=0;R<5;R++)for(var q=0;q<5;q++){var xe=R+5*q,O=A[xe],W=S[xe],ee=S[(R+1)%5+5*q],be=S[(R+2)%5+5*q];O.high=W.high^~ee.high&be.high,O.low=W.low^~ee.low&be.low}var O=A[0],ve=x[z];O.high^=ve.high,O.low^=ve.low}},_doFinalize:function(){var w=this._data,T=w.words;this._nDataBytes*8;var A=w.sigBytes*8,C=this.blockSize*32;T[A>>>5]|=1<<24-A%32,T[(r.ceil((A+1)/C)*C>>>5)-1]|=128,w.sigBytes=T.length*4,this._process();for(var _=this._state,B=this.cfg.outputLength/8,N=B/8,O=[],z=0;z<N;z++){var R=_[z],I=R.high,P=R.low;I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,O.push(P),O.push(I)}return new l.init(O,B)},clone:function(){for(var w=c.clone.call(this),T=w._state=this._state.slice(0),A=0;A<25;A++)T[A]=T[A].clone();return w}});i.SHA3=c._createHelper(b),i.HmacSHA3=c._createHmacHelper(b)})(Math),t.SHA3})})(Eh)),Eh.exports}var Ch={exports:{}},ak=Ch.exports,u4;function lk(){return u4||(u4=1,(function(n,e){(function(t,r){n.exports=r(kt())})(ak,function(t){return(function(r){var i=t,s=i.lib,l=s.WordArray,c=s.Hasher,f=i.algo,h=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),m=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),x=l.create([0,1518500249,1859775393,2400959708,2840853838]),S=l.create([1352829926,1548603684,1836072691,2053994217,0]),b=f.RIPEMD160=c.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(N,O){for(var z=0;z<16;z++){var R=O+z,I=N[R];N[R]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var P=this._hash.words,q=x.words,K=S.words,ie=h.words,ce=d.words,Z=m.words,re=g.words,xe,Ee,Oe,j,D,M,L,W,ee,be;M=xe=P[0],L=Ee=P[1],W=Oe=P[2],ee=j=P[3],be=D=P[4];for(var ve,z=0;z<80;z+=1)ve=xe+N[O+ie[z]]|0,z<16?ve+=w(Ee,Oe,j)+q[0]:z<32?ve+=T(Ee,Oe,j)+q[1]:z<48?ve+=A(Ee,Oe,j)+q[2]:z<64?ve+=C(Ee,Oe,j)+q[3]:ve+=_(Ee,Oe,j)+q[4],ve=ve|0,ve=B(ve,Z[z]),ve=ve+D|0,xe=D,D=j,j=B(Oe,10),Oe=Ee,Ee=ve,ve=M+N[O+ce[z]]|0,z<16?ve+=_(L,W,ee)+K[0]:z<32?ve+=C(L,W,ee)+K[1]:z<48?ve+=A(L,W,ee)+K[2]:z<64?ve+=T(L,W,ee)+K[3]:ve+=w(L,W,ee)+K[4],ve=ve|0,ve=B(ve,re[z]),ve=ve+be|0,M=be,be=ee,ee=B(W,10),W=L,L=ve;ve=P[1]+Oe+ee|0,P[1]=P[2]+j+be|0,P[2]=P[3]+D+M|0,P[3]=P[4]+xe+L|0,P[4]=P[0]+Ee+W|0,P[0]=ve},_doFinalize:function(){var N=this._data,O=N.words,z=this._nDataBytes*8,R=N.sigBytes*8;O[R>>>5]|=128<<24-R%32,O[(R+64>>>9<<4)+14]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,N.sigBytes=(O.length+1)*4,this._process();for(var I=this._hash,P=I.words,q=0;q<5;q++){var K=P[q];P[q]=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360}return I},clone:function(){var N=c.clone.call(this);return N._hash=this._hash.clone(),N}});function w(N,O,z){return N^O^z}function T(N,O,z){return N&O|~N&z}function A(N,O,z){return(N|~O)^z}function C(N,O,z){return N&z|O&~z}function _(N,O,z){return N^(O|~z)}function B(N,O){return N<<O|N>>>32-O}i.RIPEMD160=c._createHelper(b),i.HmacRIPEMD160=c._createHmacHelper(b)})(),t.RIPEMD160})})(Ch)),Ch.exports}var Ah={exports:{}},ok=Ah.exports,h4;function G1(){return h4||(h4=1,(function(n,e){(function(t,r){n.exports=r(kt())})(ok,function(t){(function(){var r=t,i=r.lib,s=i.Base,l=r.enc,c=l.Utf8,f=r.algo;f.HMAC=s.extend({init:function(h,d){h=this._hasher=new h.init,typeof d=="string"&&(d=c.parse(d));var m=h.blockSize,g=m*4;d.sigBytes>g&&(d=h.finalize(d)),d.clamp();for(var x=this._oKey=d.clone(),S=this._iKey=d.clone(),b=x.words,w=S.words,T=0;T<m;T++)b[T]^=1549556828,w[T]^=909522486;x.sigBytes=S.sigBytes=g,this.reset()},reset:function(){var h=this._hasher;h.reset(),h.update(this._iKey)},update:function(h){return this._hasher.update(h),this},finalize:function(h){var d=this._hasher,m=d.finalize(h);d.reset();var g=d.finalize(this._oKey.clone().concat(m));return g}})})()})})(Ah)),Ah.exports}var Th={exports:{}},ck=Th.exports,d4;function fk(){return d4||(d4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),W1(),G1())})(ck,function(t){return(function(){var r=t,i=r.lib,s=i.Base,l=i.WordArray,c=r.algo,f=c.SHA256,h=c.HMAC,d=c.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:f,iterations:25e4}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,g){for(var x=this.cfg,S=h.create(x.hasher,m),b=l.create(),w=l.create([1]),T=b.words,A=w.words,C=x.keySize,_=x.iterations;T.length<C;){var B=S.update(g).finalize(w);S.reset();for(var N=B.words,O=N.length,z=B,R=1;R<_;R++){z=S.finalize(z),S.reset();for(var I=z.words,P=0;P<O;P++)N[P]^=I[P]}b.concat(B),A[0]++}return b.sigBytes=C*4,b}});r.PBKDF2=function(m,g,x){return d.create(x).compute(m,g)}})(),t.PBKDF2})})(Th)),Th.exports}var _h={exports:{}},uk=_h.exports,p4;function Ha(){return p4||(p4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),KC(),G1())})(uk,function(t){return(function(){var r=t,i=r.lib,s=i.Base,l=i.WordArray,c=r.algo,f=c.MD5,h=c.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:f,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,m){for(var g,x=this.cfg,S=x.hasher.create(),b=l.create(),w=b.words,T=x.keySize,A=x.iterations;w.length<T;){g&&S.update(g),g=S.update(d).finalize(m),S.reset();for(var C=1;C<A;C++)g=S.finalize(g),S.reset();b.concat(g)}return b.sigBytes=T*4,b}});r.EvpKDF=function(d,m,g){return h.create(g).compute(d,m)}})(),t.EvpKDF})})(_h)),_h.exports}var Dh={exports:{}},hk=Dh.exports,m4;function er(){return m4||(m4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),Ha())})(hk,function(t){t.lib.Cipher||(function(r){var i=t,s=i.lib,l=s.Base,c=s.WordArray,f=s.BufferedBlockAlgorithm,h=i.enc;h.Utf8;var d=h.Base64,m=i.algo,g=m.EvpKDF,x=s.Cipher=f.extend({cfg:l.extend(),createEncryptor:function(I,P){return this.create(this._ENC_XFORM_MODE,I,P)},createDecryptor:function(I,P){return this.create(this._DEC_XFORM_MODE,I,P)},init:function(I,P,q){this.cfg=this.cfg.extend(q),this._xformMode=I,this._key=P,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(I){return this._append(I),this._process()},finalize:function(I){I&&this._append(I);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function I(P){return typeof P=="string"?R:N}return function(P){return{encrypt:function(q,K,ie){return I(K).encrypt(P,q,K,ie)},decrypt:function(q,K,ie){return I(K).decrypt(P,q,K,ie)}}}})()});s.StreamCipher=x.extend({_doFinalize:function(){var I=this._process(!0);return I},blockSize:1});var S=i.mode={},b=s.BlockCipherMode=l.extend({createEncryptor:function(I,P){return this.Encryptor.create(I,P)},createDecryptor:function(I,P){return this.Decryptor.create(I,P)},init:function(I,P){this._cipher=I,this._iv=P}}),w=S.CBC=(function(){var I=b.extend();I.Encryptor=I.extend({processBlock:function(q,K){var ie=this._cipher,ce=ie.blockSize;P.call(this,q,K,ce),ie.encryptBlock(q,K),this._prevBlock=q.slice(K,K+ce)}}),I.Decryptor=I.extend({processBlock:function(q,K){var ie=this._cipher,ce=ie.blockSize,Z=q.slice(K,K+ce);ie.decryptBlock(q,K),P.call(this,q,K,ce),this._prevBlock=Z}});function P(q,K,ie){var ce,Z=this._iv;Z?(ce=Z,this._iv=r):ce=this._prevBlock;for(var re=0;re<ie;re++)q[K+re]^=ce[re]}return I})(),T=i.pad={},A=T.Pkcs7={pad:function(I,P){for(var q=P*4,K=q-I.sigBytes%q,ie=K<<24|K<<16|K<<8|K,ce=[],Z=0;Z<K;Z+=4)ce.push(ie);var re=c.create(ce,K);I.concat(re)},unpad:function(I){var P=I.words[I.sigBytes-1>>>2]&255;I.sigBytes-=P}};s.BlockCipher=x.extend({cfg:x.cfg.extend({mode:w,padding:A}),reset:function(){var I;x.reset.call(this);var P=this.cfg,q=P.iv,K=P.mode;this._xformMode==this._ENC_XFORM_MODE?I=K.createEncryptor:(I=K.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==I?this._mode.init(this,q&&q.words):(this._mode=I.call(K,this,q&&q.words),this._mode.__creator=I)},_doProcessBlock:function(I,P){this._mode.processBlock(I,P)},_doFinalize:function(){var I,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),I=this._process(!0)):(I=this._process(!0),P.unpad(I)),I},blockSize:128/32});var C=s.CipherParams=l.extend({init:function(I){this.mixIn(I)},toString:function(I){return(I||this.formatter).stringify(this)}}),_=i.format={},B=_.OpenSSL={stringify:function(I){var P,q=I.ciphertext,K=I.salt;return K?P=c.create([1398893684,1701076831]).concat(K).concat(q):P=q,P.toString(d)},parse:function(I){var P,q=d.parse(I),K=q.words;return K[0]==1398893684&&K[1]==1701076831&&(P=c.create(K.slice(2,4)),K.splice(0,4),q.sigBytes-=16),C.create({ciphertext:q,salt:P})}},N=s.SerializableCipher=l.extend({cfg:l.extend({format:B}),encrypt:function(I,P,q,K){K=this.cfg.extend(K);var ie=I.createEncryptor(q,K),ce=ie.finalize(P),Z=ie.cfg;return C.create({ciphertext:ce,key:q,iv:Z.iv,algorithm:I,mode:Z.mode,padding:Z.padding,blockSize:I.blockSize,formatter:K.format})},decrypt:function(I,P,q,K){K=this.cfg.extend(K),P=this._parse(P,K.format);var ie=I.createDecryptor(q,K).finalize(P.ciphertext);return ie},_parse:function(I,P){return typeof I=="string"?P.parse(I,this):I}}),O=i.kdf={},z=O.OpenSSL={execute:function(I,P,q,K,ie){if(K||(K=c.random(64/8)),ie)var ce=g.create({keySize:P+q,hasher:ie}).compute(I,K);else var ce=g.create({keySize:P+q}).compute(I,K);var Z=c.create(ce.words.slice(P),q*4);return ce.sigBytes=P*4,C.create({key:ce,iv:Z,salt:K})}},R=s.PasswordBasedCipher=N.extend({cfg:N.cfg.extend({kdf:z}),encrypt:function(I,P,q,K){K=this.cfg.extend(K);var ie=K.kdf.execute(q,I.keySize,I.ivSize,K.salt,K.hasher);K.iv=ie.iv;var ce=N.encrypt.call(this,I,P,ie.key,K);return ce.mixIn(ie),ce},decrypt:function(I,P,q,K){K=this.cfg.extend(K),P=this._parse(P,K.format);var ie=K.kdf.execute(q,I.keySize,I.ivSize,P.salt,K.hasher);K.iv=ie.iv;var ce=N.decrypt.call(this,I,P,ie.key,K);return ce}})})()})})(Dh)),Dh.exports}var kh={exports:{}},dk=kh.exports,g4;function pk(){return g4||(g4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),er())})(dk,function(t){return t.mode.CFB=(function(){var r=t.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(s,l){var c=this._cipher,f=c.blockSize;i.call(this,s,l,f,c),this._prevBlock=s.slice(l,l+f)}}),r.Decryptor=r.extend({processBlock:function(s,l){var c=this._cipher,f=c.blockSize,h=s.slice(l,l+f);i.call(this,s,l,f,c),this._prevBlock=h}});function i(s,l,c,f){var h,d=this._iv;d?(h=d.slice(0),this._iv=void 0):h=this._prevBlock,f.encryptBlock(h,0);for(var m=0;m<c;m++)s[l+m]^=h[m]}return r})(),t.mode.CFB})})(kh)),kh.exports}var Oh={exports:{}},mk=Oh.exports,x4;function gk(){return x4||(x4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),er())})(mk,function(t){return t.mode.CTR=(function(){var r=t.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,l){var c=this._cipher,f=c.blockSize,h=this._iv,d=this._counter;h&&(d=this._counter=h.slice(0),this._iv=void 0);var m=d.slice(0);c.encryptBlock(m,0),d[f-1]=d[f-1]+1|0;for(var g=0;g<f;g++)s[l+g]^=m[g]}});return r.Decryptor=i,r})(),t.mode.CTR})})(Oh)),Oh.exports}var Bh={exports:{}},xk=Bh.exports,v4;function vk(){return v4||(v4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),er())})(xk,function(t){return t.mode.CTRGladman=(function(){var r=t.lib.BlockCipherMode.extend();function i(c){if((c>>24&255)===255){var f=c>>16&255,h=c>>8&255,d=c&255;f===255?(f=0,h===255?(h=0,d===255?d=0:++d):++h):++f,c=0,c+=f<<16,c+=h<<8,c+=d}else c+=1<<24;return c}function s(c){return(c[0]=i(c[0]))===0&&(c[1]=i(c[1])),c}var l=r.Encryptor=r.extend({processBlock:function(c,f){var h=this._cipher,d=h.blockSize,m=this._iv,g=this._counter;m&&(g=this._counter=m.slice(0),this._iv=void 0),s(g);var x=g.slice(0);h.encryptBlock(x,0);for(var S=0;S<d;S++)c[f+S]^=x[S]}});return r.Decryptor=l,r})(),t.mode.CTRGladman})})(Bh)),Bh.exports}var Nh={exports:{}},yk=Nh.exports,y4;function bk(){return y4||(y4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),er())})(yk,function(t){return t.mode.OFB=(function(){var r=t.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,l){var c=this._cipher,f=c.blockSize,h=this._iv,d=this._keystream;h&&(d=this._keystream=h.slice(0),this._iv=void 0),c.encryptBlock(d,0);for(var m=0;m<f;m++)s[l+m]^=d[m]}});return r.Decryptor=i,r})(),t.mode.OFB})})(Nh)),Nh.exports}var Rh={exports:{}},Sk=Rh.exports,b4;function wk(){return b4||(b4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),er())})(Sk,function(t){return t.mode.ECB=(function(){var r=t.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),r.Decryptor=r.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),r})(),t.mode.ECB})})(Rh)),Rh.exports}var Fh={exports:{}},Ek=Fh.exports,S4;function Ck(){return S4||(S4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),er())})(Ek,function(t){return t.pad.AnsiX923={pad:function(r,i){var s=r.sigBytes,l=i*4,c=l-s%l,f=s+c-1;r.clamp(),r.words[f>>>2]|=c<<24-f%4*8,r.sigBytes+=c},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},t.pad.Ansix923})})(Fh)),Fh.exports}var Mh={exports:{}},Ak=Mh.exports,w4;function Tk(){return w4||(w4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),er())})(Ak,function(t){return t.pad.Iso10126={pad:function(r,i){var s=i*4,l=s-r.sigBytes%s;r.concat(t.lib.WordArray.random(l-1)).concat(t.lib.WordArray.create([l<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},t.pad.Iso10126})})(Mh)),Mh.exports}var Lh={exports:{}},_k=Lh.exports,E4;function Dk(){return E4||(E4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),er())})(_k,function(t){return t.pad.Iso97971={pad:function(r,i){r.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(r,i)},unpad:function(r){t.pad.ZeroPadding.unpad(r),r.sigBytes--}},t.pad.Iso97971})})(Lh)),Lh.exports}var Ih={exports:{}},kk=Ih.exports,C4;function Ok(){return C4||(C4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),er())})(kk,function(t){return t.pad.ZeroPadding={pad:function(r,i){var s=i*4;r.clamp(),r.sigBytes+=s-(r.sigBytes%s||s)},unpad:function(r){for(var i=r.words,s=r.sigBytes-1,s=r.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){r.sigBytes=s+1;break}}},t.pad.ZeroPadding})})(Ih)),Ih.exports}var Ph={exports:{}},Bk=Ph.exports,A4;function Nk(){return A4||(A4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),er())})(Bk,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})})(Ph)),Ph.exports}var jh={exports:{}},Rk=jh.exports,T4;function Fk(){return T4||(T4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),er())})(Rk,function(t){return(function(r){var i=t,s=i.lib,l=s.CipherParams,c=i.enc,f=c.Hex,h=i.format;h.Hex={stringify:function(d){return d.ciphertext.toString(f)},parse:function(d){var m=f.parse(d);return l.create({ciphertext:m})}}})(),t.format.Hex})})(jh)),jh.exports}var zh={exports:{}},Mk=zh.exports,_4;function Lk(){return _4||(_4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),kl(),Ol(),Ha(),er())})(Mk,function(t){return(function(){var r=t,i=r.lib,s=i.BlockCipher,l=r.algo,c=[],f=[],h=[],d=[],m=[],g=[],x=[],S=[],b=[],w=[];(function(){for(var C=[],_=0;_<256;_++)_<128?C[_]=_<<1:C[_]=_<<1^283;for(var B=0,N=0,_=0;_<256;_++){var O=N^N<<1^N<<2^N<<3^N<<4;O=O>>>8^O&255^99,c[B]=O,f[O]=B;var z=C[B],R=C[z],I=C[R],P=C[O]*257^O*16843008;h[B]=P<<24|P>>>8,d[B]=P<<16|P>>>16,m[B]=P<<8|P>>>24,g[B]=P;var P=I*16843009^R*65537^z*257^B*16843008;x[O]=P<<24|P>>>8,S[O]=P<<16|P>>>16,b[O]=P<<8|P>>>24,w[O]=P,B?(B=z^C[C[C[I^z]]],N^=C[C[N]]):B=N=1}})();var T=[0,1,2,4,8,16,32,64,128,27,54],A=l.AES=s.extend({_doReset:function(){var C;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var _=this._keyPriorReset=this._key,B=_.words,N=_.sigBytes/4,O=this._nRounds=N+6,z=(O+1)*4,R=this._keySchedule=[],I=0;I<z;I++)I<N?R[I]=B[I]:(C=R[I-1],I%N?N>6&&I%N==4&&(C=c[C>>>24]<<24|c[C>>>16&255]<<16|c[C>>>8&255]<<8|c[C&255]):(C=C<<8|C>>>24,C=c[C>>>24]<<24|c[C>>>16&255]<<16|c[C>>>8&255]<<8|c[C&255],C^=T[I/N|0]<<24),R[I]=R[I-N]^C);for(var P=this._invKeySchedule=[],q=0;q<z;q++){var I=z-q;if(q%4)var C=R[I];else var C=R[I-4];q<4||I<=4?P[q]=C:P[q]=x[c[C>>>24]]^S[c[C>>>16&255]]^b[c[C>>>8&255]]^w[c[C&255]]}}},encryptBlock:function(C,_){this._doCryptBlock(C,_,this._keySchedule,h,d,m,g,c)},decryptBlock:function(C,_){var B=C[_+1];C[_+1]=C[_+3],C[_+3]=B,this._doCryptBlock(C,_,this._invKeySchedule,x,S,b,w,f);var B=C[_+1];C[_+1]=C[_+3],C[_+3]=B},_doCryptBlock:function(C,_,B,N,O,z,R,I){for(var P=this._nRounds,q=C[_]^B[0],K=C[_+1]^B[1],ie=C[_+2]^B[2],ce=C[_+3]^B[3],Z=4,re=1;re<P;re++){var xe=N[q>>>24]^O[K>>>16&255]^z[ie>>>8&255]^R[ce&255]^B[Z++],Ee=N[K>>>24]^O[ie>>>16&255]^z[ce>>>8&255]^R[q&255]^B[Z++],Oe=N[ie>>>24]^O[ce>>>16&255]^z[q>>>8&255]^R[K&255]^B[Z++],j=N[ce>>>24]^O[q>>>16&255]^z[K>>>8&255]^R[ie&255]^B[Z++];q=xe,K=Ee,ie=Oe,ce=j}var xe=(I[q>>>24]<<24|I[K>>>16&255]<<16|I[ie>>>8&255]<<8|I[ce&255])^B[Z++],Ee=(I[K>>>24]<<24|I[ie>>>16&255]<<16|I[ce>>>8&255]<<8|I[q&255])^B[Z++],Oe=(I[ie>>>24]<<24|I[ce>>>16&255]<<16|I[q>>>8&255]<<8|I[K&255])^B[Z++],j=(I[ce>>>24]<<24|I[q>>>16&255]<<16|I[K>>>8&255]<<8|I[ie&255])^B[Z++];C[_]=xe,C[_+1]=Ee,C[_+2]=Oe,C[_+3]=j},keySize:256/32});r.AES=s._createHelper(A)})(),t.AES})})(zh)),zh.exports}var Hh={exports:{}},Ik=Hh.exports,D4;function Pk(){return D4||(D4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),kl(),Ol(),Ha(),er())})(Ik,function(t){return(function(){var r=t,i=r.lib,s=i.WordArray,l=i.BlockCipher,c=r.algo,f=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],d=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],m=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],g=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],x=c.DES=l.extend({_doReset:function(){for(var T=this._key,A=T.words,C=[],_=0;_<56;_++){var B=f[_]-1;C[_]=A[B>>>5]>>>31-B%32&1}for(var N=this._subKeys=[],O=0;O<16;O++){for(var z=N[O]=[],R=d[O],_=0;_<24;_++)z[_/6|0]|=C[(h[_]-1+R)%28]<<31-_%6,z[4+(_/6|0)]|=C[28+(h[_+24]-1+R)%28]<<31-_%6;z[0]=z[0]<<1|z[0]>>>31;for(var _=1;_<7;_++)z[_]=z[_]>>>(_-1)*4+3;z[7]=z[7]<<5|z[7]>>>27}for(var I=this._invSubKeys=[],_=0;_<16;_++)I[_]=N[15-_]},encryptBlock:function(T,A){this._doCryptBlock(T,A,this._subKeys)},decryptBlock:function(T,A){this._doCryptBlock(T,A,this._invSubKeys)},_doCryptBlock:function(T,A,C){this._lBlock=T[A],this._rBlock=T[A+1],S.call(this,4,252645135),S.call(this,16,65535),b.call(this,2,858993459),b.call(this,8,16711935),S.call(this,1,1431655765);for(var _=0;_<16;_++){for(var B=C[_],N=this._lBlock,O=this._rBlock,z=0,R=0;R<8;R++)z|=m[R][((O^B[R])&g[R])>>>0];this._lBlock=O,this._rBlock=N^z}var I=this._lBlock;this._lBlock=this._rBlock,this._rBlock=I,S.call(this,1,1431655765),b.call(this,8,16711935),b.call(this,2,858993459),S.call(this,16,65535),S.call(this,4,252645135),T[A]=this._lBlock,T[A+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function S(T,A){var C=(this._lBlock>>>T^this._rBlock)&A;this._rBlock^=C,this._lBlock^=C<<T}function b(T,A){var C=(this._rBlock>>>T^this._lBlock)&A;this._lBlock^=C,this._rBlock^=C<<T}r.DES=l._createHelper(x);var w=c.TripleDES=l.extend({_doReset:function(){var T=this._key,A=T.words;if(A.length!==2&&A.length!==4&&A.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var C=A.slice(0,2),_=A.length<4?A.slice(0,2):A.slice(2,4),B=A.length<6?A.slice(0,2):A.slice(4,6);this._des1=x.createEncryptor(s.create(C)),this._des2=x.createEncryptor(s.create(_)),this._des3=x.createEncryptor(s.create(B))},encryptBlock:function(T,A){this._des1.encryptBlock(T,A),this._des2.decryptBlock(T,A),this._des3.encryptBlock(T,A)},decryptBlock:function(T,A){this._des3.decryptBlock(T,A),this._des2.encryptBlock(T,A),this._des1.decryptBlock(T,A)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=l._createHelper(w)})(),t.TripleDES})})(Hh)),Hh.exports}var Uh={exports:{}},jk=Uh.exports,k4;function zk(){return k4||(k4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),kl(),Ol(),Ha(),er())})(jk,function(t){return(function(){var r=t,i=r.lib,s=i.StreamCipher,l=r.algo,c=l.RC4=s.extend({_doReset:function(){for(var d=this._key,m=d.words,g=d.sigBytes,x=this._S=[],S=0;S<256;S++)x[S]=S;for(var S=0,b=0;S<256;S++){var w=S%g,T=m[w>>>2]>>>24-w%4*8&255;b=(b+x[S]+T)%256;var A=x[S];x[S]=x[b],x[b]=A}this._i=this._j=0},_doProcessBlock:function(d,m){d[m]^=f.call(this)},keySize:256/32,ivSize:0});function f(){for(var d=this._S,m=this._i,g=this._j,x=0,S=0;S<4;S++){m=(m+1)%256,g=(g+d[m])%256;var b=d[m];d[m]=d[g],d[g]=b,x|=d[(d[m]+d[g])%256]<<24-S*8}return this._i=m,this._j=g,x}r.RC4=s._createHelper(c);var h=l.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var d=this.cfg.drop;d>0;d--)f.call(this)}});r.RC4Drop=s._createHelper(h)})(),t.RC4})})(Uh)),Uh.exports}var Vh={exports:{}},Hk=Vh.exports,O4;function Uk(){return O4||(O4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),kl(),Ol(),Ha(),er())})(Hk,function(t){return(function(){var r=t,i=r.lib,s=i.StreamCipher,l=r.algo,c=[],f=[],h=[],d=l.Rabbit=s.extend({_doReset:function(){for(var g=this._key.words,x=this.cfg.iv,S=0;S<4;S++)g[S]=(g[S]<<8|g[S]>>>24)&16711935|(g[S]<<24|g[S]>>>8)&4278255360;var b=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],w=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var S=0;S<4;S++)m.call(this);for(var S=0;S<8;S++)w[S]^=b[S+4&7];if(x){var T=x.words,A=T[0],C=T[1],_=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,B=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,N=_>>>16|B&4294901760,O=B<<16|_&65535;w[0]^=_,w[1]^=N,w[2]^=B,w[3]^=O,w[4]^=_,w[5]^=N,w[6]^=B,w[7]^=O;for(var S=0;S<4;S++)m.call(this)}},_doProcessBlock:function(g,x){var S=this._X;m.call(this),c[0]=S[0]^S[5]>>>16^S[3]<<16,c[1]=S[2]^S[7]>>>16^S[5]<<16,c[2]=S[4]^S[1]>>>16^S[7]<<16,c[3]=S[6]^S[3]>>>16^S[1]<<16;for(var b=0;b<4;b++)c[b]=(c[b]<<8|c[b]>>>24)&16711935|(c[b]<<24|c[b]>>>8)&4278255360,g[x+b]^=c[b]},blockSize:128/32,ivSize:64/32});function m(){for(var g=this._X,x=this._C,S=0;S<8;S++)f[S]=x[S];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<f[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<f[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<f[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<f[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<f[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<f[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<f[6]>>>0?1:0)|0,this._b=x[7]>>>0<f[7]>>>0?1:0;for(var S=0;S<8;S++){var b=g[S]+x[S],w=b&65535,T=b>>>16,A=((w*w>>>17)+w*T>>>15)+T*T,C=((b&4294901760)*b|0)+((b&65535)*b|0);h[S]=A^C}g[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,g[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,g[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,g[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,g[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,g[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,g[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,g[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}r.Rabbit=s._createHelper(d)})(),t.Rabbit})})(Vh)),Vh.exports}var qh={exports:{}},Vk=qh.exports,B4;function qk(){return B4||(B4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),kl(),Ol(),Ha(),er())})(Vk,function(t){return(function(){var r=t,i=r.lib,s=i.StreamCipher,l=r.algo,c=[],f=[],h=[],d=l.RabbitLegacy=s.extend({_doReset:function(){var g=this._key.words,x=this.cfg.iv,S=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],b=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var w=0;w<4;w++)m.call(this);for(var w=0;w<8;w++)b[w]^=S[w+4&7];if(x){var T=x.words,A=T[0],C=T[1],_=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,B=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,N=_>>>16|B&4294901760,O=B<<16|_&65535;b[0]^=_,b[1]^=N,b[2]^=B,b[3]^=O,b[4]^=_,b[5]^=N,b[6]^=B,b[7]^=O;for(var w=0;w<4;w++)m.call(this)}},_doProcessBlock:function(g,x){var S=this._X;m.call(this),c[0]=S[0]^S[5]>>>16^S[3]<<16,c[1]=S[2]^S[7]>>>16^S[5]<<16,c[2]=S[4]^S[1]>>>16^S[7]<<16,c[3]=S[6]^S[3]>>>16^S[1]<<16;for(var b=0;b<4;b++)c[b]=(c[b]<<8|c[b]>>>24)&16711935|(c[b]<<24|c[b]>>>8)&4278255360,g[x+b]^=c[b]},blockSize:128/32,ivSize:64/32});function m(){for(var g=this._X,x=this._C,S=0;S<8;S++)f[S]=x[S];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<f[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<f[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<f[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<f[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<f[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<f[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<f[6]>>>0?1:0)|0,this._b=x[7]>>>0<f[7]>>>0?1:0;for(var S=0;S<8;S++){var b=g[S]+x[S],w=b&65535,T=b>>>16,A=((w*w>>>17)+w*T>>>15)+T*T,C=((b&4294901760)*b|0)+((b&65535)*b|0);h[S]=A^C}g[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,g[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,g[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,g[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,g[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,g[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,g[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,g[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}r.RabbitLegacy=s._createHelper(d)})(),t.RabbitLegacy})})(qh)),qh.exports}var Wh={exports:{}},Wk=Wh.exports,N4;function Gk(){return N4||(N4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),kl(),Ol(),Ha(),er())})(Wk,function(t){return(function(){var r=t,i=r.lib,s=i.BlockCipher,l=r.algo;const c=16,f=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],h=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var d={pbox:[],sbox:[]};function m(w,T){let A=T>>24&255,C=T>>16&255,_=T>>8&255,B=T&255,N=w.sbox[0][A]+w.sbox[1][C];return N=N^w.sbox[2][_],N=N+w.sbox[3][B],N}function g(w,T,A){let C=T,_=A,B;for(let N=0;N<c;++N)C=C^w.pbox[N],_=m(w,C)^_,B=C,C=_,_=B;return B=C,C=_,_=B,_=_^w.pbox[c],C=C^w.pbox[c+1],{left:C,right:_}}function x(w,T,A){let C=T,_=A,B;for(let N=c+1;N>1;--N)C=C^w.pbox[N],_=m(w,C)^_,B=C,C=_,_=B;return B=C,C=_,_=B,_=_^w.pbox[1],C=C^w.pbox[0],{left:C,right:_}}function S(w,T,A){for(let O=0;O<4;O++){w.sbox[O]=[];for(let z=0;z<256;z++)w.sbox[O][z]=h[O][z]}let C=0;for(let O=0;O<c+2;O++)w.pbox[O]=f[O]^T[C],C++,C>=A&&(C=0);let _=0,B=0,N=0;for(let O=0;O<c+2;O+=2)N=g(w,_,B),_=N.left,B=N.right,w.pbox[O]=_,w.pbox[O+1]=B;for(let O=0;O<4;O++)for(let z=0;z<256;z+=2)N=g(w,_,B),_=N.left,B=N.right,w.sbox[O][z]=_,w.sbox[O][z+1]=B;return!0}var b=l.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var w=this._keyPriorReset=this._key,T=w.words,A=w.sigBytes/4;S(d,T,A)}},encryptBlock:function(w,T){var A=g(d,w[T],w[T+1]);w[T]=A.left,w[T+1]=A.right},decryptBlock:function(w,T){var A=x(d,w[T],w[T+1]);w[T]=A.left,w[T+1]=A.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=s._createHelper(b)})(),t.Blowfish})})(Wh)),Wh.exports}var Xk=fh.exports,R4;function $k(){return R4||(R4=1,(function(n,e){(function(t,r,i){n.exports=r(kt(),ep(),qD(),GD(),kl(),YD(),Ol(),KC(),W1(),ek(),QC(),rk(),sk(),lk(),G1(),fk(),Ha(),er(),pk(),gk(),vk(),bk(),wk(),Ck(),Tk(),Dk(),Ok(),Nk(),Fk(),Lk(),Pk(),zk(),Uk(),qk(),Gk())})(Xk,function(t){return t})})(fh)),fh.exports}var Yk=$k();const Hg=V1(Yk),F4="hap-query-report-secret-key",Kk=[{id:"default_hml",connectionName:"Homologao",user:"c_stenio",password:"U2FsdGVkX1+diVLEnj1jZvw5sxormGTsBtESRfh/6qI=",connectString:"U2FsdGVkX19U80G4qXgfVWspNeUM1/u7eLMDucd94oLGmVlBl5jIXGEAgUHAR5qUKaQVNtBWZ215IVNQ7BcUmg==",isDefault:!0},{id:"default_prod",connectionName:"Produo",user:"c_stenio",password:"U2FsdGVkX18wBXPCBeTyxr4YfqfTum15kjrRFf1vBSc=",connectString:"U2FsdGVkX1/AUWNk4WMSarytTse8PePFGvDEaKgnRoWRDihwycxMJolWJiZylGcJoHEO/gtgT8cnKI/Ma+5VlQ==",isDefault:!0}];function Qk({onConnect:n}){const[e,t]=Q.useState({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}),[r,i]=Q.useState([]),[s,l]=Q.useState({type:"",message:""}),[c,f]=Q.useState(!1),[h,d]=Q.useState(null),[m,g]=Q.useState(!1),[x,S]=Q.useState(!1);Q.useEffect(()=>{const R=localStorage.getItem("oracle_connections"),I=JSON.parse(localStorage.getItem("deleted_defaults")||"[]");let P=[];if(R)try{P=JSON.parse(R)}catch(ie){console.error("Failed to parse saved connections",ie)}let q=!1;Kk.filter(ie=>!I.includes(ie.id)).forEach(ie=>{if(!P.some(Z=>Z.id===ie.id)){const Z=P.findIndex(re=>re.connectionName===ie.connectionName&&!re.isDefault);Z!==-1&&(P[Z].connectionName=`${P[Z].connectionName}_OLD`,q=!0),P.unshift(ie),q=!0}}),q&&localStorage.setItem("oracle_connections",JSON.stringify(P)),i(P)},[]);const b=R=>R?Hg.AES.encrypt(R,F4).toString():"",w=R=>{if(!R)return"";try{return Hg.AES.decrypt(R,F4).toString(Hg.enc.Utf8)||R}catch{return R}},T=R=>{t({...e,[R.target.name]:R.target.value})},A=async()=>{l({type:"info",message:"Testando conexo..."});try{const I=await(await fetch("http://127.0.0.1:3001/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();I.success?l({type:"success",message:"Conexo realizada com sucesso!"}):l({type:"error",message:"Falha na conexo: "+I.message})}catch(R){const I=R.message==="Failed to fetch"?"Falha na comunicao com o servidor (Verifique se o servidor est rodando)":R.message;l({type:"error",message:"Erro de rede: "+I})}},C=()=>{if(!e.user||!e.connectString||!e.connectionName){l({type:"error",message:"Por favor, preencha Nome, Usurio e Host."});return}const R={...e,password:b(e.password)};let I;if(c&&h)I=r.map(P=>P.id===h?{...R,id:h}:P),f(!1),d(null),l({type:"success",message:"Conexo atualizada!"});else{const P={...R,id:Date.now().toString()};I=[...r,P],l({type:"success",message:"Conexo salva!"})}i(I),localStorage.setItem("oracle_connections",JSON.stringify(I))},_=R=>{t({user:R.user,password:w(R.password),connectString:R.isDefault?w(R.connectString):R.connectString,connectionName:R.connectionName||""}),l({type:"",message:""}),g(!1),R.isDefault?(f(!1),d(null),S(!0),l({type:"info",message:"Conexo padro selecionada (Somente leitura)."})):(f(!0),d(R.id),S(!1))},B=(R,I)=>{if(I.stopPropagation(),R.isDefault){alert("Conexes padro no podem ser editadas.");return}_(R),l({type:"info",message:`Editando: ${R.connectionName}`})},N=(R,I,P)=>{if(I.stopPropagation(),window.confirm("Tem certeza que deseja excluir esta conexo?")){const q=r.filter(K=>K.id!==R);if(i(q),localStorage.setItem("oracle_connections",JSON.stringify(q)),P){const K=JSON.parse(localStorage.getItem("deleted_defaults")||"[]");K.push(R),localStorage.setItem("deleted_defaults",JSON.stringify(K))}h===R&&(f(!1),d(null),S(!1),t({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}))}},O=async()=>{l({type:"info",message:"Conectando..."});try{const I=await(await fetch("http://127.0.0.1:3001/api/connect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();I.success?n(e):l({type:"error",message:I.message})}catch(R){l({type:"error",message:R.message})}},z=()=>{f(!1),d(null),S(!1),t({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}),l({type:"",message:""})};return E.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans",children:[E.jsxs("div",{className:"w-1/3 bg-white border-r border-gray-200 p-6 flex flex-col shadow-lg z-10",children:[E.jsxs("div",{className:"flex flex-col items-center justify-center mb-8",children:[E.jsx("img",{src:LD,alt:"Hap Logo",className:"h-24 object-contain mb-4"}),E.jsx("h1",{className:"text-2xl font-bold text-[#0054a6] tracking-tight",children:"Hap Query Report"})]}),E.jsx("h2",{className:"text-lg font-bold text-gray-700 mb-4 px-2 border-l-4 border-[#f37021]",children:"Conexes Salvas"}),E.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:[r.length===0&&E.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[E.jsx("p",{className:"text-gray-400 italic",children:"Nenhuma conexo salva."}),E.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Preencha o formulrio para criar uma."})]}),r.map((R,I)=>E.jsxs("div",{onClick:()=>_(R),className:`p-4 rounded-lg border cursor-pointer transition-all hover:shadow-md group relative ${h===R.id?"border-[#f37021] bg-orange-50":"border-gray-200 hover:border-blue-300 bg-white"}`,children:[E.jsxs("div",{className:"font-bold text-gray-800 flex items-center",children:[R.connectionName||`Connection ${I+1}`,R.isDefault&&E.jsx("span",{className:"ml-2 text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded border border-blue-200",children:"PADRO"})]}),E.jsxs("div",{className:"text-sm text-gray-500",children:[R.user,"@",R.isDefault?"*****":R.connectString]}),E.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[!R.isDefault&&E.jsx("button",{onClick:P=>B(R,P),className:"p-1.5 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Editar",children:""}),E.jsx("button",{onClick:P=>N(R.id,P,R.isDefault),className:"p-1.5 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Excluir",children:""})]})]},R.id||I))]}),E.jsxs("button",{onClick:()=>{f(!1),d(null),S(!1),t({user:"",password:"",connectString:"localhost:1521/XEPDB1",connectionName:""}),l({type:"",message:""})},className:"mt-6 w-full py-3 border-2 border-dashed border-gray-300 text-gray-500 rounded-lg hover:border-[#0054a6] hover:text-[#0054a6] transition-all font-medium flex items-center justify-center gap-2",children:[E.jsx("span",{className:"text-xl",children:"+"})," Nova Conexo"]})]}),E.jsx("div",{className:"w-2/3 p-10 flex flex-col justify-center bg-gradient-to-br from-gray-50 to-blue-50",children:E.jsxs("div",{className:"max-w-lg mx-auto w-full bg-white p-10 rounded-2xl shadow-xl border border-gray-100",children:[E.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:c?"Editar Conexo":"Nova Conexo"}),E.jsxs("div",{className:"space-y-5",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Nome da Conexo (Ex: DEV, PROD)"}),E.jsx("input",{type:"text",name:"connectionName",value:e.connectionName,onChange:T,disabled:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all disabled:bg-gray-100 disabled:text-gray-500",placeholder:"Minha Conexo"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Usurio"}),E.jsx("input",{type:"text",name:"user",value:e.user,onChange:T,disabled:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all disabled:bg-gray-100 disabled:text-gray-500"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Senha"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:m?"text":"password",name:"password",value:e.password,onChange:T,disabled:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all disabled:bg-gray-100 disabled:text-gray-500 pr-10"}),!x&&E.jsx("button",{type:"button",onClick:()=>g(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",title:m?"Ocultar senha":"Mostrar senha",children:m?E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Host (Connect String)"}),E.jsx("input",{type:x?"password":"text",name:"connectString",value:e.connectString,onChange:T,disabled:x,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0054a6] focus:border-transparent outline-none transition-all disabled:bg-gray-100 disabled:text-gray-500",placeholder:"localhost:1521/XEPDB1"})]}),s.message&&E.jsx("div",{className:`p-4 rounded-lg text-sm font-medium ${s.type==="error"?"bg-red-50 text-red-700 border border-red-200":s.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-blue-50 text-blue-700 border border-blue-200"}`,children:s.message}),E.jsxs("div",{className:"flex space-x-3 pt-6",children:[E.jsx("button",{onClick:A,className:"flex-1 py-3 px-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-bold border border-gray-300",children:"Testar"}),!x&&E.jsx("button",{onClick:C,className:"flex-1 py-3 px-4 bg-[#f37021] text-white rounded-lg hover:bg-orange-600 transition-colors font-bold shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:c?"Atualizar":"Salvar"}),E.jsx("button",{onClick:O,className:"flex-1 py-3 px-4 bg-[#0054a6] text-white rounded-lg hover:bg-blue-800 transition-colors font-bold shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"Conectar"})]}),c&&E.jsx("button",{onClick:z,className:"w-full mt-2 text-sm text-gray-500 hover:text-gray-700 underline text-center block",children:"Cancelar Edio"})]})]})})]})}var sd={};sd.version="0.18.5";var ZC=1252,Zk=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],JC=function(n){Zk.indexOf(n)!=-1&&(ZC=n)};function Jk(){JC(1252)}var C0=function(n){JC(n)};function eO(){C0(1200),Jk()}var ku=function(e){return String.fromCharCode(e)},M4=function(e){return String.fromCharCode(e)},ad,Ta="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function A0(n){for(var e="",t=0,r=0,i=0,s=0,l=0,c=0,f=0,h=0;h<n.length;)t=n.charCodeAt(h++),s=t>>2,r=n.charCodeAt(h++),l=(t&3)<<4|r>>4,i=n.charCodeAt(h++),c=(r&15)<<2|i>>6,f=i&63,isNaN(r)?c=f=64:isNaN(i)&&(f=64),e+=Ta.charAt(s)+Ta.charAt(l)+Ta.charAt(c)+Ta.charAt(f);return e}function qs(n){var e="",t=0,r=0,i=0,s=0,l=0,c=0,f=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<n.length;)s=Ta.indexOf(n.charAt(h++)),l=Ta.indexOf(n.charAt(h++)),t=s<<2|l>>4,e+=String.fromCharCode(t),c=Ta.indexOf(n.charAt(h++)),r=(l&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(r)),f=Ta.indexOf(n.charAt(h++)),i=(c&3)<<6|f,f!==64&&(e+=String.fromCharCode(i));return e}var jt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ys=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Sl(n){return jt?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function L4(n){return jt?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var zi=function(e){return jt?Ys(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function tp(n){if(typeof ArrayBuffer>"u")return zi(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function Z0(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function tO(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var cr=jt?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:Ys(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function nO(n){for(var e=[],t=0,r=n.length+250,i=Sl(n.length+255),s=0;s<n.length;++s){var l=n.charCodeAt(s);if(l<128)i[t++]=l;else if(l<2048)i[t++]=192|l>>6&31,i[t++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=n.charCodeAt(++s)&1023;i[t++]=240|l>>8&7,i[t++]=128|l>>2&63,i[t++]=128|c>>6&15|(l&3)<<4,i[t++]=128|c&63}else i[t++]=224|l>>12&15,i[t++]=128|l>>6&63,i[t++]=128|l&63;t>r&&(e.push(i.slice(0,t)),t=0,i=Sl(65535),r=65530)}return e.push(i.slice(0,t)),cr(e)}var o0=/\u0000/g,Ou=/[\u0001-\u0006]/g;function ko(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function Hi(n,e){var t=""+n;return t.length>=e?t:En("0",e-t.length)+t}function X1(n,e){var t=""+n;return t.length>=e?t:En(" ",e-t.length)+t}function ld(n,e){var t=""+n;return t.length>=e?t:t+En(" ",e-t.length)}function rO(n,e){var t=""+Math.round(n);return t.length>=e?t:En("0",e-t.length)+t}function iO(n,e){var t=""+n;return t.length>=e?t:En("0",e-t.length)+t}var I4=Math.pow(2,32);function xo(n,e){if(n>I4||n<-I4)return rO(n,e);var t=Math.round(n);return iO(t,e)}function od(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var P4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ug=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function sO(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var Cn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},j4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},aO={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function cd(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,l=1,c=0,f=1,h=0,d=0,m=Math.floor(i);h<e&&(m=Math.floor(i),c=m*l+s,d=m*h+f,!(i-m<5e-8));)i=1/(i-m),s=l,l=c,f=h,h=d;if(d>e&&(h>e?(d=f,c=s):(d=h,c=l)),!t)return[0,r*c,d];var g=Math.floor(r*c/d);return[g,r*c-g*d,d]}function Bu(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),s=0,l=[],c={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++r,++c.D)),r===60)l=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)l=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var f=new Date(1900,0,1);f.setDate(f.getDate()+r-1),l=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=f.getDay(),r<60&&(s=(s+6)%7),t&&(s=dO(f,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=s,c}var eA=new Date(1899,11,31,0,0,0),lO=eA.getTime(),oO=new Date(1900,2,1,0,0,0);function tA(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=oO&&(t+=1440*60*1e3),(t-(lO+(n.getTimezoneOffset()-eA.getTimezoneOffset())*6e4))/(1440*60*1e3)}function $1(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function cO(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function fO(n){var e=n<0?12:11,t=$1(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function uO(n){var e=$1(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function hO(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=fO(n):e===10?t=n.toFixed(10).substr(0,12):t=uO(n),$1(cO(t.toUpperCase()))}function Mx(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):hO(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return Na(14,tA(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function dO(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function pO(n,e,t,r){var i="",s=0,l=0,c=t.y,f,h=0;switch(n){case 98:c=t.y+543;case 121:switch(e.length){case 1:case 2:f=c%100,h=2;break;default:f=c%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:f=t.m,h=e.length;break;case 3:return Ug[t.m-1][1];case 5:return Ug[t.m-1][0];default:return Ug[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=t.d,h=e.length;break;case 3:return P4[t.q][0];default:return P4[t.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(t.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=t.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=t.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Hi(t.S,e.length):(r>=2?l=r===3?1e3:100:l=r===1?10:1,s=Math.round(l*(t.S+t.u)),s>=60*l&&(s=0),e==="s"?s===0?"0":""+s/l:(i=Hi(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=t.D*24+t.H;break;case"[m]":case"[mm]":f=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":f=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:f=c,h=1;break}var d=h>0?Hi(f,h):"";return d}function _a(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var nA=/%/g;function mO(n,e,t){var r=e.replace(nA,""),i=e.length-r.length;return zs(n,r,t*Math.pow(10,2*i))+En("%",i)}function gO(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return zs(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function rA(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+rA(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),t.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+s):t+="E+"+(l-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,h,d){return f+h+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var iA=/# (\?+)( ?)\/( ?)(\d+)/;function xO(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),l=i-s*r,c=r;return t+(s===0?"":""+s)+" "+(l===0?En(" ",n[1].length+1+n[4].length):X1(l,n[1].length)+n[2]+"/"+n[3]+Hi(c,n[4].length))}function vO(n,e,t){return t+(e===0?"":""+e)+En(" ",n[1].length+2+n[4].length)}var sA=/^#*0*\.([0#]+)/,aA=/\).*[0#]/,lA=/\(###\) ###\\?-####/;function Er(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function z4(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function H4(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function yO(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function bO(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Ci(n,e,t){if(n.charCodeAt(0)===40&&!e.match(aA)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ci("n",r,t):"("+Ci("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return gO(n,e,t);if(e.indexOf("%")!==-1)return mO(n,e,t);if(e.indexOf("E")!==-1)return rA(e,t);if(e.charCodeAt(0)===36)return"$"+Ci(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,l,c,f=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+xo(f,e.length);if(e.match(/^[#?]+$/))return i=xo(t,0),i==="0"&&(i=""),i.length>e.length?i:Er(e.substr(0,e.length-i.length))+i;if(s=e.match(iA))return xO(s,f,h);if(e.match(/^#+0+$/))return h+xo(f,e.length-e.indexOf("0"));if(s=e.match(sA))return i=z4(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Er(s[1])).replace(/\.$/,"."+Er(s[1])).replace(/\.(\d*)$/,function(S,b){return"."+b+En("0",Er(s[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+z4(f,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+_a(xo(f,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ci(n,e,-t):_a(""+(Math.floor(t)+yO(t,s[1].length)))+"."+Hi(H4(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ci(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=ko(Ci(n,e.replace(/[\\-]/g,""),t)),l=0,ko(ko(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<i.length?i.charAt(l++):S==="0"?"0":""}));if(e.match(lA))return i=Ci(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),c=cd(f,Math.pow(10,l)-1,!1),i=""+h,d=zs("n",s[1],c[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=ld(c[2],l),d.length<s[4].length&&(d=Er(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),c=cd(f,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?X1(c[1],l)+s[2]+"/"+s[3]+ld(c[2],l):En(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=xo(t,0),e.length<=i.length?i:Er(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var m=e.indexOf(".")-l,g=e.length-i.length-m;return Er(e.substr(0,m)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return l=H4(t,s[1].length),t<0?"-"+Ci(n,e,-t):_a(bO(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Hi(0,3-S.length):"")+S})+"."+Hi(l,s[1].length);switch(e){case"###,##0.00":return Ci(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var x=_a(xo(f,0));return x!=="0"?h+x:"";case"###,###.00":return Ci(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Ci(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function SO(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return zs(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function wO(n,e,t){var r=e.replace(nA,""),i=e.length-r.length;return zs(n,r,t*Math.pow(10,2*i))+En("%",i)}function oA(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+oA(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!t.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+s):t+="E+"+(l-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,h,d){return f+h+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function as(n,e,t){if(n.charCodeAt(0)===40&&!e.match(aA)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?as("n",r,t):"("+as("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return SO(n,e,t);if(e.indexOf("%")!==-1)return wO(n,e,t);if(e.indexOf("E")!==-1)return oA(e,t);if(e.charCodeAt(0)===36)return"$"+as(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,l,c,f=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+Hi(f,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Er(e.substr(0,e.length-i.length))+i;if(s=e.match(iA))return vO(s,f,h);if(e.match(/^#+0+$/))return h+Hi(f,e.length-e.indexOf("0"));if(s=e.match(sA))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Er(s[1])).replace(/\.$/,"."+Er(s[1])),i=i.replace(/\.(\d*)$/,function(S,b){return"."+b+En("0",Er(s[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+_a(""+f);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+as(n,e,-t):_a(""+t)+"."+En("0",s[1].length);if(s=e.match(/^#,#*,#0/))return as(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=ko(as(n,e.replace(/[\\-]/g,""),t)),l=0,ko(ko(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<i.length?i.charAt(l++):S==="0"?"0":""}));if(e.match(lA))return i=as(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),c=cd(f,Math.pow(10,l)-1,!1),i=""+h,d=zs("n",s[1],c[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=ld(c[2],l),d.length<s[4].length&&(d=Er(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),c=cd(f,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?X1(c[1],l)+s[2]+"/"+s[3]+ld(c[2],l):En(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Er(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var m=e.indexOf(".")-l,g=e.length-i.length-m;return Er(e.substr(0,m)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+as(n,e,-t):_a(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Hi(0,3-S.length):"")+S})+"."+Hi(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var x=_a(""+f);return x!=="0"?h+x:"";default:if(e.match(/\.[0#?]*$/))return as(n,e.slice(0,e.lastIndexOf(".")),t)+Er(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function zs(n,e,t){return(t|0)===t?as(n,e,t):Ci(n,e,t)}function EO(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var cA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fA(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":od(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(cA))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function CO(n,e,t,r){for(var i=[],s="",l=0,c="",f="t",h,d,m,g="H";l<n.length;)switch(c=n.charAt(l)){case"G":if(!od(n,l))throw new Error("unrecognized character "+c+" in "+n);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(m=n.charCodeAt(++l))!==34&&l<n.length;)s+=String.fromCharCode(m);i[i.length]={t:"t",v:s},++l;break;case"\\":var x=n.charAt(++l),S=x==="("||x===")"?x:"t";i[i.length]={t:S,v:x},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:e},++l;break;case"B":case"b":if(n.charAt(l+1)==="1"||n.charAt(l+1)==="2"){if(h==null&&(h=Bu(e,t,n.charAt(l+1)==="2"),h==null))return"";i[i.length]={t:"X",v:n.substr(l,2)},f=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=Bu(e,t),h==null))return"";for(s=c;++l<n.length&&n.charAt(l).toLowerCase()===c;)s+=c;c==="m"&&f.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=g),i[i.length]={t:c,v:s},f=c;break;case"A":case"a":case"":var b={t:c,v:c};if(h==null&&(h=Bu(e,t)),n.substr(l,3).toUpperCase()==="A/P"?(h!=null&&(b.v=h.H>=12?"P":"A"),b.t="T",g="h",l+=3):n.substr(l,5).toUpperCase()==="AM/PM"?(h!=null&&(b.v=h.H>=12?"PM":"AM"),b.t="T",l+=5,g="h"):n.substr(l,5).toUpperCase()==="/"?(h!=null&&(b.v=h.H>=12?"":""),b.t="T",l+=5,g="h"):(b.t="t",++l),h==null&&b.t==="T")return"";i[i.length]=b,f=c;break;case"[":for(s=c;n.charAt(l++)!=="]"&&l<n.length;)s+=n.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(cA)){if(h==null&&(h=Bu(e,t),h==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},f=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",fA(n)||(i[i.length]={t:"t",v:s}));break;case".":if(h!=null){for(s=c;++l<n.length&&(c=n.charAt(l))==="0";)s+=c;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++l<n.length&&"0#?.,E+-%".indexOf(c=n.charAt(l))>-1;)s+=c;i[i.length]={t:"n",v:s};break;case"?":for(s=c;n.charAt(++l)===c;)s+=c;i[i.length]={t:c,v:s},f=c;break;case"*":++l,(n.charAt(l)==" "||n.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:r===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;l<n.length&&"0123456789".indexOf(n.charAt(++l))>-1;)s+=n.charAt(l);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:c,v:c},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+n);i[i.length]={t:"t",v:c},++l;break}var w=0,T=0,A;for(l=i.length-1,f="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=g,f="h",w<1&&(w=1);break;case"s":(A=i[l].v.match(/\.0+$/))&&(T=Math.max(T,A[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":f=i[l].t;break;case"m":f==="s"&&(i[l].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&i[l].v.match(/[Hh]/)&&(w=1),w<2&&i[l].v.match(/[Mm]/)&&(w=2),w<3&&i[l].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var C="",_;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=pO(i[l].t.charCodeAt(0),i[l].v,h,T),i[l].t="t";break;case"n":case"?":for(_=l+1;i[_]!=null&&((c=i[_].t)==="?"||c==="D"||(c===" "||c==="t")&&i[_+1]!=null&&(i[_+1].t==="?"||i[_+1].t==="t"&&i[_+1].v==="/")||i[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[_].v==="/"||i[_].v===" "&&i[_+1]!=null&&i[_+1].t=="?"));)i[l].v+=i[_].v,i[_]={v:"",t:";"},++_;C+=i[l].v,l=_-1;break;case"G":i[l].t="t",i[l].v=Mx(e,t);break}var B="",N,O;if(C.length>0){C.charCodeAt(0)==40?(N=e<0&&C.charCodeAt(0)===45?-e:e,O=zs("n",C,N)):(N=e<0&&r>1?-e:e,O=zs("n",C,N),N<0&&i[0]&&i[0].t=="t"&&(O=O.substr(1),i[0].v="-"+i[0].v)),_=O.length-1;var z=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){z=l;break}var R=i.length;if(z===i.length&&O.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(_>=i[l].v.length-1?(_-=i[l].v.length,i[l].v=O.substr(_+1,i[l].v.length)):_<0?i[l].v="":(i[l].v=O.substr(0,_+1),_=-1),i[l].t="t",R=l);_>=0&&R<i.length&&(i[R].v=O.substr(0,_+1)+i[R].v)}else if(z!==i.length&&O.indexOf("E")===-1){for(_=O.indexOf(".")-1,l=z;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(d=i[l].v.indexOf(".")>-1&&l===z?i[l].v.indexOf(".")-1:i[l].v.length-1,B=i[l].v.substr(d+1);d>=0;--d)_>=0&&(i[l].v.charAt(d)==="0"||i[l].v.charAt(d)==="#")&&(B=O.charAt(_--)+B);i[l].v=B,i[l].t="t",R=l}for(_>=0&&R<i.length&&(i[R].v=O.substr(0,_+1)+i[R].v),_=O.indexOf(".")+1,l=z;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==z)){for(d=i[l].v.indexOf(".")>-1&&l===z?i[l].v.indexOf(".")+1:0,B=i[l].v.substr(0,d);d<i[l].v.length;++d)_<O.length&&(B+=O.charAt(_++));i[l].v=B,i[l].t="t",R=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(N=r>1&&e<0&&l>0&&i[l-1].v==="-"?-e:e,i[l].v=zs(i[l].t,i[l].v,N),i[l].t="t");var I="";for(l=0;l!==i.length;++l)i[l]!=null&&(I+=i[l].v);return I}var U4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function V4(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function AO(n,e){var t=EO(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var l=t[0].match(U4),c=t[1].match(U4);return V4(e,l)?[r,t[0]]:V4(e,c)?[r,t[1]]:[r,t[l!=null&&c!=null?2:1]]}return[r,s]}function Na(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:Cn)[n],r==null&&(r=t.table&&t.table[j4[n]]||Cn[j4[n]]),r==null&&(r=aO[n]||"General");break}if(od(r,0))return Mx(e,t);e instanceof Date&&(e=tA(e,t.date1904));var i=AO(r,e);if(od(i[1]))return Mx(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return CO(i[1],e,t,i[0])}function uA(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Cn[t]==null){e<0&&(e=t);continue}if(Cn[t]==n){e=t;break}}e<0&&(e=391)}return Cn[e]=n,e}function np(n){for(var e=0;e!=392;++e)n[e]!==void 0&&uA(n[e],e)}function rp(){Cn=sO()}var hA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function TO(n){var e=typeof n=="number"?Cn[n]:n;return e=e.replace(hA,"(\\d+)"),new RegExp("^"+e+"$")}function _O(n,e,t){var r=-1,i=-1,s=-1,l=-1,c=-1,f=-1;(e.match(hA)||[]).forEach(function(m,g){var x=parseInt(t[g+1],10);switch(m.toLowerCase().charAt(0)){case"y":r=x;break;case"d":s=x;break;case"h":l=x;break;case"s":f=x;break;case"m":l>=0?c=x:i=x;break}}),f>=0&&c==-1&&i>=0&&(c=i,i=-1);var h=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var d=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return l==-1&&c==-1&&f==-1?h:r==-1&&i==-1&&s==-1?d:h+"T"+d}var DO=(function(){var n={};n.version="1.2.0";function e(){for(var O=0,z=new Array(256),R=0;R!=256;++R)O=R,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,z[R]=O;return typeof Int32Array<"u"?new Int32Array(z):z}var t=e();function r(O){var z=0,R=0,I=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)P[I]=O[I];for(I=0;I!=256;++I)for(R=O[I],z=256+I;z<4096;z+=256)R=P[z]=R>>>8^O[R&255];var q=[];for(I=1;I!=16;++I)q[I-1]=typeof Int32Array<"u"?P.subarray(I*256,I*256+256):P.slice(I*256,I*256+256);return q}var i=r(t),s=i[0],l=i[1],c=i[2],f=i[3],h=i[4],d=i[5],m=i[6],g=i[7],x=i[8],S=i[9],b=i[10],w=i[11],T=i[12],A=i[13],C=i[14];function _(O,z){for(var R=z^-1,I=0,P=O.length;I<P;)R=R>>>8^t[(R^O.charCodeAt(I++))&255];return~R}function B(O,z){for(var R=z^-1,I=O.length-15,P=0;P<I;)R=C[O[P++]^R&255]^A[O[P++]^R>>8&255]^T[O[P++]^R>>16&255]^w[O[P++]^R>>>24]^b[O[P++]]^S[O[P++]]^x[O[P++]]^g[O[P++]]^m[O[P++]]^d[O[P++]]^h[O[P++]]^f[O[P++]]^c[O[P++]]^l[O[P++]]^s[O[P++]]^t[O[P++]];for(I+=15;P<I;)R=R>>>8^t[(R^O[P++])&255];return~R}function N(O,z){for(var R=z^-1,I=0,P=O.length,q=0,K=0;I<P;)q=O.charCodeAt(I++),q<128?R=R>>>8^t[(R^q)&255]:q<2048?(R=R>>>8^t[(R^(192|q>>6&31))&255],R=R>>>8^t[(R^(128|q&63))&255]):q>=55296&&q<57344?(q=(q&1023)+64,K=O.charCodeAt(I++)&1023,R=R>>>8^t[(R^(240|q>>8&7))&255],R=R>>>8^t[(R^(128|q>>2&63))&255],R=R>>>8^t[(R^(128|K>>6&15|(q&3)<<4))&255],R=R>>>8^t[(R^(128|K&63))&255]):(R=R>>>8^t[(R^(224|q>>12&15))&255],R=R>>>8^t[(R^(128|q>>6&63))&255],R=R>>>8^t[(R^(128|q&63))&255]);return~R}return n.table=t,n.bstr=_,n.buf=B,n.str=N,n})(),en=(function(){var e={};e.version="1.2.1";function t(F,G){for(var U=F.split("/"),V=G.split("/"),X=0,Y=0,le=Math.min(U.length,V.length);X<le;++X){if(Y=U[X].length-V[X].length)return Y;if(U[X]!=V[X])return U[X]<V[X]?-1:1}return U.length-V.length}function r(F){if(F.charAt(F.length-1)=="/")return F.slice(0,-1).indexOf("/")===-1?F:r(F.slice(0,-1));var G=F.lastIndexOf("/");return G===-1?F:F.slice(0,G+1)}function i(F){if(F.charAt(F.length-1)=="/")return i(F.slice(0,-1));var G=F.lastIndexOf("/");return G===-1?F:F.slice(G+1)}function s(F,G){typeof G=="string"&&(G=new Date(G));var U=G.getHours();U=U<<6|G.getMinutes(),U=U<<5|G.getSeconds()>>>1,F.write_shift(2,U);var V=G.getFullYear()-1980;V=V<<4|G.getMonth()+1,V=V<<5|G.getDate(),F.write_shift(2,V)}function l(F){var G=F.read_shift(2)&65535,U=F.read_shift(2)&65535,V=new Date,X=U&31;U>>>=5;var Y=U&15;U>>>=4,V.setMilliseconds(0),V.setFullYear(U+1980),V.setMonth(Y-1),V.setDate(X);var le=G&31;G>>>=5;var Ce=G&63;return G>>>=6,V.setHours(G),V.setMinutes(Ce),V.setSeconds(le<<1),V}function c(F){li(F,0);for(var G={},U=0;F.l<=F.length-4;){var V=F.read_shift(2),X=F.read_shift(2),Y=F.l+X,le={};switch(V){case 21589:U=F.read_shift(1),U&1&&(le.mtime=F.read_shift(4)),X>5&&(U&2&&(le.atime=F.read_shift(4)),U&4&&(le.ctime=F.read_shift(4))),le.mtime&&(le.mt=new Date(le.mtime*1e3));break}F.l=Y,G[V]=le}return G}var f;function h(){return f||(f={})}function d(F,G){if(F[0]==80&&F[1]==75)return Nr(F,G);if((F[0]|32)==109&&(F[1]|32)==105)return Ze(F,G);if(F.length<512)throw new Error("CFB file size "+F.length+" < 512");var U=3,V=512,X=0,Y=0,le=0,Ce=0,oe=0,ue=[],de=F.slice(0,512);li(de,0);var Re=m(de);switch(U=Re[0],U){case 3:V=512;break;case 4:V=4096;break;case 0:if(Re[1]==0)return Nr(F,G);default:throw new Error("Major Version: Expected 3 or 4 saw "+U)}V!==512&&(de=F.slice(0,V),li(de,28));var je=F.slice(0,V);g(de,U);var Ge=de.read_shift(4,"i");if(U===3&&Ge!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ge);de.l+=4,le=de.read_shift(4,"i"),de.l+=4,de.chk("00100000","Mini Stream Cutoff Size: "),Ce=de.read_shift(4,"i"),X=de.read_shift(4,"i"),oe=de.read_shift(4,"i"),Y=de.read_shift(4,"i");for(var Fe=-1,Ve=0;Ve<109&&(Fe=de.read_shift(4,"i"),!(Fe<0));++Ve)ue[Ve]=Fe;var et=x(F,V);w(oe,Y,et,V,ue);var an=A(et,le,ue,V);an[le].name="!Directory",X>0&&Ce!==K&&(an[Ce].name="!MiniFAT"),an[ue[0]].name="!FAT",an.fat_addrs=ue,an.ssz=V;var ln={},pn=[],di=[],qa=[];C(le,an,et,pn,X,ln,di,Ce),S(di,qa,pn),pn.shift();var Qs={FileIndex:di,FullPaths:qa};return G&&G.raw&&(Qs.raw={header:je,sectors:et}),Qs}function m(F){if(F[F.l]==80&&F[F.l+1]==75)return[0,0];F.chk(ie,"Header Signature: "),F.l+=16;var G=F.read_shift(2,"u");return[F.read_shift(2,"u"),G]}function g(F,G){var U=9;switch(F.l+=2,U=F.read_shift(2)){case 9:if(G!=3)throw new Error("Sector Shift: Expected 9 saw "+U);break;case 12:if(G!=4)throw new Error("Sector Shift: Expected 12 saw "+U);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+U)}F.chk("0600","Mini Sector Shift: "),F.chk("000000000000","Reserved: ")}function x(F,G){for(var U=Math.ceil(F.length/G)-1,V=[],X=1;X<U;++X)V[X-1]=F.slice(X*G,(X+1)*G);return V[U-1]=F.slice(U*G),V}function S(F,G,U){for(var V=0,X=0,Y=0,le=0,Ce=0,oe=U.length,ue=[],de=[];V<oe;++V)ue[V]=de[V]=V,G[V]=U[V];for(;Ce<de.length;++Ce)V=de[Ce],X=F[V].L,Y=F[V].R,le=F[V].C,ue[V]===V&&(X!==-1&&ue[X]!==X&&(ue[V]=ue[X]),Y!==-1&&ue[Y]!==Y&&(ue[V]=ue[Y])),le!==-1&&(ue[le]=V),X!==-1&&V!=ue[V]&&(ue[X]=ue[V],de.lastIndexOf(X)<Ce&&de.push(X)),Y!==-1&&V!=ue[V]&&(ue[Y]=ue[V],de.lastIndexOf(Y)<Ce&&de.push(Y));for(V=1;V<oe;++V)ue[V]===V&&(Y!==-1&&ue[Y]!==Y?ue[V]=ue[Y]:X!==-1&&ue[X]!==X&&(ue[V]=ue[X]));for(V=1;V<oe;++V)if(F[V].type!==0){if(Ce=V,Ce!=ue[Ce])do Ce=ue[Ce],G[V]=G[Ce]+"/"+G[V];while(Ce!==0&&ue[Ce]!==-1&&Ce!=ue[Ce]);ue[V]=-1}for(G[0]+="/",V=1;V<oe;++V)F[V].type!==2&&(G[V]+="/")}function b(F,G,U){for(var V=F.start,X=F.size,Y=[],le=V;U&&X>0&&le>=0;)Y.push(G.slice(le*q,le*q+q)),X-=q,le=ul(U,le*4);return Y.length===0?Se(0):cr(Y).slice(0,F.size)}function w(F,G,U,V,X){var Y=K;if(F===K){if(G!==0)throw new Error("DIFAT chain shorter than expected")}else if(F!==-1){var le=U[F],Ce=(V>>>2)-1;if(!le)return;for(var oe=0;oe<Ce&&(Y=ul(le,oe*4))!==K;++oe)X.push(Y);w(ul(le,V-4),G-1,U,V,X)}}function T(F,G,U,V,X){var Y=[],le=[];X||(X=[]);var Ce=V-1,oe=0,ue=0;for(oe=G;oe>=0;){X[oe]=!0,Y[Y.length]=oe,le.push(F[oe]);var de=U[Math.floor(oe*4/V)];if(ue=oe*4&Ce,V<4+ue)throw new Error("FAT boundary crossed: "+oe+" 4 "+V);if(!F[de])break;oe=ul(F[de],ue)}return{nodes:Y,data:Q4([le])}}function A(F,G,U,V){var X=F.length,Y=[],le=[],Ce=[],oe=[],ue=V-1,de=0,Re=0,je=0,Ge=0;for(de=0;de<X;++de)if(Ce=[],je=de+G,je>=X&&(je-=X),!le[je]){oe=[];var Fe=[];for(Re=je;Re>=0;){Fe[Re]=!0,le[Re]=!0,Ce[Ce.length]=Re,oe.push(F[Re]);var Ve=U[Math.floor(Re*4/V)];if(Ge=Re*4&ue,V<4+Ge)throw new Error("FAT boundary crossed: "+Re+" 4 "+V);if(!F[Ve]||(Re=ul(F[Ve],Ge),Fe[Re]))break}Y[je]={nodes:Ce,data:Q4([oe])}}return Y}function C(F,G,U,V,X,Y,le,Ce){for(var oe=0,ue=V.length?2:0,de=G[F].data,Re=0,je=0,Ge;Re<de.length;Re+=128){var Fe=de.slice(Re,Re+128);li(Fe,64),je=Fe.read_shift(2),Ge=J1(Fe,0,je-ue),V.push(Ge);var Ve={name:Ge,type:Fe.read_shift(1),color:Fe.read_shift(1),L:Fe.read_shift(4,"i"),R:Fe.read_shift(4,"i"),C:Fe.read_shift(4,"i"),clsid:Fe.read_shift(16),state:Fe.read_shift(4,"i"),start:0,size:0},et=Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2);et!==0&&(Ve.ct=_(Fe,Fe.l-8));var an=Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2)+Fe.read_shift(2);an!==0&&(Ve.mt=_(Fe,Fe.l-8)),Ve.start=Fe.read_shift(4,"i"),Ve.size=Fe.read_shift(4,"i"),Ve.size<0&&Ve.start<0&&(Ve.size=Ve.type=0,Ve.start=K,Ve.name=""),Ve.type===5?(oe=Ve.start,X>0&&oe!==K&&(G[oe].name="!StreamData")):Ve.size>=4096?(Ve.storage="fat",G[Ve.start]===void 0&&(G[Ve.start]=T(U,Ve.start,G.fat_addrs,G.ssz)),G[Ve.start].name=Ve.name,Ve.content=G[Ve.start].data.slice(0,Ve.size)):(Ve.storage="minifat",Ve.size<0?Ve.size=0:oe!==K&&Ve.start!==K&&G[oe]&&(Ve.content=b(Ve,G[oe].data,(G[Ce]||{}).data))),Ve.content&&li(Ve.content,0),Y[Ge]=Ve,le.push(Ve)}}function _(F,G){return new Date((ci(F,G+4)/1e7*Math.pow(2,32)+ci(F,G)/1e7-11644473600)*1e3)}function B(F,G){return h(),d(f.readFileSync(F),G)}function N(F,G){var U=G&&G.type;switch(U||jt&&Buffer.isBuffer(F)&&(U="buffer"),U||"base64"){case"file":return B(F,G);case"base64":return d(zi(qs(F)),G);case"binary":return d(zi(F),G)}return d(F,G)}function O(F,G){var U=G||{},V=U.root||"Root Entry";if(F.FullPaths||(F.FullPaths=[]),F.FileIndex||(F.FileIndex=[]),F.FullPaths.length!==F.FileIndex.length)throw new Error("inconsistent CFB structure");F.FullPaths.length===0&&(F.FullPaths[0]=V+"/",F.FileIndex[0]={name:V,type:5}),U.CLSID&&(F.FileIndex[0].clsid=U.CLSID),z(F)}function z(F){var G="Sh33tJ5";if(!en.find(F,"/"+G)){var U=Se(4);U[0]=55,U[1]=U[3]=50,U[2]=54,F.FileIndex.push({name:G,type:2,content:U,size:4,L:69,R:69,C:69}),F.FullPaths.push(F.FullPaths[0]+G),R(F)}}function R(F,G){O(F);for(var U=!1,V=!1,X=F.FullPaths.length-1;X>=0;--X){var Y=F.FileIndex[X];switch(Y.type){case 0:V?U=!0:(F.FileIndex.pop(),F.FullPaths.pop());break;case 1:case 2:case 5:V=!0,isNaN(Y.R*Y.L*Y.C)&&(U=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(U=!0);break;default:U=!0;break}}if(!(!U&&!G)){var le=new Date(1987,1,19),Ce=0,oe=Object.create?Object.create(null):{},ue=[];for(X=0;X<F.FullPaths.length;++X)oe[F.FullPaths[X]]=!0,F.FileIndex[X].type!==0&&ue.push([F.FullPaths[X],F.FileIndex[X]]);for(X=0;X<ue.length;++X){var de=r(ue[X][0]);V=oe[de],V||(ue.push([de,{name:i(de).replace("/",""),type:1,clsid:Z,ct:le,mt:le,content:null}]),oe[de]=!0)}for(ue.sort(function(Ge,Fe){return t(Ge[0],Fe[0])}),F.FullPaths=[],F.FileIndex=[],X=0;X<ue.length;++X)F.FullPaths[X]=ue[X][0],F.FileIndex[X]=ue[X][1];for(X=0;X<ue.length;++X){var Re=F.FileIndex[X],je=F.FullPaths[X];if(Re.name=i(je).replace("/",""),Re.L=Re.R=Re.C=-(Re.color=1),Re.size=Re.content?Re.content.length:0,Re.start=0,Re.clsid=Re.clsid||Z,X===0)Re.C=ue.length>1?1:-1,Re.size=0,Re.type=5;else if(je.slice(-1)=="/"){for(Ce=X+1;Ce<ue.length&&r(F.FullPaths[Ce])!=je;++Ce);for(Re.C=Ce>=ue.length?-1:Ce,Ce=X+1;Ce<ue.length&&r(F.FullPaths[Ce])!=r(je);++Ce);Re.R=Ce>=ue.length?-1:Ce,Re.type=1}else r(F.FullPaths[X+1]||"")==r(je)&&(Re.R=X+1),Re.type=2}}}function I(F,G){var U=G||{};if(U.fileType=="mad")return lt(F,U);switch(R(F),U.fileType){case"zip":return Kt(F,U)}var V=(function(Ge){for(var Fe=0,Ve=0,et=0;et<Ge.FileIndex.length;++et){var an=Ge.FileIndex[et];if(an.content){var ln=an.content.length;ln>0&&(ln<4096?Fe+=ln+63>>6:Ve+=ln+511>>9)}}for(var pn=Ge.FullPaths.length+3>>2,di=Fe+7>>3,qa=Fe+127>>7,Qs=di+Ve+pn+qa,Zi=Qs+127>>7,ac=Zi<=109?0:Math.ceil((Zi-109)/127);Qs+Zi+ac+127>>7>Zi;)ac=++Zi<=109?0:Math.ceil((Zi-109)/127);var Rr=[1,ac,Zi,qa,pn,Ve,Fe,0];return Ge.FileIndex[0].size=Fe<<6,Rr[7]=(Ge.FileIndex[0].start=Rr[0]+Rr[1]+Rr[2]+Rr[3]+Rr[4]+Rr[5])+(Rr[6]+7>>3),Rr})(F),X=Se(V[7]<<9),Y=0,le=0;{for(Y=0;Y<8;++Y)X.write_shift(1,ce[Y]);for(Y=0;Y<8;++Y)X.write_shift(2,0);for(X.write_shift(2,62),X.write_shift(2,3),X.write_shift(2,65534),X.write_shift(2,9),X.write_shift(2,6),Y=0;Y<3;++Y)X.write_shift(2,0);for(X.write_shift(4,0),X.write_shift(4,V[2]),X.write_shift(4,V[0]+V[1]+V[2]+V[3]-1),X.write_shift(4,0),X.write_shift(4,4096),X.write_shift(4,V[3]?V[0]+V[1]+V[2]-1:K),X.write_shift(4,V[3]),X.write_shift(-4,V[1]?V[0]-1:K),X.write_shift(4,V[1]),Y=0;Y<109;++Y)X.write_shift(-4,Y<V[2]?V[1]+Y:-1)}if(V[1])for(le=0;le<V[1];++le){for(;Y<236+le*127;++Y)X.write_shift(-4,Y<V[2]?V[1]+Y:-1);X.write_shift(-4,le===V[1]-1?K:le+1)}var Ce=function(Ge){for(le+=Ge;Y<le-1;++Y)X.write_shift(-4,Y+1);Ge&&(++Y,X.write_shift(-4,K))};for(le=Y=0,le+=V[1];Y<le;++Y)X.write_shift(-4,re.DIFSECT);for(le+=V[2];Y<le;++Y)X.write_shift(-4,re.FATSECT);Ce(V[3]),Ce(V[4]);for(var oe=0,ue=0,de=F.FileIndex[0];oe<F.FileIndex.length;++oe)de=F.FileIndex[oe],de.content&&(ue=de.content.length,!(ue<4096)&&(de.start=le,Ce(ue+511>>9)));for(Ce(V[6]+7>>3);X.l&511;)X.write_shift(-4,re.ENDOFCHAIN);for(le=Y=0,oe=0;oe<F.FileIndex.length;++oe)de=F.FileIndex[oe],de.content&&(ue=de.content.length,!(!ue||ue>=4096)&&(de.start=le,Ce(ue+63>>6)));for(;X.l&511;)X.write_shift(-4,re.ENDOFCHAIN);for(Y=0;Y<V[4]<<2;++Y){var Re=F.FullPaths[Y];if(!Re||Re.length===0){for(oe=0;oe<17;++oe)X.write_shift(4,0);for(oe=0;oe<3;++oe)X.write_shift(4,-1);for(oe=0;oe<12;++oe)X.write_shift(4,0);continue}de=F.FileIndex[Y],Y===0&&(de.start=de.size?de.start-1:K);var je=Y===0&&U.root||de.name;if(ue=2*(je.length+1),X.write_shift(64,je,"utf16le"),X.write_shift(2,ue),X.write_shift(1,de.type),X.write_shift(1,de.color),X.write_shift(-4,de.L),X.write_shift(-4,de.R),X.write_shift(-4,de.C),de.clsid)X.write_shift(16,de.clsid,"hex");else for(oe=0;oe<4;++oe)X.write_shift(4,0);X.write_shift(4,de.state||0),X.write_shift(4,0),X.write_shift(4,0),X.write_shift(4,0),X.write_shift(4,0),X.write_shift(4,de.start),X.write_shift(4,de.size),X.write_shift(4,0)}for(Y=1;Y<F.FileIndex.length;++Y)if(de=F.FileIndex[Y],de.size>=4096)if(X.l=de.start+1<<9,jt&&Buffer.isBuffer(de.content))de.content.copy(X,X.l,0,de.size),X.l+=de.size+511&-512;else{for(oe=0;oe<de.size;++oe)X.write_shift(1,de.content[oe]);for(;oe&511;++oe)X.write_shift(1,0)}for(Y=1;Y<F.FileIndex.length;++Y)if(de=F.FileIndex[Y],de.size>0&&de.size<4096)if(jt&&Buffer.isBuffer(de.content))de.content.copy(X,X.l,0,de.size),X.l+=de.size+63&-64;else{for(oe=0;oe<de.size;++oe)X.write_shift(1,de.content[oe]);for(;oe&63;++oe)X.write_shift(1,0)}if(jt)X.l=X.length;else for(;X.l<X.length;)X.write_shift(1,0);return X}function P(F,G){var U=F.FullPaths.map(function(oe){return oe.toUpperCase()}),V=U.map(function(oe){var ue=oe.split("/");return ue[ue.length-(oe.slice(-1)=="/"?2:1)]}),X=!1;G.charCodeAt(0)===47?(X=!0,G=U[0].slice(0,-1)+G):X=G.indexOf("/")!==-1;var Y=G.toUpperCase(),le=X===!0?U.indexOf(Y):V.indexOf(Y);if(le!==-1)return F.FileIndex[le];var Ce=!Y.match(Ou);for(Y=Y.replace(o0,""),Ce&&(Y=Y.replace(Ou,"!")),le=0;le<U.length;++le)if((Ce?U[le].replace(Ou,"!"):U[le]).replace(o0,"")==Y||(Ce?V[le].replace(Ou,"!"):V[le]).replace(o0,"")==Y)return F.FileIndex[le];return null}var q=64,K=-2,ie="d0cf11e0a1b11ae1",ce=[208,207,17,224,161,177,26,225],Z="00000000000000000000000000000000",re={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:K,FREESECT:-1,HEADER_SIGNATURE:ie,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function xe(F,G,U){h();var V=I(F,U);f.writeFileSync(G,V)}function Ee(F){for(var G=new Array(F.length),U=0;U<F.length;++U)G[U]=String.fromCharCode(F[U]);return G.join("")}function Oe(F,G){var U=I(F,G);switch(G&&G.type||"buffer"){case"file":return h(),f.writeFileSync(G.filename,U),U;case"binary":return typeof U=="string"?U:Ee(U);case"base64":return A0(typeof U=="string"?U:Ee(U));case"buffer":if(jt)return Buffer.isBuffer(U)?U:Ys(U);case"array":return typeof U=="string"?zi(U):U}return U}var j;function D(F){try{var G=F.InflateRaw,U=new G;if(U._processChunk(new Uint8Array([3,0]),U._finishFlushFlag),U.bytesRead)j=F;else throw new Error("zlib does not expose bytesRead")}catch(V){console.error("cannot use native zlib: "+(V.message||V))}}function M(F,G){if(!j)return $r(F,G);var U=j.InflateRaw,V=new U,X=V._processChunk(F.slice(F.l),V._finishFlushFlag);return F.l+=V.bytesRead,X}function L(F){return j?j.deflateRawSync(F):ft(F)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],be=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ve(F){var G=(F<<1|F<<11)&139536|(F<<5|F<<15)&558144;return(G>>16|G>>8|G)&255}for(var Te=typeof Uint8Array<"u",ye=Te?new Uint8Array(256):[],st=0;st<256;++st)ye[st]=ve(st);function Ye(F,G){var U=ye[F&255];return G<=8?U>>>8-G:(U=U<<8|ye[F>>8&255],G<=16?U>>>16-G:(U=U<<8|ye[F>>16&255],U>>>24-G))}function dt(F,G){var U=G&7,V=G>>>3;return(F[V]|(U<=6?0:F[V+1]<<8))>>>U&3}function We(F,G){var U=G&7,V=G>>>3;return(F[V]|(U<=5?0:F[V+1]<<8))>>>U&7}function Le(F,G){var U=G&7,V=G>>>3;return(F[V]|(U<=4?0:F[V+1]<<8))>>>U&15}function Ue(F,G){var U=G&7,V=G>>>3;return(F[V]|(U<=3?0:F[V+1]<<8))>>>U&31}function Ne(F,G){var U=G&7,V=G>>>3;return(F[V]|(U<=1?0:F[V+1]<<8))>>>U&127}function Qe(F,G,U){var V=G&7,X=G>>>3,Y=(1<<U)-1,le=F[X]>>>V;return U<8-V||(le|=F[X+1]<<8-V,U<16-V)||(le|=F[X+2]<<16-V,U<24-V)||(le|=F[X+3]<<24-V),le&Y}function ct(F,G,U){var V=G&7,X=G>>>3;return V<=5?F[X]|=(U&7)<<V:(F[X]|=U<<V&255,F[X+1]=(U&7)>>8-V),G+3}function yt(F,G,U){var V=G&7,X=G>>>3;return U=(U&1)<<V,F[X]|=U,G+1}function It(F,G,U){var V=G&7,X=G>>>3;return U<<=V,F[X]|=U&255,U>>>=8,F[X+1]=U,G+8}function zt(F,G,U){var V=G&7,X=G>>>3;return U<<=V,F[X]|=U&255,U>>>=8,F[X+1]=U&255,F[X+2]=U>>>8,G+16}function $t(F,G){var U=F.length,V=2*U>G?2*U:G+5,X=0;if(U>=G)return F;if(jt){var Y=L4(V);if(F.copy)F.copy(Y);else for(;X<F.length;++X)Y[X]=F[X];return Y}else if(Te){var le=new Uint8Array(V);if(le.set)le.set(F);else for(;X<U;++X)le[X]=F[X];return le}return F.length=V,F}function fe(F){for(var G=new Array(F),U=0;U<F;++U)G[U]=0;return G}function Pe(F,G,U){var V=1,X=0,Y=0,le=0,Ce=0,oe=F.length,ue=Te?new Uint16Array(32):fe(32);for(Y=0;Y<32;++Y)ue[Y]=0;for(Y=oe;Y<U;++Y)F[Y]=0;oe=F.length;var de=Te?new Uint16Array(oe):fe(oe);for(Y=0;Y<oe;++Y)ue[X=F[Y]]++,V<X&&(V=X),de[Y]=0;for(ue[0]=0,Y=1;Y<=V;++Y)ue[Y+16]=Ce=Ce+ue[Y-1]<<1;for(Y=0;Y<oe;++Y)Ce=F[Y],Ce!=0&&(de[Y]=ue[Ce+16]++);var Re=0;for(Y=0;Y<oe;++Y)if(Re=F[Y],Re!=0)for(Ce=Ye(de[Y],V)>>V-Re,le=(1<<V+4-Re)-1;le>=0;--le)G[Ce|le<<Re]=Re&15|Y<<4;return V}var ke=Te?new Uint16Array(512):fe(512),rt=Te?new Uint16Array(32):fe(32);if(!Te){for(var bt=0;bt<512;++bt)ke[bt]=0;for(bt=0;bt<32;++bt)rt[bt]=0}(function(){for(var F=[],G=0;G<32;G++)F.push(5);Pe(F,rt,32);var U=[];for(G=0;G<=143;G++)U.push(8);for(;G<=255;G++)U.push(9);for(;G<=279;G++)U.push(7);for(;G<=287;G++)U.push(8);Pe(U,ke,288)})();var Yt=(function(){for(var G=Te?new Uint8Array(32768):[],U=0,V=0;U<be.length-1;++U)for(;V<be[U+1];++V)G[V]=U;for(;V<32768;++V)G[V]=29;var X=Te?new Uint8Array(259):[];for(U=0,V=0;U<ee.length-1;++U)for(;V<ee[U+1];++V)X[V]=U;function Y(Ce,oe){for(var ue=0;ue<Ce.length;){var de=Math.min(65535,Ce.length-ue),Re=ue+de==Ce.length;for(oe.write_shift(1,+Re),oe.write_shift(2,de),oe.write_shift(2,~de&65535);de-- >0;)oe[oe.l++]=Ce[ue++]}return oe.l}function le(Ce,oe){for(var ue=0,de=0,Re=Te?new Uint16Array(32768):[];de<Ce.length;){var je=Math.min(65535,Ce.length-de);if(je<10){for(ue=ct(oe,ue,+(de+je==Ce.length)),ue&7&&(ue+=8-(ue&7)),oe.l=ue/8|0,oe.write_shift(2,je),oe.write_shift(2,~je&65535);je-- >0;)oe[oe.l++]=Ce[de++];ue=oe.l*8;continue}ue=ct(oe,ue,+(de+je==Ce.length)+2);for(var Ge=0;je-- >0;){var Fe=Ce[de];Ge=(Ge<<5^Fe)&32767;var Ve=-1,et=0;if((Ve=Re[Ge])&&(Ve|=de&-32768,Ve>de&&(Ve-=32768),Ve<de))for(;Ce[Ve+et]==Ce[de+et]&&et<250;)++et;if(et>2){Fe=X[et],Fe<=22?ue=It(oe,ue,ye[Fe+1]>>1)-1:(It(oe,ue,3),ue+=5,It(oe,ue,ye[Fe-23]>>5),ue+=3);var an=Fe<8?0:Fe-4>>2;an>0&&(zt(oe,ue,et-ee[Fe]),ue+=an),Fe=G[de-Ve],ue=It(oe,ue,ye[Fe]>>3),ue-=3;var ln=Fe<4?0:Fe-2>>1;ln>0&&(zt(oe,ue,de-Ve-be[Fe]),ue+=ln);for(var pn=0;pn<et;++pn)Re[Ge]=de&32767,Ge=(Ge<<5^Ce[de])&32767,++de;je-=et-1}else Fe<=143?Fe=Fe+48:ue=yt(oe,ue,1),ue=It(oe,ue,ye[Fe]),Re[Ge]=de&32767,++de}ue=It(oe,ue,0)-1}return oe.l=(ue+7)/8|0,oe.l}return function(oe,ue){return oe.length<8?Y(oe,ue):le(oe,ue)}})();function ft(F){var G=Se(50+Math.floor(F.length*1.1)),U=Yt(F,G);return G.slice(0,U)}var Ot=Te?new Uint16Array(32768):fe(32768),An=Te?new Uint16Array(32768):fe(32768),Br=Te?new Uint16Array(128):fe(128),bn=1,vn=1;function yn(F,G){var U=Ue(F,G)+257;G+=5;var V=Ue(F,G)+1;G+=5;var X=Le(F,G)+4;G+=4;for(var Y=0,le=Te?new Uint8Array(19):fe(19),Ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],oe=1,ue=Te?new Uint8Array(8):fe(8),de=Te?new Uint8Array(8):fe(8),Re=le.length,je=0;je<X;++je)le[W[je]]=Y=We(F,G),oe<Y&&(oe=Y),ue[Y]++,G+=3;var Ge=0;for(ue[0]=0,je=1;je<=oe;++je)de[je]=Ge=Ge+ue[je-1]<<1;for(je=0;je<Re;++je)(Ge=le[je])!=0&&(Ce[je]=de[Ge]++);var Fe=0;for(je=0;je<Re;++je)if(Fe=le[je],Fe!=0){Ge=ye[Ce[je]]>>8-Fe;for(var Ve=(1<<7-Fe)-1;Ve>=0;--Ve)Br[Ge|Ve<<Fe]=Fe&7|je<<3}var et=[];for(oe=1;et.length<U+V;)switch(Ge=Br[Ne(F,G)],G+=Ge&7,Ge>>>=3){case 16:for(Y=3+dt(F,G),G+=2,Ge=et[et.length-1];Y-- >0;)et.push(Ge);break;case 17:for(Y=3+We(F,G),G+=3;Y-- >0;)et.push(0);break;case 18:for(Y=11+Ne(F,G),G+=7;Y-- >0;)et.push(0);break;default:et.push(Ge),oe<Ge&&(oe=Ge);break}var an=et.slice(0,U),ln=et.slice(U);for(je=U;je<286;++je)an[je]=0;for(je=V;je<30;++je)ln[je]=0;return bn=Pe(an,Ot,286),vn=Pe(ln,An,30),G}function Ki(F,G){if(F[0]==3&&!(F[1]&3))return[Sl(G),2];for(var U=0,V=0,X=L4(G||1<<18),Y=0,le=X.length>>>0,Ce=0,oe=0;(V&1)==0;){if(V=We(F,U),U+=3,V>>>1)V>>1==1?(Ce=9,oe=5):(U=yn(F,U),Ce=bn,oe=vn);else{U&7&&(U+=8-(U&7));var ue=F[U>>>3]|F[(U>>>3)+1]<<8;if(U+=32,ue>0)for(!G&&le<Y+ue&&(X=$t(X,Y+ue),le=X.length);ue-- >0;)X[Y++]=F[U>>>3],U+=8;continue}for(;;){!G&&le<Y+32767&&(X=$t(X,Y+32767),le=X.length);var de=Qe(F,U,Ce),Re=V>>>1==1?ke[de]:Ot[de];if(U+=Re&15,Re>>>=4,(Re>>>8&255)===0)X[Y++]=Re;else{if(Re==256)break;Re-=257;var je=Re<8?0:Re-4>>2;je>5&&(je=0);var Ge=Y+ee[Re];je>0&&(Ge+=Qe(F,U,je),U+=je),de=Qe(F,U,oe),Re=V>>>1==1?rt[de]:An[de],U+=Re&15,Re>>>=4;var Fe=Re<4?0:Re-2>>1,Ve=be[Re];for(Fe>0&&(Ve+=Qe(F,U,Fe),U+=Fe),!G&&le<Ge&&(X=$t(X,Ge+100),le=X.length);Y<Ge;)X[Y]=X[Y-Ve],++Y}}}return G?[X,U+7>>>3]:[X.slice(0,Y),U+7>>>3]}function $r(F,G){var U=F.slice(F.l||0),V=Ki(U,G);return F.l+=V[1],V[0]}function Qi(F,G){if(F)typeof console<"u"&&console.error(G);else throw new Error(G)}function Nr(F,G){var U=F;li(U,0);var V=[],X=[],Y={FileIndex:V,FullPaths:X};O(Y,{root:G.root});for(var le=U.length-4;(U[le]!=80||U[le+1]!=75||U[le+2]!=5||U[le+3]!=6)&&le>=0;)--le;U.l=le+4,U.l+=4;var Ce=U.read_shift(2);U.l+=6;var oe=U.read_shift(4);for(U.l=oe,le=0;le<Ce;++le){U.l+=20;var ue=U.read_shift(4),de=U.read_shift(4),Re=U.read_shift(2),je=U.read_shift(2),Ge=U.read_shift(2);U.l+=8;var Fe=U.read_shift(4),Ve=c(U.slice(U.l+Re,U.l+Re+je));U.l+=Re+je+Ge;var et=U.l;U.l=Fe+4,hi(U,ue,de,Y,Ve),U.l=et}return Y}function hi(F,G,U,V,X){F.l+=2;var Y=F.read_shift(2),le=F.read_shift(2),Ce=l(F);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var oe=F.read_shift(4),ue=F.read_shift(4),de=F.read_shift(4),Re=F.read_shift(2),je=F.read_shift(2),Ge="",Fe=0;Fe<Re;++Fe)Ge+=String.fromCharCode(F[F.l++]);if(je){var Ve=c(F.slice(F.l,F.l+je));(Ve[21589]||{}).mt&&(Ce=Ve[21589].mt),((X||{})[21589]||{}).mt&&(Ce=X[21589].mt)}F.l+=je;var et=F.slice(F.l,F.l+ue);switch(le){case 8:et=M(F,de);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+le)}var an=!1;Y&8&&(oe=F.read_shift(4),oe==134695760&&(oe=F.read_shift(4),an=!0),ue=F.read_shift(4),de=F.read_shift(4)),ue!=G&&Qi(an,"Bad compressed size: "+G+" != "+ue),de!=U&&Qi(an,"Bad uncompressed size: "+U+" != "+de),ut(V,Ge,et,{unsafe:!0,mt:Ce})}function Kt(F,G){var U=G||{},V=[],X=[],Y=Se(1),le=U.compression?8:0,Ce=0,oe=0,ue=0,de=0,Re=0,je=F.FullPaths[0],Ge=je,Fe=F.FileIndex[0],Ve=[],et=0;for(oe=1;oe<F.FullPaths.length;++oe)if(Ge=F.FullPaths[oe].slice(je.length),Fe=F.FileIndex[oe],!(!Fe.size||!Fe.content||Ge=="Sh33tJ5")){var an=de,ln=Se(Ge.length);for(ue=0;ue<Ge.length;++ue)ln.write_shift(1,Ge.charCodeAt(ue)&127);ln=ln.slice(0,ln.l),Ve[Re]=DO.buf(Fe.content,0);var pn=Fe.content;le==8&&(pn=L(pn)),Y=Se(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,Ce),Y.write_shift(2,le),Fe.mt?s(Y,Fe.mt):Y.write_shift(4,0),Y.write_shift(-4,Ve[Re]),Y.write_shift(4,pn.length),Y.write_shift(4,Fe.content.length),Y.write_shift(2,ln.length),Y.write_shift(2,0),de+=Y.length,V.push(Y),de+=ln.length,V.push(ln),de+=pn.length,V.push(pn),Y=Se(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,Ce),Y.write_shift(2,le),Y.write_shift(4,0),Y.write_shift(-4,Ve[Re]),Y.write_shift(4,pn.length),Y.write_shift(4,Fe.content.length),Y.write_shift(2,ln.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,an),et+=Y.l,X.push(Y),et+=ln.length,X.push(ln),++Re}return Y=Se(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,Re),Y.write_shift(2,Re),Y.write_shift(4,et),Y.write_shift(4,de),Y.write_shift(2,0),cr([cr(V),cr(X),Y])}var Ht={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function dn(F,G){if(F.ctype)return F.ctype;var U=F.name||"",V=U.match(/\.([^\.]+)$/);return V&&Ht[V[1]]||G&&(V=(U=G).match(/[\.\\]([^\.\\])+$/),V&&Ht[V[1]])?Ht[V[1]]:"application/octet-stream"}function pe(F){for(var G=A0(F),U=[],V=0;V<G.length;V+=76)U.push(G.slice(V,V+76));return U.join(`\r
`)+`\r
`}function Me(F){var G=F.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ue){var de=ue.charCodeAt(0).toString(16).toUpperCase();return"="+(de.length==1?"0"+de:de)});G=G.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),G.charAt(0)==`
`&&(G="=0D"+G.slice(1)),G=G.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var U=[],V=G.split(`\r
`),X=0;X<V.length;++X){var Y=V[X];if(Y.length==0){U.push("");continue}for(var le=0;le<Y.length;){var Ce=76,oe=Y.slice(le,le+Ce);oe.charAt(Ce-1)=="="?Ce--:oe.charAt(Ce-2)=="="?Ce-=2:oe.charAt(Ce-3)=="="&&(Ce-=3),oe=Y.slice(le,le+Ce),le+=Ce,le<Y.length&&(oe+="="),U.push(oe)}}return U.join(`\r
`)}function Ie(F){for(var G=[],U=0;U<F.length;++U){for(var V=F[U];U<=F.length&&V.charAt(V.length-1)=="=";)V=V.slice(0,V.length-1)+F[++U];G.push(V)}for(var X=0;X<G.length;++X)G[X]=G[X].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return zi(G.join(`\r
`))}function tt(F,G,U){for(var V="",X="",Y="",le,Ce=0;Ce<10;++Ce){var oe=G[Ce];if(!oe||oe.match(/^\s*$/))break;var ue=oe.match(/^(.*?):\s*([^\s].*)$/);if(ue)switch(ue[1].toLowerCase()){case"content-location":V=ue[2].trim();break;case"content-type":Y=ue[2].trim();break;case"content-transfer-encoding":X=ue[2].trim();break}}switch(++Ce,X.toLowerCase()){case"base64":le=zi(qs(G.slice(Ce).join("")));break;case"quoted-printable":le=Ie(G.slice(Ce));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+X)}var de=ut(F,V.slice(U.length),le,{unsafe:!0});Y&&(de.ctype=Y)}function Ze(F,G){if(Ee(F.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var U=G&&G.root||"",V=(jt&&Buffer.isBuffer(F)?F.toString("binary"):Ee(F)).split(`\r
`),X=0,Y="";for(X=0;X<V.length;++X)if(Y=V[X],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),U||(U=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,U.length)!=U))for(;U.length>0&&(U=U.slice(0,U.length-1),U=U.slice(0,U.lastIndexOf("/")+1),Y.slice(0,U.length)!=U););var le=(V[1]||"").match(/boundary="(.*?)"/);if(!le)throw new Error("MAD cannot find boundary");var Ce="--"+(le[1]||""),oe=[],ue=[],de={FileIndex:oe,FullPaths:ue};O(de);var Re,je=0;for(X=0;X<V.length;++X){var Ge=V[X];Ge!==Ce&&Ge!==Ce+"--"||(je++&&tt(de,V.slice(Re,X),U),Re=X)}return de}function lt(F,G){var U=G||{},V=U.boundary||"SheetJS";V="------="+V;for(var X=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+V.slice(2)+'"',"","",""],Y=F.FullPaths[0],le=Y,Ce=F.FileIndex[0],oe=1;oe<F.FullPaths.length;++oe)if(le=F.FullPaths[oe].slice(Y.length),Ce=F.FileIndex[oe],!(!Ce.size||!Ce.content||le=="Sh33tJ5")){le=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(et){return"_x"+et.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(et){return"_u"+et.charCodeAt(0).toString(16)+"_"});for(var ue=Ce.content,de=jt&&Buffer.isBuffer(ue)?ue.toString("binary"):Ee(ue),Re=0,je=Math.min(1024,de.length),Ge=0,Fe=0;Fe<=je;++Fe)(Ge=de.charCodeAt(Fe))>=32&&Ge<128&&++Re;var Ve=Re>=je*4/5;X.push(V),X.push("Content-Location: "+(U.root||"file:///C:/SheetJS/")+le),X.push("Content-Transfer-Encoding: "+(Ve?"quoted-printable":"base64")),X.push("Content-Type: "+dn(Ce,le)),X.push(""),X.push(Ve?Me(de):pe(de))}return X.push(V+`--\r
`),X.join(`\r
`)}function ht(F){var G={};return O(G,F),G}function ut(F,G,U,V){var X=V&&V.unsafe;X||O(F);var Y=!X&&en.find(F,G);if(!Y){var le=F.FullPaths[0];G.slice(0,le.length)==le?le=G:(le.slice(-1)!="/"&&(le+="/"),le=(le+G).replace("//","/")),Y={name:i(G),type:2},F.FileIndex.push(Y),F.FullPaths.push(le),X||en.utils.cfb_gc(F)}return Y.content=U,Y.size=U?U.length:0,V&&(V.CLSID&&(Y.clsid=V.CLSID),V.mt&&(Y.mt=V.mt),V.ct&&(Y.ct=V.ct)),Y}function Bt(F,G){O(F);var U=en.find(F,G);if(U){for(var V=0;V<F.FileIndex.length;++V)if(F.FileIndex[V]==U)return F.FileIndex.splice(V,1),F.FullPaths.splice(V,1),!0}return!1}function Tn(F,G,U){O(F);var V=en.find(F,G);if(V){for(var X=0;X<F.FileIndex.length;++X)if(F.FileIndex[X]==V)return F.FileIndex[X].name=i(U),F.FullPaths[X]=U,!0}return!1}function Bn(F){R(F,!0)}return e.find=P,e.read=N,e.parse=d,e.write=Oe,e.writeFile=xe,e.utils={cfb_new:ht,cfb_add:ut,cfb_del:Bt,cfb_mov:Tn,cfb_gc:Bn,ReadShift:f0,CheckField:OA,prep_blob:li,bconcat:cr,use_zlib:D,_deflateRaw:ft,_inflateRaw:$r,consts:re},e})();function kO(n){return typeof n=="string"?tp(n):Array.isArray(n)?tO(n):n}function J0(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=tp(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?_0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([kO(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=n,l.href=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(n);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=Z0(e)),c.write(e),c.close(),e}catch(f){if(!f.message||!f.message.match(/onstruct/))throw f}throw new Error("cannot save file "+n)}function dr(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function q4(n,e){for(var t=[],r=dr(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function Y1(n){for(var e=[],t=dr(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function ip(n){for(var e=[],t=dr(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function OO(n){for(var e=[],t=dr(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var fd=new Date(1899,11,30,0,0,0);function Wr(n,e){var t=n.getTime(),r=fd.getTime()+(n.getTimezoneOffset()-fd.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var dA=new Date,BO=fd.getTime()+(dA.getTimezoneOffset()-fd.getTimezoneOffset())*6e4,W4=dA.getTimezoneOffset();function pA(n){var e=new Date;return e.setTime(n*24*60*60*1e3+BO),e.getTimezoneOffset()!==W4&&e.setTime(e.getTime()+(e.getTimezoneOffset()-W4)*6e4),e}var G4=new Date("2017-02-19T19:06:09.000Z"),mA=isNaN(G4.getFullYear())?new Date("2/19/17"):G4,NO=mA.getFullYear()==2017;function _r(n,e){var t=new Date(n);if(NO)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(mA.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function sp(n,e){if(jt&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function Gr(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=Gr(n[t]));return e}function En(n,e){for(var t="";t.length<e;)t+=n;return t}function Hs(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var RO=["january","february","march","april","may","june","july","august","september","october","november","december"];function T0(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var l=n.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&RO.indexOf(l)==-1)return t}else if(l.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function vt(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return jt?r=Ys(t):r=nO(t),en.utils.cfb_add(n,e,r)}en.utils.cfb_add(n,e,t)}else n.file(e,t)}function K1(){return en.utils.cfb_new()}var zn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,FO={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Q1=Y1(FO),Z1=/[&<>'"]/g,MO=/[\u0000-\u0008\u000b-\u001f]/g;function Gt(n){var e=n+"";return e.replace(Z1,function(t){return Q1[t]}).replace(MO,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function X4(n){return Gt(n).replace(/ /g,"_x0020_")}var gA=/[\u0000-\u001f]/g;function LO(n){var e=n+"";return e.replace(Z1,function(t){return Q1[t]}).replace(/\n/g,"<br/>").replace(gA,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function IO(n){var e=n+"";return e.replace(Z1,function(t){return Q1[t]}).replace(gA,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function PO(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function jO(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Vg(n){for(var e="",t=0,r=0,i=0,s=0,l=0,c=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){l=(r&31)<<6,l|=i&63,e+=String.fromCharCode(l);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}l=n.charCodeAt(t++),c=((r&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function $4(n){var e=Sl(2*n.length),t,r,i=1,s=0,l=0,c;for(r=0;r<n.length;r+=i)i=1,(c=n.charCodeAt(r))<128?t=c:c<224?(t=(c&31)*64+(n.charCodeAt(r+1)&63),i=2):c<240?(t=(c&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(c&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,l=55296+(t>>>10&1023),t=56320+(t&1023)),l!==0&&(e[s++]=l&255,e[s++]=l>>>8,l=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function Y4(n){return Ys(n,"binary").toString("utf8")}var Nu="foo bar baz",c0=jt&&(Y4(Nu)==Vg(Nu)&&Y4||$4(Nu)==Vg(Nu)&&$4)||Vg,_0=jt?function(n){return Ys(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},zO=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}})(),xA=/(^\s|\s$|\n)/;function fr(n,e){return"<"+n+(e.match(xA)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function D0(n){return dr(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function ze(n,e,t){return"<"+n+(t!=null?D0(t):"")+(e!=null?(e.match(xA)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function Lx(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function HO(n,e){switch(typeof n){case"string":var t=ze("vt:lpwstr",Gt(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return ze((n|0)==n?"vt:i4":"vt:r8",Gt(String(n)));case"boolean":return ze("vt:bool",n?"true":"false")}if(n instanceof Date)return ze("vt:filetime",Lx(n));throw new Error("Unable to serialize "+n)}var Yn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ko=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],oi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function UO(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,s=5;s>=0;--s)i=i*256+n[e+s];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function VO(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,l=r?-e:e;isFinite(l)?l==0?i=s=0:(i=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)n[t+c]=s&255;n[t+6]=(i&15)<<4|s&15,n[t+7]=i>>4|r}var K4=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},Q4=jt?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:Ys(e)})):K4(n)}:K4,Z4=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(n0(n,i)));return r.join("").replace(o0,"")},J1=jt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(o0,""):Z4(n,e,t)}:Z4,J4=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},vA=jt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):J4(n,e,t)}:J4,ew=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(So(n,i)));return r.join("")},ef=jt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):ew(e,t,r)}:ew,yA=function(n,e){var t=ci(n,e);return t>0?ef(n,e+4,e+4+t-1):""},bA=yA,SA=function(n,e){var t=ci(n,e);return t>0?ef(n,e+4,e+4+t-1):""},wA=SA,EA=function(n,e){var t=2*ci(n,e);return t>0?ef(n,e+4,e+4+t-1):""},CA=EA,AA=function(e,t){var r=ci(e,t);return r>0?J1(e,t+4,t+4+r):""},TA=AA,_A=function(n,e){var t=ci(n,e);return t>0?ef(n,e+4,e+4+t):""},DA=_A,kA=function(n,e){return UO(n,e)},ud=kA,ev=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};jt&&(bA=function(e,t){if(!Buffer.isBuffer(e))return yA(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},wA=function(e,t){if(!Buffer.isBuffer(e))return SA(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},CA=function(e,t){if(!Buffer.isBuffer(e))return EA(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},TA=function(e,t){if(!Buffer.isBuffer(e))return AA(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},DA=function(e,t){if(!Buffer.isBuffer(e))return _A(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},ud=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):kA(e,t)},ev=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var So=function(n,e){return n[e]},n0=function(n,e){return n[e+1]*256+n[e]},qO=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},ci=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},ul=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},WO=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function f0(n,e){var t="",r,i,s=[],l,c,f,h;switch(e){case"dbcs":if(h=this.l,jt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(f=0;f<n;++f)t+=String.fromCharCode(n0(this,h)),h+=2;n*=2;break;case"utf8":t=ef(this,this.l,this.l+n);break;case"utf16le":n*=2,t=J1(this,this.l,this.l+n);break;case"wstr":return f0.call(this,n,"dbcs");case"lpstr-ansi":t=bA(this,this.l),n=4+ci(this,this.l);break;case"lpstr-cp":t=wA(this,this.l),n=4+ci(this,this.l);break;case"lpwstr":t=CA(this,this.l),n=4+2*ci(this,this.l);break;case"lpp4":n=4+ci(this,this.l),t=TA(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+ci(this,this.l),t=DA(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(l=So(this,this.l+n++))!==0;)s.push(ku(l));t=s.join("");break;case"_wstr":for(n=0,t="";(l=n0(this,this.l+n))!==0;)s.push(ku(l)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",h=this.l,f=0;f<n;++f){if(this.lens&&this.lens.indexOf(h)!==-1)return l=So(this,h),this.l=h+1,c=f0.call(this,n-f,l?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(ku(n0(this,h))),h+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",h=this.l,f=0;f!=n;++f){if(this.lens&&this.lens.indexOf(h)!==-1)return l=So(this,h),this.l=h+1,c=f0.call(this,n-f,l?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(ku(So(this,h))),h+=1}t=s.join("");break;default:switch(n){case 1:return r=So(this,this.l),this.l++,r;case 2:return r=(e==="i"?qO:n0)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?ul:WO)(this,this.l),this.l+=4,r):(i=ci(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=ud(this,this.l):i=ud([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=vA(this,this.l,n);break}}return this.l+=n,t}var GO=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},XO=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},$O=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function YO(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)$O(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var l=e.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,GO(this,e,this.l);break;case 8:if(r=8,t==="f"){VO(this,e,this.l);break}case 16:break;case-4:r=4,XO(this,e,this.l);break}return this.l+=r,this}function OA(n,e){var t=vA(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function li(n,e){n.l=e,n.read_shift=f0,n.chk=OA,n.write_shift=YO}function ms(n,e){n.l+=e}function Se(n){var e=Sl(n);return li(e,0),e}function qr(){var n=[],e=jt?256:2048,t=function(h){var d=Se(h);return li(d,0),d},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(h){return r&&h<r.length-r.l?r:(i(),r=t(Math.max(h+1,e)))},l=function(){return i(),cr(n)},c=function(h){i(),r=h,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:c,end:l,_bufs:n}}function Be(n,e,t,r){var i=+e,s;if(!isNaN(i)){r||(r=UF[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var l=n.next(s);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var c=0;c!=4;++c)if(r>=128)l.write_shift(1,(r&127)+128),r>>=7;else{l.write_shift(1,r);break}r>0&&ev(t)&&n.push(t)}}function u0(n,e,t){var r=Gr(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function tw(n,e,t){var r=Gr(n);return r.s=u0(r.s,e.s,t),r.e=u0(r.e,e.s,t),r}function h0(n,e){if(n.cRel&&n.c<0)for(n=Gr(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=Gr(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Xt(n);return!n.cRel&&n.cRel!=null&&(t=ZO(t)),!n.rRel&&n.rRel!=null&&(t=KO(t)),t}function qg(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+yr(n.s.c)+":"+(n.e.cRel?"":"$")+yr(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+hr(n.s.r)+":"+(n.e.rRel?"":"$")+hr(n.e.r):h0(n.s,e.biff)+":"+h0(n.e,e.biff)}function tv(n){return parseInt(QO(n),10)-1}function hr(n){return""+(n+1)}function KO(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function QO(n){return n.replace(/\$(\d+)$/,"$1")}function nv(n){for(var e=JO(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function yr(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function ZO(n){return n.replace(/^([A-Z])/,"$$$1")}function JO(n){return n.replace(/^\$([A-Z])/,"$1")}function eB(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Qn(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Xt(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function ui(n){var e=n.indexOf(":");return e==-1?{s:Qn(n),e:Qn(n)}:{s:Qn(n.slice(0,e)),e:Qn(n.slice(e+1))}}function jn(n,e){return typeof e>"u"||typeof e=="number"?jn(n.s,n.e):(typeof n!="string"&&(n=Xt(n)),typeof e!="string"&&(e=Xt(e)),n==e?n:n+":"+e)}function hn(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function nw(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=Na(n.z,t?Wr(e):e)}catch{}try{return n.w=Na((n.XF||{}).numFmtId||(t?14:0),t?Wr(e):e)}catch{return""+e}}function Ws(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?tf[n.v]||n.v:e==null?nw(n,n.v):nw(n,e))}function Bl(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function BA(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,s=n||(i?[]:{}),l=0,c=0;if(s&&r.origin!=null){if(typeof r.origin=="number")l=r.origin;else{var f=typeof r.origin=="string"?Qn(r.origin):r.origin;l=f.r,c=f.c}s["!ref"]||(s["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=hn(s["!ref"]);h.s.c=d.s.c,h.s.r=d.s.r,h.e.c=Math.max(h.e.c,d.e.c),h.e.r=Math.max(h.e.r,d.e.r),l==-1&&(h.e.r=l=d.e.r+1)}for(var m=0;m!=e.length;++m)if(e[m]){if(!Array.isArray(e[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[m].length;++g)if(!(typeof e[m][g]>"u")){var x={v:e[m][g]},S=l+m,b=c+g;if(h.s.r>S&&(h.s.r=S),h.s.c>b&&(h.s.c=b),h.e.r<S&&(h.e.r=S),h.e.c<b&&(h.e.c=b),e[m][g]&&typeof e[m][g]=="object"&&!Array.isArray(e[m][g])&&!(e[m][g]instanceof Date))x=e[m][g];else if(Array.isArray(x.v)&&(x.f=e[m][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(r.nullError)x.t="e",x.v=0;else if(r.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=r.dateNF||Cn[14],r.cellDates?(x.t="d",x.w=Na(x.z,Wr(x.v))):(x.t="n",x.v=Wr(x.v),x.w=Na(x.z,x.v))):x.t="s";if(i)s[S]||(s[S]=[]),s[S][b]&&s[S][b].z&&(x.z=s[S][b].z),s[S][b]=x;else{var w=Xt({c:b,r:S});s[w]&&s[w].z&&(x.z=s[w].z),s[w]=x}}}return h.s.c<1e7&&(s["!ref"]=jn(h)),s}function Qo(n,e){return BA(null,n,e)}function tB(n){return n.read_shift(4,"i")}function Vi(n,e){return e||(e=Se(4)),e.write_shift(4,n),e}function br(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function Zn(n,e){var t=!1;return e==null&&(t=!0,e=Se(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function nB(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function rB(n,e){return e||(e=Se(4)),e.write_shift(2,0),e.write_shift(2,0),e}function rv(n,e){var t=n.l,r=n.read_shift(1),i=br(n),s=[],l={t:i,h:i};if((r&1)!==0){for(var c=n.read_shift(4),f=0;f!=c;++f)s.push(nB(n));l.r=s}else l.r=[{ich:0,ifnt:0}];return n.l=t+e,l}function iB(n,e){var t=!1;return e==null&&(t=!0,e=Se(15+4*n.t.length)),e.write_shift(1,0),Zn(n.t,e),t?e.slice(0,e.l):e}var sB=rv;function aB(n,e){var t=!1;return e==null&&(t=!0,e=Se(23+4*n.t.length)),e.write_shift(1,1),Zn(n.t,e),e.write_shift(4,1),rB({},e),t?e.slice(0,e.l):e}function Ri(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function Nl(n,e){return e==null&&(e=Se(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function Rl(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function Fl(n,e){return e==null&&(e=Se(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var lB=br,NA=Zn;function iv(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function hd(n,e){var t=!1;return e==null&&(t=!0,e=Se(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var oB=br,Ix=iv,sv=hd;function RA(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?ud([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):ul(e,0)>>2;return t?i/100:i}function FA(n,e){e==null&&(e=Se(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function MA(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function cB(n,e){return e||(e=Se(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var Ml=MA,Zo=cB;function Jo(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function wl(n,e){return(e||Se(8)).write_shift(8,n,"f")}function fB(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),l=n.read_shift(1),c=n.read_shift(1),f=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var h=yB[i];h&&(e.rgb=dw(h));break;case 2:e.rgb=dw([l,c,f]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function dd(n,e){if(e||(e=Se(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function uB(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function hB(n,e){e||(e=Se(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var LA=2,ii=3,Ru=11,pd=19,Fu=64,dB=65,pB=71,mB=4108,gB=4126,lr=80,rw={1:{n:"CodePage",t:LA},2:{n:"Category",t:lr},3:{n:"PresentationFormat",t:lr},4:{n:"ByteCount",t:ii},5:{n:"LineCount",t:ii},6:{n:"ParagraphCount",t:ii},7:{n:"SlideCount",t:ii},8:{n:"NoteCount",t:ii},9:{n:"HiddenCount",t:ii},10:{n:"MultimediaClipCount",t:ii},11:{n:"ScaleCrop",t:Ru},12:{n:"HeadingPairs",t:mB},13:{n:"TitlesOfParts",t:gB},14:{n:"Manager",t:lr},15:{n:"Company",t:lr},16:{n:"LinksUpToDate",t:Ru},17:{n:"CharacterCount",t:ii},19:{n:"SharedDoc",t:Ru},22:{n:"HyperlinksChanged",t:Ru},23:{n:"AppVersion",t:ii,p:"version"},24:{n:"DigSig",t:dB},26:{n:"ContentType",t:lr},27:{n:"ContentStatus",t:lr},28:{n:"Language",t:lr},29:{n:"Version",t:lr},255:{},2147483648:{n:"Locale",t:pd},2147483651:{n:"Behavior",t:pd},1919054434:{}},iw={1:{n:"CodePage",t:LA},2:{n:"Title",t:lr},3:{n:"Subject",t:lr},4:{n:"Author",t:lr},5:{n:"Keywords",t:lr},6:{n:"Comments",t:lr},7:{n:"Template",t:lr},8:{n:"LastAuthor",t:lr},9:{n:"RevNumber",t:lr},10:{n:"EditTime",t:Fu},11:{n:"LastPrinted",t:Fu},12:{n:"CreatedDate",t:Fu},13:{n:"ModifiedDate",t:Fu},14:{n:"PageCount",t:ii},15:{n:"WordCount",t:ii},16:{n:"CharCount",t:ii},17:{n:"Thumbnail",t:pB},18:{n:"Application",t:lr},19:{n:"DocSecurity",t:ii},255:{},2147483648:{n:"Locale",t:pd},2147483651:{n:"Behavior",t:pd},1919054434:{}};function xB(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var vB=xB([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),yB=Gr(vB),tf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},bB={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Mu={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function IA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function PA(n,e){var t=OO(bB),r=[],i;r[r.length]=zn,r[r.length]=ze("Types",null,{xmlns:Yn.CT,"xmlns:xsd":Yn.xsd,"xmlns:xsi":Yn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(f){return ze("Default",null,{Extension:f[0],ContentType:f[1]})}));var s=function(f){n[f]&&n[f].length>0&&(i=n[f][0],r[r.length]=ze("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Mu[f][e.bookType]||Mu[f].xlsx}))},l=function(f){(n[f]||[]).forEach(function(h){r[r.length]=ze("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Mu[f][e.bookType]||Mu[f].xlsx})})},c=function(f){(n[f]||[]).forEach(function(h){r[r.length]=ze("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:t[f][0]})})};return s("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Lt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function jA(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function Oo(n){var e=[zn,ze("Relationships",null,{xmlns:Yn.RELS})];return dr(n["!id"]).forEach(function(t){e[e.length]=ze("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Wt(n,e,t,r,i,s){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,[Lt.HLINK,Lt.XPATH,Lt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}function SB(n){var e=[zn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function sw(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function wB(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function EB(n){var e=[zn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(sw(n[t][0],n[t][1])),e.push(wB("",n[t][0]));return e.push(sw("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function zA(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+sd.version+"</meta:generator></office:meta></office:document-meta>"}var vl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Wg(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=Gt(e),r[r.length]=t?ze(n,e,t):fr(n,e))}function HA(n,e){var t=e||{},r=[zn,ze("cp:coreProperties",null,{"xmlns:cp":Yn.CORE_PROPS,"xmlns:dc":Yn.dc,"xmlns:dcterms":Yn.dcterms,"xmlns:dcmitype":Yn.dcmitype,"xmlns:xsi":Yn.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&Wg("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:Lx(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&Wg("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:Lx(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=vl.length;++s){var l=vl[s],c=t.Props&&t.Props[l[1]]!=null?t.Props[l[1]]:n?n[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&Wg(l[0],c,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Bo=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],UA=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function VA(n){var e=[],t=ze;return n||(n={}),n.Application="SheetJS",e[e.length]=zn,e[e.length]=ze("Properties",null,{xmlns:Yn.EXT_PROPS,"xmlns:vt":Yn.vt}),Bo.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Gt(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+Gt(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function qA(n){var e=[zn,ze("Properties",null,{xmlns:Yn.CUST_PROPS,"xmlns:vt":Yn.vt})];if(!n)return e.join("");var t=1;return dr(n).forEach(function(i){++t,e[e.length]=ze("property",HO(n[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Gt(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var aw={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function CB(n,e){var t=[];return dr(aw).map(function(r){for(var i=0;i<vl.length;++i)if(vl[i][1]==r)return vl[i];for(i=0;i<Bo.length;++i)if(Bo[i][1]==r)return Bo[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(fr(aw[r[1]]||r[1],i))}}),ze("DocumentProperties",t.join(""),{xmlns:oi.o})}function AB(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&dr(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var l=0;l<vl.length;++l)if(s==vl[l][1])return;for(l=0;l<Bo.length;++l)if(s==Bo[l][1])return;for(l=0;l<t.length;++l)if(s==t[l])return;var c=n[s],f="string";typeof c=="number"?(f="float",c=String(c)):c===!0||c===!1?(f="boolean",c=c?"1":"0"):c=String(c),i.push(ze(X4(s),c,{"dt:dt":f}))}}),e&&dr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var l=e[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),i.push(ze(X4(s),l,{"dt:dt":c}))}}),"<"+r+' xmlns="'+oi.o+'">'+i.join("")+"</"+r+">"}function TB(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var l=Se(8);return l.write_shift(4,r),l.write_shift(4,i),l}function lw(n,e){var t=Se(4),r=Se(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=Se(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=TB(e);break;case 31:case 80:for(r=Se(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return cr([t,r])}var WA=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function _B(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function ow(n,e,t){var r=Se(8),i=[],s=[],l=8,c=0,f=Se(8),h=Se(8);if(f.write_shift(4,2),f.write_shift(4,1200),h.write_shift(4,1),s.push(f),i.push(h),l+=8+f.length,!e){h=Se(8),h.write_shift(4,0),i.unshift(h);var d=[Se(4)];for(d[0].write_shift(4,n.length),c=0;c<n.length;++c){var m=n[c][0];for(f=Se(8+2*(m.length+1)+(m.length%2?0:2)),f.write_shift(4,c+2),f.write_shift(4,m.length+1),f.write_shift(0,m,"dbcs");f.l!=f.length;)f.write_shift(1,0);d.push(f)}f=cr(d),s.unshift(f),l+=8+f.length}for(c=0;c<n.length;++c)if(!(e&&!e[n[c][0]])&&!(WA.indexOf(n[c][0])>-1||UA.indexOf(n[c][0])>-1)&&n[c][1]!=null){var g=n[c][1],x=0;if(e){x=+e[n[c][0]];var S=t[x];if(S.p=="version"&&typeof g=="string"){var b=g.split(".");g=(+b[0]<<16)+(+b[1]||0)}f=lw(S.t,g)}else{var w=_B(g);w==-1&&(w=31,g=String(g)),f=lw(w,g)}s.push(f),h=Se(8),h.write_shift(4,e?x:2+c),i.push(h),l+=8+f.length}var T=8*(s.length+1);for(c=0;c<s.length;++c)i[c].write_shift(4,T),T+=s[c].length;return r.write_shift(4,l),r.write_shift(4,s.length),cr([r].concat(i).concat(s))}function cw(n,e,t,r,i,s){var l=Se(i?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,en.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,i?68:48);var f=ow(n,t,r);if(c.push(f),i){var h=ow(i,null,null);l.write_shift(16,s,"hex"),l.write_shift(4,68+f.length),c.push(h)}return cr(c)}function DB(n,e){e||(e=Se(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function kB(n,e){return n.read_shift(e)===1}function Cr(n,e){return e||(e=Se(2)),e.write_shift(2,+!!n),e}function GA(n){return n.read_shift(2,"u")}function Ai(n,e){return e||(e=Se(2)),e.write_shift(2,n),e}function XA(n,e,t){return t||(t=Se(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function $A(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var l=r?n.read_shift(r,i):"";return l}function OB(n){var e=n.t||"",t=Se(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=Se(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[t,r];return cr(i)}function BB(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function NB(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):BB(n,r,t)}function RB(n,e,t){if(t.biff>5)return NB(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function YA(n,e,t){return t||(t=Se(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function fw(n,e){e||(e=Se(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function FB(n){var e=Se(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var l=[8,6815827,6619237,4849780,83];for(t=0;t<l.length;++t)e.write_shift(4,l[t]);if(s==28)r=r.slice(1),fw(r,e);else if(s&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));var c=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(c.length+1)),t=0;t<c.length;++t)e.write_shift(2,c.charCodeAt(t));e.write_shift(2,0),s&8&&fw(i>-1?r.slice(i+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<l.length;++t)e.write_shift(1,parseInt(l[t],16));for(var f=0;r.slice(f*3,f*3+3)=="../"||r.slice(f*3,f*3+3)=="..\\";)++f;for(e.write_shift(2,f),e.write_shift(4,r.length-3*f+1),t=0;t<r.length-3*f;++t)e.write_shift(1,r.charCodeAt(t+3*f)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function El(n,e,t,r){return r||(r=Se(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function MB(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),s=n.read_shift(r,"i"),l=n.read_shift(r,"i");return[i,s,l]}function LB(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function KA(n,e){return e||(e=Se(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function av(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Se(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function IB(n,e){var t=!e||e.biff==8,r=Se(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function PB(n,e){var t=!e||e.biff>=8?2:1,r=Se(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function jB(n,e){var t=Se(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=OB(n[i]);var s=cr([t].concat(r));return s.parts=[t.length].concat(r.map(function(l){return l.length})),s}function zB(){var n=Se(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function HB(n){var e=Se(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function UB(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,s=Se(i);return s.write_shift(2,n.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function VB(n,e,t,r){var i=Se(10);return El(n,e,r,i),i.write_shift(4,t),i}function qB(n,e,t,r,i){var s=!i||i.biff==8,l=Se(8+ +s+(1+s)*t.length);return El(n,e,r,l),l.write_shift(2,t.length),s&&l.write_shift(1,1),l.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),l}function WB(n,e,t,r){var i=t&&t.biff==5;r||(r=Se(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function GB(n,e){var t=e.biff==8||!e.biff?4:2,r=Se(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function uw(n,e,t,r){var i=t&&t.biff==5;r||(r=Se(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function XB(n){var e=Se(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function $B(n,e,t,r,i,s){var l=Se(8);return El(n,e,r,l),XA(t,s,l),l}function YB(n,e,t,r){var i=Se(14);return El(n,e,r,i),wl(t,i),i}function KB(n,e,t){if(t.biff<8)return QB(n,e,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(MB(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function QB(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=$A(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function ZB(n){var e=Se(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)KA(n[t],e);return e}function JB(n){var e=Se(24),t=Qn(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return cr([e,FB(n[1])])}function eN(n){var e=n[1].Tooltip,t=Se(10+2*(e.length+1));t.write_shift(2,2048);var r=Qn(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function tN(n){return n||(n=Se(4)),n.write_shift(2,1),n.write_shift(2,1),n}function nN(n,e,t){if(!t.cellStyles)return ms(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),l=n.read_shift(r),c=n.read_shift(r),f=n.read_shift(2);r==2&&(n.l+=2);var h={s:i,e:s,w:l,ixfe:c,flags:f};return(t.biff>=5||!t.biff)&&(h.level=f>>8&7),h}function rN(n,e){var t=Se(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function iN(n){for(var e=Se(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function sN(n,e,t){var r=Se(15);return rf(r,n,e),r.write_shift(8,t,"f"),r}function aN(n,e,t){var r=Se(9);return rf(r,n,e),r.write_shift(2,t),r}var lN=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Y1({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(c,f){var h=[],d=Sl(1);switch(f.type){case"base64":d=zi(qs(c));break;case"binary":d=zi(c);break;case"buffer":case"array":d=c;break}li(d,0);var m=d.read_shift(1),g=!!(m&136),x=!1,S=!1;switch(m){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var b=0,w=521;m==2&&(b=d.read_shift(2)),d.l+=3,m!=2&&(b=d.read_shift(4)),b>1048576&&(b=1e6),m!=2&&(w=d.read_shift(2));var T=d.read_shift(2),A=f.codepage||1252;m!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(A=n[d[d.l]]),d.l+=1,d.l+=2),S&&(d.l+=36);for(var C=[],_={},B=Math.min(d.length,m==2?521:w-10-(x?264:0)),N=S?32:11;d.l<B&&d[d.l]!=13;)switch(_={},_.name=ad.utils.decode(A,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,_.type=String.fromCharCode(d.read_shift(1)),m!=2&&!S&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),m==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&C.push(_),m!=2&&(d.l+=S?13:14),_.type){case"B":(!x||_.len!=8)&&f.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=w-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=w;var O=0,z=0;for(h[0]=[],z=0;z!=C.length;++z)h[0][z]=C[z].name;for(;b-- >0;){if(d[d.l]===42){d.l+=T;continue}for(++d.l,h[++O]=[],z=0,z=0;z!=C.length;++z){var R=d.slice(d.l,d.l+C[z].len);d.l+=C[z].len,li(R,0);var I=ad.utils.decode(A,R);switch(C[z].type){case"C":I.trim().length&&(h[O][z]=I.replace(/\s+$/,""));break;case"D":I.length===8?h[O][z]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):h[O][z]=I;break;case"F":h[O][z]=parseFloat(I.trim());break;case"+":case"I":h[O][z]=S?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":h[O][z]=!0;break;case"N":case"F":h[O][z]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));h[O][z]="##MEMO##"+(S?parseInt(I.trim(),10):R.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(h[O][z]=+I||0);break;case"@":h[O][z]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":h[O][z]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":h[O][z]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[O][z]=-R.read_shift(-8,"f");break;case"B":if(x&&C[z].len==8){h[O][z]=R.read_shift(8,"f");break}case"G":case"P":R.l+=C[z].len;break;case"0":if(C[z].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[z].type)}}}if(m!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return f&&f.sheetRows&&(h=h.slice(0,f.sheetRows)),f.DBF=C,h}function r(c,f){var h=f||{};h.dateNF||(h.dateNF="yyyymmdd");var d=Qo(t(c,h),h);return d["!cols"]=h.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete h.DBF,d}function i(c,f){try{return Bl(r(c,f),f)}catch(h){if(f&&f.WTF)throw h}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,f){var h=f||{};if(+h.codepage>=0&&C0(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var d=qr(),m=bd(c,{header:1,raw:!0,cellDates:!0}),g=m[0],x=m.slice(1),S=c["!cols"]||[],b=0,w=0,T=0,A=1;for(b=0;b<g.length;++b){if(((S[b]||{}).DBF||{}).name){g[b]=S[b].DBF.name,++T;continue}if(g[b]!=null){if(++T,typeof g[b]=="number"&&(g[b]=g[b].toString(10)),typeof g[b]!="string")throw new Error("DBF Invalid column name "+g[b]+" |"+typeof g[b]+"|");if(g.indexOf(g[b])!==b){for(w=0;w<1024;++w)if(g.indexOf(g[b]+"_"+w)==-1){g[b]+="_"+w;break}}}}var C=hn(c["!ref"]),_=[],B=[],N=[];for(b=0;b<=C.e.c-C.s.c;++b){var O="",z="",R=0,I=[];for(w=0;w<x.length;++w)x[w][b]!=null&&I.push(x[w][b]);if(I.length==0||g[b]==null){_[b]="?";continue}for(w=0;w<I.length;++w){switch(typeof I[w]){case"number":z="B";break;case"string":z="C";break;case"boolean":z="L";break;case"object":z=I[w]instanceof Date?"D":"C";break;default:z="C"}R=Math.max(R,String(I[w]).length),O=O&&O!=z?"C":z}R>250&&(R=250),z=((S[b]||{}).DBF||{}).type,z=="C"&&S[b].DBF.len>R&&(R=S[b].DBF.len),O=="B"&&z=="N"&&(O="N",N[b]=S[b].DBF.dec,R=S[b].DBF.len),B[b]=O=="C"||z=="N"?R:s[O]||0,A+=B[b],_[b]=O}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,x.length),P.write_shift(2,296+32*T),P.write_shift(2,A),b=0;b<4;++b)P.write_shift(4,0);for(P.write_shift(4,0|(+e[ZC]||3)<<8),b=0,w=0;b<g.length;++b)if(g[b]!=null){var q=d.next(32),K=(g[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);q.write_shift(1,K,"sbcs"),q.write_shift(1,_[b]=="?"?"C":_[b],"sbcs"),q.write_shift(4,w),q.write_shift(1,B[b]||s[_[b]]||0),q.write_shift(1,N[b]||0),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(1,0),q.write_shift(4,0),q.write_shift(4,0),w+=B[b]||s[_[b]]||0}var ie=d.next(264);for(ie.write_shift(4,13),b=0;b<65;++b)ie.write_shift(4,0);for(b=0;b<x.length;++b){var ce=d.next(A);for(ce.write_shift(1,0),w=0;w<g.length;++w)if(g[w]!=null)switch(_[w]){case"L":ce.write_shift(1,x[b][w]==null?63:x[b][w]?84:70);break;case"B":ce.write_shift(8,x[b][w]||0,"f");break;case"N":var Z="0";for(typeof x[b][w]=="number"&&(Z=x[b][w].toFixed(N[w]||0)),T=0;T<B[w]-Z.length;++T)ce.write_shift(1,32);ce.write_shift(1,Z,"sbcs");break;case"D":x[b][w]?(ce.write_shift(4,("0000"+x[b][w].getFullYear()).slice(-4),"sbcs"),ce.write_shift(2,("00"+(x[b][w].getMonth()+1)).slice(-2),"sbcs"),ce.write_shift(2,("00"+x[b][w].getDate()).slice(-2),"sbcs")):ce.write_shift(8,"00000000","sbcs");break;case"C":var re=String(x[b][w]!=null?x[b][w]:"").slice(0,B[w]);for(ce.write_shift(1,re,"sbcs"),T=0;T<B[w]-re.length;++T)ce.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:r,from_sheet:l}})(),oN=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+dr(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(g,x){var S=n[x];return typeof S=="number"?M4(S):S},r=function(g,x,S){var b=x.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return b==59?g:M4(b)};n["|"]=254;function i(g,x){switch(x.type){case"base64":return s(qs(g),x);case"binary":return s(g,x);case"buffer":return s(jt&&Buffer.isBuffer(g)?g.toString("binary"):Z0(g),x);case"array":return s(sp(g),x)}throw new Error("Unrecognized type "+x.type)}function s(g,x){var S=g.split(/[\n\r]+/),b=-1,w=-1,T=0,A=0,C=[],_=[],B=null,N={},O=[],z=[],R=[],I=0,P;for(+x.codepage>=0&&C0(+x.codepage);T!==S.length;++T){I=0;var q=S[T].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),K=q.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),ie=K[0],ce;if(q.length>0)switch(ie){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":K[1].charAt(0)=="P"&&_.push(q.slice(3).replace(/;;/g,";"));break;case"C":var Z=!1,re=!1,xe=!1,Ee=!1,Oe=-1,j=-1;for(A=1;A<K.length;++A)switch(K[A].charAt(0)){case"A":break;case"X":w=parseInt(K[A].slice(1))-1,re=!0;break;case"Y":for(b=parseInt(K[A].slice(1))-1,re||(w=0),P=C.length;P<=b;++P)C[P]=[];break;case"K":ce=K[A].slice(1),ce.charAt(0)==='"'?ce=ce.slice(1,ce.length-1):ce==="TRUE"?ce=!0:ce==="FALSE"?ce=!1:isNaN(Hs(ce))?isNaN(T0(ce).getDate())||(ce=_r(ce)):(ce=Hs(ce),B!==null&&fA(B)&&(ce=pA(ce))),Z=!0;break;case"E":Ee=!0;var D=aR(K[A].slice(1),{r:b,c:w});C[b][w]=[C[b][w],D];break;case"S":xe=!0,C[b][w]=[C[b][w],"S5S"];break;case"G":break;case"R":Oe=parseInt(K[A].slice(1))-1;break;case"C":j=parseInt(K[A].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+q)}if(Z&&(C[b][w]&&C[b][w].length==2?C[b][w][0]=ce:C[b][w]=ce,B=null),xe){if(Ee)throw new Error("SYLK shared formula cannot have own formula");var M=Oe>-1&&C[Oe][j];if(!M||!M[1])throw new Error("SYLK shared formula cannot find base");C[b][w][1]=lR(M[1],{r:b-Oe,c:w-j})}break;case"F":var L=0;for(A=1;A<K.length;++A)switch(K[A].charAt(0)){case"X":w=parseInt(K[A].slice(1))-1,++L;break;case"Y":for(b=parseInt(K[A].slice(1))-1,P=C.length;P<=b;++P)C[P]=[];break;case"M":I=parseInt(K[A].slice(1))/20;break;case"F":break;case"G":break;case"P":B=_[parseInt(K[A].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=K[A].slice(1).split(" "),P=parseInt(R[0],10);P<=parseInt(R[1],10);++P)I=parseInt(R[2],10),z[P-1]=I===0?{hidden:!0}:{wch:I},lv(z[P-1]);break;case"C":w=parseInt(K[A].slice(1))-1,z[w]||(z[w]={});break;case"R":b=parseInt(K[A].slice(1))-1,O[b]||(O[b]={}),I>0?(O[b].hpt=I,O[b].hpx=t3(I)):I===0&&(O[b].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+q)}L<1&&(B=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+q)}}return O.length>0&&(N["!rows"]=O),z.length>0&&(N["!cols"]=z),x&&x.sheetRows&&(C=C.slice(0,x.sheetRows)),[C,N]}function l(g,x){var S=i(g,x),b=S[0],w=S[1],T=Qo(b,x);return dr(w).forEach(function(A){T[A]=w[A]}),T}function c(g,x){return Bl(l(g,x),x)}function f(g,x,S,b){var w="C;Y"+(S+1)+";X"+(b+1)+";K";switch(g.t){case"n":w+=g.v||0,g.f&&!g.F&&(w+=";E"+cv(g.f,{r:S,c:b}));break;case"b":w+=g.v?"TRUE":"FALSE";break;case"e":w+=g.w||g.v;break;case"d":w+='"'+(g.w||g.v)+'"';break;case"s":w+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function h(g,x){x.forEach(function(S,b){var w="F;W"+(b+1)+" "+(b+1)+" ";S.hidden?w+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=md(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=gd(S.wpx)),typeof S.wch=="number"&&(w+=Math.round(S.wch))),w.charAt(w.length-1)!=" "&&g.push(w)})}function d(g,x){x.forEach(function(S,b){var w="F;";S.hidden?w+="M0;":S.hpt?w+="M"+20*S.hpt+";":S.hpx&&(w+="M"+20*xd(S.hpx)+";"),w.length>2&&g.push(w+"R"+(b+1))})}function m(g,x){var S=["ID;PWXL;N;E"],b=[],w=hn(g["!ref"]),T,A=Array.isArray(g),C=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),g["!cols"]&&h(S,g["!cols"]),g["!rows"]&&d(S,g["!rows"]),S.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var _=w.s.r;_<=w.e.r;++_)for(var B=w.s.c;B<=w.e.c;++B){var N=Xt({r:_,c:B});T=A?(g[_]||[])[B]:g[N],!(!T||T.v==null&&(!T.f||T.F))&&b.push(f(T,g,_,B))}return S.join(C)+C+b.join(C)+C+"E"+C}return{to_workbook:c,to_sheet:l,from_sheet:m}})(),cN=(function(){function n(s,l){switch(l.type){case"base64":return e(qs(s),l);case"binary":return e(s,l);case"buffer":return e(jt&&Buffer.isBuffer(s)?s.toString("binary"):Z0(s),l);case"array":return e(sp(s),l)}throw new Error("Unrecognized type "+l.type)}function e(s,l){for(var c=s.split(`
`),f=-1,h=-1,d=0,m=[];d!==c.length;++d){if(c[d].trim()==="BOT"){m[++f]=[],h=0;continue}if(!(f<0)){var g=c[d].trim().split(","),x=g[0],S=g[1];++d;for(var b=c[d]||"";(b.match(/["]/g)||[]).length&1&&d<c.length-1;)b+=`
`+c[++d];switch(b=b.trim(),+x){case-1:if(b==="BOT"){m[++f]=[],h=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?m[f][h]=!0:b==="FALSE"?m[f][h]=!1:isNaN(Hs(S))?isNaN(T0(S).getDate())?m[f][h]=S:m[f][h]=_r(S):m[f][h]=Hs(S),++h;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),m[f][h++]=b!==""?b:null;break}if(b==="EOD")break}}return l&&l.sheetRows&&(m=m.slice(0,l.sheetRows)),m}function t(s,l){return Qo(n(s,l),l)}function r(s,l){return Bl(t(s,l),l)}var i=(function(){var s=function(f,h,d,m,g){f.push(h),f.push(d+","+m),f.push('"'+g.replace(/"/g,'""')+'"')},l=function(f,h,d,m){f.push(h+","+d),f.push(h==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(f){var h=[],d=hn(f["!ref"]),m,g=Array.isArray(f);s(h,"TABLE",0,1,"sheetjs"),s(h,"VECTORS",0,d.e.r-d.s.r+1,""),s(h,"TUPLES",0,d.e.c-d.s.c+1,""),s(h,"DATA",0,0,"");for(var x=d.s.r;x<=d.e.r;++x){l(h,-1,0,"BOT");for(var S=d.s.c;S<=d.e.c;++S){var b=Xt({r:x,c:S});if(m=g?(f[x]||[])[S]:f[b],!m){l(h,1,0,"");continue}switch(m.t){case"n":var w=m.w;!w&&m.v!=null&&(w=m.v),w==null?m.f&&!m.F?l(h,1,0,"="+m.f):l(h,1,0,""):l(h,0,w,"V");break;case"b":l(h,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":l(h,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=Na(m.z||Cn[14],Wr(_r(m.v)))),l(h,0,m.w,"V");break;default:l(h,1,0,"")}}}l(h,-1,0,"EOD");var T=`\r
`,A=h.join(T);return A}})();return{to_workbook:r,to_sheet:t,from_sheet:i}})(),QA=(function(){function n(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(m,g){for(var x=m.split(`
`),S=-1,b=-1,w=0,T=[];w!==x.length;++w){var A=x[w].trim().split(":");if(A[0]==="cell"){var C=Qn(A[1]);if(T.length<=C.r)for(S=T.length;S<=C.r;++S)T[S]||(T[S]=[]);switch(S=C.r,b=C.c,A[2]){case"t":T[S][b]=n(A[3]);break;case"v":T[S][b]=+A[3];break;case"vtf":var _=A[A.length-1];case"vtc":switch(A[3]){case"nl":T[S][b]=!!+A[4];break;default:T[S][b]=+A[4];break}A[2]=="vtf"&&(T[S][b]=[T[S][b],_])}}}return g&&g.sheetRows&&(T=T.slice(0,g.sheetRows)),T}function r(m,g){return Qo(t(m,g),g)}function i(m,g){return Bl(r(m,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function h(m){if(!m||!m["!ref"])return"";for(var g=[],x=[],S,b="",w=ui(m["!ref"]),T=Array.isArray(m),A=w.s.r;A<=w.e.r;++A)for(var C=w.s.c;C<=w.e.c;++C)if(b=Xt({r:A,c:C}),S=T?(m[A]||[])[C]:m[b],!(!S||S.v==null||S.t==="z")){switch(x=["cell",b,"t"],S.t){case"s":case"str":x.push(e(S.v));break;case"n":S.f?(x[2]="vtf",x[3]="n",x[4]=S.v,x[5]=e(S.f)):(x[2]="v",x[3]=S.v);break;case"b":x[2]="vt"+(S.f?"f":"c"),x[3]="nl",x[4]=S.v?"1":"0",x[5]=e(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var _=Wr(_r(S.v));x[2]="vtc",x[3]="nd",x[4]=""+_,x[5]=S.w||Na(S.z||Cn[14],_);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function d(m){return[s,l,c,l,h(m),f].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:d}})(),fN=(function(){function n(d,m,g,x,S){S.raw?m[g][x]=d:d===""||(d==="TRUE"?m[g][x]=!0:d==="FALSE"?m[g][x]=!1:isNaN(Hs(d))?isNaN(T0(d).getDate())?m[g][x]=d:m[g][x]=_r(d):m[g][x]=Hs(d))}function e(d,m){var g=m||{},x=[];if(!d||d.length===0)return x;for(var S=d.split(/[\r\n]/),b=S.length-1;b>=0&&S[b].length===0;)--b;for(var w=10,T=0,A=0;A<=b;++A)T=S[A].indexOf(" "),T==-1?T=S[A].length:T++,w=Math.max(w,T);for(A=0;A<=b;++A){x[A]=[];var C=0;for(n(S[A].slice(0,w).trim(),x,A,C,g),C=1;C<=(S[A].length-w)/10+1;++C)n(S[A].slice(w+(C-1)*10,w+C*10).trim(),x,A,C,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(d){for(var m={},g=!1,x=0,S=0;x<d.length;++x)(S=d.charCodeAt(x))==34?g=!g:!g&&S in t&&(m[S]=(m[S]||0)+1);S=[];for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&S.push([m[x],x]);if(!S.length){m=r;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&S.push([m[x],x])}return S.sort(function(b,w){return b[0]-w[0]||r[b[1]]-r[w[1]]}),t[S.pop()[1]]||44}function s(d,m){var g=m||{},x="",S=g.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(x=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(x=d.charAt(4),d=d.slice(6)):x=i(d.slice(0,1024)):g&&g.FS?x=g.FS:x=i(d.slice(0,1024));var w=0,T=0,A=0,C=0,_=0,B=x.charCodeAt(0),N=!1,O=0,z=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var R=g.dateNF!=null?TO(g.dateNF):null;function I(){var P=d.slice(C,_),q={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)q.t="z";else if(g.raw)q.t="s",q.v=P;else if(P.trim().length===0)q.t="s",q.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(q.t="s",q.v=P.slice(2,-1).replace(/""/g,'"')):oR(P)?(q.t="n",q.f=P.slice(1)):(q.t="s",q.v=P);else if(P=="TRUE")q.t="b",q.v=!0;else if(P=="FALSE")q.t="b",q.v=!1;else if(!isNaN(A=Hs(P)))q.t="n",g.cellText!==!1&&(q.w=P),q.v=A;else if(!isNaN(T0(P).getDate())||R&&P.match(R)){q.z=g.dateNF||Cn[14];var K=0;R&&P.match(R)&&(P=_O(P,g.dateNF,P.match(R)||[]),K=1),g.cellDates?(q.t="d",q.v=_r(P,K)):(q.t="n",q.v=Wr(_r(P,K))),g.cellText!==!1&&(q.w=Na(q.z,q.v instanceof Date?Wr(q.v):q.v)),g.cellNF||delete q.z}else q.t="s",q.v=P;if(q.t=="z"||(g.dense?(S[w]||(S[w]=[]),S[w][T]=q):S[Xt({c:T,r:w})]=q),C=_+1,z=d.charCodeAt(C),b.e.c<T&&(b.e.c=T),b.e.r<w&&(b.e.r=w),O==B)++T;else if(T=0,++w,g.sheetRows&&g.sheetRows<=w)return!0}e:for(;_<d.length;++_)switch(O=d.charCodeAt(_)){case 34:z===34&&(N=!N);break;case B:case 10:case 13:if(!N&&I())break e;break}return _-C>0&&I(),S["!ref"]=jn(b),S}function l(d,m){return!(m&&m.PRN)||m.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,m):Qo(e(d,m),m)}function c(d,m){var g="",x=m.type=="string"?[0,0,0,0]:wM(d,m);switch(m.type){case"base64":g=qs(d);break;case"binary":g=d;break;case"buffer":m.codepage==65001?g=d.toString("utf8"):m.codepage&&typeof ad<"u"||(g=jt&&Buffer.isBuffer(d)?d.toString("binary"):Z0(d));break;case"array":g=sp(d);break;case"string":g=d;break;default:throw new Error("Unrecognized type "+m.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=c0(g.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?g=c0(g):m.type=="binary"&&typeof ad<"u",g.slice(0,19)=="socialcalc:version:"?QA.to_sheet(m.type=="string"?g:c0(g),m):l(g,m)}function f(d,m){return Bl(c(d,m),m)}function h(d){for(var m=[],g=hn(d["!ref"]),x,S=Array.isArray(d),b=g.s.r;b<=g.e.r;++b){for(var w=[],T=g.s.c;T<=g.e.c;++T){var A=Xt({r:b,c:T});if(x=S?(d[b]||[])[T]:d[A],!x||x.v==null){w.push("          ");continue}for(var C=(x.w||(Ws(x),x.w)||"").slice(0,10);C.length<10;)C+=" ";w.push(C+(T===0?" ":""))}m.push(w.join(""))}return m.join(`
`)}return{to_workbook:f,to_sheet:c,from_sheet:h}})(),hw=(function(){function n(D,M,L){if(D){li(D,D.l||0);for(var W=L.Enum||Oe;D.l<D.length;){var ee=D.read_shift(2),be=W[ee]||W[65535],ve=D.read_shift(2),Te=D.l+ve,ye=be.f&&be.f(D,ve,L);if(D.l=Te,M(ye,be,ee))return}}}function e(D,M){switch(M.type){case"base64":return t(zi(qs(D)),M);case"binary":return t(zi(D),M);case"buffer":case"array":return t(D,M)}throw"Unsupported type "+M.type}function t(D,M){if(!D)return D;var L=M||{},W=L.dense?[]:{},ee="Sheet1",be="",ve=0,Te={},ye=[],st=[],Ye={s:{r:0,c:0},e:{r:0,c:0}},dt=L.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)L.Enum=Oe,n(D,function(Ne,Qe,ct){switch(ct){case 0:L.vers=Ne,Ne>=4096&&(L.qpro=!0);break;case 6:Ye=Ne;break;case 204:Ne&&(be=Ne);break;case 222:be=Ne;break;case 15:case 51:L.qpro||(Ne[1].v=Ne[1].v.slice(1));case 13:case 14:case 16:ct==14&&(Ne[2]&112)==112&&(Ne[2]&15)>1&&(Ne[2]&15)<15&&(Ne[1].z=L.dateNF||Cn[14],L.cellDates&&(Ne[1].t="d",Ne[1].v=pA(Ne[1].v))),L.qpro&&Ne[3]>ve&&(W["!ref"]=jn(Ye),Te[ee]=W,ye.push(ee),W=L.dense?[]:{},Ye={s:{r:0,c:0},e:{r:0,c:0}},ve=Ne[3],ee=be||"Sheet"+(ve+1),be="");var yt=L.dense?(W[Ne[0].r]||[])[Ne[0].c]:W[Xt(Ne[0])];if(yt){yt.t=Ne[1].t,yt.v=Ne[1].v,Ne[1].z!=null&&(yt.z=Ne[1].z),Ne[1].f!=null&&(yt.f=Ne[1].f);break}L.dense?(W[Ne[0].r]||(W[Ne[0].r]=[]),W[Ne[0].r][Ne[0].c]=Ne[1]):W[Xt(Ne[0])]=Ne[1];break}},L);else if(D[2]==26||D[2]==14)L.Enum=j,D[2]==14&&(L.qpro=!0,D.l=0),n(D,function(Ne,Qe,ct){switch(ct){case 204:ee=Ne;break;case 22:Ne[1].v=Ne[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ne[3]>ve&&(W["!ref"]=jn(Ye),Te[ee]=W,ye.push(ee),W=L.dense?[]:{},Ye={s:{r:0,c:0},e:{r:0,c:0}},ve=Ne[3],ee="Sheet"+(ve+1)),dt>0&&Ne[0].r>=dt)break;L.dense?(W[Ne[0].r]||(W[Ne[0].r]=[]),W[Ne[0].r][Ne[0].c]=Ne[1]):W[Xt(Ne[0])]=Ne[1],Ye.e.c<Ne[0].c&&(Ye.e.c=Ne[0].c),Ye.e.r<Ne[0].r&&(Ye.e.r=Ne[0].r);break;case 27:Ne[14e3]&&(st[Ne[14e3][0]]=Ne[14e3][1]);break;case 1537:st[Ne[0]]=Ne[1],Ne[0]==ve&&(ee=Ne[1]);break}},L);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(W["!ref"]=jn(Ye),Te[be||ee]=W,ye.push(be||ee),!st.length)return{SheetNames:ye,Sheets:Te};for(var We={},Le=[],Ue=0;Ue<st.length;++Ue)Te[ye[Ue]]?(Le.push(st[Ue]||ye[Ue]),We[st[Ue]]=Te[st[Ue]]||Te[ye[Ue]]):(Le.push(st[Ue]),We[st[Ue]]={"!ref":"A1"});return{SheetNames:Le,Sheets:We}}function r(D,M){var L=M||{};if(+L.codepage>=0&&C0(+L.codepage),L.type=="string")throw new Error("Cannot write WK1 to JS string");var W=qr(),ee=hn(D["!ref"]),be=Array.isArray(D),ve=[];He(W,0,s(1030)),He(W,6,f(ee));for(var Te=Math.min(ee.e.r,8191),ye=ee.s.r;ye<=Te;++ye)for(var st=hr(ye),Ye=ee.s.c;Ye<=ee.e.c;++Ye){ye===ee.s.r&&(ve[Ye]=yr(Ye));var dt=ve[Ye]+st,We=be?(D[ye]||[])[Ye]:D[dt];if(!(!We||We.t=="z"))if(We.t=="n")(We.v|0)==We.v&&We.v>=-32768&&We.v<=32767?He(W,13,x(ye,Ye,We.v)):He(W,14,b(ye,Ye,We.v));else{var Le=Ws(We);He(W,15,m(ye,Ye,Le.slice(0,239)))}}return He(W,1),W.end()}function i(D,M){var L=M||{};if(+L.codepage>=0&&C0(+L.codepage),L.type=="string")throw new Error("Cannot write WK3 to JS string");var W=qr();He(W,0,l(D));for(var ee=0,be=0;ee<D.SheetNames.length;++ee)(D.Sheets[D.SheetNames[ee]]||{})["!ref"]&&He(W,27,Ee(D.SheetNames[ee],be++));var ve=0;for(ee=0;ee<D.SheetNames.length;++ee){var Te=D.Sheets[D.SheetNames[ee]];if(!(!Te||!Te["!ref"])){for(var ye=hn(Te["!ref"]),st=Array.isArray(Te),Ye=[],dt=Math.min(ye.e.r,8191),We=ye.s.r;We<=dt;++We)for(var Le=hr(We),Ue=ye.s.c;Ue<=ye.e.c;++Ue){We===ye.s.r&&(Ye[Ue]=yr(Ue));var Ne=Ye[Ue]+Le,Qe=st?(Te[We]||[])[Ue]:Te[Ne];if(!(!Qe||Qe.t=="z"))if(Qe.t=="n")He(W,23,I(We,Ue,ve,Qe.v));else{var ct=Ws(Qe);He(W,22,O(We,Ue,ve,ct.slice(0,239)))}}++ve}}return He(W,1),W.end()}function s(D){var M=Se(2);return M.write_shift(2,D),M}function l(D){var M=Se(26);M.write_shift(2,4096),M.write_shift(2,4),M.write_shift(4,0);for(var L=0,W=0,ee=0,be=0;be<D.SheetNames.length;++be){var ve=D.SheetNames[be],Te=D.Sheets[ve];if(!(!Te||!Te["!ref"])){++ee;var ye=ui(Te["!ref"]);L<ye.e.r&&(L=ye.e.r),W<ye.e.c&&(W=ye.e.c)}}return L>8191&&(L=8191),M.write_shift(2,L),M.write_shift(1,ee),M.write_shift(1,W),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(1,1),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(4,0),M}function c(D,M,L){var W={s:{c:0,r:0},e:{c:0,r:0}};return M==8&&L.qpro?(W.s.c=D.read_shift(1),D.l++,W.s.r=D.read_shift(2),W.e.c=D.read_shift(1),D.l++,W.e.r=D.read_shift(2),W):(W.s.c=D.read_shift(2),W.s.r=D.read_shift(2),M==12&&L.qpro&&(D.l+=2),W.e.c=D.read_shift(2),W.e.r=D.read_shift(2),M==12&&L.qpro&&(D.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function f(D){var M=Se(8);return M.write_shift(2,D.s.c),M.write_shift(2,D.s.r),M.write_shift(2,D.e.c),M.write_shift(2,D.e.r),M}function h(D,M,L){var W=[{c:0,r:0},{t:"n",v:0},0,0];return L.qpro&&L.vers!=20768?(W[0].c=D.read_shift(1),W[3]=D.read_shift(1),W[0].r=D.read_shift(2),D.l+=2):(W[2]=D.read_shift(1),W[0].c=D.read_shift(2),W[0].r=D.read_shift(2)),W}function d(D,M,L){var W=D.l+M,ee=h(D,M,L);if(ee[1].t="s",L.vers==20768){D.l++;var be=D.read_shift(1);return ee[1].v=D.read_shift(be,"utf8"),ee}return L.qpro&&D.l++,ee[1].v=D.read_shift(W-D.l,"cstr"),ee}function m(D,M,L){var W=Se(7+L.length);W.write_shift(1,255),W.write_shift(2,M),W.write_shift(2,D),W.write_shift(1,39);for(var ee=0;ee<W.length;++ee){var be=L.charCodeAt(ee);W.write_shift(1,be>=128?95:be)}return W.write_shift(1,0),W}function g(D,M,L){var W=h(D,M,L);return W[1].v=D.read_shift(2,"i"),W}function x(D,M,L){var W=Se(7);return W.write_shift(1,255),W.write_shift(2,M),W.write_shift(2,D),W.write_shift(2,L,"i"),W}function S(D,M,L){var W=h(D,M,L);return W[1].v=D.read_shift(8,"f"),W}function b(D,M,L){var W=Se(13);return W.write_shift(1,255),W.write_shift(2,M),W.write_shift(2,D),W.write_shift(8,L,"f"),W}function w(D,M,L){var W=D.l+M,ee=h(D,M,L);if(ee[1].v=D.read_shift(8,"f"),L.qpro)D.l=W;else{var be=D.read_shift(2);_(D.slice(D.l,D.l+be),ee),D.l+=be}return ee}function T(D,M,L){var W=M&32768;return M&=-32769,M=(W?D:0)+(M>=8192?M-16384:M),(W?"":"$")+(L?yr(M):hr(M))}var A={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(D,M){li(D,0);for(var L=[],W=0,ee="",be="",ve="",Te="";D.l<D.length;){var ye=D[D.l++];switch(ye){case 0:L.push(D.read_shift(8,"f"));break;case 1:be=T(M[0].c,D.read_shift(2),!0),ee=T(M[0].r,D.read_shift(2),!1),L.push(be+ee);break;case 2:{var st=T(M[0].c,D.read_shift(2),!0),Ye=T(M[0].r,D.read_shift(2),!1);be=T(M[0].c,D.read_shift(2),!0),ee=T(M[0].r,D.read_shift(2),!1),L.push(st+Ye+":"+be+ee)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:L.push("("+L.pop()+")");break;case 5:L.push(D.read_shift(2));break;case 6:{for(var dt="";ye=D[D.l++];)dt+=String.fromCharCode(ye);L.push('"'+dt.replace(/"/g,'""')+'"')}break;case 8:L.push("-"+L.pop());break;case 23:L.push("+"+L.pop());break;case 22:L.push("NOT("+L.pop()+")");break;case 20:case 21:Te=L.pop(),ve=L.pop(),L.push(["AND","OR"][ye-20]+"("+ve+","+Te+")");break;default:if(ye<32&&C[ye])Te=L.pop(),ve=L.pop(),L.push(ve+C[ye]+Te);else if(A[ye]){if(W=A[ye][1],W==69&&(W=D[D.l++]),W>L.length){console.error("WK1 bad formula parse 0x"+ye.toString(16)+":|"+L.join("|")+"|");return}var We=L.slice(-W);L.length-=W,L.push(A[ye][0]+"("+We.join(",")+")")}else return ye<=7?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=24?console.error("WK1 unsupported op "+ye.toString(16)):ye<=30?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=115?console.error("WK1 unsupported function opcode "+ye.toString(16)):console.error("WK1 unrecognized opcode "+ye.toString(16))}}L.length==1?M[1].f=""+L[0]:console.error("WK1 bad formula parse |"+L.join("|")+"|")}function B(D){var M=[{c:0,r:0},{t:"n",v:0},0];return M[0].r=D.read_shift(2),M[3]=D[D.l++],M[0].c=D[D.l++],M}function N(D,M){var L=B(D);return L[1].t="s",L[1].v=D.read_shift(M-4,"cstr"),L}function O(D,M,L,W){var ee=Se(6+W.length);ee.write_shift(2,D),ee.write_shift(1,L),ee.write_shift(1,M),ee.write_shift(1,39);for(var be=0;be<W.length;++be){var ve=W.charCodeAt(be);ee.write_shift(1,ve>=128?95:ve)}return ee.write_shift(1,0),ee}function z(D,M){var L=B(D);L[1].v=D.read_shift(2);var W=L[1].v>>1;if(L[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return L[1].v=W,L}function R(D,M){var L=B(D),W=D.read_shift(4),ee=D.read_shift(4),be=D.read_shift(2);if(be==65535)return W===0&&ee===3221225472?(L[1].t="e",L[1].v=15):W===0&&ee===3489660928?(L[1].t="e",L[1].v=42):L[1].v=0,L;var ve=be&32768;return be=(be&32767)-16446,L[1].v=(1-ve*2)*(ee*Math.pow(2,be+32)+W*Math.pow(2,be)),L}function I(D,M,L,W){var ee=Se(14);if(ee.write_shift(2,D),ee.write_shift(1,L),ee.write_shift(1,M),W==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var be=0,ve=0,Te=0,ye=0;return W<0&&(be=1,W=-W),ve=Math.log2(W)|0,W/=Math.pow(2,ve-31),ye=W>>>0,(ye&2147483648)==0&&(W/=2,++ve,ye=W>>>0),W-=ye,ye|=2147483648,ye>>>=0,W*=Math.pow(2,32),Te=W>>>0,ee.write_shift(4,Te),ee.write_shift(4,ye),ve+=16383+(be?32768:0),ee.write_shift(2,ve),ee}function P(D,M){var L=R(D);return D.l+=M-14,L}function q(D,M){var L=B(D),W=D.read_shift(4);return L[1].v=W>>6,L}function K(D,M){var L=B(D),W=D.read_shift(8,"f");return L[1].v=W,L}function ie(D,M){var L=K(D);return D.l+=M-10,L}function ce(D,M){return D[D.l+M-1]==0?D.read_shift(M,"cstr"):""}function Z(D,M){var L=D[D.l++];L>M-1&&(L=M-1);for(var W="";W.length<L;)W+=String.fromCharCode(D[D.l++]);return W}function re(D,M,L){if(!(!L.qpro||M<21)){var W=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var ee=D.read_shift(M-21,"cstr");return[W,ee]}}function xe(D,M){for(var L={},W=D.l+M;D.l<W;){var ee=D.read_shift(2);if(ee==14e3){for(L[ee]=[0,""],L[ee][0]=D.read_shift(2);D[D.l];)L[ee][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return L}function Ee(D,M){var L=Se(5+D.length);L.write_shift(2,14e3),L.write_shift(2,M);for(var W=0;W<D.length;++W){var ee=D.charCodeAt(W);L[L.l++]=ee>127?95:ee}return L[L.l++]=0,L}var Oe={0:{n:"BOF",f:GA},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ce},222:{n:"SHEETNAMELP",f:Z},65535:{n:""}},j={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:z},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:xe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:q},38:{n:"??"},39:{n:"NUMBER27",f:K},40:{n:"FORMULA28",f:ie},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ce},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:re},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})(),uN=/^\s|\s$|[\t\n\r]/;function ZA(n,e){if(!e.bookSST)return"";var t=[zn];t[t.length]=ze("sst",null,{xmlns:Ko[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(uN)&&(s+=' xml:space="preserve"'),s+=">"+Gt(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function hN(n){return[n.read_shift(4),n.read_shift(4)]}function dN(n,e){return e||(e=Se(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var pN=iB;function mN(n){var e=qr();Be(e,159,dN(n));for(var t=0;t<n.length;++t)Be(e,19,pN(n[t]));return Be(e,160),e.end()}function gN(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function JA(n){var e=0,t,r=gN(n),i=r.length+1,s,l,c,f,h;for(t=Sl(i),t[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)l=t[s],c=(e&16384)===0?0:1,f=e<<1&32767,h=c|f,e=h^l;return e^52811}var xN=(function(){function n(i,s){switch(s.type){case"base64":return e(qs(i),s);case"binary":return e(i,s);case"buffer":return e(jt&&Buffer.isBuffer(i)?i.toString("binary"):Z0(i),s);case"array":return e(sp(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var l=s||{},c=l.dense?[]:{},f=i.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(d,m){Array.isArray(c)&&(c[m]=[]);for(var g=/\\\w+\b/g,x=0,S,b=-1;S=g.exec(d);){switch(S[0]){case"\\cell":var w=d.slice(x,g.lastIndex-S[0].length);if(w[0]==" "&&(w=w.slice(1)),++b,w.length){var T={v:w,t:"s"};Array.isArray(c)?c[m][b]=T:c[Xt({r:m,c:b})]=T}break}x=g.lastIndex}b>h.e.c&&(h.e.c=b)}),c["!ref"]=jn(h),c}function t(i,s){return Bl(n(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],l=hn(i["!ref"]),c,f=Array.isArray(i),h=l.s.r;h<=l.e.r;++h){s.push("\\trowd\\trautofit1");for(var d=l.s.c;d<=l.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=l.s.c;d<=l.e.c;++d){var m=Xt({r:h,c:d});c=f?(i[h]||[])[d]:i[m],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(Ws(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function dw(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var vN=6,Us=vN;function md(n){return Math.floor((n+Math.round(128/Us)/256)*Us)}function gd(n){return Math.floor((n-5)/Us*100+.5)/100}function Px(n){return Math.round((n*Us+5)/Us*256)/256}function lv(n){n.width?(n.wpx=md(n.width),n.wch=gd(n.wpx),n.MDW=Us):n.wpx?(n.wch=gd(n.wpx),n.width=Px(n.wch),n.MDW=Us):typeof n.wch=="number"&&(n.width=Px(n.wch),n.wpx=md(n.width),n.MDW=Us),n.customWidth&&delete n.customWidth}var yN=96,e3=yN;function xd(n){return n*96/e3}function t3(n){return n*e3/96}function bN(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=ze("numFmt",null,{numFmtId:r,formatCode:Gt(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ze("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function SN(n){var e=[];return e[e.length]=ze("cellXfs",null),n.forEach(function(t){e[e.length]=ze("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ze("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function n3(n,e){var t=[zn,ze("styleSheet",null,{xmlns:Ko[0],"xmlns:vt":Yn.vt})],r;return n.SSF&&(r=bN(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=SN(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function wN(n,e){var t=n.read_shift(2),r=br(n);return[t,r]}function EN(n,e,t){t||(t=Se(6+4*e.length)),t.write_shift(2,n),Zn(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function CN(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=uB(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var l=n.read_shift(1);l!=0&&(r.underline=l);var c=n.read_shift(1);c>0&&(r.family=c);var f=n.read_shift(1);switch(f>0&&(r.charset=f),n.l++,r.color=fB(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=br(n),r}function AN(n,e){e||(e=Se(153)),e.write_shift(2,n.sz*20),hB(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),dd(n.color,e);var r=0;return r=2,e.write_shift(1,r),Zn(n.name,e),e.length>e.l?e.slice(0,e.l):e}var TN=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Gg,_N=ms;function pw(n,e){e||(e=Se(84)),Gg||(Gg=Y1(TN));var t=Gg[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(dd({auto:1},e),dd({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function DN(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function r3(n,e,t){t||(t=Se(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Kc(n,e){return e||(e=Se(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var kN=ms;function ON(n,e){return e||(e=Se(51)),e.write_shift(1,0),Kc(null,e),Kc(null,e),Kc(null,e),Kc(null,e),Kc(null,e),e.length>e.l?e.slice(0,e.l):e}function BN(n,e){return e||(e=Se(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),hd(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function NN(n,e,t){var r=Se(2052);return r.write_shift(4,n),hd(e,r),hd(t,r),r.length>r.l?r.slice(0,r.l):r}function RN(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(Be(n,615,Vi(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Be(n,44,EN(i,e[i]))}),Be(n,616))}}function FN(n){var e=1;Be(n,611,Vi(e)),Be(n,43,AN({sz:12,color:{theme:1},name:"Calibri",family:2})),Be(n,612)}function MN(n){var e=2;Be(n,603,Vi(e)),Be(n,45,pw({patternType:"none"})),Be(n,45,pw({patternType:"gray125"})),Be(n,604)}function LN(n){var e=1;Be(n,613,Vi(e)),Be(n,46,ON()),Be(n,614)}function IN(n){var e=1;Be(n,626,Vi(e)),Be(n,47,r3({numFmtId:0},65535)),Be(n,627)}function PN(n,e){Be(n,617,Vi(e.length)),e.forEach(function(t){Be(n,47,r3(t,0))}),Be(n,618)}function jN(n){var e=1;Be(n,619,Vi(e)),Be(n,48,BN({xfId:0,name:"Normal"})),Be(n,620)}function zN(n){var e=0;Be(n,505,Vi(e)),Be(n,506)}function HN(n){var e=0;Be(n,508,NN(e,"TableStyleMedium9","PivotStyleMedium4")),Be(n,509)}function UN(n,e){var t=qr();return Be(t,278),RN(t,n.SSF),FN(t),MN(t),LN(t),IN(t),PN(t,e.cellXfs),jN(t),zN(t),HN(t),Be(t,279),t.end()}function i3(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[zn];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function VN(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:br(n)}}function qN(n){var e=Se(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),Zn(n.name,e),e.slice(0,e.l)}function WN(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function GN(n){var e=Se(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function XN(n,e){var t=Se(8+2*e.length);return t.write_shift(4,n),Zn(e,t),t.slice(0,t.l)}function $N(n){return n.l+=4,n.read_shift(4)!=0}function YN(n,e){var t=Se(8);return t.write_shift(4,n),t.write_shift(4,1),t}function KN(){var n=qr();return Be(n,332),Be(n,334,Vi(1)),Be(n,335,qN({name:"XLDAPR",version:12e4,flags:3496657072})),Be(n,336),Be(n,339,XN(1,"XLDAPR")),Be(n,52),Be(n,35,Vi(514)),Be(n,4096,Vi(0)),Be(n,4097,Ai(1)),Be(n,36),Be(n,53),Be(n,340),Be(n,337,YN(1)),Be(n,51,GN([[1,0]])),Be(n,338),Be(n,333),n.end()}function s3(){var n=[zn];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function QN(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Xt(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var Co=1024;function a3(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[ze("xml",null,{"xmlns:v":oi.v,"xmlns:o":oi.o,"xmlns:x":oi.x,"xmlns:mv":oi.mv}).replace(/\/>/,">"),ze("o:shapelayout",ze("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),ze("v:shapetype",[ze("v:stroke",null,{joinstyle:"miter"}),ze("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];Co<n*1e3;)Co+=1e3;return e.forEach(function(s){var l=Qn(s[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var f=c.type=="gradient"?ze("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=ze("v:fill",f,c),d={on:"t",obscured:"t"};++Co,i=i.concat(["<v:shape"+D0({id:"_x0000_s"+Co,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,ze("v:shadow",null,d),ze("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",fr("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),fr("x:AutoFill","False"),fr("x:Row",String(l.r)),fr("x:Column",String(l.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function l3(n){var e=[zn,ze("comments",null,{xmlns:Ko[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var s=Gt(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(f){f.a&&(i=t.indexOf(Gt(f.a))),s.push(f.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(fr("t",Gt(s[0]||"")));else{for(var l=`Comment:
    `+s[0]+`
`,c=1;c<s.length;++c)l+=`Reply:
    `+s[c]+`
`;e.push(fr("t",Gt(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function ZN(n,e,t){var r=[zn,ze("ThreadedComments",null,{xmlns:Yn.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var s="";(i[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var f={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};c==0?s=f.id:f.parentId=s,l.ID=f.id,l.a&&(f.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),r.push(ze("threadedComment",fr("text",l.t||""),f))})}),r.push("</ThreadedComments>"),r.join("")}function JN(n){var e=[zn,ze("personList",null,{xmlns:Yn.TCMNT,"xmlns:x":Ko[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(ze("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function eR(n){var e={};e.iauthor=n.read_shift(4);var t=Ml(n);return e.rfx=t.s,e.ref=Xt(t.s),n.l+=16,e}function tR(n,e){return e==null&&(e=Se(36)),e.write_shift(4,n[1].iauthor),Zo(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var nR=br;function rR(n){return Zn(n.slice(0,54))}function iR(n){var e=qr(),t=[];return Be(e,628),Be(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),Be(e,632,rR(i.a)))})}),Be(e,631),Be(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:Qn(r[0]),e:Qn(r[0])};Be(e,635,tR([s,i])),i.t&&i.t.length>0&&Be(e,637,aB(i)),Be(e,636),delete i.iauthor})}),Be(e,634),Be(e,629),e.end()}function sR(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&en.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var o3=["xlsb","xlsm","xlam","biff8","xla"],aR=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,l){var c=!1,f=!1;s.length==0?f=!0:s.charAt(0)=="["&&(f=!0,s=s.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var h=s.length>0?parseInt(s,10)|0:0,d=l.length>0?parseInt(l,10)|0:0;return c?d+=e.c:--d,f?h+=e.r:--h,i+(c?"":"$")+yr(d)+(f?"":"$")+hr(h)}return function(i,s){return e=s,i.replace(n,t)}})(),ov=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,cv=(function(){return function(e,t){return e.replace(ov,function(r,i,s,l,c,f){var h=nv(l)-(s?0:t.c),d=tv(f)-(c?0:t.r),m=d==0?"":c?d+1:"["+d+"]",g=h==0?"":s?h+1:"["+h+"]";return i+"R"+m+"C"+g})}})();function lR(n,e){return n.replace(ov,function(t,r,i,s,l,c){return r+(i=="$"?i+s:yr(nv(s)+e.c))+(l=="$"?l+c:hr(tv(c)+e.r))})}function oR(n){return n.length!=1}function Ln(n){n.l+=1}function Ra(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function c3(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return f3(n);t.biff==12&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),l=Ra(n),c=Ra(n);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function f3(n){var e=Ra(n),t=Ra(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function cR(n,e,t){if(t.biff<8)return f3(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),s=Ra(n),l=Ra(n);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function u3(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return fR(n);var r=n.read_shift(t&&t.biff==12?4:2),i=Ra(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function fR(n){var e=Ra(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function uR(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function hR(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return dR(n);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),l=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;i>524287;)i-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:l,rRel:c}}function dR(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function pR(n,e,t){var r=(n[n.l++]&96)>>5,i=c3(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function mR(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var l=c3(n,s,t);return[r,i,l]}function gR(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function xR(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,i]}function vR(n,e,t){var r=(n[n.l++]&96)>>5,i=cR(n,e-1,t);return[r,i]}function yR(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function mw(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function bR(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function SR(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function wR(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function ER(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function CR(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function h3(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function AR(n){return n.read_shift(2),h3(n)}function TR(n){return n.read_shift(2),h3(n)}function _R(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=u3(n,0,t);return[r,i]}function DR(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=hR(n,0,t);return[r,i]}function kR(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=u3(n,0,t);return[r,i,s]}function OR(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[O7[i],m3[i],r]}function BR(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:NR(n);return[i,(s[0]===0?m3:k7)[s[1]]]}function NR(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function RR(n,e,t){n.l+=t&&t.biff==2?3:4}function FR(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function MR(n){return n.l++,tf[n.read_shift(1)]}function LR(n){return n.l++,n.read_shift(2)}function IR(n){return n.l++,n.read_shift(1)!==0}function PR(n){return n.l++,Jo(n)}function jR(n,e,t){return n.l++,$A(n,e-1,t)}function zR(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=kB(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=tf[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Jo(n);break;case 2:t[1]=RB(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function HR(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((t.biff==12?Ml:LB)(n));return i}function UR(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var s=0,l=[];s!=r&&(l[s]=[]);++s)for(var c=0;c!=i;++c)l[s][c]=zR(n,t.biff);return l}function VR(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function qR(n,e,t){if(t.biff==5)return WR(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),s=n.read_shift(4);return[r,i,s]}function WR(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function GR(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function XR(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function $R(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function YR(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,i]}var KR=ms,QR=ms,ZR=ms;function nf(n,e,t){return n.l+=2,[uR(n)]}function fv(n){return n.l+=6,[]}var JR=nf,e7=fv,t7=fv,n7=nf;function d3(n){return n.l+=2,[GA(n),n.read_shift(2)&1]}var r7=nf,i7=d3,s7=fv,a7=nf,l7=nf,o7=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function c7(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2),l=o7[t>>2&31];return{ixti:e,coltype:t&3,rt:l,idx:r,c:i,C:s}}function f7(n){return n.l+=2,[n.read_shift(4)]}function u7(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function h7(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function d7(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function p7(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function m7(n){return n.l+=4,[0,0]}var gw={1:{n:"PtgExp",f:FR},2:{n:"PtgTbl",f:ZR},3:{n:"PtgAdd",f:Ln},4:{n:"PtgSub",f:Ln},5:{n:"PtgMul",f:Ln},6:{n:"PtgDiv",f:Ln},7:{n:"PtgPower",f:Ln},8:{n:"PtgConcat",f:Ln},9:{n:"PtgLt",f:Ln},10:{n:"PtgLe",f:Ln},11:{n:"PtgEq",f:Ln},12:{n:"PtgGe",f:Ln},13:{n:"PtgGt",f:Ln},14:{n:"PtgNe",f:Ln},15:{n:"PtgIsect",f:Ln},16:{n:"PtgUnion",f:Ln},17:{n:"PtgRange",f:Ln},18:{n:"PtgUplus",f:Ln},19:{n:"PtgUminus",f:Ln},20:{n:"PtgPercent",f:Ln},21:{n:"PtgParen",f:Ln},22:{n:"PtgMissArg",f:Ln},23:{n:"PtgStr",f:jR},26:{n:"PtgSheet",f:u7},27:{n:"PtgEndSheet",f:h7},28:{n:"PtgErr",f:MR},29:{n:"PtgBool",f:IR},30:{n:"PtgInt",f:LR},31:{n:"PtgNum",f:PR},32:{n:"PtgArray",f:yR},33:{n:"PtgFunc",f:OR},34:{n:"PtgFuncVar",f:BR},35:{n:"PtgName",f:VR},36:{n:"PtgRef",f:_R},37:{n:"PtgArea",f:pR},38:{n:"PtgMemArea",f:GR},39:{n:"PtgMemErr",f:KR},40:{n:"PtgMemNoMem",f:QR},41:{n:"PtgMemFunc",f:XR},42:{n:"PtgRefErr",f:$R},43:{n:"PtgAreaErr",f:gR},44:{n:"PtgRefN",f:DR},45:{n:"PtgAreaN",f:vR},46:{n:"PtgMemAreaN",f:d7},47:{n:"PtgMemNoMemN",f:p7},57:{n:"PtgNameX",f:qR},58:{n:"PtgRef3d",f:kR},59:{n:"PtgArea3d",f:mR},60:{n:"PtgRefErr3d",f:YR},61:{n:"PtgAreaErr3d",f:xR},255:{}},g7={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},x7={1:{n:"PtgElfLel",f:d3},2:{n:"PtgElfRw",f:a7},3:{n:"PtgElfCol",f:JR},6:{n:"PtgElfRwV",f:l7},7:{n:"PtgElfColV",f:n7},10:{n:"PtgElfRadical",f:r7},11:{n:"PtgElfRadicalS",f:s7},13:{n:"PtgElfColS",f:e7},15:{n:"PtgElfColSV",f:t7},16:{n:"PtgElfRadicalLel",f:i7},25:{n:"PtgList",f:c7},29:{n:"PtgSxName",f:f7},255:{}},v7={0:{n:"PtgAttrNoop",f:m7},1:{n:"PtgAttrSemi",f:CR},2:{n:"PtgAttrIf",f:wR},4:{n:"PtgAttrChoose",f:bR},8:{n:"PtgAttrGoto",f:SR},16:{n:"PtgAttrSum",f:RR},32:{n:"PtgAttrBaxcel",f:mw},33:{n:"PtgAttrBaxcel",f:mw},64:{n:"PtgAttrSpace",f:AR},65:{n:"PtgAttrSpaceSemi",f:TR},128:{n:"PtgAttrIfError",f:ER},255:{}};function y7(n,e,t,r){if(r.biff<8)return ms(n,e);for(var i=n.l+e,s=[],l=0;l!==t.length;++l)switch(t[l][0]){case"PtgArray":t[l][1]=UR(n,0,r),s.push(t[l][1]);break;case"PtgMemArea":t[l][2]=HR(n,t[l][1],r),s.push(t[l][2]);break;case"PtgExp":r&&r.biff==12&&(t[l][1][1]=n.read_shift(4),s.push(t[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[l][0]}return e=i-n.l,e!==0&&s.push(ms(n,e)),s}function b7(n,e,t){for(var r=n.l+e,i,s,l=[];r!=n.l;)e=r-n.l,s=n[n.l],i=gw[s]||gw[g7[s]],(s===24||s===25)&&(i=(s===24?x7:v7)[n[n.l+1]]),!i||!i.f?ms(n,e):l.push([i.n,i.f(n,e,t)]);return l}function S7(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var l=r[s];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var w7={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function E7(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function p3(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function xw(n,e,t){var r=p3(n,e,t);return r=="#REF"?r:E7(r,t)}function Ho(n,e,t,r,i){var s=i&&i.biff||8,l={s:{c:0,r:0}},c=[],f,h,d,m=0,g=0,x,S="";if(!n[0]||!n[0][0])return"";for(var b=-1,w="",T=0,A=n[0].length;T<A;++T){var C=n[0][T];switch(C[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=c.pop(),h=c.pop(),b>=0){switch(n[0][b][1][0]){case 0:w=En(" ",n[0][b][1][1]);break;case 1:w=En("\r",n[0][b][1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][b][1][0])}h=h+w,b=-1}c.push(h+w7[C[0]]+f);break;case"PtgIsect":f=c.pop(),h=c.pop(),c.push(h+" "+f);break;case"PtgUnion":f=c.pop(),h=c.pop(),c.push(h+","+f);break;case"PtgRange":f=c.pop(),h=c.pop(),c.push(h+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=u0(C[1][1],l,i),c.push(h0(d,s));break;case"PtgRefN":d=t?u0(C[1][1],t,i):C[1][1],c.push(h0(d,s));break;case"PtgRef3d":m=C[1][1],d=u0(C[1][2],l,i),S=xw(r,m,i),c.push(S+"!"+h0(d,s));break;case"PtgFunc":case"PtgFuncVar":var _=C[1][0],B=C[1][1];_||(_=0),_&=127;var N=_==0?[]:c.slice(-_);c.length-=_,B==="User"&&(B=N.shift()),c.push(B+"("+N.join(",")+")");break;case"PtgBool":c.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(C[1]);break;case"PtgNum":c.push(String(C[1]));break;case"PtgStr":c.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(C[1]);break;case"PtgAreaN":x=tw(C[1][1],t?{s:t}:l,i),c.push(qg(x,i));break;case"PtgArea":x=tw(C[1][1],l,i),c.push(qg(x,i));break;case"PtgArea3d":m=C[1][1],x=C[1][2],S=xw(r,m,i),c.push(S+"!"+qg(x,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=C[1][2];var O=(r.names||[])[g-1]||(r[0]||[])[g],z=O?O.Name:"SH33TJSNAME"+String(g);z&&z.slice(0,6)=="_xlfn."&&!i.xlfn&&(z=z.slice(6)),c.push(z);break;case"PtgNameX":var R=C[1][1];g=C[1][2];var I;if(i.biff<=5)R<0&&(R=-R),r[R]&&(I=r[R][g]);else{var P="";if(((r[R]||[])[0]||[])[0]==14849||(((r[R]||[])[0]||[])[0]==1025?r[R][g]&&r[R][g].itab>0&&(P=r.SheetNames[r[R][g].itab-1]+"!"):P=r.SheetNames[g-1]+"!"),r[R]&&r[R][g])P+=r[R][g].Name;else if(r[0]&&r[0][g])P+=r[0][g].Name;else{var q=(p3(r,R,i)||"").split(";;");q[g-1]?P=q[g-1]:P+="SH33TJSERRX"}c.push(P);break}I||(I={Name:"SH33TJSERRY"}),c.push(I.Name);break;case"PtgParen":var K="(",ie=")";if(b>=0){switch(w="",n[0][b][1][0]){case 2:K=En(" ",n[0][b][1][1])+K;break;case 3:K=En("\r",n[0][b][1][1])+K;break;case 4:ie=En(" ",n[0][b][1][1])+ie;break;case 5:ie=En("\r",n[0][b][1][1])+ie;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][b][1][0])}b=-1}c.push(K+c.pop()+ie);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":d={c:C[1][1],r:C[1][0]};var ce={c:t.c,r:t.r};if(r.sharedf[Xt(d)]){var Z=r.sharedf[Xt(d)];c.push(Ho(Z,l,ce,r,i))}else{var re=!1;for(f=0;f!=r.arrayf.length;++f)if(h=r.arrayf[f],!(d.c<h[0].s.c||d.c>h[0].e.c)&&!(d.r<h[0].s.r||d.r>h[0].e.r)){c.push(Ho(h[1],l,ce,r,i)),re=!0;break}re||c.push(C[1])}break;case"PtgArray":c.push("{"+S7(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=T;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var xe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&xe.indexOf(n[0][T][0])==-1){C=n[0][b];var Ee=!0;switch(C[1][0]){case 4:Ee=!1;case 0:w=En(" ",C[1][1]);break;case 5:Ee=!1;case 1:w=En("\r",C[1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}c.push((Ee?w:"")+c.pop()+(Ee?"":w)),b=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function C7(n){if(n==null){var e=Se(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return wl(n);return wl(0)}function A7(n,e,t,r,i){var s=El(e,t,i),l=C7(n.v),c=Se(6),f=33;c.write_shift(2,f),c.write_shift(4,0);for(var h=Se(n.bf.length),d=0;d<n.bf.length;++d)h[d]=n.bf[d];var m=cr([s,l,c,h]);return m}function ap(n,e,t){var r=n.read_shift(4),i=b7(n,r,t),s=n.read_shift(4),l=s>0?y7(n,s,i,t):null;return[i,l]}var T7=ap,lp=ap,_7=ap,D7=ap,k7={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},m3={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},O7={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function B7(n){var e="of:="+n.replace(ov,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function N7(n){return n.replace(/\./,"!")}var d0=typeof Map<"u";function uv(n,e,t){var r=0,i=n.length;if(t){if(d0?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=d0?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&(d0?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function op(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Us=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=gd(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=Px(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function g3(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function Ua(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,s=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){uA(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(n[i].numFmtId===r)return i;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function R7(n,e,t){if(n&&n["!ref"]){var r=hn(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function F7(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+jn(n[t])+'"/>';return e+"</mergeCells>"}function M7(n,e,t,r,i){var s=!1,l={},c=null;if(r.bookType!=="xlsx"&&e.vbaraw){var f=e.SheetNames[t];try{e.Workbook&&(f=e.Workbook.Sheets[t].CodeName||f)}catch{}s=!0,l.codeName=_0(Gt(f))}if(n&&n["!outline"]){var h={summaryBelow:1,summaryRight:1};n["!outline"].above&&(h.summaryBelow=0),n["!outline"].left&&(h.summaryRight=0),c=(c||"")+ze("outlinePr",null,h)}!s&&!c||(i[i.length]=ze("sheetPr",c,l))}var L7=["objects","scenarios","selectLockedCells","selectUnlockedCells"],I7=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function P7(n){var e={sheet:1};return L7.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),I7.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=JA(n.password).toString(16).toUpperCase()),ze("sheetProtection",null,e)}function j7(n){return g3(n),ze("pageMargins",null,n)}function z7(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=ze("col",null,op(i,r)));return t[t.length]="</cols>",t.join("")}function H7(n,e,t,r){var i=typeof n.ref=="string"?n.ref:jn(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,l=ui(i);l.s.r==l.e.r&&(l.e.r=ui(e["!ref"]).e.r,i=jn(l));for(var c=0;c<s.length;++c){var f=s[c];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),ze("autoFilter",null,{ref:i})}function U7(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),ze("sheetViews",ze("sheetView",null,i),{})}function V7(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",s=n.t,l=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=tf[n.v];break;case"d":r&&r.cellDates?i=_r(n.v,-1).toISOString():(n=Gr(n),n.t="n",i=""+(n.v=Wr(_r(n.v)))),typeof n.z>"u"&&(n.z=Cn[14]);break;default:i=n.v;break}var c=fr("v",Gt(i)),f={r:e},h=Ua(r.cellXfs,n,r);switch(h!==0&&(f.s=h),n.t){case"n":break;case"d":f.t="d";break;case"b":f.t="b";break;case"e":f.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){c=fr("v",""+uv(r.Strings,n.v,r.revStrings)),f.t="s";break}f.t="str";break}if(n.t!=s&&(n.t=s,n.v=l),typeof n.f=="string"&&n.f){var d=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;c=ze("f",Gt(n.f),d)+(n.v!=null?c:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(f.cm=1),ze("c",c,f)}function q7(n,e,t,r){var i=[],s=[],l=hn(n["!ref"]),c="",f,h="",d=[],m=0,g=0,x=n["!rows"],S=Array.isArray(n),b={r:h},w,T=-1;for(g=l.s.c;g<=l.e.c;++g)d[g]=yr(g);for(m=l.s.r;m<=l.e.r;++m){for(s=[],h=hr(m),g=l.s.c;g<=l.e.c;++g){f=d[g]+h;var A=S?(n[m]||[])[g]:n[f];A!==void 0&&(c=V7(A,f,n,e))!=null&&s.push(c)}(s.length>0||x&&x[m])&&(b={r:h},x&&x[m]&&(w=x[m],w.hidden&&(b.hidden=1),T=-1,w.hpx?T=xd(w.hpx):w.hpt&&(T=w.hpt),T>-1&&(b.ht=T,b.customHeight=1),w.level&&(b.outlineLevel=w.level)),i[i.length]=ze("row",s.join(""),b))}if(x)for(;m<x.length;++m)x&&x[m]&&(b={r:m+1},w=x[m],w.hidden&&(b.hidden=1),T=-1,w.hpx?T=xd(w.hpx):w.hpt&&(T=w.hpt),T>-1&&(b.ht=T,b.customHeight=1),w.level&&(b.outlineLevel=w.level),i[i.length]=ze("row","",b));return i.join("")}function x3(n,e,t,r){var i=[zn,ze("worksheet",null,{xmlns:Ko[0],"xmlns:r":Yn.r})],s=t.SheetNames[n],l=0,c="",f=t.Sheets[s];f==null&&(f={});var h=f["!ref"]||"A1",d=hn(h);if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),h=jn(d)}r||(r={}),f["!comments"]=[];var m=[];M7(f,t,n,e,i),i[i.length]=ze("dimension",null,{ref:h}),i[i.length]=U7(f,e,n,t),e.sheetFormat&&(i[i.length]=ze("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),f["!cols"]!=null&&f["!cols"].length>0&&(i[i.length]=z7(f,f["!cols"])),i[l=i.length]="<sheetData/>",f["!links"]=[],f["!ref"]!=null&&(c=q7(f,e),c.length>0&&(i[i.length]=c)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),f["!protect"]&&(i[i.length]=P7(f["!protect"])),f["!autofilter"]!=null&&(i[i.length]=H7(f["!autofilter"],f,t,n)),f["!merges"]!=null&&f["!merges"].length>0&&(i[i.length]=F7(f["!merges"]));var g=-1,x,S=-1;return f["!links"].length>0&&(i[i.length]="<hyperlinks>",f["!links"].forEach(function(b){b[1].Target&&(x={ref:b[0]},b[1].Target.charAt(0)!="#"&&(S=Wt(r,-1,Gt(b[1].Target).replace(/#.*$/,""),Lt.HLINK),x["r:id"]="rId"+S),(g=b[1].Target.indexOf("#"))>-1&&(x.location=Gt(b[1].Target.slice(g+1))),b[1].Tooltip&&(x.tooltip=Gt(b[1].Tooltip)),i[i.length]=ze("hyperlink",null,x))}),i[i.length]="</hyperlinks>"),delete f["!links"],f["!margins"]!=null&&(i[i.length]=j7(f["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=fr("ignoredErrors",ze("ignoredError",null,{numberStoredAsText:1,sqref:h}))),m.length>0&&(S=Wt(r,-1,"../drawings/drawing"+(n+1)+".xml",Lt.DRAW),i[i.length]=ze("drawing",null,{"r:id":"rId"+S}),f["!drawing"]=m),f["!comments"].length>0&&(S=Wt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Lt.VML),i[i.length]=ze("legacyDrawing",null,{"r:id":"rId"+S}),f["!legacy"]=S),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function W7(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function G7(n,e,t){var r=Se(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;i.hpx?s=xd(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),r.write_shift(1,l),r.write_shift(1,0);var c=0,f=r.l;r.l+=4;for(var h={r:n,c:0},d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var m=-1,g=-1,x=d<<10;x<d+1<<10;++x){h.c=x;var S=Array.isArray(t)?(t[h.r]||[])[h.c]:t[Xt(h)];S&&(m<0&&(m=x),g=x)}m<0||(++c,r.write_shift(4,m),r.write_shift(4,g))}var b=r.l;return r.l=f,r.write_shift(4,c),r.l=b,r.length>r.l?r.slice(0,r.l):r}function X7(n,e,t,r){var i=G7(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&Be(n,0,i)}var $7=Ml,Y7=Zo;function K7(){}function Q7(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=lB(n),t}function Z7(n,e,t){t==null&&(t=Se(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return dd({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),NA(n,t),t.slice(0,t.l)}function J7(n){var e=Ri(n);return[e]}function e9(n,e,t){return t==null&&(t=Se(8)),Nl(e,t)}function t9(n){var e=Rl(n);return[e]}function n9(n,e,t){return t==null&&(t=Se(4)),Fl(e,t)}function r9(n){var e=Ri(n),t=n.read_shift(1);return[e,t,"b"]}function i9(n,e,t){return t==null&&(t=Se(9)),Nl(e,t),t.write_shift(1,n.v?1:0),t}function s9(n){var e=Rl(n),t=n.read_shift(1);return[e,t,"b"]}function a9(n,e,t){return t==null&&(t=Se(5)),Fl(e,t),t.write_shift(1,n.v?1:0),t}function l9(n){var e=Ri(n),t=n.read_shift(1);return[e,t,"e"]}function o9(n,e,t){return t==null&&(t=Se(9)),Nl(e,t),t.write_shift(1,n.v),t}function c9(n){var e=Rl(n),t=n.read_shift(1);return[e,t,"e"]}function f9(n,e,t){return t==null&&(t=Se(8)),Fl(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function u9(n){var e=Ri(n),t=n.read_shift(4);return[e,t,"s"]}function h9(n,e,t){return t==null&&(t=Se(12)),Nl(e,t),t.write_shift(4,e.v),t}function d9(n){var e=Rl(n),t=n.read_shift(4);return[e,t,"s"]}function p9(n,e,t){return t==null&&(t=Se(8)),Fl(e,t),t.write_shift(4,e.v),t}function m9(n){var e=Ri(n),t=Jo(n);return[e,t,"n"]}function g9(n,e,t){return t==null&&(t=Se(16)),Nl(e,t),wl(n.v,t),t}function x9(n){var e=Rl(n),t=Jo(n);return[e,t,"n"]}function v9(n,e,t){return t==null&&(t=Se(12)),Fl(e,t),wl(n.v,t),t}function y9(n){var e=Ri(n),t=RA(n);return[e,t,"n"]}function b9(n,e,t){return t==null&&(t=Se(12)),Nl(e,t),FA(n.v,t),t}function S9(n){var e=Rl(n),t=RA(n);return[e,t,"n"]}function w9(n,e,t){return t==null&&(t=Se(8)),Fl(e,t),FA(n.v,t),t}function E9(n){var e=Ri(n),t=rv(n);return[e,t,"is"]}function C9(n){var e=Ri(n),t=br(n);return[e,t,"str"]}function A9(n,e,t){return t==null&&(t=Se(12+4*n.v.length)),Nl(e,t),Zn(n.v,t),t.length>t.l?t.slice(0,t.l):t}function T9(n){var e=Rl(n),t=br(n);return[e,t,"str"]}function _9(n,e,t){return t==null&&(t=Se(8+4*n.v.length)),Fl(e,t),Zn(n.v,t),t.length>t.l?t.slice(0,t.l):t}function D9(n,e,t){var r=n.l+e,i=Ri(n);i.r=t["!row"];var s=n.read_shift(1),l=[i,s,"b"];if(t.cellFormula){n.l+=2;var c=lp(n,r-n.l,t);l[3]=Ho(c,null,i,t.supbooks,t)}else n.l=r;return l}function k9(n,e,t){var r=n.l+e,i=Ri(n);i.r=t["!row"];var s=n.read_shift(1),l=[i,s,"e"];if(t.cellFormula){n.l+=2;var c=lp(n,r-n.l,t);l[3]=Ho(c,null,i,t.supbooks,t)}else n.l=r;return l}function O9(n,e,t){var r=n.l+e,i=Ri(n);i.r=t["!row"];var s=Jo(n),l=[i,s,"n"];if(t.cellFormula){n.l+=2;var c=lp(n,r-n.l,t);l[3]=Ho(c,null,i,t.supbooks,t)}else n.l=r;return l}function B9(n,e,t){var r=n.l+e,i=Ri(n);i.r=t["!row"];var s=br(n),l=[i,s,"str"];if(t.cellFormula){n.l+=2;var c=lp(n,r-n.l,t);l[3]=Ho(c,null,i,t.supbooks,t)}else n.l=r;return l}var N9=Ml,R9=Zo;function F9(n,e){return e==null&&(e=Se(4)),e.write_shift(4,n),e}function M9(n,e){var t=n.l+e,r=Ml(n),i=iv(n),s=br(n),l=br(n),c=br(n);n.l=t;var f={rfx:r,relId:i,loc:s,display:c};return l&&(f.Tooltip=l),f}function L9(n,e){var t=Se(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));Zo({s:Qn(n[0]),e:Qn(n[0])},t),sv("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return Zn(i||"",t),Zn(n[1].Tooltip||"",t),Zn("",t),t.slice(0,t.l)}function I9(){}function P9(n,e,t){var r=n.l+e,i=MA(n),s=n.read_shift(1),l=[i];if(l[2]=s,t.cellFormula){var c=T7(n,r-n.l,t);l[1]=c}else n.l=r;return l}function j9(n,e,t){var r=n.l+e,i=Ml(n),s=[i];if(t.cellFormula){var l=D7(n,r-n.l,t);s[1]=l,n.l=r}else n.l=r;return s}function z9(n,e,t){t==null&&(t=Se(18));var r=op(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var v3=["left","right","top","bottom","header","footer"];function H9(n){var e={};return v3.forEach(function(t){e[t]=Jo(n)}),e}function U9(n,e){return e==null&&(e=Se(48)),g3(n),v3.forEach(function(t){wl(n[t],e)}),e}function V9(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function q9(n,e,t){t==null&&(t=Se(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function W9(n){var e=Se(24);return e.write_shift(4,4),e.write_shift(4,1),Zo(n,e),e}function G9(n,e){return e==null&&(e=Se(66)),e.write_shift(2,n.password?JA(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function X9(){}function $9(){}function Y9(n,e,t,r,i,s,l){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=Gr(e),e.z=e.z||Cn[14],e.v=Wr(_r(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var f={r:t,c:r};switch(f.s=Ua(i.cellXfs,e,i),e.l&&s["!links"].push([Xt(f),e.l]),e.c&&s["!comments"].push([Xt(f),e.c]),e.t){case"s":case"str":return i.bookSST?(c=uv(i.Strings,e.v,i.revStrings),f.t="s",f.v=c,l?Be(n,18,p9(e,f)):Be(n,7,h9(e,f))):(f.t="str",l?Be(n,17,_9(e,f)):Be(n,6,A9(e,f))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?Be(n,13,w9(e,f)):Be(n,2,b9(e,f)):l?Be(n,16,v9(e,f)):Be(n,5,g9(e,f)),!0;case"b":return f.t="b",l?Be(n,15,a9(e,f)):Be(n,4,i9(e,f)),!0;case"e":return f.t="e",l?Be(n,14,f9(e,f)):Be(n,3,o9(e,f)),!0}return l?Be(n,12,n9(e,f)):Be(n,1,e9(e,f)),!0}function K9(n,e,t,r){var i=hn(e["!ref"]||"A1"),s,l="",c=[];Be(n,145);var f=Array.isArray(e),h=i.e.r;e["!rows"]&&(h=Math.max(i.e.r,e["!rows"].length-1));for(var d=i.s.r;d<=h;++d){l=hr(d),X7(n,e,i,d);var m=!1;if(d<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){d===i.s.r&&(c[g]=yr(g)),s=c[g]+l;var x=f?(e[d]||[])[g]:e[s];if(!x){m=!1;continue}m=Y9(n,x,d,g,r,e,m)}}Be(n,146)}function Q9(n,e){!e||!e["!merges"]||(Be(n,177,F9(e["!merges"].length)),e["!merges"].forEach(function(t){Be(n,176,R9(t))}),Be(n,178))}function Z9(n,e){!e||!e["!cols"]||(Be(n,390),e["!cols"].forEach(function(t,r){t&&Be(n,60,z9(r,t))}),Be(n,391))}function J9(n,e){!e||!e["!ref"]||(Be(n,648),Be(n,649,W9(hn(e["!ref"]))),Be(n,650))}function eF(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=Wt(t,-1,r[1].Target.replace(/#.*$/,""),Lt.HLINK);Be(n,494,L9(r,i))}}),delete e["!links"]}function tF(n,e,t,r){if(e["!comments"].length>0){var i=Wt(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Lt.VML);Be(n,551,sv("rId"+i)),e["!legacy"]=i}}function nF(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:jn(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var l=t.Workbook.Names,c=ui(s);c.s.r==c.e.r&&(c.e.r=ui(e["!ref"]).e.r,s=jn(c));for(var f=0;f<l.length;++f){var h=l[f];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+t.SheetNames[r]+"'!"+s;break}}f==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),Be(n,161,Zo(hn(s))),Be(n,162)}}function rF(n,e,t){Be(n,133),Be(n,137,q9(e,t)),Be(n,138),Be(n,134)}function iF(n,e){e["!protect"]&&Be(n,535,G9(e["!protect"]))}function sF(n,e,t,r){var i=qr(),s=t.SheetNames[n],l=t.Sheets[s]||{},c=s;try{t&&t.Workbook&&(c=t.Workbook.Sheets[n].CodeName||c)}catch{}var f=hn(l["!ref"]||"A1");if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Be(i,129),(t.vbaraw||l["!outline"])&&Be(i,147,Z7(c,l["!outline"])),Be(i,148,Y7(f)),rF(i,l,t.Workbook),Z9(i,l),K9(i,l,n,e),iF(i,l),nF(i,l,t,n),Q9(i,l),eF(i,l,r),l["!margins"]&&Be(i,476,U9(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&J9(i,l),tF(i,l,n,r),Be(i,130),i.end()}function aF(n,e){n.l+=10;var t=br(n);return{name:t}}var lF=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function oF(n){return!n.Workbook||!n.Workbook.WBProps?"false":jO(n.Workbook.WBProps.date1904)?"true":"false"}var cF="][*?/\\".split("");function y3(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return cF.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function fF(n,e,t){n.forEach(function(r,i){y3(r);for(var s=0;s<i;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var l=e&&e[i]&&e[i].CodeName||r;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function uF(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];fF(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)R7(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function b3(n){var e=[zn];e[e.length]=ze("workbook",null,{xmlns:Ko[0],"xmlns:r":Yn.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(lF.forEach(function(c){n.Workbook.WBProps[c[0]]!=null&&n.Workbook.WBProps[c[0]]!=c[1]&&(r[c[0]]=n.Workbook.WBProps[c[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=ze("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var l={name:Gt(n.SheetNames[s].slice(0,31))};if(l.sheetId=""+(s+1),l["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=ze("sheet",null,l)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(c){var f={name:c.Name};c.Comment&&(f.comment=c.Comment),c.Sheet!=null&&(f.localSheetId=""+c.Sheet),c.Hidden&&(f.hidden="1"),c.Ref&&(e[e.length]=ze("definedName",Gt(c.Ref),f))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function hF(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=Ix(n),t.name=br(n),t}function dF(n,e){return e||(e=Se(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),sv(n.strRelID,e),Zn(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function pF(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?br(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function mF(n,e){e||(e=Se(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),NA(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function gF(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=oB(n),l=_7(n,0,t),c=iv(n);n.l=r;var f={Name:s,Ptg:l};return i<268435455&&(f.Sheet=i),c&&(f.Comment=c),f}function xF(n,e){Be(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Be(n,156,dF(i))}Be(n,144)}function vF(n,e){e||(e=Se(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Zn("SheetJS",e),Zn(sd.version,e),Zn(sd.version,e),Zn("7262",e),e.length>e.l?e.slice(0,e.l):e}function yF(n,e){e||(e=Se(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function bF(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&s==-1&&(s=r);s>i||(Be(n,135),Be(n,158,yF(i)),Be(n,136))}}function SF(n,e){var t=qr();return Be(t,131),Be(t,128,vF()),Be(t,153,mF(n.Workbook&&n.Workbook.WBProps||null)),bF(t,n),xF(t,n),Be(t,132),t.end()}function wF(n,e,t){return(e.slice(-4)===".bin"?SF:b3)(n)}function EF(n,e,t,r,i){return(e.slice(-4)===".bin"?sF:x3)(n,t,r,i)}function CF(n,e,t){return(e.slice(-4)===".bin"?UN:n3)(n,t)}function AF(n,e,t){return(e.slice(-4)===".bin"?mN:ZA)(n,t)}function TF(n,e,t){return(e.slice(-4)===".bin"?iR:l3)(n)}function _F(n){return(n.slice(-4)===".bin"?KN:s3)()}function DF(n,e){var t=[];return n.Props&&t.push(CB(n.Props,e)),n.Custprops&&t.push(AB(n.Props,n.Custprops)),t.join("")}function kF(){return""}function OF(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(ze("NumberFormat",null,{"ss:Format":Gt(Cn[r.numFmtId])}));var l={"ss:ID":"s"+(21+i)};t.push(ze("Style",s.join(""),l))}),ze("Styles",t.join(""))}function S3(n){return ze("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+cv(n.Ref,{r:0,c:0})})}function BF(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(S3(i)))}return ze("Names",t.join(""))}function NF(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],l=0;l<i.length;++l){var c=i[l];c.Sheet==t&&(c.Name.match(/^_xlfn\./)||s.push(S3(c)))}return s.join("")}function RF(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(ze("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(ze("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(ze("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(ze("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(fr("ProtectContents","True")),n["!protect"].objects&&i.push(fr("ProtectObjects","True")),n["!protect"].scenarios&&i.push(fr("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(fr("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(fr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){n["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":ze("WorksheetOptions",i.join(""),{xmlns:oi.x})}function FF(n){return n.map(function(e){var t=PO(e.t||""),r=ze("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return ze("Comment",r,{"ss:Author":e.a})}).join("")}function MF(n,e,t,r,i,s,l){if(!n||n.v==null&&n.f==null)return"";var c={};if(n.f&&(c["ss:Formula"]="="+Gt(cv(n.f,l))),n.F&&n.F.slice(0,e.length)==e){var f=Qn(n.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(f.r==l.r?"":"["+(f.r-l.r)+"]")+"C"+(f.c==l.c?"":"["+(f.c-l.c)+"]")}if(n.l&&n.l.Target&&(c["ss:HRef"]=Gt(n.l.Target),n.l.Tooltip&&(c["x:HRefScreenTip"]=Gt(n.l.Tooltip))),t["!merges"])for(var h=t["!merges"],d=0;d!=h.length;++d)h[d].s.c!=l.c||h[d].s.r!=l.r||(h[d].e.c>h[d].s.c&&(c["ss:MergeAcross"]=h[d].e.c-h[d].s.c),h[d].e.r>h[d].s.r&&(c["ss:MergeDown"]=h[d].e.r-h[d].s.r));var m="",g="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":m="Number",g=String(n.v);break;case"b":m="Boolean",g=n.v?"1":"0";break;case"e":m="Error",g=tf[n.v];break;case"d":m="DateTime",g=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||Cn[14]);break;case"s":m="String",g=IO(n.v||"");break}var x=Ua(r.cellXfs,n,r);c["ss:StyleID"]="s"+(21+x),c["ss:Index"]=l.c+1;var S=n.v!=null?g:"",b=n.t=="z"?"":'<Data ss:Type="'+m+'">'+S+"</Data>";return(n.c||[]).length>0&&(b+=FF(n.c)),ze("Cell",b,c)}function LF(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=t3(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function IF(n,e,t,r){if(!n["!ref"])return"";var i=hn(n["!ref"]),s=n["!merges"]||[],l=0,c=[];n["!cols"]&&n["!cols"].forEach(function(w,T){lv(w);var A=!!w.width,C=op(T,w),_={"ss:Index":T+1};A&&(_["ss:Width"]=md(C.width)),w.hidden&&(_["ss:Hidden"]="1"),c.push(ze("Column",null,_))});for(var f=Array.isArray(n),h=i.s.r;h<=i.e.r;++h){for(var d=[LF(h,(n["!rows"]||[])[h])],m=i.s.c;m<=i.e.c;++m){var g=!1;for(l=0;l!=s.length;++l)if(!(s[l].s.c>m)&&!(s[l].s.r>h)&&!(s[l].e.c<m)&&!(s[l].e.r<h)){(s[l].s.c!=m||s[l].s.r!=h)&&(g=!0);break}if(!g){var x={r:h,c:m},S=Xt(x),b=f?(n[h]||[])[m]:n[S];d.push(MF(b,S,n,e,t,r,x))}}d.push("</Row>"),d.length>2&&c.push(d.join(""))}return c.join("")}function PF(n,e,t){var r=[],i=t.SheetNames[n],s=t.Sheets[i],l=s?NF(s,e,n,t):"";return l.length>0&&r.push("<Names>"+l+"</Names>"),l=s?IF(s,e,n,t):"",l.length>0&&r.push("<Table>"+l+"</Table>"),r.push(RF(s,e,n,t)),r.join("")}function jF(n,e){e||(e={}),n.SSF||(n.SSF=Gr(Cn)),n.SSF&&(rp(),np(n.SSF),e.revssf=ip(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],Ua(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(DF(n,e)),t.push(kF()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(ze("Worksheet",PF(r,e,n),{"ss:Name":Gt(n.SheetNames[r])}));return t[2]=OF(n,e),t[3]=BF(n),zn+ze("Workbook",t.join(""),{xmlns:oi.ss,"xmlns:o":oi.o,"xmlns:x":oi.x,"xmlns:ss":oi.ss,"xmlns:dt":oi.dt,"xmlns:html":oi.html})}var Xg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function zF(n,e){var t=[],r=[],i=[],s=0,l,c=q4(rw,"n"),f=q4(iw,"n");if(n.Props)for(l=dr(n.Props),s=0;s<l.length;++s)(Object.prototype.hasOwnProperty.call(c,l[s])?t:Object.prototype.hasOwnProperty.call(f,l[s])?r:i).push([l[s],n.Props[l[s]]]);if(n.Custprops)for(l=dr(n.Custprops),s=0;s<l.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},l[s])||(Object.prototype.hasOwnProperty.call(c,l[s])?t:Object.prototype.hasOwnProperty.call(f,l[s])?r:i).push([l[s],n.Custprops[l[s]]]);var h=[];for(s=0;s<i.length;++s)WA.indexOf(i[s][0])>-1||UA.indexOf(i[s][0])>-1||i[s][1]!=null&&h.push(i[s]);r.length&&en.utils.cfb_add(e,"/SummaryInformation",cw(r,Xg.SI,f,iw)),(t.length||h.length)&&en.utils.cfb_add(e,"/DocumentSummaryInformation",cw(t,Xg.DSI,c,rw,h.length?h:null,Xg.UDI))}function HF(n,e){var t=e||{},r=en.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return en.utils.cfb_add(r,i,w3(n,t)),t.biff==8&&(n.Props||n.Custprops)&&zF(n,r),t.biff==8&&n.vbaraw&&sR(r,en.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var UF={0:{f:W7},1:{f:J7},2:{f:y9},3:{f:l9},4:{f:r9},5:{f:m9},6:{f:C9},7:{f:u9},8:{f:B9},9:{f:O9},10:{f:D9},11:{f:k9},12:{f:t9},13:{f:S9},14:{f:c9},15:{f:s9},16:{f:x9},17:{f:T9},18:{f:d9},19:{f:rv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:gF},40:{},42:{},43:{f:CN},44:{f:wN},45:{f:_N},46:{f:kN},47:{f:DN},48:{},49:{f:tB},50:{},51:{f:WN},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:nN},62:{f:E9},63:{f:QN},64:{f:X9},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ms,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:V9},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Q7},148:{f:$7,p:16},151:{f:I9},152:{},153:{f:pF},154:{},155:{},156:{f:hF},157:{},158:{},159:{T:1,f:hN},160:{T:-1},161:{T:1,f:Ml},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:N9},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:VN},336:{T:-1},337:{f:$N,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ix},357:{},358:{},359:{},360:{T:1},361:{},362:{f:KB},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:P9},427:{f:j9},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:H9},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:K7},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:M9},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ix},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:nR},633:{T:1},634:{T:-1},635:{T:1,f:eR},636:{T:-1},637:{f:sB},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:aF},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:$9},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function He(n,e,t,r){var i=e;if(!isNaN(i)){var s=r||(t||[]).length||0,l=n.next(4);l.write_shift(2,i),l.write_shift(2,s),s>0&&ev(t)&&n.push(t)}}function VF(n,e,t,r){var i=(t||[]).length||0;if(i<=8224)return He(n,e,t,i);var s=e;if(!isNaN(s)){for(var l=t.parts||[],c=0,f=0,h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;var d=n.next(4);for(d.write_shift(2,s),d.write_shift(2,h),n.push(t.slice(f,f+h)),f+=h;f<i;){for(d=n.next(4),d.write_shift(2,60),h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;d.write_shift(2,h),n.push(t.slice(f,f+h)),f+=h}}}function rf(n,e,t){return n||(n=Se(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function qF(n,e,t,r){var i=Se(9);return rf(i,n,e),XA(t,r||"b",i),i}function WF(n,e,t){var r=Se(8+2*t.length);return rf(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function GF(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Wr(_r(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?He(n,2,aN(t,r,i)):He(n,3,sN(t,r,i));return;case"b":case"e":He(n,5,qF(t,r,e.v,e.t));return;case"s":case"str":He(n,4,WF(t,r,(e.v||"").slice(0,255)));return}He(n,1,rf(null,t,r))}function XF(n,e,t,r){var i=Array.isArray(e),s=hn(e["!ref"]||"A1"),l,c="",f=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),l=jn(s)}for(var h=s.s.r;h<=s.e.r;++h){c=hr(h);for(var d=s.s.c;d<=s.e.c;++d){h===s.s.r&&(f[d]=yr(d)),l=f[d]+c;var m=i?(e[h]||[])[d]:e[l];m&&GF(n,m,h,d)}}}function $F(n,e){for(var t=e||{},r=qr(),i=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return He(r,t.biff==4?1033:t.biff==3?521:9,av(n,16,t)),XF(r,n.Sheets[n.SheetNames[i]],i,t),He(r,10),r.end()}function YF(n,e,t){He(n,49,UB({sz:12,name:"Arial"},t))}function KF(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&He(n,1054,WB(i,e[i],t))})}function QF(n,e){var t=Se(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),He(n,2151,t),t=Se(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),KA(hn(e["!ref"]||"A1"),t),t.write_shift(4,4),He(n,2152,t)}function ZF(n,e){for(var t=0;t<16;++t)He(n,224,uw({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){He(n,224,uw(r,0,e))})}function JF(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];He(n,440,JB(r)),r[1].Tooltip&&He(n,2048,eN(r))}delete e["!links"]}function eM(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&He(n,125,rN(op(i,r),i))})}}function tM(n,e,t,r,i){var s=16+Ua(i.cellXfs,e,i);if(e.v==null&&!e.bf){He(n,513,El(t,r,s));return}if(e.bf)He(n,6,A7(e,t,r,i,s));else switch(e.t){case"d":case"n":var l=e.t=="d"?Wr(_r(e.v)):e.v;He(n,515,YB(t,r,l,s));break;case"b":case"e":He(n,517,$B(t,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var c=uv(i.Strings,e.v,i.revStrings);He(n,253,VB(t,r,c,s))}else He(n,516,qB(t,r,(e.v||"").slice(0,255),s,i));break;default:He(n,513,El(t,r,s))}}function nM(n,e,t){var r=qr(),i=t.SheetNames[n],s=t.Sheets[i]||{},l=(t||{}).Workbook||{},c=(l.Sheets||[])[n]||{},f=Array.isArray(s),h=e.biff==8,d,m="",g=[],x=hn(s["!ref"]||"A1"),S=h?65536:16384;if(x.e.c>255||x.e.r>=S){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,S-1)}He(r,2057,av(t,16,e)),He(r,13,Ai(1)),He(r,12,Ai(100)),He(r,15,Cr(!0)),He(r,17,Cr(!1)),He(r,16,wl(.001)),He(r,95,Cr(!0)),He(r,42,Cr(!1)),He(r,43,Cr(!1)),He(r,130,Ai(1)),He(r,128,XB()),He(r,131,Cr(!1)),He(r,132,Cr(!1)),h&&eM(r,s["!cols"]),He(r,512,GB(x,e)),h&&(s["!links"]=[]);for(var b=x.s.r;b<=x.e.r;++b){m=hr(b);for(var w=x.s.c;w<=x.e.c;++w){b===x.s.r&&(g[w]=yr(w)),d=g[w]+m;var T=f?(s[b]||[])[w]:s[d];T&&(tM(r,T,b,w,e),h&&T.l&&s["!links"].push([d,T.l]))}}var A=c.CodeName||c.name||i;return h&&He(r,574,HB((l.Views||[])[0])),h&&(s["!merges"]||[]).length&&He(r,229,ZB(s["!merges"])),h&&JF(r,s),He(r,442,YA(A)),h&&QF(r,s),He(r,10),r.end()}function rM(n,e,t){var r=qr(),i=(n||{}).Workbook||{},s=i.Sheets||[],l=i.WBProps||{},c=t.biff==8,f=t.biff==5;if(He(r,2057,av(n,5,t)),t.bookType=="xla"&&He(r,135),He(r,225,c?Ai(1200):null),He(r,193,DB(2)),f&&He(r,191),f&&He(r,192),He(r,226),He(r,92,IB("SheetJS",t)),He(r,66,Ai(c?1200:1252)),c&&He(r,353,Ai(0)),c&&He(r,448),He(r,317,iN(n.SheetNames.length)),c&&n.vbaraw&&He(r,211),c&&n.vbaraw){var h=l.CodeName||"ThisWorkbook";He(r,442,YA(h))}He(r,156,Ai(17)),He(r,25,Cr(!1)),He(r,18,Cr(!1)),He(r,19,Ai(0)),c&&He(r,431,Cr(!1)),c&&He(r,444,Ai(0)),He(r,61,zB()),He(r,64,Cr(!1)),He(r,141,Ai(0)),He(r,34,Cr(oF(n)=="true")),He(r,14,Cr(!0)),c&&He(r,439,Cr(!1)),He(r,218,Ai(0)),YF(r,n,t),KF(r,n.SSF,t),ZF(r,t),c&&He(r,352,Cr(!1));var d=r.end(),m=qr();c&&He(m,140,tN()),c&&t.Strings&&VF(m,252,jB(t.Strings)),He(m,10);var g=m.end(),x=qr(),S=0,b=0;for(b=0;b<n.SheetNames.length;++b)S+=(c?12:11)+(c?2:1)*n.SheetNames[b].length;var w=d.length+S+g.length;for(b=0;b<n.SheetNames.length;++b){var T=s[b]||{};He(x,133,PB({pos:w,hs:T.Hidden||0,dt:0,name:n.SheetNames[b]},t)),w+=e[b].length}var A=x.end();if(S!=A.length)throw new Error("BS8 "+S+" != "+A.length);var C=[];return d.length&&C.push(d),A.length&&C.push(A),g.length&&C.push(g),cr(C)}function iM(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=Gr(Cn)),n&&n.SSF&&(rp(),np(n.SSF),t.revssf=ip(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,hv(t),t.cellXfs=[],Ua(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=nM(i,t,n);return r.unshift(rM(n,r,t)),cr(r)}function w3(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=ui(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return iM(n,e);case 4:case 3:case 2:return $F(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function sM(n,e,t,r){for(var i=n["!merges"]||[],s=[],l=e.s.c;l<=e.e.c;++l){for(var c=0,f=0,h=0;h<i.length;++h)if(!(i[h].s.r>t||i[h].s.c>l)&&!(i[h].e.r<t||i[h].e.c<l)){if(i[h].s.r<t||i[h].s.c<l){c=-1;break}c=i[h].e.r-i[h].s.r+1,f=i[h].e.c-i[h].s.c+1;break}if(!(c<0)){var d=Xt({r:t,c:l}),m=r.dense?(n[t]||[])[l]:n[d],g=m&&m.v!=null&&(m.h||LO(m.w||(Ws(m),m.w)||""))||"",x={};c>1&&(x.rowspan=c),f>1&&(x.colspan=f),r.editable?g='<span contenteditable="true">'+g+"</span>":m&&(x["data-t"]=m&&m.t||"z",m.v!=null&&(x["data-v"]=m.v),m.z!=null&&(x["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+m.l.Target+'">'+g+"</a>")),x.id=(r.id||"sjs")+"-"+d,s.push(ze("td",g,x))}}var S="<tr>";return S+s.join("")+"</tr>"}var aM='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',lM="</body></html>";function oM(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function E3(n,e){var t=e||{},r=t.header!=null?t.header:aM,i=t.footer!=null?t.footer:lM,s=[r],l=ui(n["!ref"]);t.dense=Array.isArray(n),s.push(oM(n,l,t));for(var c=l.s.r;c<=l.e.r;++c)s.push(sM(n,l,c,t));return s.push("</table>"+i),s.join("")}function C3(n,e,t){var r=t||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var l=typeof r.origin=="string"?Qn(r.origin):r.origin;i=l.r,s=l.c}var c=e.getElementsByTagName("tr"),f=Math.min(r.sheetRows||1e7,c.length),h={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var d=ui(n["!ref"]);h.s.r=Math.min(h.s.r,d.s.r),h.s.c=Math.min(h.s.c,d.s.c),h.e.r=Math.max(h.e.r,d.e.r),h.e.c=Math.max(h.e.c,d.e.c),i==-1&&(h.e.r=i=d.e.r+1)}var m=[],g=0,x=n["!rows"]||(n["!rows"]=[]),S=0,b=0,w=0,T=0,A=0,C=0;for(n["!cols"]||(n["!cols"]=[]);S<c.length&&b<f;++S){var _=c[S];if(vw(_)){if(r.display)continue;x[b]={hidden:!0}}var B=_.children;for(w=T=0;w<B.length;++w){var N=B[w];if(!(r.display&&vw(N))){var O=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):zO(N.innerHTML),z=N.getAttribute("data-z")||N.getAttribute("z");for(g=0;g<m.length;++g){var R=m[g];R.s.c==T+s&&R.s.r<b+i&&b+i<=R.e.r&&(T=R.e.c+1-s,g=-1)}C=+N.getAttribute("colspan")||1,((A=+N.getAttribute("rowspan")||1)>1||C>1)&&m.push({s:{r:b+i,c:T+s},e:{r:b+i+(A||1)-1,c:T+s+(C||1)-1}});var I={t:"s",v:O},P=N.getAttribute("data-t")||N.getAttribute("t")||"";O!=null&&(O.length==0?I.t=P||"z":r.raw||O.trim().length==0||P=="s"||(O==="TRUE"?I={t:"b",v:!0}:O==="FALSE"?I={t:"b",v:!1}:isNaN(Hs(O))?isNaN(T0(O).getDate())||(I={t:"d",v:_r(O)},r.cellDates||(I={t:"n",v:Wr(I.v)}),I.z=r.dateNF||Cn[14]):I={t:"n",v:Hs(O)})),I.z===void 0&&z!=null&&(I.z=z);var q="",K=N.getElementsByTagName("A");if(K&&K.length)for(var ie=0;ie<K.length&&!(K[ie].hasAttribute("href")&&(q=K[ie].getAttribute("href"),q.charAt(0)!="#"));++ie);q&&q.charAt(0)!="#"&&(I.l={Target:q}),r.dense?(n[b+i]||(n[b+i]=[]),n[b+i][T+s]=I):n[Xt({c:T+s,r:b+i})]=I,h.e.c<T+s&&(h.e.c=T+s),T+=C}}++b}return m.length&&(n["!merges"]=(n["!merges"]||[]).concat(m)),h.e.r=Math.max(h.e.r,b-1+i),n["!ref"]=jn(h),b>=f&&(n["!fullref"]=jn((h.e.r=c.length-S+b-1+i,h))),n}function A3(n,e){var t=e||{},r=t.dense?[]:{};return C3(r,n,e)}function cM(n,e){return Bl(A3(n,e),e)}function vw(n){var e="",t=fM(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function fM(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var uM=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+D0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return zn+e}})(),yw=(function(){var n=function(s){return Gt(s).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,l,c){var f=[];f.push('      <table:table table:name="'+Gt(l.SheetNames[c])+`" table:style-name="ta1">
`);var h=0,d=0,m=ui(s["!ref"]||"A1"),g=s["!merges"]||[],x=0,S=Array.isArray(s);if(s["!cols"])for(d=0;d<=m.e.c;++d)f.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var b="",w=s["!rows"]||[];for(h=0;h<m.s.r;++h)b=w[h]?' table:style-name="ro'+w[h].ods+'"':"",f.push("        <table:table-row"+b+`></table:table-row>
`);for(;h<=m.e.r;++h){for(b=w[h]?' table:style-name="ro'+w[h].ods+'"':"",f.push("        <table:table-row"+b+`>
`),d=0;d<m.s.c;++d)f.push(e);for(;d<=m.e.c;++d){var T=!1,A={},C="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>d)&&!(g[x].s.r>h)&&!(g[x].e.c<d)&&!(g[x].e.r<h)){(g[x].s.c!=d||g[x].s.r!=h)&&(T=!0),A["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,A["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(T){f.push(t);continue}var _=Xt({r:h,c:d}),B=S?(s[h]||[])[d]:s[_];if(B&&B.f&&(A["table:formula"]=Gt(B7(B.f)),B.F&&B.F.slice(0,_.length)==_)){var N=ui(B.F);A["table:number-matrix-columns-spanned"]=N.e.c-N.s.c+1,A["table:number-matrix-rows-spanned"]=N.e.r-N.s.r+1}if(!B){f.push(e);continue}switch(B.t){case"b":C=B.v?"TRUE":"FALSE",A["office:value-type"]="boolean",A["office:boolean-value"]=B.v?"true":"false";break;case"n":C=B.w||String(B.v||0),A["office:value-type"]="float",A["office:value"]=B.v||0;break;case"s":case"str":C=B.v==null?"":B.v,A["office:value-type"]="string";break;case"d":C=B.w||_r(B.v).toISOString(),A["office:value-type"]="date",A["office:date-value"]=_r(B.v).toISOString(),A["table:style-name"]="ce1";break;default:f.push(e);continue}var O=n(C);if(B.l&&B.l.Target){var z=B.l.Target;z=z.charAt(0)=="#"?"#"+N7(z.slice(1)):z,z.charAt(0)!="#"&&!z.match(/^\w+:/)&&(z="../"+z),O=ze("text:a",O,{"xlink:href":z.replace(/&/g,"&amp;")})}f.push("          "+ze("table:table-cell",ze("text:p",O,{}),A)+`
`)}f.push(`        </table:table-row>
`)}return f.push(`      </table:table>
`),f.join("")},i=function(s,l){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var d=0;d<h["!cols"].length;++d)if(h["!cols"][d]){var m=h["!cols"][d];if(m.width==null&&m.wpx==null&&m.wch==null)continue;lv(m),m.ods=c;var g=h["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++c}}});var f=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var d=0;d<h["!rows"].length;++d)if(h["!rows"][d]){h["!rows"][d].ods=f;var m=h["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+f+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),s.push(`  </style:style>
`),++f}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(l,c){var f=[zn],h=D0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=D0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(f.push("<office:document"+h+d+`>
`),f.push(zA().replace(/office:document-meta/g,"office:meta"))):f.push("<office:document-content"+h+`>
`),i(f,l),f.push(`  <office:body>
`),f.push(`    <office:spreadsheet>
`);for(var m=0;m!=l.SheetNames.length;++m)f.push(r(l.Sheets[l.SheetNames[m]],l,m));return f.push(`    </office:spreadsheet>
`),f.push(`  </office:body>
`),c.bookType=="fods"?f.push("</office:document>"):f.push("</office:document-content>"),f.join("")}})();function T3(n,e){if(e.bookType=="fods")return yw(n,e);var t=K1(),r="",i=[],s=[];return r="mimetype",vt(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",vt(t,r,yw(n,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",vt(t,r,uM(n,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",vt(t,r,zn+zA()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",vt(t,r,EB(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",vt(t,r,SB(i)),t}function vd(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function hM(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):zi(_0(n))}function dM(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function Fa(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function pM(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)n[e+s]=i&255;n[e+15]|=t>=0?0:128}function k0(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function qt(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function No(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Un(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=k0(n,t),s=i&7;i=Math.floor(i/8);var l=0,c;if(i==0)break;switch(s){case 0:{for(var f=t[0];n[t[0]++]>=128;);c=n.slice(f,t[0])}break;case 5:l=4,c=n.slice(t[0],t[0]+l),t[0]+=l;break;case 1:l=8,c=n.slice(t[0],t[0]+l),t[0]+=l;break;case 2:l=k0(n,t),c=n.slice(t[0],t[0]+l),t[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var h={data:c,type:s};e[i]==null?e[i]=[h]:e[i].push(h)}return e}function sr(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(qt(r*8+i.type)),i.type==2&&e.push(qt(i.data.length)),e.push(i.data))})}),Fa(e)}function Pi(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=k0(n,r),s=Un(n.slice(r[0],r[0]+i));r[0]+=i;var l={id:No(s[1][0].data),messages:[]};s[2].forEach(function(c){var f=Un(c.data),h=No(f[3][0].data);l.messages.push({meta:f,data:n.slice(r[0],r[0]+h)}),r[0]+=h}),(e=s[3])!=null&&e[0]&&(l.merge=No(s[3][0].data)>>>0>0),t.push(l)}return t}function vo(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:qt(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:qt(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:qt(l.data.length)}],r[2].push({data:sr(l.meta),type:2})});var s=sr(r);e.push(qt(s.length)),e.push(s),i.forEach(function(l){return e.push(l)})}),Fa(e)}function mM(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=k0(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var l=e[t[0]++]>>2;if(l<60)++l;else{var c=l-59;l=e[t[0]],c>1&&(l|=e[t[0]+1]<<8),c>2&&(l|=e[t[0]+2]<<16),c>3&&(l|=e[t[0]+3]<<24),l>>>=0,l++,t[0]+=c}i.push(e.slice(t[0],t[0]+l)),t[0]+=l;continue}else{var f=0,h=0;if(s==1?(h=(e[t[0]]>>2&7)+4,f=(e[t[0]++]&224)<<3,f|=e[t[0]++]):(h=(e[t[0]++]>>2)+1,s==2?(f=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(f=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[Fa(i)],f==0)throw new Error("Invalid offset 0");if(f>i[0].length)throw new Error("Invalid offset beyond length");if(h>=f)for(i.push(i[0].slice(-f)),h-=f;h>=i[i.length-1].length;)i.push(i[i.length-1]),h-=i[i.length-1].length;i.push(i[0].slice(-f,-f+h))}}var d=Fa(i);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function ji(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(mM(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return Fa(e)}function yo(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=qt(r),l=s.length;e.push(s),r<=60?(l++,e.push(new Uint8Array([r-1<<2]))):r<=256?(l+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(l+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(l+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(l+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),l+=r,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,t+=r}return Fa(e)}function $g(n,e){var t=new Uint8Array(32),r=vd(t),i=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,pM(t,i,n.v),s|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,i)}function Yg(n,e){var t=new Uint8Array(32),r=vd(t),i=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),s|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,i)}function Sa(n){var e=Un(n);return k0(e[1][0].data)}function gM(n,e,t){var r,i,s,l;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(s=n[8])==null?void 0:s[0])==null?void 0:l.data)&&No(n[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var f=0,h=vd(n[7][0].data),d=0,m=[],g=vd(n[4][0].data),x=0,S=[],b=0;b<e.length;++b){if(e[b]==null){h.setUint16(b*2,65535,!0),g.setUint16(b*2,65535);continue}h.setUint16(b*2,d,!0),g.setUint16(b*2,x,!0);var w,T;switch(typeof e[b]){case"string":w=$g({t:"s",v:e[b]},t),T=Yg({t:"s",v:e[b]},t);break;case"number":w=$g({t:"n",v:e[b]},t),T=Yg({t:"n",v:e[b]},t);break;case"boolean":w=$g({t:"b",v:e[b]},t),T=Yg({t:"b",v:e[b]},t);break;default:throw new Error("Unsupported value "+e[b])}m.push(w),d+=w.length,S.push(T),x+=T.length,++f}for(n[2][0].data=qt(f);b<n[7][0].data.length/2;++b)h.setUint16(b*2,65535,!0),g.setUint16(b*2,65535,!0);return n[6][0].data=Fa(m),n[3][0].data=Fa(S),f}function xM(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=ui(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(jn(r)));var s=bd(t,{range:r,header:1}),l=["~Sh33tJ5~"];s.forEach(function(M){return M.forEach(function(L){typeof L=="string"&&l.push(L)})});var c={},f=[],h=en.read(e.numbers,{type:"base64"});h.FileIndex.map(function(M,L){return[M,h.FullPaths[L]]}).forEach(function(M){var L=M[0],W=M[1];if(L.type==2&&L.name.match(/\.iwa/)){var ee=L.content,be=ji(ee),ve=Pi(be);ve.forEach(function(Te){f.push(Te.id),c[Te.id]={deps:[],location:W,type:No(Te.messages[0].meta[1][0].data)}})}}),f.sort(function(M,L){return M-L});var d=f.filter(function(M){return M>1}).map(function(M){return[M,qt(M)]});h.FileIndex.map(function(M,L){return[M,h.FullPaths[L]]}).forEach(function(M){var L=M[0];if(M[1],!!L.name.match(/\.iwa/)){var W=Pi(ji(L.content));W.forEach(function(ee){ee.messages.forEach(function(be){d.forEach(function(ve){ee.messages.some(function(Te){return No(Te.meta[1][0].data)!=11006&&dM(Te.data,ve[1])})&&c[ve[0]].deps.push(ee.id)})})})}});for(var m=en.find(h,c[1].location),g=Pi(ji(m.content)),x,S=0;S<g.length;++S){var b=g[S];b.id==1&&(x=b)}var w=Sa(Un(x.messages[0].data)[1][0].data);for(m=en.find(h,c[w].location),g=Pi(ji(m.content)),S=0;S<g.length;++S)b=g[S],b.id==w&&(x=b);for(w=Sa(Un(x.messages[0].data)[2][0].data),m=en.find(h,c[w].location),g=Pi(ji(m.content)),S=0;S<g.length;++S)b=g[S],b.id==w&&(x=b);for(w=Sa(Un(x.messages[0].data)[2][0].data),m=en.find(h,c[w].location),g=Pi(ji(m.content)),S=0;S<g.length;++S)b=g[S],b.id==w&&(x=b);var T=Un(x.messages[0].data);{T[6][0].data=qt(r.e.r+1),T[7][0].data=qt(r.e.c+1);var A=Sa(T[46][0].data),C=en.find(h,c[A].location),_=Pi(ji(C.content));{for(var B=0;B<_.length&&_[B].id!=A;++B);if(_[B].id!=A)throw"Bad ColumnRowUIDMapArchive";var N=Un(_[B].messages[0].data);N[1]=[],N[2]=[],N[3]=[];for(var O=0;O<=r.e.c;++O){var z=[];z[1]=z[2]=[{type:0,data:qt(O+420690)}],N[1].push({type:2,data:sr(z)}),N[2].push({type:0,data:qt(O)}),N[3].push({type:0,data:qt(O)})}N[4]=[],N[5]=[],N[6]=[];for(var R=0;R<=r.e.r;++R)z=[],z[1]=z[2]=[{type:0,data:qt(R+726270)}],N[4].push({type:2,data:sr(z)}),N[5].push({type:0,data:qt(R)}),N[6].push({type:0,data:qt(R)});_[B].messages[0].data=sr(N)}C.content=yo(vo(_)),C.size=C.content.length,delete T[46];var I=Un(T[4][0].data);{I[7][0].data=qt(r.e.r+1);var P=Un(I[1][0].data),q=Sa(P[2][0].data);C=en.find(h,c[q].location),_=Pi(ji(C.content));{if(_[0].id!=q)throw"Bad HeaderStorageBucket";var K=Un(_[0].messages[0].data);for(R=0;R<s.length;++R){var ie=Un(K[2][0].data);ie[1][0].data=qt(R),ie[4][0].data=qt(s[R].length),K[2][R]={type:K[2][0].type,data:sr(ie)}}_[0].messages[0].data=sr(K)}C.content=yo(vo(_)),C.size=C.content.length;var ce=Sa(I[2][0].data);C=en.find(h,c[ce].location),_=Pi(ji(C.content));{if(_[0].id!=ce)throw"Bad HeaderStorageBucket";for(K=Un(_[0].messages[0].data),O=0;O<=r.e.c;++O)ie=Un(K[2][0].data),ie[1][0].data=qt(O),ie[4][0].data=qt(r.e.r+1),K[2][O]={type:K[2][0].type,data:sr(ie)};_[0].messages[0].data=sr(K)}C.content=yo(vo(_)),C.size=C.content.length;var Z=Sa(I[4][0].data);(function(){for(var M=en.find(h,c[Z].location),L=Pi(ji(M.content)),W,ee=0;ee<L.length;++ee){var be=L[ee];be.id==Z&&(W=be)}var ve=Un(W.messages[0].data);{ve[3]=[];var Te=[];l.forEach(function(Ye,dt){Te[1]=[{type:0,data:qt(dt)}],Te[2]=[{type:0,data:qt(1)}],Te[3]=[{type:2,data:hM(Ye)}],ve[3].push({type:2,data:sr(Te)})})}W.messages[0].data=sr(ve);var ye=vo(L),st=yo(ye);M.content=st,M.size=M.content.length})();var re=Un(I[3][0].data);{var xe=re[1][0];delete re[2];var Ee=Un(xe.data);{var Oe=Sa(Ee[2][0].data);(function(){for(var M=en.find(h,c[Oe].location),L=Pi(ji(M.content)),W,ee=0;ee<L.length;++ee){var be=L[ee];be.id==Oe&&(W=be)}var ve=Un(W.messages[0].data);{delete ve[6],delete re[7];var Te=new Uint8Array(ve[5][0].data);ve[5]=[];for(var ye=0,st=0;st<=r.e.r;++st){var Ye=Un(Te);ye+=gM(Ye,s[st],l),Ye[1][0].data=qt(st),ve[5].push({data:sr(Ye),type:2})}ve[1]=[{type:0,data:qt(r.e.c+1)}],ve[2]=[{type:0,data:qt(r.e.r+1)}],ve[3]=[{type:0,data:qt(ye)}],ve[4]=[{type:0,data:qt(r.e.r+1)}]}W.messages[0].data=sr(ve);var dt=vo(L),We=yo(dt);M.content=We,M.size=M.content.length})()}xe.data=sr(Ee)}I[3][0].data=sr(re)}T[4][0].data=sr(I)}x.messages[0].data=sr(T);var j=vo(g),D=yo(j);return m.content=D,m.size=m.content.length,h}function vM(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function hv(n){vM([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function yM(n,e){return e.bookType=="ods"?T3(n,e):e.bookType=="numbers"?xM(n,e):e.bookType=="xlsb"?bM(n,e):SM(n,e)}function bM(n,e){Co=1024,n&&!n.SSF&&(n.SSF=Gr(Cn)),n&&n.SSF&&(rp(),np(n.SSF),e.revssf=ip(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,d0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=o3.indexOf(e.bookType)>-1,i=IA();hv(e=e||{});var s=K1(),l="",c=0;if(e.cellXfs=[],Ua(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),l="docProps/core.xml",vt(s,l,HA(n.Props,e)),i.coreprops.push(l),Wt(e.rels,2,l,Lt.CORE_PROPS),l="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var f=[],h=0;h<n.SheetNames.length;++h)(n.Workbook.Sheets[h]||{}).Hidden!=2&&f.push(n.SheetNames[h]);n.Props.SheetNames=f}for(n.Props.Worksheets=n.Props.SheetNames.length,vt(s,l,VA(n.Props)),i.extprops.push(l),Wt(e.rels,3,l,Lt.EXT_PROPS),n.Custprops!==n.Props&&dr(n.Custprops||{}).length>0&&(l="docProps/custom.xml",vt(s,l,qA(n.Custprops)),i.custprops.push(l),Wt(e.rels,4,l,Lt.CUST_PROPS)),c=1;c<=n.SheetNames.length;++c){var d={"!id":{}},m=n.Sheets[n.SheetNames[c-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+c+"."+t,vt(s,l,EF(c-1,l,e,n,d)),i.sheets.push(l),Wt(e.wbrels,-1,"worksheets/sheet"+c+"."+t,Lt.WS[0])}if(m){var x=m["!comments"],S=!1,b="";x&&x.length>0&&(b="xl/comments"+c+"."+t,vt(s,b,TF(x,b)),i.comments.push(b),Wt(d,-1,"../comments"+c+"."+t,Lt.CMNT),S=!0),m["!legacy"]&&S&&vt(s,"xl/drawings/vmlDrawing"+c+".vml",a3(c,m["!comments"])),delete m["!comments"],delete m["!legacy"]}d["!id"].rId1&&vt(s,jA(l),Oo(d))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,vt(s,l,AF(e.Strings,l,e)),i.strs.push(l),Wt(e.wbrels,-1,"sharedStrings."+t,Lt.SST)),l="xl/workbook."+t,vt(s,l,wF(n,l)),i.workbooks.push(l),Wt(e.rels,1,l,Lt.WB),l="xl/theme/theme1.xml",vt(s,l,i3(n.Themes,e)),i.themes.push(l),Wt(e.wbrels,-1,"theme/theme1.xml",Lt.THEME),l="xl/styles."+t,vt(s,l,CF(n,l,e)),i.styles.push(l),Wt(e.wbrels,-1,"styles."+t,Lt.STY),n.vbaraw&&r&&(l="xl/vbaProject.bin",vt(s,l,n.vbaraw),i.vba.push(l),Wt(e.wbrels,-1,"vbaProject.bin",Lt.VBA)),l="xl/metadata."+t,vt(s,l,_F(l)),i.metadata.push(l),Wt(e.wbrels,-1,"metadata."+t,Lt.XLMETA),vt(s,"[Content_Types].xml",PA(i,e)),vt(s,"_rels/.rels",Oo(e.rels)),vt(s,"xl/_rels/workbook."+t+".rels",Oo(e.wbrels)),delete e.revssf,delete e.ssf,s}function SM(n,e){Co=1024,n&&!n.SSF&&(n.SSF=Gr(Cn)),n&&n.SSF&&(rp(),np(n.SSF),e.revssf=ip(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,d0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=o3.indexOf(e.bookType)>-1,i=IA();hv(e=e||{});var s=K1(),l="",c=0;if(e.cellXfs=[],Ua(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),l="docProps/core.xml",vt(s,l,HA(n.Props,e)),i.coreprops.push(l),Wt(e.rels,2,l,Lt.CORE_PROPS),l="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var f=[],h=0;h<n.SheetNames.length;++h)(n.Workbook.Sheets[h]||{}).Hidden!=2&&f.push(n.SheetNames[h]);n.Props.SheetNames=f}n.Props.Worksheets=n.Props.SheetNames.length,vt(s,l,VA(n.Props)),i.extprops.push(l),Wt(e.rels,3,l,Lt.EXT_PROPS),n.Custprops!==n.Props&&dr(n.Custprops||{}).length>0&&(l="docProps/custom.xml",vt(s,l,qA(n.Custprops)),i.custprops.push(l),Wt(e.rels,4,l,Lt.CUST_PROPS));var d=["SheetJ5"];for(e.tcid=0,c=1;c<=n.SheetNames.length;++c){var m={"!id":{}},g=n.Sheets[n.SheetNames[c-1]],x=(g||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+c+"."+t,vt(s,l,x3(c-1,e,n,m)),i.sheets.push(l),Wt(e.wbrels,-1,"worksheets/sheet"+c+"."+t,Lt.WS[0])}if(g){var S=g["!comments"],b=!1,w="";if(S&&S.length>0){var T=!1;S.forEach(function(A){A[1].forEach(function(C){C.T==!0&&(T=!0)})}),T&&(w="xl/threadedComments/threadedComment"+c+"."+t,vt(s,w,ZN(S,d,e)),i.threadedcomments.push(w),Wt(m,-1,"../threadedComments/threadedComment"+c+"."+t,Lt.TCMNT)),w="xl/comments"+c+"."+t,vt(s,w,l3(S)),i.comments.push(w),Wt(m,-1,"../comments"+c+"."+t,Lt.CMNT),b=!0}g["!legacy"]&&b&&vt(s,"xl/drawings/vmlDrawing"+c+".vml",a3(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}m["!id"].rId1&&vt(s,jA(l),Oo(m))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+t,vt(s,l,ZA(e.Strings,e)),i.strs.push(l),Wt(e.wbrels,-1,"sharedStrings."+t,Lt.SST)),l="xl/workbook."+t,vt(s,l,b3(n)),i.workbooks.push(l),Wt(e.rels,1,l,Lt.WB),l="xl/theme/theme1.xml",vt(s,l,i3(n.Themes,e)),i.themes.push(l),Wt(e.wbrels,-1,"theme/theme1.xml",Lt.THEME),l="xl/styles."+t,vt(s,l,n3(n,e)),i.styles.push(l),Wt(e.wbrels,-1,"styles."+t,Lt.STY),n.vbaraw&&r&&(l="xl/vbaProject.bin",vt(s,l,n.vbaraw),i.vba.push(l),Wt(e.wbrels,-1,"vbaProject.bin",Lt.VBA)),l="xl/metadata."+t,vt(s,l,s3()),i.metadata.push(l),Wt(e.wbrels,-1,"metadata."+t,Lt.XLMETA),d.length>1&&(l="xl/persons/person.xml",vt(s,l,JN(d)),i.people.push(l),Wt(e.wbrels,-1,"persons/person.xml",Lt.PEOPLE)),vt(s,"[Content_Types].xml",PA(i,e)),vt(s,"_rels/.rels",Oo(e.rels)),vt(s,"xl/_rels/workbook."+t+".rels",Oo(e.wbrels)),delete e.revssf,delete e.ssf,s}function wM(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=qs(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function _3(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return J0(e.file,en.write(n,{type:jt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return en.write(n,e)}function EM(n,e){var t=Gr(e||{}),r=yM(n,t);return CM(r,t)}function CM(n,e){var t={},r=jt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?en.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(tp(i))}return e.password&&typeof encrypt_agile<"u"?_3(encrypt_agile(i,e.password),e):e.type==="file"?J0(e.file,i):e.type=="string"?c0(i):i}function AM(n,e){var t=e||{},r=HF(n,t);return _3(r,t)}function ls(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return A0(_0(r));case"binary":return _0(r);case"string":return n;case"file":return J0(e.file,r,"utf8");case"buffer":return jt?Ys(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):ls(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function TM(n,e){switch(e.type){case"base64":return A0(n);case"binary":return n;case"string":return n;case"file":return J0(e.file,n,"binary");case"buffer":return jt?Ys(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Lu(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?A0(t):e.type=="string"?c0(t):t;case"file":return J0(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function yd(n,e){eO(),uF(n);var t=Gr(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=yd(n,t);return t.type="array",tp(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return ls(jF(n,t),t);case"slk":case"sylk":return ls(oN.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return ls(E3(n.Sheets[n.SheetNames[i]],t),t);case"txt":return TM(D3(n.Sheets[n.SheetNames[i]],t),t);case"csv":return ls(dv(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return ls(cN.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return Lu(lN.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return ls(fN.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return ls(xN.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return ls(QA.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return ls(T3(n,t),t);case"wk1":return Lu(hw.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return Lu(hw.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),Lu(w3(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),AM(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return EM(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function _M(n,e,t,r,i,s,l,c){var f=hr(t),h=c.defval,d=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),m=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:t,enumerable:!1})}catch{g.__rowNum__=t}else g.__rowNum__=t;if(!l||n[t])for(var x=e.s.c;x<=e.e.c;++x){var S=l?n[t][x]:n[r[x]+f];if(S===void 0||S.t===void 0){if(h===void 0)continue;s[x]!=null&&(g[s[x]]=h);continue}var b=S.v;switch(S.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(s[x]!=null){if(b==null)if(S.t=="e"&&b===null)g[s[x]]=null;else if(h!==void 0)g[s[x]]=h;else if(d&&b===null)g[s[x]]=null;else continue;else g[s[x]]=d&&(S.t!=="n"||S.t==="n"&&c.rawNumbers!==!1)?b:Ws(S,b,c);b!=null&&(m=!1)}}return{row:g,isempty:m}}function bd(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,s=[],l=0,c="",f={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},d=h.range!=null?h.range:n["!ref"];switch(h.header===1?r=1:h.header==="A"?r=2:Array.isArray(h.header)?r=3:h.header==null&&(r=0),typeof d){case"string":f=hn(d);break;case"number":f=hn(n["!ref"]),f.s.r=d;break;default:f=d}r>0&&(i=0);var m=hr(f.s.r),g=[],x=[],S=0,b=0,w=Array.isArray(n),T=f.s.r,A=0,C={};w&&!n[T]&&(n[T]=[]);var _=h.skipHidden&&n["!cols"]||[],B=h.skipHidden&&n["!rows"]||[];for(A=f.s.c;A<=f.e.c;++A)if(!(_[A]||{}).hidden)switch(g[A]=yr(A),t=w?n[T][A]:n[g[A]+m],r){case 1:s[A]=A-f.s.c;break;case 2:s[A]=g[A];break;case 3:s[A]=h.header[A-f.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),c=l=Ws(t,null,h),b=C[l]||0,!b)C[l]=1;else{do c=l+"_"+b++;while(C[c]);C[l]=b,C[c]=1}s[A]=c}for(T=f.s.r+i;T<=f.e.r;++T)if(!(B[T]||{}).hidden){var N=_M(n,f,T,g,r,s,w,h);(N.isempty===!1||(r===1?h.blankrows!==!1:h.blankrows))&&(x[S++]=N.row)}return x.length=S,x}var bw=/"/g;function DM(n,e,t,r,i,s,l,c){for(var f=!0,h=[],d="",m=hr(t),g=e.s.c;g<=e.e.c;++g)if(r[g]){var x=c.dense?(n[t]||[])[g]:n[r[g]+m];if(x==null)d="";else if(x.v!=null){f=!1,d=""+(c.rawNumbers&&x.t=="n"?x.v:Ws(x,null,c));for(var S=0,b=0;S!==d.length;++S)if((b=d.charCodeAt(S))===i||b===s||b===34||c.forceQuotes){d='"'+d.replace(bw,'""')+'"';break}d=="ID"&&(d='"ID"')}else x.f!=null&&!x.F?(f=!1,d="="+x.f,d.indexOf(",")>=0&&(d='"'+d.replace(bw,'""')+'"')):d="";h.push(d)}return c.blankrows===!1&&f?null:h.join(l)}function dv(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=hn(n["!ref"]),s=r.FS!==void 0?r.FS:",",l=s.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,f=c.charCodeAt(0),h=new RegExp((s=="|"?"\\|":s)+"+$"),d="",m=[];r.dense=Array.isArray(n);for(var g=r.skipHidden&&n["!cols"]||[],x=r.skipHidden&&n["!rows"]||[],S=i.s.c;S<=i.e.c;++S)(g[S]||{}).hidden||(m[S]=yr(S));for(var b=0,w=i.s.r;w<=i.e.r;++w)(x[w]||{}).hidden||(d=DM(n,i,w,m,l,f,s,r),d!=null&&(r.strip&&(d=d.replace(h,"")),(d||r.blankrows!==!1)&&t.push((b++?c:"")+d)));return delete r.dense,t.join("")}function D3(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=dv(n,e);return t}function kM(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=hn(n["!ref"]),s="",l=[],c,f=[],h=Array.isArray(n);for(c=i.s.c;c<=i.e.c;++c)l[c]=yr(c);for(var d=i.s.r;d<=i.e.r;++d)for(s=hr(d),c=i.s.c;c<=i.e.c;++c)if(e=l[c]+s,t=h?(n[d]||[])[c]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}f[f.length]=e+"="+r}return f}function k3(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},l=0,c=0;if(s&&r.origin!=null)if(typeof r.origin=="number")l=r.origin;else{var f=typeof r.origin=="string"?Qn(r.origin):r.origin;l=f.r,c=f.c}var h,d={s:{c:0,r:0},e:{c,r:l+e.length-1+i}};if(s["!ref"]){var m=hn(s["!ref"]);d.e.c=Math.max(d.e.c,m.e.c),d.e.r=Math.max(d.e.r,m.e.r),l==-1&&(l=m.e.r+1,d.e.r=l+e.length-1+i)}else l==-1&&(l=0,d.e.r=e.length-1+i);var g=r.header||[],x=0;e.forEach(function(b,w){dr(b).forEach(function(T){(x=g.indexOf(T))==-1&&(g[x=g.length]=T);var A=b[T],C="z",_="",B=Xt({c:c+x,r:l+w+i});h=O0(s,B),A&&typeof A=="object"&&!(A instanceof Date)?s[B]=A:(typeof A=="number"?C="n":typeof A=="boolean"?C="b":typeof A=="string"?C="s":A instanceof Date?(C="d",r.cellDates||(C="n",A=Wr(A)),_=r.dateNF||Cn[14]):A===null&&r.nullError&&(C="e",A=0),h?(h.t=C,h.v=A,delete h.w,delete h.R,_&&(h.z=_)):s[B]=h={t:C,v:A},_&&(h.z=_))})}),d.e.c=Math.max(d.e.c,c+g.length-1);var S=hr(l);if(i)for(x=0;x<g.length;++x)s[yr(x+c)+S]={t:"s",v:g[x]};return s["!ref"]=jn(d),s}function OM(n,e){return k3(null,n,e)}function O0(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=Qn(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?O0(n,Xt(e)):O0(n,Xt({r:e,c:t||0}))}function BM(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function NM(){return{SheetNames:[],Sheets:{}}}function RM(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var l=s&&s[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=l+i)!=-1;++i);}if(y3(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function FM(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=BM(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function MM(n,e){return n.z=e,n}function O3(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function LM(n,e,t){return O3(n,"#"+e,t)}function IM(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function PM(n,e,t,r){for(var i=typeof e!="string"?e:hn(e),s=typeof e=="string"?e:jn(e),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c){var f=O0(n,l,c);f.t="n",f.F=s,delete f.v,l==i.s.r&&c==i.s.c&&(f.f=t,r&&(f.D=!0))}return n}var si={encode_col:yr,encode_row:hr,encode_cell:Xt,encode_range:jn,decode_col:nv,decode_row:tv,split_cell:eB,decode_cell:Qn,decode_range:ui,format_cell:Ws,sheet_add_aoa:BA,sheet_add_json:k3,sheet_add_dom:C3,aoa_to_sheet:Qo,json_to_sheet:OM,table_to_sheet:A3,table_to_book:cM,sheet_to_csv:dv,sheet_to_txt:D3,sheet_to_json:bd,sheet_to_html:E3,sheet_to_formulae:kM,sheet_to_row_object_array:bd,sheet_get_cell:O0,book_new:NM,book_append_sheet:RM,book_set_sheet_visibility:FM,cell_set_number_format:MM,cell_set_hyperlink:O3,cell_set_internal_link:LM,cell_add_comment:IM,sheet_set_array_formula:PM,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Gh={exports:{}},jM=Gh.exports,Sw;function zM(){return Sw||(Sw=1,(function(n,e){(function(t,r){r()})(jM,function(){function t(h,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function r(h,d,m){var g=new XMLHttpRequest;g.open("GET",h),g.responseType="blob",g.onload=function(){f(g.response,d,m)},g.onerror=function(){console.error("could not download file")},g.send()}function i(h){var d=new XMLHttpRequest;d.open("HEAD",h,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function s(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(d)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ml=="object"&&ml.global===ml?ml:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(h,d,m){var g=l.URL||l.webkitURL,x=document.createElement("a");d=d||h.name||"download",x.download=d,x.rel="noopener",typeof h=="string"?(x.href=h,x.origin===location.origin?s(x):i(x.href)?r(h,d,m):s(x,x.target="_blank")):(x.href=g.createObjectURL(h),setTimeout(function(){g.revokeObjectURL(x.href)},4e4),setTimeout(function(){s(x)},0))}:"msSaveOrOpenBlob"in navigator?function(h,d,m){if(d=d||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(t(h,m),d);else if(i(h))r(h,d,m);else{var g=document.createElement("a");g.href=h,g.target="_blank",setTimeout(function(){s(g)})}}:function(h,d,m,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof h=="string")return r(h,d,m);var x=h.type==="application/octet-stream",S=/constructor/i.test(l.HTMLElement)||l.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||x&&S||c)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var C=w.result;C=b?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=C:location=C,g=null},w.readAsDataURL(h)}else{var T=l.URL||l.webkitURL,A=T.createObjectURL(h);g?g.location=A:location.href=A,g=null,setTimeout(function(){T.revokeObjectURL(A)},4e4)}});l.saveAs=f.saveAs=f,n.exports=f})})(Gh)),Gh.exports}var Ro=zM();const HM=(n,e)=>{const[t,r]=Q.useState(n);return Q.useEffect(()=>{const i=setTimeout(()=>{r(n)},e);return()=>{clearTimeout(i)}},[n,e]),t};function UM({isVisible:n}){const{theme:e}=Q.useContext(n2);if(!n)return null;const[t,r]=Q.useState(!0),[i,s]=Q.useState(!1),[l,c]=Q.useState(!1),[f,h]=Q.useState([]),[d,m]=Q.useState(""),[g,x]=Q.useState([]),[S,b]=Q.useState({}),[w,T]=Q.useState([]),[A,C]=Q.useState([]),[_,B]=Q.useState(null),[N,O]=Q.useState(!1),[z,R]=Q.useState(null),[I,P]=Q.useState(!1),[q,K]=Q.useState(()=>JSON.parse(localStorage.getItem("saved_queries")||"[]")),[ie,ce]=Q.useState(""),[Z,re]=Q.useState(1),[xe,Ee]=Q.useState(10),[Oe,j]=Q.useState(""),D=HM(Oe,500);Q.useEffect(()=>{M(D)},[D]);const M=async(fe="")=>{try{const ke=await(await fetch(`http://127.0.0.1:3001/api/tables?search=${encodeURIComponent(fe)}`)).json();h(ke)}catch(Pe){console.error(Pe)}},L=fe=>{m(fe),x([]),T([]),C([]),B(null),re(1),W(fe)},W=async fe=>{if(!(!fe||S[fe]))try{const ke=await(await fetch(`http://127.0.0.1:3001/api/columns/${encodeURIComponent(fe)}`)).json();b(rt=>({...rt,[fe]:ke}))}catch(Pe){console.error(Pe)}},ee=()=>{x([...g,{table:"",type:"INNER",leftCol:"",rightCol:"",conversion:null}])},be=(fe,Pe,ke)=>{const rt=[...g];rt[fe][Pe]=ke,(Pe==="leftCol"||Pe==="rightCol")&&(rt[fe].conversion=null),x(rt),Pe==="table"&&ke&&W(ke)},ve=(fe,Pe)=>{const ke=[...g];ke[fe].conversion=Pe,x(ke)},Te=fe=>{x(g.filter((Pe,ke)=>ke!==fe))},ye=(fe,Pe)=>{const ke=`${fe}.${Pe}`;w.includes(ke)?T(w.filter(rt=>rt!==ke)):T([...w,ke])},st=()=>{C([...A,{column:"",operator:"=",value:""}])},Ye=(fe,Pe,ke)=>{const rt=[...A];rt[fe][Pe]=ke,C(rt)},dt=fe=>{C(A.filter((Pe,ke)=>ke!==fe))},We=()=>{if(!ie.trim()){alert("Please enter a name for your query.");return}const fe={id:Date.now(),name:ie,config:{primaryTable:d,joins:g,selectedColumns:w,filters:A},date:new Date().toLocaleString()},Pe=[...q,fe];K(Pe),localStorage.setItem("saved_queries",JSON.stringify(Pe)),ce(""),c(!1),alert("Query saved successfully!")},Le=fe=>{const{config:Pe}=fe;m(Pe.primaryTable),x(Pe.joins),T(Pe.selectedColumns),C(Pe.filters),Pe.primaryTable&&W(Pe.primaryTable),Pe.joins.forEach(ke=>{ke.table&&W(ke.table)}),s(!1)},Ue=fe=>{const Pe=q.filter(ke=>ke.id!==fe);K(Pe),localStorage.setItem("saved_queries",JSON.stringify(Pe))},Ne=()=>{if(!d)return null;let fe=`SELECT ${w.length>0?w.join(", "):"*"} FROM ${d}`;g.forEach(ke=>{if(ke.table&&ke.leftCol&&ke.rightCol){let rt="";ke.conversion==="TO_CHAR_LEFT"?rt=`TO_CHAR(${ke.leftCol}) = ${ke.table}.${ke.rightCol}`:ke.conversion==="TO_NUMBER_RIGHT"?rt=`${ke.leftCol} = TO_NUMBER(${ke.table}.${ke.rightCol})`:ke.conversion==="TO_CHAR_RIGHT"?rt=`${ke.leftCol} = TO_CHAR(${ke.table}.${ke.rightCol})`:ke.conversion==="TO_NUMBER_LEFT"?rt=`TO_NUMBER(${ke.leftCol}) = ${ke.table}.${ke.rightCol}`:rt=`${ke.leftCol} = ${ke.table}.${ke.rightCol}`,fe+=` ${ke.type} JOIN ${ke.table} ON ${rt}`}});const Pe=[];if(A.length>0){const ke=A.map((rt,bt)=>rt.column?(Pe.push(rt.value),`${rt.column} ${rt.operator} :${bt+1}`):null).filter(Boolean);ke.length>0&&(fe+=` WHERE ${ke.join(" AND ")}`)}return{sql:fe,params:Pe}},Qe=async()=>{O(!0),R(null),re(1);try{const fe=Ne();if(!fe)return;const ke=await(await fetch("http://127.0.0.1:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(fe)})).json();if(ke.error)throw new Error(ke.error);B(ke)}catch(fe){R(fe.message)}finally{O(!1)}},ct=fe=>{if(!_||!_.rows||_.rows.length===0){alert("No data to export.");return}P(!0),setTimeout(()=>{try{const ke=[_.metaData.map(Yt=>Yt.name),..._.rows],bt=`export_${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}`;if(fe==="xlsx"){const Yt=si.book_new(),ft=si.aoa_to_sheet(ke);si.book_append_sheet(Yt,ft,"Results");const Ot=yd(Yt,{bookType:"xlsx",type:"array"}),An=new Blob([Ot],{type:"application/octet-stream"});Ro.saveAs(An,`${bt}.xlsx`)}else if(fe==="csv"){const Yt=si.aoa_to_sheet(ke),ft=si.sheet_to_csv(Yt),Ot=new Blob([ft],{type:"text/csv;charset=utf-8"});Ro.saveAs(Ot,`${bt}.csv`)}else if(fe==="txt"){const Yt=ke.map(Ot=>Ot.join("	")).join(`
`),ft=new Blob([Yt],{type:"text/plain;charset=utf-8"});Ro.saveAs(ft,`${bt}.txt`)}}catch(Pe){console.error("Export Error:",Pe),alert("Failed to export: "+Pe.message)}finally{P(!1)}},100)},yt=()=>{let fe=[];return d&&S[d]&&(fe=[...fe,...S[d].map(Pe=>`${d}.${Pe.name}`)]),g.forEach(Pe=>{Pe.table&&S[Pe.table]&&(fe=[...fe,...S[Pe.table].map(ke=>`${Pe.table}.${ke.name}`)])}),fe},It=fe=>{let Pe=[];d&&S[d]&&(Pe=[...Pe,...S[d].map(ke=>({name:`${d}.${ke.name}`,type:ke.type}))]);for(let ke=0;ke<fe;ke++){const rt=g[ke];rt.table&&S[rt.table]&&(Pe=[...Pe,...S[rt.table].map(bt=>({name:`${rt.table}.${bt.name}`,type:bt.type}))])}return Pe},zt=Q.useMemo(()=>{if(!_||!_.rows)return[];const fe=(Z-1)*xe;return _.rows.slice(fe,fe+xe)},[_,Z,xe]),$t=_&&_.rows?Math.ceil(_.rows.length/xe):0;return E.jsxs("div",{className:`flex h-screen ${e.bg} overflow-hidden transition-colors duration-300 relative`,children:[I&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:E.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl flex flex-col items-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#f37021] mb-4"}),E.jsx("p",{className:"text-gray-700 font-semibold",children:"Exportando dados..."}),E.jsx("p",{className:"text-sm text-gray-500",children:"Por favor, aguarde."})]})}),E.jsxs("div",{className:`${e.sidebar} shadow-lg transition-all duration-300 ease-in-out flex flex-col ${t?"w-96":"w-12"} border-r ${e.border} z-20`,children:[E.jsxs("div",{className:`p-2 border-b ${e.border} flex justify-between items-center ${e.sidebar}`,children:[t&&E.jsx("h2",{className:`font-bold ${e.sidebarText}`,children:"Query Builder"}),E.jsx("button",{onClick:()=>r(!t),className:`p-1 hover:bg-gray-200 rounded ${e.sidebarText}`,title:t?"Collapse Sidebar":"Expand Sidebar",children:t?"":""})]}),t&&E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[E.jsx("div",{className:`rounded-lg border ${e.border} p-3 shadow-sm ${e.sidebar}`,children:E.jsx("button",{onClick:()=>s(!0),className:`w-full text-xs border ${e.border} py-1 rounded hover:bg-gray-100 ${e.sidebarText}`,children:" Manage Saved Queries"})}),E.jsxs("div",{className:`rounded-lg border ${e.border} p-3 shadow-sm ${e.sidebar}`,children:[E.jsx("label",{className:`block text-xs font-bold uppercase mb-2 ${e.sidebarText}`,children:"1. Select Primary Table"}),E.jsx("input",{type:"text",placeholder:"Search tables...",className:`w-full border rounded p-2 mb-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none ${e.input} ${e.border}`,value:Oe,onChange:fe=>j(fe.target.value)}),E.jsx("div",{className:`border rounded h-32 overflow-y-auto ${e.bg} ${e.border}`,children:f.map(fe=>E.jsx("div",{onClick:()=>L(fe),className:`px-3 py-2 cursor-pointer text-sm border-b last:border-b-0 transition-colors ${e.border} ${d===fe?`${e.primaryBtn} font-semibold`:`hover:bg-gray-100 ${e.text}`}`,children:fe},fe))}),d&&E.jsxs("div",{className:`text-xs mt-2 flex items-center ${e.accent}`,children:[" Selected: ",E.jsx("span",{className:"font-bold ml-1",children:d})]})]}),d&&E.jsxs("div",{className:`rounded-lg border ${e.border} p-3 shadow-sm ${e.sidebar}`,children:[E.jsxs("div",{className:"flex justify-between items-center mb-3",children:[E.jsx("label",{className:`block text-xs font-bold uppercase ${e.sidebarText}`,children:"2. Connections (Joins)"}),E.jsx("button",{onClick:ee,className:`text-xs px-2 py-1 rounded border transition-colors ${e.secondaryBtn} ${e.border}`,children:"+ Add"})]}),E.jsx("div",{className:"space-y-3",children:g.map((fe,Pe)=>{const ke=It(Pe),rt=fe.table&&S[fe.table]?S[fe.table]:[];let bt=null,Yt=null;if(fe.leftCol&&fe.rightCol){const ft=ke.find(An=>An.name===fe.leftCol)?.type,Ot=rt.find(An=>An.name===fe.rightCol)?.type;ft&&Ot&&(ft===Ot?bt="valid":(bt="warning",ft==="NUMBER"&&(Ot==="VARCHAR2"||Ot==="CHAR")?Yt="TO_CHAR_LEFT":(ft==="VARCHAR2"||ft==="CHAR")&&Ot==="NUMBER"&&(Yt="TO_CHAR_RIGHT")))}return E.jsxs("div",{className:`p-3 rounded border space-y-2 relative group ${e.bg} ${e.border}`,children:[E.jsxs("div",{className:"flex space-x-2",children:[E.jsxs("select",{className:`border rounded text-xs py-1 px-2 w-1/3 ${e.input} ${e.border}`,value:fe.type,onChange:ft=>be(Pe,"type",ft.target.value),children:[E.jsx("option",{value:"INNER",children:"INNER"}),E.jsx("option",{value:"LEFT",children:"LEFT"}),E.jsx("option",{value:"RIGHT",children:"RIGHT"})]}),E.jsxs("select",{className:`border rounded text-xs py-1 px-2 w-2/3 ${e.input} ${e.border}`,value:fe.table,onChange:ft=>be(Pe,"table",ft.target.value),children:[E.jsx("option",{value:"",children:"Link Table..."}),f.filter(ft=>ft!==d).map(ft=>E.jsx("option",{value:ft,children:ft},ft))]})]}),fe.table&&E.jsxs("div",{className:"flex flex-col space-y-2",children:[E.jsx("div",{className:"flex items-center space-x-1",children:E.jsxs("select",{className:`w-full text-xs border rounded py-1 px-2 ${e.input} ${e.border}`,value:fe.leftCol,onChange:ft=>be(Pe,"leftCol",ft.target.value),children:[E.jsxs("option",{value:"",children:[d," Col..."]}),ke.map(ft=>E.jsxs("option",{value:ft.name,children:[ft.name," (",ft.type,")"]},ft.name))]})}),E.jsx("div",{className:"text-center text-gray-400 text-xs font-bold",children:"="}),E.jsx("div",{className:"flex items-center space-x-1",children:E.jsxs("select",{className:`w-full text-xs border rounded py-1 px-2 ${e.input} ${e.border}`,value:fe.rightCol,onChange:ft=>be(Pe,"rightCol",ft.target.value),children:[E.jsxs("option",{value:"",children:[fe.table," Col..."]}),rt.map(ft=>E.jsxs("option",{value:ft.name,children:[ft.name," (",ft.type,")"]},ft.name))]})})]}),bt==="valid"&&E.jsx("div",{className:"text-xs text-green-600 flex items-center mt-1",children:" Types match"}),bt==="warning"&&!fe.conversion&&E.jsxs("div",{className:"mt-2 bg-orange-50 p-2 rounded border border-orange-100",children:[E.jsx("div",{className:"text-xs text-orange-600 font-semibold flex items-center",children:" Type Mismatch"}),Yt&&E.jsx("button",{onClick:()=>ve(Pe,Yt),className:"mt-1 w-full bg-orange-100 hover:bg-orange-200 text-orange-800 py-1 rounded text-xs transition-colors",children:"Auto-Fix (Convert)"})]}),fe.conversion&&E.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[" Fix applied: ",fe.conversion]}),E.jsx("button",{onClick:()=>Te(Pe),className:"absolute top-1 right-1 text-gray-400 hover:text-red-500 p-1",children:""})]},Pe)})})]}),d&&E.jsxs("div",{className:`rounded-lg border ${e.border} p-3 shadow-sm ${e.sidebar}`,children:[E.jsx("label",{className:`block text-xs font-bold uppercase mb-2 ${e.sidebarText}`,children:"3. Select Columns"}),E.jsxs("div",{className:`max-h-48 overflow-y-auto border rounded p-2 space-y-2 ${e.bg} ${e.border}`,children:[E.jsxs("div",{children:[E.jsx("div",{className:`font-bold text-xs mb-1 sticky top-0 py-1 ${e.text} ${e.bg}`,children:d}),S[d]?.map(fe=>E.jsxs("label",{className:"flex items-center px-2 py-1 hover:bg-gray-200 rounded cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:w.includes(`${d}.${fe.name}`),onChange:()=>ye(d,fe.name),className:"mr-2 rounded text-blue-600 focus:ring-blue-500"}),E.jsx("span",{className:`text-xs ${e.text}`,children:fe.name})]},`${d}.${fe.name}`))]}),g.map((fe,Pe)=>fe.table&&S[fe.table]&&E.jsxs("div",{className:`border-t pt-2 mt-2 ${e.border}`,children:[E.jsx("div",{className:`font-bold text-xs mb-1 sticky top-0 py-1 ${e.text} ${e.bg}`,children:fe.table}),S[fe.table].map(ke=>E.jsxs("label",{className:"flex items-center px-2 py-1 hover:bg-gray-200 rounded cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:w.includes(`${fe.table}.${ke.name}`),onChange:()=>ye(fe.table,ke.name),className:"mr-2 rounded text-blue-600 focus:ring-blue-500"}),E.jsx("span",{className:`text-xs ${e.text}`,children:ke.name})]},`${fe.table}.${ke.name}`))]},Pe))]})]}),d&&E.jsxs("div",{className:`rounded-lg border ${e.border} p-3 shadow-sm ${e.sidebar}`,children:[E.jsxs("div",{className:"flex justify-between items-center mb-2",children:[E.jsx("label",{className:`block text-xs font-bold uppercase ${e.sidebarText}`,children:"4. Filters"}),E.jsx("button",{onClick:st,className:`text-xs px-2 py-1 rounded border ${e.secondaryBtn} ${e.border}`,children:"+ Add"})]}),E.jsx("div",{className:"space-y-2",children:A.map((fe,Pe)=>E.jsxs("div",{className:`flex flex-col space-y-1 p-2 rounded border relative ${e.bg} ${e.border}`,children:[E.jsxs("select",{className:`text-xs border rounded py-1 px-2 ${e.input} ${e.border}`,value:fe.column,onChange:ke=>Ye(Pe,"column",ke.target.value),children:[E.jsx("option",{value:"",children:"Column..."}),yt().map(ke=>E.jsx("option",{value:ke,children:ke},ke))]}),E.jsxs("div",{className:"flex space-x-1",children:[E.jsxs("select",{className:`text-xs border rounded w-1/3 py-1 px-2 ${e.input} ${e.border}`,value:fe.operator,onChange:ke=>Ye(Pe,"operator",ke.target.value),children:[E.jsx("option",{value:"=",children:"="}),E.jsx("option",{value:">",children:">"}),E.jsx("option",{value:"<",children:"<"}),E.jsx("option",{value:"LIKE",children:"LIKE"})]}),E.jsx("input",{type:"text",className:`text-xs border rounded w-2/3 py-1 px-2 ${e.input} ${e.border}`,placeholder:"Value",value:fe.value,onChange:ke=>Ye(Pe,"value",ke.target.value)})]}),E.jsx("button",{onClick:()=>dt(Pe),className:"absolute top-1 right-1 text-gray-400 hover:text-red-500 p-1",children:""})]},Pe))})]}),d&&E.jsxs("div",{className:`rounded-lg border ${e.border} p-3 shadow-sm ${e.sidebar}`,children:[E.jsx("label",{className:`block text-xs font-bold uppercase mb-2 ${e.sidebarText}`,children:"Save Query"}),E.jsx("div",{className:"flex space-x-2",children:E.jsx("button",{onClick:()=>c(!0),className:`w-full text-xs px-2 py-2 rounded ${e.primaryBtn}`,children:" Save Query"})})]}),E.jsx("button",{onClick:Qe,disabled:!d||N,className:`w-full py-3 rounded-lg shadow-md transition-all font-semibold disabled:opacity-50 ${e.primaryBtn}`,children:N?"Running Query...":"Run Query"})]})]}),E.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[E.jsxs("div",{className:`p-4 shadow-sm flex justify-between items-center z-10 ${e.header}`,children:[E.jsx("h1",{className:`text-xl font-bold ${e.headerText}`,children:"Results Explorer"}),_&&E.jsxs("div",{className:"flex space-x-2",children:[E.jsx("button",{onClick:()=>ct("csv"),className:`flex items-center space-x-1 px-3 py-1.5 rounded shadow-sm transition-colors text-sm font-medium border ${e.secondaryBtn} border-gray-300`,children:E.jsx("span",{children:"CSV"})}),E.jsx("button",{onClick:()=>ct("xlsx"),className:`flex items-center space-x-1 px-3 py-1.5 rounded shadow-sm transition-colors text-sm font-medium ${e.primaryBtn}`,children:E.jsx("span",{children:"Excel"})}),E.jsx("button",{onClick:()=>ct("txt"),className:`flex items-center space-x-1 px-3 py-1.5 rounded shadow-sm transition-colors text-sm font-medium border ${e.secondaryBtn} border-gray-300`,children:E.jsx("span",{children:"TXT"})})]})]}),E.jsxs("div",{className:`flex-1 overflow-auto p-4 ${e.bg}`,children:[z&&E.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4 rounded shadow-sm",children:E.jsxs("div",{className:"flex",children:[E.jsx("div",{className:"flex-shrink-0",children:E.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:E.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),E.jsx("div",{className:"ml-3",children:E.jsx("p",{className:"text-sm text-red-700",children:z})})]})}),_?E.jsxs("div",{className:`rounded-lg shadow-md border overflow-hidden flex flex-col h-full ${e.sidebar} ${e.border}`,children:[E.jsx("div",{className:"flex-1 overflow-auto",children:E.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[E.jsx("thead",{className:`sticky top-0 z-10 ${e.tableHeader}`,children:E.jsx("tr",{children:_.metaData.map(fe=>E.jsx("th",{className:`px-6 py-3 text-left text-xs font-bold uppercase tracking-wider whitespace-nowrap border-b ${e.border}`,children:fe.name},fe.name))})}),E.jsx("tbody",{className:`divide-y divide-gray-200 ${e.sidebar}`,children:zt.map((fe,Pe)=>E.jsx("tr",{className:`transition-colors ${e.tableRowHover}`,children:fe.map((ke,rt)=>E.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm border-r last:border-r-0 ${e.border} ${e.sidebarText}`,children:ke},rt))},Pe))})]})}),E.jsxs("div",{className:`px-4 py-3 border-t flex items-center justify-between sm:px-6 ${e.bg} ${e.border}`,children:[E.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[E.jsx("button",{onClick:()=>re(fe=>Math.max(1,fe-1)),disabled:Z===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),E.jsx("button",{onClick:()=>re(fe=>Math.min($t,fe+1)),disabled:Z===$t,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),E.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("p",{className:`text-sm ${e.sidebarText}`,children:["Showing ",E.jsx("span",{className:"font-medium",children:(Z-1)*xe+1})," to ",E.jsx("span",{className:"font-medium",children:Math.min(Z*xe,_.rows.length)})," of ",E.jsx("span",{className:"font-medium",children:_.rows.length})," results"]}),E.jsxs("select",{value:xe,onChange:fe=>{Ee(Number(fe.target.value)),re(1)},className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",children:[E.jsx("option",{value:10,children:"10 per page"}),E.jsx("option",{value:25,children:"25 per page"}),E.jsx("option",{value:50,children:"50 per page"}),E.jsx("option",{value:100,children:"100 per page"}),E.jsx("option",{value:_.rows.length,children:"All"})]})]}),E.jsx("div",{children:E.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[E.jsx("button",{onClick:()=>re(1),disabled:Z===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"First"}),E.jsx("button",{onClick:()=>re(fe=>Math.max(1,fe-1)),disabled:Z===1,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),E.jsxs("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:["Page ",Z," of ",$t]}),E.jsx("button",{onClick:()=>re(fe=>Math.min($t,fe+1)),disabled:Z===$t,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"}),E.jsx("button",{onClick:()=>re($t),disabled:Z===$t,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Last"})]})})]})]})]}):E.jsxs("div",{className:`text-center p-8 rounded-lg shadow-md ${e.sidebar} ${e.border}`,children:[E.jsx("p",{className:`text-lg font-semibold ${e.sidebarText}`,children:"No results to display."}),E.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Run a query to see results here."})]})]})]}),i&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-96 max-h-[80vh] flex flex-col",children:[E.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[E.jsx("h3",{className:"font-bold text-lg",children:"Saved Queries"}),E.jsx("button",{onClick:()=>s(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),E.jsx("div",{className:"p-4 overflow-y-auto flex-1",children:q.length===0?E.jsx("p",{className:"text-gray-500 text-center text-sm",children:"No saved queries yet."}):E.jsx("div",{className:"space-y-2",children:q.map(fe=>E.jsxs("div",{className:"border rounded p-3 hover:bg-gray-50 flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-sm",children:fe.name}),E.jsx("div",{className:"text-xs text-gray-500",children:fe.date})]}),E.jsxs("div",{className:"flex space-x-2",children:[E.jsx("button",{onClick:()=>Le(fe),className:"text-blue-600 hover:text-blue-800 text-xs font-semibold",children:"Load"}),E.jsx("button",{onClick:()=>Ue(fe.id),className:"text-red-500 hover:text-red-700 text-xs",children:"Delete"})]})]},fe.id))})})]})}),l&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-96 p-6",children:[E.jsx("h3",{className:"font-bold text-lg mb-4",children:"Save Query"}),E.jsx("input",{type:"text",placeholder:"Enter query name...",className:"w-full border rounded p-2 mb-4 focus:ring-2 focus:ring-blue-500 outline-none",value:ie,onChange:fe=>ce(fe.target.value)}),E.jsxs("div",{className:"flex justify-end space-x-2",children:[E.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded",children:"Cancel"}),E.jsx("button",{onClick:We,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]})})]})}function jx(){return jx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jx.apply(null,arguments)}function VM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}let zx=[],B3=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?B3:zx).push(t=t+n[e])})();function qM(n){if(n<768)return!1;for(let e=0,t=zx.length;;){let r=e+t>>1;if(n<zx[r])t=r;else if(n>=B3[r])e=r+1;else return!0;if(e==t)return!1}}function ww(n){return n>=127462&&n<=127487}const Ew=8205;function WM(n,e,t=!0,r=!0){return(t?N3:GM)(n,e,r)}function N3(n,e,t){if(e==n.length)return e;e&&R3(n.charCodeAt(e))&&F3(n.charCodeAt(e-1))&&e--;let r=Kg(n,e);for(e+=Cw(r);e<n.length;){let i=Kg(n,e);if(r==Ew||i==Ew||t&&qM(i))e+=Cw(i),r=i;else if(ww(i)){let s=0,l=e-2;for(;l>=0&&ww(Kg(n,l));)s++,l-=2;if(s%2==0)break;e+=2}else break}return e}function GM(n,e,t){for(;e>0;){let r=N3(n,e-2,t);if(r<e)return r;e--}return 0}function Kg(n,e){let t=n.charCodeAt(e);if(!F3(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return R3(r)?(t-55296<<10)+(r-56320)+65536:t}function R3(n){return n>=56320&&n<57344}function F3(n){return n>=55296&&n<56320}function Cw(n){return n<65536?1:2}class Rt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=Uo(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),cs.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Uo(this,e,t);let r=[];return this.decompose(e,t,r,0),cs.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new p0(this),s=new p0(e);for(let l=t,c=t;;){if(i.next(l),s.next(l),l=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(c+=i.value.length,i.done||c>=r)return!0}}iter(e=1){return new p0(this,e)}iterRange(e,t=this.length){return new M3(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new L3(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Rt.empty:e.length<=32?new kn(e):cs.from(kn.split(e,[]))}}class kn extends Rt{constructor(e,t=XM(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let s=0;;s++){let l=this.text[s],c=i+l.length;if((t?r:c)>=e)return new $M(i,c,r,l);i=c+1,r++}}decompose(e,t,r,i){let s=e<=0&&t>=this.length?this:new kn(Aw(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let l=r.pop(),c=Xh(s.text,l.text.slice(),0,s.length);if(c.length<=32)r.push(new kn(c,l.length+s.length));else{let f=c.length>>1;r.push(new kn(c.slice(0,f)),new kn(c.slice(f)))}}else r.push(s)}replace(e,t,r){if(!(r instanceof kn))return super.replace(e,t,r);[e,t]=Uo(this,e,t);let i=Xh(this.text,Xh(r.text,Aw(this.text,0,e)),t),s=this.length+r.length-(t-e);return i.length<=32?new kn(i,s):cs.from(kn.split(i,[]),s)}sliceString(e,t=this.length,r=`
`){[e,t]=Uo(this,e,t);let i="";for(let s=0,l=0;s<=t&&l<this.text.length;l++){let c=this.text[l],f=s+c.length;s>e&&l&&(i+=r),e<f&&t>s&&(i+=c.slice(Math.max(0,e-s),t-s)),s=f+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(t.push(new kn(r,i)),r=[],i=-1);return i>-1&&t.push(new kn(r,i)),t}}class cs extends Rt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let s=0;;s++){let l=this.children[s],c=i+l.length,f=r+l.lines-1;if((t?f:c)>=e)return l.lineInner(e,t,r,i);i=c+1,r=f+1}}decompose(e,t,r,i){for(let s=0,l=0;l<=t&&s<this.children.length;s++){let c=this.children[s],f=l+c.length;if(e<=f&&t>=l){let h=i&((l<=e?1:0)|(f>=t?2:0));l>=e&&f<=t&&!h?r.push(c):c.decompose(e-l,t-l,r,h)}l=f+1}}replace(e,t,r){if([e,t]=Uo(this,e,t),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let l=this.children[i],c=s+l.length;if(e>=s&&t<=c){let f=l.replace(e-s,t-s,r),h=this.lines-l.lines+f.lines;if(f.lines<h>>4&&f.lines>h>>6){let d=this.children.slice();return d[i]=f,new cs(d,this.length-(t-e)+r.length)}return super.replace(s,c,f)}s=c+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=Uo(this,e,t);let i="";for(let s=0,l=0;s<this.children.length&&l<=t;s++){let c=this.children[s],f=l+c.length;l>e&&s&&(i+=r),e<f&&t>l&&(i+=c.sliceString(e-l,t-l,r)),l=f+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof cs))return 0;let r=0,[i,s,l,c]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==l||s==c)return r;let f=this.children[i],h=e.children[s];if(f!=h)return r+f.scanIdentical(h,t);r+=f.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let x of e)r+=x.lines;if(r<32){let x=[];for(let S of e)S.flatten(x);return new kn(x,t)}let i=Math.max(32,r>>5),s=i<<1,l=i>>1,c=[],f=0,h=-1,d=[];function m(x){let S;if(x.lines>s&&x instanceof cs)for(let b of x.children)m(b);else x.lines>l&&(f>l||!f)?(g(),c.push(x)):x instanceof kn&&f&&(S=d[d.length-1])instanceof kn&&x.lines+S.lines<=32?(f+=x.lines,h+=x.length+1,d[d.length-1]=new kn(S.text.concat(x.text),S.length+1+x.length)):(f+x.lines>i&&g(),f+=x.lines,h+=x.length+1,d.push(x))}function g(){f!=0&&(c.push(d.length==1?d[0]:cs.from(d,h)),h=-1,f=d.length=0)}for(let x of e)m(x);return g(),c.length==1?c[0]:new cs(c,t)}}Rt.empty=new kn([""],0);function XM(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Xh(n,e,t=0,r=1e9){for(let i=0,s=0,l=!0;s<n.length&&i<=r;s++){let c=n[s],f=i+c.length;f>=t&&(f>r&&(c=c.slice(0,r-i)),i<t&&(c=c.slice(t-i)),l?(e[e.length-1]+=c,l=!1):e.push(c)),i=f+1}return e}function Aw(n,e,t){return Xh(n,[""],e,t)}class p0{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof kn?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],l=s>>1,c=i instanceof kn?i.text.length:i.children.length;if(l==(t>0?c:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof kn){let f=i.text[l+(t<0?-1:0)];if(this.offsets[r]+=t,f.length>Math.max(0,e))return this.value=e==0?f:t>0?f.slice(e):f.slice(0,f.length-e),this;e-=f.length}else{let f=i.children[l+(t<0?-1:0)];e>f.length?(e-=f.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(f),this.offsets.push(t>0?1:(f instanceof kn?f.text.length:f.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class M3{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new p0(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class L3{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Rt.prototype[Symbol.iterator]=function(){return this.iter()},p0.prototype[Symbol.iterator]=M3.prototype[Symbol.iterator]=L3.prototype[Symbol.iterator]=function(){return this});class $M{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}function Uo(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function ur(n,e,t=!0,r=!0){return WM(n,e,t,r)}function YM(n){return n>=56320&&n<57344}function KM(n){return n>=55296&&n<56320}function zr(n,e){let t=n.charCodeAt(e);if(!KM(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return YM(r)?(t-55296<<10)+(r-56320)+65536:t}function pv(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function fs(n){return n<65536?1:2}const Hx=/\r\n?|\n/;var Tr=(function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n})(Tr||(Tr={}));class ps{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let s=this.sections[t++],l=this.sections[t++];l<0?(e(r,i,s),i+=s):i+=l,r+=s}}iterChangedRanges(e,t=!1){Ux(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new ps(e)}composeDesc(e){return this.empty?e:e.empty?this:I3(this,e)}mapDesc(e,t=!1){return e.empty?this:Vx(this,e,t)}mapPos(e,t=-1,r=Tr.Simple){let i=0,s=0;for(let l=0;l<this.sections.length;){let c=this.sections[l++],f=this.sections[l++],h=i+c;if(f<0){if(h>e)return s+(e-i);s+=c}else{if(r!=Tr.Simple&&h>=e&&(r==Tr.TrackDel&&i<e&&h>e||r==Tr.TrackBefore&&i<e||r==Tr.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!c)return e==i||t<0?s:s+f;s+=f}i=h}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let s=this.sections[r++],l=this.sections[r++],c=i+s;if(l>=0&&i<=t&&c>=e)return i<e&&c>t?"cover":!0;i=c}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ps(e)}static create(e){return new ps(e)}}class Vn extends ps{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Ux(this,(t,r,i,s,l)=>e=e.replace(i,i+(r-t),l),!1),e}mapDesc(e,t=!1){return Vx(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,s=0;i<t.length;i+=2){let l=t[i],c=t[i+1];if(c>=0){t[i]=c,t[i+1]=l;let f=i>>1;for(;r.length<f;)r.push(Rt.empty);r.push(l?e.slice(s,s+l):Rt.empty)}s+=l}return new Vn(t,r)}compose(e){return this.empty?e:e.empty?this:I3(this,e,!0)}map(e,t=!1){return e.empty?this:Vx(this,e,t,!0)}iterChanges(e,t=!1){Ux(this,e,t)}get desc(){return ps.create(this.sections)}filter(e){let t=[],r=[],i=[],s=new B0(this);e:for(let l=0,c=0;;){let f=l==e.length?1e9:e[l++];for(;c<f||c==f&&s.len==0;){if(s.done)break e;let d=Math.min(s.len,f-c);xr(i,d,-1);let m=s.ins==-1?-1:s.off==0?s.ins:0;xr(t,d,m),m>0&&Da(r,t,s.text),s.forward(d),c+=d}let h=e[l++];for(;c<h;){if(s.done)break e;let d=Math.min(s.len,h-c);xr(t,d,-1),xr(i,d,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(d),c+=d}}return{changes:new Vn(t,r),filtered:ps.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],s=[],l=0,c=null;function f(d=!1){if(!d&&!i.length)return;l<t&&xr(i,t-l,-1);let m=new Vn(i,s);c=c?c.compose(m.map(c)):m,i=[],s=[],l=0}function h(d){if(Array.isArray(d))for(let m of d)h(m);else if(d instanceof Vn){if(d.length!=t)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${t})`);f(),c=c?c.compose(d.map(c)):d}else{let{from:m,to:g=m,insert:x}=d;if(m>g||m<0||g>t)throw new RangeError(`Invalid change range ${m} to ${g} (in doc of length ${t})`);let S=x?typeof x=="string"?Rt.of(x.split(r||Hx)):x:Rt.empty,b=S.length;if(m==g&&b==0)return;m<l&&f(),m>l&&xr(i,m-l,-1),xr(i,g-m,b),Da(s,i,S),l=g}}return h(e),f(!c),c}static empty(e){return new Vn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((l,c)=>c&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;r.length<i;)r.push(Rt.empty);r[i]=Rt.of(s.slice(1)),t.push(s[0],r[i].length)}}}return new Vn(t,r)}static createSet(e,t){return new Vn(e,t)}}function xr(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:i>=0&&e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function Da(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(Rt.empty);n.push(t)}}function Ux(n,e,t){let r=n.inserted;for(let i=0,s=0,l=0;l<n.sections.length;){let c=n.sections[l++],f=n.sections[l++];if(f<0)i+=c,s+=c;else{let h=i,d=s,m=Rt.empty;for(;h+=c,d+=f,f&&r&&(m=m.append(r[l-2>>1])),!(t||l==n.sections.length||n.sections[l+1]<0);)c=n.sections[l++],f=n.sections[l++];e(i,h,s,d,m),i=h,s=d}}}function Vx(n,e,t,r=!1){let i=[],s=r?[]:null,l=new B0(n),c=new B0(e);for(let f=-1;;){if(l.done&&c.len||c.done&&l.len)throw new Error("Mismatched change set lengths");if(l.ins==-1&&c.ins==-1){let h=Math.min(l.len,c.len);xr(i,h,-1),l.forward(h),c.forward(h)}else if(c.ins>=0&&(l.ins<0||f==l.i||l.off==0&&(c.len<l.len||c.len==l.len&&!t))){let h=c.len;for(xr(i,c.ins,-1);h;){let d=Math.min(l.len,h);l.ins>=0&&f<l.i&&l.len<=d&&(xr(i,0,l.ins),s&&Da(s,i,l.text),f=l.i),l.forward(d),h-=d}c.next()}else if(l.ins>=0){let h=0,d=l.len;for(;d;)if(c.ins==-1){let m=Math.min(d,c.len);h+=m,d-=m,c.forward(m)}else if(c.ins==0&&c.len<d)d-=c.len,c.next();else break;xr(i,h,f<l.i?l.ins:0),s&&f<l.i&&Da(s,i,l.text),f=l.i,l.forward(l.len-d)}else{if(l.done&&c.done)return s?Vn.createSet(i,s):ps.create(i);throw new Error("Mismatched change set lengths")}}}function I3(n,e,t=!1){let r=[],i=t?[]:null,s=new B0(n),l=new B0(e);for(let c=!1;;){if(s.done&&l.done)return i?Vn.createSet(r,i):ps.create(r);if(s.ins==0)xr(r,s.len,0,c),s.next();else if(l.len==0&&!l.done)xr(r,0,l.ins,c),i&&Da(i,r,l.text),l.next();else{if(s.done||l.done)throw new Error("Mismatched change set lengths");{let f=Math.min(s.len2,l.len),h=r.length;if(s.ins==-1){let d=l.ins==-1?-1:l.off?0:l.ins;xr(r,f,d,c),i&&d&&Da(i,r,l.text)}else l.ins==-1?(xr(r,s.off?0:s.len,f,c),i&&Da(i,r,s.textBit(f))):(xr(r,s.off?0:s.len,l.off?0:l.ins,c),i&&!l.off&&Da(i,r,l.text));c=(s.ins>f||l.ins>=0&&l.len>f)&&(c||r.length>h),s.forward2(f),l.forward(f)}}}}class B0{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Rt.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?Rt.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class gl{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new gl(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return De.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return De.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return De.range(e.anchor,e.head)}static create(e,t,r){return new gl(e,t,r)}}class De{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:De.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new De([this.main],0)}addRange(e,t=!0){return De.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,De.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new De(e.ranges.map(t=>gl.fromJSON(t)),e.main)}static single(e,t=e){return new De([De.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return De.normalized(e.slice(),t);r=s.to}return new De(e,t)}static cursor(e,t=0,r,i){return gl.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?gl.create(t,e,48|s):gl.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let r=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],l=e[i-1];if(s.empty?s.from<=l.to:s.from<l.to){let c=l.from,f=Math.max(s.to,l.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?De.range(f,c):De.range(c,f))}}return new De(e,t)}}function P3(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let mv=0;class Ke{constructor(e,t,r,i,s){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=mv++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Ke(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:gv),!!e.static,e.enables)}of(e){return new $h([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new $h(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new $h(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function gv(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class $h{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=mv++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,s=this.id,l=e[s]>>1,c=this.type==2,f=!1,h=!1,d=[];for(let m of this.dependencies)m=="doc"?f=!0:m=="selection"?h=!0:(((t=e[m.id])!==null&&t!==void 0?t:1)&1)==0&&d.push(e[m.id]);return{create(m){return m.values[l]=r(m),1},update(m,g){if(f&&g.docChanged||h&&(g.docChanged||g.selection)||qx(m,d)){let x=r(m);if(c?!Tw(x,m.values[l],i):!i(x,m.values[l]))return m.values[l]=x,1}return 0},reconfigure:(m,g)=>{let x,S=g.config.address[s];if(S!=null){let b=wd(g,S);if(this.dependencies.every(w=>w instanceof Ke?g.facet(w)===m.facet(w):w instanceof pr?g.field(w,!1)==m.field(w,!1):!0)||(c?Tw(x=r(m),b,i):i(x=r(m),b)))return m.values[l]=b,0}else x=r(m);return m.values[l]=x,1}}}}function Tw(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function qx(n,e){let t=!1;for(let r of e)m0(n,r)&1&&(t=!0);return t}function QM(n,e,t){let r=t.map(f=>n[f.id]),i=t.map(f=>f.type),s=r.filter(f=>!(f&1)),l=n[e.id]>>1;function c(f){let h=[];for(let d=0;d<r.length;d++){let m=wd(f,r[d]);if(i[d]==2)for(let g of m)h.push(g);else h.push(m)}return e.combine(h)}return{create(f){for(let h of r)m0(f,h);return f.values[l]=c(f),1},update(f,h){if(!qx(f,s))return 0;let d=c(f);return e.compare(d,f.values[l])?0:(f.values[l]=d,1)},reconfigure(f,h){let d=qx(f,r),m=h.config.facets[e.id],g=h.facet(e);if(m&&!d&&gv(t,m))return f.values[l]=g,0;let x=c(f);return e.compare(x,g)?(f.values[l]=g,0):(f.values[l]=x,1)}}}const Iu=Ke.define({static:!0});class pr{constructor(e,t,r,i,s){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new pr(mv++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Iu).find(r=>r.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let s=r.values[t],l=this.updateF(s,i);return this.compareF(s,l)?0:(r.values[t]=l,1)},reconfigure:(r,i)=>{let s=r.facet(Iu),l=i.facet(Iu),c;return(c=s.find(f=>f.field==this))&&c!=l.find(f=>f.field==this)?(r.values[t]=c.create(r),1):i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,Iu.of({field:this,create:e})]}get extension(){return this}}const hl={lowest:4,low:3,default:2,high:1,highest:0};function Qc(n){return e=>new j3(e,n)}const Ll={highest:Qc(hl.highest),high:Qc(hl.high),default:Qc(hl.default),low:Qc(hl.low),lowest:Qc(hl.lowest)};class j3{constructor(e,t){this.inner=e,this.prec=t}}class cp{of(e){return new Wx(this,e)}reconfigure(e){return cp.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Wx{constructor(e,t){this.compartment=e,this.inner=t}}class Sd{constructor(e,t,r,i,s,l){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],s=Object.create(null),l=new Map;for(let g of ZM(e,t,l))g instanceof pr?i.push(g):(s[g.facet.id]||(s[g.facet.id]=[])).push(g);let c=Object.create(null),f=[],h=[];for(let g of i)c[g.id]=h.length<<1,h.push(x=>g.slot(x));let d=r?.config.facets;for(let g in s){let x=s[g],S=x[0].facet,b=d&&d[g]||[];if(x.every(w=>w.type==0))if(c[S.id]=f.length<<1|1,gv(b,x))f.push(r.facet(S));else{let w=S.combine(x.map(T=>T.value));f.push(r&&S.compare(w,r.facet(S))?r.facet(S):w)}else{for(let w of x)w.type==0?(c[w.id]=f.length<<1|1,f.push(w.value)):(c[w.id]=h.length<<1,h.push(T=>w.dynamicSlot(T)));c[S.id]=h.length<<1,h.push(w=>QM(w,S,x))}}let m=h.map(g=>g(c));return new Sd(e,l,m,c,f,s)}}function ZM(n,e,t){let r=[[],[],[],[],[]],i=new Map;function s(l,c){let f=i.get(l);if(f!=null){if(f<=c)return;let h=r[f].indexOf(l);h>-1&&r[f].splice(h,1),l instanceof Wx&&t.delete(l.compartment)}if(i.set(l,c),Array.isArray(l))for(let h of l)s(h,c);else if(l instanceof Wx){if(t.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(l.compartment)||l.inner;t.set(l.compartment,h),s(h,c)}else if(l instanceof j3)s(l.inner,l.prec);else if(l instanceof pr)r[c].push(l),l.provides&&s(l.provides,c);else if(l instanceof $h)r[c].push(l),l.facet.extensions&&s(l.facet.extensions,hl.default);else{let h=l.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(h,c)}}return s(n,hl.default),r.reduce((l,c)=>l.concat(c))}function m0(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function wd(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const z3=Ke.define(),Gx=Ke.define({combine:n=>n.some(e=>e),static:!0}),H3=Ke.define({combine:n=>n.length?n[0]:void 0,static:!0}),U3=Ke.define(),V3=Ke.define(),q3=Ke.define(),W3=Ke.define({combine:n=>n.length?n[0]:!1});class xs{constructor(e,t){this.type=e,this.value=t}static define(){return new JM}}class JM{of(e){return new xs(this,e)}}class eL{constructor(e){this.map=e}of(e){return new gt(this,e)}}class gt{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new gt(this.type,t)}is(e){return this.type==e}static define(e={}){return new eL(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(t);s&&r.push(s)}return r}}gt.reconfigure=gt.define();gt.appendConfig=gt.define();class Wn{constructor(e,t,r,i,s,l){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=l,this._doc=null,this._state=null,r&&P3(r,t.newLength),s.some(c=>c.type==Wn.time)||(this.annotations=s.concat(Wn.time.of(Date.now())))}static create(e,t,r,i,s,l){return new Wn(e,t,r,i,s,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Wn.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Wn.time=xs.define();Wn.userEvent=xs.define();Wn.addToHistory=xs.define();Wn.remote=xs.define();function tL(n,e){let t=[];for(let r=0,i=0;;){let s,l;if(r<n.length&&(i==e.length||e[i]>=n[r]))s=n[r++],l=n[r++];else if(i<e.length)s=e[i++],l=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,l):t[t.length-1]<l&&(t[t.length-1]=l)}}function G3(n,e,t){var r;let i,s,l;return t?(i=e.changes,s=Vn.empty(e.changes.length),l=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),l=n.changes.compose(i)),{changes:l,selection:e.selection?e.selection.map(s):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:gt.mapEffects(n.effects,i).concat(gt.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Xx(n,e,t){let r=e.selection,i=Fo(e.annotations);return e.userEvent&&(i=i.concat(Wn.userEvent.of(e.userEvent))),{changes:e.changes instanceof Vn?e.changes:Vn.of(e.changes||[],t,n.facet(H3)),selection:r&&(r instanceof De?r:De.single(r.anchor,r.head)),effects:Fo(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function X3(n,e,t){let r=Xx(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let l=!!e[s].sequential;r=G3(r,Xx(n,e[s],l?r.changes.newLength:n.doc.length),l)}let i=Wn.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return rL(t?nL(i):i)}function nL(n){let e=n.startState,t=!0;for(let i of e.facet(U3)){let s=i(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:tL(t,s))}if(t!==!0){let i,s;if(t===!1)s=n.changes.invertedDesc,i=Vn.empty(e.doc.length);else{let l=n.changes.filter(t);i=l.changes,s=l.filtered.mapDesc(l.changes).invertedDesc}n=Wn.create(e,i,n.selection&&n.selection.map(s),gt.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let r=e.facet(V3);for(let i=r.length-1;i>=0;i--){let s=r[i](n);s instanceof Wn?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Wn?n=s[0]:n=X3(e,Fo(s),!1)}return n}function rL(n){let e=n.startState,t=e.facet(q3),r=n;for(let i=t.length-1;i>=0;i--){let s=t[i](n);s&&Object.keys(s).length&&(r=G3(r,Xx(e,s,n.changes.newLength),!0))}return r==n?n:Wn.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const iL=[];function Fo(n){return n==null?iL:Array.isArray(n)?n:[n]}var xn=(function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n})(xn||(xn={}));const sL=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let $x;try{$x=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function aL(n){if($x)return $x.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||sL.test(t)))return!0}return!1}function lL(n){return e=>{if(!/\S/.test(e))return xn.Space;if(aL(e))return xn.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return xn.Word;return xn.Other}}class Dt{constructor(e,t,r,i,s,l){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,l&&(l._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)m0(this,c<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return m0(this,r),wd(this,r)}update(...e){return X3(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let c of e.effects)c.is(cp.reconfigure)?(t&&(i=new Map,t.compartments.forEach((f,h)=>i.set(h,f)),t=null),i.set(c.value.compartment,c.value.extension)):c.is(gt.reconfigure)?(t=null,r=c.value):c.is(gt.appendConfig)&&(t=null,r=Fo(r).concat(c.value));let s;t?s=e.startState.values.slice():(t=Sd.resolve(r,i,this),s=new Dt(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(f,h)=>h.reconfigure(f,this),null).values);let l=e.startState.facet(Gx)?e.newSelection:e.newSelection.asSingle();new Dt(t,e.newDoc,l,s,(c,f)=>f.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:De.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),s=[r.range],l=Fo(r.effects);for(let c=1;c<t.ranges.length;c++){let f=e(t.ranges[c]),h=this.changes(f.changes),d=h.map(i);for(let g=0;g<c;g++)s[g]=s[g].map(d);let m=i.mapDesc(h,!0);s.push(f.range.map(m)),i=i.compose(d),l=gt.mapEffects(l,d).concat(gt.mapEffects(Fo(f.effects),m))}return{changes:i,selection:De.create(s,t.mainIndex),effects:l}}changes(e=[]){return e instanceof Vn?e:Vn.of(e,this.doc.length,this.facet(Dt.lineSeparator))}toText(e){return Rt.of(e.split(this.facet(Dt.lineSeparator)||Hx))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(m0(this,t),wd(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof pr&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let l=r[s],c=e[s];i.push(l.init(f=>l.spec.fromJSON(c,f)))}}return Dt.create({doc:e.doc,selection:De.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=Sd.resolve(e.extensions||[],new Map),r=e.doc instanceof Rt?e.doc:Rt.of((e.doc||"").split(t.staticFacet(Dt.lineSeparator)||Hx)),i=e.selection?e.selection instanceof De?e.selection:De.single(e.selection.anchor,e.selection.head):De.single(0);return P3(i,r.length),t.staticFacet(Gx)||(i=i.asSingle()),new Dt(t,r,i,t.dynamicSlots.map(()=>null),(s,l)=>l.create(s),null)}get tabSize(){return this.facet(Dt.tabSize)}get lineBreak(){return this.facet(Dt.lineSeparator)||`
`}get readOnly(){return this.facet(W3)}phrase(e,...t){for(let r of this.facet(Dt.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?r:t[s-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let s of this.facet(z3))for(let l of s(this,t,r))Object.prototype.hasOwnProperty.call(l,e)&&i.push(l[e]);return i}charCategorizer(e){return lL(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),l=e-r,c=e-r;for(;l>0;){let f=ur(t,l,!1);if(s(t.slice(f,l))!=xn.Word)break;l=f}for(;c<i;){let f=ur(t,c);if(s(t.slice(c,f))!=xn.Word)break;c=f}return l==c?null:De.range(l+r,c+r)}}Dt.allowMultipleSelections=Gx;Dt.tabSize=Ke.define({combine:n=>n.length?n[0]:4});Dt.lineSeparator=H3;Dt.readOnly=W3;Dt.phrases=Ke.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});Dt.languageData=z3;Dt.changeFilter=U3;Dt.transactionFilter=V3;Dt.transactionExtender=q3;cp.reconfigure=gt.define();function vs(n,e,t={}){let r={};for(let i of n)for(let s of Object.keys(i)){let l=i[s],c=r[s];if(c===void 0)r[s]=l;else if(!(c===l||l===void 0))if(Object.hasOwnProperty.call(t,s))r[s]=t[s](c,l);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Cl{eq(e){return this==e}range(e,t=e){return Yx.create(e,t,this)}}Cl.prototype.startSide=Cl.prototype.endSide=0;Cl.prototype.point=!1;Cl.prototype.mapMode=Tr.TrackDel;let Yx=class $3{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new $3(e,t,r)}};function Kx(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class xv{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let s=r?this.to:this.from;for(let l=i,c=s.length;;){if(l==c)return l;let f=l+c>>1,h=s[f]-e||(r?this.value[f].endSide:this.value[f].startSide)-t;if(f==l)return h>=0?l:c;h>=0?c=f:l=f+1}}between(e,t,r,i){for(let s=this.findIndex(t,-1e9,!0),l=this.findIndex(r,1e9,!1,s);s<l;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let r=[],i=[],s=[],l=-1,c=-1;for(let f=0;f<this.value.length;f++){let h=this.value[f],d=this.from[f]+e,m=this.to[f]+e,g,x;if(d==m){let S=t.mapPos(d,h.startSide,h.mapMode);if(S==null||(g=x=S,h.startSide!=h.endSide&&(x=t.mapPos(d,h.endSide),x<g)))continue}else if(g=t.mapPos(d,h.startSide),x=t.mapPos(m,h.endSide),g>x||g==x&&h.startSide>0&&h.endSide<=0)continue;(x-g||h.endSide-h.startSide)<0||(l<0&&(l=g),h.point&&(c=Math.max(c,x-g)),r.push(h),i.push(g-l),s.push(x-l))}return{mapped:r.length?new xv(i,s,r,c):null,pos:l}}}class Nt{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new Nt(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,l=e.filter;if(t.length==0&&!l)return this;if(r&&(t=t.slice().sort(Kx)),this.isEmpty)return t.length?Nt.of(t):this;let c=new Y3(this,null,-1).goto(0),f=0,h=[],d=new Gs;for(;c.value||f<t.length;)if(f<t.length&&(c.from-t[f].from||c.startSide-t[f].value.startSide)>=0){let m=t[f++];d.addInner(m.from,m.to,m.value)||h.push(m)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(f==t.length||this.chunkEnd(c.chunkIndex)<t[f].from)&&(!l||i>this.chunkEnd(c.chunkIndex)||s<this.chunkPos[c.chunkIndex])&&d.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!l||i>c.to||s<c.from||l(c.from,c.to,c.value))&&(d.addInner(c.from,c.to,c.value)||h.push(Yx.create(c.from,c.to,c.value))),c.next());return d.finishInner(this.nextLayer.isEmpty&&!h.length?Nt.empty:this.nextLayer.update({add:h,filter:l,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let l=0;l<this.chunk.length;l++){let c=this.chunkPos[l],f=this.chunk[l],h=e.touchesRange(c,c+f.length);if(h===!1)i=Math.max(i,f.maxPoint),t.push(f),r.push(e.mapPos(c));else if(h===!0){let{mapped:d,pos:m}=f.map(c,e);d&&(i=Math.max(i,d.maxPoint),t.push(d),r.push(m))}}let s=this.nextLayer.map(e);return t.length==0?s:new Nt(r,t,s||Nt.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],l=this.chunk[i];if(t>=s&&e<=s+l.length&&l.between(s,e-s,t-s,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return N0.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return N0.from(e).goto(t)}static compare(e,t,r,i,s=-1){let l=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),c=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),f=_w(l,c,r),h=new Zc(l,f,s),d=new Zc(c,f,s);r.iterGaps((m,g,x)=>Dw(h,m,d,g,x,i)),r.empty&&r.length==0&&Dw(h,0,d,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let s=e.filter(d=>!d.isEmpty&&t.indexOf(d)<0),l=t.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(s.length!=l.length)return!1;if(!s.length)return!0;let c=_w(s,l),f=new Zc(s,c,0).goto(r),h=new Zc(l,c,0).goto(r);for(;;){if(f.to!=h.to||!Qx(f.active,h.active)||f.point&&(!h.point||!f.point.eq(h.point)))return!1;if(f.to>i)return!0;f.next(),h.next()}}static spans(e,t,r,i,s=-1){let l=new Zc(e,null,s).goto(t),c=t,f=l.openStart;for(;;){let h=Math.min(l.to,r);if(l.point){let d=l.activeForPoint(l.to),m=l.pointFrom<t?d.length+1:l.point.startSide<0?d.length:Math.min(d.length,f);i.point(c,h,l.point,d,m,l.pointRank),f=Math.min(l.openEnd(h),d.length)}else h>c&&(i.span(c,h,l.active,f),f=l.openEnd(h));if(l.to>r)return f+(l.point&&l.to>r?1:0);c=l.to,l.next()}}static of(e,t=!1){let r=new Gs;for(let i of e instanceof Yx?[e]:t?oL(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return Nt.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=Nt.empty;i=i.nextLayer)t=new Nt(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}Nt.empty=new Nt([],[],null,-1);function oL(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(Kx(e,r)>0)return n.slice().sort(Kx);e=r}return n}Nt.empty.nextLayer=Nt.empty;class Gs{finishChunk(e){this.chunks.push(new xv(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Gs)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(Nt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Nt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function _w(n,e,t){let r=new Map;for(let s of n)for(let l=0;l<s.chunk.length;l++)s.chunk[l].maxPoint<=0&&r.set(s.chunk[l],s.chunkPos[l]);let i=new Set;for(let s of e)for(let l=0;l<s.chunk.length;l++){let c=r.get(s.chunk[l]);c!=null&&(t?t.mapPos(c):c)==s.chunkPos[l]&&!t?.touchesRange(c,c+s.chunk[l].length)&&i.add(s.chunk[l])}return i}class Y3{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class N0{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let l=e[s];!l.isEmpty;l=l.nextLayer)l.maxPoint>=r&&i.push(new Y3(l,t,r,s));return i.length==1?i[0]:new N0(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)Qg(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)Qg(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Qg(this.heap,0)}}}function Qg(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class Zc{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=N0.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Pu(this.active,e),Pu(this.activeTo,e),Pu(this.activeRank,e),this.minActive=kw(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||i-this.activeTo[t])>0;)t++;ju(this.active,t,r),ju(this.activeTo,t,i),ju(this.activeRank,t,s),e&&ju(e,t,this.cursor.from),this.minActive=kw(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Pu(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function Dw(n,e,t,r,i,s){n.goto(e),t.goto(r);let l=r+i,c=r,f=r-e;for(;;){let h=n.to+f-t.to,d=h||n.endSide-t.endSide,m=d<0?n.to+f:t.to,g=Math.min(m,l);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Qx(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(c,g,n.point,t.point):g>c&&!Qx(n.active,t.active)&&s.compareRange(c,g,n.active,t.active),m>l)break;(h||n.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(m),c=m,d<=0&&n.next(),d>=0&&t.next()}}function Qx(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Pu(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function ju(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function kw(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function ec(n,e,t=n.length){let r=0;for(let i=0;i<t&&i<n.length;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=ur(n,i));return r}function Zx(n,e,t,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==n.length)break;s+=n.charCodeAt(i)==9?t-s%t:1,i=ur(n,i)}return r===!0?-1:n.length}const Jx="",Ow=typeof Symbol>"u"?"__"+Jx:Symbol.for(Jx),e1=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Bw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ma{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function s(l,c,f,h){let d=[],m=/^@(\w+)\b/.exec(l[0]),g=m&&m[1]=="keyframes";if(m&&c==null)return f.push(l[0]+";");for(let x in c){let S=c[x];if(/&/.test(x))s(x.split(/,\s*/).map(b=>l.map(w=>b.replace(/&/,w))).reduce((b,w)=>b.concat(w)),S,f);else if(S&&typeof S=="object"){if(!m)throw new RangeError("The value of a property ("+x+") should be a primitive value.");s(i(x),S,d,g)}else S!=null&&d.push(x.replace(/_.*/,"").replace(/[A-Z]/g,b=>"-"+b.toLowerCase())+": "+S+";")}(d.length||g)&&f.push((r&&!m&&!h?l.map(r):l).join(", ")+" {"+d.join(" ")+"}")}for(let l in e)s(i(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Bw[Ow]||1;return Bw[Ow]=e+1,Jx+e.toString(36)}static mount(e,t,r){let i=e[e1],s=r&&r.nonce;i?s&&i.setNonce(s):i=new cL(e,s),i.mount(Array.isArray(t)?t:[t],e)}}let Nw=new Map;class cL{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=Nw.get(r);if(s)return e[e1]=s;this.sheet=new i.CSSStyleSheet,Nw.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[e1]=this}mount(e,t){let r=this.sheet,i=0,s=0;for(let l=0;l<e.length;l++){let c=e[l],f=this.modules.indexOf(c);if(f<s&&f>-1&&(this.modules.splice(f,1),s--,f=-1),f==-1){if(this.modules.splice(s++,0,c),r)for(let h=0;h<c.rules.length;h++)r.insertRule(c.rules[h],i++)}else{for(;s<f;)i+=this.modules[s++].rules.length;i+=c.rules.length,s++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let l="";for(let f=0;f<this.modules.length;f++)l+=this.modules[f].getRules()+`
`;this.styleTag.textContent=l;let c=t.head||t;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var La={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},R0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},fL=typeof navigator<"u"&&/Mac/.test(navigator.platform),uL=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var or=0;or<10;or++)La[48+or]=La[96+or]=String(or);for(var or=1;or<=24;or++)La[or+111]="F"+or;for(var or=65;or<=90;or++)La[or]=String.fromCharCode(or+32),R0[or]=String.fromCharCode(or);for(var Zg in La)R0.hasOwnProperty(Zg)||(R0[Zg]=La[Zg]);function hL(n){var e=fL&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||uL&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?R0:La)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function rn(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)K3(n,arguments[e]);return n}function K3(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)K3(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}let Ar=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},t1=typeof document<"u"?document:{documentElement:{style:{}}};const n1=/Edge\/(\d+)/.exec(Ar.userAgent),Q3=/MSIE \d/.test(Ar.userAgent),r1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ar.userAgent),fp=!!(Q3||r1||n1),Rw=!fp&&/gecko\/(\d+)/i.test(Ar.userAgent),Jg=!fp&&/Chrome\/(\d+)/.exec(Ar.userAgent),dL="webkitFontSmoothing"in t1.documentElement.style,i1=!fp&&/Apple Computer/.test(Ar.vendor),Fw=i1&&(/Mobile\/\w+/.test(Ar.userAgent)||Ar.maxTouchPoints>2);var Xe={mac:Fw||/Mac/.test(Ar.platform),windows:/Win/.test(Ar.platform),linux:/Linux|X11/.test(Ar.platform),ie:fp,ie_version:Q3?t1.documentMode||6:r1?+r1[1]:n1?+n1[1]:0,gecko:Rw,gecko_version:Rw?+(/Firefox\/(\d+)/.exec(Ar.userAgent)||[0,0])[1]:0,chrome:!!Jg,chrome_version:Jg?+Jg[1]:0,ios:Fw,android:/Android\b/.test(Ar.userAgent),webkit_version:dL?+(/\bAppleWebKit\/(\d+)/.exec(Ar.userAgent)||[0,0])[1]:0,safari:i1,safari_version:i1?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Ar.userAgent)||[0,0])[1]:0,tabSize:t1.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function F0(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function s1(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Yh(n,e){if(!e.anchorNode)return!1;try{return s1(n,e.anchorNode)}catch{return!1}}function Vo(n){return n.nodeType==3?Tl(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function g0(n,e,t,r){return t?Mw(n,e,t,r,-1)||Mw(n,e,t,r,1):!1}function Al(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Ed(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function Mw(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:gs(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=Al(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=i<0?gs(n):0}else return!1}}function gs(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function sf(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function pL(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function Z3(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function mL(n,e,t,r,i,s,l,c){let f=n.ownerDocument,h=f.defaultView||window;for(let d=n,m=!1;d&&!m;)if(d.nodeType==1){let g,x=d==f.body,S=1,b=1;if(x)g=pL(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(m=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let A=d.getBoundingClientRect();({scaleX:S,scaleY:b}=Z3(d,A)),g={left:A.left,right:A.left+d.clientWidth*S,top:A.top,bottom:A.top+d.clientHeight*b}}let w=0,T=0;if(i=="nearest")e.top<g.top?(T=e.top-(g.top+l),t>0&&e.bottom>g.bottom+T&&(T=e.bottom-g.bottom+l)):e.bottom>g.bottom&&(T=e.bottom-g.bottom+l,t<0&&e.top-T<g.top&&(T=e.top-(g.top+l)));else{let A=e.bottom-e.top,C=g.bottom-g.top;T=(i=="center"&&A<=C?e.top+A/2-C/2:i=="start"||i=="center"&&t<0?e.top-l:e.bottom-C+l)-g.top}if(r=="nearest"?e.left<g.left?(w=e.left-(g.left+s),t>0&&e.right>g.right+w&&(w=e.right-g.right+s)):e.right>g.right&&(w=e.right-g.right+s,t<0&&e.left<g.left+w&&(w=e.left-(g.left+s))):w=(r=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:r=="start"==c?e.left-s:e.right-(g.right-g.left)+s)-g.left,w||T)if(x)h.scrollBy(w,T);else{let A=0,C=0;if(T){let _=d.scrollTop;d.scrollTop+=T/b,C=(d.scrollTop-_)*b}if(w){let _=d.scrollLeft;d.scrollLeft+=w/S,A=(d.scrollLeft-_)*S}e={left:e.left-A,top:e.top-C,right:e.right-A,bottom:e.bottom-C},A&&Math.abs(A-w)<1&&(r="nearest"),C&&Math.abs(C-T)<1&&(i="nearest")}if(x)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function gL(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class xL{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?gs(t):0),r,Math.min(e.focusOffset,r?gs(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let cl=null;Xe.safari&&Xe.safari_version>=26&&(cl=!1);function J3(n){if(n.setActive)return n.setActive();if(cl)return n.focus(cl);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(cl==null?{get preventScroll(){return cl={preventScroll:!0},!0}}:void 0),!cl){cl=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],s=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let Lw;function Tl(n,e,t=e){let r=Lw||(Lw=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function Mo(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,n.dispatchEvent(s);let l=new KeyboardEvent("keyup",i);return l.synthetic=!0,n.dispatchEvent(l),s.defaultPrevented||l.defaultPrevented}function vL(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function e8(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function yL(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,gs(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable=="false"?r--:(t=i,r=gs(t))}else{if(t==n)return!0;r=Al(t),t=t.parentNode}}function t8(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function n8(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=gs(t)}else if(t.parentNode&&!Ed(t))r=Al(t),t=t.parentNode;else return null}}function r8(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!Ed(t))r=Al(t)+1,t=t.parentNode;else return null}}class vr{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new vr(e.parentNode,Al(e),t)}static after(e,t){return new vr(e.parentNode,Al(e)+1,t)}}const vv=[];class tn{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,s;for(let l of this.children){if(l.flags&7){if(!l.dom&&(s=i?i.nextSibling:r.firstChild)){let c=tn.get(s);(!c||!c.parent&&c.canReuseDOM(l))&&l.reuseDOM(s)}l.sync(e,t),l.flags&=-8}if(s=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&s!=l.dom&&(t.written=!0),l.dom.parentNode==r)for(;s&&s!=l.dom;)s=Iw(s);else r.insertBefore(l.dom,s);i=l.dom}for(s=i?i.nextSibling:r.firstChild,s&&t&&t.node==r&&(t.written=!0);s;)s=Iw(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=gs(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!tn.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let l=this.children[i];if(l.dom==r)return s;s+=l.length+l.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,s=-1,l=-1,c=-1;for(let f=0,h=r,d=r;f<this.children.length;f++){let m=this.children[f],g=h+m.length;if(h<e&&g>t)return m.domBoundsAround(e,t,h);if(g>=e&&i==-1&&(i=f,s=h),h>t&&m.dom.parentNode==this.dom){l=f,c=d;break}d=g,h=g+m.breakAfter}return{from:s,to:c<0?r+this.length:c,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:l<this.children.length&&l>=0?this.children[l].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=vv){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new i8(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,s,l){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}tn.prototype.breakAfter=0;function Iw(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class i8{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function s8(n,e,t,r,i,s,l,c,f){let{children:h}=n,d=h.length?h[e]:null,m=s.length?s[s.length-1]:null,g=m?m.breakAfter:l;if(!(e==r&&d&&!l&&!g&&s.length<2&&d.merge(t,i,s.length?m:null,t==0,c,f))){if(r<h.length){let x=h[r];x&&(i<x.length||x.breakAfter&&m?.breakAfter)?(e==r&&(x=x.split(i),i=0),!g&&m&&x.merge(0,i,m,!0,0,f)?s[s.length-1]=x:((i||x.children.length&&!x.children[0].length)&&x.merge(0,i,null,!1,0,f),s.push(x))):x?.breakAfter&&(m?m.breakAfter=1:l=1),r++}for(d&&(d.breakAfter=l,t>0&&(!l&&s.length&&d.merge(t,d.length,s[0],!1,c,0)?d.breakAfter=s.shift().breakAfter:(t<d.length||d.children.length&&d.children[d.children.length-1].length==0)&&d.merge(t,d.length,null,!1,c,0),e++));e<r&&s.length;)if(h[r-1].become(s[s.length-1]))r--,s.pop(),f=s.length?0:c;else if(h[e].become(s[0]))e++,s.shift(),c=s.length?0:f;else break;!s.length&&e&&r<h.length&&!h[e-1].breakAfter&&h[r].merge(0,0,h[e-1],!1,c,f)&&e--,(e<r||s.length)&&n.replaceChildren(e,r,s)}}function a8(n,e,t,r,i,s){let l=n.childCursor(),{i:c,off:f}=l.findPos(t,1),{i:h,off:d}=l.findPos(e,-1),m=e-t;for(let g of r)m+=g.length;n.length+=m,s8(n,h,d,c,f,r,0,i,s)}const bL=256;class qi extends tn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof qi)||this.length-(t-e)+r.length>bL||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new qi(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new vr(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return SL(this.dom,e,t)}}class Xs extends tn{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(e8(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,s,l){return r&&(!(r instanceof Xs&&r.mark.eq(this.mark))||e&&s<=0||t<this.length&&l<=0)?!1:(a8(this,e,t,r?r.children.slice():[],s-1,l-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,s=0;for(let c of this.children){let f=r+c.length;f>e&&t.push(r<e?c.split(e-r):c),i<0&&r>=e&&(i=s),r=f,s++}let l=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Xs(this.mark,t,l)}domAtPos(e){return l8(this,e)}coordsAt(e,t){return c8(this,e,t)}}function SL(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,s=e,l=0;e==0&&t<0||e==r&&t>=0?Xe.chrome||Xe.gecko||(e?(i--,l=1):s<r&&(s++,l=-1)):t<0?i--:s<r&&s++;let c=Tl(n,i,s).getClientRects();if(!c.length)return null;let f=c[(l?l<0:t>=0)?0:c.length-1];return Xe.safari&&!l&&f.width==0&&(f=Array.prototype.find.call(c,h=>h.width)||f),l?sf(f,l<0):f||null}class js extends tn{static create(e,t,r){return new js(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=js.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,i,s,l){return r&&(!(r instanceof js)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&l<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof js&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Rt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Rt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?vr.before(this.dom):vr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let l=this.side?this.side<0:e>0;for(let c=l?i.length-1:0;s=i[c],!(e>0?c==0:c==i.length-1||s.top<s.bottom);c+=l?-1:1);return sf(s,!l)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class qo extends tn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof qo&&e.side==this.side}split(){return new qo(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?vr.before(this.dom):vr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Rt.empty}get isHidden(){return!0}}qi.prototype.children=js.prototype.children=qo.prototype.children=vv;function l8(n,e){let t=n.dom,{children:r}=n,i=0;for(let s=0;i<r.length;i++){let l=r[i],c=s+l.length;if(!(c==s&&l.getSide()<=0)){if(e>s&&e<c&&l.dom.parentNode==t)return l.domAtPos(e-s);if(e<=s)break;s=c}}for(let s=i;s>0;s--){let l=r[s-1];if(l.dom.parentNode==t)return l.domAtPos(l.length)}for(let s=i;s<r.length;s++){let l=r[s];if(l.dom.parentNode==t)return l.domAtPos(0)}return new vr(t,0)}function o8(n,e,t){let r,{children:i}=n;t>0&&e instanceof Xs&&i.length&&(r=i[i.length-1])instanceof Xs&&r.mark.eq(e.mark)?o8(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function c8(n,e,t){let r=null,i=-1,s=null,l=-1;function c(h,d){for(let m=0,g=0;m<h.children.length&&g<=d;m++){let x=h.children[m],S=g+x.length;S>=d&&(x.children.length?c(x,d-g):(!s||s.isHidden&&(t>0||EL(s,x)))&&(S>d||g==S&&x.getSide()>0)?(s=x,l=d-g):(g<d||g==S&&x.getSide()<0&&!x.isHidden)&&(r=x,i=d-g)),g=S}}c(n,e);let f=(t<0?r:s)||r||s;return f?f.coordsAt(Math.max(0,f==r?i:l),t):wL(n)}function wL(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=Vo(e);return t[t.length-1]||null}function EL(n,e){let t=n.coordsAt(0,1),r=e.coordsAt(0,1);return t&&r&&r.top<t.bottom}function a1(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const Pw=Object.create(null);function Cd(n,e,t){if(n==e)return!0;n||(n=Pw),e||(e=Pw);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let s of r)if(s!=t&&(i.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function l1(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function CL(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class Ks{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Dr=(function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n})(Dr||(Dr={}));class at extends Cl{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new af(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Ia(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:l}=f8(e,t);r=(s?t?-3e8:-1:5e8)-1,i=(l?t?2e8:1:-6e8)+1}return new Ia(e,r,i,t,e.widget||null,!0)}static line(e){return new lf(e)}static set(e,t=!1){return Nt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}at.none=Nt.empty;class af extends at{constructor(e){let{start:t,end:r}=f8(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof af&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Cd(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}af.prototype.point=!1;class lf extends at{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof lf&&this.spec.class==e.spec.class&&Cd(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}lf.prototype.mapMode=Tr.TrackBefore;lf.prototype.point=!0;class Ia extends at{constructor(e,t,r,i,s,l){super(t,r,s,e),this.block=i,this.isReplace=l,this.mapMode=i?t<=0?Tr.TrackBefore:Tr.TrackAfter:Tr.TrackDel}get type(){return this.startSide!=this.endSide?Dr.WidgetRange:this.startSide<=0?Dr.WidgetBefore:Dr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Ia&&AL(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Ia.prototype.point=!0;function f8(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function AL(n,e){return n==e||!!(n&&e&&n.compare(e))}function Kh(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class In extends tn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,s,l){if(r){if(!(r instanceof In))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),a8(this,e,t,r?r.children.slice():[],s,l),!0}split(e){let t=new In;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)t.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Cd(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){o8(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=a1(t,this.attrs||{})),r&&(this.attrs=a1({class:r},this.attrs||{}))}domAtPos(e){return l8(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(e8(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(l1(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&tn.get(i)instanceof Xs;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=tn.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!Xe.ios||!this.children.some(s=>s instanceof qi))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof qi)||/[^ -~]/.test(r.text))return null;let i=Vo(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=c8(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let l=(s-i.textHeight)/2;return{top:r.top+l,bottom:r.bottom-l,left:r.left,right:r.left}}}return r}become(e){return e instanceof In&&this.children.length==0&&e.children.length==0&&Cd(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],l=i+s.length;if(l>=t){if(s instanceof In)return s;if(l>t)break}i=l+s.breakAfter}return null}}class Vs extends tn{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,s,l){return r&&(!(r instanceof Vs)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&l<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?vr.before(this.dom):vr.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new Vs(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return vv}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Rt.empty}domBoundsAround(){return null}become(e){return e instanceof Vs&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof o1?null:sf(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class o1 extends Ks{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class x0{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Vs&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new In),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(zu(new qo(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Vs)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:l,lineBreak:c,done:f}=this.cursor.next(this.skip);if(this.skip=0,f)throw new Error("Ran out of text content when drawing inline views");if(c){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=l,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e),s=Math.min(i,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(zu(new qi(this.text.slice(this.textOff,this.textOff+s)),t),r),this.atCursorPos=!0,this.textOff+=s,e-=s,r=i<=s?0:t.length}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,s,l){if(this.disallowBlockEffectsFor[l]&&r instanceof Ia){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=t-e;if(r instanceof Ia)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Vs(r.widget||Wo.block,c,r));else{let f=js.create(r.widget||Wo.inline,c,c?0:r.startSide),h=this.atCursorPos&&!f.isEditable&&s<=i.length&&(e<t||r.startSide>0),d=!f.isEditable&&(e<t||s>i.length||r.startSide<=0),m=this.getLine();this.pendingBuffer==2&&!h&&!f.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),h&&(m.append(zu(new qo(1),i),s),s=i.length+Math.max(0,s-i.length)),m.append(zu(f,i),s),this.atCursorPos=d,this.pendingBuffer=d?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,r,i,s){let l=new x0(e,t,r,s);return l.openEnd=Nt.spans(i,t,r,l),l.openStart<0&&(l.openStart=l.openEnd),l.finish(l.openEnd),l}}function zu(n,e){for(let t of e)n=new Xs(t,[n],n.length);return n}class Wo extends Ks{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Wo.inline=new Wo("span");Wo.block=new Wo("div");var un=(function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n})(un||(un={}));const _l=un.LTR,yv=un.RTL;function u8(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const TL=u8("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),_L=u8("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),c1=Object.create(null),rs=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);c1[e]=t,c1[t]=-e}function h8(n){return n<=247?TL[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?_L[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const DL=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class ka{get dir(){return this.level%2?yv:_l}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let s=-1;for(let l=0;l<e.length;l++){let c=e[l];if(c.from<=t&&c.to>=t){if(c.level==r)return l;(s<0||(i!=0?i<0?c.from<t:c.to>t:e[s].level>c.level))&&(s=l)}}if(s<0)throw new RangeError("Index out of range");return s}}function d8(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!d8(r.inner,i.inner))return!1}return!0}const sn=[];function kL(n,e,t,r,i){for(let s=0;s<=r.length;s++){let l=s?r[s-1].to:e,c=s<r.length?r[s].from:t,f=s?256:i;for(let h=l,d=f,m=f;h<c;h++){let g=h8(n.charCodeAt(h));g==512?g=d:g==8&&m==4&&(g=16),sn[h]=g==4?2:g,g&7&&(m=g),d=g}for(let h=l,d=f,m=f;h<c;h++){let g=sn[h];if(g==128)h<c-1&&d==sn[h+1]&&d&24?g=sn[h]=d:sn[h]=256;else if(g==64){let x=h+1;for(;x<c&&sn[x]==64;)x++;let S=h&&d==8||x<t&&sn[x]==8?m==1?1:8:256;for(let b=h;b<x;b++)sn[b]=S;h=x-1}else g==8&&m==1&&(sn[h]=1);d=g,g&7&&(m=g)}}}function OL(n,e,t,r,i){let s=i==1?2:1;for(let l=0,c=0,f=0;l<=r.length;l++){let h=l?r[l-1].to:e,d=l<r.length?r[l].from:t;for(let m=h,g,x,S;m<d;m++)if(x=c1[g=n.charCodeAt(m)])if(x<0){for(let b=c-3;b>=0;b-=3)if(rs[b+1]==-x){let w=rs[b+2],T=w&2?i:w&4?w&1?s:i:0;T&&(sn[m]=sn[rs[b]]=T),c=b;break}}else{if(rs.length==189)break;rs[c++]=m,rs[c++]=g,rs[c++]=f}else if((S=sn[m])==2||S==1){let b=S==i;f=b?0:1;for(let w=c-3;w>=0;w-=3){let T=rs[w+2];if(T&2)break;if(b)rs[w+2]|=2;else{if(T&4)break;rs[w+2]|=4}}}}}function BL(n,e,t,r){for(let i=0,s=r;i<=t.length;i++){let l=i?t[i-1].to:n,c=i<t.length?t[i].from:e;for(let f=l;f<c;){let h=sn[f];if(h==256){let d=f+1;for(;;)if(d==c){if(i==t.length)break;d=t[i++].to,c=i<t.length?t[i].from:e}else if(sn[d]==256)d++;else break;let m=s==1,g=(d<e?sn[d]:r)==1,x=m==g?m?1:2:r;for(let S=d,b=i,w=b?t[b-1].to:n;S>f;)S==w&&(S=t[--b].from,w=b?t[b-1].to:n),sn[--S]=x;f=d}else s=h,f++}}}function f1(n,e,t,r,i,s,l){let c=r%2?2:1;if(r%2==i%2)for(let f=e,h=0;f<t;){let d=!0,m=!1;if(h==s.length||f<s[h].from){let b=sn[f];b!=c&&(d=!1,m=b==16)}let g=!d&&c==1?[]:null,x=d?r:r+1,S=f;e:for(;;)if(h<s.length&&S==s[h].from){if(m)break e;let b=s[h];if(!d)for(let w=b.to,T=h+1;;){if(w==t)break e;if(T<s.length&&s[T].from==w)w=s[T++].to;else{if(sn[w]==c)break e;break}}if(h++,g)g.push(b);else{b.from>f&&l.push(new ka(f,b.from,x));let w=b.direction==_l!=!(x%2);u1(n,w?r+1:r,i,b.inner,b.from,b.to,l),f=b.to}S=b.to}else{if(S==t||(d?sn[S]!=c:sn[S]==c))break;S++}g?f1(n,f,S,r+1,i,g,l):f<S&&l.push(new ka(f,S,x)),f=S}else for(let f=t,h=s.length;f>e;){let d=!0,m=!1;if(!h||f>s[h-1].to){let b=sn[f-1];b!=c&&(d=!1,m=b==16)}let g=!d&&c==1?[]:null,x=d?r:r+1,S=f;e:for(;;)if(h&&S==s[h-1].to){if(m)break e;let b=s[--h];if(!d)for(let w=b.from,T=h;;){if(w==e)break e;if(T&&s[T-1].to==w)w=s[--T].from;else{if(sn[w-1]==c)break e;break}}if(g)g.push(b);else{b.to<f&&l.push(new ka(b.to,f,x));let w=b.direction==_l!=!(x%2);u1(n,w?r+1:r,i,b.inner,b.from,b.to,l),f=b.from}S=b.from}else{if(S==e||(d?sn[S-1]!=c:sn[S-1]==c))break;S--}g?f1(n,S,f,r+1,i,g,l):S<f&&l.push(new ka(S,f,x)),f=S}}function u1(n,e,t,r,i,s,l){let c=e%2?2:1;kL(n,i,s,r,c),OL(n,i,s,r,c),BL(i,s,r,c),f1(n,i,s,e,t,r,l)}function NL(n,e,t){if(!n)return[new ka(0,0,e==yv?1:0)];if(e==_l&&!t.length&&!DL.test(n))return p8(n.length);if(t.length)for(;n.length>sn.length;)sn[sn.length]=256;let r=[],i=e==_l?0:1;return u1(n,i,i,t,0,n.length,r),r}function p8(n){return[new ka(0,n,0)]}let m8="";function RL(n,e,t,r,i){var s;let l=r.head-n.from,c=ka.find(e,l,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),f=e[c],h=f.side(i,t);if(l==h){let g=c+=i?1:-1;if(g<0||g>=e.length)return null;f=e[c=g],l=f.side(!i,t),h=f.side(i,t)}let d=ur(n.text,l,f.forward(i,t));(d<f.from||d>f.to)&&(d=h),m8=n.text.slice(Math.min(l,d),Math.max(l,d));let m=c==(i?e.length-1:0)?null:e[c+(i?1:-1)];return m&&d==h&&m.level+(i?0:1)<f.level?De.cursor(m.side(!i,t)+n.from,m.forward(i,t)?1:-1,m.level):De.cursor(d+n.from,f.forward(i,t)?-1:1,f.level)}function FL(n,e,t){for(let r=e;r<t;r++){let i=h8(n.charCodeAt(r));if(i==1)return _l;if(i==2||i==4)return yv}return _l}const g8=Ke.define(),x8=Ke.define(),v8=Ke.define(),y8=Ke.define(),h1=Ke.define(),b8=Ke.define(),S8=Ke.define(),bv=Ke.define(),Sv=Ke.define(),w8=Ke.define({combine:n=>n.some(e=>e)}),E8=Ke.define({combine:n=>n.some(e=>e)}),C8=Ke.define();class Lo{constructor(e,t="nearest",r="nearest",i=5,s=5,l=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=l}map(e){return e.empty?this:new Lo(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Lo(De.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Hu=gt.define({map:(n,e)=>n.map(e)}),A8=gt.define();function Ur(n,e,t){let r=n.facet(y8);r.length?r[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const Ps=Ke.define({combine:n=>n.length?n[0]:!0});let ML=0;const Ao=Ke.define({combine(n){return n.filter((e,t)=>{for(let r=0;r<t;r++)if(n[r].plugin==e.plugin)return!1;return!0})}});class On{constructor(e,t,r,i,s){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(Ao.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Ao.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:s,decorations:l}=t||{};return new On(ML++,e,r,i,c=>{let f=[];return l&&f.push(M0.of(h=>{let d=h.plugin(c);return d?l(d):at.none})),s&&f.push(s(c)),f})}static fromClass(e,t){return On.define((r,i)=>new e(r,i),t)}}class ex{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(Ur(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){Ur(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){Ur(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const T8=Ke.define(),wv=Ke.define(),M0=Ke.define(),_8=Ke.define(),of=Ke.define(),D8=Ke.define();function jw(n,e){let t=n.state.facet(D8);if(!t.length)return t;let r=t.map(s=>s instanceof Function?s(n):s),i=[];return Nt.spans(r,e.from,e.to,{point(){},span(s,l,c,f){let h=s-e.from,d=l-e.from,m=i;for(let g=c.length-1;g>=0;g--,f--){let x=c[g].spec.bidiIsolate,S;if(x==null&&(x=FL(e.text,h,d)),f>0&&m.length&&(S=m[m.length-1]).to==h&&S.direction==x)S.to=d,m=S.inner;else{let b={from:h,to:d,direction:x,inner:[]};m.push(b),m=b.inner}}}}),i}const k8=Ke.define();function Ev(n){let e=0,t=0,r=0,i=0;for(let s of n.state.facet(k8)){let l=s(n);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(t=Math.max(t,l.right)),l.top!=null&&(r=Math.max(r,l.top)),l.bottom!=null&&(i=Math.max(i,l.bottom)))}return{left:e,right:t,top:r,bottom:i}}const r0=Ke.define();class Oi{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new Oi(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,s=0,l=0,c=0;;i++){let f=i==e.length?null:e[i],h=l-c,d=f?f.fromB:1e9;for(;s<t.length&&t[s]<d;){let m=t[s],g=t[s+1],x=Math.max(c,m),S=Math.min(d,g);if(x<=S&&new Oi(x+h,S+h,x,S).addToSet(r),g>d)break;s+=2}if(!f)return r;new Oi(f.fromA,f.toA,f.fromB,f.toB).addToSet(r),l=f.toA,c=f.toB}}}class Ad{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Vn.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,l,c,f)=>i.push(new Oi(s,l,c,f))),this.changedRanges=i}static create(e,t,r){return new Ad(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class zw extends tn{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=at.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new In],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Oi(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:h,toA:d})=>d<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!UL(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?IL(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:d}=this.hasComposition;r=new Oi(h,d,e.changes.mapPos(h,-1),e.changes.mapPos(d,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Xe.ie||Xe.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,c=this.updateDeco(),f=zL(l,c,e.changes);return r=Oi.extendWithRanges(r,f),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let l=Xe.chrome||Xe.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,l),this.flags&=-8,l&&(l.written||i.selectionRange.focusNode!=l.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(l=>l.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let l of this.children)l instanceof Vs&&l.widget instanceof o1&&s.push(l.dom);i.updateGaps(s)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let l=i.length-1;;l--){let c=l>=0?i[l]:null;if(!c)break;let{fromA:f,toA:h,fromB:d,toB:m}=c,g,x,S,b;if(r&&r.range.fromB<m&&r.range.toB>d){let _=x0.build(this.view.state.doc,d,r.range.fromB,this.decorations,this.dynamicDecorationMap),B=x0.build(this.view.state.doc,r.range.toB,m,this.decorations,this.dynamicDecorationMap);x=_.breakAtStart,S=_.openStart,b=B.openEnd;let N=this.compositionView(r);B.breakAtStart?N.breakAfter=1:B.content.length&&N.merge(N.length,N.length,B.content[0],!1,B.openStart,0)&&(N.breakAfter=B.content[0].breakAfter,B.content.shift()),_.content.length&&N.merge(0,0,_.content[_.content.length-1],!0,0,_.openEnd)&&_.content.pop(),g=_.content.concat(N).concat(B.content)}else({content:g,breakAtStart:x,openStart:S,openEnd:b}=x0.build(this.view.state.doc,d,m,this.decorations,this.dynamicDecorationMap));let{i:w,off:T}=s.findPos(h,1),{i:A,off:C}=s.findPos(f,-1);s8(this,A,C,w,T,g,x,S,b)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(A8)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new qi(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new Xs(i,[t],t.length);let r=new In;return r.append(t,0),r}fixCompositionDOM(e){let t=(s,l)=>{l.flags|=8|(l.children.some(f=>f.flags&7)?1:0),this.markedForComposition.add(l);let c=tn.get(s);c&&c!=l&&(c.dom=null),l.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],t(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(Ps)||this.dom.tabIndex>-1)&&Yh(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||s))return;let l=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,f=this.moveToLine(this.domAtPos(c.anchor)),h=c.empty?f:this.moveToLine(this.domAtPos(c.head));if(Xe.gecko&&c.empty&&!this.hasComposition&&LL(f)){let m=document.createTextNode("");this.view.observer.ignore(()=>f.node.insertBefore(m,f.node.childNodes[f.offset]||null)),f=h=new vr(m,0),l=!0}let d=this.view.observer.selectionRange;(l||!d.focusNode||(!g0(f.node,f.offset,d.anchorNode,d.anchorOffset)||!g0(h.node,h.offset,d.focusNode,d.focusOffset))&&!this.suppressWidgetCursorChange(d,c))&&(this.view.observer.ignore(()=>{Xe.android&&Xe.chrome&&this.dom.contains(d.focusNode)&&HL(d.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let m=F0(this.view.root);if(m)if(c.empty){if(Xe.gecko){let g=PL(f.node,f.offset);if(g&&g!=3){let x=(g==1?n8:r8)(f.node,f.offset);x&&(f=new vr(x.node,x.offset))}}m.collapse(f.node,f.offset),c.bidiLevel!=null&&m.caretBidiLevel!==void 0&&(m.caretBidiLevel=c.bidiLevel)}else if(m.extend){m.collapse(f.node,f.offset);try{m.extend(h.node,h.offset)}catch{}}else{let g=document.createRange();c.anchor>c.head&&([f,h]=[h,f]),g.setEnd(h.node,h.offset),g.setStart(f.node,f.offset),m.removeAllRanges(),m.addRange(g)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(f,h)),this.impreciseAnchor=f.precise?null:new vr(d.anchorNode,d.anchorOffset),this.impreciseHead=h.precise?null:new vr(d.focusNode,d.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&g0(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=F0(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let l=In.find(this,t.head);if(!l)return;let c=l.posAtStart;if(t.head==c||t.head==c+l.length)return;let f=this.coordsAt(t.head,-1),h=this.coordsAt(t.head,1);if(!f||!h||f.bottom>h.top)return;let d=this.domAtPos(t.head+t.assoc);r.collapse(d.node,d.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=t.from&&r.collapse(i,s)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let i=e.offset;!r&&i<t.childNodes.length;i++){let s=tn.get(t.childNodes[i]);s instanceof In&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=tn.get(t.childNodes[i]);s instanceof In&&(r=s.domAtPos(s.length))}return r?new vr(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=tn.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof In)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let s=this.length,l=this.children.length-1;l>=0;l--){let c=this.children[l],f=s-c.breakAfter,h=f-c.length;if(f<e)break;if(h<=e&&(h<e||c.covers(-1))&&(f>e||c.covers(1))&&(!r||c instanceof In&&!(r instanceof In&&t>=0)))r=c,i=h;else if(r&&h==e&&f==e&&c instanceof Vs&&Math.abs(t)<2){if(c.deco.startSide<0)break;l&&(r=null)}s=h}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof In))return null;for(;i.children.length;){let{i:c,off:f}=i.childPos(r,1);for(;;c++){if(c==i.children.length)return null;if((i=i.children[c]).length)break}r=f}if(!(i instanceof qi))return null;let s=ur(i.text,r);if(s==r)return null;let l=Tl(i.dom,r,s).getClientRects();for(let c=0;c<l.length;c++){let f=l[c];if(c==l.length-1||f.top<f.bottom&&f.left<f.right)return f}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,f=this.view.textDirection==un.LTR;for(let h=0,d=0;d<this.children.length;d++){let m=this.children[d],g=h+m.length;if(g>i)break;if(h>=r){let x=m.dom.getBoundingClientRect();if(t.push(x.height),l){let S=m.dom.lastChild,b=S?Vo(S):[];if(b.length){let w=b[b.length-1],T=f?w.right-x.left:x.right-w.left;T>c&&(c=T,this.minWidth=s,this.minWidthFrom=h,this.minWidthTo=g)}}}h=g+m.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?un.RTL:un.LTR}measureTextSize(){for(let s of this.children)if(s instanceof In){let l=s.measureTextSize();if(l)return l}let e=document.createElement("div"),t,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Vo(e.firstChild)[0];t=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new i8(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],l=s?s.from-1:this.length;if(l>r){let c=(t.lineBlockAt(l).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(at.replace({widget:new o1(c),block:!0,inclusive:!0,isBlockGap:!0}).range(r,l))}if(!s)break;r=s.to+1}return at.set(e)}updateDeco(){let e=1,t=this.view.state.facet(M0).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(_8).map((s,l)=>{let c=typeof s=="function";return c&&(r=!0),c?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(Nt.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(C8))try{if(h(this.view,e.range,e))return!0}catch(d){Ur(this.view.state,d,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=Ev(this.view),l={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:c,offsetHeight:f}=this.view.scrollDOM;mL(this.view.scrollDOM,l,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,c),-c),Math.max(Math.min(e.yMargin,f),-f),this.view.textDirection==un.LTR)}lineHasWidget(e){let{i:t}=this.childCursor().findPos(e);if(t==this.children.length)return!1;let r=i=>i instanceof js||i.children.some(r);return r(this.children[t])}}function LL(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function O8(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=n8(t.focusNode,t.focusOffset),i=r8(t.focusNode,t.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let c=tn.get(i.node);if(!c||c instanceof qi&&c.text!=i.node.nodeValue)s=i;else if(n.docView.lastCompositionAfterCursor){let f=tn.get(r.node);!f||f instanceof qi&&f.text!=r.node.nodeValue||(s=i)}}if(n.docView.lastCompositionAfterCursor=s!=r,!s)return null;let l=e-s.offset;return{from:l,to:l+s.node.nodeValue.length,node:s.node}}function IL(n,e,t){let r=O8(n,t);if(!r)return null;let{node:i,from:s,to:l}=r,c=i.nodeValue;if(/[\n\r]/.test(c)||n.state.doc.sliceString(r.from,r.to)!=c)return null;let f=e.invertedDesc,h=new Oi(f.mapPos(s),f.mapPos(l),s,l),d=[];for(let m=i.parentNode;;m=m.parentNode){let g=tn.get(m);if(g instanceof Xs)d.push({node:m,deco:g.mark});else{if(g instanceof In||m.nodeName=="DIV"&&m.parentNode==n.contentDOM)return{range:h,text:i,marks:d,line:m};if(m!=n.contentDOM)d.push({node:m,deco:new af({inclusive:!0,attributes:CL(m),tagName:m.tagName.toLowerCase()})});else return null}}}function PL(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let jL=class{constructor(){this.changes=[]}compareRange(e,t){Kh(e,t,this.changes)}comparePoint(e,t){Kh(e,t,this.changes)}boundChange(e){Kh(e,e,this.changes)}};function zL(n,e,t){let r=new jL;return Nt.compare(n,e,t,r),r.changes}function HL(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function UL(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}function VL(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),s=e-i.from;if(i.length==0)return De.cursor(e);s==0?t=1:s==i.length&&(t=-1);let l=s,c=s;t<0?l=ur(i.text,s,!1):c=ur(i.text,s);let f=r(i.text.slice(l,c));for(;l>0;){let h=ur(i.text,l,!1);if(r(i.text.slice(h,l))!=f)break;l=h}for(;c<i.length;){let h=ur(i.text,c);if(r(i.text.slice(c,h))!=f)break;c=h}return De.range(l+i.from,c+i.from)}function qL(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function WL(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function tx(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function Hw(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function Uw(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function d1(n,e,t){let r,i,s,l,c=!1,f,h,d,m;for(let S=n.firstChild;S;S=S.nextSibling){let b=Vo(S);for(let w=0;w<b.length;w++){let T=b[w];i&&tx(i,T)&&(T=Hw(Uw(T,i.bottom),i.top));let A=qL(e,T),C=WL(t,T);if(A==0&&C==0)return S.nodeType==3?Vw(S,e,t):d1(S,e,t);(!r||l>C||l==C&&s>A)&&(r=S,i=T,s=A,l=C,c=A?e<T.left?w>0:w<b.length-1:!0),A==0?t>T.bottom&&(!d||d.bottom<T.bottom)?(f=S,d=T):t<T.top&&(!m||m.top>T.top)&&(h=S,m=T):d&&tx(d,T)?d=Uw(d,T.bottom):m&&tx(m,T)&&(m=Hw(m,T.top))}}if(d&&d.bottom>=t?(r=f,i=d):m&&m.top<=t&&(r=h,i=m),!r)return{node:n,offset:0};let g=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return Vw(r,g,t);if(c&&r.contentEditable!="false")return d1(r,g,t);let x=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:x}}function Vw(n,e,t){let r=n.nodeValue.length,i=-1,s=1e9,l=0;for(let c=0;c<r;c++){let f=Tl(n,c,c+1).getClientRects();for(let h=0;h<f.length;h++){let d=f[h];if(d.top==d.bottom)continue;l||(l=e-d.left);let m=(d.top>t?d.top-t:t-d.bottom)-1;if(d.left-1<=e&&d.right+1>=e&&m<s){let g=e>=(d.left+d.right)/2,x=g;if(Xe.chrome||Xe.gecko){let S=Tl(n,c).getBoundingClientRect();Math.abs(S.left-d.right)<.1&&(x=!g)}if(m<=0)return{node:n,offset:c+(x?1:0)};i=c+(x?1:0),s=m}}}return{node:n,offset:i>-1?i:l>0?n.nodeValue.length:0}}function B8(n,e,t,r=-1){var i,s;let l=n.contentDOM.getBoundingClientRect(),c=l.top+n.viewState.paddingTop,f,{docHeight:h}=n.viewState,{x:d,y:m}=e,g=m-c;if(g<0)return 0;if(g>h)return n.state.doc.length;for(let _=n.viewState.heightOracle.textHeight/2,B=!1;f=n.elementAtHeight(g),f.type!=Dr.Text;)for(;g=r>0?f.bottom+_:f.top-_,!(g>=0&&g<=h);){if(B)return t?null:0;B=!0,r=-r}m=c+g;let x=f.from;if(x<n.viewport.from)return n.viewport.from==0?0:t?null:qw(n,l,f,d,m);if(x>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:qw(n,l,f,d,m);let S=n.dom.ownerDocument,b=n.root.elementFromPoint?n.root:S,w=b.elementFromPoint(d,m);w&&!n.contentDOM.contains(w)&&(w=null),w||(d=Math.max(l.left+1,Math.min(l.right-1,d)),w=b.elementFromPoint(d,m),w&&!n.contentDOM.contains(w)&&(w=null));let T,A=-1;if(w&&((i=n.docView.nearest(w))===null||i===void 0?void 0:i.isEditable)!=!1){if(S.caretPositionFromPoint){let _=S.caretPositionFromPoint(d,m);_&&({offsetNode:T,offset:A}=_)}else if(S.caretRangeFromPoint){let _=S.caretRangeFromPoint(d,m);_&&({startContainer:T,startOffset:A}=_)}T&&(!n.contentDOM.contains(T)||Xe.safari&&GL(T,A,d)||Xe.chrome&&XL(T,A,d))&&(T=void 0),T&&(A=Math.min(gs(T),A))}if(!T||!n.docView.dom.contains(T)){let _=In.find(n.docView,x);if(!_)return g>f.top+f.height/2?f.to:f.from;({node:T,offset:A}=d1(_.dom,d,m))}let C=n.docView.nearest(T);if(!C)return null;if(C.isWidget&&((s=C.dom)===null||s===void 0?void 0:s.nodeType)==1){let _=C.dom.getBoundingClientRect();return e.y<_.top||e.y<=_.bottom&&e.x<=(_.left+_.right)/2?C.posAtStart:C.posAtEnd}else return C.localPosFromDOM(T,A)+C.posAtStart}function qw(n,e,t,r,i){let s=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let c=n.viewState.heightOracle.textHeight,f=Math.floor((i-t.top-(n.defaultLineHeight-c)*.5)/c);s+=f*n.viewState.heightOracle.lineLength}let l=n.state.sliceDoc(t.from,t.to);return t.from+Zx(l,s,n.state.tabSize)}function N8(n,e,t){let r,i=n;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(;;){let s=i.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let l=i.parentNode;if(!l||l.nodeName=="DIV")break;i=l}}return Tl(n,r-1,r).getBoundingClientRect().right>t}function GL(n,e,t){return N8(n,e,t)}function XL(n,e,t){if(e!=0)return N8(n,e,t);for(let i=n;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=n.nodeType==1?n.getBoundingClientRect():Tl(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function p1(n,e,t){let r=n.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let s of r.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==Dr.Text&&(i.type!=s.type||(t<0?s.from<e:s.to>e)))&&(i=s)}}return i||r}return r}function $L(n,e,t,r){let i=p1(n,e.head,e.assoc||-1),s=!r||i.type!=Dr.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let l=n.dom.getBoundingClientRect(),c=n.textDirectionAt(i.from),f=n.posAtCoords({x:t==(c==un.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(f!=null)return De.cursor(f,t?-1:1)}return De.cursor(t?i.to:i.from,t?-1:1)}function Ww(n,e,t,r){let i=n.state.doc.lineAt(e.head),s=n.bidiSpans(i),l=n.textDirectionAt(i.from);for(let c=e,f=null;;){let h=RL(i,s,l,c,t),d=m8;if(!h){if(i.number==(t?n.state.doc.lines:1))return c;d=`
`,i=n.state.doc.line(i.number+(t?1:-1)),s=n.bidiSpans(i),h=n.visualLineSide(i,!t)}if(f){if(!f(d))return c}else{if(!r)return h;f=r(d)}c=h}}function YL(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return s=>{let l=r(s);return i==xn.Space&&(i=l),i==l}}function KL(n,e,t,r){let i=e.head,s=t?1:-1;if(i==(t?n.state.doc.length:0))return De.cursor(i,e.assoc);let l=e.goalColumn,c,f=n.contentDOM.getBoundingClientRect(),h=n.coordsAtPos(i,e.assoc||-1),d=n.documentTop;if(h)l==null&&(l=h.left-f.left),c=s<0?h.top:h.bottom;else{let x=n.viewState.lineBlockAt(i);l==null&&(l=Math.min(f.right-f.left,n.defaultCharacterWidth*(i-x.from))),c=(s<0?x.top:x.bottom)+d}let m=f.left+l,g=r??n.viewState.heightOracle.textHeight>>1;for(let x=0;;x+=10){let S=c+(g+x)*s,b=B8(n,{x:m,y:S},!1,s);if(S<f.top||S>f.bottom||(s<0?b<i:b>i)){let w=n.docView.coordsForChar(b),T=!w||S<w.top?-1:1;return De.cursor(b,T,void 0,l)}}}function v0(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(s,l,c)=>{if(e>s&&e<l){let f=r||t||(e-s<l-e?-1:1);e=f<0?s:l,r=f}});if(!r)return e}}function R8(n,e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let l=v0(n,i.from,0);l!=i.from&&(s=De.cursor(l,-1))}else{let l=v0(n,i.from,-1),c=v0(n,i.to,1);(l!=i.from||c!=i.to)&&(s=De.range(i.from==i.anchor?l:c,i.from==i.head?l:c))}s&&(t||(t=e.ranges.slice()),t[r]=s)}return t?De.create(t,e.mainIndex):e}function nx(n,e,t){let r=v0(n.state.facet(of).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:De.cursor(r,r<t.from?1:-1)}const i0="";class QL{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Dt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=i0}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let l=i.nextSibling;if(l==t)break;let c=tn.get(i),f=tn.get(l);(c&&f?c.breakAfter:(c?c.breakAfter:Ed(i))||Ed(l)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&!JL(l,t)&&this.lineBreak(),i=l}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,l=1,c;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),l=this.lineSeparator.length):(c=i.exec(t))&&(s=c.index,l=c[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),l>1)for(let f of this.points)f.node==e&&f.pos>this.text.length&&(f.pos-=l-1);r=s+l}}readNode(e){if(e.cmIgnore)return;let t=tn.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(ZL(e,r.node,r.offset)?t:0))}}function ZL(n,e,t){for(;;){if(!e||t<gs(e))return!1;if(e==n)return!0;t=Al(e)+1,e=e.parentNode}}function JL(n,e){let t;for(;!(n==e||!n);n=n.nextSibling){let r=tn.get(n);if(!(r?.isWidget||n.cmIgnore))return!1;r&&(t||(t=[])).push(r)}if(t)for(let r of t){let i=r.overrideDOMText;if(i?.length)return!1}return!0}class Gw{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class eI{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let c=s||l?[]:nI(e),f=new QL(c,e.state);f.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=f.text,this.newSel=rI(c,this.bounds.from)}else{let c=e.observer.selectionRange,f=s&&s.node==c.focusNode&&s.offset==c.focusOffset||!s1(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),h=l&&l.node==c.anchorNode&&l.offset==c.anchorOffset||!s1(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset),d=e.viewport;if((Xe.ios||Xe.chrome)&&e.state.selection.main.empty&&f!=h&&(d.from>0||d.to<e.state.doc.length)){let m=Math.min(f,h),g=Math.max(f,h),x=d.from-m,S=d.to-g;(x==0||x==1||m==0)&&(S==0||S==-1||g==e.state.doc.length)&&(f=0,h=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(De.range(h,f)):this.newSel=De.single(h,f)}}}function F8(n,e){let t,{newSel:r}=e,i=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:c}=e.bounds,f=i.from,h=null;(s===8||Xe.android&&e.text.length<c-l)&&(f=i.to,h="end");let d=M8(n.state.doc.sliceString(l,c,i0),e.text,f-l,h);d&&(Xe.chrome&&s==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==i0+i0&&d.toB--,t={from:l+d.from,to:l+d.toA,insert:Rt.of(e.text.slice(d.from,d.toB).split(i0))})}else r&&(!n.hasFocus&&n.state.facet(Ps)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:(Xe.mac||Xe.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=De.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:Rt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:n.state.doc.lineAt(i.from).to<i.to&&n.docView.lineHasWidget(i.to)&&n.inputState.insertingTextAt>Date.now()-50?t={from:i.from,to:i.to,insert:n.state.toText(n.inputState.insertingText)}:Xe.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=De.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Rt.of([" "])}),t)return Cv(n,t,r,s);if(r&&!r.main.eq(i)){let l=!1,c="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(l=!0),c=n.inputState.lastSelectionOrigin,c=="select.pointer"&&(r=R8(n.state.facet(of).map(f=>f(n)),r))),n.dispatch({selection:r,scrollIntoView:l,userEvent:c}),!0}else return!1}function Cv(n,e,t,r=-1){if(Xe.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(Xe.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Mo(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Mo(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Mo(n.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let l,c=()=>l||(l=tI(n,e,t));return n.state.facet(b8).some(f=>f(n,e.from,e.to,s,c))||n.dispatch(c()),!0}function tI(n,e,t){let r,i=n.state,s=i.selection.main,l=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let f=e.from<s.from?-1:1,h=f<0?s.from:s.to,d=v0(i.facet(of).map(m=>m(n)),h,f);e.from==d&&(l=d)}if(l>-1)r={changes:e,selection:De.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let f=s.from<e.from?i.sliceDoc(s.from,e.from):"",h=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(n.state.toText(f+e.insert.sliceString(0,void 0,n.state.lineBreak)+h))}else{let f=i.changes(e),h=t&&t.main.to<=f.newLength?t.main:void 0;if(i.selection.ranges.length>1&&(n.inputState.composing>=0||n.inputState.compositionPendingChange)&&e.to<=s.to+10&&e.to>=s.to-10){let d=n.state.sliceDoc(e.from,e.to),m,g=t&&O8(n,t.main.head);if(g){let S=e.insert.length-(e.to-e.from);m={from:g.from,to:g.to-S}}else m=n.state.doc.lineAt(s.head);let x=s.to-e.to;r=i.changeByRange(S=>{if(S.from==s.from&&S.to==s.to)return{changes:f,range:h||S.map(f)};let b=S.to-x,w=b-d.length;if(n.state.sliceDoc(w,b)!=d||b>=m.from&&w<=m.to)return{range:S};let T=i.changes({from:w,to:b,insert:e.insert}),A=S.to-s.to;return{changes:T,range:h?De.range(Math.max(0,h.anchor+A),Math.max(0,h.head+A)):S.map(T)}})}else r={changes:f,selection:h&&i.selection.replaceRange(h)}}let c="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,c+=".compose",n.inputState.compositionFirstChange&&(c+=".start",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:c,scrollIntoView:!0})}function M8(n,e,t,r){let i=Math.min(n.length,e.length),s=0;for(;s<i&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&n.length==e.length)return null;let l=n.length,c=e.length;for(;l>0&&c>0&&n.charCodeAt(l-1)==e.charCodeAt(c-1);)l--,c--;if(r=="end"){let f=Math.max(0,s-Math.min(l,c));t-=l+f-s}if(l<s&&n.length<e.length){let f=t<=s&&t>=l?s-t:0;s-=f,c=s+(c-l),l=s}else if(c<s){let f=t<=s&&t>=c?s-t:0;s-=f,l=s+(l-c),c=s}return{from:s,toA:l,toB:c}}function nI(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new Gw(t,r)),(i!=t||s!=r)&&e.push(new Gw(i,s))),e}function rI(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?De.single(t+e,r+e):null}class iI{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Xe.safari&&e.contentDOM.addEventListener("input",()=>null),Xe.gecko&&bI(e.contentDOM.ownerDocument)}handleEvent(e){!hI(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=sI(e),r=this.handlers,i=this.view.contentDOM;for(let s in t)if(s!="scroll"){let l=!t[s].handlers.length,c=r[s];c&&l!=!c.handlers.length&&(i.removeEventListener(s,this.handleEvent),c=null),c||i.addEventListener(s,this.handleEvent,{passive:l})}for(let s in r)s!="scroll"&&!t[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&I8.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Xe.android&&Xe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return Xe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=L8.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||aI.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Mo(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:Xe.safari&&!Xe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Xw(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){Ur(t.state,i)}}}function sI(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec,s=i&&i.plugin.domEventHandlers,l=i&&i.plugin.domEventObservers;if(s)for(let c in s){let f=s[c];f&&t(c).handlers.push(Xw(r.value,f))}if(l)for(let c in l){let f=l[c];f&&t(c).observers.push(Xw(r.value,f))}}for(let r in Wi)t(r).handlers.push(Wi[r]);for(let r in Ni)t(r).observers.push(Ni[r]);return e}const L8=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],aI="dthko",I8=[16,17,18,20,91,92,224,225],Uu=6;function Vu(n){return Math.max(0,n)*.7+8}function lI(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class oI{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=gL(e.contentDOM),this.atoms=e.state.facet(of).map(l=>l(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Dt.allowMultipleSelections)&&cI(e,t),this.dragging=uI(e,t)&&z8(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&lI(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,s=0,l=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:c}=this.scrollParents.y.getBoundingClientRect());let f=Ev(this.view);e.clientX-f.left<=i+Uu?t=-Vu(i-e.clientX):e.clientX+f.right>=l-Uu&&(t=Vu(e.clientX-l)),e.clientY-f.top<=s+Uu?r=-Vu(s-e.clientY):e.clientY+f.bottom>=c-Uu&&(r=Vu(e.clientY-c)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,r=R8(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function cI(n,e){let t=n.state.facet(g8);return t.length?t[0](e):Xe.mac?e.metaKey:e.ctrlKey}function fI(n,e){let t=n.state.facet(x8);return t.length?t[0](e):Xe.mac?!e.altKey:!e.ctrlKey}function uI(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=F0(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let l=i[s];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function hI(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=tn.get(t))&&r.ignoreEvent(e))return!1;return!0}const Wi=Object.create(null),Ni=Object.create(null),P8=Xe.ie&&Xe.ie_version<15||Xe.ios&&Xe.webkit_version<604;function dI(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),j8(n,t.value)},50)}function up(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function j8(n,e){e=up(n.state,bv,e);let{state:t}=n,r,i=1,s=t.toText(e),l=s.lines==t.selection.ranges.length;if(m1!=null&&t.selection.ranges.every(f=>f.empty)&&m1==s.toString()){let f=-1;r=t.changeByRange(h=>{let d=t.doc.lineAt(h.from);if(d.from==f)return{range:h};f=d.from;let m=t.toText((l?s.line(i++).text:e)+t.lineBreak);return{changes:{from:d.from,insert:m},range:De.cursor(h.from+m.length)}})}else l?r=t.changeByRange(f=>{let h=s.line(i++);return{changes:{from:f.from,to:f.to,insert:h.text},range:De.cursor(f.from+h.length)}}):r=t.replaceSelection(s);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Ni.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Wi.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Ni.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Ni.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Wi.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(v8))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=gI(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new oI(n,e,t,r)),r&&n.observer.ignore(()=>{J3(n.contentDOM);let s=n.root.activeElement;s&&!s.contains(n.contentDOM)&&s.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else n.inputState.setSelectionOrigin("select.pointer");return!1};function $w(n,e,t,r){if(r==1)return De.cursor(e,t);if(r==2)return VL(n.state,e,t);{let i=In.find(n.docView,e),s=n.state.doc.lineAt(i?i.posAtEnd:e),l=i?i.posAtStart:s.from,c=i?i.posAtEnd:s.to;return c<n.state.doc.length&&c==s.to&&c++,De.range(l,c)}}let Yw=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function pI(n,e,t,r){let i=In.find(n.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let l=i.coordsAt(s,-1);if(l&&Yw(t,r,l))return-1;let c=i.coordsAt(s,1);return c&&Yw(t,r,c)?1:l&&l.bottom>=r?-1:1}function Kw(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:pI(n,t,e.clientX,e.clientY)}}const mI=Xe.ie&&Xe.ie_version<=11;let Qw=null,Zw=0,Jw=0;function z8(n){if(!mI)return n.detail;let e=Qw,t=Jw;return Qw=n,Jw=Date.now(),Zw=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(Zw+1)%3:1}function gI(n,e){let t=Kw(n,e),r=z8(e),i=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,l,c){let f=Kw(n,s),h,d=$w(n,f.pos,f.bias,r);if(t.pos!=f.pos&&!l){let m=$w(n,t.pos,t.bias,r),g=Math.min(m.from,d.from),x=Math.max(m.to,d.to);d=g<d.from?De.range(g,x):De.range(x,g)}return l?i.replaceRange(i.main.extend(d.from,d.to)):c&&r==1&&i.ranges.length>1&&(h=xI(i,f.pos))?h:c?i.addRange(d):De.create([d])}}}function xI(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return De.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Wi.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,l=s+i.length;(s>=t.to||l<=t.from)&&(t=De.range(s,l))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",up(n.state,Sv,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Wi.dragend=n=>(n.inputState.draggedContent=null,!1);function eE(n,e,t,r){if(t=up(n.state,bv,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,l=r&&s&&fI(n,e)?{from:s.from,to:s.to}:null,c={from:i,insert:t},f=n.state.changes(l?[l,c]:c);n.focus(),n.dispatch({changes:f,selection:{anchor:f.mapPos(i,-1),head:f.mapPos(i,1)},userEvent:l?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Wi.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,s=()=>{++i==t.length&&eE(n,e,r.filter(l=>l!=null).join(n.state.lineBreak),!1)};for(let l=0;l<t.length;l++){let c=new FileReader;c.onerror=s,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(r[l]=c.result),s()},c.readAsText(t[l])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return eE(n,e,r,!0),!0}return!1};Wi.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=P8?null:e.clipboardData;return t?(j8(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(dI(n),!1)};function vI(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function yI(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of n.selection.ranges){let l=n.doc.lineAt(s);l.number>i&&(e.push(l.text),t.push({from:l.from,to:Math.min(n.doc.length,l.to+1)})),i=l.number}r=!0}return{text:up(n,Sv,e.join(n.lineBreak)),ranges:t,linewise:r}}let m1=null;Wi.copy=Wi.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=yI(n.state);if(!t&&!i)return!1;m1=i?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=P8?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(vI(n,t),!1)};const H8=xs.define();function U8(n,e){let t=[];for(let r of n.facet(S8)){let i=r(n,e);i&&t.push(i)}return t.length?n.update({effects:t,annotations:H8.of(!0)}):null}function V8(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=U8(n.state,e);t?n.dispatch(t):n.update([])}},10)}Ni.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),V8(n)};Ni.blur=n=>{n.observer.clearSelectionRange(),V8(n)};Ni.compositionstart=Ni.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Ni.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,Xe.chrome&&Xe.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Ni.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Wi.beforeinput=(n,e)=>{var t,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(n.inputState.insertingText=e.data,n.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&n.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),l=e.getTargetRanges();if(s&&l.length){let c=l[0],f=n.posAtDOM(c.startContainer,c.startOffset),h=n.posAtDOM(c.endContainer,c.endOffset);return Cv(n,{from:f,to:h,insert:n.state.toText(s)},null),!0}}let i;if(Xe.chrome&&Xe.android&&(i=L8.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return Xe.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),Xe.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Ni.compositionend(n,e),20),!1};const tE=new Set;function bI(n){tE.has(n)||(tE.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const nE=["pre-wrap","normal","pre-line","break-spaces"];let Go=!1;function rE(){Go=!1}class SI{constructor(e){this.lineWrapping=e,this.doc=Rt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return nE.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,s,l){let c=nE.indexOf(e)>-1,f=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=s,f){this.heightSamples={};for(let h=0;h<l.length;h++){let d=l[h];d<0?h++:this.heightSamples[Math.floor(d*10)]=!0}}return f}}class wI{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class us{constructor(e,t,r,i,s){this.from=e,this.length=t,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Dr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ia?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new us(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var fn=(function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n})(fn||(fn={}));const Qh=.001;class kr{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Qh&&(Go=!0),this.height=e)}replace(e,t,r){return kr.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let s=this,l=r.doc;for(let c=i.length-1;c>=0;c--){let{fromA:f,toA:h,fromB:d,toB:m}=i[c],g=s.lineAt(f,fn.ByPosNoHeight,r.setDoc(t),0,0),x=g.to>=h?g:s.lineAt(h,fn.ByPosNoHeight,r,0,0);for(m+=x.to-h,h=x.to;c>0&&g.from<=i[c-1].toA;)f=i[c-1].fromA,d=i[c-1].fromB,c--,f<g.from&&(g=s.lineAt(f,fn.ByPosNoHeight,r,0,0));d+=g.from-f,f=g.from;let S=Av.build(r.setDoc(l),e,d,m);s=Td(s,s.replace(f,h,S))}return s.updateHeight(r,0)}static empty(){return new ai(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,s=0;for(;;)if(t==r)if(i>s*2){let c=e[t-1];c.break?e.splice(--t,1,c.left,null,c.right):e.splice(--t,1,c.left,c.right),r+=1+c.break,i-=c.size}else if(s>i*2){let c=e[r];c.break?e.splice(r,1,c.left,null,c.right):e.splice(r,1,c.left,c.right),r+=2+c.break,s-=c.size}else break;else if(i<s){let c=e[t++];c&&(i+=c.size)}else{let c=e[--r];c&&(s+=c.size)}let l=0;return e[t-1]==null?(l=1,t--):e[t]==null&&(l=1,r++),new EI(kr.of(e.slice(0,t)),l,kr.of(e.slice(r)))}}function Td(n,e){return n==e?n:(n.constructor!=e.constructor&&(Go=!0),e)}kr.prototype.size=1;class q8 extends kr{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new us(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,t,r,i,s,l){e<=s+this.length&&t>=s&&l(this.blockAt(0,r,i,s))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ai extends q8{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new us(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof ai||i instanceof ar&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof ar?i=new ai(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):kr.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ar extends kr{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-r+1,l,c=0;if(e.lineWrapping){let f=Math.min(this.height,e.lineHeight*s);l=f/s,this.length>s+1&&(c=(this.height-f)/(this.length-s-1))}else l=this.height/s;return{firstLine:r,lastLine:i,perLine:l,perChar:c}}blockAt(e,t,r,i){let{firstLine:s,lastLine:l,perLine:c,perChar:f}=this.heightMetrics(t,i);if(t.lineWrapping){let h=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),d=t.doc.lineAt(h),m=c+d.length*f,g=Math.max(r,e-m/2);return new us(d.from,d.length,g,m,0)}else{let h=Math.max(0,Math.min(l-s,Math.floor((e-r)/c))),{from:d,length:m}=t.doc.line(s+h);return new us(d,m,r+c*h,c,0)}}lineAt(e,t,r,i,s){if(t==fn.ByHeight)return this.blockAt(e,r,i,s);if(t==fn.ByPosNoHeight){let{from:x,to:S}=r.doc.lineAt(e);return new us(x,S-x,0,0,0)}let{firstLine:l,perLine:c,perChar:f}=this.heightMetrics(r,s),h=r.doc.lineAt(e),d=c+h.length*f,m=h.number-l,g=i+c*m+f*(h.from-s-m);return new us(h.from,h.length,Math.max(i,Math.min(g,i+this.height-d)),d,0)}forEachLine(e,t,r,i,s,l){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:c,perLine:f,perChar:h}=this.heightMetrics(r,s);for(let d=e,m=i;d<=t;){let g=r.doc.lineAt(d);if(d==e){let S=g.number-c;m+=f*S+h*(e-s-S)}let x=f+h*g.length;l(new us(g.from,g.length,m,x,0)),m+=x,d=g.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let s=r[r.length-1];s instanceof ar?r[r.length-1]=new ar(s.length+i):r.push(null,new ar(i-1))}if(e>0){let s=r[0];s instanceof ar?r[0]=new ar(e+s.length):r.unshift(new ar(e-1),null)}return kr.of(r)}decomposeLeft(e,t){t.push(new ar(e-1),null)}decomposeRight(e,t){t.push(null,new ar(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let l=[],c=Math.max(t,i.from),f=-1;for(i.from>t&&l.push(new ar(i.from-t-1).updateHeight(e,t));c<=s&&i.more;){let d=e.doc.lineAt(c).length;l.length&&l.push(null);let m=i.heights[i.index++];f==-1?f=m:Math.abs(m-f)>=Qh&&(f=-2);let g=new ai(d,m);g.outdated=!1,l.push(g),c+=d+1}c<=s&&l.push(null,new ar(s-c).updateHeight(e,c));let h=kr.of(l);return(f<0||Math.abs(h.height-this.height)>=Qh||Math.abs(f-this.heightMetrics(e,t).perLine)>=Qh)&&(Go=!0),Td(this,h)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class EI extends kr{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,r,i,s){let l=i+this.left.height,c=s+this.left.length+this.break,f=t==fn.ByHeight?e<l:e<c,h=f?this.left.lineAt(e,t,r,i,s):this.right.lineAt(e,t,r,l,c);if(this.break||(f?h.to<c:h.from>c))return h;let d=t==fn.ByPosNoHeight?fn.ByPosNoHeight:fn.ByPos;return f?h.join(this.right.lineAt(c,d,r,l,c)):this.left.lineAt(c,d,r,i,s).join(h)}forEachLine(e,t,r,i,s,l){let c=i+this.left.height,f=s+this.left.length+this.break;if(this.break)e<f&&this.left.forEachLine(e,t,r,i,s,l),t>=f&&this.right.forEachLine(e,t,r,c,f,l);else{let h=this.lineAt(f,fn.ByPos,r,i,s);e<h.from&&this.left.forEachLine(e,h.from-1,r,i,s,l),h.to>=e&&h.from<=t&&l(h),t>h.to&&this.right.forEachLine(h.to+1,t,r,c,f,l)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let l=s.length;for(let c of r)s.push(c);if(e>0&&iE(s,l-1),t<this.length){let c=s.length;this.decomposeRight(t,s),iE(s,c)}return kr.of(s)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?kr.of(this.break?[e,null,t]:[e,t]):(this.left=Td(this.left,e),this.right=Td(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:s,right:l}=this,c=t+s.length+this.break,f=null;return i&&i.from<=t+s.length&&i.more?f=s=s.updateHeight(e,t,r,i):s.updateHeight(e,t,r),i&&i.from<=c+l.length&&i.more?f=l=l.updateHeight(e,c,r,i):l.updateHeight(e,c,r),f?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function iE(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof ar&&(r=n[e+1])instanceof ar&&n.splice(e-1,3,new ar(t.length+1+r.length))}const CI=5;class Av{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof ai?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new ai(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let l=t-e;r.block?this.addBlock(new q8(l,i,r)):(l||s||i>=CI)&&this.addLineDeco(i,s,l)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ai(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new ar(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ai)return e;let t=new ai(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof ai)&&!this.isCovered?this.nodes.push(new ai(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof ai&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let s=new Av(r,e);return Nt.spans(t,r,i,s,0),s.finish(r)}}function AI(n,e,t){let r=new TI;return Nt.compare(n,e,t,r,0),r.changes}class TI{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&Kh(e,t,this.changes,5)}}function _I(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,s=Math.max(0,t.left),l=Math.min(i.innerWidth,t.right),c=Math.max(0,t.top),f=Math.min(i.innerHeight,t.bottom);for(let h=n.parentNode;h&&h!=r.body;)if(h.nodeType==1){let d=h,m=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&m.overflow!="visible"){let g=d.getBoundingClientRect();s=Math.max(s,g.left),l=Math.min(l,g.right),c=Math.max(c,g.top),f=Math.min(h==n.parentNode?i.innerHeight:f,g.bottom)}h=m.position=="absolute"||m.position=="fixed"?d.offsetParent:d.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:s-t.left,right:Math.max(s,l)-t.left,top:c-(t.top+e),bottom:Math.max(c,f)-(t.top+e)}}function DI(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function kI(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class rx{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,t){return at.replace({widget:new OI(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class OI extends Ks{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class sE{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=aE,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=un.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(wv).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new SI(t),this.stateDeco=e.facet(M0).filter(r=>typeof r!="function"),this.heightMap=kr.empty().applyChanges(this.stateDeco,Rt.empty,this.heightOracle.setDoc(e.doc),[new Oi(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=at.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:s,to:l})=>i>=s&&i<=l)){let{from:s,to:l}=this.lineBlockAt(i);e.push(new qu(s,l))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?aE:new Tv(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(s0(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(M0).filter(d=>typeof d!="function");let i=e.changedRanges,s=Oi.extendWithRanges(i,AI(r,this.stateDeco,e?e.changes:Vn.empty(this.state.doc.length))),l=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);rE(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=l||Go)&&(e.flags|=2),c?(this.scrollAnchorPos=e.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=l);let f=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<f.from||t.range.head>f.to)||!this.viewportIsAppropriate(f))&&(f=this.getViewport(0,t));let h=f.from!=this.viewport.from||f.to!=this.viewport.to;this.viewport=f,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(E8)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?un.RTL:un.LTR;let l=this.heightOracle.mustRefreshForWrapping(s),c=t.getBoundingClientRect(),f=l||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let h=0,d=0;if(c.width&&c.height){let{scaleX:_,scaleY:B}=Z3(t,c);(_>.005&&Math.abs(this.scaleX-_)>.005||B>.005&&Math.abs(this.scaleY-B)>.005)&&(this.scaleX=_,this.scaleY=B,h|=16,l=f=!0)}let m=(parseInt(r.paddingTop)||0)*this.scaleY,g=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=g)&&(this.paddingTop=m,this.paddingBottom=g,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(f=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let x=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=x&&(this.scrollAnchorHeight=-1,this.scrollTop=x),this.scrolledToBottom=t8(e.scrollDOM);let S=(this.printing?kI:_I)(t,this.paddingTop),b=S.top-this.pixelViewport.top,w=S.bottom-this.pixelViewport.bottom;this.pixelViewport=S;let T=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(T!=this.inView&&(this.inView=T,T&&(f=!0)),!this.inView&&!this.scrollTarget&&!DI(e.dom))return 0;let A=c.width;if((this.contentDOMWidth!=A||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),f){let _=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(_)&&(l=!0),l||i.lineWrapping&&Math.abs(A-this.contentDOMWidth)>i.charWidth){let{lineHeight:B,charWidth:N,textHeight:O}=e.docView.measureTextSize();l=B>0&&i.refresh(s,B,N,O,Math.max(5,A/N),_),l&&(e.docView.minWidth=0,h|=16)}b>0&&w>0?d=Math.max(b,w):b<0&&w<0&&(d=Math.min(b,w)),rE();for(let B of this.viewports){let N=B.from==this.viewport.from?_:e.docView.measureVisibleLineHeights(B);this.heightMap=(l?kr.empty().applyChanges(this.stateDeco,Rt.empty,this.heightOracle,[new Oi(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,l,new wI(B.from,N))}Go&&(h|=2)}let C=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return C&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),h|=this.updateForViewport()),(h&2||C)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:l,visibleBottom:c}=this,f=new qu(i.lineAt(l-r*1e3,fn.ByHeight,s,0,0).from,i.lineAt(c+(1-r)*1e3,fn.ByHeight,s,0,0).to);if(t){let{head:h}=t.range;if(h<f.from||h>f.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=i.lineAt(h,fn.ByPos,s,0,0),g;t.y=="center"?g=(m.top+m.bottom)/2-d/2:t.y=="start"||t.y=="nearest"&&h<f.from?g=m.top:g=m.bottom-d,f=new qu(i.lineAt(g-1e3/2,fn.ByHeight,s,0,0).from,i.lineAt(g+d+1e3/2,fn.ByHeight,s,0,0).to)}}return f}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new qu(this.heightMap.lineAt(r,fn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,fn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,fn.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,fn.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:c}=this;return(e==0||i<=l-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||s>=c+Math.max(10,Math.min(r,250)))&&i>l-2*1e3&&s<c+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new rx(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,l=i<<1;if(this.defaultTextDirection!=un.LTR&&!r)return[];let c=[],f=(d,m,g,x)=>{if(m-d<s)return;let S=this.state.selection.main,b=[S.from];S.empty||b.push(S.to);for(let T of b)if(T>d&&T<m){f(d,T-10,g,x),f(T+10,m,g,x);return}let w=NI(e,T=>T.from>=g.from&&T.to<=g.to&&Math.abs(T.from-d)<s&&Math.abs(T.to-m)<s&&!b.some(A=>T.from<A&&T.to>A));if(!w){if(m<g.to&&t&&r&&t.visibleRanges.some(C=>C.from<=m&&C.to>=m)){let C=t.moveToLineBoundary(De.cursor(m),!1,!0).head;C>d&&(m=C)}let T=this.gapSize(g,d,m,x),A=r||T<2e6?T:2e6;w=new rx(d,m,T,A)}c.push(w)},h=d=>{if(d.length<l||d.type!=Dr.Text)return;let m=BI(d.from,d.to,this.stateDeco);if(m.total<l)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,x,S;if(r){let b=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,T;if(g!=null){let A=Gu(m,g),C=((this.visibleBottom-this.visibleTop)/2+b)/d.height;w=A-C,T=A+C}else w=(this.visibleTop-d.top-b)/d.height,T=(this.visibleBottom-d.top+b)/d.height;x=Wu(m,w),S=Wu(m,T)}else{let b=m.total*this.heightOracle.charWidth,w=i*this.heightOracle.charWidth,T=0;if(b>2e6)for(let N of e)N.from>=d.from&&N.from<d.to&&N.size!=N.displaySize&&N.from*this.heightOracle.charWidth+T<this.pixelViewport.left&&(T=N.size-N.displaySize);let A=this.pixelViewport.left+T,C=this.pixelViewport.right+T,_,B;if(g!=null){let N=Gu(m,g),O=((C-A)/2+w)/b;_=N-O,B=N+O}else _=(A-w)/b,B=(C+w)/b;x=Wu(m,_),S=Wu(m,B)}x>d.from&&f(d.from,x,d,m),S<d.to&&f(S,d.to,d,m)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(h):h(d);return c}gapSize(e,t,r,i){let s=Gu(i,r)-Gu(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){rx.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=at.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];Nt.spans(t,this.viewport.from,this.viewport.to,{span(s,l){r.push({from:s,to:l})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let l=this.visibleRanges[s],c=r[s];(l.from!=c.from||l.to!=c.to)&&(i|=4,e&&e.mapPos(l.from,-1)==c.from&&e.mapPos(l.to,1)==c.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||s0(this.heightMap.lineAt(e,fn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||s0(this.heightMap.lineAt(this.scaler.fromDOM(e),fn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return s0(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class qu{constructor(e,t){this.from=e,this.to=t}}function BI(n,e,t){let r=[],i=n,s=0;return Nt.spans(t,n,e,{span(){},point(l,c){l>i&&(r.push({from:i,to:l}),s+=l-i),i=c}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function Wu({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:s,to:l}=e[i],c=l-s;if(r<=c)return s+r;r-=c}}function Gu(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function NI(n,e){for(let t of n)if(e(t))return t}const aE={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class Tv{constructor(e,t,r){let i=0,s=0,l=0;this.viewports=r.map(({from:c,to:f})=>{let h=t.lineAt(c,fn.ByPos,e,0,0).top,d=t.lineAt(f,fn.ByPos,e,0,0).bottom;return i+=d-h,{from:c,to:f,top:h,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let c of this.viewports)c.domTop=l+(c.top-s)*this.scale,l=c.domBottom=c.domTop+(c.bottom-c.top),s=c.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof Tv?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function s0(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new us(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>s0(i,e)):n._content)}const Xu=Ke.define({combine:n=>n.join(" ")}),g1=Ke.define({combine:n=>n.indexOf(!0)>-1}),x1=Ma.newName(),W8=Ma.newName(),G8=Ma.newName(),X8={"&light":"."+W8,"&dark":"."+G8};function v1(n,e,t){return new Ma(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r}})}const RI=v1("."+x1,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},X8),FI={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ix=Xe.ie&&Xe.ie_version<=11;class MI{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new xL,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(Xe.ie&&Xe.ie_version<=11||Xe.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Xe.android&&e.constructor.EDIT_CONTEXT!==!1&&!(Xe.chrome&&Xe.chrome_version<126)&&(this.editContext=new II(e),e.state.facet(Ps)&&(e.contentDOM.editContext=this.editContext.editContext)),ix&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Ps)?r.root.activeElement!=this.dom:!Yh(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Xe.ie&&Xe.ie_version<=11||Xe.android&&Xe.chrome)&&!r.state.selection.main.empty&&i.focusNode&&g0(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=F0(e.root);if(!t)return!1;let r=Xe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&LI(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=Yh(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&yL(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,FI),ix&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ix&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Mo(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let s of e){let l=this.readMutation(s);l&&(l.typeOver&&(i=!0),t==-1?{from:t,to:r}=l:(t=Math.min(l.from,t),r=Math.max(l.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Yh(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new eI(this.view,e,t,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=F8(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=lE(t,e.previousSibling||e.target.previousSibling,-1),i=lE(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Ps)!=e.state.facet(Ps)&&(e.view.contentDOM.editContext=e.state.facet(Ps)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function lE(n,e,t){for(;e;){let r=tn.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function oE(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,l=n.docView.domAtPos(n.state.selection.main.anchor);return g0(l.node,l.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function LI(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return oE(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?oE(n,t):null}class II{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:l}=i,c=this.toEditorPos(r.updateRangeStart),f=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:c,drifted:!1});let h=f-c>r.text.length;c==this.from&&s<this.from?c=s:f==this.to&&s>this.to&&(f=s);let d=M8(e.state.sliceDoc(c,f),r.text,(h?i.from:i.to)-c,h?"end":null);if(!d){let g=De.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));g.main.eq(i)||e.dispatch({selection:g,userEvent:"select"});return}let m={from:d.from+c,to:d.toA+c,insert:Rt.of(r.text.slice(d.from,d.toB).split(`
`))};if((Xe.mac||Xe.android)&&m.from==l-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:c,to:f,insert:Rt.of([r.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let g=this.to-this.from+(m.to-m.from+m.insert.length);Cv(e,m,De.single(this.toEditorPos(r.selectionStart,g),this.toEditorPos(r.selectionEnd,g)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(t.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let l=this.toEditorPos(r.rangeStart),c=this.toEditorPos(r.rangeEnd);l<c;l++){let f=e.coordsForChar(l);s=f&&new DOMRect(f.left,f.top,f.right-f.left,f.bottom-f.top)||s||new DOMRect,i.push(s)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let l=s.underlineStyle,c=s.underlineThickness;if(!/none/i.test(l)&&!/none/i.test(c)){let f=this.toEditorPos(s.rangeStart),h=this.toEditorPos(s.rangeEnd);if(f<h){let d=`text-decoration: underline ${/^[a-z]/.test(l)?l+" ":l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${/thin/i.test(c)?1:2}px`;i.push(at.mark({attributes:{style:d}}).range(f,h))}}}e.dispatch({effects:A8.of(at.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=F0(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,l,c,f,h)=>{if(r)return;let d=h.length-(l-s);if(i&&l>=i.to)if(i.from==s&&i.to==l&&i.insert.eq(h)){i=this.pendingContextChange=null,t+=d,this.to+=d;return}else i=null,this.revertPending(e.state);if(s+=t,l+=t,l<=this.from)this.from+=d,this.to+=d;else if(s<this.to){if(s<this.from||l>this.to||this.to-this.from+h.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(l),h.toString()),this.to+=d}t+=d}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class $e{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||vL(e.parent)||document,this.viewState=new sE(e.state||Dt.create(e)),e.scrollTo&&e.scrollTo.is(Hu)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Ao).map(i=>new ex(i));for(let i of this.plugins)i.update(this);this.observer=new MI(this),this.inputState=new iI(this),this.inputState.ensureHandlers(this.plugins),this.docView=new zw(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Wn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,i,s=this.state;for(let g of e){if(g.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=g.state}if(this.destroyed){this.viewState.state=s;return}let l=this.hasFocus,c=0,f=null;e.some(g=>g.annotation(H8))?(this.inputState.notifiedFocused=l,c=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,f=U8(s,l),f||(c=1));let h=this.observer.delayedAndroidKey,d=null;if(h?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(d=null)):this.observer.clear(),s.facet(Dt.phrases)!=this.state.facet(Dt.phrases))return this.setState(s);i=Ad.create(this,s,e),i.flags|=c;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(m&&(m=m.map(g.changes)),g.scrollIntoView){let{main:x}=g.state.selection;m=new Lo(x.empty?x:De.cursor(x.head,x.head>x.anchor?-1:1))}for(let x of g.effects)x.is(Hu)&&(m=x.value.clip(this.state))}this.viewState.update(i,m),this.bidiCache=_d.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(r0)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Xu)!=i.state.facet(Xu)&&(this.viewState.mustMeasureContent=!0),(t||r||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let g of this.state.facet(h1))try{g(i)}catch(x){Ur(this.state,x,"update listener")}(f||d)&&Promise.resolve().then(()=>{f&&this.state==f.startState&&this.dispatch(f),d&&!F8(this,d)&&h.force&&Mo(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new sE(e),this.plugins=e.facet(Ao).map(r=>new ex(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new zw(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ao),r=e.state.facet(Ao);if(t!=r){let i=[];for(let s of r){let l=t.indexOf(s);if(l<0)i.push(new ex(s));else{let c=this.plugins[l];c.mustUpdate=e,i.push(c)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){Ur(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:l}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(l<0)if(t8(r))s=-1,l=this.viewState.heightMap.height;else{let x=this.viewState.scrollAnchorAt(i);s=x.from,l=x.top}this.updateState=1;let f=this.viewState.measure(this);if(!f&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];f&4||([this.measureRequests,h]=[h,this.measureRequests]);let d=h.map(x=>{try{return x.read(this)}catch(S){return Ur(this.state,S),cE}}),m=Ad.create(this,this.state,[]),g=!1;m.flags|=f,t?t.flags|=f:t=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),g=this.docView.update(m),g&&this.docViewUpdate());for(let x=0;x<h.length;x++)if(d[x]!=cE)try{let S=h[x];S.write&&S.write(d[x],this)}catch(S){Ur(this.state,S)}if(g&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let S=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-l;if(S>1||S<-1){i=i+S,r.scrollTop=i/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let c of this.state.facet(h1))c(t)}get themeClasses(){return x1+" "+(this.state.facet(g1)?G8:W8)+" "+this.state.facet(Xu)}updateAttrs(){let e=fE(this,T8,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Ps)?"true":"false",class:"cm-content",style:`${Xe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),fE(this,wv,t);let r=this.observer.ignore(()=>{let i=l1(this.contentDOM,this.contentAttrs,t),s=l1(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is($e.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(r0);let e=this.state.facet($e.cspNonce);Ma.mount(this.root,this.styleModules.concat(RI).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return nx(this,e,Ww(this,e,t,r))}moveByGroup(e,t){return nx(this,e,Ww(this,e,t,r=>YL(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[t?r.length-1:0];return De.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return $L(this,e,t,r)}moveVertically(e,t,r){return nx(this,e,KL(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),B8(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),l=s[ka.find(s,e-i.from,-1,t)];return sf(r,l.dir==un.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(w8)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>PI)return p8(e.length);let t=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||d8(s.isolates,r=jw(this,e))))return s.order;r||(r=jw(this,e));let i=NL(e.text,t,r);return this.bidiCache.push(new _d(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Xe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{J3(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Hu.of(new Lo(typeof e=="number"?De.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Hu.of(new Lo(De.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return On.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return On.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=Ma.newName(),i=[Xu.of(r),r0.of(v1(`.${r}`,e))];return t&&t.dark&&i.push(g1.of(!0)),i}static baseTheme(e){return Ll.lowest(r0.of(v1("."+x1,e,X8)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&tn.get(r)||tn.get(e);return((t=i?.rootView)===null||t===void 0?void 0:t.view)||null}}$e.styleModule=r0;$e.inputHandler=b8;$e.clipboardInputFilter=bv;$e.clipboardOutputFilter=Sv;$e.scrollHandler=C8;$e.focusChangeEffect=S8;$e.perLineTextDirection=w8;$e.exceptionSink=y8;$e.updateListener=h1;$e.editable=Ps;$e.mouseSelectionStyle=v8;$e.dragMovesSelection=x8;$e.clickAddsSelectionRange=g8;$e.decorations=M0;$e.outerDecorations=_8;$e.atomicRanges=of;$e.bidiIsolatedRanges=D8;$e.scrollMargins=k8;$e.darkTheme=g1;$e.cspNonce=Ke.define({combine:n=>n.length?n[0]:""});$e.contentAttributes=wv;$e.editorAttributes=T8;$e.lineWrapping=$e.contentAttributes.of({class:"cm-lineWrapping"});$e.announce=gt.define();const PI=4096,cE={};class _d{constructor(e,t,r,i,s,l){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=s,this.order=l}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:un.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let l=e[s];l.dir==i&&!t.touchesRange(l.from,l.to)&&r.push(new _d(t.mapPos(l.from,1),t.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return r}}function fE(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],l=typeof s=="function"?s(n):s;l&&a1(l,t)}return t}const jI=Xe.mac?"mac":Xe.windows?"win":Xe.linux?"linux":"key";function zI(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let i,s,l,c;for(let f=0;f<t.length-1;++f){const h=t[f];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))i=!0;else if(/^(c|ctrl|control)$/i.test(h))s=!0;else if(/^s(hift)?$/i.test(h))l=!0;else if(/^mod$/i.test(h))e=="mac"?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),c&&(r="Meta-"+r),l&&(r="Shift-"+r),r}function $u(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const HI=Ll.default($e.domEventHandlers({keydown(n,e){return Y8($8(e.state),n,e,"editor")}})),hp=Ke.define({enables:HI}),uE=new WeakMap;function $8(n){let e=n.facet(hp),t=uE.get(e);return t||uE.set(e,t=qI(e.reduce((r,i)=>r.concat(i),[]))),t}function UI(n,e,t){return Y8($8(n.state),e,n,t)}let Aa=null;const VI=4e3;function qI(n,e=jI){let t=Object.create(null),r=Object.create(null),i=(l,c)=>{let f=r[l];if(f==null)r[l]=c;else if(f!=c)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},s=(l,c,f,h,d)=>{var m,g;let x=t[l]||(t[l]=Object.create(null)),S=c.split(/ (?!$)/).map(T=>zI(T,e));for(let T=1;T<S.length;T++){let A=S.slice(0,T).join(" ");i(A,!0),x[A]||(x[A]={preventDefault:!0,stopPropagation:!1,run:[C=>{let _=Aa={view:C,prefix:A,scope:l};return setTimeout(()=>{Aa==_&&(Aa=null)},VI),!0}]})}let b=S.join(" ");i(b,!1);let w=x[b]||(x[b]={preventDefault:!1,stopPropagation:!1,run:((g=(m=x._any)===null||m===void 0?void 0:m.run)===null||g===void 0?void 0:g.slice())||[]});f&&w.run.push(f),h&&(w.preventDefault=!0),d&&(w.stopPropagation=!0)};for(let l of n){let c=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let h of c){let d=t[h]||(t[h]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=l;for(let g in d)d[g].run.push(x=>m(x,y1))}let f=l[e]||l.key;if(f)for(let h of c)s(h,f,l.run,l.preventDefault,l.stopPropagation),l.shift&&s(h,"Shift-"+f,l.shift,l.preventDefault,l.stopPropagation)}return t}let y1=null;function Y8(n,e,t,r){y1=e;let i=hL(e),s=zr(i,0),l=fs(s)==i.length&&i!=" ",c="",f=!1,h=!1,d=!1;Aa&&Aa.view==t&&Aa.scope==r&&(c=Aa.prefix+" ",I8.indexOf(e.keyCode)<0&&(h=!0,Aa=null));let m=new Set,g=w=>{if(w){for(let T of w.run)if(!m.has(T)&&(m.add(T),T(t)))return w.stopPropagation&&(d=!0),!0;w.preventDefault&&(w.stopPropagation&&(d=!0),h=!0)}return!1},x=n[r],S,b;return x&&(g(x[c+$u(i,e,!l)])?f=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Xe.windows&&e.ctrlKey&&e.altKey)&&!(Xe.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(S=La[e.keyCode])&&S!=i?(g(x[c+$u(S,e,!0)])||e.shiftKey&&(b=R0[e.keyCode])!=i&&b!=S&&g(x[c+$u(b,e,!1)]))&&(f=!0):l&&e.shiftKey&&g(x[c+$u(i,e,!0)])&&(f=!0),!f&&g(x._any)&&(f=!0)),h&&(f=!0),f&&d&&e.stopPropagation(),y1=null,f}class cf{constructor(e,t,r,i,s){this.className=e,this.left=t,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=K8(e);return[new cf(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return WI(e,t,r)}}function K8(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==un.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function hE(n,e,t,r){let i=n.coordsAtPos(e,t*2);if(!i)return r;let s=n.dom.getBoundingClientRect(),l=(i.top+i.bottom)/2,c=n.posAtCoords({x:s.left+1,y:l}),f=n.posAtCoords({x:s.right-1,y:l});return c==null||f==null?r:{from:Math.max(r.from,Math.min(c,f)),to:Math.min(r.to,Math.max(c,f))}}function WI(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),s=n.textDirection==un.LTR,l=n.contentDOM,c=l.getBoundingClientRect(),f=K8(n),h=l.querySelector(".cm-line"),d=h&&window.getComputedStyle(h),m=c.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),g=c.right-(d?parseInt(d.paddingRight):0),x=p1(n,r,1),S=p1(n,i,-1),b=x.type==Dr.Text?x:null,w=S.type==Dr.Text?S:null;if(b&&(n.lineWrapping||x.widgetLineBreaks)&&(b=hE(n,r,1,b)),w&&(n.lineWrapping||S.widgetLineBreaks)&&(w=hE(n,i,-1,w)),b&&w&&b.from==w.from&&b.to==w.to)return A(C(t.from,t.to,b));{let B=b?C(t.from,null,b):_(x,!1),N=w?C(null,t.to,w):_(S,!0),O=[];return(b||x).to<(w||S).from-(b&&w?1:0)||x.widgetLineBreaks>1&&B.bottom+n.defaultLineHeight/2<N.top?O.push(T(m,B.bottom,g,N.top)):B.bottom<N.top&&n.elementAtHeight((B.bottom+N.top)/2).type==Dr.Text&&(B.bottom=N.top=(B.bottom+N.top)/2),A(B).concat(O).concat(A(N))}function T(B,N,O,z){return new cf(e,B-f.left,N-f.top,O-B,z-N)}function A({top:B,bottom:N,horizontal:O}){let z=[];for(let R=0;R<O.length;R+=2)z.push(T(O[R],B,O[R+1],N));return z}function C(B,N,O){let z=1e9,R=-1e9,I=[];function P(ie,ce,Z,re,xe){let Ee=n.coordsAtPos(ie,ie==O.to?-2:2),Oe=n.coordsAtPos(Z,Z==O.from?2:-2);!Ee||!Oe||(z=Math.min(Ee.top,Oe.top,z),R=Math.max(Ee.bottom,Oe.bottom,R),xe==un.LTR?I.push(s&&ce?m:Ee.left,s&&re?g:Oe.right):I.push(!s&&re?m:Oe.left,!s&&ce?g:Ee.right))}let q=B??O.from,K=N??O.to;for(let ie of n.visibleRanges)if(ie.to>q&&ie.from<K)for(let ce=Math.max(ie.from,q),Z=Math.min(ie.to,K);;){let re=n.state.doc.lineAt(ce);for(let xe of n.bidiSpans(re)){let Ee=xe.from+re.from,Oe=xe.to+re.from;if(Ee>=Z)break;Oe>ce&&P(Math.max(Ee,ce),B==null&&Ee<=q,Math.min(Oe,Z),N==null&&Oe>=K,xe.dir)}if(ce=re.to+1,ce>=Z)break}return I.length==0&&P(q,B==null,K,N==null,n.textDirection),{top:z,bottom:R,horizontal:I}}function _(B,N){let O=c.top+(N?B.top:B.bottom);return{top:O,bottom:O,horizontal:[]}}}function GI(n,e){return n.constructor==e.constructor&&n.eq(e)}class XI{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Zh)!=e.state.facet(Zh)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(Zh);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!GI(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e,Xe.safari&&Xe.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Zh=Ke.define();function Q8(n){return[On.define(e=>new XI(e,n)),Zh.of(n)]}const L0=Ke.define({combine(n){return vs(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function $I(n={}){return[L0.of(n),YI,KI,QI,E8.of(!0)]}function Z8(n){return n.startState.facet(L0)!=n.state.facet(L0)}const YI=Q8({above:!0,markers(n){let{state:e}=n,t=e.facet(L0),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||t.drawRangeCursor){let l=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=i.empty?i:De.cursor(i.head,i.head>i.anchor?-1:1);for(let f of cf.forRange(n,l,c))r.push(f)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=Z8(n);return t&&dE(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){dE(e.state,n)},class:"cm-cursorLayer"});function dE(n,e){e.style.animationDuration=n.facet(L0).cursorBlinkRate+"ms"}const KI=Q8({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:cf.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||Z8(n)},class:"cm-selectionLayer"}),QI=Ll.highest($e.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),J8=gt.define({map(n,e){return n==null?null:e.mapPos(n)}}),a0=pr.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(J8)?r.value:t,n)}}),ZI=On.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(a0);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(a0)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(a0),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(a0)!=n&&this.view.dispatch({effects:J8.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function JI(){return[a0,ZI]}function pE(n,e,t,r,i){e.lastIndex=0;for(let s=n.iterRange(t,r),l=t,c;!s.next().done;l+=s.value.length)if(!s.lineBreak)for(;c=e.exec(s.value);)i(l+c.index,c)}function eP(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:s}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class tP{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:s,maxLength:l=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(c,f,h,d)=>i(d,h,h+c[0].length,c,f);else if(typeof r=="function")this.addMatch=(c,f,h,d)=>{let m=r(c,f,h);m&&d(h,h+c[0].length,m)};else if(r)this.addMatch=(c,f,h,d)=>d(h,h+c[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=l}createDeco(e){let t=new Gs,r=t.add.bind(t);for(let{from:i,to:s}of eP(e,this.maxLength))pE(e.state.doc,this.regexp,i,s,(l,c)=>this.addMatch(c,e,l,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,l,c,f)=>{f>=e.view.viewport.from&&c<=e.view.viewport.to&&(r=Math.min(c,r),i=Math.max(f,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let s of e.visibleRanges){let l=Math.max(s.from,r),c=Math.min(s.to,i);if(c>=l){let f=e.state.doc.lineAt(l),h=f.to<c?e.state.doc.lineAt(c):f,d=Math.max(s.from,f.from),m=Math.min(s.to,h.to);if(this.boundary){for(;l>f.from;l--)if(this.boundary.test(f.text[l-1-f.from])){d=l;break}for(;c<h.to;c++)if(this.boundary.test(h.text[c-h.from])){m=c;break}}let g=[],x,S=(b,w,T)=>g.push(T.range(b,w));if(f==h)for(this.regexp.lastIndex=d-f.from;(x=this.regexp.exec(f.text))&&x.index<m-f.from;)this.addMatch(x,e,x.index+f.from,S);else pE(e.state.doc,this.regexp,d,m,(b,w)=>this.addMatch(w,e,b,S));t=t.update({filterFrom:d,filterTo:m,filter:(b,w)=>b<d||w>m,add:g})}}return t}}const b1=/x/.unicode!=null?"gu":"g",nP=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,b1),rP={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let sx=null;function iP(){var n;if(sx==null&&typeof document<"u"&&document.body){let e=document.body.style;sx=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return sx||!1}const Jh=Ke.define({combine(n){let e=vs(n,{render:null,specialChars:nP,addSpecialChars:null});return(e.replaceTabs=!iP())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,b1)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,b1)),e}});function sP(n={}){return[Jh.of(n),aP()]}let mE=null;function aP(){return mE||(mE=On.fromClass(class{constructor(n){this.view=n,this.decorations=at.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Jh)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new tP({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,s=zr(e[0],0);if(s==9){let l=i.lineAt(r),c=t.state.tabSize,f=ec(l.text,c,r-l.from);return at.replace({widget:new fP((c-f%c)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=at.replace({widget:new cP(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(Jh);n.startState.facet(Jh)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const lP="";function oP(n){return n>=32?lP:n==10?"":String.fromCharCode(9216+n)}class cP extends Ks{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=oP(this.code),r=e.state.phrase("Control character")+" "+(rP[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class fP extends Ks{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function uP(){return dP}const hP=at.line({class:"cm-activeLine"}),dP=On.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(hP.range(i.from)),e=i.from)}return at.set(t)}},{decorations:n=>n.decorations});class pP extends Ks{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?Vo(e.firstChild):[];if(!t.length)return null;let r=window.getComputedStyle(e.parentNode),i=sf(t[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function mP(n){let e=On.fromClass(class{constructor(t){this.view=t,this.placeholder=n?at.set([at.widget({widget:new pP(n),side:1}).range(0)]):at.none}get decorations(){return this.view.state.doc.length?at.none:this.placeholder}},{decorations:t=>t.decorations});return typeof n=="string"?[e,$e.contentAttributes.of({"aria-placeholder":n})]:e}const S1=2e3;function gP(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>S1||t.off>S1||e.col<0||t.col<0){let l=Math.min(e.off,t.off),c=Math.max(e.off,t.off);for(let f=r;f<=i;f++){let h=n.doc.line(f);h.length<=c&&s.push(De.range(h.from+l,h.to+c))}}else{let l=Math.min(e.col,t.col),c=Math.max(e.col,t.col);for(let f=r;f<=i;f++){let h=n.doc.line(f),d=Zx(h.text,l,n.tabSize,!0);if(d<0)s.push(De.cursor(h.to));else{let m=Zx(h.text,c,n.tabSize);s.push(De.range(h.from+d,h.from+m))}}}return s}function xP(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function gE(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,s=i>S1?-1:i==r.length?xP(n,e.clientX):ec(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:s,off:i}}function vP(n,e){let t=gE(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),l=i.state.doc.lineAt(s);t={line:l.number,col:t.col,off:Math.min(t.off,l.length)},r=r.map(i.changes)}},get(i,s,l){let c=gE(n,i);if(!c)return r;let f=gP(n.state,t,c);return f.length?l?De.create(f.concat(r.ranges)):De.create(f):r}}:null}function yP(n){let e=(t=>t.altKey&&t.button==0);return $e.mouseSelectionStyle.of((t,r)=>e(r)?vP(t,r):null)}const bP={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},SP={style:"cursor: crosshair"};function wP(n={}){let[e,t]=bP[n.key||"Alt"],r=On.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,$e.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?SP:null})]}const Yu="-10000px";class eT{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(l=>l);let s=null;this.tooltipViews=this.tooltips.map(l=>s=r(l,s))}update(e,t){var r;let i=e.state.facet(this.facet),s=i.filter(f=>f);if(i===this.input){for(let f of this.tooltipViews)f.update&&f.update(e);return!1}let l=[],c=t?[]:null;for(let f=0;f<s.length;f++){let h=s[f],d=-1;if(h){for(let m=0;m<this.tooltips.length;m++){let g=this.tooltips[m];g&&g.create==h.create&&(d=m)}if(d<0)l[f]=this.createTooltipView(h,f?l[f-1]:null),c&&(c[f]=!!h.above);else{let m=l[f]=this.tooltipViews[d];c&&(c[f]=t[d]),m.update&&m.update(e)}}}for(let f of this.tooltipViews)l.indexOf(f)<0&&(this.removeTooltipView(f),(r=f.destroy)===null||r===void 0||r.call(f));return t&&(c.forEach((f,h)=>t[h]=f),t.length=c.length),this.input=i,this.tooltips=s,this.tooltipViews=l,!0}}function EP(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const ax=Ke.define({combine:n=>{var e,t,r;return{position:Xe.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||EP}}}),xE=new WeakMap,_v=On.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(ax);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new eT(n,Dv,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(ax);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=Yu,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(Xe.safari){let l=s.getBoundingClientRect();t=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}else t=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(n=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=Ev(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,l)=>{let c=this.manager.tooltipViews[l];return c.getCoords?c.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(ax).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{visible:t,space:r,scaleX:i,scaleY:s}=n,l=[];for(let c=0;c<this.manager.tooltips.length;c++){let f=this.manager.tooltips[c],h=this.manager.tooltipViews[c],{dom:d}=h,m=n.pos[c],g=n.size[c];if(!m||f.clip!==!1&&(m.bottom<=Math.max(t.top,r.top)||m.top>=Math.min(t.bottom,r.bottom)||m.right<Math.max(t.left,r.left)-.1||m.left>Math.min(t.right,r.right)+.1)){d.style.top=Yu;continue}let x=f.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,S=x?7:0,b=g.right-g.left,w=(e=xE.get(h))!==null&&e!==void 0?e:g.bottom-g.top,T=h.offset||AP,A=this.view.textDirection==un.LTR,C=g.width>r.right-r.left?A?r.left:r.right-g.width:A?Math.max(r.left,Math.min(m.left-(x?14:0)+T.x,r.right-b)):Math.min(Math.max(r.left,m.left-b+(x?14:0)-T.x),r.right-b),_=this.above[c];!f.strictSide&&(_?m.top-w-S-T.y<r.top:m.bottom+w+S+T.y>r.bottom)&&_==r.bottom-m.bottom>m.top-r.top&&(_=this.above[c]=!_);let B=(_?m.top-r.top:r.bottom-m.bottom)-S;if(B<w&&h.resize!==!1){if(B<this.view.defaultLineHeight){d.style.top=Yu;continue}xE.set(h,w),d.style.height=(w=B)/s+"px"}else d.style.height&&(d.style.height="");let N=_?m.top-w-S-T.y:m.bottom+S+T.y,O=C+b;if(h.overlap!==!0)for(let z of l)z.left<O&&z.right>C&&z.top<N+w&&z.bottom>N&&(N=_?z.top-w-2-S:z.bottom+S+2);if(this.position=="absolute"?(d.style.top=(N-n.parent.top)/s+"px",vE(d,(C-n.parent.left)/i)):(d.style.top=N/s+"px",vE(d,C/i)),x){let z=m.left+(A?T.x:-T.x)-(C+14-7);x.style.left=z/i+"px"}h.overlap!==!0&&l.push({left:C,top:N,right:O,bottom:N+w}),d.classList.toggle("cm-tooltip-above",_),d.classList.toggle("cm-tooltip-below",!_),h.positioned&&h.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Yu}},{eventObservers:{scroll(){this.maybeMeasure()}}});function vE(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const CP=$e.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),AP={x:0,y:0},Dv=Ke.define({enables:[_v,CP]}),Dd=Ke.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class dp{static create(e){return new dp(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new eT(e,Dd,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const TP=Dv.compute([Dd],n=>{let e=n.facet(Dd);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:dp.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class _P{constructor(e,t,r,i,s){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,s=1;if(r instanceof js)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let c=e.coordsAtPos(i);if(!c||t.y<c.top||t.y>c.bottom||t.x<c.left-e.defaultCharacterWidth||t.x>c.right+e.defaultCharacterWidth)return;let f=e.bidiSpans(e.state.doc.lineAt(i)).find(d=>d.from<=i&&d.to>=i),h=f&&f.dir==un.RTL?-1:1;s=t.x<c.left?-h:h}let l=this.source(e,i,s);if(l?.then){let c=this.pending={pos:i};l.then(f=>{this.pending==c&&(this.pending=null,f&&!(Array.isArray(f)&&!f.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(f)?f:[f])}))},f=>Ur(e.state,f,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(_v),t=e?e.manager.tooltips.findIndex(r=>r.create==dp.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!DP(s.dom,e)||this.pending){let{pos:l}=i[0]||this.pending,c=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:l;(l==c?this.view.posAtCoords(this.lastMove)!=l:!kP(this.view,l,c,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Ku=4;function DP(n,e){let{left:t,right:r,top:i,bottom:s}=n.getBoundingClientRect(),l;if(l=n.querySelector(".cm-tooltip-arrow")){let c=l.getBoundingClientRect();i=Math.min(c.top,i),s=Math.max(c.bottom,s)}return e.clientX>=t-Ku&&e.clientX<=r+Ku&&e.clientY>=i-Ku&&e.clientY<=s+Ku}function kP(n,e,t,r,i,s){let l=n.scrollDOM.getBoundingClientRect(),c=n.documentTop+n.documentPadding.top+n.contentHeight;if(l.left>r||l.right<r||l.top>i||Math.min(l.bottom,c)<i)return!1;let f=n.posAtCoords({x:r,y:i},!1);return f>=e&&f<=t}function OP(n,e={}){let t=gt.define(),r=pr.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(l=>!e.hideOn(s,l))),s.docChanged)){let l=[];for(let c of i){let f=s.changes.mapPos(c.pos,-1,Tr.TrackDel);if(f!=null){let h=Object.assign(Object.create(null),c);h.pos=f,h.end!=null&&(h.end=s.changes.mapPos(h.end)),l.push(h)}}i=l}for(let l of s.effects)l.is(t)&&(i=l.value),l.is(BP)&&(i=[]);return i},provide:i=>Dd.from(i)});return{active:r,extension:[r,On.define(i=>new _P(i,n,r,t,e.hoverTime||300)),TP]}}function tT(n,e){let t=n.plugin(_v);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const BP=gt.define(),yE=Ke.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function I0(n,e){let t=n.plugin(nT),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const nT=On.fromClass(class{constructor(n){this.input=n.state.facet(P0),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(yE);this.top=new Qu(n,!0,e.topContainer),this.bottom=new Qu(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(yE);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Qu(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Qu(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(P0);if(t!=this.input){let r=t.filter(f=>f),i=[],s=[],l=[],c=[];for(let f of r){let h=this.specs.indexOf(f),d;h<0?(d=f(n.view),c.push(d)):(d=this.panels[h],d.update&&d.update(n)),i.push(d),(d.top?s:l).push(d)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(l);for(let f of c)f.dom.classList.add("cm-panel"),f.mount&&f.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>$e.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Qu{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=bE(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=bE(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function bE(n){let e=n.nextSibling;return n.remove(),e}const P0=Ke.define({enables:nT});class $s extends Cl{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}$s.prototype.elementClass="";$s.prototype.toDOM=void 0;$s.prototype.mapMode=Tr.TrackBefore;$s.prototype.startSide=$s.prototype.endSide=-1;$s.prototype.point=!0;const ed=Ke.define(),NP=Ke.define(),RP={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Nt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},y0=Ke.define();function FP(n){return[rT(),y0.of({...RP,...n})]}const SE=Ke.define({combine:n=>n.some(e=>e)});function rT(n){return[MP]}const MP=On.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(y0).map(e=>new EE(n,e)),this.fixed=!n.state.facet(SE);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(SE)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Nt.iter(this.view.state.facet(ed),this.view.viewport.from),r=[],i=this.gutters.map(s=>new LP(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let l=!0;for(let c of s.type)if(c.type==Dr.Text&&l){w1(t,r,c.from);for(let f of i)f.line(this.view,c,r);l=!1}else if(c.widget)for(let f of i)f.widget(this.view,c)}else if(s.type==Dr.Text){w1(t,r,s.from);for(let l of i)l.line(this.view,s,r)}else if(s.widget)for(let l of i)l.widget(this.view,s);for(let s of i)s.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(y0),t=n.state.facet(y0),r=n.docChanged||n.heightChanged||n.viewportChanged||!Nt.eq(n.startState.facet(ed),n.state.facet(ed),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let s of t){let l=e.indexOf(s);l<0?i.push(new EE(this.view,s)):(this.gutters[l].update(n),i.push(this.gutters[l]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>$e.scrollMargins.of(e=>{let t=e.plugin(n);if(!t||t.gutters.length==0||!t.fixed)return null;let r=t.dom.offsetWidth*e.scaleX,i=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==un.LTR?{left:r,right:i}:{right:r,left:i}})});function wE(n){return Array.isArray(n)?n:[n]}function w1(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class LP{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Nt.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,s=(t.top-this.height)/e.scaleY,l=t.height/e.scaleY;if(this.i==i.elements.length){let c=new iT(e,l,s,r);i.elements.push(c),i.dom.appendChild(c.dom)}else i.elements[this.i].update(e,l,s,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];w1(this.cursor,i,t.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let l=this.gutter;i.length==0&&!l.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let s of e.state.facet(NP)){let l=s(e,t.widget,t);l&&(i||(i=[])).push(l)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class EE{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,l;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let f=s.getBoundingClientRect();l=(f.top+f.bottom)/2}else l=i.clientY;let c=e.lineBlockAtHeight(l-e.documentTop);t.domEventHandlers[r](e,c,i)&&i.preventDefault()});this.markers=wE(t.markers(e)),t.initialSpacer&&(this.spacer=new iT(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=wE(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Nt.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class iT{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),IP(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,l=0;;){let c=l,f=s<t.length?t[s++]:null,h=!1;if(f){let d=f.elementClass;d&&(r+=" "+d);for(let m=l;m<this.markers.length;m++)if(this.markers[m].compare(f)){c=m,h=!0;break}}else c=this.markers.length;for(;l<c;){let d=this.markers[l++];if(d.toDOM){d.destroy(i);let m=i.nextSibling;i.remove(),i=m}}if(!f)break;f.toDOM&&(h?i=i.nextSibling:this.dom.insertBefore(f.toDOM(e),i)),h&&l++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function IP(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const PP=Ke.define(),jP=Ke.define(),To=Ke.define({combine(n){return vs(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let s=r[i],l=t[i];r[i]=s?(c,f,h)=>s(c,f,h)||l(c,f,h):l}return r}})}});class lx extends $s{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function ox(n,e){return n.state.facet(To).formatNumber(e,n.state)}const zP=y0.compute([To],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(PP)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new lx(ox(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(jP)){let s=i(e,t,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(To)!=e.state.facet(To),initialSpacer(e){return new lx(ox(e,CE(e.state.doc.lines)))},updateSpacer(e,t){let r=ox(t.view,CE(t.view.state.doc.lines));return r==e.number?e:new lx(r)},domEventHandlers:n.facet(To).domEventHandlers,side:"before"}));function HP(n={}){return[To.of(n),rT(),zP]}function CE(n){let e=9;for(;e<n;)e=e*10+9;return e}const UP=new class extends $s{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},VP=ed.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(UP.range(i)))}return Nt.of(e)});function qP(){return VP}const sT=1024;let WP=0;class cx{constructor(e,t){this.from=e,this.to=t}}class St{constructor(e={}){this.id=WP++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Xr.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}St.closedBy=new St({deserialize:n=>n.split(" ")});St.openedBy=new St({deserialize:n=>n.split(" ")});St.group=new St({deserialize:n=>n.split(" ")});St.isolate=new St({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});St.contextHash=new St({perNode:!0});St.lookAhead=new St({perNode:!0});St.mounted=new St({perNode:!0});class kd{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[St.mounted.id]}}const GP=Object.create(null);class Xr{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):GP,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Xr(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(St.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(St.group),s=-1;s<(i?i.length:0);s++){let l=t[s<0?r.name:i[s]];if(l)return l}}}}Xr.none=new Xr("",Object.create(null),0,8);class kv{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let s of e){let l=s(r);if(l){i||(i=Object.assign({},r.props));let c=l[1],f=l[0];f.combine&&f.id in i&&(c=f.combine(i[f.id],c)),i[f.id]=c}}t.push(i?new Xr(r.name,i,r.id,r.flags):r)}return new kv(t)}}const Zu=new WeakMap,AE=new WeakMap;var $n;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})($n||($n={}));class Pn{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[l,c]of s)this.props[typeof l=="number"?l:l.id]=c}}toString(){let e=kd.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new C1(this.topNode,e)}cursorAt(e,t=0,r=0){let i=Zu.get(this)||this.topNode,s=new C1(i);return s.moveTo(e,t),Zu.set(this,s._tree),s}get topNode(){return new Bi(this,0,0,null)}resolve(e,t=0){let r=j0(Zu.get(this)||this.topNode,e,t,!1);return Zu.set(this,r),r}resolveInner(e,t=0){let r=j0(AE.get(this)||this.topNode,e,t,!0);return AE.set(this,r),r}resolveStack(e,t=0){return YP(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,l=e.mode||0,c=(l&$n.IncludeAnonymous)>0;for(let f=this.cursor(l|$n.IncludeAnonymous);;){let h=!1;if(f.from<=s&&f.to>=i&&(!c&&f.type.isAnonymous||t(f)!==!1)){if(f.firstChild())continue;h=!0}for(;h&&r&&(c||!f.type.isAnonymous)&&r(f),!f.nextSibling();){if(!f.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Nv(Xr.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new Pn(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new Pn(Xr.none,t,r,i)))}static build(e){return KP(e)}}Pn.empty=new Pn(Xr.none,[],[],0);class Ov{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ov(this.buffer,this.index)}}class Pa{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Xr.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let l=[];for(;e<r;)l.push(this.childString(e)),e=this.buffer[e+3];return s+"("+l.join(",")+")"}findChild(e,t,r,i,s){let{buffer:l}=this,c=-1;for(let f=e;f!=t&&!(aT(s,i,l[f+1],l[f+2])&&(c=f,r>0));f=l[f+3]);return c}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),l=0;for(let c=e,f=0;c<t;){s[f++]=i[c++],s[f++]=i[c++]-r;let h=s[f++]=i[c++]-r;s[f++]=i[c++]-e,l=Math.max(l,h)}return new Pa(s,l,this.set)}}function aT(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function j0(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let l=!r&&n instanceof Bi&&n.index<0?null:n.parent;if(!l)return n;n=l}let s=r?0:$n.IgnoreOverlays;if(r)for(let l=n,c=l.parent;c;l=c,c=l.parent)l instanceof Bi&&l.index<0&&((i=c.enter(e,t,s))===null||i===void 0?void 0:i.from)!=l.from&&(n=c);for(;;){let l=n.enter(e,t,s);if(!l)return n;n=l}}class lT{cursor(e=0){return new C1(this,e)}getChild(e,t=null,r=null){let i=TE(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return TE(this,e,t,r)}resolve(e,t=0){return j0(this,e,t,!1)}resolveInner(e,t=0){return j0(this,e,t,!0)}matchContext(e){return E1(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class Bi extends lT{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let l=this;;){for(let{children:c,positions:f}=l._tree,h=t>0?c.length:-1;e!=h;e+=t){let d=c[e],m=f[e]+l.from;if(aT(i,r,m,m+d.length)){if(d instanceof Pa){if(s&$n.ExcludeBuffers)continue;let g=d.findChild(0,d.buffer.length,t,r-m,i);if(g>-1)return new Oa(new XP(l,d,e,m),null,g)}else if(s&$n.IncludeAnonymous||!d.type.isAnonymous||Bv(d)){let g;if(!(s&$n.IgnoreMounts)&&(g=kd.get(d))&&!g.overlay)return new Bi(g.tree,m,e,l);let x=new Bi(d,m,e,l);return s&$n.IncludeAnonymous||!x.type.isAnonymous?x:x.nextChild(t<0?d.children.length-1:0,t,r,i)}}}if(s&$n.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+t:e=t<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,t,r=0){let i;if(!(r&$n.IgnoreOverlays)&&(i=kd.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:l,to:c}of i.overlay)if((t>0?l<=s:l<s)&&(t<0?c>=s:c>s))return new Bi(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function TE(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let l=!1;!l;)if(l=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function E1(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class XP{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class Oa extends lT{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Oa(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,t,r=0){if(r&$n.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Oa(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Oa(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Oa(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let l=r.buffer[this.index+1];e.push(r.slice(i,s,l)),t.push(0)}return new Pn(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function oT(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let l=n[s];(l.from>t.from||l.to<t.to)&&(t=l,e=s)}let r=t instanceof Bi&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new $P(i,t)}class $P{constructor(e,t){this.heads=e,this.node=t}get next(){return oT(this.heads)}}function YP(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Bi?r:r.context.parent;s;s=s.parent)if(s.index<0){let l=s.parent;(i||(i=[r])).push(l.resolve(e,t)),s=l}else{let l=kd.get(s.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let c=new Bi(l.tree,l.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(j0(c,e,t,!1))}}return i?oT(i):r}class C1{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Bi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Bi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&$n.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&$n.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&$n.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,l=e<0?-1:r._tree.children.length;s!=l;s+=e){let c=r._tree.children[s];if(this.mode&$n.IncludeAnonymous||c instanceof Pa||!c.type.isAnonymous||Bv(c))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let l=e;l;l=l._parent)if(l.index==i){if(i==this.index)return l;t=l,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new Oa(this.buffer,t,this.stack[i]);return this.bufferNode=new Oa(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return E1(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return E1(this._tree,e,i);let l=r[t.buffer[this.stack[s]]];if(!l.isAnonymous){if(e[i]&&e[i]!=l.name)return!1;i--}}return!0}}function Bv(n){return n.children.some(e=>e instanceof Pa||!e.type.isAnonymous||Bv(e))}function KP(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=sT,reused:s=[],minRepeatType:l=r.types.length}=n,c=Array.isArray(t)?new Ov(t,t.length):t,f=r.types,h=0,d=0;function m(B,N,O,z,R,I){let{id:P,start:q,end:K,size:ie}=c,ce=d,Z=h;if(ie<0)if(c.next(),ie==-1){let j=s[P];O.push(j),z.push(q-B);return}else if(ie==-3){h=P;return}else if(ie==-4){d=P;return}else throw new RangeError(`Unrecognized record size: ${ie}`);let re=f[P],xe,Ee,Oe=q-B;if(K-q<=i&&(Ee=w(c.pos-N,R))){let j=new Uint16Array(Ee.size-Ee.skip),D=c.pos-Ee.size,M=j.length;for(;c.pos>D;)M=T(Ee.start,j,M);xe=new Pa(j,K-Ee.start,r),Oe=Ee.start-B}else{let j=c.pos-ie;c.next();let D=[],M=[],L=P>=l?P:-1,W=0,ee=K;for(;c.pos>j;)L>=0&&c.id==L&&c.size>=0?(c.end<=ee-i&&(S(D,M,q,W,c.end,ee,L,ce,Z),W=D.length,ee=c.end),c.next()):I>2500?g(q,j,D,M):m(q,j,D,M,L,I+1);if(L>=0&&W>0&&W<D.length&&S(D,M,q,W,q,ee,L,ce,Z),D.reverse(),M.reverse(),L>-1&&W>0){let be=x(re,Z);xe=Nv(re,D,M,0,D.length,0,K-q,be,be)}else xe=b(re,D,M,K-q,ce-K,Z)}O.push(xe),z.push(Oe)}function g(B,N,O,z){let R=[],I=0,P=-1;for(;c.pos>N;){let{id:q,start:K,end:ie,size:ce}=c;if(ce>4)c.next();else{if(P>-1&&K<P)break;P<0&&(P=ie-i),R.push(q,K,ie),I++,c.next()}}if(I){let q=new Uint16Array(I*4),K=R[R.length-2];for(let ie=R.length-3,ce=0;ie>=0;ie-=3)q[ce++]=R[ie],q[ce++]=R[ie+1]-K,q[ce++]=R[ie+2]-K,q[ce++]=ce;O.push(new Pa(q,R[2]-K,r)),z.push(K-B)}}function x(B,N){return(O,z,R)=>{let I=0,P=O.length-1,q,K;if(P>=0&&(q=O[P])instanceof Pn){if(!P&&q.type==B&&q.length==R)return q;(K=q.prop(St.lookAhead))&&(I=z[P]+q.length+K)}return b(B,O,z,R,I,N)}}function S(B,N,O,z,R,I,P,q,K){let ie=[],ce=[];for(;B.length>z;)ie.push(B.pop()),ce.push(N.pop()+O-R);B.push(b(r.types[P],ie,ce,I-R,q-I,K)),N.push(R-O)}function b(B,N,O,z,R,I,P){if(I){let q=[St.contextHash,I];P=P?[q].concat(P):[q]}if(R>25){let q=[St.lookAhead,R];P=P?[q].concat(P):[q]}return new Pn(B,N,O,z,P)}function w(B,N){let O=c.fork(),z=0,R=0,I=0,P=O.end-i,q={size:0,start:0,skip:0};e:for(let K=O.pos-B;O.pos>K;){let ie=O.size;if(O.id==N&&ie>=0){q.size=z,q.start=R,q.skip=I,I+=4,z+=4,O.next();continue}let ce=O.pos-ie;if(ie<0||ce<K||O.start<P)break;let Z=O.id>=l?4:0,re=O.start;for(O.next();O.pos>ce;){if(O.size<0)if(O.size==-3||O.size==-4)Z+=4;else break e;else O.id>=l&&(Z+=4);O.next()}R=re,z+=ie,I+=Z}return(N<0||z==B)&&(q.size=z,q.start=R,q.skip=I),q.size>4?q:void 0}function T(B,N,O){let{id:z,start:R,end:I,size:P}=c;if(c.next(),P>=0&&z<l){let q=O;if(P>4){let K=c.pos-(P-4);for(;c.pos>K;)O=T(B,N,O)}N[--O]=q,N[--O]=I-B,N[--O]=R-B,N[--O]=z}else P==-3?h=z:P==-4&&(d=z);return O}let A=[],C=[];for(;c.pos>0;)m(n.start||0,n.bufferStart||0,A,C,-1,0);let _=(e=n.length)!==null&&e!==void 0?e:A.length?C[0]+A[0].length:0;return new Pn(f[n.topID],A.reverse(),C.reverse(),_)}const _E=new WeakMap;function td(n,e){if(!n.isAnonymous||e instanceof Pa||e.type!=n)return 1;let t=_E.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Pn)){t=1;break}t+=td(n,r)}_E.set(e,t)}return t}function Nv(n,e,t,r,i,s,l,c,f){let h=0;for(let S=r;S<i;S++)h+=td(n,e[S]);let d=Math.ceil(h*1.5/8),m=[],g=[];function x(S,b,w,T,A){for(let C=w;C<T;){let _=C,B=b[C],N=td(n,S[C]);for(C++;C<T;C++){let O=td(n,S[C]);if(N+O>=d)break;N+=O}if(C==_+1){if(N>d){let O=S[_];x(O.children,O.positions,0,O.children.length,b[_]+A);continue}m.push(S[_])}else{let O=b[C-1]+S[C-1].length-B;m.push(Nv(n,S,b,_,C,B,O,null,f))}g.push(B+A-s)}}return x(e,t,r,i,0),(c||f)(m,g,l)}class yl{constructor(e,t,r,i,s=!1,l=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new yl(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,l=e.length?e[0]:null;for(let c=0,f=0,h=0;;c++){let d=c<t.length?t[c]:null,m=d?d.fromA:1e9;if(m-f>=r)for(;l&&l.from<m;){let g=l;if(f>=g.from||m<=g.to||h){let x=Math.max(g.from,f)-h,S=Math.min(g.to,m)-h;g=x>=S?null:new yl(x,S,g.tree,g.offset+h,c>0,!!d)}if(g&&i.push(g),l.to>m)break;l=s<e.length?e[s++]:null}if(!d)break;f=d.toA,h=d.toA-d.toB}return i}}class cT{startParse(e,t,r){return typeof e=="string"&&(e=new QP(e)),r=r?r.length?r.map(i=>new cx(i.from,i.to)):[new cx(0,0)]:[new cx(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}}class QP{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new St({perNode:!0});let ZP=0;class _i{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=ZP++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof _i&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let i=new _i(r,[],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(e){let t=new Od(e);return r=>r.modified.indexOf(t)>-1?r:Od.get(r.base||r,r.modified.concat(t).sort((i,s)=>i.id-s.id))}}let JP=0;class Od{constructor(e){this.name=e,this.instances=[],this.id=JP++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(c=>c.base==e&&ej(t,c.modified));if(r)return r;let i=[],s=new _i(e.name,i,e,t);for(let c of t)c.instances.push(s);let l=tj(t);for(let c of e.set)if(!c.modified.length)for(let f of l)i.push(Od.get(c,f));return s}}function ej(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function tj(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function fT(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let s=[],l=2,c=i;for(let m=0;;){if(c=="..."&&m>0&&m+3==i.length){l=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!g)throw new RangeError("Invalid path: "+i);if(s.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),m+=g[0].length,m==i.length)break;let x=i[m++];if(m==i.length&&x=="!"){l=0;break}if(x!="/")throw new RangeError("Invalid path: "+i);c=i.slice(m)}let f=s.length-1,h=s[f];if(!h)throw new RangeError("Invalid path: "+i);let d=new z0(r,l,f>0?s.slice(0,f):null);e[h]=d.sort(e[h])}}return uT.add(e)}const uT=new St({combine(n,e){let t,r,i;for(;n||e;){if(!n||e&&n.depth>=e.depth?(i=e,e=e.next):(i=n,n=n.next),t&&t.mode==i.mode&&!i.context&&!t.context)continue;let s=new z0(i.tags,i.mode,i.context);t?t.next=s:r=s,t=s}return r}});class z0{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}z0.empty=new z0([],2,null);function hT(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let l of s.tag)t[l.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let l=i;for(let c of s)for(let f of c.set){let h=t[f.id];if(h){l=l?l+" "+h:h;break}}return l},scope:r}}function nj(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}function rj(n,e,t,r=0,i=n.length){let s=new ij(r,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),r,i,"",s.highlighters),s.flush(i)}class ij{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,s){let{type:l,from:c,to:f}=e;if(c>=r||f<=t)return;l.isTop&&(s=this.highlighters.filter(x=>!x.scope||x.scope(l)));let h=i,d=sj(e)||z0.empty,m=nj(s,d.tags);if(m&&(h&&(h+=" "),h+=m,d.mode==1&&(i+=(i?" ":"")+m)),this.startSpan(Math.max(t,c),h),d.opaque)return;let g=e.tree&&e.tree.prop(St.mounted);if(g&&g.overlay){let x=e.node.enter(g.overlay[0].from+c,1),S=this.highlighters.filter(w=>!w.scope||w.scope(g.tree.type)),b=e.firstChild();for(let w=0,T=c;;w++){let A=w<g.overlay.length?g.overlay[w]:null,C=A?A.from+c:f,_=Math.max(t,T),B=Math.min(r,C);if(_<B&&b)for(;e.from<B&&(this.highlightRange(e,_,B,i,s),this.startSpan(Math.min(B,e.to),h),!(e.to>=C||!e.nextSibling())););if(!A||C>r)break;T=A.to+c,T>t&&(this.highlightRange(x.cursor(),Math.max(t,A.from+c),Math.min(r,T),"",S),this.startSpan(Math.min(r,T),h))}b&&e.parent()}else if(e.firstChild()){g&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,s),this.startSpan(Math.min(r,e.to),h)}while(e.nextSibling());e.parent()}}}function sj(n){let e=n.type.prop(uT);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const qe=_i.define,Ju=qe(),wa=qe(),DE=qe(wa),kE=qe(wa),Ea=qe(),eh=qe(Ea),fx=qe(Ea),os=qe(),ll=qe(os),is=qe(),ss=qe(),A1=qe(),Jc=qe(A1),th=qe(),me={comment:Ju,lineComment:qe(Ju),blockComment:qe(Ju),docComment:qe(Ju),name:wa,variableName:qe(wa),typeName:DE,tagName:qe(DE),propertyName:kE,attributeName:qe(kE),className:qe(wa),labelName:qe(wa),namespace:qe(wa),macroName:qe(wa),literal:Ea,string:eh,docString:qe(eh),character:qe(eh),attributeValue:qe(eh),number:fx,integer:qe(fx),float:qe(fx),bool:qe(Ea),regexp:qe(Ea),escape:qe(Ea),color:qe(Ea),url:qe(Ea),keyword:is,self:qe(is),null:qe(is),atom:qe(is),unit:qe(is),modifier:qe(is),operatorKeyword:qe(is),controlKeyword:qe(is),definitionKeyword:qe(is),moduleKeyword:qe(is),operator:ss,derefOperator:qe(ss),arithmeticOperator:qe(ss),logicOperator:qe(ss),bitwiseOperator:qe(ss),compareOperator:qe(ss),updateOperator:qe(ss),definitionOperator:qe(ss),typeOperator:qe(ss),controlOperator:qe(ss),punctuation:A1,separator:qe(A1),bracket:Jc,angleBracket:qe(Jc),squareBracket:qe(Jc),paren:qe(Jc),brace:qe(Jc),content:os,heading:ll,heading1:qe(ll),heading2:qe(ll),heading3:qe(ll),heading4:qe(ll),heading5:qe(ll),heading6:qe(ll),contentSeparator:qe(os),list:qe(os),quote:qe(os),emphasis:qe(os),strong:qe(os),link:qe(os),monospace:qe(os),strikethrough:qe(os),inserted:qe(),deleted:qe(),changed:qe(),invalid:qe(),meta:th,documentMeta:qe(th),annotation:qe(th),processingInstruction:qe(th),definition:_i.defineModifier("definition"),constant:_i.defineModifier("constant"),function:_i.defineModifier("function"),standard:_i.defineModifier("standard"),local:_i.defineModifier("local"),special:_i.defineModifier("special")};for(let n in me){let e=me[n];e instanceof _i&&(e.name=n)}hT([{tag:me.link,class:"tok-link"},{tag:me.heading,class:"tok-heading"},{tag:me.emphasis,class:"tok-emphasis"},{tag:me.strong,class:"tok-strong"},{tag:me.keyword,class:"tok-keyword"},{tag:me.atom,class:"tok-atom"},{tag:me.bool,class:"tok-bool"},{tag:me.url,class:"tok-url"},{tag:me.labelName,class:"tok-labelName"},{tag:me.inserted,class:"tok-inserted"},{tag:me.deleted,class:"tok-deleted"},{tag:me.literal,class:"tok-literal"},{tag:me.string,class:"tok-string"},{tag:me.number,class:"tok-number"},{tag:[me.regexp,me.escape,me.special(me.string)],class:"tok-string2"},{tag:me.variableName,class:"tok-variableName"},{tag:me.local(me.variableName),class:"tok-variableName tok-local"},{tag:me.definition(me.variableName),class:"tok-variableName tok-definition"},{tag:me.special(me.variableName),class:"tok-variableName2"},{tag:me.definition(me.propertyName),class:"tok-propertyName tok-definition"},{tag:me.typeName,class:"tok-typeName"},{tag:me.namespace,class:"tok-namespace"},{tag:me.className,class:"tok-className"},{tag:me.macroName,class:"tok-macroName"},{tag:me.propertyName,class:"tok-propertyName"},{tag:me.operator,class:"tok-operator"},{tag:me.comment,class:"tok-comment"},{tag:me.meta,class:"tok-meta"},{tag:me.invalid,class:"tok-invalid"},{tag:me.punctuation,class:"tok-punctuation"}]);var ux;const _o=new St;function aj(n){return Ke.define({combine:n?e=>e.concat(n):void 0})}const lj=new St;class Ui{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Dt.prototype.hasOwnProperty("tree")||Object.defineProperty(Dt.prototype,"tree",{get(){return Jn(this)}}),this.parser=t,this.extension=[ja.of(this),Dt.languageData.of((s,l,c)=>{let f=OE(s,l,c),h=f.type.prop(_o);if(!h)return[];let d=s.facet(h),m=f.type.prop(lj);if(m){let g=f.resolve(l-f.from,c);for(let x of m)if(x.test(g,s)){let S=s.facet(x.facet);return x.type=="replace"?S:S.concat(d)}}return d})].concat(r)}isActiveAt(e,t,r=-1){return OE(e,t,r).type.prop(_o)==this.data}findRegions(e){let t=e.facet(ja);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,l)=>{if(s.prop(_o)==this.data){r.push({from:l,to:l+s.length});return}let c=s.prop(St.mounted);if(c){if(c.tree.prop(_o)==this.data){if(c.overlay)for(let f of c.overlay)r.push({from:f.from+l,to:f.to+l});else r.push({from:l,to:l+s.length});return}else if(c.overlay){let f=r.length;if(i(c.tree,c.overlay[0].from+l),r.length>f)return}}for(let f=0;f<s.children.length;f++){let h=s.children[f];h instanceof Pn&&i(h,s.positions[f]+l)}};return i(Jn(e),0),r}get allowsNesting(){return!0}}Ui.setState=gt.define();function OE(n,e,t){let r=n.facet(ja),i=Jn(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,$n.ExcludeBuffers))s.type.isTop&&(i=s);return i}class Bd extends Ui{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=aj(e.languageData);return new Bd(t,e.parser.configure({props:[_o.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new Bd(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Jn(n){let e=n.field(Ui.state,!1);return e?e.tree:Pn.empty}class oj{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let e0=null;class Nd{constructor(e,t,r=[],i,s,l,c,f){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=l,this.skipped=c,this.scheduleOn=f,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new Nd(e,t,[],Pn.empty,0,r,[],null)}startParse(){return this.parser.startParse(new oj(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Pn.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(yl.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(yl.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=e0;e0=this;try{return e()}finally{e0=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=BE(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:l,skipped:c}=this;if(this.takeTree(),!e.empty){let f=[];if(e.iterChangedRanges((h,d,m,g)=>f.push({fromA:h,toA:d,fromB:m,toB:g})),r=yl.applyChanges(r,f),i=Pn.empty,s=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){c=[];for(let h of this.skipped){let d=e.mapPos(h.from,1),m=e.mapPos(h.to,-1);d<m&&c.push({from:d,to:m})}}}return new Nd(this.parser,t,r,i,s,l,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=BE(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends cT{createParse(t,r,i){let s=i[0].from,l=i[i.length-1].to;return{parsedPos:s,advance(){let f=e0;if(f){for(let h of i)f.tempSkipped.push(h);e&&(f.scheduleOn=f.scheduleOn?Promise.all([f.scheduleOn,e]):e)}return this.parsedPos=l,new Pn(Xr.none,[],[],l-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return e0}}function BE(n,e,t){return yl.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Xo{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new Xo(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=Nd.create(e.facet(ja).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new Xo(r)}}Ui.state=pr.define({create:Xo.init,update(n,e){for(let t of e.effects)if(t.is(Ui.setState))return t.value;return e.startState.facet(ja)!=e.state.facet(ja)?Xo.init(e.state):n.apply(e)}});let dT=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(dT=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const hx=typeof navigator<"u"&&(!((ux=navigator.scheduling)===null||ux===void 0)&&ux.isInputPending)?()=>navigator.scheduling.isInputPending():null,cj=On.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Ui.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Ui.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=dT(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Ui.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!hx?Math.max(25,e.timeRemaining()-5):1e9),c=s.context.treeLen<i&&r.doc.length>i+1e3,f=s.context.work(()=>hx&&hx()||Date.now()>l,i+(c?0:1e5));this.chunkBudget-=Date.now()-t,(f||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Ui.setState.of(new Xo(s.context))})),this.chunkBudget>0&&!(f&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Ur(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ja=Ke.define({combine(n){return n.length?n[0]:null},enables:n=>[Ui.state,cj,$e.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class fj{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const uj=Ke.define(),pp=Ke.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Rd(n){let e=n.facet(pp);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function H0(n,e){let t="",r=n.tabSize,i=n.facet(pp)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let s=0;s<e;s++)t+=i;return t}function Rv(n,e){n instanceof Dt&&(n=new mp(n));for(let r of n.state.facet(uj)){let i=r(n,e);if(i!==void 0)return i}let t=Jn(n.state);return t.length>=e?hj(n,t,e):null}class mp{constructor(e,t={}){this.state=e,this.options=t,this.unit=Rd(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.countColumn(r,e-i),l=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return l>-1&&(s+=l-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,t=e.length){return ec(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let l=s(i);if(l>-1)return l}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const pT=new St;function hj(n,e,t){let r=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=r.node){let s=[];for(let l=i;l&&!(l.from<r.node.from||l.to>r.node.to||l.from==r.node.from&&l.type==r.node.type);l=l.parent)s.push(l);for(let l=s.length-1;l>=0;l--)r={node:s[l],next:r}}return mT(r,n,t)}function mT(n,e,t){for(let r=n;r;r=r.next){let i=pj(r.node);if(i)return i(Fv.create(e,t,r))}return 0}function dj(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function pj(n){let e=n.type.prop(pT);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(St.closedBy))){let i=n.lastChild,s=i&&r.indexOf(i.name)>-1;return l=>vj(l,!0,1,void 0,s&&!dj(l)?i.from:void 0)}return n.parent==null?mj:null}function mj(){return 0}class Fv extends mp{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new Fv(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(gj(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return mT(this.context.next,this.base,this.pos)}}function gj(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function xj(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),l=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let c=t.to;;){let f=e.childAfter(c);if(!f||f==r)return null;if(!f.type.isSkipped){if(f.from>=l)return null;let h=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+h}}c=f.to}}function vj(n,e,t,r,i){let s=n.textAfter,l=s.match(/^\s*/)[0].length,c=r&&s.slice(l,l+r.length)==r||i==n.pos+l,f=xj(n);return f?c?n.column(f.from):n.column(f.to):n.baseIndent+(c?0:n.unit*t)}function yj({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const bj=200;function Sj(){return Dt.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+bj)return n;let s=t.sliceString(i.from,r);if(!e.some(h=>h.test(s)))return n;let{state:l}=n,c=-1,f=[];for(let{head:h}of l.selection.ranges){let d=l.doc.lineAt(h);if(d.from==c)continue;c=d.from;let m=Rv(l,d.from);if(m==null)continue;let g=/^\s*/.exec(d.text)[0],x=H0(l,m);g!=x&&f.push({from:d.from,to:d.from+g.length,insert:x})}return f.length?[n,{changes:f,sequential:!0}]:n})}const wj=Ke.define(),gT=new St;function Ej(n,e,t){let r=Jn(n);if(r.length<t)return null;let i=r.resolveStack(t,1),s=null;for(let l=i;l;l=l.next){let c=l.node;if(c.to<=t||c.from>t)continue;if(s&&c.from<e)break;let f=c.type.prop(gT);if(f&&(c.to<r.length-50||r.length==n.doc.length||!Cj(c))){let h=f(c,n);h&&h.from<=t&&h.from>=e&&h.to>t&&(s=h)}}return s}function Cj(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function Fd(n,e,t){for(let r of n.facet(wj)){let i=r(n,e,t);if(i)return i}return Ej(n,e,t)}function xT(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const gp=gt.define({map:xT}),ff=gt.define({map:xT});function vT(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const Dl=pr.define({create(){return at.none},update(n,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,r)=>n=NE(n,t,r)),n=n.map(e.changes);for(let t of e.effects)if(t.is(gp)&&!Aj(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(ST),i=r?at.replace({widget:new Nj(r(e.state,t.value))}):RE;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(ff)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(n=NE(n,e.selection.main.head)),n},provide:n=>$e.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(RE.range(r,i))}return at.set(e,!0)}});function NE(n,e,t=e){let r=!1;return n.between(e,t,(i,s)=>{i<t&&s>e&&(r=!0)}),r?n.update({filterFrom:e,filterTo:t,filter:(i,s)=>i>=t||s<=e}):n}function Md(n,e,t){var r;let i=null;return(r=n.field(Dl,!1))===null||r===void 0||r.between(e,t,(s,l)=>{(!i||i.from>s)&&(i={from:s,to:l})}),i}function Aj(n,e,t){let r=!1;return n.between(e,e,(i,s)=>{i==e&&s==t&&(r=!0)}),r}function yT(n,e){return n.field(Dl,!1)?e:e.concat(gt.appendConfig.of(wT()))}const Tj=n=>{for(let e of vT(n)){let t=Fd(n.state,e.from,e.to);if(t)return n.dispatch({effects:yT(n.state,[gp.of(t),bT(n,t)])}),!0}return!1},_j=n=>{if(!n.state.field(Dl,!1))return!1;let e=[];for(let t of vT(n)){let r=Md(n.state,t.from,t.to);r&&e.push(ff.of(r),bT(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function bT(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return $e.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const Dj=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),s=Fd(e,i.from,i.to);s&&t.push(gp.of(s)),r=(s?n.lineBlockAt(s.to):i).to+1}return t.length&&n.dispatch({effects:yT(n.state,t)}),!!t.length},kj=n=>{let e=n.state.field(Dl,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(ff.of({from:r,to:i}))}),n.dispatch({effects:t}),!0},Oj=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Tj},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:_j},{key:"Ctrl-Alt-[",run:Dj},{key:"Ctrl-Alt-]",run:kj}],Bj={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},ST=Ke.define({combine(n){return vs(n,Bj)}});function wT(n){return[Dl,Mj]}function ET(n,e){let{state:t}=n,r=t.facet(ST),i=l=>{let c=n.lineBlockAt(n.posAtDOM(l.target)),f=Md(n.state,c.from,c.to);f&&n.dispatch({effects:ff.of(f)}),l.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const RE=at.replace({widget:new class extends Ks{toDOM(n){return ET(n,null)}}});class Nj extends Ks{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return ET(e,this.value)}}const Rj={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class dx extends $s{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Fj(n={}){let e={...Rj,...n},t=new dx(e,!0),r=new dx(e,!1),i=On.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(ja)!=l.state.facet(ja)||l.startState.field(Dl,!1)!=l.state.field(Dl,!1)||Jn(l.startState)!=Jn(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let c=new Gs;for(let f of l.viewportLineBlocks){let h=Md(l.state,f.from,f.to)?r:Fd(l.state,f.from,f.to)?t:null;h&&c.add(f.from,f.from,h)}return c.finish()}}),{domEventHandlers:s}=e;return[i,FP({class:"cm-foldGutter",markers(l){var c;return((c=l.plugin(i))===null||c===void 0?void 0:c.markers)||Nt.empty},initialSpacer(){return new dx(e,!1)},domEventHandlers:{...s,click:(l,c,f)=>{if(s.click&&s.click(l,c,f))return!0;let h=Md(l.state,c.from,c.to);if(h)return l.dispatch({effects:ff.of(h)}),!0;let d=Fd(l.state,c.from,c.to);return d?(l.dispatch({effects:gp.of(d)}),!0):!1}}}),wT()]}const Mj=$e.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class uf{constructor(e,t){this.specs=e;let r;function i(c){let f=Ma.newName();return(r||(r=Object.create(null)))["."+f]=c,f}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,l=t.scope;this.scope=l instanceof Ui?c=>c.prop(_o)==l.data:l?c=>c==l:void 0,this.style=hT(e.map(c=>({tag:c.tag,class:c.class||i(Object.assign({},c,{tag:null}))})),{all:s}).style,this.module=r?new Ma(r):null,this.themeType=t.themeType}static define(e,t){return new uf(e,t||{})}}const T1=Ke.define(),CT=Ke.define({combine(n){return n.length?[n[0]]:null}});function px(n){let e=n.facet(T1);return e.length?e:n.facet(CT)}function AT(n,e){let t=[Ij],r;return n instanceof uf&&(n.module&&t.push($e.styleModule.of(n.module)),r=n.themeType),e?.fallback?t.push(CT.of(n)):r?t.push(T1.computeN([$e.darkTheme],i=>i.facet($e.darkTheme)==(r=="dark")?[n]:[])):t.push(T1.of(n)),t}class Lj{constructor(e){this.markCache=Object.create(null),this.tree=Jn(e.state),this.decorations=this.buildDeco(e,px(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Jn(e.state),r=px(e.state),i=r!=px(e.startState),{viewport:s}=e.view,l=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!i&&t.type==this.tree.type&&l>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return at.none;let r=new Gs;for(let{from:i,to:s}of e.visibleRanges)rj(this.tree,t,(l,c,f)=>{r.add(l,c,this.markCache[f]||(this.markCache[f]=at.mark({class:f})))},i,s);return r.finish()}}const Ij=Ll.high(On.fromClass(Lj,{decorations:n=>n.decorations})),Pj=uf.define([{tag:me.meta,color:"#404740"},{tag:me.link,textDecoration:"underline"},{tag:me.heading,textDecoration:"underline",fontWeight:"bold"},{tag:me.emphasis,fontStyle:"italic"},{tag:me.strong,fontWeight:"bold"},{tag:me.strikethrough,textDecoration:"line-through"},{tag:me.keyword,color:"#708"},{tag:[me.atom,me.bool,me.url,me.contentSeparator,me.labelName],color:"#219"},{tag:[me.literal,me.inserted],color:"#164"},{tag:[me.string,me.deleted],color:"#a11"},{tag:[me.regexp,me.escape,me.special(me.string)],color:"#e40"},{tag:me.definition(me.variableName),color:"#00f"},{tag:me.local(me.variableName),color:"#30a"},{tag:[me.typeName,me.namespace],color:"#085"},{tag:me.className,color:"#167"},{tag:[me.special(me.variableName),me.macroName],color:"#256"},{tag:me.definition(me.propertyName),color:"#00c"},{tag:me.comment,color:"#940"},{tag:me.invalid,color:"#f00"}]),jj=$e.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),TT=1e4,_T="()[]{}",DT=Ke.define({combine(n){return vs(n,{afterCursor:!0,brackets:_T,maxScanDistance:TT,renderMatch:Uj})}}),zj=at.mark({class:"cm-matchingBracket"}),Hj=at.mark({class:"cm-nonmatchingBracket"});function Uj(n){let e=[],t=n.matched?zj:Hj;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const Vj=pr.define({create(){return at.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(DT);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=hs(e.state,i.head,-1,r)||i.head>0&&hs(e.state,i.head-1,1,r)||r.afterCursor&&(hs(e.state,i.head,1,r)||i.head<e.state.doc.length&&hs(e.state,i.head+1,-1,r));s&&(t=t.concat(r.renderMatch(s,e.state)))}return at.set(t,!0)},provide:n=>$e.decorations.from(n)}),qj=[Vj,jj];function Wj(n={}){return[DT.of(n),qj]}const Gj=new St;function _1(n,e,t){let r=n.prop(e<0?St.openedBy:St.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function D1(n){let e=n.type.prop(Gj);return e?e(n.node):n}function hs(n,e,t,r={}){let i=r.maxScanDistance||TT,s=r.brackets||_T,l=Jn(n),c=l.resolveInner(e,t);for(let f=c;f;f=f.parent){let h=_1(f.type,t,s);if(h&&f.from<f.to){let d=D1(f);if(d&&(t>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return Xj(n,e,t,f,d,h,s)}}return $j(n,e,t,l,c.type,i,s)}function Xj(n,e,t,r,i,s,l){let c=r.parent,f={from:i.from,to:i.to},h=0,d=c?.cursor();if(d&&(t<0?d.childBefore(r.from):d.childAfter(r.to)))do if(t<0?d.to<=r.from:d.from>=r.to){if(h==0&&s.indexOf(d.type.name)>-1&&d.from<d.to){let m=D1(d);return{start:f,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(_1(d.type,t,l))h++;else if(_1(d.type,-t,l)){if(h==0){let m=D1(d);return{start:f,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}h--}}while(t<0?d.prevSibling():d.nextSibling());return{start:f,matched:!1}}function $j(n,e,t,r,i,s,l){let c=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),f=l.indexOf(c);if(f<0||f%2==0!=t>0)return null;let h={from:t<0?e-1:e,to:t>0?e+1:e},d=n.doc.iterRange(e,t>0?n.doc.length:0),m=0;for(let g=0;!d.next().done&&g<=s;){let x=d.value;t<0&&(g+=x.length);let S=e+g*t;for(let b=t>0?0:x.length-1,w=t>0?x.length:-1;b!=w;b+=t){let T=l.indexOf(x[b]);if(!(T<0||r.resolveInner(S+b,1).type!=i))if(T%2==0==t>0)m++;else{if(m==1)return{start:h,end:{from:S+b,to:S+b+1},matched:T>>1==f>>1};m--}}t>0&&(g+=x.length)}return d.done?{start:h,matched:!1}:null}const Yj=Object.create(null),FE=[Xr.none],ME=[],LE=Object.create(null),Kj=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Kj[n]=Qj(Yj,e);function mx(n,e){ME.indexOf(n)>-1||(ME.push(n),console.warn(e))}function Qj(n,e){let t=[];for(let c of e.split(" ")){let f=[];for(let h of c.split(".")){let d=n[h]||me[h];d?typeof d=="function"?f.length?f=f.map(d):mx(h,`Modifier ${h} used at start of tag`):f.length?mx(h,`Tag ${h} used as modifier`):f=Array.isArray(d)?d:[d]:mx(h,`Unknown highlighting tag ${h}`)}for(let h of f)t.push(h)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(c=>c.id),s=LE[i];if(s)return s.id;let l=LE[i]=Xr.define({id:FE.length,name:r,props:[fT({[r]:t})]});return FE.push(l),l.id}un.RTL,un.LTR;const Zj=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=Lv(n.state,t.from);return r.line?Jj(n):r.block?tz(n):!1};function Mv(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const Jj=Mv(iz,0),ez=Mv(kT,0),tz=Mv((n,e)=>kT(n,e,rz(e)),0);function Lv(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const t0=50;function nz(n,{open:e,close:t},r,i){let s=n.sliceDoc(r-t0,r),l=n.sliceDoc(i,i+t0),c=/\s*$/.exec(s)[0].length,f=/^\s*/.exec(l)[0].length,h=s.length-c;if(s.slice(h-e.length,h)==e&&l.slice(f,f+t.length)==t)return{open:{pos:r-c,margin:c&&1},close:{pos:i+f,margin:f&&1}};let d,m;i-r<=2*t0?d=m=n.sliceDoc(r,i):(d=n.sliceDoc(r,r+t0),m=n.sliceDoc(i-t0,i));let g=/^\s*/.exec(d)[0].length,x=/\s*$/.exec(m)[0].length,S=m.length-x-t.length;return d.slice(g,g+e.length)==e&&m.slice(S,S+t.length)==t?{open:{pos:r+g+e.length,margin:/\s/.test(d.charAt(g+e.length))?1:0},close:{pos:i-x-t.length,margin:/\s/.test(m.charAt(S-1))?1:0}}:null}function rz(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to);i.from>r.from&&i.from==t.to&&(i=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function kT(n,e,t=e.selection.ranges){let r=t.map(s=>Lv(e,s.from).block);if(!r.every(s=>s))return null;let i=t.map((s,l)=>nz(e,r[l],s.from,s.to));if(n!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,l)=>i[l]?[]:[{from:s.from,insert:r[l].open+" "},{from:s.to,insert:" "+r[l].close}]))};if(n!=1&&i.some(s=>s)){let s=[];for(let l=0,c;l<i.length;l++)if(c=i[l]){let f=r[l],{open:h,close:d}=c;s.push({from:h.pos-f.open.length,to:h.pos+h.margin},{from:d.pos-d.margin,to:d.pos+f.close.length})}return{changes:s}}return null}function iz(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:l}of t){let c=r.length,f=1e9,h=Lv(e,s).line;if(h){for(let d=s;d<=l;){let m=e.doc.lineAt(d);if(m.from>i&&(s==l||l>m.from)){i=m.from;let g=/^\s*/.exec(m.text)[0].length,x=g==m.length,S=m.text.slice(g,g+h.length)==h?g:-1;g<m.text.length&&g<f&&(f=g),r.push({line:m,comment:S,token:h,indent:g,empty:x,single:!1})}d=m.to+1}if(f<1e9)for(let d=c;d<r.length;d++)r[d].indent<r[d].line.text.length&&(r[d].indent=f);r.length==c+1&&(r[c].single=!0)}}if(n!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:c,token:f,indent:h,empty:d,single:m}of r)(m||!d)&&s.push({from:c.from+h,insert:f+" "});let l=e.changes(s);return{changes:l,selection:e.selection.map(l,1)}}else if(n!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:l,comment:c,token:f}of r)if(c>=0){let h=l.from+c,d=h+f.length;l.text[d-l.from]==" "&&d++,s.push({from:h,to:d})}return{changes:s}}return null}const k1=xs.define(),sz=xs.define(),az=Ke.define(),OT=Ke.define({combine(n){return vs(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}}),BT=pr.define({create(){return ds.empty},update(n,e){let t=e.state.facet(OT),r=e.annotation(k1);if(r){let f=Vr.fromTransaction(e,r.selection),h=r.side,d=h==0?n.undone:n.done;return f?d=Ld(d,d.length,t.minDepth,f):d=FT(d,e.startState.selection),new ds(h==0?r.rest:d,h==0?d:r.rest)}let i=e.annotation(sz);if((i=="full"||i=="before")&&(n=n.isolate()),e.annotation(Wn.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=Vr.fromTransaction(e),l=e.annotation(Wn.time),c=e.annotation(Wn.userEvent);return s?n=n.addChanges(s,l,c,t,e):e.selection&&(n=n.addSelection(e.startState.selection,l,c,t.newGroupDelay)),(i=="full"||i=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new ds(n.done.map(Vr.fromJSON),n.undone.map(Vr.fromJSON))}});function lz(n={}){return[BT,OT.of(n),$e.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?NT:e.inputType=="historyRedo"?O1:null;return r?(e.preventDefault(),r(t)):!1}})]}function xp(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(BT,!1);if(!i)return!1;let s=i.pop(n,t,e);return s?(r(s),!0):!1}}const NT=xp(0,!1),O1=xp(1,!1),oz=xp(0,!0),cz=xp(1,!0);class Vr{constructor(e,t,r,i,s){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new Vr(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Vr(e.changes&&Vn.fromJSON(e.changes),[],e.mapped&&ps.fromJSON(e.mapped),e.startSelection&&De.fromJSON(e.startSelection),e.selectionsAfter.map(De.fromJSON))}static fromTransaction(e,t){let r=Di;for(let i of e.startState.facet(az)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new Vr(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,Di)}static selection(e){return new Vr(void 0,Di,void 0,void 0,e)}}function Ld(n,e,t,r){let i=e+1>t+20?e-t-1:0,s=n.slice(i,e);return s.push(r),s}function fz(n,e){let t=[],r=!1;return n.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,l,c)=>{for(let f=0;f<t.length;){let h=t[f++],d=t[f++];c>=h&&l<=d&&(r=!0)}}),r}function uz(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function RT(n,e){return n.length?e.length?n.concat(e):n:e}const Di=[],hz=200;function FT(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-hz));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),Ld(n,n.length-1,1e9,t.setSelAfter(r)))}else return[Vr.selection([e])]}function dz(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function gx(n,e){if(!n.length)return n;let t=n.length,r=Di;for(;t;){let i=pz(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=n.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,r=i.selectionsAfter}return r.length?[Vr.selection(r)]:Di}function pz(n,e,t){let r=RT(n.selectionsAfter.length?n.selectionsAfter.map(c=>c.map(e)):Di,t);if(!n.changes)return Vr.selection(r);let i=n.changes.map(e),s=e.mapDesc(n.changes,!0),l=n.mapped?n.mapped.composeDesc(s):s;return new Vr(i,gt.mapEffects(n.effects,e),l,n.startSelection.map(s),r)}const mz=/^(input\.type|delete)($|\.)/;class ds{constructor(e,t,r=0,i=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new ds(this.done,this.undone):this}addChanges(e,t,r,i,s){let l=this.done,c=l[l.length-1];return c&&c.changes&&!c.changes.empty&&e.changes&&(!r||mz.test(r))&&(!c.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,fz(c.changes,e.changes))||r=="input.type.compose")?l=Ld(l,l.length-1,i.minDepth,new Vr(e.changes.compose(c.changes),RT(gt.mapEffects(e.effects,c.changes),c.effects),c.mapped,c.startSelection,Di)):l=Ld(l,l.length,i.minDepth,e),new ds(l,Di,t,r)}addSelection(e,t,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Di;return s.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&uz(s[s.length-1],e)?this:new ds(FT(this.done,e),this.undone,t,r)}addMapping(e){return new ds(gx(this.done,e),gx(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],l=s.selectionsAfter[0]||t.selection;if(r&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:k1.of({side:e,rest:dz(i),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let c=i.length==1?Di:i.slice(0,i.length-1);return s.mapped&&(c=gx(c,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:k1.of({side:e,rest:c,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}ds.empty=new ds(Di,Di);const gz=[{key:"Mod-z",run:NT,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:O1,preventDefault:!0},{linux:"Ctrl-Shift-z",run:O1,preventDefault:!0},{key:"Mod-u",run:oz,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:cz,preventDefault:!0}];function tc(n,e){return De.create(n.ranges.map(e),n.mainIndex)}function $i(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Yi({state:n,dispatch:e},t){let r=tc(n.selection,t);return r.eq(n.selection,!0)?!1:(e($i(n,r)),!0)}function vp(n,e){return De.cursor(e?n.to:n.from)}function MT(n,e){return Yi(n,t=>t.empty?n.moveByChar(t,e):vp(t,e))}function Sr(n){return n.textDirectionAt(n.state.selection.main.head)==un.LTR}const LT=n=>MT(n,!Sr(n)),IT=n=>MT(n,Sr(n));function PT(n,e){return Yi(n,t=>t.empty?n.moveByGroup(t,e):vp(t,e))}const xz=n=>PT(n,!Sr(n)),vz=n=>PT(n,Sr(n));function yz(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function yp(n,e,t){let r=Jn(n).resolveInner(e.head),i=t?St.closedBy:St.openedBy;for(let f=e.head;;){let h=t?r.childAfter(f):r.childBefore(f);if(!h)break;yz(n,h,i)?r=h:f=t?h.to:h.from}let s=r.type.prop(i),l,c;return s&&(l=t?hs(n,r.from,1):hs(n,r.to,-1))&&l.matched?c=t?l.end.to:l.end.from:c=t?r.to:r.from,De.cursor(c,t?-1:1)}const bz=n=>Yi(n,e=>yp(n.state,e,!Sr(n))),Sz=n=>Yi(n,e=>yp(n.state,e,Sr(n)));function jT(n,e){return Yi(n,t=>{if(!t.empty)return vp(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const zT=n=>jT(n,!1),HT=n=>jT(n,!0);function UT(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let s of n.state.facet($e.scrollMargins)){let l=s(n);l?.top&&(t=Math.max(l?.top,t)),l?.bottom&&(r=Math.max(l?.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function VT(n,e){let t=UT(n),{state:r}=n,i=tc(r.selection,l=>l.empty?n.moveVertically(l,e,t.height):vp(l,e));if(i.eq(r.selection))return!1;let s;if(t.selfScroll){let l=n.coordsAtPos(r.selection.main.head),c=n.scrollDOM.getBoundingClientRect(),f=c.top+t.marginTop,h=c.bottom-t.marginBottom;l&&l.top>f&&l.bottom<h&&(s=$e.scrollIntoView(i.main.head,{y:"start",yMargin:l.top-f}))}return n.dispatch($i(r,i),{effects:s}),!0}const IE=n=>VT(n,!1),B1=n=>VT(n,!0);function Va(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let s=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=De.cursor(r.from+s))}return i}const wz=n=>Yi(n,e=>Va(n,e,!0)),Ez=n=>Yi(n,e=>Va(n,e,!1)),Cz=n=>Yi(n,e=>Va(n,e,!Sr(n))),Az=n=>Yi(n,e=>Va(n,e,Sr(n))),Tz=n=>Yi(n,e=>De.cursor(n.lineBlockAt(e.head).from,1)),_z=n=>Yi(n,e=>De.cursor(n.lineBlockAt(e.head).to,-1));function Dz(n,e,t){let r=!1,i=tc(n.selection,s=>{let l=hs(n,s.head,-1)||hs(n,s.head,1)||s.head>0&&hs(n,s.head-1,1)||s.head<n.doc.length&&hs(n,s.head+1,-1);if(!l||!l.end)return s;r=!0;let c=l.start.from==s.head?l.end.to:l.end.from;return De.cursor(c)});return r?(e($i(n,i)),!0):!1}const kz=({state:n,dispatch:e})=>Dz(n,e);function Fi(n,e){let t=tc(n.state.selection,r=>{let i=e(r);return De.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch($i(n.state,t)),!0)}function qT(n,e){return Fi(n,t=>n.moveByChar(t,e))}const WT=n=>qT(n,!Sr(n)),GT=n=>qT(n,Sr(n));function XT(n,e){return Fi(n,t=>n.moveByGroup(t,e))}const Oz=n=>XT(n,!Sr(n)),Bz=n=>XT(n,Sr(n)),Nz=n=>Fi(n,e=>yp(n.state,e,!Sr(n))),Rz=n=>Fi(n,e=>yp(n.state,e,Sr(n)));function $T(n,e){return Fi(n,t=>n.moveVertically(t,e))}const YT=n=>$T(n,!1),KT=n=>$T(n,!0);function QT(n,e){return Fi(n,t=>n.moveVertically(t,e,UT(n).height))}const PE=n=>QT(n,!1),jE=n=>QT(n,!0),Fz=n=>Fi(n,e=>Va(n,e,!0)),Mz=n=>Fi(n,e=>Va(n,e,!1)),Lz=n=>Fi(n,e=>Va(n,e,!Sr(n))),Iz=n=>Fi(n,e=>Va(n,e,Sr(n))),Pz=n=>Fi(n,e=>De.cursor(n.lineBlockAt(e.head).from)),jz=n=>Fi(n,e=>De.cursor(n.lineBlockAt(e.head).to)),zE=({state:n,dispatch:e})=>(e($i(n,{anchor:0})),!0),HE=({state:n,dispatch:e})=>(e($i(n,{anchor:n.doc.length})),!0),UE=({state:n,dispatch:e})=>(e($i(n,{anchor:n.selection.main.anchor,head:0})),!0),VE=({state:n,dispatch:e})=>(e($i(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),zz=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),Hz=({state:n,dispatch:e})=>{let t=bp(n).map(({from:r,to:i})=>De.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:De.create(t),userEvent:"select"})),!0},Uz=({state:n,dispatch:e})=>{let t=tc(n.selection,r=>{let i=Jn(n),s=i.resolveStack(r.from,1);if(r.empty){let l=i.resolveStack(r.from,-1);l.node.from>=s.node.from&&l.node.to<=s.node.to&&(s=l)}for(let l=s;l;l=l.next){let{node:c}=l;if((c.from<r.from&&c.to>=r.to||c.to>r.to&&c.from<=r.from)&&l.next)return De.range(c.to,c.from)}return r});return t.eq(n.selection)?!1:(e($i(n,t)),!0)};function ZT(n,e){let{state:t}=n,r=t.selection,i=t.selection.ranges.slice();for(let s of t.selection.ranges){let l=t.doc.lineAt(s.head);if(e?l.to<n.state.doc.length:l.from>0)for(let c=s;;){let f=n.moveVertically(c,e);if(f.head<l.from||f.head>l.to){i.some(h=>h.head==f.head)||i.push(f);break}else{if(f.head==c.head)break;c=f}}}return i.length==r.ranges.length?!1:(n.dispatch($i(t,De.create(i,i.length-1))),!0)}const Vz=n=>ZT(n,!1),qz=n=>ZT(n,!0),Wz=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=De.create([t.main]):t.main.empty||(r=De.create([De.cursor(t.main.head)])),r?(e($i(n,r)),!0):!1};function hf(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(s=>{let{from:l,to:c}=s;if(l==c){let f=e(s);f<l?(t="delete.backward",f=nh(n,f,!1)):f>l&&(t="delete.forward",f=nh(n,f,!0)),l=Math.min(l,f),c=Math.max(c,f)}else l=nh(n,l,!1),c=nh(n,c,!0);return l==c?{range:s}:{changes:{from:l,to:c},range:De.cursor(l,l<s.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?$e.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function nh(n,e,t){if(n instanceof $e)for(let r of n.state.facet($e.atomicRanges).map(i=>i(n)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const JT=(n,e,t)=>hf(n,r=>{let i=r.from,{state:s}=n,l=s.doc.lineAt(i),c,f;if(t&&!e&&i>l.from&&i<l.from+200&&!/[^ \t]/.test(c=l.text.slice(0,i-l.from))){if(c[c.length-1]=="	")return i-1;let h=ec(c,s.tabSize),d=h%Rd(s)||Rd(s);for(let m=0;m<d&&c[c.length-1-m]==" ";m++)i--;f=i}else f=ur(l.text,i-l.from,e,e)+l.from,f==i&&l.number!=(e?s.doc.lines:1)?f+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(f-l.from,i-l.from))&&(f=ur(l.text,f-l.from,!1,!1)+l.from);return f}),N1=n=>JT(n,!1,!0),e6=n=>JT(n,!0,!1),t6=(n,e)=>hf(n,t=>{let r=t.head,{state:i}=n,s=i.doc.lineAt(r),l=i.charCategorizer(r);for(let c=null;;){if(r==(e?s.to:s.from)){r==t.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let f=ur(s.text,r-s.from,e)+s.from,h=s.text.slice(Math.min(r,f)-s.from,Math.max(r,f)-s.from),d=l(h);if(c!=null&&d!=c)break;(h!=" "||r!=t.head)&&(c=d),r=f}return r}),n6=n=>t6(n,!1),Gz=n=>t6(n,!0),Xz=n=>hf(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),$z=n=>hf(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),Yz=n=>hf(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),Kz=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Rt.of(["",""])},range:De.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},Qz=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,s=n.doc.lineAt(i),l=i==s.from?i-1:ur(s.text,i-s.from,!1)+s.from,c=i==s.to?i+1:ur(s.text,i-s.from,!0)+s.from;return{changes:{from:l,to:c,insert:n.doc.slice(i,c).append(n.doc.slice(l,i))},range:De.cursor(c)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function bp(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),s=n.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=n.doc.lineAt(r.to-1)),t>=i.number){let l=e[e.length-1];l.to=s.to,l.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});t=s.number+1}return e}function r6(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let s of bp(n)){if(t?s.to==n.doc.length:s.from==0)continue;let l=n.doc.lineAt(t?s.to+1:s.from-1),c=l.length+1;if(t){r.push({from:s.to,to:l.to},{from:s.from,insert:l.text+n.lineBreak});for(let f of s.ranges)i.push(De.range(Math.min(n.doc.length,f.anchor+c),Math.min(n.doc.length,f.head+c)))}else{r.push({from:l.from,to:s.from},{from:s.to,insert:n.lineBreak+l.text});for(let f of s.ranges)i.push(De.range(f.anchor-c,f.head-c))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:De.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Zz=({state:n,dispatch:e})=>r6(n,e,!1),Jz=({state:n,dispatch:e})=>r6(n,e,!0);function i6(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of bp(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const eH=({state:n,dispatch:e})=>i6(n,e,!1),tH=({state:n,dispatch:e})=>i6(n,e,!0),nH=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(bp(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=tc(e.selection,i=>{let s;if(n.lineWrapping){let l=n.lineBlockAt(i.head),c=n.coordsAtPos(i.head,i.assoc||1);c&&(s=l.bottom+n.documentTop-c.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,s)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function rH(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Jn(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(St.closedBy))&&s.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const qE=s6(!1),iH=s6(!0);function s6(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:l}=i,c=e.doc.lineAt(s),f=!n&&s==l&&rH(e,s);n&&(s=l=(l<=c.to?c:e.doc.lineAt(l)).to);let h=new mp(e,{simulateBreak:s,simulateDoubleBreak:!!f}),d=Rv(h,s);for(d==null&&(d=ec(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));l<c.to&&/\s/.test(c.text[l-c.from]);)l++;f?{from:s,to:l}=f:s>c.from&&s<c.from+100&&!/\S/.test(c.text.slice(0,s))&&(s=c.from);let m=["",H0(e,d)];return f&&m.push(H0(e,h.lineIndent(c.from,-1))),{changes:{from:s,to:l,insert:Rt.of(m)},range:De.cursor(s+1+m[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Iv(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let l=r.from;l<=r.to;){let c=n.doc.lineAt(l);c.number>t&&(r.empty||r.to>c.from)&&(e(c,i,r),t=c.number),l=c.to+1}let s=n.changes(i);return{changes:i,range:De.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const sH=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new mp(n,{overrideIndentation:s=>{let l=t[s];return l??-1}}),i=Iv(n,(s,l,c)=>{let f=Rv(r,s.from);if(f==null)return;/\S/.test(s.text)||(f=0);let h=/^\s*/.exec(s.text)[0],d=H0(n,f);(h!=d||c.from<s.from+h.length)&&(t[s.from]=f,l.push({from:s.from,to:s.from+h.length,insert:d}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},a6=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Iv(n,(t,r)=>{r.push({from:t.from,insert:n.facet(pp)})}),{userEvent:"input.indent"})),!0),l6=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Iv(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=ec(i,n.tabSize),l=0,c=H0(n,Math.max(0,s-Rd(n)));for(;l<i.length&&l<c.length&&i.charCodeAt(l)==c.charCodeAt(l);)l++;r.push({from:t.from+l,to:t.from+i.length,insert:c.slice(l)})}),{userEvent:"delete.dedent"})),!0),aH=n=>(n.setTabFocusMode(),!0),lH=[{key:"Ctrl-b",run:LT,shift:WT,preventDefault:!0},{key:"Ctrl-f",run:IT,shift:GT},{key:"Ctrl-p",run:zT,shift:YT},{key:"Ctrl-n",run:HT,shift:KT},{key:"Ctrl-a",run:Tz,shift:Pz},{key:"Ctrl-e",run:_z,shift:jz},{key:"Ctrl-d",run:e6},{key:"Ctrl-h",run:N1},{key:"Ctrl-k",run:Xz},{key:"Ctrl-Alt-h",run:n6},{key:"Ctrl-o",run:Kz},{key:"Ctrl-t",run:Qz},{key:"Ctrl-v",run:B1}],oH=[{key:"ArrowLeft",run:LT,shift:WT,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:xz,shift:Oz,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Cz,shift:Lz,preventDefault:!0},{key:"ArrowRight",run:IT,shift:GT,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:vz,shift:Bz,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Az,shift:Iz,preventDefault:!0},{key:"ArrowUp",run:zT,shift:YT,preventDefault:!0},{mac:"Cmd-ArrowUp",run:zE,shift:UE},{mac:"Ctrl-ArrowUp",run:IE,shift:PE},{key:"ArrowDown",run:HT,shift:KT,preventDefault:!0},{mac:"Cmd-ArrowDown",run:HE,shift:VE},{mac:"Ctrl-ArrowDown",run:B1,shift:jE},{key:"PageUp",run:IE,shift:PE},{key:"PageDown",run:B1,shift:jE},{key:"Home",run:Ez,shift:Mz,preventDefault:!0},{key:"Mod-Home",run:zE,shift:UE},{key:"End",run:wz,shift:Fz,preventDefault:!0},{key:"Mod-End",run:HE,shift:VE},{key:"Enter",run:qE,shift:qE},{key:"Mod-a",run:zz},{key:"Backspace",run:N1,shift:N1,preventDefault:!0},{key:"Delete",run:e6,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:n6,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:Gz,preventDefault:!0},{mac:"Mod-Backspace",run:$z,preventDefault:!0},{mac:"Mod-Delete",run:Yz,preventDefault:!0}].concat(lH.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),cH=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:bz,shift:Nz},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Sz,shift:Rz},{key:"Alt-ArrowUp",run:Zz},{key:"Shift-Alt-ArrowUp",run:eH},{key:"Alt-ArrowDown",run:Jz},{key:"Shift-Alt-ArrowDown",run:tH},{key:"Mod-Alt-ArrowUp",run:Vz},{key:"Mod-Alt-ArrowDown",run:qz},{key:"Escape",run:Wz},{key:"Mod-Enter",run:iH},{key:"Alt-l",mac:"Ctrl-l",run:Hz},{key:"Mod-i",run:Uz,preventDefault:!0},{key:"Mod-[",run:l6},{key:"Mod-]",run:a6},{key:"Mod-Alt-\\",run:sH},{key:"Shift-Mod-k",run:nH},{key:"Shift-Mod-\\",run:kz},{key:"Mod-/",run:Zj},{key:"Alt-A",run:ez},{key:"Ctrl-m",mac:"Shift-Alt-m",run:aH}].concat(oH),fH={key:"Tab",run:a6,shift:l6},WE=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class $o{constructor(e,t,r=0,i=e.length,s,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?c=>s(WE(c)):WE,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return zr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=pv(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=fs(e);let i=this.normalize(t);if(i.length)for(let s=0,l=r;;s++){let c=i.charCodeAt(s),f=this.match(c,l,this.bufferPos+this.bufferStart);if(s==i.length-1){if(f)return this.value=f,this;break}l==r&&s<t.length&&t.charCodeAt(s)==c&&l++}}}match(e,t,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let l=this.matches[s],c=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,c=!0)),c||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&($o.prototype[Symbol.iterator]=function(){return this});const o6={from:-1,to:-1,match:/.*/.exec("")},Pv="gm"+(/x/.unicode==null?"":"u");class c6{constructor(e,t,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=o6,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new f6(e,t,r,i,s);this.re=new RegExp(t,Pv+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let l=e.lineAt(i);this.curLineStart=l.from,this.matchPos=Id(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=Id(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const xx=new WeakMap;class Io{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=xx.get(e);if(!i||i.from>=r||i.to<=t){let c=new Io(t,e.sliceString(t,r));return xx.set(e,c),c}if(i.from==t&&i.to==r)return i;let{text:s,from:l}=i;return l>t&&(s=e.sliceString(t,l)+s,l=t),i.to<r&&(s+=e.sliceString(i.to,r)),xx.set(e,new Io(l,s)),new Io(t,s.slice(t-l,r-l))}}class f6{constructor(e,t,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=o6,this.matchPos=Id(e,i),this.re=new RegExp(t,Pv+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=Io.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=Id(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Io.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(c6.prototype[Symbol.iterator]=f6.prototype[Symbol.iterator]=function(){return this});function uH(n){try{return new RegExp(n,Pv),!0}catch{return!1}}function Id(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function R1(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=rn("input",{class:"cm-textfield",name:"line",value:e}),r=rn("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),n.dispatch({effects:b0.of(!1)}),n.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},rn("label",n.state.phrase("Go to line"),": ",t)," ",rn("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),rn("button",{name:"close",onclick:()=>{n.dispatch({effects:b0.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},[""]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:l}=n,c=l.doc.lineAt(l.selection.main.head),[,f,h,d,m]=s,g=d?+d.slice(1):0,x=h?+h:c.number;if(h&&m){let w=x/100;f&&(w=w*(f=="-"?-1:1)+c.number/l.doc.lines),x=Math.round(l.doc.lines*w)}else h&&f&&(x=x*(f=="-"?-1:1)+c.number);let S=l.doc.line(Math.max(1,Math.min(l.doc.lines,x))),b=De.cursor(S.from+Math.max(0,Math.min(g,S.length)));n.dispatch({effects:[b0.of(!1),$e.scrollIntoView(b.from,{y:"center"})],selection:b}),n.focus()}return{dom:r}}const b0=gt.define(),GE=pr.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(b0)&&(n=t.value);return n},provide:n=>P0.from(n,e=>e?R1:null)}),hH=n=>{let e=I0(n,R1);if(!e){let t=[b0.of(!0)];n.state.field(GE,!1)==null&&t.push(gt.appendConfig.of([GE,dH])),n.dispatch({effects:t}),e=I0(n,R1)}return e&&e.dom.querySelector("input").select(),!0},dH=$e.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),pH={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},mH=Ke.define({combine(n){return vs(n,pH,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function gH(n){return[SH,bH]}const xH=at.mark({class:"cm-selectionMatch"}),vH=at.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function XE(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=xn.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=xn.Word)}function yH(n,e,t,r){return n(e.sliceDoc(t,t+1))==xn.Word&&n(e.sliceDoc(r-1,r))==xn.Word}const bH=On.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(mH),{state:t}=n,r=t.selection;if(r.ranges.length>1)return at.none;let i=r.main,s,l=null;if(i.empty){if(!e.highlightWordAroundCursor)return at.none;let f=t.wordAt(i.head);if(!f)return at.none;l=t.charCategorizer(i.head),s=t.sliceDoc(f.from,f.to)}else{let f=i.to-i.from;if(f<e.minSelectionLength||f>200)return at.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),l=t.charCategorizer(i.head),!(XE(l,t,i.from,i.to)&&yH(l,t,i.from,i.to)))return at.none}else if(s=t.sliceDoc(i.from,i.to),!s)return at.none}let c=[];for(let f of n.visibleRanges){let h=new $o(t.doc,s,f.from,f.to);for(;!h.next().done;){let{from:d,to:m}=h.value;if((!l||XE(l,t,d,m))&&(i.empty&&d<=i.from&&m>=i.to?c.push(vH.range(d,m)):(d>=i.to||m<=i.from)&&c.push(xH.range(d,m)),c.length>e.maxMatches))return at.none}}return at.set(c)}},{decorations:n=>n.decorations}),SH=$e.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),wH=({state:n,dispatch:e})=>{let{selection:t}=n,r=De.create(t.ranges.map(i=>n.wordAt(i.head)||De.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function EH(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let l=!1,c=new $o(n.doc,e,r[r.length-1].to);;)if(c.next(),c.done){if(l)return null;c=new $o(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),l=!0}else{if(l&&r.some(f=>f.from==c.value.from))continue;if(s){let f=n.wordAt(c.value.from);if(!f||f.from!=c.value.from||f.to!=c.value.to)continue}return c.value}}const CH=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return wH({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=r))return!1;let i=EH(n,r);return i?(e(n.update({selection:n.selection.addRange(De.range(i.from,i.to),!1),effects:$e.scrollIntoView(i.to)})),!0):!1},nc=Ke.define({combine(n){return vs(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new LH(e),scrollToMatch:e=>$e.scrollIntoView(e)})}});class u6{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||uH(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new DH(this):new TH(this)}getCursor(e,t=0,r){let i=e.doc?e:Dt.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Eo(this,i,t,r):wo(this,i,t,r)}}class h6{constructor(e){this.spec=e}}function wo(n,e,t,r){return new $o(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?AH(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function AH(n,e){return(t,r,i,s)=>((s>t||s+i.length<r)&&(s=Math.max(0,t-2),i=n.sliceString(s,Math.min(n.length,r+2))),(e(Pd(i,t-s))!=xn.Word||e(jd(i,t-s))!=xn.Word)&&(e(jd(i,r-s))!=xn.Word||e(Pd(i,r-s))!=xn.Word))}class TH extends h6{constructor(e){super(e)}nextMatch(e,t,r){let i=wo(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);i=wo(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==r?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),l=wo(this.spec,e,s,i),c=null;for(;!l.nextOverlapping().done;)c=l.value;if(c)return c;if(s==t)return null;i-=1e4}}prevMatch(e,t,r){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=wo(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=wo(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Eo(n,e,t,r){return new c6(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?_H(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function Pd(n,e){return n.slice(ur(n,e,!1),e)}function jd(n,e){return n.slice(e,ur(n,e))}function _H(n){return(e,t,r)=>!r[0].length||(n(Pd(r.input,r.index))!=xn.Word||n(jd(r.input,r.index))!=xn.Word)&&(n(jd(r.input,r.index+r[0].length))!=xn.Word||n(Pd(r.input,r.index+r[0].length))!=xn.Word)}class DH extends h6{nextMatch(e,t,r){let i=Eo(this.spec,e,r,e.doc.length).next();return i.done&&(i=Eo(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let s=Math.max(t,r-i*1e4),l=Eo(this.spec,e,s,r),c=null;for(;!l.next().done;)c=l.value;if(c&&(s==t||c.from>s+10))return c;if(s==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return t})}matchAll(e,t){let r=Eo(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=Eo(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const U0=gt.define(),jv=gt.define(),Ba=pr.define({create(n){return new vx(F1(n).create(),null)},update(n,e){for(let t of e.effects)t.is(U0)?n=new vx(t.value.create(),n.panel):t.is(jv)&&(n=new vx(n.query,t.value?zv:null));return n},provide:n=>P0.from(n,e=>e.panel)});class vx{constructor(e,t){this.query=e,this.panel=t}}const kH=at.mark({class:"cm-searchMatch"}),OH=at.mark({class:"cm-searchMatch cm-searchMatch-selected"}),BH=On.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Ba))}update(n){let e=n.state.field(Ba);(e!=n.startState.field(Ba)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return at.none;let{view:t}=this,r=new Gs;for(let i=0,s=t.visibleRanges,l=s.length;i<l;i++){let{from:c,to:f}=s[i];for(;i<l-1&&f>s[i+1].from-500;)f=s[++i].to;n.highlight(t.state,c,f,(h,d)=>{let m=t.state.selection.ranges.some(g=>g.from==h&&g.to==d);r.add(h,d,m?OH:kH)})}return r.finish()}},{decorations:n=>n.decorations});function df(n){return e=>{let t=e.state.field(Ba,!1);return t&&t.query.spec.valid?n(e,t):m6(e)}}const zd=df((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=De.single(r.from,r.to),s=n.state.facet(nc);return n.dispatch({selection:i,effects:[Hv(n,r),s.scrollToMatch(i.main,n)],userEvent:"select.search"}),p6(n),!0}),Hd=df((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let s=De.single(i.from,i.to),l=n.state.facet(nc);return n.dispatch({selection:s,effects:[Hv(n,i),l.scrollToMatch(s.main,n)],userEvent:"select.search"}),p6(n),!0}),NH=df((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:De.create(t.map(r=>De.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),RH=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,s=[],l=0;for(let c=new $o(n.doc,n.sliceDoc(r,i));!c.next().done;){if(s.length>1e3)return!1;c.value.from==r&&(l=s.length),s.push(De.range(c.value.from,c.value.to))}return e(n.update({selection:De.create(s,l),userEvent:"select.search.matches"})),!0},$E=df((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,r,r);if(!s)return!1;let l=s,c=[],f,h,d=[];l.from==r&&l.to==i&&(h=t.toText(e.getReplacement(l)),c.push({from:l.from,to:l.to,insert:h}),l=e.nextMatch(t,l.from,l.to),d.push($e.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+".")));let m=n.state.changes(c);return l&&(f=De.single(l.from,l.to).map(m),d.push(Hv(n,l)),d.push(t.facet(nc).scrollToMatch(f.main,n))),n.dispatch({changes:m,selection:f,effects:d,userEvent:"input.replace"}),!0}),FH=df((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:s,to:l}=i;return{from:s,to:l,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:$e.announce.of(r),userEvent:"input.replace.all"}),!0});function zv(n){return n.state.facet(nc).createPanel(n)}function F1(n,e){var t,r,i,s,l;let c=n.selection.main,f=c.empty||c.to>c.from+100?"":n.sliceDoc(c.from,c.to);if(e&&!f)return e;let h=n.facet(nc);return new u6({search:((t=e?.literal)!==null&&t!==void 0?t:h.literal)?f:f.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:h.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:h.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:h.regexp,wholeWord:(l=e?.wholeWord)!==null&&l!==void 0?l:h.wholeWord})}function d6(n){let e=I0(n,zv);return e&&e.dom.querySelector("[main-field]")}function p6(n){let e=d6(n);e&&e==n.root.activeElement&&e.select()}const m6=n=>{let e=n.state.field(Ba,!1);if(e&&e.panel){let t=d6(n);if(t&&t!=n.root.activeElement){let r=F1(n.state,e.query.spec);r.valid&&n.dispatch({effects:U0.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[jv.of(!0),e?U0.of(F1(n.state,e.query.spec)):gt.appendConfig.of(PH)]});return!0},g6=n=>{let e=n.state.field(Ba,!1);if(!e||!e.panel)return!1;let t=I0(n,zv);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:jv.of(!1)}),!0},MH=[{key:"Mod-f",run:m6,scope:"editor search-panel"},{key:"F3",run:zd,shift:Hd,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:zd,shift:Hd,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:g6,scope:"editor search-panel"},{key:"Mod-Shift-l",run:RH},{key:"Mod-Alt-g",run:hH},{key:"Mod-d",run:CH,preventDefault:!0}];class LH{constructor(e){this.view=e;let t=this.query=e.state.field(Ba).query.spec;this.commit=this.commit.bind(this),this.searchField=rn("input",{value:t.search,placeholder:ni(e,"Find"),"aria-label":ni(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=rn("input",{value:t.replace,placeholder:ni(e,"Replace"),"aria-label":ni(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=rn("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=rn("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=rn("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function r(i,s,l){return rn("button",{class:"cm-button",name:i,onclick:s,type:"button"},l)}this.dom=rn("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>zd(e),[ni(e,"next")]),r("prev",()=>Hd(e),[ni(e,"previous")]),r("select",()=>NH(e),[ni(e,"all")]),rn("label",null,[this.caseField,ni(e,"match case")]),rn("label",null,[this.reField,ni(e,"regexp")]),rn("label",null,[this.wordField,ni(e,"by word")]),...e.state.readOnly?[]:[rn("br"),this.replaceField,r("replace",()=>$E(e),[ni(e,"replace")]),r("replaceAll",()=>FH(e),[ni(e,"replace all")])],rn("button",{name:"close",onclick:()=>g6(e),"aria-label":ni(e,"close"),type:"button"},[""])])}commit(){let e=new u6({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:U0.of(e)}))}keydown(e){UI(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Hd:zd)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),$E(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(U0)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(nc).top}}function ni(n,e){return n.state.phrase(e)}const rh=30,ih=/[\s\.,:;?!]/;function Hv(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,s=Math.max(r.from,e-rh),l=Math.min(i,t+rh),c=n.state.sliceDoc(s,l);if(s!=r.from){for(let f=0;f<rh;f++)if(!ih.test(c[f+1])&&ih.test(c[f])){c=c.slice(f);break}}if(l!=i){for(let f=c.length-1;f>c.length-rh;f--)if(!ih.test(c[f-1])&&ih.test(c[f])){c=c.slice(0,f);break}}return $e.announce.of(`${n.state.phrase("current match")}. ${c} ${n.state.phrase("on line")} ${r.number}.`)}const IH=$e.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),PH=[Ba,Ll.low(BH),IH];class x6{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Jn(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),s=i.search(y6(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function YE(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function jH(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=YE(e)+YE(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function v6(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:jH(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function zH(n,e){return t=>{for(let r=Jn(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}class KE{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function bl(n){return n.selection.main.from}function y6(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?n:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const b6=xs.define();function HH(n,e,t,r){let{main:i}=n.selection,s=t-i.from,l=r-i.from;return{...n.changeByRange(c=>{if(c!=i&&t!=r&&n.sliceDoc(c.from+s,c.from+l)!=n.sliceDoc(t,r))return{range:c};let f=n.toText(e);return{changes:{from:c.from+s,to:r==i.from?c.to:c.from+l,insert:f},range:De.cursor(c.from+s+f.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const QE=new WeakMap;function UH(n){if(!Array.isArray(n))return n;let e=QE.get(n);return e||QE.set(n,e=v6(n)),e}const Ud=gt.define(),V0=gt.define();class VH{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=zr(e,t),i=fs(r);this.chars.push(r);let s=e.slice(t,t+i),l=s.toUpperCase();this.folded.push(zr(l==s?s.toLowerCase():l,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:s,byWord:l}=this;if(t.length==1){let A=zr(e,0),C=fs(A),_=C==e.length?0:-100;if(A!=t[0])if(A==r[0])_+=-200;else return null;return this.ret(_,[0,C])}let c=e.indexOf(this.pattern);if(c==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let f=t.length,h=0;if(c<0){for(let A=0,C=Math.min(e.length,200);A<C&&h<f;){let _=zr(e,A);(_==t[h]||_==r[h])&&(i[h++]=A),A+=fs(_)}if(h<f)return null}let d=0,m=0,g=!1,x=0,S=-1,b=-1,w=/[a-z]/.test(e),T=!0;for(let A=0,C=Math.min(e.length,200),_=0;A<C&&m<f;){let B=zr(e,A);c<0&&(d<f&&B==t[d]&&(s[d++]=A),x<f&&(B==t[x]||B==r[x]?(x==0&&(S=A),b=A+1,x++):x=0));let N,O=B<255?B>=48&&B<=57||B>=97&&B<=122?2:B>=65&&B<=90?1:0:(N=pv(B))!=N.toLowerCase()?1:N!=N.toUpperCase()?2:0;(!A||O==1&&w||_==0&&O!=0)&&(t[m]==B||r[m]==B&&(g=!0)?l[m++]=A:l.length&&(T=!1)),_=O,A+=fs(B)}return m==f&&l[0]==0&&T?this.result(-100+(g?-200:0),l,e):x==f&&S==0?this.ret(-200-e.length+(b==e.length?0:-100),[0,b]):c>-1?this.ret(-700-e.length,[c,c+this.pattern.length]):x==f?this.ret(-900-e.length,[S,b]):m==f?this.result(-100+(g?-200:0)+-700+(T?0:-1100),l,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],s=0;for(let l of t){let c=l+(this.astral?fs(zr(r,l)):1);s&&i[s-1]==l?i[s-1]=c:(i[s++]=l,i[s++]=c)}return this.ret(e-r.length,i)}}class qH{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Kn=Ke.define({combine(n){return vs(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:WH,filterStrict:!1,compareCompletions:(e,t)=>(e.sortText||e.label).localeCompare(t.sortText||t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>ZE(e(r),t(r)),optionClass:(e,t)=>r=>ZE(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function ZE(n,e){return n?e?n+" "+e:n:e}function WH(n,e,t,r,i,s){let l=n.textDirection==un.RTL,c=l,f=!1,h="top",d,m,g=e.left-i.left,x=i.right-e.right,S=r.right-r.left,b=r.bottom-r.top;if(c&&g<Math.min(S,x)?c=!1:!c&&x<Math.min(S,g)&&(c=!0),S<=(c?g:x))d=Math.max(i.top,Math.min(t.top,i.bottom-b))-e.top,m=Math.min(400,c?g:x);else{f=!0,m=Math.min(400,(l?e.right:i.right-e.left)-30);let A=i.bottom-e.bottom;A>=b||A>e.top?d=t.bottom-e.top:(h="bottom",d=e.bottom-t.top)}let w=(e.bottom-e.top)/s.offsetHeight,T=(e.right-e.left)/s.offsetWidth;return{style:`${h}: ${d/w}px; max-width: ${m/T}px`,class:"cm-completionInfo-"+(f?l?"left-narrow":"right-narrow":c?"left":"right")}}function GH(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i,s){let l=document.createElement("span");l.className="cm-completionLabel";let c=t.displayLabel||t.label,f=0;for(let h=0;h<s.length;){let d=s[h++],m=s[h++];d>f&&l.appendChild(document.createTextNode(c.slice(f,d)));let g=l.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(c.slice(d,m))),g.className="cm-completionMatchedText",f=m}return f<c.length&&l.appendChild(document.createTextNode(c.slice(f))),l},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function yx(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class XH{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:f=>this.placeInfo(f),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:l}=i.open,c=e.state.facet(Kn);this.optionContent=GH(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=yx(s.length,l,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",f=>{let{options:h}=e.state.field(t).open;for(let d=f.target,m;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(m=/-(\d+)$/.exec(d.id))&&+m[1]<h.length){this.applyCompletion(e,h[+m[1]]),f.preventDefault();return}}),this.dom.addEventListener("focusout",f=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(Kn).closeOnBlur&&f.relatedTarget!=e.contentDOM&&e.dispatch({effects:V0.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:l,disabled:c}=r.open;(!i.open||i.open.options!=s)&&(this.range=yx(s.length,l,e.state.facet(Kn).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),c!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;(t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=yx(t.options.length,t.selected,this.view.state.facet(Kn).maxRenderedOptions),this.showOptions(t.options,e.id));let r=this.updateSelectedOption(t.selected);if(r){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:s}=i;if(!s)return;let l=typeof s=="string"?document.createTextNode(s):s(i);if(!l)return;"then"in l?l.then(c=>{c&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(c,i)}).catch(c=>Ur(this.view.state,c,"completion info")):(this.addInfoPane(l,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return t&&YH(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let l=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:l.clientWidth,bottom:l.clientHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(Kn).positionInfo(this.view,t,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",l=>{l.target==i&&l.preventDefault()});let s=null;for(let l=r.from;l<r.to;l++){let{completion:c,match:f}=e[l],{section:h}=c;if(h){let g=typeof h=="string"?h:h.name;if(g!=s&&(l>r.from||r.from==0))if(s=g,typeof h!="string"&&h.header)i.appendChild(h.header(h));else{let x=i.appendChild(document.createElement("completion-section"));x.textContent=g}}const d=i.appendChild(document.createElement("li"));d.id=t+"-"+l,d.setAttribute("role","option");let m=this.optionClass(c);m&&(d.className=m);for(let g of this.optionContent){let x=g(c,this.view.state,this.view,f);x&&d.appendChild(x)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function $H(n,e){return t=>new XH(t,n,e)}function YH(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function JE(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function KH(n,e){let t=[],r=null,i=null,s=d=>{t.push(d);let{section:m}=d.completion;if(m){r||(r=[]);let g=typeof m=="string"?m:m.name;r.some(x=>x.name==g)||r.push(typeof m=="string"?{name:g}:m)}},l=e.facet(Kn);for(let d of n)if(d.hasResult()){let m=d.result.getMatch;if(d.result.filter===!1)for(let g of d.result.options)s(new KE(g,d.source,m?m(g):[],1e9-t.length));else{let g=e.sliceDoc(d.from,d.to),x,S=l.filterStrict?new qH(g):new VH(g);for(let b of d.result.options)if(x=S.match(b.label)){let w=b.displayLabel?m?m(b,x.matched):[]:x.matched,T=x.score+(b.boost||0);if(s(new KE(b,d.source,w,T)),typeof b.section=="object"&&b.section.rank==="dynamic"){let{name:A}=b.section;i||(i=Object.create(null)),i[A]=Math.max(T,i[A]||-1e9)}}}}if(r){let d=Object.create(null),m=0,g=(x,S)=>(x.rank==="dynamic"&&S.rank==="dynamic"?i[S.name]-i[x.name]:0)||(typeof x.rank=="number"?x.rank:1e9)-(typeof S.rank=="number"?S.rank:1e9)||(x.name<S.name?-1:1);for(let x of r.sort(g))m-=1e5,d[x.name]=m;for(let x of t){let{section:S}=x.completion;S&&(x.score+=d[typeof S=="string"?S:S.name])}}let c=[],f=null,h=l.compareCompletions;for(let d of t.sort((m,g)=>g.score-m.score||h(m.completion,g.completion))){let m=d.completion;!f||f.label!=m.label||f.detail!=m.detail||f.type!=null&&m.type!=null&&f.type!=m.type||f.apply!=m.apply||f.boost!=m.boost?c.push(d):JE(d.completion)>JE(f)&&(c[c.length-1]=d),f=d.completion}return c}class Do{constructor(e,t,r,i,s,l){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=l}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Do(this.options,eC(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,s,l){if(i&&!l&&e.some(h=>h.isPending))return i.setDisabled();let c=KH(e,t);if(!c.length)return i&&e.some(h=>h.isPending)?i.setDisabled():null;let f=t.facet(Kn).selectOnOpen?0:-1;if(i&&i.selected!=f&&i.selected!=-1){let h=i.options[i.selected].completion;for(let d=0;d<c.length;d++)if(c[d].completion==h){f=d;break}}return new Do(c,eC(r,f),{pos:e.reduce((h,d)=>d.hasResult()?Math.min(h,d.from):h,1e8),create:nU,above:s.aboveCursor},i?i.timestamp:Date.now(),f,!1)}map(e){return new Do(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Do(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Vd{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new Vd(eU,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(Kn),s=(r.override||t.languageDataAt("autocomplete",bl(t)).map(UH)).map(f=>(this.active.find(d=>d.source==f)||new ki(f,this.active.some(d=>d.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((f,h)=>f==this.active[h])&&(s=this.active);let l=this.open,c=e.effects.some(f=>f.is(Uv));l&&e.docChanged&&(l=l.map(e.changes)),e.selection||s.some(f=>f.hasResult()&&e.changes.touchesRange(f.from,f.to))||!QH(s,this.active)||c?l=Do.build(s,t,this.id,l,r,c):l&&l.disabled&&!s.some(f=>f.isPending)&&(l=null),!l&&s.every(f=>!f.isPending)&&s.some(f=>f.hasResult())&&(s=s.map(f=>f.hasResult()?new ki(f.source,0):f));for(let f of e.effects)f.is(w6)&&(l=l&&l.setSelected(f.value,this.id));return s==this.active&&l==this.open?this:new Vd(s,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?ZH:JH}}function QH(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let i=t==n.length,s=r==e.length;if(i||s)return i==s;if(n[t++].result!=e[r++].result)return!1}}const ZH={"aria-autocomplete":"list"},JH={};function eC(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const eU=[];function S6(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(b6);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class ki{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=S6(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new ki(i.source,0)),r&4&&i.state==0&&(i=new ki(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(Ud))i=new ki(i.source,1,s.value);else if(s.is(V0))i=new ki(i.source,0);else if(s.is(Uv))for(let l of s.value)l.source==i.source&&(i=l);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(bl(e.state))}}class Po extends ki{constructor(e,t,r,i,s,l){super(e,3,t),this.limit=r,this.result=i,this.from=s,this.to=l}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),c=bl(e.state);if(c>l||!i||t&2&&(bl(e.startState)==this.from||c<this.limit))return new ki(this.source,t&4?1:0);let f=e.changes.mapPos(this.limit);return tU(i.validFor,e.state,s,l)?new Po(this.source,this.explicit,f,i,s,l):i.update&&(i=i.update(i,s,l,new x6(e.state,c,!1)))?new Po(this.source,this.explicit,f,i,i.from,(r=i.to)!==null&&r!==void 0?r:bl(e.state)):new ki(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Po(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ki(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function tU(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):y6(n,!0).test(i)}const Uv=gt.define({map(n,e){return n.map(t=>t.map(e))}}),w6=gt.define(),Hr=pr.define({create(){return Vd.start()},update(n,e){return n.update(e)},provide:n=>[Dv.from(n,e=>e.tooltip),$e.contentAttributes.from(n,e=>e.attrs)]});function Vv(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(Hr).active.find(i=>i.source==e.source);return r instanceof Po?(typeof t=="string"?n.dispatch({...HH(n.state,t,r.from,r.to),annotations:b6.of(e.completion)}):t(n,e.completion,r.from,r.to),!0):!1}const nU=$H(Hr,Vv);function sh(n,e="option"){return t=>{let r=t.state.field(Hr,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(Kn).interactionDelay)return!1;let i=1,s;e=="page"&&(s=tT(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:l}=r.open.options,c=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:l-1;return c<0?c=e=="page"?0:l-1:c>=l&&(c=e=="page"?l-1:0),t.dispatch({effects:w6.of(c)}),!0}}const rU=n=>{let e=n.state.field(Hr,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(Kn).interactionDelay?!1:Vv(n,e.open.options[e.open.selected])},bx=n=>n.state.field(Hr,!1)?(n.dispatch({effects:Ud.of(!0)}),!0):!1,iU=n=>{let e=n.state.field(Hr,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:V0.of(null)}),!0)};class sU{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const aU=50,lU=1e3,oU=On.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Hr).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(Hr),t=n.state.facet(Kn);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Hr)==e)return;let r=n.transactions.some(s=>{let l=S6(s,t);return l&8||(s.selection||s.docChanged)&&!(l&3)});for(let s=0;s<this.running.length;s++){let l=this.running[s];if(r||l.context.abortOnDocChange&&n.docChanged||l.updates.length+n.transactions.length>aU&&Date.now()-l.time>lU){for(let c of l.context.abortListeners)try{c()}catch(f){Ur(this.view.state,f)}l.context.abortListeners=null,this.running.splice(s--,1)}else l.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(s=>s.effects.some(l=>l.is(Ud)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(l=>l.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of n.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Hr);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Kn).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=bl(e),r=new x6(e,t,n.explicit,this.view),i=new sU(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:V0.of(null)}),Ur(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Kn).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Kn),r=this.view.state.field(Hr);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let c=bl(s.updates.length?s.updates[0].startState:this.view.state),f=Math.min(c,s.done.from+(s.active.explicit?0:1)),h=new Po(s.active.source,s.active.explicit,f,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:c);for(let d of s.updates)h=h.update(d,t);if(h.hasResult()){e.push(h);continue}}let l=r.active.find(c=>c.source==s.active.source);if(l&&l.isPending)if(s.done==null){let c=new ki(s.active.source,0);for(let f of s.updates)c=c.update(f,t);c.isPending||e.push(c)}else this.startQuery(l)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:Uv.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Hr,!1);if(e&&e.tooltip&&this.view.state.facet(Kn).closeOnBlur){let t=e.open&&tT(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:V0.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Ud.of(!1)}),20),this.composing=0}}}),cU=typeof navigator=="object"&&/Win/.test(navigator.platform),fU=Ll.highest($e.domEventHandlers({keydown(n,e){let t=e.state.field(Hr,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(cU&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(l=>l.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(n.key)>-1&&Vv(e,r),!1}})),uU=$e.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),q0={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},xl=gt.define({map(n,e){let t=e.mapPos(n,-1,Tr.TrackAfter);return t??void 0}}),qv=new class extends Cl{};qv.startSide=1;qv.endSide=-1;const E6=pr.define({create(){return Nt.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(xl)&&(n=n.update({add:[qv.range(t.value,t.value+1)]}));return n}});function hU(){return[pU,E6]}const Sx="()[]{}<>";function C6(n){for(let e=0;e<Sx.length;e+=2)if(Sx.charCodeAt(e)==n)return Sx.charAt(e+1);return pv(n<128?n:n+1)}function A6(n,e){return n.languageDataAt("closeBrackets",e)[0]||q0}const dU=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),pU=$e.inputHandler.of((n,e,t,r)=>{if((dU?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&fs(zr(r,0))==1||e!=i.from||t!=i.to)return!1;let s=xU(n.state,r);return s?(n.dispatch(s),!0):!1}),mU=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=A6(n,n.selection.main.head).brackets||q0.brackets,i=null,s=n.changeByRange(l=>{if(l.empty){let c=vU(n.doc,l.head);for(let f of r)if(f==c&&Sp(n.doc,l.head)==C6(zr(f,0)))return{changes:{from:l.head-f.length,to:l.head+f.length},range:De.cursor(l.head-f.length)}}return{range:i=l}});return i||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},gU=[{key:"Backspace",run:mU}];function xU(n,e){let t=A6(n,n.selection.main.head),r=t.brackets||q0.brackets;for(let i of r){let s=C6(zr(i,0));if(e==i)return s==i?SU(n,i,r.indexOf(i+i+i)>-1,t):yU(n,i,s,t.before||q0.before);if(e==s&&T6(n,n.selection.main.from))return bU(n,i,s)}return null}function T6(n,e){let t=!1;return n.field(E6).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function Sp(n,e){let t=n.sliceString(e,e+2);return t.slice(0,fs(zr(t,0)))}function vU(n,e){let t=n.sliceString(e-2,e);return fs(zr(t,0))==t.length?t:t.slice(1)}function yU(n,e,t,r){let i=null,s=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:t,from:l.to}],effects:xl.of(l.to+e.length),range:De.range(l.anchor+e.length,l.head+e.length)};let c=Sp(n.doc,l.head);return!c||/\s/.test(c)||r.indexOf(c)>-1?{changes:{insert:e+t,from:l.head},effects:xl.of(l.head+e.length),range:De.cursor(l.head+e.length)}:{range:i=l}});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function bU(n,e,t){let r=null,i=n.changeByRange(s=>s.empty&&Sp(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:De.cursor(s.head+t.length)}:r={range:s});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function SU(n,e,t,r){let i=r.stringPrefixes||q0.stringPrefixes,s=null,l=n.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:e,from:c.to}],effects:xl.of(c.to+e.length),range:De.range(c.anchor+e.length,c.head+e.length)};let f=c.head,h=Sp(n.doc,f),d;if(h==e){if(tC(n,f))return{changes:{insert:e+e,from:f},effects:xl.of(f+e.length),range:De.cursor(f+e.length)};if(T6(n,f)){let g=t&&n.sliceDoc(f,f+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:f,to:f+g.length,insert:g},range:De.cursor(f+g.length)}}}else{if(t&&n.sliceDoc(f-2*e.length,f)==e+e&&(d=nC(n,f-2*e.length,i))>-1&&tC(n,d))return{changes:{insert:e+e+e+e,from:f},effects:xl.of(f+e.length),range:De.cursor(f+e.length)};if(n.charCategorizer(f)(h)!=xn.Word&&nC(n,f,i)>-1&&!wU(n,f,e,i))return{changes:{insert:e+e,from:f},effects:xl.of(f+e.length),range:De.cursor(f+e.length)}}return{range:s=c}});return s?null:n.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function tC(n,e){let t=Jn(n).resolveInner(e+1);return t.parent&&t.from==e}function wU(n,e,t,r){let i=Jn(n).resolveInner(e,-1),s=r.reduce((l,c)=>Math.max(l,c.length),0);for(let l=0;l<5;l++){let c=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),f=c.indexOf(t);if(!f||f>-1&&r.indexOf(c.slice(0,f))>-1){let d=i.firstChild;for(;d&&d.from==i.from&&d.to-d.from>t.length+f;){if(n.sliceDoc(d.to-t.length,d.to)==t)return!1;d=d.firstChild}return!0}let h=i.to==e&&i.parent;if(!h)break;i=h}return!1}function nC(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=xn.Word)return e;for(let i of t){let s=e-i.length;if(n.sliceDoc(s,e)==i&&r(n.sliceDoc(s-1,s))!=xn.Word)return s}return-1}function _6(n={}){return[fU,Hr,Kn.of(n),oU,EU,uU]}const D6=[{key:"Ctrl-Space",run:bx},{mac:"Alt-`",run:bx},{mac:"Alt-i",run:bx},{key:"Escape",run:iU},{key:"ArrowDown",run:sh(!0)},{key:"ArrowUp",run:sh(!1)},{key:"PageDown",run:sh(!0,"page")},{key:"PageUp",run:sh(!1,"page")},{key:"Enter",run:rU}],EU=Ll.highest(hp.computeN([Kn],n=>n.facet(Kn).defaultKeymap?[D6]:[]));class rC{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class dl{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=r.facet(W0).markerFilter;i&&(e=i(e,r));let s=e.slice().sort((x,S)=>x.from-S.from||x.to-S.to),l=new Gs,c=[],f=0,h=r.doc.iter(),d=0,m=r.doc.length;for(let x=0;;){let S=x==s.length?null:s[x];if(!S&&!c.length)break;let b,w;if(c.length)b=f,w=c.reduce((C,_)=>Math.min(C,_.to),S&&S.from>b?S.from:1e8);else{if(b=S.from,b>m)break;w=S.to,c.push(S),x++}for(;x<s.length;){let C=s[x];if(C.from==b&&(C.to>C.from||C.to==b))c.push(C),x++,w=Math.min(C.to,w);else{w=Math.min(C.from,w);break}}w=Math.min(w,m);let T=!1;if(c.some(C=>C.from==b&&(C.to==w||w==m))&&(T=b==w,!T&&w-b<10)){let C=b-(d+h.value.length);C>0&&(h.next(C),d=b);for(let _=b;;){if(_>=w){T=!0;break}if(!h.lineBreak&&d+h.value.length>_)break;_=d+h.value.length,d+=h.value.length,h.next()}}let A=LU(c);if(T)l.add(b,b,at.widget({widget:new NU(A),diagnostics:c.slice()}));else{let C=c.reduce((_,B)=>B.markClass?_+" "+B.markClass:_,"");l.add(b,w,at.mark({class:"cm-lintRange cm-lintRange-"+A+C,diagnostics:c.slice(),inclusiveEnd:c.some(_=>_.to>w)}))}if(f=w,f==m)break;for(let C=0;C<c.length;C++)c[C].to<=f&&c.splice(C--,1)}let g=l.finish();return new dl(g,t,Yo(g))}}function Yo(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,s,{spec:l})=>{if(!(e&&l.diagnostics.indexOf(e)<0))if(!r)r=new rC(i,s,e||l.diagnostics[0]);else{if(l.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new rC(r.from,s,r.diagnostic)}}),r}function CU(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(W0).hideOn(n,t,r);if(i!=null)return i;let s=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(l=>l.is(k6))||n.changes.touchesRange(s.from,Math.max(s.to,r)))}function AU(n,e){return n.field(fi,!1)?e:e.concat(gt.appendConfig.of(IU))}const k6=gt.define(),Wv=gt.define(),O6=gt.define(),fi=pr.define({create(){return new dl(at.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let s=e.changes.mapPos(n.selected.from,1);r=Yo(t,n.selected.diagnostic,s)||Yo(t,null,s)}!t.size&&i&&e.state.facet(W0).autoPanel&&(i=null),n=new dl(t,i,r)}for(let t of e.effects)if(t.is(k6)){let r=e.state.facet(W0).autoPanel?t.value.length?G0.open:null:n.panel;n=dl.init(t.value,r,e.state)}else t.is(Wv)?n=new dl(n.diagnostics,t.value?G0.open:null,n.selected):t.is(O6)&&(n=new dl(n.diagnostics,n.panel,t.value));return n},provide:n=>[P0.from(n,e=>e.panel),$e.decorations.from(n,e=>e.diagnostics)]}),TU=at.mark({class:"cm-lintRange cm-lintRange-active"});function _U(n,e,t){let{diagnostics:r}=n.state.field(fi),i,s=-1,l=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(f,h,{spec:d})=>{if(e>=f&&e<=h&&(f==h||(e>f||t>0)&&(e<h||t<0)))return i=d.diagnostics,s=f,l=h,!1});let c=n.state.facet(W0).tooltipFilter;return i&&c&&(i=c(i,n.state)),i?{pos:s,end:l,above:n.state.doc.lineAt(s).to<l,create(){return{dom:DU(n,i)}}}:null}function DU(n,e){return rn("ul",{class:"cm-tooltip-lint"},e.map(t=>N6(n,t,!1)))}const kU=n=>{let e=n.state.field(fi,!1);(!e||!e.panel)&&n.dispatch({effects:AU(n.state,[Wv.of(!0)])});let t=I0(n,G0.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},iC=n=>{let e=n.state.field(fi,!1);return!e||!e.panel?!1:(n.dispatch({effects:Wv.of(!1)}),!0)},OU=n=>{let e=n.state.field(fi,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},BU=[{key:"Mod-Shift-m",run:kU,preventDefault:!0},{key:"F8",run:OU}],W0=Ke.define({combine(n){return{sources:n.map(e=>e.source).filter(e=>e!=null),...vs(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:sC,tooltipFilter:sC,needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t,hideOn:(e,t)=>e?t?(r,i,s)=>e(r,i,s)||t(r,i,s):e:t,autoPanel:(e,t)=>e||t})}}});function sC(n,e){return n?e?(t,r)=>e(n(t,r),r):n:e}function B6(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function N6(n,e,t){var r;let i=t?B6(e.actions):[];return rn("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},rn("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,l)=>{let c=!1,f=x=>{if(x.preventDefault(),c)return;c=!0;let S=Yo(n.state.field(fi).diagnostics,e);S&&s.apply(n,S.from,S.to)},{name:h}=s,d=i[l]?h.indexOf(i[l]):-1,m=d<0?h:[h.slice(0,d),rn("u",h.slice(d,d+1)),h.slice(d+1)],g=s.markClass?" "+s.markClass:"";return rn("button",{type:"button",class:"cm-diagnosticAction"+g,onclick:f,onmousedown:f,"aria-label":` Action: ${h}${d<0?"":` (access key "${i[l]})"`}.`},m)}),e.source&&rn("div",{class:"cm-diagnosticSource"},e.source))}class NU extends Ks{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return rn("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class aC{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=N6(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class G0{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)iC(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],l=B6(s.actions);for(let c=0;c<l.length;c++)if(l[c].toUpperCase().charCodeAt(0)==i.keyCode){let f=Yo(this.view.state.field(fi).diagnostics,s);f&&s.actions[c].apply(e,f.from,f.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=rn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=rn("div",{class:"cm-panel-lint"},this.list,rn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>iC(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(fi).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(fi),r=0,i=!1,s=null,l=new Set;for(e.between(0,this.view.state.doc.length,(c,f,{spec:h})=>{for(let d of h.diagnostics){if(l.has(d))continue;l.add(d);let m=-1,g;for(let x=r;x<this.items.length;x++)if(this.items[x].diagnostic==d){m=x;break}m<0?(g=new aC(this.view,d),this.items.splice(r,0,g),i=!0):(g=this.items[m],m>r&&(this.items.splice(r,m-r),i=!0)),t&&g.diagnostic==t.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),s=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new aC(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:c,panel:f})=>{let h=f.height/this.list.offsetHeight;c.top<f.top?this.list.scrollTop-=(f.top-c.top)/h:c.bottom>f.bottom&&(this.list.scrollTop+=(c.bottom-f.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(fi),r=Yo(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:O6.of(r)})}static open(e){return new G0(e)}}function RU(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function ah(n){return RU(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const FU=$e.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:ah("#d11")},".cm-lintRange-warning":{backgroundImage:ah("orange")},".cm-lintRange-info":{backgroundImage:ah("#999")},".cm-lintRange-hint":{backgroundImage:ah("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function MU(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function LU(n){let e="hint",t=1;for(let r of n){let i=MU(r.severity);i>t&&(t=i,e=r.severity)}return e}const IU=[fi,$e.decorations.compute([fi],n=>{let{selected:e,panel:t}=n.field(fi);return!e||!t||e.from==e.to?at.none:at.set([TU.range(e.from,e.to)])}),OP(_U,{hideOn:CU}),FU];var lC=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(gU)),e.defaultKeymap!==!1&&(r=r.concat(cH)),e.searchKeymap!==!1&&(r=r.concat(MH)),e.historyKeymap!==!1&&(r=r.concat(gz)),e.foldKeymap!==!1&&(r=r.concat(Oj)),e.completionKeymap!==!1&&(r=r.concat(D6)),e.lintKeymap!==!1&&(r=r.concat(BU));var i=[];return e.lineNumbers!==!1&&i.push(HP()),e.highlightActiveLineGutter!==!1&&i.push(qP()),e.highlightSpecialChars!==!1&&i.push(sP()),e.history!==!1&&i.push(lz()),e.foldGutter!==!1&&i.push(Fj()),e.drawSelection!==!1&&i.push($I()),e.dropCursor!==!1&&i.push(JI()),e.allowMultipleSelections!==!1&&i.push(Dt.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(Sj()),e.syntaxHighlighting!==!1&&i.push(AT(Pj,{fallback:!0})),e.bracketMatching!==!1&&i.push(Wj()),e.closeBrackets!==!1&&i.push(hU()),e.autocompletion!==!1&&i.push(_6()),e.rectangularSelection!==!1&&i.push(yP()),t!==!1&&i.push(wP()),e.highlightActiveLine!==!1&&i.push(uP()),e.highlightSelectionMatches!==!1&&i.push(gH()),e.tabSize&&typeof e.tabSize=="number"&&i.push(pp.of(" ".repeat(e.tabSize))),i.concat([hp.of(r.flat())]).filter(Boolean)};const PU="#e5c07b",oC="#e06c75",jU="#56b6c2",zU="#ffffff",nd="#abb2bf",M1="#7d8799",HU="#61afef",UU="#98c379",cC="#d19a66",VU="#c678dd",qU="#21252b",fC="#2c313a",uC="#282c34",wx="#353a42",WU="#3E4451",hC="#528bff",GU=$e.theme({"&":{color:nd,backgroundColor:uC},".cm-content":{caretColor:hC},".cm-cursor, .cm-dropCursor":{borderLeftColor:hC},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:WU},".cm-panels":{backgroundColor:qU,color:nd},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:uC,color:M1,border:"none"},".cm-activeLineGutter":{backgroundColor:fC},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:wx},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:wx,borderBottomColor:wx},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:fC,color:nd}}},{dark:!0}),XU=uf.define([{tag:me.keyword,color:VU},{tag:[me.name,me.deleted,me.character,me.propertyName,me.macroName],color:oC},{tag:[me.function(me.variableName),me.labelName],color:HU},{tag:[me.color,me.constant(me.name),me.standard(me.name)],color:cC},{tag:[me.definition(me.name),me.separator],color:nd},{tag:[me.typeName,me.className,me.number,me.changed,me.annotation,me.modifier,me.self,me.namespace],color:PU},{tag:[me.operator,me.operatorKeyword,me.url,me.escape,me.regexp,me.link,me.special(me.string)],color:jU},{tag:[me.meta,me.comment],color:M1},{tag:me.strong,fontWeight:"bold"},{tag:me.emphasis,fontStyle:"italic"},{tag:me.strikethrough,textDecoration:"line-through"},{tag:me.link,color:M1,textDecoration:"underline"},{tag:me.heading,fontWeight:"bold",color:oC},{tag:[me.atom,me.bool,me.special(me.variableName)],color:cC},{tag:[me.processingInstruction,me.string,me.inserted],color:UU},{tag:me.invalid,color:zU}]),$U=[GU,AT(XU)];var YU=$e.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),KU=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:r=!0,readOnly:i=!1,theme:s="light",placeholder:l="",basicSetup:c=!0}=e,f=[];switch(t&&f.unshift(hp.of([fH])),c&&(typeof c=="boolean"?f.unshift(lC()):f.unshift(lC(c))),l&&f.unshift(mP(l)),s){case"light":f.push(YU);break;case"dark":f.push($U);break;case"none":break;default:f.push(s);break}return r===!1&&f.push($e.editable.of(!1)),i&&f.push(Dt.readOnly.of(!0)),[...f]},QU=n=>({line:n.state.doc.lineAt(n.state.selection.main.from),lineCount:n.state.doc.lines,lineBreak:n.state.lineBreak,length:n.state.doc.length,readOnly:n.state.readOnly,tabSize:n.state.tabSize,selection:n.state.selection,selectionAsSingle:n.state.selection.asSingle().main,ranges:n.state.selection.ranges,selectionCode:n.state.sliceDoc(n.state.selection.main.from,n.state.selection.main.to),selections:n.state.selection.ranges.map(e=>n.state.sliceDoc(e.from,e.to)),selectedText:n.state.selection.ranges.some(e=>!e.empty)});class ZU{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(t=>{try{t()}catch(r){console.error("TimeoutLatch callback error:",r)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class dC{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var Ex=null,JU=()=>typeof window>"u"?new dC:(Ex||(Ex=new dC),Ex),pC=xs.define(),eV=200,tV=[];function nV(n){var{value:e,selection:t,onChange:r,onStatistics:i,onCreateEditor:s,onUpdate:l,extensions:c=tV,autoFocus:f,theme:h="light",height:d=null,minHeight:m=null,maxHeight:g=null,width:x=null,minWidth:S=null,maxWidth:b=null,placeholder:w="",editable:T=!0,readOnly:A=!1,indentWithTab:C=!0,basicSetup:_=!0,root:B,initialState:N}=n,[O,z]=Q.useState(),[R,I]=Q.useState(),[P,q]=Q.useState(),K=Q.useState(()=>({current:null}))[0],ie=Q.useState(()=>({current:null}))[0],ce=$e.theme({"&":{height:d,minHeight:m,maxHeight:g,width:x,minWidth:S,maxWidth:b},"& .cm-scroller":{height:"100% !important"}}),Z=$e.updateListener.of(Ee=>{if(Ee.docChanged&&typeof r=="function"&&!Ee.transactions.some(D=>D.annotation(pC))){K.current?K.current.reset():(K.current=new ZU(()=>{if(ie.current){var D=ie.current;ie.current=null,D()}K.current=null},eV),JU().add(K.current));var Oe=Ee.state.doc,j=Oe.toString();r(j,Ee)}i&&i(QU(Ee))}),re=KU({theme:h,editable:T,readOnly:A,placeholder:w,indentWithTab:C,basicSetup:_}),xe=[Z,ce,...re];return l&&typeof l=="function"&&xe.push($e.updateListener.of(l)),xe=xe.concat(c),Q.useLayoutEffect(()=>{if(O&&!P){var Ee={doc:e,selection:t,extensions:xe},Oe=N?Dt.fromJSON(N.json,Ee,N.fields):Dt.create(Ee);if(q(Oe),!R){var j=new $e({state:Oe,parent:O,root:B});I(j),s&&s(j,Oe)}}return()=>{R&&(q(void 0),I(void 0))}},[O,P]),Q.useEffect(()=>{n.container&&z(n.container)},[n.container]),Q.useEffect(()=>()=>{R&&(R.destroy(),I(void 0)),K.current&&(K.current.cancel(),K.current=null)},[R]),Q.useEffect(()=>{f&&R&&R.focus()},[f,R]),Q.useEffect(()=>{R&&R.dispatch({effects:gt.reconfigure.of(xe)})},[h,c,d,m,g,x,S,b,w,T,A,C,_,r,l]),Q.useEffect(()=>{if(e!==void 0){var Ee=R?R.state.doc.toString():"";if(R&&e!==Ee){var Oe=K.current&&!K.current.isDone,j=()=>{R&&e!==R.state.doc.toString()&&R.dispatch({changes:{from:0,to:R.state.doc.toString().length,insert:e||""},annotations:[pC.of(!0)]})};Oe?ie.current=j:j()}}},[e,R]),{state:P,setState:q,view:R,setView:I,container:O,setContainer:z}}var rV=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],R6=Q.forwardRef((n,e)=>{var{className:t,value:r="",selection:i,extensions:s=[],onChange:l,onStatistics:c,onCreateEditor:f,onUpdate:h,autoFocus:d,theme:m="light",height:g,minHeight:x,maxHeight:S,width:b,minWidth:w,maxWidth:T,basicSetup:A,placeholder:C,indentWithTab:_,editable:B,readOnly:N,root:O,initialState:z}=n,R=VM(n,rV),I=Q.useRef(null),{state:P,view:q,container:K,setContainer:ie}=nV({root:O,value:r,autoFocus:d,theme:m,height:g,minHeight:x,maxHeight:S,width:b,minWidth:w,maxWidth:T,basicSetup:A,placeholder:C,indentWithTab:_,editable:B,readOnly:N,selection:i,onChange:l,onStatistics:c,onCreateEditor:f,onUpdate:h,extensions:s,initialState:z});Q.useImperativeHandle(e,()=>({editor:I.current,state:P,view:q}),[I,K,P,q]);var ce=Q.useCallback(re=>{I.current=re,ie(re)},[ie]);if(typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var Z=typeof m=="string"?"cm-theme-"+m:"cm-theme";return E.jsx("div",jx({ref:ce,className:""+Z+(t?" "+t:"")},R))});R6.displayName="CodeMirror";var mC={};class qd{constructor(e,t,r,i,s,l,c,f,h,d=0,m){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=s,this.score=l,this.buffer=c,this.bufferBase=f,this.curContext=h,this.lookAhead=d,this.parent=m}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let i=e.parser.context;return new qd(e,[],t,r,r,0,[],0,i?new gC(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=e&65535,{parser:s}=this.p,l=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),c=s.dynamicPrecedence(i);if(c&&(this.score+=c),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(i,this.reducePos);return}let f=this.stack.length-(r-1)*3-(e&262144?6:0),h=f?this.stack[f-2]:this.p.ranges[0].from,d=this.reducePos-h;d>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(h==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=h,this.p.lastBigReductionSize=d));let m=f?this.stack[f-1]:0,g=this.bufferBase+this.buffer.length-m;if(i<s.minRepeatTerm||e&131072){let x=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,h,x,g+4,!0)}if(e&262144)this.state=this.stack[f];else{let x=this.stack[f-3];this.state=s.getGoto(x,i,!0)}for(;this.stack.length>f;)this.stack.pop();this.reduceContext(i,h)}storeNode(e,t,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,c=this.buffer.length;if(c==0&&l.parent&&(c=l.bufferBase-l.parent.bufferBase,l=l.parent),c>0&&l.buffer[c-4]==0&&l.buffer[c-1]>-1){if(t==r)return;if(l.buffer[c-2]>=t){l.buffer[c-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,t,r,i);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let c=!1;for(let f=l;f>0&&this.buffer[f-2]>r;f-=4)if(this.buffer[f-1]>=0){c=!0;break}if(c)for(;l>0&&this.buffer[l-2]>r;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,i>4&&(i-=4)}this.buffer[l]=e,this.buffer[l+1]=t,this.buffer[l+2]=r,this.buffer[l+3]=i}}shift(e,t,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:l}=this.p;(i>this.pos||t<=l.maxNode)&&(this.pos=i,l.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(t,r),t<=l.maxNode&&this.buffer.push(t,r,i,4)}else this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4)}apply(e,t,r,i){e&65536?this.reduce(e):this.shift(e,t,r,i)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new qd(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new iV(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if((r&65536)==0)return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let s=0,l;s<t.length;s+=2)(l=t[s+1])!=this.state&&this.p.parser.hasAction(l,e)&&i.push(t[s],l);if(this.stack.length<120)for(let s=0;i.length<8&&s<t.length;s+=2){let l=t[s+1];i.some((c,f)=>f&1&&c==l)||i.push(t[s],l)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let s=t[i+1];if(s==this.state)continue;let l=this.split();l.pushState(s,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(t[i],this.pos),l.reducePos=this.pos,l.score-=200,r.push(l)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let r=t>>19,i=t&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;t=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(i,s)=>{if(!t.includes(i))return t.push(i),e.allActions(i,l=>{if(!(l&393216))if(l&65536){let c=(l>>19)-s;if(c>1){let f=l&65535,h=this.stack.length-c*3;if(h>=0&&e.getGoto(this.stack[h],f,!1)>=0)return c<<19|65536|f}}else{let c=r(l,s+1);if(c!=null)return c}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new gC(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class gC{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class iV{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class Wd{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Wd(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Wd(this.stack,this.pos,this.index)}}function lh(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let r=0,i=0;r<n.length;){let s=0;for(;;){let l=n.charCodeAt(r++),c=!1;if(l==126){s=65535;break}l>=92&&l--,l>=34&&l--;let f=l-32;if(f>=46&&(f-=46,c=!0),s+=f,c)break;s*=46}t?t[i++]=s:t=new e(s)}return t}class rd{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const xC=new rd;class sV{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=xC,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let l=this.ranges[--i];s-=r.from-l.to,r=l}for(;t<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let l=this.ranges[++i];s+=l.from-r.to,r=l}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,i;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let l=this.rangeIndex,c=this.range;for(;c.to<=r;)c=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=xC,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class jo{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;lV(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}jo.prototype.contextual=jo.prototype.fallback=jo.prototype.extend=!1;jo.prototype.fallback=jo.prototype.extend=!1;class aV{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function lV(n,e,t,r,i,s){let l=0,c=1<<r,{dialect:f}=t.p.parser;e:for(;(c&n[l])!=0;){let h=n[l+1];for(let x=l+3;x<h;x+=2)if((n[x+1]&c)>0){let S=n[x];if(f.allows(S)&&(e.token.value==-1||e.token.value==S||oV(S,e.token.value,i,s))){e.acceptToken(S);break}}let d=e.next,m=0,g=n[l+2];if(e.next<0&&g>m&&n[h+g*3-3]==65535){l=n[h+g*3-1];continue e}for(;m<g;){let x=m+g>>1,S=h+x+(x<<1),b=n[S],w=n[S+1]||65536;if(d<b)g=x;else if(d>=w)m=x+1;else{l=n[S+2],e.advance();continue e}}break}}function vC(n,e,t){for(let r=e,i;(i=n[r])!=65535;r++)if(i==t)return r-e;return-1}function oV(n,e,t,r){let i=vC(t,r,e);return i<0||vC(t,r,n)<i}const ri=typeof process<"u"&&mC&&/\bparse\b/.test(mC.LOG);let Cx=null;function yC(n,e,t){let r=n.cursor($n.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}class cV{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?yC(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?yC(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],l=this.start[t]+r.positions[i];if(l>e)return this.nextStart=l,null;if(s instanceof Pn){if(l==e){if(l<this.safeFrom)return null;let c=l+s.length;if(c<=this.safeTo){let f=s.prop(St.lookAhead);if(!f||c+f<this.fragment.to)return s}}this.index[t]++,l+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(l),this.index.push(0))}else this.index[t]++,this.nextStart=l+s.length}}}class fV{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new rd)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,l=i.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,f=0;for(let h=0;h<s.length;h++){if((1<<h&l)==0)continue;let d=s[h],m=this.tokens[h];if(!(r&&!d.fallback)&&((d.contextual||m.start!=e.pos||m.mask!=l||m.context!=c)&&(this.updateCachedToken(m,d,e),m.mask=l,m.context=c),m.lookAhead>m.end+25&&(f=Math.max(m.lookAhead,f)),m.value!=0)){let g=t;if(m.extended>-1&&(t=this.addActions(e,m.extended,m.end,t)),t=this.addActions(e,m.value,m.end,t),!d.extend&&(r=m,t>g))break}}for(;this.actions.length>t;)this.actions.pop();return f&&e.setLookAhead(f),!r&&e.pos==this.stream.end&&(r=new rd,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new rd,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let l=0;l<s.specialized.length;l++)if(s.specialized[l]==e.value){let c=s.specializers[l](this.stream.read(e.start,e.end),r);if(c>=0&&r.p.parser.dialect.allows(c>>1)){(c&1)==0?e.value=c>>1:e.extended=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:s}=e,{parser:l}=e.p,{data:c}=l;for(let f=0;f<2;f++)for(let h=l.stateSlot(s,f?2:1);;h+=3){if(c[h]==65535)if(c[h+1]==1)h=Is(c,h+2);else{i==0&&c[h+1]==2&&(i=this.putAction(Is(c,h+2),t,r,i));break}c[h]==t&&(i=this.putAction(Is(c,h+1),t,r,i))}return i}}class uV{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new sV(t,i),this.tokens=new fV(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[qd.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new cV(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let c=e[l];for(;;){if(this.tokens.mainToken=null,c.pos>t)r.push(c);else{if(this.advanceStack(c,r,e))continue;{i||(i=[],s=[]),i.push(c);let f=this.tokens.getMainToken(c);s.push(f.value,f.end)}}break}}if(!r.length){let l=i&&dV(i);if(l)return ri&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw ri&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let l=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(l)return ri&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(r.length>l)for(r.sort((c,f)=>f.score-c.score);r.length>l;)r.pop();r.some(c=>c.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let l=0;l<r.length-1;l++){let c=r[l];for(let f=l+1;f<r.length;f++){let h=r[f];if(c.sameState(h)||c.buffer.length>500&&h.buffer.length>500)if((c.score-h.score||c.buffer.length-h.buffer.length)>0)r.splice(f--,1);else{r.splice(l--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let l=1;l<r.length;l++)r[l].pos<this.minStackPos&&(this.minStackPos=r[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:s}=this,l=ri?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,d=h?e.curContext.hash:0;for(let m=this.fragments.nodeAt(i);m;){let g=this.parser.nodeSet.types[m.type.id]==m.type?s.getGoto(e.state,m.type.id):-1;if(g>-1&&m.length&&(!h||(m.prop(St.contextHash)||0)==d))return e.useNode(m,g),ri&&console.log(l+this.stackID(e)+` (via reuse of ${s.getName(m.type.id)})`),!0;if(!(m instanceof Pn)||m.children.length==0||m.positions[0]>0)break;let x=m.children[0];if(x instanceof Pn&&m.positions[0]==0)m=x;else break}}let c=s.stateSlot(e.state,4);if(c>0)return e.reduce(c),ri&&console.log(l+this.stackID(e)+` (via always-reduce ${s.getName(c&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let f=this.tokens.getActions(e);for(let h=0;h<f.length;){let d=f[h++],m=f[h++],g=f[h++],x=h==f.length||!r,S=x?e:e.split(),b=this.tokens.mainToken;if(S.apply(d,m,b?b.start:S.pos,g),ri&&console.log(l+this.stackID(S)+` (via ${(d&65536)==0?"shift":`reduce of ${s.getName(d&65535)}`} for ${s.getName(m)} @ ${i}${S==e?"":", split"})`),x)return!0;S.pos>i?t.push(S):r.push(S)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return bC(e,t),!0}}runRecovery(e,t,r){let i=null,s=!1;for(let l=0;l<e.length;l++){let c=e[l],f=t[l<<1],h=t[(l<<1)+1],d=ri?this.stackID(c)+" -> ":"";if(c.deadEnd&&(s||(s=!0,c.restart(),ri&&console.log(d+this.stackID(c)+" (restarted)"),this.advanceFully(c,r))))continue;let m=c.split(),g=d;for(let x=0;x<10&&m.forceReduce()&&(ri&&console.log(g+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,r));x++)ri&&(g=this.stackID(m)+" -> ");for(let x of c.recoverByInsert(f))ri&&console.log(d+this.stackID(x)+" (via recover-insert)"),this.advanceFully(x,r);this.stream.end>c.pos?(h==c.pos&&(h++,f=0),c.recoverByDelete(f,h),ri&&console.log(d+this.stackID(c)+` (via recover-delete ${this.parser.getName(f)})`),bC(c,r)):(!i||i.score<c.score)&&(i=c)}return i}stackToTree(e){return e.close(),Pn.build({buffer:Wd.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Cx||(Cx=new WeakMap)).get(e);return t||Cx.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function bC(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class hV{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class Gd extends cT{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let c=0;c<e.repeatNodeCount;c++)t.push("");let r=Object.keys(e.topRules).map(c=>e.topRules[c][1]),i=[];for(let c=0;c<t.length;c++)i.push([]);function s(c,f,h){i[c].push([f,f.deserialize(String(h))])}if(e.nodeProps)for(let c of e.nodeProps){let f=c[0];typeof f=="string"&&(f=St[f]);for(let h=1;h<c.length;){let d=c[h++];if(d>=0)s(d,f,c[h++]);else{let m=c[h+-d];for(let g=-d;g>0;g--)s(c[h++],f,m);h++}}}this.nodeSet=new kv(t.map((c,f)=>Xr.define({name:f>=this.minRepeatTerm?void 0:c,id:f,props:i[f],top:r.indexOf(f)>-1,error:f==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(f)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=sT;let l=lh(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(SC),this.states=lh(e.states,Uint32Array),this.data=lh(e.stateData),this.goto=lh(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>typeof c=="number"?new jo(l,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new uV(this,e,t,r);for(let s of this.wrappers)i=s(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let s=i[t+1];;){let l=i[s++],c=l&1,f=i[s++];if(c&&r)return f;for(let h=s+(l>>1);s<h;s++)if(i[s]==e)return f;if(c)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),l;;s+=3){if((l=r[s])==65535)if(r[s+1]==1)l=r[s=Is(r,s+2)];else{if(r[s+1]==2)return Is(r,s+2);break}if(l==t||l==0)return Is(r,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),i=r?t(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Is(this.data,s+2);else break;i=t(Is(this.data,s+1))}return i}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Is(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];t.some((s,l)=>l&1&&s==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(Gd.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(c=>c.from==r.external);if(!s)return r;let l=Object.assign(Object.assign({},r),{external:s.to});return t.specializers[i]=SC(l),l})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let s of e.split(" ")){let l=t.indexOf(s);l>=0&&(r[l]=!0)}let i=null;for(let s=0;s<t.length;s++)if(!r[s])for(let l=this.dialects[t[s]],c;(c=this.data[l++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[c]=1;return new hV(e,r,i)}static deserialize(e){return new Gd(e)}}function Is(n,e){return n[e]|n[e+1]<<16}function dV(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function SC(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}const pV=36,wC=1,mV=2,bo=3,Ax=4,gV=5,xV=6,vV=7,yV=8,bV=9,SV=10,wV=11,EV=12,CV=13,AV=14,TV=15,_V=16,DV=17,EC=18,kV=19,F6=20,M6=21,CC=22,OV=23,BV=24;function L1(n){return n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57}function NV(n){return n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70}function fl(n,e,t){for(let r=!1;;){if(n.next<0)return;if(n.next==e&&!r){n.advance();return}r=t&&!r&&n.next==92,n.advance()}}function RV(n,e){e:for(;;){if(n.next<0)return;if(n.next==36){n.advance();for(let t=0;t<e.length;t++){if(n.next!=e.charCodeAt(t))continue e;n.advance()}if(n.next==36){n.advance();return}}else n.advance()}}function FV(n,e){let t="[{<(".indexOf(String.fromCharCode(e)),r=t<0?e:"]}>)".charCodeAt(t);for(;;){if(n.next<0)return;if(n.next==r&&n.peek(1)==39){n.advance(2);return}n.advance()}}function I1(n,e){for(;!(n.next!=95&&!L1(n.next));)e!=null&&(e+=String.fromCharCode(n.next)),n.advance();return e}function MV(n){if(n.next==39||n.next==34||n.next==96){let e=n.next;n.advance(),fl(n,e,!1)}else I1(n)}function AC(n,e){for(;n.next==48||n.next==49;)n.advance();e&&n.next==e&&n.advance()}function TC(n,e){for(;;){if(n.next==46){if(e)break;e=!0}else if(n.next<48||n.next>57)break;n.advance()}if(n.next==69||n.next==101)for(n.advance(),(n.next==43||n.next==45)&&n.advance();n.next>=48&&n.next<=57;)n.advance()}function _C(n){for(;!(n.next<0||n.next==10);)n.advance()}function ol(n,e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)==n)return!0;return!1}const Tx=` 	\r
`;function L6(n,e,t){let r=Object.create(null);r.true=r.false=gV,r.null=r.unknown=xV;for(let i of n.split(" "))i&&(r[i]=F6);for(let i of e.split(" "))i&&(r[i]=M6);for(let i of(t||"").split(" "))i&&(r[i]=BV);return r}const I6="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",P6="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",P1={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:L6(P6,I6)};function LV(n,e,t,r){let i={};for(let s in P1)i[s]=(n.hasOwnProperty(s)?n:P1)[s];return e&&(i.words=L6(e,t||"",r)),i}function j6(n){return new aV(e=>{var t;let{next:r}=e;if(e.advance(),ol(r,Tx)){for(;ol(e.next,Tx);)e.advance();e.acceptToken(pV)}else if(r==36&&n.doubleDollarQuotedStrings){let i=I1(e,"");e.next==36&&(e.advance(),RV(e,i),e.acceptToken(bo))}else if(r==39||r==34&&n.doubleQuotedStrings)fl(e,r,n.backslashEscapes),e.acceptToken(bo);else if(r==35&&n.hashComments||r==47&&e.next==47&&n.slashComments)_C(e),e.acceptToken(wC);else if(r==45&&e.next==45&&(!n.spaceAfterDashes||e.peek(1)==32))_C(e),e.acceptToken(wC);else if(r==47&&e.next==42){e.advance();for(let i=1;;){let s=e.next;if(e.next<0)break;if(e.advance(),s==42&&e.next==47){if(i--,e.advance(),!i)break}else s==47&&e.next==42&&(i++,e.advance())}e.acceptToken(mV)}else if((r==101||r==69)&&e.next==39)e.advance(),fl(e,39,!0),e.acceptToken(bo);else if((r==110||r==78)&&e.next==39&&n.charSetCasts)e.advance(),fl(e,39,n.backslashEscapes),e.acceptToken(bo);else if(r==95&&n.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),fl(e,39,n.backslashEscapes),e.acceptToken(bo);break}if(!L1(e.next))break;e.advance()}else if(n.plsqlQuotingMechanism&&(r==113||r==81)&&e.next==39&&e.peek(1)>0&&!ol(e.peek(1),Tx)){let i=e.peek(1);e.advance(2),FV(e,i),e.acceptToken(bo)}else if(ol(r,n.identifierQuotes)){const i=r==91?93:r;fl(e,i,!1),e.acceptToken(kV)}else if(r==40)e.acceptToken(vV);else if(r==41)e.acceptToken(yV);else if(r==123)e.acceptToken(bV);else if(r==125)e.acceptToken(SV);else if(r==91)e.acceptToken(wV);else if(r==93)e.acceptToken(EV);else if(r==59)e.acceptToken(CV);else if(n.unquotedBitLiterals&&r==48&&e.next==98)e.advance(),AC(e),e.acceptToken(CC);else if((r==98||r==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),n.treatBitsAsBytes?(fl(e,i,n.backslashEscapes),e.acceptToken(OV)):(AC(e,i),e.acceptToken(CC))}else if(r==48&&(e.next==120||e.next==88)||(r==120||r==88)&&e.next==39){let i=e.next==39;for(e.advance();NV(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(Ax)}else if(r==46&&e.next>=48&&e.next<=57)TC(e,!0),e.acceptToken(Ax);else if(r==46)e.acceptToken(AV);else if(r>=48&&r<=57)TC(e,!1),e.acceptToken(Ax);else if(ol(r,n.operatorChars)){for(;ol(e.next,n.operatorChars);)e.advance();e.acceptToken(TV)}else if(ol(r,n.specialVar))e.next==r&&e.advance(),MV(e),e.acceptToken(DV);else if(r==58||r==44)e.acceptToken(_V);else if(L1(r)){let i=I1(e,String.fromCharCode(r));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?EC:(t=n.words[i.toLowerCase()])!==null&&t!==void 0?t:EC)}})}const z6=j6(P1),IV=Gd.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,z6],topRules:{Script:[0,25]},tokenPrec:0});function j1(n){let e=n.cursor().moveTo(n.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function X0(n,e){let t=n.sliceString(e.from,e.to),r=/^([`'"\[])(.*)([`'"\]])$/.exec(t);return r?r[2]:t}function Xd(n){return n&&(n.name=="Identifier"||n.name=="QuotedIdentifier")}function PV(n,e){if(e.name=="CompositeIdentifier"){let t=[];for(let r=e.firstChild;r;r=r.nextSibling)Xd(r)&&t.push(X0(n,r));return t}return[X0(n,e)]}function DC(n,e){for(let t=[];;){if(!e||e.name!=".")return t;let r=j1(e);if(!Xd(r))return t;t.unshift(X0(n,r)),e=j1(r)}}function jV(n,e){let t=Jn(n).resolveInner(e,-1),r=HV(n.doc,t);return t.name=="Identifier"||t.name=="QuotedIdentifier"||t.name=="Keyword"?{from:t.from,quoted:t.name=="QuotedIdentifier"?n.doc.sliceString(t.from,t.from+1):null,parents:DC(n.doc,j1(t)),aliases:r}:t.name=="."?{from:e,quoted:null,parents:DC(n.doc,t),aliases:r}:{from:e,quoted:null,parents:[],empty:!0,aliases:r}}const zV=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function HV(n,e){let t;for(let i=e;!t;i=i.parent){if(!i)return null;i.name=="Statement"&&(t=i)}let r=null;for(let i=t.firstChild,s=!1,l=null;i;i=i.nextSibling){let c=i.name=="Keyword"?n.sliceString(i.from,i.to).toLowerCase():null,f=null;if(!s)s=c=="from";else if(c=="as"&&l&&Xd(i.nextSibling))f=X0(n,i.nextSibling);else{if(c&&zV.has(c))break;l&&Xd(i)&&(f=X0(n,i))}f&&(r||(r=Object.create(null)),r[f]=PV(n,l)),l=/Identifier$/.test(i.name)?i:null}return r}function UV(n,e,t){return t.map(r=>({...r,label:r.label[0]==n?r.label:n+r.label+e,apply:void 0}))}const VV=/^\w*$/,qV=/^[`'"\[]?\w*[`'"\]]?$/;function kC(n){return n.self&&typeof n.self.label=="string"}class Gv{constructor(e,t){this.idQuote=e,this.idCaseInsensitive=t,this.list=[],this.children=void 0}child(e){let t=this.children||(this.children=Object.create(null)),r=t[e];return r||(e&&!this.list.some(i=>i.label==e)&&this.list.push(OC(e,"type",this.idQuote,this.idCaseInsensitive)),t[e]=new Gv(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let t=this.list.findIndex(r=>r.label==e.label);t>-1?this.list[t]=e:this.list.push(e)}addCompletions(e){for(let t of e)this.addCompletion(typeof t=="string"?OC(t,"property",this.idQuote,this.idCaseInsensitive):t)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):kC(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let t of Object.keys(e)){let r=e[t],i=null,s=t.replace(/\\?\./g,c=>c=="."?"\0":c).split("\0"),l=this;kC(r)&&(i=r.self,r=r.children);for(let c=0;c<s.length;c++)i&&c==s.length-1&&l.addCompletion(i),l=l.child(s[c].replace(/\\\./g,"."));l.addNamespace(r)}}}function OC(n,e,t,r){return new RegExp("^[a-z_][a-z_\\d]*$",r?"i":"").test(n)?{label:n,type:e}:{label:n,type:e,apply:t+n+H6(t)}}function H6(n){return n==="["?"]":n}function WV(n,e,t,r,i,s){var l;let c=((l=s?.spec.identifierQuotes)===null||l===void 0?void 0:l[0])||'"',f=new Gv(c,!!s?.spec.caseInsensitiveIdentifiers),h=i?f.child(i):null;return f.addNamespace(n),e&&(h||f).addCompletions(e),t&&f.addCompletions(t),h&&f.addCompletions(h.list),r&&f.addCompletions((h||f).child(r).list),d=>{let{parents:m,from:g,quoted:x,empty:S,aliases:b}=jV(d.state,d.pos);if(S&&!d.explicit)return null;b&&m.length==1&&(m=b[m[0]]||m);let w=f;for(let A of m){for(;!w.children||!w.children[A];)if(w==f&&h)w=h;else if(w==h&&r)w=w.child(r);else return null;let C=w.maybeChild(A);if(!C)return null;w=C}let T=w.list;if(w==f&&b&&(T=T.concat(Object.keys(b).map(A=>({label:A,type:"constant"})))),x){let A=x[0],C=H6(A),_=d.state.sliceDoc(d.pos,d.pos+1)==C;return{from:g,to:_?d.pos+1:void 0,options:UV(A,C,T),validFor:qV}}else return{from:g,options:T,validFor:VV}}}function GV(n){return n==M6?"type":n==F6?"keyword":"variable"}function XV(n,e,t){let r=Object.keys(n).map(i=>t(e?i.toUpperCase():i,GV(n[i])));return zH(["QuotedIdentifier","String","LineComment","BlockComment","."],v6(r))}let $V=IV.configure({props:[pT.add({Statement:yj()}),gT.add({Statement(n,e){return{from:Math.min(n.from+100,e.doc.lineAt(n.from).to),to:n.to}},BlockComment(n){return{from:n.from+2,to:n.to-2}}}),fT({Keyword:me.keyword,Type:me.typeName,Builtin:me.standard(me.name),Bits:me.number,Bytes:me.string,Bool:me.bool,Null:me.null,Number:me.number,String:me.string,Identifier:me.name,QuotedIdentifier:me.special(me.string),SpecialVar:me.special(me.name),LineComment:me.lineComment,BlockComment:me.blockComment,Operator:me.operator,"Semi Punctuation":me.punctuation,"( )":me.paren,"{ }":me.brace,"[ ]":me.squareBracket})]});class $0{constructor(e,t,r){this.dialect=e,this.language=t,this.spec=r}get extension(){return this.language.extension}configureLanguage(e,t){return new $0(this.dialect,this.language.configure(e,t),this.spec)}static define(e){let t=LV(e,e.keywords,e.types,e.builtin),r=Bd.define({name:"sql",parser:$V.configure({tokenizers:[{from:z6,to:j6(t)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new $0(t,r,e)}}function YV(n,e){return{label:n,type:e,boost:-1}}function KV(n,e=!1,t){return XV(n.dialect.words,e,t||YV)}function QV(n){return n.schema?WV(n.schema,n.tables,n.schemas,n.defaultTable,n.defaultSchema,n.dialect||Xv):()=>null}function ZV(n){return n.schema?(n.dialect||Xv).language.data.of({autocomplete:QV(n)}):[]}function JV(n={}){let e=n.dialect||Xv;return new fj(e.language,[ZV(n),e.language.data.of({autocomplete:KV(e,n.upperCaseKeywords,n.keywordCompletion)})])}const Xv=$0.define({}),eq=$0.define({keywords:P6+"abort accept access add all alter and any arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body by case cast char_base check close cluster clusters colauth column comment commit compress connected constant constraint crash create current currval cursor data_base database dba deallocate debugoff debugon declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry exception exception_init exchange exclusive exists external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base of off offline on online only option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw rebuild record ref references refresh rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work",builtin:"appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define echo editfile embedded feedback flagger flush heading headsep instance linesize lno loboffset logsource longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar repfooter repheader serveroutput shiftinout show showmode spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout timing trimout trimspool ttitle underline verify version wrap",types:I6+"ascii bfile bfilename bigserial bit blob dec long number nvarchar nvarchar2 serial smallint string text uid varchar2 xml",operatorChars:"*/+-%<>!=~",doubleQuotedStrings:!0,charSetCasts:!0,plsqlQuotingMechanism:!0});var _x={exports:{}},Dx,BC;function tq(){if(BC)return Dx;BC=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Dx=n,Dx}var kx,NC;function nq(){if(NC)return kx;NC=1;var n=tq();function e(){}function t(){}return t.resetWarningCache=e,kx=function(){function r(l,c,f,h,d,m){if(m!==n){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},kx}var RC;function rq(){return RC||(RC=1,_x.exports=nq()()),_x.exports}var iq=rq();const gr=V1(iq),U6=({children:n})=>{const e=Q.useRef(null),[t,r]=Q.useState({width:0,height:0});return Q.useEffect(()=>{if(!e.current)return;const i=new ResizeObserver(s=>{for(let l of s){const{width:c,height:f}=l.contentRect;r({width:c,height:f})}});return i.observe(e.current),()=>i.disconnect()},[]),E.jsx("div",{ref:e,style:{width:"100%",height:"100%"},children:t.width>0&&t.height>0&&n(t)})};U6.propTypes={children:gr.func.isRequired};const V6=({height:n,width:e,itemCount:t,itemSize:r,minWidth:i,header:s,headerHeight:l=40,children:c})=>{const[f,h]=Q.useState(0),d=Q.useRef(null),m=A=>{h(A.target.scrollTop)},g=t*r,x=5,S=Math.max(0,f-l),b=Math.max(0,Math.floor(S/r)-x),w=Math.min(t-1,Math.floor((S+n)/r)+x),T=[];for(let A=b;A<=w;A++)T.push(c({index:A,style:{position:"absolute",top:A*r+l,left:0,width:"100%",height:r}}));return E.jsx("div",{ref:d,onScroll:m,style:{height:n,width:e,overflow:"auto",position:"relative",willChange:"transform"},children:E.jsxs("div",{style:{height:g+l,position:"relative",width:"100%",minWidth:i||"100%"},children:[E.jsx("div",{style:{position:"sticky",top:0,zIndex:10,height:l,width:"100%"},children:s}),T]})})};V6.propTypes={height:gr.number.isRequired,width:gr.number.isRequired,itemCount:gr.number.isRequired,itemSize:gr.number.isRequired,minWidth:gr.number,header:gr.node,headerHeight:gr.number,children:gr.func.isRequired};function q6({isVisible:n,tabs:e,setTabs:t,activeTabId:r,setActiveTabId:i,savedQueries:s,setSavedQueries:l}){const{theme:c}=Q.useContext(n2),f=Q.useRef(null),h=Q.useRef(null),[d,m]=Q.useState(null),g=Q.useRef(null);Q.useEffect(()=>{const pe=()=>{f.current&&f.current.focus()},Me=setTimeout(()=>{pe()},100),Ie=()=>{pe()};return window.addEventListener("focus",Ie),()=>{clearTimeout(Me),window.removeEventListener("focus",Ie)}},[]),Q.useEffect(()=>{if(n){const pe=[setTimeout(()=>f.current?.focus(),50),setTimeout(()=>f.current?.focus(),200),setTimeout(()=>f.current?.focus(),500)];return()=>pe.forEach(Me=>clearTimeout(Me))}},[n]);const[x,S]=Q.useState({}),b=Q.useRef(null),w=(pe,Me)=>{pe.preventDefault(),pe.stopPropagation(),b.current={colName:Me,startX:pe.clientX,startWidth:x[Me]||150},document.addEventListener("mousemove",T),document.addEventListener("mouseup",A)},T=pe=>{if(!b.current)return;const{colName:Me,startX:Ie,startWidth:tt}=b.current,Ze=pe.clientX-Ie,lt=Math.max(50,tt+Ze);S(ht=>({...ht,[Me]:lt}))},A=()=>{b.current=null,document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",A)},C=(pe,Me="success",Ie=3e3)=>{g.current&&(clearTimeout(g.current),g.current=null),m({message:pe,type:Me}),Ie>0&&(g.current=setTimeout(()=>{m(null),g.current=null},Ie))},_=e.find(pe=>pe.id===r)||e[0],B=pe=>{t(Me=>Me.map(Ie=>Ie.id===r?{...Ie,...pe}:Ie))},[N,O]=Q.useState(!1),[z,R]=Q.useState(1e3),[I,P]=Q.useState(""),[q,K]=Q.useState(!1),[ie,ce]=Q.useState(!0),[Z,re]=Q.useState("saved"),[xe,Ee]=Q.useState(""),[Oe,j]=Q.useState([]),[D,M]=Q.useState(null),[L,W]=Q.useState([]),[ee,be]=Q.useState(!1),[ve,Te]=Q.useState({}),[ye,st]=Q.useState({}),[Ye,dt]=Q.useState([]),[We,Le]=Q.useState({}),[Ue,Ne]=Q.useState(!1),[Qe,ct]=Q.useState(!1),[yt,It]=Q.useState(!1),[zt,$t]=Q.useState(null);Q.useEffect(()=>{if(_.results&&_.results.metaData){const pe={},Me=_.results.metaData.map(Ie=>Ie.name);_.results.metaData.forEach(Ie=>pe[Ie.name]=!0),st(pe),dt(Me),Le({})}},[_.results]);const fe=async(pe="")=>{be(!0);try{const Ie=await(await fetch(`http://localhost:3001/api/tables?search=${encodeURIComponent(pe)}`)).json();j(Ie);const tt={...ve};Ie.forEach(Ze=>{tt[Ze]||(tt[Ze]=[])}),Te(tt)}catch(Me){console.error("Failed to fetch schema tables",Me)}finally{be(!1)}},Pe=async pe=>{if(D===pe){M(null),W([]);return}M(pe);try{const Ie=await(await fetch(`http://localhost:3001/api/columns/${encodeURIComponent(pe)}`)).json();W(Ie),Te(tt=>({...tt,[pe]:Ie.map(Ze=>Ze.name)}))}catch(Me){console.error("Failed to fetch columns",Me)}},ke=pe=>{B({sqlContent:_.sqlContent+" "+pe})},rt=async pe=>{const Me=pe.target.files[0];if(!Me)return;const Ie=new FormData;Ie.append("file",Me),B({loading:!0});try{const Ze=await(await fetch("http://localhost:3001/api/upload/sql",{method:"POST",body:Ie})).json();if(Ze.error)throw new Error(Ze.error);B({sqlContent:Ze.sql,loading:!1}),P(Me.name.replace(/\.sql$/i,""))}catch(tt){B({error:tt.message,loading:!1})}},bt=async()=>{B({loading:!0,error:null,results:null,totalRecords:void 0});try{const pe=_.sqlContent.trim().replace(/;+\s*$/,""),Ie=await(await fetch("http://127.0.0.1:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:pe,limit:z,filter:yt?We:null})})).json();if(Ie.error)throw new Error(Ie.error);B({results:Ie,loading:!1});try{const Ze=await(await fetch("http://127.0.0.1:3001/api/query/count",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:pe})})).json();Ze.count!==void 0&&B({totalRecords:Ze.count})}catch(tt){console.error("Failed to fetch count",tt)}}catch(pe){B({error:pe.message,loading:!1})}},Yt=()=>{if(!I){alert("Por favor, insira um nome para a query.");return}const pe={id:Date.now(),name:I,sql:_.sqlContent},Me=[...s,pe];l(Me),K(!1),P("")},ft=pe=>{if(window.confirm("Tem certeza que deseja excluir esta query?")){const Me=s.filter(Ie=>Ie.id!==pe);l(Me)}},Ot=pe=>{B({sqlContent:pe.sql}),P(pe.name)},An=()=>{const pe=Date.now(),Me={id:pe,title:`Query ${e.length+1}`,sqlContent:"",results:null,error:null,loading:!1};t([...e,Me]),i(pe)},Br=(pe,Me)=>{if(pe.stopPropagation(),e.length===1){t([{...e[0],sqlContent:"",results:null,error:null}]);return}const Ie=e.filter(tt=>tt.id!==Me);t(Ie),r===Me&&i(Ie[Ie.length-1].id)},vn=_.results?!Object.values(We).some(Me=>Me&&Me.trim()!=="")||yt?_.results.rows:_.results.rows.filter(Me=>Ye.every((Ie,tt)=>{const Ze=We[Ie];if(!Ze)return!0;const lt=_.results.metaData.findIndex(ut=>ut.name===Ie);return String(Me[lt]||"").toLowerCase().includes(Ze.toLowerCase())})):[],yn=async()=>{C("Iniciando download do CSV...","info",0);try{const pe=_.sqlContent.trim().replace(/;$/,""),Me=await fetch("http://localhost:3001/api/export/csv",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:pe,filter:yt?We:null})});if(!Me.ok)throw new Error("Erro na exportao");const Ie=await Me.blob();Ro.saveAs(Ie,`export_${Date.now()}.csv`),C("Download concludo!")}catch(pe){console.error(pe),C("Erro ao exportar: "+pe.message,"error")}},Ki=async(pe,Me,Ie)=>{if(window.electronAPI&&window.electronAPI.saveFile){const tt=await window.electronAPI.saveFile({filename:pe,content:Me,type:Ie});tt&&(C("Arquivo salvo com sucesso!"),window.electronAPI.showItemInFolder(tt))}else{let tt;if(Ie==="xlsx"){const Ze=atob(Me),lt=new Uint8Array(Ze.length);for(let ht=0;ht<Ze.length;ht++)lt[ht]=Ze.charCodeAt(ht);tt=new Blob([lt],{type:"application/octet-stream"})}else tt=new Blob([Me],{type:"text/csv;charset=utf-8"});Ro.saveAs(tt,pe),C("Download concludo!")}},$r=async pe=>{if(!_.results||!_.results.rows||_.results.rows.length===0){alert("No h dados para exportar.");return}if((z!=="all"&&_.results.rows.length>=z||yt)&&window.confirm("A visualizao atual est limitada ou filtrada. Deseja exportar TODAS as linhas correspondentes?")){if(pe==="csv"){yn();return}else if(pe==="xlsx"){if(_.totalRecords>1e5&&window.confirm("Para grandes volumes (>100k), a exportao em Excel pode falhar ou ser lenta. Recomendamos CSV. Deseja exportar em CSV?")){yn();return}_.totalRecords>1e6&&alert("Ateno: O Excel suporta no mximo 1 milho de linhas. A exportao pode falhar. Recomendamos fortemente o uso de CSV."),C("Baixando dados do servidor...","info",0);try{const tt=_.sqlContent.trim().replace(/;$/,""),lt=await(await fetch("http://127.0.0.1:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:tt,limit:"all",filter:yt?We:null})})).json();if(lt.error)throw new Error(lt.error);const ut=[lt.metaData.map(Y=>Y.name),...lt.rows],Bt=si.book_new(),Tn=si.aoa_to_sheet(ut);si.book_append_sheet(Bt,Tn,"Results");const Bn=yd(Bt,{bookType:"xlsx",type:"array"}),F=new Uint8Array(Bn);let G="";const U=F.byteLength;for(let Y=0;Y<U;Y++)G+=String.fromCharCode(F[Y]);const V=window.btoa(G),X=`export_full_${Date.now()}.xlsx`;await Ki(X,V,"xlsx")}catch(tt){alert("Falha ao buscar todos os dados: "+tt.message)}finally{}return}}C("Gerando arquivo...","info",0),setTimeout(async()=>{try{const tt=[_.results.metaData.map(ut=>ut.name),...vn],lt=`sql_export_${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}.${pe}`;let ht;if(pe==="xlsx"){const ut=si.book_new(),Bt=si.aoa_to_sheet(tt);si.book_append_sheet(ut,Bt,"Results");const Tn=yd(ut,{bookType:"xlsx",type:"array"}),Bn=new Uint8Array(Tn);let F="";const G=Bn.byteLength;for(let U=0;U<G;U++)F+=String.fromCharCode(Bn[U]);ht=window.btoa(F)}else if(pe==="csv"){const ut=si.aoa_to_sheet(tt);ht=si.sheet_to_csv(ut)}else if(pe==="txt"){const ut=tt.map(Tn=>Tn.join("	")).join(`
`),Bt=new Blob([ut],{type:"text/plain;charset=utf-8"});Ro.saveAs(Bt,`${lt}.txt`),C("Download concludo!");return}await Ki(lt,ht,pe)}catch(Ie){console.error("Export Error:",Ie),C("Falha ao exportar: "+Ie.message,"error")}},100)},Qi=pe=>{if(typeof pe!="string")return pe;if(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?$/.test(pe)){const Ie=new Date(pe);if(isNaN(Ie.getTime()))return pe;const tt=Ie.getHours(),Ze=Ie.getMinutes(),lt=Ie.getSeconds();return tt!==0||Ze!==0||lt!==0?Ie.toLocaleString("pt-BR"):Ie.toLocaleDateString("pt-BR")}return pe},Nr=(pe,Me)=>{$t(Me),pe.dataTransfer.effectAllowed="move"},hi=(pe,Me)=>{if(pe.preventDefault(),!zt||zt===Me)return;const Ie=[...Ye],tt=Ie.indexOf(zt),Ze=Ie.indexOf(Me);Ie.splice(tt,1),Ie.splice(Ze,0,zt),dt(Ie)},Kt=()=>{$t(null)},Ht=({index:pe,style:Me})=>{const Ie=vn[pe];return E.jsx("div",{style:Me,className:`flex divide-x ${c.border} ${pe%2===0?c.panel:"bg-opacity-50 "+c.bg} hover:bg-blue-50 transition-colors`,children:Ye.map(tt=>{if(!ye[tt])return null;const Ze=_.results.metaData.findIndex(ht=>ht.name===tt),lt=x[tt]||150;return E.jsx("div",{className:`px-2 py-2 text-sm ${c.sidebarText} overflow-hidden text-ellipsis whitespace-nowrap`,style:{width:`${lt}px`,minWidth:`${lt}px`,maxWidth:`${lt}px`},title:String(Ie[Ze]),children:Qi(Ie[Ze])},tt)})})},dn=()=>{f.current&&!f.current.hasFocus&&f.current.focus()};return E.jsxs("div",{className:`space-y-4 relative h-full flex flex-col ${c.bg}`,children:[d&&E.jsx("div",{className:`fixed bottom-4 right-4 px-6 py-3 rounded shadow-lg z-50 animate-fade-in-up text-white font-medium ${d.type==="error"?"bg-red-600":"bg-green-600"}`,children:d.message}),N&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:E.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl flex flex-col items-center",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#f37021] mb-4"}),E.jsx("p",{className:"text-gray-700 font-semibold",children:"Exportando dados..."}),E.jsx("p",{className:"text-sm text-gray-500",children:"Por favor, aguarde."})]})}),E.jsxs("div",{className:"flex gap-4 h-full overflow-hidden",children:[E.jsxs("div",{className:"flex-1 space-y-2 flex flex-col overflow-hidden",children:[E.jsxs("div",{className:"flex items-center space-x-1 overflow-x-auto border-b border-gray-200 pb-1",children:[e.map(pe=>E.jsxs("div",{onClick:()=>i(pe.id),className:`group flex items-center px-3 py-1.5 text-xs font-medium rounded-t-lg cursor-pointer border-t border-l border-r ${r===pe.id?"bg-white text-blue-600 border-gray-200 relative top-[1px]":"bg-gray-100 text-gray-500 hover:bg-gray-50 border-transparent"}`,children:[E.jsx("span",{className:"mr-2 max-w-[100px] truncate",children:pe.title}),E.jsx("button",{onClick:Me=>Br(Me,pe.id),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500",children:""})]},pe.id)),E.jsx("button",{onClick:An,className:"px-2 py-1 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Nova Aba",children:"+"})]}),E.jsxs("div",{className:"flex-none",children:[E.jsx("div",{ref:h,onClick:dn,className:`border rounded overflow-hidden ${c.border} cursor-text`,children:n&&E.jsx(R6,{value:_.sqlContent,height:"200px",extensions:[JV({schema:ve,dialect:eq}),_6({override:[pe=>{let Me=pe.matchBefore(/\w*/);if(!Me||Me.from==Me.to&&!pe.explicit)return null;const Ie=[{label:"NVL",type:"function",detail:"nvl(expr1, expr2)"},{label:"NVL2",type:"function",detail:"nvl2(expr1, expr2, expr3)"},{label:"DECODE",type:"function",detail:"decode(expr, search, result...)"},{label:"TO_CHAR",type:"function",detail:"to_char(n, [fmt])"},{label:"TO_DATE",type:"function",detail:"to_date(char, [fmt])"},{label:"TO_NUMBER",type:"function",detail:"to_number(expr, [fmt])"},{label:"SUBSTR",type:"function",detail:"substr(char, position, [len])"},{label:"INSTR",type:"function",detail:"instr(string, substring)"},{label:"REPLACE",type:"function",detail:"replace(char, search, [replace])"},{label:"TRUNC",type:"function",detail:"trunc(date, [fmt])"},{label:"ROUND",type:"function",detail:"round(n, [integer])"},{label:"SYSDATE",type:"keyword",detail:"Current Date"},{label:"UPPER",type:"function",detail:"upper(char)"},{label:"LOWER",type:"function",detail:"lower(char)"},{label:"COALESCE",type:"function",detail:"coalesce(expr1, ...)"},{label:"LISTAGG",type:"function",detail:"listagg(measure, delimiter)"},{label:"CASE",type:"keyword",detail:"CASE WHEN ... END"},{label:"WHEN",type:"keyword"},{label:"THEN",type:"keyword"},{label:"ELSE",type:"keyword"},{label:"END",type:"keyword"}];return{from:Me.from,options:Ie}}]})],onChange:pe=>B({sqlContent:pe}),theme:c.name==="Modo Escuro"||c.name==="Dracula"?"dark":"light",className:"text-sm",onCreateEditor:pe=>{f.current=pe,pe.focus()}})}),E.jsxs("div",{className:`mt-2 flex items-center justify-between p-2 rounded border ${c.panel} ${c.border}`,children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("button",{onClick:bt,disabled:!_.sqlContent||_.loading,className:`py-2 px-6 rounded-lg shadow-md transition-all font-semibold flex items-center disabled:opacity-50 ${c.primaryBtn}`,children:_.loading?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Executando..."]}):E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"mr-2",children:""})," Executar"]})}),_.totalRecords!==void 0&&E.jsxs("span",{className:"text-xs font-medium text-gray-500 ml-2",children:["Total: ",_.totalRecords.toLocaleString()," registros"]}),E.jsx("button",{onClick:()=>ce(!ie),className:`p-2 rounded border transition-colors flex items-center justify-center ${ie?`${c.primaryBtn}`:`${c.secondaryBtn}`}`,title:ie?"Ocultar Menu Lateral":"Mostrar Menu Lateral",children:E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 6v12"})]})}),E.jsxs("label",{className:"cursor-pointer p-2 rounded border transition-colors text-gray-500 hover:bg-blue-50 hover:text-blue-600",title:"Carregar Arquivo SQL",children:[E.jsx("input",{type:"file",accept:".sql",onChange:rt,className:"hidden"}),E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})]}),E.jsx("div",{className:`flex items-center border-l pl-2 ${c.border}`,children:E.jsxs("select",{value:z,onChange:pe=>R(pe.target.value==="all"?"all":Number(pe.target.value)),title:"Limite de Linhas",className:`border rounded p-1.5 text-xs focus:ring-2 focus:ring-blue-500 outline-none w-24 ${c.input} ${c.border}`,children:[E.jsx("option",{value:100,children:"100 linhas"}),E.jsx("option",{value:500,children:"500 linhas"}),E.jsx("option",{value:1e3,children:"1000 linhas"}),E.jsx("option",{value:5e3,children:"5000 linhas"}),E.jsx("option",{value:"all",children:"Todas"})]})})]}),E.jsx("div",{className:"flex items-center space-x-2",children:q?E.jsxs("div",{className:"flex items-center space-x-2 animate-fade-in",children:[E.jsx("input",{type:"text",value:I,onChange:pe=>P(pe.target.value),placeholder:"Nome da Query",className:`border rounded p-1.5 text-sm focus:ring-2 focus:ring-[#f37021] outline-none ${c.input} ${c.border}`,autoFocus:!0}),E.jsx("button",{onClick:Yt,className:"text-green-600 hover:bg-green-50 p-1.5 rounded",title:"Confirmar",children:""}),E.jsx("button",{onClick:()=>K(!1),className:"text-red-600 hover:bg-red-50 p-1.5 rounded",title:"Cancelar",children:""})]}):E.jsxs("button",{onClick:()=>K(!0),disabled:!_.sqlContent,className:`px-3 py-2 rounded transition-colors text-sm font-medium flex items-center disabled:opacity-50 ${c.secondaryBtn}`,children:[E.jsx("span",{className:"mr-1",children:""})," Salvar Query"]})})]})]}),_.error&&E.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded shadow-sm",children:[E.jsx("p",{className:"text-red-700 font-medium",children:"Erro ao executar query:"}),E.jsx("p",{className:"text-sm text-red-600 mt-1",children:_.error})]}),_.results&&E.jsxs("div",{className:`rounded-lg shadow-md border flex-1 flex flex-col overflow-hidden min-h-0 ${c.panel} ${c.border}`,children:[E.jsxs("div",{className:`p-3 border-b flex justify-between items-center ${c.header}`,children:[E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsxs("h3",{className:`text-sm font-bold ${c.sidebarText}`,children:["Resultados: ",vn.length," ",_.totalRecords!==void 0?`de ${_.totalRecords.toLocaleString()} (Total)`:""," ",z!=="all"&&_.results.rows.length>=z?"(Limitado)":""]}),E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:()=>Ne(!Ue),className:`text-xs px-2 py-1 rounded border flex items-center ${c.secondaryBtn} ${c.border}`,children:" Colunas"}),Ue&&E.jsxs("div",{className:`absolute top-full left-0 mt-1 w-48 border rounded shadow-lg z-20 max-h-60 overflow-y-auto p-2 ${c.panel} ${c.border}`,children:[E.jsx("div",{className:"text-xs font-bold text-gray-500 mb-2 uppercase",children:"Exibir/Ocultar"}),Ye.map(pe=>E.jsxs("label",{className:"flex items-center space-x-2 mb-1 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[E.jsx("input",{type:"checkbox",checked:ye[pe],onChange:Me=>st({...ye,[pe]:Me.target.checked}),className:"rounded text-blue-600 focus:ring-blue-500"}),E.jsx("span",{className:`text-sm truncate ${c.sidebarText}`,children:pe})]},pe))]})]}),E.jsx("button",{onClick:()=>ct(!Qe),className:`text-xs px-2 py-1 rounded border flex items-center ${Qe?`${c.primaryBtn}`:`${c.secondaryBtn} ${c.border}`}`,children:" Filtros"}),Qe&&E.jsxs("label",{className:"flex items-center space-x-1 cursor-pointer select-none",title:"Filtrar em todo o banco de dados (ignora limite)",children:[E.jsx("input",{type:"checkbox",checked:yt,onChange:pe=>It(pe.target.checked),className:"rounded text-blue-600 focus:ring-blue-500 h-3 w-3"}),E.jsx("span",{className:`text-[10px] font-medium ${c.sidebarText}`,children:"Filtrar Tudo (Servidor)"})]})]}),E.jsxs("div",{className:"flex space-x-2",children:[E.jsxs("button",{onClick:()=>$r("csv"),className:`text-xs border px-3 py-1.5 rounded transition-colors font-medium flex items-center ${c.secondaryBtn} ${c.border}`,children:[E.jsx("span",{className:"mr-1",children:""})," CSV"]}),E.jsxs("button",{onClick:()=>$r("xlsx"),className:`text-xs px-3 py-1.5 rounded shadow-sm transition-colors font-medium flex items-center ${c.primaryBtn}`,children:[E.jsx("span",{className:"mr-1",children:""})," Excel"]})]})]}),E.jsx("div",{className:"flex-1 w-full relative overflow-hidden",children:E.jsx(U6,{children:({height:pe,width:Me})=>{Ye.filter(Ze=>ye[Ze]).length;const Ie=Ye.reduce((Ze,lt)=>ye[lt]?Ze+(x[lt]||150):Ze,0),tt=E.jsx("div",{className:`flex divide-x ${c.border} ${c.tableHeader} border-b font-bold text-xs uppercase tracking-wider h-full items-center bg-gray-50`,children:Ye.map(Ze=>{if(!ye[Ze])return null;const lt=x[Ze]||150;return E.jsxs("div",{draggable:!0,onDragStart:ht=>Nr(ht,Ze),onDragOver:ht=>hi(ht,Ze),onDragEnd:Kt,className:`relative px-2 py-3 flex-none overflow-hidden text-ellipsis cursor-move transition-colors ${zt===Ze?"opacity-50 bg-blue-50":""}`,style:{width:`${lt}px`,minWidth:`${lt}px`,maxWidth:`${lt}px`},children:[E.jsxs("div",{className:"flex flex-col space-y-2 w-full",children:[E.jsx("span",{className:"whitespace-normal break-words leading-tight cursor-pointer hover:text-blue-600",title:"Clique duplo para auto-ajustar largura",onDoubleClick:()=>{const ut=document.createElement("canvas").getContext("2d");ut.font='12px "Inter", "Segoe UI", sans-serif';let Bt=ut.measureText(Ze).width;(_.results.rows.length>2e3?_.results.rows.slice(0,2e3):_.results.rows).forEach(F=>{const G=_.results.metaData.findIndex(X=>X.name===Ze),U=String(F[G]||""),V=ut.measureText(U).width;V>Bt&&(Bt=V)});const Bn=Math.min(Math.max(100,Math.ceil(Bt+24)),800);S(F=>({...F,[Ze]:Bn}))},children:Ze}),Qe&&E.jsx("input",{type:"text",placeholder:yt?"Filtrar (Enter)...":"Filtrar...",value:We[Ze]||"",onChange:ht=>Le({...We,[Ze]:ht.target.value}),onKeyDown:ht=>{ht.key==="Enter"&&yt&&bt()},className:`w-full text-xs p-1 border rounded font-normal normal-case ${c.input} ${c.border} ${yt?"border-blue-400 bg-blue-50":""}`,onClick:ht=>ht.stopPropagation(),title:yt?"Pressione Enter para buscar no servidor":"Filtragem local"})]}),E.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-400 z-10",onMouseDown:ht=>w(ht,Ze),onClick:ht=>ht.stopPropagation()})]},Ze)})});return E.jsx(V6,{height:pe,width:Me,itemCount:vn.length,itemSize:40,minWidth:Ie,header:tt,headerHeight:Qe?80:45,children:Ht})}})})]})]}),ie&&E.jsxs("div",{className:`w-64 border-l flex flex-col shadow-sm transition-all duration-300 ${c.panel} ${c.border} overflow-hidden`,children:[E.jsxs("div",{className:`flex border-b ${c.border}`,children:[E.jsx("button",{onClick:()=>re("saved"),className:`flex-1 py-2 text-xs font-bold uppercase ${Z==="saved"?`border-b-2 border-blue-500 ${c.accent}`:"text-gray-400"}`,children:"Salvas"}),E.jsx("button",{onClick:()=>re("schema"),className:`flex-1 py-2 text-xs font-bold uppercase ${Z==="schema"?`border-b-2 border-blue-500 ${c.accent}`:"text-gray-400"}`,children:"Schema"}),E.jsx("button",{onClick:()=>ce(!1),className:"px-3 text-gray-400 hover:text-gray-600",children:""})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:Z==="saved"?E.jsxs(E.Fragment,{children:[s.length===0&&E.jsx("p",{className:"text-gray-400 text-xs text-center italic mt-4",children:"Nenhuma query salva."}),s.map(pe=>E.jsxs("div",{className:`group p-3 rounded border transition-all cursor-pointer relative ${c.border} hover:border-blue-300 hover:bg-blue-50`,onClick:()=>Ot(pe),children:[E.jsx("div",{className:`font-medium text-sm truncate pr-6 ${c.text}`,children:pe.name}),E.jsxs("div",{className:"text-xs text-gray-400 truncate mt-1",children:[pe.sql.substring(0,30),"..."]}),E.jsx("button",{onClick:Me=>{Me.stopPropagation(),ft(pe.id)},className:"absolute top-2 right-2 text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity",title:"Excluir",children:""})]},pe.id))]}):E.jsxs("div",{className:`${c.bg} p-2 border-t space-y-1 flex flex-col h-full`,children:[E.jsxs("div",{className:"flex space-x-2 mb-2",children:[E.jsx("input",{type:"text",placeholder:"Buscar tabelas...",value:xe,onChange:pe=>Ee(pe.target.value),onKeyDown:pe=>pe.key==="Enter"&&fe(xe),className:`w-full text-xs p-1.5 rounded border outline-none ${c.input} ${c.border}`}),E.jsx("button",{onClick:()=>fe(xe),disabled:ee,className:`px-3 py-1 text-xs rounded font-medium transition-colors ${c.primaryBtn} disabled:opacity-50`,children:ee?"...":""})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1",children:[Oe.length===0&&!ee&&E.jsx("div",{className:"text-[10px] text-gray-400 italic text-center mt-4",children:"Use a busca para encontrar tabelas."}),Oe.map(pe=>E.jsxs("div",{className:`rounded border ${c.border} overflow-hidden`,children:[E.jsxs("div",{onClick:()=>Pe(pe),className:`px-2 py-1.5 text-xs font-medium cursor-pointer flex justify-between items-center hover:bg-opacity-50 ${D===pe?"bg-blue-50 text-blue-700":c.sidebarText} ${c.tableRowHover}`,children:[E.jsx("span",{className:"truncate",title:pe,children:pe}),E.jsx("span",{className:"text-[10px] opacity-50",children:D===pe?"":""})]}),D===pe&&E.jsx("div",{className:`p-1 pl-3 border-t ${c.border} bg-opacity-30 ${c.bg}`,children:(ve[pe]||[]).length===0?E.jsx("div",{className:"text-[10px] text-gray-400 italic px-2",children:"Carregando colunas..."}):E.jsxs(E.Fragment,{children:[(ve[pe]||[]).map(Me=>E.jsx("div",{className:`text-[10px] ${c.text} flex justify-between group cursor-pointer hover:text-blue-600 py-0.5 px-1 rounded hover:bg-gray-100`,title:"Clique duplo para inserir",onDoubleClick:()=>ke(Me),children:E.jsx("span",{children:Me})},Me)),E.jsx("div",{className:"pt-1 mt-1 border-t border-dashed border-gray-200",children:E.jsx("button",{onClick:()=>ke(`SELECT * FROM ${pe}`),className:"w-full text-[10px] bg-blue-50 text-blue-600 rounded py-0.5 hover:bg-blue-100 transition-colors",children:"Gerar SELECT"})})]})})]},pe))]})]})})]})]})]})}q6.propTypes={isVisible:gr.bool,tabs:gr.array.isRequired,setTabs:gr.func.isRequired,activeTabId:gr.number.isRequired,setActiveTabId:gr.func.isRequired,savedQueries:gr.array.isRequired,setSavedQueries:gr.func.isRequired};function sq({isVisible:n,connectionName:e}){if(!n)return null;const[t,r]=Q.useState(1),[i,s]=Q.useState(null),[l,c]=Q.useState(";"),[f,h]=Q.useState(""),[d,m]=Q.useState([]),[g,x]=Q.useState(!1),[S,b]=Q.useState(""),[w,T]=Q.useState(0),[A,C]=Q.useState([]),[_,B]=Q.useState(""),[N,O]=Q.useState([]),[z,R]=Q.useState(!1),[I,P]=Q.useState(!1),[q,K]=Q.useState(null),[ie,ce]=Q.useState(null),[Z,re]=Q.useState(""),xe=(Le,Ue)=>{ce(Ue),re(Le.grantUser||"")},Ee=()=>{ce(null),re("")},Oe=async(Le,Ue)=>{if(!Z.trim()){alert("Por favor, informe um usurio.");return}try{const Qe=await(await fetch("http://localhost:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:`GRANT ALL ON "${Le.tableName}" TO "${Z.toUpperCase()}"`})})).json();if(Qe.error){alert("Erro ao conceder permisso: "+Qe.error);return}const ct=[...N];ct[Ue].grantUser=Z.toUpperCase(),O(ct),localStorage.setItem("hap_csv_history",JSON.stringify(ct)),ce(null),re(""),alert(`Permisso concedida para ${Z.toUpperCase()} com sucesso!`)}catch(Ne){alert("Erro de rede: "+Ne.message)}};gn.useEffect(()=>{const Le=localStorage.getItem("hap_csv_history");if(Le)try{O(JSON.parse(Le))}catch(Ue){console.error("Failed to parse history",Ue)}},[]);const[j,D]=Q.useState(5),M=Le=>{const Ue=[Le,...N].slice(0,50);O(Ue),localStorage.setItem("hap_csv_history",JSON.stringify(Ue))},L=async(Le,Ue)=>{if(window.confirm(`Tem certeza que deseja excluir o histrico e a tabela "${Le.tableName}"?`))try{const Qe=await(await fetch("http://localhost:3001/api/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sql:`DROP TABLE "${Le.tableName}"`})})).json();if(Qe.error&&!Qe.error.includes("ORA-00942")){alert("Erro ao excluir tabela: "+Qe.error);return}const ct=[...N];ct.splice(Ue,1),O(ct),localStorage.setItem("hap_csv_history",JSON.stringify(ct))}catch(Ne){alert("Erro de rede: "+Ne.message)}},W=async Le=>{try{const Ne=await(await fetch("http://localhost:3001/api/check-table",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tableName:Le})})).json();R(Ne.exists),Ne.exists?b(`A tabela ${Le} j existe.`):b("")}catch(Ue){console.error("Error checking table:",Ue)}},[ee,be]=Q.useState(null),[ve,Te]=Q.useState(";"),[ye,st]=Q.useState(0),Ye=async Le=>{let Ue=null,Ne=null;if(Le&&Le.target&&Le.target.files&&Le.target.files[0]){const Qe=Le.target.files[0];Ue=Qe.path,Ne=Qe.name}else{if(!window.electronAPI){alert("Funcionalidade disponvel apenas no App Desktop.");return}Ue=await window.electronAPI.selectFile(),Ue&&(Ne=Ue.split(/[/\\]/).pop())}if(Ue){be(Ue),s({name:Ne,path:Ue}),x(!0),b("Analisando arquivo..."),T(10);try{const ct=await(await fetch("http://127.0.0.1:3001/api/analyze-local-csv",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:Ue,delimiter:l})})).json();if(ct.error)throw new Error(ct.error);C(ct.preview),h(ct.tableName),m(ct.columns),be(ct.filePath),st(ct.totalEstimatedRows||0),ct.delimiter&&(c(ct.delimiter),Te(ct.delimiter)),await W(ct.tableName),r(2),x(!1),b("")}catch(Qe){b("Erro ao analisar arquivo: "+Qe.message),x(!1)}}},dt=async()=>{const Le="job_"+Date.now()+"_"+Math.floor(Math.random()*1e3);K(Le),x(!0),b("Iniciando importao..."),T(0);const Ue=setInterval(async()=>{try{const Ne=await fetch(`http://127.0.0.1:3001/api/import-status/${Le}`);if(Ne.ok){const Qe=await Ne.json();if(Qe.status&&b(Qe.status),Qe.insertedRows&&ye>0){const ct=Math.min(Math.round(Qe.insertedRows/ye*100),99);T(ct)}Qe.progress&&T(Qe.progress)}}catch(Ne){console.error("Polling error",Ne)}},1e3);try{const Ne=await fetch("http://127.0.0.1:3001/api/create-table",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tableName:f,columns:d,data:A,filePath:ee,delimiter:l,grantToUser:_,dropIfExists:I,jobId:Le})});clearInterval(Ue);const Qe=await Ne.json();Qe.success?(b("Importao concluda com sucesso!"),T(100),M({fileName:i.name,tableName:f,date:new Date().toISOString(),grantUser:_||"Nenhum",rowCount:Qe.totalInserted,connection:e}),setTimeout(()=>{r(1),s(null),C([]),m([]),h(""),B(""),be(null),st(0),x(!1),R(!1),P(!1),K(null),alert(Qe.message)},1500)):(b("Erro: "+Qe.message),x(!1),K(null))}catch(Ne){clearInterval(Ue),b("Erro de rede: "+Ne.message),x(!1),K(null)}},We=async()=>{if(q)try{await fetch(`http://127.0.0.1:3001/api/cancel-import/${q}`,{method:"POST"}),b("Cancelando...")}catch(Le){console.error("Cancel error",Le)}};return E.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm border border-gray-200 h-full flex flex-col",children:[E.jsx("h2",{className:"text-2xl font-bold text-[#0054a6] mb-6",children:"Importar Arquivo CSV"}),E.jsxs("div",{className:"flex items-center mb-8",children:[E.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${t>=1?"bg-[#f37021] text-white":"bg-gray-200 text-gray-600"} font-bold`,children:"1"}),E.jsx("div",{className:`flex-1 h-1 mx-2 ${t>=2?"bg-[#f37021]":"bg-gray-200"}`}),E.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${t>=2?"bg-[#f37021] text-white":"bg-gray-200 text-gray-600"} font-bold`,children:"2"}),E.jsx("div",{className:`flex-1 h-1 mx-2 ${t>=3?"bg-[#f37021]":"bg-gray-200"}`}),E.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${t>=3?"bg-[#f37021] text-white":"bg-gray-200 text-gray-600"} font-bold`,children:"3"})]}),t===1&&E.jsxs("div",{className:"flex-1 flex flex-col space-y-6 overflow-y-auto",children:[E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer min-h-[200px]",onClick:()=>Ye(),onDragOver:Le=>{Le.preventDefault(),Le.stopPropagation()},onDrop:Le=>{Le.preventDefault(),Le.stopPropagation(),Le.dataTransfer.files&&Le.dataTransfer.files[0]&&Ye({target:{files:Le.dataTransfer.files}})},children:[E.jsx("div",{className:"text-6xl mb-4",children:""}),E.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"Clique para selecionar um arquivo CSV"}),E.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"ou arraste e solte aqui"}),g&&E.jsx("p",{className:"mt-4 text-blue-600",children:S}),S&&S.startsWith("Erro")&&E.jsx("p",{className:"mt-4 text-red-600",children:S})]}),N.length>0&&E.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[E.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-3",children:"ltimas Importaes"}),E.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden overflow-x-auto w-full max-w-[calc(100vw-80px)] md:max-w-full",children:E.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[E.jsx("thead",{className:"bg-gray-50",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Conexo"}),E.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Arquivo"}),E.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Tabela"}),E.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Data"}),E.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Registros"}),E.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Permisso"}),E.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase whitespace-nowrap",children:"Aes"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-200",children:N.slice(0,j).map((Le,Ue)=>E.jsxs("tr",{className:"hover:bg-gray-50 group",children:[E.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 whitespace-nowrap font-medium",children:Le.connection||"-"}),E.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 whitespace-nowrap",children:Le.fileName}),E.jsx("td",{className:"px-4 py-2 text-sm text-[#0054a6] font-medium whitespace-nowrap",children:Le.tableName}),E.jsxs("td",{className:"px-4 py-2 text-sm text-gray-500 whitespace-nowrap",children:[new Date(Le.date).toLocaleDateString()," ",new Date(Le.date).toLocaleTimeString()]}),E.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 whitespace-nowrap",children:Le.rowCount||"-"}),E.jsx("td",{className:"px-4 py-2 text-sm text-gray-500 whitespace-nowrap",children:ie===Ue?E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("input",{type:"text",value:Z,onChange:Ne=>re(Ne.target.value),className:"border rounded px-2 py-1 text-xs w-24 uppercase",placeholder:"USURIO"}),E.jsx("button",{onClick:()=>Oe(Le,Ue),className:"text-green-600 hover:text-green-800",title:"Salvar",children:""}),E.jsx("button",{onClick:Ee,className:"text-red-600 hover:text-red-800",title:"Cancelar",children:""})]}):E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("span",{children:Le.grantUser||"-"}),E.jsx("button",{onClick:()=>xe(Le,Ue),className:"text-blue-600 hover:text-blue-800 opacity-0 group-hover:opacity-100 transition-opacity",title:"Editar Permisso",children:""})]})}),E.jsx("td",{className:"px-4 py-2 text-center whitespace-nowrap",children:E.jsx("button",{onClick:()=>L(Le,Ue),className:"text-red-600 hover:text-red-800 hover:bg-red-50 p-1 rounded transition-colors",title:"Excluir Histrico e Tabela",children:""})})]},Ue))})]})}),N.length>j&&E.jsx("div",{className:"mt-2 text-center",children:E.jsx("button",{onClick:()=>D(Le=>Le+5),className:"text-sm text-[#0054a6] hover:underline font-medium",children:"Ver mais..."})})]})]}),t===2&&E.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Visualizar e Editar Colunas"}),E.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 px-3 py-1 rounded border border-blue-100",children:[E.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Tabela:"}),E.jsx("input",{type:"text",value:f,onChange:Le=>h(Le.target.value.toUpperCase()),onBlur:()=>W(f),className:"bg-white border border-blue-200 rounded px-2 py-0.5 text-sm font-bold text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-400 uppercase",placeholder:"NOME_DA_TABELA"})]})]}),E.jsxs("div",{className:"text-sm text-gray-500",children:["Total estimado: ",E.jsx("span",{className:"font-bold",children:ye})," linhas"]})]}),E.jsx("div",{className:"flex-1 overflow-auto border border-gray-200 rounded-lg",children:E.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[E.jsx("thead",{className:"bg-gray-50 sticky top-0",children:E.jsx("tr",{children:d.map((Le,Ue)=>E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:E.jsxs("div",{className:"flex flex-col space-y-1",children:[E.jsx("input",{type:"text",value:Le.name,onChange:Ne=>{const Qe=[...d];Qe[Ue].name=Ne.target.value.toUpperCase(),m(Qe)},className:"bg-transparent border-b border-gray-300 focus:border-[#0054a6] outline-none text-xs font-bold"}),E.jsxs("select",{value:Le.type,onChange:Ne=>{const Qe=[...d];Qe[Ue].type=Ne.target.value,m(Qe)},className:"text-xs border-none bg-transparent focus:ring-0 p-0 text-gray-500",children:[E.jsx("option",{value:"VARCHAR2(255)",children:"VARCHAR2(255)"}),E.jsx("option",{value:"NUMBER",children:"NUMBER"}),E.jsx("option",{value:"DATE",children:"DATE"}),E.jsx("option",{value:"CLOB",children:"CLOB"})]})]})},Ue))})}),E.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.slice(0,5).map((Le,Ue)=>E.jsx("tr",{children:d.map((Ne,Qe)=>E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Le[Object.keys(Le)[Qe]]},Qe))},Ue))})]})}),E.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[E.jsx("button",{onClick:()=>r(1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Voltar"}),E.jsx("button",{onClick:()=>r(3),className:"px-4 py-2 bg-[#0054a6] text-white rounded-md hover:bg-blue-800",children:"Prximo"})]})]}),t===3&&E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-lg mx-auto w-full",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"Confirmar Importao"}),E.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg w-full mb-6 border border-gray-200",children:[E.jsxs("div",{className:"flex justify-between mb-2",children:[E.jsx("span",{className:"text-gray-600",children:"Arquivo:"}),E.jsx("span",{className:"font-medium",children:i?.name})]}),E.jsxs("div",{className:"flex justify-between mb-2",children:[E.jsx("span",{className:"text-gray-600",children:"Tabela Destino:"}),E.jsx("span",{className:"font-medium text-[#0054a6]",children:f})]}),E.jsxs("div",{className:"flex justify-between mb-2",children:[E.jsx("span",{className:"text-gray-600",children:"Colunas:"}),E.jsx("span",{className:"font-medium",children:d.length})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{className:"text-gray-600",children:"Linhas Estimadas:"}),E.jsx("span",{className:"font-medium",children:ye>0?ye:"Calculando..."})]})]}),z&&E.jsxs("div",{className:"w-full mb-6 bg-orange-50 border border-orange-200 p-4 rounded-lg",children:[E.jsxs("h4",{className:"text-orange-800 font-bold mb-2 flex items-center",children:[E.jsx("span",{className:"mr-2",children:""})," Tabela Existente"]}),E.jsxs("p",{className:"text-sm text-orange-700 mb-3",children:["A tabela ",E.jsx("strong",{children:f})," j existe no banco de dados. O que voc deseja fazer?"]}),E.jsxs("div",{className:"flex space-x-3",children:[E.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[E.jsx("input",{type:"radio",checked:!I,onChange:()=>P(!1),className:"text-orange-600 focus:ring-orange-500"}),E.jsx("span",{className:"text-sm text-gray-700",children:"Cancelar e Renomear (Voltar)"})]}),E.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[E.jsx("input",{type:"radio",checked:I,onChange:()=>P(!0),className:"text-red-600 focus:ring-red-500"}),E.jsx("span",{className:"text-sm text-red-700 font-medium",children:"Recriar Tabela (Apagar dados antigos)"})]})]})]}),E.jsxs("div",{className:"w-full mb-6",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conceder Permisso de Acesso (GRANT ALL) para outro usurio (Opcional):"}),E.jsx("input",{type:"text",value:_,onChange:Le=>B(Le.target.value.toUpperCase()),placeholder:"Ex: OUTRO_USUARIO",className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#0054a6] outline-none"}),E.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Se preenchido, executar: ",E.jsxs("code",{children:["GRANT ALL ON ",f," TO ",_||"USUARIO"]})]})]}),g?E.jsxs("div",{className:"w-full text-center",children:[E.jsxs("div",{className:"mb-2 flex justify-between text-sm font-medium text-gray-700",children:[E.jsx("span",{children:S}),E.jsxs("span",{children:[w,"%"]})]}),E.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:E.jsx("div",{className:"bg-[#0054a6] h-2.5 rounded-full transition-all duration-500",style:{width:`${w}%`}})}),E.jsx("button",{onClick:We,className:"px-4 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 text-sm font-medium",children:"Cancelar Importao"})]}):E.jsxs("div",{className:"flex flex-col w-full",children:[E.jsxs("div",{className:"flex space-x-3 w-full",children:[E.jsx("button",{onClick:()=>r(2),className:"flex-1 px-4 py-3 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 font-medium",children:"Voltar"}),E.jsx("button",{onClick:()=>{z&&!I?(r(2),alert("Por favor, renomeie a tabela para continuar.")):dt()},className:`flex-1 px-4 py-3 text-white rounded-md font-bold shadow-md ${z&&!I?"bg-gray-400 cursor-not-allowed":"bg-[#f37021] hover:bg-orange-600"}`,disabled:z&&!I,children:z&&I?"Recriar e Importar":"Iniciar Importao"})]}),S&&S.startsWith("Erro")&&E.jsx("p",{className:"mt-4 text-red-600 text-center font-medium",children:S})]})]})]})}var l0=YC();function aq(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Q.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const wp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rc(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function $v(n){return"nodeType"in n}function Or(n){var e,t;return n?rc(n)?n:$v(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Yv(n){const{Document:e}=Or(n);return n instanceof e}function pf(n){return rc(n)?!1:n instanceof Or(n).HTMLElement}function W6(n){return n instanceof Or(n).SVGElement}function ic(n){return n?rc(n)?n.document:$v(n)?Yv(n)?n:pf(n)||W6(n)?n.ownerDocument:document:document:document}const Gi=wp?Q.useLayoutEffect:Q.useEffect;function Ep(n){const e=Q.useRef(n);return Gi(()=>{e.current=n}),Q.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function lq(){const n=Q.useRef(null),e=Q.useCallback((r,i)=>{n.current=setInterval(r,i)},[]),t=Q.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function Y0(n,e){e===void 0&&(e=[n]);const t=Q.useRef(n);return Gi(()=>{t.current!==n&&(t.current=n)},e),t}function mf(n,e){const t=Q.useRef();return Q.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function $d(n){const e=Ep(n),t=Q.useRef(null),r=Q.useCallback(i=>{i!==t.current&&e?.(i,t.current),t.current=i},[]);return[t,r]}function Yd(n){const e=Q.useRef();return Q.useEffect(()=>{e.current=n},[n]),e.current}let Ox={};function gf(n,e){return Q.useMemo(()=>{if(e)return e;const t=Ox[n]==null?0:Ox[n]+1;return Ox[n]=t,n+"-"+t},[n,e])}function G6(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce((s,l)=>{const c=Object.entries(l);for(const[f,h]of c){const d=s[f];d!=null&&(s[f]=d+n*h)}return s},{...e})}}const zo=G6(1),K0=G6(-1);function oq(n){return"clientX"in n&&"clientY"in n}function Cp(n){if(!n)return!1;const{KeyboardEvent:e}=Or(n.target);return e&&n instanceof e}function cq(n){if(!n)return!1;const{TouchEvent:e}=Or(n.target);return e&&n instanceof e}function Kd(n){if(cq(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return oq(n)?{x:n.clientX,y:n.clientY}:null}const za=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[za.Translate.toString(n),za.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),FC="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function fq(n){return n.matches(FC)?n:n.querySelector(FC)}const uq={display:"none"};function hq(n){let{id:e,value:t}=n;return gn.createElement("div",{id:e,style:uq},t)}function dq(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return gn.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},t)}function pq(){const[n,e]=Q.useState("");return{announce:Q.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const X6=Q.createContext(null);function mq(n){const e=Q.useContext(X6);Q.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function gq(){const[n]=Q.useState(()=>new Set),e=Q.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[Q.useCallback(r=>{let{type:i,event:s}=r;n.forEach(l=>{var c;return(c=l[i])==null?void 0:c.call(l,s)})},[n]),e]}const xq={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},vq={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function yq(n){let{announcements:e=vq,container:t,hiddenTextDescribedById:r,screenReaderInstructions:i=xq}=n;const{announce:s,announcement:l}=pq(),c=gf("DndLiveRegion"),[f,h]=Q.useState(!1);if(Q.useEffect(()=>{h(!0)},[]),mq(Q.useMemo(()=>({onDragStart(m){let{active:g}=m;s(e.onDragStart({active:g}))},onDragMove(m){let{active:g,over:x}=m;e.onDragMove&&s(e.onDragMove({active:g,over:x}))},onDragOver(m){let{active:g,over:x}=m;s(e.onDragOver({active:g,over:x}))},onDragEnd(m){let{active:g,over:x}=m;s(e.onDragEnd({active:g,over:x}))},onDragCancel(m){let{active:g,over:x}=m;s(e.onDragCancel({active:g,over:x}))}}),[s,e])),!f)return null;const d=gn.createElement(gn.Fragment,null,gn.createElement(hq,{id:r,value:i.draggable}),gn.createElement(dq,{id:c,announcement:l}));return t?l0.createPortal(d,t):d}var qn;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(qn||(qn={}));function Qd(){}function MC(n,e){return Q.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function bq(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Q.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Xi=Object.freeze({x:0,y:0});function $6(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function Sq(n,e){const t=Kd(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function Y6(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function wq(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function LC(n){let{left:e,top:t,height:r,width:i}=n;return[{x:e,y:t},{x:e+i,y:t},{x:e,y:t+r},{x:e+i,y:t+r}]}function K6(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function IC(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const Eq=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=IC(e,e.left,e.top),s=[];for(const l of r){const{id:c}=l,f=t.get(c);if(f){const h=$6(IC(f),i);s.push({id:c,data:{droppableContainer:l,value:h}})}}return s.sort(Y6)},Cq=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=LC(e),s=[];for(const l of r){const{id:c}=l,f=t.get(c);if(f){const h=LC(f),d=i.reduce((g,x,S)=>g+$6(h[S],x),0),m=Number((d/4).toFixed(4));s.push({id:c,data:{droppableContainer:l,value:m}})}}return s.sort(Y6)};function Aq(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),i=Math.min(e.left+e.width,n.left+n.width),s=Math.min(e.top+e.height,n.top+n.height),l=i-r,c=s-t;if(r<i&&t<s){const f=e.width*e.height,h=n.width*n.height,d=l*c,m=d/(f+h-d);return Number(m.toFixed(4))}return 0}const Tq=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=[];for(const s of r){const{id:l}=s,c=t.get(l);if(c){const f=Aq(c,e);f>0&&i.push({id:l,data:{droppableContainer:s,value:f}})}}return i.sort(wq)};function _q(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function Q6(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Xi}function Dq(n){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((l,c)=>({...l,top:l.top+n*c.y,bottom:l.bottom+n*c.y,left:l.left+n*c.x,right:l.right+n*c.x}),{...t})}}const kq=Dq(1);function Z6(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Oq(n,e,t){const r=Z6(e);if(!r)return n;const{scaleX:i,scaleY:s,x:l,y:c}=r,f=n.left-l-(1-i)*parseFloat(t),h=n.top-c-(1-s)*parseFloat(t.slice(t.indexOf(" ")+1)),d=i?n.width/i:n.width,m=s?n.height/s:n.height;return{width:d,height:m,top:h,right:f+d,bottom:h+m,left:f}}const Bq={ignoreTransform:!1};function sc(n,e){e===void 0&&(e=Bq);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:d}=Or(n).getComputedStyle(n);h&&(t=Oq(t,h,d))}const{top:r,left:i,width:s,height:l,bottom:c,right:f}=t;return{top:r,left:i,width:s,height:l,bottom:c,right:f}}function PC(n){return sc(n,{ignoreTransform:!0})}function Nq(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Rq(n,e){return e===void 0&&(e=Or(n).getComputedStyle(n)),e.position==="fixed"}function Fq(n,e){e===void 0&&(e=Or(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?t.test(s):!1})}function Ap(n,e){const t=[];function r(i){if(e!=null&&t.length>=e||!i)return t;if(Yv(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!pf(i)||W6(i)||t.includes(i))return t;const s=Or(n).getComputedStyle(i);return i!==n&&Fq(i,s)&&t.push(i),Rq(i,s)?t:r(i.parentNode)}return n?r(n):t}function J6(n){const[e]=Ap(n,1);return e??null}function Bx(n){return!wp||!n?null:rc(n)?n:$v(n)?Yv(n)||n===ic(n).scrollingElement?window:pf(n)?n:null:null}function e_(n){return rc(n)?n.scrollX:n.scrollLeft}function t_(n){return rc(n)?n.scrollY:n.scrollTop}function z1(n){return{x:e_(n),y:t_(n)}}var Xn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Xn||(Xn={}));function n_(n){return!wp||!n?!1:n===document.scrollingElement}function r_(n){const e={x:0,y:0},t=n_(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},i=n.scrollTop<=e.y,s=n.scrollLeft<=e.x,l=n.scrollTop>=r.y,c=n.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:l,isRight:c,maxScroll:r,minScroll:e}}const Mq={x:.2,y:.2};function Lq(n,e,t,r,i){let{top:s,left:l,right:c,bottom:f}=t;r===void 0&&(r=10),i===void 0&&(i=Mq);const{isTop:h,isBottom:d,isLeft:m,isRight:g}=r_(n),x={x:0,y:0},S={x:0,y:0},b={height:e.height*i.y,width:e.width*i.x};return!h&&s<=e.top+b.height?(x.y=Xn.Backward,S.y=r*Math.abs((e.top+b.height-s)/b.height)):!d&&f>=e.bottom-b.height&&(x.y=Xn.Forward,S.y=r*Math.abs((e.bottom-b.height-f)/b.height)),!g&&c>=e.right-b.width?(x.x=Xn.Forward,S.x=r*Math.abs((e.right-b.width-c)/b.width)):!m&&l<=e.left+b.width&&(x.x=Xn.Backward,S.x=r*Math.abs((e.left+b.width-l)/b.width)),{direction:x,speed:S}}function Iq(n){if(n===document.scrollingElement){const{innerWidth:s,innerHeight:l}=window;return{top:0,left:0,right:s,bottom:l,width:s,height:l}}const{top:e,left:t,right:r,bottom:i}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:i,width:n.clientWidth,height:n.clientHeight}}function i_(n){return n.reduce((e,t)=>zo(e,z1(t)),Xi)}function Pq(n){return n.reduce((e,t)=>e+e_(t),0)}function jq(n){return n.reduce((e,t)=>e+t_(t),0)}function s_(n,e){if(e===void 0&&(e=sc),!n)return;const{top:t,left:r,bottom:i,right:s}=e(n);J6(n)&&(i<=0||s<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const zq=[["x",["left","right"],Pq],["y",["top","bottom"],jq]];class Kv{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Ap(t),i=i_(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,l,c]of zq)for(const f of l)Object.defineProperty(this,f,{get:()=>{const h=c(r),d=i[s]-h;return this.rect[f]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class S0{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var i;(i=this.target)==null||i.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function Hq(n){const{EventTarget:e}=Or(n);return n instanceof e?n:ic(n)}function Nx(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var Ti;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Ti||(Ti={}));function jC(n){n.preventDefault()}function Uq(n){n.stopPropagation()}var _t;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(_t||(_t={}));const a_={start:[_t.Space,_t.Enter],cancel:[_t.Esc],end:[_t.Space,_t.Enter,_t.Tab]},Vq=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case _t.Right:return{...t,x:t.x+25};case _t.Left:return{...t,x:t.x-25};case _t.Down:return{...t,y:t.y+25};case _t.Up:return{...t,y:t.y-25}}};class Qv{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new S0(ic(t)),this.windowListeners=new S0(Or(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ti.Resize,this.handleCancel),this.windowListeners.add(Ti.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ti.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&s_(r),t(Xi)}handleKeyDown(e){if(Cp(e)){const{active:t,context:r,options:i}=this.props,{keyboardCodes:s=a_,coordinateGetter:l=Vq,scrollBehavior:c="smooth"}=i,{code:f}=e;if(s.end.includes(f)){this.handleEnd(e);return}if(s.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:h}=r.current,d=h?{x:h.left,y:h.top}:Xi;this.referenceCoordinates||(this.referenceCoordinates=d);const m=l(e,{active:t,context:r.current,currentCoordinates:d});if(m){const g=K0(m,d),x={x:0,y:0},{scrollableAncestors:S}=r.current;for(const b of S){const w=e.code,{isTop:T,isRight:A,isLeft:C,isBottom:_,maxScroll:B,minScroll:N}=r_(b),O=Iq(b),z={x:Math.min(w===_t.Right?O.right-O.width/2:O.right,Math.max(w===_t.Right?O.left:O.left+O.width/2,m.x)),y:Math.min(w===_t.Down?O.bottom-O.height/2:O.bottom,Math.max(w===_t.Down?O.top:O.top+O.height/2,m.y))},R=w===_t.Right&&!A||w===_t.Left&&!C,I=w===_t.Down&&!_||w===_t.Up&&!T;if(R&&z.x!==m.x){const P=b.scrollLeft+g.x,q=w===_t.Right&&P<=B.x||w===_t.Left&&P>=N.x;if(q&&!g.y){b.scrollTo({left:P,behavior:c});return}q?x.x=b.scrollLeft-P:x.x=w===_t.Right?b.scrollLeft-B.x:b.scrollLeft-N.x,x.x&&b.scrollBy({left:-x.x,behavior:c});break}else if(I&&z.y!==m.y){const P=b.scrollTop+g.y,q=w===_t.Down&&P<=B.y||w===_t.Up&&P>=N.y;if(q&&!g.x){b.scrollTo({top:P,behavior:c});return}q?x.y=b.scrollTop-P:x.y=w===_t.Down?b.scrollTop-B.y:b.scrollTop-N.y,x.y&&b.scrollBy({top:-x.y,behavior:c});break}}this.handleMove(e,zo(K0(m,this.referenceCoordinates),x))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Qv.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=a_,onActivation:i}=e,{active:s}=t;const{code:l}=n.nativeEvent;if(r.start.includes(l)){const c=s.activatorNode.current;return c&&n.target!==c?!1:(n.preventDefault(),i?.({event:n.nativeEvent}),!0)}return!1}}];function zC(n){return!!(n&&"distance"in n)}function HC(n){return!!(n&&"delay"in n)}class Zv{constructor(e,t,r){var i;r===void 0&&(r=Hq(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:l}=s;this.props=e,this.events=t,this.document=ic(l),this.documentListeners=new S0(this.document),this.listeners=new S0(r),this.windowListeners=new S0(Or(l)),this.initialCoordinates=(i=Kd(s))!=null?i:Xi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ti.Resize,this.handleCancel),this.windowListeners.add(Ti.DragStart,jC),this.windowListeners.add(Ti.VisibilityChange,this.handleCancel),this.windowListeners.add(Ti.ContextMenu,jC),this.documentListeners.add(Ti.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(HC(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(zC(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ti.Click,Uq,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ti.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:l,options:{activationConstraint:c}}=s;if(!i)return;const f=(t=Kd(e))!=null?t:Xi,h=K0(i,f);if(!r&&c){if(zC(c)){if(c.tolerance!=null&&Nx(h,c.tolerance))return this.handleCancel();if(Nx(h,c.distance))return this.handleStart()}if(HC(c)&&Nx(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}e.cancelable&&e.preventDefault(),l(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===_t.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const qq={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Jv extends Zv{constructor(e){const{event:t}=e,r=ic(t.target);super(e,qq,r)}}Jv.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r?.({event:t}),!0)}}];const Wq={move:{name:"mousemove"},end:{name:"mouseup"}};var H1;(function(n){n[n.RightClick=2]="RightClick"})(H1||(H1={}));class Gq extends Zv{constructor(e){super(e,Wq,ic(e.event.target))}}Gq.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===H1.RightClick?!1:(r?.({event:t}),!0)}}];const Rx={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Xq extends Zv{constructor(e){super(e,Rx)}static setup(){return window.addEventListener(Rx.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Rx.move.name,e)};function e(){}}}Xq.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:i}=t;return i.length>1?!1:(r?.({event:t}),!0)}}];var w0;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(w0||(w0={}));var Zd;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(Zd||(Zd={}));function $q(n){let{acceleration:e,activator:t=w0.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:l=5,order:c=Zd.TreeOrder,pointerCoordinates:f,scrollableAncestors:h,scrollableAncestorRects:d,delta:m,threshold:g}=n;const x=Kq({delta:m,disabled:!s}),[S,b]=lq(),w=Q.useRef({x:0,y:0}),T=Q.useRef({x:0,y:0}),A=Q.useMemo(()=>{switch(t){case w0.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case w0.DraggableRect:return i}},[t,i,f]),C=Q.useRef(null),_=Q.useCallback(()=>{const N=C.current;if(!N)return;const O=w.current.x*T.current.x,z=w.current.y*T.current.y;N.scrollBy(O,z)},[]),B=Q.useMemo(()=>c===Zd.TreeOrder?[...h].reverse():h,[c,h]);Q.useEffect(()=>{if(!s||!h.length||!A){b();return}for(const N of B){if(r?.(N)===!1)continue;const O=h.indexOf(N),z=d[O];if(!z)continue;const{direction:R,speed:I}=Lq(N,z,A,e,g);for(const P of["x","y"])x[P][R[P]]||(I[P]=0,R[P]=0);if(I.x>0||I.y>0){b(),C.current=N,S(_,l),w.current=I,T.current=R;return}}w.current={x:0,y:0},T.current={x:0,y:0},b()},[e,_,r,b,s,l,JSON.stringify(A),JSON.stringify(x),S,h,B,d,JSON.stringify(g)])}const Yq={x:{[Xn.Backward]:!1,[Xn.Forward]:!1},y:{[Xn.Backward]:!1,[Xn.Forward]:!1}};function Kq(n){let{delta:e,disabled:t}=n;const r=Yd(e);return mf(i=>{if(t||!r||!i)return Yq;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Xn.Backward]:i.x[Xn.Backward]||s.x===-1,[Xn.Forward]:i.x[Xn.Forward]||s.x===1},y:{[Xn.Backward]:i.y[Xn.Backward]||s.y===-1,[Xn.Forward]:i.y[Xn.Forward]||s.y===1}}},[t,e,r])}function Qq(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return mf(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function Zq(n,e){return Q.useMemo(()=>n.reduce((t,r)=>{const{sensor:i}=r,s=i.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...t,...s]},[]),[n,e])}var Q0;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Q0||(Q0={}));var U1;(function(n){n.Optimized="optimized"})(U1||(U1={}));const UC=new Map;function Jq(n,e){let{dragging:t,dependencies:r,config:i}=e;const[s,l]=Q.useState(null),{frequency:c,measure:f,strategy:h}=i,d=Q.useRef(n),m=w(),g=Y0(m),x=Q.useCallback(function(T){T===void 0&&(T=[]),!g.current&&l(A=>A===null?T:A.concat(T.filter(C=>!A.includes(C))))},[g]),S=Q.useRef(null),b=mf(T=>{if(m&&!t)return UC;if(!T||T===UC||d.current!==n||s!=null){const A=new Map;for(let C of n){if(!C)continue;if(s&&s.length>0&&!s.includes(C.id)&&C.rect.current){A.set(C.id,C.rect.current);continue}const _=C.node.current,B=_?new Kv(f(_),_):null;C.rect.current=B,B&&A.set(C.id,B)}return A}return T},[n,s,t,m,f]);return Q.useEffect(()=>{d.current=n},[n]),Q.useEffect(()=>{m||x()},[t,m]),Q.useEffect(()=>{s&&s.length>0&&l(null)},[JSON.stringify(s)]),Q.useEffect(()=>{m||typeof c!="number"||S.current!==null||(S.current=setTimeout(()=>{x(),S.current=null},c))},[c,m,x,...r]),{droppableRects:b,measureDroppableContainers:x,measuringScheduled:s!=null};function w(){switch(h){case Q0.Always:return!1;case Q0.BeforeDragging:return t;default:return!t}}}function e2(n,e){return mf(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function eW(n,e){return e2(n,e)}function tW(n){let{callback:e,disabled:t}=n;const r=Ep(e),i=Q.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,t]);return Q.useEffect(()=>()=>i?.disconnect(),[i]),i}function Tp(n){let{callback:e,disabled:t}=n;const r=Ep(e),i=Q.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[t]);return Q.useEffect(()=>()=>i?.disconnect(),[i]),i}function nW(n){return new Kv(sc(n),n)}function VC(n,e,t){e===void 0&&(e=nW);const[r,i]=Q.useState(null);function s(){i(f=>{if(!n)return null;if(n.isConnected===!1){var h;return(h=f??t)!=null?h:null}const d=e(n);return JSON.stringify(f)===JSON.stringify(d)?f:d})}const l=tW({callback(f){if(n)for(const h of f){const{type:d,target:m}=h;if(d==="childList"&&m instanceof HTMLElement&&m.contains(n)){s();break}}}}),c=Tp({callback:s});return Gi(()=>{s(),n?(c?.observe(n),l?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),l?.disconnect())},[n]),r}function rW(n){const e=e2(n);return Q6(n,e)}const qC=[];function iW(n){const e=Q.useRef(n),t=mf(r=>n?r&&r!==qC&&n&&e.current&&n.parentNode===e.current.parentNode?r:Ap(n):qC,[n]);return Q.useEffect(()=>{e.current=n},[n]),t}function sW(n){const[e,t]=Q.useState(null),r=Q.useRef(n),i=Q.useCallback(s=>{const l=Bx(s.target);l&&t(c=>c?(c.set(l,z1(l)),new Map(c)):null)},[]);return Q.useEffect(()=>{const s=r.current;if(n!==s){l(s);const c=n.map(f=>{const h=Bx(f);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,z1(h)]):null}).filter(f=>f!=null);t(c.length?new Map(c):null),r.current=n}return()=>{l(n),l(s)};function l(c){c.forEach(f=>{const h=Bx(f);h?.removeEventListener("scroll",i)})}},[i,n]),Q.useMemo(()=>n.length?e?Array.from(e.values()).reduce((s,l)=>zo(s,l),Xi):i_(n):Xi,[n,e])}function WC(n,e){e===void 0&&(e=[]);const t=Q.useRef(null);return Q.useEffect(()=>{t.current=null},e),Q.useEffect(()=>{const r=n!==Xi;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?K0(n,t.current):Xi}function aW(n){Q.useEffect(()=>{if(!wp)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t?.()}},n.map(e=>{let{sensor:t}=e;return t}))}function lW(n,e){return Q.useMemo(()=>n.reduce((t,r)=>{let{eventName:i,handler:s}=r;return t[i]=l=>{s(l,e)},t},{}),[n,e])}function l_(n){return Q.useMemo(()=>n?Nq(n):null,[n])}const GC=[];function oW(n,e){e===void 0&&(e=sc);const[t]=n,r=l_(t?Or(t):null),[i,s]=Q.useState(GC);function l(){s(()=>n.length?n.map(f=>n_(f)?r:new Kv(e(f),f)):GC)}const c=Tp({callback:l});return Gi(()=>{c?.disconnect(),l(),n.forEach(f=>c?.observe(f))},[n]),i}function o_(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return pf(e)?e:n}function cW(n){let{measure:e}=n;const[t,r]=Q.useState(null),i=Q.useCallback(h=>{for(const{target:d}of h)if(pf(d)){r(m=>{const g=e(d);return m?{...m,width:g.width,height:g.height}:g});break}},[e]),s=Tp({callback:i}),l=Q.useCallback(h=>{const d=o_(h);s?.disconnect(),d&&s?.observe(d),r(d?e(d):null)},[e,s]),[c,f]=$d(l);return Q.useMemo(()=>({nodeRef:c,rect:t,setRef:f}),[t,c,f])}const fW=[{sensor:Jv,options:{}},{sensor:Qv,options:{}}],uW={current:{}},id={draggable:{measure:PC},droppable:{measure:PC,strategy:Q0.WhileDragging,frequency:U1.Optimized},dragOverlay:{measure:sc}};class E0 extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const hW={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new E0,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Qd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:id,measureDroppableContainers:Qd,windowRect:null,measuringScheduled:!1},c_={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Qd,draggableNodes:new Map,over:null,measureDroppableContainers:Qd},xf=Q.createContext(c_),f_=Q.createContext(hW);function dW(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new E0}}}function pW(n,e){switch(e.type){case qn.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case qn.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case qn.DragEnd:case qn.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case qn.RegisterDroppable:{const{element:t}=e,{id:r}=t,i=new E0(n.droppable.containers);return i.set(r,t),{...n,droppable:{...n.droppable,containers:i}}}case qn.SetDroppableDisabled:{const{id:t,key:r,disabled:i}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const l=new E0(n.droppable.containers);return l.set(t,{...s,disabled:i}),{...n,droppable:{...n.droppable,containers:l}}}case qn.UnregisterDroppable:{const{id:t,key:r}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;const s=new E0(n.droppable.containers);return s.delete(t),{...n,droppable:{...n.droppable,containers:s}}}default:return n}}function mW(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:i}=Q.useContext(xf),s=Yd(r),l=Yd(t?.id);return Q.useEffect(()=>{if(!e&&!r&&s&&l!=null){if(!Cp(s)||document.activeElement===s.target)return;const c=i.get(l);if(!c)return;const{activatorNode:f,node:h}=c;if(!f.current&&!h.current)return;requestAnimationFrame(()=>{for(const d of[f.current,h.current]){if(!d)continue;const m=fq(d);if(m){m.focus();break}}})}},[r,e,i,l,s]),null}function u_(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((i,s)=>s({transform:i,...r}),t):t}function gW(n){return Q.useMemo(()=>({draggable:{...id.draggable,...n?.draggable},droppable:{...id.droppable,...n?.droppable},dragOverlay:{...id.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function xW(n){let{activeNode:e,measure:t,initialRect:r,config:i=!0}=n;const s=Q.useRef(!1),{x:l,y:c}=typeof i=="boolean"?{x:i,y:i}:i;Gi(()=>{if(!l&&!c||!e){s.current=!1;return}if(s.current||!r)return;const h=e?.node.current;if(!h||h.isConnected===!1)return;const d=t(h),m=Q6(d,r);if(l||(m.x=0),c||(m.y=0),s.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const g=J6(h);g&&g.scrollBy({top:m.y,left:m.x})}},[e,l,c,r,t])}const _p=Q.createContext({...Xi,scaleX:1,scaleY:1});var Ca;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(Ca||(Ca={}));const vW=Q.memo(function(e){var t,r,i,s;let{id:l,accessibility:c,autoScroll:f=!0,children:h,sensors:d=fW,collisionDetection:m=Tq,measuring:g,modifiers:x,...S}=e;const b=Q.useReducer(pW,void 0,dW),[w,T]=b,[A,C]=gq(),[_,B]=Q.useState(Ca.Uninitialized),N=_===Ca.Initialized,{draggable:{active:O,nodes:z,translate:R},droppable:{containers:I}}=w,P=O!=null?z.get(O):null,q=Q.useRef({initial:null,translated:null}),K=Q.useMemo(()=>{var Kt;return O!=null?{id:O,data:(Kt=P?.data)!=null?Kt:uW,rect:q}:null},[O,P]),ie=Q.useRef(null),[ce,Z]=Q.useState(null),[re,xe]=Q.useState(null),Ee=Y0(S,Object.values(S)),Oe=gf("DndDescribedBy",l),j=Q.useMemo(()=>I.getEnabled(),[I]),D=gW(g),{droppableRects:M,measureDroppableContainers:L,measuringScheduled:W}=Jq(j,{dragging:N,dependencies:[R.x,R.y],config:D.droppable}),ee=Qq(z,O),be=Q.useMemo(()=>re?Kd(re):null,[re]),ve=hi(),Te=eW(ee,D.draggable.measure);xW({activeNode:O!=null?z.get(O):null,config:ve.layoutShiftCompensation,initialRect:Te,measure:D.draggable.measure});const ye=VC(ee,D.draggable.measure,Te),st=VC(ee?ee.parentElement:null),Ye=Q.useRef({activatorEvent:null,active:null,activeNode:ee,collisionRect:null,collisions:null,droppableRects:M,draggableNodes:z,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),dt=I.getNodeFor((t=Ye.current.over)==null?void 0:t.id),We=cW({measure:D.dragOverlay.measure}),Le=(r=We.nodeRef.current)!=null?r:ee,Ue=N?(i=We.rect)!=null?i:ye:null,Ne=!!(We.nodeRef.current&&We.rect),Qe=rW(Ne?null:ye),ct=l_(Le?Or(Le):null),yt=iW(N?dt??ee:null),It=oW(yt),zt=u_(x,{transform:{x:R.x-Qe.x,y:R.y-Qe.y,scaleX:1,scaleY:1},activatorEvent:re,active:K,activeNodeRect:ye,containerNodeRect:st,draggingNodeRect:Ue,over:Ye.current.over,overlayNodeRect:We.rect,scrollableAncestors:yt,scrollableAncestorRects:It,windowRect:ct}),$t=be?zo(be,R):null,fe=sW(yt),Pe=WC(fe),ke=WC(fe,[ye]),rt=zo(zt,Pe),bt=Ue?kq(Ue,zt):null,Yt=K&&bt?m({active:K,collisionRect:bt,droppableRects:M,droppableContainers:j,pointerCoordinates:$t}):null,ft=K6(Yt,"id"),[Ot,An]=Q.useState(null),Br=Ne?zt:zo(zt,ke),bn=_q(Br,(s=Ot?.rect)!=null?s:null,ye),vn=Q.useRef(null),yn=Q.useCallback((Kt,Ht)=>{let{sensor:dn,options:pe}=Ht;if(ie.current==null)return;const Me=z.get(ie.current);if(!Me)return;const Ie=Kt.nativeEvent,tt=new dn({active:ie.current,activeNode:Me,event:Ie,options:pe,context:Ye,onAbort(lt){if(!z.get(lt))return;const{onDragAbort:ut}=Ee.current,Bt={id:lt};ut?.(Bt),A({type:"onDragAbort",event:Bt})},onPending(lt,ht,ut,Bt){if(!z.get(lt))return;const{onDragPending:Bn}=Ee.current,F={id:lt,constraint:ht,initialCoordinates:ut,offset:Bt};Bn?.(F),A({type:"onDragPending",event:F})},onStart(lt){const ht=ie.current;if(ht==null)return;const ut=z.get(ht);if(!ut)return;const{onDragStart:Bt}=Ee.current,Tn={activatorEvent:Ie,active:{id:ht,data:ut.data,rect:q}};l0.unstable_batchedUpdates(()=>{Bt?.(Tn),B(Ca.Initializing),T({type:qn.DragStart,initialCoordinates:lt,active:ht}),A({type:"onDragStart",event:Tn}),Z(vn.current),xe(Ie)})},onMove(lt){T({type:qn.DragMove,coordinates:lt})},onEnd:Ze(qn.DragEnd),onCancel:Ze(qn.DragCancel)});vn.current=tt;function Ze(lt){return async function(){const{active:ut,collisions:Bt,over:Tn,scrollAdjustedTranslate:Bn}=Ye.current;let F=null;if(ut&&Bn){const{cancelDrop:G}=Ee.current;F={activatorEvent:Ie,active:ut,collisions:Bt,delta:Bn,over:Tn},lt===qn.DragEnd&&typeof G=="function"&&await Promise.resolve(G(F))&&(lt=qn.DragCancel)}ie.current=null,l0.unstable_batchedUpdates(()=>{T({type:lt}),B(Ca.Uninitialized),An(null),Z(null),xe(null),vn.current=null;const G=lt===qn.DragEnd?"onDragEnd":"onDragCancel";if(F){const U=Ee.current[G];U?.(F),A({type:G,event:F})}})}}},[z]),Ki=Q.useCallback((Kt,Ht)=>(dn,pe)=>{const Me=dn.nativeEvent,Ie=z.get(pe);if(ie.current!==null||!Ie||Me.dndKit||Me.defaultPrevented)return;const tt={active:Ie};Kt(dn,Ht.options,tt)===!0&&(Me.dndKit={capturedBy:Ht.sensor},ie.current=pe,yn(dn,Ht))},[z,yn]),$r=Zq(d,Ki);aW(d),Gi(()=>{ye&&_===Ca.Initializing&&B(Ca.Initialized)},[ye,_]),Q.useEffect(()=>{const{onDragMove:Kt}=Ee.current,{active:Ht,activatorEvent:dn,collisions:pe,over:Me}=Ye.current;if(!Ht||!dn)return;const Ie={active:Ht,activatorEvent:dn,collisions:pe,delta:{x:rt.x,y:rt.y},over:Me};l0.unstable_batchedUpdates(()=>{Kt?.(Ie),A({type:"onDragMove",event:Ie})})},[rt.x,rt.y]),Q.useEffect(()=>{const{active:Kt,activatorEvent:Ht,collisions:dn,droppableContainers:pe,scrollAdjustedTranslate:Me}=Ye.current;if(!Kt||ie.current==null||!Ht||!Me)return;const{onDragOver:Ie}=Ee.current,tt=pe.get(ft),Ze=tt&&tt.rect.current?{id:tt.id,rect:tt.rect.current,data:tt.data,disabled:tt.disabled}:null,lt={active:Kt,activatorEvent:Ht,collisions:dn,delta:{x:Me.x,y:Me.y},over:Ze};l0.unstable_batchedUpdates(()=>{An(Ze),Ie?.(lt),A({type:"onDragOver",event:lt})})},[ft]),Gi(()=>{Ye.current={activatorEvent:re,active:K,activeNode:ee,collisionRect:bt,collisions:Yt,droppableRects:M,draggableNodes:z,draggingNode:Le,draggingNodeRect:Ue,droppableContainers:I,over:Ot,scrollableAncestors:yt,scrollAdjustedTranslate:rt},q.current={initial:Ue,translated:bt}},[K,ee,Yt,bt,z,Le,Ue,M,I,Ot,yt,rt]),$q({...ve,delta:R,draggingRect:bt,pointerCoordinates:$t,scrollableAncestors:yt,scrollableAncestorRects:It});const Qi=Q.useMemo(()=>({active:K,activeNode:ee,activeNodeRect:ye,activatorEvent:re,collisions:Yt,containerNodeRect:st,dragOverlay:We,draggableNodes:z,droppableContainers:I,droppableRects:M,over:Ot,measureDroppableContainers:L,scrollableAncestors:yt,scrollableAncestorRects:It,measuringConfiguration:D,measuringScheduled:W,windowRect:ct}),[K,ee,ye,re,Yt,st,We,z,I,M,Ot,L,yt,It,D,W,ct]),Nr=Q.useMemo(()=>({activatorEvent:re,activators:$r,active:K,activeNodeRect:ye,ariaDescribedById:{draggable:Oe},dispatch:T,draggableNodes:z,over:Ot,measureDroppableContainers:L}),[re,$r,K,ye,T,Oe,z,Ot,L]);return gn.createElement(X6.Provider,{value:C},gn.createElement(xf.Provider,{value:Nr},gn.createElement(f_.Provider,{value:Qi},gn.createElement(_p.Provider,{value:bn},h)),gn.createElement(mW,{disabled:c?.restoreFocus===!1})),gn.createElement(yq,{...c,hiddenTextDescribedById:Oe}));function hi(){const Kt=ce?.autoScrollEnabled===!1,Ht=typeof f=="object"?f.enabled===!1:f===!1,dn=N&&!Kt&&!Ht;return typeof f=="object"?{...f,enabled:dn}:{enabled:dn}}}),yW=Q.createContext(null),XC="button",bW="Draggable";function SW(n){let{id:e,data:t,disabled:r=!1,attributes:i}=n;const s=gf(bW),{activators:l,activatorEvent:c,active:f,activeNodeRect:h,ariaDescribedById:d,draggableNodes:m,over:g}=Q.useContext(xf),{role:x=XC,roleDescription:S="draggable",tabIndex:b=0}=i??{},w=f?.id===e,T=Q.useContext(w?_p:yW),[A,C]=$d(),[_,B]=$d(),N=lW(l,e),O=Y0(t);Gi(()=>(m.set(e,{id:e,key:s,node:A,activatorNode:_,data:O}),()=>{const R=m.get(e);R&&R.key===s&&m.delete(e)}),[m,e]);const z=Q.useMemo(()=>({role:x,tabIndex:b,"aria-disabled":r,"aria-pressed":w&&x===XC?!0:void 0,"aria-roledescription":S,"aria-describedby":d.draggable}),[r,x,b,w,S,d.draggable]);return{active:f,activatorEvent:c,activeNodeRect:h,attributes:z,isDragging:w,listeners:r?void 0:N,node:A,over:g,setNodeRef:C,setActivatorNodeRef:B,transform:T}}function h_(){return Q.useContext(f_)}const wW="Droppable",EW={timeout:25};function d_(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:i}=n;const s=gf(wW),{active:l,dispatch:c,over:f,measureDroppableContainers:h}=Q.useContext(xf),d=Q.useRef({disabled:t}),m=Q.useRef(!1),g=Q.useRef(null),x=Q.useRef(null),{disabled:S,updateMeasurementsFor:b,timeout:w}={...EW,...i},T=Y0(b??r),A=Q.useCallback(()=>{if(!m.current){m.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{h(Array.isArray(T.current)?T.current:[T.current]),x.current=null},w)},[w]),C=Tp({callback:A,disabled:S||!l}),_=Q.useCallback((z,R)=>{C&&(R&&(C.unobserve(R),m.current=!1),z&&C.observe(z))},[C]),[B,N]=$d(_),O=Y0(e);return Q.useEffect(()=>{!C||!B.current||(C.disconnect(),m.current=!1,C.observe(B.current))},[B,C]),Q.useEffect(()=>(c({type:qn.RegisterDroppable,element:{id:r,key:s,disabled:t,node:B,rect:g,data:O}}),()=>c({type:qn.UnregisterDroppable,key:s,id:r})),[r]),Q.useEffect(()=>{t!==d.current.disabled&&(c({type:qn.SetDroppableDisabled,id:r,key:s,disabled:t}),d.current.disabled=t)},[r,s,t,c]),{active:l,rect:g,isOver:f?.id===r,node:B,over:f,setNodeRef:N}}function CW(n){let{animation:e,children:t}=n;const[r,i]=Q.useState(null),[s,l]=Q.useState(null),c=Yd(t);return!t&&!r&&c&&i(c),Gi(()=>{if(!s)return;const f=r?.key,h=r?.props.id;if(f==null||h==null){i(null);return}Promise.resolve(e(h,s)).then(()=>{i(null)})},[e,r,s]),gn.createElement(gn.Fragment,null,t,r?Q.cloneElement(r,{ref:l}):null)}const AW={x:0,y:0,scaleX:1,scaleY:1};function TW(n){let{children:e}=n;return gn.createElement(xf.Provider,{value:c_},gn.createElement(_p.Provider,{value:AW},e))}const _W={position:"fixed",touchAction:"none"},DW=n=>Cp(n)?"transform 250ms ease":void 0,kW=Q.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:i,children:s,className:l,rect:c,style:f,transform:h,transition:d=DW}=n;if(!c)return null;const m=i?h:{...h,scaleX:1,scaleY:1},g={..._W,width:c.width,height:c.height,top:c.top,left:c.left,transform:za.Transform.toString(m),transformOrigin:i&&r?Sq(r,c):void 0,transition:typeof d=="function"?d(r):d,...f};return gn.createElement(t,{className:l,style:g,ref:e},s)}),OW=n=>e=>{let{active:t,dragOverlay:r}=e;const i={},{styles:s,className:l}=n;if(s!=null&&s.active)for(const[c,f]of Object.entries(s.active))f!==void 0&&(i[c]=t.node.style.getPropertyValue(c),t.node.style.setProperty(c,f));if(s!=null&&s.dragOverlay)for(const[c,f]of Object.entries(s.dragOverlay))f!==void 0&&r.node.style.setProperty(c,f);return l!=null&&l.active&&t.node.classList.add(l.active),l!=null&&l.dragOverlay&&r.node.classList.add(l.dragOverlay),function(){for(const[f,h]of Object.entries(i))t.node.style.setProperty(f,h);l!=null&&l.active&&t.node.classList.remove(l.active)}},BW=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:za.Transform.toString(e)},{transform:za.Transform.toString(t)}]},NW={duration:250,easing:"ease",keyframes:BW,sideEffects:OW({styles:{active:{opacity:"0"}}})};function RW(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:i}=n;return Ep((s,l)=>{if(e===null)return;const c=t.get(s);if(!c)return;const f=c.node.current;if(!f)return;const h=o_(l);if(!h)return;const{transform:d}=Or(l).getComputedStyle(l),m=Z6(d);if(!m)return;const g=typeof e=="function"?e:FW(e);return s_(f,i.draggable.measure),g({active:{id:s,data:c.data,node:f,rect:i.draggable.measure(f)},draggableNodes:t,dragOverlay:{node:l,rect:i.dragOverlay.measure(h)},droppableContainers:r,measuringConfiguration:i,transform:m})})}function FW(n){const{duration:e,easing:t,sideEffects:r,keyframes:i}={...NW,...n};return s=>{let{active:l,dragOverlay:c,transform:f,...h}=s;if(!e)return;const d={x:c.rect.left-l.rect.left,y:c.rect.top-l.rect.top},m={scaleX:f.scaleX!==1?l.rect.width*f.scaleX/c.rect.width:1,scaleY:f.scaleY!==1?l.rect.height*f.scaleY/c.rect.height:1},g={x:f.x-d.x,y:f.y-d.y,...m},x=i({...h,active:l,dragOverlay:c,transform:{initial:f,final:g}}),[S]=x,b=x[x.length-1];if(JSON.stringify(S)===JSON.stringify(b))return;const w=r?.({active:l,dragOverlay:c,...h}),T=c.node.animate(x,{duration:e,easing:t,fill:"forwards"});return new Promise(A=>{T.onfinish=()=>{w?.(),A()}})}}let $C=0;function MW(n){return Q.useMemo(()=>{if(n!=null)return $C++,$C},[n])}const LW=gn.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:i,transition:s,modifiers:l,wrapperElement:c="div",className:f,zIndex:h=999}=n;const{activatorEvent:d,active:m,activeNodeRect:g,containerNodeRect:x,draggableNodes:S,droppableContainers:b,dragOverlay:w,over:T,measuringConfiguration:A,scrollableAncestors:C,scrollableAncestorRects:_,windowRect:B}=h_(),N=Q.useContext(_p),O=MW(m?.id),z=u_(l,{activatorEvent:d,active:m,activeNodeRect:g,containerNodeRect:x,draggingNodeRect:w.rect,over:T,overlayNodeRect:w.rect,scrollableAncestors:C,scrollableAncestorRects:_,transform:N,windowRect:B}),R=e2(g),I=RW({config:r,draggableNodes:S,droppableContainers:b,measuringConfiguration:A}),P=R?w.setRef:void 0;return gn.createElement(TW,null,gn.createElement(CW,{animation:I},m&&O?gn.createElement(kW,{key:O,id:m.id,ref:P,as:c,activatorEvent:d,adjustScale:e,className:f,transition:s,rect:R,style:{zIndex:h,...i},transform:z},t):null))});function t2(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function IW(n,e){return n.reduce((t,r,i)=>{const s=e.get(r);return s&&(t[i]=s),t},Array(n.length))}function oh(n){return n!==null&&n>=0}function PW(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function jW(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const p_=n=>{let{rects:e,activeIndex:t,overIndex:r,index:i}=n;const s=t2(e,r,t),l=e[i],c=s[i];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},ch={scaleX:1,scaleY:1},zW=n=>{var e;let{activeIndex:t,activeNodeRect:r,index:i,rects:s,overIndex:l}=n;const c=(e=s[t])!=null?e:r;if(!c)return null;if(i===t){const h=s[l];return h?{x:0,y:t<l?h.top+h.height-(c.top+c.height):h.top-c.top,...ch}:null}const f=HW(s,i,t);return i>t&&i<=l?{x:0,y:-c.height-f,...ch}:i<t&&i>=l?{x:0,y:c.height+f,...ch}:{x:0,y:0,...ch}};function HW(n,e,t){const r=n[e],i=n[e-1],s=n[e+1];return r?t<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const m_="Sortable",g_=gn.createContext({activeIndex:-1,containerId:m_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:p_,disabled:{draggable:!1,droppable:!1}});function UW(n){let{children:e,id:t,items:r,strategy:i=p_,disabled:s=!1}=n;const{active:l,dragOverlay:c,droppableRects:f,over:h,measureDroppableContainers:d}=h_(),m=gf(m_,t),g=c.rect!==null,x=Q.useMemo(()=>r.map(N=>typeof N=="object"&&"id"in N?N.id:N),[r]),S=l!=null,b=l?x.indexOf(l.id):-1,w=h?x.indexOf(h.id):-1,T=Q.useRef(x),A=!PW(x,T.current),C=w!==-1&&b===-1||A,_=jW(s);Gi(()=>{A&&S&&d(x)},[A,x,S,d]),Q.useEffect(()=>{T.current=x},[x]);const B=Q.useMemo(()=>({activeIndex:b,containerId:m,disabled:_,disableTransforms:C,items:x,overIndex:w,useDragOverlay:g,sortedRects:IW(x,f),strategy:i}),[b,m,_.draggable,_.droppable,C,x,w,f,g,i]);return gn.createElement(g_.Provider,{value:B},e)}const VW=n=>{let{id:e,items:t,activeIndex:r,overIndex:i}=n;return t2(t,r,i).indexOf(e)},qW=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:i,items:s,newIndex:l,previousItems:c,previousContainerId:f,transition:h}=n;return!h||!r||c!==s&&i===l?!1:t?!0:l!==i&&e===f},WW={duration:200,easing:"ease"},x_="transform",GW=za.Transition.toString({property:x_,duration:0,easing:"linear"}),XW={roleDescription:"sortable"};function $W(n){let{disabled:e,index:t,node:r,rect:i}=n;const[s,l]=Q.useState(null),c=Q.useRef(t);return Gi(()=>{if(!e&&t!==c.current&&r.current){const f=i.current;if(f){const h=sc(r.current,{ignoreTransform:!0}),d={x:f.left-h.left,y:f.top-h.top,scaleX:f.width/h.width,scaleY:f.height/h.height};(d.x||d.y)&&l(d)}}t!==c.current&&(c.current=t)},[e,t,r,i]),Q.useEffect(()=>{s&&l(null)},[s]),s}function YW(n){let{animateLayoutChanges:e=qW,attributes:t,disabled:r,data:i,getNewIndex:s=VW,id:l,strategy:c,resizeObserverConfig:f,transition:h=WW}=n;const{items:d,containerId:m,activeIndex:g,disabled:x,disableTransforms:S,sortedRects:b,overIndex:w,useDragOverlay:T,strategy:A}=Q.useContext(g_),C=KW(r,x),_=d.indexOf(l),B=Q.useMemo(()=>({sortable:{containerId:m,index:_,items:d},...i}),[m,i,_,d]),N=Q.useMemo(()=>d.slice(d.indexOf(l)),[d,l]),{rect:O,node:z,isOver:R,setNodeRef:I}=d_({id:l,data:B,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...f}}),{active:P,activatorEvent:q,activeNodeRect:K,attributes:ie,setNodeRef:ce,listeners:Z,isDragging:re,over:xe,setActivatorNodeRef:Ee,transform:Oe}=SW({id:l,data:B,attributes:{...XW,...t},disabled:C.draggable}),j=aq(I,ce),D=!!P,M=D&&!S&&oh(g)&&oh(w),L=!T&&re,W=L&&M?Oe:null,be=M?W??(c??A)({rects:b,activeNodeRect:K,activeIndex:g,overIndex:w,index:_}):null,ve=oh(g)&&oh(w)?s({id:l,items:d,activeIndex:g,overIndex:w}):_,Te=P?.id,ye=Q.useRef({activeId:Te,items:d,newIndex:ve,containerId:m}),st=d!==ye.current.items,Ye=e({active:P,containerId:m,isDragging:re,isSorting:D,id:l,index:_,items:d,newIndex:ye.current.newIndex,previousItems:ye.current.items,previousContainerId:ye.current.containerId,transition:h,wasDragging:ye.current.activeId!=null}),dt=$W({disabled:!Ye,index:_,node:z,rect:O});return Q.useEffect(()=>{D&&ye.current.newIndex!==ve&&(ye.current.newIndex=ve),m!==ye.current.containerId&&(ye.current.containerId=m),d!==ye.current.items&&(ye.current.items=d)},[D,ve,m,d]),Q.useEffect(()=>{if(Te===ye.current.activeId)return;if(Te!=null&&ye.current.activeId==null){ye.current.activeId=Te;return}const Le=setTimeout(()=>{ye.current.activeId=Te},50);return()=>clearTimeout(Le)},[Te]),{active:P,activeIndex:g,attributes:ie,data:B,rect:O,index:_,newIndex:ve,items:d,isOver:R,isSorting:D,isDragging:re,listeners:Z,node:z,overIndex:w,over:xe,setNodeRef:j,setActivatorNodeRef:Ee,setDroppableNodeRef:I,setDraggableNodeRef:ce,transform:dt??be,transition:We()};function We(){if(dt||st&&ye.current.newIndex===_)return GW;if(!(L&&!Cp(q)||!h)&&(D||Ye))return za.Transition.toString({...h,property:x_})}}function KW(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n?.draggable)!=null?t:e.draggable,droppable:(r=n?.droppable)!=null?r:e.droppable}}function Jd(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const QW=[_t.Down,_t.Right,_t.Up,_t.Left],ZW=(n,e)=>{let{context:{active:t,collisionRect:r,droppableRects:i,droppableContainers:s,over:l,scrollableAncestors:c}}=e;if(QW.includes(n.code)){if(n.preventDefault(),!t||!r)return;const f=[];s.getEnabled().forEach(m=>{if(!m||m!=null&&m.disabled)return;const g=i.get(m.id);if(g)switch(n.code){case _t.Down:r.top<g.top&&f.push(m);break;case _t.Up:r.top>g.top&&f.push(m);break;case _t.Left:r.left>g.left&&f.push(m);break;case _t.Right:r.left<g.left&&f.push(m);break}});const h=Cq({collisionRect:r,droppableRects:i,droppableContainers:f});let d=K6(h,"id");if(d===l?.id&&h.length>1&&(d=h[1].id),d!=null){const m=s.get(t.id),g=s.get(d),x=g?i.get(g.id):null,S=g?.node.current;if(S&&x&&m&&g){const w=Ap(S).some((N,O)=>c[O]!==N),T=v_(m,g),A=JW(m,g),C=w||!T?{x:0,y:0}:{x:A?r.width-x.width:0,y:A?r.height-x.height:0},_={x:x.left,y:x.top};return C.x&&C.y?_:K0(_,C)}}}};function v_(n,e){return!Jd(n)||!Jd(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function JW(n,e){return!Jd(n)||!Jd(e)||!v_(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}const pl={PENDING:{id:"PENDING",title:"Pendente",color:"bg-gray-50",headerColor:"bg-gray-100",borderColor:"border-gray-200",textColor:"text-gray-800"},IN_PROGRESS:{id:"IN_PROGRESS",title:"Em Andamento",color:"bg-blue-50",headerColor:"bg-blue-100",borderColor:"border-blue-200",textColor:"text-blue-800"},OVERDUE:{id:"OVERDUE",title:"Em Atraso",color:"bg-red-50",headerColor:"bg-red-100",borderColor:"border-red-200",textColor:"text-red-800"},COMPLETED:{id:"COMPLETED",title:"Concludo",color:"bg-green-50",headerColor:"bg-green-100",borderColor:"border-green-200",textColor:"text-green-800"}};function eG({reminder:n,onClick:e,onDelete:t,onEdit:r,onMove:i}){const{attributes:s,listeners:l,setNodeRef:c,transform:f,transition:h,isDragging:d}=YW({id:n.id,data:{...n}}),m={transform:za.Transform.toString(f),transition:h,opacity:d?.5:1},g=x=>{const S=pl[x]||pl.PENDING;return E.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${S.headerColor} ${S.textColor}`,children:S.title})};return E.jsxs("div",{ref:c,style:m,...s,...l,className:"bg-white p-3 rounded-lg shadow-sm border border-gray-200 mb-3 cursor-grab hover:shadow-md transition-all group relative",onClick:x=>{x.target.closest("button")||e(n)},children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsx("h4",{className:"font-bold text-gray-800 text-sm line-clamp-2",children:n.title}),g(n.status)]}),n.startDate&&E.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[" ",new Date(n.startDate).toLocaleDateString()]}),n.endDate&&E.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[" ",new Date(n.endDate).toLocaleDateString()]}),n.attachments&&n.attachments.length>0&&E.jsx("div",{className:"flex items-center space-x-1 mb-2",children:E.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded flex items-center",children:[" ",n.attachments.length," anexo(s)"]})}),n.image&&(!n.attachments||n.attachments.length===0)&&E.jsx("div",{className:"h-24 w-full rounded bg-gray-100 mb-2 overflow-hidden",children:E.jsx("img",{src:n.image,alt:"Cover",className:"w-full h-full object-cover"})}),E.jsx("p",{className:"text-xs text-gray-600 line-clamp-3 mb-3",children:n.description}),E.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsxs("div",{className:"flex space-x-1",children:[n.status==="PENDING"&&E.jsx("button",{onClick:()=>i(n.id,"IN_PROGRESS"),title:"Iniciar",className:"p-1 hover:bg-orange-100 rounded text-orange-600",children:""}),n.status!=="COMPLETED"&&E.jsx("button",{onClick:()=>i(n.id,"COMPLETED"),title:"Concluir",className:"p-1 hover:bg-green-100 rounded text-green-600",children:""})]}),E.jsxs("div",{className:"flex space-x-1",children:[E.jsx("button",{onClick:()=>r(n),title:"Editar",className:"p-1 hover:bg-blue-100 rounded text-blue-600",children:""}),E.jsx("button",{onClick:()=>t(n.id),title:"Excluir",className:"p-1 hover:bg-red-100 rounded text-red-600",children:""})]})]})]})}function tG({id:n,title:e,reminders:t,color:r,headerColor:i,borderColor:s,textColor:l,onClickCard:c,onDelete:f,onEdit:h,onMove:d}){const{setNodeRef:m}=d_({id:n});return E.jsxs("div",{className:`flex flex-col h-full rounded-xl ${r} border ${s} min-w-[280px] w-full md:w-1/4`,children:[E.jsxs("div",{className:`p-3 rounded-t-xl ${i} border-b ${s} flex justify-between items-center sticky top-0 z-10`,children:[E.jsx("h3",{className:`font-bold ${l}`,children:e}),E.jsx("span",{className:`bg-white/50 px-2 py-0.5 rounded-full text-xs font-bold ${l}`,children:t.length})]}),E.jsxs("div",{ref:m,className:"p-2 flex-1 overflow-y-auto",children:[E.jsx(UW,{items:t.map(g=>g.id),strategy:zW,children:t.map(g=>E.jsx(eG,{reminder:g,onClick:c,onDelete:f,onEdit:h,onMove:d},g.id))}),t.length===0&&E.jsx("div",{className:"h-20 flex items-center justify-center text-gray-400 text-sm border-2 border-dashed border-gray-200 rounded-lg",children:"Arraste aqui"})]})]})}function nG({isVisible:n}){if(!n)return null;const[e,t]=Q.useState([]),[r,i]=Q.useState(!1),[s,l]=Q.useState(null),[c,f]=Q.useState(null),[h,d]=Q.useState({title:"",startDate:"",endDate:"",description:"",image:null,attachments:[],status:"PENDING"}),[m,g]=Q.useState(null),[x,S]=Q.useState(0),[b,w]=Q.useState(!1),[T,A]=Q.useState("carousel"),C=bq(MC(Jv,{activationConstraint:{distance:5}}),MC(Qv,{coordinateGetter:ZW}));Q.useEffect(()=>{const D=localStorage.getItem("hap_reminders");if(D)try{let M=JSON.parse(D);M=M.map(L=>L.status?L:{...L,status:L.completed?"COMPLETED":"PENDING"}),t(M)}catch(M){console.error("Failed to parse reminders",M)}},[]);const _=D=>{t(D),localStorage.setItem("hap_reminders",JSON.stringify(D))},B=D=>{g(D.active.id)},N=D=>{const{active:M,over:L}=D;if(g(null),!L)return;const W=M.id,ee=L.id;let be=null;if(pl[ee])be=ee;else{const ve=e.find(Te=>Te.id===ee);ve&&(be=ve.status)}if(be){t(Te=>{const ye=Te.findIndex(Ye=>Ye.id===W),st=[...Te];return st[ye]={...st[ye],status:be},t2(st,ye,ye)});const ve=e.map(Te=>Te.id===W?{...Te,status:be}:Te);_(ve)}},O=(D,M)=>{const L=e.map(W=>W.id===D?{...W,status:M}:W);_(L)},z=D=>{if(window.confirm("Excluir este lembrete?")){const M=e.filter(L=>L.id!==D);_(M)}},R=()=>{window.confirm("ATENO: Isso apagar TODOS os lembretes. Deseja continuar?")&&_([])},I=D=>{if(D.preventDefault(),c){const M=e.map(L=>L.id===c?{...h,id:c,updatedAt:new Date().toISOString()}:L);_(M)}else{const M={...h,id:Date.now(),createdAt:new Date().toISOString()};_([...e,M])}P()},P=()=>{i(!1),f(null),d({title:"",startDate:"",endDate:"",description:"",image:null,attachments:[],status:"PENDING"})},q=D=>{f(D.id),d(D),i(!0)},K=()=>{f(null),d({title:"",startDate:"",endDate:"",description:"",image:null,attachments:[],status:"PENDING"}),i(!0)},ie=async D=>{const M=Array.from(D.target.files);if(M.length===0)return;const L=[...h.attachments||[]];for(const W of M){if(W.size>5*1024*1024){alert(`O arquivo ${W.name} excede o limite de 5MB.`);continue}const ee=new FormData;ee.append("file",W);try{const ve=await(await fetch("http://localhost:3001/api/upload/attachment",{method:"POST",body:ee})).json();if(ve.error)throw new Error(ve.error);L.push({name:ve.filename,url:`http://localhost:3001${ve.url}`,type:W.type})}catch(be){console.error("Upload failed",be),alert(`Falha ao enviar ${W.name}: ${be.message}`)}}d(W=>({...W,attachments:L}))},ce=D=>{const M=[...h.attachments];M.splice(D,1),d({...h,attachments:M})},Z=D=>e.filter(M=>M.status===D),xe=s?(D=>{if(!D)return[];const M=(D.attachments||[]).filter(L=>L.type&&L.type.startsWith("image/"));return D.image&&(!M||M.length===0)?[{url:D.image,name:"Cover"}]:M})(s):[],Ee=xe.length>0,Oe=D=>{D.stopPropagation(),S(M=>(M+1)%xe.length)},j=D=>{D.stopPropagation(),S(M=>(M-1+xe.length)%xe.length)};return E.jsxs("div",{className:"h-full flex flex-col bg-gray-50/50",children:[E.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-4",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[" Kanban Board",E.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"v2.2"})]}),E.jsx("p",{className:"text-sm text-gray-500",children:"Arraste os cards para mover entre as fases"})]}),E.jsxs("div",{className:"flex space-x-3",children:[E.jsx("button",{onClick:R,className:"text-red-500 hover:text-red-700 font-medium text-sm px-3 py-2",children:"Limpar Tudo"}),E.jsxs("button",{onClick:K,className:"bg-[#f37021] text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors font-bold shadow-md flex items-center",children:[E.jsx("span",{className:"mr-2",children:""})," Novo Card"]})]})]}),E.jsxs(vW,{sensors:C,collisionDetection:Eq,onDragStart:B,onDragEnd:N,children:[E.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden pb-2",children:E.jsx("div",{className:"flex h-full space-x-4 min-w-max px-1",children:Object.values(pl).map(D=>E.jsx(tG,{...D,reminders:Z(D.id),onClickCard:M=>{l(M),S(0),A("carousel")},onDelete:z,onEdit:q,onMove:O},D.id))})}),E.jsx(LW,{children:m?E.jsx("div",{className:"bg-white p-3 rounded-lg shadow-xl border border-blue-300 opacity-90 w-[280px] rotate-2 cursor-grabbing",children:E.jsx("h4",{className:"font-bold text-gray-800",children:e.find(D=>D.id===m)?.title})}):null})]}),r&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg h-[90vh] flex flex-col overflow-hidden animate-fade-in",children:[E.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center flex-shrink-0",children:[E.jsx("h3",{className:"font-bold text-lg text-gray-800",children:c?"Editar Card":"Novo Card"}),E.jsx("button",{onClick:P,className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),E.jsx("input",{type:"text",required:!0,autoFocus:!0,value:h.title,onChange:D=>d({...h,title:D.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Ttulo da tarefa"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Incio/Prazo"}),E.jsx("input",{type:"date",value:h.startDate,onChange:D=>d({...h,startDate:D.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Trmino"}),E.jsx("input",{type:"date",value:h.endDate||"",onChange:D=>d({...h,endDate:D.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),E.jsx("div",{className:"grid grid-cols-2 gap-4",children:E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Inicial"}),E.jsx("select",{value:h.status,onChange:D=>d({...h,status:D.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:Object.values(pl).map(D=>E.jsx("option",{value:D.id,children:D.title},D.id))})]})}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),E.jsx("textarea",{rows:"4",value:h.description,onChange:D=>d({...h,description:D.target.value}),className:"w-full border rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 outline-none resize-none",placeholder:"Detalhes..."})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anexar Arquivos (Mx 5MB)"}),E.jsx("input",{type:"file",multiple:!0,onChange:ie,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),h.attachments&&h.attachments.length>0&&E.jsx("div",{className:"mt-2 space-y-2",children:h.attachments.map((D,M)=>E.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded border",children:[E.jsxs("div",{className:"flex items-center space-x-2 truncate",children:[E.jsx("span",{className:"text-lg",children:D.type&&D.type.startsWith("image/")?"":""}),E.jsx("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate max-w-[200px]",children:D.name})]}),E.jsx("button",{type:"button",onClick:()=>ce(M),className:"text-red-500 hover:text-red-700",children:""})]},M))})]})]}),E.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-end space-x-3 flex-shrink-0",children:[E.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg font-medium",children:"Cancelar"}),E.jsx("button",{onClick:I,className:"px-6 py-2 bg-[#f37021] text-white rounded-lg hover:bg-orange-600 font-bold shadow-md transition-colors",children:"Salvar"})]})]})}),s&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",onClick:()=>l(null),children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-scale-in",onClick:D=>D.stopPropagation(),children:[E.jsxs("div",{className:`px-6 py-4 border-b border-gray-200 flex justify-between items-center ${pl[s.status]?.headerColor} flex-shrink-0`,children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("h3",{className:"font-bold text-xl text-gray-800",children:s.title}),E.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-bold bg-white/50 border border-black/10",children:pl[s.status]?.title})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[Ee&&E.jsx("button",{onClick:()=>A(T==="carousel"?"grid":"carousel"),className:"text-xs bg-white/50 hover:bg-white/80 px-2 py-1 rounded border border-black/10 transition-colors",title:"Mudar Visualizao",children:T==="carousel"?" Grade":" Slide"}),E.jsx("button",{onClick:()=>l(null),className:"text-gray-500 hover:text-gray-800 text-2xl",children:""})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.startDate&&E.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[E.jsx("span",{className:"mr-2",children:""}),E.jsxs("span",{className:"font-medium",children:["Data: ",new Date(s.startDate).toLocaleDateString()]})]}),s.endDate&&E.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[E.jsx("span",{className:"mr-2",children:""}),E.jsxs("span",{className:"font-medium",children:["Trmino: ",new Date(s.endDate).toLocaleDateString()]})]}),Ee&&T==="carousel"&&E.jsxs("div",{className:"mb-6 relative group bg-black/5 rounded-lg overflow-hidden border border-gray-200",children:[E.jsx("div",{className:"h-[300px] flex items-center justify-center bg-gray-100 cursor-zoom-in",onClick:()=>w(!0),children:E.jsx("img",{src:xe[x].url,alt:"Slide",className:"max-h-full max-w-full object-contain"})}),xe.length>1&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:j,className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",children:""}),E.jsx("button",{onClick:Oe,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity",children:""}),E.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full",children:[x+1," / ",xe.length]})]})]}),Ee&&T==="grid"&&E.jsxs("div",{className:"mb-6 space-y-2",children:[E.jsx("h4",{className:"font-bold text-gray-700 text-sm",children:"Imagens:"}),E.jsx("div",{className:"grid grid-cols-2 gap-2",children:xe.map((D,M)=>E.jsxs("div",{className:"border rounded p-2 flex flex-col items-center bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>{S(M),w(!0)},children:[E.jsx("img",{src:D.url,alt:D.name,className:"h-32 object-contain mb-2"}),E.jsx("span",{className:"text-xs text-gray-500 truncate w-full text-center",children:D.name})]},M))})]}),s.attachments&&s.attachments.some(D=>!D.type?.startsWith("image/"))&&E.jsxs("div",{className:"mb-6 space-y-2",children:[E.jsx("h4",{className:"font-bold text-gray-700 text-sm",children:"Outros Anexos:"}),E.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.attachments.filter(D=>!D.type?.startsWith("image/")).map((D,M)=>E.jsxs("div",{className:"border rounded p-2 flex flex-col items-center bg-gray-50 hover:bg-gray-100 transition-colors",children:[E.jsx("div",{className:"h-12 flex items-center justify-center text-2xl",children:""}),E.jsx("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline text-center w-full truncate",title:D.name,children:D.name})]},M))})]}),E.jsx("div",{className:"prose max-w-none text-gray-700 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg border border-gray-100",children:s.description||E.jsx("span",{className:"italic text-gray-400",children:"Sem descrio."})})]}),E.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between items-center flex-shrink-0",children:[E.jsxs("div",{className:"text-xs text-gray-400",children:["Criado em: ",new Date(s.createdAt||Date.now()).toLocaleString()]}),E.jsxs("div",{className:"flex space-x-3",children:[E.jsx("button",{onClick:()=>{q(s),l(null)},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 font-medium",children:"Editar"}),E.jsx("button",{onClick:()=>{z(s.id),l(null)},className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 font-medium",children:"Excluir"})]})]})]})}),b&&s&&Ee&&E.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[60] flex items-center justify-center p-4 animate-fade-in",onClick:()=>w(!1),children:[E.jsx("button",{onClick:()=>w(!1),className:"absolute top-4 right-4 text-white text-4xl hover:text-gray-300",children:""}),E.jsx("img",{src:xe[x].url,alt:"Full Screen",className:"max-h-[90vh] max-w-[90vw] object-contain shadow-2xl",onClick:D=>D.stopPropagation()}),xe.length>1&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:j,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white text-6xl hover:text-gray-300",children:""}),E.jsx("button",{onClick:Oe,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white text-6xl hover:text-gray-300",children:""}),E.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white text-sm bg-black/50 px-3 py-1 rounded-full",children:[x+1," / ",xe.length]})]})]})]})}const n2=Q.createContext(),Fx={default:{name:"Padro (Azul)",bg:"bg-gray-100",navbar:"bg-white",navbarText:"text-gray-700",text:"text-gray-700",primaryBtn:"bg-blue-600 hover:bg-blue-700 text-white",secondaryBtn:"bg-gray-100 hover:bg-gray-200 text-gray-600",accent:"text-blue-600",border:"border-gray-200",input:"bg-white text-gray-900",panel:"bg-white",tabActive:"bg-blue-50 text-blue-600 border-blue-600",tabInactive:"text-gray-500 hover:bg-gray-50 hover:text-blue-500"},dark:{name:"Modo Escuro",bg:"bg-gray-900",navbar:"bg-gray-800",navbarText:"text-gray-200",text:"text-gray-200",primaryBtn:"bg-indigo-600 hover:bg-indigo-700 text-white",secondaryBtn:"bg-gray-700 hover:bg-gray-600 text-gray-200",accent:"text-indigo-400",border:"border-gray-700",input:"bg-gray-700 text-white border-gray-600",panel:"bg-gray-800",tabActive:"bg-gray-700 text-indigo-400 border-indigo-400",tabInactive:"text-gray-400 hover:bg-gray-700 hover:text-indigo-300"},ubuntu:{name:"Ubuntu",bg:"bg-[#fdf6e3]",navbar:"bg-[#300a24]",navbarText:"text-white",text:"text-[#300a24]",primaryBtn:"bg-[#e95420] hover:bg-[#c7461b] text-white",secondaryBtn:"bg-[#aea79f] hover:bg-[#9e968d] text-white",accent:"text-[#e95420]",border:"border-[#aea79f]",input:"bg-white text-[#300a24]",panel:"bg-white",tabActive:"bg-[#4e103b] text-[#e95420] border-[#e95420]",tabInactive:"text-gray-300 hover:bg-[#4e103b] hover:text-[#e95420]"},forest:{name:"Floresta",bg:"bg-stone-100",navbar:"bg-[#1c2e1f]",navbarText:"text-stone-200",text:"text-[#1c2e1f]",primaryBtn:"bg-[#2d4a33] hover:bg-[#3a5e42] text-white",secondaryBtn:"bg-stone-200 hover:bg-stone-300 text-stone-700",accent:"text-[#2d4a33]",border:"border-stone-200",input:"bg-white text-stone-800",panel:"bg-[#fdfbf7]",tabActive:"bg-[#2d4a33] text-white border-[#4caf50]",tabInactive:"text-stone-400 hover:bg-[#2d4a33] hover:text-white"},ocean:{name:"Oceano",bg:"bg-cyan-50",navbar:"bg-white",navbarText:"text-slate-700",text:"text-slate-700",primaryBtn:"bg-cyan-600 hover:bg-cyan-700 text-white",secondaryBtn:"bg-cyan-100 hover:bg-cyan-200 text-cyan-800",accent:"text-cyan-600",border:"border-cyan-200",input:"bg-white text-slate-700",panel:"bg-white",tabActive:"bg-cyan-50 text-cyan-700 border-cyan-600",tabInactive:"text-slate-500 hover:bg-cyan-50 hover:text-cyan-600"},dracula:{name:"Dracula",bg:"bg-[#282a36]",navbar:"bg-[#44475a]",navbarText:"text-[#f8f8f2]",text:"text-[#f8f8f2]",primaryBtn:"bg-[#bd93f9] hover:bg-[#ff79c6] text-[#282a36]",secondaryBtn:"bg-[#6272a4] hover:bg-[#50fa7b] text-white",accent:"text-[#ff79c6]",border:"border-[#6272a4]",input:"bg-[#282a36] text-[#f8f8f2] border-[#6272a4]",panel:"bg-[#282a36]",tabActive:"bg-[#282a36] text-[#ff79c6] border-[#ff79c6]",tabInactive:"text-[#6272a4] hover:bg-[#282a36] hover:text-[#bd93f9]"},military:{name:"Militar",bg:"bg-[#f5f5f5]",navbar:"bg-[#3e2723]",navbarText:"text-[#efebe9]",text:"text-[#3e2723]",primaryBtn:"bg-[#558b2f] hover:bg-[#33691e] text-white",secondaryBtn:"bg-[#795548] hover:bg-[#5d4037] text-white",accent:"text-[#33691e]",border:"border-[#8d6e63]",input:"bg-white text-gray-900 border-[#8d6e63]",panel:"bg-[#fafafa]",tabActive:"bg-[#5d4037] text-[#efebe9] border-[#fafafa]",tabInactive:"text-[#efebe9] opacity-70 hover:opacity-100"}};function rG(){const[n,e]=Q.useState(null),[t,r]=Q.useState("query-builder"),[i,s]=Q.useState(()=>localStorage.getItem("app_theme")||"default"),l=Fx[i]||Fx.default,c=N=>{s(N),localStorage.setItem("app_theme",N)},[f,h]=Q.useState(()=>{const N=localStorage.getItem("hap_sql_tabs");if(N)try{return JSON.parse(N)}catch(O){console.error("Failed to parse saved tabs",O)}return[{id:1,title:"Query 1",sqlContent:"",results:null,error:null,loading:!1}]}),[d,m]=Q.useState(()=>{const N=localStorage.getItem("hap_sql_active_tab");return N?Number(N):1}),[g,x]=Q.useState(()=>{const N=localStorage.getItem("hap_saved_queries");if(N)try{return JSON.parse(N)}catch(O){console.error("Failed to parse saved queries",O)}return[]}),[S,b]=Q.useState(!1),[w,T]=Q.useState(!1);Q.useEffect(()=>{document.title="Hap Query Report v1.2.0",window.electronAPI&&(window.electronAPI.onUpdateAvailable(()=>b(!0)),window.electronAPI.onUpdateDownloaded(()=>{T(!0),b(!1)}))},[]);const A=()=>{window.electronAPI&&window.electronAPI.restartApp()};Q.useEffect(()=>{const N=f.map(O=>({...O,results:null,error:null,loading:!1}));localStorage.setItem("hap_sql_tabs",JSON.stringify(N))},[f]),Q.useEffect(()=>{localStorage.setItem("hap_sql_active_tab",d)},[d]),Q.useEffect(()=>{localStorage.setItem("hap_saved_queries",JSON.stringify(g))},[g]);const C=N=>{e(N)},_=()=>{e(null),r("query-builder")},B=({id:N,icon:O,label:z})=>{const R=t===N;return E.jsxs("button",{onClick:()=>{window.electronAPI?.resetFocus(),window.focus(),document.activeElement&&document.activeElement.blur(),r(N)},className:`
                    relative group px-4 py-2 text-sm font-medium rounded-md transition-all duration-300 ease-out flex items-center space-x-2
                    ${R?l.tabActive:l.tabInactive}
                    hover:-translate-y-0.5
                `,children:[E.jsx("span",{className:"text-lg",children:O}),E.jsx("span",{children:z}),R&&E.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[2px] bg-current rounded-full opacity-60"})]})};return n?E.jsx(n2.Provider,{value:{theme:l,currentThemeName:i,changeTheme:c},children:E.jsxs("div",{className:`flex flex-col h-screen ${l.bg} font-sans overflow-hidden transition-colors duration-300`,children:[(S||w)&&E.jsxs("div",{className:"fixed top-20 right-4 z-50 bg-white border border-blue-200 shadow-lg rounded-lg p-4 flex items-center space-x-4 animate-fade-in-down",children:[E.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:E.jsx("span",{className:"text-xl",children:""})}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-gray-800",children:"Nova verso disponvel!"}),E.jsx("p",{className:"text-sm text-gray-600",children:w?"Pronto para instalar.":"Baixando atualizao..."})]}),w&&E.jsx("button",{onClick:A,className:"bg-green-600 text-white px-3 py-1 rounded-md text-sm font-bold hover:bg-green-700 transition-colors",children:"Reiniciar"})]}),E.jsxs("header",{className:`${l.navbar} ${l.navbarText} h-16 shadow-md flex items-center justify-between px-6 z-20 border-b ${l.border}`,children:[E.jsx("div",{className:"min-w-[200px] hidden md:block"}),E.jsxs("div",{className:"flex-1 flex justify-center space-x-2",children:[E.jsx(B,{id:"query-builder",icon:"",label:"Construtor"}),E.jsx(B,{id:"sql-runner",icon:"",label:"Editor SQL"}),E.jsx(B,{id:"csv-importer",icon:"",label:"Importar CSV"}),E.jsx(B,{id:"reminders",icon:"",label:"Lembretes"})]}),E.jsxs("div",{className:"flex items-center space-x-4 min-w-[200px] justify-end",children:[E.jsx("div",{className:"relative group",children:E.jsx("select",{value:i,onChange:N=>c(N.target.value),className:`textxs py-1 px-2 rounded border outline-none cursor-pointer opacity-70 hover:opacity-100 transition-opacity ${l.input} ${l.border}`,title:"Mudar Tema",children:Object.entries(Fx).map(([N,O])=>E.jsx("option",{value:N,children:O.name},N))})}),E.jsx("div",{className:"h-8 w-[1px] bg-current opacity-20 mx-2"}),E.jsxs("div",{className:"text-right hidden md:block",children:[E.jsx("p",{className:"text-sm font-bold leading-tight",children:n.user}),E.jsx("p",{className:"text-[10px] opacity-70 truncate max-w-[150px]",children:n.connectString})]}),E.jsx("button",{onClick:_,className:"p-2 rounded-full hover:bg-red-500 hover:text-white transition-all duration-300 group",title:"Desconectar",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})})})]})]}),E.jsx("main",{className:"flex-1 overflow-hidden relative",children:E.jsx("div",{className:"absolute inset-0 overflow-auto p-4 sm:p-6",children:E.jsxs("div",{className:"max-w-7xl mx-auto h-full flex flex-col relative",children:[E.jsx("div",{className:t==="query-builder"?"block h-full":"hidden",children:E.jsx(UM,{isVisible:t==="query-builder"})}),E.jsx("div",{className:t==="sql-runner"?"block h-full":"hidden",children:E.jsx(q6,{isVisible:t==="sql-runner",tabs:f,setTabs:h,activeTabId:d,setActiveTabId:m,savedQueries:g,setSavedQueries:x})}),E.jsx("div",{className:t==="csv-importer"?"block h-full":"hidden",children:E.jsx(sq,{isVisible:t==="csv-importer",connectionName:n?.connectionName||n?.user||"Desconhecido"})}),E.jsx("div",{className:t==="reminders"?"block h-full":"hidden",children:E.jsx(nG,{isVisible:t==="reminders"})})]})})})]})}):E.jsx(Qk,{onConnect:C})}MD.createRoot(document.getElementById("root")).render(E.jsx(Q.StrictMode,{children:E.jsx(rG,{})}));
